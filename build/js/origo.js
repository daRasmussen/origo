(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.origo = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
module.exports = {
  crossDomain: true,
  target: '#app-wrapper',
  svgSpritePath: 'css/svg/',
  svgSprites: ['fa-icons.svg', 'material-icons.svg', 'miscellaneous.svg', 'origo-icons.svg', 'custom.svg'],
  breakPoints: {
    xs: [240, 320],
    s: [320, 320],
    m: [500, 500],
    l: [768, 500]
  },
  breakPointsPrefix: 'o-media',
  defaultControls: [
    {
      "name": "scaleline"
    },
    {
      "name": "zoom"
    },
    {
      "name": "rotate"
    },
    {
      "name": "attribution"
    },
    {
       "name": "fullscreen"
    }
  ]
}

},{}],2:[function(require,module,exports){
var controls = {};
controls.geoposition = require('../src/geoposition');
controls.mapmenu = require('../src/mapmenu');
controls.print = require('../src/print');
controls.sharemap = require('../src/sharemap');
controls.legend = require('../src/legend');
controls.search = require('../src/search');
controls.editor = require('../src/editor');
controls.home = require('../src/home');
controls.measure = require('../src/measure');
controls.about = require('../src/about');
controls.scale = require('../src/scale');
controls.offline = require('../src/offline');
controls.link = require('../src/link');
controls.scaleline = require('../src/scaleline');
controls.zoom = require('../src/zoom');
controls.rotate = require('../src/rotate');
controls.attribution = require('../src/attribution');
controls.position = require('../src/position');
controls.fullscreen = require('../src/fullscreen');
controls.splash = require('../src/splash');

module.exports = controls;

},{"../src/about":100,"../src/attribution":101,"../src/editor":105,"../src/fullscreen":122,"../src/geoposition":126,"../src/home":130,"../src/legend":148,"../src/link":149,"../src/mapmenu":151,"../src/measure":153,"../src/offline":155,"../src/position":171,"../src/print":172,"../src/rotate":174,"../src/scale":175,"../src/scaleline":176,"../src/search":177,"../src/sharemap":178,"../src/splash":180,"../src/zoom":210}],3:[function(require,module,exports){
"function"!==typeof Object.create&&(Object.create=function(f){function g(){}g.prototype=f;return new g});
(function(f,g,k){var l={init:function(a,b){this.$elem=f(b);this.options=f.extend({},f.fn.owlCarousel.options,this.$elem.data(),a);this.userOptions=a;this.loadContent()},loadContent:function(){function a(a){var d,e="";if("function"===typeof b.options.jsonSuccess)b.options.jsonSuccess.apply(this,[a]);else{for(d in a.owl)a.owl.hasOwnProperty(d)&&(e+=a.owl[d].item);b.$elem.html(e)}b.logIn()}var b=this,e;"function"===typeof b.options.beforeInit&&b.options.beforeInit.apply(this,[b.$elem]);"string"===typeof b.options.jsonPath?
(e=b.options.jsonPath,f.getJSON(e,a)):b.logIn()},logIn:function(){this.$elem.data("owl-originalStyles",this.$elem.attr("style"));this.$elem.data("owl-originalClasses",this.$elem.attr("class"));this.$elem.css({opacity:0});this.orignalItems=this.options.items;this.checkBrowser();this.wrapperWidth=0;this.checkVisible=null;this.setVars()},setVars:function(){if(0===this.$elem.children().length)return!1;this.baseClass();this.eventTypes();this.$userItems=this.$elem.children();this.itemsAmount=this.$userItems.length;
this.wrapItems();this.$owlItems=this.$elem.find(".owl-item");this.$owlWrapper=this.$elem.find(".owl-wrapper");this.playDirection="next";this.prevItem=0;this.prevArr=[0];this.currentItem=0;this.customEvents();this.onStartup()},onStartup:function(){this.updateItems();this.calculateAll();this.buildControls();this.updateControls();this.response();this.moveEvents();this.stopOnHover();this.owlStatus();!1!==this.options.transitionStyle&&this.transitionTypes(this.options.transitionStyle);!0===this.options.autoPlay&&
(this.options.autoPlay=5E3);this.play();this.$elem.find(".owl-wrapper").css("display","block");this.$elem.is(":visible")?this.$elem.css("opacity",1):this.watchVisibility();this.onstartup=!1;this.eachMoveUpdate();"function"===typeof this.options.afterInit&&this.options.afterInit.apply(this,[this.$elem])},eachMoveUpdate:function(){!0===this.options.lazyLoad&&this.lazyLoad();!0===this.options.autoHeight&&this.autoHeight();this.onVisibleItems();"function"===typeof this.options.afterAction&&this.options.afterAction.apply(this,
[this.$elem])},updateVars:function(){"function"===typeof this.options.beforeUpdate&&this.options.beforeUpdate.apply(this,[this.$elem]);this.watchVisibility();this.updateItems();this.calculateAll();this.updatePosition();this.updateControls();this.eachMoveUpdate();"function"===typeof this.options.afterUpdate&&this.options.afterUpdate.apply(this,[this.$elem])},reload:function(){var a=this;g.setTimeout(function(){a.updateVars()},0)},watchVisibility:function(){var a=this;if(!1===a.$elem.is(":visible"))a.$elem.css({opacity:0}),
g.clearInterval(a.autoPlayInterval),g.clearInterval(a.checkVisible);else return!1;a.checkVisible=g.setInterval(function(){a.$elem.is(":visible")&&(a.reload(),a.$elem.animate({opacity:1},200),g.clearInterval(a.checkVisible))},500)},wrapItems:function(){this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>');this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">');this.wrapperOuter=this.$elem.find(".owl-wrapper-outer");this.$elem.css("display","block")},
baseClass:function(){var a=this.$elem.hasClass(this.options.baseClass),b=this.$elem.hasClass(this.options.theme);a||this.$elem.addClass(this.options.baseClass);b||this.$elem.addClass(this.options.theme)},updateItems:function(){var a,b;if(!1===this.options.responsive)return!1;if(!0===this.options.singleItem)return this.options.items=this.orignalItems=1,this.options.itemsCustom=!1,this.options.itemsDesktop=!1,this.options.itemsDesktopSmall=!1,this.options.itemsTablet=!1,this.options.itemsTabletSmall=
!1,this.options.itemsMobile=!1;a=f(this.options.responsiveBaseWidth).width();a>(this.options.itemsDesktop[0]||this.orignalItems)&&(this.options.items=this.orignalItems);if(!1!==this.options.itemsCustom)for(this.options.itemsCustom.sort(function(a,b){return a[0]-b[0]}),b=0;b<this.options.itemsCustom.length;b+=1)this.options.itemsCustom[b][0]<=a&&(this.options.items=this.options.itemsCustom[b][1]);else a<=this.options.itemsDesktop[0]&&!1!==this.options.itemsDesktop&&(this.options.items=this.options.itemsDesktop[1]),
a<=this.options.itemsDesktopSmall[0]&&!1!==this.options.itemsDesktopSmall&&(this.options.items=this.options.itemsDesktopSmall[1]),a<=this.options.itemsTablet[0]&&!1!==this.options.itemsTablet&&(this.options.items=this.options.itemsTablet[1]),a<=this.options.itemsTabletSmall[0]&&!1!==this.options.itemsTabletSmall&&(this.options.items=this.options.itemsTabletSmall[1]),a<=this.options.itemsMobile[0]&&!1!==this.options.itemsMobile&&(this.options.items=this.options.itemsMobile[1]);this.options.items>this.itemsAmount&&
!0===this.options.itemsScaleUp&&(this.options.items=this.itemsAmount)},response:function(){var a=this,b,e;if(!0!==a.options.responsive)return!1;e=f(g).width();a.resizer=function(){f(g).width()!==e&&(!1!==a.options.autoPlay&&g.clearInterval(a.autoPlayInterval),g.clearTimeout(b),b=g.setTimeout(function(){e=f(g).width();a.updateVars()},a.options.responsiveRefreshRate))};f(g).resize(a.resizer)},updatePosition:function(){this.jumpTo(this.currentItem);!1!==this.options.autoPlay&&this.checkAp()},appendItemsSizes:function(){var a=
this,b=0,e=a.itemsAmount-a.options.items;a.$owlItems.each(function(c){var d=f(this);d.css({width:a.itemWidth}).data("owl-item",Number(c));if(0===c%a.options.items||c===e)c>e||(b+=1);d.data("owl-roundPages",b)})},appendWrapperSizes:function(){this.$owlWrapper.css({width:this.$owlItems.length*this.itemWidth*2,left:0});this.appendItemsSizes()},calculateAll:function(){this.calculateWidth();this.appendWrapperSizes();this.loops();this.max()},calculateWidth:function(){this.itemWidth=Math.round(this.$elem.width()/
this.options.items)},max:function(){var a=-1*(this.itemsAmount*this.itemWidth-this.options.items*this.itemWidth);this.options.items>this.itemsAmount?this.maximumPixels=a=this.maximumItem=0:(this.maximumItem=this.itemsAmount-this.options.items,this.maximumPixels=a);return a},min:function(){return 0},loops:function(){var a=0,b=0,e,c;this.positionsInArray=[0];this.pagesInArray=[];for(e=0;e<this.itemsAmount;e+=1)b+=this.itemWidth,this.positionsInArray.push(-b),!0===this.options.scrollPerPage&&(c=f(this.$owlItems[e]),
c=c.data("owl-roundPages"),c!==a&&(this.pagesInArray[a]=this.positionsInArray[e],a=c))},buildControls:function(){if(!0===this.options.navigation||!0===this.options.pagination)this.owlControls=f('<div class="owl-controls"/>').toggleClass("clickable",!this.browser.isTouch).appendTo(this.$elem);!0===this.options.pagination&&this.buildPagination();!0===this.options.navigation&&this.buildButtons()},buildButtons:function(){var a=this,b=f('<div class="owl-buttons"/>');a.owlControls.append(b);a.buttonPrev=
f("<div/>",{"class":"owl-prev",html:a.options.navigationText[0]||""});a.buttonNext=f("<div/>",{"class":"owl-next",html:a.options.navigationText[1]||""});b.append(a.buttonPrev).append(a.buttonNext);b.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(a){a.preventDefault()});b.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(b){b.preventDefault();f(this).hasClass("owl-next")?a.next():a.prev()})},buildPagination:function(){var a=this;a.paginationWrapper=
f('<div class="owl-pagination"/>');a.owlControls.append(a.paginationWrapper);a.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(b){b.preventDefault();Number(f(this).data("owl-page"))!==a.currentItem&&a.goTo(Number(f(this).data("owl-page")),!0)})},updatePagination:function(){var a,b,e,c,d,g;if(!1===this.options.pagination)return!1;this.paginationWrapper.html("");a=0;b=this.itemsAmount-this.itemsAmount%this.options.items;for(c=0;c<this.itemsAmount;c+=1)0===c%this.options.items&&
(a+=1,b===c&&(e=this.itemsAmount-this.options.items),d=f("<div/>",{"class":"owl-page"}),g=f("<span></span>",{text:!0===this.options.paginationNumbers?a:"","class":!0===this.options.paginationNumbers?"owl-numbers":""}),d.append(g),d.data("owl-page",b===c?e:c),d.data("owl-roundPages",a),this.paginationWrapper.append(d));this.checkPagination()},checkPagination:function(){var a=this;if(!1===a.options.pagination)return!1;a.paginationWrapper.find(".owl-page").each(function(){f(this).data("owl-roundPages")===
f(a.$owlItems[a.currentItem]).data("owl-roundPages")&&(a.paginationWrapper.find(".owl-page").removeClass("active"),f(this).addClass("active"))})},checkNavigation:function(){if(!1===this.options.navigation)return!1;!1===this.options.rewindNav&&(0===this.currentItem&&0===this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.addClass("disabled")):0===this.currentItem&&0!==this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.removeClass("disabled")):this.currentItem===
this.maximumItem?(this.buttonPrev.removeClass("disabled"),this.buttonNext.addClass("disabled")):0!==this.currentItem&&this.currentItem!==this.maximumItem&&(this.buttonPrev.removeClass("disabled"),this.buttonNext.removeClass("disabled")))},updateControls:function(){this.updatePagination();this.checkNavigation();this.owlControls&&(this.options.items>=this.itemsAmount?this.owlControls.hide():this.owlControls.show())},destroyControls:function(){this.owlControls&&this.owlControls.remove()},next:function(a){if(this.isTransition)return!1;
this.currentItem+=!0===this.options.scrollPerPage?this.options.items:1;if(this.currentItem>this.maximumItem+(!0===this.options.scrollPerPage?this.options.items-1:0))if(!0===this.options.rewindNav)this.currentItem=0,a="rewind";else return this.currentItem=this.maximumItem,!1;this.goTo(this.currentItem,a)},prev:function(a){if(this.isTransition)return!1;this.currentItem=!0===this.options.scrollPerPage&&0<this.currentItem&&this.currentItem<this.options.items?0:this.currentItem-(!0===this.options.scrollPerPage?
this.options.items:1);if(0>this.currentItem)if(!0===this.options.rewindNav)this.currentItem=this.maximumItem,a="rewind";else return this.currentItem=0,!1;this.goTo(this.currentItem,a)},goTo:function(a,b,e){var c=this;if(c.isTransition)return!1;"function"===typeof c.options.beforeMove&&c.options.beforeMove.apply(this,[c.$elem]);a>=c.maximumItem?a=c.maximumItem:0>=a&&(a=0);c.currentItem=c.owl.currentItem=a;if(!1!==c.options.transitionStyle&&"drag"!==e&&1===c.options.items&&!0===c.browser.support3d)return c.swapSpeed(0),
!0===c.browser.support3d?c.transition3d(c.positionsInArray[a]):c.css2slide(c.positionsInArray[a],1),c.afterGo(),c.singleItemTransition(),!1;a=c.positionsInArray[a];!0===c.browser.support3d?(c.isCss3Finish=!1,!0===b?(c.swapSpeed("paginationSpeed"),g.setTimeout(function(){c.isCss3Finish=!0},c.options.paginationSpeed)):"rewind"===b?(c.swapSpeed(c.options.rewindSpeed),g.setTimeout(function(){c.isCss3Finish=!0},c.options.rewindSpeed)):(c.swapSpeed("slideSpeed"),g.setTimeout(function(){c.isCss3Finish=!0},
c.options.slideSpeed)),c.transition3d(a)):!0===b?c.css2slide(a,c.options.paginationSpeed):"rewind"===b?c.css2slide(a,c.options.rewindSpeed):c.css2slide(a,c.options.slideSpeed);c.afterGo()},jumpTo:function(a){"function"===typeof this.options.beforeMove&&this.options.beforeMove.apply(this,[this.$elem]);a>=this.maximumItem||-1===a?a=this.maximumItem:0>=a&&(a=0);this.swapSpeed(0);!0===this.browser.support3d?this.transition3d(this.positionsInArray[a]):this.css2slide(this.positionsInArray[a],1);this.currentItem=
this.owl.currentItem=a;this.afterGo()},afterGo:function(){this.prevArr.push(this.currentItem);this.prevItem=this.owl.prevItem=this.prevArr[this.prevArr.length-2];this.prevArr.shift(0);this.prevItem!==this.currentItem&&(this.checkPagination(),this.checkNavigation(),this.eachMoveUpdate(),!1!==this.options.autoPlay&&this.checkAp());"function"===typeof this.options.afterMove&&this.prevItem!==this.currentItem&&this.options.afterMove.apply(this,[this.$elem])},stop:function(){this.apStatus="stop";g.clearInterval(this.autoPlayInterval)},
checkAp:function(){"stop"!==this.apStatus&&this.play()},play:function(){var a=this;a.apStatus="play";if(!1===a.options.autoPlay)return!1;g.clearInterval(a.autoPlayInterval);a.autoPlayInterval=g.setInterval(function(){a.next(!0)},a.options.autoPlay)},swapSpeed:function(a){"slideSpeed"===a?this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)):"paginationSpeed"===a?this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)):"string"!==typeof a&&this.$owlWrapper.css(this.addCssSpeed(a))},
addCssSpeed:function(a){return{"-webkit-transition":"all "+a+"ms ease","-moz-transition":"all "+a+"ms ease","-o-transition":"all "+a+"ms ease",transition:"all "+a+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(a){return{"-webkit-transform":"translate3d("+a+"px, 0px, 0px)","-moz-transform":"translate3d("+a+"px, 0px, 0px)","-o-transform":"translate3d("+a+"px, 0px, 0px)","-ms-transform":"translate3d("+
a+"px, 0px, 0px)",transform:"translate3d("+a+"px, 0px,0px)"}},transition3d:function(a){this.$owlWrapper.css(this.doTranslate(a))},css2move:function(a){this.$owlWrapper.css({left:a})},css2slide:function(a,b){var e=this;e.isCssFinish=!1;e.$owlWrapper.stop(!0,!0).animate({left:a},{duration:b||e.options.slideSpeed,complete:function(){e.isCssFinish=!0}})},checkBrowser:function(){var a=k.createElement("div");a.style.cssText="  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)";
a=a.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g);this.browser={support3d:null!==a&&1===a.length,isTouch:"ontouchstart"in g||g.navigator.msMaxTouchPoints}},moveEvents:function(){if(!1!==this.options.mouseDrag||!1!==this.options.touchDrag)this.gestures(),this.disabledEvents()},eventTypes:function(){var a=["s","e","x"];this.ev_types={};!0===this.options.mouseDrag&&!0===this.options.touchDrag?a=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:
!1===this.options.mouseDrag&&!0===this.options.touchDrag?a=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:!0===this.options.mouseDrag&&!1===this.options.touchDrag&&(a=["mousedown.owl","mousemove.owl","mouseup.owl"]);this.ev_types.start=a[0];this.ev_types.move=a[1];this.ev_types.end=a[2]},disabledEvents:function(){this.$elem.on("dragstart.owl",function(a){a.preventDefault()});this.$elem.on("mousedown.disableTextSelect",function(a){return f(a.target).is("input, textarea, select, option")})},
gestures:function(){function a(a){if(void 0!==a.touches)return{x:a.touches[0].pageX,y:a.touches[0].pageY};if(void 0===a.touches){if(void 0!==a.pageX)return{x:a.pageX,y:a.pageY};if(void 0===a.pageX)return{x:a.clientX,y:a.clientY}}}function b(a){"on"===a?(f(k).on(d.ev_types.move,e),f(k).on(d.ev_types.end,c)):"off"===a&&(f(k).off(d.ev_types.move),f(k).off(d.ev_types.end))}function e(b){b=b.originalEvent||b||g.event;d.newPosX=a(b).x-h.offsetX;d.newPosY=a(b).y-h.offsetY;d.newRelativeX=d.newPosX-h.relativePos;
"function"===typeof d.options.startDragging&&!0!==h.dragging&&0!==d.newRelativeX&&(h.dragging=!0,d.options.startDragging.apply(d,[d.$elem]));(8<d.newRelativeX||-8>d.newRelativeX)&&!0===d.browser.isTouch&&(void 0!==b.preventDefault?b.preventDefault():b.returnValue=!1,h.sliding=!0);(10<d.newPosY||-10>d.newPosY)&&!1===h.sliding&&f(k).off("touchmove.owl");d.newPosX=Math.max(Math.min(d.newPosX,d.newRelativeX/5),d.maximumPixels+d.newRelativeX/5);!0===d.browser.support3d?d.transition3d(d.newPosX):d.css2move(d.newPosX)}
function c(a){a=a.originalEvent||a||g.event;var c;a.target=a.target||a.srcElement;h.dragging=!1;!0!==d.browser.isTouch&&d.$owlWrapper.removeClass("grabbing");d.dragDirection=0>d.newRelativeX?d.owl.dragDirection="left":d.owl.dragDirection="right";0!==d.newRelativeX&&(c=d.getNewPosition(),d.goTo(c,!1,"drag"),h.targetElement===a.target&&!0!==d.browser.isTouch&&(f(a.target).on("click.disable",function(a){a.stopImmediatePropagation();a.stopPropagation();a.preventDefault();f(a.target).off("click.disable")}),
a=f._data(a.target,"events").click,c=a.pop(),a.splice(0,0,c)));b("off")}var d=this,h={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};d.isCssFinish=!0;d.$elem.on(d.ev_types.start,".owl-wrapper",function(c){c=c.originalEvent||c||g.event;var e;if(3===c.which)return!1;if(!(d.itemsAmount<=d.options.items)){if(!1===d.isCssFinish&&!d.options.dragBeforeAnimFinish||!1===d.isCss3Finish&&!d.options.dragBeforeAnimFinish)return!1;
!1!==d.options.autoPlay&&g.clearInterval(d.autoPlayInterval);!0===d.browser.isTouch||d.$owlWrapper.hasClass("grabbing")||d.$owlWrapper.addClass("grabbing");d.newPosX=0;d.newRelativeX=0;f(this).css(d.removeTransition());e=f(this).position();h.relativePos=e.left;h.offsetX=a(c).x-e.left;h.offsetY=a(c).y-e.top;b("on");h.sliding=!1;h.targetElement=c.target||c.srcElement}})},getNewPosition:function(){var a=this.closestItem();a>this.maximumItem?a=this.currentItem=this.maximumItem:0<=this.newPosX&&(this.currentItem=
a=0);return a},closestItem:function(){var a=this,b=!0===a.options.scrollPerPage?a.pagesInArray:a.positionsInArray,e=a.newPosX,c=null;f.each(b,function(d,g){e-a.itemWidth/20>b[d+1]&&e-a.itemWidth/20<g&&"left"===a.moveDirection()?(c=g,a.currentItem=!0===a.options.scrollPerPage?f.inArray(c,a.positionsInArray):d):e+a.itemWidth/20<g&&e+a.itemWidth/20>(b[d+1]||b[d]-a.itemWidth)&&"right"===a.moveDirection()&&(!0===a.options.scrollPerPage?(c=b[d+1]||b[b.length-1],a.currentItem=f.inArray(c,a.positionsInArray)):
(c=b[d+1],a.currentItem=d+1))});return a.currentItem},moveDirection:function(){var a;0>this.newRelativeX?(a="right",this.playDirection="next"):(a="left",this.playDirection="prev");return a},customEvents:function(){var a=this;a.$elem.on("owl.next",function(){a.next()});a.$elem.on("owl.prev",function(){a.prev()});a.$elem.on("owl.play",function(b,e){a.options.autoPlay=e;a.play();a.hoverStatus="play"});a.$elem.on("owl.stop",function(){a.stop();a.hoverStatus="stop"});a.$elem.on("owl.goTo",function(b,e){a.goTo(e)});
a.$elem.on("owl.jumpTo",function(b,e){a.jumpTo(e)})},stopOnHover:function(){var a=this;!0===a.options.stopOnHover&&!0!==a.browser.isTouch&&!1!==a.options.autoPlay&&(a.$elem.on("mouseover",function(){a.stop()}),a.$elem.on("mouseout",function(){"stop"!==a.hoverStatus&&a.play()}))},lazyLoad:function(){var a,b,e,c,d;if(!1===this.options.lazyLoad)return!1;for(a=0;a<this.itemsAmount;a+=1)b=f(this.$owlItems[a]),"loaded"!==b.data("owl-loaded")&&(e=b.data("owl-item"),c=b.find(".lazyOwl"),"string"!==typeof c.data("src")?
b.data("owl-loaded","loaded"):(void 0===b.data("owl-loaded")&&(c.hide(),b.addClass("loading").data("owl-loaded","checked")),(d=!0===this.options.lazyFollow?e>=this.currentItem:!0)&&e<this.currentItem+this.options.items&&c.length&&this.lazyPreload(b,c)))},lazyPreload:function(a,b){function e(){a.data("owl-loaded","loaded").removeClass("loading");b.removeAttr("data-src");"fade"===d.options.lazyEffect?b.fadeIn(400):b.show();"function"===typeof d.options.afterLazyLoad&&d.options.afterLazyLoad.apply(this,
[d.$elem])}function c(){f+=1;d.completeImg(b.get(0))||!0===k?e():100>=f?g.setTimeout(c,100):e()}var d=this,f=0,k;"DIV"===b.prop("tagName")?(b.css("background-image","url("+b.data("src")+")"),k=!0):b[0].src=b.data("src");c()},autoHeight:function(){function a(){var a=f(e.$owlItems[e.currentItem]).height();e.wrapperOuter.css("height",a+"px");e.wrapperOuter.hasClass("autoHeight")||g.setTimeout(function(){e.wrapperOuter.addClass("autoHeight")},0)}function b(){d+=1;e.completeImg(c.get(0))?a():100>=d?g.setTimeout(b,
100):e.wrapperOuter.css("height","")}var e=this,c=f(e.$owlItems[e.currentItem]).find("img"),d;void 0!==c.get(0)?(d=0,b()):a()},completeImg:function(a){return!a.complete||"undefined"!==typeof a.naturalWidth&&0===a.naturalWidth?!1:!0},onVisibleItems:function(){var a;!0===this.options.addClassActive&&this.$owlItems.removeClass("active");this.visibleItems=[];for(a=this.currentItem;a<this.currentItem+this.options.items;a+=1)this.visibleItems.push(a),!0===this.options.addClassActive&&f(this.$owlItems[a]).addClass("active");
this.owl.visibleItems=this.visibleItems},transitionTypes:function(a){this.outClass="owl-"+a+"-out";this.inClass="owl-"+a+"-in"},singleItemTransition:function(){var a=this,b=a.outClass,e=a.inClass,c=a.$owlItems.eq(a.currentItem),d=a.$owlItems.eq(a.prevItem),f=Math.abs(a.positionsInArray[a.currentItem])+a.positionsInArray[a.prevItem],g=Math.abs(a.positionsInArray[a.currentItem])+a.itemWidth/2;a.isTransition=!0;a.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":g+"px","-moz-perspective-origin":g+
"px","perspective-origin":g+"px"});d.css({position:"relative",left:f+"px"}).addClass(b).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){a.endPrev=!0;d.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");a.clearTransStyle(d,b)});c.addClass(e).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){a.endCurrent=!0;c.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");a.clearTransStyle(c,e)})},clearTransStyle:function(a,
b){a.css({position:"",left:""}).removeClass(b);this.endPrev&&this.endCurrent&&(this.$owlWrapper.removeClass("owl-origin"),this.isTransition=this.endCurrent=this.endPrev=!1)},owlStatus:function(){this.owl={userOptions:this.userOptions,baseElement:this.$elem,userItems:this.$userItems,owlItems:this.$owlItems,currentItem:this.currentItem,prevItem:this.prevItem,visibleItems:this.visibleItems,isTouch:this.browser.isTouch,browser:this.browser,dragDirection:this.dragDirection}},clearEvents:function(){this.$elem.off(".owl owl mousedown.disableTextSelect");
f(k).off(".owl owl");f(g).off("resize",this.resizer)},unWrap:function(){0!==this.$elem.children().length&&(this.$owlWrapper.unwrap(),this.$userItems.unwrap().unwrap(),this.owlControls&&this.owlControls.remove());this.clearEvents();this.$elem.attr("style",this.$elem.data("owl-originalStyles")||"").attr("class",this.$elem.data("owl-originalClasses"))},destroy:function(){this.stop();g.clearInterval(this.checkVisible);this.unWrap();this.$elem.removeData()},reinit:function(a){a=f.extend({},this.userOptions,
a);this.unWrap();this.init(a,this.$elem)},addItem:function(a,b){var e;if(!a)return!1;if(0===this.$elem.children().length)return this.$elem.append(a),this.setVars(),!1;this.unWrap();e=void 0===b||-1===b?-1:b;e>=this.$userItems.length||-1===e?this.$userItems.eq(-1).after(a):this.$userItems.eq(e).before(a);this.setVars()},removeItem:function(a){if(0===this.$elem.children().length)return!1;a=void 0===a||-1===a?-1:a;this.unWrap();this.$userItems.eq(a).remove();this.setVars()}};f.fn.owlCarousel=function(a){return this.each(function(){if(!0===
f(this).data("owl-init"))return!1;f(this).data("owl-init",!0);var b=Object.create(l);b.init(a,this);f.data(this,"owlCarousel",b)})};f.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1E3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,
responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:g,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}})(jQuery,window,document);

},{}],4:[function(require,module,exports){
module.exports = {
    "loadjQueryPlugin": function() {require("./owl.carousel.min.js");}
};

},{"./owl.carousel.min.js":3}],5:[function(require,module,exports){
/**
 * Simple, lightweight, usable local autocomplete library for modern browsers
 * Because there weren’t enough autocomplete scripts in the world? Because I’m completely insane and have NIH syndrome? Probably both. :P
 * @author Lea Verou http://leaverou.github.io/awesomplete
 * MIT license
 */

(function () {

var _ = function (input, o) {
	var me = this;

	// Setup

	this.isOpened = false;

	this.input = $(input);
	this.input.setAttribute("autocomplete", "off");
	this.input.setAttribute("aria-autocomplete", "list");

	o = o || {};

	configure(this, {
		minChars: 2,
		maxItems: 10,
		autoFirst: false,
		data: _.DATA,
		filter: _.FILTER_CONTAINS,
		sort: o.sort === false ? false : _.SORT_BYLENGTH,
		item: _.ITEM,
		replace: _.REPLACE
	}, o);

	this.index = -1;

	// Create necessary elements

	this.container = $.create("div", {
		className: "awesomplete",
		around: input
	});

	this.ul = $.create("ul", {
		hidden: "hidden",
		inside: this.container
	});

	this.status = $.create("span", {
		className: "visually-hidden",
		role: "status",
		"aria-live": "assertive",
		"aria-relevant": "additions",
		inside: this.container
	});

	// Bind events

	this._events = {
		input: {
			"input": this.evaluate.bind(this),
			"blur": this.close.bind(this, { reason: "blur" }),
			"keydown": function(evt) {
				var c = evt.keyCode;

				// If the dropdown `ul` is in view, then act on keydown for the following keys:
				// Enter / Esc / Up / Down
				if(me.opened) {
					if (c === 13 && me.selected) { // Enter
						evt.preventDefault();
						me.select();
					}
					else if (c === 27) { // Esc
						me.close({ reason: "esc" });
					}
					else if (c === 38 || c === 40) { // Down/Up arrow
						evt.preventDefault();
						me[c === 38? "previous" : "next"]();
					}
				}
			}
		},
		form: {
			"submit": this.close.bind(this, { reason: "submit" })
		},
		ul: {
			"mousedown": function(evt) {
				var li = evt.target;

				if (li !== this) {

					while (li && !/li/i.test(li.nodeName)) {
						li = li.parentNode;
					}

					if (li && evt.button === 0) {  // Only select on left click
						evt.preventDefault();
						me.select(li, evt.target);
					}
				}
			}
		}
	};

	$.bind(this.input, this._events.input);
	$.bind(this.input.form, this._events.form);
	$.bind(this.ul, this._events.ul);

	if (this.input.hasAttribute("list")) {
		this.list = "#" + this.input.getAttribute("list");
		this.input.removeAttribute("list");
	}
	else {
		this.list = this.input.getAttribute("data-list") || o.list || [];
	}

	_.all.push(this);
};

_.prototype = {
	set list(list) {
		if (Array.isArray(list)) {
			this._list = list;
		}
		else if (typeof list === "string" && list.indexOf(",") > -1) {
				this._list = list.split(/\s*,\s*/);
		}
		else { // Element or CSS selector
			list = $(list);

			if (list && list.children) {
				var items = [];
				slice.apply(list.children).forEach(function (el) {
					if (!el.disabled) {
						var text = el.textContent.trim();
						var value = el.value || text;
						var label = el.label || text;
						if (value !== "") {
							items.push({ label: label, value: value });
						}
					}
				});
				this._list = items;
			}
		}

		if (document.activeElement === this.input) {
			this.evaluate();
		}
	},

	get selected() {
		return this.index > -1;
	},

	get opened() {
		return this.isOpened;
	},

	close: function (o) {
		if (!this.opened) {
			return;
		}

		this.ul.setAttribute("hidden", "");
		this.isOpened = false;
		this.index = -1;

		$.fire(this.input, "awesomplete-close", o || {});
	},

	open: function () {
		this.ul.removeAttribute("hidden");
		this.isOpened = true;

		if (this.autoFirst && this.index === -1) {
			this.goto(0);
		}

		$.fire(this.input, "awesomplete-open");
	},

	destroy: function() {
		//remove events from the input and its form
		$.unbind(this.input, this._events.input);
		$.unbind(this.input.form, this._events.form);

		//move the input out of the awesomplete container and remove the container and its children
		var parentNode = this.container.parentNode;

		parentNode.insertBefore(this.input, this.container);
		parentNode.removeChild(this.container);

		//remove autocomplete and aria-autocomplete attributes
		this.input.removeAttribute("autocomplete");
		this.input.removeAttribute("aria-autocomplete");

		//remove this awesomeplete instance from the global array of instances
		var indexOfAwesomplete = _.all.indexOf(this);

		if (indexOfAwesomplete !== -1) {
			_.all.splice(indexOfAwesomplete, 1);
		}
	},

	next: function () {
		var count = this.ul.children.length;
		this.goto(this.index < count - 1 ? this.index + 1 : (count ? 0 : -1) );
	},

	previous: function () {
		var count = this.ul.children.length;
		var pos = this.index - 1;

		this.goto(this.selected && pos !== -1 ? pos : count - 1);
	},

	// Should not be used, highlights specific item without any checks!
	goto: function (i) {
		var lis = this.ul.children;

		if (this.selected) {
			lis[this.index].setAttribute("aria-selected", "false");
		}

		this.index = i;

		if (i > -1 && lis.length > 0) {
			lis[i].setAttribute("aria-selected", "true");
			this.status.textContent = lis[i].textContent;

			// scroll to highlighted element in case parent's height is fixed
			this.ul.scrollTop = lis[i].offsetTop - this.ul.clientHeight + lis[i].clientHeight;

			$.fire(this.input, "awesomplete-highlight", {
				text: this.suggestions[this.index]
			});
		}
	},

	select: function (selected, origin) {
		if (selected) {
			this.index = $.siblingIndex(selected);
		} else {
			selected = this.ul.children[this.index];
		}

		if (selected) {
			var suggestion = this.suggestions[this.index];

			var allowed = $.fire(this.input, "awesomplete-select", {
				text: suggestion,
				origin: origin || selected
			});

			if (allowed) {
				this.replace(suggestion);
				this.close({ reason: "select" });
				$.fire(this.input, "awesomplete-selectcomplete", {
					text: suggestion
				});
			}
		}
	},

	evaluate: function() {
		var me = this;
		var value = this.input.value;

		if (value.length >= this.minChars && this._list.length > 0) {
			this.index = -1;
			// Populate list with options that match
			this.ul.innerHTML = "";

			this.suggestions = this._list
				.map(function(item) {
					return new Suggestion(me.data(item, value));
				})
				.filter(function(item) {
					return me.filter(item, value);
				});

			if (this.sort !== false) {
				this.suggestions = this.suggestions.sort(this.sort);
			}

			this.suggestions = this.suggestions.slice(0, this.maxItems);

			this.suggestions.forEach(function(text) {
					me.ul.appendChild(me.item(text, value));
				});

			if (this.ul.children.length === 0) {
				this.close({ reason: "nomatches" });
			} else {
				this.open();
			}
		}
		else {
			this.close({ reason: "nomatches" });
		}
	}
};

// Static methods/properties

_.all = [];

_.FILTER_CONTAINS = function (text, input) {
	return RegExp($.regExpEscape(input.trim()), "i").test(text);
};

_.FILTER_STARTSWITH = function (text, input) {
	return RegExp("^" + $.regExpEscape(input.trim()), "i").test(text);
};

_.SORT_BYLENGTH = function (a, b) {
	if (a.length !== b.length) {
		return a.length - b.length;
	}

	return a < b? -1 : 1;
};

_.ITEM = function (text, input) {
	var html = input.trim() === "" ? text : text.replace(RegExp($.regExpEscape(input.trim()), "gi"), "<mark>$&</mark>");
	return $.create("li", {
		innerHTML: html,
		"aria-selected": "false"
	});
};

_.REPLACE = function (text) {
	this.input.value = text.value;
};

_.DATA = function (item/*, input*/) { return item; };

// Private functions

function Suggestion(data) {
	var o = Array.isArray(data)
	  ? { label: data[0], value: data[1] }
	  : typeof data === "object" && "label" in data && "value" in data ? data : { label: data, value: data };

	this.label = o.label || o.value;
	this.value = o.value;
}
Object.defineProperty(Suggestion.prototype = Object.create(String.prototype), "length", {
	get: function() { return this.label.length; }
});
Suggestion.prototype.toString = Suggestion.prototype.valueOf = function () {
	return "" + this.label;
};

function configure(instance, properties, o) {
	for (var i in properties) {
		var initial = properties[i],
		    attrValue = instance.input.getAttribute("data-" + i.toLowerCase());

		if (typeof initial === "number") {
			instance[i] = parseInt(attrValue);
		}
		else if (initial === false) { // Boolean options must be false by default anyway
			instance[i] = attrValue !== null;
		}
		else if (initial instanceof Function) {
			instance[i] = null;
		}
		else {
			instance[i] = attrValue;
		}

		if (!instance[i] && instance[i] !== 0) {
			instance[i] = (i in o)? o[i] : initial;
		}
	}
}

// Helpers

var slice = Array.prototype.slice;

function $(expr, con) {
	return typeof expr === "string"? (con || document).querySelector(expr) : expr || null;
}

function $$(expr, con) {
	return slice.call((con || document).querySelectorAll(expr));
}

$.create = function(tag, o) {
	var element = document.createElement(tag);

	for (var i in o) {
		var val = o[i];

		if (i === "inside") {
			$(val).appendChild(element);
		}
		else if (i === "around") {
			var ref = $(val);
			ref.parentNode.insertBefore(element, ref);
			element.appendChild(ref);
		}
		else if (i in element) {
			element[i] = val;
		}
		else {
			element.setAttribute(i, val);
		}
	}

	return element;
};

$.bind = function(element, o) {
	if (element) {
		for (var event in o) {
			var callback = o[event];

			event.split(/\s+/).forEach(function (event) {
				element.addEventListener(event, callback);
			});
		}
	}
};

$.unbind = function(element, o) {
	if (element) {
		for (var event in o) {
			var callback = o[event];

			event.split(/\s+/).forEach(function(event) {
				element.removeEventListener(event, callback);
			});
		}
	}
};

$.fire = function(target, type, properties) {
	var evt = document.createEvent("HTMLEvents");

	evt.initEvent(type, true, true );

	for (var j in properties) {
		evt[j] = properties[j];
	}

	return target.dispatchEvent(evt);
};

$.regExpEscape = function (s) {
	return s.replace(/[-\\^$*+?.()|[\]{}]/g, "\\$&");
};

$.siblingIndex = function (el) {
	/* eslint-disable no-cond-assign */
	for (var i = 0; el = el.previousElementSibling; i++);
	return i;
};

// Initialization

function init() {
	$$("input.awesomplete").forEach(function (input) {
		new _(input);
	});
}

// Are we in a browser? Check for Document constructor
if (typeof Document !== "undefined") {
	// DOM already loaded?
	if (document.readyState !== "loading") {
		init();
	}
	else {
		// Wait for it
		document.addEventListener("DOMContentLoaded", init);
	}
}

_.$ = $;
_.$$ = $$;

// Make sure to export Awesomplete on self when in a browser
if (typeof self !== "undefined") {
	self.Awesomplete = _;
}

// Expose Awesomplete as a CJS module
if (typeof module === "object" && module.exports) {
	module.exports = _;
}

return _;

}());

},{}],6:[function(require,module,exports){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

function EventEmitter() {
  this._events = this._events || {};
  this._maxListeners = this._maxListeners || undefined;
}
module.exports = EventEmitter;

// Backwards-compat with node 0.10.x
EventEmitter.EventEmitter = EventEmitter;

EventEmitter.prototype._events = undefined;
EventEmitter.prototype._maxListeners = undefined;

// By default EventEmitters will print a warning if more than 10 listeners are
// added to it. This is a useful default which helps finding memory leaks.
EventEmitter.defaultMaxListeners = 10;

// Obviously not all Emitters should be limited to 10. This function allows
// that to be increased. Set to zero for unlimited.
EventEmitter.prototype.setMaxListeners = function(n) {
  if (!isNumber(n) || n < 0 || isNaN(n))
    throw TypeError('n must be a positive number');
  this._maxListeners = n;
  return this;
};

EventEmitter.prototype.emit = function(type) {
  var er, handler, len, args, i, listeners;

  if (!this._events)
    this._events = {};

  // If there is no 'error' event listener then throw.
  if (type === 'error') {
    if (!this._events.error ||
        (isObject(this._events.error) && !this._events.error.length)) {
      er = arguments[1];
      if (er instanceof Error) {
        throw er; // Unhandled 'error' event
      }
      throw TypeError('Uncaught, unspecified "error" event.');
    }
  }

  handler = this._events[type];

  if (isUndefined(handler))
    return false;

  if (isFunction(handler)) {
    switch (arguments.length) {
      // fast cases
      case 1:
        handler.call(this);
        break;
      case 2:
        handler.call(this, arguments[1]);
        break;
      case 3:
        handler.call(this, arguments[1], arguments[2]);
        break;
      // slower
      default:
        len = arguments.length;
        args = new Array(len - 1);
        for (i = 1; i < len; i++)
          args[i - 1] = arguments[i];
        handler.apply(this, args);
    }
  } else if (isObject(handler)) {
    len = arguments.length;
    args = new Array(len - 1);
    for (i = 1; i < len; i++)
      args[i - 1] = arguments[i];

    listeners = handler.slice();
    len = listeners.length;
    for (i = 0; i < len; i++)
      listeners[i].apply(this, args);
  }

  return true;
};

EventEmitter.prototype.addListener = function(type, listener) {
  var m;

  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  if (!this._events)
    this._events = {};

  // To avoid recursion in the case that type === "newListener"! Before
  // adding it to the listeners, first emit "newListener".
  if (this._events.newListener)
    this.emit('newListener', type,
              isFunction(listener.listener) ?
              listener.listener : listener);

  if (!this._events[type])
    // Optimize the case of one listener. Don't need the extra array object.
    this._events[type] = listener;
  else if (isObject(this._events[type]))
    // If we've already got an array, just append.
    this._events[type].push(listener);
  else
    // Adding the second element, need to change to array.
    this._events[type] = [this._events[type], listener];

  // Check for listener leak
  if (isObject(this._events[type]) && !this._events[type].warned) {
    var m;
    if (!isUndefined(this._maxListeners)) {
      m = this._maxListeners;
    } else {
      m = EventEmitter.defaultMaxListeners;
    }

    if (m && m > 0 && this._events[type].length > m) {
      this._events[type].warned = true;
      console.error('(node) warning: possible EventEmitter memory ' +
                    'leak detected. %d listeners added. ' +
                    'Use emitter.setMaxListeners() to increase limit.',
                    this._events[type].length);
      if (typeof console.trace === 'function') {
        // not supported in IE 10
        console.trace();
      }
    }
  }

  return this;
};

EventEmitter.prototype.on = EventEmitter.prototype.addListener;

EventEmitter.prototype.once = function(type, listener) {
  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  var fired = false;

  function g() {
    this.removeListener(type, g);

    if (!fired) {
      fired = true;
      listener.apply(this, arguments);
    }
  }

  g.listener = listener;
  this.on(type, g);

  return this;
};

// emits a 'removeListener' event iff the listener was removed
EventEmitter.prototype.removeListener = function(type, listener) {
  var list, position, length, i;

  if (!isFunction(listener))
    throw TypeError('listener must be a function');

  if (!this._events || !this._events[type])
    return this;

  list = this._events[type];
  length = list.length;
  position = -1;

  if (list === listener ||
      (isFunction(list.listener) && list.listener === listener)) {
    delete this._events[type];
    if (this._events.removeListener)
      this.emit('removeListener', type, listener);

  } else if (isObject(list)) {
    for (i = length; i-- > 0;) {
      if (list[i] === listener ||
          (list[i].listener && list[i].listener === listener)) {
        position = i;
        break;
      }
    }

    if (position < 0)
      return this;

    if (list.length === 1) {
      list.length = 0;
      delete this._events[type];
    } else {
      list.splice(position, 1);
    }

    if (this._events.removeListener)
      this.emit('removeListener', type, listener);
  }

  return this;
};

EventEmitter.prototype.removeAllListeners = function(type) {
  var key, listeners;

  if (!this._events)
    return this;

  // not listening for removeListener, no need to emit
  if (!this._events.removeListener) {
    if (arguments.length === 0)
      this._events = {};
    else if (this._events[type])
      delete this._events[type];
    return this;
  }

  // emit removeListener for all listeners on all events
  if (arguments.length === 0) {
    for (key in this._events) {
      if (key === 'removeListener') continue;
      this.removeAllListeners(key);
    }
    this.removeAllListeners('removeListener');
    this._events = {};
    return this;
  }

  listeners = this._events[type];

  if (isFunction(listeners)) {
    this.removeListener(type, listeners);
  } else {
    // LIFO order
    while (listeners.length)
      this.removeListener(type, listeners[listeners.length - 1]);
  }
  delete this._events[type];

  return this;
};

EventEmitter.prototype.listeners = function(type) {
  var ret;
  if (!this._events || !this._events[type])
    ret = [];
  else if (isFunction(this._events[type]))
    ret = [this._events[type]];
  else
    ret = this._events[type].slice();
  return ret;
};

EventEmitter.listenerCount = function(emitter, type) {
  var ret;
  if (!emitter._events || !emitter._events[type])
    ret = 0;
  else if (isFunction(emitter._events[type]))
    ret = 1;
  else
    ret = emitter._events[type].length;
  return ret;
};

function isFunction(arg) {
  return typeof arg === 'function';
}

function isNumber(arg) {
  return typeof arg === 'number';
}

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}

function isUndefined(arg) {
  return arg === void 0;
}

},{}],7:[function(require,module,exports){
'use strict';

exports.__esModule = true;
// istanbul ignore next

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

// istanbul ignore next

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }

var _handlebarsBase = require('./handlebars/base');

var base = _interopRequireWildcard(_handlebarsBase);

// Each of these augment the Handlebars object. No need to setup here.
// (This is done to easily share code between commonjs and browse envs)

var _handlebarsSafeString = require('./handlebars/safe-string');

var _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString);

var _handlebarsException = require('./handlebars/exception');

var _handlebarsException2 = _interopRequireDefault(_handlebarsException);

var _handlebarsUtils = require('./handlebars/utils');

var Utils = _interopRequireWildcard(_handlebarsUtils);

var _handlebarsRuntime = require('./handlebars/runtime');

var runtime = _interopRequireWildcard(_handlebarsRuntime);

var _handlebarsNoConflict = require('./handlebars/no-conflict');

var _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);

// For compatibility and usage outside of module systems, make the Handlebars object a namespace
function create() {
  var hb = new base.HandlebarsEnvironment();

  Utils.extend(hb, base);
  hb.SafeString = _handlebarsSafeString2['default'];
  hb.Exception = _handlebarsException2['default'];
  hb.Utils = Utils;
  hb.escapeExpression = Utils.escapeExpression;

  hb.VM = runtime;
  hb.template = function (spec) {
    return runtime.template(spec, hb);
  };

  return hb;
}

var inst = create();
inst.create = create;

_handlebarsNoConflict2['default'](inst);

inst['default'] = inst;

exports['default'] = inst;
module.exports = exports['default'];


},{"./handlebars/base":8,"./handlebars/exception":11,"./handlebars/no-conflict":21,"./handlebars/runtime":22,"./handlebars/safe-string":23,"./handlebars/utils":24}],8:[function(require,module,exports){
'use strict';

exports.__esModule = true;
exports.HandlebarsEnvironment = HandlebarsEnvironment;
// istanbul ignore next

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _utils = require('./utils');

var _exception = require('./exception');

var _exception2 = _interopRequireDefault(_exception);

var _helpers = require('./helpers');

var _decorators = require('./decorators');

var _logger = require('./logger');

var _logger2 = _interopRequireDefault(_logger);

var VERSION = '4.0.5';
exports.VERSION = VERSION;
var COMPILER_REVISION = 7;

exports.COMPILER_REVISION = COMPILER_REVISION;
var REVISION_CHANGES = {
  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it
  2: '== 1.0.0-rc.3',
  3: '== 1.0.0-rc.4',
  4: '== 1.x.x',
  5: '== 2.0.0-alpha.x',
  6: '>= 2.0.0-beta.1',
  7: '>= 4.0.0'
};

exports.REVISION_CHANGES = REVISION_CHANGES;
var objectType = '[object Object]';

function HandlebarsEnvironment(helpers, partials, decorators) {
  this.helpers = helpers || {};
  this.partials = partials || {};
  this.decorators = decorators || {};

  _helpers.registerDefaultHelpers(this);
  _decorators.registerDefaultDecorators(this);
}

HandlebarsEnvironment.prototype = {
  constructor: HandlebarsEnvironment,

  logger: _logger2['default'],
  log: _logger2['default'].log,

  registerHelper: function registerHelper(name, fn) {
    if (_utils.toString.call(name) === objectType) {
      if (fn) {
        throw new _exception2['default']('Arg not supported with multiple helpers');
      }
      _utils.extend(this.helpers, name);
    } else {
      this.helpers[name] = fn;
    }
  },
  unregisterHelper: function unregisterHelper(name) {
    delete this.helpers[name];
  },

  registerPartial: function registerPartial(name, partial) {
    if (_utils.toString.call(name) === objectType) {
      _utils.extend(this.partials, name);
    } else {
      if (typeof partial === 'undefined') {
        throw new _exception2['default']('Attempting to register a partial called "' + name + '" as undefined');
      }
      this.partials[name] = partial;
    }
  },
  unregisterPartial: function unregisterPartial(name) {
    delete this.partials[name];
  },

  registerDecorator: function registerDecorator(name, fn) {
    if (_utils.toString.call(name) === objectType) {
      if (fn) {
        throw new _exception2['default']('Arg not supported with multiple decorators');
      }
      _utils.extend(this.decorators, name);
    } else {
      this.decorators[name] = fn;
    }
  },
  unregisterDecorator: function unregisterDecorator(name) {
    delete this.decorators[name];
  }
};

var log = _logger2['default'].log;

exports.log = log;
exports.createFrame = _utils.createFrame;
exports.logger = _logger2['default'];


},{"./decorators":9,"./exception":11,"./helpers":12,"./logger":20,"./utils":24}],9:[function(require,module,exports){
'use strict';

exports.__esModule = true;
exports.registerDefaultDecorators = registerDefaultDecorators;
// istanbul ignore next

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _decoratorsInline = require('./decorators/inline');

var _decoratorsInline2 = _interopRequireDefault(_decoratorsInline);

function registerDefaultDecorators(instance) {
  _decoratorsInline2['default'](instance);
}


},{"./decorators/inline":10}],10:[function(require,module,exports){
'use strict';

exports.__esModule = true;

var _utils = require('../utils');

exports['default'] = function (instance) {
  instance.registerDecorator('inline', function (fn, props, container, options) {
    var ret = fn;
    if (!props.partials) {
      props.partials = {};
      ret = function (context, options) {
        // Create a new partials stack frame prior to exec.
        var original = container.partials;
        container.partials = _utils.extend({}, original, props.partials);
        var ret = fn(context, options);
        container.partials = original;
        return ret;
      };
    }

    props.partials[options.args[0]] = options.fn;

    return ret;
  });
};

module.exports = exports['default'];


},{"../utils":24}],11:[function(require,module,exports){
'use strict';

exports.__esModule = true;

var errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack'];

function Exception(message, node) {
  var loc = node && node.loc,
      line = undefined,
      column = undefined;
  if (loc) {
    line = loc.start.line;
    column = loc.start.column;

    message += ' - ' + line + ':' + column;
  }

  var tmp = Error.prototype.constructor.call(this, message);

  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.
  for (var idx = 0; idx < errorProps.length; idx++) {
    this[errorProps[idx]] = tmp[errorProps[idx]];
  }

  /* istanbul ignore else */
  if (Error.captureStackTrace) {
    Error.captureStackTrace(this, Exception);
  }

  if (loc) {
    this.lineNumber = line;
    this.column = column;
  }
}

Exception.prototype = new Error();

exports['default'] = Exception;
module.exports = exports['default'];


},{}],12:[function(require,module,exports){
'use strict';

exports.__esModule = true;
exports.registerDefaultHelpers = registerDefaultHelpers;
// istanbul ignore next

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _helpersBlockHelperMissing = require('./helpers/block-helper-missing');

var _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing);

var _helpersEach = require('./helpers/each');

var _helpersEach2 = _interopRequireDefault(_helpersEach);

var _helpersHelperMissing = require('./helpers/helper-missing');

var _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing);

var _helpersIf = require('./helpers/if');

var _helpersIf2 = _interopRequireDefault(_helpersIf);

var _helpersLog = require('./helpers/log');

var _helpersLog2 = _interopRequireDefault(_helpersLog);

var _helpersLookup = require('./helpers/lookup');

var _helpersLookup2 = _interopRequireDefault(_helpersLookup);

var _helpersWith = require('./helpers/with');

var _helpersWith2 = _interopRequireDefault(_helpersWith);

function registerDefaultHelpers(instance) {
  _helpersBlockHelperMissing2['default'](instance);
  _helpersEach2['default'](instance);
  _helpersHelperMissing2['default'](instance);
  _helpersIf2['default'](instance);
  _helpersLog2['default'](instance);
  _helpersLookup2['default'](instance);
  _helpersWith2['default'](instance);
}


},{"./helpers/block-helper-missing":13,"./helpers/each":14,"./helpers/helper-missing":15,"./helpers/if":16,"./helpers/log":17,"./helpers/lookup":18,"./helpers/with":19}],13:[function(require,module,exports){
'use strict';

exports.__esModule = true;

var _utils = require('../utils');

exports['default'] = function (instance) {
  instance.registerHelper('blockHelperMissing', function (context, options) {
    var inverse = options.inverse,
        fn = options.fn;

    if (context === true) {
      return fn(this);
    } else if (context === false || context == null) {
      return inverse(this);
    } else if (_utils.isArray(context)) {
      if (context.length > 0) {
        if (options.ids) {
          options.ids = [options.name];
        }

        return instance.helpers.each(context, options);
      } else {
        return inverse(this);
      }
    } else {
      if (options.data && options.ids) {
        var data = _utils.createFrame(options.data);
        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);
        options = { data: data };
      }

      return fn(context, options);
    }
  });
};

module.exports = exports['default'];


},{"../utils":24}],14:[function(require,module,exports){
'use strict';

exports.__esModule = true;
// istanbul ignore next

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _utils = require('../utils');

var _exception = require('../exception');

var _exception2 = _interopRequireDefault(_exception);

exports['default'] = function (instance) {
  instance.registerHelper('each', function (context, options) {
    if (!options) {
      throw new _exception2['default']('Must pass iterator to #each');
    }

    var fn = options.fn,
        inverse = options.inverse,
        i = 0,
        ret = '',
        data = undefined,
        contextPath = undefined;

    if (options.data && options.ids) {
      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';
    }

    if (_utils.isFunction(context)) {
      context = context.call(this);
    }

    if (options.data) {
      data = _utils.createFrame(options.data);
    }

    function execIteration(field, index, last) {
      if (data) {
        data.key = field;
        data.index = index;
        data.first = index === 0;
        data.last = !!last;

        if (contextPath) {
          data.contextPath = contextPath + field;
        }
      }

      ret = ret + fn(context[field], {
        data: data,
        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])
      });
    }

    if (context && typeof context === 'object') {
      if (_utils.isArray(context)) {
        for (var j = context.length; i < j; i++) {
          if (i in context) {
            execIteration(i, i, i === context.length - 1);
          }
        }
      } else {
        var priorKey = undefined;

        for (var key in context) {
          if (context.hasOwnProperty(key)) {
            // We're running the iterations one step out of sync so we can detect
            // the last iteration without have to scan the object twice and create
            // an itermediate keys array.
            if (priorKey !== undefined) {
              execIteration(priorKey, i - 1);
            }
            priorKey = key;
            i++;
          }
        }
        if (priorKey !== undefined) {
          execIteration(priorKey, i - 1, true);
        }
      }
    }

    if (i === 0) {
      ret = inverse(this);
    }

    return ret;
  });
};

module.exports = exports['default'];


},{"../exception":11,"../utils":24}],15:[function(require,module,exports){
'use strict';

exports.__esModule = true;
// istanbul ignore next

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _exception = require('../exception');

var _exception2 = _interopRequireDefault(_exception);

exports['default'] = function (instance) {
  instance.registerHelper('helperMissing', function () /* [args, ]options */{
    if (arguments.length === 1) {
      // A missing field in a {{foo}} construct.
      return undefined;
    } else {
      // Someone is actually trying to call something, blow up.
      throw new _exception2['default']('Missing helper: "' + arguments[arguments.length - 1].name + '"');
    }
  });
};

module.exports = exports['default'];


},{"../exception":11}],16:[function(require,module,exports){
'use strict';

exports.__esModule = true;

var _utils = require('../utils');

exports['default'] = function (instance) {
  instance.registerHelper('if', function (conditional, options) {
    if (_utils.isFunction(conditional)) {
      conditional = conditional.call(this);
    }

    // Default behavior is to render the positive path if the value is truthy and not empty.
    // The `includeZero` option may be set to treat the condtional as purely not empty based on the
    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.
    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {
      return options.inverse(this);
    } else {
      return options.fn(this);
    }
  });

  instance.registerHelper('unless', function (conditional, options) {
    return instance.helpers['if'].call(this, conditional, { fn: options.inverse, inverse: options.fn, hash: options.hash });
  });
};

module.exports = exports['default'];


},{"../utils":24}],17:[function(require,module,exports){
'use strict';

exports.__esModule = true;

exports['default'] = function (instance) {
  instance.registerHelper('log', function () /* message, options */{
    var args = [undefined],
        options = arguments[arguments.length - 1];
    for (var i = 0; i < arguments.length - 1; i++) {
      args.push(arguments[i]);
    }

    var level = 1;
    if (options.hash.level != null) {
      level = options.hash.level;
    } else if (options.data && options.data.level != null) {
      level = options.data.level;
    }
    args[0] = level;

    instance.log.apply(instance, args);
  });
};

module.exports = exports['default'];


},{}],18:[function(require,module,exports){
'use strict';

exports.__esModule = true;

exports['default'] = function (instance) {
  instance.registerHelper('lookup', function (obj, field) {
    return obj && obj[field];
  });
};

module.exports = exports['default'];


},{}],19:[function(require,module,exports){
'use strict';

exports.__esModule = true;

var _utils = require('../utils');

exports['default'] = function (instance) {
  instance.registerHelper('with', function (context, options) {
    if (_utils.isFunction(context)) {
      context = context.call(this);
    }

    var fn = options.fn;

    if (!_utils.isEmpty(context)) {
      var data = options.data;
      if (options.data && options.ids) {
        data = _utils.createFrame(options.data);
        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);
      }

      return fn(context, {
        data: data,
        blockParams: _utils.blockParams([context], [data && data.contextPath])
      });
    } else {
      return options.inverse(this);
    }
  });
};

module.exports = exports['default'];


},{"../utils":24}],20:[function(require,module,exports){
'use strict';

exports.__esModule = true;

var _utils = require('./utils');

var logger = {
  methodMap: ['debug', 'info', 'warn', 'error'],
  level: 'info',

  // Maps a given level value to the `methodMap` indexes above.
  lookupLevel: function lookupLevel(level) {
    if (typeof level === 'string') {
      var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase());
      if (levelMap >= 0) {
        level = levelMap;
      } else {
        level = parseInt(level, 10);
      }
    }

    return level;
  },

  // Can be overridden in the host environment
  log: function log(level) {
    level = logger.lookupLevel(level);

    if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {
      var method = logger.methodMap[level];
      if (!console[method]) {
        // eslint-disable-line no-console
        method = 'log';
      }

      for (var _len = arguments.length, message = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        message[_key - 1] = arguments[_key];
      }

      console[method].apply(console, message); // eslint-disable-line no-console
    }
  }
};

exports['default'] = logger;
module.exports = exports['default'];


},{"./utils":24}],21:[function(require,module,exports){
(function (global){
/* global window */
'use strict';

exports.__esModule = true;

exports['default'] = function (Handlebars) {
  /* istanbul ignore next */
  var root = typeof global !== 'undefined' ? global : window,
      $Handlebars = root.Handlebars;
  /* istanbul ignore next */
  Handlebars.noConflict = function () {
    if (root.Handlebars === Handlebars) {
      root.Handlebars = $Handlebars;
    }
    return Handlebars;
  };
};

module.exports = exports['default'];


}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],22:[function(require,module,exports){
'use strict';

exports.__esModule = true;
exports.checkRevision = checkRevision;
exports.template = template;
exports.wrapProgram = wrapProgram;
exports.resolvePartial = resolvePartial;
exports.invokePartial = invokePartial;
exports.noop = noop;
// istanbul ignore next

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

// istanbul ignore next

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }

var _utils = require('./utils');

var Utils = _interopRequireWildcard(_utils);

var _exception = require('./exception');

var _exception2 = _interopRequireDefault(_exception);

var _base = require('./base');

function checkRevision(compilerInfo) {
  var compilerRevision = compilerInfo && compilerInfo[0] || 1,
      currentRevision = _base.COMPILER_REVISION;

  if (compilerRevision !== currentRevision) {
    if (compilerRevision < currentRevision) {
      var runtimeVersions = _base.REVISION_CHANGES[currentRevision],
          compilerVersions = _base.REVISION_CHANGES[compilerRevision];
      throw new _exception2['default']('Template was precompiled with an older version of Handlebars than the current runtime. ' + 'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');
    } else {
      // Use the embedded version info since the runtime doesn't know about this revision yet
      throw new _exception2['default']('Template was precompiled with a newer version of Handlebars than the current runtime. ' + 'Please update your runtime to a newer version (' + compilerInfo[1] + ').');
    }
  }
}

function template(templateSpec, env) {
  /* istanbul ignore next */
  if (!env) {
    throw new _exception2['default']('No environment passed to template');
  }
  if (!templateSpec || !templateSpec.main) {
    throw new _exception2['default']('Unknown template object: ' + typeof templateSpec);
  }

  templateSpec.main.decorator = templateSpec.main_d;

  // Note: Using env.VM references rather than local var references throughout this section to allow
  // for external users to override these as psuedo-supported APIs.
  env.VM.checkRevision(templateSpec.compiler);

  function invokePartialWrapper(partial, context, options) {
    if (options.hash) {
      context = Utils.extend({}, context, options.hash);
      if (options.ids) {
        options.ids[0] = true;
      }
    }

    partial = env.VM.resolvePartial.call(this, partial, context, options);
    var result = env.VM.invokePartial.call(this, partial, context, options);

    if (result == null && env.compile) {
      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);
      result = options.partials[options.name](context, options);
    }
    if (result != null) {
      if (options.indent) {
        var lines = result.split('\n');
        for (var i = 0, l = lines.length; i < l; i++) {
          if (!lines[i] && i + 1 === l) {
            break;
          }

          lines[i] = options.indent + lines[i];
        }
        result = lines.join('\n');
      }
      return result;
    } else {
      throw new _exception2['default']('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');
    }
  }

  // Just add water
  var container = {
    strict: function strict(obj, name) {
      if (!(name in obj)) {
        throw new _exception2['default']('"' + name + '" not defined in ' + obj);
      }
      return obj[name];
    },
    lookup: function lookup(depths, name) {
      var len = depths.length;
      for (var i = 0; i < len; i++) {
        if (depths[i] && depths[i][name] != null) {
          return depths[i][name];
        }
      }
    },
    lambda: function lambda(current, context) {
      return typeof current === 'function' ? current.call(context) : current;
    },

    escapeExpression: Utils.escapeExpression,
    invokePartial: invokePartialWrapper,

    fn: function fn(i) {
      var ret = templateSpec[i];
      ret.decorator = templateSpec[i + '_d'];
      return ret;
    },

    programs: [],
    program: function program(i, data, declaredBlockParams, blockParams, depths) {
      var programWrapper = this.programs[i],
          fn = this.fn(i);
      if (data || depths || blockParams || declaredBlockParams) {
        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);
      } else if (!programWrapper) {
        programWrapper = this.programs[i] = wrapProgram(this, i, fn);
      }
      return programWrapper;
    },

    data: function data(value, depth) {
      while (value && depth--) {
        value = value._parent;
      }
      return value;
    },
    merge: function merge(param, common) {
      var obj = param || common;

      if (param && common && param !== common) {
        obj = Utils.extend({}, common, param);
      }

      return obj;
    },

    noop: env.VM.noop,
    compilerInfo: templateSpec.compiler
  };

  function ret(context) {
    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

    var data = options.data;

    ret._setup(options);
    if (!options.partial && templateSpec.useData) {
      data = initData(context, data);
    }
    var depths = undefined,
        blockParams = templateSpec.useBlockParams ? [] : undefined;
    if (templateSpec.useDepths) {
      if (options.depths) {
        depths = context !== options.depths[0] ? [context].concat(options.depths) : options.depths;
      } else {
        depths = [context];
      }
    }

    function main(context /*, options*/) {
      return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);
    }
    main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);
    return main(context, options);
  }
  ret.isTop = true;

  ret._setup = function (options) {
    if (!options.partial) {
      container.helpers = container.merge(options.helpers, env.helpers);

      if (templateSpec.usePartial) {
        container.partials = container.merge(options.partials, env.partials);
      }
      if (templateSpec.usePartial || templateSpec.useDecorators) {
        container.decorators = container.merge(options.decorators, env.decorators);
      }
    } else {
      container.helpers = options.helpers;
      container.partials = options.partials;
      container.decorators = options.decorators;
    }
  };

  ret._child = function (i, data, blockParams, depths) {
    if (templateSpec.useBlockParams && !blockParams) {
      throw new _exception2['default']('must pass block params');
    }
    if (templateSpec.useDepths && !depths) {
      throw new _exception2['default']('must pass parent depths');
    }

    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);
  };
  return ret;
}

function wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {
  function prog(context) {
    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

    var currentDepths = depths;
    if (depths && context !== depths[0]) {
      currentDepths = [context].concat(depths);
    }

    return fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths);
  }

  prog = executeDecorators(fn, prog, container, depths, data, blockParams);

  prog.program = i;
  prog.depth = depths ? depths.length : 0;
  prog.blockParams = declaredBlockParams || 0;
  return prog;
}

function resolvePartial(partial, context, options) {
  if (!partial) {
    if (options.name === '@partial-block') {
      partial = options.data['partial-block'];
    } else {
      partial = options.partials[options.name];
    }
  } else if (!partial.call && !options.name) {
    // This is a dynamic partial that returned a string
    options.name = partial;
    partial = options.partials[partial];
  }
  return partial;
}

function invokePartial(partial, context, options) {
  options.partial = true;
  if (options.ids) {
    options.data.contextPath = options.ids[0] || options.data.contextPath;
  }

  var partialBlock = undefined;
  if (options.fn && options.fn !== noop) {
    options.data = _base.createFrame(options.data);
    partialBlock = options.data['partial-block'] = options.fn;

    if (partialBlock.partials) {
      options.partials = Utils.extend({}, options.partials, partialBlock.partials);
    }
  }

  if (partial === undefined && partialBlock) {
    partial = partialBlock;
  }

  if (partial === undefined) {
    throw new _exception2['default']('The partial ' + options.name + ' could not be found');
  } else if (partial instanceof Function) {
    return partial(context, options);
  }
}

function noop() {
  return '';
}

function initData(context, data) {
  if (!data || !('root' in data)) {
    data = data ? _base.createFrame(data) : {};
    data.root = context;
  }
  return data;
}

function executeDecorators(fn, prog, container, depths, data, blockParams) {
  if (fn.decorator) {
    var props = {};
    prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);
    Utils.extend(prog, props);
  }
  return prog;
}


},{"./base":8,"./exception":11,"./utils":24}],23:[function(require,module,exports){
// Build out our basic SafeString type
'use strict';

exports.__esModule = true;
function SafeString(string) {
  this.string = string;
}

SafeString.prototype.toString = SafeString.prototype.toHTML = function () {
  return '' + this.string;
};

exports['default'] = SafeString;
module.exports = exports['default'];


},{}],24:[function(require,module,exports){
'use strict';

exports.__esModule = true;
exports.extend = extend;
exports.indexOf = indexOf;
exports.escapeExpression = escapeExpression;
exports.isEmpty = isEmpty;
exports.createFrame = createFrame;
exports.blockParams = blockParams;
exports.appendContextPath = appendContextPath;
var escape = {
  '&': '&amp;',
  '<': '&lt;',
  '>': '&gt;',
  '"': '&quot;',
  "'": '&#x27;',
  '`': '&#x60;',
  '=': '&#x3D;'
};

var badChars = /[&<>"'`=]/g,
    possible = /[&<>"'`=]/;

function escapeChar(chr) {
  return escape[chr];
}

function extend(obj /* , ...source */) {
  for (var i = 1; i < arguments.length; i++) {
    for (var key in arguments[i]) {
      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {
        obj[key] = arguments[i][key];
      }
    }
  }

  return obj;
}

var toString = Object.prototype.toString;

exports.toString = toString;
// Sourced from lodash
// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt
/* eslint-disable func-style */
var isFunction = function isFunction(value) {
  return typeof value === 'function';
};
// fallback for older versions of Chrome and Safari
/* istanbul ignore next */
if (isFunction(/x/)) {
  exports.isFunction = isFunction = function (value) {
    return typeof value === 'function' && toString.call(value) === '[object Function]';
  };
}
exports.isFunction = isFunction;

/* eslint-enable func-style */

/* istanbul ignore next */
var isArray = Array.isArray || function (value) {
  return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false;
};

exports.isArray = isArray;
// Older IE versions do not directly support indexOf so we must implement our own, sadly.

function indexOf(array, value) {
  for (var i = 0, len = array.length; i < len; i++) {
    if (array[i] === value) {
      return i;
    }
  }
  return -1;
}

function escapeExpression(string) {
  if (typeof string !== 'string') {
    // don't escape SafeStrings, since they're already safe
    if (string && string.toHTML) {
      return string.toHTML();
    } else if (string == null) {
      return '';
    } else if (!string) {
      return string + '';
    }

    // Force a string conversion as this will be done by the append regardless and
    // the regex test will do this transparently behind the scenes, causing issues if
    // an object's to string has escaped characters in it.
    string = '' + string;
  }

  if (!possible.test(string)) {
    return string;
  }
  return string.replace(badChars, escapeChar);
}

function isEmpty(value) {
  if (!value && value !== 0) {
    return true;
  } else if (isArray(value) && value.length === 0) {
    return true;
  } else {
    return false;
  }
}

function createFrame(object) {
  var frame = extend({}, object);
  frame._parent = object;
  return frame;
}

function blockParams(params, ids) {
  params.path = ids;
  return params;
}

function appendContextPath(contextPath, id) {
  return (contextPath ? contextPath + '.' : '') + id;
}


},{}],25:[function(require,module,exports){
// Create a simple path alias to allow browserify to resolve
// the runtime on a supported path.
module.exports = require('./dist/cjs/handlebars.runtime')['default'];

},{"./dist/cjs/handlebars.runtime":7}],26:[function(require,module,exports){
module.exports = require("handlebars/runtime")["default"];

},{"handlebars/runtime":25}],27:[function(require,module,exports){
/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */

(function( global, factory ) {

	if ( typeof module === "object" && typeof module.exports === "object" ) {
		// For CommonJS and CommonJS-like environments where a proper `window`
		// is present, execute the factory and get jQuery.
		// For environments that do not have a `window` with a `document`
		// (such as Node.js), expose a factory as module.exports.
		// This accentuates the need for the creation of a real `window`.
		// e.g. var jQuery = require("jquery")(window);
		// See ticket #14549 for more info.
		module.exports = global.document ?
			factory( global, true ) :
			function( w ) {
				if ( !w.document ) {
					throw new Error( "jQuery requires a window with a document" );
				}
				return factory( w );
			};
	} else {
		factory( global );
	}

// Pass this if window is not defined yet
}(typeof window !== "undefined" ? window : this, function( window, noGlobal ) {

// Support: Firefox 18+
// Can't be in strict mode, several libs including ASP.NET trace
// the stack via arguments.caller.callee and Firefox dies if
// you try to trace through "use strict" call chains. (#13335)
//

var arr = [];

var slice = arr.slice;

var concat = arr.concat;

var push = arr.push;

var indexOf = arr.indexOf;

var class2type = {};

var toString = class2type.toString;

var hasOwn = class2type.hasOwnProperty;

var support = {};



var
	// Use the correct document accordingly with window argument (sandbox)
	document = window.document,

	version = "2.1.4",

	// Define a local copy of jQuery
	jQuery = function( selector, context ) {
		// The jQuery object is actually just the init constructor 'enhanced'
		// Need init if jQuery is called (just allow error to be thrown if not included)
		return new jQuery.fn.init( selector, context );
	},

	// Support: Android<4.1
	// Make sure we trim BOM and NBSP
	rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,

	// Matches dashed string for camelizing
	rmsPrefix = /^-ms-/,
	rdashAlpha = /-([\da-z])/gi,

	// Used by jQuery.camelCase as callback to replace()
	fcamelCase = function( all, letter ) {
		return letter.toUpperCase();
	};

jQuery.fn = jQuery.prototype = {
	// The current version of jQuery being used
	jquery: version,

	constructor: jQuery,

	// Start with an empty selector
	selector: "",

	// The default length of a jQuery object is 0
	length: 0,

	toArray: function() {
		return slice.call( this );
	},

	// Get the Nth element in the matched element set OR
	// Get the whole matched element set as a clean array
	get: function( num ) {
		return num != null ?

			// Return just the one element from the set
			( num < 0 ? this[ num + this.length ] : this[ num ] ) :

			// Return all the elements in a clean array
			slice.call( this );
	},

	// Take an array of elements and push it onto the stack
	// (returning the new matched element set)
	pushStack: function( elems ) {

		// Build a new jQuery matched element set
		var ret = jQuery.merge( this.constructor(), elems );

		// Add the old object onto the stack (as a reference)
		ret.prevObject = this;
		ret.context = this.context;

		// Return the newly-formed element set
		return ret;
	},

	// Execute a callback for every element in the matched set.
	// (You can seed the arguments with an array of args, but this is
	// only used internally.)
	each: function( callback, args ) {
		return jQuery.each( this, callback, args );
	},

	map: function( callback ) {
		return this.pushStack( jQuery.map(this, function( elem, i ) {
			return callback.call( elem, i, elem );
		}));
	},

	slice: function() {
		return this.pushStack( slice.apply( this, arguments ) );
	},

	first: function() {
		return this.eq( 0 );
	},

	last: function() {
		return this.eq( -1 );
	},

	eq: function( i ) {
		var len = this.length,
			j = +i + ( i < 0 ? len : 0 );
		return this.pushStack( j >= 0 && j < len ? [ this[j] ] : [] );
	},

	end: function() {
		return this.prevObject || this.constructor(null);
	},

	// For internal use only.
	// Behaves like an Array's method, not like a jQuery method.
	push: push,
	sort: arr.sort,
	splice: arr.splice
};

jQuery.extend = jQuery.fn.extend = function() {
	var options, name, src, copy, copyIsArray, clone,
		target = arguments[0] || {},
		i = 1,
		length = arguments.length,
		deep = false;

	// Handle a deep copy situation
	if ( typeof target === "boolean" ) {
		deep = target;

		// Skip the boolean and the target
		target = arguments[ i ] || {};
		i++;
	}

	// Handle case when target is a string or something (possible in deep copy)
	if ( typeof target !== "object" && !jQuery.isFunction(target) ) {
		target = {};
	}

	// Extend jQuery itself if only one argument is passed
	if ( i === length ) {
		target = this;
		i--;
	}

	for ( ; i < length; i++ ) {
		// Only deal with non-null/undefined values
		if ( (options = arguments[ i ]) != null ) {
			// Extend the base object
			for ( name in options ) {
				src = target[ name ];
				copy = options[ name ];

				// Prevent never-ending loop
				if ( target === copy ) {
					continue;
				}

				// Recurse if we're merging plain objects or arrays
				if ( deep && copy && ( jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)) ) ) {
					if ( copyIsArray ) {
						copyIsArray = false;
						clone = src && jQuery.isArray(src) ? src : [];

					} else {
						clone = src && jQuery.isPlainObject(src) ? src : {};
					}

					// Never move original objects, clone them
					target[ name ] = jQuery.extend( deep, clone, copy );

				// Don't bring in undefined values
				} else if ( copy !== undefined ) {
					target[ name ] = copy;
				}
			}
		}
	}

	// Return the modified object
	return target;
};

jQuery.extend({
	// Unique for each copy of jQuery on the page
	expando: "jQuery" + ( version + Math.random() ).replace( /\D/g, "" ),

	// Assume jQuery is ready without the ready module
	isReady: true,

	error: function( msg ) {
		throw new Error( msg );
	},

	noop: function() {},

	isFunction: function( obj ) {
		return jQuery.type(obj) === "function";
	},

	isArray: Array.isArray,

	isWindow: function( obj ) {
		return obj != null && obj === obj.window;
	},

	isNumeric: function( obj ) {
		// parseFloat NaNs numeric-cast false positives (null|true|false|"")
		// ...but misinterprets leading-number strings, particularly hex literals ("0x...")
		// subtraction forces infinities to NaN
		// adding 1 corrects loss of precision from parseFloat (#15100)
		return !jQuery.isArray( obj ) && (obj - parseFloat( obj ) + 1) >= 0;
	},

	isPlainObject: function( obj ) {
		// Not plain objects:
		// - Any object or value whose internal [[Class]] property is not "[object Object]"
		// - DOM nodes
		// - window
		if ( jQuery.type( obj ) !== "object" || obj.nodeType || jQuery.isWindow( obj ) ) {
			return false;
		}

		if ( obj.constructor &&
				!hasOwn.call( obj.constructor.prototype, "isPrototypeOf" ) ) {
			return false;
		}

		// If the function hasn't returned already, we're confident that
		// |obj| is a plain object, created by {} or constructed with new Object
		return true;
	},

	isEmptyObject: function( obj ) {
		var name;
		for ( name in obj ) {
			return false;
		}
		return true;
	},

	type: function( obj ) {
		if ( obj == null ) {
			return obj + "";
		}
		// Support: Android<4.0, iOS<6 (functionish RegExp)
		return typeof obj === "object" || typeof obj === "function" ?
			class2type[ toString.call(obj) ] || "object" :
			typeof obj;
	},

	// Evaluates a script in a global context
	globalEval: function( code ) {
		var script,
			indirect = eval;

		code = jQuery.trim( code );

		if ( code ) {
			// If the code includes a valid, prologue position
			// strict mode pragma, execute code by injecting a
			// script tag into the document.
			if ( code.indexOf("use strict") === 1 ) {
				script = document.createElement("script");
				script.text = code;
				document.head.appendChild( script ).parentNode.removeChild( script );
			} else {
			// Otherwise, avoid the DOM node creation, insertion
			// and removal by using an indirect global eval
				indirect( code );
			}
		}
	},

	// Convert dashed to camelCase; used by the css and data modules
	// Support: IE9-11+
	// Microsoft forgot to hump their vendor prefix (#9572)
	camelCase: function( string ) {
		return string.replace( rmsPrefix, "ms-" ).replace( rdashAlpha, fcamelCase );
	},

	nodeName: function( elem, name ) {
		return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();
	},

	// args is for internal usage only
	each: function( obj, callback, args ) {
		var value,
			i = 0,
			length = obj.length,
			isArray = isArraylike( obj );

		if ( args ) {
			if ( isArray ) {
				for ( ; i < length; i++ ) {
					value = callback.apply( obj[ i ], args );

					if ( value === false ) {
						break;
					}
				}
			} else {
				for ( i in obj ) {
					value = callback.apply( obj[ i ], args );

					if ( value === false ) {
						break;
					}
				}
			}

		// A special, fast, case for the most common use of each
		} else {
			if ( isArray ) {
				for ( ; i < length; i++ ) {
					value = callback.call( obj[ i ], i, obj[ i ] );

					if ( value === false ) {
						break;
					}
				}
			} else {
				for ( i in obj ) {
					value = callback.call( obj[ i ], i, obj[ i ] );

					if ( value === false ) {
						break;
					}
				}
			}
		}

		return obj;
	},

	// Support: Android<4.1
	trim: function( text ) {
		return text == null ?
			"" :
			( text + "" ).replace( rtrim, "" );
	},

	// results is for internal usage only
	makeArray: function( arr, results ) {
		var ret = results || [];

		if ( arr != null ) {
			if ( isArraylike( Object(arr) ) ) {
				jQuery.merge( ret,
					typeof arr === "string" ?
					[ arr ] : arr
				);
			} else {
				push.call( ret, arr );
			}
		}

		return ret;
	},

	inArray: function( elem, arr, i ) {
		return arr == null ? -1 : indexOf.call( arr, elem, i );
	},

	merge: function( first, second ) {
		var len = +second.length,
			j = 0,
			i = first.length;

		for ( ; j < len; j++ ) {
			first[ i++ ] = second[ j ];
		}

		first.length = i;

		return first;
	},

	grep: function( elems, callback, invert ) {
		var callbackInverse,
			matches = [],
			i = 0,
			length = elems.length,
			callbackExpect = !invert;

		// Go through the array, only saving the items
		// that pass the validator function
		for ( ; i < length; i++ ) {
			callbackInverse = !callback( elems[ i ], i );
			if ( callbackInverse !== callbackExpect ) {
				matches.push( elems[ i ] );
			}
		}

		return matches;
	},

	// arg is for internal usage only
	map: function( elems, callback, arg ) {
		var value,
			i = 0,
			length = elems.length,
			isArray = isArraylike( elems ),
			ret = [];

		// Go through the array, translating each of the items to their new values
		if ( isArray ) {
			for ( ; i < length; i++ ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}

		// Go through every key on the object,
		} else {
			for ( i in elems ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}
		}

		// Flatten any nested arrays
		return concat.apply( [], ret );
	},

	// A global GUID counter for objects
	guid: 1,

	// Bind a function to a context, optionally partially applying any
	// arguments.
	proxy: function( fn, context ) {
		var tmp, args, proxy;

		if ( typeof context === "string" ) {
			tmp = fn[ context ];
			context = fn;
			fn = tmp;
		}

		// Quick check to determine if target is callable, in the spec
		// this throws a TypeError, but we will just return undefined.
		if ( !jQuery.isFunction( fn ) ) {
			return undefined;
		}

		// Simulated bind
		args = slice.call( arguments, 2 );
		proxy = function() {
			return fn.apply( context || this, args.concat( slice.call( arguments ) ) );
		};

		// Set the guid of unique handler to the same of original handler, so it can be removed
		proxy.guid = fn.guid = fn.guid || jQuery.guid++;

		return proxy;
	},

	now: Date.now,

	// jQuery.support is not used in Core but other projects attach their
	// properties to it so it needs to exist.
	support: support
});

// Populate the class2type map
jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(i, name) {
	class2type[ "[object " + name + "]" ] = name.toLowerCase();
});

function isArraylike( obj ) {

	// Support: iOS 8.2 (not reproducible in simulator)
	// `in` check used to prevent JIT error (gh-2145)
	// hasOwn isn't used here due to false negatives
	// regarding Nodelist length in IE
	var length = "length" in obj && obj.length,
		type = jQuery.type( obj );

	if ( type === "function" || jQuery.isWindow( obj ) ) {
		return false;
	}

	if ( obj.nodeType === 1 && length ) {
		return true;
	}

	return type === "array" || length === 0 ||
		typeof length === "number" && length > 0 && ( length - 1 ) in obj;
}
var Sizzle =
/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
(function( window ) {

var i,
	support,
	Expr,
	getText,
	isXML,
	tokenize,
	compile,
	select,
	outermostContext,
	sortInput,
	hasDuplicate,

	// Local document vars
	setDocument,
	document,
	docElem,
	documentIsHTML,
	rbuggyQSA,
	rbuggyMatches,
	matches,
	contains,

	// Instance-specific data
	expando = "sizzle" + 1 * new Date(),
	preferredDoc = window.document,
	dirruns = 0,
	done = 0,
	classCache = createCache(),
	tokenCache = createCache(),
	compilerCache = createCache(),
	sortOrder = function( a, b ) {
		if ( a === b ) {
			hasDuplicate = true;
		}
		return 0;
	},

	// General-purpose constants
	MAX_NEGATIVE = 1 << 31,

	// Instance methods
	hasOwn = ({}).hasOwnProperty,
	arr = [],
	pop = arr.pop,
	push_native = arr.push,
	push = arr.push,
	slice = arr.slice,
	// Use a stripped-down indexOf as it's faster than native
	// http://jsperf.com/thor-indexof-vs-for/5
	indexOf = function( list, elem ) {
		var i = 0,
			len = list.length;
		for ( ; i < len; i++ ) {
			if ( list[i] === elem ) {
				return i;
			}
		}
		return -1;
	},

	booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",

	// Regular expressions

	// Whitespace characters http://www.w3.org/TR/css3-selectors/#whitespace
	whitespace = "[\\x20\\t\\r\\n\\f]",
	// http://www.w3.org/TR/css3-syntax/#characters
	characterEncoding = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",

	// Loosely modeled on CSS identifier characters
	// An unquoted value should be a CSS identifier http://www.w3.org/TR/css3-selectors/#attribute-selectors
	// Proper syntax: http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier
	identifier = characterEncoding.replace( "w", "w#" ),

	// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors
	attributes = "\\[" + whitespace + "*(" + characterEncoding + ")(?:" + whitespace +
		// Operator (capture 2)
		"*([*^$|!~]?=)" + whitespace +
		// "Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]"
		"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" + whitespace +
		"*\\]",

	pseudos = ":(" + characterEncoding + ")(?:\\((" +
		// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:
		// 1. quoted (capture 3; capture 4 or capture 5)
		"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" +
		// 2. simple (capture 6)
		"((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" +
		// 3. anything else (capture 2)
		".*" +
		")\\)|)",

	// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter
	rwhitespace = new RegExp( whitespace + "+", "g" ),
	rtrim = new RegExp( "^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g" ),

	rcomma = new RegExp( "^" + whitespace + "*," + whitespace + "*" ),
	rcombinators = new RegExp( "^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace + "*" ),

	rattributeQuotes = new RegExp( "=" + whitespace + "*([^\\]'\"]*?)" + whitespace + "*\\]", "g" ),

	rpseudo = new RegExp( pseudos ),
	ridentifier = new RegExp( "^" + identifier + "$" ),

	matchExpr = {
		"ID": new RegExp( "^#(" + characterEncoding + ")" ),
		"CLASS": new RegExp( "^\\.(" + characterEncoding + ")" ),
		"TAG": new RegExp( "^(" + characterEncoding.replace( "w", "w*" ) + ")" ),
		"ATTR": new RegExp( "^" + attributes ),
		"PSEUDO": new RegExp( "^" + pseudos ),
		"CHILD": new RegExp( "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + whitespace +
			"*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace +
			"*(\\d+)|))" + whitespace + "*\\)|)", "i" ),
		"bool": new RegExp( "^(?:" + booleans + ")$", "i" ),
		// For use in libraries implementing .is()
		// We use this for POS matching in `select`
		"needsContext": new RegExp( "^" + whitespace + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
			whitespace + "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i" )
	},

	rinputs = /^(?:input|select|textarea|button)$/i,
	rheader = /^h\d$/i,

	rnative = /^[^{]+\{\s*\[native \w/,

	// Easily-parseable/retrievable ID or TAG or CLASS selectors
	rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,

	rsibling = /[+~]/,
	rescape = /'|\\/g,

	// CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters
	runescape = new RegExp( "\\\\([\\da-f]{1,6}" + whitespace + "?|(" + whitespace + ")|.)", "ig" ),
	funescape = function( _, escaped, escapedWhitespace ) {
		var high = "0x" + escaped - 0x10000;
		// NaN means non-codepoint
		// Support: Firefox<24
		// Workaround erroneous numeric interpretation of +"0x"
		return high !== high || escapedWhitespace ?
			escaped :
			high < 0 ?
				// BMP codepoint
				String.fromCharCode( high + 0x10000 ) :
				// Supplemental Plane codepoint (surrogate pair)
				String.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );
	},

	// Used for iframes
	// See setDocument()
	// Removing the function wrapper causes a "Permission Denied"
	// error in IE
	unloadHandler = function() {
		setDocument();
	};

// Optimize for push.apply( _, NodeList )
try {
	push.apply(
		(arr = slice.call( preferredDoc.childNodes )),
		preferredDoc.childNodes
	);
	// Support: Android<4.0
	// Detect silently failing push.apply
	arr[ preferredDoc.childNodes.length ].nodeType;
} catch ( e ) {
	push = { apply: arr.length ?

		// Leverage slice if possible
		function( target, els ) {
			push_native.apply( target, slice.call(els) );
		} :

		// Support: IE<9
		// Otherwise append directly
		function( target, els ) {
			var j = target.length,
				i = 0;
			// Can't trust NodeList.length
			while ( (target[j++] = els[i++]) ) {}
			target.length = j - 1;
		}
	};
}

function Sizzle( selector, context, results, seed ) {
	var match, elem, m, nodeType,
		// QSA vars
		i, groups, old, nid, newContext, newSelector;

	if ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {
		setDocument( context );
	}

	context = context || document;
	results = results || [];
	nodeType = context.nodeType;

	if ( typeof selector !== "string" || !selector ||
		nodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {

		return results;
	}

	if ( !seed && documentIsHTML ) {

		// Try to shortcut find operations when possible (e.g., not under DocumentFragment)
		if ( nodeType !== 11 && (match = rquickExpr.exec( selector )) ) {
			// Speed-up: Sizzle("#ID")
			if ( (m = match[1]) ) {
				if ( nodeType === 9 ) {
					elem = context.getElementById( m );
					// Check parentNode to catch when Blackberry 4.6 returns
					// nodes that are no longer in the document (jQuery #6963)
					if ( elem && elem.parentNode ) {
						// Handle the case where IE, Opera, and Webkit return items
						// by name instead of ID
						if ( elem.id === m ) {
							results.push( elem );
							return results;
						}
					} else {
						return results;
					}
				} else {
					// Context is not a document
					if ( context.ownerDocument && (elem = context.ownerDocument.getElementById( m )) &&
						contains( context, elem ) && elem.id === m ) {
						results.push( elem );
						return results;
					}
				}

			// Speed-up: Sizzle("TAG")
			} else if ( match[2] ) {
				push.apply( results, context.getElementsByTagName( selector ) );
				return results;

			// Speed-up: Sizzle(".CLASS")
			} else if ( (m = match[3]) && support.getElementsByClassName ) {
				push.apply( results, context.getElementsByClassName( m ) );
				return results;
			}
		}

		// QSA path
		if ( support.qsa && (!rbuggyQSA || !rbuggyQSA.test( selector )) ) {
			nid = old = expando;
			newContext = context;
			newSelector = nodeType !== 1 && selector;

			// qSA works strangely on Element-rooted queries
			// We can work around this by specifying an extra ID on the root
			// and working up from there (Thanks to Andrew Dupont for the technique)
			// IE 8 doesn't work on object elements
			if ( nodeType === 1 && context.nodeName.toLowerCase() !== "object" ) {
				groups = tokenize( selector );

				if ( (old = context.getAttribute("id")) ) {
					nid = old.replace( rescape, "\\$&" );
				} else {
					context.setAttribute( "id", nid );
				}
				nid = "[id='" + nid + "'] ";

				i = groups.length;
				while ( i-- ) {
					groups[i] = nid + toSelector( groups[i] );
				}
				newContext = rsibling.test( selector ) && testContext( context.parentNode ) || context;
				newSelector = groups.join(",");
			}

			if ( newSelector ) {
				try {
					push.apply( results,
						newContext.querySelectorAll( newSelector )
					);
					return results;
				} catch(qsaError) {
				} finally {
					if ( !old ) {
						context.removeAttribute("id");
					}
				}
			}
		}
	}

	// All others
	return select( selector.replace( rtrim, "$1" ), context, results, seed );
}

/**
 * Create key-value caches of limited size
 * @returns {Function(string, Object)} Returns the Object data after storing it on itself with
 *	property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)
 *	deleting the oldest entry
 */
function createCache() {
	var keys = [];

	function cache( key, value ) {
		// Use (key + " ") to avoid collision with native prototype properties (see Issue #157)
		if ( keys.push( key + " " ) > Expr.cacheLength ) {
			// Only keep the most recent entries
			delete cache[ keys.shift() ];
		}
		return (cache[ key + " " ] = value);
	}
	return cache;
}

/**
 * Mark a function for special use by Sizzle
 * @param {Function} fn The function to mark
 */
function markFunction( fn ) {
	fn[ expando ] = true;
	return fn;
}

/**
 * Support testing using an element
 * @param {Function} fn Passed the created div and expects a boolean result
 */
function assert( fn ) {
	var div = document.createElement("div");

	try {
		return !!fn( div );
	} catch (e) {
		return false;
	} finally {
		// Remove from its parent by default
		if ( div.parentNode ) {
			div.parentNode.removeChild( div );
		}
		// release memory in IE
		div = null;
	}
}

/**
 * Adds the same handler for all of the specified attrs
 * @param {String} attrs Pipe-separated list of attributes
 * @param {Function} handler The method that will be applied
 */
function addHandle( attrs, handler ) {
	var arr = attrs.split("|"),
		i = attrs.length;

	while ( i-- ) {
		Expr.attrHandle[ arr[i] ] = handler;
	}
}

/**
 * Checks document order of two siblings
 * @param {Element} a
 * @param {Element} b
 * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b
 */
function siblingCheck( a, b ) {
	var cur = b && a,
		diff = cur && a.nodeType === 1 && b.nodeType === 1 &&
			( ~b.sourceIndex || MAX_NEGATIVE ) -
			( ~a.sourceIndex || MAX_NEGATIVE );

	// Use IE sourceIndex if available on both nodes
	if ( diff ) {
		return diff;
	}

	// Check if b follows a
	if ( cur ) {
		while ( (cur = cur.nextSibling) ) {
			if ( cur === b ) {
				return -1;
			}
		}
	}

	return a ? 1 : -1;
}

/**
 * Returns a function to use in pseudos for input types
 * @param {String} type
 */
function createInputPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return name === "input" && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for buttons
 * @param {String} type
 */
function createButtonPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return (name === "input" || name === "button") && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for positionals
 * @param {Function} fn
 */
function createPositionalPseudo( fn ) {
	return markFunction(function( argument ) {
		argument = +argument;
		return markFunction(function( seed, matches ) {
			var j,
				matchIndexes = fn( [], seed.length, argument ),
				i = matchIndexes.length;

			// Match elements found at the specified indexes
			while ( i-- ) {
				if ( seed[ (j = matchIndexes[i]) ] ) {
					seed[j] = !(matches[j] = seed[j]);
				}
			}
		});
	});
}

/**
 * Checks a node for validity as a Sizzle context
 * @param {Element|Object=} context
 * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value
 */
function testContext( context ) {
	return context && typeof context.getElementsByTagName !== "undefined" && context;
}

// Expose support vars for convenience
support = Sizzle.support = {};

/**
 * Detects XML nodes
 * @param {Element|Object} elem An element or a document
 * @returns {Boolean} True iff elem is a non-HTML XML node
 */
isXML = Sizzle.isXML = function( elem ) {
	// documentElement is verified for cases where it doesn't yet exist
	// (such as loading iframes in IE - #4833)
	var documentElement = elem && (elem.ownerDocument || elem).documentElement;
	return documentElement ? documentElement.nodeName !== "HTML" : false;
};

/**
 * Sets document-related variables once based on the current document
 * @param {Element|Object} [doc] An element or document object to use to set the document
 * @returns {Object} Returns the current document
 */
setDocument = Sizzle.setDocument = function( node ) {
	var hasCompare, parent,
		doc = node ? node.ownerDocument || node : preferredDoc;

	// If no document and documentElement is available, return
	if ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {
		return document;
	}

	// Set our document
	document = doc;
	docElem = doc.documentElement;
	parent = doc.defaultView;

	// Support: IE>8
	// If iframe document is assigned to "document" variable and if iframe has been reloaded,
	// IE will throw "permission denied" error when accessing "document" variable, see jQuery #13936
	// IE6-8 do not support the defaultView property so parent will be undefined
	if ( parent && parent !== parent.top ) {
		// IE11 does not have attachEvent, so all must suffer
		if ( parent.addEventListener ) {
			parent.addEventListener( "unload", unloadHandler, false );
		} else if ( parent.attachEvent ) {
			parent.attachEvent( "onunload", unloadHandler );
		}
	}

	/* Support tests
	---------------------------------------------------------------------- */
	documentIsHTML = !isXML( doc );

	/* Attributes
	---------------------------------------------------------------------- */

	// Support: IE<8
	// Verify that getAttribute really returns attributes and not properties
	// (excepting IE8 booleans)
	support.attributes = assert(function( div ) {
		div.className = "i";
		return !div.getAttribute("className");
	});

	/* getElement(s)By*
	---------------------------------------------------------------------- */

	// Check if getElementsByTagName("*") returns only elements
	support.getElementsByTagName = assert(function( div ) {
		div.appendChild( doc.createComment("") );
		return !div.getElementsByTagName("*").length;
	});

	// Support: IE<9
	support.getElementsByClassName = rnative.test( doc.getElementsByClassName );

	// Support: IE<10
	// Check if getElementById returns elements by name
	// The broken getElementById methods don't pick up programatically-set names,
	// so use a roundabout getElementsByName test
	support.getById = assert(function( div ) {
		docElem.appendChild( div ).id = expando;
		return !doc.getElementsByName || !doc.getElementsByName( expando ).length;
	});

	// ID find and filter
	if ( support.getById ) {
		Expr.find["ID"] = function( id, context ) {
			if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
				var m = context.getElementById( id );
				// Check parentNode to catch when Blackberry 4.6 returns
				// nodes that are no longer in the document #6963
				return m && m.parentNode ? [ m ] : [];
			}
		};
		Expr.filter["ID"] = function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				return elem.getAttribute("id") === attrId;
			};
		};
	} else {
		// Support: IE6/7
		// getElementById is not reliable as a find shortcut
		delete Expr.find["ID"];

		Expr.filter["ID"] =  function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				var node = typeof elem.getAttributeNode !== "undefined" && elem.getAttributeNode("id");
				return node && node.value === attrId;
			};
		};
	}

	// Tag
	Expr.find["TAG"] = support.getElementsByTagName ?
		function( tag, context ) {
			if ( typeof context.getElementsByTagName !== "undefined" ) {
				return context.getElementsByTagName( tag );

			// DocumentFragment nodes don't have gEBTN
			} else if ( support.qsa ) {
				return context.querySelectorAll( tag );
			}
		} :

		function( tag, context ) {
			var elem,
				tmp = [],
				i = 0,
				// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too
				results = context.getElementsByTagName( tag );

			// Filter out possible comments
			if ( tag === "*" ) {
				while ( (elem = results[i++]) ) {
					if ( elem.nodeType === 1 ) {
						tmp.push( elem );
					}
				}

				return tmp;
			}
			return results;
		};

	// Class
	Expr.find["CLASS"] = support.getElementsByClassName && function( className, context ) {
		if ( documentIsHTML ) {
			return context.getElementsByClassName( className );
		}
	};

	/* QSA/matchesSelector
	---------------------------------------------------------------------- */

	// QSA and matchesSelector support

	// matchesSelector(:active) reports false when true (IE9/Opera 11.5)
	rbuggyMatches = [];

	// qSa(:focus) reports false when true (Chrome 21)
	// We allow this because of a bug in IE8/9 that throws an error
	// whenever `document.activeElement` is accessed on an iframe
	// So, we allow :focus to pass through QSA all the time to avoid the IE error
	// See http://bugs.jquery.com/ticket/13378
	rbuggyQSA = [];

	if ( (support.qsa = rnative.test( doc.querySelectorAll )) ) {
		// Build QSA regex
		// Regex strategy adopted from Diego Perini
		assert(function( div ) {
			// Select is set to empty string on purpose
			// This is to test IE's treatment of not explicitly
			// setting a boolean content attribute,
			// since its presence should be enough
			// http://bugs.jquery.com/ticket/12359
			docElem.appendChild( div ).innerHTML = "<a id='" + expando + "'></a>" +
				"<select id='" + expando + "-\f]' msallowcapture=''>" +
				"<option selected=''></option></select>";

			// Support: IE8, Opera 11-12.16
			// Nothing should be selected when empty strings follow ^= or $= or *=
			// The test attribute must be unknown in Opera but "safe" for WinRT
			// http://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section
			if ( div.querySelectorAll("[msallowcapture^='']").length ) {
				rbuggyQSA.push( "[*^$]=" + whitespace + "*(?:''|\"\")" );
			}

			// Support: IE8
			// Boolean attributes and "value" are not treated correctly
			if ( !div.querySelectorAll("[selected]").length ) {
				rbuggyQSA.push( "\\[" + whitespace + "*(?:value|" + booleans + ")" );
			}

			// Support: Chrome<29, Android<4.2+, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.7+
			if ( !div.querySelectorAll( "[id~=" + expando + "-]" ).length ) {
				rbuggyQSA.push("~=");
			}

			// Webkit/Opera - :checked should return selected option elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			// IE8 throws error here and will not see later tests
			if ( !div.querySelectorAll(":checked").length ) {
				rbuggyQSA.push(":checked");
			}

			// Support: Safari 8+, iOS 8+
			// https://bugs.webkit.org/show_bug.cgi?id=136851
			// In-page `selector#id sibing-combinator selector` fails
			if ( !div.querySelectorAll( "a#" + expando + "+*" ).length ) {
				rbuggyQSA.push(".#.+[+~]");
			}
		});

		assert(function( div ) {
			// Support: Windows 8 Native Apps
			// The type and name attributes are restricted during .innerHTML assignment
			var input = doc.createElement("input");
			input.setAttribute( "type", "hidden" );
			div.appendChild( input ).setAttribute( "name", "D" );

			// Support: IE8
			// Enforce case-sensitivity of name attribute
			if ( div.querySelectorAll("[name=d]").length ) {
				rbuggyQSA.push( "name" + whitespace + "*[*^$|!~]?=" );
			}

			// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)
			// IE8 throws error here and will not see later tests
			if ( !div.querySelectorAll(":enabled").length ) {
				rbuggyQSA.push( ":enabled", ":disabled" );
			}

			// Opera 10-11 does not throw on post-comma invalid pseudos
			div.querySelectorAll("*,:x");
			rbuggyQSA.push(",.*:");
		});
	}

	if ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||
		docElem.webkitMatchesSelector ||
		docElem.mozMatchesSelector ||
		docElem.oMatchesSelector ||
		docElem.msMatchesSelector) )) ) {

		assert(function( div ) {
			// Check to see if it's possible to do matchesSelector
			// on a disconnected node (IE 9)
			support.disconnectedMatch = matches.call( div, "div" );

			// This should fail with an exception
			// Gecko does not error, returns false instead
			matches.call( div, "[s!='']:x" );
			rbuggyMatches.push( "!=", pseudos );
		});
	}

	rbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join("|") );
	rbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join("|") );

	/* Contains
	---------------------------------------------------------------------- */
	hasCompare = rnative.test( docElem.compareDocumentPosition );

	// Element contains another
	// Purposefully does not implement inclusive descendent
	// As in, an element does not contain itself
	contains = hasCompare || rnative.test( docElem.contains ) ?
		function( a, b ) {
			var adown = a.nodeType === 9 ? a.documentElement : a,
				bup = b && b.parentNode;
			return a === bup || !!( bup && bup.nodeType === 1 && (
				adown.contains ?
					adown.contains( bup ) :
					a.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16
			));
		} :
		function( a, b ) {
			if ( b ) {
				while ( (b = b.parentNode) ) {
					if ( b === a ) {
						return true;
					}
				}
			}
			return false;
		};

	/* Sorting
	---------------------------------------------------------------------- */

	// Document order sorting
	sortOrder = hasCompare ?
	function( a, b ) {

		// Flag for duplicate removal
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		// Sort on method existence if only one input has compareDocumentPosition
		var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
		if ( compare ) {
			return compare;
		}

		// Calculate position if both inputs belong to the same document
		compare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?
			a.compareDocumentPosition( b ) :

			// Otherwise we know they are disconnected
			1;

		// Disconnected nodes
		if ( compare & 1 ||
			(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {

			// Choose the first element that is related to our preferred document
			if ( a === doc || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {
				return -1;
			}
			if ( b === doc || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {
				return 1;
			}

			// Maintain original order
			return sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;
		}

		return compare & 4 ? -1 : 1;
	} :
	function( a, b ) {
		// Exit early if the nodes are identical
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		var cur,
			i = 0,
			aup = a.parentNode,
			bup = b.parentNode,
			ap = [ a ],
			bp = [ b ];

		// Parentless nodes are either documents or disconnected
		if ( !aup || !bup ) {
			return a === doc ? -1 :
				b === doc ? 1 :
				aup ? -1 :
				bup ? 1 :
				sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;

		// If the nodes are siblings, we can do a quick check
		} else if ( aup === bup ) {
			return siblingCheck( a, b );
		}

		// Otherwise we need full lists of their ancestors for comparison
		cur = a;
		while ( (cur = cur.parentNode) ) {
			ap.unshift( cur );
		}
		cur = b;
		while ( (cur = cur.parentNode) ) {
			bp.unshift( cur );
		}

		// Walk down the tree looking for a discrepancy
		while ( ap[i] === bp[i] ) {
			i++;
		}

		return i ?
			// Do a sibling check if the nodes have a common ancestor
			siblingCheck( ap[i], bp[i] ) :

			// Otherwise nodes in our document sort first
			ap[i] === preferredDoc ? -1 :
			bp[i] === preferredDoc ? 1 :
			0;
	};

	return doc;
};

Sizzle.matches = function( expr, elements ) {
	return Sizzle( expr, null, null, elements );
};

Sizzle.matchesSelector = function( elem, expr ) {
	// Set document vars if needed
	if ( ( elem.ownerDocument || elem ) !== document ) {
		setDocument( elem );
	}

	// Make sure that attribute selectors are quoted
	expr = expr.replace( rattributeQuotes, "='$1']" );

	if ( support.matchesSelector && documentIsHTML &&
		( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&
		( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {

		try {
			var ret = matches.call( elem, expr );

			// IE 9's matchesSelector returns false on disconnected nodes
			if ( ret || support.disconnectedMatch ||
					// As well, disconnected nodes are said to be in a document
					// fragment in IE 9
					elem.document && elem.document.nodeType !== 11 ) {
				return ret;
			}
		} catch (e) {}
	}

	return Sizzle( expr, document, null, [ elem ] ).length > 0;
};

Sizzle.contains = function( context, elem ) {
	// Set document vars if needed
	if ( ( context.ownerDocument || context ) !== document ) {
		setDocument( context );
	}
	return contains( context, elem );
};

Sizzle.attr = function( elem, name ) {
	// Set document vars if needed
	if ( ( elem.ownerDocument || elem ) !== document ) {
		setDocument( elem );
	}

	var fn = Expr.attrHandle[ name.toLowerCase() ],
		// Don't get fooled by Object.prototype properties (jQuery #13807)
		val = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?
			fn( elem, name, !documentIsHTML ) :
			undefined;

	return val !== undefined ?
		val :
		support.attributes || !documentIsHTML ?
			elem.getAttribute( name ) :
			(val = elem.getAttributeNode(name)) && val.specified ?
				val.value :
				null;
};

Sizzle.error = function( msg ) {
	throw new Error( "Syntax error, unrecognized expression: " + msg );
};

/**
 * Document sorting and removing duplicates
 * @param {ArrayLike} results
 */
Sizzle.uniqueSort = function( results ) {
	var elem,
		duplicates = [],
		j = 0,
		i = 0;

	// Unless we *know* we can detect duplicates, assume their presence
	hasDuplicate = !support.detectDuplicates;
	sortInput = !support.sortStable && results.slice( 0 );
	results.sort( sortOrder );

	if ( hasDuplicate ) {
		while ( (elem = results[i++]) ) {
			if ( elem === results[ i ] ) {
				j = duplicates.push( i );
			}
		}
		while ( j-- ) {
			results.splice( duplicates[ j ], 1 );
		}
	}

	// Clear input after sorting to release objects
	// See https://github.com/jquery/sizzle/pull/225
	sortInput = null;

	return results;
};

/**
 * Utility function for retrieving the text value of an array of DOM nodes
 * @param {Array|Element} elem
 */
getText = Sizzle.getText = function( elem ) {
	var node,
		ret = "",
		i = 0,
		nodeType = elem.nodeType;

	if ( !nodeType ) {
		// If no nodeType, this is expected to be an array
		while ( (node = elem[i++]) ) {
			// Do not traverse comment nodes
			ret += getText( node );
		}
	} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {
		// Use textContent for elements
		// innerText usage removed for consistency of new lines (jQuery #11153)
		if ( typeof elem.textContent === "string" ) {
			return elem.textContent;
		} else {
			// Traverse its children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				ret += getText( elem );
			}
		}
	} else if ( nodeType === 3 || nodeType === 4 ) {
		return elem.nodeValue;
	}
	// Do not include comment or processing instruction nodes

	return ret;
};

Expr = Sizzle.selectors = {

	// Can be adjusted by the user
	cacheLength: 50,

	createPseudo: markFunction,

	match: matchExpr,

	attrHandle: {},

	find: {},

	relative: {
		">": { dir: "parentNode", first: true },
		" ": { dir: "parentNode" },
		"+": { dir: "previousSibling", first: true },
		"~": { dir: "previousSibling" }
	},

	preFilter: {
		"ATTR": function( match ) {
			match[1] = match[1].replace( runescape, funescape );

			// Move the given value to match[3] whether quoted or unquoted
			match[3] = ( match[3] || match[4] || match[5] || "" ).replace( runescape, funescape );

			if ( match[2] === "~=" ) {
				match[3] = " " + match[3] + " ";
			}

			return match.slice( 0, 4 );
		},

		"CHILD": function( match ) {
			/* matches from matchExpr["CHILD"]
				1 type (only|nth|...)
				2 what (child|of-type)
				3 argument (even|odd|\d*|\d*n([+-]\d+)?|...)
				4 xn-component of xn+y argument ([+-]?\d*n|)
				5 sign of xn-component
				6 x of xn-component
				7 sign of y-component
				8 y of y-component
			*/
			match[1] = match[1].toLowerCase();

			if ( match[1].slice( 0, 3 ) === "nth" ) {
				// nth-* requires argument
				if ( !match[3] ) {
					Sizzle.error( match[0] );
				}

				// numeric x and y parameters for Expr.filter.CHILD
				// remember that false/true cast respectively to 0/1
				match[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === "even" || match[3] === "odd" ) );
				match[5] = +( ( match[7] + match[8] ) || match[3] === "odd" );

			// other types prohibit arguments
			} else if ( match[3] ) {
				Sizzle.error( match[0] );
			}

			return match;
		},

		"PSEUDO": function( match ) {
			var excess,
				unquoted = !match[6] && match[2];

			if ( matchExpr["CHILD"].test( match[0] ) ) {
				return null;
			}

			// Accept quoted arguments as-is
			if ( match[3] ) {
				match[2] = match[4] || match[5] || "";

			// Strip excess characters from unquoted arguments
			} else if ( unquoted && rpseudo.test( unquoted ) &&
				// Get excess from tokenize (recursively)
				(excess = tokenize( unquoted, true )) &&
				// advance to the next closing parenthesis
				(excess = unquoted.indexOf( ")", unquoted.length - excess ) - unquoted.length) ) {

				// excess is a negative index
				match[0] = match[0].slice( 0, excess );
				match[2] = unquoted.slice( 0, excess );
			}

			// Return only captures needed by the pseudo filter method (type and argument)
			return match.slice( 0, 3 );
		}
	},

	filter: {

		"TAG": function( nodeNameSelector ) {
			var nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();
			return nodeNameSelector === "*" ?
				function() { return true; } :
				function( elem ) {
					return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
				};
		},

		"CLASS": function( className ) {
			var pattern = classCache[ className + " " ];

			return pattern ||
				(pattern = new RegExp( "(^|" + whitespace + ")" + className + "(" + whitespace + "|$)" )) &&
				classCache( className, function( elem ) {
					return pattern.test( typeof elem.className === "string" && elem.className || typeof elem.getAttribute !== "undefined" && elem.getAttribute("class") || "" );
				});
		},

		"ATTR": function( name, operator, check ) {
			return function( elem ) {
				var result = Sizzle.attr( elem, name );

				if ( result == null ) {
					return operator === "!=";
				}
				if ( !operator ) {
					return true;
				}

				result += "";

				return operator === "=" ? result === check :
					operator === "!=" ? result !== check :
					operator === "^=" ? check && result.indexOf( check ) === 0 :
					operator === "*=" ? check && result.indexOf( check ) > -1 :
					operator === "$=" ? check && result.slice( -check.length ) === check :
					operator === "~=" ? ( " " + result.replace( rwhitespace, " " ) + " " ).indexOf( check ) > -1 :
					operator === "|=" ? result === check || result.slice( 0, check.length + 1 ) === check + "-" :
					false;
			};
		},

		"CHILD": function( type, what, argument, first, last ) {
			var simple = type.slice( 0, 3 ) !== "nth",
				forward = type.slice( -4 ) !== "last",
				ofType = what === "of-type";

			return first === 1 && last === 0 ?

				// Shortcut for :nth-*(n)
				function( elem ) {
					return !!elem.parentNode;
				} :

				function( elem, context, xml ) {
					var cache, outerCache, node, diff, nodeIndex, start,
						dir = simple !== forward ? "nextSibling" : "previousSibling",
						parent = elem.parentNode,
						name = ofType && elem.nodeName.toLowerCase(),
						useCache = !xml && !ofType;

					if ( parent ) {

						// :(first|last|only)-(child|of-type)
						if ( simple ) {
							while ( dir ) {
								node = elem;
								while ( (node = node[ dir ]) ) {
									if ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) {
										return false;
									}
								}
								// Reverse direction for :only-* (if we haven't yet done so)
								start = dir = type === "only" && !start && "nextSibling";
							}
							return true;
						}

						start = [ forward ? parent.firstChild : parent.lastChild ];

						// non-xml :nth-child(...) stores cache data on `parent`
						if ( forward && useCache ) {
							// Seek `elem` from a previously-cached index
							outerCache = parent[ expando ] || (parent[ expando ] = {});
							cache = outerCache[ type ] || [];
							nodeIndex = cache[0] === dirruns && cache[1];
							diff = cache[0] === dirruns && cache[2];
							node = nodeIndex && parent.childNodes[ nodeIndex ];

							while ( (node = ++nodeIndex && node && node[ dir ] ||

								// Fallback to seeking `elem` from the start
								(diff = nodeIndex = 0) || start.pop()) ) {

								// When found, cache indexes on `parent` and break
								if ( node.nodeType === 1 && ++diff && node === elem ) {
									outerCache[ type ] = [ dirruns, nodeIndex, diff ];
									break;
								}
							}

						// Use previously-cached element index if available
						} else if ( useCache && (cache = (elem[ expando ] || (elem[ expando ] = {}))[ type ]) && cache[0] === dirruns ) {
							diff = cache[1];

						// xml :nth-child(...) or :nth-last-child(...) or :nth(-last)?-of-type(...)
						} else {
							// Use the same loop as above to seek `elem` from the start
							while ( (node = ++nodeIndex && node && node[ dir ] ||
								(diff = nodeIndex = 0) || start.pop()) ) {

								if ( ( ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1 ) && ++diff ) {
									// Cache the index of each encountered element
									if ( useCache ) {
										(node[ expando ] || (node[ expando ] = {}))[ type ] = [ dirruns, diff ];
									}

									if ( node === elem ) {
										break;
									}
								}
							}
						}

						// Incorporate the offset, then check against cycle size
						diff -= last;
						return diff === first || ( diff % first === 0 && diff / first >= 0 );
					}
				};
		},

		"PSEUDO": function( pseudo, argument ) {
			// pseudo-class names are case-insensitive
			// http://www.w3.org/TR/selectors/#pseudo-classes
			// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters
			// Remember that setFilters inherits from pseudos
			var args,
				fn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||
					Sizzle.error( "unsupported pseudo: " + pseudo );

			// The user may use createPseudo to indicate that
			// arguments are needed to create the filter function
			// just as Sizzle does
			if ( fn[ expando ] ) {
				return fn( argument );
			}

			// But maintain support for old signatures
			if ( fn.length > 1 ) {
				args = [ pseudo, pseudo, "", argument ];
				return Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?
					markFunction(function( seed, matches ) {
						var idx,
							matched = fn( seed, argument ),
							i = matched.length;
						while ( i-- ) {
							idx = indexOf( seed, matched[i] );
							seed[ idx ] = !( matches[ idx ] = matched[i] );
						}
					}) :
					function( elem ) {
						return fn( elem, 0, args );
					};
			}

			return fn;
		}
	},

	pseudos: {
		// Potentially complex pseudos
		"not": markFunction(function( selector ) {
			// Trim the selector passed to compile
			// to avoid treating leading and trailing
			// spaces as combinators
			var input = [],
				results = [],
				matcher = compile( selector.replace( rtrim, "$1" ) );

			return matcher[ expando ] ?
				markFunction(function( seed, matches, context, xml ) {
					var elem,
						unmatched = matcher( seed, null, xml, [] ),
						i = seed.length;

					// Match elements unmatched by `matcher`
					while ( i-- ) {
						if ( (elem = unmatched[i]) ) {
							seed[i] = !(matches[i] = elem);
						}
					}
				}) :
				function( elem, context, xml ) {
					input[0] = elem;
					matcher( input, null, xml, results );
					// Don't keep the element (issue #299)
					input[0] = null;
					return !results.pop();
				};
		}),

		"has": markFunction(function( selector ) {
			return function( elem ) {
				return Sizzle( selector, elem ).length > 0;
			};
		}),

		"contains": markFunction(function( text ) {
			text = text.replace( runescape, funescape );
			return function( elem ) {
				return ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;
			};
		}),

		// "Whether an element is represented by a :lang() selector
		// is based solely on the element's language value
		// being equal to the identifier C,
		// or beginning with the identifier C immediately followed by "-".
		// The matching of C against the element's language value is performed case-insensitively.
		// The identifier C does not have to be a valid language name."
		// http://www.w3.org/TR/selectors/#lang-pseudo
		"lang": markFunction( function( lang ) {
			// lang value must be a valid identifier
			if ( !ridentifier.test(lang || "") ) {
				Sizzle.error( "unsupported lang: " + lang );
			}
			lang = lang.replace( runescape, funescape ).toLowerCase();
			return function( elem ) {
				var elemLang;
				do {
					if ( (elemLang = documentIsHTML ?
						elem.lang :
						elem.getAttribute("xml:lang") || elem.getAttribute("lang")) ) {

						elemLang = elemLang.toLowerCase();
						return elemLang === lang || elemLang.indexOf( lang + "-" ) === 0;
					}
				} while ( (elem = elem.parentNode) && elem.nodeType === 1 );
				return false;
			};
		}),

		// Miscellaneous
		"target": function( elem ) {
			var hash = window.location && window.location.hash;
			return hash && hash.slice( 1 ) === elem.id;
		},

		"root": function( elem ) {
			return elem === docElem;
		},

		"focus": function( elem ) {
			return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);
		},

		// Boolean properties
		"enabled": function( elem ) {
			return elem.disabled === false;
		},

		"disabled": function( elem ) {
			return elem.disabled === true;
		},

		"checked": function( elem ) {
			// In CSS3, :checked should return both checked and selected elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			var nodeName = elem.nodeName.toLowerCase();
			return (nodeName === "input" && !!elem.checked) || (nodeName === "option" && !!elem.selected);
		},

		"selected": function( elem ) {
			// Accessing this property makes selected-by-default
			// options in Safari work properly
			if ( elem.parentNode ) {
				elem.parentNode.selectedIndex;
			}

			return elem.selected === true;
		},

		// Contents
		"empty": function( elem ) {
			// http://www.w3.org/TR/selectors/#empty-pseudo
			// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),
			//   but not by others (comment: 8; processing instruction: 7; etc.)
			// nodeType < 6 works because attributes (2) do not appear as children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				if ( elem.nodeType < 6 ) {
					return false;
				}
			}
			return true;
		},

		"parent": function( elem ) {
			return !Expr.pseudos["empty"]( elem );
		},

		// Element/input types
		"header": function( elem ) {
			return rheader.test( elem.nodeName );
		},

		"input": function( elem ) {
			return rinputs.test( elem.nodeName );
		},

		"button": function( elem ) {
			var name = elem.nodeName.toLowerCase();
			return name === "input" && elem.type === "button" || name === "button";
		},

		"text": function( elem ) {
			var attr;
			return elem.nodeName.toLowerCase() === "input" &&
				elem.type === "text" &&

				// Support: IE<8
				// New HTML5 attribute values (e.g., "search") appear with elem.type === "text"
				( (attr = elem.getAttribute("type")) == null || attr.toLowerCase() === "text" );
		},

		// Position-in-collection
		"first": createPositionalPseudo(function() {
			return [ 0 ];
		}),

		"last": createPositionalPseudo(function( matchIndexes, length ) {
			return [ length - 1 ];
		}),

		"eq": createPositionalPseudo(function( matchIndexes, length, argument ) {
			return [ argument < 0 ? argument + length : argument ];
		}),

		"even": createPositionalPseudo(function( matchIndexes, length ) {
			var i = 0;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"odd": createPositionalPseudo(function( matchIndexes, length ) {
			var i = 1;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"lt": createPositionalPseudo(function( matchIndexes, length, argument ) {
			var i = argument < 0 ? argument + length : argument;
			for ( ; --i >= 0; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"gt": createPositionalPseudo(function( matchIndexes, length, argument ) {
			var i = argument < 0 ? argument + length : argument;
			for ( ; ++i < length; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		})
	}
};

Expr.pseudos["nth"] = Expr.pseudos["eq"];

// Add button/input type pseudos
for ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {
	Expr.pseudos[ i ] = createInputPseudo( i );
}
for ( i in { submit: true, reset: true } ) {
	Expr.pseudos[ i ] = createButtonPseudo( i );
}

// Easy API for creating new setFilters
function setFilters() {}
setFilters.prototype = Expr.filters = Expr.pseudos;
Expr.setFilters = new setFilters();

tokenize = Sizzle.tokenize = function( selector, parseOnly ) {
	var matched, match, tokens, type,
		soFar, groups, preFilters,
		cached = tokenCache[ selector + " " ];

	if ( cached ) {
		return parseOnly ? 0 : cached.slice( 0 );
	}

	soFar = selector;
	groups = [];
	preFilters = Expr.preFilter;

	while ( soFar ) {

		// Comma and first run
		if ( !matched || (match = rcomma.exec( soFar )) ) {
			if ( match ) {
				// Don't consume trailing commas as valid
				soFar = soFar.slice( match[0].length ) || soFar;
			}
			groups.push( (tokens = []) );
		}

		matched = false;

		// Combinators
		if ( (match = rcombinators.exec( soFar )) ) {
			matched = match.shift();
			tokens.push({
				value: matched,
				// Cast descendant combinators to space
				type: match[0].replace( rtrim, " " )
			});
			soFar = soFar.slice( matched.length );
		}

		// Filters
		for ( type in Expr.filter ) {
			if ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||
				(match = preFilters[ type ]( match ))) ) {
				matched = match.shift();
				tokens.push({
					value: matched,
					type: type,
					matches: match
				});
				soFar = soFar.slice( matched.length );
			}
		}

		if ( !matched ) {
			break;
		}
	}

	// Return the length of the invalid excess
	// if we're just parsing
	// Otherwise, throw an error or return tokens
	return parseOnly ?
		soFar.length :
		soFar ?
			Sizzle.error( selector ) :
			// Cache the tokens
			tokenCache( selector, groups ).slice( 0 );
};

function toSelector( tokens ) {
	var i = 0,
		len = tokens.length,
		selector = "";
	for ( ; i < len; i++ ) {
		selector += tokens[i].value;
	}
	return selector;
}

function addCombinator( matcher, combinator, base ) {
	var dir = combinator.dir,
		checkNonElements = base && dir === "parentNode",
		doneName = done++;

	return combinator.first ?
		// Check against closest ancestor/preceding element
		function( elem, context, xml ) {
			while ( (elem = elem[ dir ]) ) {
				if ( elem.nodeType === 1 || checkNonElements ) {
					return matcher( elem, context, xml );
				}
			}
		} :

		// Check against all ancestor/preceding elements
		function( elem, context, xml ) {
			var oldCache, outerCache,
				newCache = [ dirruns, doneName ];

			// We can't set arbitrary data on XML nodes, so they don't benefit from dir caching
			if ( xml ) {
				while ( (elem = elem[ dir ]) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						if ( matcher( elem, context, xml ) ) {
							return true;
						}
					}
				}
			} else {
				while ( (elem = elem[ dir ]) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						outerCache = elem[ expando ] || (elem[ expando ] = {});
						if ( (oldCache = outerCache[ dir ]) &&
							oldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {

							// Assign to newCache so results back-propagate to previous elements
							return (newCache[ 2 ] = oldCache[ 2 ]);
						} else {
							// Reuse newcache so results back-propagate to previous elements
							outerCache[ dir ] = newCache;

							// A match means we're done; a fail means we have to keep checking
							if ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {
								return true;
							}
						}
					}
				}
			}
		};
}

function elementMatcher( matchers ) {
	return matchers.length > 1 ?
		function( elem, context, xml ) {
			var i = matchers.length;
			while ( i-- ) {
				if ( !matchers[i]( elem, context, xml ) ) {
					return false;
				}
			}
			return true;
		} :
		matchers[0];
}

function multipleContexts( selector, contexts, results ) {
	var i = 0,
		len = contexts.length;
	for ( ; i < len; i++ ) {
		Sizzle( selector, contexts[i], results );
	}
	return results;
}

function condense( unmatched, map, filter, context, xml ) {
	var elem,
		newUnmatched = [],
		i = 0,
		len = unmatched.length,
		mapped = map != null;

	for ( ; i < len; i++ ) {
		if ( (elem = unmatched[i]) ) {
			if ( !filter || filter( elem, context, xml ) ) {
				newUnmatched.push( elem );
				if ( mapped ) {
					map.push( i );
				}
			}
		}
	}

	return newUnmatched;
}

function setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {
	if ( postFilter && !postFilter[ expando ] ) {
		postFilter = setMatcher( postFilter );
	}
	if ( postFinder && !postFinder[ expando ] ) {
		postFinder = setMatcher( postFinder, postSelector );
	}
	return markFunction(function( seed, results, context, xml ) {
		var temp, i, elem,
			preMap = [],
			postMap = [],
			preexisting = results.length,

			// Get initial elements from seed or context
			elems = seed || multipleContexts( selector || "*", context.nodeType ? [ context ] : context, [] ),

			// Prefilter to get matcher input, preserving a map for seed-results synchronization
			matcherIn = preFilter && ( seed || !selector ) ?
				condense( elems, preMap, preFilter, context, xml ) :
				elems,

			matcherOut = matcher ?
				// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,
				postFinder || ( seed ? preFilter : preexisting || postFilter ) ?

					// ...intermediate processing is necessary
					[] :

					// ...otherwise use results directly
					results :
				matcherIn;

		// Find primary matches
		if ( matcher ) {
			matcher( matcherIn, matcherOut, context, xml );
		}

		// Apply postFilter
		if ( postFilter ) {
			temp = condense( matcherOut, postMap );
			postFilter( temp, [], context, xml );

			// Un-match failing elements by moving them back to matcherIn
			i = temp.length;
			while ( i-- ) {
				if ( (elem = temp[i]) ) {
					matcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);
				}
			}
		}

		if ( seed ) {
			if ( postFinder || preFilter ) {
				if ( postFinder ) {
					// Get the final matcherOut by condensing this intermediate into postFinder contexts
					temp = [];
					i = matcherOut.length;
					while ( i-- ) {
						if ( (elem = matcherOut[i]) ) {
							// Restore matcherIn since elem is not yet a final match
							temp.push( (matcherIn[i] = elem) );
						}
					}
					postFinder( null, (matcherOut = []), temp, xml );
				}

				// Move matched elements from seed to results to keep them synchronized
				i = matcherOut.length;
				while ( i-- ) {
					if ( (elem = matcherOut[i]) &&
						(temp = postFinder ? indexOf( seed, elem ) : preMap[i]) > -1 ) {

						seed[temp] = !(results[temp] = elem);
					}
				}
			}

		// Add elements to results, through postFinder if defined
		} else {
			matcherOut = condense(
				matcherOut === results ?
					matcherOut.splice( preexisting, matcherOut.length ) :
					matcherOut
			);
			if ( postFinder ) {
				postFinder( null, results, matcherOut, xml );
			} else {
				push.apply( results, matcherOut );
			}
		}
	});
}

function matcherFromTokens( tokens ) {
	var checkContext, matcher, j,
		len = tokens.length,
		leadingRelative = Expr.relative[ tokens[0].type ],
		implicitRelative = leadingRelative || Expr.relative[" "],
		i = leadingRelative ? 1 : 0,

		// The foundational matcher ensures that elements are reachable from top-level context(s)
		matchContext = addCombinator( function( elem ) {
			return elem === checkContext;
		}, implicitRelative, true ),
		matchAnyContext = addCombinator( function( elem ) {
			return indexOf( checkContext, elem ) > -1;
		}, implicitRelative, true ),
		matchers = [ function( elem, context, xml ) {
			var ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (
				(checkContext = context).nodeType ?
					matchContext( elem, context, xml ) :
					matchAnyContext( elem, context, xml ) );
			// Avoid hanging onto element (issue #299)
			checkContext = null;
			return ret;
		} ];

	for ( ; i < len; i++ ) {
		if ( (matcher = Expr.relative[ tokens[i].type ]) ) {
			matchers = [ addCombinator(elementMatcher( matchers ), matcher) ];
		} else {
			matcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );

			// Return special upon seeing a positional matcher
			if ( matcher[ expando ] ) {
				// Find the next relative operator (if any) for proper handling
				j = ++i;
				for ( ; j < len; j++ ) {
					if ( Expr.relative[ tokens[j].type ] ) {
						break;
					}
				}
				return setMatcher(
					i > 1 && elementMatcher( matchers ),
					i > 1 && toSelector(
						// If the preceding token was a descendant combinator, insert an implicit any-element `*`
						tokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === " " ? "*" : "" })
					).replace( rtrim, "$1" ),
					matcher,
					i < j && matcherFromTokens( tokens.slice( i, j ) ),
					j < len && matcherFromTokens( (tokens = tokens.slice( j )) ),
					j < len && toSelector( tokens )
				);
			}
			matchers.push( matcher );
		}
	}

	return elementMatcher( matchers );
}

function matcherFromGroupMatchers( elementMatchers, setMatchers ) {
	var bySet = setMatchers.length > 0,
		byElement = elementMatchers.length > 0,
		superMatcher = function( seed, context, xml, results, outermost ) {
			var elem, j, matcher,
				matchedCount = 0,
				i = "0",
				unmatched = seed && [],
				setMatched = [],
				contextBackup = outermostContext,
				// We must always have either seed elements or outermost context
				elems = seed || byElement && Expr.find["TAG"]( "*", outermost ),
				// Use integer dirruns iff this is the outermost matcher
				dirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),
				len = elems.length;

			if ( outermost ) {
				outermostContext = context !== document && context;
			}

			// Add elements passing elementMatchers directly to results
			// Keep `i` a string if there are no elements so `matchedCount` will be "00" below
			// Support: IE<9, Safari
			// Tolerate NodeList properties (IE: "length"; Safari: <number>) matching elements by id
			for ( ; i !== len && (elem = elems[i]) != null; i++ ) {
				if ( byElement && elem ) {
					j = 0;
					while ( (matcher = elementMatchers[j++]) ) {
						if ( matcher( elem, context, xml ) ) {
							results.push( elem );
							break;
						}
					}
					if ( outermost ) {
						dirruns = dirrunsUnique;
					}
				}

				// Track unmatched elements for set filters
				if ( bySet ) {
					// They will have gone through all possible matchers
					if ( (elem = !matcher && elem) ) {
						matchedCount--;
					}

					// Lengthen the array for every element, matched or not
					if ( seed ) {
						unmatched.push( elem );
					}
				}
			}

			// Apply set filters to unmatched elements
			matchedCount += i;
			if ( bySet && i !== matchedCount ) {
				j = 0;
				while ( (matcher = setMatchers[j++]) ) {
					matcher( unmatched, setMatched, context, xml );
				}

				if ( seed ) {
					// Reintegrate element matches to eliminate the need for sorting
					if ( matchedCount > 0 ) {
						while ( i-- ) {
							if ( !(unmatched[i] || setMatched[i]) ) {
								setMatched[i] = pop.call( results );
							}
						}
					}

					// Discard index placeholder values to get only actual matches
					setMatched = condense( setMatched );
				}

				// Add matches to results
				push.apply( results, setMatched );

				// Seedless set matches succeeding multiple successful matchers stipulate sorting
				if ( outermost && !seed && setMatched.length > 0 &&
					( matchedCount + setMatchers.length ) > 1 ) {

					Sizzle.uniqueSort( results );
				}
			}

			// Override manipulation of globals by nested matchers
			if ( outermost ) {
				dirruns = dirrunsUnique;
				outermostContext = contextBackup;
			}

			return unmatched;
		};

	return bySet ?
		markFunction( superMatcher ) :
		superMatcher;
}

compile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {
	var i,
		setMatchers = [],
		elementMatchers = [],
		cached = compilerCache[ selector + " " ];

	if ( !cached ) {
		// Generate a function of recursive functions that can be used to check each element
		if ( !match ) {
			match = tokenize( selector );
		}
		i = match.length;
		while ( i-- ) {
			cached = matcherFromTokens( match[i] );
			if ( cached[ expando ] ) {
				setMatchers.push( cached );
			} else {
				elementMatchers.push( cached );
			}
		}

		// Cache the compiled function
		cached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );

		// Save selector and tokenization
		cached.selector = selector;
	}
	return cached;
};

/**
 * A low-level selection function that works with Sizzle's compiled
 *  selector functions
 * @param {String|Function} selector A selector or a pre-compiled
 *  selector function built with Sizzle.compile
 * @param {Element} context
 * @param {Array} [results]
 * @param {Array} [seed] A set of elements to match against
 */
select = Sizzle.select = function( selector, context, results, seed ) {
	var i, tokens, token, type, find,
		compiled = typeof selector === "function" && selector,
		match = !seed && tokenize( (selector = compiled.selector || selector) );

	results = results || [];

	// Try to minimize operations if there is no seed and only one group
	if ( match.length === 1 ) {

		// Take a shortcut and set the context if the root selector is an ID
		tokens = match[0] = match[0].slice( 0 );
		if ( tokens.length > 2 && (token = tokens[0]).type === "ID" &&
				support.getById && context.nodeType === 9 && documentIsHTML &&
				Expr.relative[ tokens[1].type ] ) {

			context = ( Expr.find["ID"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];
			if ( !context ) {
				return results;

			// Precompiled matchers will still verify ancestry, so step up a level
			} else if ( compiled ) {
				context = context.parentNode;
			}

			selector = selector.slice( tokens.shift().value.length );
		}

		// Fetch a seed set for right-to-left matching
		i = matchExpr["needsContext"].test( selector ) ? 0 : tokens.length;
		while ( i-- ) {
			token = tokens[i];

			// Abort if we hit a combinator
			if ( Expr.relative[ (type = token.type) ] ) {
				break;
			}
			if ( (find = Expr.find[ type ]) ) {
				// Search, expanding context for leading sibling combinators
				if ( (seed = find(
					token.matches[0].replace( runescape, funescape ),
					rsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context
				)) ) {

					// If seed is empty or no tokens remain, we can return early
					tokens.splice( i, 1 );
					selector = seed.length && toSelector( tokens );
					if ( !selector ) {
						push.apply( results, seed );
						return results;
					}

					break;
				}
			}
		}
	}

	// Compile and execute a filtering function if one is not provided
	// Provide `match` to avoid retokenization if we modified the selector above
	( compiled || compile( selector, match ) )(
		seed,
		context,
		!documentIsHTML,
		results,
		rsibling.test( selector ) && testContext( context.parentNode ) || context
	);
	return results;
};

// One-time assignments

// Sort stability
support.sortStable = expando.split("").sort( sortOrder ).join("") === expando;

// Support: Chrome 14-35+
// Always assume duplicates if they aren't passed to the comparison function
support.detectDuplicates = !!hasDuplicate;

// Initialize against the default document
setDocument();

// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)
// Detached nodes confoundingly follow *each other*
support.sortDetached = assert(function( div1 ) {
	// Should return 1, but returns 4 (following)
	return div1.compareDocumentPosition( document.createElement("div") ) & 1;
});

// Support: IE<8
// Prevent attribute/property "interpolation"
// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx
if ( !assert(function( div ) {
	div.innerHTML = "<a href='#'></a>";
	return div.firstChild.getAttribute("href") === "#" ;
}) ) {
	addHandle( "type|href|height|width", function( elem, name, isXML ) {
		if ( !isXML ) {
			return elem.getAttribute( name, name.toLowerCase() === "type" ? 1 : 2 );
		}
	});
}

// Support: IE<9
// Use defaultValue in place of getAttribute("value")
if ( !support.attributes || !assert(function( div ) {
	div.innerHTML = "<input/>";
	div.firstChild.setAttribute( "value", "" );
	return div.firstChild.getAttribute( "value" ) === "";
}) ) {
	addHandle( "value", function( elem, name, isXML ) {
		if ( !isXML && elem.nodeName.toLowerCase() === "input" ) {
			return elem.defaultValue;
		}
	});
}

// Support: IE<9
// Use getAttributeNode to fetch booleans when getAttribute lies
if ( !assert(function( div ) {
	return div.getAttribute("disabled") == null;
}) ) {
	addHandle( booleans, function( elem, name, isXML ) {
		var val;
		if ( !isXML ) {
			return elem[ name ] === true ? name.toLowerCase() :
					(val = elem.getAttributeNode( name )) && val.specified ?
					val.value :
				null;
		}
	});
}

return Sizzle;

})( window );



jQuery.find = Sizzle;
jQuery.expr = Sizzle.selectors;
jQuery.expr[":"] = jQuery.expr.pseudos;
jQuery.unique = Sizzle.uniqueSort;
jQuery.text = Sizzle.getText;
jQuery.isXMLDoc = Sizzle.isXML;
jQuery.contains = Sizzle.contains;



var rneedsContext = jQuery.expr.match.needsContext;

var rsingleTag = (/^<(\w+)\s*\/?>(?:<\/\1>|)$/);



var risSimple = /^.[^:#\[\.,]*$/;

// Implement the identical functionality for filter and not
function winnow( elements, qualifier, not ) {
	if ( jQuery.isFunction( qualifier ) ) {
		return jQuery.grep( elements, function( elem, i ) {
			/* jshint -W018 */
			return !!qualifier.call( elem, i, elem ) !== not;
		});

	}

	if ( qualifier.nodeType ) {
		return jQuery.grep( elements, function( elem ) {
			return ( elem === qualifier ) !== not;
		});

	}

	if ( typeof qualifier === "string" ) {
		if ( risSimple.test( qualifier ) ) {
			return jQuery.filter( qualifier, elements, not );
		}

		qualifier = jQuery.filter( qualifier, elements );
	}

	return jQuery.grep( elements, function( elem ) {
		return ( indexOf.call( qualifier, elem ) >= 0 ) !== not;
	});
}

jQuery.filter = function( expr, elems, not ) {
	var elem = elems[ 0 ];

	if ( not ) {
		expr = ":not(" + expr + ")";
	}

	return elems.length === 1 && elem.nodeType === 1 ?
		jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [] :
		jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {
			return elem.nodeType === 1;
		}));
};

jQuery.fn.extend({
	find: function( selector ) {
		var i,
			len = this.length,
			ret = [],
			self = this;

		if ( typeof selector !== "string" ) {
			return this.pushStack( jQuery( selector ).filter(function() {
				for ( i = 0; i < len; i++ ) {
					if ( jQuery.contains( self[ i ], this ) ) {
						return true;
					}
				}
			}) );
		}

		for ( i = 0; i < len; i++ ) {
			jQuery.find( selector, self[ i ], ret );
		}

		// Needed because $( selector, context ) becomes $( context ).find( selector )
		ret = this.pushStack( len > 1 ? jQuery.unique( ret ) : ret );
		ret.selector = this.selector ? this.selector + " " + selector : selector;
		return ret;
	},
	filter: function( selector ) {
		return this.pushStack( winnow(this, selector || [], false) );
	},
	not: function( selector ) {
		return this.pushStack( winnow(this, selector || [], true) );
	},
	is: function( selector ) {
		return !!winnow(
			this,

			// If this is a positional/relative selector, check membership in the returned set
			// so $("p:first").is("p:last") won't return true for a doc with two "p".
			typeof selector === "string" && rneedsContext.test( selector ) ?
				jQuery( selector ) :
				selector || [],
			false
		).length;
	}
});


// Initialize a jQuery object


// A central reference to the root jQuery(document)
var rootjQuery,

	// A simple way to check for HTML strings
	// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)
	// Strict HTML recognition (#11290: must start with <)
	rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,

	init = jQuery.fn.init = function( selector, context ) {
		var match, elem;

		// HANDLE: $(""), $(null), $(undefined), $(false)
		if ( !selector ) {
			return this;
		}

		// Handle HTML strings
		if ( typeof selector === "string" ) {
			if ( selector[0] === "<" && selector[ selector.length - 1 ] === ">" && selector.length >= 3 ) {
				// Assume that strings that start and end with <> are HTML and skip the regex check
				match = [ null, selector, null ];

			} else {
				match = rquickExpr.exec( selector );
			}

			// Match html or make sure no context is specified for #id
			if ( match && (match[1] || !context) ) {

				// HANDLE: $(html) -> $(array)
				if ( match[1] ) {
					context = context instanceof jQuery ? context[0] : context;

					// Option to run scripts is true for back-compat
					// Intentionally let the error be thrown if parseHTML is not present
					jQuery.merge( this, jQuery.parseHTML(
						match[1],
						context && context.nodeType ? context.ownerDocument || context : document,
						true
					) );

					// HANDLE: $(html, props)
					if ( rsingleTag.test( match[1] ) && jQuery.isPlainObject( context ) ) {
						for ( match in context ) {
							// Properties of context are called as methods if possible
							if ( jQuery.isFunction( this[ match ] ) ) {
								this[ match ]( context[ match ] );

							// ...and otherwise set as attributes
							} else {
								this.attr( match, context[ match ] );
							}
						}
					}

					return this;

				// HANDLE: $(#id)
				} else {
					elem = document.getElementById( match[2] );

					// Support: Blackberry 4.6
					// gEBID returns nodes no longer in the document (#6963)
					if ( elem && elem.parentNode ) {
						// Inject the element directly into the jQuery object
						this.length = 1;
						this[0] = elem;
					}

					this.context = document;
					this.selector = selector;
					return this;
				}

			// HANDLE: $(expr, $(...))
			} else if ( !context || context.jquery ) {
				return ( context || rootjQuery ).find( selector );

			// HANDLE: $(expr, context)
			// (which is just equivalent to: $(context).find(expr)
			} else {
				return this.constructor( context ).find( selector );
			}

		// HANDLE: $(DOMElement)
		} else if ( selector.nodeType ) {
			this.context = this[0] = selector;
			this.length = 1;
			return this;

		// HANDLE: $(function)
		// Shortcut for document ready
		} else if ( jQuery.isFunction( selector ) ) {
			return typeof rootjQuery.ready !== "undefined" ?
				rootjQuery.ready( selector ) :
				// Execute immediately if ready is not present
				selector( jQuery );
		}

		if ( selector.selector !== undefined ) {
			this.selector = selector.selector;
			this.context = selector.context;
		}

		return jQuery.makeArray( selector, this );
	};

// Give the init function the jQuery prototype for later instantiation
init.prototype = jQuery.fn;

// Initialize central reference
rootjQuery = jQuery( document );


var rparentsprev = /^(?:parents|prev(?:Until|All))/,
	// Methods guaranteed to produce a unique set when starting from a unique set
	guaranteedUnique = {
		children: true,
		contents: true,
		next: true,
		prev: true
	};

jQuery.extend({
	dir: function( elem, dir, until ) {
		var matched = [],
			truncate = until !== undefined;

		while ( (elem = elem[ dir ]) && elem.nodeType !== 9 ) {
			if ( elem.nodeType === 1 ) {
				if ( truncate && jQuery( elem ).is( until ) ) {
					break;
				}
				matched.push( elem );
			}
		}
		return matched;
	},

	sibling: function( n, elem ) {
		var matched = [];

		for ( ; n; n = n.nextSibling ) {
			if ( n.nodeType === 1 && n !== elem ) {
				matched.push( n );
			}
		}

		return matched;
	}
});

jQuery.fn.extend({
	has: function( target ) {
		var targets = jQuery( target, this ),
			l = targets.length;

		return this.filter(function() {
			var i = 0;
			for ( ; i < l; i++ ) {
				if ( jQuery.contains( this, targets[i] ) ) {
					return true;
				}
			}
		});
	},

	closest: function( selectors, context ) {
		var cur,
			i = 0,
			l = this.length,
			matched = [],
			pos = rneedsContext.test( selectors ) || typeof selectors !== "string" ?
				jQuery( selectors, context || this.context ) :
				0;

		for ( ; i < l; i++ ) {
			for ( cur = this[i]; cur && cur !== context; cur = cur.parentNode ) {
				// Always skip document fragments
				if ( cur.nodeType < 11 && (pos ?
					pos.index(cur) > -1 :

					// Don't pass non-elements to Sizzle
					cur.nodeType === 1 &&
						jQuery.find.matchesSelector(cur, selectors)) ) {

					matched.push( cur );
					break;
				}
			}
		}

		return this.pushStack( matched.length > 1 ? jQuery.unique( matched ) : matched );
	},

	// Determine the position of an element within the set
	index: function( elem ) {

		// No argument, return index in parent
		if ( !elem ) {
			return ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;
		}

		// Index in selector
		if ( typeof elem === "string" ) {
			return indexOf.call( jQuery( elem ), this[ 0 ] );
		}

		// Locate the position of the desired element
		return indexOf.call( this,

			// If it receives a jQuery object, the first element is used
			elem.jquery ? elem[ 0 ] : elem
		);
	},

	add: function( selector, context ) {
		return this.pushStack(
			jQuery.unique(
				jQuery.merge( this.get(), jQuery( selector, context ) )
			)
		);
	},

	addBack: function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter(selector)
		);
	}
});

function sibling( cur, dir ) {
	while ( (cur = cur[dir]) && cur.nodeType !== 1 ) {}
	return cur;
}

jQuery.each({
	parent: function( elem ) {
		var parent = elem.parentNode;
		return parent && parent.nodeType !== 11 ? parent : null;
	},
	parents: function( elem ) {
		return jQuery.dir( elem, "parentNode" );
	},
	parentsUntil: function( elem, i, until ) {
		return jQuery.dir( elem, "parentNode", until );
	},
	next: function( elem ) {
		return sibling( elem, "nextSibling" );
	},
	prev: function( elem ) {
		return sibling( elem, "previousSibling" );
	},
	nextAll: function( elem ) {
		return jQuery.dir( elem, "nextSibling" );
	},
	prevAll: function( elem ) {
		return jQuery.dir( elem, "previousSibling" );
	},
	nextUntil: function( elem, i, until ) {
		return jQuery.dir( elem, "nextSibling", until );
	},
	prevUntil: function( elem, i, until ) {
		return jQuery.dir( elem, "previousSibling", until );
	},
	siblings: function( elem ) {
		return jQuery.sibling( ( elem.parentNode || {} ).firstChild, elem );
	},
	children: function( elem ) {
		return jQuery.sibling( elem.firstChild );
	},
	contents: function( elem ) {
		return elem.contentDocument || jQuery.merge( [], elem.childNodes );
	}
}, function( name, fn ) {
	jQuery.fn[ name ] = function( until, selector ) {
		var matched = jQuery.map( this, fn, until );

		if ( name.slice( -5 ) !== "Until" ) {
			selector = until;
		}

		if ( selector && typeof selector === "string" ) {
			matched = jQuery.filter( selector, matched );
		}

		if ( this.length > 1 ) {
			// Remove duplicates
			if ( !guaranteedUnique[ name ] ) {
				jQuery.unique( matched );
			}

			// Reverse order for parents* and prev-derivatives
			if ( rparentsprev.test( name ) ) {
				matched.reverse();
			}
		}

		return this.pushStack( matched );
	};
});
var rnotwhite = (/\S+/g);



// String to Object options format cache
var optionsCache = {};

// Convert String-formatted options into Object-formatted ones and store in cache
function createOptions( options ) {
	var object = optionsCache[ options ] = {};
	jQuery.each( options.match( rnotwhite ) || [], function( _, flag ) {
		object[ flag ] = true;
	});
	return object;
}

/*
 * Create a callback list using the following parameters:
 *
 *	options: an optional list of space-separated options that will change how
 *			the callback list behaves or a more traditional option object
 *
 * By default a callback list will act like an event callback list and can be
 * "fired" multiple times.
 *
 * Possible options:
 *
 *	once:			will ensure the callback list can only be fired once (like a Deferred)
 *
 *	memory:			will keep track of previous values and will call any callback added
 *					after the list has been fired right away with the latest "memorized"
 *					values (like a Deferred)
 *
 *	unique:			will ensure a callback can only be added once (no duplicate in the list)
 *
 *	stopOnFalse:	interrupt callings when a callback returns false
 *
 */
jQuery.Callbacks = function( options ) {

	// Convert options from String-formatted to Object-formatted if needed
	// (we check in cache first)
	options = typeof options === "string" ?
		( optionsCache[ options ] || createOptions( options ) ) :
		jQuery.extend( {}, options );

	var // Last fire value (for non-forgettable lists)
		memory,
		// Flag to know if list was already fired
		fired,
		// Flag to know if list is currently firing
		firing,
		// First callback to fire (used internally by add and fireWith)
		firingStart,
		// End of the loop when firing
		firingLength,
		// Index of currently firing callback (modified by remove if needed)
		firingIndex,
		// Actual callback list
		list = [],
		// Stack of fire calls for repeatable lists
		stack = !options.once && [],
		// Fire callbacks
		fire = function( data ) {
			memory = options.memory && data;
			fired = true;
			firingIndex = firingStart || 0;
			firingStart = 0;
			firingLength = list.length;
			firing = true;
			for ( ; list && firingIndex < firingLength; firingIndex++ ) {
				if ( list[ firingIndex ].apply( data[ 0 ], data[ 1 ] ) === false && options.stopOnFalse ) {
					memory = false; // To prevent further calls using add
					break;
				}
			}
			firing = false;
			if ( list ) {
				if ( stack ) {
					if ( stack.length ) {
						fire( stack.shift() );
					}
				} else if ( memory ) {
					list = [];
				} else {
					self.disable();
				}
			}
		},
		// Actual Callbacks object
		self = {
			// Add a callback or a collection of callbacks to the list
			add: function() {
				if ( list ) {
					// First, we save the current length
					var start = list.length;
					(function add( args ) {
						jQuery.each( args, function( _, arg ) {
							var type = jQuery.type( arg );
							if ( type === "function" ) {
								if ( !options.unique || !self.has( arg ) ) {
									list.push( arg );
								}
							} else if ( arg && arg.length && type !== "string" ) {
								// Inspect recursively
								add( arg );
							}
						});
					})( arguments );
					// Do we need to add the callbacks to the
					// current firing batch?
					if ( firing ) {
						firingLength = list.length;
					// With memory, if we're not firing then
					// we should call right away
					} else if ( memory ) {
						firingStart = start;
						fire( memory );
					}
				}
				return this;
			},
			// Remove a callback from the list
			remove: function() {
				if ( list ) {
					jQuery.each( arguments, function( _, arg ) {
						var index;
						while ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {
							list.splice( index, 1 );
							// Handle firing indexes
							if ( firing ) {
								if ( index <= firingLength ) {
									firingLength--;
								}
								if ( index <= firingIndex ) {
									firingIndex--;
								}
							}
						}
					});
				}
				return this;
			},
			// Check if a given callback is in the list.
			// If no argument is given, return whether or not list has callbacks attached.
			has: function( fn ) {
				return fn ? jQuery.inArray( fn, list ) > -1 : !!( list && list.length );
			},
			// Remove all callbacks from the list
			empty: function() {
				list = [];
				firingLength = 0;
				return this;
			},
			// Have the list do nothing anymore
			disable: function() {
				list = stack = memory = undefined;
				return this;
			},
			// Is it disabled?
			disabled: function() {
				return !list;
			},
			// Lock the list in its current state
			lock: function() {
				stack = undefined;
				if ( !memory ) {
					self.disable();
				}
				return this;
			},
			// Is it locked?
			locked: function() {
				return !stack;
			},
			// Call all callbacks with the given context and arguments
			fireWith: function( context, args ) {
				if ( list && ( !fired || stack ) ) {
					args = args || [];
					args = [ context, args.slice ? args.slice() : args ];
					if ( firing ) {
						stack.push( args );
					} else {
						fire( args );
					}
				}
				return this;
			},
			// Call all the callbacks with the given arguments
			fire: function() {
				self.fireWith( this, arguments );
				return this;
			},
			// To know if the callbacks have already been called at least once
			fired: function() {
				return !!fired;
			}
		};

	return self;
};


jQuery.extend({

	Deferred: function( func ) {
		var tuples = [
				// action, add listener, listener list, final state
				[ "resolve", "done", jQuery.Callbacks("once memory"), "resolved" ],
				[ "reject", "fail", jQuery.Callbacks("once memory"), "rejected" ],
				[ "notify", "progress", jQuery.Callbacks("memory") ]
			],
			state = "pending",
			promise = {
				state: function() {
					return state;
				},
				always: function() {
					deferred.done( arguments ).fail( arguments );
					return this;
				},
				then: function( /* fnDone, fnFail, fnProgress */ ) {
					var fns = arguments;
					return jQuery.Deferred(function( newDefer ) {
						jQuery.each( tuples, function( i, tuple ) {
							var fn = jQuery.isFunction( fns[ i ] ) && fns[ i ];
							// deferred[ done | fail | progress ] for forwarding actions to newDefer
							deferred[ tuple[1] ](function() {
								var returned = fn && fn.apply( this, arguments );
								if ( returned && jQuery.isFunction( returned.promise ) ) {
									returned.promise()
										.done( newDefer.resolve )
										.fail( newDefer.reject )
										.progress( newDefer.notify );
								} else {
									newDefer[ tuple[ 0 ] + "With" ]( this === promise ? newDefer.promise() : this, fn ? [ returned ] : arguments );
								}
							});
						});
						fns = null;
					}).promise();
				},
				// Get a promise for this deferred
				// If obj is provided, the promise aspect is added to the object
				promise: function( obj ) {
					return obj != null ? jQuery.extend( obj, promise ) : promise;
				}
			},
			deferred = {};

		// Keep pipe for back-compat
		promise.pipe = promise.then;

		// Add list-specific methods
		jQuery.each( tuples, function( i, tuple ) {
			var list = tuple[ 2 ],
				stateString = tuple[ 3 ];

			// promise[ done | fail | progress ] = list.add
			promise[ tuple[1] ] = list.add;

			// Handle state
			if ( stateString ) {
				list.add(function() {
					// state = [ resolved | rejected ]
					state = stateString;

				// [ reject_list | resolve_list ].disable; progress_list.lock
				}, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );
			}

			// deferred[ resolve | reject | notify ]
			deferred[ tuple[0] ] = function() {
				deferred[ tuple[0] + "With" ]( this === deferred ? promise : this, arguments );
				return this;
			};
			deferred[ tuple[0] + "With" ] = list.fireWith;
		});

		// Make the deferred a promise
		promise.promise( deferred );

		// Call given func if any
		if ( func ) {
			func.call( deferred, deferred );
		}

		// All done!
		return deferred;
	},

	// Deferred helper
	when: function( subordinate /* , ..., subordinateN */ ) {
		var i = 0,
			resolveValues = slice.call( arguments ),
			length = resolveValues.length,

			// the count of uncompleted subordinates
			remaining = length !== 1 || ( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,

			// the master Deferred. If resolveValues consist of only a single Deferred, just use that.
			deferred = remaining === 1 ? subordinate : jQuery.Deferred(),

			// Update function for both resolve and progress values
			updateFunc = function( i, contexts, values ) {
				return function( value ) {
					contexts[ i ] = this;
					values[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;
					if ( values === progressValues ) {
						deferred.notifyWith( contexts, values );
					} else if ( !( --remaining ) ) {
						deferred.resolveWith( contexts, values );
					}
				};
			},

			progressValues, progressContexts, resolveContexts;

		// Add listeners to Deferred subordinates; treat others as resolved
		if ( length > 1 ) {
			progressValues = new Array( length );
			progressContexts = new Array( length );
			resolveContexts = new Array( length );
			for ( ; i < length; i++ ) {
				if ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {
					resolveValues[ i ].promise()
						.done( updateFunc( i, resolveContexts, resolveValues ) )
						.fail( deferred.reject )
						.progress( updateFunc( i, progressContexts, progressValues ) );
				} else {
					--remaining;
				}
			}
		}

		// If we're not waiting on anything, resolve the master
		if ( !remaining ) {
			deferred.resolveWith( resolveContexts, resolveValues );
		}

		return deferred.promise();
	}
});


// The deferred used on DOM ready
var readyList;

jQuery.fn.ready = function( fn ) {
	// Add the callback
	jQuery.ready.promise().done( fn );

	return this;
};

jQuery.extend({
	// Is the DOM ready to be used? Set to true once it occurs.
	isReady: false,

	// A counter to track how many items to wait for before
	// the ready event fires. See #6781
	readyWait: 1,

	// Hold (or release) the ready event
	holdReady: function( hold ) {
		if ( hold ) {
			jQuery.readyWait++;
		} else {
			jQuery.ready( true );
		}
	},

	// Handle when the DOM is ready
	ready: function( wait ) {

		// Abort if there are pending holds or we're already ready
		if ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {
			return;
		}

		// Remember that the DOM is ready
		jQuery.isReady = true;

		// If a normal DOM Ready event fired, decrement, and wait if need be
		if ( wait !== true && --jQuery.readyWait > 0 ) {
			return;
		}

		// If there are functions bound, to execute
		readyList.resolveWith( document, [ jQuery ] );

		// Trigger any bound ready events
		if ( jQuery.fn.triggerHandler ) {
			jQuery( document ).triggerHandler( "ready" );
			jQuery( document ).off( "ready" );
		}
	}
});

/**
 * The ready event handler and self cleanup method
 */
function completed() {
	document.removeEventListener( "DOMContentLoaded", completed, false );
	window.removeEventListener( "load", completed, false );
	jQuery.ready();
}

jQuery.ready.promise = function( obj ) {
	if ( !readyList ) {

		readyList = jQuery.Deferred();

		// Catch cases where $(document).ready() is called after the browser event has already occurred.
		// We once tried to use readyState "interactive" here, but it caused issues like the one
		// discovered by ChrisS here: http://bugs.jquery.com/ticket/12282#comment:15
		if ( document.readyState === "complete" ) {
			// Handle it asynchronously to allow scripts the opportunity to delay ready
			setTimeout( jQuery.ready );

		} else {

			// Use the handy event callback
			document.addEventListener( "DOMContentLoaded", completed, false );

			// A fallback to window.onload, that will always work
			window.addEventListener( "load", completed, false );
		}
	}
	return readyList.promise( obj );
};

// Kick off the DOM ready check even if the user does not
jQuery.ready.promise();




// Multifunctional method to get and set values of a collection
// The value/s can optionally be executed if it's a function
var access = jQuery.access = function( elems, fn, key, value, chainable, emptyGet, raw ) {
	var i = 0,
		len = elems.length,
		bulk = key == null;

	// Sets many values
	if ( jQuery.type( key ) === "object" ) {
		chainable = true;
		for ( i in key ) {
			jQuery.access( elems, fn, i, key[i], true, emptyGet, raw );
		}

	// Sets one value
	} else if ( value !== undefined ) {
		chainable = true;

		if ( !jQuery.isFunction( value ) ) {
			raw = true;
		}

		if ( bulk ) {
			// Bulk operations run against the entire set
			if ( raw ) {
				fn.call( elems, value );
				fn = null;

			// ...except when executing function values
			} else {
				bulk = fn;
				fn = function( elem, key, value ) {
					return bulk.call( jQuery( elem ), value );
				};
			}
		}

		if ( fn ) {
			for ( ; i < len; i++ ) {
				fn( elems[i], key, raw ? value : value.call( elems[i], i, fn( elems[i], key ) ) );
			}
		}
	}

	return chainable ?
		elems :

		// Gets
		bulk ?
			fn.call( elems ) :
			len ? fn( elems[0], key ) : emptyGet;
};


/**
 * Determines whether an object can have data
 */
jQuery.acceptData = function( owner ) {
	// Accepts only:
	//  - Node
	//    - Node.ELEMENT_NODE
	//    - Node.DOCUMENT_NODE
	//  - Object
	//    - Any
	/* jshint -W018 */
	return owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );
};


function Data() {
	// Support: Android<4,
	// Old WebKit does not have Object.preventExtensions/freeze method,
	// return new empty object instead with no [[set]] accessor
	Object.defineProperty( this.cache = {}, 0, {
		get: function() {
			return {};
		}
	});

	this.expando = jQuery.expando + Data.uid++;
}

Data.uid = 1;
Data.accepts = jQuery.acceptData;

Data.prototype = {
	key: function( owner ) {
		// We can accept data for non-element nodes in modern browsers,
		// but we should not, see #8335.
		// Always return the key for a frozen object.
		if ( !Data.accepts( owner ) ) {
			return 0;
		}

		var descriptor = {},
			// Check if the owner object already has a cache key
			unlock = owner[ this.expando ];

		// If not, create one
		if ( !unlock ) {
			unlock = Data.uid++;

			// Secure it in a non-enumerable, non-writable property
			try {
				descriptor[ this.expando ] = { value: unlock };
				Object.defineProperties( owner, descriptor );

			// Support: Android<4
			// Fallback to a less secure definition
			} catch ( e ) {
				descriptor[ this.expando ] = unlock;
				jQuery.extend( owner, descriptor );
			}
		}

		// Ensure the cache object
		if ( !this.cache[ unlock ] ) {
			this.cache[ unlock ] = {};
		}

		return unlock;
	},
	set: function( owner, data, value ) {
		var prop,
			// There may be an unlock assigned to this node,
			// if there is no entry for this "owner", create one inline
			// and set the unlock as though an owner entry had always existed
			unlock = this.key( owner ),
			cache = this.cache[ unlock ];

		// Handle: [ owner, key, value ] args
		if ( typeof data === "string" ) {
			cache[ data ] = value;

		// Handle: [ owner, { properties } ] args
		} else {
			// Fresh assignments by object are shallow copied
			if ( jQuery.isEmptyObject( cache ) ) {
				jQuery.extend( this.cache[ unlock ], data );
			// Otherwise, copy the properties one-by-one to the cache object
			} else {
				for ( prop in data ) {
					cache[ prop ] = data[ prop ];
				}
			}
		}
		return cache;
	},
	get: function( owner, key ) {
		// Either a valid cache is found, or will be created.
		// New caches will be created and the unlock returned,
		// allowing direct access to the newly created
		// empty data object. A valid owner object must be provided.
		var cache = this.cache[ this.key( owner ) ];

		return key === undefined ?
			cache : cache[ key ];
	},
	access: function( owner, key, value ) {
		var stored;
		// In cases where either:
		//
		//   1. No key was specified
		//   2. A string key was specified, but no value provided
		//
		// Take the "read" path and allow the get method to determine
		// which value to return, respectively either:
		//
		//   1. The entire cache object
		//   2. The data stored at the key
		//
		if ( key === undefined ||
				((key && typeof key === "string") && value === undefined) ) {

			stored = this.get( owner, key );

			return stored !== undefined ?
				stored : this.get( owner, jQuery.camelCase(key) );
		}

		// [*]When the key is not a string, or both a key and value
		// are specified, set or extend (existing objects) with either:
		//
		//   1. An object of properties
		//   2. A key and value
		//
		this.set( owner, key, value );

		// Since the "set" path can have two possible entry points
		// return the expected data based on which path was taken[*]
		return value !== undefined ? value : key;
	},
	remove: function( owner, key ) {
		var i, name, camel,
			unlock = this.key( owner ),
			cache = this.cache[ unlock ];

		if ( key === undefined ) {
			this.cache[ unlock ] = {};

		} else {
			// Support array or space separated string of keys
			if ( jQuery.isArray( key ) ) {
				// If "name" is an array of keys...
				// When data is initially created, via ("key", "val") signature,
				// keys will be converted to camelCase.
				// Since there is no way to tell _how_ a key was added, remove
				// both plain key and camelCase key. #12786
				// This will only penalize the array argument path.
				name = key.concat( key.map( jQuery.camelCase ) );
			} else {
				camel = jQuery.camelCase( key );
				// Try the string as a key before any manipulation
				if ( key in cache ) {
					name = [ key, camel ];
				} else {
					// If a key with the spaces exists, use it.
					// Otherwise, create an array by matching non-whitespace
					name = camel;
					name = name in cache ?
						[ name ] : ( name.match( rnotwhite ) || [] );
				}
			}

			i = name.length;
			while ( i-- ) {
				delete cache[ name[ i ] ];
			}
		}
	},
	hasData: function( owner ) {
		return !jQuery.isEmptyObject(
			this.cache[ owner[ this.expando ] ] || {}
		);
	},
	discard: function( owner ) {
		if ( owner[ this.expando ] ) {
			delete this.cache[ owner[ this.expando ] ];
		}
	}
};
var data_priv = new Data();

var data_user = new Data();



//	Implementation Summary
//
//	1. Enforce API surface and semantic compatibility with 1.9.x branch
//	2. Improve the module's maintainability by reducing the storage
//		paths to a single mechanism.
//	3. Use the same single mechanism to support "private" and "user" data.
//	4. _Never_ expose "private" data to user code (TODO: Drop _data, _removeData)
//	5. Avoid exposing implementation details on user objects (eg. expando properties)
//	6. Provide a clear path for implementation upgrade to WeakMap in 2014

var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
	rmultiDash = /([A-Z])/g;

function dataAttr( elem, key, data ) {
	var name;

	// If nothing was found internally, try to fetch any
	// data from the HTML5 data-* attribute
	if ( data === undefined && elem.nodeType === 1 ) {
		name = "data-" + key.replace( rmultiDash, "-$1" ).toLowerCase();
		data = elem.getAttribute( name );

		if ( typeof data === "string" ) {
			try {
				data = data === "true" ? true :
					data === "false" ? false :
					data === "null" ? null :
					// Only convert to a number if it doesn't change the string
					+data + "" === data ? +data :
					rbrace.test( data ) ? jQuery.parseJSON( data ) :
					data;
			} catch( e ) {}

			// Make sure we set the data so it isn't changed later
			data_user.set( elem, key, data );
		} else {
			data = undefined;
		}
	}
	return data;
}

jQuery.extend({
	hasData: function( elem ) {
		return data_user.hasData( elem ) || data_priv.hasData( elem );
	},

	data: function( elem, name, data ) {
		return data_user.access( elem, name, data );
	},

	removeData: function( elem, name ) {
		data_user.remove( elem, name );
	},

	// TODO: Now that all calls to _data and _removeData have been replaced
	// with direct calls to data_priv methods, these can be deprecated.
	_data: function( elem, name, data ) {
		return data_priv.access( elem, name, data );
	},

	_removeData: function( elem, name ) {
		data_priv.remove( elem, name );
	}
});

jQuery.fn.extend({
	data: function( key, value ) {
		var i, name, data,
			elem = this[ 0 ],
			attrs = elem && elem.attributes;

		// Gets all values
		if ( key === undefined ) {
			if ( this.length ) {
				data = data_user.get( elem );

				if ( elem.nodeType === 1 && !data_priv.get( elem, "hasDataAttrs" ) ) {
					i = attrs.length;
					while ( i-- ) {

						// Support: IE11+
						// The attrs elements can be null (#14894)
						if ( attrs[ i ] ) {
							name = attrs[ i ].name;
							if ( name.indexOf( "data-" ) === 0 ) {
								name = jQuery.camelCase( name.slice(5) );
								dataAttr( elem, name, data[ name ] );
							}
						}
					}
					data_priv.set( elem, "hasDataAttrs", true );
				}
			}

			return data;
		}

		// Sets multiple values
		if ( typeof key === "object" ) {
			return this.each(function() {
				data_user.set( this, key );
			});
		}

		return access( this, function( value ) {
			var data,
				camelKey = jQuery.camelCase( key );

			// The calling jQuery object (element matches) is not empty
			// (and therefore has an element appears at this[ 0 ]) and the
			// `value` parameter was not undefined. An empty jQuery object
			// will result in `undefined` for elem = this[ 0 ] which will
			// throw an exception if an attempt to read a data cache is made.
			if ( elem && value === undefined ) {
				// Attempt to get data from the cache
				// with the key as-is
				data = data_user.get( elem, key );
				if ( data !== undefined ) {
					return data;
				}

				// Attempt to get data from the cache
				// with the key camelized
				data = data_user.get( elem, camelKey );
				if ( data !== undefined ) {
					return data;
				}

				// Attempt to "discover" the data in
				// HTML5 custom data-* attrs
				data = dataAttr( elem, camelKey, undefined );
				if ( data !== undefined ) {
					return data;
				}

				// We tried really hard, but the data doesn't exist.
				return;
			}

			// Set the data...
			this.each(function() {
				// First, attempt to store a copy or reference of any
				// data that might've been store with a camelCased key.
				var data = data_user.get( this, camelKey );

				// For HTML5 data-* attribute interop, we have to
				// store property names with dashes in a camelCase form.
				// This might not apply to all properties...*
				data_user.set( this, camelKey, value );

				// *... In the case of properties that might _actually_
				// have dashes, we need to also store a copy of that
				// unchanged property.
				if ( key.indexOf("-") !== -1 && data !== undefined ) {
					data_user.set( this, key, value );
				}
			});
		}, null, value, arguments.length > 1, null, true );
	},

	removeData: function( key ) {
		return this.each(function() {
			data_user.remove( this, key );
		});
	}
});


jQuery.extend({
	queue: function( elem, type, data ) {
		var queue;

		if ( elem ) {
			type = ( type || "fx" ) + "queue";
			queue = data_priv.get( elem, type );

			// Speed up dequeue by getting out quickly if this is just a lookup
			if ( data ) {
				if ( !queue || jQuery.isArray( data ) ) {
					queue = data_priv.access( elem, type, jQuery.makeArray(data) );
				} else {
					queue.push( data );
				}
			}
			return queue || [];
		}
	},

	dequeue: function( elem, type ) {
		type = type || "fx";

		var queue = jQuery.queue( elem, type ),
			startLength = queue.length,
			fn = queue.shift(),
			hooks = jQuery._queueHooks( elem, type ),
			next = function() {
				jQuery.dequeue( elem, type );
			};

		// If the fx queue is dequeued, always remove the progress sentinel
		if ( fn === "inprogress" ) {
			fn = queue.shift();
			startLength--;
		}

		if ( fn ) {

			// Add a progress sentinel to prevent the fx queue from being
			// automatically dequeued
			if ( type === "fx" ) {
				queue.unshift( "inprogress" );
			}

			// Clear up the last queue stop function
			delete hooks.stop;
			fn.call( elem, next, hooks );
		}

		if ( !startLength && hooks ) {
			hooks.empty.fire();
		}
	},

	// Not public - generate a queueHooks object, or return the current one
	_queueHooks: function( elem, type ) {
		var key = type + "queueHooks";
		return data_priv.get( elem, key ) || data_priv.access( elem, key, {
			empty: jQuery.Callbacks("once memory").add(function() {
				data_priv.remove( elem, [ type + "queue", key ] );
			})
		});
	}
});

jQuery.fn.extend({
	queue: function( type, data ) {
		var setter = 2;

		if ( typeof type !== "string" ) {
			data = type;
			type = "fx";
			setter--;
		}

		if ( arguments.length < setter ) {
			return jQuery.queue( this[0], type );
		}

		return data === undefined ?
			this :
			this.each(function() {
				var queue = jQuery.queue( this, type, data );

				// Ensure a hooks for this queue
				jQuery._queueHooks( this, type );

				if ( type === "fx" && queue[0] !== "inprogress" ) {
					jQuery.dequeue( this, type );
				}
			});
	},
	dequeue: function( type ) {
		return this.each(function() {
			jQuery.dequeue( this, type );
		});
	},
	clearQueue: function( type ) {
		return this.queue( type || "fx", [] );
	},
	// Get a promise resolved when queues of a certain type
	// are emptied (fx is the type by default)
	promise: function( type, obj ) {
		var tmp,
			count = 1,
			defer = jQuery.Deferred(),
			elements = this,
			i = this.length,
			resolve = function() {
				if ( !( --count ) ) {
					defer.resolveWith( elements, [ elements ] );
				}
			};

		if ( typeof type !== "string" ) {
			obj = type;
			type = undefined;
		}
		type = type || "fx";

		while ( i-- ) {
			tmp = data_priv.get( elements[ i ], type + "queueHooks" );
			if ( tmp && tmp.empty ) {
				count++;
				tmp.empty.add( resolve );
			}
		}
		resolve();
		return defer.promise( obj );
	}
});
var pnum = (/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/).source;

var cssExpand = [ "Top", "Right", "Bottom", "Left" ];

var isHidden = function( elem, el ) {
		// isHidden might be called from jQuery#filter function;
		// in that case, element will be second argument
		elem = el || elem;
		return jQuery.css( elem, "display" ) === "none" || !jQuery.contains( elem.ownerDocument, elem );
	};

var rcheckableType = (/^(?:checkbox|radio)$/i);



(function() {
	var fragment = document.createDocumentFragment(),
		div = fragment.appendChild( document.createElement( "div" ) ),
		input = document.createElement( "input" );

	// Support: Safari<=5.1
	// Check state lost if the name is set (#11217)
	// Support: Windows Web Apps (WWA)
	// `name` and `type` must use .setAttribute for WWA (#14901)
	input.setAttribute( "type", "radio" );
	input.setAttribute( "checked", "checked" );
	input.setAttribute( "name", "t" );

	div.appendChild( input );

	// Support: Safari<=5.1, Android<4.2
	// Older WebKit doesn't clone checked state correctly in fragments
	support.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;

	// Support: IE<=11+
	// Make sure textarea (and checkbox) defaultValue is properly cloned
	div.innerHTML = "<textarea>x</textarea>";
	support.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;
})();
var strundefined = typeof undefined;



support.focusinBubbles = "onfocusin" in window;


var
	rkeyEvent = /^key/,
	rmouseEvent = /^(?:mouse|pointer|contextmenu)|click/,
	rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
	rtypenamespace = /^([^.]*)(?:\.(.+)|)$/;

function returnTrue() {
	return true;
}

function returnFalse() {
	return false;
}

function safeActiveElement() {
	try {
		return document.activeElement;
	} catch ( err ) { }
}

/*
 * Helper functions for managing events -- not part of the public interface.
 * Props to Dean Edwards' addEvent library for many of the ideas.
 */
jQuery.event = {

	global: {},

	add: function( elem, types, handler, data, selector ) {

		var handleObjIn, eventHandle, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = data_priv.get( elem );

		// Don't attach events to noData or text/comment nodes (but allow plain objects)
		if ( !elemData ) {
			return;
		}

		// Caller can pass in an object of custom data in lieu of the handler
		if ( handler.handler ) {
			handleObjIn = handler;
			handler = handleObjIn.handler;
			selector = handleObjIn.selector;
		}

		// Make sure that the handler has a unique ID, used to find/remove it later
		if ( !handler.guid ) {
			handler.guid = jQuery.guid++;
		}

		// Init the element's event structure and main handler, if this is the first
		if ( !(events = elemData.events) ) {
			events = elemData.events = {};
		}
		if ( !(eventHandle = elemData.handle) ) {
			eventHandle = elemData.handle = function( e ) {
				// Discard the second event of a jQuery.event.trigger() and
				// when an event is called after a page has unloaded
				return typeof jQuery !== strundefined && jQuery.event.triggered !== e.type ?
					jQuery.event.dispatch.apply( elem, arguments ) : undefined;
			};
		}

		// Handle multiple events separated by a space
		types = ( types || "" ).match( rnotwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[t] ) || [];
			type = origType = tmp[1];
			namespaces = ( tmp[2] || "" ).split( "." ).sort();

			// There *must* be a type, no attaching namespace-only handlers
			if ( !type ) {
				continue;
			}

			// If event changes its type, use the special event handlers for the changed type
			special = jQuery.event.special[ type ] || {};

			// If selector defined, determine special event api type, otherwise given type
			type = ( selector ? special.delegateType : special.bindType ) || type;

			// Update special based on newly reset type
			special = jQuery.event.special[ type ] || {};

			// handleObj is passed to all event handlers
			handleObj = jQuery.extend({
				type: type,
				origType: origType,
				data: data,
				handler: handler,
				guid: handler.guid,
				selector: selector,
				needsContext: selector && jQuery.expr.match.needsContext.test( selector ),
				namespace: namespaces.join(".")
			}, handleObjIn );

			// Init the event handler queue if we're the first
			if ( !(handlers = events[ type ]) ) {
				handlers = events[ type ] = [];
				handlers.delegateCount = 0;

				// Only use addEventListener if the special events handler returns false
				if ( !special.setup || special.setup.call( elem, data, namespaces, eventHandle ) === false ) {
					if ( elem.addEventListener ) {
						elem.addEventListener( type, eventHandle, false );
					}
				}
			}

			if ( special.add ) {
				special.add.call( elem, handleObj );

				if ( !handleObj.handler.guid ) {
					handleObj.handler.guid = handler.guid;
				}
			}

			// Add to the element's handler list, delegates in front
			if ( selector ) {
				handlers.splice( handlers.delegateCount++, 0, handleObj );
			} else {
				handlers.push( handleObj );
			}

			// Keep track of which events have ever been used, for event optimization
			jQuery.event.global[ type ] = true;
		}

	},

	// Detach an event or set of events from an element
	remove: function( elem, types, handler, selector, mappedTypes ) {

		var j, origCount, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = data_priv.hasData( elem ) && data_priv.get( elem );

		if ( !elemData || !(events = elemData.events) ) {
			return;
		}

		// Once for each type.namespace in types; type may be omitted
		types = ( types || "" ).match( rnotwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[t] ) || [];
			type = origType = tmp[1];
			namespaces = ( tmp[2] || "" ).split( "." ).sort();

			// Unbind all events (on this namespace, if provided) for the element
			if ( !type ) {
				for ( type in events ) {
					jQuery.event.remove( elem, type + types[ t ], handler, selector, true );
				}
				continue;
			}

			special = jQuery.event.special[ type ] || {};
			type = ( selector ? special.delegateType : special.bindType ) || type;
			handlers = events[ type ] || [];
			tmp = tmp[2] && new RegExp( "(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)" );

			// Remove matching events
			origCount = j = handlers.length;
			while ( j-- ) {
				handleObj = handlers[ j ];

				if ( ( mappedTypes || origType === handleObj.origType ) &&
					( !handler || handler.guid === handleObj.guid ) &&
					( !tmp || tmp.test( handleObj.namespace ) ) &&
					( !selector || selector === handleObj.selector || selector === "**" && handleObj.selector ) ) {
					handlers.splice( j, 1 );

					if ( handleObj.selector ) {
						handlers.delegateCount--;
					}
					if ( special.remove ) {
						special.remove.call( elem, handleObj );
					}
				}
			}

			// Remove generic event handler if we removed something and no more handlers exist
			// (avoids potential for endless recursion during removal of special event handlers)
			if ( origCount && !handlers.length ) {
				if ( !special.teardown || special.teardown.call( elem, namespaces, elemData.handle ) === false ) {
					jQuery.removeEvent( elem, type, elemData.handle );
				}

				delete events[ type ];
			}
		}

		// Remove the expando if it's no longer used
		if ( jQuery.isEmptyObject( events ) ) {
			delete elemData.handle;
			data_priv.remove( elem, "events" );
		}
	},

	trigger: function( event, data, elem, onlyHandlers ) {

		var i, cur, tmp, bubbleType, ontype, handle, special,
			eventPath = [ elem || document ],
			type = hasOwn.call( event, "type" ) ? event.type : event,
			namespaces = hasOwn.call( event, "namespace" ) ? event.namespace.split(".") : [];

		cur = tmp = elem = elem || document;

		// Don't do events on text and comment nodes
		if ( elem.nodeType === 3 || elem.nodeType === 8 ) {
			return;
		}

		// focus/blur morphs to focusin/out; ensure we're not firing them right now
		if ( rfocusMorph.test( type + jQuery.event.triggered ) ) {
			return;
		}

		if ( type.indexOf(".") >= 0 ) {
			// Namespaced trigger; create a regexp to match event type in handle()
			namespaces = type.split(".");
			type = namespaces.shift();
			namespaces.sort();
		}
		ontype = type.indexOf(":") < 0 && "on" + type;

		// Caller can pass in a jQuery.Event object, Object, or just an event type string
		event = event[ jQuery.expando ] ?
			event :
			new jQuery.Event( type, typeof event === "object" && event );

		// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)
		event.isTrigger = onlyHandlers ? 2 : 3;
		event.namespace = namespaces.join(".");
		event.namespace_re = event.namespace ?
			new RegExp( "(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)" ) :
			null;

		// Clean up the event in case it is being reused
		event.result = undefined;
		if ( !event.target ) {
			event.target = elem;
		}

		// Clone any incoming data and prepend the event, creating the handler arg list
		data = data == null ?
			[ event ] :
			jQuery.makeArray( data, [ event ] );

		// Allow special events to draw outside the lines
		special = jQuery.event.special[ type ] || {};
		if ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {
			return;
		}

		// Determine event propagation path in advance, per W3C events spec (#9951)
		// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)
		if ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {

			bubbleType = special.delegateType || type;
			if ( !rfocusMorph.test( bubbleType + type ) ) {
				cur = cur.parentNode;
			}
			for ( ; cur; cur = cur.parentNode ) {
				eventPath.push( cur );
				tmp = cur;
			}

			// Only add window if we got to document (e.g., not plain obj or detached DOM)
			if ( tmp === (elem.ownerDocument || document) ) {
				eventPath.push( tmp.defaultView || tmp.parentWindow || window );
			}
		}

		// Fire handlers on the event path
		i = 0;
		while ( (cur = eventPath[i++]) && !event.isPropagationStopped() ) {

			event.type = i > 1 ?
				bubbleType :
				special.bindType || type;

			// jQuery handler
			handle = ( data_priv.get( cur, "events" ) || {} )[ event.type ] && data_priv.get( cur, "handle" );
			if ( handle ) {
				handle.apply( cur, data );
			}

			// Native handler
			handle = ontype && cur[ ontype ];
			if ( handle && handle.apply && jQuery.acceptData( cur ) ) {
				event.result = handle.apply( cur, data );
				if ( event.result === false ) {
					event.preventDefault();
				}
			}
		}
		event.type = type;

		// If nobody prevented the default action, do it now
		if ( !onlyHandlers && !event.isDefaultPrevented() ) {

			if ( (!special._default || special._default.apply( eventPath.pop(), data ) === false) &&
				jQuery.acceptData( elem ) ) {

				// Call a native DOM method on the target with the same name name as the event.
				// Don't do default actions on window, that's where global variables be (#6170)
				if ( ontype && jQuery.isFunction( elem[ type ] ) && !jQuery.isWindow( elem ) ) {

					// Don't re-trigger an onFOO event when we call its FOO() method
					tmp = elem[ ontype ];

					if ( tmp ) {
						elem[ ontype ] = null;
					}

					// Prevent re-triggering of the same event, since we already bubbled it above
					jQuery.event.triggered = type;
					elem[ type ]();
					jQuery.event.triggered = undefined;

					if ( tmp ) {
						elem[ ontype ] = tmp;
					}
				}
			}
		}

		return event.result;
	},

	dispatch: function( event ) {

		// Make a writable jQuery.Event from the native event object
		event = jQuery.event.fix( event );

		var i, j, ret, matched, handleObj,
			handlerQueue = [],
			args = slice.call( arguments ),
			handlers = ( data_priv.get( this, "events" ) || {} )[ event.type ] || [],
			special = jQuery.event.special[ event.type ] || {};

		// Use the fix-ed jQuery.Event rather than the (read-only) native event
		args[0] = event;
		event.delegateTarget = this;

		// Call the preDispatch hook for the mapped type, and let it bail if desired
		if ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {
			return;
		}

		// Determine handlers
		handlerQueue = jQuery.event.handlers.call( this, event, handlers );

		// Run delegates first; they may want to stop propagation beneath us
		i = 0;
		while ( (matched = handlerQueue[ i++ ]) && !event.isPropagationStopped() ) {
			event.currentTarget = matched.elem;

			j = 0;
			while ( (handleObj = matched.handlers[ j++ ]) && !event.isImmediatePropagationStopped() ) {

				// Triggered event must either 1) have no namespace, or 2) have namespace(s)
				// a subset or equal to those in the bound event (both can have no namespace).
				if ( !event.namespace_re || event.namespace_re.test( handleObj.namespace ) ) {

					event.handleObj = handleObj;
					event.data = handleObj.data;

					ret = ( (jQuery.event.special[ handleObj.origType ] || {}).handle || handleObj.handler )
							.apply( matched.elem, args );

					if ( ret !== undefined ) {
						if ( (event.result = ret) === false ) {
							event.preventDefault();
							event.stopPropagation();
						}
					}
				}
			}
		}

		// Call the postDispatch hook for the mapped type
		if ( special.postDispatch ) {
			special.postDispatch.call( this, event );
		}

		return event.result;
	},

	handlers: function( event, handlers ) {
		var i, matches, sel, handleObj,
			handlerQueue = [],
			delegateCount = handlers.delegateCount,
			cur = event.target;

		// Find delegate handlers
		// Black-hole SVG <use> instance trees (#13180)
		// Avoid non-left-click bubbling in Firefox (#3861)
		if ( delegateCount && cur.nodeType && (!event.button || event.type !== "click") ) {

			for ( ; cur !== this; cur = cur.parentNode || this ) {

				// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)
				if ( cur.disabled !== true || event.type !== "click" ) {
					matches = [];
					for ( i = 0; i < delegateCount; i++ ) {
						handleObj = handlers[ i ];

						// Don't conflict with Object.prototype properties (#13203)
						sel = handleObj.selector + " ";

						if ( matches[ sel ] === undefined ) {
							matches[ sel ] = handleObj.needsContext ?
								jQuery( sel, this ).index( cur ) >= 0 :
								jQuery.find( sel, this, null, [ cur ] ).length;
						}
						if ( matches[ sel ] ) {
							matches.push( handleObj );
						}
					}
					if ( matches.length ) {
						handlerQueue.push({ elem: cur, handlers: matches });
					}
				}
			}
		}

		// Add the remaining (directly-bound) handlers
		if ( delegateCount < handlers.length ) {
			handlerQueue.push({ elem: this, handlers: handlers.slice( delegateCount ) });
		}

		return handlerQueue;
	},

	// Includes some event props shared by KeyEvent and MouseEvent
	props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),

	fixHooks: {},

	keyHooks: {
		props: "char charCode key keyCode".split(" "),
		filter: function( event, original ) {

			// Add which for key events
			if ( event.which == null ) {
				event.which = original.charCode != null ? original.charCode : original.keyCode;
			}

			return event;
		}
	},

	mouseHooks: {
		props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
		filter: function( event, original ) {
			var eventDoc, doc, body,
				button = original.button;

			// Calculate pageX/Y if missing and clientX/Y available
			if ( event.pageX == null && original.clientX != null ) {
				eventDoc = event.target.ownerDocument || document;
				doc = eventDoc.documentElement;
				body = eventDoc.body;

				event.pageX = original.clientX + ( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) - ( doc && doc.clientLeft || body && body.clientLeft || 0 );
				event.pageY = original.clientY + ( doc && doc.scrollTop  || body && body.scrollTop  || 0 ) - ( doc && doc.clientTop  || body && body.clientTop  || 0 );
			}

			// Add which for click: 1 === left; 2 === middle; 3 === right
			// Note: button is not normalized, so don't use it
			if ( !event.which && button !== undefined ) {
				event.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );
			}

			return event;
		}
	},

	fix: function( event ) {
		if ( event[ jQuery.expando ] ) {
			return event;
		}

		// Create a writable copy of the event object and normalize some properties
		var i, prop, copy,
			type = event.type,
			originalEvent = event,
			fixHook = this.fixHooks[ type ];

		if ( !fixHook ) {
			this.fixHooks[ type ] = fixHook =
				rmouseEvent.test( type ) ? this.mouseHooks :
				rkeyEvent.test( type ) ? this.keyHooks :
				{};
		}
		copy = fixHook.props ? this.props.concat( fixHook.props ) : this.props;

		event = new jQuery.Event( originalEvent );

		i = copy.length;
		while ( i-- ) {
			prop = copy[ i ];
			event[ prop ] = originalEvent[ prop ];
		}

		// Support: Cordova 2.5 (WebKit) (#13255)
		// All events should have a target; Cordova deviceready doesn't
		if ( !event.target ) {
			event.target = document;
		}

		// Support: Safari 6.0+, Chrome<28
		// Target should not be a text node (#504, #13143)
		if ( event.target.nodeType === 3 ) {
			event.target = event.target.parentNode;
		}

		return fixHook.filter ? fixHook.filter( event, originalEvent ) : event;
	},

	special: {
		load: {
			// Prevent triggered image.load events from bubbling to window.load
			noBubble: true
		},
		focus: {
			// Fire native event if possible so blur/focus sequence is correct
			trigger: function() {
				if ( this !== safeActiveElement() && this.focus ) {
					this.focus();
					return false;
				}
			},
			delegateType: "focusin"
		},
		blur: {
			trigger: function() {
				if ( this === safeActiveElement() && this.blur ) {
					this.blur();
					return false;
				}
			},
			delegateType: "focusout"
		},
		click: {
			// For checkbox, fire native event so checked state will be right
			trigger: function() {
				if ( this.type === "checkbox" && this.click && jQuery.nodeName( this, "input" ) ) {
					this.click();
					return false;
				}
			},

			// For cross-browser consistency, don't fire native .click() on links
			_default: function( event ) {
				return jQuery.nodeName( event.target, "a" );
			}
		},

		beforeunload: {
			postDispatch: function( event ) {

				// Support: Firefox 20+
				// Firefox doesn't alert if the returnValue field is not set.
				if ( event.result !== undefined && event.originalEvent ) {
					event.originalEvent.returnValue = event.result;
				}
			}
		}
	},

	simulate: function( type, elem, event, bubble ) {
		// Piggyback on a donor event to simulate a different one.
		// Fake originalEvent to avoid donor's stopPropagation, but if the
		// simulated event prevents default then we do the same on the donor.
		var e = jQuery.extend(
			new jQuery.Event(),
			event,
			{
				type: type,
				isSimulated: true,
				originalEvent: {}
			}
		);
		if ( bubble ) {
			jQuery.event.trigger( e, null, elem );
		} else {
			jQuery.event.dispatch.call( elem, e );
		}
		if ( e.isDefaultPrevented() ) {
			event.preventDefault();
		}
	}
};

jQuery.removeEvent = function( elem, type, handle ) {
	if ( elem.removeEventListener ) {
		elem.removeEventListener( type, handle, false );
	}
};

jQuery.Event = function( src, props ) {
	// Allow instantiation without the 'new' keyword
	if ( !(this instanceof jQuery.Event) ) {
		return new jQuery.Event( src, props );
	}

	// Event object
	if ( src && src.type ) {
		this.originalEvent = src;
		this.type = src.type;

		// Events bubbling up the document may have been marked as prevented
		// by a handler lower down the tree; reflect the correct value.
		this.isDefaultPrevented = src.defaultPrevented ||
				src.defaultPrevented === undefined &&
				// Support: Android<4.0
				src.returnValue === false ?
			returnTrue :
			returnFalse;

	// Event type
	} else {
		this.type = src;
	}

	// Put explicitly provided properties onto the event object
	if ( props ) {
		jQuery.extend( this, props );
	}

	// Create a timestamp if incoming event doesn't have one
	this.timeStamp = src && src.timeStamp || jQuery.now();

	// Mark it as fixed
	this[ jQuery.expando ] = true;
};

// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html
jQuery.Event.prototype = {
	isDefaultPrevented: returnFalse,
	isPropagationStopped: returnFalse,
	isImmediatePropagationStopped: returnFalse,

	preventDefault: function() {
		var e = this.originalEvent;

		this.isDefaultPrevented = returnTrue;

		if ( e && e.preventDefault ) {
			e.preventDefault();
		}
	},
	stopPropagation: function() {
		var e = this.originalEvent;

		this.isPropagationStopped = returnTrue;

		if ( e && e.stopPropagation ) {
			e.stopPropagation();
		}
	},
	stopImmediatePropagation: function() {
		var e = this.originalEvent;

		this.isImmediatePropagationStopped = returnTrue;

		if ( e && e.stopImmediatePropagation ) {
			e.stopImmediatePropagation();
		}

		this.stopPropagation();
	}
};

// Create mouseenter/leave events using mouseover/out and event-time checks
// Support: Chrome 15+
jQuery.each({
	mouseenter: "mouseover",
	mouseleave: "mouseout",
	pointerenter: "pointerover",
	pointerleave: "pointerout"
}, function( orig, fix ) {
	jQuery.event.special[ orig ] = {
		delegateType: fix,
		bindType: fix,

		handle: function( event ) {
			var ret,
				target = this,
				related = event.relatedTarget,
				handleObj = event.handleObj;

			// For mousenter/leave call the handler if related is outside the target.
			// NB: No relatedTarget if the mouse left/entered the browser window
			if ( !related || (related !== target && !jQuery.contains( target, related )) ) {
				event.type = handleObj.origType;
				ret = handleObj.handler.apply( this, arguments );
				event.type = fix;
			}
			return ret;
		}
	};
});

// Support: Firefox, Chrome, Safari
// Create "bubbling" focus and blur events
if ( !support.focusinBubbles ) {
	jQuery.each({ focus: "focusin", blur: "focusout" }, function( orig, fix ) {

		// Attach a single capturing handler on the document while someone wants focusin/focusout
		var handler = function( event ) {
				jQuery.event.simulate( fix, event.target, jQuery.event.fix( event ), true );
			};

		jQuery.event.special[ fix ] = {
			setup: function() {
				var doc = this.ownerDocument || this,
					attaches = data_priv.access( doc, fix );

				if ( !attaches ) {
					doc.addEventListener( orig, handler, true );
				}
				data_priv.access( doc, fix, ( attaches || 0 ) + 1 );
			},
			teardown: function() {
				var doc = this.ownerDocument || this,
					attaches = data_priv.access( doc, fix ) - 1;

				if ( !attaches ) {
					doc.removeEventListener( orig, handler, true );
					data_priv.remove( doc, fix );

				} else {
					data_priv.access( doc, fix, attaches );
				}
			}
		};
	});
}

jQuery.fn.extend({

	on: function( types, selector, data, fn, /*INTERNAL*/ one ) {
		var origFn, type;

		// Types can be a map of types/handlers
		if ( typeof types === "object" ) {
			// ( types-Object, selector, data )
			if ( typeof selector !== "string" ) {
				// ( types-Object, data )
				data = data || selector;
				selector = undefined;
			}
			for ( type in types ) {
				this.on( type, selector, data, types[ type ], one );
			}
			return this;
		}

		if ( data == null && fn == null ) {
			// ( types, fn )
			fn = selector;
			data = selector = undefined;
		} else if ( fn == null ) {
			if ( typeof selector === "string" ) {
				// ( types, selector, fn )
				fn = data;
				data = undefined;
			} else {
				// ( types, data, fn )
				fn = data;
				data = selector;
				selector = undefined;
			}
		}
		if ( fn === false ) {
			fn = returnFalse;
		} else if ( !fn ) {
			return this;
		}

		if ( one === 1 ) {
			origFn = fn;
			fn = function( event ) {
				// Can use an empty set, since event contains the info
				jQuery().off( event );
				return origFn.apply( this, arguments );
			};
			// Use same guid so caller can remove using origFn
			fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );
		}
		return this.each( function() {
			jQuery.event.add( this, types, fn, data, selector );
		});
	},
	one: function( types, selector, data, fn ) {
		return this.on( types, selector, data, fn, 1 );
	},
	off: function( types, selector, fn ) {
		var handleObj, type;
		if ( types && types.preventDefault && types.handleObj ) {
			// ( event )  dispatched jQuery.Event
			handleObj = types.handleObj;
			jQuery( types.delegateTarget ).off(
				handleObj.namespace ? handleObj.origType + "." + handleObj.namespace : handleObj.origType,
				handleObj.selector,
				handleObj.handler
			);
			return this;
		}
		if ( typeof types === "object" ) {
			// ( types-object [, selector] )
			for ( type in types ) {
				this.off( type, selector, types[ type ] );
			}
			return this;
		}
		if ( selector === false || typeof selector === "function" ) {
			// ( types [, fn] )
			fn = selector;
			selector = undefined;
		}
		if ( fn === false ) {
			fn = returnFalse;
		}
		return this.each(function() {
			jQuery.event.remove( this, types, fn, selector );
		});
	},

	trigger: function( type, data ) {
		return this.each(function() {
			jQuery.event.trigger( type, data, this );
		});
	},
	triggerHandler: function( type, data ) {
		var elem = this[0];
		if ( elem ) {
			return jQuery.event.trigger( type, data, elem, true );
		}
	}
});


var
	rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
	rtagName = /<([\w:]+)/,
	rhtml = /<|&#?\w+;/,
	rnoInnerhtml = /<(?:script|style|link)/i,
	// checked="checked" or checked
	rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
	rscriptType = /^$|\/(?:java|ecma)script/i,
	rscriptTypeMasked = /^true\/(.*)/,
	rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,

	// We have to close these tags to support XHTML (#13200)
	wrapMap = {

		// Support: IE9
		option: [ 1, "<select multiple='multiple'>", "</select>" ],

		thead: [ 1, "<table>", "</table>" ],
		col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
		tr: [ 2, "<table><tbody>", "</tbody></table>" ],
		td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],

		_default: [ 0, "", "" ]
	};

// Support: IE9
wrapMap.optgroup = wrapMap.option;

wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
wrapMap.th = wrapMap.td;

// Support: 1.x compatibility
// Manipulating tables requires a tbody
function manipulationTarget( elem, content ) {
	return jQuery.nodeName( elem, "table" ) &&
		jQuery.nodeName( content.nodeType !== 11 ? content : content.firstChild, "tr" ) ?

		elem.getElementsByTagName("tbody")[0] ||
			elem.appendChild( elem.ownerDocument.createElement("tbody") ) :
		elem;
}

// Replace/restore the type attribute of script elements for safe DOM manipulation
function disableScript( elem ) {
	elem.type = (elem.getAttribute("type") !== null) + "/" + elem.type;
	return elem;
}
function restoreScript( elem ) {
	var match = rscriptTypeMasked.exec( elem.type );

	if ( match ) {
		elem.type = match[ 1 ];
	} else {
		elem.removeAttribute("type");
	}

	return elem;
}

// Mark scripts as having already been evaluated
function setGlobalEval( elems, refElements ) {
	var i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		data_priv.set(
			elems[ i ], "globalEval", !refElements || data_priv.get( refElements[ i ], "globalEval" )
		);
	}
}

function cloneCopyEvent( src, dest ) {
	var i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;

	if ( dest.nodeType !== 1 ) {
		return;
	}

	// 1. Copy private data: events, handlers, etc.
	if ( data_priv.hasData( src ) ) {
		pdataOld = data_priv.access( src );
		pdataCur = data_priv.set( dest, pdataOld );
		events = pdataOld.events;

		if ( events ) {
			delete pdataCur.handle;
			pdataCur.events = {};

			for ( type in events ) {
				for ( i = 0, l = events[ type ].length; i < l; i++ ) {
					jQuery.event.add( dest, type, events[ type ][ i ] );
				}
			}
		}
	}

	// 2. Copy user data
	if ( data_user.hasData( src ) ) {
		udataOld = data_user.access( src );
		udataCur = jQuery.extend( {}, udataOld );

		data_user.set( dest, udataCur );
	}
}

function getAll( context, tag ) {
	var ret = context.getElementsByTagName ? context.getElementsByTagName( tag || "*" ) :
			context.querySelectorAll ? context.querySelectorAll( tag || "*" ) :
			[];

	return tag === undefined || tag && jQuery.nodeName( context, tag ) ?
		jQuery.merge( [ context ], ret ) :
		ret;
}

// Fix IE bugs, see support tests
function fixInput( src, dest ) {
	var nodeName = dest.nodeName.toLowerCase();

	// Fails to persist the checked state of a cloned checkbox or radio button.
	if ( nodeName === "input" && rcheckableType.test( src.type ) ) {
		dest.checked = src.checked;

	// Fails to return the selected option to the default selected state when cloning options
	} else if ( nodeName === "input" || nodeName === "textarea" ) {
		dest.defaultValue = src.defaultValue;
	}
}

jQuery.extend({
	clone: function( elem, dataAndEvents, deepDataAndEvents ) {
		var i, l, srcElements, destElements,
			clone = elem.cloneNode( true ),
			inPage = jQuery.contains( elem.ownerDocument, elem );

		// Fix IE cloning issues
		if ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&
				!jQuery.isXMLDoc( elem ) ) {

			// We eschew Sizzle here for performance reasons: http://jsperf.com/getall-vs-sizzle/2
			destElements = getAll( clone );
			srcElements = getAll( elem );

			for ( i = 0, l = srcElements.length; i < l; i++ ) {
				fixInput( srcElements[ i ], destElements[ i ] );
			}
		}

		// Copy the events from the original to the clone
		if ( dataAndEvents ) {
			if ( deepDataAndEvents ) {
				srcElements = srcElements || getAll( elem );
				destElements = destElements || getAll( clone );

				for ( i = 0, l = srcElements.length; i < l; i++ ) {
					cloneCopyEvent( srcElements[ i ], destElements[ i ] );
				}
			} else {
				cloneCopyEvent( elem, clone );
			}
		}

		// Preserve script evaluation history
		destElements = getAll( clone, "script" );
		if ( destElements.length > 0 ) {
			setGlobalEval( destElements, !inPage && getAll( elem, "script" ) );
		}

		// Return the cloned set
		return clone;
	},

	buildFragment: function( elems, context, scripts, selection ) {
		var elem, tmp, tag, wrap, contains, j,
			fragment = context.createDocumentFragment(),
			nodes = [],
			i = 0,
			l = elems.length;

		for ( ; i < l; i++ ) {
			elem = elems[ i ];

			if ( elem || elem === 0 ) {

				// Add nodes directly
				if ( jQuery.type( elem ) === "object" ) {
					// Support: QtWebKit, PhantomJS
					// push.apply(_, arraylike) throws on ancient WebKit
					jQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );

				// Convert non-html into a text node
				} else if ( !rhtml.test( elem ) ) {
					nodes.push( context.createTextNode( elem ) );

				// Convert html into DOM nodes
				} else {
					tmp = tmp || fragment.appendChild( context.createElement("div") );

					// Deserialize a standard representation
					tag = ( rtagName.exec( elem ) || [ "", "" ] )[ 1 ].toLowerCase();
					wrap = wrapMap[ tag ] || wrapMap._default;
					tmp.innerHTML = wrap[ 1 ] + elem.replace( rxhtmlTag, "<$1></$2>" ) + wrap[ 2 ];

					// Descend through wrappers to the right content
					j = wrap[ 0 ];
					while ( j-- ) {
						tmp = tmp.lastChild;
					}

					// Support: QtWebKit, PhantomJS
					// push.apply(_, arraylike) throws on ancient WebKit
					jQuery.merge( nodes, tmp.childNodes );

					// Remember the top-level container
					tmp = fragment.firstChild;

					// Ensure the created nodes are orphaned (#12392)
					tmp.textContent = "";
				}
			}
		}

		// Remove wrapper from fragment
		fragment.textContent = "";

		i = 0;
		while ( (elem = nodes[ i++ ]) ) {

			// #4087 - If origin and destination elements are the same, and this is
			// that element, do not do anything
			if ( selection && jQuery.inArray( elem, selection ) !== -1 ) {
				continue;
			}

			contains = jQuery.contains( elem.ownerDocument, elem );

			// Append to fragment
			tmp = getAll( fragment.appendChild( elem ), "script" );

			// Preserve script evaluation history
			if ( contains ) {
				setGlobalEval( tmp );
			}

			// Capture executables
			if ( scripts ) {
				j = 0;
				while ( (elem = tmp[ j++ ]) ) {
					if ( rscriptType.test( elem.type || "" ) ) {
						scripts.push( elem );
					}
				}
			}
		}

		return fragment;
	},

	cleanData: function( elems ) {
		var data, elem, type, key,
			special = jQuery.event.special,
			i = 0;

		for ( ; (elem = elems[ i ]) !== undefined; i++ ) {
			if ( jQuery.acceptData( elem ) ) {
				key = elem[ data_priv.expando ];

				if ( key && (data = data_priv.cache[ key ]) ) {
					if ( data.events ) {
						for ( type in data.events ) {
							if ( special[ type ] ) {
								jQuery.event.remove( elem, type );

							// This is a shortcut to avoid jQuery.event.remove's overhead
							} else {
								jQuery.removeEvent( elem, type, data.handle );
							}
						}
					}
					if ( data_priv.cache[ key ] ) {
						// Discard any remaining `private` data
						delete data_priv.cache[ key ];
					}
				}
			}
			// Discard any remaining `user` data
			delete data_user.cache[ elem[ data_user.expando ] ];
		}
	}
});

jQuery.fn.extend({
	text: function( value ) {
		return access( this, function( value ) {
			return value === undefined ?
				jQuery.text( this ) :
				this.empty().each(function() {
					if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
						this.textContent = value;
					}
				});
		}, null, value, arguments.length );
	},

	append: function() {
		return this.domManip( arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.appendChild( elem );
			}
		});
	},

	prepend: function() {
		return this.domManip( arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.insertBefore( elem, target.firstChild );
			}
		});
	},

	before: function() {
		return this.domManip( arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this );
			}
		});
	},

	after: function() {
		return this.domManip( arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this.nextSibling );
			}
		});
	},

	remove: function( selector, keepData /* Internal Use Only */ ) {
		var elem,
			elems = selector ? jQuery.filter( selector, this ) : this,
			i = 0;

		for ( ; (elem = elems[i]) != null; i++ ) {
			if ( !keepData && elem.nodeType === 1 ) {
				jQuery.cleanData( getAll( elem ) );
			}

			if ( elem.parentNode ) {
				if ( keepData && jQuery.contains( elem.ownerDocument, elem ) ) {
					setGlobalEval( getAll( elem, "script" ) );
				}
				elem.parentNode.removeChild( elem );
			}
		}

		return this;
	},

	empty: function() {
		var elem,
			i = 0;

		for ( ; (elem = this[i]) != null; i++ ) {
			if ( elem.nodeType === 1 ) {

				// Prevent memory leaks
				jQuery.cleanData( getAll( elem, false ) );

				// Remove any remaining nodes
				elem.textContent = "";
			}
		}

		return this;
	},

	clone: function( dataAndEvents, deepDataAndEvents ) {
		dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
		deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;

		return this.map(function() {
			return jQuery.clone( this, dataAndEvents, deepDataAndEvents );
		});
	},

	html: function( value ) {
		return access( this, function( value ) {
			var elem = this[ 0 ] || {},
				i = 0,
				l = this.length;

			if ( value === undefined && elem.nodeType === 1 ) {
				return elem.innerHTML;
			}

			// See if we can take a shortcut and just use innerHTML
			if ( typeof value === "string" && !rnoInnerhtml.test( value ) &&
				!wrapMap[ ( rtagName.exec( value ) || [ "", "" ] )[ 1 ].toLowerCase() ] ) {

				value = value.replace( rxhtmlTag, "<$1></$2>" );

				try {
					for ( ; i < l; i++ ) {
						elem = this[ i ] || {};

						// Remove element nodes and prevent memory leaks
						if ( elem.nodeType === 1 ) {
							jQuery.cleanData( getAll( elem, false ) );
							elem.innerHTML = value;
						}
					}

					elem = 0;

				// If using innerHTML throws an exception, use the fallback method
				} catch( e ) {}
			}

			if ( elem ) {
				this.empty().append( value );
			}
		}, null, value, arguments.length );
	},

	replaceWith: function() {
		var arg = arguments[ 0 ];

		// Make the changes, replacing each context element with the new content
		this.domManip( arguments, function( elem ) {
			arg = this.parentNode;

			jQuery.cleanData( getAll( this ) );

			if ( arg ) {
				arg.replaceChild( elem, this );
			}
		});

		// Force removal if there was no new content (e.g., from empty arguments)
		return arg && (arg.length || arg.nodeType) ? this : this.remove();
	},

	detach: function( selector ) {
		return this.remove( selector, true );
	},

	domManip: function( args, callback ) {

		// Flatten any nested arrays
		args = concat.apply( [], args );

		var fragment, first, scripts, hasScripts, node, doc,
			i = 0,
			l = this.length,
			set = this,
			iNoClone = l - 1,
			value = args[ 0 ],
			isFunction = jQuery.isFunction( value );

		// We can't cloneNode fragments that contain checked, in WebKit
		if ( isFunction ||
				( l > 1 && typeof value === "string" &&
					!support.checkClone && rchecked.test( value ) ) ) {
			return this.each(function( index ) {
				var self = set.eq( index );
				if ( isFunction ) {
					args[ 0 ] = value.call( this, index, self.html() );
				}
				self.domManip( args, callback );
			});
		}

		if ( l ) {
			fragment = jQuery.buildFragment( args, this[ 0 ].ownerDocument, false, this );
			first = fragment.firstChild;

			if ( fragment.childNodes.length === 1 ) {
				fragment = first;
			}

			if ( first ) {
				scripts = jQuery.map( getAll( fragment, "script" ), disableScript );
				hasScripts = scripts.length;

				// Use the original fragment for the last item instead of the first because it can end up
				// being emptied incorrectly in certain situations (#8070).
				for ( ; i < l; i++ ) {
					node = fragment;

					if ( i !== iNoClone ) {
						node = jQuery.clone( node, true, true );

						// Keep references to cloned scripts for later restoration
						if ( hasScripts ) {
							// Support: QtWebKit
							// jQuery.merge because push.apply(_, arraylike) throws
							jQuery.merge( scripts, getAll( node, "script" ) );
						}
					}

					callback.call( this[ i ], node, i );
				}

				if ( hasScripts ) {
					doc = scripts[ scripts.length - 1 ].ownerDocument;

					// Reenable scripts
					jQuery.map( scripts, restoreScript );

					// Evaluate executable scripts on first document insertion
					for ( i = 0; i < hasScripts; i++ ) {
						node = scripts[ i ];
						if ( rscriptType.test( node.type || "" ) &&
							!data_priv.access( node, "globalEval" ) && jQuery.contains( doc, node ) ) {

							if ( node.src ) {
								// Optional AJAX dependency, but won't run scripts if not present
								if ( jQuery._evalUrl ) {
									jQuery._evalUrl( node.src );
								}
							} else {
								jQuery.globalEval( node.textContent.replace( rcleanScript, "" ) );
							}
						}
					}
				}
			}
		}

		return this;
	}
});

jQuery.each({
	appendTo: "append",
	prependTo: "prepend",
	insertBefore: "before",
	insertAfter: "after",
	replaceAll: "replaceWith"
}, function( name, original ) {
	jQuery.fn[ name ] = function( selector ) {
		var elems,
			ret = [],
			insert = jQuery( selector ),
			last = insert.length - 1,
			i = 0;

		for ( ; i <= last; i++ ) {
			elems = i === last ? this : this.clone( true );
			jQuery( insert[ i ] )[ original ]( elems );

			// Support: QtWebKit
			// .get() because push.apply(_, arraylike) throws
			push.apply( ret, elems.get() );
		}

		return this.pushStack( ret );
	};
});


var iframe,
	elemdisplay = {};

/**
 * Retrieve the actual display of a element
 * @param {String} name nodeName of the element
 * @param {Object} doc Document object
 */
// Called only from within defaultDisplay
function actualDisplay( name, doc ) {
	var style,
		elem = jQuery( doc.createElement( name ) ).appendTo( doc.body ),

		// getDefaultComputedStyle might be reliably used only on attached element
		display = window.getDefaultComputedStyle && ( style = window.getDefaultComputedStyle( elem[ 0 ] ) ) ?

			// Use of this method is a temporary fix (more like optimization) until something better comes along,
			// since it was removed from specification and supported only in FF
			style.display : jQuery.css( elem[ 0 ], "display" );

	// We don't have any data stored on the element,
	// so use "detach" method as fast way to get rid of the element
	elem.detach();

	return display;
}

/**
 * Try to determine the default display value of an element
 * @param {String} nodeName
 */
function defaultDisplay( nodeName ) {
	var doc = document,
		display = elemdisplay[ nodeName ];

	if ( !display ) {
		display = actualDisplay( nodeName, doc );

		// If the simple way fails, read from inside an iframe
		if ( display === "none" || !display ) {

			// Use the already-created iframe if possible
			iframe = (iframe || jQuery( "<iframe frameborder='0' width='0' height='0'/>" )).appendTo( doc.documentElement );

			// Always write a new HTML skeleton so Webkit and Firefox don't choke on reuse
			doc = iframe[ 0 ].contentDocument;

			// Support: IE
			doc.write();
			doc.close();

			display = actualDisplay( nodeName, doc );
			iframe.detach();
		}

		// Store the correct default display
		elemdisplay[ nodeName ] = display;
	}

	return display;
}
var rmargin = (/^margin/);

var rnumnonpx = new RegExp( "^(" + pnum + ")(?!px)[a-z%]+$", "i" );

var getStyles = function( elem ) {
		// Support: IE<=11+, Firefox<=30+ (#15098, #14150)
		// IE throws on elements created in popups
		// FF meanwhile throws on frame elements through "defaultView.getComputedStyle"
		if ( elem.ownerDocument.defaultView.opener ) {
			return elem.ownerDocument.defaultView.getComputedStyle( elem, null );
		}

		return window.getComputedStyle( elem, null );
	};



function curCSS( elem, name, computed ) {
	var width, minWidth, maxWidth, ret,
		style = elem.style;

	computed = computed || getStyles( elem );

	// Support: IE9
	// getPropertyValue is only needed for .css('filter') (#12537)
	if ( computed ) {
		ret = computed.getPropertyValue( name ) || computed[ name ];
	}

	if ( computed ) {

		if ( ret === "" && !jQuery.contains( elem.ownerDocument, elem ) ) {
			ret = jQuery.style( elem, name );
		}

		// Support: iOS < 6
		// A tribute to the "awesome hack by Dean Edwards"
		// iOS < 6 (at least) returns percentage for a larger set of values, but width seems to be reliably pixels
		// this is against the CSSOM draft spec: http://dev.w3.org/csswg/cssom/#resolved-values
		if ( rnumnonpx.test( ret ) && rmargin.test( name ) ) {

			// Remember the original values
			width = style.width;
			minWidth = style.minWidth;
			maxWidth = style.maxWidth;

			// Put in the new values to get a computed value out
			style.minWidth = style.maxWidth = style.width = ret;
			ret = computed.width;

			// Revert the changed values
			style.width = width;
			style.minWidth = minWidth;
			style.maxWidth = maxWidth;
		}
	}

	return ret !== undefined ?
		// Support: IE
		// IE returns zIndex value as an integer.
		ret + "" :
		ret;
}


function addGetHookIf( conditionFn, hookFn ) {
	// Define the hook, we'll check on the first run if it's really needed.
	return {
		get: function() {
			if ( conditionFn() ) {
				// Hook not needed (or it's not possible to use it due
				// to missing dependency), remove it.
				delete this.get;
				return;
			}

			// Hook needed; redefine it so that the support test is not executed again.
			return (this.get = hookFn).apply( this, arguments );
		}
	};
}


(function() {
	var pixelPositionVal, boxSizingReliableVal,
		docElem = document.documentElement,
		container = document.createElement( "div" ),
		div = document.createElement( "div" );

	if ( !div.style ) {
		return;
	}

	// Support: IE9-11+
	// Style of cloned element affects source element cloned (#8908)
	div.style.backgroundClip = "content-box";
	div.cloneNode( true ).style.backgroundClip = "";
	support.clearCloneStyle = div.style.backgroundClip === "content-box";

	container.style.cssText = "border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;" +
		"position:absolute";
	container.appendChild( div );

	// Executing both pixelPosition & boxSizingReliable tests require only one layout
	// so they're executed at the same time to save the second computation.
	function computePixelPositionAndBoxSizingReliable() {
		div.style.cssText =
			// Support: Firefox<29, Android 2.3
			// Vendor-prefix box-sizing
			"-webkit-box-sizing:border-box;-moz-box-sizing:border-box;" +
			"box-sizing:border-box;display:block;margin-top:1%;top:1%;" +
			"border:1px;padding:1px;width:4px;position:absolute";
		div.innerHTML = "";
		docElem.appendChild( container );

		var divStyle = window.getComputedStyle( div, null );
		pixelPositionVal = divStyle.top !== "1%";
		boxSizingReliableVal = divStyle.width === "4px";

		docElem.removeChild( container );
	}

	// Support: node.js jsdom
	// Don't assume that getComputedStyle is a property of the global object
	if ( window.getComputedStyle ) {
		jQuery.extend( support, {
			pixelPosition: function() {

				// This test is executed only once but we still do memoizing
				// since we can use the boxSizingReliable pre-computing.
				// No need to check if the test was already performed, though.
				computePixelPositionAndBoxSizingReliable();
				return pixelPositionVal;
			},
			boxSizingReliable: function() {
				if ( boxSizingReliableVal == null ) {
					computePixelPositionAndBoxSizingReliable();
				}
				return boxSizingReliableVal;
			},
			reliableMarginRight: function() {

				// Support: Android 2.3
				// Check if div with explicit width and no margin-right incorrectly
				// gets computed margin-right based on width of container. (#3333)
				// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right
				// This support function is only executed once so no memoizing is needed.
				var ret,
					marginDiv = div.appendChild( document.createElement( "div" ) );

				// Reset CSS: box-sizing; display; margin; border; padding
				marginDiv.style.cssText = div.style.cssText =
					// Support: Firefox<29, Android 2.3
					// Vendor-prefix box-sizing
					"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;" +
					"box-sizing:content-box;display:block;margin:0;border:0;padding:0";
				marginDiv.style.marginRight = marginDiv.style.width = "0";
				div.style.width = "1px";
				docElem.appendChild( container );

				ret = !parseFloat( window.getComputedStyle( marginDiv, null ).marginRight );

				docElem.removeChild( container );
				div.removeChild( marginDiv );

				return ret;
			}
		});
	}
})();


// A method for quickly swapping in/out CSS properties to get correct calculations.
jQuery.swap = function( elem, options, callback, args ) {
	var ret, name,
		old = {};

	// Remember the old values, and insert the new ones
	for ( name in options ) {
		old[ name ] = elem.style[ name ];
		elem.style[ name ] = options[ name ];
	}

	ret = callback.apply( elem, args || [] );

	// Revert the old values
	for ( name in options ) {
		elem.style[ name ] = old[ name ];
	}

	return ret;
};


var
	// Swappable if display is none or starts with table except "table", "table-cell", or "table-caption"
	// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display
	rdisplayswap = /^(none|table(?!-c[ea]).+)/,
	rnumsplit = new RegExp( "^(" + pnum + ")(.*)$", "i" ),
	rrelNum = new RegExp( "^([+-])=(" + pnum + ")", "i" ),

	cssShow = { position: "absolute", visibility: "hidden", display: "block" },
	cssNormalTransform = {
		letterSpacing: "0",
		fontWeight: "400"
	},

	cssPrefixes = [ "Webkit", "O", "Moz", "ms" ];

// Return a css property mapped to a potentially vendor prefixed property
function vendorPropName( style, name ) {

	// Shortcut for names that are not vendor prefixed
	if ( name in style ) {
		return name;
	}

	// Check for vendor prefixed names
	var capName = name[0].toUpperCase() + name.slice(1),
		origName = name,
		i = cssPrefixes.length;

	while ( i-- ) {
		name = cssPrefixes[ i ] + capName;
		if ( name in style ) {
			return name;
		}
	}

	return origName;
}

function setPositiveNumber( elem, value, subtract ) {
	var matches = rnumsplit.exec( value );
	return matches ?
		// Guard against undefined "subtract", e.g., when used as in cssHooks
		Math.max( 0, matches[ 1 ] - ( subtract || 0 ) ) + ( matches[ 2 ] || "px" ) :
		value;
}

function augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) {
	var i = extra === ( isBorderBox ? "border" : "content" ) ?
		// If we already have the right measurement, avoid augmentation
		4 :
		// Otherwise initialize for horizontal or vertical properties
		name === "width" ? 1 : 0,

		val = 0;

	for ( ; i < 4; i += 2 ) {
		// Both box models exclude margin, so add it if we want it
		if ( extra === "margin" ) {
			val += jQuery.css( elem, extra + cssExpand[ i ], true, styles );
		}

		if ( isBorderBox ) {
			// border-box includes padding, so remove it if we want content
			if ( extra === "content" ) {
				val -= jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );
			}

			// At this point, extra isn't border nor margin, so remove border
			if ( extra !== "margin" ) {
				val -= jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}
		} else {
			// At this point, extra isn't content, so add padding
			val += jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );

			// At this point, extra isn't content nor padding, so add border
			if ( extra !== "padding" ) {
				val += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}
		}
	}

	return val;
}

function getWidthOrHeight( elem, name, extra ) {

	// Start with offset property, which is equivalent to the border-box value
	var valueIsBorderBox = true,
		val = name === "width" ? elem.offsetWidth : elem.offsetHeight,
		styles = getStyles( elem ),
		isBorderBox = jQuery.css( elem, "boxSizing", false, styles ) === "border-box";

	// Some non-html elements return undefined for offsetWidth, so check for null/undefined
	// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285
	// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668
	if ( val <= 0 || val == null ) {
		// Fall back to computed then uncomputed css if necessary
		val = curCSS( elem, name, styles );
		if ( val < 0 || val == null ) {
			val = elem.style[ name ];
		}

		// Computed unit is not pixels. Stop here and return.
		if ( rnumnonpx.test(val) ) {
			return val;
		}

		// Check for style in case a browser which returns unreliable values
		// for getComputedStyle silently falls back to the reliable elem.style
		valueIsBorderBox = isBorderBox &&
			( support.boxSizingReliable() || val === elem.style[ name ] );

		// Normalize "", auto, and prepare for extra
		val = parseFloat( val ) || 0;
	}

	// Use the active box-sizing model to add/subtract irrelevant styles
	return ( val +
		augmentWidthOrHeight(
			elem,
			name,
			extra || ( isBorderBox ? "border" : "content" ),
			valueIsBorderBox,
			styles
		)
	) + "px";
}

function showHide( elements, show ) {
	var display, elem, hidden,
		values = [],
		index = 0,
		length = elements.length;

	for ( ; index < length; index++ ) {
		elem = elements[ index ];
		if ( !elem.style ) {
			continue;
		}

		values[ index ] = data_priv.get( elem, "olddisplay" );
		display = elem.style.display;
		if ( show ) {
			// Reset the inline display of this element to learn if it is
			// being hidden by cascaded rules or not
			if ( !values[ index ] && display === "none" ) {
				elem.style.display = "";
			}

			// Set elements which have been overridden with display: none
			// in a stylesheet to whatever the default browser style is
			// for such an element
			if ( elem.style.display === "" && isHidden( elem ) ) {
				values[ index ] = data_priv.access( elem, "olddisplay", defaultDisplay(elem.nodeName) );
			}
		} else {
			hidden = isHidden( elem );

			if ( display !== "none" || !hidden ) {
				data_priv.set( elem, "olddisplay", hidden ? display : jQuery.css( elem, "display" ) );
			}
		}
	}

	// Set the display of most of the elements in a second loop
	// to avoid the constant reflow
	for ( index = 0; index < length; index++ ) {
		elem = elements[ index ];
		if ( !elem.style ) {
			continue;
		}
		if ( !show || elem.style.display === "none" || elem.style.display === "" ) {
			elem.style.display = show ? values[ index ] || "" : "none";
		}
	}

	return elements;
}

jQuery.extend({

	// Add in style property hooks for overriding the default
	// behavior of getting and setting a style property
	cssHooks: {
		opacity: {
			get: function( elem, computed ) {
				if ( computed ) {

					// We should always get a number back from opacity
					var ret = curCSS( elem, "opacity" );
					return ret === "" ? "1" : ret;
				}
			}
		}
	},

	// Don't automatically add "px" to these possibly-unitless properties
	cssNumber: {
		"columnCount": true,
		"fillOpacity": true,
		"flexGrow": true,
		"flexShrink": true,
		"fontWeight": true,
		"lineHeight": true,
		"opacity": true,
		"order": true,
		"orphans": true,
		"widows": true,
		"zIndex": true,
		"zoom": true
	},

	// Add in properties whose names you wish to fix before
	// setting or getting the value
	cssProps: {
		"float": "cssFloat"
	},

	// Get and set the style property on a DOM Node
	style: function( elem, name, value, extra ) {

		// Don't set styles on text and comment nodes
		if ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {
			return;
		}

		// Make sure that we're working with the right name
		var ret, type, hooks,
			origName = jQuery.camelCase( name ),
			style = elem.style;

		name = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( style, origName ) );

		// Gets hook for the prefixed version, then unprefixed version
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// Check if we're setting a value
		if ( value !== undefined ) {
			type = typeof value;

			// Convert "+=" or "-=" to relative numbers (#7345)
			if ( type === "string" && (ret = rrelNum.exec( value )) ) {
				value = ( ret[1] + 1 ) * ret[2] + parseFloat( jQuery.css( elem, name ) );
				// Fixes bug #9237
				type = "number";
			}

			// Make sure that null and NaN values aren't set (#7116)
			if ( value == null || value !== value ) {
				return;
			}

			// If a number, add 'px' to the (except for certain CSS properties)
			if ( type === "number" && !jQuery.cssNumber[ origName ] ) {
				value += "px";
			}

			// Support: IE9-11+
			// background-* props affect original clone's values
			if ( !support.clearCloneStyle && value === "" && name.indexOf( "background" ) === 0 ) {
				style[ name ] = "inherit";
			}

			// If a hook was provided, use that value, otherwise just set the specified value
			if ( !hooks || !("set" in hooks) || (value = hooks.set( elem, value, extra )) !== undefined ) {
				style[ name ] = value;
			}

		} else {
			// If a hook was provided get the non-computed value from there
			if ( hooks && "get" in hooks && (ret = hooks.get( elem, false, extra )) !== undefined ) {
				return ret;
			}

			// Otherwise just get the value from the style object
			return style[ name ];
		}
	},

	css: function( elem, name, extra, styles ) {
		var val, num, hooks,
			origName = jQuery.camelCase( name );

		// Make sure that we're working with the right name
		name = jQuery.cssProps[ origName ] || ( jQuery.cssProps[ origName ] = vendorPropName( elem.style, origName ) );

		// Try prefixed name followed by the unprefixed name
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// If a hook was provided get the computed value from there
		if ( hooks && "get" in hooks ) {
			val = hooks.get( elem, true, extra );
		}

		// Otherwise, if a way to get the computed value exists, use that
		if ( val === undefined ) {
			val = curCSS( elem, name, styles );
		}

		// Convert "normal" to computed value
		if ( val === "normal" && name in cssNormalTransform ) {
			val = cssNormalTransform[ name ];
		}

		// Make numeric if forced or a qualifier was provided and val looks numeric
		if ( extra === "" || extra ) {
			num = parseFloat( val );
			return extra === true || jQuery.isNumeric( num ) ? num || 0 : val;
		}
		return val;
	}
});

jQuery.each([ "height", "width" ], function( i, name ) {
	jQuery.cssHooks[ name ] = {
		get: function( elem, computed, extra ) {
			if ( computed ) {

				// Certain elements can have dimension info if we invisibly show them
				// but it must have a current display style that would benefit
				return rdisplayswap.test( jQuery.css( elem, "display" ) ) && elem.offsetWidth === 0 ?
					jQuery.swap( elem, cssShow, function() {
						return getWidthOrHeight( elem, name, extra );
					}) :
					getWidthOrHeight( elem, name, extra );
			}
		},

		set: function( elem, value, extra ) {
			var styles = extra && getStyles( elem );
			return setPositiveNumber( elem, value, extra ?
				augmentWidthOrHeight(
					elem,
					name,
					extra,
					jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
					styles
				) : 0
			);
		}
	};
});

// Support: Android 2.3
jQuery.cssHooks.marginRight = addGetHookIf( support.reliableMarginRight,
	function( elem, computed ) {
		if ( computed ) {
			return jQuery.swap( elem, { "display": "inline-block" },
				curCSS, [ elem, "marginRight" ] );
		}
	}
);

// These hooks are used by animate to expand properties
jQuery.each({
	margin: "",
	padding: "",
	border: "Width"
}, function( prefix, suffix ) {
	jQuery.cssHooks[ prefix + suffix ] = {
		expand: function( value ) {
			var i = 0,
				expanded = {},

				// Assumes a single number if not a string
				parts = typeof value === "string" ? value.split(" ") : [ value ];

			for ( ; i < 4; i++ ) {
				expanded[ prefix + cssExpand[ i ] + suffix ] =
					parts[ i ] || parts[ i - 2 ] || parts[ 0 ];
			}

			return expanded;
		}
	};

	if ( !rmargin.test( prefix ) ) {
		jQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;
	}
});

jQuery.fn.extend({
	css: function( name, value ) {
		return access( this, function( elem, name, value ) {
			var styles, len,
				map = {},
				i = 0;

			if ( jQuery.isArray( name ) ) {
				styles = getStyles( elem );
				len = name.length;

				for ( ; i < len; i++ ) {
					map[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );
				}

				return map;
			}

			return value !== undefined ?
				jQuery.style( elem, name, value ) :
				jQuery.css( elem, name );
		}, name, value, arguments.length > 1 );
	},
	show: function() {
		return showHide( this, true );
	},
	hide: function() {
		return showHide( this );
	},
	toggle: function( state ) {
		if ( typeof state === "boolean" ) {
			return state ? this.show() : this.hide();
		}

		return this.each(function() {
			if ( isHidden( this ) ) {
				jQuery( this ).show();
			} else {
				jQuery( this ).hide();
			}
		});
	}
});


function Tween( elem, options, prop, end, easing ) {
	return new Tween.prototype.init( elem, options, prop, end, easing );
}
jQuery.Tween = Tween;

Tween.prototype = {
	constructor: Tween,
	init: function( elem, options, prop, end, easing, unit ) {
		this.elem = elem;
		this.prop = prop;
		this.easing = easing || "swing";
		this.options = options;
		this.start = this.now = this.cur();
		this.end = end;
		this.unit = unit || ( jQuery.cssNumber[ prop ] ? "" : "px" );
	},
	cur: function() {
		var hooks = Tween.propHooks[ this.prop ];

		return hooks && hooks.get ?
			hooks.get( this ) :
			Tween.propHooks._default.get( this );
	},
	run: function( percent ) {
		var eased,
			hooks = Tween.propHooks[ this.prop ];

		if ( this.options.duration ) {
			this.pos = eased = jQuery.easing[ this.easing ](
				percent, this.options.duration * percent, 0, 1, this.options.duration
			);
		} else {
			this.pos = eased = percent;
		}
		this.now = ( this.end - this.start ) * eased + this.start;

		if ( this.options.step ) {
			this.options.step.call( this.elem, this.now, this );
		}

		if ( hooks && hooks.set ) {
			hooks.set( this );
		} else {
			Tween.propHooks._default.set( this );
		}
		return this;
	}
};

Tween.prototype.init.prototype = Tween.prototype;

Tween.propHooks = {
	_default: {
		get: function( tween ) {
			var result;

			if ( tween.elem[ tween.prop ] != null &&
				(!tween.elem.style || tween.elem.style[ tween.prop ] == null) ) {
				return tween.elem[ tween.prop ];
			}

			// Passing an empty string as a 3rd parameter to .css will automatically
			// attempt a parseFloat and fallback to a string if the parse fails.
			// Simple values such as "10px" are parsed to Float;
			// complex values such as "rotate(1rad)" are returned as-is.
			result = jQuery.css( tween.elem, tween.prop, "" );
			// Empty strings, null, undefined and "auto" are converted to 0.
			return !result || result === "auto" ? 0 : result;
		},
		set: function( tween ) {
			// Use step hook for back compat.
			// Use cssHook if its there.
			// Use .style if available and use plain properties where available.
			if ( jQuery.fx.step[ tween.prop ] ) {
				jQuery.fx.step[ tween.prop ]( tween );
			} else if ( tween.elem.style && ( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null || jQuery.cssHooks[ tween.prop ] ) ) {
				jQuery.style( tween.elem, tween.prop, tween.now + tween.unit );
			} else {
				tween.elem[ tween.prop ] = tween.now;
			}
		}
	}
};

// Support: IE9
// Panic based approach to setting things on disconnected nodes
Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
	set: function( tween ) {
		if ( tween.elem.nodeType && tween.elem.parentNode ) {
			tween.elem[ tween.prop ] = tween.now;
		}
	}
};

jQuery.easing = {
	linear: function( p ) {
		return p;
	},
	swing: function( p ) {
		return 0.5 - Math.cos( p * Math.PI ) / 2;
	}
};

jQuery.fx = Tween.prototype.init;

// Back Compat <1.8 extension point
jQuery.fx.step = {};




var
	fxNow, timerId,
	rfxtypes = /^(?:toggle|show|hide)$/,
	rfxnum = new RegExp( "^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i" ),
	rrun = /queueHooks$/,
	animationPrefilters = [ defaultPrefilter ],
	tweeners = {
		"*": [ function( prop, value ) {
			var tween = this.createTween( prop, value ),
				target = tween.cur(),
				parts = rfxnum.exec( value ),
				unit = parts && parts[ 3 ] || ( jQuery.cssNumber[ prop ] ? "" : "px" ),

				// Starting value computation is required for potential unit mismatches
				start = ( jQuery.cssNumber[ prop ] || unit !== "px" && +target ) &&
					rfxnum.exec( jQuery.css( tween.elem, prop ) ),
				scale = 1,
				maxIterations = 20;

			if ( start && start[ 3 ] !== unit ) {
				// Trust units reported by jQuery.css
				unit = unit || start[ 3 ];

				// Make sure we update the tween properties later on
				parts = parts || [];

				// Iteratively approximate from a nonzero starting point
				start = +target || 1;

				do {
					// If previous iteration zeroed out, double until we get *something*.
					// Use string for doubling so we don't accidentally see scale as unchanged below
					scale = scale || ".5";

					// Adjust and apply
					start = start / scale;
					jQuery.style( tween.elem, prop, start + unit );

				// Update scale, tolerating zero or NaN from tween.cur(),
				// break the loop if scale is unchanged or perfect, or if we've just had enough
				} while ( scale !== (scale = tween.cur() / target) && scale !== 1 && --maxIterations );
			}

			// Update tween properties
			if ( parts ) {
				start = tween.start = +start || +target || 0;
				tween.unit = unit;
				// If a +=/-= token was provided, we're doing a relative animation
				tween.end = parts[ 1 ] ?
					start + ( parts[ 1 ] + 1 ) * parts[ 2 ] :
					+parts[ 2 ];
			}

			return tween;
		} ]
	};

// Animations created synchronously will run synchronously
function createFxNow() {
	setTimeout(function() {
		fxNow = undefined;
	});
	return ( fxNow = jQuery.now() );
}

// Generate parameters to create a standard animation
function genFx( type, includeWidth ) {
	var which,
		i = 0,
		attrs = { height: type };

	// If we include width, step value is 1 to do all cssExpand values,
	// otherwise step value is 2 to skip over Left and Right
	includeWidth = includeWidth ? 1 : 0;
	for ( ; i < 4 ; i += 2 - includeWidth ) {
		which = cssExpand[ i ];
		attrs[ "margin" + which ] = attrs[ "padding" + which ] = type;
	}

	if ( includeWidth ) {
		attrs.opacity = attrs.width = type;
	}

	return attrs;
}

function createTween( value, prop, animation ) {
	var tween,
		collection = ( tweeners[ prop ] || [] ).concat( tweeners[ "*" ] ),
		index = 0,
		length = collection.length;
	for ( ; index < length; index++ ) {
		if ( (tween = collection[ index ].call( animation, prop, value )) ) {

			// We're done with this property
			return tween;
		}
	}
}

function defaultPrefilter( elem, props, opts ) {
	/* jshint validthis: true */
	var prop, value, toggle, tween, hooks, oldfire, display, checkDisplay,
		anim = this,
		orig = {},
		style = elem.style,
		hidden = elem.nodeType && isHidden( elem ),
		dataShow = data_priv.get( elem, "fxshow" );

	// Handle queue: false promises
	if ( !opts.queue ) {
		hooks = jQuery._queueHooks( elem, "fx" );
		if ( hooks.unqueued == null ) {
			hooks.unqueued = 0;
			oldfire = hooks.empty.fire;
			hooks.empty.fire = function() {
				if ( !hooks.unqueued ) {
					oldfire();
				}
			};
		}
		hooks.unqueued++;

		anim.always(function() {
			// Ensure the complete handler is called before this completes
			anim.always(function() {
				hooks.unqueued--;
				if ( !jQuery.queue( elem, "fx" ).length ) {
					hooks.empty.fire();
				}
			});
		});
	}

	// Height/width overflow pass
	if ( elem.nodeType === 1 && ( "height" in props || "width" in props ) ) {
		// Make sure that nothing sneaks out
		// Record all 3 overflow attributes because IE9-10 do not
		// change the overflow attribute when overflowX and
		// overflowY are set to the same value
		opts.overflow = [ style.overflow, style.overflowX, style.overflowY ];

		// Set display property to inline-block for height/width
		// animations on inline elements that are having width/height animated
		display = jQuery.css( elem, "display" );

		// Test default display if display is currently "none"
		checkDisplay = display === "none" ?
			data_priv.get( elem, "olddisplay" ) || defaultDisplay( elem.nodeName ) : display;

		if ( checkDisplay === "inline" && jQuery.css( elem, "float" ) === "none" ) {
			style.display = "inline-block";
		}
	}

	if ( opts.overflow ) {
		style.overflow = "hidden";
		anim.always(function() {
			style.overflow = opts.overflow[ 0 ];
			style.overflowX = opts.overflow[ 1 ];
			style.overflowY = opts.overflow[ 2 ];
		});
	}

	// show/hide pass
	for ( prop in props ) {
		value = props[ prop ];
		if ( rfxtypes.exec( value ) ) {
			delete props[ prop ];
			toggle = toggle || value === "toggle";
			if ( value === ( hidden ? "hide" : "show" ) ) {

				// If there is dataShow left over from a stopped hide or show and we are going to proceed with show, we should pretend to be hidden
				if ( value === "show" && dataShow && dataShow[ prop ] !== undefined ) {
					hidden = true;
				} else {
					continue;
				}
			}
			orig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );

		// Any non-fx value stops us from restoring the original display value
		} else {
			display = undefined;
		}
	}

	if ( !jQuery.isEmptyObject( orig ) ) {
		if ( dataShow ) {
			if ( "hidden" in dataShow ) {
				hidden = dataShow.hidden;
			}
		} else {
			dataShow = data_priv.access( elem, "fxshow", {} );
		}

		// Store state if its toggle - enables .stop().toggle() to "reverse"
		if ( toggle ) {
			dataShow.hidden = !hidden;
		}
		if ( hidden ) {
			jQuery( elem ).show();
		} else {
			anim.done(function() {
				jQuery( elem ).hide();
			});
		}
		anim.done(function() {
			var prop;

			data_priv.remove( elem, "fxshow" );
			for ( prop in orig ) {
				jQuery.style( elem, prop, orig[ prop ] );
			}
		});
		for ( prop in orig ) {
			tween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );

			if ( !( prop in dataShow ) ) {
				dataShow[ prop ] = tween.start;
				if ( hidden ) {
					tween.end = tween.start;
					tween.start = prop === "width" || prop === "height" ? 1 : 0;
				}
			}
		}

	// If this is a noop like .hide().hide(), restore an overwritten display value
	} else if ( (display === "none" ? defaultDisplay( elem.nodeName ) : display) === "inline" ) {
		style.display = display;
	}
}

function propFilter( props, specialEasing ) {
	var index, name, easing, value, hooks;

	// camelCase, specialEasing and expand cssHook pass
	for ( index in props ) {
		name = jQuery.camelCase( index );
		easing = specialEasing[ name ];
		value = props[ index ];
		if ( jQuery.isArray( value ) ) {
			easing = value[ 1 ];
			value = props[ index ] = value[ 0 ];
		}

		if ( index !== name ) {
			props[ name ] = value;
			delete props[ index ];
		}

		hooks = jQuery.cssHooks[ name ];
		if ( hooks && "expand" in hooks ) {
			value = hooks.expand( value );
			delete props[ name ];

			// Not quite $.extend, this won't overwrite existing keys.
			// Reusing 'index' because we have the correct "name"
			for ( index in value ) {
				if ( !( index in props ) ) {
					props[ index ] = value[ index ];
					specialEasing[ index ] = easing;
				}
			}
		} else {
			specialEasing[ name ] = easing;
		}
	}
}

function Animation( elem, properties, options ) {
	var result,
		stopped,
		index = 0,
		length = animationPrefilters.length,
		deferred = jQuery.Deferred().always( function() {
			// Don't match elem in the :animated selector
			delete tick.elem;
		}),
		tick = function() {
			if ( stopped ) {
				return false;
			}
			var currentTime = fxNow || createFxNow(),
				remaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),
				// Support: Android 2.3
				// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)
				temp = remaining / animation.duration || 0,
				percent = 1 - temp,
				index = 0,
				length = animation.tweens.length;

			for ( ; index < length ; index++ ) {
				animation.tweens[ index ].run( percent );
			}

			deferred.notifyWith( elem, [ animation, percent, remaining ]);

			if ( percent < 1 && length ) {
				return remaining;
			} else {
				deferred.resolveWith( elem, [ animation ] );
				return false;
			}
		},
		animation = deferred.promise({
			elem: elem,
			props: jQuery.extend( {}, properties ),
			opts: jQuery.extend( true, { specialEasing: {} }, options ),
			originalProperties: properties,
			originalOptions: options,
			startTime: fxNow || createFxNow(),
			duration: options.duration,
			tweens: [],
			createTween: function( prop, end ) {
				var tween = jQuery.Tween( elem, animation.opts, prop, end,
						animation.opts.specialEasing[ prop ] || animation.opts.easing );
				animation.tweens.push( tween );
				return tween;
			},
			stop: function( gotoEnd ) {
				var index = 0,
					// If we are going to the end, we want to run all the tweens
					// otherwise we skip this part
					length = gotoEnd ? animation.tweens.length : 0;
				if ( stopped ) {
					return this;
				}
				stopped = true;
				for ( ; index < length ; index++ ) {
					animation.tweens[ index ].run( 1 );
				}

				// Resolve when we played the last frame; otherwise, reject
				if ( gotoEnd ) {
					deferred.resolveWith( elem, [ animation, gotoEnd ] );
				} else {
					deferred.rejectWith( elem, [ animation, gotoEnd ] );
				}
				return this;
			}
		}),
		props = animation.props;

	propFilter( props, animation.opts.specialEasing );

	for ( ; index < length ; index++ ) {
		result = animationPrefilters[ index ].call( animation, elem, props, animation.opts );
		if ( result ) {
			return result;
		}
	}

	jQuery.map( props, createTween, animation );

	if ( jQuery.isFunction( animation.opts.start ) ) {
		animation.opts.start.call( elem, animation );
	}

	jQuery.fx.timer(
		jQuery.extend( tick, {
			elem: elem,
			anim: animation,
			queue: animation.opts.queue
		})
	);

	// attach callbacks from options
	return animation.progress( animation.opts.progress )
		.done( animation.opts.done, animation.opts.complete )
		.fail( animation.opts.fail )
		.always( animation.opts.always );
}

jQuery.Animation = jQuery.extend( Animation, {

	tweener: function( props, callback ) {
		if ( jQuery.isFunction( props ) ) {
			callback = props;
			props = [ "*" ];
		} else {
			props = props.split(" ");
		}

		var prop,
			index = 0,
			length = props.length;

		for ( ; index < length ; index++ ) {
			prop = props[ index ];
			tweeners[ prop ] = tweeners[ prop ] || [];
			tweeners[ prop ].unshift( callback );
		}
	},

	prefilter: function( callback, prepend ) {
		if ( prepend ) {
			animationPrefilters.unshift( callback );
		} else {
			animationPrefilters.push( callback );
		}
	}
});

jQuery.speed = function( speed, easing, fn ) {
	var opt = speed && typeof speed === "object" ? jQuery.extend( {}, speed ) : {
		complete: fn || !fn && easing ||
			jQuery.isFunction( speed ) && speed,
		duration: speed,
		easing: fn && easing || easing && !jQuery.isFunction( easing ) && easing
	};

	opt.duration = jQuery.fx.off ? 0 : typeof opt.duration === "number" ? opt.duration :
		opt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[ opt.duration ] : jQuery.fx.speeds._default;

	// Normalize opt.queue - true/undefined/null -> "fx"
	if ( opt.queue == null || opt.queue === true ) {
		opt.queue = "fx";
	}

	// Queueing
	opt.old = opt.complete;

	opt.complete = function() {
		if ( jQuery.isFunction( opt.old ) ) {
			opt.old.call( this );
		}

		if ( opt.queue ) {
			jQuery.dequeue( this, opt.queue );
		}
	};

	return opt;
};

jQuery.fn.extend({
	fadeTo: function( speed, to, easing, callback ) {

		// Show any hidden elements after setting opacity to 0
		return this.filter( isHidden ).css( "opacity", 0 ).show()

			// Animate to the value specified
			.end().animate({ opacity: to }, speed, easing, callback );
	},
	animate: function( prop, speed, easing, callback ) {
		var empty = jQuery.isEmptyObject( prop ),
			optall = jQuery.speed( speed, easing, callback ),
			doAnimation = function() {
				// Operate on a copy of prop so per-property easing won't be lost
				var anim = Animation( this, jQuery.extend( {}, prop ), optall );

				// Empty animations, or finishing resolves immediately
				if ( empty || data_priv.get( this, "finish" ) ) {
					anim.stop( true );
				}
			};
			doAnimation.finish = doAnimation;

		return empty || optall.queue === false ?
			this.each( doAnimation ) :
			this.queue( optall.queue, doAnimation );
	},
	stop: function( type, clearQueue, gotoEnd ) {
		var stopQueue = function( hooks ) {
			var stop = hooks.stop;
			delete hooks.stop;
			stop( gotoEnd );
		};

		if ( typeof type !== "string" ) {
			gotoEnd = clearQueue;
			clearQueue = type;
			type = undefined;
		}
		if ( clearQueue && type !== false ) {
			this.queue( type || "fx", [] );
		}

		return this.each(function() {
			var dequeue = true,
				index = type != null && type + "queueHooks",
				timers = jQuery.timers,
				data = data_priv.get( this );

			if ( index ) {
				if ( data[ index ] && data[ index ].stop ) {
					stopQueue( data[ index ] );
				}
			} else {
				for ( index in data ) {
					if ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {
						stopQueue( data[ index ] );
					}
				}
			}

			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this && (type == null || timers[ index ].queue === type) ) {
					timers[ index ].anim.stop( gotoEnd );
					dequeue = false;
					timers.splice( index, 1 );
				}
			}

			// Start the next in the queue if the last step wasn't forced.
			// Timers currently will call their complete callbacks, which
			// will dequeue but only if they were gotoEnd.
			if ( dequeue || !gotoEnd ) {
				jQuery.dequeue( this, type );
			}
		});
	},
	finish: function( type ) {
		if ( type !== false ) {
			type = type || "fx";
		}
		return this.each(function() {
			var index,
				data = data_priv.get( this ),
				queue = data[ type + "queue" ],
				hooks = data[ type + "queueHooks" ],
				timers = jQuery.timers,
				length = queue ? queue.length : 0;

			// Enable finishing flag on private data
			data.finish = true;

			// Empty the queue first
			jQuery.queue( this, type, [] );

			if ( hooks && hooks.stop ) {
				hooks.stop.call( this, true );
			}

			// Look for any active animations, and finish them
			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this && timers[ index ].queue === type ) {
					timers[ index ].anim.stop( true );
					timers.splice( index, 1 );
				}
			}

			// Look for any animations in the old queue and finish them
			for ( index = 0; index < length; index++ ) {
				if ( queue[ index ] && queue[ index ].finish ) {
					queue[ index ].finish.call( this );
				}
			}

			// Turn off finishing flag
			delete data.finish;
		});
	}
});

jQuery.each([ "toggle", "show", "hide" ], function( i, name ) {
	var cssFn = jQuery.fn[ name ];
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return speed == null || typeof speed === "boolean" ?
			cssFn.apply( this, arguments ) :
			this.animate( genFx( name, true ), speed, easing, callback );
	};
});

// Generate shortcuts for custom animations
jQuery.each({
	slideDown: genFx("show"),
	slideUp: genFx("hide"),
	slideToggle: genFx("toggle"),
	fadeIn: { opacity: "show" },
	fadeOut: { opacity: "hide" },
	fadeToggle: { opacity: "toggle" }
}, function( name, props ) {
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return this.animate( props, speed, easing, callback );
	};
});

jQuery.timers = [];
jQuery.fx.tick = function() {
	var timer,
		i = 0,
		timers = jQuery.timers;

	fxNow = jQuery.now();

	for ( ; i < timers.length; i++ ) {
		timer = timers[ i ];
		// Checks the timer has not already been removed
		if ( !timer() && timers[ i ] === timer ) {
			timers.splice( i--, 1 );
		}
	}

	if ( !timers.length ) {
		jQuery.fx.stop();
	}
	fxNow = undefined;
};

jQuery.fx.timer = function( timer ) {
	jQuery.timers.push( timer );
	if ( timer() ) {
		jQuery.fx.start();
	} else {
		jQuery.timers.pop();
	}
};

jQuery.fx.interval = 13;

jQuery.fx.start = function() {
	if ( !timerId ) {
		timerId = setInterval( jQuery.fx.tick, jQuery.fx.interval );
	}
};

jQuery.fx.stop = function() {
	clearInterval( timerId );
	timerId = null;
};

jQuery.fx.speeds = {
	slow: 600,
	fast: 200,
	// Default speed
	_default: 400
};


// Based off of the plugin by Clint Helfers, with permission.
// http://blindsignals.com/index.php/2009/07/jquery-delay/
jQuery.fn.delay = function( time, type ) {
	time = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;
	type = type || "fx";

	return this.queue( type, function( next, hooks ) {
		var timeout = setTimeout( next, time );
		hooks.stop = function() {
			clearTimeout( timeout );
		};
	});
};


(function() {
	var input = document.createElement( "input" ),
		select = document.createElement( "select" ),
		opt = select.appendChild( document.createElement( "option" ) );

	input.type = "checkbox";

	// Support: iOS<=5.1, Android<=4.2+
	// Default value for a checkbox should be "on"
	support.checkOn = input.value !== "";

	// Support: IE<=11+
	// Must access selectedIndex to make default options select
	support.optSelected = opt.selected;

	// Support: Android<=2.3
	// Options inside disabled selects are incorrectly marked as disabled
	select.disabled = true;
	support.optDisabled = !opt.disabled;

	// Support: IE<=11+
	// An input loses its value after becoming a radio
	input = document.createElement( "input" );
	input.value = "t";
	input.type = "radio";
	support.radioValue = input.value === "t";
})();


var nodeHook, boolHook,
	attrHandle = jQuery.expr.attrHandle;

jQuery.fn.extend({
	attr: function( name, value ) {
		return access( this, jQuery.attr, name, value, arguments.length > 1 );
	},

	removeAttr: function( name ) {
		return this.each(function() {
			jQuery.removeAttr( this, name );
		});
	}
});

jQuery.extend({
	attr: function( elem, name, value ) {
		var hooks, ret,
			nType = elem.nodeType;

		// don't get/set attributes on text, comment and attribute nodes
		if ( !elem || nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		// Fallback to prop when attributes are not supported
		if ( typeof elem.getAttribute === strundefined ) {
			return jQuery.prop( elem, name, value );
		}

		// All attributes are lowercase
		// Grab necessary hook if one is defined
		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {
			name = name.toLowerCase();
			hooks = jQuery.attrHooks[ name ] ||
				( jQuery.expr.match.bool.test( name ) ? boolHook : nodeHook );
		}

		if ( value !== undefined ) {

			if ( value === null ) {
				jQuery.removeAttr( elem, name );

			} else if ( hooks && "set" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ) {
				return ret;

			} else {
				elem.setAttribute( name, value + "" );
				return value;
			}

		} else if ( hooks && "get" in hooks && (ret = hooks.get( elem, name )) !== null ) {
			return ret;

		} else {
			ret = jQuery.find.attr( elem, name );

			// Non-existent attributes return null, we normalize to undefined
			return ret == null ?
				undefined :
				ret;
		}
	},

	removeAttr: function( elem, value ) {
		var name, propName,
			i = 0,
			attrNames = value && value.match( rnotwhite );

		if ( attrNames && elem.nodeType === 1 ) {
			while ( (name = attrNames[i++]) ) {
				propName = jQuery.propFix[ name ] || name;

				// Boolean attributes get special treatment (#10870)
				if ( jQuery.expr.match.bool.test( name ) ) {
					// Set corresponding property to false
					elem[ propName ] = false;
				}

				elem.removeAttribute( name );
			}
		}
	},

	attrHooks: {
		type: {
			set: function( elem, value ) {
				if ( !support.radioValue && value === "radio" &&
					jQuery.nodeName( elem, "input" ) ) {
					var val = elem.value;
					elem.setAttribute( "type", value );
					if ( val ) {
						elem.value = val;
					}
					return value;
				}
			}
		}
	}
});

// Hooks for boolean attributes
boolHook = {
	set: function( elem, value, name ) {
		if ( value === false ) {
			// Remove boolean attributes when set to false
			jQuery.removeAttr( elem, name );
		} else {
			elem.setAttribute( name, name );
		}
		return name;
	}
};
jQuery.each( jQuery.expr.match.bool.source.match( /\w+/g ), function( i, name ) {
	var getter = attrHandle[ name ] || jQuery.find.attr;

	attrHandle[ name ] = function( elem, name, isXML ) {
		var ret, handle;
		if ( !isXML ) {
			// Avoid an infinite loop by temporarily removing this function from the getter
			handle = attrHandle[ name ];
			attrHandle[ name ] = ret;
			ret = getter( elem, name, isXML ) != null ?
				name.toLowerCase() :
				null;
			attrHandle[ name ] = handle;
		}
		return ret;
	};
});




var rfocusable = /^(?:input|select|textarea|button)$/i;

jQuery.fn.extend({
	prop: function( name, value ) {
		return access( this, jQuery.prop, name, value, arguments.length > 1 );
	},

	removeProp: function( name ) {
		return this.each(function() {
			delete this[ jQuery.propFix[ name ] || name ];
		});
	}
});

jQuery.extend({
	propFix: {
		"for": "htmlFor",
		"class": "className"
	},

	prop: function( elem, name, value ) {
		var ret, hooks, notxml,
			nType = elem.nodeType;

		// Don't get/set properties on text, comment and attribute nodes
		if ( !elem || nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		notxml = nType !== 1 || !jQuery.isXMLDoc( elem );

		if ( notxml ) {
			// Fix name and attach hooks
			name = jQuery.propFix[ name ] || name;
			hooks = jQuery.propHooks[ name ];
		}

		if ( value !== undefined ) {
			return hooks && "set" in hooks && (ret = hooks.set( elem, value, name )) !== undefined ?
				ret :
				( elem[ name ] = value );

		} else {
			return hooks && "get" in hooks && (ret = hooks.get( elem, name )) !== null ?
				ret :
				elem[ name ];
		}
	},

	propHooks: {
		tabIndex: {
			get: function( elem ) {
				return elem.hasAttribute( "tabindex" ) || rfocusable.test( elem.nodeName ) || elem.href ?
					elem.tabIndex :
					-1;
			}
		}
	}
});

if ( !support.optSelected ) {
	jQuery.propHooks.selected = {
		get: function( elem ) {
			var parent = elem.parentNode;
			if ( parent && parent.parentNode ) {
				parent.parentNode.selectedIndex;
			}
			return null;
		}
	};
}

jQuery.each([
	"tabIndex",
	"readOnly",
	"maxLength",
	"cellSpacing",
	"cellPadding",
	"rowSpan",
	"colSpan",
	"useMap",
	"frameBorder",
	"contentEditable"
], function() {
	jQuery.propFix[ this.toLowerCase() ] = this;
});




var rclass = /[\t\r\n\f]/g;

jQuery.fn.extend({
	addClass: function( value ) {
		var classes, elem, cur, clazz, j, finalValue,
			proceed = typeof value === "string" && value,
			i = 0,
			len = this.length;

		if ( jQuery.isFunction( value ) ) {
			return this.each(function( j ) {
				jQuery( this ).addClass( value.call( this, j, this.className ) );
			});
		}

		if ( proceed ) {
			// The disjunction here is for better compressibility (see removeClass)
			classes = ( value || "" ).match( rnotwhite ) || [];

			for ( ; i < len; i++ ) {
				elem = this[ i ];
				cur = elem.nodeType === 1 && ( elem.className ?
					( " " + elem.className + " " ).replace( rclass, " " ) :
					" "
				);

				if ( cur ) {
					j = 0;
					while ( (clazz = classes[j++]) ) {
						if ( cur.indexOf( " " + clazz + " " ) < 0 ) {
							cur += clazz + " ";
						}
					}

					// only assign if different to avoid unneeded rendering.
					finalValue = jQuery.trim( cur );
					if ( elem.className !== finalValue ) {
						elem.className = finalValue;
					}
				}
			}
		}

		return this;
	},

	removeClass: function( value ) {
		var classes, elem, cur, clazz, j, finalValue,
			proceed = arguments.length === 0 || typeof value === "string" && value,
			i = 0,
			len = this.length;

		if ( jQuery.isFunction( value ) ) {
			return this.each(function( j ) {
				jQuery( this ).removeClass( value.call( this, j, this.className ) );
			});
		}
		if ( proceed ) {
			classes = ( value || "" ).match( rnotwhite ) || [];

			for ( ; i < len; i++ ) {
				elem = this[ i ];
				// This expression is here for better compressibility (see addClass)
				cur = elem.nodeType === 1 && ( elem.className ?
					( " " + elem.className + " " ).replace( rclass, " " ) :
					""
				);

				if ( cur ) {
					j = 0;
					while ( (clazz = classes[j++]) ) {
						// Remove *all* instances
						while ( cur.indexOf( " " + clazz + " " ) >= 0 ) {
							cur = cur.replace( " " + clazz + " ", " " );
						}
					}

					// Only assign if different to avoid unneeded rendering.
					finalValue = value ? jQuery.trim( cur ) : "";
					if ( elem.className !== finalValue ) {
						elem.className = finalValue;
					}
				}
			}
		}

		return this;
	},

	toggleClass: function( value, stateVal ) {
		var type = typeof value;

		if ( typeof stateVal === "boolean" && type === "string" ) {
			return stateVal ? this.addClass( value ) : this.removeClass( value );
		}

		if ( jQuery.isFunction( value ) ) {
			return this.each(function( i ) {
				jQuery( this ).toggleClass( value.call(this, i, this.className, stateVal), stateVal );
			});
		}

		return this.each(function() {
			if ( type === "string" ) {
				// Toggle individual class names
				var className,
					i = 0,
					self = jQuery( this ),
					classNames = value.match( rnotwhite ) || [];

				while ( (className = classNames[ i++ ]) ) {
					// Check each className given, space separated list
					if ( self.hasClass( className ) ) {
						self.removeClass( className );
					} else {
						self.addClass( className );
					}
				}

			// Toggle whole class name
			} else if ( type === strundefined || type === "boolean" ) {
				if ( this.className ) {
					// store className if set
					data_priv.set( this, "__className__", this.className );
				}

				// If the element has a class name or if we're passed `false`,
				// then remove the whole classname (if there was one, the above saved it).
				// Otherwise bring back whatever was previously saved (if anything),
				// falling back to the empty string if nothing was stored.
				this.className = this.className || value === false ? "" : data_priv.get( this, "__className__" ) || "";
			}
		});
	},

	hasClass: function( selector ) {
		var className = " " + selector + " ",
			i = 0,
			l = this.length;
		for ( ; i < l; i++ ) {
			if ( this[i].nodeType === 1 && (" " + this[i].className + " ").replace(rclass, " ").indexOf( className ) >= 0 ) {
				return true;
			}
		}

		return false;
	}
});




var rreturn = /\r/g;

jQuery.fn.extend({
	val: function( value ) {
		var hooks, ret, isFunction,
			elem = this[0];

		if ( !arguments.length ) {
			if ( elem ) {
				hooks = jQuery.valHooks[ elem.type ] || jQuery.valHooks[ elem.nodeName.toLowerCase() ];

				if ( hooks && "get" in hooks && (ret = hooks.get( elem, "value" )) !== undefined ) {
					return ret;
				}

				ret = elem.value;

				return typeof ret === "string" ?
					// Handle most common string cases
					ret.replace(rreturn, "") :
					// Handle cases where value is null/undef or number
					ret == null ? "" : ret;
			}

			return;
		}

		isFunction = jQuery.isFunction( value );

		return this.each(function( i ) {
			var val;

			if ( this.nodeType !== 1 ) {
				return;
			}

			if ( isFunction ) {
				val = value.call( this, i, jQuery( this ).val() );
			} else {
				val = value;
			}

			// Treat null/undefined as ""; convert numbers to string
			if ( val == null ) {
				val = "";

			} else if ( typeof val === "number" ) {
				val += "";

			} else if ( jQuery.isArray( val ) ) {
				val = jQuery.map( val, function( value ) {
					return value == null ? "" : value + "";
				});
			}

			hooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];

			// If set returns undefined, fall back to normal setting
			if ( !hooks || !("set" in hooks) || hooks.set( this, val, "value" ) === undefined ) {
				this.value = val;
			}
		});
	}
});

jQuery.extend({
	valHooks: {
		option: {
			get: function( elem ) {
				var val = jQuery.find.attr( elem, "value" );
				return val != null ?
					val :
					// Support: IE10-11+
					// option.text throws exceptions (#14686, #14858)
					jQuery.trim( jQuery.text( elem ) );
			}
		},
		select: {
			get: function( elem ) {
				var value, option,
					options = elem.options,
					index = elem.selectedIndex,
					one = elem.type === "select-one" || index < 0,
					values = one ? null : [],
					max = one ? index + 1 : options.length,
					i = index < 0 ?
						max :
						one ? index : 0;

				// Loop through all the selected options
				for ( ; i < max; i++ ) {
					option = options[ i ];

					// IE6-9 doesn't update selected after form reset (#2551)
					if ( ( option.selected || i === index ) &&
							// Don't return options that are disabled or in a disabled optgroup
							( support.optDisabled ? !option.disabled : option.getAttribute( "disabled" ) === null ) &&
							( !option.parentNode.disabled || !jQuery.nodeName( option.parentNode, "optgroup" ) ) ) {

						// Get the specific value for the option
						value = jQuery( option ).val();

						// We don't need an array for one selects
						if ( one ) {
							return value;
						}

						// Multi-Selects return an array
						values.push( value );
					}
				}

				return values;
			},

			set: function( elem, value ) {
				var optionSet, option,
					options = elem.options,
					values = jQuery.makeArray( value ),
					i = options.length;

				while ( i-- ) {
					option = options[ i ];
					if ( (option.selected = jQuery.inArray( option.value, values ) >= 0) ) {
						optionSet = true;
					}
				}

				// Force browsers to behave consistently when non-matching value is set
				if ( !optionSet ) {
					elem.selectedIndex = -1;
				}
				return values;
			}
		}
	}
});

// Radios and checkboxes getter/setter
jQuery.each([ "radio", "checkbox" ], function() {
	jQuery.valHooks[ this ] = {
		set: function( elem, value ) {
			if ( jQuery.isArray( value ) ) {
				return ( elem.checked = jQuery.inArray( jQuery(elem).val(), value ) >= 0 );
			}
		}
	};
	if ( !support.checkOn ) {
		jQuery.valHooks[ this ].get = function( elem ) {
			return elem.getAttribute("value") === null ? "on" : elem.value;
		};
	}
});




// Return jQuery for attributes-only inclusion


jQuery.each( ("blur focus focusin focusout load resize scroll unload click dblclick " +
	"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +
	"change select submit keydown keypress keyup error contextmenu").split(" "), function( i, name ) {

	// Handle event binding
	jQuery.fn[ name ] = function( data, fn ) {
		return arguments.length > 0 ?
			this.on( name, null, data, fn ) :
			this.trigger( name );
	};
});

jQuery.fn.extend({
	hover: function( fnOver, fnOut ) {
		return this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );
	},

	bind: function( types, data, fn ) {
		return this.on( types, null, data, fn );
	},
	unbind: function( types, fn ) {
		return this.off( types, null, fn );
	},

	delegate: function( selector, types, data, fn ) {
		return this.on( types, selector, data, fn );
	},
	undelegate: function( selector, types, fn ) {
		// ( namespace ) or ( selector, types [, fn] )
		return arguments.length === 1 ? this.off( selector, "**" ) : this.off( types, selector || "**", fn );
	}
});


var nonce = jQuery.now();

var rquery = (/\?/);



// Support: Android 2.3
// Workaround failure to string-cast null input
jQuery.parseJSON = function( data ) {
	return JSON.parse( data + "" );
};


// Cross-browser xml parsing
jQuery.parseXML = function( data ) {
	var xml, tmp;
	if ( !data || typeof data !== "string" ) {
		return null;
	}

	// Support: IE9
	try {
		tmp = new DOMParser();
		xml = tmp.parseFromString( data, "text/xml" );
	} catch ( e ) {
		xml = undefined;
	}

	if ( !xml || xml.getElementsByTagName( "parsererror" ).length ) {
		jQuery.error( "Invalid XML: " + data );
	}
	return xml;
};


var
	rhash = /#.*$/,
	rts = /([?&])_=[^&]*/,
	rheaders = /^(.*?):[ \t]*([^\r\n]*)$/mg,
	// #7653, #8125, #8152: local protocol detection
	rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
	rnoContent = /^(?:GET|HEAD)$/,
	rprotocol = /^\/\//,
	rurl = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,

	/* Prefilters
	 * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
	 * 2) These are called:
	 *    - BEFORE asking for a transport
	 *    - AFTER param serialization (s.data is a string if s.processData is true)
	 * 3) key is the dataType
	 * 4) the catchall symbol "*" can be used
	 * 5) execution will start with transport dataType and THEN continue down to "*" if needed
	 */
	prefilters = {},

	/* Transports bindings
	 * 1) key is the dataType
	 * 2) the catchall symbol "*" can be used
	 * 3) selection will start with transport dataType and THEN go to "*" if needed
	 */
	transports = {},

	// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression
	allTypes = "*/".concat( "*" ),

	// Document location
	ajaxLocation = window.location.href,

	// Segment location into parts
	ajaxLocParts = rurl.exec( ajaxLocation.toLowerCase() ) || [];

// Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport
function addToPrefiltersOrTransports( structure ) {

	// dataTypeExpression is optional and defaults to "*"
	return function( dataTypeExpression, func ) {

		if ( typeof dataTypeExpression !== "string" ) {
			func = dataTypeExpression;
			dataTypeExpression = "*";
		}

		var dataType,
			i = 0,
			dataTypes = dataTypeExpression.toLowerCase().match( rnotwhite ) || [];

		if ( jQuery.isFunction( func ) ) {
			// For each dataType in the dataTypeExpression
			while ( (dataType = dataTypes[i++]) ) {
				// Prepend if requested
				if ( dataType[0] === "+" ) {
					dataType = dataType.slice( 1 ) || "*";
					(structure[ dataType ] = structure[ dataType ] || []).unshift( func );

				// Otherwise append
				} else {
					(structure[ dataType ] = structure[ dataType ] || []).push( func );
				}
			}
		}
	};
}

// Base inspection function for prefilters and transports
function inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {

	var inspected = {},
		seekingTransport = ( structure === transports );

	function inspect( dataType ) {
		var selected;
		inspected[ dataType ] = true;
		jQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {
			var dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );
			if ( typeof dataTypeOrTransport === "string" && !seekingTransport && !inspected[ dataTypeOrTransport ] ) {
				options.dataTypes.unshift( dataTypeOrTransport );
				inspect( dataTypeOrTransport );
				return false;
			} else if ( seekingTransport ) {
				return !( selected = dataTypeOrTransport );
			}
		});
		return selected;
	}

	return inspect( options.dataTypes[ 0 ] ) || !inspected[ "*" ] && inspect( "*" );
}

// A special extend for ajax options
// that takes "flat" options (not to be deep extended)
// Fixes #9887
function ajaxExtend( target, src ) {
	var key, deep,
		flatOptions = jQuery.ajaxSettings.flatOptions || {};

	for ( key in src ) {
		if ( src[ key ] !== undefined ) {
			( flatOptions[ key ] ? target : ( deep || (deep = {}) ) )[ key ] = src[ key ];
		}
	}
	if ( deep ) {
		jQuery.extend( true, target, deep );
	}

	return target;
}

/* Handles responses to an ajax request:
 * - finds the right dataType (mediates between content-type and expected dataType)
 * - returns the corresponding response
 */
function ajaxHandleResponses( s, jqXHR, responses ) {

	var ct, type, finalDataType, firstDataType,
		contents = s.contents,
		dataTypes = s.dataTypes;

	// Remove auto dataType and get content-type in the process
	while ( dataTypes[ 0 ] === "*" ) {
		dataTypes.shift();
		if ( ct === undefined ) {
			ct = s.mimeType || jqXHR.getResponseHeader("Content-Type");
		}
	}

	// Check if we're dealing with a known content-type
	if ( ct ) {
		for ( type in contents ) {
			if ( contents[ type ] && contents[ type ].test( ct ) ) {
				dataTypes.unshift( type );
				break;
			}
		}
	}

	// Check to see if we have a response for the expected dataType
	if ( dataTypes[ 0 ] in responses ) {
		finalDataType = dataTypes[ 0 ];
	} else {
		// Try convertible dataTypes
		for ( type in responses ) {
			if ( !dataTypes[ 0 ] || s.converters[ type + " " + dataTypes[0] ] ) {
				finalDataType = type;
				break;
			}
			if ( !firstDataType ) {
				firstDataType = type;
			}
		}
		// Or just use first one
		finalDataType = finalDataType || firstDataType;
	}

	// If we found a dataType
	// We add the dataType to the list if needed
	// and return the corresponding response
	if ( finalDataType ) {
		if ( finalDataType !== dataTypes[ 0 ] ) {
			dataTypes.unshift( finalDataType );
		}
		return responses[ finalDataType ];
	}
}

/* Chain conversions given the request and the original response
 * Also sets the responseXXX fields on the jqXHR instance
 */
function ajaxConvert( s, response, jqXHR, isSuccess ) {
	var conv2, current, conv, tmp, prev,
		converters = {},
		// Work with a copy of dataTypes in case we need to modify it for conversion
		dataTypes = s.dataTypes.slice();

	// Create converters map with lowercased keys
	if ( dataTypes[ 1 ] ) {
		for ( conv in s.converters ) {
			converters[ conv.toLowerCase() ] = s.converters[ conv ];
		}
	}

	current = dataTypes.shift();

	// Convert to each sequential dataType
	while ( current ) {

		if ( s.responseFields[ current ] ) {
			jqXHR[ s.responseFields[ current ] ] = response;
		}

		// Apply the dataFilter if provided
		if ( !prev && isSuccess && s.dataFilter ) {
			response = s.dataFilter( response, s.dataType );
		}

		prev = current;
		current = dataTypes.shift();

		if ( current ) {

		// There's only work to do if current dataType is non-auto
			if ( current === "*" ) {

				current = prev;

			// Convert response if prev dataType is non-auto and differs from current
			} else if ( prev !== "*" && prev !== current ) {

				// Seek a direct converter
				conv = converters[ prev + " " + current ] || converters[ "* " + current ];

				// If none found, seek a pair
				if ( !conv ) {
					for ( conv2 in converters ) {

						// If conv2 outputs current
						tmp = conv2.split( " " );
						if ( tmp[ 1 ] === current ) {

							// If prev can be converted to accepted input
							conv = converters[ prev + " " + tmp[ 0 ] ] ||
								converters[ "* " + tmp[ 0 ] ];
							if ( conv ) {
								// Condense equivalence converters
								if ( conv === true ) {
									conv = converters[ conv2 ];

								// Otherwise, insert the intermediate dataType
								} else if ( converters[ conv2 ] !== true ) {
									current = tmp[ 0 ];
									dataTypes.unshift( tmp[ 1 ] );
								}
								break;
							}
						}
					}
				}

				// Apply converter (if not an equivalence)
				if ( conv !== true ) {

					// Unless errors are allowed to bubble, catch and return them
					if ( conv && s[ "throws" ] ) {
						response = conv( response );
					} else {
						try {
							response = conv( response );
						} catch ( e ) {
							return { state: "parsererror", error: conv ? e : "No conversion from " + prev + " to " + current };
						}
					}
				}
			}
		}
	}

	return { state: "success", data: response };
}

jQuery.extend({

	// Counter for holding the number of active queries
	active: 0,

	// Last-Modified header cache for next request
	lastModified: {},
	etag: {},

	ajaxSettings: {
		url: ajaxLocation,
		type: "GET",
		isLocal: rlocalProtocol.test( ajaxLocParts[ 1 ] ),
		global: true,
		processData: true,
		async: true,
		contentType: "application/x-www-form-urlencoded; charset=UTF-8",
		/*
		timeout: 0,
		data: null,
		dataType: null,
		username: null,
		password: null,
		cache: null,
		throws: false,
		traditional: false,
		headers: {},
		*/

		accepts: {
			"*": allTypes,
			text: "text/plain",
			html: "text/html",
			xml: "application/xml, text/xml",
			json: "application/json, text/javascript"
		},

		contents: {
			xml: /xml/,
			html: /html/,
			json: /json/
		},

		responseFields: {
			xml: "responseXML",
			text: "responseText",
			json: "responseJSON"
		},

		// Data converters
		// Keys separate source (or catchall "*") and destination types with a single space
		converters: {

			// Convert anything to text
			"* text": String,

			// Text to html (true = no transformation)
			"text html": true,

			// Evaluate text as a json expression
			"text json": jQuery.parseJSON,

			// Parse text as xml
			"text xml": jQuery.parseXML
		},

		// For options that shouldn't be deep extended:
		// you can add your own custom options here if
		// and when you create one that shouldn't be
		// deep extended (see ajaxExtend)
		flatOptions: {
			url: true,
			context: true
		}
	},

	// Creates a full fledged settings object into target
	// with both ajaxSettings and settings fields.
	// If target is omitted, writes into ajaxSettings.
	ajaxSetup: function( target, settings ) {
		return settings ?

			// Building a settings object
			ajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :

			// Extending ajaxSettings
			ajaxExtend( jQuery.ajaxSettings, target );
	},

	ajaxPrefilter: addToPrefiltersOrTransports( prefilters ),
	ajaxTransport: addToPrefiltersOrTransports( transports ),

	// Main method
	ajax: function( url, options ) {

		// If url is an object, simulate pre-1.5 signature
		if ( typeof url === "object" ) {
			options = url;
			url = undefined;
		}

		// Force options to be an object
		options = options || {};

		var transport,
			// URL without anti-cache param
			cacheURL,
			// Response headers
			responseHeadersString,
			responseHeaders,
			// timeout handle
			timeoutTimer,
			// Cross-domain detection vars
			parts,
			// To know if global events are to be dispatched
			fireGlobals,
			// Loop variable
			i,
			// Create the final options object
			s = jQuery.ajaxSetup( {}, options ),
			// Callbacks context
			callbackContext = s.context || s,
			// Context for global events is callbackContext if it is a DOM node or jQuery collection
			globalEventContext = s.context && ( callbackContext.nodeType || callbackContext.jquery ) ?
				jQuery( callbackContext ) :
				jQuery.event,
			// Deferreds
			deferred = jQuery.Deferred(),
			completeDeferred = jQuery.Callbacks("once memory"),
			// Status-dependent callbacks
			statusCode = s.statusCode || {},
			// Headers (they are sent all at once)
			requestHeaders = {},
			requestHeadersNames = {},
			// The jqXHR state
			state = 0,
			// Default abort message
			strAbort = "canceled",
			// Fake xhr
			jqXHR = {
				readyState: 0,

				// Builds headers hashtable if needed
				getResponseHeader: function( key ) {
					var match;
					if ( state === 2 ) {
						if ( !responseHeaders ) {
							responseHeaders = {};
							while ( (match = rheaders.exec( responseHeadersString )) ) {
								responseHeaders[ match[1].toLowerCase() ] = match[ 2 ];
							}
						}
						match = responseHeaders[ key.toLowerCase() ];
					}
					return match == null ? null : match;
				},

				// Raw string
				getAllResponseHeaders: function() {
					return state === 2 ? responseHeadersString : null;
				},

				// Caches the header
				setRequestHeader: function( name, value ) {
					var lname = name.toLowerCase();
					if ( !state ) {
						name = requestHeadersNames[ lname ] = requestHeadersNames[ lname ] || name;
						requestHeaders[ name ] = value;
					}
					return this;
				},

				// Overrides response content-type header
				overrideMimeType: function( type ) {
					if ( !state ) {
						s.mimeType = type;
					}
					return this;
				},

				// Status-dependent callbacks
				statusCode: function( map ) {
					var code;
					if ( map ) {
						if ( state < 2 ) {
							for ( code in map ) {
								// Lazy-add the new callback in a way that preserves old ones
								statusCode[ code ] = [ statusCode[ code ], map[ code ] ];
							}
						} else {
							// Execute the appropriate callbacks
							jqXHR.always( map[ jqXHR.status ] );
						}
					}
					return this;
				},

				// Cancel the request
				abort: function( statusText ) {
					var finalText = statusText || strAbort;
					if ( transport ) {
						transport.abort( finalText );
					}
					done( 0, finalText );
					return this;
				}
			};

		// Attach deferreds
		deferred.promise( jqXHR ).complete = completeDeferred.add;
		jqXHR.success = jqXHR.done;
		jqXHR.error = jqXHR.fail;

		// Remove hash character (#7531: and string promotion)
		// Add protocol if not provided (prefilters might expect it)
		// Handle falsy url in the settings object (#10093: consistency with old signature)
		// We also use the url parameter if available
		s.url = ( ( url || s.url || ajaxLocation ) + "" ).replace( rhash, "" )
			.replace( rprotocol, ajaxLocParts[ 1 ] + "//" );

		// Alias method option to type as per ticket #12004
		s.type = options.method || options.type || s.method || s.type;

		// Extract dataTypes list
		s.dataTypes = jQuery.trim( s.dataType || "*" ).toLowerCase().match( rnotwhite ) || [ "" ];

		// A cross-domain request is in order when we have a protocol:host:port mismatch
		if ( s.crossDomain == null ) {
			parts = rurl.exec( s.url.toLowerCase() );
			s.crossDomain = !!( parts &&
				( parts[ 1 ] !== ajaxLocParts[ 1 ] || parts[ 2 ] !== ajaxLocParts[ 2 ] ||
					( parts[ 3 ] || ( parts[ 1 ] === "http:" ? "80" : "443" ) ) !==
						( ajaxLocParts[ 3 ] || ( ajaxLocParts[ 1 ] === "http:" ? "80" : "443" ) ) )
			);
		}

		// Convert data if not already a string
		if ( s.data && s.processData && typeof s.data !== "string" ) {
			s.data = jQuery.param( s.data, s.traditional );
		}

		// Apply prefilters
		inspectPrefiltersOrTransports( prefilters, s, options, jqXHR );

		// If request was aborted inside a prefilter, stop there
		if ( state === 2 ) {
			return jqXHR;
		}

		// We can fire global events as of now if asked to
		// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)
		fireGlobals = jQuery.event && s.global;

		// Watch for a new set of requests
		if ( fireGlobals && jQuery.active++ === 0 ) {
			jQuery.event.trigger("ajaxStart");
		}

		// Uppercase the type
		s.type = s.type.toUpperCase();

		// Determine if request has content
		s.hasContent = !rnoContent.test( s.type );

		// Save the URL in case we're toying with the If-Modified-Since
		// and/or If-None-Match header later on
		cacheURL = s.url;

		// More options handling for requests with no content
		if ( !s.hasContent ) {

			// If data is available, append data to url
			if ( s.data ) {
				cacheURL = ( s.url += ( rquery.test( cacheURL ) ? "&" : "?" ) + s.data );
				// #9682: remove data so that it's not used in an eventual retry
				delete s.data;
			}

			// Add anti-cache in url if needed
			if ( s.cache === false ) {
				s.url = rts.test( cacheURL ) ?

					// If there is already a '_' parameter, set its value
					cacheURL.replace( rts, "$1_=" + nonce++ ) :

					// Otherwise add one to the end
					cacheURL + ( rquery.test( cacheURL ) ? "&" : "?" ) + "_=" + nonce++;
			}
		}

		// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
		if ( s.ifModified ) {
			if ( jQuery.lastModified[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-Modified-Since", jQuery.lastModified[ cacheURL ] );
			}
			if ( jQuery.etag[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-None-Match", jQuery.etag[ cacheURL ] );
			}
		}

		// Set the correct header, if data is being sent
		if ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {
			jqXHR.setRequestHeader( "Content-Type", s.contentType );
		}

		// Set the Accepts header for the server, depending on the dataType
		jqXHR.setRequestHeader(
			"Accept",
			s.dataTypes[ 0 ] && s.accepts[ s.dataTypes[0] ] ?
				s.accepts[ s.dataTypes[0] ] + ( s.dataTypes[ 0 ] !== "*" ? ", " + allTypes + "; q=0.01" : "" ) :
				s.accepts[ "*" ]
		);

		// Check for headers option
		for ( i in s.headers ) {
			jqXHR.setRequestHeader( i, s.headers[ i ] );
		}

		// Allow custom headers/mimetypes and early abort
		if ( s.beforeSend && ( s.beforeSend.call( callbackContext, jqXHR, s ) === false || state === 2 ) ) {
			// Abort if not done already and return
			return jqXHR.abort();
		}

		// Aborting is no longer a cancellation
		strAbort = "abort";

		// Install callbacks on deferreds
		for ( i in { success: 1, error: 1, complete: 1 } ) {
			jqXHR[ i ]( s[ i ] );
		}

		// Get transport
		transport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );

		// If no transport, we auto-abort
		if ( !transport ) {
			done( -1, "No Transport" );
		} else {
			jqXHR.readyState = 1;

			// Send global event
			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxSend", [ jqXHR, s ] );
			}
			// Timeout
			if ( s.async && s.timeout > 0 ) {
				timeoutTimer = setTimeout(function() {
					jqXHR.abort("timeout");
				}, s.timeout );
			}

			try {
				state = 1;
				transport.send( requestHeaders, done );
			} catch ( e ) {
				// Propagate exception as error if not done
				if ( state < 2 ) {
					done( -1, e );
				// Simply rethrow otherwise
				} else {
					throw e;
				}
			}
		}

		// Callback for when everything is done
		function done( status, nativeStatusText, responses, headers ) {
			var isSuccess, success, error, response, modified,
				statusText = nativeStatusText;

			// Called once
			if ( state === 2 ) {
				return;
			}

			// State is "done" now
			state = 2;

			// Clear timeout if it exists
			if ( timeoutTimer ) {
				clearTimeout( timeoutTimer );
			}

			// Dereference transport for early garbage collection
			// (no matter how long the jqXHR object will be used)
			transport = undefined;

			// Cache response headers
			responseHeadersString = headers || "";

			// Set readyState
			jqXHR.readyState = status > 0 ? 4 : 0;

			// Determine if successful
			isSuccess = status >= 200 && status < 300 || status === 304;

			// Get response data
			if ( responses ) {
				response = ajaxHandleResponses( s, jqXHR, responses );
			}

			// Convert no matter what (that way responseXXX fields are always set)
			response = ajaxConvert( s, response, jqXHR, isSuccess );

			// If successful, handle type chaining
			if ( isSuccess ) {

				// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
				if ( s.ifModified ) {
					modified = jqXHR.getResponseHeader("Last-Modified");
					if ( modified ) {
						jQuery.lastModified[ cacheURL ] = modified;
					}
					modified = jqXHR.getResponseHeader("etag");
					if ( modified ) {
						jQuery.etag[ cacheURL ] = modified;
					}
				}

				// if no content
				if ( status === 204 || s.type === "HEAD" ) {
					statusText = "nocontent";

				// if not modified
				} else if ( status === 304 ) {
					statusText = "notmodified";

				// If we have data, let's convert it
				} else {
					statusText = response.state;
					success = response.data;
					error = response.error;
					isSuccess = !error;
				}
			} else {
				// Extract error from statusText and normalize for non-aborts
				error = statusText;
				if ( status || !statusText ) {
					statusText = "error";
					if ( status < 0 ) {
						status = 0;
					}
				}
			}

			// Set data for the fake xhr object
			jqXHR.status = status;
			jqXHR.statusText = ( nativeStatusText || statusText ) + "";

			// Success/Error
			if ( isSuccess ) {
				deferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );
			} else {
				deferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );
			}

			// Status-dependent callbacks
			jqXHR.statusCode( statusCode );
			statusCode = undefined;

			if ( fireGlobals ) {
				globalEventContext.trigger( isSuccess ? "ajaxSuccess" : "ajaxError",
					[ jqXHR, s, isSuccess ? success : error ] );
			}

			// Complete
			completeDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );

			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxComplete", [ jqXHR, s ] );
				// Handle the global AJAX counter
				if ( !( --jQuery.active ) ) {
					jQuery.event.trigger("ajaxStop");
				}
			}
		}

		return jqXHR;
	},

	getJSON: function( url, data, callback ) {
		return jQuery.get( url, data, callback, "json" );
	},

	getScript: function( url, callback ) {
		return jQuery.get( url, undefined, callback, "script" );
	}
});

jQuery.each( [ "get", "post" ], function( i, method ) {
	jQuery[ method ] = function( url, data, callback, type ) {
		// Shift arguments if data argument was omitted
		if ( jQuery.isFunction( data ) ) {
			type = type || callback;
			callback = data;
			data = undefined;
		}

		return jQuery.ajax({
			url: url,
			type: method,
			dataType: type,
			data: data,
			success: callback
		});
	};
});


jQuery._evalUrl = function( url ) {
	return jQuery.ajax({
		url: url,
		type: "GET",
		dataType: "script",
		async: false,
		global: false,
		"throws": true
	});
};


jQuery.fn.extend({
	wrapAll: function( html ) {
		var wrap;

		if ( jQuery.isFunction( html ) ) {
			return this.each(function( i ) {
				jQuery( this ).wrapAll( html.call(this, i) );
			});
		}

		if ( this[ 0 ] ) {

			// The elements to wrap the target around
			wrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );

			if ( this[ 0 ].parentNode ) {
				wrap.insertBefore( this[ 0 ] );
			}

			wrap.map(function() {
				var elem = this;

				while ( elem.firstElementChild ) {
					elem = elem.firstElementChild;
				}

				return elem;
			}).append( this );
		}

		return this;
	},

	wrapInner: function( html ) {
		if ( jQuery.isFunction( html ) ) {
			return this.each(function( i ) {
				jQuery( this ).wrapInner( html.call(this, i) );
			});
		}

		return this.each(function() {
			var self = jQuery( this ),
				contents = self.contents();

			if ( contents.length ) {
				contents.wrapAll( html );

			} else {
				self.append( html );
			}
		});
	},

	wrap: function( html ) {
		var isFunction = jQuery.isFunction( html );

		return this.each(function( i ) {
			jQuery( this ).wrapAll( isFunction ? html.call(this, i) : html );
		});
	},

	unwrap: function() {
		return this.parent().each(function() {
			if ( !jQuery.nodeName( this, "body" ) ) {
				jQuery( this ).replaceWith( this.childNodes );
			}
		}).end();
	}
});


jQuery.expr.filters.hidden = function( elem ) {
	// Support: Opera <= 12.12
	// Opera reports offsetWidths and offsetHeights less than zero on some elements
	return elem.offsetWidth <= 0 && elem.offsetHeight <= 0;
};
jQuery.expr.filters.visible = function( elem ) {
	return !jQuery.expr.filters.hidden( elem );
};




var r20 = /%20/g,
	rbracket = /\[\]$/,
	rCRLF = /\r?\n/g,
	rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
	rsubmittable = /^(?:input|select|textarea|keygen)/i;

function buildParams( prefix, obj, traditional, add ) {
	var name;

	if ( jQuery.isArray( obj ) ) {
		// Serialize array item.
		jQuery.each( obj, function( i, v ) {
			if ( traditional || rbracket.test( prefix ) ) {
				// Treat each array item as a scalar.
				add( prefix, v );

			} else {
				// Item is non-scalar (array or object), encode its numeric index.
				buildParams( prefix + "[" + ( typeof v === "object" ? i : "" ) + "]", v, traditional, add );
			}
		});

	} else if ( !traditional && jQuery.type( obj ) === "object" ) {
		// Serialize object item.
		for ( name in obj ) {
			buildParams( prefix + "[" + name + "]", obj[ name ], traditional, add );
		}

	} else {
		// Serialize scalar item.
		add( prefix, obj );
	}
}

// Serialize an array of form elements or a set of
// key/values into a query string
jQuery.param = function( a, traditional ) {
	var prefix,
		s = [],
		add = function( key, value ) {
			// If value is a function, invoke it and return its value
			value = jQuery.isFunction( value ) ? value() : ( value == null ? "" : value );
			s[ s.length ] = encodeURIComponent( key ) + "=" + encodeURIComponent( value );
		};

	// Set traditional to true for jQuery <= 1.3.2 behavior.
	if ( traditional === undefined ) {
		traditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;
	}

	// If an array was passed in, assume that it is an array of form elements.
	if ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {
		// Serialize the form elements
		jQuery.each( a, function() {
			add( this.name, this.value );
		});

	} else {
		// If traditional, encode the "old" way (the way 1.3.2 or older
		// did it), otherwise encode params recursively.
		for ( prefix in a ) {
			buildParams( prefix, a[ prefix ], traditional, add );
		}
	}

	// Return the resulting serialization
	return s.join( "&" ).replace( r20, "+" );
};

jQuery.fn.extend({
	serialize: function() {
		return jQuery.param( this.serializeArray() );
	},
	serializeArray: function() {
		return this.map(function() {
			// Can add propHook for "elements" to filter or add form elements
			var elements = jQuery.prop( this, "elements" );
			return elements ? jQuery.makeArray( elements ) : this;
		})
		.filter(function() {
			var type = this.type;

			// Use .is( ":disabled" ) so that fieldset[disabled] works
			return this.name && !jQuery( this ).is( ":disabled" ) &&
				rsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&
				( this.checked || !rcheckableType.test( type ) );
		})
		.map(function( i, elem ) {
			var val = jQuery( this ).val();

			return val == null ?
				null :
				jQuery.isArray( val ) ?
					jQuery.map( val, function( val ) {
						return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
					}) :
					{ name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
		}).get();
	}
});


jQuery.ajaxSettings.xhr = function() {
	try {
		return new XMLHttpRequest();
	} catch( e ) {}
};

var xhrId = 0,
	xhrCallbacks = {},
	xhrSuccessStatus = {
		// file protocol always yields status code 0, assume 200
		0: 200,
		// Support: IE9
		// #1450: sometimes IE returns 1223 when it should be 204
		1223: 204
	},
	xhrSupported = jQuery.ajaxSettings.xhr();

// Support: IE9
// Open requests must be manually aborted on unload (#5280)
// See https://support.microsoft.com/kb/2856746 for more info
if ( window.attachEvent ) {
	window.attachEvent( "onunload", function() {
		for ( var key in xhrCallbacks ) {
			xhrCallbacks[ key ]();
		}
	});
}

support.cors = !!xhrSupported && ( "withCredentials" in xhrSupported );
support.ajax = xhrSupported = !!xhrSupported;

jQuery.ajaxTransport(function( options ) {
	var callback;

	// Cross domain only allowed if supported through XMLHttpRequest
	if ( support.cors || xhrSupported && !options.crossDomain ) {
		return {
			send: function( headers, complete ) {
				var i,
					xhr = options.xhr(),
					id = ++xhrId;

				xhr.open( options.type, options.url, options.async, options.username, options.password );

				// Apply custom fields if provided
				if ( options.xhrFields ) {
					for ( i in options.xhrFields ) {
						xhr[ i ] = options.xhrFields[ i ];
					}
				}

				// Override mime type if needed
				if ( options.mimeType && xhr.overrideMimeType ) {
					xhr.overrideMimeType( options.mimeType );
				}

				// X-Requested-With header
				// For cross-domain requests, seeing as conditions for a preflight are
				// akin to a jigsaw puzzle, we simply never set it to be sure.
				// (it can always be set on a per-request basis or even using ajaxSetup)
				// For same-domain requests, won't change header if already provided.
				if ( !options.crossDomain && !headers["X-Requested-With"] ) {
					headers["X-Requested-With"] = "XMLHttpRequest";
				}

				// Set headers
				for ( i in headers ) {
					xhr.setRequestHeader( i, headers[ i ] );
				}

				// Callback
				callback = function( type ) {
					return function() {
						if ( callback ) {
							delete xhrCallbacks[ id ];
							callback = xhr.onload = xhr.onerror = null;

							if ( type === "abort" ) {
								xhr.abort();
							} else if ( type === "error" ) {
								complete(
									// file: protocol always yields status 0; see #8605, #14207
									xhr.status,
									xhr.statusText
								);
							} else {
								complete(
									xhrSuccessStatus[ xhr.status ] || xhr.status,
									xhr.statusText,
									// Support: IE9
									// Accessing binary-data responseText throws an exception
									// (#11426)
									typeof xhr.responseText === "string" ? {
										text: xhr.responseText
									} : undefined,
									xhr.getAllResponseHeaders()
								);
							}
						}
					};
				};

				// Listen to events
				xhr.onload = callback();
				xhr.onerror = callback("error");

				// Create the abort callback
				callback = xhrCallbacks[ id ] = callback("abort");

				try {
					// Do send the request (this may raise an exception)
					xhr.send( options.hasContent && options.data || null );
				} catch ( e ) {
					// #14683: Only rethrow if this hasn't been notified as an error yet
					if ( callback ) {
						throw e;
					}
				}
			},

			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
});




// Install script dataType
jQuery.ajaxSetup({
	accepts: {
		script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
	},
	contents: {
		script: /(?:java|ecma)script/
	},
	converters: {
		"text script": function( text ) {
			jQuery.globalEval( text );
			return text;
		}
	}
});

// Handle cache's special case and crossDomain
jQuery.ajaxPrefilter( "script", function( s ) {
	if ( s.cache === undefined ) {
		s.cache = false;
	}
	if ( s.crossDomain ) {
		s.type = "GET";
	}
});

// Bind script tag hack transport
jQuery.ajaxTransport( "script", function( s ) {
	// This transport only deals with cross domain requests
	if ( s.crossDomain ) {
		var script, callback;
		return {
			send: function( _, complete ) {
				script = jQuery("<script>").prop({
					async: true,
					charset: s.scriptCharset,
					src: s.url
				}).on(
					"load error",
					callback = function( evt ) {
						script.remove();
						callback = null;
						if ( evt ) {
							complete( evt.type === "error" ? 404 : 200, evt.type );
						}
					}
				);
				document.head.appendChild( script[ 0 ] );
			},
			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
});




var oldCallbacks = [],
	rjsonp = /(=)\?(?=&|$)|\?\?/;

// Default jsonp settings
jQuery.ajaxSetup({
	jsonp: "callback",
	jsonpCallback: function() {
		var callback = oldCallbacks.pop() || ( jQuery.expando + "_" + ( nonce++ ) );
		this[ callback ] = true;
		return callback;
	}
});

// Detect, normalize options and install callbacks for jsonp requests
jQuery.ajaxPrefilter( "json jsonp", function( s, originalSettings, jqXHR ) {

	var callbackName, overwritten, responseContainer,
		jsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?
			"url" :
			typeof s.data === "string" && !( s.contentType || "" ).indexOf("application/x-www-form-urlencoded") && rjsonp.test( s.data ) && "data"
		);

	// Handle iff the expected data type is "jsonp" or we have a parameter to set
	if ( jsonProp || s.dataTypes[ 0 ] === "jsonp" ) {

		// Get callback name, remembering preexisting value associated with it
		callbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?
			s.jsonpCallback() :
			s.jsonpCallback;

		// Insert callback into url or form data
		if ( jsonProp ) {
			s[ jsonProp ] = s[ jsonProp ].replace( rjsonp, "$1" + callbackName );
		} else if ( s.jsonp !== false ) {
			s.url += ( rquery.test( s.url ) ? "&" : "?" ) + s.jsonp + "=" + callbackName;
		}

		// Use data converter to retrieve json after script execution
		s.converters["script json"] = function() {
			if ( !responseContainer ) {
				jQuery.error( callbackName + " was not called" );
			}
			return responseContainer[ 0 ];
		};

		// force json dataType
		s.dataTypes[ 0 ] = "json";

		// Install callback
		overwritten = window[ callbackName ];
		window[ callbackName ] = function() {
			responseContainer = arguments;
		};

		// Clean-up function (fires after converters)
		jqXHR.always(function() {
			// Restore preexisting value
			window[ callbackName ] = overwritten;

			// Save back as free
			if ( s[ callbackName ] ) {
				// make sure that re-using the options doesn't screw things around
				s.jsonpCallback = originalSettings.jsonpCallback;

				// save the callback name for future use
				oldCallbacks.push( callbackName );
			}

			// Call if it was a function and we have a response
			if ( responseContainer && jQuery.isFunction( overwritten ) ) {
				overwritten( responseContainer[ 0 ] );
			}

			responseContainer = overwritten = undefined;
		});

		// Delegate to script
		return "script";
	}
});




// data: string of html
// context (optional): If specified, the fragment will be created in this context, defaults to document
// keepScripts (optional): If true, will include scripts passed in the html string
jQuery.parseHTML = function( data, context, keepScripts ) {
	if ( !data || typeof data !== "string" ) {
		return null;
	}
	if ( typeof context === "boolean" ) {
		keepScripts = context;
		context = false;
	}
	context = context || document;

	var parsed = rsingleTag.exec( data ),
		scripts = !keepScripts && [];

	// Single tag
	if ( parsed ) {
		return [ context.createElement( parsed[1] ) ];
	}

	parsed = jQuery.buildFragment( [ data ], context, scripts );

	if ( scripts && scripts.length ) {
		jQuery( scripts ).remove();
	}

	return jQuery.merge( [], parsed.childNodes );
};


// Keep a copy of the old load method
var _load = jQuery.fn.load;

/**
 * Load a url into a page
 */
jQuery.fn.load = function( url, params, callback ) {
	if ( typeof url !== "string" && _load ) {
		return _load.apply( this, arguments );
	}

	var selector, type, response,
		self = this,
		off = url.indexOf(" ");

	if ( off >= 0 ) {
		selector = jQuery.trim( url.slice( off ) );
		url = url.slice( 0, off );
	}

	// If it's a function
	if ( jQuery.isFunction( params ) ) {

		// We assume that it's the callback
		callback = params;
		params = undefined;

	// Otherwise, build a param string
	} else if ( params && typeof params === "object" ) {
		type = "POST";
	}

	// If we have elements to modify, make the request
	if ( self.length > 0 ) {
		jQuery.ajax({
			url: url,

			// if "type" variable is undefined, then "GET" method will be used
			type: type,
			dataType: "html",
			data: params
		}).done(function( responseText ) {

			// Save response for use in complete callback
			response = arguments;

			self.html( selector ?

				// If a selector was specified, locate the right elements in a dummy div
				// Exclude scripts to avoid IE 'Permission Denied' errors
				jQuery("<div>").append( jQuery.parseHTML( responseText ) ).find( selector ) :

				// Otherwise use the full result
				responseText );

		}).complete( callback && function( jqXHR, status ) {
			self.each( callback, response || [ jqXHR.responseText, status, jqXHR ] );
		});
	}

	return this;
};




// Attach a bunch of functions for handling common AJAX events
jQuery.each( [ "ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend" ], function( i, type ) {
	jQuery.fn[ type ] = function( fn ) {
		return this.on( type, fn );
	};
});




jQuery.expr.filters.animated = function( elem ) {
	return jQuery.grep(jQuery.timers, function( fn ) {
		return elem === fn.elem;
	}).length;
};




var docElem = window.document.documentElement;

/**
 * Gets a window from an element
 */
function getWindow( elem ) {
	return jQuery.isWindow( elem ) ? elem : elem.nodeType === 9 && elem.defaultView;
}

jQuery.offset = {
	setOffset: function( elem, options, i ) {
		var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,
			position = jQuery.css( elem, "position" ),
			curElem = jQuery( elem ),
			props = {};

		// Set position first, in-case top/left are set even on static elem
		if ( position === "static" ) {
			elem.style.position = "relative";
		}

		curOffset = curElem.offset();
		curCSSTop = jQuery.css( elem, "top" );
		curCSSLeft = jQuery.css( elem, "left" );
		calculatePosition = ( position === "absolute" || position === "fixed" ) &&
			( curCSSTop + curCSSLeft ).indexOf("auto") > -1;

		// Need to be able to calculate position if either
		// top or left is auto and position is either absolute or fixed
		if ( calculatePosition ) {
			curPosition = curElem.position();
			curTop = curPosition.top;
			curLeft = curPosition.left;

		} else {
			curTop = parseFloat( curCSSTop ) || 0;
			curLeft = parseFloat( curCSSLeft ) || 0;
		}

		if ( jQuery.isFunction( options ) ) {
			options = options.call( elem, i, curOffset );
		}

		if ( options.top != null ) {
			props.top = ( options.top - curOffset.top ) + curTop;
		}
		if ( options.left != null ) {
			props.left = ( options.left - curOffset.left ) + curLeft;
		}

		if ( "using" in options ) {
			options.using.call( elem, props );

		} else {
			curElem.css( props );
		}
	}
};

jQuery.fn.extend({
	offset: function( options ) {
		if ( arguments.length ) {
			return options === undefined ?
				this :
				this.each(function( i ) {
					jQuery.offset.setOffset( this, options, i );
				});
		}

		var docElem, win,
			elem = this[ 0 ],
			box = { top: 0, left: 0 },
			doc = elem && elem.ownerDocument;

		if ( !doc ) {
			return;
		}

		docElem = doc.documentElement;

		// Make sure it's not a disconnected DOM node
		if ( !jQuery.contains( docElem, elem ) ) {
			return box;
		}

		// Support: BlackBerry 5, iOS 3 (original iPhone)
		// If we don't have gBCR, just use 0,0 rather than error
		if ( typeof elem.getBoundingClientRect !== strundefined ) {
			box = elem.getBoundingClientRect();
		}
		win = getWindow( doc );
		return {
			top: box.top + win.pageYOffset - docElem.clientTop,
			left: box.left + win.pageXOffset - docElem.clientLeft
		};
	},

	position: function() {
		if ( !this[ 0 ] ) {
			return;
		}

		var offsetParent, offset,
			elem = this[ 0 ],
			parentOffset = { top: 0, left: 0 };

		// Fixed elements are offset from window (parentOffset = {top:0, left: 0}, because it is its only offset parent
		if ( jQuery.css( elem, "position" ) === "fixed" ) {
			// Assume getBoundingClientRect is there when computed position is fixed
			offset = elem.getBoundingClientRect();

		} else {
			// Get *real* offsetParent
			offsetParent = this.offsetParent();

			// Get correct offsets
			offset = this.offset();
			if ( !jQuery.nodeName( offsetParent[ 0 ], "html" ) ) {
				parentOffset = offsetParent.offset();
			}

			// Add offsetParent borders
			parentOffset.top += jQuery.css( offsetParent[ 0 ], "borderTopWidth", true );
			parentOffset.left += jQuery.css( offsetParent[ 0 ], "borderLeftWidth", true );
		}

		// Subtract parent offsets and element margins
		return {
			top: offset.top - parentOffset.top - jQuery.css( elem, "marginTop", true ),
			left: offset.left - parentOffset.left - jQuery.css( elem, "marginLeft", true )
		};
	},

	offsetParent: function() {
		return this.map(function() {
			var offsetParent = this.offsetParent || docElem;

			while ( offsetParent && ( !jQuery.nodeName( offsetParent, "html" ) && jQuery.css( offsetParent, "position" ) === "static" ) ) {
				offsetParent = offsetParent.offsetParent;
			}

			return offsetParent || docElem;
		});
	}
});

// Create scrollLeft and scrollTop methods
jQuery.each( { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function( method, prop ) {
	var top = "pageYOffset" === prop;

	jQuery.fn[ method ] = function( val ) {
		return access( this, function( elem, method, val ) {
			var win = getWindow( elem );

			if ( val === undefined ) {
				return win ? win[ prop ] : elem[ method ];
			}

			if ( win ) {
				win.scrollTo(
					!top ? val : window.pageXOffset,
					top ? val : window.pageYOffset
				);

			} else {
				elem[ method ] = val;
			}
		}, method, val, arguments.length, null );
	};
});

// Support: Safari<7+, Chrome<37+
// Add the top/left cssHooks using jQuery.fn.position
// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084
// Blink bug: https://code.google.com/p/chromium/issues/detail?id=229280
// getComputedStyle returns percent when specified for top/left/bottom/right;
// rather than make the css module depend on the offset module, just check for it here
jQuery.each( [ "top", "left" ], function( i, prop ) {
	jQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,
		function( elem, computed ) {
			if ( computed ) {
				computed = curCSS( elem, prop );
				// If curCSS returns percentage, fallback to offset
				return rnumnonpx.test( computed ) ?
					jQuery( elem ).position()[ prop ] + "px" :
					computed;
			}
		}
	);
});


// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods
jQuery.each( { Height: "height", Width: "width" }, function( name, type ) {
	jQuery.each( { padding: "inner" + name, content: type, "": "outer" + name }, function( defaultExtra, funcName ) {
		// Margin is only for outerHeight, outerWidth
		jQuery.fn[ funcName ] = function( margin, value ) {
			var chainable = arguments.length && ( defaultExtra || typeof margin !== "boolean" ),
				extra = defaultExtra || ( margin === true || value === true ? "margin" : "border" );

			return access( this, function( elem, type, value ) {
				var doc;

				if ( jQuery.isWindow( elem ) ) {
					// As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there
					// isn't a whole lot we can do. See pull request at this URL for discussion:
					// https://github.com/jquery/jquery/pull/764
					return elem.document.documentElement[ "client" + name ];
				}

				// Get document width or height
				if ( elem.nodeType === 9 ) {
					doc = elem.documentElement;

					// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],
					// whichever is greatest
					return Math.max(
						elem.body[ "scroll" + name ], doc[ "scroll" + name ],
						elem.body[ "offset" + name ], doc[ "offset" + name ],
						doc[ "client" + name ]
					);
				}

				return value === undefined ?
					// Get width or height on the element, requesting but not forcing parseFloat
					jQuery.css( elem, type, extra ) :

					// Set width or height on the element
					jQuery.style( elem, type, value, extra );
			}, type, chainable ? margin : undefined, chainable, null );
		};
	});
});


// The number of elements contained in the matched element set
jQuery.fn.size = function() {
	return this.length;
};

jQuery.fn.andSelf = jQuery.fn.addBack;




// Register as a named AMD module, since jQuery can be concatenated with other
// files that may use define, but not via a proper concatenation script that
// understands anonymous AMD modules. A named AMD is safest and most robust
// way to register. Lowercase jquery is used because AMD module names are
// derived from file names, and jQuery is normally delivered in a lowercase
// file name. Do this after creating the global so that if an AMD module wants
// to call noConflict to hide this version of jQuery, it will work.

// Note that for maximum portability, libraries that are not jQuery should
// declare themselves as anonymous modules, and avoid setting a global if an
// AMD loader is present. jQuery is a special case. For more information, see
// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon

if ( typeof define === "function" && define.amd ) {
	define( "jquery", [], function() {
		return jQuery;
	});
}




var
	// Map over jQuery in case of overwrite
	_jQuery = window.jQuery,

	// Map over the $ in case of overwrite
	_$ = window.$;

jQuery.noConflict = function( deep ) {
	if ( window.$ === jQuery ) {
		window.$ = _$;
	}

	if ( deep && window.jQuery === jQuery ) {
		window.jQuery = _jQuery;
	}

	return jQuery;
};

// Expose jQuery and $ identifiers, even in AMD
// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)
// and CommonJS for browser emulators (#13566)
if ( typeof noGlobal === strundefined ) {
	window.jQuery = window.$ = jQuery;
}




return jQuery;

}));

},{}],28:[function(require,module,exports){
(function (global){
/*!
    localForage -- Offline Storage, Improved
    Version 1.5.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.localforage = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw (f.code="MODULE_NOT_FOUND", f)}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){
(function (global){
'use strict';
var Mutation = global.MutationObserver || global.WebKitMutationObserver;

var scheduleDrain;

{
  if (Mutation) {
    var called = 0;
    var observer = new Mutation(nextTick);
    var element = global.document.createTextNode('');
    observer.observe(element, {
      characterData: true
    });
    scheduleDrain = function () {
      element.data = (called = ++called % 2);
    };
  } else if (!global.setImmediate && typeof global.MessageChannel !== 'undefined') {
    var channel = new global.MessageChannel();
    channel.port1.onmessage = nextTick;
    scheduleDrain = function () {
      channel.port2.postMessage(0);
    };
  } else if ('document' in global && 'onreadystatechange' in global.document.createElement('script')) {
    scheduleDrain = function () {

      // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted
      // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.
      var scriptEl = global.document.createElement('script');
      scriptEl.onreadystatechange = function () {
        nextTick();

        scriptEl.onreadystatechange = null;
        scriptEl.parentNode.removeChild(scriptEl);
        scriptEl = null;
      };
      global.document.documentElement.appendChild(scriptEl);
    };
  } else {
    scheduleDrain = function () {
      setTimeout(nextTick, 0);
    };
  }
}

var draining;
var queue = [];
//named nextTick for less confusing stack traces
function nextTick() {
  draining = true;
  var i, oldQueue;
  var len = queue.length;
  while (len) {
    oldQueue = queue;
    queue = [];
    i = -1;
    while (++i < len) {
      oldQueue[i]();
    }
    len = queue.length;
  }
  draining = false;
}

module.exports = immediate;
function immediate(task) {
  if (queue.push(task) === 1 && !draining) {
    scheduleDrain();
  }
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],2:[function(_dereq_,module,exports){
'use strict';
var immediate = _dereq_(1);

/* istanbul ignore next */
function INTERNAL() {}

var handlers = {};

var REJECTED = ['REJECTED'];
var FULFILLED = ['FULFILLED'];
var PENDING = ['PENDING'];

module.exports = exports = Promise;

function Promise(resolver) {
  if (typeof resolver !== 'function') {
    throw new TypeError('resolver must be a function');
  }
  this.state = PENDING;
  this.queue = [];
  this.outcome = void 0;
  if (resolver !== INTERNAL) {
    safelyResolveThenable(this, resolver);
  }
}

Promise.prototype["catch"] = function (onRejected) {
  return this.then(null, onRejected);
};
Promise.prototype.then = function (onFulfilled, onRejected) {
  if (typeof onFulfilled !== 'function' && this.state === FULFILLED ||
    typeof onRejected !== 'function' && this.state === REJECTED) {
    return this;
  }
  var promise = new this.constructor(INTERNAL);
  if (this.state !== PENDING) {
    var resolver = this.state === FULFILLED ? onFulfilled : onRejected;
    unwrap(promise, resolver, this.outcome);
  } else {
    this.queue.push(new QueueItem(promise, onFulfilled, onRejected));
  }

  return promise;
};
function QueueItem(promise, onFulfilled, onRejected) {
  this.promise = promise;
  if (typeof onFulfilled === 'function') {
    this.onFulfilled = onFulfilled;
    this.callFulfilled = this.otherCallFulfilled;
  }
  if (typeof onRejected === 'function') {
    this.onRejected = onRejected;
    this.callRejected = this.otherCallRejected;
  }
}
QueueItem.prototype.callFulfilled = function (value) {
  handlers.resolve(this.promise, value);
};
QueueItem.prototype.otherCallFulfilled = function (value) {
  unwrap(this.promise, this.onFulfilled, value);
};
QueueItem.prototype.callRejected = function (value) {
  handlers.reject(this.promise, value);
};
QueueItem.prototype.otherCallRejected = function (value) {
  unwrap(this.promise, this.onRejected, value);
};

function unwrap(promise, func, value) {
  immediate(function () {
    var returnValue;
    try {
      returnValue = func(value);
    } catch (e) {
      return handlers.reject(promise, e);
    }
    if (returnValue === promise) {
      handlers.reject(promise, new TypeError('Cannot resolve promise with itself'));
    } else {
      handlers.resolve(promise, returnValue);
    }
  });
}

handlers.resolve = function (self, value) {
  var result = tryCatch(getThen, value);
  if (result.status === 'error') {
    return handlers.reject(self, result.value);
  }
  var thenable = result.value;

  if (thenable) {
    safelyResolveThenable(self, thenable);
  } else {
    self.state = FULFILLED;
    self.outcome = value;
    var i = -1;
    var len = self.queue.length;
    while (++i < len) {
      self.queue[i].callFulfilled(value);
    }
  }
  return self;
};
handlers.reject = function (self, error) {
  self.state = REJECTED;
  self.outcome = error;
  var i = -1;
  var len = self.queue.length;
  while (++i < len) {
    self.queue[i].callRejected(error);
  }
  return self;
};

function getThen(obj) {
  // Make sure we only access the accessor once as required by the spec
  var then = obj && obj.then;
  if (obj && typeof obj === 'object' && typeof then === 'function') {
    return function appyThen() {
      then.apply(obj, arguments);
    };
  }
}

function safelyResolveThenable(self, thenable) {
  // Either fulfill, reject or reject with error
  var called = false;
  function onError(value) {
    if (called) {
      return;
    }
    called = true;
    handlers.reject(self, value);
  }

  function onSuccess(value) {
    if (called) {
      return;
    }
    called = true;
    handlers.resolve(self, value);
  }

  function tryToUnwrap() {
    thenable(onSuccess, onError);
  }

  var result = tryCatch(tryToUnwrap);
  if (result.status === 'error') {
    onError(result.value);
  }
}

function tryCatch(func, value) {
  var out = {};
  try {
    out.value = func(value);
    out.status = 'success';
  } catch (e) {
    out.status = 'error';
    out.value = e;
  }
  return out;
}

exports.resolve = resolve;
function resolve(value) {
  if (value instanceof this) {
    return value;
  }
  return handlers.resolve(new this(INTERNAL), value);
}

exports.reject = reject;
function reject(reason) {
  var promise = new this(INTERNAL);
  return handlers.reject(promise, reason);
}

exports.all = all;
function all(iterable) {
  var self = this;
  if (Object.prototype.toString.call(iterable) !== '[object Array]') {
    return this.reject(new TypeError('must be an array'));
  }

  var len = iterable.length;
  var called = false;
  if (!len) {
    return this.resolve([]);
  }

  var values = new Array(len);
  var resolved = 0;
  var i = -1;
  var promise = new this(INTERNAL);

  while (++i < len) {
    allResolver(iterable[i], i);
  }
  return promise;
  function allResolver(value, i) {
    self.resolve(value).then(resolveFromAll, function (error) {
      if (!called) {
        called = true;
        handlers.reject(promise, error);
      }
    });
    function resolveFromAll(outValue) {
      values[i] = outValue;
      if (++resolved === len && !called) {
        called = true;
        handlers.resolve(promise, values);
      }
    }
  }
}

exports.race = race;
function race(iterable) {
  var self = this;
  if (Object.prototype.toString.call(iterable) !== '[object Array]') {
    return this.reject(new TypeError('must be an array'));
  }

  var len = iterable.length;
  var called = false;
  if (!len) {
    return this.resolve([]);
  }

  var i = -1;
  var promise = new this(INTERNAL);

  while (++i < len) {
    resolver(iterable[i]);
  }
  return promise;
  function resolver(value) {
    self.resolve(value).then(function (response) {
      if (!called) {
        called = true;
        handlers.resolve(promise, response);
      }
    }, function (error) {
      if (!called) {
        called = true;
        handlers.reject(promise, error);
      }
    });
  }
}

},{"1":1}],3:[function(_dereq_,module,exports){
(function (global){
'use strict';
if (typeof global.Promise !== 'function') {
  global.Promise = _dereq_(2);
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"2":2}],4:[function(_dereq_,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function getIDB() {
    /* global indexedDB,webkitIndexedDB,mozIndexedDB,OIndexedDB,msIndexedDB */
    try {
        if (typeof indexedDB !== 'undefined') {
            return indexedDB;
        }
        if (typeof webkitIndexedDB !== 'undefined') {
            return webkitIndexedDB;
        }
        if (typeof mozIndexedDB !== 'undefined') {
            return mozIndexedDB;
        }
        if (typeof OIndexedDB !== 'undefined') {
            return OIndexedDB;
        }
        if (typeof msIndexedDB !== 'undefined') {
            return msIndexedDB;
        }
    } catch (e) {}
}

var idb = getIDB();

function isIndexedDBValid() {
    try {
        // Initialize IndexedDB; fall back to vendor-prefixed versions
        // if needed.
        if (!idb) {
            return false;
        }
        // We mimic PouchDB here;
        //
        // We test for openDatabase because IE Mobile identifies itself
        // as Safari. Oh the lulz...
        var isSafari = typeof openDatabase !== 'undefined' && /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);

        var hasFetch = typeof fetch === 'function' && fetch.toString().indexOf('[native code') !== -1;

        // Safari <10.1 does not meet our requirements for IDB support (#5572)
        // since Safari 10.1 shipped with fetch, we can use that to detect it
        return (!isSafari || hasFetch) && typeof indexedDB !== 'undefined' &&
        // some outdated implementations of IDB that appear on Samsung
        // and HTC Android devices <4.4 are missing IDBKeyRange
        typeof IDBKeyRange !== 'undefined';
    } catch (e) {
        return false;
    }
}

function isWebSQLValid() {
    return typeof openDatabase === 'function';
}

function isLocalStorageValid() {
    try {
        return typeof localStorage !== 'undefined' && 'setItem' in localStorage && localStorage.setItem;
    } catch (e) {
        return false;
    }
}

// Abstracts constructing a Blob object, so it also works in older
// browsers that don't support the native Blob constructor. (i.e.
// old QtWebKit versions, at least).
// Abstracts constructing a Blob object, so it also works in older
// browsers that don't support the native Blob constructor. (i.e.
// old QtWebKit versions, at least).
function createBlob(parts, properties) {
    /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */
    parts = parts || [];
    properties = properties || {};
    try {
        return new Blob(parts, properties);
    } catch (e) {
        if (e.name !== 'TypeError') {
            throw e;
        }
        var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder : typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder : typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder : WebKitBlobBuilder;
        var builder = new Builder();
        for (var i = 0; i < parts.length; i += 1) {
            builder.append(parts[i]);
        }
        return builder.getBlob(properties.type);
    }
}

// This is CommonJS because lie is an external dependency, so Rollup
// can just ignore it.
if (typeof Promise === 'undefined') {
    // In the "nopromises" build this will just throw if you don't have
    // a global promise object, but it would throw anyway later.
    _dereq_(3);
}
var Promise$1 = Promise;

function executeCallback(promise, callback) {
    if (callback) {
        promise.then(function (result) {
            callback(null, result);
        }, function (error) {
            callback(error);
        });
    }
}

function executeTwoCallbacks(promise, callback, errorCallback) {
    if (typeof callback === 'function') {
        promise.then(callback);
    }

    if (typeof errorCallback === 'function') {
        promise["catch"](errorCallback);
    }
}

// Some code originally from async_storage.js in
// [Gaia](https://github.com/mozilla-b2g/gaia).

var DETECT_BLOB_SUPPORT_STORE = 'local-forage-detect-blob-support';
var supportsBlobs;
var dbContexts;
var toString = Object.prototype.toString;

// Transform a binary string to an array buffer, because otherwise
// weird stuff happens when you try to work with the binary string directly.
// It is known.
// From http://stackoverflow.com/questions/14967647/ (continues on next line)
// encode-decode-image-with-base64-breaks-image (2013-04-21)
function _binStringToArrayBuffer(bin) {
    var length = bin.length;
    var buf = new ArrayBuffer(length);
    var arr = new Uint8Array(buf);
    for (var i = 0; i < length; i++) {
        arr[i] = bin.charCodeAt(i);
    }
    return buf;
}

//
// Blobs are not supported in all versions of IndexedDB, notably
// Chrome <37 and Android <5. In those versions, storing a blob will throw.
//
// Various other blob bugs exist in Chrome v37-42 (inclusive).
// Detecting them is expensive and confusing to users, and Chrome 37-42
// is at very low usage worldwide, so we do a hacky userAgent check instead.
//
// content-type bug: https://code.google.com/p/chromium/issues/detail?id=408120
// 404 bug: https://code.google.com/p/chromium/issues/detail?id=447916
// FileReader bug: https://code.google.com/p/chromium/issues/detail?id=447836
//
// Code borrowed from PouchDB. See:
// https://github.com/pouchdb/pouchdb/blob/master/packages/node_modules/pouchdb-adapter-idb/src/blobSupport.js
//
function _checkBlobSupportWithoutCaching(idb) {
    return new Promise$1(function (resolve) {
        var txn = idb.transaction(DETECT_BLOB_SUPPORT_STORE, 'readwrite');
        var blob = createBlob(['']);
        txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob, 'key');

        txn.onabort = function (e) {
            // If the transaction aborts now its due to not being able to
            // write to the database, likely due to the disk being full
            e.preventDefault();
            e.stopPropagation();
            resolve(false);
        };

        txn.oncomplete = function () {
            var matchedChrome = navigator.userAgent.match(/Chrome\/(\d+)/);
            var matchedEdge = navigator.userAgent.match(/Edge\//);
            // MS Edge pretends to be Chrome 42:
            // https://msdn.microsoft.com/en-us/library/hh869301%28v=vs.85%29.aspx
            resolve(matchedEdge || !matchedChrome || parseInt(matchedChrome[1], 10) >= 43);
        };
    })["catch"](function () {
        return false; // error, so assume unsupported
    });
}

function _checkBlobSupport(idb) {
    if (typeof supportsBlobs === 'boolean') {
        return Promise$1.resolve(supportsBlobs);
    }
    return _checkBlobSupportWithoutCaching(idb).then(function (value) {
        supportsBlobs = value;
        return supportsBlobs;
    });
}

function _deferReadiness(dbInfo) {
    var dbContext = dbContexts[dbInfo.name];

    // Create a deferred object representing the current database operation.
    var deferredOperation = {};

    deferredOperation.promise = new Promise$1(function (resolve) {
        deferredOperation.resolve = resolve;
    });

    // Enqueue the deferred operation.
    dbContext.deferredOperations.push(deferredOperation);

    // Chain its promise to the database readiness.
    if (!dbContext.dbReady) {
        dbContext.dbReady = deferredOperation.promise;
    } else {
        dbContext.dbReady = dbContext.dbReady.then(function () {
            return deferredOperation.promise;
        });
    }
}

function _advanceReadiness(dbInfo) {
    var dbContext = dbContexts[dbInfo.name];

    // Dequeue a deferred operation.
    var deferredOperation = dbContext.deferredOperations.pop();

    // Resolve its promise (which is part of the database readiness
    // chain of promises).
    if (deferredOperation) {
        deferredOperation.resolve();
    }
}

function _getConnection(dbInfo, upgradeNeeded) {
    return new Promise$1(function (resolve, reject) {

        if (dbInfo.db) {
            if (upgradeNeeded) {
                _deferReadiness(dbInfo);
                dbInfo.db.close();
            } else {
                return resolve(dbInfo.db);
            }
        }

        var dbArgs = [dbInfo.name];

        if (upgradeNeeded) {
            dbArgs.push(dbInfo.version);
        }

        var openreq = idb.open.apply(idb, dbArgs);

        if (upgradeNeeded) {
            openreq.onupgradeneeded = function (e) {
                var db = openreq.result;
                try {
                    db.createObjectStore(dbInfo.storeName);
                    if (e.oldVersion <= 1) {
                        // Added when support for blob shims was added
                        db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);
                    }
                } catch (ex) {
                    if (ex.name === 'ConstraintError') {
                        console.warn('The database "' + dbInfo.name + '"' + ' has been upgraded from version ' + e.oldVersion + ' to version ' + e.newVersion + ', but the storage "' + dbInfo.storeName + '" already exists.');
                    } else {
                        throw ex;
                    }
                }
            };
        }

        openreq.onerror = function (e) {
            e.preventDefault();
            reject(openreq.error);
        };

        openreq.onsuccess = function () {
            resolve(openreq.result);
            _advanceReadiness(dbInfo);
        };
    });
}

function _getOriginalConnection(dbInfo) {
    return _getConnection(dbInfo, false);
}

function _getUpgradedConnection(dbInfo) {
    return _getConnection(dbInfo, true);
}

function _isUpgradeNeeded(dbInfo, defaultVersion) {
    if (!dbInfo.db) {
        return true;
    }

    var isNewStore = !dbInfo.db.objectStoreNames.contains(dbInfo.storeName);
    var isDowngrade = dbInfo.version < dbInfo.db.version;
    var isUpgrade = dbInfo.version > dbInfo.db.version;

    if (isDowngrade) {
        // If the version is not the default one
        // then warn for impossible downgrade.
        if (dbInfo.version !== defaultVersion) {
            console.warn('The database "' + dbInfo.name + '"' + ' can\'t be downgraded from version ' + dbInfo.db.version + ' to version ' + dbInfo.version + '.');
        }
        // Align the versions to prevent errors.
        dbInfo.version = dbInfo.db.version;
    }

    if (isUpgrade || isNewStore) {
        // If the store is new then increment the version (if needed).
        // This will trigger an "upgradeneeded" event which is required
        // for creating a store.
        if (isNewStore) {
            var incVersion = dbInfo.db.version + 1;
            if (incVersion > dbInfo.version) {
                dbInfo.version = incVersion;
            }
        }

        return true;
    }

    return false;
}

// encode a blob for indexeddb engines that don't support blobs
function _encodeBlob(blob) {
    return new Promise$1(function (resolve, reject) {
        var reader = new FileReader();
        reader.onerror = reject;
        reader.onloadend = function (e) {
            var base64 = btoa(e.target.result || '');
            resolve({
                __local_forage_encoded_blob: true,
                data: base64,
                type: blob.type
            });
        };
        reader.readAsBinaryString(blob);
    });
}

// decode an encoded blob
function _decodeBlob(encodedBlob) {
    var arrayBuff = _binStringToArrayBuffer(atob(encodedBlob.data));
    return createBlob([arrayBuff], { type: encodedBlob.type });
}

// is this one of our fancy encoded blobs?
function _isEncodedBlob(value) {
    return value && value.__local_forage_encoded_blob;
}

// Specialize the default `ready()` function by making it dependent
// on the current database operations. Thus, the driver will be actually
// ready when it's been initialized (default) *and* there are no pending
// operations on the database (initiated by some other instances).
function _fullyReady(callback) {
    var self = this;

    var promise = self._initReady().then(function () {
        var dbContext = dbContexts[self._dbInfo.name];

        if (dbContext && dbContext.dbReady) {
            return dbContext.dbReady;
        }
    });

    executeTwoCallbacks(promise, callback, callback);
    return promise;
}

// Open the IndexedDB database (automatically creates one if one didn't
// previously exist), using any options set in the config.
function _initStorage(options) {
    var self = this;
    var dbInfo = {
        db: null
    };

    if (options) {
        for (var i in options) {
            dbInfo[i] = options[i];
        }
    }

    // Initialize a singleton container for all running localForages.
    if (!dbContexts) {
        dbContexts = {};
    }

    // Get the current context of the database;
    var dbContext = dbContexts[dbInfo.name];

    // ...or create a new context.
    if (!dbContext) {
        dbContext = {
            // Running localForages sharing a database.
            forages: [],
            // Shared database.
            db: null,
            // Database readiness (promise).
            dbReady: null,
            // Deferred operations on the database.
            deferredOperations: []
        };
        // Register the new context in the global container.
        dbContexts[dbInfo.name] = dbContext;
    }

    // Register itself as a running localForage in the current context.
    dbContext.forages.push(self);

    // Replace the default `ready()` function with the specialized one.
    if (!self._initReady) {
        self._initReady = self.ready;
        self.ready = _fullyReady;
    }

    // Create an array of initialization states of the related localForages.
    var initPromises = [];

    function ignoreErrors() {
        // Don't handle errors here,
        // just makes sure related localForages aren't pending.
        return Promise$1.resolve();
    }

    for (var j = 0; j < dbContext.forages.length; j++) {
        var forage = dbContext.forages[j];
        if (forage !== self) {
            // Don't wait for itself...
            initPromises.push(forage._initReady()["catch"](ignoreErrors));
        }
    }

    // Take a snapshot of the related localForages.
    var forages = dbContext.forages.slice(0);

    // Initialize the connection process only when
    // all the related localForages aren't pending.
    return Promise$1.all(initPromises).then(function () {
        dbInfo.db = dbContext.db;
        // Get the connection or open a new one without upgrade.
        return _getOriginalConnection(dbInfo);
    }).then(function (db) {
        dbInfo.db = db;
        if (_isUpgradeNeeded(dbInfo, self._defaultConfig.version)) {
            // Reopen the database for upgrading.
            return _getUpgradedConnection(dbInfo);
        }
        return db;
    }).then(function (db) {
        dbInfo.db = dbContext.db = db;
        self._dbInfo = dbInfo;
        // Share the final connection amongst related localForages.
        for (var k = 0; k < forages.length; k++) {
            var forage = forages[k];
            if (forage !== self) {
                // Self is already up-to-date.
                forage._dbInfo.db = dbInfo.db;
                forage._dbInfo.version = dbInfo.version;
            }
        }
    });
}

function getItem(key, callback) {
    var self = this;

    // Cast the key to a string, as that's all we can set as a key.
    if (typeof key !== 'string') {
        console.warn(key + ' used as a key, but it is not a string.');
        key = String(key);
    }

    var promise = new Promise$1(function (resolve, reject) {
        self.ready().then(function () {
            var dbInfo = self._dbInfo;
            var store = dbInfo.db.transaction(dbInfo.storeName, 'readonly').objectStore(dbInfo.storeName);
            var req = store.get(key);

            req.onsuccess = function () {
                var value = req.result;
                if (value === undefined) {
                    value = null;
                }
                if (_isEncodedBlob(value)) {
                    value = _decodeBlob(value);
                }
                resolve(value);
            };

            req.onerror = function () {
                reject(req.error);
            };
        })["catch"](reject);
    });

    executeCallback(promise, callback);
    return promise;
}

// Iterate over all items stored in database.
function iterate(iterator, callback) {
    var self = this;

    var promise = new Promise$1(function (resolve, reject) {
        self.ready().then(function () {
            var dbInfo = self._dbInfo;
            var store = dbInfo.db.transaction(dbInfo.storeName, 'readonly').objectStore(dbInfo.storeName);

            var req = store.openCursor();
            var iterationNumber = 1;

            req.onsuccess = function () {
                var cursor = req.result;

                if (cursor) {
                    var value = cursor.value;
                    if (_isEncodedBlob(value)) {
                        value = _decodeBlob(value);
                    }
                    var result = iterator(value, cursor.key, iterationNumber++);

                    if (result !== void 0) {
                        resolve(result);
                    } else {
                        cursor["continue"]();
                    }
                } else {
                    resolve();
                }
            };

            req.onerror = function () {
                reject(req.error);
            };
        })["catch"](reject);
    });

    executeCallback(promise, callback);

    return promise;
}

function setItem(key, value, callback) {
    var self = this;

    // Cast the key to a string, as that's all we can set as a key.
    if (typeof key !== 'string') {
        console.warn(key + ' used as a key, but it is not a string.');
        key = String(key);
    }

    var promise = new Promise$1(function (resolve, reject) {
        var dbInfo;
        self.ready().then(function () {
            dbInfo = self._dbInfo;
            if (toString.call(value) === '[object Blob]') {
                return _checkBlobSupport(dbInfo.db).then(function (blobSupport) {
                    if (blobSupport) {
                        return value;
                    }
                    return _encodeBlob(value);
                });
            }
            return value;
        }).then(function (value) {
            var transaction = dbInfo.db.transaction(dbInfo.storeName, 'readwrite');
            var store = transaction.objectStore(dbInfo.storeName);
            var req = store.put(value, key);

            // The reason we don't _save_ null is because IE 10 does
            // not support saving the `null` type in IndexedDB. How
            // ironic, given the bug below!
            // See: https://github.com/mozilla/localForage/issues/161
            if (value === null) {
                value = undefined;
            }

            transaction.oncomplete = function () {
                // Cast to undefined so the value passed to
                // callback/promise is the same as what one would get out
                // of `getItem()` later. This leads to some weirdness
                // (setItem('foo', undefined) will return `null`), but
                // it's not my fault localStorage is our baseline and that
                // it's weird.
                if (value === undefined) {
                    value = null;
                }

                resolve(value);
            };
            transaction.onabort = transaction.onerror = function () {
                var err = req.error ? req.error : req.transaction.error;
                reject(err);
            };
        })["catch"](reject);
    });

    executeCallback(promise, callback);
    return promise;
}

function removeItem(key, callback) {
    var self = this;

    // Cast the key to a string, as that's all we can set as a key.
    if (typeof key !== 'string') {
        console.warn(key + ' used as a key, but it is not a string.');
        key = String(key);
    }

    var promise = new Promise$1(function (resolve, reject) {
        self.ready().then(function () {
            var dbInfo = self._dbInfo;
            var transaction = dbInfo.db.transaction(dbInfo.storeName, 'readwrite');
            var store = transaction.objectStore(dbInfo.storeName);

            // We use a Grunt task to make this safe for IE and some
            // versions of Android (including those used by Cordova).
            // Normally IE won't like `.delete()` and will insist on
            // using `['delete']()`, but we have a build step that
            // fixes this for us now.
            var req = store["delete"](key);
            transaction.oncomplete = function () {
                resolve();
            };

            transaction.onerror = function () {
                reject(req.error);
            };

            // The request will be also be aborted if we've exceeded our storage
            // space.
            transaction.onabort = function () {
                var err = req.error ? req.error : req.transaction.error;
                reject(err);
            };
        })["catch"](reject);
    });

    executeCallback(promise, callback);
    return promise;
}

function clear(callback) {
    var self = this;

    var promise = new Promise$1(function (resolve, reject) {
        self.ready().then(function () {
            var dbInfo = self._dbInfo;
            var transaction = dbInfo.db.transaction(dbInfo.storeName, 'readwrite');
            var store = transaction.objectStore(dbInfo.storeName);
            var req = store.clear();

            transaction.oncomplete = function () {
                resolve();
            };

            transaction.onabort = transaction.onerror = function () {
                var err = req.error ? req.error : req.transaction.error;
                reject(err);
            };
        })["catch"](reject);
    });

    executeCallback(promise, callback);
    return promise;
}

function length(callback) {
    var self = this;

    var promise = new Promise$1(function (resolve, reject) {
        self.ready().then(function () {
            var dbInfo = self._dbInfo;
            var store = dbInfo.db.transaction(dbInfo.storeName, 'readonly').objectStore(dbInfo.storeName);
            var req = store.count();

            req.onsuccess = function () {
                resolve(req.result);
            };

            req.onerror = function () {
                reject(req.error);
            };
        })["catch"](reject);
    });

    executeCallback(promise, callback);
    return promise;
}

function key(n, callback) {
    var self = this;

    var promise = new Promise$1(function (resolve, reject) {
        if (n < 0) {
            resolve(null);

            return;
        }

        self.ready().then(function () {
            var dbInfo = self._dbInfo;
            var store = dbInfo.db.transaction(dbInfo.storeName, 'readonly').objectStore(dbInfo.storeName);

            var advanced = false;
            var req = store.openCursor();
            req.onsuccess = function () {
                var cursor = req.result;
                if (!cursor) {
                    // this means there weren't enough keys
                    resolve(null);

                    return;
                }

                if (n === 0) {
                    // We have the first key, return it if that's what they
                    // wanted.
                    resolve(cursor.key);
                } else {
                    if (!advanced) {
                        // Otherwise, ask the cursor to skip ahead n
                        // records.
                        advanced = true;
                        cursor.advance(n);
                    } else {
                        // When we get here, we've got the nth key.
                        resolve(cursor.key);
                    }
                }
            };

            req.onerror = function () {
                reject(req.error);
            };
        })["catch"](reject);
    });

    executeCallback(promise, callback);
    return promise;
}

function keys(callback) {
    var self = this;

    var promise = new Promise$1(function (resolve, reject) {
        self.ready().then(function () {
            var dbInfo = self._dbInfo;
            var store = dbInfo.db.transaction(dbInfo.storeName, 'readonly').objectStore(dbInfo.storeName);

            var req = store.openCursor();
            var keys = [];

            req.onsuccess = function () {
                var cursor = req.result;

                if (!cursor) {
                    resolve(keys);
                    return;
                }

                keys.push(cursor.key);
                cursor["continue"]();
            };

            req.onerror = function () {
                reject(req.error);
            };
        })["catch"](reject);
    });

    executeCallback(promise, callback);
    return promise;
}

var asyncStorage = {
    _driver: 'asyncStorage',
    _initStorage: _initStorage,
    iterate: iterate,
    getItem: getItem,
    setItem: setItem,
    removeItem: removeItem,
    clear: clear,
    length: length,
    key: key,
    keys: keys
};

// Sadly, the best way to save binary data in WebSQL/localStorage is serializing
// it to Base64, so this is how we store it to prevent very strange errors with less
// verbose ways of binary <-> string data storage.
var BASE_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';

var BLOB_TYPE_PREFIX = '~~local_forage_type~';
var BLOB_TYPE_PREFIX_REGEX = /^~~local_forage_type~([^~]+)~/;

var SERIALIZED_MARKER = '__lfsc__:';
var SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER.length;

// OMG the serializations!
var TYPE_ARRAYBUFFER = 'arbf';
var TYPE_BLOB = 'blob';
var TYPE_INT8ARRAY = 'si08';
var TYPE_UINT8ARRAY = 'ui08';
var TYPE_UINT8CLAMPEDARRAY = 'uic8';
var TYPE_INT16ARRAY = 'si16';
var TYPE_INT32ARRAY = 'si32';
var TYPE_UINT16ARRAY = 'ur16';
var TYPE_UINT32ARRAY = 'ui32';
var TYPE_FLOAT32ARRAY = 'fl32';
var TYPE_FLOAT64ARRAY = 'fl64';
var TYPE_SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER_LENGTH + TYPE_ARRAYBUFFER.length;

var toString$1 = Object.prototype.toString;

function stringToBuffer(serializedString) {
    // Fill the string into a ArrayBuffer.
    var bufferLength = serializedString.length * 0.75;
    var len = serializedString.length;
    var i;
    var p = 0;
    var encoded1, encoded2, encoded3, encoded4;

    if (serializedString[serializedString.length - 1] === '=') {
        bufferLength--;
        if (serializedString[serializedString.length - 2] === '=') {
            bufferLength--;
        }
    }

    var buffer = new ArrayBuffer(bufferLength);
    var bytes = new Uint8Array(buffer);

    for (i = 0; i < len; i += 4) {
        encoded1 = BASE_CHARS.indexOf(serializedString[i]);
        encoded2 = BASE_CHARS.indexOf(serializedString[i + 1]);
        encoded3 = BASE_CHARS.indexOf(serializedString[i + 2]);
        encoded4 = BASE_CHARS.indexOf(serializedString[i + 3]);

        /*jslint bitwise: true */
        bytes[p++] = encoded1 << 2 | encoded2 >> 4;
        bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;
        bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;
    }
    return buffer;
}

// Converts a buffer to a string to store, serialized, in the backend
// storage library.
function bufferToString(buffer) {
    // base64-arraybuffer
    var bytes = new Uint8Array(buffer);
    var base64String = '';
    var i;

    for (i = 0; i < bytes.length; i += 3) {
        /*jslint bitwise: true */
        base64String += BASE_CHARS[bytes[i] >> 2];
        base64String += BASE_CHARS[(bytes[i] & 3) << 4 | bytes[i + 1] >> 4];
        base64String += BASE_CHARS[(bytes[i + 1] & 15) << 2 | bytes[i + 2] >> 6];
        base64String += BASE_CHARS[bytes[i + 2] & 63];
    }

    if (bytes.length % 3 === 2) {
        base64String = base64String.substring(0, base64String.length - 1) + '=';
    } else if (bytes.length % 3 === 1) {
        base64String = base64String.substring(0, base64String.length - 2) + '==';
    }

    return base64String;
}

// Serialize a value, afterwards executing a callback (which usually
// instructs the `setItem()` callback/promise to be executed). This is how
// we store binary data with localStorage.
function serialize(value, callback) {
    var valueType = '';
    if (value) {
        valueType = toString$1.call(value);
    }

    // Cannot use `value instanceof ArrayBuffer` or such here, as these
    // checks fail when running the tests using casper.js...
    //
    // TODO: See why those tests fail and use a better solution.
    if (value && (valueType === '[object ArrayBuffer]' || value.buffer && toString$1.call(value.buffer) === '[object ArrayBuffer]')) {
        // Convert binary arrays to a string and prefix the string with
        // a special marker.
        var buffer;
        var marker = SERIALIZED_MARKER;

        if (value instanceof ArrayBuffer) {
            buffer = value;
            marker += TYPE_ARRAYBUFFER;
        } else {
            buffer = value.buffer;

            if (valueType === '[object Int8Array]') {
                marker += TYPE_INT8ARRAY;
            } else if (valueType === '[object Uint8Array]') {
                marker += TYPE_UINT8ARRAY;
            } else if (valueType === '[object Uint8ClampedArray]') {
                marker += TYPE_UINT8CLAMPEDARRAY;
            } else if (valueType === '[object Int16Array]') {
                marker += TYPE_INT16ARRAY;
            } else if (valueType === '[object Uint16Array]') {
                marker += TYPE_UINT16ARRAY;
            } else if (valueType === '[object Int32Array]') {
                marker += TYPE_INT32ARRAY;
            } else if (valueType === '[object Uint32Array]') {
                marker += TYPE_UINT32ARRAY;
            } else if (valueType === '[object Float32Array]') {
                marker += TYPE_FLOAT32ARRAY;
            } else if (valueType === '[object Float64Array]') {
                marker += TYPE_FLOAT64ARRAY;
            } else {
                callback(new Error('Failed to get type for BinaryArray'));
            }
        }

        callback(marker + bufferToString(buffer));
    } else if (valueType === '[object Blob]') {
        // Conver the blob to a binaryArray and then to a string.
        var fileReader = new FileReader();

        fileReader.onload = function () {
            // Backwards-compatible prefix for the blob type.
            var str = BLOB_TYPE_PREFIX + value.type + '~' + bufferToString(this.result);

            callback(SERIALIZED_MARKER + TYPE_BLOB + str);
        };

        fileReader.readAsArrayBuffer(value);
    } else {
        try {
            callback(JSON.stringify(value));
        } catch (e) {
            console.error("Couldn't convert value into a JSON string: ", value);

            callback(null, e);
        }
    }
}

// Deserialize data we've inserted into a value column/field. We place
// special markers into our strings to mark them as encoded; this isn't
// as nice as a meta field, but it's the only sane thing we can do whilst
// keeping localStorage support intact.
//
// Oftentimes this will just deserialize JSON content, but if we have a
// special marker (SERIALIZED_MARKER, defined above), we will extract
// some kind of arraybuffer/binary data/typed array out of the string.
function deserialize(value) {
    // If we haven't marked this string as being specially serialized (i.e.
    // something other than serialized JSON), we can just return it and be
    // done with it.
    if (value.substring(0, SERIALIZED_MARKER_LENGTH) !== SERIALIZED_MARKER) {
        return JSON.parse(value);
    }

    // The following code deals with deserializing some kind of Blob or
    // TypedArray. First we separate out the type of data we're dealing
    // with from the data itself.
    var serializedString = value.substring(TYPE_SERIALIZED_MARKER_LENGTH);
    var type = value.substring(SERIALIZED_MARKER_LENGTH, TYPE_SERIALIZED_MARKER_LENGTH);

    var blobType;
    // Backwards-compatible blob type serialization strategy.
    // DBs created with older versions of localForage will simply not have the blob type.
    if (type === TYPE_BLOB && BLOB_TYPE_PREFIX_REGEX.test(serializedString)) {
        var matcher = serializedString.match(BLOB_TYPE_PREFIX_REGEX);
        blobType = matcher[1];
        serializedString = serializedString.substring(matcher[0].length);
    }
    var buffer = stringToBuffer(serializedString);

    // Return the right type based on the code/type set during
    // serialization.
    switch (type) {
        case TYPE_ARRAYBUFFER:
            return buffer;
        case TYPE_BLOB:
            return createBlob([buffer], { type: blobType });
        case TYPE_INT8ARRAY:
            return new Int8Array(buffer);
        case TYPE_UINT8ARRAY:
            return new Uint8Array(buffer);
        case TYPE_UINT8CLAMPEDARRAY:
            return new Uint8ClampedArray(buffer);
        case TYPE_INT16ARRAY:
            return new Int16Array(buffer);
        case TYPE_UINT16ARRAY:
            return new Uint16Array(buffer);
        case TYPE_INT32ARRAY:
            return new Int32Array(buffer);
        case TYPE_UINT32ARRAY:
            return new Uint32Array(buffer);
        case TYPE_FLOAT32ARRAY:
            return new Float32Array(buffer);
        case TYPE_FLOAT64ARRAY:
            return new Float64Array(buffer);
        default:
            throw new Error('Unkown type: ' + type);
    }
}

var localforageSerializer = {
    serialize: serialize,
    deserialize: deserialize,
    stringToBuffer: stringToBuffer,
    bufferToString: bufferToString
};

/*
 * Includes code from:
 *
 * base64-arraybuffer
 * https://github.com/niklasvh/base64-arraybuffer
 *
 * Copyright (c) 2012 Niklas von Hertzen
 * Licensed under the MIT license.
 */
// Open the WebSQL database (automatically creates one if one didn't
// previously exist), using any options set in the config.
function _initStorage$1(options) {
    var self = this;
    var dbInfo = {
        db: null
    };

    if (options) {
        for (var i in options) {
            dbInfo[i] = typeof options[i] !== 'string' ? options[i].toString() : options[i];
        }
    }

    var dbInfoPromise = new Promise$1(function (resolve, reject) {
        // Open the database; the openDatabase API will automatically
        // create it for us if it doesn't exist.
        try {
            dbInfo.db = openDatabase(dbInfo.name, String(dbInfo.version), dbInfo.description, dbInfo.size);
        } catch (e) {
            return reject(e);
        }

        // Create our key/value table if it doesn't exist.
        dbInfo.db.transaction(function (t) {
            t.executeSql('CREATE TABLE IF NOT EXISTS ' + dbInfo.storeName + ' (id INTEGER PRIMARY KEY, key unique, value)', [], function () {
                self._dbInfo = dbInfo;
                resolve();
            }, function (t, error) {
                reject(error);
            });
        });
    });

    dbInfo.serializer = localforageSerializer;
    return dbInfoPromise;
}

function getItem$1(key, callback) {
    var self = this;

    // Cast the key to a string, as that's all we can set as a key.
    if (typeof key !== 'string') {
        console.warn(key + ' used as a key, but it is not a string.');
        key = String(key);
    }

    var promise = new Promise$1(function (resolve, reject) {
        self.ready().then(function () {
            var dbInfo = self._dbInfo;
            dbInfo.db.transaction(function (t) {
                t.executeSql('SELECT * FROM ' + dbInfo.storeName + ' WHERE key = ? LIMIT 1', [key], function (t, results) {
                    var result = results.rows.length ? results.rows.item(0).value : null;

                    // Check to see if this is serialized content we need to
                    // unpack.
                    if (result) {
                        result = dbInfo.serializer.deserialize(result);
                    }

                    resolve(result);
                }, function (t, error) {

                    reject(error);
                });
            });
        })["catch"](reject);
    });

    executeCallback(promise, callback);
    return promise;
}

function iterate$1(iterator, callback) {
    var self = this;

    var promise = new Promise$1(function (resolve, reject) {
        self.ready().then(function () {
            var dbInfo = self._dbInfo;

            dbInfo.db.transaction(function (t) {
                t.executeSql('SELECT * FROM ' + dbInfo.storeName, [], function (t, results) {
                    var rows = results.rows;
                    var length = rows.length;

                    for (var i = 0; i < length; i++) {
                        var item = rows.item(i);
                        var result = item.value;

                        // Check to see if this is serialized content
                        // we need to unpack.
                        if (result) {
                            result = dbInfo.serializer.deserialize(result);
                        }

                        result = iterator(result, item.key, i + 1);

                        // void(0) prevents problems with redefinition
                        // of `undefined`.
                        if (result !== void 0) {
                            resolve(result);
                            return;
                        }
                    }

                    resolve();
                }, function (t, error) {
                    reject(error);
                });
            });
        })["catch"](reject);
    });

    executeCallback(promise, callback);
    return promise;
}

function _setItem(key, value, callback, retriesLeft) {
    var self = this;

    // Cast the key to a string, as that's all we can set as a key.
    if (typeof key !== 'string') {
        console.warn(key + ' used as a key, but it is not a string.');
        key = String(key);
    }

    var promise = new Promise$1(function (resolve, reject) {
        self.ready().then(function () {
            // The localStorage API doesn't return undefined values in an
            // "expected" way, so undefined is always cast to null in all
            // drivers. See: https://github.com/mozilla/localForage/pull/42
            if (value === undefined) {
                value = null;
            }

            // Save the original value to pass to the callback.
            var originalValue = value;

            var dbInfo = self._dbInfo;
            dbInfo.serializer.serialize(value, function (value, error) {
                if (error) {
                    reject(error);
                } else {
                    dbInfo.db.transaction(function (t) {
                        t.executeSql('INSERT OR REPLACE INTO ' + dbInfo.storeName + ' (key, value) VALUES (?, ?)', [key, value], function () {
                            resolve(originalValue);
                        }, function (t, error) {
                            reject(error);
                        });
                    }, function (sqlError) {
                        // The transaction failed; check
                        // to see if it's a quota error.
                        if (sqlError.code === sqlError.QUOTA_ERR) {
                            // We reject the callback outright for now, but
                            // it's worth trying to re-run the transaction.
                            // Even if the user accepts the prompt to use
                            // more storage on Safari, this error will
                            // be called.
                            //
                            // Try to re-run the transaction.
                            if (retriesLeft > 0) {
                                resolve(_setItem.apply(self, [key, originalValue, callback, retriesLeft - 1]));
                                return;
                            }
                            reject(sqlError);
                        }
                    });
                }
            });
        })["catch"](reject);
    });

    executeCallback(promise, callback);
    return promise;
}

function setItem$1(key, value, callback) {
    return _setItem.apply(this, [key, value, callback, 1]);
}

function removeItem$1(key, callback) {
    var self = this;

    // Cast the key to a string, as that's all we can set as a key.
    if (typeof key !== 'string') {
        console.warn(key + ' used as a key, but it is not a string.');
        key = String(key);
    }

    var promise = new Promise$1(function (resolve, reject) {
        self.ready().then(function () {
            var dbInfo = self._dbInfo;
            dbInfo.db.transaction(function (t) {
                t.executeSql('DELETE FROM ' + dbInfo.storeName + ' WHERE key = ?', [key], function () {
                    resolve();
                }, function (t, error) {

                    reject(error);
                });
            });
        })["catch"](reject);
    });

    executeCallback(promise, callback);
    return promise;
}

// Deletes every item in the table.
// TODO: Find out if this resets the AUTO_INCREMENT number.
function clear$1(callback) {
    var self = this;

    var promise = new Promise$1(function (resolve, reject) {
        self.ready().then(function () {
            var dbInfo = self._dbInfo;
            dbInfo.db.transaction(function (t) {
                t.executeSql('DELETE FROM ' + dbInfo.storeName, [], function () {
                    resolve();
                }, function (t, error) {
                    reject(error);
                });
            });
        })["catch"](reject);
    });

    executeCallback(promise, callback);
    return promise;
}

// Does a simple `COUNT(key)` to get the number of items stored in
// localForage.
function length$1(callback) {
    var self = this;

    var promise = new Promise$1(function (resolve, reject) {
        self.ready().then(function () {
            var dbInfo = self._dbInfo;
            dbInfo.db.transaction(function (t) {
                // Ahhh, SQL makes this one soooooo easy.
                t.executeSql('SELECT COUNT(key) as c FROM ' + dbInfo.storeName, [], function (t, results) {
                    var result = results.rows.item(0).c;

                    resolve(result);
                }, function (t, error) {

                    reject(error);
                });
            });
        })["catch"](reject);
    });

    executeCallback(promise, callback);
    return promise;
}

// Return the key located at key index X; essentially gets the key from a
// `WHERE id = ?`. This is the most efficient way I can think to implement
// this rarely-used (in my experience) part of the API, but it can seem
// inconsistent, because we do `INSERT OR REPLACE INTO` on `setItem()`, so
// the ID of each key will change every time it's updated. Perhaps a stored
// procedure for the `setItem()` SQL would solve this problem?
// TODO: Don't change ID on `setItem()`.
function key$1(n, callback) {
    var self = this;

    var promise = new Promise$1(function (resolve, reject) {
        self.ready().then(function () {
            var dbInfo = self._dbInfo;
            dbInfo.db.transaction(function (t) {
                t.executeSql('SELECT key FROM ' + dbInfo.storeName + ' WHERE id = ? LIMIT 1', [n + 1], function (t, results) {
                    var result = results.rows.length ? results.rows.item(0).key : null;
                    resolve(result);
                }, function (t, error) {
                    reject(error);
                });
            });
        })["catch"](reject);
    });

    executeCallback(promise, callback);
    return promise;
}

function keys$1(callback) {
    var self = this;

    var promise = new Promise$1(function (resolve, reject) {
        self.ready().then(function () {
            var dbInfo = self._dbInfo;
            dbInfo.db.transaction(function (t) {
                t.executeSql('SELECT key FROM ' + dbInfo.storeName, [], function (t, results) {
                    var keys = [];

                    for (var i = 0; i < results.rows.length; i++) {
                        keys.push(results.rows.item(i).key);
                    }

                    resolve(keys);
                }, function (t, error) {

                    reject(error);
                });
            });
        })["catch"](reject);
    });

    executeCallback(promise, callback);
    return promise;
}

var webSQLStorage = {
    _driver: 'webSQLStorage',
    _initStorage: _initStorage$1,
    iterate: iterate$1,
    getItem: getItem$1,
    setItem: setItem$1,
    removeItem: removeItem$1,
    clear: clear$1,
    length: length$1,
    key: key$1,
    keys: keys$1
};

// Config the localStorage backend, using options set in the config.
function _initStorage$2(options) {
    var self = this;
    var dbInfo = {};
    if (options) {
        for (var i in options) {
            dbInfo[i] = options[i];
        }
    }

    dbInfo.keyPrefix = dbInfo.name + '/';

    if (dbInfo.storeName !== self._defaultConfig.storeName) {
        dbInfo.keyPrefix += dbInfo.storeName + '/';
    }

    self._dbInfo = dbInfo;
    dbInfo.serializer = localforageSerializer;

    return Promise$1.resolve();
}

// Remove all keys from the datastore, effectively destroying all data in
// the app's key/value store!
function clear$2(callback) {
    var self = this;
    var promise = self.ready().then(function () {
        var keyPrefix = self._dbInfo.keyPrefix;

        for (var i = localStorage.length - 1; i >= 0; i--) {
            var key = localStorage.key(i);

            if (key.indexOf(keyPrefix) === 0) {
                localStorage.removeItem(key);
            }
        }
    });

    executeCallback(promise, callback);
    return promise;
}

// Retrieve an item from the store. Unlike the original async_storage
// library in Gaia, we don't modify return values at all. If a key's value
// is `undefined`, we pass that value to the callback function.
function getItem$2(key, callback) {
    var self = this;

    // Cast the key to a string, as that's all we can set as a key.
    if (typeof key !== 'string') {
        console.warn(key + ' used as a key, but it is not a string.');
        key = String(key);
    }

    var promise = self.ready().then(function () {
        var dbInfo = self._dbInfo;
        var result = localStorage.getItem(dbInfo.keyPrefix + key);

        // If a result was found, parse it from the serialized
        // string into a JS object. If result isn't truthy, the key
        // is likely undefined and we'll pass it straight to the
        // callback.
        if (result) {
            result = dbInfo.serializer.deserialize(result);
        }

        return result;
    });

    executeCallback(promise, callback);
    return promise;
}

// Iterate over all items in the store.
function iterate$2(iterator, callback) {
    var self = this;

    var promise = self.ready().then(function () {
        var dbInfo = self._dbInfo;
        var keyPrefix = dbInfo.keyPrefix;
        var keyPrefixLength = keyPrefix.length;
        var length = localStorage.length;

        // We use a dedicated iterator instead of the `i` variable below
        // so other keys we fetch in localStorage aren't counted in
        // the `iterationNumber` argument passed to the `iterate()`
        // callback.
        //
        // See: github.com/mozilla/localForage/pull/435#discussion_r38061530
        var iterationNumber = 1;

        for (var i = 0; i < length; i++) {
            var key = localStorage.key(i);
            if (key.indexOf(keyPrefix) !== 0) {
                continue;
            }
            var value = localStorage.getItem(key);

            // If a result was found, parse it from the serialized
            // string into a JS object. If result isn't truthy, the
            // key is likely undefined and we'll pass it straight
            // to the iterator.
            if (value) {
                value = dbInfo.serializer.deserialize(value);
            }

            value = iterator(value, key.substring(keyPrefixLength), iterationNumber++);

            if (value !== void 0) {
                return value;
            }
        }
    });

    executeCallback(promise, callback);
    return promise;
}

// Same as localStorage's key() method, except takes a callback.
function key$2(n, callback) {
    var self = this;
    var promise = self.ready().then(function () {
        var dbInfo = self._dbInfo;
        var result;
        try {
            result = localStorage.key(n);
        } catch (error) {
            result = null;
        }

        // Remove the prefix from the key, if a key is found.
        if (result) {
            result = result.substring(dbInfo.keyPrefix.length);
        }

        return result;
    });

    executeCallback(promise, callback);
    return promise;
}

function keys$2(callback) {
    var self = this;
    var promise = self.ready().then(function () {
        var dbInfo = self._dbInfo;
        var length = localStorage.length;
        var keys = [];

        for (var i = 0; i < length; i++) {
            if (localStorage.key(i).indexOf(dbInfo.keyPrefix) === 0) {
                keys.push(localStorage.key(i).substring(dbInfo.keyPrefix.length));
            }
        }

        return keys;
    });

    executeCallback(promise, callback);
    return promise;
}

// Supply the number of keys in the datastore to the callback function.
function length$2(callback) {
    var self = this;
    var promise = self.keys().then(function (keys) {
        return keys.length;
    });

    executeCallback(promise, callback);
    return promise;
}

// Remove an item from the store, nice and simple.
function removeItem$2(key, callback) {
    var self = this;

    // Cast the key to a string, as that's all we can set as a key.
    if (typeof key !== 'string') {
        console.warn(key + ' used as a key, but it is not a string.');
        key = String(key);
    }

    var promise = self.ready().then(function () {
        var dbInfo = self._dbInfo;
        localStorage.removeItem(dbInfo.keyPrefix + key);
    });

    executeCallback(promise, callback);
    return promise;
}

// Set a key's value and run an optional callback once the value is set.
// Unlike Gaia's implementation, the callback function is passed the value,
// in case you want to operate on that value only after you're sure it
// saved, or something like that.
function setItem$2(key, value, callback) {
    var self = this;

    // Cast the key to a string, as that's all we can set as a key.
    if (typeof key !== 'string') {
        console.warn(key + ' used as a key, but it is not a string.');
        key = String(key);
    }

    var promise = self.ready().then(function () {
        // Convert undefined values to null.
        // https://github.com/mozilla/localForage/pull/42
        if (value === undefined) {
            value = null;
        }

        // Save the original value to pass to the callback.
        var originalValue = value;

        return new Promise$1(function (resolve, reject) {
            var dbInfo = self._dbInfo;
            dbInfo.serializer.serialize(value, function (value, error) {
                if (error) {
                    reject(error);
                } else {
                    try {
                        localStorage.setItem(dbInfo.keyPrefix + key, value);
                        resolve(originalValue);
                    } catch (e) {
                        // localStorage capacity exceeded.
                        // TODO: Make this a specific error/event.
                        if (e.name === 'QuotaExceededError' || e.name === 'NS_ERROR_DOM_QUOTA_REACHED') {
                            reject(e);
                        }
                        reject(e);
                    }
                }
            });
        });
    });

    executeCallback(promise, callback);
    return promise;
}

var localStorageWrapper = {
    _driver: 'localStorageWrapper',
    _initStorage: _initStorage$2,
    // Default API, from Gaia/localStorage.
    iterate: iterate$2,
    getItem: getItem$2,
    setItem: setItem$2,
    removeItem: removeItem$2,
    clear: clear$2,
    length: length$2,
    key: key$2,
    keys: keys$2
};

// Custom drivers are stored here when `defineDriver()` is called.
// They are shared across all instances of localForage.
var CustomDrivers = {};

var DriverType = {
    INDEXEDDB: 'asyncStorage',
    LOCALSTORAGE: 'localStorageWrapper',
    WEBSQL: 'webSQLStorage'
};

var DefaultDriverOrder = [DriverType.INDEXEDDB, DriverType.WEBSQL, DriverType.LOCALSTORAGE];

var LibraryMethods = ['clear', 'getItem', 'iterate', 'key', 'keys', 'length', 'removeItem', 'setItem'];

var DefaultConfig = {
    description: '',
    driver: DefaultDriverOrder.slice(),
    name: 'localforage',
    // Default DB size is _JUST UNDER_ 5MB, as it's the highest size
    // we can use without a prompt.
    size: 4980736,
    storeName: 'keyvaluepairs',
    version: 1.0
};

var driverSupport = {};
// Check to see if IndexedDB is available and if it is the latest
// implementation; it's our preferred backend library. We use "_spec_test"
// as the name of the database because it's not the one we'll operate on,
// but it's useful to make sure its using the right spec.
// See: https://github.com/mozilla/localForage/issues/128
driverSupport[DriverType.INDEXEDDB] = isIndexedDBValid();

driverSupport[DriverType.WEBSQL] = isWebSQLValid();

driverSupport[DriverType.LOCALSTORAGE] = isLocalStorageValid();

var isArray = Array.isArray || function (arg) {
    return Object.prototype.toString.call(arg) === '[object Array]';
};

function callWhenReady(localForageInstance, libraryMethod) {
    localForageInstance[libraryMethod] = function () {
        var _args = arguments;
        return localForageInstance.ready().then(function () {
            return localForageInstance[libraryMethod].apply(localForageInstance, _args);
        });
    };
}

function extend() {
    for (var i = 1; i < arguments.length; i++) {
        var arg = arguments[i];

        if (arg) {
            for (var key in arg) {
                if (arg.hasOwnProperty(key)) {
                    if (isArray(arg[key])) {
                        arguments[0][key] = arg[key].slice();
                    } else {
                        arguments[0][key] = arg[key];
                    }
                }
            }
        }
    }

    return arguments[0];
}

function isLibraryDriver(driverName) {
    for (var driver in DriverType) {
        if (DriverType.hasOwnProperty(driver) && DriverType[driver] === driverName) {
            return true;
        }
    }

    return false;
}

var LocalForage = function () {
    function LocalForage(options) {
        _classCallCheck(this, LocalForage);

        this.INDEXEDDB = DriverType.INDEXEDDB;
        this.LOCALSTORAGE = DriverType.LOCALSTORAGE;
        this.WEBSQL = DriverType.WEBSQL;

        this._defaultConfig = extend({}, DefaultConfig);
        this._config = extend({}, this._defaultConfig, options);
        this._driverSet = null;
        this._initDriver = null;
        this._ready = false;
        this._dbInfo = null;

        this._wrapLibraryMethodsWithReady();
        this.setDriver(this._config.driver)["catch"](function () {});
    }

    // Set any config values for localForage; can be called anytime before
    // the first API call (e.g. `getItem`, `setItem`).
    // We loop through options so we don't overwrite existing config
    // values.


    LocalForage.prototype.config = function config(options) {
        // If the options argument is an object, we use it to set values.
        // Otherwise, we return either a specified config value or all
        // config values.
        if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {
            // If localforage is ready and fully initialized, we can't set
            // any new configuration values. Instead, we return an error.
            if (this._ready) {
                return new Error("Can't call config() after localforage " + 'has been used.');
            }

            for (var i in options) {
                if (i === 'storeName') {
                    options[i] = options[i].replace(/\W/g, '_');
                }

                if (i === 'version' && typeof options[i] !== 'number') {
                    return new Error('Database version must be a number.');
                }

                this._config[i] = options[i];
            }

            // after all config options are set and
            // the driver option is used, try setting it
            if ('driver' in options && options.driver) {
                return this.setDriver(this._config.driver);
            }

            return true;
        } else if (typeof options === 'string') {
            return this._config[options];
        } else {
            return this._config;
        }
    };

    // Used to define a custom driver, shared across all instances of
    // localForage.


    LocalForage.prototype.defineDriver = function defineDriver(driverObject, callback, errorCallback) {
        var promise = new Promise$1(function (resolve, reject) {
            try {
                var driverName = driverObject._driver;
                var complianceError = new Error('Custom driver not compliant; see ' + 'https://mozilla.github.io/localForage/#definedriver');
                var namingError = new Error('Custom driver name already in use: ' + driverObject._driver);

                // A driver name should be defined and not overlap with the
                // library-defined, default drivers.
                if (!driverObject._driver) {
                    reject(complianceError);
                    return;
                }
                if (isLibraryDriver(driverObject._driver)) {
                    reject(namingError);
                    return;
                }

                var customDriverMethods = LibraryMethods.concat('_initStorage');
                for (var i = 0; i < customDriverMethods.length; i++) {
                    var customDriverMethod = customDriverMethods[i];
                    if (!customDriverMethod || !driverObject[customDriverMethod] || typeof driverObject[customDriverMethod] !== 'function') {
                        reject(complianceError);
                        return;
                    }
                }

                var supportPromise = Promise$1.resolve(true);
                if ('_support' in driverObject) {
                    if (driverObject._support && typeof driverObject._support === 'function') {
                        supportPromise = driverObject._support();
                    } else {
                        supportPromise = Promise$1.resolve(!!driverObject._support);
                    }
                }

                supportPromise.then(function (supportResult) {
                    driverSupport[driverName] = supportResult;
                    CustomDrivers[driverName] = driverObject;
                    resolve();
                }, reject);
            } catch (e) {
                reject(e);
            }
        });

        executeTwoCallbacks(promise, callback, errorCallback);
        return promise;
    };

    LocalForage.prototype.driver = function driver() {
        return this._driver || null;
    };

    LocalForage.prototype.getDriver = function getDriver(driverName, callback, errorCallback) {
        var self = this;
        var getDriverPromise = Promise$1.resolve().then(function () {
            if (isLibraryDriver(driverName)) {
                switch (driverName) {
                    case self.INDEXEDDB:
                        return asyncStorage;
                    case self.LOCALSTORAGE:
                        return localStorageWrapper;
                    case self.WEBSQL:
                        return webSQLStorage;
                }
            } else if (CustomDrivers[driverName]) {
                return CustomDrivers[driverName];
            } else {
                throw new Error('Driver not found.');
            }
        });
        executeTwoCallbacks(getDriverPromise, callback, errorCallback);
        return getDriverPromise;
    };

    LocalForage.prototype.getSerializer = function getSerializer(callback) {
        var serializerPromise = Promise$1.resolve(localforageSerializer);
        executeTwoCallbacks(serializerPromise, callback);
        return serializerPromise;
    };

    LocalForage.prototype.ready = function ready(callback) {
        var self = this;

        var promise = self._driverSet.then(function () {
            if (self._ready === null) {
                self._ready = self._initDriver();
            }

            return self._ready;
        });

        executeTwoCallbacks(promise, callback, callback);
        return promise;
    };

    LocalForage.prototype.setDriver = function setDriver(drivers, callback, errorCallback) {
        var self = this;

        if (!isArray(drivers)) {
            drivers = [drivers];
        }

        var supportedDrivers = this._getSupportedDrivers(drivers);

        function setDriverToConfig() {
            self._config.driver = self.driver();
        }

        function extendSelfWithDriver(driver) {
            self._extend(driver);
            setDriverToConfig();

            self._ready = self._initStorage(self._config);
            return self._ready;
        }

        function initDriver(supportedDrivers) {
            return function () {
                var currentDriverIndex = 0;

                function driverPromiseLoop() {
                    while (currentDriverIndex < supportedDrivers.length) {
                        var driverName = supportedDrivers[currentDriverIndex];
                        currentDriverIndex++;

                        self._dbInfo = null;
                        self._ready = null;

                        return self.getDriver(driverName).then(extendSelfWithDriver)["catch"](driverPromiseLoop);
                    }

                    setDriverToConfig();
                    var error = new Error('No available storage method found.');
                    self._driverSet = Promise$1.reject(error);
                    return self._driverSet;
                }

                return driverPromiseLoop();
            };
        }

        // There might be a driver initialization in progress
        // so wait for it to finish in order to avoid a possible
        // race condition to set _dbInfo
        var oldDriverSetDone = this._driverSet !== null ? this._driverSet["catch"](function () {
            return Promise$1.resolve();
        }) : Promise$1.resolve();

        this._driverSet = oldDriverSetDone.then(function () {
            var driverName = supportedDrivers[0];
            self._dbInfo = null;
            self._ready = null;

            return self.getDriver(driverName).then(function (driver) {
                self._driver = driver._driver;
                setDriverToConfig();
                self._wrapLibraryMethodsWithReady();
                self._initDriver = initDriver(supportedDrivers);
            });
        })["catch"](function () {
            setDriverToConfig();
            var error = new Error('No available storage method found.');
            self._driverSet = Promise$1.reject(error);
            return self._driverSet;
        });

        executeTwoCallbacks(this._driverSet, callback, errorCallback);
        return this._driverSet;
    };

    LocalForage.prototype.supports = function supports(driverName) {
        return !!driverSupport[driverName];
    };

    LocalForage.prototype._extend = function _extend(libraryMethodsAndProperties) {
        extend(this, libraryMethodsAndProperties);
    };

    LocalForage.prototype._getSupportedDrivers = function _getSupportedDrivers(drivers) {
        var supportedDrivers = [];
        for (var i = 0, len = drivers.length; i < len; i++) {
            var driverName = drivers[i];
            if (this.supports(driverName)) {
                supportedDrivers.push(driverName);
            }
        }
        return supportedDrivers;
    };

    LocalForage.prototype._wrapLibraryMethodsWithReady = function _wrapLibraryMethodsWithReady() {
        // Add a stub for each driver API method that delays the call to the
        // corresponding driver method until localForage is ready. These stubs
        // will be replaced by the driver methods as soon as the driver is
        // loaded, so there is no performance impact.
        for (var i = 0; i < LibraryMethods.length; i++) {
            callWhenReady(this, LibraryMethods[i]);
        }
    };

    LocalForage.prototype.createInstance = function createInstance(options) {
        return new LocalForage(options);
    };

    return LocalForage;
}();

// The actual localForage object that we expose as a module or via a
// global. It's extended by pulling in one of our other libraries.


var localforage_js = new LocalForage();

module.exports = localforage_js;

},{"3":3}]},{},[4])(4)
});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],29:[function(require,module,exports){



/**
 * UTM zones are grouped, and assigned to one of a group of 6
 * sets.
 *
 * {int} @private
 */
var NUM_100K_SETS = 6;

/**
 * The column letters (for easting) of the lower left value, per
 * set.
 *
 * {string} @private
 */
var SET_ORIGIN_COLUMN_LETTERS = 'AJSAJS';

/**
 * The row letters (for northing) of the lower left value, per
 * set.
 *
 * {string} @private
 */
var SET_ORIGIN_ROW_LETTERS = 'AFAFAF';

var A = 65; // A
var I = 73; // I
var O = 79; // O
var V = 86; // V
var Z = 90; // Z

/**
 * Conversion of lat/lon to MGRS.
 *
 * @param {object} ll Object literal with lat and lon properties on a
 *     WGS84 ellipsoid.
 * @param {int} accuracy Accuracy in digits (5 for 1 m, 4 for 10 m, 3 for
 *      100 m, 2 for 1000 m or 1 for 10000 m). Optional, default is 5.
 * @return {string} the MGRS string for the given location and accuracy.
 */
exports.forward = function(ll, accuracy) {
  accuracy = accuracy || 5; // default accuracy 1m
  return encode(LLtoUTM({
    lat: ll[1],
    lon: ll[0]
  }), accuracy);
};

/**
 * Conversion of MGRS to lat/lon.
 *
 * @param {string} mgrs MGRS string.
 * @return {array} An array with left (longitude), bottom (latitude), right
 *     (longitude) and top (latitude) values in WGS84, representing the
 *     bounding box for the provided MGRS reference.
 */
exports.inverse = function(mgrs) {
  var bbox = UTMtoLL(decode(mgrs.toUpperCase()));
  if (bbox.lat && bbox.lon) {
    return [bbox.lon, bbox.lat, bbox.lon, bbox.lat];
  }
  return [bbox.left, bbox.bottom, bbox.right, bbox.top];
};

exports.toPoint = function(mgrs) {
  var bbox = UTMtoLL(decode(mgrs.toUpperCase()));
  if (bbox.lat && bbox.lon) {
    return [bbox.lon, bbox.lat];
  }
  return [(bbox.left + bbox.right) / 2, (bbox.top + bbox.bottom) / 2];
};
/**
 * Conversion from degrees to radians.
 *
 * @private
 * @param {number} deg the angle in degrees.
 * @return {number} the angle in radians.
 */
function degToRad(deg) {
  return (deg * (Math.PI / 180.0));
}

/**
 * Conversion from radians to degrees.
 *
 * @private
 * @param {number} rad the angle in radians.
 * @return {number} the angle in degrees.
 */
function radToDeg(rad) {
  return (180.0 * (rad / Math.PI));
}

/**
 * Converts a set of Longitude and Latitude co-ordinates to UTM
 * using the WGS84 ellipsoid.
 *
 * @private
 * @param {object} ll Object literal with lat and lon properties
 *     representing the WGS84 coordinate to be converted.
 * @return {object} Object literal containing the UTM value with easting,
 *     northing, zoneNumber and zoneLetter properties, and an optional
 *     accuracy property in digits. Returns null if the conversion failed.
 */
function LLtoUTM(ll) {
  var Lat = ll.lat;
  var Long = ll.lon;
  var a = 6378137.0; //ellip.radius;
  var eccSquared = 0.00669438; //ellip.eccsq;
  var k0 = 0.9996;
  var LongOrigin;
  var eccPrimeSquared;
  var N, T, C, A, M;
  var LatRad = degToRad(Lat);
  var LongRad = degToRad(Long);
  var LongOriginRad;
  var ZoneNumber;
  // (int)
  ZoneNumber = Math.floor((Long + 180) / 6) + 1;

  //Make sure the longitude 180.00 is in Zone 60
  if (Long === 180) {
    ZoneNumber = 60;
  }

  // Special zone for Norway
  if (Lat >= 56.0 && Lat < 64.0 && Long >= 3.0 && Long < 12.0) {
    ZoneNumber = 32;
  }

  // Special zones for Svalbard
  if (Lat >= 72.0 && Lat < 84.0) {
    if (Long >= 0.0 && Long < 9.0) {
      ZoneNumber = 31;
    }
    else if (Long >= 9.0 && Long < 21.0) {
      ZoneNumber = 33;
    }
    else if (Long >= 21.0 && Long < 33.0) {
      ZoneNumber = 35;
    }
    else if (Long >= 33.0 && Long < 42.0) {
      ZoneNumber = 37;
    }
  }

  LongOrigin = (ZoneNumber - 1) * 6 - 180 + 3; //+3 puts origin
  // in middle of
  // zone
  LongOriginRad = degToRad(LongOrigin);

  eccPrimeSquared = (eccSquared) / (1 - eccSquared);

  N = a / Math.sqrt(1 - eccSquared * Math.sin(LatRad) * Math.sin(LatRad));
  T = Math.tan(LatRad) * Math.tan(LatRad);
  C = eccPrimeSquared * Math.cos(LatRad) * Math.cos(LatRad);
  A = Math.cos(LatRad) * (LongRad - LongOriginRad);

  M = a * ((1 - eccSquared / 4 - 3 * eccSquared * eccSquared / 64 - 5 * eccSquared * eccSquared * eccSquared / 256) * LatRad - (3 * eccSquared / 8 + 3 * eccSquared * eccSquared / 32 + 45 * eccSquared * eccSquared * eccSquared / 1024) * Math.sin(2 * LatRad) + (15 * eccSquared * eccSquared / 256 + 45 * eccSquared * eccSquared * eccSquared / 1024) * Math.sin(4 * LatRad) - (35 * eccSquared * eccSquared * eccSquared / 3072) * Math.sin(6 * LatRad));

  var UTMEasting = (k0 * N * (A + (1 - T + C) * A * A * A / 6.0 + (5 - 18 * T + T * T + 72 * C - 58 * eccPrimeSquared) * A * A * A * A * A / 120.0) + 500000.0);

  var UTMNorthing = (k0 * (M + N * Math.tan(LatRad) * (A * A / 2 + (5 - T + 9 * C + 4 * C * C) * A * A * A * A / 24.0 + (61 - 58 * T + T * T + 600 * C - 330 * eccPrimeSquared) * A * A * A * A * A * A / 720.0)));
  if (Lat < 0.0) {
    UTMNorthing += 10000000.0; //10000000 meter offset for
    // southern hemisphere
  }

  return {
    northing: Math.round(UTMNorthing),
    easting: Math.round(UTMEasting),
    zoneNumber: ZoneNumber,
    zoneLetter: getLetterDesignator(Lat)
  };
}

/**
 * Converts UTM coords to lat/long, using the WGS84 ellipsoid. This is a convenience
 * class where the Zone can be specified as a single string eg."60N" which
 * is then broken down into the ZoneNumber and ZoneLetter.
 *
 * @private
 * @param {object} utm An object literal with northing, easting, zoneNumber
 *     and zoneLetter properties. If an optional accuracy property is
 *     provided (in meters), a bounding box will be returned instead of
 *     latitude and longitude.
 * @return {object} An object literal containing either lat and lon values
 *     (if no accuracy was provided), or top, right, bottom and left values
 *     for the bounding box calculated according to the provided accuracy.
 *     Returns null if the conversion failed.
 */
function UTMtoLL(utm) {

  var UTMNorthing = utm.northing;
  var UTMEasting = utm.easting;
  var zoneLetter = utm.zoneLetter;
  var zoneNumber = utm.zoneNumber;
  // check the ZoneNummber is valid
  if (zoneNumber < 0 || zoneNumber > 60) {
    return null;
  }

  var k0 = 0.9996;
  var a = 6378137.0; //ellip.radius;
  var eccSquared = 0.00669438; //ellip.eccsq;
  var eccPrimeSquared;
  var e1 = (1 - Math.sqrt(1 - eccSquared)) / (1 + Math.sqrt(1 - eccSquared));
  var N1, T1, C1, R1, D, M;
  var LongOrigin;
  var mu, phi1Rad;

  // remove 500,000 meter offset for longitude
  var x = UTMEasting - 500000.0;
  var y = UTMNorthing;

  // We must know somehow if we are in the Northern or Southern
  // hemisphere, this is the only time we use the letter So even
  // if the Zone letter isn't exactly correct it should indicate
  // the hemisphere correctly
  if (zoneLetter < 'N') {
    y -= 10000000.0; // remove 10,000,000 meter offset used
    // for southern hemisphere
  }

  // There are 60 zones with zone 1 being at West -180 to -174
  LongOrigin = (zoneNumber - 1) * 6 - 180 + 3; // +3 puts origin
  // in middle of
  // zone

  eccPrimeSquared = (eccSquared) / (1 - eccSquared);

  M = y / k0;
  mu = M / (a * (1 - eccSquared / 4 - 3 * eccSquared * eccSquared / 64 - 5 * eccSquared * eccSquared * eccSquared / 256));

  phi1Rad = mu + (3 * e1 / 2 - 27 * e1 * e1 * e1 / 32) * Math.sin(2 * mu) + (21 * e1 * e1 / 16 - 55 * e1 * e1 * e1 * e1 / 32) * Math.sin(4 * mu) + (151 * e1 * e1 * e1 / 96) * Math.sin(6 * mu);
  // double phi1 = ProjMath.radToDeg(phi1Rad);

  N1 = a / Math.sqrt(1 - eccSquared * Math.sin(phi1Rad) * Math.sin(phi1Rad));
  T1 = Math.tan(phi1Rad) * Math.tan(phi1Rad);
  C1 = eccPrimeSquared * Math.cos(phi1Rad) * Math.cos(phi1Rad);
  R1 = a * (1 - eccSquared) / Math.pow(1 - eccSquared * Math.sin(phi1Rad) * Math.sin(phi1Rad), 1.5);
  D = x / (N1 * k0);

  var lat = phi1Rad - (N1 * Math.tan(phi1Rad) / R1) * (D * D / 2 - (5 + 3 * T1 + 10 * C1 - 4 * C1 * C1 - 9 * eccPrimeSquared) * D * D * D * D / 24 + (61 + 90 * T1 + 298 * C1 + 45 * T1 * T1 - 252 * eccPrimeSquared - 3 * C1 * C1) * D * D * D * D * D * D / 720);
  lat = radToDeg(lat);

  var lon = (D - (1 + 2 * T1 + C1) * D * D * D / 6 + (5 - 2 * C1 + 28 * T1 - 3 * C1 * C1 + 8 * eccPrimeSquared + 24 * T1 * T1) * D * D * D * D * D / 120) / Math.cos(phi1Rad);
  lon = LongOrigin + radToDeg(lon);

  var result;
  if (utm.accuracy) {
    var topRight = UTMtoLL({
      northing: utm.northing + utm.accuracy,
      easting: utm.easting + utm.accuracy,
      zoneLetter: utm.zoneLetter,
      zoneNumber: utm.zoneNumber
    });
    result = {
      top: topRight.lat,
      right: topRight.lon,
      bottom: lat,
      left: lon
    };
  }
  else {
    result = {
      lat: lat,
      lon: lon
    };
  }
  return result;
}

/**
 * Calculates the MGRS letter designator for the given latitude.
 *
 * @private
 * @param {number} lat The latitude in WGS84 to get the letter designator
 *     for.
 * @return {char} The letter designator.
 */
function getLetterDesignator(lat) {
  //This is here as an error flag to show that the Latitude is
  //outside MGRS limits
  var LetterDesignator = 'Z';

  if ((84 >= lat) && (lat >= 72)) {
    LetterDesignator = 'X';
  }
  else if ((72 > lat) && (lat >= 64)) {
    LetterDesignator = 'W';
  }
  else if ((64 > lat) && (lat >= 56)) {
    LetterDesignator = 'V';
  }
  else if ((56 > lat) && (lat >= 48)) {
    LetterDesignator = 'U';
  }
  else if ((48 > lat) && (lat >= 40)) {
    LetterDesignator = 'T';
  }
  else if ((40 > lat) && (lat >= 32)) {
    LetterDesignator = 'S';
  }
  else if ((32 > lat) && (lat >= 24)) {
    LetterDesignator = 'R';
  }
  else if ((24 > lat) && (lat >= 16)) {
    LetterDesignator = 'Q';
  }
  else if ((16 > lat) && (lat >= 8)) {
    LetterDesignator = 'P';
  }
  else if ((8 > lat) && (lat >= 0)) {
    LetterDesignator = 'N';
  }
  else if ((0 > lat) && (lat >= -8)) {
    LetterDesignator = 'M';
  }
  else if ((-8 > lat) && (lat >= -16)) {
    LetterDesignator = 'L';
  }
  else if ((-16 > lat) && (lat >= -24)) {
    LetterDesignator = 'K';
  }
  else if ((-24 > lat) && (lat >= -32)) {
    LetterDesignator = 'J';
  }
  else if ((-32 > lat) && (lat >= -40)) {
    LetterDesignator = 'H';
  }
  else if ((-40 > lat) && (lat >= -48)) {
    LetterDesignator = 'G';
  }
  else if ((-48 > lat) && (lat >= -56)) {
    LetterDesignator = 'F';
  }
  else if ((-56 > lat) && (lat >= -64)) {
    LetterDesignator = 'E';
  }
  else if ((-64 > lat) && (lat >= -72)) {
    LetterDesignator = 'D';
  }
  else if ((-72 > lat) && (lat >= -80)) {
    LetterDesignator = 'C';
  }
  return LetterDesignator;
}

/**
 * Encodes a UTM location as MGRS string.
 *
 * @private
 * @param {object} utm An object literal with easting, northing,
 *     zoneLetter, zoneNumber
 * @param {number} accuracy Accuracy in digits (1-5).
 * @return {string} MGRS string for the given UTM location.
 */
function encode(utm, accuracy) {
  // prepend with leading zeroes
  var seasting = "00000" + utm.easting,
    snorthing = "00000" + utm.northing;

  return utm.zoneNumber + utm.zoneLetter + get100kID(utm.easting, utm.northing, utm.zoneNumber) + seasting.substr(seasting.length - 5, accuracy) + snorthing.substr(snorthing.length - 5, accuracy);
}

/**
 * Get the two letter 100k designator for a given UTM easting,
 * northing and zone number value.
 *
 * @private
 * @param {number} easting
 * @param {number} northing
 * @param {number} zoneNumber
 * @return the two letter 100k designator for the given UTM location.
 */
function get100kID(easting, northing, zoneNumber) {
  var setParm = get100kSetForZone(zoneNumber);
  var setColumn = Math.floor(easting / 100000);
  var setRow = Math.floor(northing / 100000) % 20;
  return getLetter100kID(setColumn, setRow, setParm);
}

/**
 * Given a UTM zone number, figure out the MGRS 100K set it is in.
 *
 * @private
 * @param {number} i An UTM zone number.
 * @return {number} the 100k set the UTM zone is in.
 */
function get100kSetForZone(i) {
  var setParm = i % NUM_100K_SETS;
  if (setParm === 0) {
    setParm = NUM_100K_SETS;
  }

  return setParm;
}

/**
 * Get the two-letter MGRS 100k designator given information
 * translated from the UTM northing, easting and zone number.
 *
 * @private
 * @param {number} column the column index as it relates to the MGRS
 *        100k set spreadsheet, created from the UTM easting.
 *        Values are 1-8.
 * @param {number} row the row index as it relates to the MGRS 100k set
 *        spreadsheet, created from the UTM northing value. Values
 *        are from 0-19.
 * @param {number} parm the set block, as it relates to the MGRS 100k set
 *        spreadsheet, created from the UTM zone. Values are from
 *        1-60.
 * @return two letter MGRS 100k code.
 */
function getLetter100kID(column, row, parm) {
  // colOrigin and rowOrigin are the letters at the origin of the set
  var index = parm - 1;
  var colOrigin = SET_ORIGIN_COLUMN_LETTERS.charCodeAt(index);
  var rowOrigin = SET_ORIGIN_ROW_LETTERS.charCodeAt(index);

  // colInt and rowInt are the letters to build to return
  var colInt = colOrigin + column - 1;
  var rowInt = rowOrigin + row;
  var rollover = false;

  if (colInt > Z) {
    colInt = colInt - Z + A - 1;
    rollover = true;
  }

  if (colInt === I || (colOrigin < I && colInt > I) || ((colInt > I || colOrigin < I) && rollover)) {
    colInt++;
  }

  if (colInt === O || (colOrigin < O && colInt > O) || ((colInt > O || colOrigin < O) && rollover)) {
    colInt++;

    if (colInt === I) {
      colInt++;
    }
  }

  if (colInt > Z) {
    colInt = colInt - Z + A - 1;
  }

  if (rowInt > V) {
    rowInt = rowInt - V + A - 1;
    rollover = true;
  }
  else {
    rollover = false;
  }

  if (((rowInt === I) || ((rowOrigin < I) && (rowInt > I))) || (((rowInt > I) || (rowOrigin < I)) && rollover)) {
    rowInt++;
  }

  if (((rowInt === O) || ((rowOrigin < O) && (rowInt > O))) || (((rowInt > O) || (rowOrigin < O)) && rollover)) {
    rowInt++;

    if (rowInt === I) {
      rowInt++;
    }
  }

  if (rowInt > V) {
    rowInt = rowInt - V + A - 1;
  }

  var twoLetter = String.fromCharCode(colInt) + String.fromCharCode(rowInt);
  return twoLetter;
}

/**
 * Decode the UTM parameters from a MGRS string.
 *
 * @private
 * @param {string} mgrsString an UPPERCASE coordinate string is expected.
 * @return {object} An object literal with easting, northing, zoneLetter,
 *     zoneNumber and accuracy (in meters) properties.
 */
function decode(mgrsString) {

  if (mgrsString && mgrsString.length === 0) {
    throw ("MGRSPoint coverting from nothing");
  }

  var length = mgrsString.length;

  var hunK = null;
  var sb = "";
  var testChar;
  var i = 0;

  // get Zone number
  while (!(/[A-Z]/).test(testChar = mgrsString.charAt(i))) {
    if (i >= 2) {
      throw ("MGRSPoint bad conversion from: " + mgrsString);
    }
    sb += testChar;
    i++;
  }

  var zoneNumber = parseInt(sb, 10);

  if (i === 0 || i + 3 > length) {
    // A good MGRS string has to be 4-5 digits long,
    // ##AAA/#AAA at least.
    throw ("MGRSPoint bad conversion from: " + mgrsString);
  }

  var zoneLetter = mgrsString.charAt(i++);

  // Should we check the zone letter here? Why not.
  if (zoneLetter <= 'A' || zoneLetter === 'B' || zoneLetter === 'Y' || zoneLetter >= 'Z' || zoneLetter === 'I' || zoneLetter === 'O') {
    throw ("MGRSPoint zone letter " + zoneLetter + " not handled: " + mgrsString);
  }

  hunK = mgrsString.substring(i, i += 2);

  var set = get100kSetForZone(zoneNumber);

  var east100k = getEastingFromChar(hunK.charAt(0), set);
  var north100k = getNorthingFromChar(hunK.charAt(1), set);

  // We have a bug where the northing may be 2000000 too low.
  // How
  // do we know when to roll over?

  while (north100k < getMinNorthing(zoneLetter)) {
    north100k += 2000000;
  }

  // calculate the char index for easting/northing separator
  var remainder = length - i;

  if (remainder % 2 !== 0) {
    throw ("MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters" + mgrsString);
  }

  var sep = remainder / 2;

  var sepEasting = 0.0;
  var sepNorthing = 0.0;
  var accuracyBonus, sepEastingString, sepNorthingString, easting, northing;
  if (sep > 0) {
    accuracyBonus = 100000.0 / Math.pow(10, sep);
    sepEastingString = mgrsString.substring(i, i + sep);
    sepEasting = parseFloat(sepEastingString) * accuracyBonus;
    sepNorthingString = mgrsString.substring(i + sep);
    sepNorthing = parseFloat(sepNorthingString) * accuracyBonus;
  }

  easting = sepEasting + east100k;
  northing = sepNorthing + north100k;

  return {
    easting: easting,
    northing: northing,
    zoneLetter: zoneLetter,
    zoneNumber: zoneNumber,
    accuracy: accuracyBonus
  };
}

/**
 * Given the first letter from a two-letter MGRS 100k zone, and given the
 * MGRS table set for the zone number, figure out the easting value that
 * should be added to the other, secondary easting value.
 *
 * @private
 * @param {char} e The first letter from a two-letter MGRS 100´k zone.
 * @param {number} set The MGRS table set for the zone number.
 * @return {number} The easting value for the given letter and set.
 */
function getEastingFromChar(e, set) {
  // colOrigin is the letter at the origin of the set for the
  // column
  var curCol = SET_ORIGIN_COLUMN_LETTERS.charCodeAt(set - 1);
  var eastingValue = 100000.0;
  var rewindMarker = false;

  while (curCol !== e.charCodeAt(0)) {
    curCol++;
    if (curCol === I) {
      curCol++;
    }
    if (curCol === O) {
      curCol++;
    }
    if (curCol > Z) {
      if (rewindMarker) {
        throw ("Bad character: " + e);
      }
      curCol = A;
      rewindMarker = true;
    }
    eastingValue += 100000.0;
  }

  return eastingValue;
}

/**
 * Given the second letter from a two-letter MGRS 100k zone, and given the
 * MGRS table set for the zone number, figure out the northing value that
 * should be added to the other, secondary northing value. You have to
 * remember that Northings are determined from the equator, and the vertical
 * cycle of letters mean a 2000000 additional northing meters. This happens
 * approx. every 18 degrees of latitude. This method does *NOT* count any
 * additional northings. You have to figure out how many 2000000 meters need
 * to be added for the zone letter of the MGRS coordinate.
 *
 * @private
 * @param {char} n Second letter of the MGRS 100k zone
 * @param {number} set The MGRS table set number, which is dependent on the
 *     UTM zone number.
 * @return {number} The northing value for the given letter and set.
 */
function getNorthingFromChar(n, set) {

  if (n > 'V') {
    throw ("MGRSPoint given invalid Northing " + n);
  }

  // rowOrigin is the letter at the origin of the set for the
  // column
  var curRow = SET_ORIGIN_ROW_LETTERS.charCodeAt(set - 1);
  var northingValue = 0.0;
  var rewindMarker = false;

  while (curRow !== n.charCodeAt(0)) {
    curRow++;
    if (curRow === I) {
      curRow++;
    }
    if (curRow === O) {
      curRow++;
    }
    // fixing a bug making whole application hang in this loop
    // when 'n' is a wrong character
    if (curRow > V) {
      if (rewindMarker) { // making sure that this loop ends
        throw ("Bad character: " + n);
      }
      curRow = A;
      rewindMarker = true;
    }
    northingValue += 100000.0;
  }

  return northingValue;
}

/**
 * The function getMinNorthing returns the minimum northing value of a MGRS
 * zone.
 *
 * Ported from Geotrans' c Lattitude_Band_Value structure table.
 *
 * @private
 * @param {char} zoneLetter The MGRS zone to get the min northing for.
 * @return {number}
 */
function getMinNorthing(zoneLetter) {
  var northing;
  switch (zoneLetter) {
  case 'C':
    northing = 1100000.0;
    break;
  case 'D':
    northing = 2000000.0;
    break;
  case 'E':
    northing = 2800000.0;
    break;
  case 'F':
    northing = 3700000.0;
    break;
  case 'G':
    northing = 4600000.0;
    break;
  case 'H':
    northing = 5500000.0;
    break;
  case 'J':
    northing = 6400000.0;
    break;
  case 'K':
    northing = 7300000.0;
    break;
  case 'L':
    northing = 8200000.0;
    break;
  case 'M':
    northing = 9100000.0;
    break;
  case 'N':
    northing = 0.0;
    break;
  case 'P':
    northing = 800000.0;
    break;
  case 'Q':
    northing = 1700000.0;
    break;
  case 'R':
    northing = 2600000.0;
    break;
  case 'S':
    northing = 3500000.0;
    break;
  case 'T':
    northing = 4400000.0;
    break;
  case 'U':
    northing = 5300000.0;
    break;
  case 'V':
    northing = 6200000.0;
    break;
  case 'W':
    northing = 7000000.0;
    break;
  case 'X':
    northing = 7900000.0;
    break;
  default:
    northing = -1.0;
  }
  if (northing >= 0.0) {
    return northing;
  }
  else {
    throw ("Invalid zone letter: " + zoneLetter);
  }

}

},{}],30:[function(require,module,exports){
// OpenLayers. See https://openlayers.org/
// License: https://raw.githubusercontent.com/openlayers/openlayers/master/LICENSE.md
// Version: v4.6.4
;(function (root, factory) {
  if (typeof exports === "object") {
    module.exports = factory();
  } else if (typeof define === "function" && define.amd) {
    define([], factory);
  } else {
    root.ol = factory();
  }
}(this, function () {
  var OPENLAYERS = {};
  var k,aa=this;function t(a,b){var c=OPENLAYERS;a=a.split(".");c=c||aa;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b};var ba,da;function w(a,b){a.prototype=Object.create(b.prototype);a.prototype.constructor=a}function ea(){}function x(a){return a.xp||(a.xp=++fa)}var fa=0;function ha(a){this.message="Assertion failed. See https://openlayers.org/en/v4.6.4/doc/errors/#"+a+" for details.";this.code=a;this.name="AssertionError"}w(ha,Error);function ja(a,b,c,d){this.fa=a;this.la=b;this.ea=c;this.ka=d}function ka(a,b,c,d,e){return void 0!==e?(e.fa=a,e.la=b,e.ea=c,e.ka=d,e):new ja(a,b,c,d)}function ma(a,b,c){return a.fa<=b&&b<=a.la&&a.ea<=c&&c<=a.ka}function na(a,b){return a.fa==b.fa&&a.ea==b.ea&&a.la==b.la&&a.ka==b.ka};function oa(a,b){if(!a)throw new ha(b);};function pa(a,b,c){return Math.min(Math.max(a,b),c)}var qa=function(){var a;"cosh"in Math?a=Math.cosh:a=function(a){a=Math.exp(a);return(a+1/a)/2};return a}();function ra(a){oa(0<a,29);return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function sa(a,b,c,d,e,f){var g=e-c,h=f-d;if(0!==g||0!==h){var l=((a-c)*g+(b-d)*h)/(g*g+h*h);1<l?(c=e,d=f):0<l&&(c+=g*l,d+=h*l)}return ua(a,b,c,d)}function ua(a,b,c,d){a=c-a;b=d-b;return a*a+b*b}function va(a){return a*Math.PI/180}
function wa(a,b){a%=b;return 0>a*b?a+b:a}function ya(a,b,c){return a+c*(b-a)};function za(a,b,c){void 0===c&&(c=[0,0]);c[0]=a[0]+2*b;c[1]=a[1]+2*b;return c}function Aa(a,b,c){void 0===c&&(c=[0,0]);c[0]=a[0]*b+.5|0;c[1]=a[1]*b+.5|0;return c}function Ba(a,b){if(Array.isArray(a))return a;void 0===b?b=[a,a]:b[0]=b[1]=a;return b};function Ca(a){for(var b=Da(),c=0,d=a.length;c<d;++c)Ea(b,a[c]);return b}function Fa(a,b,c){return c?(c[0]=a[0]-b,c[1]=a[1]-b,c[2]=a[2]+b,c[3]=a[3]+b,c):[a[0]-b,a[1]-b,a[2]+b,a[3]+b]}function Ga(a,b){return b?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b):a.slice()}function Ha(a,b,c){b=b<a[0]?a[0]-b:a[2]<b?b-a[2]:0;a=c<a[1]?a[1]-c:a[3]<c?c-a[3]:0;return b*b+a*a}function Ja(a,b){return Ka(a,b[0],b[1])}function La(a,b){return a[0]<=b[0]&&b[2]<=a[2]&&a[1]<=b[1]&&b[3]<=a[3]}
function Ka(a,b,c){return a[0]<=b&&b<=a[2]&&a[1]<=c&&c<=a[3]}function Ma(a,b){var c=a[1],d=a[2],e=a[3],f=b[0];b=b[1];var g=0;f<a[0]?g|=16:f>d&&(g|=4);b<c?g|=8:b>e&&(g|=2);0===g&&(g=1);return g}function Da(){return[Infinity,Infinity,-Infinity,-Infinity]}function Na(a,b,c,d,e){return e?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}function Oa(a){return Na(Infinity,Infinity,-Infinity,-Infinity,a)}function Pa(a,b){var c=a[0];a=a[1];return Na(c,a,c,a,b)}
function Qa(a,b,c,d,e){e=Oa(e);return Ra(e,a,b,c,d)}function Sa(a,b){return a[0]==b[0]&&a[2]==b[2]&&a[1]==b[1]&&a[3]==b[3]}function Ta(a,b){b[0]<a[0]&&(a[0]=b[0]);b[2]>a[2]&&(a[2]=b[2]);b[1]<a[1]&&(a[1]=b[1]);b[3]>a[3]&&(a[3]=b[3]);return a}function Ea(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])}
function Ra(a,b,c,d,e){for(;c<d;c+=e){var f=a,g=b[c],h=b[c+1];f[0]=Math.min(f[0],g);f[1]=Math.min(f[1],h);f[2]=Math.max(f[2],g);f[3]=Math.max(f[3],h)}return a}function Ua(a,b,c){var d;return(d=b.call(c,Wa(a)))||(d=b.call(c,Ya(a)))||(d=b.call(c,Za(a)))?d:(d=b.call(c,$a(a)))?d:!1}function ab(a){var b=0;bb(a)||(b=cb(a)*db(a));return b}function Wa(a){return[a[0],a[1]]}function Ya(a){return[a[2],a[1]]}function eb(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}
function fb(a,b,c,d,e){var f=b*d[0]/2;d=b*d[1]/2;b=Math.cos(c);var g=Math.sin(c);c=f*b;f*=g;b*=d;var h=d*g,l=a[0],m=a[1];a=l-c+h;d=l-c-h;g=l+c-h;c=l+c+h;h=m-f-b;l=m-f+b;var n=m+f+b;f=m+f-b;return Na(Math.min(a,d,g,c),Math.min(h,l,n,f),Math.max(a,d,g,c),Math.max(h,l,n,f),e)}function db(a){return a[3]-a[1]}function gb(a,b,c){c=c?c:Da();hb(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]);return c}function $a(a){return[a[0],a[3]]}
function Za(a){return[a[2],a[3]]}function cb(a){return a[2]-a[0]}function hb(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]}function bb(a){return a[2]<a[0]||a[3]<a[1]}function ib(a,b){var c=(a[2]-a[0])/2*(b-1);b=(a[3]-a[1])/2*(b-1);a[0]-=c;a[2]+=c;a[1]-=b;a[3]+=b}
function jb(a,b,c){a=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(a,a,2);var d=[a[0],a[2],a[4],a[6]],e=[a[1],a[3],a[5],a[7]];b=Math.min.apply(null,d);a=Math.min.apply(null,e);d=Math.max.apply(null,d);e=Math.max.apply(null,e);return Na(b,a,d,e,c)};var kb="function"===typeof Object.assign?Object.assign:function(a,b){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),d=1,e=arguments.length;d<e;++d){var f=arguments[d];if(void 0!==f&&null!==f)for(var g in f)f.hasOwnProperty(g)&&(c[g]=f[g])}return c};function lb(a){for(var b in a)delete a[b]}function mb(a){var b=[],c;for(c in a)b.push(a[c]);return b}function nb(a){for(var b in a)return!1;return!b};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licensed under CC-BY-3.0.
*/
function ob(a){this.radius=a}ob.prototype.a=function(a){return pb(a,this.radius)};ob.prototype.b=function(a,b){return qb(a,b,this.radius)};ob.prototype.offset=function(a,b,c){var d=va(a[1]);b/=this.radius;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[180*(va(a[0])+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e)))/Math.PI,180*e/Math.PI]};
function rb(a,b){var c=b||{},d=c.radius||6371008.8;c=c.projection||"EPSG:3857";a=a.clone().mb(c,"EPSG:4326");var e=a.S();c=0;var f;switch(e){case "Point":case "MultiPoint":break;case "LineString":case "LinearRing":b=a.W();c=sb(b,d);break;case "MultiLineString":case "Polygon":b=a.W();a=0;for(e=b.length;a<e;++a)c+=sb(b[a],d);break;case "MultiPolygon":b=a.W();a=0;for(e=b.length;a<e;++a){var g=b[a];var h=0;for(f=g.length;h<f;++h)c+=sb(g[h],d)}break;case "GeometryCollection":d=a.vd();a=0;for(e=d.length;a<
e;++a)c+=rb(d[a],b);break;default:throw Error("Unsupported geometry type: "+e);}return c}function sb(a,b){for(var c=0,d=0,e=a.length;d<e-1;++d)c+=qb(a[d],a[d+1],b);return c}function qb(a,b,c){var d=va(a[1]),e=va(b[1]),f=(e-d)/2;a=va(b[0]-a[0])/2;d=Math.sin(f)*Math.sin(f)+Math.sin(a)*Math.sin(a)*Math.cos(d)*Math.cos(e);return 2*c*Math.atan2(Math.sqrt(d),Math.sqrt(1-d))}
function tb(a,b){var c=b||{},d=c.radius||6371008.8;c=c.projection||"EPSG:3857";a=a.clone().mb(c,"EPSG:4326");var e=a.S();c=0;var f;switch(e){case "Point":case "MultiPoint":case "LineString":case "MultiLineString":case "LinearRing":break;case "Polygon":b=a.W();c=Math.abs(pb(b[0],d));a=1;for(e=b.length;a<e;++a)c-=Math.abs(pb(b[a],d));break;case "MultiPolygon":b=a.W();a=0;for(e=b.length;a<e;++a){var g=b[a];c+=Math.abs(pb(g[0],d));var h=1;for(f=g.length;h<f;++h)c-=Math.abs(pb(g[h],d))}break;case "GeometryCollection":d=
a.vd();a=0;for(e=d.length;a<e;++a)c+=tb(d[a],b);break;default:throw Error("Unsupported geometry type: "+e);}return c}function pb(a,b){for(var c=0,d=a.length,e=a[d-1][0],f=a[d-1][1],g=0;g<d;g++){var h=a[g][0],l=a[g][1];c+=va(h-e)*(2+Math.sin(va(f))+Math.sin(va(l)));e=h;f=l}return c*b*b/2};var ub={};ub.degrees=12741994*Math.PI/360;ub.ft=.3048;ub.m=1;ub["us-ft"]=1200/3937;var vb=null;function wb(a){this.wb=a.code;this.a=a.units;this.i=void 0!==a.extent?a.extent:null;this.oe=void 0!==a.worldExtent?a.worldExtent:null;this.b=void 0!==a.axisOrientation?a.axisOrientation:"enu";this.c=void 0!==a.global?a.global:!1;this.g=!(!this.c||!this.i);this.j=a.getPointResolution;this.f=null;this.l=a.metersPerUnit;var b=a.code,c=vb||window.proj4;"function"==typeof c&&(b=c.defs(b),void 0!==b&&(void 0!==b.axis&&void 0===a.axisOrientation&&(this.b=b.axis),void 0===a.metersPerUnit&&(this.l=b.to_meter),
void 0===a.units&&(this.a=b.units)))}k=wb.prototype;k.ml=function(){return this.wb};k.G=function(){return this.i};k.zo=function(){return this.a};k.Bc=function(){return this.l||ub[this.a]};k.Vl=function(){return this.oe};k.il=function(){return this.b};k.Gm=function(){return this.c};k.xq=function(a){this.c=a;this.g=!(!a||!this.i)};k.Si=function(a){this.i=a;this.g=!(!this.c||!a)};k.Sj=function(a){this.oe=a};k.wq=function(a){this.j=a};function xb(a){wb.call(this,{code:a,units:"m",extent:yb,global:!0,worldExtent:zb,getPointResolution:function(a,c){return a/qa(c[1]/6378137)}})}w(xb,wb);var Ab=6378137*Math.PI,yb=[-Ab,-Ab,Ab,Ab],zb=[-180,-85,180,85],Bb=[new xb("EPSG:3857"),new xb("EPSG:102100"),new xb("EPSG:102113"),new xb("EPSG:900913"),new xb("urn:ogc:def:crs:EPSG:6.18:3:3857"),new xb("urn:ogc:def:crs:EPSG::3857"),new xb("http://www.opengis.net/gml/srs/epsg.xml#3857")];
function Cb(a,b,c){var d=a.length;c=1<c?c:2;void 0===b&&(2<c?b=a.slice():b=Array(d));for(var e=0;e<d;e+=c){b[e]=Ab*a[e]/180;var f=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));f>Ab?f=Ab:f<-Ab&&(f=-Ab);b[e+1]=f}return b}function Db(a,b,c){var d=a.length;c=1<c?c:2;void 0===b&&(2<c?b=a.slice():b=Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/Ab,b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b};function Eb(a,b){wb.call(this,{code:a,units:"degrees",extent:Fb,axisOrientation:b,global:!0,metersPerUnit:Gb,worldExtent:Fb})}w(Eb,wb);var Fb=[-180,-90,180,90],Gb=6378137*Math.PI/180,Hb=[new Eb("CRS:84"),new Eb("EPSG:4326","neu"),new Eb("urn:ogc:def:crs:EPSG::4326","neu"),new Eb("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Eb("urn:ogc:def:crs:OGC:1.3:CRS84"),new Eb("urn:ogc:def:crs:OGC:2:84"),new Eb("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Eb("urn:x-ogc:def:crs:EPSG:4326","neu")];var Ib={};var Jb={};function Kb(a,b,c){a=a.wb;b=b.wb;a in Jb||(Jb[a]={});Jb[a][b]=c}function Lb(a,b){var c;a in Jb&&b in Jb[a]&&(c=Jb[a][b]);return c};var Mb=new ob(6371008.8);function Nb(a,b,c,d){a=Ob(a);var e=a.j;e?b=e(b,c):"degrees"==a.a&&!d||"degrees"==d||(e=Pb(a,Ob("EPSG:4326")),b=[c[0]-b/2,c[1],c[0]+b/2,c[1],c[0],c[1]-b/2,c[0],c[1]+b/2],b=e(b,b,2),b=(Mb.b(b.slice(0,2),b.slice(2,4))+Mb.b(b.slice(4,6),b.slice(6,8)))/2,a=d?ub[d]:a.Bc(),void 0!==a&&(b/=a));return b}function Qb(a){a.forEach(Rb);a.forEach(function(b){a.forEach(function(a){b!==a&&Kb(b,a,Sb)})})}
function Tb(){Hb.forEach(function(a){Bb.forEach(function(b){Kb(a,b,Cb);Kb(b,a,Db)})})}function Rb(a){Ib[a.wb]=a;Kb(a,a,Sb)}function Ub(a){return a?"string"===typeof a?Ob(a):a:Ob("EPSG:3857")}function Vb(a,b,c,d){a=Ob(a);b=Ob(b);Kb(a,b,Wb(c));Kb(b,a,Wb(d))}function Wb(a){return function(b,c,d){var e=b.length;d=void 0!==d?d:2;c=void 0!==c?c:Array(e);var f;for(f=0;f<e;f+=d){var g=a([b[f],b[f+1]]);c[f]=g[0];c[f+1]=g[1];for(g=d-1;2<=g;--g)c[f+g]=b[f+g]}return c}}
function Ob(a){var b=null;if(a instanceof wb)b=a;else if("string"===typeof a&&(b=Ib[a]||null,!b)){var c=vb||window.proj4;"function"==typeof c&&void 0!==c.defs(a)&&(b=new wb({code:a}),Rb(b))}return b}function Xb(a,b){if(a===b)return!0;var c=a.a===b.a;return a.wb===b.wb?c:Pb(a,b)===Sb&&c}function Yb(a,b){a=Ob(a);b=Ob(b);return Pb(a,b)}
function Pb(a,b){var c=a.wb,d=b.wb,e=Lb(c,d);if(!e){var f=vb||window.proj4;if("function"==typeof f){var g=f.defs(c),h=f.defs(d);void 0!==g&&void 0!==h&&(g===h?Qb([b,a]):(e=f(d,c),Vb(b,a,e.forward,e.inverse)),e=Lb(c,d))}}e||(e=$b);return e}function $b(a,b){if(void 0!==b&&a!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}function Sb(a,b){if(void 0!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}else a=a.slice();return a}function ac(a,b,c){return Yb(b,c)(a,void 0,a.length)}
function bc(a,b,c){b=Yb(b,c);return jb(a,b)}function cc(){Qb(Bb);Qb(Hb);Tb()}cc();function dc(a,b){return a>b?1:a<b?-1:0}function ec(a,b){return 0<=a.indexOf(b)}function fc(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(0<c)for(c=1;c<d;++c){if(a[c]<b)return c-1}else if(0>c)for(c=1;c<d;++c){if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1}function gc(a,b){var c=Array.isArray(b)?b:[b],d=c.length;for(b=0;b<d;b++)a[a.length]=c[b]}
function hc(a,b){for(var c=a.length>>>0,d,e=0;e<c;e++)if(d=a[e],b(d,e,a))return d;return null}function jc(a,b){var c=a.length;if(c!==b.length)return!1;for(var d=0;d<c;d++)if(a[d]!==b[d])return!1;return!0}function kc(a){var b=lc,c=a.length,d=Array(a.length),e;for(e=0;e<c;e++)d[e]={index:e,value:a[e]};d.sort(function(a,c){return b(a.value,c.value)||a.index-c.index});for(e=0;e<a.length;e++)a[e]=d[e].value}function mc(a,b){var c;return a.every(function(d,e){c=e;return!b(d,e,a)})?-1:c}
function nc(a,b){var c=b||dc;return a.every(function(b,e){if(0===e)return!0;b=c(a[e-1],b);return!(0<b||0===b)})};function oc(a,b,c,d){return void 0!==d?(d[0]=a,d[1]=b,d[2]=c,d):[a,b,c]}function pc(a){var b=a[0],c=Array(b),d=1<<b-1,e;for(e=0;e<b;++e){var f=48;a[1]&d&&(f+=1);a[2]&d&&(f+=2);c[e]=String.fromCharCode(f);d>>=1}return c.join("")};function qc(a){this.minZoom=void 0!==a.minZoom?a.minZoom:0;this.b=a.resolutions;oa(nc(this.b,function(a,b){return b-a}),17);if(!a.origins)for(var b=0,c=this.b.length-1;b<c;++b)if(!d)var d=this.b[b]/this.b[b+1];else if(this.b[b]/this.b[b+1]!==d){d=void 0;break}this.l=d;this.maxZoom=this.b.length-1;this.g=void 0!==a.origin?a.origin:null;this.c=null;void 0!==a.origins&&(this.c=a.origins,oa(this.c.length==this.b.length,20));d=a.extent;void 0===d||this.g||this.c||(this.g=$a(d));oa(!this.g&&this.c||this.g&&
!this.c,18);this.i=null;void 0!==a.tileSizes&&(this.i=a.tileSizes,oa(this.i.length==this.b.length,19));this.j=void 0!==a.tileSize?a.tileSize:this.i?null:256;oa(!this.j&&this.i||this.j&&!this.i,22);this.o=void 0!==d?d:null;this.a=null;this.f=[0,0];void 0!==a.sizes?this.a=a.sizes.map(function(a){return new ja(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1))},this):d&&rc(this,d)}var sc=[0,0,0];k=qc.prototype;
k.Vf=function(a,b,c){a=tc(this,a,b);for(var d=a.fa,e=a.la;d<=e;++d)for(var f=a.ea,g=a.ka;f<=g;++f)c([b,d,f])};function uc(a,b,c,d,e){var f=null,g=b[0]-1;if(2===a.l){var h=b[1];var l=b[2]}else f=a.Ma(b,e);for(;g>=a.minZoom;){2===a.l?(h=Math.floor(h/2),l=Math.floor(l/2),b=ka(h,h,l,l,d)):b=tc(a,f,g,d);if(c.call(null,g,b))return!0;--g}return!1}k.G=function(){return this.o};k.mj=function(){return this.maxZoom};k.nj=function(){return this.minZoom};k.Ic=function(a){return this.g?this.g:this.c[a]};k.Ta=function(a){return this.b[a]};
k.oj=function(){return this.b};function vc(a,b,c,d){if(b[0]<a.maxZoom){if(2===a.l)return a=2*b[1],b=2*b[2],ka(a,a+1,b,b+1,c);d=a.Ma(b,d);return tc(a,d,b[0]+1,c)}return null}function wc(a,b,c){var d=a.Ic(b),e=a.Ta(b);a=Ba(a.Za(b),a.f);return Na(d[0]+c.fa*a[0]*e,d[1]+c.ea*a[1]*e,d[0]+(c.la+1)*a[0]*e,d[1]+(c.ka+1)*a[1]*e,void 0)}function tc(a,b,c,d){xc(a,b[0],b[1],c,!1,sc);var e=sc[1],f=sc[2];xc(a,b[2],b[3],c,!0,sc);return ka(e,sc[1],f,sc[2],d)}
function yc(a,b){var c=a.Ic(b[0]),d=a.Ta(b[0]);a=Ba(a.Za(b[0]),a.f);return[c[0]+(b[1]+.5)*a[0]*d,c[1]+(b[2]+.5)*a[1]*d]}k.Ma=function(a,b){var c=this.Ic(a[0]),d=this.Ta(a[0]),e=Ba(this.Za(a[0]),this.f),f=c[0]+a[1]*e[0]*d;a=c[1]+a[2]*e[1]*d;return Na(f,a,f+e[0]*d,a+e[1]*d,b)};
k.Le=function(a,b,c){var d=a[0],e=a[1];a=this.Dc(b);var f=b/this.Ta(a),g=this.Ic(a),h=Ba(this.Za(a),this.f);d=f*Math.floor((d-g[0])/b+0)/h[0];b=f*Math.floor((e-g[1])/b+.5)/h[1];d=Math.floor(d);b=Math.floor(b);return oc(a,d,b,c)};function xc(a,b,c,d,e,f){var g=a.Ic(d),h=a.Ta(d);a=Ba(a.Za(d),a.f);b=Math.floor((b-g[0])/h+(e?.5:0))/a[0];c=Math.floor((c-g[1])/h+(e?0:.5))/a[1];e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c));return oc(d,b,c,f)}
k.jg=function(a,b,c){return xc(this,a[0],a[1],b,!1,c)};k.Za=function(a){return this.j?this.j:this.i[a]};k.Dc=function(a,b){return pa(fc(this.b,a,b||0),this.minZoom,this.maxZoom)};function rc(a,b){for(var c=a.b.length,d=Array(c),e=a.minZoom;e<c;++e)d[e]=tc(a,b,e);a.a=d};function zc(a){var b=a.f;b||(b=Ac(a),a.f=b);return b}function Bc(a){var b={};kb(b,void 0!==a?a:{});void 0===b.extent&&(b.extent=Ob("EPSG:3857").G());b.resolutions=Cc(b.extent,b.maxZoom,b.tileSize);delete b.maxZoom;return new qc(b)}function Cc(a,b,c){b=void 0!==b?b:42;var d=db(a);a=cb(a);c=Ba(void 0!==c?c:256);c=Math.max(a/c[0],d/c[1]);b+=1;d=Array(b);for(a=0;a<b;++a)d[a]=c/Math.pow(2,a);return d}
function Ac(a,b,c){a=Dc(a);b=Cc(a,b,c);return new qc({extent:a,origin:$a(a),resolutions:b,tileSize:c})}function Dc(a){a=Ob(a);var b=a.G();b||(a=180*ub.degrees/a.Bc(),b=Na(-a,-a,a,a));return b};function Ec(a){this.og=a.html}Ec.prototype.b=function(){return this.og};function Fc(a){function b(b){var c=a.listener,e=a.Ch||a.target;a.Eh&&Gc(a);return c.call(e,b)}return a.Dh=b}function Hc(a,b,c,d){for(var e,f=0,g=a.length;f<g;++f)if(e=a[f],e.listener===b&&e.Ch===c)return d&&(e.deleteIndex=f),e}function Ic(a,b){return(a=a.ab)?a[b]:void 0}function Jc(a){var b=a.ab;b||(b=a.ab={});return b}
function Kc(a,b){var c=Ic(a,b);if(c){for(var d=0,e=c.length;d<e;++d)a.removeEventListener(b,c[d].Dh),lb(c[d]);c.length=0;if(c=a.ab)delete c[b],0===Object.keys(c).length&&delete a.ab}}function y(a,b,c,d,e){var f=Jc(a),g=f[b];g||(g=f[b]=[]);(f=Hc(g,c,d,!1))?e||(f.Eh=!1):(f={Ch:d,Eh:!!e,listener:c,target:a,type:b},a.addEventListener(b,Fc(f)),g.push(f));return f}function Lc(a,b,c,d){return y(a,b,c,d,!0)}function Mc(a,b,c,d){(a=Ic(a,b))&&(c=Hc(a,c,d,!0))&&Gc(c)}
function Gc(a){if(a&&a.target){a.target.removeEventListener(a.type,a.Dh);var b=Ic(a.target,a.type);if(b){var c="deleteIndex"in a?a.deleteIndex:b.indexOf(a);-1!==c&&b.splice(c,1);0===b.length&&Kc(a.target,a.type)}lb(a)}}function Nc(a){var b=Jc(a),c;for(c in b)Kc(a,c)};function Oc(){}Oc.prototype.Ub=!1;function Pc(a){a.Ub||(a.Ub=!0,a.ia())}Oc.prototype.ia=ea;function Qc(a){this.type=a;this.target=null}Qc.prototype.preventDefault=Qc.prototype.stopPropagation=function(){this.sj=!0};function Rc(a){a.stopPropagation()};function Sc(){this.Wa={};this.qa={};this.oa={}}w(Sc,Oc);Sc.prototype.addEventListener=function(a,b){var c=this.oa[a];c||(c=this.oa[a]=[]);-1===c.indexOf(b)&&c.push(b)};
Sc.prototype.b=function(a){var b="string"===typeof a?new Qc(a):a;a=b.type;b.target=this;var c=this.oa[a];if(c){a in this.qa||(this.qa[a]=0,this.Wa[a]=0);++this.qa[a];for(var d=0,e=c.length;d<e;++d)if(!1===c[d].call(this,b)||b.sj){var f=!1;break}--this.qa[a];if(0===this.qa[a]){b=this.Wa[a];for(delete this.Wa[a];b--;)this.removeEventListener(a,ea);delete this.qa[a]}return f}};Sc.prototype.ia=function(){Nc(this)};function Tc(a,b){return b?b in a.oa:0<Object.keys(a.oa).length}
Sc.prototype.removeEventListener=function(a,b){var c=this.oa[a];c&&(b=c.indexOf(b),a in this.Wa?(c[b]=ea,++this.Wa[a]):(c.splice(b,1),0===c.length&&delete this.oa[a]))};function Uc(){Sc.call(this);this.g=0}w(Uc,Sc);k=Uc.prototype;k.u=function(){++this.g;this.b("change")};k.K=function(){return this.g};k.I=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,e=Array(d),f=0;f<d;++f)e[f]=y(this,a[f],b,c);return e}return y(this,a,b,c)};k.once=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,e=Array(d),f=0;f<d;++f)e[f]=Lc(this,a[f],b,c);return e}return Lc(this,a,b,c)};
k.J=function(a,b,c){if(Array.isArray(a))for(var d=0,e=a.length;d<e;++d)Mc(this,a[d],b,c);else Mc(this,a,b,c)};function Vc(a){Uc.call(this);x(this);this.N={};void 0!==a&&this.H(a)}w(Vc,Uc);var Wc={};function Xc(a){return Wc.hasOwnProperty(a)?Wc[a]:Wc[a]="change:"+a}k=Vc.prototype;k.get=function(a){var b;this.N.hasOwnProperty(a)&&(b=this.N[a]);return b};k.P=function(){return Object.keys(this.N)};k.L=function(){return kb({},this.N)};function Yc(a,b,c){var d=Xc(b);a.b(new Zc(d,b,c));a.b(new Zc("propertychange",b,c))}k.set=function(a,b,c){c?this.N[a]=b:(c=this.N[a],this.N[a]=b,c!==b&&Yc(this,a,c))};
k.H=function(a,b){for(var c in a)this.set(c,a[c],b)};k.R=function(a,b){if(a in this.N){var c=this.N[a];delete this.N[a];b||Yc(this,a,c)}};function Zc(a,b,c){Qc.call(this,a);this.key=b;this.oldValue=c}w(Zc,Qc);function B(a,b){Vc.call(this);this.c=!!(b||{}).unique;this.a=a?a:[];if(this.c)for(a=0,b=this.a.length;a<b;++a)$c(this,this.a[a],a);ad(this)}w(B,Vc);k=B.prototype;k.clear=function(){for(;0<this.kc();)this.pop()};k.qg=function(a){var b;var c=0;for(b=a.length;c<b;++c)this.push(a[c]);return this};k.forEach=function(a,b){a=b?a.bind(b):a;b=this.a;for(var c=0,d=b.length;c<d;++c)a(b[c],c,b)};k.Xm=function(){return this.a};k.item=function(a){return this.a[a]};k.kc=function(){return this.get(bd)};
k.Re=function(a,b){this.c&&$c(this,b);this.a.splice(a,0,b);ad(this);this.b(new cd("add",b))};k.pop=function(){return this.Wg(this.kc()-1)};k.push=function(a){this.c&&$c(this,a);var b=this.kc();this.Re(b,a);return this.kc()};k.remove=function(a){var b=this.a,c;var d=0;for(c=b.length;d<c;++d)if(b[d]===a)return this.Wg(d)};k.Wg=function(a){var b=this.a[a];this.a.splice(a,1);ad(this);this.b(new cd("remove",b));return b};
k.rq=function(a,b){var c=this.kc();if(a<c)this.c&&$c(this,b,a),c=this.a[a],this.a[a]=b,this.b(new cd("remove",c)),this.b(new cd("add",b));else{for(;c<a;++c)this.Re(c,void 0);this.Re(a,b)}};function ad(a){a.set(bd,a.a.length)}function $c(a,b,c){for(var d=0,e=a.a.length;d<e;++d)if(a.a[d]===b&&d!==c)throw new ha(58);}var bd="length";function cd(a,b){Qc.call(this,a);this.element=b}w(cd,Qc);function dd(a,b,c){Qc.call(this,a);this.map=b;this.frameState=void 0!==c?c:null}w(dd,Qc);function ed(a,b,c,d,e){dd.call(this,a,b,e);this.originalEvent=c;this.pixel=b.ud(c);this.coordinate=b.Ra(this.pixel);this.dragging=void 0!==d?d:!1}w(ed,dd);ed.prototype.preventDefault=function(){dd.prototype.preventDefault.call(this);this.originalEvent.preventDefault()};ed.prototype.stopPropagation=function(){dd.prototype.stopPropagation.call(this);this.originalEvent.stopPropagation()};var fd=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function gd(a,b){var c,d,e=fd.length;for(d=0;d<e;++d)try{if(c=a.getContext(fd[d],b))return c}catch(f){}return null};var hd,id="undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"",jd=-1!==id.indexOf("firefox"),kd=-1!==id.indexOf("safari")&&-1==id.indexOf("chrom"),ld=-1!==id.indexOf("webkit")&&-1==id.indexOf("edge"),md=-1!==id.indexOf("macintosh"),nd=window.devicePixelRatio||1,od=!1,pd=function(){if(!("HTMLCanvasElement"in window))return!1;try{var a=document.createElement("CANVAS").getContext("2d");return a?(void 0!==a.setLineDash&&(od=!0),!0):!1}catch(b){return!1}}(),qd="DeviceOrientationEvent"in
window,rd="geolocation"in navigator,sd="ontouchstart"in window,td="PointerEvent"in window,ud=!!navigator.msPointerEnabled,vd=!1,wd,xd=[];if("WebGLRenderingContext"in window)try{var yd=gd(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});yd&&(vd=!0,wd=yd.getParameter(yd.MAX_TEXTURE_SIZE),xd=yd.getSupportedExtensions())}catch(a){}hd=vd;da=xd;ba=wd;var zd={gr:"singleclick",Wq:"click",Xq:"dblclick",$q:"pointerdrag",cr:"pointermove",Zq:"pointerdown",fr:"pointerup",er:"pointerover",dr:"pointerout",ar:"pointerenter",br:"pointerleave",Yq:"pointercancel"};function Ad(a,b,c,d,e){ed.call(this,a,b,c.b,d,e);this.b=c}w(Ad,ed);function Bd(a,b){this.b=a;this.i=b};function Cd(a){Bd.call(this,a,{mousedown:this.Jm,mousemove:this.Km,mouseup:this.Nm,mouseover:this.Mm,mouseout:this.Lm});this.a=a.g;this.g=[]}w(Cd,Bd);function Dd(a,b){a=a.g;var c=b.clientX;b=b.clientY;for(var d=0,e=a.length,f;d<e&&(f=a[d]);d++){var g=Math.abs(b-f[1]);if(25>=Math.abs(c-f[0])&&25>=g)return!0}return!1}function Ed(a){var b=Fd(a,a),c=b.preventDefault;b.preventDefault=function(){a.preventDefault();c()};b.pointerId=1;b.isPrimary=!0;b.pointerType="mouse";return b}k=Cd.prototype;
k.Jm=function(a){if(!Dd(this,a)){(1).toString()in this.a&&this.cancel(a);var b=Ed(a);this.a[(1).toString()]=a;Gd(this.b,"pointerdown",b,a)}};k.Km=function(a){if(!Dd(this,a)){var b=Ed(a);Gd(this.b,"pointermove",b,a)}};k.Nm=function(a){if(!Dd(this,a)){var b=this.a[(1).toString()];b&&b.button===a.button&&(b=Ed(a),Gd(this.b,"pointerup",b,a),delete this.a[(1).toString()])}};k.Mm=function(a){if(!Dd(this,a)){var b=Ed(a);Hd(this.b,b,a)}};k.Lm=function(a){if(!Dd(this,a)){var b=Ed(a);Jd(this.b,b,a)}};
k.cancel=function(a){var b=Ed(a);this.b.cancel(b,a);delete this.a[(1).toString()]};function Kd(a){Bd.call(this,a,{MSPointerDown:this.Sm,MSPointerMove:this.Tm,MSPointerUp:this.Wm,MSPointerOut:this.Um,MSPointerOver:this.Vm,MSPointerCancel:this.Rm,MSGotPointerCapture:this.Pm,MSLostPointerCapture:this.Qm});this.a=a.g;this.g=["","unavailable","touch","pen","mouse"]}w(Kd,Bd);function Ld(a,b){var c=b;"number"===typeof b.pointerType&&(c=Fd(b,b),c.pointerType=a.g[b.pointerType]);return c}k=Kd.prototype;
k.Sm=function(a){this.a[a.pointerId.toString()]=a;var b=Ld(this,a);Gd(this.b,"pointerdown",b,a)};k.Tm=function(a){var b=Ld(this,a);Gd(this.b,"pointermove",b,a)};k.Wm=function(a){var b=Ld(this,a);Gd(this.b,"pointerup",b,a);delete this.a[a.pointerId.toString()]};k.Um=function(a){var b=Ld(this,a);Jd(this.b,b,a)};k.Vm=function(a){var b=Ld(this,a);Hd(this.b,b,a)};k.Rm=function(a){var b=Ld(this,a);this.b.cancel(b,a);delete this.a[a.pointerId.toString()]};
k.Qm=function(a){this.b.b(new Md("lostpointercapture",a,a))};k.Pm=function(a){this.b.b(new Md("gotpointercapture",a,a))};function Nd(a){Bd.call(this,a,{pointerdown:this.Kp,pointermove:this.Lp,pointerup:this.Op,pointerout:this.Mp,pointerover:this.Np,pointercancel:this.Jp,gotpointercapture:this.Wl,lostpointercapture:this.Hm})}w(Nd,Bd);k=Nd.prototype;k.Kp=function(a){Od(this.b,a)};k.Lp=function(a){Od(this.b,a)};k.Op=function(a){Od(this.b,a)};k.Mp=function(a){Od(this.b,a)};k.Np=function(a){Od(this.b,a)};k.Jp=function(a){Od(this.b,a)};k.Hm=function(a){Od(this.b,a)};k.Wl=function(a){Od(this.b,a)};function Md(a,b,c){Qc.call(this,a);this.b=b;a=c?c:{};this.buttons=Pd(a);this.pressure=Qd(a,this.buttons);this.bubbles="bubbles"in a?a.bubbles:!1;this.cancelable="cancelable"in a?a.cancelable:!1;this.view="view"in a?a.view:null;this.detail="detail"in a?a.detail:null;this.screenX="screenX"in a?a.screenX:0;this.screenY="screenY"in a?a.screenY:0;this.clientX="clientX"in a?a.clientX:0;this.clientY="clientY"in a?a.clientY:0;this.ctrlKey="ctrlKey"in a?a.ctrlKey:!1;this.altKey="altKey"in a?a.altKey:!1;this.shiftKey=
"shiftKey"in a?a.shiftKey:!1;this.metaKey="metaKey"in a?a.metaKey:!1;this.button="button"in a?a.button:0;this.relatedTarget="relatedTarget"in a?a.relatedTarget:null;this.pointerId="pointerId"in a?a.pointerId:0;this.width="width"in a?a.width:0;this.height="height"in a?a.height:0;this.tiltX="tiltX"in a?a.tiltX:0;this.tiltY="tiltY"in a?a.tiltY:0;this.pointerType="pointerType"in a?a.pointerType:"";this.isPrimary="isPrimary"in a?a.isPrimary:!1;b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}
w(Md,Qc);function Pd(a){if(a.buttons||Rd)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}function Qd(a,b){var c=0;a.pressure?c=a.pressure:c=b?.5:0;return c}var Rd=!1;try{Rd=1===(new MouseEvent("click",{buttons:1})).buttons}catch(a){};function Sd(a,b){Bd.call(this,a,{touchstart:this.Qq,touchmove:this.Pq,touchend:this.Oq,touchcancel:this.Nq});this.a=a.g;this.j=b;this.g=void 0;this.f=0;this.c=void 0}w(Sd,Bd);k=Sd.prototype;k.Ej=function(){this.f=0;this.c=void 0};
function Td(a,b,c){b=Fd(b,c);b.pointerId=c.identifier+2;b.bubbles=!0;b.cancelable=!0;b.detail=a.f;b.button=0;b.buttons=1;b.width=c.webkitRadiusX||c.radiusX||0;b.height=c.webkitRadiusY||c.radiusY||0;b.pressure=c.webkitForce||c.force||.5;b.isPrimary=a.g===c.identifier;b.pointerType="touch";b.clientX=c.clientX;b.clientY=c.clientY;b.screenX=c.screenX;b.screenY=c.screenY;return b}
function Ud(a,b,c){function d(){b.preventDefault()}var e=Array.prototype.slice.call(b.changedTouches),f=e.length,g;for(g=0;g<f;++g){var h=Td(a,b,e[g]);h.preventDefault=d;c.call(a,b,h)}}
k.Qq=function(a){var b=a.touches,c=Object.keys(this.a),d=c.length;if(d>=b.length){var e=[],f;for(f=0;f<d;++f){var g=c[f];var h=this.a[g];var l;if(!(l=1==g))a:{for(var m=b.length,n=0;n<m;n++)if(l=b[n],l.identifier===g-2){l=!0;break a}l=!1}l||e.push(h.out)}for(f=0;f<e.length;++f)this.Of(a,e[f])}b=a.changedTouches[0];c=Object.keys(this.a).length;if(0===c||1===c&&(1).toString()in this.a)this.g=b.identifier,void 0!==this.c&&clearTimeout(this.c);Vd(this,a);this.f++;Ud(this,a,this.Fp)};
k.Fp=function(a,b){this.a[b.pointerId]={target:b.target,out:b,pj:b.target};var c=this.b;b.bubbles=!0;Gd(c,"pointerover",b,a);c=this.b;b.bubbles=!1;Gd(c,"pointerenter",b,a);Gd(this.b,"pointerdown",b,a)};k.Pq=function(a){a.preventDefault();Ud(this,a,this.Om)};
k.Om=function(a,b){var c=this.a[b.pointerId];if(c){var d=c.out,e=c.pj;Gd(this.b,"pointermove",b,a);d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(Jd(this.b,d,a),Hd(this.b,b,a)):(b.target=e,b.relatedTarget=null,this.Of(a,b)));c.out=b;c.pj=b.target}};k.Oq=function(a){Vd(this,a);Ud(this,a,this.Rq)};
k.Rq=function(a,b){Gd(this.b,"pointerup",b,a);this.b.out(b,a);Wd(this.b,b,a);delete this.a[b.pointerId];b.isPrimary&&(this.g=void 0,this.c=setTimeout(this.Ej.bind(this),200))};k.Nq=function(a){Ud(this,a,this.Of)};k.Of=function(a,b){this.b.cancel(b,a);this.b.out(b,a);Wd(this.b,b,a);delete this.a[b.pointerId];b.isPrimary&&(this.g=void 0,this.c=setTimeout(this.Ej.bind(this),200))};
function Vd(a,b){var c=a.j.g;b=b.changedTouches[0];if(a.g===b.identifier){var d=[b.clientX,b.clientY];c.push(d);setTimeout(function(){var a=c.indexOf(d);-1<a&&c.splice(a,1)},2500)}};function Xd(a){Sc.call(this);this.f=a;this.g={};this.i={};this.a=[];td?Yd(this,new Nd(this)):ud?Yd(this,new Kd(this)):(a=new Cd(this),Yd(this,a),sd&&Yd(this,new Sd(this,a)));a=this.a.length;for(var b,c=0;c<a;c++)b=this.a[c],Zd(this,Object.keys(b.i))}w(Xd,Sc);function Yd(a,b){var c=Object.keys(b.i);c&&(c.forEach(function(a){var c=b.i[a];c&&(this.i[a]=c.bind(b))},a),a.a.push(b))}Xd.prototype.c=function(a){var b=this.i[a.type];b&&b(a)};
function Zd(a,b){b.forEach(function(a){y(this.f,a,this.c,this)},a)}function $d(a,b){b.forEach(function(a){Mc(this.f,a,this.c,this)},a)}function Fd(a,b){for(var c={},d,e=0,f=ae.length;e<f;e++)d=ae[e][0],c[d]=a[d]||b[d]||ae[e][1];return c}function Wd(a,b,c){b.bubbles=!1;Gd(a,"pointerleave",b,c)}Xd.prototype.out=function(a,b){a.bubbles=!0;Gd(this,"pointerout",a,b)};Xd.prototype.cancel=function(a,b){Gd(this,"pointercancel",a,b)};
function Jd(a,b,c){a.out(b,c);var d=b.target,e=b.relatedTarget;d&&e&&d.contains(e)||Wd(a,b,c)}function Hd(a,b,c){b.bubbles=!0;Gd(a,"pointerover",b,c);var d=b.target,e=b.relatedTarget;d&&e&&d.contains(e)||(b.bubbles=!1,Gd(a,"pointerenter",b,c))}function Gd(a,b,c,d){a.b(new Md(b,d,c))}function Od(a,b){a.b(new Md(b.type,b,b))}Xd.prototype.ia=function(){for(var a=this.a.length,b,c=0;c<a;c++)b=this.a[c],$d(this,Object.keys(b.i));Sc.prototype.ia.call(this)};
var ae=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];function be(a,b){Sc.call(this);this.g=a;this.j=0;this.l=!1;this.i=[];this.D=b?b*nd:nd;this.c=null;a=this.g.a;this.N=0;this.o={};this.f=new Xd(a);this.a=null;this.s=y(this.f,"pointerdown",this.pm,this);this.v=y(this.f,"pointermove",this.mq,this)}w(be,Sc);function ce(a,b){var c=new Ad("click",a.g,b);a.b(c);0!==a.j?(clearTimeout(a.j),a.j=0,c=new Ad("dblclick",a.g,b),a.b(c)):a.j=setTimeout(function(){this.j=0;var a=new Ad("singleclick",this.g,b);this.b(a)}.bind(a),250)}
function de(a,b){"pointerup"==b.type||"pointercancel"==b.type?delete a.o[b.pointerId]:"pointerdown"==b.type&&(a.o[b.pointerId]=!0);a.N=Object.keys(a.o).length}k=be.prototype;k.ci=function(a){de(this,a);var b=new Ad("pointerup",this.g,a);this.b(b);b.sj||this.l||0!==a.button||ce(this,this.c);0===this.N&&(this.i.forEach(Gc),this.i.length=0,this.l=!1,this.c=null,Pc(this.a),this.a=null)};
k.pm=function(a){de(this,a);var b=new Ad("pointerdown",this.g,a);this.b(b);this.c=a;0===this.i.length&&(this.a=new Xd(document),this.i.push(y(this.a,"pointermove",this.mn,this),y(this.a,"pointerup",this.ci,this),y(this.f,"pointercancel",this.ci,this)))};k.mn=function(a){if(fe(this,a)){this.l=!0;var b=new Ad("pointerdrag",this.g,a,this.l);this.b(b)}a.preventDefault()};k.mq=function(a){this.b(new Ad(a.type,this.g,a,!(!this.c||!fe(this,a))))};
function fe(a,b){return Math.abs(b.clientX-a.c.clientX)>a.D||Math.abs(b.clientY-a.c.clientY)>a.D}k.ia=function(){this.v&&(Gc(this.v),this.v=null);this.s&&(Gc(this.s),this.s=null);this.i.forEach(Gc);this.i.length=0;this.a&&(Pc(this.a),this.a=null);this.f&&(Pc(this.f),this.f=null);Sc.prototype.ia.call(this)};function ge(a,b){this.s=a;this.c=b;this.b=[];this.g=[];this.a={}}ge.prototype.clear=function(){this.b.length=0;this.g.length=0;lb(this.a)};function he(a){var b=a.b,c=a.g,d=b[0];1==b.length?(b.length=0,c.length=0):(b[0]=b.pop(),c[0]=c.pop(),ie(a,0));b=a.c(d);delete a.a[b];return d}ge.prototype.i=function(a){oa(!(this.c(a)in this.a),31);var b=this.s(a);return Infinity!=b?(this.b.push(a),this.g.push(b),this.a[this.c(a)]=!0,je(this,0,this.b.length-1),!0):!1};
function ie(a,b){for(var c=a.b,d=a.g,e=c.length,f=c[b],g=d[b],h=b;b<e>>1;){var l=2*b+1,m=2*b+2;l=m<e&&d[m]<d[l]?m:l;c[b]=c[l];d[b]=d[l];b=l}c[b]=f;d[b]=g;je(a,h,b)}function je(a,b,c){var d=a.b;a=a.g;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(a[g]>f)d[c]=d[g],a[c]=a[g],c=g;else break}d[c]=e;a[c]=f}
function ke(a){var b=a.s,c=a.b,d=a.g,e=0,f=c.length,g;for(g=0;g<f;++g){var h=c[g];var l=b(h);Infinity==l?delete a.a[a.c(h)]:(d[e]=l,c[e++]=h)}c.length=e;d.length=e;for(b=(a.b.length>>1)-1;0<=b;b--)ie(a,b)};function le(a,b){ge.call(this,function(b){return a.apply(null,b)},function(a){return a[0].lb()});this.v=b;this.j=0;this.f={}}w(le,ge);le.prototype.i=function(a){var b=ge.prototype.i.call(this,a);b&&y(a[0],"change",this.l,this);return b};le.prototype.l=function(a){a=a.target;var b=a.getState();if(2===b||3===b||4===b||5===b)Mc(a,"change",this.l,this),a=a.lb(),a in this.f&&(delete this.f[a],--this.j),this.v()};
function me(a,b,c){for(var d=0,e=!1,f,g,h;a.j<b&&d<c&&0<a.b.length;)g=he(a)[0],h=g.lb(),f=g.getState(),5===f?e=!0:0!==f||h in a.f||(a.f[h]=!0,++a.j,++d,g.load());0===d&&e&&a.v()};function ne(a){return function(b){if(b)return[pa(b[0],a[0],a[2]),pa(b[1],a[1],a[3])]}}function oe(a){return a};function pe(a){return function(b,c,d){if(void 0!==b)return b=fc(a,b,d),b=pa(b+c,0,a.length-1),c=Math.floor(b),b!=c&&c<a.length-1?a[c]/Math.pow(a[c]/a[c+1],b-c):a[c]}}function qe(a,b,c){return function(d,e,f){if(void 0!==d)return d=Math.max(Math.floor(Math.log(b/d)/Math.log(a)+(-f/2+.5))+e,0),void 0!==c&&(d=Math.min(d,c)),b/Math.pow(a,d)}};function re(a){if(void 0!==a)return 0}function se(a,b){if(void 0!==a)return a+b}function ue(a){var b=2*Math.PI/a;return function(a,d){if(void 0!==a)return a=Math.floor((a+d)/b+.5)*b}}function we(){var a=va(5);return function(b,c){if(void 0!==b)return Math.abs(b+c)<=a?0:b+c}};function xe(a,b){a=void 0!==b?a.toFixed(b):""+a;b=a.indexOf(".");b=-1===b?a.length:b;return 2<b?a:Array(3-b).join("0")+a}function ye(a){a=(""+a).split(".");for(var b=["1","3"],c=0;c<Math.max(a.length,b.length);c++){var d=parseInt(a[c]||"0",10),e=parseInt(b[c]||"0",10);if(d>e)return 1;if(e>d)return-1}return 0};function ze(a,b){a[0]+=b[0];a[1]+=b[1];return a}function Ae(a,b){var c=b.Bd(),d=b.xa();b=d[0];d=d[1];var e=a[0]-b;a=a[1]-d;0===e&&0===a&&(e=1);var f=Math.sqrt(e*e+a*a);return[b+c*e/f,d+c*a/f]}function Be(a,b){var c=a[0];a=a[1];var d=b[0],e=b[1];b=d[0];d=d[1];var f=e[0];e=e[1];var g=f-b,h=e-d;c=0===g&&0===h?0:(g*(c-b)+h*(a-d))/(g*g+h*h||0);0>=c?(a=b,c=d):1<=c?(a=f,c=e):(a=b+c*g,c=d+c*h);return[a,c]}
function Ce(a,b,c){b=wa(b+180,360)-180;var d=Math.abs(3600*b);c=c||0;var e=Math.pow(10,c),f=Math.floor(d/3600),g=Math.floor((d-3600*f)/60);d=Math.ceil((d-3600*f-60*g)*e)/e;60<=d&&(d=0,g+=1);60<=g&&(g=0,f+=1);return f+"\u00b0 "+xe(g)+"\u2032 "+xe(d,c)+"\u2033"+(0==b?"":" "+a.charAt(0>b?1:0))}function De(a,b,c){return a?b.replace("{x}",a[0].toFixed(c)).replace("{y}",a[1].toFixed(c)):""}function Ee(a,b){for(var c=!0,d=a.length-1;0<=d;--d)if(a[d]!=b[d]){c=!1;break}return c}
function Fe(a,b){var c=Math.cos(b);b=Math.sin(b);var d=a[1]*c+a[0]*b;a[0]=a[0]*c-a[1]*b;a[1]=d;return a}function Ge(a,b){a[0]*=b;a[1]*=b}function He(a,b){var c=a[0]-b[0];a=a[1]-b[1];return c*c+a*a}function Ie(a,b){return Math.sqrt(He(a,b))}function Je(a,b){return He(a,Be(a,b))}function Ke(a,b){return De(a,"{x}, {y}",b)};function Me(a){return Math.pow(a,3)}function Oe(a){return 1-Me(1-a)}function Pe(a){return 3*a*a-2*a*a*a}function Qe(a){return a};function Re(){return!0}function Se(){return!1};function Te(a,b,c,d,e,f){for(var g=f?f:[],h=0;b<c;b+=d){var l=a[b],m=a[b+1];g[h++]=e[0]*l+e[2]*m+e[4];g[h++]=e[1]*l+e[3]*m+e[5]}f&&g.length!=h&&(g.length=h);return g}function Ue(a,b,c,d,e,f,g){for(var h=g?g:[],l=0,m;b<c;b+=d)for(h[l++]=a[b]+e,h[l++]=a[b+1]+f,m=b+2;m<b+d;++m)h[l++]=a[m];g&&h.length!=l&&(h.length=l);return h};var Ve=Array(6);function We(){return[1,0,0,1,0,0]}function Xe(a){return Ye(a,1,0,0,1,0,0)}function Ze(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],l=b[0],m=b[1],n=b[2],p=b[3],q=b[4];b=b[5];a[0]=c*l+e*m;a[1]=d*l+f*m;a[2]=c*n+e*p;a[3]=d*n+f*p;a[4]=c*q+e*b+g;a[5]=d*q+f*b+h;return a}function Ye(a,b,c,d,e,f,g){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;return a}function $e(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a}
function af(a,b){var c=b[0],d=b[1];b[0]=a[0]*c+a[2]*d+a[4];b[1]=a[1]*c+a[3]*d+a[5];return b}function bf(a,b){var c=Math.cos(b);b=Math.sin(b);Ze(a,Ye(Ve,c,b,-b,c,0,0))}function cf(a,b,c){return Ze(a,Ye(Ve,b,0,0,c,0,0))}function df(a,b,c){Ze(a,Ye(Ve,1,0,0,1,b,c))}function ef(a,b,c,d,e,f,g,h){var l=Math.sin(f);f=Math.cos(f);a[0]=d*f;a[1]=e*l;a[2]=-d*l;a[3]=e*f;a[4]=g*d*f-h*d*l+b;a[5]=g*e*l+h*e*f+c;return a}
function ff(a){var b=a[0]*a[3]-a[1]*a[2];oa(0!==b,32);var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5];a[0]=f/b;a[1]=-d/b;a[2]=-e/b;a[3]=c/b;a[4]=(e*h-f*g)/b;a[5]=-(c*h-d*g)/b;return a};function gf(){Vc.call(this);this.s=Da();this.v=-1;this.i={};this.l=this.f=0;this.O=We()}w(gf,Vc);k=gf.prototype;k.Ib=function(a,b){b=b?b:[NaN,NaN];this.Nb(a[0],a[1],b,Infinity);return b};k.Bb=function(a){return this.Zc(a[0],a[1])};k.Zc=Se;k.G=function(a){this.v!=this.g&&(this.s=this.Ae(this.s),this.v=this.g);var b=this.s;a?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b;return a};k.Sb=function(a){return this.Wd(a*a)};
k.mb=function(a,b){var c=this.O;a=Ob(a);var d="tile-pixels"==a.a?function(d,f,g){var e=a.G(),l=a.oe;e=db(l)/db(e);ef(c,l[0],l[3],e,-e,0,0,0);Te(d,0,d.length,g,c,f);return Yb(a,b)(d,f,g)}:Yb(a,b);this.Rc(d);return this};function hf(){gf.call(this);this.ja="XY";this.a=2;this.A=null}w(hf,gf);function jf(a){var b;"XY"==a?b=2:"XYZ"==a||"XYM"==a?b=3:"XYZM"==a&&(b=4);return b}k=hf.prototype;k.Zc=Se;k.Ae=function(a){return Qa(this.A,0,this.A.length,this.a,a)};k.fc=function(){return this.A.slice(0,this.a)};k.da=function(){return this.A};k.gc=function(){return this.A.slice(this.A.length-this.a)};k.ic=function(){return this.ja};
k.Wd=function(a){this.l!=this.g&&(lb(this.i),this.f=0,this.l=this.g);if(0>a||0!==this.f&&a<=this.f)return this;var b=a.toString();if(this.i.hasOwnProperty(b))return this.i[b];var c=this.xd(a);if(c.da().length<this.A.length)return this.i[b]=c;this.f=a;return this};k.xd=function(){return this};k.pa=function(){return this.a};function kf(a,b,c){a.a=jf(b);a.ja=b;a.A=c}
function lf(a,b,c,d){if(b)c=jf(b);else{for(b=0;b<d;++b){if(0===c.length){a.ja="XY";a.a=2;return}c=c[0]}c=c.length;var e;2==c?e="XY":3==c?e="XYZ":4==c&&(e="XYZM");b=e}a.ja=b;a.a=c}k.Rc=function(a){this.A&&(a(this.A,this.A,this.a),this.u())};
k.rotate=function(a,b){var c=this.da();if(c){var d=c.length,e=this.pa(),f=c?c:[],g=Math.cos(a);a=Math.sin(a);var h=b[0];b=b[1];for(var l=0,m=0;m<d;m+=e){var n=c[m]-h,p=c[m+1]-b;f[l++]=h+n*g-p*a;f[l++]=b+n*a+p*g;for(n=m+2;n<m+e;++n)f[l++]=c[n]}c&&f.length!=l&&(f.length=l);this.u()}};
k.scale=function(a,b,c){var d=b;void 0===d&&(d=a);var e=c;e||(e=eb(this.G()));if(c=this.da()){b=c.length;var f=this.pa(),g=c?c:[],h=e[0];e=e[1];for(var l=0,m=0;m<b;m+=f){var n=c[m]-h,p=c[m+1]-e;g[l++]=h+a*n;g[l++]=e+d*p;for(n=m+2;n<m+f;++n)g[l++]=c[n]}c&&g.length!=l&&(g.length=l);this.u()}};k.translate=function(a,b){var c=this.da();c&&(Ue(c,0,c.length,this.pa(),a,b,c),this.u())};function mf(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d){var h=a[b],l=a[b+1];e+=g*h-f*l;f=h;g=l}return e/2}function nf(a,b,c,d){var e=0,f;var g=0;for(f=c.length;g<f;++g){var h=c[g];e+=mf(a,b,h,d);b=h}return e};function of(a,b,c,d,e,f,g){var h=a[b],l=a[b+1],m=a[c]-h,n=a[c+1]-l;if(0!==m||0!==n)if(f=((e-h)*m+(f-l)*n)/(m*m+n*n),1<f)b=c;else if(0<f){for(e=0;e<d;++e)g[e]=ya(a[b+e],a[c+e],f);g.length=d;return}for(e=0;e<d;++e)g[e]=a[b+e];g.length=d}function pf(a,b,c,d,e){var f=a[b],g=a[b+1];for(b+=d;b<c;b+=d){var h=a[b],l=a[b+1];f=ua(f,g,h,l);f>e&&(e=f);f=h;g=l}return e}function qf(a,b,c,d,e){var f;var g=0;for(f=c.length;g<f;++g){var h=c[g];e=pf(a,b,h,d,e);b=h}return e}
function tf(a,b,c,d,e,f,g,h,l,m,n){if(b==c)return m;if(0===e){var p=ua(g,h,a[b],a[b+1]);if(p<m){for(n=0;n<d;++n)l[n]=a[b+n];l.length=d;return p}return m}for(var q=n?n:[NaN,NaN],r=b+d;r<c;)if(of(a,r-d,r,d,g,h,q),p=ua(g,h,q[0],q[1]),p<m){m=p;for(n=0;n<d;++n)l[n]=q[n];l.length=d;r+=d}else r+=d*Math.max((Math.sqrt(p)-Math.sqrt(m))/e|0,1);if(f&&(of(a,c-d,b,d,g,h,q),p=ua(g,h,q[0],q[1]),p<m)){m=p;for(n=0;n<d;++n)l[n]=q[n];l.length=d}return m}
function uf(a,b,c,d,e,f,g,h,l,m,n){n=n?n:[NaN,NaN];var p;var q=0;for(p=c.length;q<p;++q){var r=c[q];m=tf(a,b,r,d,e,f,g,h,l,m,n);b=r}return m};function vf(a,b){var c=0,d;var e=0;for(d=b.length;e<d;++e)a[c++]=b[e];return c}function wf(a,b,c,d){var e;var f=0;for(e=c.length;f<e;++f){var g=c[f],h;for(h=0;h<d;++h)a[b++]=g[h]}return b}function xf(a,b,c,d,e){e=e?e:[];var f=0,g;var h=0;for(g=c.length;h<g;++h)b=wf(a,b,c[h],d),e[f++]=b;e.length=f;return e};function yf(a,b,c,d,e){e=void 0!==e?e:[];for(var f=0;b<c;b+=d)e[f++]=a.slice(b,b+d);e.length=f;return e}function zf(a,b,c,d,e){e=void 0!==e?e:[];var f=0,g;var h=0;for(g=c.length;h<g;++h){var l=c[h];e[f++]=yf(a,b,l,d,e[f]);b=l}e.length=f;return e}function Af(a,b,c,d,e){e=void 0!==e?e:[];var f=0,g;var h=0;for(g=c.length;h<g;++h){var l=c[h];e[f++]=zf(a,b,l,d,e[f]);b=l[l.length-1]}e.length=f;return e};function Bf(a,b,c,d,e,f,g){var h=(c-b)/d;if(3>h){for(;b<c;b+=d)f[g++]=a[b],f[g++]=a[b+1];return g}var l=Array(h);l[0]=1;l[h-1]=1;c=[b,c-d];for(var m=0,n;0<c.length;){var p=c.pop(),q=c.pop(),r=0,u=a[q],v=a[q+1],z=a[p],A=a[p+1];for(n=q+d;n<p;n+=d){var E=sa(a[n],a[n+1],u,v,z,A);E>r&&(m=n,r=E)}r>e&&(l[(m-b)/d]=1,q+d<m&&c.push(q,m),m+d<p&&c.push(m,p))}for(n=0;n<h;++n)l[n]&&(f[g++]=a[b+n*d],f[g++]=a[b+n*d+1]);return g}
function Cf(a,b,c,d,e,f,g,h){var l;var m=0;for(l=c.length;m<l;++m){var n=c[m];a:{var p=a,q=n,r=d,u=e,v=f,z=g;if(b!=q){var A=u*Math.round(p[b]/u),E=u*Math.round(p[b+1]/u);b+=r;v[z++]=A;v[z++]=E;do{var S=u*Math.round(p[b]/u);g=u*Math.round(p[b+1]/u);b+=r;if(b==q){v[z++]=S;v[z++]=g;g=z;break a}}while(S==A&&g==E);for(;b<q;){var Ia=u*Math.round(p[b]/u);var ta=u*Math.round(p[b+1]/u);b+=r;if(Ia!=S||ta!=g){var la=S-A,ca=g-E,ia=Ia-A,xa=ta-E;la*xa==ca*ia&&(0>la&&ia<la||la==ia||0<la&&ia>la)&&(0>ca&&xa<ca||ca==
xa||0<ca&&xa>ca)||(v[z++]=S,v[z++]=g,A=S,E=g);S=Ia;g=ta}}v[z++]=S;v[z++]=g}g=z}h.push(g);b=n}return g};function Df(a,b){hf.call(this);this.c=this.j=-1;this.na(a,b)}w(Df,hf);k=Df.prototype;k.clone=function(){var a=new Df(null);Ef(a,this.ja,this.A.slice());return a};k.Nb=function(a,b,c,d){if(d<Ha(this.G(),a,b))return d;this.c!=this.g&&(this.j=Math.sqrt(pf(this.A,0,this.A.length,this.a,0)),this.c=this.g);return tf(this.A,0,this.A.length,this.a,this.j,!0,a,b,c,d)};k.Vn=function(){return mf(this.A,0,this.A.length,this.a)};k.W=function(){return yf(this.A,0,this.A.length,this.a)};
k.xd=function(a){var b=[];b.length=Bf(this.A,0,this.A.length,this.a,a,b,0);a=new Df(null);Ef(a,"XY",b);return a};k.S=function(){return"LinearRing"};k.$a=function(){};k.na=function(a,b){a?(lf(this,b,a,1),this.A||(this.A=[]),this.A.length=wf(this.A,0,a,this.a),this.u()):Ef(this,"XY",null)};function Ef(a,b,c){kf(a,b,c);a.u()};function C(a,b){hf.call(this);this.na(a,b)}w(C,hf);k=C.prototype;k.clone=function(){var a=new C(null);a.ba(this.ja,this.A.slice());return a};k.Nb=function(a,b,c,d){var e=this.A;a=ua(a,b,e[0],e[1]);if(a<d){d=this.a;for(b=0;b<d;++b)c[b]=e[b];c.length=d;return a}return d};k.W=function(){return this.A?this.A.slice():[]};k.Ae=function(a){return Pa(this.A,a)};k.S=function(){return"Point"};k.$a=function(a){return Ka(a,this.A[0],this.A[1])};
k.na=function(a,b){a?(lf(this,b,a,0),this.A||(this.A=[]),this.A.length=vf(this.A,a),this.u()):this.ba("XY",null)};k.ba=function(a,b){kf(this,a,b);this.u()};function Ff(a,b,c,d,e){return!Ua(e,function(e){return!Gf(a,b,c,d,e[0],e[1])})}function Gf(a,b,c,d,e,f){for(var g=0,h=a[c-d],l=a[c-d+1];b<c;b+=d){var m=a[b],n=a[b+1];l<=f?n>f&&0<(m-h)*(f-l)-(e-h)*(n-l)&&g++:n<=f&&0>(m-h)*(f-l)-(e-h)*(n-l)&&g--;h=m;l=n}return 0!==g}function Hf(a,b,c,d,e,f){if(0===c.length||!Gf(a,b,c[0],d,e,f))return!1;var g;b=1;for(g=c.length;b<g;++b)if(Gf(a,c[b-1],c[b],d,e,f))return!1;return!0};function If(a,b,c,d,e,f,g){for(var h,l,m,n,p,q=e[f+1],r=[],u=0,v=c.length;u<v;++u){var z=c[u];m=a[z-d];p=a[z-d+1];for(h=b;h<z;h+=d){n=a[h];l=a[h+1];if(q<=p&&l<=q||p<=q&&q<=l)m=(q-p)/(l-p)*(n-m)+m,r.push(m);m=n;p=l}}u=NaN;v=-Infinity;r.sort(dc);m=r[0];h=1;for(l=r.length;h<l;++h)n=r[h],z=Math.abs(n-m),z>v&&(m=(m+n)/2,Hf(a,b,c,d,m,q)&&(u=m,v=z)),m=n;isNaN(u)&&(u=e[f]);return g?(g.push(u,q,v),g):[u,q,v]};function Jf(a,b,c,d,e,f){for(var g=[a[b],a[b+1]],h=[],l;b+d<c;b+=d){h[0]=a[b+d];h[1]=a[b+d+1];if(l=e.call(f,g,h))return l;g[0]=h[0];g[1]=h[1]}return!1};function Kf(a,b,c,d,e){var f=Ra(Da(),a,b,c,d);return hb(e,f)?La(e,f)||f[0]>=e[0]&&f[2]<=e[2]||f[1]>=e[1]&&f[3]<=e[3]?!0:Jf(a,b,c,d,function(a,b){var c=!1,d=Ma(e,a),f=Ma(e,b);if(1===d||1===f)c=!0;else{var g=e[0],h=e[1],r=e[2],u=e[3],v=b[0];b=b[1];a=(b-a[1])/(v-a[0]);f&2&&!(d&2)&&(c=v-(b-u)/a,c=c>=g&&c<=r);c||!(f&4)||d&4||(c=b-(v-r)*a,c=c>=h&&c<=u);c||!(f&8)||d&8||(c=v-(b-h)/a,c=c>=g&&c<=r);c||!(f&16)||d&16||(c=b-(v-g)*a,c=c>=h&&c<=u)}return c}):!1}
function Lf(a,b,c,d,e){var f=c[0];if(!(Kf(a,b,f,d,e)||Gf(a,b,f,d,e[0],e[1])||Gf(a,b,f,d,e[0],e[3])||Gf(a,b,f,d,e[2],e[1])||Gf(a,b,f,d,e[2],e[3])))return!1;if(1===c.length)return!0;b=1;for(f=c.length;b<f;++b)if(Ff(a,c[b-1],c[b],d,e))return!1;return!0};function Mf(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d){var h=a[b],l=a[b+1];e+=(h-f)*(l+g);f=h;g=l}return 0<e}function Nf(a,b,c,d){var e=0;d=void 0!==d?d:!1;var f;var g=0;for(f=b.length;g<f;++g){var h=b[g];e=Mf(a,e,h,c);if(0===g){if(d&&e||!d&&!e)return!1}else if(d&&!e||!d&&e)return!1;e=h}return!0}
function Of(a,b,c,d,e){e=void 0!==e?e:!1;var f;var g=0;for(f=c.length;g<f;++g){var h=c[g],l=Mf(a,b,h,d);if(0===g?e&&l||!e&&!l:e&&!l||!e&&l){l=a;for(var m=h,n=d;b<m-n;){var p;for(p=0;p<n;++p){var q=l[b+p];l[b+p]=l[m-n+p];l[m-n+p]=q}b+=n;m-=n}}b=h}return b}function Pf(a,b,c,d){var e=0,f;var g=0;for(f=b.length;g<f;++g)e=Of(a,e,b[g],c,d);return e};function D(a,b){hf.call(this);this.c=[];this.o=-1;this.D=null;this.T=this.C=this.B=-1;this.j=null;this.na(a,b)}w(D,hf);k=D.prototype;k.Hk=function(a){this.A?gc(this.A,a.da()):this.A=a.da().slice();this.c.push(this.A.length);this.u()};k.clone=function(){var a=new D(null);a.ba(this.ja,this.A.slice(),this.c.slice());return a};
k.Nb=function(a,b,c,d){if(d<Ha(this.G(),a,b))return d;this.C!=this.g&&(this.B=Math.sqrt(qf(this.A,0,this.c,this.a,0)),this.C=this.g);return uf(this.A,0,this.c,this.a,this.B,!0,a,b,c,d)};k.Zc=function(a,b){return Hf(this.Xb(),0,this.c,this.a,a,b)};k.Yn=function(){return nf(this.Xb(),0,this.c,this.a)};k.W=function(a){if(void 0!==a){var b=this.Xb().slice();Of(b,0,this.c,this.a,a)}else b=this.A;return zf(b,0,this.c,this.a)};k.pb=function(){return this.c};
k.Td=function(){if(this.o!=this.g){var a=eb(this.G());this.D=If(this.Xb(),0,this.c,this.a,a,0);this.o=this.g}return this.D};k.tl=function(){return new C(this.Td(),"XYM")};k.zl=function(){return this.c.length};k.Wh=function(a){if(0>a||this.c.length<=a)return null;var b=new Df(null);Ef(b,this.ja,this.A.slice(0===a?0:this.c[a-1],this.c[a]));return b};k.Ud=function(){var a=this.ja,b=this.A,c=this.c,d=[],e=0,f;var g=0;for(f=c.length;g<f;++g){var h=c[g],l=new Df(null);Ef(l,a,b.slice(e,h));d.push(l);e=h}return d};
k.Xb=function(){if(this.T!=this.g){var a=this.A;Nf(a,this.c,this.a)?this.j=a:(this.j=a.slice(),this.j.length=Of(this.j,0,this.c,this.a));this.T=this.g}return this.j};k.xd=function(a){var b=[],c=[];b.length=Cf(this.A,0,this.c,this.a,Math.sqrt(a),b,0,c);a=new D(null);a.ba("XY",b,c);return a};k.S=function(){return"Polygon"};k.$a=function(a){return Lf(this.Xb(),0,this.c,this.a,a)};
k.na=function(a,b){a?(lf(this,b,a,2),this.A||(this.A=[]),a=xf(this.A,0,a,this.a,this.c),this.A.length=0===a.length?0:a[a.length-1],this.u()):this.ba("XY",null,this.c)};k.ba=function(a,b,c){kf(this,a,b);this.c=c;this.u()};function Qf(a,b,c,d){var e=d?d:32;d=[];var f;for(f=0;f<e;++f)gc(d,a.offset(b,c,2*Math.PI*f/e));d.push(d[0],d[1]);a=new D(null);a.ba("XY",d,[d.length]);return a}function Rf(a){var b=a[0],c=a[1],d=a[2];a=a[3];b=[b,c,b,a,d,a,d,c,b,c];c=new D(null);c.ba("XY",b,[b.length]);return c}
function Sf(a,b,c){var d=b?b:32,e=a.pa();b=a.ja;var f=new D(null,b);d=e*(d+1);e=Array(d);for(var g=0;g<d;g++)e[g]=0;f.ba(b,e,[e.length]);Tf(f,a.xa(),a.Bd(),c);return f}function Tf(a,b,c,d){var e=a.da(),f=a.ja,g=a.pa(),h=a.pb(),l=e.length/g-1;d=d?d:0;for(var m,n,p=0;p<=l;++p)n=p*g,m=d+2*wa(p,l)*Math.PI/l,e[n]=b[0]+c*Math.cos(m),e[n+1]=b[1]+c*Math.sin(m);a.ba(f,e,h)};function F(a){Vc.call(this);a=kb({},a);this.f=[0,0];this.c=[];this.Ff=this.Ff.bind(this);this.v=Ub(a.projection);Vf(this,a)}w(F,Vc);
function Vf(a,b){var c={};c.center=void 0!==b.center?b.center:null;var d=void 0!==b.minZoom?b.minZoom:0;var e=void 0!==b.maxZoom?b.maxZoom:28;var f=void 0!==b.zoomFactor?b.zoomFactor:2;if(void 0!==b.resolutions){var g=b.resolutions;var h=g[d];var l=void 0!==g[e]?g[e]:g[g.length-1];e=pe(g)}else{h=Ub(b.projection);l=h.G();g=(l?Math.max(cb(l),db(l)):360*ub.degrees/h.Bc())/256/Math.pow(2,0);var m=g/Math.pow(2,28);h=b.maxResolution;void 0!==h?d=0:h=g/Math.pow(f,d);l=b.minResolution;void 0===l&&(l=void 0!==
b.maxZoom?void 0!==b.maxResolution?h/Math.pow(f,e):g/Math.pow(f,e):m);e=d+Math.floor(Math.log(h/l)/Math.log(f));l=h/Math.pow(f,e-d);e=qe(f,h,e-d)}a.a=h;a.i=l;a.D=f;a.j=b.resolutions;a.s=d;(void 0!==b.enableRotation?b.enableRotation:1)?(d=b.constrainRotation,d=void 0===d||!0===d?we():!1===d?se:"number"===typeof d?ue(d):se):d=re;a.l={center:void 0!==b.extent?ne(b.extent):oe,resolution:e,rotation:d};void 0!==b.resolution?c.resolution=b.resolution:void 0!==b.zoom&&(c.resolution=a.constrainResolution(a.a,
b.zoom-a.s),a.j&&(c.resolution=pa(Number(a.Pa()||c.resolution),a.i,a.a)));c.rotation=void 0!==b.rotation?b.rotation:0;a.H(c);a.C=b}function $f(a,b){var c=kb({},a.C);void 0!==c.resolution?c.resolution=a.Pa():c.zoom=a.lg();c.center=a.xa();c.rotation=a.Sa();return kb({},c,b)}k=F.prototype;
k.animate=function(a){var b=arguments.length;if(1<b&&"function"===typeof arguments[b-1]){var c=arguments[b-1];--b}if(ag(this)){for(var d=Date.now(),e=this.xa().slice(),f=this.Pa(),g=this.Sa(),h=[],l=0;l<b;++l){var m=arguments[l],n={start:d,complete:!1,anchor:m.anchor,duration:void 0!==m.duration?m.duration:1E3,easing:m.easing||Pe};m.center&&(n.ie=e,n.me=m.center,e=n.me);void 0!==m.zoom?(n.ke=f,n.kd=this.constrainResolution(this.a,m.zoom-this.s,0),f=n.kd):m.resolution&&(n.ke=f,n.kd=m.resolution,f=
n.kd);void 0!==m.rotation&&(n.Df=g,n.ne=g+(wa(m.rotation-g+Math.PI,2*Math.PI)-Math.PI),g=n.ne);n.callback=c;n.ie&&n.me&&!Ee(n.ie,n.me)||n.ke!==n.kd||n.Df!==n.ne?d+=n.duration:n.complete=!0;h.push(n)}this.c.push(h);bg(this,0,1);this.Ff()}else b=arguments[b-1],b.center&&this.ub(b.center),void 0!==b.zoom&&this.Tj(b.zoom),void 0!==b.rotation&&this.ce(b.rotation),c&&c(!0)};k.Ac=function(){return 0<this.f[0]};k.Vh=function(){return 0<this.f[1]};
k.rd=function(){bg(this,0,-this.f[0]);for(var a=0,b=this.c.length;a<b;++a){var c=this.c[a];c[0].callback&&c[0].callback(!1)}this.c.length=0};
k.Ff=function(){void 0!==this.o&&(cancelAnimationFrame(this.o),this.o=void 0);if(this.Ac()){for(var a=Date.now(),b=!1,c=this.c.length-1;0<=c;--c){for(var d=this.c[c],e=!0,f=0,g=d.length;f<g;++f){var h=d[f];if(!h.complete){b=a-h.start;b=0<h.duration?b/h.duration:1;1<=b?(h.complete=!0,b=1):e=!1;b=h.easing(b);if(h.ie){var l=h.ie[0],m=h.ie[1];this.set("center",[l+b*(h.me[0]-l),m+b*(h.me[1]-m)])}h.ke&&h.kd&&(l=1===b?h.kd:h.ke+b*(h.kd-h.ke),h.anchor&&this.set("center",cg(this,l,h.anchor)),this.set("resolution",
l));void 0!==h.Df&&void 0!==h.ne&&(b=1===b?wa(h.ne+Math.PI,2*Math.PI)-Math.PI:h.Df+b*(h.ne-h.Df),h.anchor&&this.set("center",dg(this,b,h.anchor)),this.set("rotation",b));b=!0;if(!h.complete)break}}e&&(this.c[c]=null,bg(this,0,-1),(d=d[0].callback)&&d(!0))}this.c=this.c.filter(Boolean);b&&void 0===this.o&&(this.o=requestAnimationFrame(this.Ff))}};function dg(a,b,c){var d=a.xa();if(void 0!==d){var e=[d[0]-c[0],d[1]-c[1]];Fe(e,b-a.Sa());ze(e,c)}return e}
function cg(a,b,c){var d,e=a.xa();a=a.Pa();void 0!==e&&void 0!==a&&(d=[c[0]-b*(c[0]-e[0])/a,c[1]-b*(c[1]-e[1])/a]);return d}function eg(a){var b=[100,100];a='.ol-viewport[data-view="'+x(a)+'"]';if(a=document.querySelector(a))a=getComputedStyle(a),b[0]=parseInt(a.width,10),b[1]=parseInt(a.height,10);return b}k.Sc=function(a){return this.l.center(a)};k.constrainResolution=function(a,b,c){return this.l.resolution(a,b||0,c||0)};k.constrainRotation=function(a,b){return this.l.rotation(a,b||0)};k.xa=function(){return this.get("center")};
k.qd=function(a){a=a||eg(this);var b=this.xa();oa(b,1);var c=this.Pa();oa(void 0!==c,2);var d=this.Sa();oa(void 0!==d,3);return fb(b,c,d,a)};k.sn=function(){return this.a};k.vn=function(){return this.i};k.tn=function(){return this.Me(this.i)};k.Cq=function(a){Vf(this,$f(this,{maxZoom:a}))};k.wn=function(){return this.Me(this.a)};k.Dq=function(a){Vf(this,$f(this,{minZoom:a}))};k.xn=function(){return this.v};k.Pa=function(){return this.get("resolution")};k.yn=function(){return this.j};
k.Je=function(a,b){b=b||eg(this);return Math.max(cb(a)/b[0],db(a)/b[1])};function fg(a){var b=a.a,c=Math.log(b/a.i)/Math.log(2);return function(a){return b/Math.pow(2,a*c)}}k.Sa=function(){return this.get("rotation")};function gg(a){var b=a.a,c=Math.log(b/a.i)/Math.log(2);return function(a){return Math.log(b/a)/Math.log(2)/c}}k.getState=function(){var a=this.xa(),b=this.v,c=this.Pa(),d=this.Sa();return{center:a.slice(),projection:void 0!==b?b:null,resolution:c,rotation:d,zoom:this.lg()}};
k.lg=function(){var a,b=this.Pa();void 0!==b&&(a=this.Me(b));return a};k.Me=function(a){var b=this.s||0,c;if(this.j){b=c=fc(this.j,a,1);var d=this.j[c];c=c==this.j.length-1?2:d/this.j[c+1]}else d=this.a,c=this.D;return b+Math.log(d/a)/Math.log(c)};k.$h=function(a){return this.constrainResolution(this.a,a-this.s,0)};
k.Uf=function(a,b){b=b||{};var c=b.size;c||(c=eg(this));if(a instanceof hf)if("Circle"===a.S()){a=a.G();var d=Rf(a);d.rotate(this.Sa(),eb(a))}else d=a;else oa(Array.isArray(a),24),oa(!bb(a),25),d=Rf(a);var e=void 0!==b.padding?b.padding:[0,0,0,0],f=void 0!==b.constrainResolution?b.constrainResolution:!0,g=void 0!==b.nearest?b.nearest:!1,h;void 0!==b.minResolution?h=b.minResolution:void 0!==b.maxZoom?h=this.constrainResolution(this.a,b.maxZoom-this.s,0):h=0;var l=d.da(),m=this.Sa();a=Math.cos(-m);
m=Math.sin(-m);var n=Infinity,p=Infinity,q=-Infinity,r=-Infinity;d=d.pa();for(var u=0,v=l.length;u<v;u+=d){var z=l[u]*a-l[u+1]*m,A=l[u]*m+l[u+1]*a;n=Math.min(n,z);p=Math.min(p,A);q=Math.max(q,z);r=Math.max(r,A)}c=this.Je([n,p,q,r],[c[0]-e[1]-e[3],c[1]-e[0]-e[2]]);c=isNaN(c)?h:Math.max(c,h);f&&(h=this.constrainResolution(c,0,0),!g&&h<c&&(h=this.constrainResolution(h,-1,0)),c=h);m=-m;h=(n+q)/2+(e[1]-e[3])/2*c;e=(p+r)/2+(e[0]-e[2])/2*c;a=[h*a-e*m,e*a+h*m];e=b.callback?b.callback:ea;void 0!==b.duration?
this.animate({resolution:c,center:a,duration:b.duration,easing:b.easing},e):(this.gd(c),this.ub(a),setTimeout(e.bind(void 0,!0),0))};k.Nk=function(a,b,c){var d=this.Sa(),e=Math.cos(-d);d=Math.sin(-d);var f=a[0]*e-a[1]*d;a=a[1]*e+a[0]*d;var g=this.Pa();f+=(b[0]/2-c[0])*g;a+=(c[1]-b[1]/2)*g;d=-d;this.ub([f*e-a*d,a*e+f*d])};function ag(a){return!!a.xa()&&void 0!==a.Pa()}k.rotate=function(a,b){void 0!==b&&(b=dg(this,a,b),this.ub(b));this.ce(a)};k.ub=function(a){this.set("center",a);this.Ac()&&this.rd()};
function bg(a,b,c){a.f[b]+=c;a.u()}k.gd=function(a){this.set("resolution",a);this.Ac()&&this.rd()};k.ce=function(a){this.set("rotation",a);this.Ac()&&this.rd()};k.Tj=function(a){this.gd(this.$h(a))};function hg(a,b){var c=document.createElement("CANVAS");a&&(c.width=a);b&&(c.height=b);return c.getContext("2d")}function ig(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)}function jg(a){a&&a.parentNode&&a.parentNode.removeChild(a)};function kg(a){Vc.call(this);var b=kb({},a);b.opacity=void 0!==a.opacity?a.opacity:1;b.visible=void 0!==a.visible?a.visible:!0;b.zIndex=void 0!==a.zIndex?a.zIndex:0;b.maxResolution=void 0!==a.maxResolution?a.maxResolution:Infinity;b.minResolution=void 0!==a.minResolution?a.minResolution:0;this.H(b);this.a={layer:this,Te:!0}}w(kg,Vc);k=kg.prototype;k.S=function(){return this.type};
function lg(a){a.a.opacity=pa(a.nc(),0,1);a.a.Vj=a.hg();a.a.visible=a.Jb();a.a.extent=a.G();a.a.zIndex=a.Ba();a.a.maxResolution=a.lc();a.a.minResolution=Math.max(a.mc(),0);return a.a}k.G=function(){return this.get("extent")};k.lc=function(){return this.get("maxResolution")};k.mc=function(){return this.get("minResolution")};k.nc=function(){return this.get("opacity")};k.Jb=function(){return this.get("visible")};k.Ba=function(){return this.get("zIndex")};k.Fc=function(a){this.set("extent",a)};
k.Mc=function(a){this.set("maxResolution",a)};k.Nc=function(a){this.set("minResolution",a)};k.Gc=function(a){this.set("opacity",a)};k.Hc=function(a){this.set("visible",a)};k.$b=function(a){this.set("zIndex",a)};function mg(a){var b=a||{};a=kb({},b);delete a.layers;b=b.layers;kg.call(this,a);this.i=[];this.c={};y(this,Xc(ng),this.im,this);b?Array.isArray(b)?b=new B(b.slice(),{unique:!0}):oa(b instanceof B,43):b=new B(void 0,{unique:!0});this.Qi(b)}w(mg,kg);k=mg.prototype;k.Pe=function(){this.u()};
k.im=function(){this.i.forEach(Gc);this.i.length=0;var a=this.Cd();this.i.push(y(a,"add",this.hm,this),y(a,"remove",this.jm,this));for(var b in this.c)this.c[b].forEach(Gc);lb(this.c);a=a.a;var c;b=0;for(c=a.length;b<c;b++){var d=a[b];this.c[x(d).toString()]=[y(d,"propertychange",this.Pe,this),y(d,"change",this.Pe,this)]}this.u()};k.hm=function(a){a=a.element;var b=x(a).toString();this.c[b]=[y(a,"propertychange",this.Pe,this),y(a,"change",this.Pe,this)];this.u()};
k.jm=function(a){a=x(a.element).toString();this.c[a].forEach(Gc);delete this.c[a];this.u()};k.Cd=function(){return this.get(ng)};k.Qi=function(a){this.set(ng,a)};
k.dg=function(a){var b=void 0!==a?a:[],c=b.length;this.Cd().forEach(function(a){a.dg(b)});a=lg(this);var d;for(d=b.length;c<d;c++){var e=b[c];e.opacity*=a.opacity;e.visible=e.visible&&a.visible;e.maxResolution=Math.min(e.maxResolution,a.maxResolution);e.minResolution=Math.max(e.minResolution,a.minResolution);void 0!==a.extent&&(e.extent=void 0!==e.extent?gb(e.extent,a.extent):a.extent)}return b};k.hg=function(){return"ready"};var ng="layers";var og=[],pg=[];function qg(a,b){switch(a){case "MAP_RENDERER":a=og;a.push(b);break;case "LAYER_RENDERER":a=pg;a.push(b);break;default:throw Error("Unsupported plugin type: "+a);}}function rg(a){for(var b=0,c=a.length;b<c;++b)qg("LAYER_RENDERER",a[b])};function G(a){Vc.call(this);var b=sg(a);this.ob=void 0!==a.loadTilesWhileAnimating?a.loadTilesWhileAnimating:!1;this.sc=void 0!==a.loadTilesWhileInteracting?a.loadTilesWhileInteracting:!1;this.ra=void 0!==a.pixelRatio?a.pixelRatio:nd;this.Md=b.logos;this.V=function(){this.j=void 0;this.pq.call(this)}.bind(this);this.La=We();this.If=We();this.bb=0;this.D=this.C=this.B=this.f=this.c=null;this.a=document.createElement("DIV");this.a.className="ol-viewport"+(sd?" ol-touch":"");this.a.style.position="relative";
this.a.style.overflow="hidden";this.a.style.width="100%";this.a.style.height="100%";this.a.style.msTouchAction="none";this.a.style.touchAction="none";this.o=document.createElement("DIV");this.o.className="ol-overlaycontainer";this.a.appendChild(this.o);this.v=document.createElement("DIV");this.v.className="ol-overlaycontainer-stopevent";for(var c="click dblclick mousedown touchstart MSPointerDown pointerdown mousewheel wheel".split(" "),d=0,e=c.length;d<e;++d)y(this.v,c[d],Rc);this.a.appendChild(this.v);
this.ca=new be(this,a.moveTolerance);for(var f in zd)y(this.ca,zd[f],this.bi,this);this.$=b.keyboardEventTarget;this.s=null;y(this.a,"wheel",this.yd,this);y(this.a,"mousewheel",this.yd,this);this.controls=b.controls||new B;this.interactions=b.interactions||new B;this.l=b.overlays;this.Fg={};this.pc=b.Im.create(this.a,this);this.T=null;this.Ea=[];this.ua=new le(this.Tl.bind(this),this.zm.bind(this));this.O={};y(this,Xc("layergroup"),this.fm,this);y(this,Xc("view"),this.Am,this);y(this,Xc("size"),this.um,
this);y(this,Xc("target"),this.ym,this);this.H(b.values);this.controls.forEach(function(a){a.setMap(this)},this);y(this.controls,"add",function(a){a.element.setMap(this)},this);y(this.controls,"remove",function(a){a.element.setMap(null)},this);this.interactions.forEach(function(a){a.setMap(this)},this);y(this.interactions,"add",function(a){a.element.setMap(this)},this);y(this.interactions,"remove",function(a){a.element.setMap(null)},this);this.l.forEach(this.zh,this);y(this.l,"add",function(a){this.zh(a.element)},
this);y(this.l,"remove",function(a){var b=a.element.id;void 0!==b&&delete this.Fg[b.toString()];a.element.setMap(null)},this)}w(G,Vc);k=G.prototype;k.Mf=function(a){this.controls.push(a)};k.Nf=function(a){this.interactions.push(a)};k.xe=function(a){this.hc().Cd().push(a)};k.ye=function(a){this.l.push(a)};k.zh=function(a){var b=a.id;void 0!==b&&(this.Fg[b.toString()]=a);a.setMap(this)};
k.ia=function(){Pc(this.ca);Mc(this.a,"wheel",this.yd,this);Mc(this.a,"mousewheel",this.yd,this);void 0!==this.i&&(window.removeEventListener("resize",this.i,!1),this.i=void 0);this.j&&(cancelAnimationFrame(this.j),this.j=void 0);this.Ad(null);Vc.prototype.ia.call(this)};k.Tc=function(a,b,c){if(this.c)return a=this.Ra(a),c=void 0!==c?c:{},this.pc.wa(a,this.c,void 0!==c.hitTolerance?c.hitTolerance*this.c.pixelRatio:0,b,null,void 0!==c.layerFilter?c.layerFilter:Re,null)};
k.Xf=function(a,b){var c=null;this.Tc(a,function(a){c||(c=[]);c.push(a)},b);return c};k.tg=function(a,b,c,d,e){if(this.c)return this.pc.Ti(a,this.c,b,void 0!==c?c:null,void 0!==d?d:Re,void 0!==e?e:null)};k.ng=function(a,b){if(!this.c)return!1;a=this.Ra(a);b=void 0!==b?b:{};return this.pc.Ui(a,this.c,void 0!==b.hitTolerance?b.hitTolerance*this.c.pixelRatio:0,void 0!==b.layerFilter?b.layerFilter:Re,null)};k.Sd=function(a){return this.Ra(this.ud(a))};
k.ud=function(a){var b=this.a.getBoundingClientRect();a=a.changedTouches?a.changedTouches[0]:a;return[a.clientX-b.left,a.clientY-b.top]};k.Xd=function(){return this.get("target")};k.Cc=function(){var a=this.Xd();return void 0!==a?"string"===typeof a?document.getElementById(a):a:null};k.Ra=function(a){var b=this.c;return b?af(b.pixelToCoordinateTransform,a.slice()):null};k.Wf=function(){return this.controls};k.gg=function(){return this.l};
k.fg=function(a){a=this.Fg[a.toString()];return void 0!==a?a:null};k.bg=function(){return this.interactions};k.hc=function(){return this.get("layergroup")};k.Xe=function(){return this.hc().Cd()};k.Ia=function(a){var b=this.c;return b?af(b.coordinateToPixelTransform,a.slice(0,2)):null};k.Ie=function(){return this.pc};k.Cb=function(){return this.get("size")};k.aa=function(){return this.get("view")};k.kg=function(){return this.a};
k.Tl=function(a,b,c,d){var e=this.c;if(!(e&&b in e.wantedTiles&&e.wantedTiles[b][a.lb()]))return Infinity;a=c[0]-e.focus[0];c=c[1]-e.focus[1];return 65536*Math.log(d)+Math.sqrt(a*a+c*c)/d};k.yd=function(a,b){a=new ed(b||a.type,this,a);this.bi(a)};k.bi=function(a){if(this.c){this.T=a.coordinate;a.frameState=this.c;var b=this.interactions.a,c;if(!1!==this.b(a))for(c=b.length-1;0<=c;c--){var d=b[c];if(d.c()&&!d.handleEvent(a))break}}};
k.sm=function(){var a=this.c,b=this.ua;if(0!==b.b.length){var c=16,d=c;if(a){var e=a.viewHints;e[0]&&(c=this.ob?8:0,d=2);e[1]&&(c=this.sc?8:0,d=2)}b.j<c&&(ke(b),me(b,c,d))}b=this.Ea;c=0;for(d=b.length;c<d;++c)b[c](this,a);b.length=0};k.um=function(){this.render()};
k.ym=function(){var a;this.Xd()&&(a=this.Cc());if(this.s){for(var b=0,c=this.s.length;b<c;++b)Gc(this.s[b]);this.s=null}if(a){a.appendChild(this.a);var d=this.$?this.$:a;this.s=[y(d,"keydown",this.yd,this),y(d,"keypress",this.yd,this)];this.i||(this.i=this.Oc.bind(this),window.addEventListener("resize",this.i,!1))}else{a=this.pc;for(d in a.c)Pc(tg(a,d));jg(this.a);void 0!==this.i&&(window.removeEventListener("resize",this.i,!1),this.i=void 0)}this.Oc()};k.zm=function(){this.render()};k.ei=function(){this.render()};
k.Am=function(){this.B&&(Gc(this.B),this.B=null);this.C&&(Gc(this.C),this.C=null);var a=this.aa();a&&(this.a.setAttribute("data-view",x(a)),this.B=y(a,"propertychange",this.ei,this),this.C=y(a,"change",this.ei,this));this.render()};k.fm=function(){this.D&&(this.D.forEach(Gc),this.D=null);var a=this.hc();a&&(this.D=[y(a,"propertychange",this.render,this),y(a,"change",this.render,this)]);this.render()};k.dh=function(){this.j&&cancelAnimationFrame(this.j);this.V()};
k.render=function(){void 0===this.j&&(this.j=requestAnimationFrame(this.V))};k.Xg=function(a){return this.controls.remove(a)};k.Zg=function(a){return this.interactions.remove(a)};k.$g=function(a){return this.hc().Cd().remove(a)};k.ah=function(a){return this.l.remove(a)};
k.pq=function(){var a=Date.now(),b,c=this.Cb(),d=this.aa(),e=Da(),f=this.c,g=null;if(void 0!==c&&0<c[0]&&0<c[1]&&d&&ag(d)){g=this.c?this.c.viewHints:void 0;void 0!==g?(g[0]=d.f[0],g[1]=d.f[1]):g=d.f.slice();var h=this.hc().dg(),l={};var m=0;for(b=h.length;m<b;++m)l[x(h[m].layer)]=h[m];m=d.getState();d=m.center;b=m.resolution/this.ra;d[0]=Math.round(d[0]/b)*b;d[1]=Math.round(d[1]/b)*b;g={animate:!1,coordinateToPixelTransform:this.La,extent:e,focus:this.T?this.T:d,index:this.bb++,layerStates:l,layerStatesArray:h,
logos:kb({},this.Md),pixelRatio:this.ra,pixelToCoordinateTransform:this.If,postRenderFunctions:[],size:c,skippedFeatureUids:this.O,tileQueue:this.ua,time:a,usedTiles:{},viewState:m,viewHints:g,wantedTiles:{}}}g&&(g.extent=fb(m.center,m.resolution,m.rotation,g.size,e));this.c=g;this.pc.bh(g);g&&(g.animate&&this.render(),Array.prototype.push.apply(this.Ea,g.postRenderFunctions),!f||this.f&&(bb(this.f)||Sa(g.extent,this.f))||(this.b(new dd("movestart",this,f)),this.f=Oa(this.f)),!this.f||g.viewHints[0]||
g.viewHints[1]||Sa(g.extent,this.f)||(this.b(new dd("moveend",this,g)),Ga(g.extent,this.f)));this.b(new dd("postrender",this,g));setTimeout(this.sm.bind(this),0)};k.zf=function(a){this.set("layergroup",a)};k.be=function(a){this.set("size",a)};k.Ad=function(a){this.set("target",a)};k.jh=function(a){this.set("view",a)};k.Uj=function(a){a=x(a).toString();this.O[a]=!0;this.render()};
k.Oc=function(){var a=this.Cc();if(a){var b=getComputedStyle(a);this.be([a.offsetWidth-parseFloat(b.borderLeftWidth)-parseFloat(b.paddingLeft)-parseFloat(b.paddingRight)-parseFloat(b.borderRightWidth),a.offsetHeight-parseFloat(b.borderTopWidth)-parseFloat(b.paddingTop)-parseFloat(b.paddingBottom)-parseFloat(b.borderBottomWidth)])}else this.be(void 0)};k.Zj=function(a){a=x(a).toString();delete this.O[a];this.render()};var ug=["canvas","webgl"];
function sg(a){var b=null;void 0!==a.keyboardEventTarget&&(b="string"===typeof a.keyboardEventTarget?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);var c={},d={};if(void 0===a.logo||"boolean"===typeof a.logo&&a.logo)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]=
"https://openlayers.org/";else{var e=a.logo;"string"===typeof e?d[e]="":e instanceof HTMLElement?d[x(e).toString()]=e:e&&(oa("string"==typeof e.href,44),oa("string"==typeof e.src,45),d[e.src]=e.href)}e=a.layers instanceof mg?a.layers:new mg({layers:a.layers});c.layergroup=e;c.target=a.target;c.view=void 0!==a.view?a.view:new F;var f;void 0!==a.renderer?(Array.isArray(a.renderer)?f=a.renderer:"string"===typeof a.renderer?f=[a.renderer]:oa(!1,46),0<=f.indexOf("dom")&&(f=f.concat(ug))):f=ug;e=0;var g=
f.length;a:for(;e<g;++e)for(var h=f[e],l=0,m=og.length;l<m;++l){var n=og[l];if(n.handles(h)){var p=n;break a}}if(!p)throw Error("Unable to create a map renderer for types: "+f.join(", "));if(void 0!==a.controls)if(Array.isArray(a.controls))var q=new B(a.controls.slice());else oa(a.controls instanceof B,47),q=a.controls;if(void 0!==a.interactions)if(Array.isArray(a.interactions))var r=new B(a.interactions.slice());else oa(a.interactions instanceof B,48),r=a.interactions;void 0!==a.overlays?Array.isArray(a.overlays)?
a=new B(a.overlays.slice()):(oa(a.overlays instanceof B,49),a=a.overlays):a=new B;return{controls:q,interactions:r,keyboardEventTarget:b,logos:d,overlays:a,Im:p,values:c}};function vg(a){Vc.call(this);this.element=a.element?a.element:null;this.a=this.T=null;this.s=[];this.render=a.render?a.render:ea;a.target&&this.i(a.target)}w(vg,Vc);vg.prototype.ia=function(){jg(this.element);Vc.prototype.ia.call(this)};vg.prototype.f=function(){return this.a};
vg.prototype.setMap=function(a){this.a&&jg(this.element);for(var b=0,c=this.s.length;b<c;++b)Gc(this.s[b]);this.s.length=0;if(this.a=a)(this.T?this.T:a.v).appendChild(this.element),this.render!==ea&&this.s.push(y(a,"postrender",this.render,this)),a.render()};vg.prototype.i=function(a){this.T="string"===typeof a?document.getElementById(a):a};var wg=function(){var a,b={};return function(c){a||(a=document.createElement("div").style);if(!(c in b)){a.font=c;var d=a.fontFamily;a.font="";if(!d)return null;b[c]=d.split(/,\s?/)}return b[c]}}();function xg(a){var b=kb({},a);delete b.source;kg.call(this,b);this.o=this.v=this.s=null;a.map&&this.setMap(a.map);y(this,Xc("source"),this.wm,this);this.hd(a.source?a.source:null)}w(xg,kg);function yg(a,b){return a.visible&&b>=a.minResolution&&b<a.maxResolution}k=xg.prototype;k.dg=function(a){a=a?a:[];a.push(lg(this));return a};k.ha=function(){return this.get("source")||null};k.hg=function(){var a=this.ha();return a?a.getState():"undefined"};k.yo=function(){this.u()};
k.wm=function(){this.o&&(Gc(this.o),this.o=null);var a=this.ha();a&&(this.o=y(a,"change",this.yo,this));this.u()};k.setMap=function(a){this.s&&(Gc(this.s),this.s=null);a||this.u();this.v&&(Gc(this.v),this.v=null);a&&(this.s=y(a,"precompose",function(a){var b=lg(this);b.Te=!1;b.zIndex=Infinity;a.frameState.layerStatesArray.push(b);a.frameState.layerStates[x(this)]=b},this),this.v=y(this,"change",a.render,a),this.u())};k.hd=function(a){this.set("source",a)};function zg(a){a=a?a:{};this.v=document.createElement("UL");this.l=document.createElement("LI");this.v.appendChild(this.l);this.l.style.display="none";this.c=void 0!==a.collapsed?a.collapsed:!0;this.j=void 0!==a.collapsible?a.collapsible:!0;this.j||(this.c=!1);var b=void 0!==a.className?a.className:"ol-attribution",c=void 0!==a.tipLabel?a.tipLabel:"Attributions",d=void 0!==a.collapseLabel?a.collapseLabel:"\u00bb";"string"===typeof d?(this.o=document.createElement("span"),this.o.textContent=d):this.o=
d;d=void 0!==a.label?a.label:"i";"string"===typeof d?(this.D=document.createElement("span"),this.D.textContent=d):this.D=d;var e=this.j&&!this.c?this.o:this.D;d=document.createElement("button");d.setAttribute("type","button");d.title=c;d.appendChild(e);y(d,"click",this.Bn,this);c=document.createElement("div");c.className=b+" ol-unselectable ol-control"+(this.c&&this.j?" ol-collapsed":"")+(this.j?"":" ol-uncollapsible");c.appendChild(this.v);c.appendChild(d);vg.call(this,{element:c,render:a.render?
a.render:Ag,target:a.target});this.B=[];this.C=!0;this.O={}}w(zg,vg);
function Ag(a){if(a=a.frameState){for(var b={},c=[],d=a.layerStatesArray,e=a.viewState.resolution,f=0,g=d.length;f<g;++f){var h=d[f];if(yg(h,e)&&(h=h.layer.ha())&&(h=h.C)&&(h=h(a)))if(Array.isArray(h))for(var l=0,m=h.length;l<m;++l)h[l]in b||(c.push(h[l]),b[h[l]]=!0);else h in b||(c.push(h),b[h]=!0)}if(!jc(c,this.B)){for(;this.v.lastChild!==this.l;)this.v.removeChild(this.v.lastChild);b=0;for(d=c.length;b<d;++b)e=document.createElement("LI"),e.innerHTML=c[b],this.v.appendChild(e);0===c.length&&0<
this.B.length?this.element.classList.add("ol-logo-only"):0===this.B.length&&0<c.length&&this.element.classList.remove("ol-logo-only");b=0<c.length||!nb(a.logos);this.C!=b&&(this.element.style.display=b?"":"none",this.C=b);this.B=c;a=a.logos;c=this.O;for(p in c)p in a||(jg(c[p]),delete c[p]);for(var n in a)if(d=a[n],d instanceof HTMLElement&&(this.l.appendChild(d),c[n]=d),!(n in c)){var p=new Image;p.src=n;""===d?b=p:(b=document.createElement("a"),b.href=d,b.appendChild(p));this.l.appendChild(b);c[n]=
b}this.l.style.display=nb(a)?"none":""}}else this.C&&(this.element.style.display="none",this.C=!1)}k=zg.prototype;k.Bn=function(a){a.preventDefault();Bg(this)};function Bg(a){a.element.classList.toggle("ol-collapsed");a.c?ig(a.o,a.D):ig(a.D,a.o);a.c=!a.c}k.An=function(){return this.j};k.Dn=function(a){this.j!==a&&(this.j=a,this.element.classList.toggle("ol-uncollapsible"),!a&&this.c&&Bg(this))};k.Cn=function(a){this.j&&this.c!==a&&Bg(this)};k.zn=function(){return this.c};function Cg(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-rotate",c=void 0!==a.label?a.label:"\u21e7";this.c=null;"string"===typeof c?(this.c=document.createElement("span"),this.c.className="ol-compass",this.c.textContent=c):(this.c=c,this.c.classList.add("ol-compass"));var d=a.tipLabel?a.tipLabel:"Reset rotation";c=document.createElement("button");c.className=b+"-reset";c.setAttribute("type","button");c.title=d;c.appendChild(this.c);y(c,"click",Cg.prototype.D,this);d=document.createElement("div");
d.className=b+" ol-unselectable ol-control";d.appendChild(c);b=a.render?a.render:Dg;this.l=a.resetNorth?a.resetNorth:void 0;vg.call(this,{element:d,render:b,target:a.target});this.v=void 0!==a.duration?a.duration:250;this.j=void 0!==a.autoHide?a.autoHide:!0;this.o=void 0;this.j&&this.element.classList.add("ol-hidden")}w(Cg,vg);Cg.prototype.D=function(a){a.preventDefault();void 0!==this.l?this.l():(a=this.a.aa())&&void 0!==a.Sa()&&(0<this.v?a.animate({rotation:0,duration:this.v,easing:Oe}):a.ce(0))};
function Dg(a){if(a=a.frameState){a=a.viewState.rotation;if(a!=this.o){var b="rotate("+a+"rad)";if(this.j){var c=this.element.classList.contains("ol-hidden");c||0!==a?c&&0!==a&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.c.style.msTransform=b;this.c.style.webkitTransform=b;this.c.style.transform=b}this.o=a}};function Eg(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-zoom",c=void 0!==a.delta?a.delta:1,d=void 0!==a.zoomInLabel?a.zoomInLabel:"+",e=void 0!==a.zoomOutLabel?a.zoomOutLabel:"\u2212",f=void 0!==a.zoomInTipLabel?a.zoomInTipLabel:"Zoom in",g=void 0!==a.zoomOutTipLabel?a.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=b+"-in";h.setAttribute("type","button");h.title=f;h.appendChild("string"===typeof d?document.createTextNode(d):d);y(h,"click",Eg.prototype.j.bind(this,
c));d=document.createElement("button");d.className=b+"-out";d.setAttribute("type","button");d.title=g;d.appendChild("string"===typeof e?document.createTextNode(e):e);y(d,"click",Eg.prototype.j.bind(this,-c));c=document.createElement("div");c.className=b+" ol-unselectable ol-control";c.appendChild(h);c.appendChild(d);vg.call(this,{element:c,target:a.target});this.c=void 0!==a.duration?a.duration:250}w(Eg,vg);
Eg.prototype.j=function(a,b){b.preventDefault();if(b=this.a.aa()){var c=b.Pa();c&&(a=b.constrainResolution(c,a),0<this.c?(b.Ac()&&b.rd(),b.animate({resolution:a,duration:this.c,easing:Oe})):b.gd(a))}};function Fg(a){a=a?a:{};var b=new B;(void 0!==a.zoom?a.zoom:1)&&b.push(new Eg(a.zoomOptions));(void 0!==a.rotate?a.rotate:1)&&b.push(new Cg(a.rotateOptions));(void 0!==a.attribution?a.attribution:1)&&b.push(new zg(a.attributionOptions));return b};function Gg(a,b,c){this.i=a;this.c=b;this.f=c;this.b=[];this.a=this.g=0}function Hg(a){a.b.length=0;a.g=0;a.a=0}function Ig(a){if(6>a.b.length)return!1;var b=Date.now()-a.f,c=a.b.length-3;if(a.b[c+2]<b)return!1;for(var d=c-3;0<d&&a.b[d+2]>b;)d-=3;b=a.b[c+2]-a.b[d+2];if(b<1E3/60)return!1;var e=a.b[c]-a.b[d];c=a.b[c+1]-a.b[d+1];a.g=Math.atan2(c,e);a.a=Math.sqrt(e*e+c*c)/b;return a.a>a.c};function Jg(a){Vc.call(this);this.v=null;this.Ha(!0);this.handleEvent=a.handleEvent}w(Jg,Vc);Jg.prototype.c=function(){return this.get("active")};Jg.prototype.i=function(){return this.v};Jg.prototype.Ha=function(a){this.set("active",a)};Jg.prototype.setMap=function(a){this.v=a};function Kg(a,b,c,d){if(void 0!==b){var e=a.Sa(),f=a.xa();void 0!==e&&f&&0<d?a.animate({rotation:b,anchor:c,duration:d,easing:Oe}):a.rotate(b,c)}}
function Lg(a,b,c,d){var e=a.Pa();b=a.constrainResolution(e,b,0);if(void 0!==b){var f=a.j;b=pa(b,a.i||f[f.length-1],a.a||f[0])}c&&void 0!==b&&b!==e&&(f=a.xa(),c=cg(a,b,c),c=a.Sc(c),c=[(b*f[0]-e*c[0])/(b-e),(b*f[1]-e*c[1])/(b-e)]);Tg(a,b,c,d)}function Tg(a,b,c,d){if(b){var e=a.Pa(),f=a.xa();void 0!==e&&f&&b!==e&&d?a.animate({resolution:b,anchor:c,duration:d,easing:Oe}):(c&&(c=cg(a,b,c),a.ub(c)),a.gd(b))}};function Ug(a){a=a?a:{};this.a=a.delta?a.delta:1;Jg.call(this,{handleEvent:Vg});this.f=void 0!==a.duration?a.duration:250}w(Ug,Jg);function Vg(a){var b=!1,c=a.originalEvent;if("dblclick"==a.type){b=a.coordinate;c=c.shiftKey?-this.a:this.a;var d=a.map.aa();Lg(d,c,b,this.f);a.preventDefault();b=!0}return!b};function Wg(a){a=a.originalEvent;return a.altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey}function Xg(a){a=a.originalEvent;return a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey}function Yg(a){a=a.originalEvent;return 0==a.button&&!(ld&&md&&a.ctrlKey)}function Zg(a){return"pointermove"==a.type}function $g(a){return"singleclick"==a.type}function ah(a){a=a.originalEvent;return!a.altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey}
function bh(a){a=a.originalEvent;return!a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey}function ch(a){a=a.originalEvent.target.tagName;return"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a}function dh(a){oa(a.b,56);return"mouse"==a.b.pointerType}function eh(a){a=a.b;return a.isPrimary&&0===a.button};function fh(a){a=a?a:{};Jg.call(this,{handleEvent:a.handleEvent?a.handleEvent:gh});this.ck=a.handleDownEvent?a.handleDownEvent:Se;this.Ek=a.handleDragEvent?a.handleDragEvent:ea;this.Kk=a.handleMoveEvent?a.handleMoveEvent:ea;this.Lk=a.handleUpEvent?a.handleUpEvent:Se;this.D=!1;this.$={};this.l=[]}w(fh,Jg);function hh(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}
function gh(a){if(!(a instanceof Ad))return!0;var b=!1,c=a.type;if("pointerdown"===c||"pointerdrag"===c||"pointerup"===c){c=a.b;var d=c.pointerId.toString();"pointerup"==a.type?delete this.$[d]:"pointerdown"==a.type?this.$[d]=c:d in this.$&&(this.$[d]=c);this.l=mb(this.$)}this.D?"pointerdrag"==a.type?this.Ek(a):"pointerup"==a.type&&(this.D=this.Lk(a)&&0<this.l.length):"pointerdown"==a.type?(this.D=a=this.ck(a),b=this.jd(a)):"pointermove"==a.type&&this.Kk(a);return!b}fh.prototype.jd=function(a){return a};function ih(a){fh.call(this,{handleDownEvent:jh,handleDragEvent:kh,handleUpEvent:lh});a=a?a:{};this.a=a.kinetic;this.f=null;this.o=a.condition?a.condition:ah;this.j=!1}w(ih,fh);function kh(a){var b=this.l,c=hh(b);if(b.length==this.s){if(this.a&&this.a.b.push(c[0],c[1],Date.now()),this.f){var d=this.f[0]-c[0],e=c[1]-this.f[1];a=a.map.aa();var f=a.getState();d=[d,e];Ge(d,f.resolution);Fe(d,f.rotation);ze(d,f.center);d=a.Sc(d);a.ub(d)}}else this.a&&Hg(this.a);this.f=c;this.s=b.length}
function lh(a){var b=a.map;a=b.aa();if(0===this.l.length){if(!this.j&&this.a&&Ig(this.a)){var c=this.a;c=(c.c-c.a)/c.i;var d=this.a.g,e=a.xa();e=b.Ia(e);b=b.Ra([e[0]-c*Math.cos(d),e[1]-c*Math.sin(d)]);a.animate({center:a.Sc(b),duration:500,easing:Oe})}bg(a,1,-1);return!1}this.a&&Hg(this.a);this.f=null;return!0}
function jh(a){if(0<this.l.length&&this.o(a)){var b=a.map.aa();this.f=null;this.D||bg(b,1,1);b.Ac()&&b.ub(a.frameState.viewState.center);this.a&&Hg(this.a);this.j=1<this.l.length;return!0}return!1}ih.prototype.jd=Se;function mh(a){a=a?a:{};fh.call(this,{handleDownEvent:nh,handleDragEvent:oh,handleUpEvent:ph});this.f=a.condition?a.condition:Xg;this.a=void 0;this.j=void 0!==a.duration?a.duration:250}w(mh,fh);function oh(a){if(dh(a)){var b=a.map,c=b.aa();if(c.l.rotation!==re){b=b.Cb();a=a.pixel;a=Math.atan2(b[1]/2-a[1],a[0]-b[0]/2);if(void 0!==this.a){b=a-this.a;var d=c.Sa();Kg(c,d-b)}this.a=a}}}
function ph(a){if(!dh(a))return!0;a=a.map.aa();bg(a,1,-1);var b=a.Sa(),c=this.j;b=a.constrainRotation(b,0);Kg(a,b,void 0,c);return!1}function nh(a){return dh(a)&&Yg(a)&&this.f(a)?(bg(a.map.aa(),1,1),this.a=void 0,!0):!1}mh.prototype.jd=Se;function qh(a){this.Uc=null;this.a=document.createElement("div");this.a.style.position="absolute";this.a.className="ol-box "+a;this.g=this.c=this.b=null}w(qh,Oc);qh.prototype.ia=function(){this.setMap(null)};function rh(a){var b=a.c,c=a.g;a=a.a.style;a.left=Math.min(b[0],c[0])+"px";a.top=Math.min(b[1],c[1])+"px";a.width=Math.abs(c[0]-b[0])+"px";a.height=Math.abs(c[1]-b[1])+"px"}
qh.prototype.setMap=function(a){if(this.b){this.b.o.removeChild(this.a);var b=this.a.style;b.left=b.top=b.width=b.height="inherit"}(this.b=a)&&this.b.o.appendChild(this.a)};function sh(a){var b=a.c,c=a.g;b=[b,[b[0],c[1]],c,[c[0],b[1]]].map(a.b.Ra,a.b);b[4]=b[0].slice();a.Uc?a.Uc.na([b]):a.Uc=new D([b])}qh.prototype.U=function(){return this.Uc};function th(a){fh.call(this,{handleDownEvent:uh,handleDragEvent:vh,handleUpEvent:wh});a=a?a:{};this.a=new qh(a.className||"ol-dragbox");this.o=void 0!==a.minArea?a.minArea:64;this.f=null;this.C=a.condition?a.condition:Re;this.s=a.boxEndCondition?a.boxEndCondition:xh}w(th,fh);function xh(a,b,c){a=c[0]-b[0];b=c[1]-b[1];return a*a+b*b>=this.o}function vh(a){if(dh(a)){var b=this.a,c=a.pixel;b.c=this.f;b.g=c;sh(b);rh(b);this.b(new yh(zh,a.coordinate,a))}}th.prototype.U=function(){return this.a.U()};
th.prototype.j=ea;function wh(a){if(!dh(a))return!0;this.a.setMap(null);this.s(a,this.f,a.pixel)&&(this.j(a),this.b(new yh(Ah,a.coordinate,a)));return!1}function uh(a){if(dh(a)&&Yg(a)&&this.C(a)){this.f=a.pixel;this.a.setMap(a.map);var b=this.a,c=this.f;b.c=this.f;b.g=c;sh(b);rh(b);this.b(new yh(Bh,a.coordinate,a));return!0}return!1}var Bh="boxstart",zh="boxdrag",Ah="boxend";function yh(a,b,c){Qc.call(this,a);this.coordinate=b;this.mapBrowserEvent=c}w(yh,Qc);function Ch(a){a=a?a:{};var b=a.condition?a.condition:bh;this.B=void 0!==a.duration?a.duration:200;this.T=void 0!==a.out?a.out:!1;th.call(this,{condition:b,className:a.className||"ol-dragzoom"})}w(Ch,th);
Ch.prototype.j=function(){var a=this.v,b=a.aa(),c=a.Cb(),d=this.U().G();if(this.T){var e=b.qd(c);d=[a.Ia(Wa(d)),a.Ia(Za(d))];a=Oa(void 0);var f;var g=0;for(f=d.length;g<f;++g)Ea(a,d[g]);d=b.Je(a,c);ib(e,1/d);d=e}c=b.constrainResolution(b.Je(d,c));e=eb(d);e=b.Sc(e);b.animate({resolution:c,center:e,duration:this.B,easing:Oe})};function Dh(a){Jg.call(this,{handleEvent:Eh});a=a||{};this.a=function(a){return ah(a)&&ch(a)};this.f=void 0!==a.condition?a.condition:this.a;this.j=void 0!==a.duration?a.duration:100;this.l=void 0!==a.pixelDelta?a.pixelDelta:128}w(Dh,Jg);
function Eh(a){var b=!1;if("keydown"==a.type){var c=a.originalEvent.keyCode;if(this.f(a)&&(40==c||37==c||39==c||38==c)){b=a.map.aa();var d=b.Pa()*this.l,e=0,f=0;40==c?f=-d:37==c?e=-d:39==c?e=d:f=d;d=[e,f];Fe(d,b.Sa());c=this.j;if(e=b.xa())d=b.Sc([e[0]+d[0],e[1]+d[1]]),c?b.animate({duration:c,easing:Qe,center:d}):b.ub(d);a.preventDefault();b=!0}}return!b};function Fh(a){Jg.call(this,{handleEvent:Gh});a=a?a:{};this.f=a.condition?a.condition:ch;this.a=a.delta?a.delta:1;this.j=void 0!==a.duration?a.duration:100}w(Fh,Jg);function Gh(a){var b=!1;if("keydown"==a.type||"keypress"==a.type){var c=a.originalEvent.charCode;!this.f(a)||43!=c&&45!=c||(b=43==c?this.a:-this.a,c=a.map.aa(),Lg(c,b,void 0,this.j),a.preventDefault(),b=!0)}return!b};function Hh(a){Jg.call(this,{handleEvent:Ih});a=a||{};this.j=0;this.D=void 0!==a.duration?a.duration:250;this.$=void 0!==a.timeout?a.timeout:80;this.C=void 0!==a.useAnchor?a.useAnchor:!0;this.O=a.constrainResolution||!1;this.a=null;this.s=this.l=this.o=this.f=void 0}w(Hh,Jg);
function Ih(a){var b=a.type;if("wheel"!==b&&"mousewheel"!==b)return!0;a.preventDefault();b=a.map;var c=a.originalEvent;this.C&&(this.a=a.coordinate);if("wheel"==a.type){var d=c.deltaY;jd&&c.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(d/=nd);c.deltaMode===WheelEvent.DOM_DELTA_LINE&&(d*=40)}else"mousewheel"==a.type&&(d=-c.wheelDeltaY,kd&&(d/=3));if(0===d)return!1;a=Date.now();void 0===this.f&&(this.f=a);if(!this.l||400<a-this.f)this.l=4>Math.abs(d)?Ph:Qh;if(this.l===Ph){b=b.aa();this.s?clearTimeout(this.s):
bg(b,1,1);this.s=setTimeout(this.B.bind(this),400);c=b.Pa()*Math.pow(2,d/300);var e=b.i,f=b.a,g=0;c<e?(c=Math.max(c,e/1.5),g=1):c>f&&(c=Math.min(c,1.5*f),g=-1);if(this.a){var h=cg(b,c,this.a);b.ub(b.Sc(h))}b.gd(c);0===g&&this.O&&b.animate({resolution:b.constrainResolution(c,0<d?-1:1),easing:Oe,anchor:this.a,duration:this.D});0<g?b.animate({resolution:e,easing:Oe,anchor:this.a,duration:500}):0>g&&b.animate({resolution:f,easing:Oe,anchor:this.a,duration:500});this.f=a;return!1}this.j+=d;d=Math.max(this.$-
(a-this.f),0);clearTimeout(this.o);this.o=setTimeout(this.T.bind(this,b),d);return!1}Hh.prototype.B=function(){this.s=void 0;bg(this.v.aa(),1,-1)};Hh.prototype.T=function(a){a=a.aa();a.Ac()&&a.rd();Lg(a,-pa(this.j,-1,1),this.a,this.D);this.l=void 0;this.j=0;this.a=null;this.o=this.f=void 0};Hh.prototype.V=function(a){this.C=a;a||(this.a=null)};var Ph="trackpad",Qh="wheel";function Rh(a){fh.call(this,{handleDownEvent:Sh,handleDragEvent:Th,handleUpEvent:Uh});a=a||{};this.f=null;this.j=void 0;this.a=!1;this.s=0;this.C=void 0!==a.threshold?a.threshold:.3;this.o=void 0!==a.duration?a.duration:250}w(Rh,fh);
function Th(a){var b=0,c=this.l[0],d=this.l[1];c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);void 0!==this.j&&(b=c-this.j,this.s+=b,!this.a&&Math.abs(this.s)>this.C&&(this.a=!0));this.j=c;a=a.map;c=a.aa();if(c.l.rotation!==re){d=a.a.getBoundingClientRect();var e=hh(this.l);e[0]-=d.left;e[1]-=d.top;this.f=a.Ra(e);this.a&&(d=c.Sa(),a.render(),Kg(c,d+b,this.f))}}
function Uh(a){if(2>this.l.length){a=a.map.aa();bg(a,1,-1);if(this.a){var b=a.Sa(),c=this.f,d=this.o;b=a.constrainRotation(b,0);Kg(a,b,c,d)}return!1}return!0}function Sh(a){return 2<=this.l.length?(a=a.map,this.f=null,this.j=void 0,this.a=!1,this.s=0,this.D||bg(a.aa(),1,1),!0):!1}Rh.prototype.jd=Se;function Vh(a){fh.call(this,{handleDownEvent:Wh,handleDragEvent:Xh,handleUpEvent:Yh});a=a?a:{};this.s=a.constrainResolution||!1;this.f=null;this.o=void 0!==a.duration?a.duration:400;this.a=void 0;this.j=1}w(Vh,fh);
function Xh(a){var b=1,c=this.l[0],d=this.l[1],e=c.clientX-d.clientX;c=c.clientY-d.clientY;e=Math.sqrt(e*e+c*c);void 0!==this.a&&(b=this.a/e);this.a=e;a=a.map;e=a.aa();d=e.Pa();var f=e.a,g=e.i;c=d*b;c>f?(b=f/d,c=f):c<g&&(b=g/d,c=g);1!=b&&(this.j=b);b=a.a.getBoundingClientRect();d=hh(this.l);d[0]-=b.left;d[1]-=b.top;this.f=a.Ra(d);a.render();Tg(e,c,this.f)}
function Yh(a){if(2>this.l.length){a=a.map.aa();bg(a,1,-1);var b=a.Pa();if(this.s||b<a.i||b>a.a){var c=this.f,d=this.o;b=a.constrainResolution(b,0,this.j-1);Tg(a,b,c,d)}return!1}return!0}function Wh(a){return 2<=this.l.length?(a=a.map,this.f=null,this.a=void 0,this.j=1,this.D||bg(a.aa(),1,1),!0):!1}Vh.prototype.jd=Se;function Zh(a){a=a?a:{};var b=new B,c=new Gg(-.005,.05,100);(void 0!==a.altShiftDragRotate?a.altShiftDragRotate:1)&&b.push(new mh);(void 0!==a.doubleClickZoom?a.doubleClickZoom:1)&&b.push(new Ug({delta:a.zoomDelta,duration:a.zoomDuration}));(void 0!==a.dragPan?a.dragPan:1)&&b.push(new ih({kinetic:c}));(void 0!==a.pinchRotate?a.pinchRotate:1)&&b.push(new Rh);(void 0!==a.pinchZoom?a.pinchZoom:1)&&b.push(new Vh({constrainResolution:a.constrainResolution,duration:a.zoomDuration}));if(void 0!==a.keyboard?
a.keyboard:1)b.push(new Dh),b.push(new Fh({delta:a.zoomDelta,duration:a.zoomDuration}));(void 0!==a.mouseWheelZoom?a.mouseWheelZoom:1)&&b.push(new Hh({constrainResolution:a.constrainResolution,duration:a.zoomDuration}));(void 0!==a.shiftDragZoom?a.shiftDragZoom:1)&&b.push(new Ch({duration:a.zoomDuration}));return b};function $h(a,b,c,d){Sc.call(this);this.extent=a;this.a=c;this.resolution=b;this.state=d}w($h,Sc);$h.prototype.u=function(){this.b("change")};$h.prototype.G=function(){return this.extent};$h.prototype.getState=function(){return this.state};function ai(a,b,c,d,e){this.c=void 0!==e?e:null;$h.call(this,a,b,c,void 0!==e?0:2);this.g=d}w(ai,$h);ai.prototype.i=function(a){this.state=a?3:2;this.u()};ai.prototype.load=function(){0==this.state&&(this.state=1,this.u(),this.c(this.i.bind(this)))};ai.prototype.Y=function(){return this.g};function bi(a,b,c,d,e){Qc.call(this,a);this.vectorContext=b;this.frameState=c;this.context=d;this.glContext=e}w(bi,Qc);function ci(a){Sc.call(this);this.highWaterMark=void 0!==a?a:2048;this.i=0;this.a={};this.c=this.g=null}w(ci,Sc);function di(a){return a.i>a.highWaterMark}k=ci.prototype;k.clear=function(){this.i=0;this.a={};this.c=this.g=null;this.b("clear")};k.forEach=function(a,b){for(var c=this.g;c;)a.call(b,c.Pc,c.jc,this),c=c.kb};
k.get=function(a){a=this.a[a];oa(void 0!==a,15);if(a===this.c)return a.Pc;a===this.g?(this.g=this.g.kb,this.g.Pb=null):(a.kb.Pb=a.Pb,a.Pb.kb=a.kb);a.kb=null;a.Pb=this.c;this.c=this.c.kb=a;return a.Pc};k.remove=function(a){var b=this.a[a];oa(void 0!==b,15);if(b===this.c){if(this.c=b.Pb)this.c.kb=null}else if(b===this.g){if(this.g=b.kb)this.g.Pb=null}else b.kb.Pb=b.Pb,b.Pb.kb=b.kb;delete this.a[a];--this.i;return b.Pc};
k.pop=function(){var a=this.g;delete this.a[a.jc];a.kb&&(a.kb.Pb=null);this.g=a.kb;this.g||(this.c=null);--this.i;return a.Pc};k.replace=function(a,b){this.get(a);this.a[a].Pc=b};k.set=function(a,b){oa(!(a in this.a),16);b={jc:a,kb:null,Pb:this.c,Pc:b};this.c?this.c.kb=b:this.g=b;this.c=b;this.a[a]=b;++this.i};var ei=[0,0,0,1],fi=[],gi=[0,0,0,1],hi=[0,0,0,0],ii=new ci,ji={},ki=null,li={},ni=function(){function a(a){var b=mi();b.font="32px monospace";f=b.measureText("wmytzilWMYTZIL@#/&?$%10").width;var c=!0;"monospace"!=a&&(b.font="32px "+a+",monospace",c=b.measureText("wmytzilWMYTZIL@#/&?$%10").width!=f);return c}function b(){var b=!0,f;for(f in c)60>c[f]&&(a(f)?(c[f]=60,lb(li),ki=null,d.clear()):(++c[f],b=!1));b&&(window.clearInterval(e),e=void 0)}var c=ji,d=ii,e,f;return function(d){if(d=wg(d))for(var f=
0,g=d.length;f<g;++f){var m=d[f];m in c||(c[m]=60,a(m)||(c[m]=0,void 0===e&&(e=window.setInterval(b,32))))}}}();function mi(){var a=ki;a||(a=ki=hg(1,1));return a}
var oi=function(){var a;return function(b){var c=li[b];void 0==c&&(a||(a=document.createElement("span"),a.textContent="M",a.style.margin=a.style.padding="0 !important",a.style.position="absolute !important",a.style.left="-99999px !important"),a.style.font=b,document.body.appendChild(a),c=li[b]=a.offsetHeight,document.body.removeChild(a));return c}}();function pi(a,b){var c=mi();a!=c.font&&(c.font=a);return c.measureText(b).width}
function qi(a,b,c,d){0!==b&&(a.translate(c,d),a.rotate(b),a.translate(-c,-d))}var ri=We();function si(a,b,c,d,e,f,g,h,l,m,n){if(1!=c){var p=a.globalAlpha;a.globalAlpha=p*c}b&&a.setTransform.apply(a,b);a.drawImage(d,e,f,g,h,l,m,g*n,h*n);p&&(a.globalAlpha=p);b&&a.setTransform.apply(a,ri)};var ti=/^#(?:[0-9a-f]{3,4}){1,2}$/i,ui=/^([a-z]*)$/i;function vi(a){return Array.isArray(a)?a:wi(a)}function xi(a){if("string"!==typeof a){var b=a[0];b!=(b|0)&&(b=b+.5|0);var c=a[1];c!=(c|0)&&(c=c+.5|0);var d=a[2];d!=(d|0)&&(d=d+.5|0);a="rgba("+b+","+c+","+d+","+(void 0===a[3]?1:a[3])+")"}return a}
var wi=function(){var a={},b=0;return function(c){if(a.hasOwnProperty(c))var d=a[c];else{if(1024<=b){d=0;for(var e in a)0===(d++&3)&&(delete a[e],--b)}d=c;ui.exec(d)&&(e=document.createElement("div"),e.style.color=d,document.body.appendChild(e),d=getComputedStyle(e).color,document.body.removeChild(e));if(ti.exec(d)){e=d.length-1;var f=4>=e?1:2;var g=4===e||8===e;e=parseInt(d.substr(1+0*f,f),16);var h=parseInt(d.substr(1+1*f,f),16);var l=parseInt(d.substr(1+2*f,f),16);d=g?parseInt(d.substr(1+3*f,f),
16):255;1==f&&(e=(e<<4)+e,h=(h<<4)+h,l=(l<<4)+l,g&&(d=(d<<4)+d));f=[e,h,l,d/255]}else 0==d.indexOf("rgba(")?(d=d.slice(5,-1).split(",").map(Number),f=yi(d)):0==d.indexOf("rgb(")?(d=d.slice(4,-1).split(",").map(Number),d.push(1),f=yi(d)):oa(!1,14);d=f;a[c]=d;++b}return d}}();function yi(a){var b=[];b[0]=pa(a[0]+.5|0,0,255);b[1]=pa(a[1]+.5|0,0,255);b[2]=pa(a[2]+.5|0,0,255);b[3]=pa(a[3],0,1);return b};function zi(a){return"string"===typeof a||a instanceof CanvasPattern||a instanceof CanvasGradient?a:xi(a)};function Ai(){}k=Ai.prototype;k.Hh=function(){};k.Hb=function(){};k.Dd=function(){};k.cc=function(){};k.Ce=function(){};k.De=function(){};k.uc=function(){};k.vc=function(){};k.wc=function(){};k.xc=function(){};k.yc=function(){};k.zc=function(){};k.Wb=function(){};k.Oa=function(){};k.Zb=function(){};k.nb=function(){};function Bi(a,b,c,d,e){this.g=a;this.f=b;this.c=c;this.N=d;this.ob=e;this.M=this.b=this.a=this.Wa=this.O=this.T=null;this.$=this.V=this.v=this.B=this.C=this.D=0;this.ca=!1;this.i=this.ab=0;this.ra=!1;this.oa=0;this.ta="";this.Ub=this.ua=0;this.Ea=!1;this.s=this.La=0;this.qa=this.l=this.j=null;this.o=[];this.bb=We()}w(Bi,Ai);
function Ci(a,b,c){if(a.M){b=Te(b,0,c,2,a.N,a.o);c=a.g;var d=a.bb,e=c.globalAlpha;1!=a.v&&(c.globalAlpha=e*a.v);var f=a.ab;a.ca&&(f+=a.ob);var g;var h=0;for(g=b.length;h<g;h+=2){var l=b[h]-a.D,m=b[h+1]-a.C;a.ra&&(l=Math.round(l),m=Math.round(m));if(0!==f||1!=a.i){var n=l+a.D,p=m+a.C;ef(d,n,p,a.i,a.i,f,-n,-p);c.setTransform.apply(c,d)}c.drawImage(a.M,a.V,a.$,a.oa,a.B,l,m,a.oa,a.B)}0===f&&1==a.i||c.setTransform(1,0,0,1,0,0);1!=a.v&&(c.globalAlpha=e)}}
function Di(a,b,c,d){var e=0;if(a.qa&&""!==a.ta){a.j&&Ei(a,a.j);a.l&&Fi(a,a.l);var f=a.qa,g=a.g,h=a.Wa,l=f.textAlign?f.textAlign:"center";h?(h.font!=f.font&&(h.font=g.font=f.font),h.textAlign!=l&&(h.textAlign=l),h.textBaseline!=f.textBaseline&&(h.textBaseline=g.textBaseline=f.textBaseline)):(g.font=f.font,g.textAlign=l,g.textBaseline=f.textBaseline,a.Wa={font:f.font,textAlign:l,textBaseline:f.textBaseline});b=Te(b,e,c,d,a.N,a.o);f=a.g;g=a.La;for(a.Ea&&(g+=a.ob);e<c;e+=d){h=b[e]+a.ua;l=b[e+1]+a.Ub;
if(0!==g||1!=a.s){var m=ef(a.bb,h,l,a.s,a.s,g,-h,-l);f.setTransform.apply(f,m)}a.l&&f.strokeText(a.ta,h,l);a.j&&f.fillText(a.ta,h,l)}0===g&&1==a.s||f.setTransform(1,0,0,1,0,0)}}function Gi(a,b,c,d,e,f){var g=a.g;a=Te(b,c,d,e,a.N,a.o);g.moveTo(a[0],a[1]);b=a.length;f&&(b-=2);for(c=2;c<b;c+=2)g.lineTo(a[c],a[c+1]);f&&g.closePath();return d}function Hi(a,b,c,d,e){var f;var g=0;for(f=d.length;g<f;++g)c=Gi(a,b,c,d[g],e,!0);return c}k=Bi.prototype;
k.cc=function(a){if(hb(this.c,a.G())){if(this.a||this.b){this.a&&Ei(this,this.a);this.b&&Fi(this,this.b);var b=this.N;var c=this.o,d=a.da();b=d?Te(d,0,d.length,a.pa(),b,c):null;c=b[2]-b[0];d=b[3]-b[1];c=Math.sqrt(c*c+d*d);d=this.g;d.beginPath();d.arc(b[0],b[1],c,0,2*Math.PI);this.a&&d.fill();this.b&&d.stroke()}""!==this.ta&&Di(this,a.xa(),2,2)}};k.Dd=function(a){this.Oa(a.Fa(),a.Ga());this.Zb(a.Y());this.nb(a.Ka())};
k.Hb=function(a){switch(a.S()){case "Point":this.yc(a);break;case "LineString":this.uc(a);break;case "Polygon":this.zc(a);break;case "MultiPoint":this.wc(a);break;case "MultiLineString":this.vc(a);break;case "MultiPolygon":this.xc(a);break;case "GeometryCollection":this.De(a);break;case "Circle":this.cc(a)}};k.Ce=function(a,b){(a=(0,b.cb)(a))&&hb(this.c,a.G())&&(this.Dd(b),this.Hb(a))};k.De=function(a){a=a.a;var b;var c=0;for(b=a.length;c<b;++c)this.Hb(a[c])};
k.yc=function(a){var b=a.da();a=a.pa();this.M&&Ci(this,b,b.length);""!==this.ta&&Di(this,b,b.length,a)};k.wc=function(a){var b=a.da();a=a.pa();this.M&&Ci(this,b,b.length);""!==this.ta&&Di(this,b,b.length,a)};k.uc=function(a){if(hb(this.c,a.G())){if(this.b){Fi(this,this.b);var b=this.g,c=a.da();b.beginPath();Gi(this,c,0,c.length,a.pa(),!1);b.stroke()}""!==this.ta&&(a=a.Fe(),Di(this,a,2,2))}};
k.vc=function(a){var b=a.G();if(hb(this.c,b)){if(this.b){Fi(this,this.b);b=this.g;var c=a.da(),d=0,e=a.pb(),f=a.pa();b.beginPath();var g;var h=0;for(g=e.length;h<g;++h)d=Gi(this,c,d,e[h],f,!1);b.stroke()}""!==this.ta&&(a=a.Ge(),Di(this,a,a.length,2))}};k.zc=function(a){if(hb(this.c,a.G())){if(this.b||this.a){this.a&&Ei(this,this.a);this.b&&Fi(this,this.b);var b=this.g;b.beginPath();Hi(this,a.Xb(),0,a.pb(),a.pa());this.a&&b.fill();this.b&&b.stroke()}""!==this.ta&&(a=a.Td(),Di(this,a,2,2))}};
k.xc=function(a){if(hb(this.c,a.G())){if(this.b||this.a){this.a&&Ei(this,this.a);this.b&&Fi(this,this.b);var b=this.g,c=Ii(a),d=0,e=a.td(),f=a.pa(),g;b.beginPath();var h=0;for(g=e.length;h<g;++h)d=Hi(this,c,d,e[h],f);this.a&&b.fill();this.b&&b.stroke()}""!==this.ta&&(a=Ji(a),Di(this,a,a.length,2))}};function Ei(a,b){var c=a.g,d=a.T;d?d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle):(c.fillStyle=b.fillStyle,a.T={fillStyle:b.fillStyle})}
function Fi(a,b){var c=a.g,d=a.O;d?(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),od&&(jc(d.lineDash,b.lineDash)||c.setLineDash(d.lineDash=b.lineDash),d.lineDashOffset!=b.lineDashOffset&&(d.lineDashOffset=c.lineDashOffset=b.lineDashOffset)),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle)):
(c.lineCap=b.lineCap,od&&(c.setLineDash(b.lineDash),c.lineDashOffset=b.lineDashOffset),c.lineJoin=b.lineJoin,c.lineWidth=b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.O={lineCap:b.lineCap,lineDash:b.lineDash,lineDashOffset:b.lineDashOffset,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle})}
k.Oa=function(a,b){a?(a=a.b,this.a={fillStyle:zi(a?a:ei)}):this.a=null;if(b){a=b.a;var c=b.f,d=b.g,e=b.i,f=b.j,g=b.c;b=b.l;this.b={lineCap:void 0!==c?c:"round",lineDash:d?d:fi,lineDashOffset:e?e:0,lineJoin:void 0!==f?f:"round",lineWidth:this.f*(void 0!==g?g:1),miterLimit:void 0!==b?b:10,strokeStyle:zi(a?a:gi)}}else this.b=null};
k.Zb=function(a){if(a){var b=a.Vc(),c=a.Y(1),d=a.bd(),e=a.oc();this.D=b[0];this.C=b[1];this.B=e[1];this.M=c;this.v=a.i;this.V=d[0];this.$=d[1];this.ca=a.s;this.ab=a.f;this.i=a.a*this.f;this.ra=a.v;this.oa=e[0]}else this.M=null};
k.nb=function(a){if(a){var b=a.Fa();b?(b=b.b,this.j={fillStyle:zi(b?b:ei)}):this.j=null;var c=a.Ga();if(c){b=c.a;var d=c.f,e=c.g,f=c.i,g=c.j,h=c.c;c=c.l;this.l={lineCap:void 0!==d?d:"round",lineDash:e?e:fi,lineDashOffset:f?f:0,lineJoin:void 0!==g?g:"round",lineWidth:void 0!==h?h:1,miterLimit:void 0!==c?c:10,strokeStyle:zi(b?b:gi)}}else this.l=null;b=a.a;d=a.g;e=a.c;f=a.l;g=a.i;h=a.b;c=a.Ka();var l=a.f;a=a.j;this.qa={font:void 0!==b?b:"10px sans-serif",textAlign:void 0!==l?l:"center",textBaseline:void 0!==
a?a:"middle"};this.ta=void 0!==c?c:"";this.ua=void 0!==d?this.f*d:0;this.Ub=void 0!==e?this.f*e:0;this.Ea=void 0!==f?f:!1;this.La=void 0!==g?g:0;this.s=this.f*(void 0!==h?h:1)}else this.ta=""};function Ki(a){Uc.call(this);this.a=a}w(Ki,Uc);Ki.prototype.wa=ea;Ki.prototype.cf=Se;Ki.prototype.Rf=function(a,b,c){return function(d,e){return Li(a,b,d,e,function(a){c[d]||(c[d]={});c[d][a.ya.toString()]=a})}};Ki.prototype.$=function(a){2===a.target.getState()&&Mi(this)};function Si(a,b){var c=b.getState();2!=c&&3!=c&&y(b,"change",a.$,a);0==c&&(b.load(),c=b.getState());return 2==c}function Mi(a){var b=a.a;b.Jb()&&"ready"==b.hg()&&a.u()}
function Ti(a,b){b.cj()&&a.postRenderFunctions.push(function(a,b,e){b=x(a).toString();b in e.usedTiles&&a.sd(e.viewState.projection,e.usedTiles[b])}.bind(null,b))}function Ui(a,b){b=b.T;void 0!==b&&("string"===typeof b?a.logos[b]="":b&&(oa("string"==typeof b.href,44),oa("string"==typeof b.src,45),a.logos[b.src]=b.href))}
function Vi(a,b,c,d){b=x(b).toString();c=c.toString();b in a?c in a[b]?(a=a[b][c],d.fa<a.fa&&(a.fa=d.fa),d.la>a.la&&(a.la=d.la),d.ea<a.ea&&(a.ea=d.ea),d.ka>a.ka&&(a.ka=d.ka)):a[b][c]=d:(a[b]={},a[b][c]=d)}
function Wi(a,b,c,d,e,f,g,h,l,m){var n=x(b).toString();n in a.wantedTiles||(a.wantedTiles[n]={});var p=a.wantedTiles[n];a=a.tileQueue;var q,r,u;for(u=c.minZoom;u<=g;++u){var v=tc(c,f,u,v);var z=c.Ta(u);for(q=v.fa;q<=v.la;++q)for(r=v.ea;r<=v.ka;++r)if(g-u<=h){var A=b.ad(u,q,r,d,e);0==A.getState()&&(p[A.lb()]=!0,A.lb()in a.a||a.i([A,n,yc(c,A.ya),z]));void 0!==l&&l.call(m,A)}else b.kh(u,q,r,e)}};function Xi(a){Ki.call(this,a);this.V=We()}w(Xi,Ki);function Yi(a,b,c){var d=b.pixelRatio,e=b.size[0]*d,f=b.size[1]*d,g=b.viewState.rotation,h=$a(c),l=Za(c),m=Ya(c);c=Wa(c);af(b.coordinateToPixelTransform,h);af(b.coordinateToPixelTransform,l);af(b.coordinateToPixelTransform,m);af(b.coordinateToPixelTransform,c);a.save();qi(a,-g,e/2,f/2);a.beginPath();a.moveTo(h[0]*d,h[1]*d);a.lineTo(l[0]*d,l[1]*d);a.lineTo(m[0]*d,m[1]*d);a.lineTo(c[0]*d,c[1]*d);a.clip();qi(a,g,e/2,f/2)}
function Zi(a,b,c,d,e){var f=a.a;if(Tc(f,b)){var g=d.size[0]*d.pixelRatio,h=d.size[1]*d.pixelRatio,l=d.viewState.rotation;qi(c,-l,g/2,h/2);a=void 0!==e?e:$i(a,d,0);f.b(new bi(b,new Bi(c,d.pixelRatio,d.extent,a,d.viewState.rotation),d,c,null));qi(c,l,g/2,h/2)}}Xi.prototype.s=function(a,b,c,d){if(this.wa(a,b,0,Re,this))return c.call(d,this.a,null)};Xi.prototype.pf=function(a,b,c,d){Zi(this,"postcompose",a,b,d)};
function $i(a,b,c){var d=b.viewState,e=b.pixelRatio,f=e/d.resolution;return ef(a.V,e*b.size[0]/2,e*b.size[1]/2,f,-f,-d.rotation,-d.center[0]+c,-d.center[1])};function aj(a){Xi.call(this,a);this.l=We();this.j=null}w(aj,Xi);aj.prototype.df=function(a,b,c){Zi(this,"precompose",c,a,void 0);var d=this.Y();if(d){var e=b.extent,f=void 0!==e&&!La(e,a.extent)&&hb(e,a.extent);f&&Yi(c,a,e);e=this.v();var g=c.globalAlpha;c.globalAlpha=b.opacity;c.drawImage(d,0,0,+d.width,+d.height,Math.round(e[4]),Math.round(e[5]),Math.round(d.width*e[0]),Math.round(d.height*e[3]));c.globalAlpha=g;f&&c.restore()}this.pf(c,a,b)};
aj.prototype.wa=function(a,b,c,d,e){var f=this.a;return f.ha().wa(a,b.viewState.resolution,b.viewState.rotation,c,b.skippedFeatureUids,function(a){return d.call(e,a,f)})};
aj.prototype.s=function(a,b,c,d){if(this.Y()){if(this.a.ha().wa!==ea)return Xi.prototype.s.apply(this,arguments);var e=af(this.l,a.slice());Ge(e,b.viewState.resolution/this.i);this.j||(this.j=hg(1,1));this.j.clearRect(0,0,1,1);this.j.drawImage(this.Y(),e[0],e[1],1,1,0,0,1,1);e=this.j.getImageData(0,0,1,1).data;if(0<e[3])return c.call(d,this.a,e)}};function bj(a){aj.call(this,a);this.M=null;this.f=We();this.o=[];this.c=null}w(bj,aj);bj.handles=function(a,b){return"canvas"===a&&("IMAGE"===b.S()||"VECTOR"===b.S()&&"image"===b.l)};bj.create=function(a,b){var c=new bj(b);if("VECTOR"===b.S())for(var d=0,e=pg.length;d<e;++d){var f=pg[d];f!==bj&&f.handles("canvas",b)&&(f=f.create(a,b),c.c=f)}return c};bj.prototype.Y=function(){return this.M?this.M.Y():null};bj.prototype.v=function(){return this.f};
bj.prototype.$c=function(a,b){var c=a.pixelRatio,d=a.size,e=a.viewState,f=e.center,g=e.resolution,h=this.a.ha(),l=a.viewHints,m=a.extent;void 0!==b.extent&&(m=gb(m,b.extent));if(!l[0]&&!l[1]&&!bb(m))if(l=e.projection,e=this.c){l=e.context;var n=kb({},a,{size:[cb(m)/g,db(m)/g],viewState:kb({},a.viewState,{rotation:0})}),p=Object.keys(n.skippedFeatureUids).sort();!e.$c(n,b)||!e.j&&jc(p,this.o)||(l.canvas.width=n.size[0]*c,l.canvas.height=n.size[1]*c,e.df(n,b,l),this.M=new ai(m,g,c,l.canvas),this.o=
p)}else(e=h.Y(m,g,c,l))&&Si(this,e)&&(this.M=e);this.M&&(e=this.M,m=e.G(),b=e.resolution,e=e.a,l=c*b/(g*e),m=ef(this.f,c*d[0]/2,c*d[1]/2,l,l,0,e*(m[0]-f[0])/b,e*(f[1]-m[3])/b),ef(this.l,c*d[0]/2-m[4],c*d[1]/2-m[5],c/g,-c/g,0,-f[0],-f[1]),Ui(a,h),this.i=b*c/e);return!!this.M};bj.prototype.wa=function(a,b,c,d,e){return this.c?this.c.wa(a,b,c,d,e):aj.prototype.wa.call(this,a,b,c,d,e)};function cj(){this.b={};this.a=0;this.g=32}cj.prototype.clear=function(){this.b={};this.a=0};function dj(a){if(a.a>a.g){var b=0,c;for(c in a.b){var d=a.b[c];0!==(b++&3)||Tc(d)||(delete a.b[c],--a.a)}}}cj.prototype.get=function(a,b,c){a=b+":"+a+":"+(c?xi(c):"null");return a in this.b?this.b[a]:null};cj.prototype.set=function(a,b,c,d){this.b[b+":"+a+":"+(c?xi(c):"null")]=d;++this.a};cj.prototype.c=function(a){this.g=a;dj(this)};var ej=new cj;function fj(a,b){this.l=b;this.c={};this.v={}}w(fj,Oc);function gj(a){var b=a.viewState,c=a.coordinateToPixelTransform,d=a.pixelToCoordinateTransform;ef(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]);ff($e(d,c))}function hj(){dj(ej)}k=fj.prototype;
k.wa=function(a,b,c,d,e,f,g){function h(a,c){var f=x(a).toString(),g=b.layerStates[x(c)].Te;if(!(f in b.skippedFeatureUids)||g)return d.call(e,a,g?c:null)}var l,m=b.viewState,n=m.resolution,p=m.projection;m=a;if(p.g){p=p.G();var q=cb(p),r=a[0];if(r<p[0]||r>p[2])m=[r+q*Math.ceil((p[0]-r)/q),a[1]]}p=b.layerStatesArray;for(q=p.length-1;0<=q;--q){var u=p[q];r=u.layer;if(yg(u,n)&&f.call(g,r)&&(u=ij(this,r),r.ha()&&(l=u.wa(r.ha().D?m:a,b,c,h,e)),l))return l}};
k.Ui=function(a,b,c,d,e){return void 0!==this.wa(a,b,c,Re,this,d,e)};function ij(a,b){var c=x(b).toString();if(c in a.c)return a.c[c];for(var d,e=a.S(),f=0,g=pg.length;f<g;++f){var h=pg[f];if(h.handles(e,b)){d=h.create(a,b);break}}if(d)a.c[c]=d,a.v[c]=y(d,"change",a.gm,a);else throw Error("Unable to create renderer for layer: "+b.S());return d}k.gm=function(){this.l.render()};function tg(a,b){var c=a.c[b];delete a.c[b];Gc(a.v[b]);delete a.v[b];return c}k.bh=ea;
k.oq=function(a,b){for(var c in this.c)b&&c in b.layerStates||Pc(tg(this,c))};function jj(a,b){for(var c in a.c)if(!(c in b.layerStates)){b.postRenderFunctions.push(a.oq.bind(a));break}}function lc(a,b){return a.zIndex-b.zIndex};function kj(a,b){fj.call(this,a,b);this.g=hg();this.b=this.g.canvas;this.b.style.width="100%";this.b.style.height="100%";this.b.style.display="block";this.b.className="ol-unselectable";a.insertBefore(this.b,a.childNodes[0]||null);this.a=!0;this.i=We()}w(kj,fj);kj.handles=function(a){return"canvas"===a};kj.create=function(a,b){return new kj(a,b)};
function lj(a,b,c){var d=a.l,e=a.g;if(Tc(d,b)){var f=c.extent,g=c.pixelRatio,h=c.viewState.rotation,l=c.viewState,m=c.pixelRatio/l.resolution;a=ef(a.i,a.b.width/2,a.b.height/2,m,-m,-l.rotation,-l.center[0],-l.center[1]);d.b(new bi(b,new Bi(e,g,f,a,h),c,e,null))}}kj.prototype.S=function(){return"canvas"};
kj.prototype.bh=function(a){if(a){var b=this.g,c=a.pixelRatio,d=Math.round(a.size[0]*c),e=Math.round(a.size[1]*c);this.b.width!=d||this.b.height!=e?(this.b.width=d,this.b.height=e):b.clearRect(0,0,d,e);c=a.viewState.rotation;gj(a);lj(this,"precompose",a);var f=a.layerStatesArray;kc(f);c&&(b.save(),qi(b,c,d/2,e/2));d=a.viewState.resolution;var g;e=0;for(g=f.length;e<g;++e){var h=f[e];var l=h.layer;l=ij(this,l);yg(h,d)&&"ready"==h.Vj&&l.$c(a,h)&&l.df(a,h,b)}c&&b.restore();lj(this,"postcompose",a);this.a||
(this.b.style.display="",this.a=!0);jj(this,a);a.postRenderFunctions.push(hj)}else this.a&&(this.b.style.display="none",this.a=!1)};kj.prototype.Ti=function(a,b,c,d,e,f){var g=b.viewState.resolution,h=b.layerStatesArray,l=h.length;a=af(b.pixelToCoordinateTransform,a.slice());for(--l;0<=l;--l){var m=h[l];var n=m.layer;if(yg(m,g)&&e.call(f,n)&&(m=ij(this,n).s(a,b,c,d)))return m}};function mj(a){aj.call(this,a);this.context=null===this.context?null:hg();this.c=null;this.f=[];this.T=Da();this.ra=new ja(0,0,0,0);this.o=We();this.O=0}w(mj,aj);mj.handles=function(a,b){return"canvas"===a&&"TILE"===b.S()};mj.create=function(a,b){return new mj(b)};function nj(a,b){b=b.getState();a=a.a.i();return 2==b||4==b||3==b&&!a}
mj.prototype.$c=function(a,b){var c=a.pixelRatio,d=a.size,e=a.viewState,f=e.projection,g=e.resolution;e=e.center;var h=this.a,l=h.ha(),m=l.g,n=l.eb(f),p=n.Dc(g,this.O),q=n.Ta(p),r=Math.round(g/q)||1,u=a.extent;void 0!==b.extent&&(u=gb(u,b.extent));if(bb(u))return!1;var v=tc(n,u,p),z=wc(n,p,v),A=l.Xc(c),E={};E[p]={};var S=this.Rf(l,f,E),Ia=this.T,ta=this.ra,la=!1,ca,ia;for(ca=v.fa;ca<=v.la;++ca)for(ia=v.ea;ia<=v.ka;++ia){var xa=l.ad(p,ca,ia,c,f);3==xa.getState()&&(h.i()?0<h.c()&&(la=!0):oj(xa,2));
nj(this,xa)||(xa=pj(xa));if(nj(this,xa)){var Va=x(this);if(2==xa.getState()){E[p][xa.ya.toString()]=xa;var ic=xa.j?-1!==xa.s[Va]:!1;la||!ic&&-1!==this.f.indexOf(xa)||(la=!0)}if(1===qj(xa,Va,a.time))continue}Va=vc(n,xa.ya,ta,Ia);ic=!1;Va&&(ic=S(p+1,Va));ic||uc(n,xa.ya,S,ta,Ia)}xa=a.viewHints;xa=xa[0]||xa[1];if(!(this.i&&16<Date.now()-a.time&&xa||!la&&this.c&&La(this.c,u)&&this.wf==m&&r==this.C&&(xa||q*c/A*r==this.i))){if(xa=this.context)ia=l.Zd(p,c,f),ca=Math.round((v.la-v.fa+1)*ia[0]/r),ia=Math.round((v.ka-
v.ea+1)*ia[1]/r),la=xa.canvas,la.width!=ca||la.height!=ia?(this.C=r,la.width=ca,la.height=ia):(this.c&&!Sa(z,this.c)&&xa.clearRect(0,0,ca,ia),r=this.C);this.f.length=0;la=Object.keys(E).map(Number);la.sort(function(a,b){return a===p?1:b===p?-1:a>b?1:a<b?-1:0});Va=0;for(ic=la.length;Va<ic;++Va){ta=la[Va];S=l.Zd(ta,c,f);xa=n.Ta(ta);var Xa=xa/q;var Z=A*l.Zf(f);var Zb=E[ta];for(var Le in Zb){xa=Zb[Le];ia=n.Ma(xa.ya,Ia);ca=(ia[0]-z[0])/q*A/r;ia=(z[3]-ia[3])/q*A/r;var Uf=S[0]*Xa/r;var Id=S[1]*Xa/r;this.Sf(xa,
a,b,ca,ia,Uf,Id,Z,p===ta);this.f.push(xa)}}this.wf=m;this.i=q*c/A*r;this.c=z}b=this.i/g;b=ef(this.o,c*d[0]/2,c*d[1]/2,b,b,0,(this.c[0]-e[0])/this.i*c,(e[1]-this.c[3])/this.i*c);ef(this.l,c*d[0]/2-b[4],c*d[1]/2-b[5],c/g,-c/g,0,-e[0],-e[1]);Vi(a.usedTiles,l,p,v);Wi(a,l,n,c,f,u,p,h.c());Ti(a,l);Ui(a,l);return 0<this.f.length};
mj.prototype.Sf=function(a,b,c,d,e,f,g,h,l){if(c=a.Y(this.a)){var m=x(this),n=l?qj(a,m,b.time):1;1!==n||this.a.ha().eg(b.viewState.projection)||this.context.clearRect(d,e,f,g);var p=n!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=n);this.context.drawImage(c,h,h,c.width-2*h,c.height-2*h,d,e,f,g);p&&this.context.restore();1!==n?b.animate=!0:l&&a.j&&(a.s[m]=-1)}};mj.prototype.Y=function(){var a=this.context;return a?a.canvas:null};mj.prototype.v=function(){return this.o};var rj={Jc:function(){}};
(function(a){function b(a,e,f,g,h){f=f||0;g=g||a.length-1;for(h=h||d;g>f;){if(600<g-f){var l=g-f+1,m=e-f+1,n=Math.log(l),p=.5*Math.exp(2*n/3);n=.5*Math.sqrt(n*p*(l-p)/l)*(0>m-l/2?-1:1);b(a,e,Math.max(f,Math.floor(e-m*p/l+n)),Math.min(g,Math.floor(e+(l-m)*p/l+n)),h)}l=a[e];m=f;p=g;c(a,f,e);for(0<h(a[g],l)&&c(a,f,g);m<p;){c(a,m,p);m++;for(p--;0>h(a[m],l);)m++;for(;0<h(a[p],l);)p--}0===h(a[f],l)?c(a,f,p):(p++,c(a,p,g));p<=e&&(f=p+1);e<=p&&(g=p-1)}}function c(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}function d(a,
b){return a<b?-1:a>b?1:0}function e(a,b){if(!(this instanceof e))return new e(a,b);this.Lf=Math.max(4,a||9);this.wh=Math.max(2,Math.ceil(.4*this.Lf));b&&this.Ak(b);this.clear()}function f(a,b){g(a,0,a.children.length,b,a)}function g(a,b,c,d,e){e||(e=u(null));e.fa=Infinity;e.ea=Infinity;e.la=-Infinity;e.ka=-Infinity;for(var f;b<c;b++)f=a.children[b],h(e,a.fb?d(f):f);return e}function h(a,b){a.fa=Math.min(a.fa,b.fa);a.ea=Math.min(a.ea,b.ea);a.la=Math.max(a.la,b.la);a.ka=Math.max(a.ka,b.ka);return a}
function l(a,b){return a.fa-b.fa}function m(a,b){return a.ea-b.ea}function n(a){return(a.la-a.fa)*(a.ka-a.ea)}function p(a){return a.la-a.fa+(a.ka-a.ea)}function q(a,b){return a.fa<=b.fa&&a.ea<=b.ea&&b.la<=a.la&&b.ka<=a.ka}function r(a,b){return b.fa<=a.la&&b.ea<=a.ka&&b.la>=a.fa&&b.ka>=a.ea}function u(a){return{children:a,height:1,fb:!0,fa:Infinity,ea:Infinity,la:-Infinity,ka:-Infinity}}function v(a,b,c,d,e){for(var f=[b,c],g;f.length;)c=f.pop(),b=f.pop(),c-b<=d||(g=b+Math.ceil((c-b)/d/2)*d,z(a,
g,b,c,e),f.push(b,g,g,c))}var z=b;e.prototype={all:function(){return this.rh(this.data,[])},search:function(a){var b=this.data,c=[],d=this.xb;if(!r(a,b))return c;for(var e=[],f,g,h,l;b;){f=0;for(g=b.children.length;f<g;f++)h=b.children[f],l=b.fb?d(h):h,r(a,l)&&(b.fb?c.push(h):q(a,l)?this.rh(h,c):e.push(h));b=e.pop()}return c},Ok:function(a){var b=this.data,c=this.xb;if(!r(a,b))return!1;for(var d=[],e,f,g,h;b;){e=0;for(f=b.children.length;e<f;e++)if(g=b.children[e],h=b.fb?c(g):g,r(a,h)){if(b.fb||q(a,
h))return!0;d.push(g)}b=d.pop()}return!1},load:function(a){if(!a||!a.length)return this;if(a.length<this.wh){for(var b=0,c=a.length;b<c;b++)this.Ca(a[b]);return this}a=this.th(a.slice(),0,a.length-1,0);this.data.children.length?this.data.height===a.height?this.yh(this.data,a):(this.data.height<a.height&&(b=this.data,this.data=a,a=b),this.vh(a,this.data.height-a.height-1,!0)):this.data=a;return this},Ca:function(a){a&&this.vh(a,this.data.height-1);return this},clear:function(){this.data=u([]);return this},
remove:function(a,b){if(!a)return this;for(var c=this.data,d=this.xb(a),e=[],f=[],g,h,l,m;c||e.length;){c||(c=e.pop(),h=e[e.length-1],g=f.pop(),m=!0);if(c.fb){a:{l=a;var n=c.children,p=b;if(p){for(var r=0;r<n.length;r++)if(p(l,n[r])){l=r;break a}l=-1}else l=n.indexOf(l)}if(-1!==l){c.children.splice(l,1);e.push(c);this.yk(e);break}}m||c.fb||!q(c,d)?h?(g++,c=h.children[g],m=!1):c=null:(e.push(c),f.push(g),g=0,h=c,c=c.children[0])}return this},xb:function(a){return a},Pf:l,Qf:m,toJSON:function(){return this.data},
rh:function(a,b){for(var c=[];a;)a.fb?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},th:function(a,b,c,d){var e=c-b+1,g=this.Lf;if(e<=g){var h=u(a.slice(b,c+1));f(h,this.xb);return h}d||(d=Math.ceil(Math.log(e)/Math.log(g)),g=Math.ceil(e/Math.pow(g,d-1)));h=u([]);h.fb=!1;h.height=d;e=Math.ceil(e/g);g=e*Math.ceil(Math.sqrt(g));var l;for(v(a,b,c,g,this.Pf);b<=c;b+=g){var m=Math.min(b+g-1,c);v(a,b,m,e,this.Qf);for(l=b;l<=m;l+=e){var n=Math.min(l+e-1,m);h.children.push(this.th(a,
l,n,d-1))}}f(h,this.xb);return h},xk:function(a,b,c,d){for(var e,f,g,h,l,m,p,q;;){d.push(b);if(b.fb||d.length-1===c)break;p=q=Infinity;e=0;for(f=b.children.length;e<f;e++)g=b.children[e],l=n(g),m=(Math.max(g.la,a.la)-Math.min(g.fa,a.fa))*(Math.max(g.ka,a.ka)-Math.min(g.ea,a.ea))-l,m<q?(q=m,p=l<p?l:p,h=g):m===q&&l<p&&(p=l,h=g);b=h||b.children[0]}return b},vh:function(a,b,c){var d=this.xb;c=c?a:d(a);d=[];var e=this.xk(c,this.data,b,d);e.children.push(a);for(h(e,c);0<=b;)if(d[b].children.length>this.Lf)this.Dk(d,
b),b--;else break;this.uk(c,d,b)},Dk:function(a,b){var c=a[b],d=c.children.length,e=this.wh;this.vk(c,e,d);d=this.wk(c,e,d);d=u(c.children.splice(d,c.children.length-d));d.height=c.height;d.fb=c.fb;f(c,this.xb);f(d,this.xb);b?a[b-1].children.push(d):this.yh(c,d)},yh:function(a,b){this.data=u([a,b]);this.data.height=a.height+1;this.data.fb=!1;f(this.data,this.xb)},wk:function(a,b,c){var d,e;var f=e=Infinity;for(d=b;d<=c-b;d++){var h=g(a,0,d,this.xb);var l=g(a,d,c,this.xb);var m=Math.max(0,Math.min(h.la,
l.la)-Math.max(h.fa,l.fa))*Math.max(0,Math.min(h.ka,l.ka)-Math.max(h.ea,l.ea));h=n(h)+n(l);if(m<f){f=m;var p=d;e=h<e?h:e}else m===f&&h<e&&(e=h,p=d)}return p},vk:function(a,b,c){var d=a.fb?this.Pf:l,e=a.fb?this.Qf:m,f=this.sh(a,b,c,d);b=this.sh(a,b,c,e);f<b&&a.children.sort(d)},sh:function(a,b,c,d){a.children.sort(d);d=this.xb;var e=g(a,0,b,d),f=g(a,c-b,c,d),l=p(e)+p(f),m;for(m=b;m<c-b;m++){var n=a.children[m];h(e,a.fb?d(n):n);l+=p(e)}for(m=c-b-1;m>=b;m--)n=a.children[m],h(f,a.fb?d(n):n),l+=p(f);return l},
uk:function(a,b,c){for(;0<=c;c--)h(b[c],a)},yk:function(a){for(var b=a.length-1,c;0<=b;b--)0===a[b].children.length?0<b?(c=a[b-1].children,c.splice(c.indexOf(a[b]),1)):this.clear():f(a[b],this.xb)},Ak:function(a){var b=["return a"," - b",";"];this.Pf=new Function("a","b",b.join(a[0]));this.Qf=new Function("a","b",b.join(a[1]));this.xb=new Function("a","return {minX: a"+a[0]+", minY: a"+a[1]+", maxX: a"+a[2]+", maxY: a"+a[3]+"};")}};a["default"]=e})(rj.Jc=rj.Jc||{});rj.Jc=rj.Jc.default;function sj(){};function tj(a,b,c,d){var e=a[b],f=a[b+1],g=0;for(b+=d;b<c;b+=d){var h=a[b],l=a[b+1];g+=Math.sqrt((h-e)*(h-e)+(l-f)*(l-f));e=h;f=l}return g};var uj="Polygon Circle LineString Image Text Default".split(" "),vj={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};function wj(a,b,c,d,e,f){this.ra=f;this.La=Da();this.ob=a;this.Ea=b;this.overlaps=e;this.pixelRatio=d;this.Wa=0;this.resolution=c;this.i=this.T=this.qa=null;this.a=[];this.coordinates=[];this.Ub={};this.ca=We();this.b=[];this.oa=null;this.state={};this.$=0;this.bb=We()}w(wj,Ai);function xj(a,b,c,d,e,f,g,h){b.beginPath();b.moveTo.apply(b,c);b.lineTo.apply(b,d);b.lineTo.apply(b,e);b.lineTo.apply(b,f);b.lineTo.apply(b,c);g&&(a.O=g[2],a.Xa(b));h&&(yj(b,h),b.stroke())}
function zj(a,b,c,d,e,f,g,h,l,m,n,p,q,r,u,v,z,A,E){var S=A||E,Ia=a.bb;f*=r;g*=r;c-=f;d-=g;u&&(c=Math.round(c),d=Math.round(d));u=v+n>e.width?e.width-n:v;l=l+p>e.height?e.height-p:l;v=a.La;var ta=z[3]+u*r+z[1],la=z[0]+l*r+z[2],ca=c-z[3],ia=d-z[0];if(S||0!==q){var xa=[ca,ia];var Va=[ca+ta,ia];var ic=[ca+ta,ia+la];var Xa=[ca,ia+la]}z=null;0!==q?(f=c+f,g=d+g,z=ef(Ia,f,g,1,1,q,-f,-g),Oa(v),Ea(v,af(Ia,xa)),Ea(v,af(Ia,Va)),Ea(v,af(Ia,ic)),Ea(v,af(Ia,Xa))):Na(ca,ia,ca+ta,ia+la,v);q=b.canvas;q=v[0]<=q.width&&
0<=v[2]&&v[1]<=q.height&&0<=v[3];if(h){if(q||1!=h[4])Ta(h,v),(a=q?[b,z?z.slice(0):null,m,e,n,p,u,l,c,d,r]:null)&&S&&a.push(A,E,xa,Va,ic,Xa),h.push(a)}else q&&(S&&xj(a,b,xa,Va,ic,Xa,A,E),si(b,z,m,e,n,p,u,l,c,d,r))}function Aj(a,b){var c=a.pixelRatio;return 1==c?b:b.map(function(a){return a*c})}
function Bj(a,b,c,d,e,f,g){var h=a.coordinates.length,l=Cj(a);g&&(c+=e);g=[b[c],b[c+1]];var m=[NaN,NaN],n=!0,p;for(p=c+e;p<d;p+=e){m[0]=b[p];m[1]=b[p+1];var q=Ma(l,m);q!==r?(n&&(a.coordinates[h++]=g[0],a.coordinates[h++]=g[1]),a.coordinates[h++]=m[0],a.coordinates[h++]=m[1],n=!1):1===q?(a.coordinates[h++]=m[0],a.coordinates[h++]=m[1],n=!1):n=!0;g[0]=m[0];g[1]=m[1];var r=q}if(f&&n||p===c+e)a.coordinates[h++]=g[0],a.coordinates[h++]=g[1];return h}
function Dj(a,b,c,d,e,f){for(var g=0,h=d.length;g<h;++g){var l=d[g];c=Bj(a,b,c,l,e,!1,!1);f.push(c);c=l}return c}k=wj.prototype;
k.Hh=function(a,b,c){Ej(this,b);var d=a.S(),e=a.pa(),f=this.coordinates.length,g;if("MultiPolygon"==d){d=Ii(a);var h=[];for(var l=a.td(),m=g=0,n=l.length;m<n;++m){var p=[];g=Dj(this,d,g,l[m],e,p);h.push(p)}this.a.push([4,f,h,a,c,Af])}else"Polygon"==d||"MultiLineString"==d?(h=[],d="Polygon"==d?a.Xb():a.da(),Dj(this,d,0,a.pb(),e,h),this.a.push([4,f,h,a,c,zf])):"LineString"==d||"MultiPoint"==d?(d=a.da(),e=Bj(this,d,0,d.length,e,!1,!1),this.a.push([4,f,e,a,c,yf])):"Point"==d&&(d=a.da(),this.coordinates.push(d[0],
d[1]),e=this.coordinates.length,this.a.push([4,f,e,a,c]));Fj(this,b)};function Ej(a,b){a.qa=[0,b,0];a.a.push(a.qa);a.T=[0,b,0];a.b.push(a.T)}k.Xa=function(a){if(this.O){var b=af(this.ca,this.O.slice());a.translate(b[0],b[1]);a.rotate(this.$)}a.fill();this.O&&a.setTransform.apply(a,ri)};function yj(a,b){a.strokeStyle=b[1];a.lineWidth=b[2];a.lineCap=b[3];a.lineJoin=b[4];a.miterLimit=b[5];od&&(a.lineDashOffset=b[7],a.setLineDash(b[6]))}
function Gj(a,b,c){if(b&&5<b.length){var d=b[4];if(1==d||d==b.length-5){c={fa:b[0],ea:b[1],la:b[2],ka:b[3],value:c};if(!a.ra.Ok(c))for(a.ra.Ca(c),c=5,d=b.length;c<d;++c){var e=b[c];e&&(11<e.length&&xj(a,e[0],e[13],e[14],e[15],e[16],e[11],e[12]),si.apply(void 0,e))}b.length=5;Oa(b)}}}
function Hj(a,b,c,d,e,f,g){if(a.oa&&jc(c,a.ca))var h=a.oa;else a.oa||(a.oa=[]),h=Te(a.coordinates,0,a.coordinates.length,2,c,a.oa),$e(a.ca,c);for(var l=!nb(d),m=0,n=e.length,p=0,q,r,u,v,z,A,E,S,Ia,ta=0,la=0,ca=null,ia=null,xa=a.Ub,Va=a.$,ic={context:b,pixelRatio:a.pixelRatio,resolution:a.resolution,rotation:Va},Xa=a.a!=e||a.overlaps?0:200;m<n;){var Z=e[m];switch(Z[0]){case 0:var Zb=Z[1];l&&d[x(Zb).toString()]||!Zb.U()?m=Z[2]:void 0===g||hb(g,Zb.U().G())?++m:m=Z[2]+1;break;case 1:ta>Xa&&(a.Xa(b),ta=
0);la>Xa&&(b.stroke(),la=0);ta||la||(b.beginPath(),v=z=NaN);++m;break;case 2:p=Z[1];var Le=h[p],Uf=h[p+1],Id=h[p+2]-Le,te=h[p+3]-Uf,Jh=Math.sqrt(Id*Id+te*te);b.moveTo(Le+Jh,Uf);b.arc(Le,Uf,Jh,0,2*Math.PI,!0);++m;break;case 3:b.closePath();++m;break;case 4:p=Z[1];q=Z[2];var Mg=Z[4],Ng=6==Z.length?Z[5]:void 0;ic.geometry=Z[3];ic.feature=Zb;m in xa||(xa[m]=[]);var Wf=xa[m];Ng?Ng(h,p,q,2,Wf):(Wf[0]=h[p],Wf[1]=h[p+1],Wf.length=2);Mg(Wf,ic);++m;break;case 6:p=Z[1];q=Z[2];Ia=Z[3];r=Z[4];u=Z[5];S=f?null:
Z[6];var rf=Z[7],yu=Z[8],zu=Z[9],Au=Z[10],Bu=Z[11],jp=Z[12],Cu=Z[13],Du=Z[14],Eu=Z[15];if(16<Z.length){var kp=Z[16];var lp=Z[17];var mp=Z[18]}else kp=hi,lp=mp=!1;for(Bu&&(jp+=Va);p<q;p+=2)zj(a,b,h[p],h[p+1],Ia,r,u,S,rf,yu,zu,Au,jp,Cu,Du,Eu,kp,lp?ca:null,mp?ia:null);Gj(a,S,Zb);++m;break;case 5:var np=Z[1],op=Z[2],Lk=Z[3];S=f?null:Z[4];var Fu=Z[5],pp=Z[6],Gu=Z[7],qp=Z[8],rp=Z[9],sp=Z[10],tp=Z[11],up=Z[12],Mk=Z[13],vp=Z[14],wp=tj(h,np,op,2),xp=qp(up);if(Fu||xp<=wp){a:{var Ni=void 0,yp=void 0,Xf=void 0,
sf=h,ve=np,zp=op,Ap=up,Hu=qp,Bp=(wp-xp)*vj[a.s[Mk].textAlign],Iu=Gu,Nk=[],Kh=sf[ve]>sf[zp-2],Cp=Ap.length,Lh=sf[ve],Mh=sf[ve+1];ve+=2;for(var Og=sf[ve],Pg=sf[ve+1],Ok=0,Oi=Math.sqrt(Math.pow(Og-Lh,2)+Math.pow(Pg-Mh,2)),Yf="",Pk=0,Pi=0;Pi<Cp;++Pi){yp=Kh?Cp-Pi-1:Pi;var Qk=Ap.charAt(yp);Yf=Kh?Qk+Yf:Yf+Qk;var Qg=Hu(Yf)-Pk;Pk+=Qg;for(var Dp=Bp+Qg/2;ve<zp-2&&Ok+Oi<Dp;)Lh=Og,Mh=Pg,ve+=2,Og=sf[ve],Pg=sf[ve+1],Ok+=Oi,Oi=Math.sqrt(Math.pow(Og-Lh,2)+Math.pow(Pg-Mh,2));var Ju=Dp-Ok,Rg=Math.atan2(Pg-Mh,Og-Lh);
Kh&&(Rg+=0<Rg?-Math.PI:Math.PI);if(void 0!==Ni){var Qi=Rg-Ni;Qi+=Qi>Math.PI?-2*Math.PI:Qi<-Math.PI?2*Math.PI:0;if(Math.abs(Qi)>Iu){var Sg=null;break a}}var Ep=Ju/Oi,Fp=ya(Lh,Og,Ep),Gp=ya(Mh,Pg,Ep);Ni==Rg?(Kh&&(Xf[0]=Fp,Xf[1]=Gp,Xf[2]=Qg/2),Xf[4]=Yf):(Yf=Qk,Pk=Qg,Xf=[Fp,Gp,Qg/2,Rg,Yf],Kh?Nk.unshift(Xf):Nk.push(Xf),Ni=Rg);Bp+=Qg}Sg=Nk}if(Sg){var Ri;if(sp){var Zf=0;for(Ri=Sg.length;Zf<Ri;++Zf){var ee=Sg[Zf];var Rk=ee[4];var Ne=a.Y(Rk,Mk,"",sp);r=ee[2]+tp;u=Lk*Ne.height+2*(.5-Lk)*tp-rp;zj(a,b,ee[0],ee[1],
Ne,r,u,S,Ne.height,1,0,0,ee[3],vp,!1,Ne.width,hi,null,null)}}if(pp)for(Zf=0,Ri=Sg.length;Zf<Ri;++Zf)ee=Sg[Zf],Rk=ee[4],Ne=a.Y(Rk,Mk,pp,""),r=ee[2],u=Lk*Ne.height-rp,zj(a,b,ee[0],ee[1],Ne,r,u,S,Ne.height,1,0,0,ee[3],vp,!1,Ne.width,hi,null,null)}}Gj(a,S,Zb);++m;break;case 7:if(void 0!==f){Zb=Z[1];var Hp=f(Zb);if(Hp)return Hp}++m;break;case 8:Xa?ta++:a.Xa(b);++m;break;case 9:p=Z[1];q=Z[2];var Nh=h[p];var Oh=h[p+1];A=Nh+.5|0;E=Oh+.5|0;if(A!==v||E!==z)b.moveTo(Nh,Oh),v=A,z=E;for(p+=2;p<q;p+=2)if(Nh=h[p],
Oh=h[p+1],A=Nh+.5|0,E=Oh+.5|0,p==q-2||A!==v||E!==z)b.lineTo(Nh,Oh),v=A,z=E;++m;break;case 10:ca=Z;a.O=Z[2];ta&&(a.Xa(b),ta=0,la&&(b.stroke(),la=0));b.fillStyle=Z[1];++m;break;case 11:ia=Z;la&&(b.stroke(),la=0);yj(b,Z);++m;break;case 12:Xa?la++:b.stroke();++m;break;default:++m}}ta&&a.Xa(b);la&&b.stroke()}k.Na=function(a,b,c,d){this.$=c;Hj(this,a,b,d,this.a,void 0,void 0)};
function Ij(a){var b=a.b;b.reverse();var c,d=b.length,e=-1;for(c=0;c<d;++c){var f=b[c];var g=f[0];if(7==g)e=c;else if(0==g){f[2]=c;f=a.b;for(g=c;e<g;){var h=f[e];f[e]=f[g];f[g]=h;++e;--g}e=-1}}}
k.Oa=function(a,b){var c=this.state;a?(a=a.b,c.fillStyle=zi(a?a:ei)):c.fillStyle=void 0;b?(a=b.a,c.strokeStyle=zi(a?a:gi),a=b.f,c.lineCap=void 0!==a?a:"round",a=b.g,c.lineDash=a?a.slice():fi,a=b.i,c.lineDashOffset=a?a:0,a=b.j,c.lineJoin=void 0!==a?a:"round",a=b.c,c.lineWidth=void 0!==a?a:1,b=b.l,c.miterLimit=void 0!==b?b:10,c.lineWidth>this.Wa&&(this.Wa=c.lineWidth,this.i=null)):(c.strokeStyle=void 0,c.lineCap=void 0,c.lineDash=null,c.lineDashOffset=void 0,c.lineJoin=void 0,c.lineWidth=void 0,c.miterLimit=
void 0)};k.Ah=function(a,b){var c=a.fillStyle;a=[10,c];"string"!==typeof c&&(b=b.G(),a.push([b[0],b[3]]));this.a.push(a)};k.pd=function(a){this.a.push([11,a.strokeStyle,a.lineWidth*this.pixelRatio,a.lineCap,a.lineJoin,a.miterLimit,Aj(this,a.lineDash),a.lineDashOffset*this.pixelRatio])};function Jj(a,b,c,d){var e=b.fillStyle;if("string"!==typeof e||b.Pk!=e)c.call(a,b,d),b.Pk=e}
function Kj(a,b,c){var d=b.strokeStyle,e=b.lineCap,f=b.lineDash,g=b.lineDashOffset,h=b.lineJoin,l=b.lineWidth,m=b.miterLimit;if(b.Vk!=d||b.Qk!=e||f!=b.Fh&&!jc(b.Fh,f)||b.Rk!=g||b.Sk!=h||b.Tk!=l||b.Uk!=m)c.call(a,b),b.Vk=d,b.Qk=e,b.Fh=f,b.Rk=g,b.Sk=h,b.Tk=l,b.Uk=m}function Fj(a,b){a.qa[2]=a.a.length;a.qa=null;a.T[2]=a.b.length;a.T=null;b=[7,b];a.a.push(b);a.b.push(b)}k.bf=ea;function Cj(a){a.i||(a.i=Ga(a.Ea),0<a.Wa&&Fa(a.i,a.resolution*(a.Wa+1)/2,a.i));return a.i};function Lj(a,b,c,d,e,f){wj.call(this,a,b,c,d,e,f);this.M=this.V=this.B=null;this.N=this.o=this.v=this.s=this.l=this.C=this.D=this.j=this.f=this.c=this.g=void 0}w(Lj,wj);
Lj.prototype.yc=function(a,b){if(this.M){Ej(this,b);var c=a.da(),d=this.coordinates.length;a=Bj(this,c,0,c.length,a.pa(),!1,!1);this.a.push([6,d,a,this.M,this.g,this.c,this.B,this.f,this.j,this.D,this.C,this.l,this.s,this.v*this.pixelRatio,this.o,this.N]);this.b.push([6,d,a,this.V,this.g,this.c,this.B,this.f,this.j,this.D,this.C,this.l,this.s,this.v,this.o,this.N]);Fj(this,b)}};
Lj.prototype.wc=function(a,b){if(this.M){Ej(this,b);var c=a.da(),d=this.coordinates.length;a=Bj(this,c,0,c.length,a.pa(),!1,!1);this.a.push([6,d,a,this.M,this.g,this.c,this.B,this.f,this.j,this.D,this.C,this.l,this.s,this.v*this.pixelRatio,this.o,this.N]);this.b.push([6,d,a,this.V,this.g,this.c,this.B,this.f,this.j,this.D,this.C,this.l,this.s,this.v,this.o,this.N]);Fj(this,b)}};
Lj.prototype.bf=function(){Ij(this);this.c=this.g=void 0;this.M=this.V=null;this.N=this.o=this.s=this.l=this.C=this.D=this.j=this.v=this.f=void 0};Lj.prototype.Zb=function(a,b){var c=a.Vc(),d=a.oc(),e=a.Eg(),f=a.Y(1),g=a.bd();this.g=c[0];this.c=c[1];this.B=b;this.V=e;this.M=f;this.f=d[1];this.j=a.i;this.D=g[0];this.C=g[1];this.l=a.s;this.s=a.f;this.v=a.a;this.o=a.v;this.N=d[0]};function Mj(a,b,c,d,e,f){wj.call(this,a,b,c,d,e,f)}w(Mj,wj);function Nj(a,b,c,d,e){var f=a.coordinates.length;b=Bj(a,b,c,d,e,!1,!1);f=[9,f,b];a.a.push(f);a.b.push(f);return d}Mj.prototype.uc=function(a,b){var c=this.state,d=c.lineWidth;void 0!==c.strokeStyle&&void 0!==d&&(Kj(this,c,this.pd),Ej(this,b),this.b.push([11,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset],[1]),c=a.da(),Nj(this,c,0,c.length,a.pa()),this.b.push([12]),Fj(this,b))};
Mj.prototype.vc=function(a,b){var c=this.state,d=c.lineWidth;if(void 0!==c.strokeStyle&&void 0!==d){Kj(this,c,this.pd);Ej(this,b);this.b.push([11,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset],[1]);c=a.pb();d=a.da();a=a.pa();var e=0,f;var g=0;for(f=c.length;g<f;++g)e=Nj(this,d,e,c[g],a);this.b.push([12]);Fj(this,b)}};Mj.prototype.bf=function(){var a=this.state;void 0!=a.$d&&a.$d!=this.coordinates.length&&this.a.push([12]);Ij(this);this.state=null};
Mj.prototype.pd=function(a){void 0!=a.$d&&a.$d!=this.coordinates.length&&(this.a.push([12]),a.$d=this.coordinates.length);a.$d=0;wj.prototype.pd.call(this,a);this.a.push([1])};function Oj(a,b,c,d,e,f){wj.call(this,a,b,c,d,e,f)}w(Oj,wj);function Pj(a,b,c,d,e){var f=a.state,g=void 0!==f.fillStyle;f=void 0!=f.strokeStyle;var h=d.length,l=[1];a.a.push(l);a.b.push(l);for(l=0;l<h;++l){var m=d[l],n=a.coordinates.length;c=Bj(a,b,c,m,e,!0,!f);c=[9,n,c];a.a.push(c);a.b.push(c);f&&(c=[3],a.a.push(c),a.b.push(c));c=m}b=[8];a.b.push(b);g&&a.a.push(b);f&&(g=[12],a.a.push(g),a.b.push(g));return c}
Oj.prototype.cc=function(a,b){var c=this.state,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d){Qj(this,a);Ej(this,b);this.b.push([10,xi(ei)]);void 0!==c.strokeStyle&&this.b.push([11,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset]);var e=a.da();d=this.coordinates.length;Bj(this,e,0,e.length,a.pa(),!1,!1);a=[1];d=[2,d];this.a.push(a,d);this.b.push(a,d);a=[8];this.b.push(a);void 0!==c.fillStyle&&this.a.push(a);void 0!==c.strokeStyle&&(c=[12],this.a.push(c),
this.b.push(c));Fj(this,b)}};Oj.prototype.zc=function(a,b){var c=this.state;Qj(this,a);Ej(this,b);this.b.push([10,xi(ei)]);void 0!==c.strokeStyle&&this.b.push([11,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset]);c=a.pb();var d=a.Xb();Pj(this,d,0,c,a.pa());Fj(this,b)};
Oj.prototype.xc=function(a,b){var c=this.state,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d){Qj(this,a);Ej(this,b);this.b.push([10,xi(ei)]);void 0!==c.strokeStyle&&this.b.push([11,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash,c.lineDashOffset]);c=a.td();d=Ii(a);a=a.pa();var e=0,f;var g=0;for(f=c.length;g<f;++g)e=Pj(this,d,e,c[g],a);Fj(this,b)}};
Oj.prototype.bf=function(){Ij(this);this.state=null;var a=this.ob;if(0!==a){var b=this.coordinates,c;var d=0;for(c=b.length;d<c;++d)b[d]=a*Math.round(b[d]/a)}};function Qj(a,b){var c=a.state;void 0!==c.fillStyle&&Jj(a,c,a.Ah,b);void 0!==c.strokeStyle&&Kj(a,c,a.pd)};function Rj(a,b,c,d,e,f){wj.call(this,a,b,c,d,e,f);this.ta="";this.l=this.D=0;this.C=void 0;this.B=0;this.c=null;this.o={};this.g=null;this.ab={};this.f={};this.s={};this.V=this.v=this.j="";for(this.ua={};di(ii);)ii.pop()}w(Rj,wj);
Rj.prototype.Wb=function(a,b){var c=this.c,d=this.g,e=this.f;if(""!==this.ta&&e&&(c||d)){c=this.coordinates.length;var f=a.S();d=null;var g=2,h=2;if("line"===e.placement){if(!hb(Cj(this),a.G()))return;d=a.da();h=a.pa();if("LineString"==f)var l=[d.length];else if("MultiLineString"==f)l=a.pb();else if("Polygon"==f)l=a.pb().slice(0,1);else if("MultiPolygon"==f)for(a=a.td(),l=[],g=0,f=a.length;g<f;++g)l.push(a[g][0]);Ej(this,b);a=e.textAlign;var m=0,n;f=0;for(var p=l.length;f<p;++f){if(void 0==a){for(var q,
r,u=void 0,v=void 0,z=g=r=q=void 0,A=n=m,E=0,S=0,Ia=m;m<l[f];m+=h){var ta=d[m],la=d[m+1];void 0!==r&&(r=ta-r,q=la-q,g=Math.sqrt(r*r+q*q),void 0!==v&&(S+=z,u=Math.acos((v*r+u*q)/(z*g)),u>e.maxAngle&&(S>E&&(E=S,n=Ia,A=m),S=0,Ia=m-h)),z=g,v=r,u=q);r=ta;q=la}g=S+g>E?[Ia,m]:[n,A];m=g[0];n=g[1]}else n=l[f];for(g=m;g<n;g+=h)this.coordinates.push(d[g],d[g+1]);g=this.coordinates.length;m=l[f];Sj(this,c,g,this.N);c=g}}else{l=this.Y(this.ta,this.j,this.v,this.V);p=l.width/this.pixelRatio;switch(f){case "Point":case "MultiPoint":d=
a.da();g=d.length;break;case "LineString":d=a.Fe();break;case "Circle":d=a.xa();break;case "MultiLineString":d=a.Ge();g=d.length;break;case "Polygon":d=a.Td();if(!e.overflow&&d[2]/this.resolution<p)return;h=3;break;case "MultiPolygon":n=Ji(a);d=[];g=0;for(f=n.length;g<f;g+=3)(e.overflow||n[g+2]/this.resolution>=p)&&d.push(n[g],n[g+1]);g=d.length;if(0==g)return}g=Bj(this,d,0,g,h,!1,!1);Ej(this,b);if(e.backgroundFill||e.backgroundStroke)this.Oa(e.backgroundFill,e.backgroundStroke),Jj(this,this.state,
this.Ah,a),Kj(this,this.state,this.pd);Tj(this,l,c,g)}Fj(this,b)}};
Rj.prototype.Y=function(a,b,c,d){var e=d+b+a+c+this.pixelRatio;if(!ii.a.hasOwnProperty(e)){var f=d?this.ab[d]||this.g:null,g=c?this.o[c]||this.c:null,h=this.s[b]||this.f,l=h.scale*this.pixelRatio,m=vj[h.textAlign||"center"];b=d&&f.lineWidth?f.lineWidth:0;a=a.split("\n");var n=a.length,p=[],q=h.font;var r=a.length;var u=0;var v;for(v=0;v<r;++v){var z=pi(q,a[v]);u=Math.max(u,z);p.push(z)}r=u;q=oi(h.font);r=hg(Math.ceil((r+b)*l),Math.ceil((q*n+b)*l));u=r.canvas;ii.set(e,u);1!=l&&r.scale(l,l);r.font=
h.font;d&&(r.strokeStyle=f.strokeStyle,r.lineWidth=b*(kd?l:1),r.lineCap=f.lineCap,r.lineJoin=f.lineJoin,r.miterLimit=f.miterLimit,od&&f.lineDash.length&&(r.setLineDash(f.lineDash),r.lineDashOffset=f.lineDashOffset));c&&(r.fillStyle=g.fillStyle);r.textBaseline="middle";r.textAlign="center";f=.5-m;g=m*u.width/l+f*b;if(d)for(d=0;d<n;++d)r.strokeText(a[d],g+f*p[d],.5*(b+q)+d*q);if(c)for(d=0;d<n;++d)r.fillText(a[d],g+f*p[d],.5*(b+q)+d*q)}return ii.get(e)};
function Tj(a,b,c,d){var e=a.f,f=a.g,g=a.pixelRatio,h=vj[e.textAlign||"center"],l=vj[e.textBaseline];f=f&&f.lineWidth?f.lineWidth:0;h=h*b.width/g+2*(.5-h)*f;l=l*b.height/g+2*(.5-l)*f;a.a.push([6,c,d,b,(h-a.D)*g,(l-a.l)*g,a.N,b.height,1,0,0,a.C,a.B,1,!0,b.width,e.padding==hi?hi:e.padding.map(function(a){return a*g}),!!e.backgroundFill,!!e.backgroundStroke]);a.b.push([6,c,d,b,(h-a.D)*g,(l-a.l)*g,a.N,b.height,1,0,0,a.C,a.B,1/g,!0,b.width,e.padding,!!e.backgroundFill,!!e.backgroundStroke])}
function Sj(a,b,c,d){var e=a.g,f=a.f,g=a.c,h=a.V;e&&(h in a.ab||(a.ab[h]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var l=a.j;a.j in a.s||(a.s[a.j]={font:f.font,textAlign:f.textAlign||"center",scale:f.scale});var m=a.v;g&&(m in a.o||(a.o[m]={fillStyle:g.fillStyle}));var n=a.pixelRatio;g=vj[f.textBaseline];var p=a.l*n,q=a.ta,r=f.font,u=f.scale;e=e?e.lineWidth*u/2:0;var v=a.ua[r];
v||(a.ua[r]=v={});a.a.push([5,b,c,g,d,f.overflow,m,f.maxAngle,function(a){var b=v[a];b||(b=v[a]=pi(r,a));return b*u*n},p,h,e*n,q,l,1]);a.b.push([5,b,c,g,d,f.overflow,m,f.maxAngle,function(a){var b=v[a];b||(b=v[a]=pi(r,a));return b*u},p,h,e,q,l,1/n])}
Rj.prototype.nb=function(a,b){var c,d;if(a){this.N=b;(d=a.Fa())?(b=this.c,b||(b=this.c={}),b.fillStyle=zi(d.b||ei)):b=this.c=null;if(c=a.Ga()){d=this.g;d||(d=this.g={});var e=c.g,f=c.i,g=c.c,h=c.l;d.lineCap=c.f||"round";d.lineDash=e?e.slice():fi;d.lineDashOffset=void 0===f?0:f;d.lineJoin=c.j||"round";d.lineWidth=void 0===g?1:g;d.miterLimit=void 0===h?10:h;d.strokeStyle=zi(c.a||gi)}else d=this.g=null;c=this.f;e=a.a||"10px sans-serif";ni(e);f=a.b;c.overflow=a.v;c.font=e;c.maxAngle=a.s;c.placement=a.o;
c.textAlign=a.f;c.textBaseline=a.j||"middle";c.backgroundFill=a.N;c.backgroundStroke=a.D;c.padding=a.C||hi;c.scale=void 0===f?1:f;e=a.g;f=a.c;g=a.l;h=a.i;this.ta=a.Ka()||"";this.D=void 0===e?0:e;this.l=void 0===f?0:f;this.C=void 0===g?!1:g;this.B=void 0===h?0:h;this.V=d?("string"==typeof d.strokeStyle?d.strokeStyle:x(d.strokeStyle))+d.lineCap+d.lineDashOffset+"|"+d.lineWidth+d.lineJoin+d.miterLimit+"["+d.lineDash.join()+"]":"";this.j=c.font+c.scale+(c.textAlign||"?");this.v=b?"string"==typeof b.fillStyle?
b.fillStyle:"|"+x(b.fillStyle):""}else this.ta=""};function Uj(a,b,c,d,e,f,g){this.a=f;this.g=null;this.o=a;this.c=b;this.l=e;this.s=d;this.v=c;this.i=g;this.b={};this.f=hg(1,1);this.j=We()}w(Uj,sj);var Vj={0:[[!0]]};function Wj(a,b,c){var d,e=Math.floor(a.length/2);if(b>=e)for(d=e;d<b;d++)a[d][c]=!0;else if(b<e)for(d=b+1;d<e;d++)a[d][c]=!0}
function Xj(a){if(void 0!==Vj[a])return Vj[a];for(var b=2*a+1,c=Array(b),d=0;d<b;d++)c[d]=Array(b);b=a;for(var e=d=0;b>=d;)Wj(c,a+b,a+d),Wj(c,a+d,a+b),Wj(c,a-d,a+b),Wj(c,a-b,a+d),Wj(c,a-b,a-d),Wj(c,a-d,a-b),Wj(c,a+d,a-b),Wj(c,a+b,a-d),d++,e+=1+2*d,0<2*(e-b)+1&&(--b,e+=1-2*b);return Vj[a]=c}k=Uj.prototype;k.Vb=function(a){var b=null;this.a&&(a?(b=this.g,b[4]++):(b=this.g=Da(),b.push(1)));return b};function Yj(a){for(var b in a.b){var c=a.b[b],d;for(d in c)c[d].bf()}}
k.wa=function(a,b,c,d,e,f,g){d=Math.round(d);var h=2*d+1,l=ef(this.j,d+.5,d+.5,1/b,-1/b,-c,-a[0],-a[1]),m=this.f;m.canvas.width!==h||m.canvas.height!==h?(m.canvas.width=h,m.canvas.height=h):m.clearRect(0,0,h,h);if(void 0!==this.i){var n=Da();Ea(n,a);Fa(n,b*(this.i+d),n)}var p=Xj(d),q;this.a&&(q=this.a.all().map(function(a){return a.value}));return Zj(this,m,l,c,e,function(a){for(var b=m.getImageData(0,0,h,h).data,c=0;c<h;c++)for(var d=0;d<h;d++)if(p[c][d]&&0<b[4*(d*h+c)+3]){var e;q&&-1===q.indexOf(a)||
(e=f(a));if(e)return e;m.clearRect(0,0,h,h);return}},n,g)};function ak(a,b){var c=a.c;a=c[0];var d=c[1],e=c[2];c=c[3];a=[a,d,a,c,e,c,e,d];Te(a,0,8,2,b,a);return a}k.Ja=function(a,b){var c=void 0!==a?a.toString():"0";a=this.b[c];void 0===a&&(a={},this.b[c]=a);c=a[b];void 0===c&&(c=new bk[b](this.o,this.c,this.v,this.s,this.l,this.a),a[b]=c);return c};k.yg=function(){return nb(this.b)};
k.Na=function(a,b,c,d,e,f){var g=Object.keys(this.b).map(Number);g.sort(dc);a.save();var h=ak(this,b);a.beginPath();a.moveTo(h[0],h[1]);a.lineTo(h[2],h[3]);a.lineTo(h[4],h[5]);a.lineTo(h[6],h[7]);a.clip();e=e?e:uj;var l,m;h=0;for(l=g.length;h<l;++h){var n=g[h].toString();var p=this.b[n];var q=0;for(m=e.length;q<m;++q){var r=e[q];var u=p[r];void 0!==u&&(!f||"Image"!=r&&"Text"!=r?u.Na(a,b,c,d):(r=f[n])?r.push(u,b.slice(0)):f[n]=[u,b.slice(0)])}}a.restore()};
function Zj(a,b,c,d,e,f,g,h){var l=Object.keys(a.b).map(Number);l.sort(dc);var m,n;for(m=l.length-1;0<=m;--m){var p=l[m].toString();var q=a.b[p];for(n=uj.length-1;0<=n;--n){var r=uj[n];var u=q[r];if(void 0!==u)if(!h||"Image"!=r&&"Text"!=r){r=b;var v=c,z=e,A=f,E=g;u.$=d;if(u=Hj(u,r,v,z,u.b,A,E))return u}else(r=h[p])?r.push(u,c.slice(0)):h[p]=[u,c.slice(0)]}}}var bk={Circle:Oj,Default:wj,Image:Lj,LineString:Mj,Polygon:Oj,Text:Rj};function ck(a,b){return x(a)-x(b)}function dk(a,b){a=.5*a/b;return a*a}function ek(a,b,c,d,e,f){var g=!1,h;if(h=c.Y()){var l=h.gf();2==l||3==l?h.Yj(e,f):(0==l&&h.load(),h.gi(e,f),g=!0)}if(e=(0,c.cb)(b))if(d=e.Wd(d),c.Ie())fk(a,d,c,b);else(0,gk[d.S()])(a,d,c,b);return g}function fk(a,b,c,d){if("GeometryCollection"==b.S()){b=b.vd();for(var e=0,f=b.length;e<f;++e)fk(a,b[e],c,d)}else a.Ja(c.Ba(),"Default").Hh(b,d,c.Ie())}
var gk={Point:function(a,b,c,d){var e=c.Y();if(e){if(2!=e.gf())return;var f=a.Ja(c.Ba(),"Image");f.Zb(e,a.Vb(!1));f.yc(b,d)}if(f=c.Ka())c=a.Ja(c.Ba(),"Text"),c.nb(f,a.Vb(!!e)),c.Wb(b,d)},LineString:function(a,b,c,d){var e=c.Ga();if(e){var f=a.Ja(c.Ba(),"LineString");f.Oa(null,e);f.uc(b,d)}if(e=c.Ka())c=a.Ja(c.Ba(),"Text"),c.nb(e,a.Vb(!1)),c.Wb(b,d)},Polygon:function(a,b,c,d){var e=c.Fa(),f=c.Ga();if(e||f){var g=a.Ja(c.Ba(),"Polygon");g.Oa(e,f);g.zc(b,d)}if(e=c.Ka())c=a.Ja(c.Ba(),"Text"),c.nb(e,a.Vb(!1)),
c.Wb(b,d)},MultiPoint:function(a,b,c,d){var e=c.Y();if(e){if(2!=e.gf())return;var f=a.Ja(c.Ba(),"Image");f.Zb(e,a.Vb(!1));f.wc(b,d)}if(f=c.Ka())c=a.Ja(c.Ba(),"Text"),c.nb(f,a.Vb(!!e)),c.Wb(b,d)},MultiLineString:function(a,b,c,d){var e=c.Ga();if(e){var f=a.Ja(c.Ba(),"LineString");f.Oa(null,e);f.vc(b,d)}if(e=c.Ka())c=a.Ja(c.Ba(),"Text"),c.nb(e,a.Vb(!1)),c.Wb(b,d)},MultiPolygon:function(a,b,c,d){var e=c.Fa(),f=c.Ga();if(f||e){var g=a.Ja(c.Ba(),"Polygon");g.Oa(e,f);g.xc(b,d)}if(e=c.Ka())c=a.Ja(c.Ba(),
"Text"),c.nb(e,a.Vb(!1)),c.Wb(b,d)},GeometryCollection:function(a,b,c,d){b=b.a;var e;var f=0;for(e=b.length;f<e;++f)(0,gk[b[f].S()])(a,b[f],c,d)},Circle:function(a,b,c,d){var e=c.Fa(),f=c.Ga();if(e||f){var g=a.Ja(c.Ba(),"Circle");g.Oa(e,f);g.cc(b,d)}if(e=c.Ka())c=a.Ja(c.Ba(),"Text"),c.nb(e,a.Vb(!1)),c.Wb(b,d)}};function hk(a){Xi.call(this,a);this.f=a.D?rj.Jc(9):null;this.i=!1;this.N=-1;this.o=NaN;this.l=Da();this.c=this.v=null;this.j=!0;this.context=hg();y(ii,"clear",this.Vi,this)}w(hk,Xi);hk.handles=function(a,b){return"canvas"===a&&"VECTOR"===b.S()};hk.create=function(a,b){return new hk(b)};k=hk.prototype;k.ia=function(){Mc(ii,"clear",this.Vi,this);Xi.prototype.ia.call(this)};
k.df=function(a,b,c){var d=a.extent,e=a.pixelRatio,f=b.Te?a.skippedFeatureUids:{},g=a.viewState,h=g.projection,l=g.rotation,m=h.G(),n=this.a.ha(),p=$i(this,a,0);Zi(this,"precompose",c,a,p);var q=b.extent;(g=void 0!==q)&&Yi(c,a,q);var r=this.c;if(r&&!r.yg()){this.f&&this.f.clear();var u=q=0,v=1!==b.opacity,z=Tc(this.a,"render");if(v||z){var A=c.canvas.width;var E=c.canvas.height;if(l){var S=Math.round(Math.sqrt(A*A+E*E));q=(S-A)/2;u=(S-E)/2;A=E=S}this.context.canvas.width=A;this.context.canvas.height=
E;A=this.context}else A=c;E=A.globalAlpha;v||(A.globalAlpha=b.opacity);A!=c&&A.translate(q,u);S=a.size[0]*e;e*=a.size[1];qi(A,-l,S/2,e/2);r.Na(A,p,l,f);if(n.D&&h.g&&!La(m,d)){h=d[0];n=cb(m);for(var Ia=0;h<m[0];)--Ia,p=n*Ia,p=$i(this,a,p),r.Na(A,p,l,f),h+=n;Ia=0;for(h=d[2];h>m[2];)++Ia,p=n*Ia,p=$i(this,a,p),r.Na(A,p,l,f),h-=n;p=$i(this,a,0)}qi(A,l,S/2,e/2);A!=c&&(z&&Zi(this,"render",A,a,p),v?(d=c.globalAlpha,c.globalAlpha=b.opacity,c.drawImage(A.canvas,-q,-u),c.globalAlpha=d):c.drawImage(A.canvas,
-q,-u),A.translate(-q,-u));v||(A.globalAlpha=E)}g&&c.restore();this.pf(c,a,b,p)};k.wa=function(a,b,c,d,e){if(this.c){var f=this.a,g={};return this.c.wa(a,b.viewState.resolution,b.viewState.rotation,c,{},function(a){var b=x(a).toString();if(!(b in g))return g[b]=!0,d.call(e,a,f)},null)}};k.Vi=function(){var a=this.a;a.Jb()&&this.c&&a.u()};k.Wi=function(){Mi(this)};
k.$c=function(a){var b=this.a,c=b.ha();Ui(a,c);var d=a.viewHints[0],e=a.viewHints[1],f=b.ca,g=b.ra;if(!this.i&&!f&&d||!g&&e)return!0;f=a.extent;var h=a.viewState;g=h.projection;var l=h.resolution,m=a.pixelRatio;d=b.g;var n=b.f;e=b.get(ik);void 0===e&&(e=ck);f=Fa(f,n*l);n=h.projection.G();c.D&&h.projection.g&&!La(n,a.extent)&&(a=Math.max(cb(f)/2,cb(n)),f[0]=n[0]-a,f[2]=n[2]+a);if(!this.i&&this.o==l&&this.N==d&&this.v==e&&La(this.l,f))return this.j=!1,!0;this.c=null;this.i=!1;var p=new Uj(.5*l/m,f,
l,m,c.$,this.f,b.f);c.ae(f,l,g);a=function(a){var c=a.ib();if(c)var d=c.call(a,l);else(c=b.ib())&&(d=c(a,l));if(d){if(d){c=!1;if(Array.isArray(d))for(var e=0,f=d.length;e<f;++e)c=ek(p,a,d[e],dk(l,m),this.Wi,this)||c;else c=ek(p,a,d,dk(l,m),this.Wi,this);a=c}else a=!1;this.i=this.i||a}}.bind(this);if(e){var q=[];c.ec(f,function(a){q.push(a)},this);q.sort(e);c=0;for(g=q.length;c<g;++c)a(q[c])}else c.ec(f,a,this);Yj(p);this.o=l;this.N=d;this.v=e;this.l=f;this.c=p;return this.j=!0};function jk(a){this.context=null;mj.call(this,a);this.N=a.D?rj.Jc(9):null;this.D=!1;this.ca=We();this.O="vector"==a.l?1:0;y(ii,"clear",this.Xi,this)}w(jk,mj);jk.handles=function(a,b){return"canvas"===a&&"VECTOR_TILE"===b.S()};jk.create=function(a,b){return new jk(b)};var kk={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"]},lk={image:["Default"],hybrid:["Image","Text","Default"],vector:uj};k=jk.prototype;k.ia=function(){Mc(ii,"clear",this.Xi,this);mj.prototype.ia.call(this)};
k.$c=function(a,b){var c=this.a,d=c.g;this.B!=d&&(this.f.length=0,c=c.l,this.context||"vector"==c||(this.context=hg()),this.context&&"vector"==c&&(this.context=null));this.B=d;return mj.prototype.$c.apply(this,arguments)};
k.Sf=function(a,b,c,d,e,f,g,h,l){var m=a,n=this.a,p=b.pixelRatio,q=b.viewState.projection,r=n.g,u=n.get(ik)||null,v=mk(m,n);if(v.Be||v.wf!=r||v.eh!=u){var z=n.ha(),A=z.tileGrid,E=z.eb(q),S=E.Ta(m.ya[0]);E=E.Ma(m.l);for(var Ia=0,ta=m.a.length;Ia<ta;++Ia){var la=m.c[m.a[Ia]];if(3!=la.getState()){var ca=A.Ma(la.ya),ia=gb(E,ca),xa=Sa(ca,ia)?null:Fa(ia,n.f*S),Va=la.o,ic=!1;Xb(q,Va)||(ic=!0,la.vg(q));v.Be=!1;ia=new Uj(0,ia,S,p,z.s,this.N,n.f);var Xa=dk(S,p),Z=la.a;u&&u!==v.eh&&Z.sort(u);for(var Zb,Le=0,
Uf=Z.length;Le<Uf;++Le)if(Zb=Z[Le],ic&&("tile-pixels"==Va.a&&(Va.Sj(ca),Va.Si(la.G())),Zb.U().mb(Va,q)),!xa||hb(xa,Zb.U().G())){var Id=void 0,te=Zb.ib();te?Id=te.call(Zb,S):(te=n.ib())&&(Id=te(Zb,S));if(Id){te=Xa;var Jh=ia;if(Id){var Mg=!1;if(Array.isArray(Id))for(var Ng=0,Wf=Id.length;Ng<Wf;++Ng)Mg=ek(Jh,Zb,Id[Ng],te,this.Yi,this)||Mg;else Mg=ek(Jh,Zb,Id,te,this.Yi,this);Zb=Mg}else Zb=!1;this.D=this.D||Zb;v.Be=v.Be||Zb}}Yj(ia);for(var rf in ia.b);ca=m.ya.toString();xa=ia;la.f[x(n)+","+ca]=xa}}v.wf=
r;v.eh=u}if(this.context){v=b;n=this.a;q=mk(m,n);r=n.g;if((p=kk[n.l])&&q.fh!==r)for(q.fh=r,z=m.l,S=z[0],q=v.pixelRatio,rf=n.ha(),A=rf.eb(v.viewState.projection),r=A.Ta(S),u=nk(m,n),v=rf.Zd(S,q,v.viewState.projection),u.canvas.width=v[0],u.canvas.height=v[1],v=A.Ma(z),z=0,A=m.a.length;z<A;++z)S=m.c[m.a[z]],3!=S.getState()&&(rf=q/r,E=Xe(this.ca),cf(E,rf,-rf),df(E,-v[0],-v[3]),ok(S,n,m.ya.toString()).Na(u,E,0,{},p));mj.prototype.Sf.apply(this,arguments)}};
k.wa=function(a,b,c,d,e){var f=b.viewState.resolution,g=b.viewState.rotation;c=void 0==c?0:c;var h=this.a,l={},m=this.f;b=h.ha().eb(b.viewState.projection);var n;var p=0;for(n=m.length;p<n;++p){var q=m[p];var r=q.l;r=b.Ma(r,this.T);var u=Fa(r,c*f,u);if(Ja(u,a)){r=0;for(var v=q.a.length;r<v;++r){var z=q.c[q.a[r]];if(3!=z.getState()){z=ok(z,h,q.ya.toString());var A=A||z.wa(a,f,g,c,{},function(a){var b=x(a).toString();if(!(b in l))return l[b]=!0,d.call(e,a,h)},null)}}}}return A};
k.Xi=function(){var a=this.a;a.Jb()&&void 0!==this.B&&a.u()};k.Yi=function(){Mi(this)};
k.pf=function(a,b,c){var d=this.a,e=d.D?{}:null,f=d.ha(),g=d.l,h=lk[g],l=b.pixelRatio,m=b.viewState.rotation,n=b.size;if(m){var p=Math.round(l*n[0]/2);var q=Math.round(l*n[1]/2);qi(a,-m,p,q)}e&&this.N.clear();l=this.f;f=f.eb(b.viewState.projection);n=[];for(var r=[],u=l.length-1;0<=u;--u){var v=l[u];if(5!=v.getState())for(var z=v.ya,A=f.Ma(z)[0]-f.Ma(v.l)[0],E=void 0,S=0,Ia=v.a.length;S<Ia;++S){var ta=v.c[v.a[S]];if(3!=ta.getState()){var la=ok(ta,d,z.toString()),ca;if(!(ca="vector"==g))a:{ca=void 0;
for(ca in la.b)for(var ia=la.b[ca],xa=0,Va=h.length;xa<Va;++xa)if(h[xa]in ia){ca=!0;break a}ca=!1}if(ca){E||(E=$i(this,b,A));ta=ta.ya[0];ca=ak(la,E);a.save();a.globalAlpha=c.opacity;ia=0;for(xa=n.length;ia<xa;++ia)Va=n[ia],ta<r[ia]&&(a.beginPath(),a.moveTo(ca[0],ca[1]),a.lineTo(ca[2],ca[3]),a.lineTo(ca[4],ca[5]),a.lineTo(ca[6],ca[7]),a.moveTo(Va[6],Va[7]),a.lineTo(Va[4],Va[5]),a.lineTo(Va[2],Va[3]),a.lineTo(Va[0],Va[1]),a.clip());la.Na(a,E,m,{},h,e);a.restore();n.push(ca);r.push(ta)}}}}if(e)for(d=
a,g=Object.keys(e).map(Number).sort(dc),h={},l=0,f=g.length;l<f;++l)for(n=e[g[l].toString()],r=0,u=n.length;r<u;)v=n[r++],z=n[r++],v.Na(d,z,m,h);m&&qi(a,m,p,q);mj.prototype.pf.apply(this,arguments)};qg("MAP_RENDERER",kj);rg([bj,mj,hk,jk]);function H(a){a=kb({},a);delete a.renderer;a.controls||(a.controls=Fg());a.interactions||(a.interactions=Zh());G.call(this,a)}w(H,G);function pk(a){Vc.call(this);a=a?a:{};this.a=null;y(this,Xc(qk),this.$m,this);this.rg(void 0!==a.tracking?a.tracking:!1)}w(pk,Vc);k=pk.prototype;k.ia=function(){this.rg(!1);Vc.prototype.ia.call(this)};
k.Dp=function(a){if(null!==a.alpha){var b=va(a.alpha);this.set(rk,b);"boolean"===typeof a.absolute&&a.absolute?this.set(sk,b):"number"===typeof a.webkitCompassHeading&&-1!=a.webkitCompassAccuracy&&this.set(sk,va(a.webkitCompassHeading))}null!==a.beta&&this.set(tk,va(a.beta));null!==a.gamma&&this.set(uk,va(a.gamma));this.u()};k.Ym=function(){return this.get(rk)};k.ll=function(){return this.get(tk)};k.ql=function(){return this.get(uk)};k.Zm=function(){return this.get(sk)};k.li=function(){return this.get(qk)};
k.$m=function(){if(qd){var a=this.li();a&&!this.a?this.a=y(window,"deviceorientation",this.Dp,this):a||null===this.a||(Gc(this.a),this.a=null)}};k.rg=function(a){this.set(qk,a)};var rk="alpha",tk="beta",uk="gamma",sk="heading",qk="tracking";function vk(a){this.i=a.opacity;this.s=a.rotateWithView;this.f=a.rotation;this.a=a.scale;this.v=a.snapToPixel}k=vk.prototype;k.hf=function(){return this.i};k.jf=function(){return this.s};k.kf=function(){return this.f};k.lf=function(){return this.a};k.Ke=function(){return this.v};k.Ed=function(a){this.i=a};k.mf=function(a){this.f=a};k.Fd=function(a){this.a=a};function wk(a){this.D=this.o=this.c=null;this.Xa=void 0!==a.fill?a.fill:null;this.oa=[0,0];this.l=a.points;this.b=void 0!==a.radius?a.radius:a.radius1;this.g=a.radius2;this.j=void 0!==a.angle?a.angle:0;this.Ya=void 0!==a.stroke?a.stroke:null;this.B=this.qa=this.C=null;this.N=a.atlasManager;xk(this,this.N);vk.call(this,{opacity:1,rotateWithView:void 0!==a.rotateWithView?a.rotateWithView:!1,rotation:void 0!==a.rotation?a.rotation:0,scale:1,snapToPixel:void 0!==a.snapToPixel?a.snapToPixel:!0})}
w(wk,vk);k=wk.prototype;k.clone=function(){var a=new wk({fill:this.Fa()?this.Fa().clone():void 0,points:this.l,radius:this.b,radius2:this.g,angle:this.j,snapToPixel:this.v,stroke:this.Ga()?this.Ga().clone():void 0,rotation:this.f,rotateWithView:this.s,atlasManager:this.N});a.Ed(this.i);a.Fd(this.a);return a};k.Vc=function(){return this.C};k.ij=function(){return this.j};k.Fa=function(){return this.Xa};k.Eg=function(){return this.D};k.Y=function(){return this.o};k.He=function(){return this.B};
k.gf=function(){return 2};k.bd=function(){return this.oa};k.jj=function(){return this.l};k.kj=function(){return this.b};k.Zh=function(){return this.g};k.oc=function(){return this.qa};k.Ga=function(){return this.Ya};k.gi=function(){};k.load=function(){};k.Yj=function(){};
function xk(a,b){var c="",d="",e=0,f=null,g=0,h=0;if(a.Ya){var l=a.Ya.a;null===l&&(l=gi);l=zi(l);h=a.Ya.c;void 0===h&&(h=1);f=a.Ya.g;g=a.Ya.i;od||(f=null,g=0);d=a.Ya.j;void 0===d&&(d="round");c=a.Ya.f;void 0===c&&(c="round");e=a.Ya.l;void 0===e&&(e=10)}var m=2*(a.b+h)+1;c={strokeStyle:l,Wj:h,size:m,lineCap:c,lineDash:f,lineDashOffset:g,lineJoin:d,miterLimit:e};if(void 0===b){var n=hg(m,m);a.o=n.canvas;b=m=a.o.width;a.Jh(c,n,0,0);a.Xa?a.D=a.o:(n=hg(c.size,c.size),a.D=n.canvas,a.Ih(c,n,0,0))}else m=
Math.round(m),(d=!a.Xa)&&(n=a.Ih.bind(a,c)),a.Ya?(e=a.Ya,void 0===e.b&&(e.b="s",e.b=e.a?"string"===typeof e.a?e.b+e.a:e.b+x(e.a).toString():e.b+"-",e.b+=","+(void 0!==e.f?e.f.toString():"-")+","+(e.g?e.g.toString():"-")+","+(void 0!==e.i?e.i:"-")+","+(void 0!==e.j?e.j:"-")+","+(void 0!==e.l?e.l.toString():"-")+","+(void 0!==e.c?e.c.toString():"-")),e=e.b):e="-",a.Xa?(f=a.Xa,void 0===f.a&&(f.a=f.b instanceof CanvasPattern||f.b instanceof CanvasGradient?x(f.b).toString():"f"+(f.b?xi(f.b):"-")),f=f.a):
f="-",a.c&&e==a.c[1]&&f==a.c[2]&&a.b==a.c[3]&&a.g==a.c[4]&&a.j==a.c[5]&&a.l==a.c[6]||(a.c=["r"+e+f+(void 0!==a.b?a.b.toString():"-")+(void 0!==a.g?a.g.toString():"-")+(void 0!==a.j?a.j.toString():"-")+(void 0!==a.l?a.l.toString():"-"),e,f,a.b,a.g,a.j,a.l]),n=b.add(a.c[0],m,m,a.Jh.bind(a,c),n),a.o=n.image,a.oa=[n.offsetX,n.offsetY],b=n.image.width,a.D=d?n.Bm:a.o;a.C=[m/2,m/2];a.qa=[m,m];a.B=[b,b]}
k.Jh=function(a,b,c,d){b.setTransform(1,0,0,1,0,0);b.translate(c,d);b.beginPath();var e=this.l;if(Infinity===e)b.arc(a.size/2,a.size/2,this.b,0,2*Math.PI,!0);else{var f=void 0!==this.g?this.g:this.b;f!==this.b&&(e*=2);for(c=0;c<=e;c++){d=2*c*Math.PI/e-Math.PI/2+this.j;var g=0===c%2?this.b:f;b.lineTo(a.size/2+g*Math.cos(d),a.size/2+g*Math.sin(d))}}this.Xa&&(c=this.Xa.b,null===c&&(c=ei),b.fillStyle=zi(c),b.fill());this.Ya&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.Wj,a.lineDash&&(b.setLineDash(a.lineDash),
b.lineDashOffset=a.lineDashOffset),b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.miterLimit=a.miterLimit,b.stroke());b.closePath()};
k.Ih=function(a,b,c,d){b.setTransform(1,0,0,1,0,0);b.translate(c,d);b.beginPath();c=this.l;if(Infinity===c)b.arc(a.size/2,a.size/2,this.b,0,2*Math.PI,!0);else{d=void 0!==this.g?this.g:this.b;d!==this.b&&(c*=2);var e;for(e=0;e<=c;e++){var f=2*e*Math.PI/c-Math.PI/2+this.j;var g=0===e%2?this.b:d;b.lineTo(a.size/2+g*Math.cos(f),a.size/2+g*Math.sin(f))}}b.fillStyle=ei;b.fill();this.Ya&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.Wj,a.lineDash&&(b.setLineDash(a.lineDash),b.lineDashOffset=a.lineDashOffset),
b.stroke());b.closePath()};function yk(a){a=a||{};wk.call(this,{points:Infinity,fill:a.fill,radius:a.radius,snapToPixel:a.snapToPixel,stroke:a.stroke,atlasManager:a.atlasManager})}w(yk,wk);yk.prototype.clone=function(){var a=new yk({fill:this.Fa()?this.Fa().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,radius:this.b,snapToPixel:this.v,atlasManager:this.N});a.Ed(this.i);a.Fd(this.a);return a};yk.prototype.fd=function(a){this.b=a;xk(this,this.N)};function zk(a){a=a||{};this.b=void 0!==a.color?a.color:null;this.a=void 0}zk.prototype.clone=function(){var a=this.b;return new zk({color:a&&a.slice?a.slice():a||void 0})};zk.prototype.g=function(){return this.b};zk.prototype.c=function(a){this.b=a;this.a=void 0};function Ak(a){a=a||{};this.a=void 0!==a.color?a.color:null;this.f=a.lineCap;this.g=void 0!==a.lineDash?a.lineDash:null;this.i=a.lineDashOffset;this.j=a.lineJoin;this.l=a.miterLimit;this.c=a.width;this.b=void 0}k=Ak.prototype;k.clone=function(){var a=this.a;return new Ak({color:a&&a.slice?a.slice():a||void 0,lineCap:this.f,lineDash:this.g?this.g.slice():void 0,lineDashOffset:this.i,lineJoin:this.j,miterLimit:this.l,width:this.c})};k.pp=function(){return this.a};k.vl=function(){return this.f};
k.qp=function(){return this.g};k.wl=function(){return this.i};k.xl=function(){return this.j};k.Dl=function(){return this.l};k.rp=function(){return this.c};k.sp=function(a){this.a=a;this.b=void 0};k.yq=function(a){this.f=a;this.b=void 0};k.setLineDash=function(a){this.g=a;this.b=void 0};k.zq=function(a){this.i=a;this.b=void 0};k.Aq=function(a){this.j=a;this.b=void 0};k.Eq=function(a){this.l=a;this.b=void 0};k.Kq=function(a){this.c=a;this.b=void 0};function Bk(a){a=a||{};this.Uc=null;this.cb=Ck;void 0!==a.geometry&&this.Va(a.geometry);this.Xa=void 0!==a.fill?a.fill:null;this.M=void 0!==a.image?a.image:null;this.pc=void 0!==a.renderer?a.renderer:null;this.Ya=void 0!==a.stroke?a.stroke:null;this.ta=void 0!==a.text?a.text:null;this.bk=a.zIndex}k=Bk.prototype;
k.clone=function(){var a=this.U();a&&a.clone&&(a=a.clone());return new Bk({geometry:a,fill:this.Fa()?this.Fa().clone():void 0,image:this.Y()?this.Y().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,text:this.Ka()?this.Ka().clone():void 0,zIndex:this.Ba()})};k.Ie=function(){return this.pc};k.Iq=function(a){this.pc=a};k.U=function(){return this.Uc};k.rl=function(){return this.cb};k.Fa=function(){return this.Xa};k.yf=function(a){this.Xa=a};k.Y=function(){return this.M};
k.ih=function(a){this.M=a};k.Ga=function(){return this.Ya};k.Af=function(a){this.Ya=a};k.Ka=function(){return this.ta};k.Hd=function(a){this.ta=a};k.Ba=function(){return this.bk};k.Va=function(a){"function"===typeof a?this.cb=a:"string"===typeof a?this.cb=function(b){return b.get(a)}:a?void 0!==a&&(this.cb=function(){return a}):this.cb=Ck;this.Uc=a};k.$b=function(a){this.bk=a};
function Dk(a){if("function"!==typeof a){if(Array.isArray(a))var b=a;else oa(a instanceof Bk,41),b=[a];a=function(){return b}}return a}var Ek=null;function Fk(){if(!Ek){var a=new zk({color:"rgba(255,255,255,0.4)"}),b=new Ak({color:"#3399CC",width:1.25});Ek=[new Bk({image:new yk({fill:a,stroke:b,radius:5}),fill:a,stroke:b})]}return Ek}
function Gk(){var a={},b=[255,255,255,1],c=[0,153,255,1];a.Polygon=[new Bk({fill:new zk({color:[255,255,255,.5]})})];a.MultiPolygon=a.Polygon;a.LineString=[new Bk({stroke:new Ak({color:b,width:5})}),new Bk({stroke:new Ak({color:c,width:3})})];a.MultiLineString=a.LineString;a.Circle=a.Polygon.concat(a.LineString);a.Point=[new Bk({image:new yk({radius:6,fill:new zk({color:c}),stroke:new Ak({color:b,width:1.5})}),zIndex:Infinity})];a.MultiPoint=a.Point;a.GeometryCollection=a.Polygon.concat(a.LineString,
a.Point);return a}function Ck(a){return a.U()};function Hk(a){Vc.call(this);this.c=void 0;this.a="geometry";this.f=null;this.j=void 0;this.i=null;y(this,Xc(this.a),this.Oe,this);void 0!==a&&(a instanceof gf||!a?this.Va(a):this.H(a))}w(Hk,Vc);k=Hk.prototype;k.clone=function(){var a=new Hk(this.L());a.Lc(this.a);var b=this.U();b&&a.Va(b.clone());(b=this.f)&&a.sg(b);return a};k.U=function(){return this.get(this.a)};k.an=function(){return this.c};k.sl=function(){return this.a};k.bn=function(){return this.f};k.ib=function(){return this.j};k.bm=function(){this.u()};
k.Oe=function(){this.i&&(Gc(this.i),this.i=null);var a=this.U();a&&(this.i=y(a,"change",this.bm,this));this.u()};k.Va=function(a){this.set(this.a,a)};k.sg=function(a){this.j=(this.f=a)?Ik(a):void 0;this.u()};k.qc=function(a){this.c=a;this.u()};k.Lc=function(a){Mc(this,Xc(this.a),this.Oe,this);this.a=a;y(this,Xc(this.a),this.Oe,this);this.Oe()};
function Ik(a){var b;if("function"===typeof a)2==a.length?b=function(b){return a(this,b)}:b=a;else{if(Array.isArray(a))var c=a;else oa(a instanceof Bk,41),c=[a];b=function(){return c}}return b};function Jk(a){Vc.call(this);a=a||{};this.a=null;this.i=$b;this.f=new ob(6378137);this.c=void 0;y(this,Xc("projection"),this.en,this);y(this,Xc("tracking"),this.fn,this);void 0!==a.projection&&this.oi(a.projection);void 0!==a.trackingOptions&&this.Rj(a.trackingOptions);this.Ue(void 0!==a.tracking?a.tracking:!1)}w(Jk,Vc);k=Jk.prototype;k.ia=function(){this.Ue(!1);Vc.prototype.ia.call(this)};k.en=function(){var a=this.mi();a&&(this.i=Pb(Ob("EPSG:4326"),a),this.a&&this.set("position",this.i(this.a)))};
k.fn=function(){if(rd){var a=this.ni();a&&void 0===this.c?this.c=navigator.geolocation.watchPosition(this.Pp.bind(this),this.Qp.bind(this),this.ai()):a||void 0===this.c||(navigator.geolocation.clearWatch(this.c),this.c=void 0)}};
k.Pp=function(a){a=a.coords;this.set("accuracy",a.accuracy);this.set("altitude",null===a.altitude?void 0:a.altitude);this.set("altitudeAccuracy",null===a.altitudeAccuracy?void 0:a.altitudeAccuracy);this.set("heading",null===a.heading?void 0:va(a.heading));this.a?(this.a[0]=a.longitude,this.a[1]=a.latitude):this.a=[a.longitude,a.latitude];var b=this.i(this.a);this.set("position",b);this.set("speed",null===a.speed?void 0:a.speed);a=Qf(this.f,this.a,a.accuracy);a.Rc(this.i);this.set("accuracyGeometry",
a);this.u()};k.Qp=function(a){a.type="error";this.Ue(!1);this.b(a)};k.el=function(){return this.get("accuracy")};k.fl=function(){return this.get("accuracyGeometry")||null};k.gl=function(){return this.get("altitude")};k.hl=function(){return this.get("altitudeAccuracy")};k.cn=function(){return this.get("heading")};k.dn=function(){return this.get("position")};k.mi=function(){return this.get("projection")};k.Ol=function(){return this.get("speed")};k.ni=function(){return this.get("tracking")};k.ai=function(){return this.get("trackingOptions")};
k.oi=function(a){this.set("projection",Ob(a))};k.Ue=function(a){this.set("tracking",a)};k.Rj=function(a){this.set("trackingOptions",a)};function Kk(a,b,c,d,e,f){var g=NaN,h=NaN,l=(c-b)/d;if(1===l)g=a[b],h=a[b+1];else if(2==l)g=(1-e)*a[b]+e*a[b+d],h=(1-e)*a[b+1]+e*a[b+d+1];else if(0!==l){h=a[b];l=a[b+1];var m=0;g=[0];var n;for(n=b+d;n<c;n+=d){var p=a[n],q=a[n+1];m+=Math.sqrt((p-h)*(p-h)+(q-l)*(q-l));g.push(m);h=p;l=q}c=e*m;l=0;m=g.length;for(n=!1;l<m;)e=l+(m-l>>1),h=+dc(g[e],c),0>h?l=e+1:(m=e,n=!h);e=n?l:~l;0>e?(c=(c-g[-e-2])/(g[-e-1]-g[-e-2]),b+=(-e-2)*d,g=ya(a[b],a[b+d],c),h=ya(a[b+1],a[b+d+1],c)):(g=a[b+e*d],h=a[b+e*d+1])}return f?
(f[0]=g,f[1]=h,f):[g,h]}function Sk(a,b,c,d,e,f){if(c==b)return null;if(e<a[b+d-1])return f?(c=a.slice(b,b+d),c[d-1]=e,c):null;if(a[c-1]<e)return f?(c=a.slice(c-d,c),c[d-1]=e,c):null;if(e==a[b+d-1])return a.slice(b,b+d);b/=d;for(c/=d;b<c;)f=b+c>>1,e<a[(f+1)*d-1]?c=f:b=f+1;c=a[b*d-1];if(e==c)return a.slice((b-1)*d,(b-1)*d+d);f=(e-c)/(a[(b+1)*d-1]-c);c=[];var g;for(g=0;g<d-1;++g)c.push(ya(a[(b-1)*d+g],a[b*d+g],f));c.push(e);return c}
function Tk(a,b,c,d,e,f){var g=0;if(f)return Sk(a,g,b[b.length-1],c,d,e);if(d<a[c-1])return e?(a=a.slice(0,c),a[c-1]=d,a):null;if(a[a.length-1]<d)return e?(a=a.slice(a.length-c),a[c-1]=d,a):null;e=0;for(f=b.length;e<f;++e){var h=b[e];if(g!=h){if(d<a[g+c-1])break;else if(d<=a[h-1])return Sk(a,g,h,c,d,!1);g=h}}return null};function I(a,b){hf.call(this);this.c=null;this.o=this.D=this.j=-1;this.na(a,b)}w(I,hf);k=I.prototype;k.Fk=function(a){this.A?gc(this.A,a):this.A=a.slice();this.u()};k.clone=function(){var a=new I(null);a.ba(this.ja,this.A.slice());return a};k.Nb=function(a,b,c,d){if(d<Ha(this.G(),a,b))return d;this.o!=this.g&&(this.D=Math.sqrt(pf(this.A,0,this.A.length,this.a,0)),this.o=this.g);return tf(this.A,0,this.A.length,this.a,this.D,!1,a,b,c,d)};
k.dl=function(a,b){return Jf(this.A,0,this.A.length,this.a,a,b)};k.Tn=function(a,b){return"XYM"!=this.ja&&"XYZM"!=this.ja?null:Sk(this.A,0,this.A.length,this.a,a,void 0!==b?b:!1)};k.W=function(){return yf(this.A,0,this.A.length,this.a)};k.Ph=function(a,b){return Kk(this.A,0,this.A.length,this.a,a,b)};k.Un=function(){return tj(this.A,0,this.A.length,this.a)};k.Fe=function(){this.j!=this.g&&(this.c=this.Ph(.5,this.c),this.j=this.g);return this.c};
k.xd=function(a){var b=[];b.length=Bf(this.A,0,this.A.length,this.a,a,b,0);a=new I(null);a.ba("XY",b);return a};k.S=function(){return"LineString"};k.$a=function(a){return Kf(this.A,0,this.A.length,this.a,a)};k.na=function(a,b){a?(lf(this,b,a,1),this.A||(this.A=[]),this.A.length=wf(this.A,0,a,this.a),this.u()):this.ba("XY",null)};k.ba=function(a,b){kf(this,a,b);this.u()};function Uk(a,b,c){for(var d=[],e=a(0),f=a(1),g=b(e),h=b(f),l=[f,e],m=[h,g],n=[1,0],p={},q=1E5,r,u,v,z,A;0<--q&&0<n.length;)v=n.pop(),e=l.pop(),g=m.pop(),f=v.toString(),f in p||(d.push(g[0],g[1]),p[f]=!0),z=n.pop(),f=l.pop(),h=m.pop(),A=(v+z)/2,r=a(A),u=b(r),sa(u[0],u[1],g[0],g[1],h[0],h[1])<c?(d.push(h[0],h[1]),f=z.toString(),p[f]=!0):(n.push(z,A,A,v),m.push(h,u,u,g),l.push(f,r,r,e));return d}function Vk(a,b,c,d,e){var f=Ob("EPSG:4326");return Uk(function(d){return[a,b+(c-b)*d]},Yb(f,d),e)}
function Wk(a,b,c,d,e){var f=Ob("EPSG:4326");return Uk(function(d){return[b+(c-b)*d,a]},Yb(f,d),e)};function J(a){a=a||{};this.a=a.font;this.i=a.rotation;this.l=a.rotateWithView;this.b=a.scale;this.ta=a.text;this.f=a.textAlign;this.j=a.textBaseline;this.Xa=void 0!==a.fill?a.fill:new zk({color:"#333"});this.s=void 0!==a.maxAngle?a.maxAngle:Math.PI/4;this.o=void 0!==a.placement?a.placement:"point";var b=void 0===a.overflow?a.exceedLength:a.overflow;this.v=void 0!==b?b:!1;this.Ya=void 0!==a.stroke?a.stroke:null;this.g=void 0!==a.offsetX?a.offsetX:0;this.c=void 0!==a.offsetY?a.offsetY:0;this.N=a.backgroundFill?
a.backgroundFill:null;this.D=a.backgroundStroke?a.backgroundStroke:null;this.C=void 0===a.padding?null:a.padding}k=J.prototype;k.clone=function(){return new J({font:this.a,placement:this.o,maxAngle:this.s,overflow:this.v,rotation:this.i,rotateWithView:this.l,scale:this.b,text:this.Ka(),textAlign:this.f,textBaseline:this.j,fill:this.Fa()?this.Fa().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,offsetX:this.g,offsetY:this.c})};k.Gl=function(){return this.v};k.pl=function(){return this.a};
k.Bl=function(){return this.s};k.Kl=function(){return this.o};k.El=function(){return this.g};k.Fl=function(){return this.c};k.Fa=function(){return this.Xa};k.tp=function(){return this.l};k.up=function(){return this.i};k.vp=function(){return this.b};k.Ga=function(){return this.Ya};k.Ka=function(){return this.ta};k.Ql=function(){return this.f};k.Rl=function(){return this.j};k.jl=function(){return this.N};k.kl=function(){return this.D};k.Il=function(){return this.C};k.Fq=function(a){this.v=a};
k.Jj=function(a){this.a=a};k.Bq=function(a){this.s=a};k.Nj=function(a){this.g=a};k.Oj=function(a){this.c=a};k.Hq=function(a){this.o=a};k.yf=function(a){this.Xa=a};k.wp=function(a){this.i=a};k.lj=function(a){this.b=a};k.Af=function(a){this.Ya=a};k.Hd=function(a){this.ta=a};k.Qj=function(a){this.f=a};k.Jq=function(a){this.j=a};k.sq=function(a){this.N=a};k.tq=function(a){this.D=a};k.Gq=function(a){this.C=a};function Xk(a){a=a||{};this.i=this.v=null;this.j=this.f=Infinity;this.s=this.l=-Infinity;this.qa=this.oa=Infinity;this.O=this.T=-Infinity;this.ua=void 0!==a.targetSize?a.targetSize:100;this.ab=void 0!==a.maxLines?a.maxLines:100;this.g=[];this.c=[];this.ra=void 0!==a.strokeStyle?a.strokeStyle:Yk;this.D=this.o=void 0;this.a=this.b=this.N=null;1==a.showLabels&&(this.$=void 0==a.lonLabelFormatter?Ce.bind(this,"EW"):a.lonLabelFormatter,this.Wa=void 0==a.latLabelFormatter?Ce.bind(this,"NS"):a.latLabelFormatter,
this.ca=void 0==a.lonLabelPosition?0:a.lonLabelPosition,this.V=void 0==a.latLabelPosition?1:a.latLabelPosition,this.B=void 0!==a.lonLabelStyle?a.lonLabelStyle:new J({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new zk({color:"rgba(0,0,0,1)"}),stroke:new Ak({color:"rgba(255,255,255,1)",width:3})}),this.C=void 0!==a.latLabelStyle?a.latLabelStyle:new J({font:"12px Calibri,sans-serif",textAlign:"end",fill:new zk({color:"rgba(0,0,0,1)"}),stroke:new Ak({color:"rgba(255,255,255,1)",width:3})}),
this.b=[],this.a=[]);this.setMap(void 0!==a.map?a.map:null)}var Yk=new Ak({color:"rgba(0,0,0,0.2)"}),Zk=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];function $k(a,b,c,d,e,f,g){var h=g;c=Vk(b,c,d,a.i,e);h=void 0!==a.g[h]?a.g[h]:new I(null);h.ba("XY",c);hb(h.G(),f)&&(a.b&&(c=g,d=h.da(),f=[d[0],pa(f[1]+Math.abs(f[1]-f[3])*a.ca,Math.max(f[1],d[1]),Math.min(f[3],d[d.length-1]))],c=void 0!==a.b[c]?a.b[c].Qd:new C(null),c.na(f),a.b[g]={Qd:c,text:a.$(b)}),a.g[g++]=h);return g}
function al(a,b,c,d,e,f,g){var h=g;c=Wk(b,c,d,a.i,e);h=void 0!==a.c[h]?a.c[h]:new I(null);h.ba("XY",c);hb(h.G(),f)&&(a.a&&(c=g,d=h.da(),f=[pa(f[0]+Math.abs(f[0]-f[2])*a.V,Math.max(f[0],d[0]),Math.min(f[2],d[d.length-2])),d[1]],c=void 0!==a.a[c]?a.a[c].Qd:new C(null),c.na(f),a.a[g]={Qd:c,text:a.Wa(b)}),a.c[g++]=h);return g}k=Xk.prototype;k.gn=function(){return this.v};k.Cl=function(){return this.g};k.Jl=function(){return this.c};
k.di=function(a){var b=a.vectorContext,c=a.frameState;a=c.extent;var d=c.viewState,e=d.center,f=d.projection;d=d.resolution;c=c.pixelRatio;c=d*d/(4*c*c);if(!this.i||!Xb(this.i,f)){var g=Ob("EPSG:4326"),h=f.G(),l=f.oe,m=bc(l,g,f),n=l[2],p=l[1],q=l[0],r=m[3],u=m[2],v=m[1];m=m[0];this.f=l[3];this.j=n;this.l=p;this.s=q;this.oa=r;this.qa=u;this.T=v;this.O=m;this.o=Yb(g,f);this.D=Yb(f,g);this.N=this.D(eb(h));this.i=f}f=this.N[0];g=this.N[1];h=-1;n=Math.pow(this.ua*d,2);p=[];q=[];d=0;for(l=Zk.length;d<l;++d){r=
Zk[d]/2;p[0]=f-r;p[1]=g-r;q[0]=f+r;q[1]=g+r;this.o(p,p);this.o(q,q);r=Math.pow(q[0]-p[0],2)+Math.pow(q[1]-p[1],2);if(r<=n)break;h=Zk[d]}d=h;if(-1==d)this.g.length=this.c.length=0,this.b&&(this.b.length=0),this.a&&(this.a.length=0);else{f=this.D(e);e=f[0];f=f[1];g=this.ab;l=[Math.max(a[0],this.O),Math.max(a[1],this.T),Math.min(a[2],this.qa),Math.min(a[3],this.oa)];l=bc(l,this.i,"EPSG:4326");p=l[3];h=l[2];q=l[1];r=l[0];e=Math.floor(e/d)*d;u=pa(e,this.s,this.j);n=$k(this,u,q,p,c,a,0);for(l=0;u!=this.s&&
l++<g;)u=Math.max(u-d,this.s),n=$k(this,u,q,p,c,a,n);u=pa(e,this.s,this.j);for(l=0;u!=this.j&&l++<g;)u=Math.min(u+d,this.j),n=$k(this,u,q,p,c,a,n);this.g.length=n;this.b&&(this.b.length=n);f=Math.floor(f/d)*d;e=pa(f,this.l,this.f);n=al(this,e,r,h,c,a,0);for(l=0;e!=this.l&&l++<g;)e=Math.max(e-d,this.l),n=al(this,e,r,h,c,a,n);e=pa(f,this.l,this.f);for(l=0;e!=this.f&&l++<g;)e=Math.min(e+d,this.f),n=al(this,e,r,h,c,a,n);this.c.length=n;this.a&&(this.a.length=n)}b.Oa(null,this.ra);a=0;for(c=this.g.length;a<
c;++a)e=this.g[a],b.Hb(e);a=0;for(c=this.c.length;a<c;++a)e=this.c[a],b.Hb(e);if(this.b)for(a=0,c=this.b.length;a<c;++a)e=this.b[a],this.B.Hd(e.text),b.nb(this.B),b.Hb(e.Qd);if(this.a)for(a=0,c=this.a.length;a<c;++a)e=this.a[a],this.C.Hd(e.text),b.nb(this.C),b.Hb(e.Qd)};k.setMap=function(a){this.v&&(this.v.J("postcompose",this.di,this),this.v.render());a&&(a.I("postcompose",this.di,this),a.render());this.v=a};function bl(a,b,c,d,e,f){$h.call(this,a,b,c,0);this.i=d;this.M=new Image;null!==e&&(this.M.crossOrigin=e);this.g=null;this.state=0;this.c=f}w(bl,$h);k=bl.prototype;k.Y=function(){return this.M};k.kn=function(){this.state=3;this.g.forEach(Gc);this.g=null;this.u()};k.ln=function(){void 0===this.resolution&&(this.resolution=db(this.extent)/this.M.height);this.state=2;this.g.forEach(Gc);this.g=null;this.u()};
k.load=function(){if(0==this.state||3==this.state)this.state=1,this.u(),this.g=[Lc(this.M,"error",this.kn,this),Lc(this.M,"load",this.ln,this)],this.c(this,this.i)};k.ih=function(a){this.M=a};function cl(a,b,c){Sc.call(this);c=c?c:{};this.ya=a;this.state=b;this.g=null;this.key="";this.j=void 0===c.transition?250:c.transition;this.s={}}w(cl,Sc);cl.prototype.u=function(){this.b("change")};cl.prototype.lb=function(){return this.key+"/"+this.ya};function pj(a){if(!a.g)return a;var b=a.g;do{if(2==b.getState())return b;b=b.g}while(b);return a}function dl(a){if(a.g){var b=a.g;do{if(2==b.getState()){b.g=null;break}else 1==b.getState()?a=b:0==b.getState()?a.g=b.g:a=b;b=a.g}while(b)}}
cl.prototype.i=function(){return this.ya};cl.prototype.getState=function(){return this.state};function oj(a,b){a.state=b;a.u()}function qj(a,b,c){if(!a.j)return 1;var d=a.s[b];if(!d)d=c,a.s[b]=d;else if(-1===d)return 1;b=c-d+1E3/60;return b>=a.j?1:Me(b/a.j)};function el(a,b,c,d,e,f){cl.call(this,a,b,f);this.f=d;this.l=c;this.M=new Image;null!==d&&(this.M.crossOrigin=d);this.c=null;this.v=e}w(el,cl);k=el.prototype;k.ia=function(){1==this.state&&(fl(this),this.M=gl());this.g&&Pc(this.g);this.state=5;this.u();cl.prototype.ia.call(this)};k.Y=function(){return this.M};k.lb=function(){return this.l};k.hn=function(){this.state=3;fl(this);this.M=gl();this.u()};k.jn=function(){this.state=this.M.naturalWidth&&this.M.naturalHeight?2:4;fl(this);this.u()};
k.load=function(){3==this.state&&(this.state=0,this.M=new Image,null!==this.f&&(this.M.crossOrigin=this.f));0==this.state&&(this.state=1,this.u(),this.c=[Lc(this.M,"error",this.hn,this),Lc(this.M,"load",this.jn,this)],this.v(this,this.l))};function fl(a){a.c.forEach(Gc);a.c=null}function gl(){var a=hg(1,1);a.fillStyle="rgba(0,0,0,0)";a.fillRect(0,0,1,1);return a.canvas};function hl(a){this.b=a};function il(a){this.b=a}w(il,hl);il.prototype.S=function(){return 35632};function jl(a){this.b=a}w(jl,hl);jl.prototype.S=function(){return 35633};var kl=new il("precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"),
ll=new jl("varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;//Until we get gl_VertexID in WebGL,we store an instruction.if(f==0.0){//Offsetting the edges of the triangle by lineWidth/2 is necessary,however//we should also leave some space for the antialiasing,thus we offset by lineWidth.offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}");function ml(a,b){this.g=a.getUniformLocation(b,"h");this.i=a.getUniformLocation(b,"i");this.c=a.getUniformLocation(b,"j");this.oa=a.getUniformLocation(b,"k");this.qa=a.getUniformLocation(b,"l");this.a=a.getUniformLocation(b,"m");this.C=a.getUniformLocation(b,"n");this.O=a.getUniformLocation(b,"o");this.T=a.getUniformLocation(b,"p");this.b=a.getAttribLocation(b,"e");this.j=a.getAttribLocation(b,"f");this.N=a.getAttribLocation(b,"g")};function nl(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function pl(a,b){a[0]=b[0];a[1]=b[1];a[4]=b[2];a[5]=b[3];a[12]=b[4];a[13]=b[5];return a};function ql(a,b){this.origin=eb(b);this.bb=We();this.Ea=We();this.La=We();this.V=nl();this.b=[];this.j=null;this.g=[];this.i=[];this.a=[];this.s=null;this.f=void 0}w(ql,Ai);
ql.prototype.Na=function(a,b,c,d,e,f,g,h,l,m,n){var p=a.b;if(this.f){var q=p.isEnabled(p.STENCIL_TEST);var r=p.getParameter(p.STENCIL_FUNC);var u=p.getParameter(p.STENCIL_VALUE_MASK);var v=p.getParameter(p.STENCIL_REF);var z=p.getParameter(p.STENCIL_WRITEMASK);var A=p.getParameter(p.STENCIL_FAIL);var E=p.getParameter(p.STENCIL_PASS_DEPTH_PASS);var S=p.getParameter(p.STENCIL_PASS_DEPTH_FAIL);p.enable(p.STENCIL_TEST);p.clear(p.STENCIL_BUFFER_BIT);p.stencilMask(255);p.stencilFunc(p.ALWAYS,1,255);p.stencilOp(p.KEEP,
p.KEEP,p.REPLACE);this.f.Na(a,b,c,d,e,f,g,h,l,m,n);p.stencilMask(0);p.stencilFunc(p.NOTEQUAL,1,255)}rl(a,34962,this.s);rl(a,34963,this.j);f=this.Bf(p,a,e,f);var Ia=Xe(this.bb);cf(Ia,2/(c*e[0]),2/(c*e[1]));bf(Ia,-d);df(Ia,-(b[0]-this.origin[0]),-(b[1]-this.origin[1]));b=Xe(this.La);cf(b,2/e[0],2/e[1]);e=Xe(this.Ea);0!==d&&bf(e,-d);p.uniformMatrix4fv(f.g,!1,pl(this.V,Ia));p.uniformMatrix4fv(f.i,!1,pl(this.V,b));p.uniformMatrix4fv(f.c,!1,pl(this.V,e));p.uniform1f(f.a,g);if(void 0===l)this.Od(p,a,h,!1);
else{m?a=this.Ee(p,a,h,l,n):(p.clear(p.COLOR_BUFFER_BIT|p.DEPTH_BUFFER_BIT),this.Od(p,a,h,!0),a=(a=l(null))?a:void 0);var ta=a}this.Cf(p,f);this.f&&(q||p.disable(p.STENCIL_TEST),p.clear(p.STENCIL_BUFFER_BIT),p.stencilFunc(r,v,u),p.stencilMask(z),p.stencilOp(A,S,E));return ta};function sl(a,b,c,d){a.drawElements(4,d-c,b.f?5125:5123,c*(b.f?4:2))};var tl=[0,0,0,1],ul=[],vl=[0,0,0,1];function wl(a,b,c,d,e,f){a=(c-a)*(f-b)-(e-a)*(d-b);return a<=xl&&a>=-xl?void 0:0<a}var xl=Number.EPSILON||2.220446049250313E-16;function yl(a){this.b=void 0!==a?a:[];this.a=zl}var zl=35044;function Al(a,b){ql.call(this,a,b);this.v=null;this.l=[];this.o=[];this.N=0;this.c={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,u:!1}}w(Al,ql);k=Al.prototype;
k.cc=function(a,b){var c=a.Bd(),d=a.pa();if(c){this.g.push(this.b.length);this.i.push(b);this.c.u&&(this.o.push(this.b.length),this.c.u=!1);this.N=c;a=a.da();a=Ue(a,0,2,d,-this.origin[0],-this.origin[1]);b=this.a.length;c=this.b.length;var e=b/4,f;for(f=0;2>f;f+=d)this.a[b++]=a[f],this.a[b++]=a[f+1],this.a[b++]=0,this.a[b++]=this.N,this.a[b++]=a[f],this.a[b++]=a[f+1],this.a[b++]=1,this.a[b++]=this.N,this.a[b++]=a[f],this.a[b++]=a[f+1],this.a[b++]=2,this.a[b++]=this.N,this.a[b++]=a[f],this.a[b++]=
a[f+1],this.a[b++]=3,this.a[b++]=this.N,this.b[c++]=e,this.b[c++]=e+1,this.b[c++]=e+2,this.b[c++]=e+2,this.b[c++]=e+3,this.b[c++]=e,e+=4}else this.c.u&&(this.l.pop(),this.l.length&&(d=this.l[this.l.length-1],this.c.fillColor=d[0],this.c.strokeColor=d[1],this.c.lineWidth=d[2],this.c.u=!1))};k.gb=function(){this.s=new yl(this.a);this.j=new yl(this.b);this.g.push(this.b.length);0===this.o.length&&0<this.l.length&&(this.l=[]);this.b=this.a=null};
k.Db=function(a){var b=this.s,c=this.j;return function(){Bl(a,b);Bl(a,c)}};k.Bf=function(a,b,c,d){var e=Cl(b,kl,ll);if(this.v)var f=this.v;else this.v=f=new ml(a,e);b.cd(e);a.enableVertexAttribArray(f.b);a.vertexAttribPointer(f.b,2,5126,!1,16,0);a.enableVertexAttribArray(f.j);a.vertexAttribPointer(f.j,1,5126,!1,16,8);a.enableVertexAttribArray(f.N);a.vertexAttribPointer(f.N,1,5126,!1,16,12);a.uniform2fv(f.T,c);a.uniform1f(f.qa,d);return f};
k.Cf=function(a,b){a.disableVertexAttribArray(b.b);a.disableVertexAttribArray(b.j);a.disableVertexAttribArray(b.N)};
k.Od=function(a,b,c){if(nb(c)){var d=this.g[this.g.length-1];for(c=this.o.length-1;0<=c;--c){var e=this.o[c];var f=this.l[c];a.uniform4fv(this.v.C,f[0]);Dl(this,a,f[1],f[2]);sl(a,b,e,d);d=e}}else{var g=this.g.length-2;f=d=this.g[g+1];for(e=this.o.length-1;0<=e;--e){var h=this.l[e];a.uniform4fv(this.v.C,h[0]);Dl(this,a,h[1],h[2]);for(h=this.o[e];0<=g&&this.g[g]>=h;){var l=this.g[g];var m=this.i[g];m=x(m).toString();c[m]&&(d!==f&&sl(a,b,d,f),f=l);g--;d=l}d!==f&&sl(a,b,d,f);d=f=h}}};
k.Ee=function(a,b,c,d,e){var f,g;var h=this.g.length-2;var l=this.g[h+1];for(f=this.o.length-1;0<=f;--f){var m=this.l[f];a.uniform4fv(this.v.C,m[0]);Dl(this,a,m[1],m[2]);for(g=this.o[f];0<=h&&this.g[h]>=g;){m=this.g[h];var n=this.i[h];var p=x(n).toString();if(void 0===c[p]&&n.U()&&(void 0===e||hb(e,n.U().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),sl(a,b,m,l),l=d(n)))return l;h--;l=m}}};function Dl(a,b,c,d){b.uniform4fv(a.v.O,c);b.uniform1f(a.v.oa,d)}
k.Oa=function(a,b){if(b){var c=b.g;this.c.lineDash=c?c:ul;c=b.i;this.c.lineDashOffset=c?c:0;c=b.a;c instanceof CanvasGradient||c instanceof CanvasPattern?c=vl:c=vi(c).map(function(a,b){return 3!=b?a/255:a})||vl;b=b.c;b=void 0!==b?b:1}else c=[0,0,0,0],b=0;a=a?a.b:[0,0,0,0];a instanceof CanvasGradient||a instanceof CanvasPattern?a=tl:a=vi(a).map(function(a,b){return 3!=b?a/255:a})||tl;this.c.strokeColor&&jc(this.c.strokeColor,c)&&this.c.fillColor&&jc(this.c.fillColor,a)&&this.c.lineWidth===b||(this.c.u=
!0,this.c.fillColor=a,this.c.strokeColor=c,this.c.lineWidth=b,this.l.push([a,c,b]))};var El=new il("precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Fl=new jl("varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}");function Gl(a,b){this.g=a.getUniformLocation(b,"h");this.i=a.getUniformLocation(b,"i");this.c=a.getUniformLocation(b,"j");this.a=a.getUniformLocation(b,"k");this.b=a.getAttribLocation(b,"c");this.B=a.getAttribLocation(b,"d");this.v=a.getAttribLocation(b,"e");this.o=a.getAttribLocation(b,"f");this.D=a.getAttribLocation(b,"g")};function Hl(a,b){this.j=a;this.b=b;this.a={};this.c={};this.g={};this.s=this.v=this.i=this.l=null;(this.f=ec(da,"OES_element_index_uint"))&&b.getExtension("OES_element_index_uint");y(this.j,"webglcontextlost",this.zp,this);y(this.j,"webglcontextrestored",this.Ap,this)}w(Hl,Oc);
function rl(a,b,c){var d=a.b,e=c.b,f=String(x(c));if(f in a.a)d.bindBuffer(b,a.a[f].buffer);else{var g=d.createBuffer();d.bindBuffer(b,g);var h;34962==b?h=new Float32Array(e):34963==b&&(h=a.f?new Uint32Array(e):new Uint16Array(e));d.bufferData(b,h,c.a);a.a[f]={tc:c,buffer:g}}}function Bl(a,b){var c=a.b;b=String(x(b));var d=a.a[b];c.isContextLost()||c.deleteBuffer(d.buffer);delete a.a[b]}k=Hl.prototype;
k.ia=function(){Nc(this.j);var a=this.b;if(!a.isContextLost()){for(var b in this.a)a.deleteBuffer(this.a[b].buffer);for(b in this.g)a.deleteProgram(this.g[b]);for(b in this.c)a.deleteShader(this.c[b]);a.deleteFramebuffer(this.i);a.deleteRenderbuffer(this.s);a.deleteTexture(this.v)}};k.yp=function(){return this.b};
function Il(a){if(!a.i){var b=a.b,c=b.createFramebuffer();b.bindFramebuffer(b.FRAMEBUFFER,c);var d=Jl(b,1,1),e=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,e);b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,1,1);b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,d,0);b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,e);b.bindTexture(b.TEXTURE_2D,null);b.bindRenderbuffer(b.RENDERBUFFER,null);b.bindFramebuffer(b.FRAMEBUFFER,null);a.i=c;
a.v=d;a.s=e}return a.i}function Kl(a,b){var c=String(x(b));if(c in a.c)return a.c[c];var d=a.b,e=d.createShader(b.S());d.shaderSource(e,b.b);d.compileShader(e);return a.c[c]=e}function Cl(a,b,c){var d=x(b)+"/"+x(c);if(d in a.g)return a.g[d];var e=a.b,f=e.createProgram();e.attachShader(f,Kl(a,b));e.attachShader(f,Kl(a,c));e.linkProgram(f);return a.g[d]=f}k.zp=function(){lb(this.a);lb(this.c);lb(this.g);this.s=this.v=this.i=this.l=null};k.Ap=function(){};
k.cd=function(a){if(a==this.l)return!1;this.b.useProgram(a);this.l=a;return!0};function Ll(a,b,c){var d=a.createTexture();a.bindTexture(a.TEXTURE_2D,d);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);void 0!==b&&a.texParameteri(3553,10242,b);void 0!==c&&a.texParameteri(3553,10243,c);return d}function Jl(a,b,c){var d=Ll(a,void 0,void 0);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,b,c,0,a.RGBA,a.UNSIGNED_BYTE,null);return d}
function Ml(a,b){var c=Ll(a,33071,33071);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b);return c};function Nl(a,b){ql.call(this,a,b);this.C=this.D=void 0;this.v=[];this.o=[];this.qa=this.oa=this.height=void 0;this.Wa=null;this.width=this.scale=this.rotation=this.rotateWithView=this.O=this.T=this.opacity=void 0}w(Nl,ql);k=Nl.prototype;k.Db=function(a){var b=this.s,c=this.j,d=this.ig(!0),e=a.b;return function(){if(!e.isContextLost()){var f;var g=0;for(f=d.length;g<f;++g)e.deleteTexture(d[g])}Bl(a,b);Bl(a,c)}};
function Ol(a,b,c,d){var e=a.D,f=a.C,g=a.height,h=a.oa,l=a.qa,m=a.opacity,n=a.T,p=a.O,q=a.rotateWithView?1:0,r=-a.rotation,u=a.scale,v=a.width,z=Math.cos(r);r=Math.sin(r);var A=a.b.length,E=a.a.length,S;for(S=0;S<c;S+=d){var Ia=b[S]-a.origin[0];var ta=b[S+1]-a.origin[1];var la=E/8;var ca=-u*e;var ia=-u*(g-f);a.a[E++]=Ia;a.a[E++]=ta;a.a[E++]=ca*z-ia*r;a.a[E++]=ca*r+ia*z;a.a[E++]=n/l;a.a[E++]=(p+g)/h;a.a[E++]=m;a.a[E++]=q;ca=u*(v-e);ia=-u*(g-f);a.a[E++]=Ia;a.a[E++]=ta;a.a[E++]=ca*z-ia*r;a.a[E++]=ca*
r+ia*z;a.a[E++]=(n+v)/l;a.a[E++]=(p+g)/h;a.a[E++]=m;a.a[E++]=q;ca=u*(v-e);ia=u*f;a.a[E++]=Ia;a.a[E++]=ta;a.a[E++]=ca*z-ia*r;a.a[E++]=ca*r+ia*z;a.a[E++]=(n+v)/l;a.a[E++]=p/h;a.a[E++]=m;a.a[E++]=q;ca=-u*e;ia=u*f;a.a[E++]=Ia;a.a[E++]=ta;a.a[E++]=ca*z-ia*r;a.a[E++]=ca*r+ia*z;a.a[E++]=n/l;a.a[E++]=p/h;a.a[E++]=m;a.a[E++]=q;a.b[A++]=la;a.b[A++]=la+1;a.b[A++]=la+2;a.b[A++]=la;a.b[A++]=la+2;a.b[A++]=la+3}}
function Pl(a,b,c,d){var e,f=b.length;for(e=0;e<f;++e){var g=b[e];var h=x(g).toString();h in c?g=c[h]:(g=Ml(d,g),c[h]=g);a[e]=g}}
k.Bf=function(a,b){var c=Cl(b,El,Fl);if(this.Wa)var d=this.Wa;else this.Wa=d=new Gl(a,c);b.cd(c);a.enableVertexAttribArray(d.b);a.vertexAttribPointer(d.b,2,5126,!1,32,0);a.enableVertexAttribArray(d.v);a.vertexAttribPointer(d.v,2,5126,!1,32,8);a.enableVertexAttribArray(d.B);a.vertexAttribPointer(d.B,2,5126,!1,32,16);a.enableVertexAttribArray(d.o);a.vertexAttribPointer(d.o,1,5126,!1,32,24);a.enableVertexAttribArray(d.D);a.vertexAttribPointer(d.D,1,5126,!1,32,28);return d};
k.Cf=function(a,b){a.disableVertexAttribArray(b.b);a.disableVertexAttribArray(b.v);a.disableVertexAttribArray(b.B);a.disableVertexAttribArray(b.o);a.disableVertexAttribArray(b.D)};
k.Od=function(a,b,c,d){var e=d?this.ag():this.ig();d=d?this.o:this.v;if(nb(c)){var f;c=0;var g=e.length;for(f=0;c<g;++c){a.bindTexture(3553,e[c]);var h=d[c];sl(a,b,f,h);f=h}}else for(f=g=0,h=e.length;f<h;++f){a.bindTexture(3553,e[f]);for(var l=0<f?d[f-1]:0,m=d[f],n=l;g<this.g.length&&this.g[g]<=m;){var p=x(this.i[g]).toString();void 0!==c[p]?(n!==l&&sl(a,b,n,l),l=n=g===this.g.length-1?m:this.g[g+1]):l=g===this.g.length-1?m:this.g[g+1];g++}n!==l&&sl(a,b,n,l)}};
k.Ee=function(a,b,c,d,e){var f,g,h=this.g.length-1,l=this.ag();for(f=l.length-1;0<=f;--f){a.bindTexture(3553,l[f]);var m=0<f?this.o[f-1]:0;for(g=this.o[f];0<=h&&this.g[h]>=m;){var n=this.g[h];var p=this.i[h];var q=x(p).toString();if(void 0===c[q]&&p.U()&&(void 0===e||hb(e,p.U().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),sl(a,b,n,g),g=d(p)))return g;g=n;h--}}};
k.gb=function(){this.qa=this.oa=this.height=this.C=this.D=void 0;this.b=null;this.scale=this.rotation=this.rotateWithView=this.O=this.T=this.opacity=void 0;this.a=null;this.width=void 0};function Ql(a,b){Nl.call(this,a,b);this.l=[];this.c=[];this.B=[];this.N=[]}w(Ql,Nl);k=Ql.prototype;k.wc=function(a,b){this.g.push(this.b.length);this.i.push(b);b=a.da();Ol(this,b,b.length,a.pa())};k.yc=function(a,b){this.g.push(this.b.length);this.i.push(b);b=a.da();Ol(this,b,b.length,a.pa())};
k.gb=function(a){var b=a.b;this.v.push(this.b.length);this.o.push(this.b.length);this.s=new yl(this.a);this.j=new yl(this.b);var c={};Pl(this.B,this.l,c,b);Pl(this.N,this.c,c,b);this.c=this.l=null;Nl.prototype.gb.call(this,a)};
k.Zb=function(a){var b=a.Vc(),c=a.Y(1),d=a.He(),e=a.Eg(),f=a.i,g=a.bd(),h=a.s,l=a.f,m=a.oc();a=a.a;if(0===this.l.length)this.l.push(c);else{var n=this.l[this.l.length-1];x(n)!=x(c)&&(this.v.push(this.b.length),this.l.push(c))}0===this.c.length?this.c.push(e):(n=this.c[this.c.length-1],x(n)!=x(e)&&(this.o.push(this.b.length),this.c.push(e)));this.D=b[0];this.C=b[1];this.height=m[1];this.oa=d[1];this.qa=d[0];this.opacity=f;this.T=g[0];this.O=g[1];this.rotation=l;this.rotateWithView=h;this.scale=a;this.width=
m[0]};k.ig=function(a){return a?this.B.concat(this.N):this.B};k.ag=function(){return this.N};function Rl(a,b,c){var d=b-c;return a[0]===a[d]&&a[1]===a[d+1]&&3<(b-0)/c?!!mf(a,0,b,c):!1};var Sl=new il("precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),Tl=new jl("varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}");function Ul(a,b){this.g=a.getUniformLocation(b,"h");this.i=a.getUniformLocation(b,"i");this.c=a.getUniformLocation(b,"j");this.oa=a.getUniformLocation(b,"k");this.O=a.getUniformLocation(b,"l");this.a=a.getUniformLocation(b,"m");this.C=a.getUniformLocation(b,"n");this.T=a.getUniformLocation(b,"o");this.qa=a.getUniformLocation(b,"p");this.l=a.getAttribLocation(b,"d");this.b=a.getAttribLocation(b,"e");this.s=a.getAttribLocation(b,"f");this.f=a.getAttribLocation(b,"g")};function Vl(a,b){ql.call(this,a,b);this.v=null;this.o=[];this.l=[];this.c={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,u:!1}}w(Vl,ql);
function Wl(a,b,c,d){var e,f=a.a.length,g=a.b.length,h="bevel"===a.c.lineJoin?0:"miter"===a.c.lineJoin?1:2,l="butt"===a.c.lineCap?0:"square"===a.c.lineCap?1:2,m=Rl(b,c,d),n=g,p=1;for(e=0;e<c;e+=d){var q=f/7;var r=u;var u=v||[b[e],b[e+1]];if(0===e){var v=[b[e+d],b[e+d+1]];if(c-0===2*d&&jc(u,v))break;if(m){r=[b[c-2*d],b[c-2*d+1]];var z=v}else{l&&(f=Xl(a,[0,0],u,v,p*Yl*l,f),f=Xl(a,[0,0],u,v,-p*Yl*l,f),a.b[g++]=q+2,a.b[g++]=q,a.b[g++]=q+1,a.b[g++]=q+1,a.b[g++]=q+3,a.b[g++]=q+2);f=Xl(a,[0,0],u,v,p*Zl*
(l||1),f);f=Xl(a,[0,0],u,v,-p*Zl*(l||1),f);n=f/7-1;continue}}else if(e===c-d){m?v=z:(r=r||[0,0],f=Xl(a,r,u,[0,0],p*$l*(l||1),f),f=Xl(a,r,u,[0,0],-p*$l*(l||1),f),a.b[g++]=q,a.b[g++]=n-1,a.b[g++]=n,a.b[g++]=n,a.b[g++]=q+1,a.b[g++]=q,l&&(f=Xl(a,r,u,[0,0],p*am*l,f),f=Xl(a,r,u,[0,0],-p*am*l,f),a.b[g++]=q+2,a.b[g++]=q,a.b[g++]=q+1,a.b[g++]=q+1,a.b[g++]=q+3,a.b[g++]=q+2));break}else v=[b[e+d],b[e+d+1]];var A=wl(r[0],r[1],u[0],u[1],v[0],v[1])?-1:1;f=Xl(a,r,u,v,A*bm*(h||1),f);f=Xl(a,r,u,v,A*cm*(h||1),f);f=
Xl(a,r,u,v,-A*dm*(h||1),f);0<e&&(a.b[g++]=q,a.b[g++]=n-1,a.b[g++]=n,a.b[g++]=q+2,a.b[g++]=q,a.b[g++]=0<p*A?n:n-1);a.b[g++]=q;a.b[g++]=q+2;a.b[g++]=q+1;n=q+2;p=A;h&&(f=Xl(a,r,u,v,A*em*h,f),a.b[g++]=q+1,a.b[g++]=q+3,a.b[g++]=q)}m&&(q=q||f/7,A=Mf([r[0],r[1],u[0],u[1],v[0],v[1]],0,6,2)?1:-1,f=Xl(a,r,u,v,A*bm*(h||1),f),Xl(a,r,u,v,-A*dm*(h||1),f),a.b[g++]=q,a.b[g++]=n-1,a.b[g++]=n,a.b[g++]=q+1,a.b[g++]=q,a.b[g++]=0<p*A?n:n-1)}
function Xl(a,b,c,d,e,f){a.a[f++]=b[0];a.a[f++]=b[1];a.a[f++]=c[0];a.a[f++]=c[1];a.a[f++]=d[0];a.a[f++]=d[1];a.a[f++]=e;return f}function fm(a,b,c,d){c-=b;return c<2*d?!1:c===2*d?!jc([a[b],a[b+1]],[a[b+d],a[b+d+1]]):!0}k=Vl.prototype;k.uc=function(a,b){var c=a.da();a=a.pa();fm(c,0,c.length,a)&&(c=Ue(c,0,c.length,a,-this.origin[0],-this.origin[1]),this.c.u&&(this.l.push(this.b.length),this.c.u=!1),this.g.push(this.b.length),this.i.push(b),Wl(this,c,c.length,a))};
k.vc=function(a,b){var c=this.b.length,d=a.pb();d.unshift(0);var e=a.da();a=a.pa();var f;if(1<d.length){var g=1;for(f=d.length;g<f;++g)if(fm(e,d[g-1],d[g],a)){var h=Ue(e,d[g-1],d[g],a,-this.origin[0],-this.origin[1]);Wl(this,h,h.length,a)}}this.b.length>c&&(this.g.push(c),this.i.push(b),this.c.u&&(this.l.push(c),this.c.u=!1))};
function gm(a,b,c,d){Rl(b,b.length,d)||(b.push(b[0]),b.push(b[1]));Wl(a,b,b.length,d);if(c.length){var e;b=0;for(e=c.length;b<e;++b)Rl(c[b],c[b].length,d)||(c[b].push(c[b][0]),c[b].push(c[b][1])),Wl(a,c[b],c[b].length,d)}}function hm(a,b,c){c=void 0===c?a.b.length:c;a.g.push(c);a.i.push(b);a.c.u&&(a.l.push(c),a.c.u=!1)}k.gb=function(){this.s=new yl(this.a);this.j=new yl(this.b);this.g.push(this.b.length);0===this.l.length&&0<this.o.length&&(this.o=[]);this.b=this.a=null};
k.Db=function(a){var b=this.s,c=this.j;return function(){Bl(a,b);Bl(a,c)}};
k.Bf=function(a,b,c,d){var e=Cl(b,Sl,Tl);if(this.v)var f=this.v;else this.v=f=new Ul(a,e);b.cd(e);a.enableVertexAttribArray(f.l);a.vertexAttribPointer(f.l,2,5126,!1,28,0);a.enableVertexAttribArray(f.b);a.vertexAttribPointer(f.b,2,5126,!1,28,8);a.enableVertexAttribArray(f.s);a.vertexAttribPointer(f.s,2,5126,!1,28,16);a.enableVertexAttribArray(f.f);a.vertexAttribPointer(f.f,1,5126,!1,28,24);a.uniform2fv(f.T,c);a.uniform1f(f.qa,d);return f};
k.Cf=function(a,b){a.disableVertexAttribArray(b.l);a.disableVertexAttribArray(b.b);a.disableVertexAttribArray(b.s);a.disableVertexAttribArray(b.f)};
k.Od=function(a,b,c,d){var e=a.getParameter(a.DEPTH_FUNC),f=a.getParameter(a.DEPTH_WRITEMASK);d||(a.enable(a.DEPTH_TEST),a.depthMask(!0),a.depthFunc(a.NOTEQUAL));if(nb(c)){var g=this.g[this.g.length-1];for(c=this.l.length-1;0<=c;--c){var h=this.l[c];var l=this.o[c];im(this,a,l[0],l[1],l[2]);sl(a,b,h,g);a.clear(a.DEPTH_BUFFER_BIT);g=h}}else{var m=this.g.length-2;l=g=this.g[m+1];for(h=this.l.length-1;0<=h;--h){var n=this.o[h];im(this,a,n[0],n[1],n[2]);for(n=this.l[h];0<=m&&this.g[m]>=n;){var p=this.g[m];
var q=this.i[m];q=x(q).toString();c[q]&&(g!==l&&(sl(a,b,g,l),a.clear(a.DEPTH_BUFFER_BIT)),l=p);m--;g=p}g!==l&&(sl(a,b,g,l),a.clear(a.DEPTH_BUFFER_BIT));g=l=n}}d||(a.disable(a.DEPTH_TEST),a.clear(a.DEPTH_BUFFER_BIT),a.depthMask(f),a.depthFunc(e))};
k.Ee=function(a,b,c,d,e){var f,g;var h=this.g.length-2;var l=this.g[h+1];for(f=this.l.length-1;0<=f;--f){var m=this.o[f];im(this,a,m[0],m[1],m[2]);for(g=this.l[f];0<=h&&this.g[h]>=g;){m=this.g[h];var n=this.i[h];var p=x(n).toString();if(void 0===c[p]&&n.U()&&(void 0===e||hb(e,n.U().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),sl(a,b,m,l),l=d(n)))return l;h--;l=m}}};function im(a,b,c,d,e){b.uniform4fv(a.v.C,c);b.uniform1f(a.v.oa,d);b.uniform1f(a.v.O,e)}
k.Oa=function(a,b){a=b.f;this.c.lineCap=void 0!==a?a:"round";a=b.g;this.c.lineDash=a?a:ul;a=b.i;this.c.lineDashOffset=a?a:0;a=b.j;this.c.lineJoin=void 0!==a?a:"round";a=b.a;a instanceof CanvasGradient||a instanceof CanvasPattern?a=vl:a=vi(a).map(function(a,b){return 3!=b?a/255:a})||vl;var c=b.c;c=void 0!==c?c:1;b=b.l;b=void 0!==b?b:10;this.c.strokeColor&&jc(this.c.strokeColor,a)&&this.c.lineWidth===c&&this.c.miterLimit===b||(this.c.u=!0,this.c.strokeColor=a,this.c.lineWidth=c,this.c.miterLimit=b,
this.o.push([a,c,b]))};var Zl=3,$l=5,Yl=7,am=11,bm=13,cm=17,dm=19,em=23;var jm=new il("precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"),km=new jl("attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}");function lm(a,b){this.g=a.getUniformLocation(b,"b");this.i=a.getUniformLocation(b,"c");this.c=a.getUniformLocation(b,"d");this.C=a.getUniformLocation(b,"e");this.a=a.getUniformLocation(b,"f");this.b=a.getAttribLocation(b,"a")};function mm(){this.b=this.a=this.g=void 0;this.c=0}function nm(a){var b=a.b;if(b){var c=b.next,d=b.Eb;c&&(c.Eb=d);d&&(d.next=c);a.b=c||d;a.g===a.a?(a.b=void 0,a.g=void 0,a.a=void 0):a.g===b?a.g=a.b:a.a===b&&(a.a=d?a.b.Eb:a.b);a.c--}}function om(a){a.b=a.g;if(a.b)return a.b.data}function pm(a){if(a.b&&a.b.next)return a.b=a.b.next,a.b.data}function qm(a){if(a.b&&a.b.next)return a.b.next.data}function rm(a){if(a.b&&a.b.Eb)return a.b=a.b.Eb,a.b.data}function sm(a){if(a.b&&a.b.Eb)return a.b.Eb.data}
function tm(a){if(a.b)return a.b.data}mm.prototype.concat=function(a){if(a.b){if(this.b){var b=this.b.next;this.b.next=a.g;a.g.Eb=this.b;b.Eb=a.a;a.a.next=b;this.c+=a.c}else this.b=a.b,this.g=a.g,this.a=a.a,this.c=a.c;a.b=void 0;a.g=void 0;a.a=void 0;a.c=0}};function um(){this.a=rj.Jc(void 0);this.b={}}k=um.prototype;k.Ca=function(a,b){a={fa:a[0],ea:a[1],la:a[2],ka:a[3],value:b};this.a.Ca(a);this.b[x(b)]=a};k.load=function(a,b){for(var c=Array(b.length),d=0,e=b.length;d<e;d++){var f=a[d],g=b[d];f={fa:f[0],ea:f[1],la:f[2],ka:f[3],value:g};c[d]=f;this.b[x(g)]=f}this.a.load(c)};k.remove=function(a){a=x(a);var b=this.b[a];delete this.b[a];return null!==this.a.remove(b)};
function vm(a,b,c){var d=a.b[x(c)];Sa([d.fa,d.ea,d.la,d.ka],b)||(a.remove(c),a.Ca(b,c))}function wm(a){return a.a.all().map(function(a){return a.value})}function xm(a,b){return a.a.search({fa:b[0],ea:b[1],la:b[2],ka:b[3]}).map(function(a){return a.value})}k.forEach=function(a,b){return ym(wm(this),a,b)};function zm(a,b,c,d){return ym(xm(a,b),c,d)}function ym(a,b,c){for(var d,e=0,f=a.length;e<f&&!(d=b.call(c,a[e]));e++);return d}k.clear=function(){this.a.clear();this.b={}};
k.G=function(a){var b=this.a.data;return Na(b.fa,b.ea,b.la,b.ka,a)};k.concat=function(a){this.a.load(a.a.all());for(var b in a.b)this.b[b|0]=a.b[b|0]};function Am(a,b){ql.call(this,a,b);this.f=new Vl(a,b);this.v=null;this.o=[];this.c=[];this.l={fillColor:null,u:!1}}w(Am,ql);
function Bm(a,b,c,d){var e=new mm,f=new um;Cm(a,b,d,e,f,!0);b=Dm(e);if(c.length){var g,h=[];var l=0;for(g=c.length;l<g;++l){var m={list:new mm,Ec:void 0,gh:new um};h.push(m);Cm(a,c[l],d,m.list,m.gh,!1);Em(m.list,m.gh,!0);m.Ec=Dm(m.list)}h.sort(function(a,b){return b.Ec[0]===a.Ec[0]?a.Ec[1]-b.Ec[1]:b.Ec[0]-a.Ec[0]});for(l=0;l<h.length;++l){c=h[l].list;g=d=om(c);do{if(Fm(g,f).length){var n=!0;break}g=pm(c)}while(d!==g);!n&&Gm(c,h[l].Ec[0],e,b[0],f)&&(f.concat(h[l].gh),Em(e,f,!1))}}else Em(e,f,!1);Hm(a,
e,f)}
function Cm(a,b,c,d,e,f){var g,h=a.a.length/2,l=[],m=[];if(f===Mf(b,0,b.length,c)){var n=f=Im(a,b[0],b[1],h++);var p=c;for(g=b.length;p<g;p+=c){var q=Im(a,b[p],b[p+1],h++);m.push(Jm(n,q,d));l.push([Math.min(n.x,q.x),Math.min(n.y,q.y),Math.max(n.x,q.x),Math.max(n.y,q.y)]);n=q}}else for(p=b.length-c,n=f=Im(a,b[p],b[p+1],h++),p-=c,g=0;p>=g;p-=c)q=Im(a,b[p],b[p+1],h++),m.push(Jm(n,q,d)),l.push([Math.min(n.x,q.x),Math.min(n.y,q.y),Math.max(n.x,q.x),Math.max(n.y,q.y)]),n=q;m.push(Jm(q,f,d));l.push([Math.min(n.x,q.x),
Math.min(n.y,q.y),Math.max(n.x,q.x),Math.max(n.y,q.y)]);e.load(l,m)}function Dm(a){var b=om(a),c=b,d=[c.Z.x,c.Z.y];do c=pm(a),c.Z.x>d[0]&&(d=[c.Z.x,c.Z.y]);while(c!==b);return d}function Em(a,b,c){var d=om(a),e=d,f=pm(a),g=!1;do{var h=c?wl(f.X.x,f.X.y,e.X.x,e.X.y,e.Z.x,e.Z.y):wl(e.Z.x,e.Z.y,e.X.x,e.X.y,f.X.x,f.X.y);void 0===h?(Km(e,f,a,b),g=!0,f===d&&(d=qm(a)),f=e,rm(a)):e.X.Kb!==h&&(e.X.Kb=h,g=!0);e=f;f=pm(a)}while(e!==d);return g}
function Gm(a,b,c,d,e){for(var f=om(a);f.X.x!==b;)f=pm(a);b=f.X;d={x:d,y:b.y,qb:-1};var g=Infinity,h;var l=Fm({Z:b,X:d},e,!0);var m=0;for(h=l.length;m<h;++m){var n=l[m],p=Lm(b,d,n.Z,n.X,!0),q=Math.abs(b.x-p[0]);if(q<g&&void 0!==wl(b.x,b.y,n.Z.x,n.Z.y,n.X.x,n.X.y)){g=q;var r={x:p[0],y:p[1],qb:-1};f=n}}if(Infinity===g)return!1;l=f.X;if(0<g&&(f=Mm(b,r,f.X,e),f.length))for(r=Infinity,m=0,h=f.length;m<h;++m)if(g=f[m],n=Math.atan2(b.y-g.y,d.x-g.x),n<r||n===r&&g.x<l.x)r=n,l=g;for(f=om(c);f.X.x!==l.x||f.X.y!==
l.y;)f=pm(c);d={x:b.x,y:b.y,qb:b.qb,Kb:void 0};m={x:f.X.x,y:f.X.y,qb:f.X.qb,Kb:void 0};qm(a).Z=d;Jm(b,f.X,a,e);Jm(m,d,a,e);f.X=m;a.b&&(a.g=a.b,a.a=a.b.Eb);c.concat(a);return!0}
function Hm(a,b,c){for(var d=!1,e=Nm(b,c);3<b.c;)if(e){if(!Om(a,b,c,e,d)&&!Em(b,c,d)&&!Pm(a,b,c,!0))break}else if(!Om(a,b,c,e,d)&&!Em(b,c,d)&&!Pm(a,b,c))if(e=Nm(b,c)){d=b;var f=2*d.c,g=Array(f),h=om(d),l=h,m=0;do g[m++]=l.Z.x,g[m++]=l.Z.y,l=pm(d);while(l!==h);d=!Mf(g,0,f,2);Em(b,c,d)}else{e=a;d=b;f=g=om(d);do{h=Fm(f,c);if(h.length){g=h[0];h=Lm(f.Z,f.X,g.Z,g.X);h=Im(e,h[0],h[1],e.a.length/2);l=new mm;m=new um;Jm(h,f.X,l,m);f.X=h;vm(c,[Math.min(f.Z.x,h.x),Math.min(f.Z.y,h.y),Math.max(f.Z.x,h.x),Math.max(f.Z.y,
h.y)],f);for(f=pm(d);f!==g;)Jm(f.Z,f.X,l,m),c.remove(f),nm(d),f=tm(d);Jm(g.Z,h,l,m);g.Z=h;vm(c,[Math.min(g.X.x,h.x),Math.min(g.X.y,h.y),Math.max(g.X.x,h.x),Math.max(g.X.y,h.y)],g);Em(d,c,!1);Hm(e,d,c);Em(l,m,!1);Hm(e,l,m);break}f=pm(d)}while(f!==g);break}3===b.c&&(e=a.b.length,a.b[e++]=sm(b).Z.qb,a.b[e++]=tm(b).Z.qb,a.b[e++]=qm(b).Z.qb)}
function Om(a,b,c,d,e){var f=a.b.length,g=om(b),h=sm(b),l=g,m=pm(b),n=qm(b),p=!1;do{var q=l.Z;var r=l.X;var u=m.X;if(!1===r.Kb){var v=d?0===Mm(q,r,u,c,!0).length:e?Qm(n.X,u,r,q,h.Z):Qm(h.Z,q,r,u,n.X);!d&&0!==Fm({Z:q,X:u},c).length||!v||!d&&!1!==q.Kb&&!1!==u.Kb&&Mf([h.Z.x,h.Z.y,q.x,q.y,r.x,r.y,u.x,u.y,n.X.x,n.X.y],0,10,2)!==!e||(a.b[f++]=q.qb,a.b[f++]=r.qb,a.b[f++]=u.qb,Km(l,m,b,c),m===g&&(g=n),p=!0)}h=sm(b);l=tm(b);m=pm(b);n=qm(b)}while(l!==g&&3<b.c);return p}
function Pm(a,b,c,d){var e=om(b);pm(b);var f=e,g=pm(b),h=!1;do{var l=Lm(f.Z,f.X,g.Z,g.X,d);if(l){h=a.b.length;var m=a.a.length/2,n=rm(b);nm(b);c.remove(n);var p=n===e;d?(l[0]===f.Z.x&&l[1]===f.Z.y?(rm(b),l=f.Z,g.Z=l,c.remove(f),p=p||f===e):(l=g.X,f.X=l,c.remove(g),p=p||g===e),nm(b)):(l=Im(a,l[0],l[1],m),f.X=l,g.Z=l,vm(c,[Math.min(f.Z.x,f.X.x),Math.min(f.Z.y,f.X.y),Math.max(f.Z.x,f.X.x),Math.max(f.Z.y,f.X.y)],f),vm(c,[Math.min(g.Z.x,g.X.x),Math.min(g.Z.y,g.X.y),Math.max(g.Z.x,g.X.x),Math.max(g.Z.y,
g.X.y)],g));a.b[h++]=n.Z.qb;a.b[h++]=n.X.qb;a.b[h++]=l.qb;h=!0;if(p)break}f=sm(b);g=pm(b)}while(f!==e);return h}function Nm(a,b){var c=om(a),d=c;do{if(Fm(d,b).length)return!1;d=pm(a)}while(d!==c);return!0}function Im(a,b,c,d){var e=a.a.length;a.a[e++]=b;a.a[e++]=c;return{x:b,y:c,qb:d,Kb:void 0}}
function Jm(a,b,c,d){var e={Z:a,X:b},f={Eb:void 0,next:void 0,data:e},g=c.b;if(g){var h=g.next;f.Eb=g;f.next=h;g.next=f;h&&(h.Eb=f);g===c.a&&(c.a=f)}else c.g=f,c.a=f,f.next=f,f.Eb=f;c.b=f;c.c++;d&&d.Ca([Math.min(a.x,b.x),Math.min(a.y,b.y),Math.max(a.x,b.x),Math.max(a.y,b.y)],e);return e}function Km(a,b,c,d){tm(c)===b&&(nm(c),a.X=b.X,d.remove(b),vm(d,[Math.min(a.Z.x,a.X.x),Math.min(a.Z.y,a.X.y),Math.max(a.Z.x,a.X.x),Math.max(a.Z.y,a.X.y)],a))}
function Mm(a,b,c,d,e){var f,g,h=[],l=xm(d,[Math.min(a.x,b.x,c.x),Math.min(a.y,b.y,c.y),Math.max(a.x,b.x,c.x),Math.max(a.y,b.y,c.y)]);d=0;for(f=l.length;d<f;++d)for(g in l[d]){var m=l[d][g];"object"!==typeof m||e&&!m.Kb||m.x===a.x&&m.y===a.y||m.x===b.x&&m.y===b.y||m.x===c.x&&m.y===c.y||-1!==h.indexOf(m)||!Gf([a.x,a.y,b.x,b.y,c.x,c.y],0,6,2,m.x,m.y)||h.push(m)}return h}
function Fm(a,b,c){var d=a.Z,e=a.X;b=xm(b,[Math.min(d.x,e.x),Math.min(d.y,e.y),Math.max(d.x,e.x),Math.max(d.y,e.y)]);var f=[],g;var h=0;for(g=b.length;h<g;++h){var l=b[h];a!==l&&(c||l.Z!==e||l.X!==d)&&Lm(d,e,l.Z,l.X,c)&&f.push(l)}return f}
function Lm(a,b,c,d,e){var f=(d.y-c.y)*(b.x-a.x)-(d.x-c.x)*(b.y-a.y);if(0!==f&&(d=((d.x-c.x)*(a.y-c.y)-(d.y-c.y)*(a.x-c.x))/f,c=((b.x-a.x)*(a.y-c.y)-(b.y-a.y)*(a.x-c.x))/f,!e&&d>xl&&d<1-xl&&c>xl&&c<1-xl||e&&0<=d&&1>=d&&0<=c&&1>=c))return[a.x+d*(b.x-a.x),a.y+d*(b.y-a.y)]}
function Qm(a,b,c,d,e){if(void 0===b.Kb||void 0===d.Kb)return!1;var f=(c.x-d.x)*(b.y-d.y)>(c.y-d.y)*(b.x-d.x);e=(e.x-d.x)*(b.y-d.y)<(e.y-d.y)*(b.x-d.x);a=(a.x-b.x)*(d.y-b.y)>(a.y-b.y)*(d.x-b.x);c=(c.x-b.x)*(d.y-b.y)<(c.y-b.y)*(d.x-b.x);b=b.Kb?c||a:c&&a;return(d.Kb?e||f:e&&f)&&b}k=Am.prototype;
k.xc=function(a,b){var c=a.td(),d=a.pa(),e=this.b.length,f=this.f.b.length;a=a.da();var g,h,l;var m=h=0;for(g=c.length;m<g;++m){var n=c[m];if(0<n.length){var p=Ue(a,h,n[0],d,-this.origin[0],-this.origin[1]);if(p.length){var q=[];h=1;for(l=n.length;h<l;++h)if(n[h]!==n[h-1]){var r=Ue(a,n[h-1],n[h],d,-this.origin[0],-this.origin[1]);q.push(r)}gm(this.f,p,q,d);Bm(this,p,q,d)}}h=n[n.length-1]}this.b.length>e&&(this.g.push(e),this.i.push(b),this.l.u&&(this.c.push(e),this.l.u=!1));this.f.b.length>f&&hm(this.f,
b,f)};k.zc=function(a,b){var c=a.pb(),d=a.pa();if(0<c.length){a=a.da().map(Number);var e=Ue(a,0,c[0],d,-this.origin[0],-this.origin[1]);if(e.length){var f=[],g;var h=1;for(g=c.length;h<g;++h)if(c[h]!==c[h-1]){var l=Ue(a,c[h-1],c[h],d,-this.origin[0],-this.origin[1]);f.push(l)}this.g.push(this.b.length);this.i.push(b);this.l.u&&(this.c.push(this.b.length),this.l.u=!1);hm(this.f,b);gm(this.f,e,f,d);Bm(this,e,f,d)}}};
k.gb=function(a){this.s=new yl(this.a);this.j=new yl(this.b);this.g.push(this.b.length);this.f.gb(a);0===this.c.length&&0<this.o.length&&(this.o=[]);this.b=this.a=null};k.Db=function(a){var b=this.s,c=this.j,d=this.f.Db(a);return function(){Bl(a,b);Bl(a,c);d()}};k.Bf=function(a,b){var c=Cl(b,jm,km);if(this.v)var d=this.v;else this.v=d=new lm(a,c);b.cd(c);a.enableVertexAttribArray(d.b);a.vertexAttribPointer(d.b,2,5126,!1,8,0);return d};k.Cf=function(a,b){a.disableVertexAttribArray(b.b)};
k.Od=function(a,b,c,d){var e=a.getParameter(a.DEPTH_FUNC),f=a.getParameter(a.DEPTH_WRITEMASK);d||(a.enable(a.DEPTH_TEST),a.depthMask(!0),a.depthFunc(a.NOTEQUAL));if(nb(c)){var g=this.g[this.g.length-1];for(c=this.c.length-1;0<=c;--c){var h=this.c[c];var l=this.o[c];a.uniform4fv(this.v.C,l);sl(a,b,h,g);g=h}}else{var m=this.g.length-2;l=g=this.g[m+1];for(h=this.c.length-1;0<=h;--h){var n=this.o[h];a.uniform4fv(this.v.C,n);for(n=this.c[h];0<=m&&this.g[m]>=n;){var p=this.g[m];var q=this.i[m];q=x(q).toString();
c[q]&&(g!==l&&(sl(a,b,g,l),a.clear(a.DEPTH_BUFFER_BIT)),l=p);m--;g=p}g!==l&&(sl(a,b,g,l),a.clear(a.DEPTH_BUFFER_BIT));g=l=n}}d||(a.disable(a.DEPTH_TEST),a.clear(a.DEPTH_BUFFER_BIT),a.depthMask(f),a.depthFunc(e))};
k.Ee=function(a,b,c,d,e){var f,g;var h=this.g.length-2;var l=this.g[h+1];for(f=this.c.length-1;0<=f;--f){var m=this.o[f];a.uniform4fv(this.v.C,m);for(g=this.c[f];0<=h&&this.g[h]>=g;){m=this.g[h];var n=this.i[h];var p=x(n).toString();if(void 0===c[p]&&n.U()&&(void 0===e||hb(e,n.U().G()))&&(a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),sl(a,b,m,l),l=d(n)))return l;h--;l=m}}};
k.Oa=function(a,b){a=a?a.b:[0,0,0,0];a instanceof CanvasGradient||a instanceof CanvasPattern?a=tl:a=vi(a).map(function(a,b){return 3!=b?a/255:a})||tl;this.l.fillColor&&jc(a,this.l.fillColor)||(this.l.fillColor=a,this.l.u=!0,this.o.push(a));b?this.f.Oa(null,b):this.f.Oa(null,new Ak({color:[0,0,0,0],lineWidth:0}))};function Rm(a,b){this.b=b;this.a=[{x:0,y:0,width:a,height:a}];this.c={};this.g=hg(a,a);this.i=this.g.canvas}Rm.prototype.get=function(a){return this.c[a]||null};
Rm.prototype.add=function(a,b,c,d,e){var f;var g=0;for(f=this.a.length;g<f;++g){var h=this.a[g];if(h.width>=b+this.b&&h.height>=c+this.b)return f={offsetX:h.x+this.b,offsetY:h.y+this.b,image:this.i},this.c[a]=f,d.call(e,this.g,h.x+this.b,h.y+this.b),a=g,b+=this.b,d=c+this.b,h.width-b>h.height-d?(c={x:h.x+b,y:h.y,width:h.width-b,height:h.height},b={x:h.x,y:h.y+d,width:b,height:h.height-d},Sm(this,a,c,b)):(c={x:h.x+b,y:h.y,width:h.width-b,height:d},b={x:h.x,y:h.y+d,width:h.width,height:h.height-d},
Sm(this,a,c,b)),f}return null};function Sm(a,b,c,d){b=[b,1];0<c.width&&0<c.height&&b.push(c);0<d.width&&0<d.height&&b.push(d);a.a.splice.apply(a.a,b)};function Tm(a){a=a||{};this.a=void 0!==a.initialSize?a.initialSize:256;this.g=void 0!==a.maxSize?a.maxSize:void 0!==ba?ba:2048;this.b=void 0!==a.space?a.space:1;this.f=[new Rm(this.a,this.b)];this.c=this.a;this.i=[new Rm(this.c,this.b)]}function Um(a,b){var c;var d=0;for(c=a.length;d<c;++d){var e=a[d];if(e=e.get(b))return e}return null}function Vm(a,b){return{offsetX:a.offsetX,offsetY:a.offsetY,image:a.image,Bm:b.image}}
Tm.prototype.add=function(a,b,c,d,e,f){if(b+this.b>this.g||c+this.b>this.g)return null;d=Wm(this,!1,a,b,c,d,f);if(!d)return null;a=Wm(this,!0,a,b,c,void 0!==e?e:ea,f);return Vm(d,a)};function Wm(a,b,c,d,e,f,g){var h=b?a.i:a.f,l;var m=0;for(l=h.length;m<l;++m){var n=h[m];if(n=n.add(c,d,e,f,g))return n;n||m!==l-1||(b?(n=Math.min(2*a.c,a.g),a.c=n):(n=Math.min(2*a.a,a.g),a.a=n),n=new Rm(n,a.b),h.push(n),++l)}return null};function Xm(a,b){Nl.call(this,a,b);this.c=[];this.ua=[];this.Ub=hg(0,0).canvas;this.N={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0};this.ta="";this.ca=this.$=this.ra=this.ab=void 0;this.B={};this.l=void 0;this.opacity=this.scale=1}w(Xm,Nl);k=Xm.prototype;
k.Wb=function(a,b){if(this.ta){var c=null,d=2,e=2;switch(a.S()){case "Point":case "MultiPoint":c=a.da();d=c.length;e=a.pa();break;case "Circle":c=a.xa();break;case "LineString":c=a.Fe();break;case "MultiLineString":c=a.Ge();d=c.length;break;case "Polygon":c=a.Td();break;case "MultiPolygon":c=Ji(a),d=c.length}this.g.push(this.b.length);this.i.push(b);a=this.l;b=this.ta.split("\n");var f=Ym(this,b),g,h,l=Math.round(f[0]*this.ab-this.$),m=Math.round(f[1]*this.ra-this.ca),n=this.N.lineWidth/2*this.N.scale;
f=0;for(g=b.length;f<g;++f){var p=0;var q=a.height*f;var r=b[f].split("");var u=0;for(h=r.length;u<h;++u){var v=a.Bh;var z=r[u],A=Um(v.f,z);A?(v=Um(v.i,z),v=Vm(A,v)):v=null;if(v){A=v.image;this.D=l-p;this.C=m-q;this.T=0===u?v.offsetX-n:v.offsetX;this.O=v.offsetY;this.height=a.height;this.width=0===u||u===r.length-1?a.width[r[u]]+n:a.width[r[u]];this.oa=A.height;this.qa=A.width;0===this.c.length?this.c.push(A):(v=this.c[this.c.length-1],x(v)!=x(A)&&(this.v.push(this.b.length),this.c.push(A)));v=c;
z=d;var E=e;for(A=0;A<z;A+=E)Ol(this,v,z,E)}p+=this.width}}}};function Ym(a,b){var c=a.l,d=b.length*c.height;return[b.map(function(b){var d=0,e;var h=0;for(e=b.length;h<e;++h){var l=b[h];c.width[l]||Zm(a,l);d+=c.width[l]?c.width[l]:0}return d}).reduce(function(a,b){return Math.max(a,b)}),d]}
function Zm(a,b){if(1===b.length){var c=a.l,d=a.N;a=a.Ub.getContext("2d");a.font=d.font;a=Math.ceil(a.measureText(b).width*d.scale);c.Bh.add(b,a,c.height,function(a,c,g){a.font=d.font;a.fillStyle=d.fillColor;a.strokeStyle=d.strokeColor;a.lineWidth=d.lineWidth;a.lineCap=d.lineCap;a.lineJoin=d.lineJoin;a.miterLimit=d.miterLimit;a.textAlign="left";a.textBaseline="top";od&&d.lineDash&&(a.setLineDash(d.lineDash),a.lineDashOffset=d.lineDashOffset);1!==d.scale&&a.setTransform(d.scale,0,0,d.scale,0,0);d.strokeColor&&
a.strokeText(b,c,g);d.fillColor&&a.fillText(b,c,g)})&&(c.width[b]=a)}}k.gb=function(a){var b=a.b;this.v.push(this.b.length);this.o=this.v;this.s=new yl(this.a);this.j=new yl(this.b);Pl(this.ua,this.c,{},b);this.N={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0};this.ta="";this.ca=this.$=this.ra=this.ab=void 0;this.c=null;this.B={};this.l=void 0;Nl.prototype.gb.call(this,a)};
k.nb=function(a){var b=this.N,c=a.Fa(),d=a.Ga();if(a&&a.Ka()&&(c||d)){c?(c=c.b,b.fillColor=zi(c?c:tl)):b.fillColor=null;d?(c=d.a,b.strokeColor=zi(c?c:vl),b.lineWidth=d.c||1,b.lineCap=d.f||"round",b.lineDashOffset=d.i||0,b.lineJoin=d.j||"round",b.miterLimit=d.l||10,d=d.g,b.lineDash=d?d.slice():ul):(b.strokeColor=null,b.lineWidth=0);b.font=a.a||"10px sans-serif";b.scale=a.b||1;this.ta=a.Ka();d=vj[a.f];c=vj[a.j];this.ab=void 0===d?.5:d;this.ra=void 0===c?.5:c;this.$=a.g||0;this.ca=a.c||0;this.rotateWithView=
!!a.l;this.rotation=a.i||0;a=[];for(var e in b)if(b[e]||0===b[e])Array.isArray(b[e])?a=a.concat(b[e]):a.push(b[e]);c="";e=0;for(d=a.length;e<d;++e)c+=a[e];e=c;this.B[e]||(a=this.Ub.getContext("2d"),a.font=b.font,a=Math.ceil((1.5*a.measureText("M").width+b.lineWidth/2)*b.scale),this.B[e]={Bh:new Tm({space:b.lineWidth+1}),width:{},height:a});this.l=this.B[e]}else this.ta=""};k.ig=function(){return this.ua};k.ag=function(){return this.ua};function $m(a,b,c){this.c=b;this.i=a;this.g=c;this.a={}}w($m,sj);k=$m.prototype;k.Vb=function(){};function an(a,b){var c=[],d;for(d in a.a){var e=a.a[d],f;for(f in e)c.push(e[f].Db(b))}return function(){for(var a=c.length,b,d=0;d<a;d++)b=c[d].apply(this,arguments);return b}}function bn(a,b){for(var c in a.a){var d=a.a[c],e;for(e in d)d[e].gb(b)}}k.Ja=function(a,b){var c=void 0!==a?a.toString():"0";a=this.a[c];void 0===a&&(a={},this.a[c]=a);c=a[b];void 0===c&&(c=new cn[b](this.i,this.c),a[b]=c);return c};
k.yg=function(){return nb(this.a)};k.Na=function(a,b,c,d,e,f,g,h){var l=Object.keys(this.a).map(Number);l.sort(dc);var m,n;var p=0;for(m=l.length;p<m;++p){var q=this.a[l[p].toString()];var r=0;for(n=uj.length;r<n;++r){var u=q[uj[r]];void 0!==u&&u.Na(a,b,c,d,e,f,g,h,void 0,!1)}}};
function dn(a,b,c,d,e,f,g,h,l,m,n){var p=en,q=Object.keys(a.a).map(Number);q.sort(function(a,b){return b-a});var r,u;var v=0;for(r=q.length;v<r;++v){var z=a.a[q[v].toString()];for(u=uj.length-1;0<=u;--u){var A=z[uj[u]];if(void 0!==A&&(A=A.Na(b,c,d,e,p,f,g,h,l,m,n)))return A}}}
k.wa=function(a,b,c,d,e,f,g,h,l,m){var n=b.b;n.bindFramebuffer(n.FRAMEBUFFER,Il(b));var p;void 0!==this.g&&(p=Fa(Pa(a),d*this.g));return dn(this,b,a,d,e,g,h,l,function(a){var b=new Uint8Array(4);n.readPixels(0,0,1,1,n.RGBA,n.UNSIGNED_BYTE,b);if(0<b[3]&&(a=m(a)))return a},!0,p)};function fn(a,b,c,d,e,f,g,h){var l=c.b;l.bindFramebuffer(l.FRAMEBUFFER,Il(c));return void 0!==dn(a,c,b,d,e,f,g,h,function(){var a=new Uint8Array(4);l.readPixels(0,0,1,1,l.RGBA,l.UNSIGNED_BYTE,a);return 0<a[3]},!1)}
var en=[1,1],cn={Circle:Al,Image:Ql,LineString:Vl,Polygon:Am,Text:Xm};function gn(a,b,c,d,e,f,g){this.b=a;this.g=b;this.c=f;this.i=g;this.l=e;this.j=d;this.f=c;this.a=this.s=this.v=this.o=null}w(gn,Ai);function hn(a,b,c){var d=a.b;b=b.Ja(0,"Text");b.nb(a.a);b.Wb(c,null);b.gb(d);b.Na(a.b,a.g,a.f,a.j,a.l,a.i,1,{},void 0,!1);b.Db(d)()}k=gn.prototype;k.Dd=function(a){this.Oa(a.Fa(),a.Ga());this.Zb(a.Y());this.nb(a.Ka())};
k.Hb=function(a){switch(a.S()){case "Point":this.yc(a,null);break;case "LineString":this.uc(a,null);break;case "Polygon":this.zc(a,null);break;case "MultiPoint":this.wc(a,null);break;case "MultiLineString":this.vc(a,null);break;case "MultiPolygon":this.xc(a,null);break;case "GeometryCollection":this.De(a);break;case "Circle":this.cc(a,null)}};k.Ce=function(a,b){(a=(0,b.cb)(a))&&hb(this.c,a.G())&&(this.Dd(b),this.Hb(a))};k.De=function(a){a=a.a;var b;var c=0;for(b=a.length;c<b;++c)this.Hb(a[c])};
k.yc=function(a,b){var c=this.b,d=new $m(1,this.c),e=d.Ja(0,"Image");e.Zb(this.o);e.yc(a,b);e.gb(c);e.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1);e.Db(c)();this.a&&hn(this,d,a)};k.wc=function(a,b){var c=this.b,d=new $m(1,this.c),e=d.Ja(0,"Image");e.Zb(this.o);e.wc(a,b);e.gb(c);e.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1);e.Db(c)();this.a&&hn(this,d,a)};
k.uc=function(a,b){var c=this.b,d=new $m(1,this.c),e=d.Ja(0,"LineString");e.Oa(null,this.s);e.uc(a,b);e.gb(c);e.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1);e.Db(c)();this.a&&hn(this,d,a)};k.vc=function(a,b){var c=this.b,d=new $m(1,this.c),e=d.Ja(0,"LineString");e.Oa(null,this.s);e.vc(a,b);e.gb(c);e.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1);e.Db(c)();this.a&&hn(this,d,a)};
k.zc=function(a,b){var c=this.b,d=new $m(1,this.c),e=d.Ja(0,"Polygon");e.Oa(this.v,this.s);e.zc(a,b);e.gb(c);e.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1);e.Db(c)();this.a&&hn(this,d,a)};k.xc=function(a,b){var c=this.b,d=new $m(1,this.c),e=d.Ja(0,"Polygon");e.Oa(this.v,this.s);e.xc(a,b);e.gb(c);e.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1);e.Db(c)();this.a&&hn(this,d,a)};
k.cc=function(a,b){var c=this.b,d=new $m(1,this.c),e=d.Ja(0,"Circle");e.Oa(this.v,this.s);e.cc(a,b);e.gb(c);e.Na(this.b,this.g,this.f,this.j,this.l,this.i,1,{},void 0,!1);e.Db(c)();this.a&&hn(this,d,a)};k.Zb=function(a){this.o=a};k.Oa=function(a,b){this.v=a;this.s=b};k.nb=function(a){this.a=a};var jn=new il("precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"),kn=new jl("varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}");function ln(a,b){this.f=a.getUniformLocation(b,"d");this.c=a.getUniformLocation(b,"e");this.g=a.getUniformLocation(b,"f");this.i=a.getUniformLocation(b,"g");this.b=a.getAttribLocation(b,"b");this.a=a.getAttribLocation(b,"c")};function mn(a,b){Ki.call(this,b);this.c=a;this.V=new yl([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]);this.f=this.Mb=null;this.j=void 0;this.v=We();this.N=We();this.C=nl();this.o=null}w(mn,Ki);
function nn(a,b,c){var d=a.c.g;if(void 0===a.j||a.j!=c){b.postRenderFunctions.push(function(a,b,c){a.isContextLost()||(a.deleteFramebuffer(b),a.deleteTexture(c))}.bind(null,d,a.f,a.Mb));b=Jl(d,c,c);var e=d.createFramebuffer();d.bindFramebuffer(36160,e);d.framebufferTexture2D(36160,36064,3553,b,0);a.Mb=b;a.f=e;a.j=c}else d.bindFramebuffer(36160,a.f)}
mn.prototype.Zi=function(a,b,c){on(this,"precompose",c,a);rl(c,34962,this.V);var d=c.b,e=Cl(c,jn,kn);if(this.o)var f=this.o;else this.o=f=new ln(d,e);c.cd(e)&&(d.enableVertexAttribArray(f.b),d.vertexAttribPointer(f.b,2,5126,!1,16,0),d.enableVertexAttribArray(f.a),d.vertexAttribPointer(f.a,2,5126,!1,16,8),d.uniform1i(f.i,0));d.uniformMatrix4fv(f.f,!1,pl(this.C,this.v));d.uniformMatrix4fv(f.c,!1,pl(this.C,this.N));d.uniform1f(f.g,b.opacity);d.bindTexture(3553,this.Mb);d.drawArrays(5,0,4);on(this,"postcompose",
c,a)};function on(a,b,c,d){a=a.a;if(Tc(a,b)){var e=d.viewState;a.b(new bi(b,new gn(c,e.center,e.resolution,e.rotation,d.size,d.extent,d.pixelRatio),d,null,c))}}mn.prototype.Ag=function(){this.f=this.Mb=null;this.j=void 0};function pn(a,b){mn.call(this,a,b);this.l=this.i=this.M=null}w(pn,mn);pn.handles=function(a,b){return"webgl"===a&&"IMAGE"===b.S()};pn.create=function(a,b){return new pn(a,b)};function qn(a,b){b=b.Y();return Ml(a.c.g,b)}pn.prototype.wa=function(a,b,c,d,e){var f=this.a;return f.ha().wa(a,b.viewState.resolution,b.viewState.rotation,c,b.skippedFeatureUids,function(a){return d.call(e,a,f)})};
pn.prototype.Bg=function(a,b){var c=this.c.g,d=a.pixelRatio,e=a.viewState,f=e.center,g=e.resolution,h=e.rotation,l=this.M,m=this.Mb,n=this.a.ha(),p=a.viewHints,q=a.extent;void 0!==b.extent&&(q=gb(q,b.extent));p[0]||p[1]||bb(q)||(b=n.Y(q,g,d,e.projection))&&Si(this,b)&&(l=b,m=qn(this,b),this.Mb&&a.postRenderFunctions.push(function(a,b){a.isContextLost()||a.deleteTexture(b)}.bind(null,c,this.Mb)));l&&(c=this.c.i.j,rn(this,c.width,c.height,d,f,g,h,l.G()),this.l=null,d=this.v,Xe(d),cf(d,1,-1),df(d,0,
-1),this.M=l,this.Mb=m,Ui(a,n));return!!l};function rn(a,b,c,d,e,f,g,h){b*=f;c*=f;a=a.N;Xe(a);cf(a,2*d/b,2*d/c);bf(a,-g);df(a,h[0]-e[0],h[1]-e[1]);cf(a,(h[2]-h[0])/2,(h[3]-h[1])/2);df(a,1,1)}pn.prototype.cf=function(a,b){return void 0!==this.wa(a,b,0,Re,this)};
pn.prototype.zg=function(a,b,c,d){if(this.M&&this.M.Y())if(this.a.ha().wa!==ea){var e=af(b.pixelToCoordinateTransform,a.slice());if(this.wa(e,b,0,Re,this))return c.call(d,this.a,null)}else{e=[this.M.Y().width,this.M.Y().height];if(!this.l){var f=b.size;b=We();df(b,-1,-1);cf(b,2/f[0],2/f[1]);df(b,0,f[1]);cf(b,1,-1);f=ff(this.N.slice());var g=We();df(g,0,e[1]);cf(g,1,-1);cf(g,e[0]/2,e[1]/2);df(g,1,1);Ze(g,f);Ze(g,b);this.l=g}a=af(this.l,a.slice());if(!(0>a[0]||a[0]>e[0]||0>a[1]||a[1]>e[1])&&(this.i||
(this.i=hg(1,1)),this.i.clearRect(0,0,1,1),this.i.drawImage(this.M.Y(),a[0],a[1],1,1,0,0,1,1),e=this.i.getImageData(0,0,1,1).data,0<e[3]))return c.call(d,this.a,e)}};function sn(a,b){fj.call(this,a,b);this.b=document.createElement("CANVAS");this.b.style.width="100%";this.b.style.height="100%";this.b.style.display="block";this.b.className="ol-unselectable";a.insertBefore(this.b,a.childNodes[0]||null);this.N=this.D=0;this.C=hg();this.s=!0;this.g=gd(this.b,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0});this.i=new Hl(this.b,this.g);y(this.b,"webglcontextlost",this.Co,this);y(this.b,"webglcontextrestored",this.Do,this);
this.a=new ci;this.o=null;this.j=new ge(function(a){var b=a[1];a=a[2];var c=b[0]-this.o[0];b=b[1]-this.o[1];return 65536*Math.log(a)+Math.sqrt(c*c+b*b)/a}.bind(this),function(a){return a[0].lb()});this.B=function(){if(0!==this.j.b.length){ke(this.j);var a=he(this.j);tn(this,a[0],a[3],a[4])}return!1}.bind(this);this.f=0;un(this)}w(sn,fj);sn.handles=function(a){return hd&&"webgl"===a};sn.create=function(a,b){return new sn(a,b)};
function tn(a,b,c,d){var e=a.g,f=b.lb();if(a.a.a.hasOwnProperty(f))a=a.a.get(f),e.bindTexture(3553,a.Mb),9729!=a.hi&&(e.texParameteri(3553,10240,9729),a.hi=9729),9729!=a.ji&&(e.texParameteri(3553,10241,9729),a.ji=9729);else{var g=e.createTexture();e.bindTexture(3553,g);if(0<d){var h=a.C.canvas,l=a.C;a.D!==c[0]||a.N!==c[1]?(h.width=c[0],h.height=c[1],a.D=c[0],a.N=c[1]):l.clearRect(0,0,c[0],c[1]);l.drawImage(b.Y(),d,d,c[0],c[1],0,0,c[0],c[1]);e.texImage2D(3553,0,6408,6408,5121,h)}else e.texImage2D(3553,
0,6408,6408,5121,b.Y());e.texParameteri(3553,10240,9729);e.texParameteri(3553,10241,9729);e.texParameteri(3553,10242,33071);e.texParameteri(3553,10243,33071);a.a.set(f,{Mb:g,hi:9729,ji:9729})}}function vn(a,b,c){var d=a.l;if(Tc(d,b)){a=a.i;var e=c.viewState;d.b(new bi(b,new gn(a,e.center,e.resolution,e.rotation,c.size,c.extent,c.pixelRatio),c,null,a))}}k=sn.prototype;k.ia=function(){var a=this.g;a.isContextLost()||this.a.forEach(function(b){b&&a.deleteTexture(b.Mb)});Pc(this.i);fj.prototype.ia.call(this)};
k.Yk=function(a,b){a=this.g;for(var c;1024<this.a.i-this.f;){if(c=this.a.g.Pc)a.deleteTexture(c.Mb);else if(+this.a.g.jc==b.index)break;else--this.f;this.a.pop()}};k.S=function(){return"webgl"};k.Co=function(a){a.preventDefault();this.a.clear();this.f=0;a=this.c;for(var b in a)a[b].Ag()};k.Do=function(){un(this);this.l.render()};function un(a){a=a.g;a.activeTexture(33984);a.blendFuncSeparate(770,771,1,771);a.disable(2884);a.disable(2929);a.disable(3089);a.disable(2960)}
k.bh=function(a){var b=this.i,c=this.g;if(c.isContextLost())return!1;if(!a)return this.s&&(this.b.style.display="none",this.s=!1),!1;this.o=a.focus;this.a.set((-a.index).toString(),null);++this.f;vn(this,"precompose",a);var d=[],e=a.layerStatesArray;kc(e);var f=a.viewState.resolution,g;var h=0;for(g=e.length;h<g;++h){var l=e[h];if(yg(l,f)&&"ready"==l.Vj){var m=ij(this,l.layer);m.Bg(a,l,b)&&d.push(l)}}e=a.size[0]*a.pixelRatio;f=a.size[1]*a.pixelRatio;if(this.b.width!=e||this.b.height!=f)this.b.width=
e,this.b.height=f;c.bindFramebuffer(36160,null);c.clearColor(0,0,0,0);c.clear(16384);c.enable(3042);c.viewport(0,0,this.b.width,this.b.height);h=0;for(g=d.length;h<g;++h)l=d[h],m=ij(this,l.layer),m.Zi(a,l,b);this.s||(this.b.style.display="",this.s=!0);gj(a);1024<this.a.i-this.f&&a.postRenderFunctions.push(this.Yk.bind(this));0!==this.j.b.length&&(a.postRenderFunctions.push(this.B),a.animate=!0);vn(this,"postcompose",a);jj(this,a);a.postRenderFunctions.push(hj)};
k.wa=function(a,b,c,d,e,f,g){if(this.g.isContextLost())return!1;var h=b.viewState,l=b.layerStatesArray,m;for(m=l.length-1;0<=m;--m){var n=l[m];var p=n.layer;if(yg(n,h.resolution)&&f.call(g,p)&&(n=ij(this,p).wa(a,b,c,d,e)))return n}};k.Ui=function(a,b,c,d,e){c=!1;if(this.g.isContextLost())return!1;var f=b.viewState,g=b.layerStatesArray,h;for(h=g.length-1;0<=h;--h){var l=g[h],m=l.layer;if(yg(l,f.resolution)&&d.call(e,m)&&(c=ij(this,m).cf(a,b)))return!0}return c};
k.Ti=function(a,b,c,d,e){if(this.g.isContextLost())return!1;var f=b.viewState,g=b.layerStatesArray,h;for(h=g.length-1;0<=h;--h){var l=g[h];var m=l.layer;if(yg(l,f.resolution)&&e.call(d,m)&&(l=ij(this,m).zg(a,b,c,d)))return l}};var wn=new il("precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"),xn=new jl("varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}");function yn(a,b){this.c=a.getUniformLocation(b,"d");this.g=a.getUniformLocation(b,"e");this.b=a.getAttribLocation(b,"b");this.a=a.getAttribLocation(b,"c")};function zn(a,b){mn.call(this,a,b);this.T=wn;this.ca=xn;this.i=null;this.B=new yl([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]);this.D=this.l=null;this.s=-1;this.O=[0,0]}w(zn,mn);zn.handles=function(a,b){return"webgl"===a&&"TILE"===b.S()};zn.create=function(a,b){return new zn(a,b)};k=zn.prototype;k.ia=function(){Bl(this.c.i,this.B);mn.prototype.ia.call(this)};
k.Rf=function(a,b,c){var d=this.c;return function(e,f){return Li(a,b,e,f,function(a){var b=d.a.a.hasOwnProperty(a.lb());b&&(c[e]||(c[e]={}),c[e][a.ya.toString()]=a);return b})}};k.Ag=function(){mn.prototype.Ag.call(this);this.i=null};
k.Bg=function(a,b,c){var d=this.c,e=c.b,f=a.viewState,g=f.projection,h=this.a,l=h.ha(),m=l.eb(g),n=m.Dc(f.resolution),p=m.Ta(n),q=l.Zd(n,a.pixelRatio,g),r=q[0]/Ba(m.Za(n),this.O)[0],u=p/r,v=l.Xc(r)*l.Zf(g),z=f.center,A=a.extent,E=tc(m,A,n);if(this.l&&na(this.l,E)&&this.s==l.g)u=this.D;else{var S=[E.la-E.fa+1,E.ka-E.ea+1],Ia=ra(Math.max(S[0]*q[0],S[1]*q[1]));S=u*Ia;var ta=m.Ic(n),la=ta[0]+E.fa*q[0]*u;u=ta[1]+E.ea*q[1]*u;u=[la,u,la+S,u+S];nn(this,a,Ia);e.viewport(0,0,Ia,Ia);e.clearColor(0,0,0,0);e.clear(16384);
e.disable(3042);Ia=Cl(c,this.T,this.ca);c.cd(Ia);this.i||(this.i=new yn(e,Ia));rl(c,34962,this.B);e.enableVertexAttribArray(this.i.b);e.vertexAttribPointer(this.i.b,2,5126,!1,16,0);e.enableVertexAttribArray(this.i.a);e.vertexAttribPointer(this.i.a,2,5126,!1,16,8);e.uniform1i(this.i.g,0);c={};c[n]={};var ca=this.Rf(l,g,c),ia=h.i();Ia=!0;la=Da();var xa=new ja(0,0,0,0),Va,ic;for(Va=E.fa;Va<=E.la;++Va)for(ic=E.ea;ic<=E.ka;++ic){ta=l.ad(n,Va,ic,r,g);if(void 0!==b.extent){var Xa=m.Ma(ta.ya,la);if(!hb(Xa,
b.extent))continue}Xa=ta.getState();(Xa=2==Xa||4==Xa||3==Xa&&!ia)||(ta=pj(ta));Xa=ta.getState();if(2==Xa){if(d.a.a.hasOwnProperty(ta.lb())){c[n][ta.ya.toString()]=ta;continue}}else if(4==Xa||3==Xa&&!ia)continue;Ia=!1;Xa=uc(m,ta.ya,ca,xa,la);Xa||(ta=vc(m,ta.ya,xa,la))&&ca(n+1,ta)}b=Object.keys(c).map(Number);b.sort(dc);ca=new Float32Array(4);var Z;ia=0;for(xa=b.length;ia<xa;++ia)for(Z in Va=c[b[ia]],Va)ta=Va[Z],Xa=m.Ma(ta.ya,la),ca[0]=2*(Xa[2]-Xa[0])/S,ca[1]=2*(Xa[3]-Xa[1])/S,ca[2]=2*(Xa[0]-u[0])/
S-1,ca[3]=2*(Xa[1]-u[1])/S-1,e.uniform4fv(this.i.c,ca),tn(d,ta,q,v*r),e.drawArrays(5,0,4);Ia?(this.l=E,this.D=u,this.s=l.g):(this.D=this.l=null,this.s=-1,a.animate=!0)}Vi(a.usedTiles,l,n,E);var Zb=d.j;Wi(a,l,m,r,g,A,n,h.c(),function(a){2!=a.getState()||d.a.a.hasOwnProperty(a.lb())||a.lb()in Zb.a||Zb.i([a,yc(m,a.ya),m.Ta(a.ya[0]),q,v*r])},this);Ti(a,l);Ui(a,l);e=this.v;Xe(e);df(e,(Math.round(z[0]/p)*p-u[0])/(u[2]-u[0]),(Math.round(z[1]/p)*p-u[1])/(u[3]-u[1]));0!==f.rotation&&bf(e,f.rotation);cf(e,
a.size[0]*f.resolution/(u[2]-u[0]),a.size[1]*f.resolution/(u[3]-u[1]));df(e,-.5,-.5);return!0};k.zg=function(a,b,c,d){if(this.f){a=af(this.v,[a[0]/b.size[0],(b.size[1]-a[1])/b.size[1]].slice());a=[a[0]*this.j,a[1]*this.j];b=this.c.i.b;b.bindFramebuffer(b.FRAMEBUFFER,this.f);var e=new Uint8Array(4);b.readPixels(a[0],a[1],1,1,b.RGBA,b.UNSIGNED_BYTE,e);if(0<e[3])return c.call(d,this.a,e)}};function An(a,b){mn.call(this,a,b);this.s=!1;this.O=-1;this.T=NaN;this.D=Da();this.l=this.i=this.B=null}w(An,mn);An.handles=function(a,b){return"webgl"===a&&"VECTOR"===b.S()};An.create=function(a,b){return new An(a,b)};k=An.prototype;k.Zi=function(a,b,c){this.l=b;var d=a.viewState,e=this.i,f=a.size,g=a.pixelRatio,h=this.c.g;e&&!e.yg()&&(h.enable(h.SCISSOR_TEST),h.scissor(0,0,f[0]*g,f[1]*g),e.Na(c,d.center,d.resolution,d.rotation,f,g,b.opacity,b.Te?a.skippedFeatureUids:{}),h.disable(h.SCISSOR_TEST))};
k.ia=function(){var a=this.i;a&&(an(a,this.c.i)(),this.i=null);mn.prototype.ia.call(this)};k.wa=function(a,b,c,d,e){if(this.i&&this.l){c=b.viewState;var f=this.a,g={};return this.i.wa(a,this.c.i,c.center,c.resolution,c.rotation,b.size,b.pixelRatio,this.l.opacity,{},function(a){var b=x(a).toString();if(!(b in g))return g[b]=!0,d.call(e,a,f)})}};k.cf=function(a,b){if(this.i&&this.l){var c=b.viewState;return fn(this.i,a,this.c.i,c.resolution,c.rotation,b.pixelRatio,this.l.opacity,b.skippedFeatureUids)}return!1};
k.zg=function(a,b,c,d){a=af(b.pixelToCoordinateTransform,a.slice());if(this.cf(a,b))return c.call(d,this.a,null)};k.$i=function(){Mi(this)};
k.Bg=function(a,b,c){function d(a){var b=a.ib();if(b)var c=b.call(a,m);else(b=e.ib())&&(c=b(a,m));if(c){if(c){b=!1;if(Array.isArray(c))for(var d=c.length-1;0<=d;--d)b=ek(q,a,c[d],dk(m,n),this.$i,this)||b;else b=ek(q,a,c,dk(m,n),this.$i,this)||b;a=b}else a=!1;this.s=this.s||a}}var e=this.a;b=e.ha();Ui(a,b);var f=a.viewHints[0],g=a.viewHints[1],h=e.ca,l=e.ra;if(!this.s&&!h&&f||!l&&g)return!0;g=a.extent;h=a.viewState;f=h.projection;var m=h.resolution,n=a.pixelRatio;h=e.g;var p=e.f;l=e.get(ik);void 0===
l&&(l=ck);g=Fa(g,p*m);if(!this.s&&this.T==m&&this.O==h&&this.B==l&&La(this.D,g))return!0;this.i&&a.postRenderFunctions.push(an(this.i,c));this.s=!1;var q=new $m(.5*m/n,g,e.f);b.ae(g,m,f);if(l){var r=[];b.ec(g,function(a){r.push(a)},this);r.sort(l);r.forEach(d,this)}else b.ec(g,d,this);bn(q,c);this.T=m;this.O=h;this.B=l;this.D=g;this.i=q;return!0};qg("MAP_RENDERER",kj);rg([bj,mj,hk,jk]);qg("MAP_RENDERER",sn);rg([pn,zn,An]);function K(a){a=kb({},a);a.controls||(a.controls=Fg());a.interactions||(a.interactions=Zh());G.call(this,a)}w(K,G);function Bn(a){Vc.call(this);this.id=a.id;this.insertFirst=void 0!==a.insertFirst?a.insertFirst:!0;this.stopEvent=void 0!==a.stopEvent?a.stopEvent:!0;this.element=document.createElement("DIV");this.element.className=void 0!==a.className?a.className:"ol-overlay-container ol-selectable";this.element.style.position="absolute";this.autoPan=void 0!==a.autoPan?a.autoPan:!1;this.autoPanAnimation=a.autoPanAnimation||{};this.autoPanMargin=void 0!==a.autoPanMargin?a.autoPanMargin:20;this.a={ze:"",Se:"",xf:"",
Ef:"",visible:!0};this.c=null;y(this,Xc(Cn),this.am,this);y(this,Xc(Dn),this.km,this);y(this,Xc(En),this.om,this);y(this,Xc(Fn),this.qm,this);y(this,Xc(Gn),this.rm,this);void 0!==a.element&&this.Hj(a.element);this.Mj(void 0!==a.offset?a.offset:[0,0]);this.Pj(void 0!==a.positioning?a.positioning:"top-left");void 0!==a.position&&this.We(a.position)}w(Bn,Vc);k=Bn.prototype;k.Rd=function(){return this.get(Cn)};k.nn=function(){return this.id};k.Ve=function(){return this.get(Dn)};k.Xh=function(){return this.get(En)};
k.pi=function(){return this.get(Fn)};k.Yh=function(){return this.get(Gn)};k.am=function(){for(var a=this.element;a.lastChild;)a.removeChild(a.lastChild);(a=this.Rd())&&this.element.appendChild(a)};k.km=function(){this.c&&(jg(this.element),Gc(this.c),this.c=null);var a=this.Ve();a&&(this.c=y(a,"postrender",this.render,this),Hn(this),a=this.stopEvent?a.v:a.o,this.insertFirst?a.insertBefore(this.element,a.childNodes[0]||null):a.appendChild(this.element))};k.render=function(){Hn(this)};k.om=function(){Hn(this)};
k.qm=function(){Hn(this);if(this.get(Fn)&&this.autoPan){var a=this.Ve();if(a&&a.Cc()){var b=In(a.Cc(),a.Cb()),c=this.Rd(),d=c.offsetWidth,e=getComputedStyle(c);d+=parseInt(e.marginLeft,10)+parseInt(e.marginRight,10);e=c.offsetHeight;var f=getComputedStyle(c);e+=parseInt(f.marginTop,10)+parseInt(f.marginBottom,10);var g=In(c,[d,e]);c=this.autoPanMargin;La(b,g)||(d=g[0]-b[0],e=b[2]-g[2],f=g[1]-b[1],g=b[3]-g[3],b=[0,0],0>d?b[0]=d-c:0>e&&(b[0]=Math.abs(e)+c),0>f?b[1]=f-c:0>g&&(b[1]=Math.abs(g)+c),0===
b[0]&&0===b[1])||(c=a.aa().xa(),c=a.Ia(c),b=[c[0]+b[0],c[1]+b[1]],a.aa().animate({center:a.Ra(b),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing}))}}};k.rm=function(){Hn(this)};k.Hj=function(a){this.set(Cn,a)};k.setMap=function(a){this.set(Dn,a)};k.Mj=function(a){this.set(En,a)};k.We=function(a){this.set(Fn,a)};function In(a,b){var c=a.getBoundingClientRect();a=c.left+window.pageXOffset;c=c.top+window.pageYOffset;return[a,c,a+b[0],c+b[1]]}k.Pj=function(a){this.set(Gn,a)};
function Jn(a,b){a.a.visible!==b&&(a.element.style.display=b?"":"none",a.a.visible=b)}
function Hn(a){var b=a.Ve(),c=a.pi();if(b&&b.c&&c){c=b.Ia(c);var d=b.Cb();b=a.element.style;var e=a.Xh(),f=a.Yh();Jn(a,!0);var g=e[0];e=e[1];if("bottom-right"==f||"center-right"==f||"top-right"==f)""!==a.a.Se&&(a.a.Se=b.left=""),g=Math.round(d[0]-c[0]-g)+"px",a.a.xf!=g&&(a.a.xf=b.right=g);else{""!==a.a.xf&&(a.a.xf=b.right="");if("bottom-center"==f||"center-center"==f||"top-center"==f)g-=a.element.offsetWidth/2;g=Math.round(c[0]+g)+"px";a.a.Se!=g&&(a.a.Se=b.left=g)}if("bottom-left"==f||"bottom-center"==
f||"bottom-right"==f)""!==a.a.Ef&&(a.a.Ef=b.top=""),c=Math.round(d[1]-c[1]-e)+"px",a.a.ze!=c&&(a.a.ze=b.bottom=c);else{""!==a.a.ze&&(a.a.ze=b.bottom="");if("center-left"==f||"center-center"==f||"center-right"==f)e-=a.element.offsetHeight/2;c=Math.round(c[1]+e)+"px";a.a.Ef!=c&&(a.a.Ef=b.top=c)}}else Jn(a,!1)}var Cn="element",Dn="map",En="offset",Fn="position",Gn="positioning";function Kn(a,b,c,d,e,f){cl.call(this,a,b,f);this.c=0;this.l=null;this.v=d;this.a=null;this.f={};this.C=e;this.N=c}w(Kn,cl);k=Kn.prototype;k.ia=function(){this.a=null;this.f={};this.state=5;this.u();cl.prototype.ia.call(this)};k.G=function(){return this.l||Ln};k.qn=function(){return this.v};k.pn=function(){return this.a};k.lb=function(){return this.N};k.rn=function(){return this.o};function ok(a,b,c){return a.f[x(b)+","+c]}
k.load=function(){0==this.state&&(oj(this,1),this.C(this,this.N),this.D(null,NaN,null))};k.Cp=function(a,b,c){this.vg(b);this.Ij(a);this.ri(c)};k.Bp=function(){oj(this,3)};k.ri=function(a){this.l=a};k.Ij=function(a){this.a=a;oj(this,2)};k.vg=function(a){this.o=a};k.ug=function(a){this.D=a};var Ln=[0,0,4096,4096];function Mn(a){a=a?a:{};this.c=void 0!==a.className?a.className:"ol-full-screen";var b=void 0!==a.label?a.label:"\u2922";this.l="string"===typeof b?document.createTextNode(b):b;b=void 0!==a.labelActive?a.labelActive:"\u00d7";this.v="string"===typeof b?document.createTextNode(b):b;var c=a.tipLabel?a.tipLabel:"Toggle full-screen";b=document.createElement("button");b.className=this.c+"-"+Nn();b.setAttribute("type","button");b.title=c;b.appendChild(this.l);y(b,"click",this.C,this);c=document.createElement("div");
c.className=this.c+" ol-unselectable ol-control "+(On()?"":"ol-unsupported");c.appendChild(b);vg.call(this,{element:c,target:a.target});this.D=void 0!==a.keys?a.keys:!1;this.j=a.source}w(Mn,vg);
Mn.prototype.C=function(a){a.preventDefault();On()&&(a=this.a)&&(Nn()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(a=this.j?"string"===typeof this.j?document.getElementById(this.j):this.j:a.Cc(),this.D?a.mozRequestFullScreenWithKeys?a.mozRequestFullScreenWithKeys():a.webkitRequestFullscreen?a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):
Pn(a):Pn(a)))};Mn.prototype.o=function(){var a=this.element.firstElementChild,b=this.a;Nn()?(a.className=this.c+"-true",ig(this.v,this.l)):(a.className=this.c+"-false",ig(this.l,this.v));b&&b.Oc()};Mn.prototype.setMap=function(a){vg.prototype.setMap.call(this,a);a&&this.s.push(y(document,Qn(),this.o,this))};
function On(){var a=document.body;return!!(a.webkitRequestFullscreen||a.mozRequestFullScreen&&document.mozFullScreenEnabled||a.msRequestFullscreen&&document.msFullscreenEnabled||a.requestFullscreen&&document.fullscreenEnabled)}function Nn(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}
function Pn(a){a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen()}var Qn=function(){var a;return function(){if(!a){var b=document.body;b.webkitRequestFullscreen?a="webkitfullscreenchange":b.mozRequestFullScreen?a="mozfullscreenchange":b.msRequestFullscreen?a="MSFullscreenChange":b.requestFullscreen&&(a="fullscreenchange")}return a}}();function Rn(a){a=a?a:{};var b=document.createElement("DIV");b.className=void 0!==a.className?a.className:"ol-mouse-position";vg.call(this,{element:b,render:a.render?a.render:Sn,target:a.target});y(this,Xc(Tn),this.En,this);a.coordinateFormat&&this.Gj(a.coordinateFormat);a.projection&&this.ti(a.projection);this.o=void 0!==a.undefinedHTML?a.undefinedHTML:"";this.v=b.innerHTML;this.l=this.j=this.c=null}w(Rn,vg);
function Sn(a){a=a.frameState;a?this.c!=a.viewState.projection&&(this.c=a.viewState.projection,this.j=null):this.c=null;Un(this,this.l)}k=Rn.prototype;k.En=function(){this.j=null};k.Qh=function(){return this.get(Vn)};k.si=function(){return this.get(Tn)};k.mm=function(a){this.l=this.a.ud(a);Un(this,this.l)};k.nm=function(){Un(this,null);this.l=null};k.setMap=function(a){vg.prototype.setMap.call(this,a);a&&(a=a.a,this.s.push(y(a,"mousemove",this.mm,this),y(a,"mouseout",this.nm,this)))};
k.Gj=function(a){this.set(Vn,a)};k.ti=function(a){this.set(Tn,Ob(a))};function Un(a,b){var c=a.o;if(b&&a.c){if(!a.j){var d=a.si();a.j=d?Pb(a.c,d):$b}if(b=a.a.Ra(b))a.j(b,b),c=(c=a.Qh())?c(b):b.toString()}a.v&&c==a.v||(a.element.innerHTML=c,a.v=c)}var Tn="projection",Vn="coordinateFormat";function Wn(a){function b(a){a=h.Sd(a);l.a.aa().ub(a);window.removeEventListener("mousemove",c);window.removeEventListener("mouseup",b)}function c(a){a=h.Sd({clientX:a.clientX-n.offsetWidth/2,clientY:a.clientY+n.offsetHeight/2});m.We(a)}a=a?a:{};this.j=void 0!==a.collapsed?a.collapsed:!0;this.l=void 0!==a.collapsible?a.collapsible:!0;this.l||(this.j=!1);var d=void 0!==a.className?a.className:"ol-overviewmap",e=void 0!==a.tipLabel?a.tipLabel:"Overview map",f=void 0!==a.collapseLabel?a.collapseLabel:
"\u00ab";"string"===typeof f?(this.o=document.createElement("span"),this.o.textContent=f):this.o=f;f=void 0!==a.label?a.label:"\u00bb";"string"===typeof f?(this.D=document.createElement("span"),this.D.textContent=f):this.D=f;var g=this.l&&!this.j?this.o:this.D;f=document.createElement("button");f.setAttribute("type","button");f.title=e;f.appendChild(g);y(f,"click",this.Hn,this);this.C=document.createElement("DIV");this.C.className="ol-overviewmap-map";var h=this.c=new G({controls:new B,interactions:new B,
view:a.view});a.layers&&a.layers.forEach(function(a){h.xe(a)},this);e=document.createElement("DIV");e.className="ol-overviewmap-box";e.style.boxSizing="border-box";this.v=new Bn({position:[0,0],positioning:"bottom-left",element:e});this.c.ye(this.v);e=document.createElement("div");e.className=d+" ol-unselectable ol-control"+(this.j&&this.l?" ol-collapsed":"")+(this.l?"":" ol-uncollapsible");e.appendChild(this.C);e.appendChild(f);vg.call(this,{element:e,render:a.render?a.render:Xn,target:a.target});
var l=this,m=this.v,n=this.v.Rd();n.addEventListener("mousedown",function(){window.addEventListener("mousemove",c);window.addEventListener("mouseup",b)})}w(Wn,vg);k=Wn.prototype;k.setMap=function(a){var b=this.a;a!==b&&(b&&((b=b.aa())&&Mc(b,Xc("rotation"),this.Qe,this),this.c.Ad(null)),vg.prototype.setMap.call(this,a),a&&(this.c.Ad(this.C),this.s.push(y(a,"propertychange",this.lm,this)),0===this.c.Xe().kc()&&this.c.zf(a.hc()),a=a.aa()))&&(y(a,Xc("rotation"),this.Qe,this),ag(a)&&(this.c.Oc(),Yn(this)))};
k.lm=function(a){"view"===a.key&&((a=a.oldValue)&&Mc(a,Xc("rotation"),this.Qe,this),a=this.a.aa(),y(a,Xc("rotation"),this.Qe,this))};k.Qe=function(){this.c.aa().ce(this.a.aa().Sa())};function Xn(){var a=this.a,b=this.c;if(a.c&&b.c){var c=a.Cb();a=a.aa().qd(c);var d=b.Cb();c=b.aa().qd(d);var e=b.Ia($a(a)),f=b.Ia(Ya(a));b=Math.abs(e[0]-f[0]);e=Math.abs(e[1]-f[1]);f=d[0];d=d[1];b<.1*f||e<.1*d||b>.75*f||e>.75*d?Yn(this):La(c,a)||(a=this.c,c=this.a.aa(),a.aa().ub(c.xa()))}Zn(this)}
function Yn(a){var b=a.a;a=a.c;var c=b.Cb();b=b.aa().qd(c);a=a.aa();ib(b,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2)));a.Uf(b)}function Zn(a){var b=a.a,c=a.c;if(b.c&&c.c){var d=b.Cb(),e=b.aa(),f=c.aa();c=e.Sa();b=a.v;var g=a.v.Rd(),h=e.qd(d);d=f.Pa();e=Wa(h);f=Za(h);if(a=a.a.aa().xa()){var l=[e[0]-a[0],e[1]-a[1]];Fe(l,c);ze(l,a)}b.We(l);g&&(g.style.width=Math.abs((e[0]-f[0])/d)+"px",g.style.height=Math.abs((f[1]-e[1])/d)+"px")}}k.Hn=function(a){a.preventDefault();$n(this)};
function $n(a){a.element.classList.toggle("ol-collapsed");a.j?ig(a.o,a.D):ig(a.D,a.o);a.j=!a.j;var b=a.c;a.j||b.c||(b.Oc(),Yn(a),Lc(b,"postrender",function(){Zn(this)},a))}k.Gn=function(){return this.l};k.Jn=function(a){this.l!==a&&(this.l=a,this.element.classList.toggle("ol-uncollapsible"),!a&&this.j&&$n(this))};k.In=function(a){this.l&&this.j!==a&&$n(this)};k.Fn=function(){return this.j};k.Hl=function(){return this.c};function ao(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-scale-line";this.l=document.createElement("DIV");this.l.className=b+"-inner";this.c=document.createElement("DIV");this.c.className=b+" ol-unselectable";this.c.appendChild(this.l);this.o=null;this.v=void 0!==a.minWidth?a.minWidth:64;this.j=!1;this.B=void 0;this.D="";vg.call(this,{element:this.c,render:a.render?a.render:bo,target:a.target});y(this,Xc(co),this.V,this);this.O(a.units||"metric")}w(ao,vg);var eo=[1,2,5];ao.prototype.C=function(){return this.get(co)};
function bo(a){(a=a.frameState)?this.o=a.viewState:this.o=null;fo(this)}ao.prototype.V=function(){fo(this)};ao.prototype.O=function(a){this.set(co,a)};
function fo(a){var b=a.o;if(b){var c=b.center,d=b.projection,e=a.C();b=Nb(d,b.resolution,c,"degrees"==e?"degrees":"m");"degrees"!=e&&(b*=d.Bc());var f=a.v*b;c="";"degrees"==e?(c=ub.degrees,"degrees"==d.a?f*=c:b/=c,f<c/60?(c="\u2033",b*=3600):f<c?(c="\u2032",b*=60):c="\u00b0"):"imperial"==e?.9144>f?(c="in",b/=.0254):1609.344>f?(c="ft",b/=.3048):(c="mi",b/=1609.344):"nautical"==e?(b/=1852,c="nm"):"metric"==e?.001>f?(c="\u03bcm",b*=1E6):1>f?(c="mm",b*=1E3):1E3>f?c="m":(c="km",b/=1E3):"us"==e?.9144>f?
(c="in",b*=39.37):1609.344>f?(c="ft",b/=.30480061):(c="mi",b/=1609.3472):oa(!1,33);for(e=3*Math.floor(Math.log(a.v*b)/Math.log(10));;){f=eo[(e%3+3)%3]*Math.pow(10,Math.floor(e/3));d=Math.round(f/b);if(isNaN(d)){a.c.style.display="none";a.j=!1;return}if(d>=a.v)break;++e}b=f+" "+c;a.D!=b&&(a.l.innerHTML=b,a.D=b);a.B!=d&&(a.l.style.width=d+"px",a.B=d);a.j||(a.c.style.display="",a.j=!0)}else a.j&&(a.c.style.display="none",a.j=!1)}var co="units";function go(a){a=a?a:{};this.c=void 0;this.j=ho;this.D=this.v=0;this.O=null;this.$=!1;this.V=void 0!==a.duration?a.duration:200;var b=void 0!==a.className?a.className:"ol-zoomslider",c=document.createElement("button");c.setAttribute("type","button");c.className=b+"-thumb ol-unselectable";var d=document.createElement("div");d.className=b+" ol-unselectable ol-control";d.appendChild(c);this.l=new Xd(d);y(this.l,"pointerdown",this.$l,this);y(this.l,"pointermove",this.Yl,this);y(this.l,"pointerup",this.Zl,
this);y(d,"click",this.Xl,this);y(c,"click",Rc);vg.call(this,{element:d,render:a.render?a.render:io})}w(go,vg);go.prototype.ia=function(){Pc(this.l);vg.prototype.ia.call(this)};var ho=0;k=go.prototype;k.setMap=function(a){vg.prototype.setMap.call(this,a);a&&a.render()};
function io(a){if(a.frameState){if(!this.$){var b=this.element,c=b.offsetWidth,d=b.offsetHeight,e=b.firstElementChild,f=getComputedStyle(e);b=e.offsetWidth+parseFloat(f.marginRight)+parseFloat(f.marginLeft);e=e.offsetHeight+parseFloat(f.marginTop)+parseFloat(f.marginBottom);this.O=[b,e];c>d?(this.j=1,this.D=c-b):(this.j=ho,this.v=d-e);this.$=!0}a=a.frameState.viewState.resolution;a!==this.c&&(this.c=a,jo(this,a))}}
k.Xl=function(a){var b=this.a.aa();a=ko(this,pa(1===this.j?(a.offsetX-this.O[0]/2)/this.D:(a.offsetY-this.O[1]/2)/this.v,0,1));b.animate({resolution:b.constrainResolution(a),duration:this.V,easing:Oe})};k.$l=function(a){this.o||a.b.target!==this.element.firstElementChild||(bg(this.a.aa(),1,1),this.C=a.clientX,this.B=a.clientY,this.o=!0)};
k.Yl=function(a){if(this.o){var b=this.element.firstElementChild;this.c=ko(this,pa(1===this.j?(a.clientX-this.C+parseInt(b.style.left,10))/this.D:(a.clientY-this.B+parseInt(b.style.top,10))/this.v,0,1));this.a.aa().gd(this.c);jo(this,this.c);this.C=a.clientX;this.B=a.clientY}};k.Zl=function(){if(this.o){var a=this.a.aa();bg(a,1,-1);a.animate({resolution:a.constrainResolution(this.c),duration:this.V,easing:Oe});this.o=!1;this.B=this.C=void 0}};
function jo(a,b){b=1-gg(a.a.aa())(b);var c=a.element.firstElementChild;1==a.j?c.style.left=a.D*b+"px":c.style.top=a.v*b+"px"}function ko(a,b){return fg(a.a.aa())(1-b)};function lo(a){a=a?a:{};this.extent=a.extent?a.extent:null;var b=void 0!==a.className?a.className:"ol-zoom-extent",c=void 0!==a.label?a.label:"E",d=void 0!==a.tipLabel?a.tipLabel:"Fit to extent",e=document.createElement("button");e.setAttribute("type","button");e.title=d;e.appendChild("string"===typeof c?document.createTextNode(c):c);y(e,"click",this.c,this);c=document.createElement("div");c.className=b+" ol-unselectable ol-control";c.appendChild(e);vg.call(this,{element:c,target:a.target})}
w(lo,vg);lo.prototype.c=function(a){a.preventDefault();a=this.a.aa();var b=this.extent?this.extent:a.v.G();a.Uf(b)};var mo=document.implementation.createDocument("","",null);function no(a,b){return mo.createElementNS(a,b)}function oo(a,b){return po(a,b,[]).join("")}function po(a,b,c){if(a.nodeType==Node.CDATA_SECTION_NODE||a.nodeType==Node.TEXT_NODE)b?c.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):c.push(a.nodeValue);else for(a=a.firstChild;a;a=a.nextSibling)po(a,b,c);return c}function qo(a){return a instanceof Document}function ro(a){return a instanceof Node}
function so(a){return(new DOMParser).parseFromString(a,"application/xml")}function to(a,b){return function(c,d){c=a.call(b,c,d);void 0!==c&&gc(d[d.length-1],c)}}function uo(a,b){return function(c,d){c=a.call(void 0!==b?b:this,c,d);void 0!==c&&d[d.length-1].push(c)}}function vo(a,b){return function(c,d){c=a.call(void 0!==b?b:this,c,d);void 0!==c&&(d[d.length-1]=c)}}
function wo(a){return function(b,c){var d=a.call(this,b,c);if(void 0!==d){c=c[c.length-1];b=b.localName;var e;b in c?e=c[b]:e=c[b]=[];e.push(d)}}}function L(a,b){return function(c,d){var e=a.call(this,c,d);void 0!==e&&(d[d.length-1][void 0!==b?b:c.localName]=e)}}function M(a,b){return function(c,d,e){a.call(void 0!==b?b:this,c,d,e);e[e.length-1].node.appendChild(c)}}
function xo(a){var b,c;return function(d,e,f){if(void 0===b){b={};var g={};g[d.localName]=a;b[d.namespaceURI]=g;c=yo(d.localName)}zo(b,c,e,f)}}function yo(a,b){return function(c,d,e){c=d[d.length-1].node;d=a;void 0===d&&(d=e);e=b;void 0===b&&(e=c.namespaceURI);return no(e,d)}}var Ao=yo();function Bo(a,b){for(var c=b.length,d=Array(c),e=0;e<c;++e)d[e]=a[b[e]];return d}function N(a,b,c){c=void 0!==c?c:{};var d;var e=0;for(d=a.length;e<d;++e)c[a[e]]=b;return c}
function Co(a,b,c,d){for(b=b.firstElementChild;b;b=b.nextElementSibling){var e=a[b.namespaceURI];void 0!==e&&(e=e[b.localName],void 0!==e&&e.call(d,b,c))}}function O(a,b,c,d,e){d.push(a);Co(b,c,d,e);return d.pop()}function zo(a,b,c,d,e,f){for(var g=(void 0!==e?e:c).length,h,l,m=0;m<g;++m)h=c[m],void 0!==h&&(l=b.call(f,h,d,void 0!==e?e[m]:void 0),void 0!==l&&a[l.namespaceURI][l.localName].call(f,l,h,d))}function Do(a,b,c,d,e,f,g){e.push(a);zo(b,c,d,e,f,g);e.pop()};function Eo(a,b,c,d){return function(e,f,g){var h=new XMLHttpRequest;h.open("GET","function"===typeof a?a(e,f,g):a,!0);"arraybuffer"==b.S()&&(h.responseType="arraybuffer");h.onload=function(){if(!h.status||200<=h.status&&300>h.status){var a=b.S();if("json"==a||"text"==a)var e=h.responseText;else"xml"==a?(e=h.responseXML)||(e=so(h.responseText)):"arraybuffer"==a&&(e=h.response);e?c.call(this,b.Qa(e,{featureProjection:g}),b.sb(e),b.cg()):d.call(this)}else d.call(this)}.bind(this);h.onerror=function(){d.call(this)}.bind(this);
h.send()}}function Fo(a,b){return Eo(a,b,function(a){this.Qc(a)},ea)};function Go(){this.i=this.defaultDataProjection=null}function Ho(a,b,c){var d;c&&(d={dataProjection:c.dataProjection?c.dataProjection:a.sb(b),featureProjection:c.featureProjection});return Io(a,d)}function Io(a,b){return kb({dataProjection:a.defaultDataProjection,featureProjection:a.i},b)}Go.prototype.cg=function(){return null};
function Jo(a,b,c){var d=c?Ob(c.featureProjection):null,e=c?Ob(c.dataProjection):null,f;d&&e&&!Xb(d,e)?a instanceof gf?f=(b?a.clone():a).mb(b?d:e,b?e:d):f=bc(a,e,d):f=a;if(b&&c&&void 0!==c.decimals){var g=Math.pow(10,c.decimals);f===a&&(f=f.clone());f.Rc(function(a){for(var b=0,c=a.length;b<c;++b)a[b]=Math.round(a[b]*g)/g;return a})}return f};function Ko(){Go.call(this)}w(Ko,Go);function Lo(a){return"string"===typeof a?(a=JSON.parse(a))?a:null:null!==a?a:null}k=Ko.prototype;k.S=function(){return"json"};k.Yb=function(a,b){return this.dd(Lo(a),Ho(this,a,b))};k.Qa=function(a,b){return this.Mg(Lo(a),Ho(this,a,b))};k.ed=function(a,b){return this.Qg(Lo(a),Ho(this,a,b))};k.sb=function(a){return this.Tg(Lo(a))};k.Jd=function(a,b){return JSON.stringify(this.ld(a,b))};k.ac=function(a,b){return JSON.stringify(this.qe(a,b))};
k.md=function(a,b){return JSON.stringify(this.se(a,b))};function P(a,b){hf.call(this);this.c=[];this.j=this.o=-1;this.na(a,b)}w(P,hf);k=P.prototype;k.Gk=function(a){this.A?gc(this.A,a.da().slice()):this.A=a.da().slice();this.c.push(this.A.length);this.u()};k.clone=function(){var a=new P(null);a.ba(this.ja,this.A.slice(),this.c.slice());return a};k.Nb=function(a,b,c,d){if(d<Ha(this.G(),a,b))return d;this.j!=this.g&&(this.o=Math.sqrt(qf(this.A,0,this.c,this.a,0)),this.j=this.g);return uf(this.A,0,this.c,this.a,this.o,!1,a,b,c,d)};
k.Wn=function(a,b,c){return"XYM"!=this.ja&&"XYZM"!=this.ja||0===this.A.length?null:Tk(this.A,this.c,this.a,a,void 0!==b?b:!1,void 0!==c?c:!1)};k.W=function(){return zf(this.A,0,this.c,this.a)};k.pb=function(){return this.c};k.yl=function(a){if(0>a||this.c.length<=a)return null;var b=new I(null);b.ba(this.ja,this.A.slice(0===a?0:this.c[a-1],this.c[a]));return b};
k.wd=function(){var a=this.A,b=this.c,c=this.ja,d=[],e=0,f;var g=0;for(f=b.length;g<f;++g){var h=b[g],l=new I(null);l.ba(c,a.slice(e,h));d.push(l);e=h}return d};k.Ge=function(){var a=[],b=this.A,c=0,d=this.c,e=this.a,f;var g=0;for(f=d.length;g<f;++g){var h=d[g];c=Kk(b,c,h,e,.5);gc(a,c);c=h}return a};k.xd=function(a){var b=[],c=[],d=this.A,e=this.c,f=this.a,g=0,h=0,l;var m=0;for(l=e.length;m<l;++m){var n=e[m];h=Bf(d,g,n,f,a,b,h);c.push(h);g=n}b.length=h;a=new P(null);a.ba("XY",b,c);return a};k.S=function(){return"MultiLineString"};
k.$a=function(a){a:{var b=this.A,c=this.c,d=this.a,e=0,f;var g=0;for(f=c.length;g<f;++g){if(Kf(b,e,c[g],d,a)){a=!0;break a}e=c[g]}a=!1}return a};k.na=function(a,b){a?(lf(this,b,a,2),this.A||(this.A=[]),a=xf(this.A,0,a,this.a,this.c),this.A.length=0===a.length?0:a[a.length-1],this.u()):this.ba("XY",null,this.c)};k.ba=function(a,b,c){kf(this,a,b);this.c=c;this.u()};
function Mo(a,b){var c=a.ja,d=[],e=[],f;var g=0;for(f=b.length;g<f;++g){var h=b[g];0===g&&(c=h.ja);gc(d,h.da());e.push(d.length)}a.ba(c,d,e)};function No(a,b){hf.call(this);this.na(a,b)}w(No,hf);k=No.prototype;k.Ik=function(a){this.A?gc(this.A,a.da()):this.A=a.da().slice();this.u()};k.clone=function(){var a=new No(null);a.ba(this.ja,this.A.slice());return a};k.Nb=function(a,b,c,d){if(d<Ha(this.G(),a,b))return d;var e=this.A,f=this.a,g;var h=0;for(g=e.length;h<g;h+=f){var l=ua(a,b,e[h],e[h+1]);if(l<d){d=l;for(l=0;l<f;++l)c[l]=e[h+l];c.length=f}}return d};k.W=function(){return yf(this.A,0,this.A.length,this.a)};
k.Ll=function(a){var b=this.A?this.A.length/this.a:0;if(0>a||b<=a)return null;b=new C(null);b.ba(this.ja,this.A.slice(a*this.a,(a+1)*this.a));return b};k.de=function(){var a=this.A,b=this.ja,c=this.a,d=[],e;var f=0;for(e=a.length;f<e;f+=c){var g=new C(null);g.ba(b,a.slice(f,f+c));d.push(g)}return d};k.S=function(){return"MultiPoint"};k.$a=function(a){var b=this.A,c=this.a,d;var e=0;for(d=b.length;e<d;e+=c){var f=b[e];var g=b[e+1];if(Ka(a,f,g))return!0}return!1};
k.na=function(a,b){a?(lf(this,b,a,1),this.A||(this.A=[]),this.A.length=wf(this.A,0,a,this.a),this.u()):this.ba("XY",null)};k.ba=function(a,b){kf(this,a,b);this.u()};function Q(a,b){hf.call(this);this.c=[];this.o=-1;this.D=null;this.T=this.C=this.B=-1;this.j=null;this.na(a,b)}w(Q,hf);k=Q.prototype;k.Jk=function(a){if(this.A){var b=this.A.length;gc(this.A,a.da());a=a.pb().slice();var c;var d=0;for(c=a.length;d<c;++d)a[d]+=b}else this.A=a.da().slice(),a=a.pb().slice(),this.c.push();this.c.push(a);this.u()};k.clone=function(){for(var a=new Q(null),b=this.c.length,c=Array(b),d=0;d<b;++d)c[d]=this.c[d].slice();a.ba(this.ja,this.A.slice(),c);return a};
k.Nb=function(a,b,c,d){if(d<Ha(this.G(),a,b))return d;if(this.C!=this.g){var e=this.c,f=0,g=0,h;var l=0;for(h=e.length;l<h;++l){var m=e[l];g=qf(this.A,f,m,this.a,g);f=m[m.length-1]}this.B=Math.sqrt(g);this.C=this.g}e=Ii(this);f=this.c;g=this.a;l=this.B;h=0;m=[NaN,NaN];var n;var p=0;for(n=f.length;p<n;++p){var q=f[p];d=uf(e,h,q,g,l,!0,a,b,c,d,m);h=q[q.length-1]}return d};
k.Zc=function(a,b){a:{var c=Ii(this),d=this.c,e=0;if(0!==d.length){var f;var g=0;for(f=d.length;g<f;++g){var h=d[g];if(Hf(c,e,h,this.a,a,b)){a=!0;break a}e=h[h.length-1]}}a=!1}return a};k.Xn=function(){var a=Ii(this),b=this.c,c=0,d=0,e;var f=0;for(e=b.length;f<e;++f){var g=b[f];d+=nf(a,c,g,this.a);c=g[g.length-1]}return d};k.W=function(a){if(void 0!==a){var b=Ii(this).slice();Pf(b,this.c,this.a,a)}else b=this.A;return Af(b,0,this.c,this.a)};k.td=function(){return this.c};
function Ji(a){if(a.o!=a.g){var b=a.A,c=a.c,d=a.a,e=0,f=[],g;var h=0;for(g=c.length;h<g;++h){var l=c[h];e=Qa(b,e,l[0],d);f.push((e[0]+e[2])/2,(e[1]+e[3])/2);e=l[l.length-1]}b=Ii(a);c=a.c;d=a.a;h=0;g=[];l=0;for(e=c.length;l<e;++l){var m=c[l];g=If(b,h,m,d,f,2*l,g);h=m[m.length-1]}a.D=g;a.o=a.g}return a.D}k.ul=function(){var a=new No(null);a.ba("XYM",Ji(this).slice());return a};
function Ii(a){if(a.T!=a.g){var b=a.A;a:{var c=a.c;var d;var e=0;for(d=c.length;e<d;++e)if(!Nf(b,c[e],a.a,void 0)){c=!1;break a}c=!0}c?a.j=b:(a.j=b.slice(),a.j.length=Pf(a.j,a.c,a.a));a.T=a.g}return a.j}k.xd=function(a){var b=[],c=[],d=this.A,e=this.c,f=this.a;a=Math.sqrt(a);var g=0,h=0,l;var m=0;for(l=e.length;m<l;++m){var n=e[m],p=[];h=Cf(d,g,n,f,a,b,h,p);c.push(p);g=n[n.length-1]}b.length=h;d=new Q(null);d.ba("XY",b,c);return d};
k.Ml=function(a){if(0>a||this.c.length<=a)return null;if(0===a)var b=0;else b=this.c[a-1],b=b[b.length-1];a=this.c[a].slice();var c=a[a.length-1];if(0!==b){var d;var e=0;for(d=a.length;e<d;++e)a[e]-=b}e=new D(null);e.ba(this.ja,this.A.slice(b,c),a);return e};k.Vd=function(){var a=this.ja,b=this.A,c=this.c,d=[],e=0,f,g;var h=0;for(f=c.length;h<f;++h){var l=c[h].slice(),m=l[l.length-1];if(0!==e){var n=0;for(g=l.length;n<g;++n)l[n]-=e}n=new D(null);n.ba(a,b.slice(e,m),l);d.push(n);e=m}return d};
k.S=function(){return"MultiPolygon"};k.$a=function(a){a:{var b=Ii(this),c=this.c,d=this.a,e=0,f;var g=0;for(f=c.length;g<f;++g){var h=c[g];if(Lf(b,e,h,d,a)){a=!0;break a}e=h[h.length-1]}a=!1}return a};
k.na=function(a,b){if(a){lf(this,b,a,3);this.A||(this.A=[]);b=this.A;var c=this.a,d=this.c,e=0;d=d?d:[];var f=0,g;var h=0;for(g=a.length;h<g;++h)e=xf(b,e,a[h],c,d[f]),d[f++]=e,e=e[e.length-1];d.length=f;0===d.length?this.A.length=0:(a=d[d.length-1],this.A.length=0===a.length?0:a[a.length-1]);this.u()}else this.ba("XY",null,this.c)};k.ba=function(a,b,c){kf(this,a,b);this.c=c;this.u()};
function Oo(a,b){var c=a.ja,d=[],e=[],f;var g=0;for(f=b.length;g<f;++g){var h=b[g];0===g&&(c=h.ja);var l=d.length;var m=h.pb();var n;var p=0;for(n=m.length;p<n;++p)m[p]+=l;gc(d,h.da());e.push(m)}a.ba(c,d,e)};function Po(a){a=a?a:{};Go.call(this);this.b=a.geometryName}w(Po,Ko);
function Qo(a,b){if(!a)return null;if("number"===typeof a.x&&"number"===typeof a.y)var c="Point";else if(a.points)c="MultiPoint";else if(a.paths)c=1===a.paths.length?"LineString":"MultiLineString";else if(a.rings){var d=a.rings,e=Ro(a),f=[],g=[];c=[];var h;var l=0;for(h=d.length;l<h;++l)f.length=0,wf(f,0,d[l],e.length),Mf(f,0,f.length,e.length)?g.push([d[l]]):c.push(d[l]);for(;c.length;){d=c.shift();e=!1;for(l=g.length-1;0<=l;l--)if(La((new Df(g[l][0])).G(),(new Df(d)).G())){g[l].push(d);e=!0;break}e||
g.push([d.reverse()])}a=kb({},a);1===g.length?(c="Polygon",a.rings=g[0]):(c="MultiPolygon",a.rings=g)}return Jo((0,So[c])(a),!1,b)}function Ro(a){var b="XY";!0===a.hasZ&&!0===a.hasM?b="XYZM":!0===a.hasZ?b="XYZ":!0===a.hasM&&(b="XYM");return b}function To(a){a=a.ja;return{hasZ:"XYZ"===a||"XYZM"===a,hasM:"XYM"===a||"XYZM"===a}}
var So={Point:function(a){return void 0!==a.m&&void 0!==a.z?new C([a.x,a.y,a.z,a.m],"XYZM"):void 0!==a.z?new C([a.x,a.y,a.z],"XYZ"):void 0!==a.m?new C([a.x,a.y,a.m],"XYM"):new C([a.x,a.y])},LineString:function(a){return new I(a.paths[0],Ro(a))},Polygon:function(a){return new D(a.rings,Ro(a))},MultiPoint:function(a){return new No(a.points,Ro(a))},MultiLineString:function(a){return new P(a.paths,Ro(a))},MultiPolygon:function(a){return new Q(a.rings,Ro(a))}},Uo={Point:function(a){var b=a.W(),c;a=a.ja;
"XYZ"===a?c={x:b[0],y:b[1],z:b[2]}:"XYM"===a?c={x:b[0],y:b[1],m:b[2]}:"XYZM"===a?c={x:b[0],y:b[1],z:b[2],m:b[3]}:"XY"===a?c={x:b[0],y:b[1]}:oa(!1,34);return c},LineString:function(a){var b=To(a);return{hasZ:b.hasZ,hasM:b.hasM,paths:[a.W()]}},Polygon:function(a){var b=To(a);return{hasZ:b.hasZ,hasM:b.hasM,rings:a.W(!1)}},MultiPoint:function(a){var b=To(a);return{hasZ:b.hasZ,hasM:b.hasM,points:a.W()}},MultiLineString:function(a){var b=To(a);return{hasZ:b.hasZ,hasM:b.hasM,paths:a.W()}},MultiPolygon:function(a){var b=
To(a);a=a.W(!1);for(var c=[],d=0;d<a.length;d++)for(var e=a[d].length-1;0<=e;e--)c.push(a[d][e]);return{hasZ:b.hasZ,hasM:b.hasM,rings:c}}};k=Po.prototype;k.dd=function(a,b){var c=Qo(a.geometry,b),d=new Hk;this.b&&d.Lc(this.b);d.Va(c);b&&b.pg&&a.attributes[b.pg]&&d.qc(a.attributes[b.pg]);a.attributes&&d.H(a.attributes);return d};k.Mg=function(a,b){b=b?b:{};if(a.features){var c=[],d=a.features,e;b.pg=a.objectIdFieldName;a=0;for(e=d.length;a<e;++a)c.push(this.dd(d[a],b));return c}return[this.dd(a,b)]};
k.Qg=function(a,b){return Qo(a,b)};k.Tg=function(a){return a.spatialReference&&a.spatialReference.wkid?Ob("EPSG:"+a.spatialReference.wkid):null};function Vo(a,b){return(0,Uo[a.S()])(Jo(a,!0,b),b)}k.se=function(a,b){return Vo(a,Io(this,b))};k.ld=function(a,b){b=Io(this,b);var c={},d=a.U();d&&(c.geometry=Vo(d,b),b&&b.featureProjection&&(c.geometry.spatialReference={wkid:Ob(b.featureProjection).wb.split(":").pop()}));b=a.L();delete b[a.a];c.attributes=nb(b)?{}:b;return c};
k.qe=function(a,b){b=Io(this,b);var c=[],d;var e=0;for(d=a.length;e<d;++e)c.push(this.ld(a[e],b));return{features:c}};function Wo(){this.g=new XMLSerializer;Go.call(this)}w(Wo,Go);k=Wo.prototype;k.S=function(){return"xml"};k.Yb=function(a,b){return qo(a)?Xo(this,a,b):ro(a)?this.Lg(a,b):"string"===typeof a?(a=so(a),Xo(this,a,b)):null};function Xo(a,b,c){a=Yo(a,b,c);return 0<a.length?a[0]:null}k.Lg=function(){return null};k.Qa=function(a,b){return qo(a)?Yo(this,a,b):ro(a)?this.Kc(a,b):"string"===typeof a?(a=so(a),Yo(this,a,b)):[]};
function Yo(a,b,c){var d=[];for(b=b.firstChild;b;b=b.nextSibling)b.nodeType==Node.ELEMENT_NODE&&gc(d,a.Kc(b,c));return d}k.ed=function(a,b){if(qo(a))return null;if(ro(a))return this.vj(a,b);"string"===typeof a&&so(a);return null};k.vj=function(){return null};k.sb=function(a){return qo(a)?this.Sg(a):ro(a)?this.uf(a):"string"===typeof a?(a=so(a),this.Sg(a)):null};k.Sg=function(){return this.defaultDataProjection};k.uf=function(){return this.defaultDataProjection};k.Jd=function(){return this.g.serializeToString(this.mh())};
k.mh=function(){return null};k.ac=function(a,b){a=this.bc(a,b);return this.g.serializeToString(a)};k.bc=function(){return null};k.md=function(a,b){a=this.re(a,b);return this.g.serializeToString(a)};k.re=function(){return null};function Zo(a){a=a?a:{};this.featureType=a.featureType;this.featureNS=a.featureNS;this.srsName=a.srsName;this.schemaLocation="";this.b={};this.b["http://www.opengis.net/gml"]={featureMember:vo(Zo.prototype.ge),featureMembers:vo(Zo.prototype.ge)};Wo.call(this)}w(Zo,Wo);var $o=/^[\s\xa0]*$/;k=Zo.prototype;
k.ge=function(a,b){var c=a.localName,d=null;if("FeatureCollection"==c)"http://www.opengis.net/wfs"===a.namespaceURI?d=O([],this.b,a,b,this):d=O(null,this.b,a,b,this);else if("featureMembers"==c||"featureMember"==c){var e=b[0],f=e.featureType,g=e.featureNS,h;if(!f&&a.childNodes){f=[];g={};var l=0;for(h=a.childNodes.length;l<h;++l){var m=a.childNodes[l];if(1===m.nodeType){var n=m.nodeName.split(":").pop();if(-1===f.indexOf(n)){var p="",q=0;m=m.namespaceURI;for(var r in g){if(g[r]===m){p=r;break}++q}p||
(p="p"+q,g[p]=m);f.push(p+":"+n)}}}"featureMember"!=c&&(e.featureType=f,e.featureNS=g)}"string"===typeof g&&(l=g,g={},g.p0=l);e={};f=Array.isArray(f)?f:[f];for(var u in g){n={};l=0;for(h=f.length;l<h;++l)(-1===f[l].indexOf(":")?"p0":f[l].split(":")[0])===u&&(n[f[l].split(":").pop()]="featureMembers"==c?uo(this.Kg,this):vo(this.Kg,this));e[g[u]]=n}"featureMember"==c?d=O(void 0,e,a,b):d=O([],e,a,b)}null===d&&(d=[]);return d};
k.rf=function(a,b){var c=b[0];c.srsName=a.firstElementChild.getAttribute("srsName");c.srsDimension=a.firstElementChild.getAttribute("srsDimension");if(a=O(null,this.qh,a,b,this))return Jo(a,!1,c)};
k.Kg=function(a,b){var c;(c=a.getAttribute("fid"))||(c=a.getAttributeNS("http://www.opengis.net/gml","id")||"");var d={},e;for(a=a.firstElementChild;a;a=a.nextElementSibling){var f=a.localName;if(0===a.childNodes.length||1===a.childNodes.length&&(3===a.firstChild.nodeType||4===a.firstChild.nodeType)){var g=oo(a,!1);$o.test(g)&&(g=void 0);d[f]=g}else"boundedBy"!==f&&(e=f),d[f]=this.rf(a,b)}b=new Hk(d);e&&b.Lc(e);c&&b.qc(c);return b};
k.Aj=function(a,b){if(a=this.qf(a,b))return b=new C(null),b.ba("XYZ",a),b};k.yj=function(a,b){if(a=O([],this.kk,a,b,this))return new No(a)};k.xj=function(a,b){if(a=O([],this.jk,a,b,this))return b=new P(null),Mo(b,a),b};k.zj=function(a,b){if(a=O([],this.lk,a,b,this))return b=new Q(null),Oo(b,a),b};k.qj=function(a,b){Co(this.pk,a,b,this)};k.fi=function(a,b){Co(this.hk,a,b,this)};k.rj=function(a,b){Co(this.qk,a,b,this)};k.sf=function(a,b){if(a=this.qf(a,b))return b=new I(null),b.ba("XYZ",a),b};
k.Xp=function(a,b){if(a=O(null,this.te,a,b,this))return a};k.wj=function(a,b){if(a=this.qf(a,b))return b=new Df(null),Ef(b,"XYZ",a),b};k.tf=function(a,b){if((a=O([null],this.Gf,a,b,this))&&a[0]){b=new D(null);var c=a[0],d=[c.length],e;var f=1;for(e=a.length;f<e;++f)gc(c,a[f]),d.push(c.length);b.ba("XYZ",c,d);return b}};k.qf=function(a,b){return O(null,this.te,a,b,this)};k.kk={"http://www.opengis.net/gml":{pointMember:uo(Zo.prototype.qj),pointMembers:uo(Zo.prototype.qj)}};
k.jk={"http://www.opengis.net/gml":{lineStringMember:uo(Zo.prototype.fi),lineStringMembers:uo(Zo.prototype.fi)}};k.lk={"http://www.opengis.net/gml":{polygonMember:uo(Zo.prototype.rj),polygonMembers:uo(Zo.prototype.rj)}};k.pk={"http://www.opengis.net/gml":{Point:uo(Zo.prototype.qf)}};k.hk={"http://www.opengis.net/gml":{LineString:uo(Zo.prototype.sf)}};k.qk={"http://www.opengis.net/gml":{Polygon:uo(Zo.prototype.tf)}};k.ue={"http://www.opengis.net/gml":{LinearRing:vo(Zo.prototype.Xp)}};
k.vj=function(a,b){return(a=this.rf(a,[Ho(this,a,b?b:{})]))?a:null};k.Kc=function(a,b){var c={featureType:this.featureType,featureNS:this.featureNS};b&&kb(c,Ho(this,a,b));return this.ge(a,[c])||[]};k.uf=function(a){return Ob(this.srsName?this.srsName:a.firstElementChild.getAttribute("srsName"))};function ap(a){a=oo(a,!1);return bp(a)}function bp(a){if(a=/^\s*(true|1)|(false|0)\s*$/.exec(a))return void 0!==a[1]||!1}function cp(a){a=oo(a,!1);a=Date.parse(a);return isNaN(a)?void 0:a/1E3}function dp(a){a=oo(a,!1);return ep(a)}function ep(a){if(a=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(a))return parseFloat(a[1])}function fp(a){a=oo(a,!1);return gp(a)}function gp(a){if(a=/^\s*(\d+)\s*$/.exec(a))return parseInt(a[1],10)}function R(a){return oo(a,!1).trim()}
function hp(a,b){ip(a,b?"1":"0")}function Ip(a,b){a.appendChild(mo.createTextNode(b.toPrecision()))}function Jp(a,b){a.appendChild(mo.createTextNode(b.toString()))}function ip(a,b){a.appendChild(mo.createTextNode(b))};function Kp(a){a=a?a:{};Zo.call(this,a);this.s=void 0!==a.surface?a.surface:!1;this.c=void 0!==a.curve?a.curve:!1;this.f=void 0!==a.multiCurve?a.multiCurve:!0;this.j=void 0!==a.multiSurface?a.multiSurface:!0;this.schemaLocation=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd";this.hasZ=void 0!==a.hasZ?a.hasZ:!1}w(Kp,Zo);k=Kp.prototype;
k.aq=function(a,b){if(a=O([],this.ik,a,b,this))return b=new P(null),Mo(b,a),b};k.bq=function(a,b){if(a=O([],this.mk,a,b,this))return b=new Q(null),Oo(b,a),b};k.Gh=function(a,b){Co(this.ek,a,b,this)};k.Xj=function(a,b){Co(this.sk,a,b,this)};k.fq=function(a,b){return O([null],this.nk,a,b,this)};k.iq=function(a,b){return O([null],this.rk,a,b,this)};k.gq=function(a,b){return O([null],this.Gf,a,b,this)};k.$p=function(a,b){return O([null],this.te,a,b,this)};
k.Fm=function(a,b){(a=O(void 0,this.ue,a,b,this))&&b[b.length-1].push(a)};k.Zk=function(a,b){(a=O(void 0,this.ue,a,b,this))&&(b[b.length-1][0]=a)};k.Bj=function(a,b){if((a=O([null],this.tk,a,b,this))&&a[0]){b=new D(null);var c=a[0],d=[c.length],e;var f=1;for(e=a.length;f<e;++f)gc(c,a[f]),d.push(c.length);b.ba("XYZ",c,d);return b}};k.tj=function(a,b){if(a=O([null],this.fk,a,b,this))return b=new I(null),b.ba("XYZ",a),b};
k.Wp=function(a,b){a=O([null],this.gk,a,b,this);return Na(a[1][0],a[1][1],a[2][0],a[2][1])};k.Yp=function(a,b){var c=oo(a,!1),d=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/;a=[];for(var e;e=d.exec(c);)a.push(parseFloat(e[1])),c=c.substr(e[0].length);if(""===c){b=b[0].srsName;c="enu";b&&(c=Ob(b).b);if("neu"===c)for(b=0,c=a.length;b<c;b+=3)d=a[b],a[b]=a[b+1],a[b+1]=d;b=a.length;2==b&&a.push(0);if(0!==b)return a}};
k.Pg=function(a,b){var c=oo(a,!1).replace(/^\s*|\s*$/g,"");b=b[0];var d=b.srsName,e=b.srsDimension;b="enu";d&&(b=Ob(d).b);c=c.split(/\s+/);d=2;a.getAttribute("srsDimension")?d=gp(a.getAttribute("srsDimension")):a.getAttribute("dimension")?d=gp(a.getAttribute("dimension")):a.parentNode.getAttribute("srsDimension")?d=gp(a.parentNode.getAttribute("srsDimension")):e&&(d=gp(e));for(var f,g=[],h=0,l=c.length;h<l;h+=d)a=parseFloat(c[h]),e=parseFloat(c[h+1]),f=3===d?parseFloat(c[h+2]):0,"en"===b.substr(0,
2)?g.push(a,e,f):g.push(e,a,f);return g};k.te={"http://www.opengis.net/gml":{pos:vo(Kp.prototype.Yp),posList:vo(Kp.prototype.Pg)}};k.Gf={"http://www.opengis.net/gml":{interior:Kp.prototype.Fm,exterior:Kp.prototype.Zk}};
k.qh={"http://www.opengis.net/gml":{Point:vo(Zo.prototype.Aj),MultiPoint:vo(Zo.prototype.yj),LineString:vo(Zo.prototype.sf),MultiLineString:vo(Zo.prototype.xj),LinearRing:vo(Zo.prototype.wj),Polygon:vo(Zo.prototype.tf),MultiPolygon:vo(Zo.prototype.zj),Surface:vo(Kp.prototype.Bj),MultiSurface:vo(Kp.prototype.bq),Curve:vo(Kp.prototype.tj),MultiCurve:vo(Kp.prototype.aq),Envelope:vo(Kp.prototype.Wp)}};k.ik={"http://www.opengis.net/gml":{curveMember:uo(Kp.prototype.Gh),curveMembers:uo(Kp.prototype.Gh)}};
k.mk={"http://www.opengis.net/gml":{surfaceMember:uo(Kp.prototype.Xj),surfaceMembers:uo(Kp.prototype.Xj)}};k.ek={"http://www.opengis.net/gml":{LineString:uo(Zo.prototype.sf),Curve:uo(Kp.prototype.tj)}};k.sk={"http://www.opengis.net/gml":{Polygon:uo(Zo.prototype.tf),Surface:uo(Kp.prototype.Bj)}};k.tk={"http://www.opengis.net/gml":{patches:vo(Kp.prototype.fq)}};k.fk={"http://www.opengis.net/gml":{segments:vo(Kp.prototype.iq)}};k.gk={"http://www.opengis.net/gml":{lowerCorner:uo(Kp.prototype.Pg),upperCorner:uo(Kp.prototype.Pg)}};
k.nk={"http://www.opengis.net/gml":{PolygonPatch:vo(Kp.prototype.gq)}};k.rk={"http://www.opengis.net/gml":{LineStringSegment:vo(Kp.prototype.$p)}};function Lp(a,b,c){var d=c[c.length-1];c=d.hasZ;a.setAttribute("srsDimension",c?3:2);d=d.srsName;b=b.W();for(var e=b.length,f=Array(e),g,h=0;h<e;++h){g=b[h];var l=h,m=c,n="enu";d&&(n=Ob(d).b);n="en"===n.substr(0,2)?g[0]+" "+g[1]:g[1]+" "+g[0];m&&(n+=" "+(g[2]||0));f[l]=n}ip(a,f.join(" "))}
k.Hi=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);d=no(a.namespaceURI,"pos");a.appendChild(d);c=c[c.length-1];a=c.hasZ;d.setAttribute("srsDimension",a?3:2);var e=c.srsName;c="enu";e&&(c=Ob(e).b);b=b.W();c="en"===c.substr(0,2)?b[0]+" "+b[1]:b[1]+" "+b[0];a&&(c+=" "+(b[2]||0));ip(d,c)};var Mp={"http://www.opengis.net/gml":{lowerCorner:M(ip),upperCorner:M(ip)}};k=Kp.prototype;
k.Pn=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);Do({node:a},Mp,Ao,[b[0]+" "+b[1],b[2]+" "+b[3]],c,["lowerCorner","upperCorner"],this)};k.Ei=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);d=no(a.namespaceURI,"posList");a.appendChild(d);Lp(d,b,c)};k.On=function(a,b){a=b[b.length-1];b=a.node;var c=a.exteriorWritten;void 0===c&&(a.exteriorWritten=!0);return no(b.namespaceURI,void 0!==c?"interior":"exterior")};
k.af=function(a,b,c){var d=c[c.length-1],e=d.hasZ;d=d.srsName;"PolygonPatch"!==a.nodeName&&d&&a.setAttribute("srsName",d);"Polygon"===a.nodeName||"PolygonPatch"===a.nodeName?(b=b.Ud(),Do({node:a,hasZ:e,srsName:d},Np,this.On,b,c,void 0,this)):"Surface"===a.nodeName&&(e=no(a.namespaceURI,"patches"),a.appendChild(e),a=no(e.namespaceURI,"PolygonPatch"),e.appendChild(a),this.af(a,b,c))};
k.$e=function(a,b,c){var d=c[c.length-1].srsName;"LineStringSegment"!==a.nodeName&&d&&a.setAttribute("srsName",d);"LineString"===a.nodeName||"LineStringSegment"===a.nodeName?(d=no(a.namespaceURI,"posList"),a.appendChild(d),Lp(d,b,c)):"Curve"===a.nodeName&&(d=no(a.namespaceURI,"segments"),a.appendChild(d),a=no(d.namespaceURI,"LineStringSegment"),d.appendChild(a),this.$e(a,b,c))};
k.Gi=function(a,b,c){var d=c[c.length-1],e=d.hasZ,f=d.srsName;d=d.surface;f&&a.setAttribute("srsName",f);b=b.Vd();Do({node:a,hasZ:e,srsName:f,surface:d},Op,this.l,b,c,void 0,this)};k.Qn=function(a,b,c){var d=c[c.length-1],e=d.srsName;d=d.hasZ;e&&a.setAttribute("srsName",e);b=b.de();Do({node:a,hasZ:d,srsName:e},Pp,yo("pointMember"),b,c,void 0,this)};
k.Fi=function(a,b,c){var d=c[c.length-1],e=d.hasZ,f=d.srsName;d=d.curve;f&&a.setAttribute("srsName",f);b=b.wd();Do({node:a,hasZ:e,srsName:f,curve:d},Qp,this.l,b,c,void 0,this)};k.Ii=function(a,b,c){var d=no(a.namespaceURI,"LinearRing");a.appendChild(d);this.Ei(d,b,c)};k.Ji=function(a,b,c){var d=this.a(b,c);d&&(a.appendChild(d),this.af(d,b,c))};k.Rn=function(a,b,c){var d=no(a.namespaceURI,"Point");a.appendChild(d);this.Hi(d,b,c)};
k.Di=function(a,b,c){var d=this.a(b,c);d&&(a.appendChild(d),this.$e(d,b,c))};k.Yc=function(a,b,c){var d=c[c.length-1],e=kb({},d);e.node=a;var f;Array.isArray(b)?d.dataProjection?f=bc(b,d.featureProjection,d.dataProjection):f=b:f=Jo(b,!0,d);Do(e,Rp,this.a,[f],c,void 0,this)};
k.Ci=function(a,b,c){var d=b.c;d&&a.setAttribute("fid",d);d=c[c.length-1];var e=d.featureNS,f=b.a;d.tb||(d.tb={},d.tb[e]={});var g=b.L();b=[];var h=[];for(m in g){var l=g[m];null!==l&&(b.push(m),h.push(l),m==f||l instanceof gf?m in d.tb[e]||(d.tb[e][m]=M(this.Yc,this)):m in d.tb[e]||(d.tb[e][m]=M(ip)))}var m=kb({},d);m.node=a;Do(m,d.tb,yo(void 0,e),h,c,b)};
var Op={"http://www.opengis.net/gml":{surfaceMember:M(Kp.prototype.Ji),polygonMember:M(Kp.prototype.Ji)}},Pp={"http://www.opengis.net/gml":{pointMember:M(Kp.prototype.Rn)}},Qp={"http://www.opengis.net/gml":{lineStringMember:M(Kp.prototype.Di),curveMember:M(Kp.prototype.Di)}},Np={"http://www.opengis.net/gml":{exterior:M(Kp.prototype.Ii),interior:M(Kp.prototype.Ii)}},Rp={"http://www.opengis.net/gml":{Curve:M(Kp.prototype.$e),MultiCurve:M(Kp.prototype.Fi),Point:M(Kp.prototype.Hi),MultiPoint:M(Kp.prototype.Qn),
LineString:M(Kp.prototype.$e),MultiLineString:M(Kp.prototype.Fi),LinearRing:M(Kp.prototype.Ei),Polygon:M(Kp.prototype.af),MultiPolygon:M(Kp.prototype.Gi),Surface:M(Kp.prototype.af),MultiSurface:M(Kp.prototype.Gi),Envelope:M(Kp.prototype.Pn)}},Sp={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};Kp.prototype.l=function(a,b){return no("http://www.opengis.net/gml",Sp[b[b.length-1].node.nodeName])};
Kp.prototype.a=function(a,b){var c=b[b.length-1];b=c.multiSurface;var d=c.surface,e=c.curve;c=c.multiCurve;Array.isArray(a)?a="Envelope":(a=a.S(),"MultiPolygon"===a&&!0===b?a="MultiSurface":"Polygon"===a&&!0===d?a="Surface":"LineString"===a&&!0===e?a="Curve":"MultiLineString"===a&&!0===c&&(a="MultiCurve"));return no("http://www.opengis.net/gml",a)};
Kp.prototype.re=function(a,b){b=Io(this,b);var c=no("http://www.opengis.net/gml","geom"),d={node:c,hasZ:this.hasZ,srsName:this.srsName,curve:this.c,surface:this.s,multiSurface:this.j,multiCurve:this.f};b&&kb(d,b);this.Yc(c,a,[d]);return c};
Kp.prototype.bc=function(a,b){b=Io(this,b);var c=no("http://www.opengis.net/gml","featureMembers");c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var d={srsName:this.srsName,hasZ:this.hasZ,curve:this.c,surface:this.s,multiSurface:this.j,multiCurve:this.f,featureNS:this.featureNS,featureType:this.featureType};b&&kb(d,b);b=[d];var e=b[b.length-1];d=e.featureType;var f=e.featureNS,g={};g[f]={};g[f][d]=M(this.Ci,this);e=kb({},e);e.node=c;Do(e,g,
yo(d,f),a,b);return c};function Tp(a){a=a?a:{};Zo.call(this,a);this.b["http://www.opengis.net/gml"].featureMember=uo(Zo.prototype.ge);this.schemaLocation=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}w(Tp,Zo);k=Tp.prototype;
k.uj=function(a,b){a=oo(a,!1).replace(/^\s*|\s*$/g,"");var c=b[0].srsName;b="enu";c&&(c=Ob(c))&&(b=c.b);a=a.trim().split(/\s+/);for(var d,e,f=[],g=0,h=a.length;g<h;g++)e=a[g].split(/,+/),c=parseFloat(e[0]),d=parseFloat(e[1]),e=3===e.length?parseFloat(e[2]):0,"en"===b.substr(0,2)?f.push(c,d,e):f.push(d,c,e);return f};k.Up=function(a,b){a=O([null],this.dk,a,b,this);return Na(a[1][0],a[1][1],a[1][3],a[1][4])};k.Dm=function(a,b){(a=O(void 0,this.ue,a,b,this))&&b[b.length-1].push(a)};
k.Ep=function(a,b){(a=O(void 0,this.ue,a,b,this))&&(b[b.length-1][0]=a)};k.te={"http://www.opengis.net/gml":{coordinates:vo(Tp.prototype.uj)}};k.Gf={"http://www.opengis.net/gml":{innerBoundaryIs:Tp.prototype.Dm,outerBoundaryIs:Tp.prototype.Ep}};k.dk={"http://www.opengis.net/gml":{coordinates:uo(Tp.prototype.uj)}};
k.qh={"http://www.opengis.net/gml":{Point:vo(Zo.prototype.Aj),MultiPoint:vo(Zo.prototype.yj),LineString:vo(Zo.prototype.sf),MultiLineString:vo(Zo.prototype.xj),LinearRing:vo(Zo.prototype.wj),Polygon:vo(Zo.prototype.tf),MultiPolygon:vo(Zo.prototype.zj),Box:vo(Tp.prototype.Up)}};
k.wg=function(a,b){var c=b[b.length-1];b=c.multiSurface;var d=c.surface;c=c.multiCurve;Array.isArray(a)?a="Envelope":(a=a.S(),"MultiPolygon"===a&&!0===b?a="MultiSurface":"Polygon"===a&&!0===d?a="Surface":"MultiLineString"===a&&!0===c&&(a="MultiCurve"));return no("http://www.opengis.net/gml",a)};k.ui=function(a,b,c){var d=c[c.length-1],e=kb({},d);e.node=a;var f;Array.isArray(b)?d.dataProjection?f=bc(b,d.featureProjection,d.dataProjection):f=b:f=Jo(b,!0,d);Do(e,Up,this.wg,[f],c,void 0,this)};
k.Ye=function(a,b,c){var d=c[c.length-1].srsName;"LineStringSegment"!==a.nodeName&&d&&a.setAttribute("srsName",d);"LineString"===a.nodeName||"LineStringSegment"===a.nodeName?(d=Vp(a.namespaceURI),a.appendChild(d),Wp(d,b,c)):"Curve"===a.nodeName&&(d=no(a.namespaceURI,"segments"),a.appendChild(d),a=no(d.namespaceURI,"LineStringSegment"),d.appendChild(a),this.Ye(a,b,c))};function Vp(a){a=no(a,"coordinates");a.setAttribute("decimal",".");a.setAttribute("cs",",");a.setAttribute("ts"," ");return a}
function Wp(a,b,c){var d=c[c.length-1];c=d.hasZ;d=d.srsName;b=b.W();for(var e=b.length,f=Array(e),g,h=0;h<e;++h)g=b[h],f[h]=Xp(g,d,c);ip(a,f.join(" "))}
k.Ze=function(a,b,c){var d=c[c.length-1],e=d.hasZ;d=d.srsName;"PolygonPatch"!==a.nodeName&&d&&a.setAttribute("srsName",d);"Polygon"===a.nodeName||"PolygonPatch"===a.nodeName?(b=b.Ud(),Do({node:a,hasZ:e,srsName:d},Yp,this.Kn,b,c,void 0,this)):"Surface"===a.nodeName&&(e=no(a.namespaceURI,"patches"),a.appendChild(e),a=no(e.namespaceURI,"PolygonPatch"),e.appendChild(a),this.Ze(a,b,c))};
k.Kn=function(a,b){a=b[b.length-1];b=a.node;var c=a.exteriorWritten;void 0===c&&(a.exteriorWritten=!0);return no(b.namespaceURI,void 0!==c?"innerBoundaryIs":"outerBoundaryIs")};k.Ai=function(a,b,c){var d=no(a.namespaceURI,"LinearRing");a.appendChild(d);this.wi(d,b,c)};function Xp(a,b,c){var d="enu";b&&(d=Ob(b).b);b="en"===d.substr(0,2)?a[0]+","+a[1]:a[1]+","+a[0];c&&(b+=","+(a[2]||0));return b}
k.xi=function(a,b,c){var d=c[c.length-1],e=d.hasZ,f=d.srsName;d=d.curve;f&&a.setAttribute("srsName",f);b=b.wd();Do({node:a,hasZ:e,srsName:f,curve:d},Zp,this.a,b,c,void 0,this)};k.zi=function(a,b,c){var d=c[c.length-1];c=d.hasZ;var e=d.srsName;e&&a.setAttribute("srsName",e);d=Vp(a.namespaceURI);a.appendChild(d);a=b.W();a=Xp(a,e,c);ip(d,a)};
k.Mn=function(a,b,c){var d=c[c.length-1],e=d.hasZ;(d=d.srsName)&&a.setAttribute("srsName",d);b=b.de();Do({node:a,hasZ:e,srsName:d},$p,yo("pointMember"),b,c,void 0,this)};k.Nn=function(a,b,c){var d=no(a.namespaceURI,"Point");a.appendChild(d);this.zi(d,b,c)};k.vi=function(a,b,c){var d=this.wg(b,c);d&&(a.appendChild(d),this.Ye(d,b,c))};k.wi=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);d=Vp(a.namespaceURI);a.appendChild(d);Wp(d,b,c)};
k.yi=function(a,b,c){var d=c[c.length-1],e=d.hasZ,f=d.srsName;d=d.surface;f&&a.setAttribute("srsName",f);b=b.Vd();Do({node:a,hasZ:e,srsName:f,surface:d},aq,this.a,b,c,void 0,this)};k.Bi=function(a,b,c){var d=this.wg(b,c);d&&(a.appendChild(d),this.Ze(d,b,c))};k.Ln=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d);Do({node:a},bq,Ao,[b[0]+" "+b[1],b[2]+" "+b[3]],c,["lowerCorner","upperCorner"],this)};
var Up={"http://www.opengis.net/gml":{Curve:M(Tp.prototype.Ye),MultiCurve:M(Tp.prototype.xi),Point:M(Tp.prototype.zi),MultiPoint:M(Tp.prototype.Mn),LineString:M(Tp.prototype.Ye),MultiLineString:M(Tp.prototype.xi),LinearRing:M(Tp.prototype.wi),Polygon:M(Tp.prototype.Ze),MultiPolygon:M(Tp.prototype.yi),Surface:M(Tp.prototype.Ze),MultiSurface:M(Tp.prototype.yi),Envelope:M(Tp.prototype.Ln)}},Yp={"http://www.opengis.net/gml":{outerBoundaryIs:M(Tp.prototype.Ai),innerBoundaryIs:M(Tp.prototype.Ai)}},$p={"http://www.opengis.net/gml":{pointMember:M(Tp.prototype.Nn)}},
Zp={"http://www.opengis.net/gml":{lineStringMember:M(Tp.prototype.vi),curveMember:M(Tp.prototype.vi)}};Tp.prototype.a=function(a,b){return no("http://www.opengis.net/gml",cq[b[b.length-1].node.nodeName])};var cq={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},aq={"http://www.opengis.net/gml":{surfaceMember:M(Tp.prototype.Bi),polygonMember:M(Tp.prototype.Bi)}},bq={"http://www.opengis.net/gml":{lowerCorner:M(ip),upperCorner:M(ip)}};function dq(a){a=a?a:{};Wo.call(this);this.defaultDataProjection=Ob("EPSG:4326");this.b=a.readExtensions}w(dq,Wo);var eq=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"];function fq(a,b,c,d){a.push(parseFloat(c.getAttribute("lon")),parseFloat(c.getAttribute("lat")));"ele"in d?(a.push(d.ele),delete d.ele,b.hasZ=!0):a.push(0);"time"in d?(a.push(d.time),delete d.time,b.hasM=!0):a.push(0);return a}
function gq(a,b,c){var d="XY",e=2;a.hasZ&&a.hasM?(d="XYZM",e=4):a.hasZ?(d="XYZ",e=3):a.hasM&&(d="XYM",e=3);if(4!==e){var f;var g=0;for(f=b.length/4;g<f;g++)b[g*e]=b[4*g],b[g*e+1]=b[4*g+1],a.hasZ&&(b[g*e+2]=b[4*g+2]),a.hasM&&(b[g*e+2]=b[4*g+3]);b.length=b.length/4*e;if(c)for(g=0,f=c.length;g<f;g++)c[g]=c[g]/4*e}return d}function hq(a,b){var c=b[b.length-1],d=a.getAttribute("href");null!==d&&(c.link=d);Co(iq,a,b)}function jq(a,b){b[b.length-1].extensionsNode_=a}
function kq(a,b){var c=b[0];if(a=O({flatCoordinates:[],layoutOptions:{}},lq,a,b)){b=a.flatCoordinates;delete a.flatCoordinates;var d=a.layoutOptions;delete a.layoutOptions;d=gq(d,b);var e=new I(null);e.ba(d,b);Jo(e,!1,c);c=new Hk(e);c.H(a);return c}}
function mq(a,b){var c=b[0];if(a=O({flatCoordinates:[],ends:[],layoutOptions:{}},nq,a,b)){b=a.flatCoordinates;delete a.flatCoordinates;var d=a.ends;delete a.ends;var e=a.layoutOptions;delete a.layoutOptions;e=gq(e,b,d);var f=new P(null);f.ba(e,b,d);Jo(f,!1,c);c=new Hk(f);c.H(a);return c}}function oq(a,b){var c=b[0];if(b=O({},pq,a,b)){var d={};a=fq([],d,a,b);d=gq(d,a);a=new C(a,d);Jo(a,!1,c);c=new Hk(a);c.H(b);return c}}
var qq={rte:kq,trk:mq,wpt:oq},rq=N(eq,{rte:uo(kq),trk:uo(mq),wpt:uo(oq)}),iq=N(eq,{text:L(R,"linkText"),type:L(R,"linkType")}),lq=N(eq,{name:L(R),cmt:L(R),desc:L(R),src:L(R),link:hq,number:L(fp),extensions:jq,type:L(R),rtept:function(a,b){var c=O({},sq,a,b);c&&(b=b[b.length-1],fq(b.flatCoordinates,b.layoutOptions,a,c))}}),sq=N(eq,{ele:L(dp),time:L(cp)}),nq=N(eq,{name:L(R),cmt:L(R),desc:L(R),src:L(R),link:hq,number:L(fp),type:L(R),extensions:jq,trkseg:function(a,b){var c=b[b.length-1];Co(tq,a,b);c.ends.push(c.flatCoordinates.length)}}),
tq=N(eq,{trkpt:function(a,b){var c=O({},uq,a,b);c&&(b=b[b.length-1],fq(b.flatCoordinates,b.layoutOptions,a,c))}}),uq=N(eq,{ele:L(dp),time:L(cp)}),pq=N(eq,{ele:L(dp),time:L(cp),magvar:L(dp),geoidheight:L(dp),name:L(R),cmt:L(R),desc:L(R),src:L(R),link:hq,sym:L(R),type:L(R),fix:L(R),sat:L(fp),hdop:L(dp),vdop:L(dp),pdop:L(dp),ageofdgpsdata:L(dp),dgpsid:L(fp),extensions:jq});
function vq(a,b){b||(b=[]);for(var c=0,d=b.length;c<d;++c){var e=b[c];if(a.b){var f=e.get("extensionsNode_")||null;a.b(e,f)}e.set("extensionsNode_",void 0)}}dq.prototype.Lg=function(a,b){if(!ec(eq,a.namespaceURI))return null;var c=qq[a.localName];if(!c)return null;a=c(a,[Ho(this,a,b)]);if(!a)return null;vq(this,[a]);return a};dq.prototype.Kc=function(a,b){return ec(eq,a.namespaceURI)?"gpx"==a.localName&&(a=O([],rq,a,[Ho(this,a,b)]))?(vq(this,a),a):[]:[]};
function wq(a,b,c){a.setAttribute("href",b);b=c[c.length-1].properties;Do({node:a},xq,Ao,[b.linkText,b.linkType],c,yq)}function zq(a,b,c){var d=c[c.length-1],e=d.node.namespaceURI,f=d.properties;a.setAttributeNS(null,"lat",b[1]);a.setAttributeNS(null,"lon",b[0]);switch(d.geometryLayout){case "XYZM":0!==b[3]&&(f.time=b[3]);case "XYZ":0!==b[2]&&(f.ele=b[2]);break;case "XYM":0!==b[2]&&(f.time=b[2])}b="rtept"==a.nodeName?Aq[e]:Bq[e];d=Bo(f,b);Do({node:a,properties:f},Cq,Ao,d,c,b)}
var yq=["text","type"],xq=N(eq,{text:M(ip),type:M(ip)}),Dq=N(eq,"name cmt desc src link number type rtept".split(" ")),Eq=N(eq,{name:M(ip),cmt:M(ip),desc:M(ip),src:M(ip),link:M(wq),number:M(Jp),type:M(ip),rtept:xo(M(zq))}),Aq=N(eq,["ele","time"]),Fq=N(eq,"name cmt desc src link number type trkseg".split(" ")),Iq=N(eq,{name:M(ip),cmt:M(ip),desc:M(ip),src:M(ip),link:M(wq),number:M(Jp),type:M(ip),trkseg:xo(M(function(a,b,c){Do({node:a,geometryLayout:b.ja,properties:{}},Gq,Hq,b.W(),c)}))}),Hq=yo("trkpt"),
Gq=N(eq,{trkpt:M(zq)}),Bq=N(eq,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),Cq=N(eq,{ele:M(Ip),time:M(function(a,b){b=new Date(1E3*b);a.appendChild(mo.createTextNode(b.getUTCFullYear()+"-"+xe(b.getUTCMonth()+1)+"-"+xe(b.getUTCDate())+"T"+xe(b.getUTCHours())+":"+xe(b.getUTCMinutes())+":"+xe(b.getUTCSeconds())+"Z"))}),magvar:M(Ip),geoidheight:M(Ip),name:M(ip),cmt:M(ip),desc:M(ip),src:M(ip),link:M(wq),sym:M(ip),type:M(ip),fix:M(ip),
sat:M(Jp),hdop:M(Ip),vdop:M(Ip),pdop:M(Ip),ageofdgpsdata:M(Ip),dgpsid:M(Jp)}),Jq={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function Kq(a,b){if(a=a.U())if(a=Jq[a.S()])return no(b[b.length-1].node.namespaceURI,a)}
var Lq=N(eq,{rte:M(function(a,b,c){var d=c[0],e=b.L();a={node:a,properties:e};if(b=b.U())b=Jo(b,!0,d),a.geometryLayout=b.ja,e.rtept=b.W();d=Dq[c[c.length-1].node.namespaceURI];e=Bo(e,d);Do(a,Eq,Ao,e,c,d)}),trk:M(function(a,b,c){var d=c[0],e=b.L();a={node:a,properties:e};if(b=b.U())b=Jo(b,!0,d),e.trkseg=b.wd();d=Fq[c[c.length-1].node.namespaceURI];e=Bo(e,d);Do(a,Iq,Ao,e,c,d)}),wpt:M(function(a,b,c){var d=c[0],e=c[c.length-1];e.properties=b.L();if(b=b.U())b=Jo(b,!0,d),e.geometryLayout=b.ja,zq(a,b.W(),
c)})});dq.prototype.bc=function(a,b){b=Io(this,b);var c=no("http://www.topografix.com/GPX/1/1","gpx");c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance");c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd");c.setAttribute("version","1.1");c.setAttribute("creator","OpenLayers");Do({node:c},Lq,Kq,a,[b]);return c};function Mq(a){gf.call(this);this.a=a?a:null;Nq(this)}w(Mq,gf);function Oq(a){var b=[],c;var d=0;for(c=a.length;d<c;++d)b.push(a[d].clone());return b}function Pq(a){var b;if(a.a){var c=0;for(b=a.a.length;c<b;++c)Mc(a.a[c],"change",a.u,a)}}function Nq(a){var b;if(a.a){var c=0;for(b=a.a.length;c<b;++c)y(a.a[c],"change",a.u,a)}}k=Mq.prototype;k.clone=function(){var a=new Mq(null);a.Kj(this.a);return a};
k.Nb=function(a,b,c,d){if(d<Ha(this.G(),a,b))return d;var e=this.a,f;var g=0;for(f=e.length;g<f;++g)d=e[g].Nb(a,b,c,d);return d};k.Zc=function(a,b){var c=this.a,d;var e=0;for(d=c.length;e<d;++e)if(c[e].Zc(a,b))return!0;return!1};k.Ae=function(a){Oa(a);for(var b=this.a,c=0,d=b.length;c<d;++c)Ta(a,b[c].G());return a};k.vd=function(){return Oq(this.a)};
k.Wd=function(a){this.l!=this.g&&(lb(this.i),this.f=0,this.l=this.g);if(0>a||0!==this.f&&a<this.f)return this;var b=a.toString();if(this.i.hasOwnProperty(b))return this.i[b];var c=[],d=this.a,e=!1,f;var g=0;for(f=d.length;g<f;++g){var h=d[g],l=h.Wd(a);c.push(l);l!==h&&(e=!0)}if(e)return a=new Mq(null),Pq(a),a.a=c,Nq(a),a.u(),this.i[b]=a;this.f=a;return this};k.S=function(){return"GeometryCollection"};k.$a=function(a){var b=this.a,c;var d=0;for(c=b.length;d<c;++d)if(b[d].$a(a))return!0;return!1};
k.rotate=function(a,b){for(var c=this.a,d=0,e=c.length;d<e;++d)c[d].rotate(a,b);this.u()};k.scale=function(a,b,c){c||(c=eb(this.G()));for(var d=this.a,e=0,f=d.length;e<f;++e)d[e].scale(a,b,c);this.u()};k.Kj=function(a){a=Oq(a);Pq(this);this.a=a;Nq(this);this.u()};k.Rc=function(a){var b=this.a,c;var d=0;for(c=b.length;d<c;++d)b[d].Rc(a);this.u()};k.translate=function(a,b){var c=this.a,d;var e=0;for(d=c.length;e<d;++e)c[e].translate(a,b);this.u()};k.ia=function(){Pq(this);gf.prototype.ia.call(this)};function Qq(a){a=a?a:{};Go.call(this);this.defaultDataProjection=Ob(a.defaultDataProjection?a.defaultDataProjection:"EPSG:4326");a.featureProjection&&(this.i=Ob(a.featureProjection));this.b=a.geometryName;this.a=a.extractGeometryName}w(Qq,Ko);function Rq(a,b){return a?Jo((0,Sq[a.type])(a),!1,b):null}function Tq(a,b){return(0,Uq[a.S()])(Jo(a,!0,b),b)}
var Sq={Point:function(a){return new C(a.coordinates)},LineString:function(a){return new I(a.coordinates)},Polygon:function(a){return new D(a.coordinates)},MultiPoint:function(a){return new No(a.coordinates)},MultiLineString:function(a){return new P(a.coordinates)},MultiPolygon:function(a){return new Q(a.coordinates)},GeometryCollection:function(a,b){a=a.geometries.map(function(a){return Rq(a,b)});return new Mq(a)}},Uq={Point:function(a){return{type:"Point",coordinates:a.W()}},LineString:function(a){return{type:"LineString",
coordinates:a.W()}},Polygon:function(a,b){if(b)var c=b.rightHanded;return{type:"Polygon",coordinates:a.W(c)}},MultiPoint:function(a){return{type:"MultiPoint",coordinates:a.W()}},MultiLineString:function(a){return{type:"MultiLineString",coordinates:a.W()}},MultiPolygon:function(a,b){if(b)var c=b.rightHanded;return{type:"MultiPolygon",coordinates:a.W(c)}},GeometryCollection:function(a,b){return{type:"GeometryCollection",geometries:a.a.map(function(a){var c=kb({},b);delete c.featureProjection;return Tq(a,
c)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};k=Qq.prototype;k.dd=function(a,b){a="Feature"===a.type?a:{type:"Feature",geometry:a};b=Rq(a.geometry,b);var c=new Hk;this.b?c.Lc(this.b):this.a&&void 0!==a.geometry_name&&c.Lc(a.geometry_name);c.Va(b);void 0!==a.id&&c.qc(a.id);a.properties&&c.H(a.properties);return c};
k.Mg=function(a,b){if("FeatureCollection"===a.type){var c=[];a=a.features;var d;var e=0;for(d=a.length;e<d;++e)c.push(this.dd(a[e],b))}else c=[this.dd(a,b)];return c};k.Qg=function(a,b){return Rq(a,b)};k.Tg=function(a){a=a.crs;var b;a?"name"==a.type?b=Ob(a.properties.name):oa(!1,36):b=this.defaultDataProjection;return b};
k.ld=function(a,b){b=Io(this,b);var c={type:"Feature"},d=a.c;void 0!==d&&(c.id=d);(d=a.U())?c.geometry=Tq(d,b):c.geometry=null;b=a.L();delete b[a.a];nb(b)?c.properties=null:c.properties=b;return c};k.qe=function(a,b){b=Io(this,b);var c=[],d;var e=0;for(d=a.length;e<d;++e)c.push(this.ld(a[e],b));return{type:"FeatureCollection",features:c}};k.se=function(a,b){return Tq(a,Io(this,b))};function Vq(){Go.call(this)}w(Vq,Go);function Wq(a){return"string"===typeof a?a:""}k=Vq.prototype;k.S=function(){return"text"};k.Yb=function(a,b){return this.fe(Wq(a),Io(this,b))};k.Qa=function(a,b){return this.Ng(Wq(a),Io(this,b))};k.ed=function(a,b){return this.Gd(Wq(a),Io(this,b))};k.sb=function(){return this.defaultDataProjection};k.Jd=function(a,b){return this.pe(a,Io(this,b))};k.ac=function(a,b){return this.nh(a,Io(this,b))};k.md=function(a,b){return this.Kd(a,Io(this,b))};function Xq(a){a=a?a:{};Go.call(this);this.defaultDataProjection=Ob("EPSG:4326");this.b=a.altitudeMode?a.altitudeMode:"none"}w(Xq,Vq);var Yq=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,Zq=/^H.([A-Z]{3}).*?:(.*)/,$q=/^HFDTE(\d{2})(\d{2})(\d{2})/,ar=/\r\n|\r|\n/;k=Xq.prototype;
k.fe=function(a,b){var c=this.b,d=a.split(ar);a={};var e=[],f=2E3,g=0,h=1,l=-1,m;var n=0;for(m=d.length;n<m;++n){var p=d[n],q;if("B"==p.charAt(0)){if(q=Yq.exec(p)){p=parseInt(q[1],10);var r=parseInt(q[2],10),u=parseInt(q[3],10),v=parseInt(q[4],10)+parseInt(q[5],10)/6E4;"S"==q[6]&&(v=-v);var z=parseInt(q[7],10)+parseInt(q[8],10)/6E4;"W"==q[9]&&(z=-z);e.push(z,v);"none"!=c&&e.push("gps"==c?parseInt(q[11],10):"barometric"==c?parseInt(q[12],10):0);q=Date.UTC(f,g,h,p,r,u);q<l&&(q=Date.UTC(f,g,h+1,p,r,
u));e.push(q/1E3);l=q}}else"H"==p.charAt(0)&&((q=$q.exec(p))?(h=parseInt(q[1],10),g=parseInt(q[2],10)-1,f=2E3+parseInt(q[3],10)):(q=Zq.exec(p))&&(a[q[1]]=q[2].trim()))}if(0===e.length)return null;d=new I(null);d.ba("none"==c?"XYM":"XYZM",e);b=new Hk(Jo(d,!1,b));b.H(a);return b};k.Ng=function(a,b){return(a=this.fe(a,b))?[a]:[]};k.pe=function(){};k.nh=function(){};k.Kd=function(){};k.Gd=function(){};function br(a,b,c,d,e,f){Sc.call(this);this.j=null;this.M=a?a:new Image;null!==d&&(this.M.crossOrigin=d);this.c=f?document.createElement("CANVAS"):null;this.f=f;this.i=null;this.g=e;this.a=c;this.l=b;this.s=!1;2==this.g&&cr(this)}w(br,Sc);function cr(a){var b=hg(1,1);try{b.drawImage(a.M,0,0),b.getImageData(0,0,1,1)}catch(c){a.s=!0}}br.prototype.v=function(){this.g=3;this.i.forEach(Gc);this.i=null;this.b("change")};
br.prototype.o=function(){this.g=2;this.a&&(this.M.width=this.a[0],this.M.height=this.a[1]);this.a=[this.M.width,this.M.height];this.i.forEach(Gc);this.i=null;cr(this);if(!this.s&&null!==this.f){this.c.width=this.M.width;this.c.height=this.M.height;var a=this.c.getContext("2d");a.drawImage(this.M,0,0);for(var b=a.getImageData(0,0,this.M.width,this.M.height),c=b.data,d=this.f[0]/255,e=this.f[1]/255,f=this.f[2]/255,g=0,h=c.length;g<h;g+=4)c[g]*=d,c[g+1]*=e,c[g+2]*=f;a.putImageData(b,0,0)}this.b("change")};
br.prototype.Y=function(){return this.c?this.c:this.M};br.prototype.load=function(){if(0==this.g){this.g=1;this.i=[Lc(this.M,"error",this.v,this),Lc(this.M,"load",this.o,this)];try{this.M.src=this.l}catch(a){this.v()}}};function dr(a){a=a||{};this.l=void 0!==a.anchor?a.anchor:[.5,.5];this.o=null;this.g=void 0!==a.anchorOrigin?a.anchorOrigin:"top-left";this.C=void 0!==a.anchorXUnits?a.anchorXUnits:"fraction";this.B=void 0!==a.anchorYUnits?a.anchorYUnits:"fraction";this.qa=void 0!==a.crossOrigin?a.crossOrigin:null;var b=void 0!==a.img?a.img:null,c=void 0!==a.imgSize?a.imgSize:null,d=a.src;oa(!(void 0!==d&&b),4);oa(!b||b&&c,5);void 0!==d&&0!==d.length||!b||(d=b.src||x(b).toString());oa(void 0!==d&&0<d.length,6);var e=
void 0!==a.src?0:2;this.j=void 0!==a.color?vi(a.color):null;var f=this.qa,g=this.j,h=ej.get(d,f,g);h||(h=new br(b,d,c,f,e,g),ej.set(d,f,g,h));this.b=h;this.oa=void 0!==a.offset?a.offset:[0,0];this.c=void 0!==a.offsetOrigin?a.offsetOrigin:"top-left";this.N=null;this.D=void 0!==a.size?a.size:null;vk.call(this,{opacity:void 0!==a.opacity?a.opacity:1,rotation:void 0!==a.rotation?a.rotation:0,scale:void 0!==a.scale?a.scale:1,snapToPixel:void 0!==a.snapToPixel?a.snapToPixel:!0,rotateWithView:void 0!==a.rotateWithView?
a.rotateWithView:!1})}w(dr,vk);k=dr.prototype;k.clone=function(){return new dr({anchor:this.l.slice(),anchorOrigin:this.g,anchorXUnits:this.C,anchorYUnits:this.B,crossOrigin:this.qa,color:this.j&&this.j.slice?this.j.slice():this.j||void 0,src:this.b.l,offset:this.oa.slice(),offsetOrigin:this.c,size:null!==this.D?this.D.slice():void 0,opacity:this.i,scale:this.a,snapToPixel:this.v,rotation:this.f,rotateWithView:this.s})};
k.Vc=function(){if(this.o)return this.o;var a=this.l,b=this.oc();if("fraction"==this.C||"fraction"==this.B){if(!b)return null;a=this.l.slice();"fraction"==this.C&&(a[0]*=b[0]);"fraction"==this.B&&(a[1]*=b[1])}if("top-left"!=this.g){if(!b)return null;a===this.l&&(a=this.l.slice());if("top-right"==this.g||"bottom-right"==this.g)a[0]=-a[0]+b[0];if("bottom-left"==this.g||"bottom-right"==this.g)a[1]=-a[1]+b[1]}return this.o=a};k.np=function(){return this.j};k.Y=function(a){return this.b.Y(a)};k.He=function(){return this.b.a};
k.gf=function(){return this.b.g};k.Eg=function(){var a=this.b;if(!a.j)if(a.s){var b=a.a[0],c=a.a[1],d=hg(b,c);d.fillRect(0,0,b,c);a.j=d.canvas}else a.j=a.M;return a.j};k.bd=function(){if(this.N)return this.N;var a=this.oa;if("top-left"!=this.c){var b=this.oc(),c=this.b.a;if(!b||!c)return null;a=a.slice();if("top-right"==this.c||"bottom-right"==this.c)a[0]=c[0]-b[0]-a[0];if("bottom-left"==this.c||"bottom-right"==this.c)a[1]=c[1]-b[1]-a[1]}return this.N=a};k.op=function(){return this.b.l};
k.oc=function(){return this.D?this.D:this.b.a};k.gi=function(a,b){y(this.b,"change",a,b)};k.load=function(){this.b.load()};k.Yj=function(a,b){Mc(this.b,"change",a,b)};function er(a){a=a?a:{};Wo.call(this);fr||(gr=[255,255,255,1],hr=new zk({color:gr}),ir=[20,2],jr=kr="pixels",lr=[64,64],mr="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",nr=.5,or=new dr({anchor:ir,anchorOrigin:"bottom-left",anchorXUnits:kr,anchorYUnits:jr,crossOrigin:"anonymous",rotation:0,scale:nr,size:lr,src:mr}),pr="NO_IMAGE",qr=new Ak({color:gr,width:1}),rr=new Ak({color:[51,51,51,1],width:2}),sr=new J({font:"bold 16px Helvetica",fill:hr,stroke:rr,scale:.8}),tr=new Bk({fill:hr,
image:or,text:sr,stroke:qr,zIndex:0}),fr=[tr]);this.defaultDataProjection=Ob("EPSG:4326");this.a=a.defaultStyle?a.defaultStyle:fr;this.c=void 0!==a.extractStyles?a.extractStyles:!0;this.j=void 0!==a.writeStyles?a.writeStyles:!0;this.b={};this.f=void 0!==a.showPointNames?a.showPointNames:!0}var fr,gr,hr,ir,kr,jr,lr,mr,nr,or,pr,qr,rr,sr,tr;w(er,Wo);
var ur=["http://www.google.com/kml/ext/2.2"],vr=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],wr={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"};
function xr(a,b){var c=[0,0],d="start";if(a.Y()){var e=a.Y().He();null===e&&(e=lr);2==e.length&&(d=a.Y().a,c[0]=d*e[0]/2,c[1]=-d*e[1]/2,d="left")}null!==a.Ka()?(e=a.Ka(),a=e.clone(),a.Jj(e.a||sr.a),a.lj(e.b||sr.b),a.yf(e.Fa()||sr.Fa()),a.Af(e.Ga()||rr)):a=sr.clone();a.Hd(b);a.Nj(c[0]);a.Oj(c[1]);a.Qj(d);return new Bk({text:a})}
function yr(a,b,c,d,e){return function(){var f=e,g="";f&&this.U()&&(f="Point"===this.U().S());f&&(g=this.get("name"),f=f&&g);if(a)return f?(f=xr(a[0],g),a.concat(f)):a;if(b){var h=zr(b,c,d);return f?(f=xr(h[0],g),h.concat(f)):h}return f?(f=xr(c[0],g),c.concat(f)):c}}function zr(a,b,c){return Array.isArray(a)?a:"string"===typeof a?(!(a in c)&&"#"+a in c&&(a="#"+a),zr(c[a],b,c)):b}
function Ar(a){a=oo(a,!1);if(a=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(a))return a=a[1],[parseInt(a.substr(6,2),16),parseInt(a.substr(4,2),16),parseInt(a.substr(2,2),16),parseInt(a.substr(0,2),16)/255]}function Br(a){a=oo(a,!1);for(var b=[],c=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i,d;d=c.exec(a);)b.push(parseFloat(d[1]),parseFloat(d[2]),d[3]?parseFloat(d[3]):0),a=a.substr(d[0].length);if(""===a)return b}
function Cr(a){var b=oo(a,!1).trim();a=a.baseURI;a&&"about:blank"!=a||(a=window.location.href);return a?(new URL(b,a)).href:b}function Dr(a){return dp(a)}function Er(a,b){return O(null,Fr,a,b)}function Gr(a,b){if(b=O({A:[],ak:[]},Hr,a,b)){a=b.A;b=b.ak;var c;var d=0;for(c=Math.min(a.length,b.length);d<c;++d)a[4*d+3]=b[d];b=new I(null);b.ba("XYZM",a);return b}}function Ir(a,b){var c=O({},Jr,a,b);if(a=O(null,Kr,a,b))return b=new I(null),b.ba("XYZ",a),b.H(c),b}
function Lr(a,b){var c=O({},Jr,a,b);if(a=O(null,Kr,a,b))return b=new D(null),b.ba("XYZ",a,[a.length]),b.H(c),b}
function Mr(a,b){a=O([],Nr,a,b);if(!a)return null;if(0===a.length)return new Mq(a);var c=!0,d=a[0].S(),e;var f=1;for(e=a.length;f<e;++f)if(b=a[f],b.S()!=d){c=!1;break}if(c)if("Point"==d){var g=a[0];c=g.ja;d=g.da();f=1;for(e=a.length;f<e;++f)b=a[f],gc(d,b.da());g=new No(null);g.ba(c,d);Or(g,a)}else"LineString"==d?(g=new P(null),Mo(g,a),Or(g,a)):"Polygon"==d?(g=new Q(null),Oo(g,a),Or(g,a)):"GeometryCollection"==d?g=new Mq(a):oa(!1,37);else g=new Mq(a);return g}
function Pr(a,b){var c=O({},Jr,a,b);if(a=O(null,Kr,a,b))return b=new C(null),b.ba("XYZ",a),b.H(c),b}function Qr(a,b){var c=O({},Jr,a,b);if((a=O([null],Rr,a,b))&&a[0]){b=new D(null);var d=a[0],e=[d.length],f;var g=1;for(f=a.length;g<f;++g)gc(d,a[g]),e.push(d.length);b.ba("XYZ",d,e);b.H(c);return b}}
function Sr(a,b){b=O({},Tr,a,b);if(!b)return null;a="fillStyle"in b?b.fillStyle:hr;var c=b.fill;void 0===c||c||(a=null);c="imageStyle"in b?b.imageStyle:or;c==pr&&(c=void 0);var d="textStyle"in b?b.textStyle:sr,e="strokeStyle"in b?b.strokeStyle:qr;b=b.outline;void 0===b||b||(e=null);return[new Bk({fill:a,image:c,stroke:e,text:d,zIndex:void 0})]}
function Or(a,b){var c=b.length,d=Array(b.length),e=Array(b.length),f=Array(b.length),g,h,l;var m=h=l=!1;for(g=0;g<c;++g){var n=b[g];d[g]=n.get("extrude");e[g]=n.get("tessellate");f[g]=n.get("altitudeMode");m=m||void 0!==d[g];h=h||void 0!==e[g];l=l||f[g]}m&&a.set("extrude",d);h&&a.set("tessellate",e);l&&a.set("altitudeMode",f)}function Ur(a,b){Co(Vr,a,b)}function Wr(a,b){Co(Xr,a,b)}
var Yr=N(vr,{displayName:L(R),value:L(R)}),Vr=N(vr,{Data:function(a,b){var c=a.getAttribute("name");Co(Yr,a,b);a=b[b.length-1];null!==c?a[c]=a.value:null!==a.displayName&&(a[a.displayName]=a.value);delete a.value},SchemaData:function(a,b){Co(Zr,a,b)}}),Xr=N(vr,{LatLonAltBox:function(a,b){if(a=O({},$r,a,b))b=b[b.length-1],b.extent=[parseFloat(a.west),parseFloat(a.south),parseFloat(a.east),parseFloat(a.north)],b.altitudeMode=a.altitudeMode,b.minAltitude=parseFloat(a.minAltitude),b.maxAltitude=parseFloat(a.maxAltitude)},
Lod:function(a,b){if(a=O({},as,a,b))b=b[b.length-1],b.minLodPixels=parseFloat(a.minLodPixels),b.maxLodPixels=parseFloat(a.maxLodPixels),b.minFadeExtent=parseFloat(a.minFadeExtent),b.maxFadeExtent=parseFloat(a.maxFadeExtent)}}),$r=N(vr,{altitudeMode:L(R),minAltitude:L(dp),maxAltitude:L(dp),north:L(dp),south:L(dp),east:L(dp),west:L(dp)}),as=N(vr,{minLodPixels:L(dp),maxLodPixels:L(dp),minFadeExtent:L(dp),maxFadeExtent:L(dp)}),Jr=N(vr,{extrude:L(ap),tessellate:L(ap),altitudeMode:L(R)}),Fr=N(vr,{coordinates:vo(Br)}),
Rr=N(vr,{innerBoundaryIs:function(a,b){(a=O(void 0,bs,a,b))&&b[b.length-1].push(a)},outerBoundaryIs:function(a,b){(a=O(void 0,cs,a,b))&&(b[b.length-1][0]=a)}}),Hr=N(vr,{when:function(a,b){b=b[b.length-1].ak;a=oo(a,!1);a=Date.parse(a);b.push(isNaN(a)?0:a)}},N(ur,{coord:function(a,b){b=b[b.length-1].A;a=oo(a,!1);(a=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(a))?b.push(parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]),
0):b.push(0,0,0,0)}})),Kr=N(vr,{coordinates:vo(Br)}),ds=N(vr,{href:L(Cr)},N(ur,{x:L(dp),y:L(dp),w:L(dp),h:L(dp)})),es=N(vr,{Icon:L(function(a,b){return(a=O({},ds,a,b))?a:null}),heading:L(dp),hotSpot:L(function(a){var b=a.getAttribute("xunits"),c=a.getAttribute("yunits");var d="insetPixels"!==b?"insetPixels"!==c?"bottom-left":"top-left":"insetPixels"!==c?"bottom-right":"top-right";return{x:parseFloat(a.getAttribute("x")),oh:wr[b],y:parseFloat(a.getAttribute("y")),ph:wr[c],origin:d}}),scale:L(Dr)}),
bs=N(vr,{LinearRing:vo(Er)}),fs=N(vr,{color:L(Ar),scale:L(Dr)}),gs=N(vr,{color:L(Ar),width:L(dp)}),Nr=N(vr,{LineString:uo(Ir),LinearRing:uo(Lr),MultiGeometry:uo(Mr),Point:uo(Pr),Polygon:uo(Qr)}),hs=N(ur,{Track:uo(Gr)}),js=N(vr,{ExtendedData:Ur,Region:Wr,Link:function(a,b){Co(is,a,b)},address:L(R),description:L(R),name:L(R),open:L(ap),phoneNumber:L(R),visibility:L(ap)}),is=N(vr,{href:L(Cr)}),cs=N(vr,{LinearRing:vo(Er)}),ks=N(vr,{Style:L(Sr),key:L(R),styleUrl:L(Cr)}),ms=N(vr,{ExtendedData:Ur,Region:Wr,
MultiGeometry:L(Mr,"geometry"),LineString:L(Ir,"geometry"),LinearRing:L(Lr,"geometry"),Point:L(Pr,"geometry"),Polygon:L(Qr,"geometry"),Style:L(Sr),StyleMap:function(a,b){if(a=O(void 0,ls,a,b))b=b[b.length-1],Array.isArray(a)?b.Style=a:"string"===typeof a?b.styleUrl=a:oa(!1,38)},address:L(R),description:L(R),name:L(R),open:L(ap),phoneNumber:L(R),styleUrl:L(Cr),visibility:L(ap)},N(ur,{MultiTrack:L(function(a,b){if(a=O([],hs,a,b))return b=new P(null),Mo(b,a),b},"geometry"),Track:L(Gr,"geometry")})),
ns=N(vr,{color:L(Ar),fill:L(ap),outline:L(ap)}),Zr=N(vr,{SimpleData:function(a,b){var c=a.getAttribute("name");null!==c&&(a=R(a),b[b.length-1][c]=a)}}),Tr=N(vr,{IconStyle:function(a,b){if(a=O({},es,a,b)){b=b[b.length-1];var c="Icon"in a?a.Icon:{},d=!("Icon"in a)||0<Object.keys(c).length,e,f=c.href;f?e=f:d&&(e=mr);f="bottom-left";var g=a.hotSpot;if(g){var h=[g.x,g.y];var l=g.oh;var m=g.ph;f=g.origin}else e===mr?(h=ir,l=kr,m=jr):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(e)&&(h=[.5,0],m=l="fraction");
var n;g=c.x;var p=c.y;void 0!==g&&void 0!==p&&(n=[g,p]);var q;g=c.w;c=c.h;void 0!==g&&void 0!==c&&(q=[g,c]);var r;c=a.heading;void 0!==c&&(r=va(c));a=a.scale;d?(e==mr&&(q=lr,void 0===a&&(a=nr)),e=new dr({anchor:h,anchorOrigin:f,anchorXUnits:l,anchorYUnits:m,crossOrigin:"anonymous",offset:n,offsetOrigin:"bottom-left",rotation:r,scale:a,size:q,src:e}),b.imageStyle=e):b.imageStyle=pr}},LabelStyle:function(a,b){(a=O({},fs,a,b))&&(b[b.length-1].textStyle=new J({fill:new zk({color:"color"in a?a.color:gr}),
scale:a.scale}))},LineStyle:function(a,b){(a=O({},gs,a,b))&&(b[b.length-1].strokeStyle=new Ak({color:"color"in a?a.color:gr,width:"width"in a?a.width:1}))},PolyStyle:function(a,b){if(a=O({},ns,a,b)){b=b[b.length-1];b.fillStyle=new zk({color:"color"in a?a.color:gr});var c=a.fill;void 0!==c&&(b.fill=c);a=a.outline;void 0!==a&&(b.outline=a)}}}),ls=N(vr,{Pair:function(a,b){if(a=O({},ks,a,b)){var c=a.key;c&&"normal"==c&&((c=a.styleUrl)&&(b[b.length-1]=c),(a=a.Style)&&(b[b.length-1]=a))}}});k=er.prototype;
k.Jg=function(a,b){var c=N(vr,{Document:to(this.Jg,this),Folder:to(this.Jg,this),Placemark:uo(this.Rg,this),Style:this.kq.bind(this),StyleMap:this.jq.bind(this)});if(a=O([],c,a,b,this))return a};k.Rg=function(a,b){var c=O({geometry:null},ms,a,b);if(c){var d=new Hk;a=a.getAttribute("id");null!==a&&d.qc(a);b=b[0];(a=c.geometry)&&Jo(a,!1,b);d.Va(a);delete c.geometry;this.c&&d.sg(yr(c.Style,c.styleUrl,this.a,this.b,this.f));delete c.Style;d.H(c);return d}};
k.kq=function(a,b){var c=a.getAttribute("id");null!==c&&(b=Sr(a,b))&&(a=a.baseURI,a&&"about:blank"!=a||(a=window.location.href),c=a?(new URL("#"+c,a)).href:"#"+c,this.b[c]=b)};k.jq=function(a,b){var c=a.getAttribute("id");null!==c&&(b=O(void 0,ls,a,b))&&(a=a.baseURI,a&&"about:blank"!=a||(a=window.location.href),c=a?(new URL("#"+c,a)).href:"#"+c,this.b[c]=b)};k.Lg=function(a,b){return ec(vr,a.namespaceURI)?(a=this.Rg(a,[Ho(this,a,b)]))?a:null:null};
k.Kc=function(a,b){if(!ec(vr,a.namespaceURI))return[];var c=a.localName;if("Document"==c||"Folder"==c)return(c=this.Jg(a,[Ho(this,a,b)]))?c:[];if("Placemark"==c)return(b=this.Rg(a,[Ho(this,a,b)]))?[b]:[];if("kml"==c){c=[];for(a=a.firstElementChild;a;a=a.nextElementSibling){var d=this.Kc(a,b);d&&gc(c,d)}return c}return[]};k.cq=function(a){if(qo(a))return os(this,a);if(ro(a))return ps(this,a);if("string"===typeof a)return a=so(a),os(this,a)};
function os(a,b){for(b=b.firstChild;b;b=b.nextSibling)if(b.nodeType==Node.ELEMENT_NODE){var c=ps(a,b);if(c)return c}}function ps(a,b){var c;for(c=b.firstElementChild;c;c=c.nextElementSibling)if(ec(vr,c.namespaceURI)&&"name"==c.localName)return R(c);for(c=b.firstElementChild;c;c=c.nextElementSibling)if(b=c.localName,ec(vr,c.namespaceURI)&&("Document"==b||"Folder"==b||"Placemark"==b||"kml"==b)&&(b=ps(a,c)))return b}
k.eq=function(a){var b=[];qo(a)?gc(b,qs(this,a)):ro(a)?gc(b,rs(this,a)):"string"===typeof a&&(a=so(a),gc(b,qs(this,a)));return b};function qs(a,b){var c=[];for(b=b.firstChild;b;b=b.nextSibling)b.nodeType==Node.ELEMENT_NODE&&gc(c,rs(a,b));return c}
function rs(a,b){var c,d=[];for(c=b.firstElementChild;c;c=c.nextElementSibling)if(ec(vr,c.namespaceURI)&&"NetworkLink"==c.localName){var e=O({},js,c,[]);d.push(e)}for(c=b.firstElementChild;c;c=c.nextElementSibling)b=c.localName,!ec(vr,c.namespaceURI)||"Document"!=b&&"Folder"!=b&&"kml"!=b||gc(d,rs(a,c));return d}k.hq=function(a){var b=[];qo(a)?gc(b,ss(this,a)):ro(a)?gc(b,this.vf(a)):"string"===typeof a&&(a=so(a),gc(b,ss(this,a)));return b};
function ss(a,b){var c=[];for(b=b.firstChild;b;b=b.nextSibling)b.nodeType==Node.ELEMENT_NODE&&gc(c,a.vf(b));return c}k.vf=function(a){var b,c=[];for(b=a.firstElementChild;b;b=b.nextElementSibling)if(ec(vr,b.namespaceURI)&&"Region"==b.localName){var d=O({},Xr,b,[]);c.push(d)}for(b=a.firstElementChild;b;b=b.nextElementSibling)a=b.localName,!ec(vr,b.namespaceURI)||"Document"!=a&&"Folder"!=a&&"kml"!=a||gc(c,this.vf(b));return c};
function ts(a,b){b=vi(b);b=[255*(4==b.length?b[3]:1),b[2],b[1],b[0]];var c;for(c=0;4>c;++c){var d=parseInt(b[c],10).toString(16);b[c]=1==d.length?"0"+d:d}ip(a,b.join(""))}function us(a,b,c){a={node:a};var d=b.S();if("GeometryCollection"==d){var e=b.vd();var f=vs}else"MultiPoint"==d?(e=b.de(),f=ws):"MultiLineString"==d?(e=b.wd(),f=xs):"MultiPolygon"==d?(e=b.Vd(),f=ys):oa(!1,39);Do(a,zs,f,e,c)}function As(a,b,c){Do({node:a},Bs,Cs,[b],c)}
function Ds(a,b,c){var d={node:a};b.c&&a.setAttribute("id",b.c);a=b.L();var e={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};e[b.a]=1;var f=Object.keys(a||{}).sort().filter(function(a){return!e[a]});if(0<f.length){var g=Bo(a,f);Do(d,Es,Fs,[{names:f,values:g}],c)}if(f=b.ib())if(f=f.call(b,0))f=Array.isArray(f)?f[0]:f,this.j&&(a.Style=f),(f=f.Ka())&&(a.name=f.Ka());f=Gs[c[c.length-1].node.namespaceURI];a=Bo(a,f);Do(d,Es,Ao,a,c,f);a=c[0];(b=b.U())&&(b=Jo(b,!0,a));Do(d,
Es,vs,[b],c)}function Hs(a,b,c){var d=b.da();a={node:a};a.layout=b.ja;a.stride=b.pa();b=b.L();b.coordinates=d;d=Is[c[c.length-1].node.namespaceURI];b=Bo(b,d);Do(a,Js,Ao,b,c,d)}function Ks(a,b,c){b=b.Ud();var d=b.shift();a={node:a};Do(a,Ls,Ms,b,c);Do(a,Ls,Ns,[d],c)}function Os(a,b){Ip(a,Math.round(1E6*b)/1E6)}
var Ps=N(vr,["Document","Placemark"]),Ss=N(vr,{Document:M(function(a,b,c){Do({node:a},Qs,Rs,b,c,void 0,this)}),Placemark:M(Ds)}),Qs=N(vr,{Placemark:M(Ds)}),Ts=N(vr,{Data:M(function(a,b,c){a.setAttribute("name",b.name);a={node:a};b=b.value;"object"==typeof b?(null!==b&&b.displayName&&Do(a,Ts,Ao,[b.displayName],c,["displayName"]),null!==b&&b.value&&Do(a,Ts,Ao,[b.value],c,["value"])):Do(a,Ts,Ao,[b],c,["value"])}),value:M(function(a,b){ip(a,b)}),displayName:M(function(a,b){a.appendChild(mo.createCDATASection(b))})}),
Us={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},Vs=N(vr,["href"],N(ur,["x","y","w","h"])),Ws=N(vr,{href:M(ip)},N(ur,{x:M(Ip),y:M(Ip),w:M(Ip),h:M(Ip)})),Xs=N(vr,["scale","heading","Icon","hotSpot"]),Zs=N(vr,{Icon:M(function(a,b,c){a={node:a};var d=Vs[c[c.length-1].node.namespaceURI],e=Bo(b,d);Do(a,Ws,Ao,e,c,d);d=Vs[ur[0]];e=Bo(b,d);Do(a,Ws,
Ys,e,c,d)}),heading:M(Ip),hotSpot:M(function(a,b){a.setAttribute("x",b.x);a.setAttribute("y",b.y);a.setAttribute("xunits",b.oh);a.setAttribute("yunits",b.ph)}),scale:M(Os)}),$s=N(vr,["color","scale"]),at=N(vr,{color:M(ts),scale:M(Os)}),bt=N(vr,["color","width"]),ct=N(vr,{color:M(ts),width:M(Ip)}),Bs=N(vr,{LinearRing:M(Hs)}),zs=N(vr,{LineString:M(Hs),Point:M(Hs),Polygon:M(Ks),GeometryCollection:M(us)}),Gs=N(vr,"name open visibility address phoneNumber description styleUrl Style".split(" ")),Es=N(vr,
{ExtendedData:M(function(a,b,c){a={node:a};var d=b.names;b=b.values;for(var e=d.length,f=0;f<e;f++)Do(a,Ts,dt,[{name:d[f],value:b[f]}],c)}),MultiGeometry:M(us),LineString:M(Hs),LinearRing:M(Hs),Point:M(Hs),Polygon:M(Ks),Style:M(function(a,b,c){a={node:a};var d={},e=b.Fa(),f=b.Ga(),g=b.Y();b=b.Ka();g instanceof dr&&(d.IconStyle=g);b&&(d.LabelStyle=b);f&&(d.LineStyle=f);e&&(d.PolyStyle=e);b=et[c[c.length-1].node.namespaceURI];d=Bo(d,b);Do(a,ft,Ao,d,c,b)}),address:M(ip),description:M(ip),name:M(ip),
open:M(hp),phoneNumber:M(ip),styleUrl:M(ip),visibility:M(hp)}),Is=N(vr,["extrude","tessellate","altitudeMode","coordinates"]),Js=N(vr,{extrude:M(hp),tessellate:M(hp),altitudeMode:M(ip),coordinates:M(function(a,b,c){c=c[c.length-1];var d=c.layout;c=c.stride;var e;"XY"==d||"XYM"==d?e=2:"XYZ"==d||"XYZM"==d?e=3:oa(!1,34);var f,g=b.length,h="";if(0<g){h+=b[0];for(d=1;d<e;++d)h+=","+b[d];for(f=c;f<g;f+=c)for(h+=" "+b[f],d=1;d<e;++d)h+=","+b[f+d]}ip(a,h)})}),Ls=N(vr,{outerBoundaryIs:M(As),innerBoundaryIs:M(As)}),
gt=N(vr,{color:M(ts)}),et=N(vr,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),ft=N(vr,{IconStyle:M(function(a,b,c){a={node:a};var d={},e=b.oc(),f=b.He(),g={href:b.b.l};if(e){g.w=e[0];g.h=e[1];var h=b.Vc(),l=b.bd();l&&f&&0!==l[0]&&l[1]!==e[1]&&(g.x=l[0],g.y=f[1]-(l[1]+e[1]));!h||h[0]===e[0]/2&&h[1]===e[1]/2||(d.hotSpot={x:h[0],oh:"pixels",y:e[1]-h[1],ph:"pixels"})}d.Icon=g;e=b.a;1!==e&&(d.scale=e);b=b.f;0!==b&&(d.heading=b);b=Xs[c[c.length-1].node.namespaceURI];d=Bo(d,b);Do(a,Zs,Ao,d,c,b)}),LabelStyle:M(function(a,
b,c){a={node:a};var d={},e=b.Fa();e&&(d.color=e.b);(b=b.b)&&1!==b&&(d.scale=b);b=$s[c[c.length-1].node.namespaceURI];d=Bo(d,b);Do(a,at,Ao,d,c,b)}),LineStyle:M(function(a,b,c){a={node:a};var d=bt[c[c.length-1].node.namespaceURI];b=Bo({color:b.a,width:b.c},d);Do(a,ct,Ao,b,c,d)}),PolyStyle:M(function(a,b,c){Do({node:a},gt,ht,[b.b],c)})});function Ys(a,b,c){return no(ur[0],"gx:"+c)}function Rs(a,b){return no(b[b.length-1].node.namespaceURI,"Placemark")}
function vs(a,b){if(a)return no(b[b.length-1].node.namespaceURI,Us[a.S()])}var ht=yo("color"),dt=yo("Data"),Fs=yo("ExtendedData"),Ms=yo("innerBoundaryIs"),ws=yo("Point"),xs=yo("LineString"),Cs=yo("LinearRing"),ys=yo("Polygon"),Ns=yo("outerBoundaryIs");
er.prototype.bc=function(a,b){b=Io(this,b);var c=no(vr[4],"kml");c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",ur[0]);c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance");c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var d={node:c},e={};1<a.length?e.Document=a:1==a.length&&(e.Placemark=a[0]);a=Ps[c.namespaceURI];
e=Bo(e,a);Do(d,Ss,Ao,e,[b],a,this);return c};rj.Ld=function(){};
(function(a){function b(a){this.tc=ArrayBuffer.isView&&ArrayBuffer.isView(a)?a:new Uint8Array(a||0);this.type=this.ga=0;this.length=this.tc.length}function c(a,b,c){var e=c.tc;var f=e[c.ga++];var g=(f&112)>>4;if(128>f)return d(a,g,b);f=e[c.ga++];g|=(f&127)<<3;if(128>f)return d(a,g,b);f=e[c.ga++];g|=(f&127)<<10;if(128>f)return d(a,g,b);f=e[c.ga++];g|=(f&127)<<17;if(128>f)return d(a,g,b);f=e[c.ga++];g|=(f&127)<<24;if(128>f)return d(a,g,b);f=e[c.ga++];if(128>f)return d(a,g|(f&1)<<31,b);throw Error("Expected varint not more than 10 bytes");
}function d(a,b,c){return c?4294967296*b+(a>>>0):4294967296*(b>>>0)+(a>>>0)}var e={read:function(a,b,c,d,e){var f=8*e-d-1;var g=(1<<f)-1,h=g>>1,l=-7;e=c?e-1:0;var m=c?-1:1,v=a[b+e];e+=m;c=v&(1<<-l)-1;v>>=-l;for(l+=f;0<l;c=256*c+a[b+e],e+=m,l-=8);f=c&(1<<-l)-1;c>>=-l;for(l+=d;0<l;f=256*f+a[b+e],e+=m,l-=8);if(0===c)c=1-h;else{if(c===g)return f?NaN:Infinity*(v?-1:1);f+=Math.pow(2,d);c-=h}return(v?-1:1)*f*Math.pow(2,c-d)},write:function(a,b,c,d,e,n){var f,g=8*n-e-1,h=(1<<g)-1,l=h>>1,m=23===e?Math.pow(2,
-24)-Math.pow(2,-77):0;n=d?0:n-1;var z=d?1:-1,A=0>b||0===b&&0>1/b?1:0;b=Math.abs(b);isNaN(b)||Infinity===b?(b=isNaN(b)?1:0,d=h):(d=Math.floor(Math.log(b)/Math.LN2),1>b*(f=Math.pow(2,-d))&&(d--,f*=2),b=1<=d+l?b+m/f:b+m*Math.pow(2,1-l),2<=b*f&&(d++,f/=2),d+l>=h?(b=0,d=h):1<=d+l?(b=(b*f-1)*Math.pow(2,e),d+=l):(b=b*Math.pow(2,l-1)*Math.pow(2,e),d=0));for(;8<=e;a[c+n]=b&255,n+=z,b/=256,e-=8);d=d<<e|b;for(g+=e;0<g;a[c+n]=d&255,n+=z,d/=256,g-=8);a[c+n-z]|=128*A}};b.c=0;b.g=1;b.b=2;b.a=5;b.prototype={Og:function(a,
b,c){for(c=c||this.length;this.ga<c;){var d=this.Ua(),e=d>>3,f=this.ga;this.type=d&7;a(e,b,this);this.ga===f&&this.Lq(d)}return b},Zp:function(){var a=e.read(this.tc,this.ga,!0,23,4);this.ga+=4;return a},Vp:function(){var a=e.read(this.tc,this.ga,!0,52,8);this.ga+=8;return a},Ua:function(a){var b=this.tc;var d=b[this.ga++];var e=d&127;if(128>d)return e;d=b[this.ga++];e|=(d&127)<<7;if(128>d)return e;d=b[this.ga++];e|=(d&127)<<14;if(128>d)return e;d=b[this.ga++];e|=(d&127)<<21;if(128>d)return e;d=b[this.ga];
return c(e|(d&15)<<28,a,this)},lq:function(){return this.Ua(!0)},Ug:function(){var a=this.Ua();return 1===a%2?(a+1)/-2:a/2},Tp:function(){return!!this.Ua()},Vg:function(){for(var a=this.Ua()+this.ga,b=this.tc,c="",d=this.ga;d<a;){var e=b[d],n=null,p=239<e?4:223<e?3:191<e?2:1;if(d+p>a)break;if(1===p)128>e&&(n=e);else if(2===p){var q=b[d+1];128===(q&192)&&(n=(e&31)<<6|q&63,127>=n&&(n=null))}else if(3===p){q=b[d+1];var r=b[d+2];128===(q&192)&&128===(r&192)&&(n=(e&15)<<12|(q&63)<<6|r&63,2047>=n||55296<=
n&&57343>=n)&&(n=null)}else if(4===p){q=b[d+1];r=b[d+2];var u=b[d+3];128===(q&192)&&128===(r&192)&&128===(u&192)&&(n=(e&15)<<18|(q&63)<<12|(r&63)<<6|u&63,65535>=n||1114112<=n)&&(n=null)}null===n?(n=65533,p=1):65535<n&&(n-=65536,c+=String.fromCharCode(n>>>10&1023|55296),n=56320|n&1023);c+=String.fromCharCode(n);d+=p}this.ga=a;return c},Lq:function(a){a&=7;if(a===b.c)for(;127<this.tc[this.ga++];);else if(a===b.b)this.ga=this.Ua()+this.ga;else if(a===b.a)this.ga+=4;else if(a===b.g)this.ga+=8;else throw Error("Unimplemented type: "+
a);}};a["default"]=b})(rj.Ld=rj.Ld||{});rj.Ld=rj.Ld.default;function it(a,b,c,d,e){this.l=e;this.f=a;this.b=b;this.a=this.c=null;this.g=c;this.j=d;this.s=We()}k=it.prototype;k.get=function(a){return this.j[a]};k.pb=it.prototype.td=function(){return this.g};k.G=function(){this.i||(this.i="Point"===this.f?Pa(this.b):Qa(this.b,0,this.b.length,2));return this.i};k.Td=function(){if(!this.c){var a=eb(this.G());this.c=If(this.b,0,this.g,2,a,0)}return this.c};k.Fe=function(){this.a||(this.a=Kk(this.b,0,this.b.length,2,.5));return this.a};
k.Ge=function(){if(!this.a){this.a=[];for(var a=this.b,b=0,c=this.g,d=0,e=c.length;d<e;++d){var f=c[d];b=Kk(a,b,f,2,.5);gc(this.a,b);b=f}}return this.a};k.Ao=function(){return this.l};k.Xb=function(){return this.b};k.da=it.prototype.Xb;k.U=function(){return this};k.Bo=function(){return this.j};k.Wd=it.prototype.U;k.pa=function(){return 2};k.ib=ea;k.S=function(){return this.f};k.mb=function(a){var b=a.G();a=a.oe;b=db(a)/db(b);var c=this.s;ef(c,a[0],a[3],b,-b,0,0,0);Te(this.b,0,this.b.length,2,c,this.b)};function jt(a){Go.call(this);a=a?a:{};this.defaultDataProjection=new wb({code:"EPSG:3857",units:"tile-pixels"});this.b=a.featureClass?a.featureClass:it;this.g=a.geometryName;this.f=a.layerName?a.layerName:"layer";this.c=a.layers?a.layers:null;this.a=null}w(jt,Go);function kt(a,b,c){if(3===a){a={keys:[],values:[],features:[]};var d=c.Ua()+c.ga;c.Og(lt,a,d);a.length=a.features.length;a.length&&(b[a.name]=a)}}
function lt(a,b,c){if(15===a)b.version=c.Ua();else if(1===a)b.name=c.Vg();else if(5===a)b.extent=c.Ua();else if(2===a)b.features.push(c.ga);else if(3===a)b.keys.push(c.Vg());else if(4===a){a=null;for(var d=c.Ua()+c.ga;c.ga<d;)a=c.Ua()>>3,a=1===a?c.Vg():2===a?c.Zp():3===a?c.Vp():4===a?c.lq():5===a?c.Ua():6===a?c.Ug():7===a?c.Tp():null;b.values.push(a)}}
function mt(a,b,c){if(1==a)b.id=c.Ua();else if(2==a)for(a=c.Ua()+c.ga;c.ga<a;){var d=b.layer.keys[c.Ua()],e=b.layer.values[c.Ua()];b.properties[d]=e}else 3==a?b.type=c.Ua():4==a&&(b.geometry=c.ga)}
function nt(a,b,c){var d=c.type;if(0===d)return null;var e=c.id,f=c.properties;f[a.f]=c.layer.name;var g=[];var h=[],l=h;b.ga=c.geometry;c=b.Ua()+b.ga;for(var m=1,n=0,p=0,q=0,r=0,u=0;b.ga<c;)n||(n=b.Ua(),m=n&7,n>>=3),n--,1===m||2===m?(p+=b.Ug(),q+=b.Ug(),1===m&&r>u&&(l.push(r),u=r),g.push(p,q),r+=2):7===m?r>u&&(g.push(g[u],g[u+1]),r+=2):oa(!1,59);r>u&&l.push(r);b=h.length;var v;1===d?v=1===b?"Point":"MultiPoint":2===d?v=1===b?"LineString":"MultiLineString":3===d&&(v="Polygon");d=v;if(a.b===it)g=new a.b(d,
g,h,f,e);else{if("Polygon"==d){d=[];l=b=v=0;for(c=h.length;l<c;++l)m=h[l],Mf(g,v,m,2)||(d.push(h.slice(b,l)),b=l),v=m;1<d.length?(h=d,d=new Q(null)):d=new D(null)}else d="Point"===d?new C(null):"LineString"===d?new I(null):"Polygon"===d?new D(null):"MultiPoint"===d?new No(null):"MultiLineString"===d?new P(null):null;d.ba("XY",g,h);g=new a.b;a.g&&g.Lc(a.g);a=Jo(d,!1,Io(a,void 0));g.Va(a);g.qc(e);g.H(f)}return g}k=jt.prototype;k.cg=function(){return this.a};k.S=function(){return"arraybuffer"};
k.Qa=function(a){var b=this.c;a=new rj.Ld(a);var c=a.Og(kt,{}),d=[],e;for(e in c)if(!b||-1!=b.indexOf(e)){var f=c[e];for(var g,h=0,l=f.length;h<l;++h){g=a;var m=f;g.ga=m.features[h];var n=g.Ua()+g.ga;m={layer:m,type:0,properties:{}};g.Og(mt,m,n);g=m;d.push(nt(this,a,g))}this.a=f?[0,0,f.extent,f.extent]:null}return d};k.sb=function(){return this.defaultDataProjection};k.Sn=function(a){this.c=a};k.Yb=function(){};k.ed=function(){};k.Jd=function(){};k.md=function(){};k.ac=function(){};function ot(){Wo.call(this);this.defaultDataProjection=Ob("EPSG:4326")}w(ot,Wo);function pt(a,b){b[b.length-1].le[a.getAttribute("k")]=a.getAttribute("v")}
var qt=[null],rt=N(qt,{nd:function(a,b){b[b.length-1].zd.push(a.getAttribute("ref"))},tag:pt}),tt=N(qt,{node:function(a,b){var c=b[0],d=b[b.length-1],e=a.getAttribute("id"),f=[parseFloat(a.getAttribute("lon")),parseFloat(a.getAttribute("lat"))];d.ki[e]=f;a=O({le:{}},st,a,b);nb(a.le)||(f=new C(f),Jo(f,!1,c),c=new Hk(f),c.qc(e),c.H(a.le),d.features.push(c))},way:function(a,b){var c=a.getAttribute("id");a=O({id:c,zd:[],le:{}},rt,a,b);b[b.length-1].lh.push(a)}}),st=N(qt,{tag:pt});
ot.prototype.Kc=function(a,b){b=Ho(this,a,b);if("osm"==a.localName){a=O({ki:{},lh:[],features:[]},tt,a,[b]);for(var c=0;c<a.lh.length;c++){for(var d=a.lh[c],e=[],f=0,g=d.zd.length;f<g;f++)gc(e,a.ki[d.zd[f]]);d.zd[0]==d.zd[d.zd.length-1]?(f=new D(null),f.ba("XY",e,[e.length])):(f=new I(null),f.ba("XY",e));Jo(f,!1,b);e=new Hk(f);e.qc(d.id);e.H(d.le);a.features.push(e)}if(a.features)return a.features}return[]};ot.prototype.mh=function(){};ot.prototype.bc=function(){};ot.prototype.re=function(){};function ut(a,b,c,d){var e;void 0!==d?e=d:e=[];for(var f=d=0;f<b;){var g=a[f++];e[d++]=a[f++];e[d++]=g;for(g=2;g<c;++g)e[d++]=a[f++]}e.length=d};function vt(a){a=a?a:{};Go.call(this);this.defaultDataProjection=Ob("EPSG:4326");this.b=a.factor?a.factor:1E5;this.a=a.geometryLayout?a.geometryLayout:"XY"}w(vt,Vq);function wt(a,b,c){var d,e=Array(b);for(d=0;d<b;++d)e[d]=0;var f;var g=0;for(f=a.length;g<f;)for(d=0;d<b;++d,++g){var h=a[g],l=h-e[d];e[d]=h;a[g]=l}return xt(a,c?c:1E5)}function yt(a,b,c){var d,e=Array(b);for(d=0;d<b;++d)e[d]=0;a=zt(a,c?c:1E5);var f;c=0;for(f=a.length;c<f;)for(d=0;d<b;++d,++c)e[d]+=a[c],a[c]=e[d];return a}
function xt(a,b){b=b?b:1E5;var c;var d=0;for(c=a.length;d<c;++d)a[d]=Math.round(a[d]*b);b=0;for(d=a.length;b<d;++b)c=a[b],a[b]=0>c?~(c<<1):c<<1;b="";d=0;for(c=a.length;d<c;++d){for(var e,f=a[d],g="";32<=f;)e=(32|f&31)+63,g+=String.fromCharCode(e),f>>=5;g+=String.fromCharCode(f+63);b+=g}return b}
function zt(a,b){b=b?b:1E5;var c=[],d=0,e=0,f;var g=0;for(f=a.length;g<f;++g){var h=a.charCodeAt(g)-63;d|=(h&31)<<e;32>h?(c.push(d),e=d=0):e+=5}a=0;for(d=c.length;a<d;++a)e=c[a],c[a]=e&1?~(e>>1):e>>1;a=0;for(d=c.length;a<d;++a)c[a]/=b;return c}k=vt.prototype;k.fe=function(a,b){a=this.Gd(a,b);return new Hk(a)};k.Ng=function(a,b){return[this.fe(a,b)]};k.Gd=function(a,b){var c=jf(this.a);a=yt(a,c,this.b);ut(a,a.length,c,a);c=yf(a,0,a.length,c);return Jo(new I(c,this.a),!1,Io(this,b))};
k.pe=function(a,b){if(a=a.U())return this.Kd(a,b);oa(!1,40);return""};k.nh=function(a,b){return this.pe(a[0],b)};k.Kd=function(a,b){a=Jo(a,!0,Io(this,b));b=a.da();a=a.pa();ut(b,b.length,a,b);return wt(b,a,this.b)};function At(a){a=a?a:{};Go.call(this);this.a=a.layerName;this.b=a.layers?a.layers:null;this.defaultDataProjection=Ob(a.defaultDataProjection?a.defaultDataProjection:"EPSG:4326")}w(At,Ko);function Bt(a,b){var c=[],d,e;var f=0;for(e=a.length;f<e;++f){var g=a[f];0<f&&c.pop();0<=g?d=b[g]:d=b[~g].slice().reverse();c.push.apply(c,d)}a=0;for(b=c.length;a<b;++a)c[a]=c[a].slice();return c}
function Ct(a,b,c,d,e,f,g){a=a.geometries;var h=[],l;var m=0;for(l=a.length;m<l;++m)h[m]=Dt(a[m],b,c,d,e,f,g);return h}function Dt(a,b,c,d,e,f,g){var h=a.type,l=Et[h];c="Point"===h||"MultiPoint"===h?l(a,c,d):l(a,b);b=new Hk;b.Va(Jo(c,!1,g));void 0!==a.id&&b.qc(a.id);a=a.properties;e&&(a||(a={}),a[e]=f);a&&b.H(a);return b}
At.prototype.Mg=function(a,b){if("Topology"==a.type){var c=null,d=null;if(a.transform){var e=a.transform;c=e.scale;d=e.translate}var f=a.arcs;if(e){e=c;var g=d,h;var l=0;for(h=f.length;l<h;++l){var m,n=f[l],p=e,q=g,r=0,u=0;var v=0;for(m=n.length;v<m;++v){var z=n[v];r+=z[0];u+=z[1];z[0]=r;z[1]=u;Ft(z,p,q)}}}e=[];a=a.objects;g=this.a;for(var A in a)this.b&&-1==this.b.indexOf(A)||("GeometryCollection"===a[A].type?(l=a[A],e.push.apply(e,Ct(l,f,c,d,g,A,b))):(l=a[A],e.push(Dt(l,f,c,d,g,A,b))));return e}return[]};
function Ft(a,b,c){a[0]=a[0]*b[0]+c[0];a[1]=a[1]*b[1]+c[1]}At.prototype.Tg=function(){return this.defaultDataProjection};
var Et={Point:function(a,b,c){a=a.coordinates;b&&c&&Ft(a,b,c);return new C(a)},LineString:function(a,b){a=Bt(a.arcs,b);return new I(a)},Polygon:function(a,b){var c=[],d;var e=0;for(d=a.arcs.length;e<d;++e)c[e]=Bt(a.arcs[e],b);return new D(c)},MultiPoint:function(a,b,c){a=a.coordinates;var d;if(b&&c){var e=0;for(d=a.length;e<d;++e)Ft(a[e],b,c)}return new No(a)},MultiLineString:function(a,b){var c=[],d;var e=0;for(d=a.arcs.length;e<d;++e)c[e]=Bt(a.arcs[e],b);return new P(c)},MultiPolygon:function(a,
b){var c=[],d,e;var f=0;for(e=a.arcs.length;f<e;++f){var g=a.arcs[f];var h=[];var l=0;for(d=g.length;l<d;++l)h[l]=Bt(g[l],b);c[f]=h}return new Q(c)}};k=At.prototype;k.ld=function(){};k.qe=function(){};k.se=function(){};k.Qg=function(){};k.dd=function(){};function Gt(a){this.rc=a};function Ht(a,b){this.rc=a;this.b=Array.prototype.slice.call(arguments,1);oa(2<=this.b.length,57)}w(Ht,Gt);function It(a){var b=["And"].concat(Array.prototype.slice.call(arguments));Ht.apply(this,b)}w(It,Ht);function Jt(a,b,c){this.rc="BBOX";this.geometryName=a;this.extent=b;this.srsName=c}w(Jt,Gt);function Kt(a,b,c,d){this.rc=a;this.geometryName=b||"the_geom";this.geometry=c;this.srsName=d}w(Kt,Gt);function Lt(a,b,c){Kt.call(this,"Contains",a,b,c)}w(Lt,Kt);function Mt(a,b){this.rc=a;this.b=b}w(Mt,Gt);function Nt(a,b,c){Mt.call(this,"During",a);this.a=b;this.g=c}w(Nt,Mt);function Ot(a,b,c,d){Mt.call(this,a,b);this.g=c;this.a=d}w(Ot,Mt);function Pt(a,b,c){Ot.call(this,"PropertyIsEqualTo",a,b,c)}w(Pt,Ot);function Qt(a,b){Ot.call(this,"PropertyIsGreaterThan",a,b)}w(Qt,Ot);function Rt(a,b){Ot.call(this,"PropertyIsGreaterThanOrEqualTo",a,b)}w(Rt,Ot);function St(a,b,c){Kt.call(this,"Intersects",a,b,c)}w(St,Kt);function Tt(a,b,c){Mt.call(this,"PropertyIsBetween",a);this.a=b;this.g=c}w(Tt,Mt);function Ut(a,b,c,d,e,f){Mt.call(this,"PropertyIsLike",a);this.c=b;this.f=void 0!==c?c:"*";this.i=void 0!==d?d:".";this.g=void 0!==e?e:"!";this.a=f}w(Ut,Mt);function Vt(a){Mt.call(this,"PropertyIsNull",a)}w(Vt,Mt);function Wt(a,b){Ot.call(this,"PropertyIsLessThan",a,b)}w(Wt,Ot);function Xt(a,b){Ot.call(this,"PropertyIsLessThanOrEqualTo",a,b)}w(Xt,Ot);function Yt(a){this.rc="Not";this.condition=a}w(Yt,Gt);function Zt(a,b,c){Ot.call(this,"PropertyIsNotEqualTo",a,b,c)}w(Zt,Ot);function $t(a){var b=["Or"].concat(Array.prototype.slice.call(arguments));Ht.apply(this,b)}w($t,Ht);function au(a,b,c){Kt.call(this,"Within",a,b,c)}w(au,Kt);function bu(a){var b=[null].concat(Array.prototype.slice.call(arguments));return new (Function.prototype.bind.apply(It,b))}function cu(a,b,c){return new Jt(a,b,c)};function du(a){a=a?a:{};this.c=a.featureType;this.a=a.featureNS;this.b=a.gmlFormat?a.gmlFormat:new Kp;this.l=a.schemaLocation?a.schemaLocation:eu["1.1.0"];Wo.call(this)}w(du,Wo);var eu={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"};
du.prototype.Kc=function(a,b){var c={featureType:this.c,featureNS:this.a};kb(c,Ho(this,a,b?b:{}));b=[c];this.b.b["http://www.opengis.net/gml"].featureMember=uo(Zo.prototype.ge);(a=O([],this.b.b,a,b,this.b))||(a=[]);return a};du.prototype.j=function(a){if(qo(a))return fu(a);if(ro(a))return O({},gu,a,[]);if("string"===typeof a)return a=so(a),fu(a)};du.prototype.f=function(a){if(qo(a))return hu(this,a);if(ro(a))return iu(this,a);if("string"===typeof a)return a=so(a),hu(this,a)};
function hu(a,b){for(b=b.firstChild;b;b=b.nextSibling)if(b.nodeType==Node.ELEMENT_NODE)return iu(a,b)}var ju={"http://www.opengis.net/gml":{boundedBy:L(Zo.prototype.rf,"bounds")}};function iu(a,b){var c={},d=gp(b.getAttribute("numberOfFeatures"));c.numberOfFeatures=d;return O(c,ju,b,[],a.b)}
var ku={"http://www.opengis.net/wfs":{totalInserted:L(fp),totalUpdated:L(fp),totalDeleted:L(fp)}},lu={"http://www.opengis.net/ogc":{FeatureId:uo(function(a){return a.getAttribute("fid")})}},mu={"http://www.opengis.net/wfs":{Feature:function(a,b){Co(lu,a,b)}}},gu={"http://www.opengis.net/wfs":{TransactionSummary:L(function(a,b){return O({},ku,a,b)},"transactionSummary"),InsertResults:L(function(a,b){return O([],mu,a,b)},"insertIds")}};
function fu(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return O({},gu,a,[])}var nu={"http://www.opengis.net/wfs":{PropertyName:M(ip)}};function ou(a,b){var c=no("http://www.opengis.net/ogc","Filter"),d=no("http://www.opengis.net/ogc","FeatureId");c.appendChild(d);d.setAttribute("fid",b);a.appendChild(c)}function pu(a,b){a=(a?a:"feature")+":";return 0===b.indexOf(a)?b:a+b}
var qu={"http://www.opengis.net/wfs":{Insert:M(function(a,b,c){var d=c[c.length-1],e=d.gmlVersion;d=no(d.featureNS,d.featureType);a.appendChild(d);if(2===e){a=Tp.prototype;(e=b.c)&&d.setAttribute("fid",e);e=c[c.length-1];var f=e.featureNS,g=b.a;e.tb||(e.tb={},e.tb[f]={});var h=b.L();b=[];var l=[];for(n in h){var m=h[n];null!==m&&(b.push(n),l.push(m),n==g||m instanceof gf?n in e.tb[f]||(e.tb[f][n]=M(a.ui,a)):n in e.tb[f]||(e.tb[f][n]=M(ip)))}var n=kb({},e);n.node=d;Do(n,e.tb,yo(void 0,f),l,c,b)}else Kp.prototype.Ci(d,
b,c)}),Update:M(function(a,b,c){var d=c[c.length-1];oa(void 0!==b.c,27);var e=d.featurePrefix,f=d.featureNS,g=b.a;a.setAttribute("typeName",pu(e,d.featureType));a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+e,f);e=b.c;if(void 0!==e){f=b.P();for(var h=[],l=0,m=f.length;l<m;l++){var n=b.get(f[l]);if(void 0!==n){var p=f[l];n instanceof gf&&(p=g);h.push({name:p,value:n})}}Do({gmlVersion:d.gmlVersion,node:a,hasZ:d.hasZ,srsName:d.srsName},qu,yo("Property"),h,c);ou(a,e)}}),Delete:M(function(a,
b,c){c=c[c.length-1];oa(void 0!==b.c,26);var d=c.featurePrefix,e=c.featureNS;a.setAttribute("typeName",pu(d,c.featureType));a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+d,e);b=b.c;void 0!==b&&ou(a,b)}),Property:M(function(a,b,c){var d=no("http://www.opengis.net/wfs","Name"),e=c[c.length-1].gmlVersion;a.appendChild(d);ip(d,b.name);void 0!==b.value&&null!==b.value&&(d=no("http://www.opengis.net/wfs","Value"),a.appendChild(d),b.value instanceof gf?2===e?Tp.prototype.ui(d,b.value,c):Kp.prototype.Yc(d,
b.value,c):ip(d,b.value))}),Native:M(function(a,b){b.Uq&&a.setAttribute("vendorId",b.Uq);void 0!==b.qq&&a.setAttribute("safeToIgnore",b.qq);void 0!==b.value&&ip(a,b.value)})}};function ru(a,b,c){a={node:a};b=b.b;for(var d=0,e=b.length;d<e;++d){var f=b[d];Do(a,su,yo(f.rc),[f],c)}}function tu(a,b){void 0!==b.a&&a.setAttribute("matchCase",b.a.toString());uu(a,b.b);vu(a,""+b.g)}function wu(a,b,c){a=no("http://www.opengis.net/ogc",a);ip(a,c);b.appendChild(a)}function uu(a,b){wu("PropertyName",a,b)}
function vu(a,b){wu("Literal",a,b)}function xu(a,b){var c=no("http://www.opengis.net/gml","TimeInstant");a.appendChild(c);a=no("http://www.opengis.net/gml","timePosition");c.appendChild(a);ip(a,b)}
var su={"http://www.opengis.net/wfs":{Query:M(function(a,b,c){var d=c[c.length-1],e=d.featurePrefix,f=d.featureNS,g=d.propertyNames,h=d.srsName;a.setAttribute("typeName",e?pu(e,b):b);h&&a.setAttribute("srsName",h);f&&a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+e,f);b=kb({},d);b.node=a;Do(b,nu,yo("PropertyName"),g,c);if(d=d.filter)g=no("http://www.opengis.net/ogc","Filter"),a.appendChild(g),Do({node:g},su,yo(d.rc),[d],c)})},"http://www.opengis.net/ogc":{During:M(function(a,b){var c=no("http://www.opengis.net/fes",
"ValueReference");ip(c,b.b);a.appendChild(c);c=no("http://www.opengis.net/gml","TimePeriod");a.appendChild(c);a=no("http://www.opengis.net/gml","begin");c.appendChild(a);xu(a,b.a);a=no("http://www.opengis.net/gml","end");c.appendChild(a);xu(a,b.g)}),And:M(ru),Or:M(ru),Not:M(function(a,b,c){b=b.condition;Do({node:a},su,yo(b.rc),[b],c)}),BBOX:M(function(a,b,c){c[c.length-1].srsName=b.srsName;uu(a,b.geometryName);Kp.prototype.Yc(a,b.extent,c)}),Contains:M(function(a,b,c){c[c.length-1].srsName=b.srsName;
uu(a,b.geometryName);Kp.prototype.Yc(a,b.geometry,c)}),Intersects:M(function(a,b,c){c[c.length-1].srsName=b.srsName;uu(a,b.geometryName);Kp.prototype.Yc(a,b.geometry,c)}),Within:M(function(a,b,c){c[c.length-1].srsName=b.srsName;uu(a,b.geometryName);Kp.prototype.Yc(a,b.geometry,c)}),PropertyIsEqualTo:M(tu),PropertyIsNotEqualTo:M(tu),PropertyIsLessThan:M(tu),PropertyIsLessThanOrEqualTo:M(tu),PropertyIsGreaterThan:M(tu),PropertyIsGreaterThanOrEqualTo:M(tu),PropertyIsNull:M(function(a,b){uu(a,b.b)}),
PropertyIsBetween:M(function(a,b){uu(a,b.b);var c=no("http://www.opengis.net/ogc","LowerBoundary");a.appendChild(c);vu(c,""+b.a);c=no("http://www.opengis.net/ogc","UpperBoundary");a.appendChild(c);vu(c,""+b.g)}),PropertyIsLike:M(function(a,b){a.setAttribute("wildCard",b.f);a.setAttribute("singleChar",b.i);a.setAttribute("escapeChar",b.g);void 0!==b.a&&a.setAttribute("matchCase",b.a.toString());uu(a,b.b);vu(a,""+b.c)})}};
du.prototype.s=function(a){var b=no("http://www.opengis.net/wfs","GetFeature");b.setAttribute("service","WFS");b.setAttribute("version","1.1.0");if(a){a.handle&&b.setAttribute("handle",a.handle);a.outputFormat&&b.setAttribute("outputFormat",a.outputFormat);void 0!==a.maxFeatures&&b.setAttribute("maxFeatures",a.maxFeatures);a.resultType&&b.setAttribute("resultType",a.resultType);void 0!==a.startIndex&&b.setAttribute("startIndex",a.startIndex);void 0!==a.count&&b.setAttribute("count",a.count);var c=
a.filter;if(a.bbox){oa(a.geometryName,12);var d=cu(a.geometryName,a.bbox,a.srsName);c?c=bu(c,d):c=d}}b.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.l);c={node:b,srsName:a.srsName,featureNS:a.featureNS?a.featureNS:this.a,featurePrefix:a.featurePrefix,geometryName:a.geometryName,filter:c,propertyNames:a.propertyNames?a.propertyNames:[]};oa(Array.isArray(a.featureTypes),11);a=a.featureTypes;c=[c];d=kb({},c[c.length-1]);d.node=b;Do(d,su,yo("Query"),a,c);return b};
du.prototype.v=function(a,b,c,d){var e=[],f=no("http://www.opengis.net/wfs","Transaction"),g=d.version?d.version:"1.1.0",h="1.0.0"===g?2:3;f.setAttribute("service","WFS");f.setAttribute("version",g);if(d){var l=d.gmlOptions?d.gmlOptions:{};d.handle&&f.setAttribute("handle",d.handle)}f.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",eu[g]);var m=d.featurePrefix?d.featurePrefix:"feature";a&&(g={node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:m,gmlVersion:h,
hasZ:d.hasZ,srsName:d.srsName},kb(g,l),Do(g,qu,yo("Insert"),a,e));b&&(g={node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:m,gmlVersion:h,hasZ:d.hasZ,srsName:d.srsName},kb(g,l),Do(g,qu,yo("Update"),b,e));c&&Do({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:m,gmlVersion:h,srsName:d.srsName},qu,yo("Delete"),c,e);d.nativeElements&&Do({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:m,gmlVersion:h,srsName:d.srsName},qu,yo("Native"),d.nativeElements,
e);return f};du.prototype.Sg=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.uf(a);return null};du.prototype.uf=function(a){if(a.firstElementChild&&a.firstElementChild.firstElementChild)for(a=a.firstElementChild.firstElementChild,a=a.firstElementChild;a;a=a.nextElementSibling)if(0!==a.childNodes.length&&(1!==a.childNodes.length||3!==a.firstChild.nodeType)){var b=[{}];this.b.rf(a,b);return Ob(b.pop().srsName)}return null};function Ku(a){a=a?a:{};Go.call(this);this.b=void 0!==a.splitCollection?a.splitCollection:!1}w(Ku,Vq);function Lu(a){a=a.W();return 0===a.length?"":a.join(" ")}function Mu(a){a=a.W();for(var b=[],c=0,d=a.length;c<d;++c)b.push(a[c].join(" "));return b.join(",")}function Nu(a){var b=[];a=a.Ud();for(var c=0,d=a.length;c<d;++c)b.push("("+Mu(a[c])+")");return b.join(",")}
function Ou(a){var b=a.S(),c=(0,Pu[b])(a);b=b.toUpperCase();if(a instanceof hf){a=a.ja;var d="";if("XYZ"===a||"XYZM"===a)d+="Z";if("XYM"===a||"XYZM"===a)d+="M";a=d;0<a.length&&(b+=" "+a)}return 0===c.length?b+" EMPTY":b+"("+c+")"}
var Pu={Point:Lu,LineString:Mu,Polygon:Nu,MultiPoint:function(a){var b=[];a=a.de();for(var c=0,d=a.length;c<d;++c)b.push("("+Lu(a[c])+")");return b.join(",")},MultiLineString:function(a){var b=[];a=a.wd();for(var c=0,d=a.length;c<d;++c)b.push("("+Mu(a[c])+")");return b.join(",")},MultiPolygon:function(a){var b=[];a=a.Vd();for(var c=0,d=a.length;c<d;++c)b.push("("+Nu(a[c])+")");return b.join(",")},GeometryCollection:function(a){var b=[];a=a.vd();for(var c=0,d=a.length;c<d;++c)b.push(Ou(a[c]));return b.join(",")}};
k=Ku.prototype;k.fe=function(a,b){return(a=this.Gd(a,b))?(b=new Hk,b.Va(a),b):null};k.Ng=function(a,b){var c=[];a=this.Gd(a,b);this.b&&"GeometryCollection"==a.S()?c=a.a:c=[a];b=[];for(var d=0,e=c.length;d<e;++d)a=new Hk,a.Va(c[d]),b.push(a);return b};k.Gd=function(a,b){a=new Qu(new Ru(a));Su(a);return(a=Tu(a))?Jo(a,!1,b):null};k.pe=function(a,b){return(a=a.U())?this.Kd(a,b):""};
k.nh=function(a,b){if(1==a.length)return this.pe(a[0],b);for(var c=[],d=0,e=a.length;d<e;++d)c.push(a[d].U());a=new Mq(c);return this.Kd(a,b)};k.Kd=function(a,b){return Ou(Jo(a,!0,b))};function Ru(a){this.a=a;this.b=-1}
function Uu(a){var b=a.a.charAt(++a.b),c={position:a.b,value:b};if("("==b)c.type=2;else if(","==b)c.type=5;else if(")"==b)c.type=3;else if("0"<=b&&"9">=b||"."==b||"-"==b){c.type=4;b=a.b;var d=!1,e=!1;do{if("."==f)d=!0;else if("e"==f||"E"==f)e=!0;var f=a.a.charAt(++a.b)}while("0"<=f&&"9">=f||"."==f&&(void 0===d||!d)||!e&&("e"==f||"E"==f)||e&&("-"==f||"+"==f));a=parseFloat(a.a.substring(b,a.b--));c.value=a}else if("a"<=b&&"z">=b||"A"<=b&&"Z">=b){c.type=1;b=a.b;do f=a.a.charAt(++a.b);while("a"<=f&&"z">=
f||"A"<=f&&"Z">=f);a=a.a.substring(b,a.b--).toUpperCase();c.value=a}else{if(" "==b||"\t"==b||"\r"==b||"\n"==b)return Uu(a);if(""===b)c.type=6;else throw Error("Unexpected character: "+b);}return c}function Qu(a){this.g=a;this.a="XY"}function Su(a){a.b=Uu(a.g)}function Vu(a,b){(b=a.b.type==b)&&Su(a);return b}
function Tu(a){var b=a.b;if(Vu(a,1)){b=b.value;var c="XY",d=a.b;1==a.b.type&&(d=d.value,"Z"===d?c="XYZ":"M"===d?c="XYM":"ZM"===d&&(c="XYZM"),"XY"!==c&&Su(a));a.a=c;if("GEOMETRYCOLLECTION"==b){a:{if(Vu(a,2)){b=[];do b.push(Tu(a));while(Vu(a,5));if(Vu(a,3)){a=b;break a}}else if(Wu(a)){a=[];break a}throw Error(Xu(a));}return new Mq(a)}d=Yu[b];c=Zu[b];if(!d||!c)throw Error("Invalid geometry type: "+b);b=d.call(a);return new c(b,a.a)}throw Error(Xu(a));}k=Qu.prototype;
k.Hg=function(){if(Vu(this,2)){var a=$u(this);if(Vu(this,3))return a}else if(Wu(this))return null;throw Error(Xu(this));};k.Gg=function(){if(Vu(this,2)){var a=av(this);if(Vu(this,3))return a}else if(Wu(this))return[];throw Error(Xu(this));};k.Ig=function(){if(Vu(this,2)){var a=bv(this);if(Vu(this,3))return a}else if(Wu(this))return[];throw Error(Xu(this));};
k.Hp=function(){if(Vu(this,2)){var a;if(2==this.b.type)for(a=[this.Hg()];Vu(this,5);)a.push(this.Hg());else a=av(this);if(Vu(this,3))return a}else if(Wu(this))return[];throw Error(Xu(this));};k.Gp=function(){if(Vu(this,2)){var a=bv(this);if(Vu(this,3))return a}else if(Wu(this))return[];throw Error(Xu(this));};k.Ip=function(){if(Vu(this,2)){for(var a=[this.Ig()];Vu(this,5);)a.push(this.Ig());if(Vu(this,3))return a}else if(Wu(this))return[];throw Error(Xu(this));};
function $u(a){for(var b=[],c=a.a.length,d=0;d<c;++d){var e=a.b;if(Vu(a,4))b.push(e.value);else break}if(b.length==c)return b;throw Error(Xu(a));}function av(a){for(var b=[$u(a)];Vu(a,5);)b.push($u(a));return b}function bv(a){for(var b=[a.Gg()];Vu(a,5);)b.push(a.Gg());return b}function Wu(a){var b=1==a.b.type&&"EMPTY"==a.b.value;b&&Su(a);return b}function Xu(a){return"Unexpected `"+a.b.value+"` at position "+a.b.position+" in `"+a.g.a+"`"}
var Zu={POINT:C,LINESTRING:I,POLYGON:D,MULTIPOINT:No,MULTILINESTRING:P,MULTIPOLYGON:Q},Yu={POINT:Qu.prototype.Hg,LINESTRING:Qu.prototype.Gg,POLYGON:Qu.prototype.Ig,MULTIPOINT:Qu.prototype.Hp,MULTILINESTRING:Qu.prototype.Gp,MULTIPOLYGON:Qu.prototype.Ip};function cv(a){return a.getAttributeNS("http://www.w3.org/1999/xlink","href")};function dv(){}dv.prototype.read=function(a){return qo(a)?this.a(a):ro(a)?this.b(a):"string"===typeof a?(a=so(a),this.a(a)):null};function ev(){this.version=void 0}w(ev,dv);ev.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null};ev.prototype.b=function(a){this.version=a.getAttribute("version").trim();return(a=O({version:this.version},fv,a,[]))?a:null};function gv(a,b){return O({},hv,a,b)}function iv(a,b){return O({},jv,a,b)}function kv(a,b){if(b=gv(a,b))return a=[gp(a.getAttribute("width")),gp(a.getAttribute("height"))],b.size=a,b}
function lv(a,b){return O([],mv,a,b)}
var nv=[null,"http://www.opengis.net/wms"],fv=N(nv,{Service:L(function(a,b){return O({},ov,a,b)}),Capability:L(function(a,b){return O({},pv,a,b)})}),pv=N(nv,{Request:L(function(a,b){return O({},qv,a,b)}),Exception:L(function(a,b){return O([],rv,a,b)}),Layer:L(function(a,b){return O({},sv,a,b)})}),ov=N(nv,{Name:L(R),Title:L(R),Abstract:L(R),KeywordList:L(lv),OnlineResource:L(cv),ContactInformation:L(function(a,b){return O({},tv,a,b)}),Fees:L(R),AccessConstraints:L(R),LayerLimit:L(fp),MaxWidth:L(fp),
MaxHeight:L(fp)}),tv=N(nv,{ContactPersonPrimary:L(function(a,b){return O({},uv,a,b)}),ContactPosition:L(R),ContactAddress:L(function(a,b){return O({},vv,a,b)}),ContactVoiceTelephone:L(R),ContactFacsimileTelephone:L(R),ContactElectronicMailAddress:L(R)}),uv=N(nv,{ContactPerson:L(R),ContactOrganization:L(R)}),vv=N(nv,{AddressType:L(R),Address:L(R),City:L(R),StateOrProvince:L(R),PostCode:L(R),Country:L(R)}),rv=N(nv,{Format:uo(R)}),sv=N(nv,{Name:L(R),Title:L(R),Abstract:L(R),KeywordList:L(lv),CRS:wo(R),
EX_GeographicBoundingBox:L(function(a,b){var c=O({},wv,a,b);if(c){a=c.westBoundLongitude;b=c.southBoundLatitude;var d=c.eastBoundLongitude;c=c.northBoundLatitude;if(void 0!==a&&void 0!==b&&void 0!==d&&void 0!==c)return[a,b,d,c]}}),BoundingBox:wo(function(a){var b=[ep(a.getAttribute("minx")),ep(a.getAttribute("miny")),ep(a.getAttribute("maxx")),ep(a.getAttribute("maxy"))],c=[ep(a.getAttribute("resx")),ep(a.getAttribute("resy"))];return{crs:a.getAttribute("CRS"),extent:b,res:c}}),Dimension:wo(function(a){return{name:a.getAttribute("name"),
units:a.getAttribute("units"),unitSymbol:a.getAttribute("unitSymbol"),"default":a.getAttribute("default"),multipleValues:bp(a.getAttribute("multipleValues")),nearestValue:bp(a.getAttribute("nearestValue")),current:bp(a.getAttribute("current")),values:R(a)}}),Attribution:L(function(a,b){return O({},xv,a,b)}),AuthorityURL:wo(function(a,b){if(b=gv(a,b))return b.name=a.getAttribute("name"),b}),Identifier:wo(R),MetadataURL:wo(function(a,b){if(b=gv(a,b))return b.type=a.getAttribute("type"),b}),DataURL:wo(gv),
FeatureListURL:wo(gv),Style:wo(function(a,b){return O({},yv,a,b)}),MinScaleDenominator:L(dp),MaxScaleDenominator:L(dp),Layer:wo(function(a,b){var c=b[b.length-1],d=O({},sv,a,b);if(d)return b=bp(a.getAttribute("queryable")),void 0===b&&(b=c.queryable),d.queryable=void 0!==b?b:!1,b=gp(a.getAttribute("cascaded")),void 0===b&&(b=c.cascaded),d.cascaded=b,b=bp(a.getAttribute("opaque")),void 0===b&&(b=c.opaque),d.opaque=void 0!==b?b:!1,b=bp(a.getAttribute("noSubsets")),void 0===b&&(b=c.noSubsets),d.noSubsets=
void 0!==b?b:!1,(b=ep(a.getAttribute("fixedWidth")))||(b=c.fixedWidth),d.fixedWidth=b,(a=ep(a.getAttribute("fixedHeight")))||(a=c.fixedHeight),d.fixedHeight=a,["Style","CRS","AuthorityURL"].forEach(function(a){a in c&&(d[a]=(d[a]||[]).concat(c[a]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(a){a in d||(d[a]=c[a])}),d})}),xv=N(nv,{Title:L(R),OnlineResource:L(cv),LogoURL:L(kv)}),wv=N(nv,{westBoundLongitude:L(dp),
eastBoundLongitude:L(dp),southBoundLatitude:L(dp),northBoundLatitude:L(dp)}),qv=N(nv,{GetCapabilities:L(iv),GetMap:L(iv),GetFeatureInfo:L(iv)}),jv=N(nv,{Format:wo(R),DCPType:wo(function(a,b){return O({},zv,a,b)})}),zv=N(nv,{HTTP:L(function(a,b){return O({},Av,a,b)})}),Av=N(nv,{Get:L(gv),Post:L(gv)}),yv=N(nv,{Name:L(R),Title:L(R),Abstract:L(R),LegendURL:wo(kv),StyleSheetURL:L(gv),StyleURL:L(gv)}),hv=N(nv,{Format:L(R),OnlineResource:L(cv)}),mv=N(nv,{Keyword:uo(R)});function Bv(a){a=a?a:{};this.a="http://mapserver.gis.umn.edu/mapserver";this.b=new Tp;this.c=a.layers?a.layers:null;Wo.call(this)}w(Bv,Wo);
Bv.prototype.Kc=function(a,b){var c={};b&&kb(c,Ho(this,a,b));c=[c];a.setAttribute("namespaceURI",this.a);var d=a.localName;b=[];if(0!==a.childNodes.length){if("msGMLOutput"==d)for(var e=0,f=a.childNodes.length;e<f;e++){var g=a.childNodes[e];if(g.nodeType===Node.ELEMENT_NODE){var h=c[0],l=g.localName.replace("_layer","");if(!this.c||ec(this.c,l)){l+="_feature";h.featureType=l;h.featureNS=this.a;var m={};m[l]=uo(this.b.Kg,this.b);h=N([h.featureNS,null],m);g.setAttribute("namespaceURI",this.a);(g=O([],
h,g,c,this.b))&&gc(b,g)}}}"FeatureCollection"==d&&(a=O([],this.b.b,a,[{}],this.b))&&(b=a)}return b};Bv.prototype.mh=function(){};Bv.prototype.bc=function(){};Bv.prototype.re=function(){};function Cv(){}w(Cv,dv);Cv.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null};Cv.prototype.b=function(a){return(a=O({},Dv,a,[]))?a:null};
var Ev=[null,"http://www.opengis.net/ows/1.1"],Dv=N(Ev,{ServiceIdentification:L(function(a,b){return O({},Fv,a,b)}),ServiceProvider:L(function(a,b){return O({},Gv,a,b)}),OperationsMetadata:L(function(a,b){return O({},Hv,a,b)})}),Iv=N(Ev,{DeliveryPoint:L(R),City:L(R),AdministrativeArea:L(R),PostalCode:L(R),Country:L(R),ElectronicMailAddress:L(R)}),Jv=N(Ev,{Value:wo(function(a){return R(a)})}),Kv=N(Ev,{AllowedValues:L(function(a,b){return O({},Jv,a,b)})}),Mv=N(Ev,{Phone:L(function(a,b){return O({},
Lv,a,b)}),Address:L(function(a,b){return O({},Iv,a,b)})}),Ov=N(Ev,{HTTP:L(function(a,b){return O({},Nv,a,b)})}),Nv=N(Ev,{Get:wo(function(a,b){var c=cv(a);if(c)return O({href:c},Pv,a,b)}),Post:void 0}),Qv=N(Ev,{DCP:L(function(a,b){return O({},Ov,a,b)})}),Hv=N(Ev,{Operation:function(a,b){var c=a.getAttribute("name");(a=O({},Qv,a,b))&&(b[b.length-1][c]=a)}}),Lv=N(Ev,{Voice:L(R),Facsimile:L(R)}),Pv=N(Ev,{Constraint:wo(function(a,b){var c=a.getAttribute("name");if(c)return O({name:c},Kv,a,b)})}),Rv=N(Ev,
{IndividualName:L(R),PositionName:L(R),ContactInfo:L(function(a,b){return O({},Mv,a,b)})}),Fv=N(Ev,{Abstract:L(R),AccessConstraints:L(R),Fees:L(R),Title:L(R),ServiceTypeVersion:L(R),ServiceType:L(R)}),Gv=N(Ev,{ProviderName:L(R),ProviderSite:L(cv),ServiceContact:L(function(a,b){return O({},Rv,a,b)})});function Sv(){this.g=new Cv}w(Sv,dv);Sv.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null};Sv.prototype.b=function(a){var b=a.getAttribute("version").trim(),c=this.g.b(a);if(!c)return null;c.version=b;return(c=O(c,Tv,a,[]))?c:null};function Uv(a){var b=R(a).split(" ");if(b&&2==b.length&&(a=+b[0],b=+b[1],!isNaN(a)&&!isNaN(b)))return[a,b]}
var Vv=[null,"http://www.opengis.net/wmts/1.0"],Wv=[null,"http://www.opengis.net/ows/1.1"],Tv=N(Vv,{Contents:L(function(a,b){return O({},Xv,a,b)})}),Xv=N(Vv,{Layer:wo(function(a,b){return O({},Yv,a,b)}),TileMatrixSet:wo(function(a,b){return O({},Zv,a,b)})}),Yv=N(Vv,{Style:wo(function(a,b){if(b=O({},$v,a,b))return a="true"===a.getAttribute("isDefault"),b.isDefault=a,b}),Format:wo(R),TileMatrixSetLink:wo(function(a,b){return O({},aw,a,b)}),Dimension:wo(function(a,b){return O({},bw,a,b)}),ResourceURL:wo(function(a){var b=
a.getAttribute("format"),c=a.getAttribute("template");a=a.getAttribute("resourceType");var d={};b&&(d.format=b);c&&(d.template=c);a&&(d.resourceType=a);return d})},N(Wv,{Title:L(R),Abstract:L(R),WGS84BoundingBox:L(function(a,b){a=O([],cw,a,b);if(2==a.length)return Ca(a)}),Identifier:L(R)})),$v=N(Vv,{LegendURL:wo(function(a){var b={};b.format=a.getAttribute("format");b.href=cv(a);return b})},N(Wv,{Title:L(R),Identifier:L(R)})),aw=N(Vv,{TileMatrixSet:L(R),TileMatrixSetLimits:L(function(a,b){return O([],
dw,a,b)})}),dw=N(Vv,{TileMatrixLimits:uo(function(a,b){return O({},ew,a,b)})}),ew=N(Vv,{TileMatrix:L(R),MinTileRow:L(fp),MaxTileRow:L(fp),MinTileCol:L(fp),MaxTileCol:L(fp)}),bw=N(Vv,{Default:L(R),Value:wo(R)},N(Wv,{Identifier:L(R)})),cw=N(Wv,{LowerCorner:uo(Uv),UpperCorner:uo(Uv)}),Zv=N(Vv,{WellKnownScaleSet:L(R),TileMatrix:wo(function(a,b){return O({},fw,a,b)})},N(Wv,{SupportedCRS:L(R),Identifier:L(R)})),fw=N(Vv,{TopLeftCorner:L(Uv),ScaleDenominator:L(dp),TileWidth:L(fp),TileHeight:L(fp),MatrixWidth:L(fp),
MatrixHeight:L(fp)},N(Wv,{Identifier:L(R)}));function gw(a,b,c){hf.call(this);this.hh(a,b?b:0,c)}w(gw,hf);k=gw.prototype;k.clone=function(){var a=new gw(null);kf(a,this.ja,this.A.slice());a.u();return a};k.Nb=function(a,b,c,d){var e=this.A;a-=e[0];var f=b-e[1];b=a*a+f*f;if(b<d){if(0===b)for(d=0;d<this.a;++d)c[d]=e[d];else for(d=this.Bd()/Math.sqrt(b),c[0]=e[0]+d*a,c[1]=e[1]+d*f,d=2;d<this.a;++d)c[d]=e[d];c.length=this.a;return b}return d};k.Zc=function(a,b){var c=this.A;a-=c[0];b-=c[1];return a*a+b*b<=hw(this)};
k.xa=function(){return this.A.slice(0,this.a)};k.Ae=function(a){var b=this.A,c=b[this.a]-b[0];return Na(b[0]-c,b[1]-c,b[0]+c,b[1]+c,a)};k.Bd=function(){return Math.sqrt(hw(this))};function hw(a){var b=a.A[a.a]-a.A[0];a=a.A[a.a+1]-a.A[1];return b*b+a*a}k.S=function(){return"Circle"};k.$a=function(a){var b=this.G();return hb(a,b)?(b=this.xa(),a[0]<=b[0]&&a[2]>=b[0]||a[1]<=b[1]&&a[3]>=b[1]?!0:Ua(a,this.Bb,this)):!1};
k.ub=function(a){var b=this.a,c=a.slice();c[b]=c[0]+(this.A[b]-this.A[0]);var d;for(d=1;d<b;++d)c[b+d]=a[d];kf(this,this.ja,c);this.u()};k.hh=function(a,b,c){if(a){lf(this,c,a,0);this.A||(this.A=[]);c=this.A;a=vf(c,a);c[a++]=c[0]+b;var d;b=1;for(d=this.a;b<d;++b)c[a++]=c[b];c.length=a}else kf(this,"XY",null);this.u()};k.W=function(){};k.na=function(){};k.fd=function(a){this.A[this.a]=this.A[0]+a;this.u()};function iw(a){a=a?a:{};Jg.call(this,{handleEvent:Re});this.j=a.formatConstructors?a.formatConstructors:[];this.s=a.projection?Ob(a.projection):null;this.a=null;this.f=a.source||null;this.target=a.target?a.target:null}w(iw,Jg);function jw(a){a=a.dataTransfer.files;var b;var c=0;for(b=a.length;c<b;++c){var d=a.item(c);var e=new FileReader;e.addEventListener("load",this.l.bind(this,d));e.readAsText(d)}}function kw(a){a.stopPropagation();a.preventDefault();a.dataTransfer.dropEffect="copy"}
iw.prototype.l=function(a,b){b=b.target.result;var c=this.v,d=this.s;d||(d=c.aa().v);c=this.j;var e=[],f;var g=0;for(f=c.length;g<f;++g){var h=new c[g];var l={featureProjection:d};try{e=h.Qa(b,l)}catch(m){e=null}if(e&&0<e.length)break}this.f&&(this.f.clear(),this.f.Qc(e));this.b(new lw(mw,a,e,d))};function nw(a){var b=a.v;b&&(b=a.target?a.target:b.a,a.a=[y(b,"drop",jw,a),y(b,"dragenter",kw,a),y(b,"dragover",kw,a),y(b,"drop",kw,a)])}
iw.prototype.Ha=function(a){Jg.prototype.Ha.call(this,a);a?nw(this):ow(this)};iw.prototype.setMap=function(a){ow(this);Jg.prototype.setMap.call(this,a);this.c()&&nw(this)};function ow(a){a.a&&(a.a.forEach(Gc),a.a=null)}var mw="addfeatures";function lw(a,b,c,d){Qc.call(this,a);this.features=c;this.file=b;this.projection=d}w(lw,Qc);function pw(a){a=a?a:{};fh.call(this,{handleDownEvent:qw,handleDragEvent:rw,handleUpEvent:sw});this.s=a.condition?a.condition:bh;this.a=this.f=void 0;this.j=0;this.o=void 0!==a.duration?a.duration:400}w(pw,fh);
function rw(a){if(dh(a)){var b=a.map,c=b.Cb(),d=a.pixel;a=d[0]-c[0]/2;d=c[1]/2-d[1];c=Math.atan2(d,a);a=Math.sqrt(a*a+d*d);b=b.aa();b.l.rotation!==re&&void 0!==this.f&&(d=c-this.f,Kg(b,b.Sa()-d));this.f=c;void 0!==this.a&&(c=this.a*(b.Pa()/a),Tg(b,c));void 0!==this.a&&(this.j=this.a/a);this.a=a}}
function sw(a){if(!dh(a))return!0;a=a.map.aa();bg(a,1,-1);var b=this.j-1,c=a.Sa();c=a.constrainRotation(c,0);Kg(a,c,void 0,void 0);c=a.Pa();var d=this.o;c=a.constrainResolution(c,0,b);Tg(a,c,void 0,d);this.j=0;return!1}function qw(a){return dh(a)&&this.s(a)?(bg(a.map.aa(),1,1),this.a=this.f=void 0,!0):!1};function T(a){a=a?a:{};var b=kb({},a);delete b.style;delete b.renderBuffer;delete b.updateWhileAnimating;delete b.updateWhileInteracting;xg.call(this,b);this.D=void 0!==a.declutter?a.declutter:!1;this.f=void 0!==a.renderBuffer?a.renderBuffer:100;this.C=null;this.V=void 0;this.j(a.style);this.ca=void 0!==a.updateWhileAnimating?a.updateWhileAnimating:!1;this.ra=void 0!==a.updateWhileInteracting?a.updateWhileInteracting:!1;this.l=a.renderMode||"vector";this.type="VECTOR"}w(T,xg);T.prototype.B=function(){return this.C};
T.prototype.ib=function(){return this.V};T.prototype.j=function(a){this.C=void 0!==a?a:Fk;this.V=null===a?void 0:Dk(this.C);this.u()};var ik="renderOrder";function tw(){return[[-Infinity,-Infinity,Infinity,Infinity]]};function uw(a){Vc.call(this);this.c=Ob(a.projection);this.v=null;this.C=vw(this,a.attributions);this.T=a.logo;this.ra=void 0!==a.state?a.state:"ready";this.D=void 0!==a.wrapX?a.wrapX:!1}w(uw,Vc);
function vw(a,b){if(!b)return null;if(b instanceof Ec)return a.v=[b],function(){return[b.og]};if(Array.isArray(b)){if(b[0]instanceof Ec){a.v=b;var c=b.map(function(a){return a.og});return function(){return c}}a.v=b.map(function(a){return new Ec({html:a})});return function(){return b}}if("function"===typeof b)return b;a.v=[new Ec({html:b})];return function(){return[b]}}k=uw.prototype;k.wa=ea;k.za=function(){return this.v};k.Aa=function(){return this.T};k.Da=function(){return this.c};k.getState=function(){return this.ra};
k.sa=function(){this.u()};k.va=function(a){this.C=vw(this,a);this.u()};function ww(a,b){a.ra=b;a.u()};function U(a){a=a||{};uw.call(this,{attributions:a.attributions,logo:a.logo,projection:void 0,state:"ready",wrapX:void 0!==a.wrapX?a.wrapX:!0});this.o=ea;this.O=a.format;this.$=void 0==a.overlaps?!0:a.overlaps;this.V=a.url;void 0!==a.loader?this.o=a.loader:void 0!==this.V&&(oa(this.O,7),this.o=Fo(this.V,this.O));this.ca=void 0!==a.strategy?a.strategy:tw;var b=void 0!==a.useSpatialIndex?a.useSpatialIndex:!0;this.a=b?new um:null;this.B=new um;this.f={};this.j={};this.l={};this.s={};this.i=null;if(a.features instanceof
B){var c=a.features;var d=c.a}else Array.isArray(a.features)&&(d=a.features);b||void 0!==c||(c=new B(d));void 0!==d&&xw(this,d);void 0!==c&&yw(this,c)}w(U,uw);k=U.prototype;k.Gb=function(a){var b=x(a).toString();if(zw(this,b,a)){Aw(this,b,a);var c=a.U();c?(b=c.G(),this.a&&this.a.Ca(b,a)):this.f[b]=a;this.b(new Bw("addfeature",a))}this.u()};function Aw(a,b,c){a.s[b]=[y(c,"change",a.gj,a),y(c,"propertychange",a.gj,a)]}
function zw(a,b,c){var d=!0,e=c.c;void 0!==e?e.toString()in a.j?d=!1:a.j[e.toString()]=c:(oa(!(b in a.l),30),a.l[b]=c);return d}k.Qc=function(a){xw(this,a);this.u()};function xw(a,b){var c,d=[],e=[],f=[];var g=0;for(c=b.length;g<c;g++){var h=b[g];var l=x(h).toString();zw(a,l,h)&&e.push(h)}g=0;for(c=e.length;g<c;g++)h=e[g],l=x(h).toString(),Aw(a,l,h),(b=h.U())?(l=b.G(),d.push(l),f.push(h)):a.f[l]=h;a.a&&a.a.load(d,f);g=0;for(c=e.length;g<c;g++)a.b(new Bw("addfeature",e[g]))}
function yw(a,b){var c=!1;y(a,"addfeature",function(a){c||(c=!0,b.push(a.feature),c=!1)});y(a,"removefeature",function(a){c||(c=!0,b.remove(a.feature),c=!1)});y(b,"add",function(a){c||(c=!0,this.Gb(a.element),c=!1)},a);y(b,"remove",function(a){c||(c=!0,this.Lb(a.element),c=!1)},a);a.i=b}
k.clear=function(a){if(a){for(var b in this.s)this.s[b].forEach(Gc);this.i||(this.s={},this.j={},this.l={})}else if(this.a){this.a.forEach(this.Yg,this);for(var c in this.f)this.Yg(this.f[c])}this.i&&this.i.clear();this.a&&this.a.clear();this.B.clear();this.f={};this.b(new Bw("clear"));this.u()};k.Lh=function(a,b){if(this.a)return this.a.forEach(a,b);if(this.i)return this.i.forEach(a,b)};function Cw(a,b,c){a.ec([b[0],b[1],b[0],b[1]],function(a){if(a.U().Bb(b))return c.call(void 0,a)})}
k.ec=function(a,b,c){if(this.a)return zm(this.a,a,b,c);if(this.i)return this.i.forEach(b,c)};k.Mh=function(a,b,c){return this.ec(a,function(d){if(d.U().$a(a)&&(d=b.call(c,d)))return d})};k.Th=function(){return this.i};k.ee=function(){if(this.i)var a=this.i.a;else this.a&&(a=wm(this.a),nb(this.f)||gc(a,mb(this.f)));return a};k.Sh=function(a){var b=[];Cw(this,a,function(a){b.push(a)});return b};k.Yf=function(a){return xm(this.a,a)};
k.Oh=function(a,b){var c=a[0],d=a[1],e=null,f=[NaN,NaN],g=Infinity,h=[-Infinity,-Infinity,Infinity,Infinity],l=b?b:Re;zm(this.a,h,function(a){if(l(a)){var b=a.U(),m=g;g=b.Nb(c,d,f,g);g<m&&(e=a,a=Math.sqrt(g),h[0]=c-a,h[1]=d-a,h[2]=c+a,h[3]=d+a)}});return e};k.G=function(a){return this.a.G(a)};k.Rh=function(a){a=this.j[a.toString()];return void 0!==a?a:null};k.ej=function(){return this.O};k.fj=function(){return this.V};
k.gj=function(a){a=a.target;var b=x(a).toString(),c=a.U();c?(c=c.G(),b in this.f?(delete this.f[b],this.a&&this.a.Ca(c,a)):this.a&&vm(this.a,c,a)):b in this.f||(this.a&&this.a.remove(a),this.f[b]=a);c=a.c;void 0!==c?(c=c.toString(),b in this.l?(delete this.l[b],this.j[c]=a):this.j[c]!==a&&(Dw(this,a),this.j[c]=a)):b in this.l||(Dw(this,a),this.l[b]=a);this.u();this.b(new Bw("changefeature",a))};
k.ae=function(a,b,c){var d=this.B;a=this.ca(a,b);var e;var f=0;for(e=a.length;f<e;++f){var g=a[f];zm(d,g,function(a){return La(a.extent,g)})||(this.o.call(this,g,b,c),d.Ca(g,{extent:g.slice()}))}};k.Cj=function(a){var b=this.B,c;zm(b,a,function(b){if(Sa(b.extent,a))return c=b,!0});c&&b.remove(c)};k.Lb=function(a){var b=x(a).toString();b in this.f?delete this.f[b]:this.a&&this.a.remove(a);this.Yg(a);this.u()};
k.Yg=function(a){var b=x(a).toString();this.s[b].forEach(Gc);delete this.s[b];var c=a.c;void 0!==c?delete this.j[c.toString()]:delete this.l[b];this.b(new Bw("removefeature",a))};function Dw(a,b){for(var c in a.j)if(a.j[c]===b){delete a.j[c];break}}k.hj=function(a){this.o=a};function Bw(a,b){Qc.call(this,a);this.feature=b}w(Bw,Qc);function Ew(a){fh.call(this,{handleDownEvent:Fw,handleEvent:Gw,handleUpEvent:Hw});this.V=!1;this.ca=null;this.o=!1;this.ob=a.source?a.source:null;this.La=a.features?a.features:null;this.Xk=a.snapTolerance?a.snapTolerance:12;this.O=a.type;this.f=Iw(this.O);this.$k=!!a.stopClick;this.Ea=a.minPoints?a.minPoints:this.f===Jw?3:2;this.ua=a.maxPoints?a.maxPoints:Infinity;this.Md=a.finishCondition?a.finishCondition:Re;var b=a.geometryFunction;if(!b)if("Circle"===this.O)b=function(a,b){b=b?b:new gw([NaN,NaN]);
b.hh(a[0],Math.sqrt(He(a[0],a[1])));return b};else{var c,d=this.f;d===Kw?c=C:d===Lw?c=I:d===Jw&&(c=D);b=function(a,b){b?d===Jw?a[0].length?b.na([a[0].concat([a[0][0]])]):b.na([]):b.na(a):b=new c(a);return b}}this.cb=b;this.T=this.C=this.a=this.B=this.j=this.s=null;this.sc=a.clickTolerance?a.clickTolerance*a.clickTolerance:36;this.ra=new T({source:new U({useSpatialIndex:!1,wrapX:a.wrapX?a.wrapX:!1}),style:a.style?a.style:Mw()});this.bb=a.geometryName;this.Wk=a.condition?a.condition:ah;this.If=a.freehand?
Re:a.freehandCondition?a.freehandCondition:bh;y(this,Xc("active"),this.Ki,this)}w(Ew,fh);function Mw(){var a=Gk();return function(b){return a[b.U().S()]}}k=Ew.prototype;k.setMap=function(a){fh.prototype.setMap.call(this,a);this.Ki()};function Gw(a){this.o=this.f!==Kw&&this.If(a);var b=!0;this.o&&"pointerdrag"===a.type&&null!==this.j?(Nw(this,a),b=!1):this.o&&"pointerdown"===a.type?b=!1:"pointermove"===a.type?b=Ow(this,a):"dblclick"===a.type&&(b=!1);return gh.call(this,a)&&b}
function Fw(a){this.V=!this.o;return this.o?(this.ca=a.pixel,this.s||Pw(this,a),!0):this.Wk(a)?(this.ca=a.pixel,!0):!1}function Hw(a){var b=!0;Ow(this,a);var c=this.f===Qw;this.V?(this.s?this.o||c?this.Pd():Rw(this,a)?this.Md(a)&&this.Pd():Nw(this,a):(Pw(this,a),this.f===Kw&&this.Pd()),b=!1):this.o&&(this.s=null,Sw(this));!b&&this.$k&&a.stopPropagation();return b}
function Ow(a,b){if(a.ca&&(!a.o&&a.V||a.o&&!a.V)){var c=a.ca,d=b.pixel,e=c[0]-d[0];c=c[1]-d[1];e=e*e+c*c;a.V=a.o?e>a.sc:e<=a.sc}a.s?(e=b.coordinate,c=a.j.U(),a.f===Kw?d=a.a:a.f===Jw?(d=a.a[0],d=d[d.length-1],Rw(a,b)&&(e=a.s.slice())):(d=a.a,d=d[d.length-1]),d[0]=e[0],d[1]=e[1],a.cb(a.a,c),a.B&&a.B.U().na(e),c instanceof D&&a.f!==Jw?(a.C||(a.C=new Hk(new I(null))),e=c.Wh(0),b=a.C.U(),b.ba(e.ja,e.da())):a.T&&(b=a.C.U(),b.na(a.T)),Tw(a)):(b=b.coordinate.slice(),a.B?a.B.U().na(b):(a.B=new Hk(new C(b)),
Tw(a)));return!0}function Rw(a,b){var c=!1;if(a.j){var d=!1,e=[a.s];a.f===Lw?d=a.a.length>a.Ea:a.f===Jw&&(d=a.a[0].length>a.Ea,e=[a.a[0][0],a.a[0][a.a[0].length-2]]);if(d){d=b.map;for(var f=0,g=e.length;f<g;f++){var h=e[f],l=d.Ia(h),m=b.pixel;c=m[0]-l[0];l=m[1]-l[1];if(c=Math.sqrt(c*c+l*l)<=(a.o?1:a.Xk)){a.s=h;break}}}}return c}
function Pw(a,b){b=b.coordinate;a.s=b;a.f===Kw?a.a=b.slice():a.f===Jw?(a.a=[[b.slice(),b.slice()]],a.T=a.a[0]):(a.a=[b.slice(),b.slice()],a.f===Qw&&(a.T=a.a));a.T&&(a.C=new Hk(new I(a.T)));b=a.cb(a.a);a.j=new Hk;a.bb&&a.j.Lc(a.bb);a.j.Va(b);Tw(a);a.b(new Uw("drawstart",a.j))}
function Nw(a,b){b=b.coordinate;var c=a.j.U(),d;if(a.f===Lw){a.s=b.slice();var e=a.a;e.length>=a.ua&&(a.o?e.pop():d=!0);e.push(b.slice());a.cb(e,c)}else a.f===Jw&&(e=a.a[0],e.length>=a.ua&&(a.o?e.pop():d=!0),e.push(b.slice()),d&&(a.s=e[0]),a.cb(a.a,c));Tw(a);d&&a.Pd()}
k.nq=function(){if(this.j){var a=this.j.U();if(this.f===Lw){var b=this.a;b.splice(-2,1);this.cb(b,a);2<=b.length&&(this.s=b[b.length-2].slice())}else if(this.f===Jw){b=this.a[0];b.splice(-2,1);var c=this.C.U();c.na(b);this.cb(this.a,a)}0===b.length&&(this.s=null);Tw(this)}};
k.Pd=function(){var a=Sw(this),b=this.a,c=a.U();this.f===Lw?(b.pop(),this.cb(b,c)):this.f===Jw&&(b[0].pop(),this.cb(b,c),b=c.W());"MultiPoint"===this.O?a.Va(new No([b])):"MultiLineString"===this.O?a.Va(new P([b])):"MultiPolygon"===this.O&&a.Va(new Q([b]));this.b(new Uw("drawend",a));this.La&&this.La.push(a);this.ob&&this.ob.Gb(a)};function Sw(a){a.s=null;var b=a.j;b&&(a.j=null,a.B=null,a.C=null,a.ra.ha().clear(!0));return b}
k.Zn=function(a){var b=a.U();this.j=a;this.a=b.W();a=this.a[this.a.length-1];this.s=a.slice();this.a.push(a.slice());Tw(this);this.b(new Uw("drawstart",this.j))};k.jd=Se;function Tw(a){var b=[];a.j&&b.push(a.j);a.C&&b.push(a.C);a.B&&b.push(a.B);a=a.ra.ha();a.clear(!0);a.Qc(b)}k.Ki=function(){var a=this.v,b=this.c();a&&b||Sw(this);this.ra.setMap(b?a:null)};
function Iw(a){var b;"Point"===a||"MultiPoint"===a?b=Kw:"LineString"===a||"MultiLineString"===a?b=Lw:"Polygon"===a||"MultiPolygon"===a?b=Jw:"Circle"===a&&(b=Qw);return b}var Kw="Point",Lw="LineString",Jw="Polygon",Qw="Circle";function Uw(a,b){Qc.call(this,a);this.feature=b}w(Uw,Qc);function Vw(a){var b=a||{};this.a=this.j=null;this.C=void 0!==b.pixelTolerance?b.pixelTolerance:10;this.B=!1;this.T=this.s=null;a||(a={});fh.call(this,{handleDownEvent:Ww,handleDragEvent:Xw,handleEvent:Yw,handleUpEvent:Zw});this.o=new T({source:new U({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.boxStyle?a.boxStyle:$w(),updateWhileAnimating:!0,updateWhileInteracting:!0});this.O=new T({source:new U({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.pointerStyle?a.pointerStyle:ax(),updateWhileAnimating:!0,
updateWhileInteracting:!0});a.extent&&this.f(a.extent)}w(Vw,fh);function Yw(a){if(!(a instanceof Ad))return!0;if("pointermove"==a.type&&!this.D){var b=a.pixel,c=a.map,d=bx(this,b,c);d||(d=c.Ra(b));cx(this,d)}gh.call(this,a);return!1}
function Ww(a){function b(a){var b=null,c=null;a[0]==e[0]?b=e[2]:a[0]==e[2]&&(b=e[0]);a[1]==e[1]?c=e[3]:a[1]==e[3]&&(c=e[1]);return null!==b&&null!==c?[b,c]:null}var c=a.pixel,d=a.map,e=this.G();(a=bx(this,c,d))&&e?(c=a[0]==e[0]||a[0]==e[2]?a[0]:null,d=a[1]==e[1]||a[1]==e[3]?a[1]:null,null!==c&&null!==d?this.a=dx(b(a)):null!==c?this.a=ex(b([c,e[1]]),b([c,e[3]])):null!==d&&(this.a=ex(b([e[0],d]),b([e[2],d])))):(a=d.Ra(c),this.f([a[0],a[1],a[0],a[1]]),this.a=dx(a));return!0}
function Xw(a){this.a&&(a=a.coordinate,this.f(this.a(a)),cx(this,a));return!0}function Zw(){this.a=null;var a=this.G();a&&0!==ab(a)||this.f(null);return!1}function $w(){var a=Gk();return function(){return a.Polygon}}function ax(){var a=Gk();return function(){return a.Point}}function dx(a){return function(b){return Ca([a,b])}}function ex(a,b){return a[0]==b[0]?function(c){return Ca([a,[c[0],b[1]]])}:a[1]==b[1]?function(c){return Ca([a,[b[0],c[1]]])}:null}
function bx(a,b,c){function d(a,b){return Je(e,a)-Je(e,b)}var e=c.Ra(b),f=a.G();if(f){f=[[[f[0],f[1]],[f[0],f[3]]],[[f[0],f[3]],[f[2],f[3]]],[[f[2],f[3]],[f[2],f[1]]],[[f[2],f[1]],[f[0],f[1]]]];f.sort(d);f=f[0];var g=Be(e,f),h=c.Ia(g);if(Ie(b,h)<=a.C)return b=c.Ia(f[0]),c=c.Ia(f[1]),b=He(h,b),c=He(h,c),a.B=Math.sqrt(Math.min(b,c))<=a.C,a.B&&(g=b>c?f[1]:f[0]),g}return null}function cx(a,b){var c=a.T;c?c.U().na(b):(c=new Hk(new C(b)),a.T=c,a.O.ha().Gb(c))}
Vw.prototype.setMap=function(a){this.o.setMap(a);this.O.setMap(a);fh.prototype.setMap.call(this,a)};Vw.prototype.G=function(){return this.j};Vw.prototype.f=function(a){this.j=a?a:null;var b=this.s;b?a?b.Va(Rf(a)):b.Va(void 0):(this.s=b=a?new Hk(Rf(a)):new Hk({}),this.o.ha().Gb(b));this.b(new fx(this.j))};function fx(a){Qc.call(this,"extentchanged");this.extent=a}w(fx,Qc);function gx(a){fh.call(this,{handleDownEvent:hx,handleDragEvent:ix,handleEvent:jx,handleUpEvent:kx});this.Md=a.condition?a.condition:eh;this.bb=function(a){return Wg(a)&&$g(a)};this.ob=a.deleteCondition?a.deleteCondition:this.bb;this.sc=a.insertVertexCondition?a.insertVertexCondition:Re;this.La=this.f=null;this.Ea=[0,0];this.C=this.T=!1;this.a=new um;this.ra=void 0!==a.pixelTolerance?a.pixelTolerance:10;this.s=this.ua=!1;this.j=[];this.B=new T({source:new U({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.style?
a.style:lx(),updateWhileAnimating:!0,updateWhileInteracting:!0});this.ca={Point:this.io,LineString:this.Mi,LinearRing:this.Mi,Polygon:this.jo,MultiPoint:this.fo,MultiLineString:this.eo,MultiPolygon:this.ho,Circle:this.bo,GeometryCollection:this.co};this.V=null;a.source?(this.V=a.source,a=new B(this.V.ee()),y(this.V,"addfeature",this.vm,this),y(this.V,"removefeature",this.xm,this)):a=a.features;if(!a)throw Error("The modify interaction requires features or a source");this.o=a;this.o.forEach(this.xg,
this);y(this.o,"add",this.$n,this);y(this.o,"remove",this.ao,this);this.O=null}w(gx,fh);k=gx.prototype;k.xg=function(a){var b=a.U();b&&b.S()in this.ca&&this.ca[b.S()].call(this,a,b);(b=this.v)&&b.c&&this.c()&&mx(this,this.Ea,b);y(a,"change",this.Li,this)};function nx(a,b){a.C||(a.C=!0,a.b(new ox("modifystart",a.o,b)))}function px(a,b){qx(a,b);a.f&&0===a.o.kc()&&(a.B.ha().Lb(a.f),a.f=null);Mc(b,"change",a.Li,a)}
function qx(a,b){a=a.a;var c=[];a.forEach(function(a){b===a.feature&&c.push(a)});for(var d=c.length-1;0<=d;--d)a.remove(c[d])}k.Ha=function(a){this.f&&!a&&(this.B.ha().Lb(this.f),this.f=null);fh.prototype.Ha.call(this,a)};k.setMap=function(a){this.B.setMap(a);fh.prototype.setMap.call(this,a)};k.vm=function(a){a.feature&&this.o.push(a.feature)};k.xm=function(a){a.feature&&this.o.remove(a.feature)};k.$n=function(a){this.xg(a.element)};k.Li=function(a){this.s||(a=a.target,px(this,a),this.xg(a))};
k.ao=function(a){px(this,a.element)};k.io=function(a,b){var c=b.W();a={feature:a,geometry:b,ma:[c,c]};this.a.Ca(b.G(),a)};k.fo=function(a,b){var c=b.W(),d;var e=0;for(d=c.length;e<d;++e){var f=c[e];f={feature:a,geometry:b,depth:[e],index:e,ma:[f,f]};this.a.Ca(b.G(),f)}};k.Mi=function(a,b){var c=b.W(),d;var e=0;for(d=c.length-1;e<d;++e){var f=c.slice(e,e+2);var g={feature:a,geometry:b,index:e,ma:f};this.a.Ca(Ca(f),g)}};
k.eo=function(a,b){var c=b.W(),d,e;var f=0;for(e=c.length;f<e;++f){var g=c[f];var h=0;for(d=g.length-1;h<d;++h){var l=g.slice(h,h+2);var m={feature:a,geometry:b,depth:[f],index:h,ma:l};this.a.Ca(Ca(l),m)}}};k.jo=function(a,b){var c=b.W(),d,e;var f=0;for(e=c.length;f<e;++f){var g=c[f];var h=0;for(d=g.length-1;h<d;++h){var l=g.slice(h,h+2);var m={feature:a,geometry:b,depth:[f],index:h,ma:l};this.a.Ca(Ca(l),m)}}};
k.ho=function(a,b){var c=b.W(),d,e,f;var g=0;for(f=c.length;g<f;++g){var h=c[g];var l=0;for(e=h.length;l<e;++l){var m=h[l];var n=0;for(d=m.length-1;n<d;++n){var p=m.slice(n,n+2);var q={feature:a,geometry:b,depth:[l,g],index:n,ma:p};this.a.Ca(Ca(p),q)}}}};k.bo=function(a,b){var c=b.xa(),d={feature:a,geometry:b,index:0,ma:[c,c]};a={feature:a,geometry:b,index:1,ma:[c,c]};d.Tf=a.Tf=[d,a];this.a.Ca(Pa(c),d);this.a.Ca(b.G(),a)};
k.co=function(a,b){var c=b.a;for(b=0;b<c.length;++b)this.ca[c[b].S()].call(this,a,c[b])};function rx(a,b){var c=a.f;c?c.U().na(b):(c=new Hk(new C(b)),a.f=c,a.B.ha().Gb(c))}function sx(a,b){return a.index-b.index}
function hx(a){if(!this.Md(a))return!1;mx(this,a.pixel,a.map);var b=a.map.Ra(a.pixel);this.j.length=0;this.C=!1;var c=this.f;if(c){var d=[];c=c.U().W();var e=Ca([c]);e=xm(this.a,e);var f={};e.sort(sx);for(var g=0,h=e.length;g<h;++g){var l=e[g],m=l.ma,n=x(l.feature),p=l.depth;p&&(n+="-"+p.join("-"));f[n]||(f[n]=Array(2));if("Circle"===l.geometry.S()&&1===l.index)m=tx(b,l),Ee(m,c)&&!f[n][0]&&(this.j.push([l,0]),f[n][0]=l);else if(Ee(m[0],c)&&!f[n][0])this.j.push([l,0]),f[n][0]=l;else if(Ee(m[1],c)&&
!f[n][1]){if("LineString"!==l.geometry.S()&&"MultiLineString"!==l.geometry.S()||!f[n][0]||0!==f[n][0].index)this.j.push([l,1]),f[n][1]=l}else this.sc(a)&&x(m)in this.La&&!f[n][0]&&!f[n][1]&&d.push([l,c])}d.length&&nx(this,a);for(a=d.length-1;0<=a;--a)this.Em.apply(this,d[a])}return!!this.f}
function ix(a){this.T=!1;nx(this,a);a=a.coordinate;for(var b=0,c=this.j.length;b<c;++b){var d=this.j[b],e=d[0],f=e.depth,g=e.geometry,h=e.ma;for(d=d[1];a.length<g.pa();)a.push(h[d][a.length]);switch(g.S()){case "Point":var l=a;h[0]=h[1]=a;break;case "MultiPoint":l=g.W();l[e.index]=a;h[0]=h[1]=a;break;case "LineString":l=g.W();l[e.index+d]=a;h[d]=a;break;case "MultiLineString":l=g.W();l[f[0]][e.index+d]=a;h[d]=a;break;case "Polygon":l=g.W();l[f[0]][e.index+d]=a;h[d]=a;break;case "MultiPolygon":l=g.W();
l[f[1]][f[0]][e.index+d]=a;h[d]=a;break;case "Circle":h[0]=h[1]=a,0===e.index?(this.s=!0,g.ub(a)):(this.s=!0,g.fd(Ie(g.xa(),a))),this.s=!1}l&&(e=g,f=l,this.s=!0,e.na(f),this.s=!1)}rx(this,a)}function kx(a){for(var b,c,d=this.j.length-1;0<=d;--d)if(b=this.j[d][0],c=b.geometry,"Circle"===c.S()){var e=c.xa(),f=b.Tf[0];b=b.Tf[1];f.ma[0]=f.ma[1]=e;b.ma[0]=b.ma[1]=e;vm(this.a,Pa(e),f);vm(this.a,c.G(),b)}else vm(this.a,Ca(b.ma),b);this.C&&(this.b(new ox("modifyend",this.o,a)),this.C=!1);return!1}
function jx(a){if(!(a instanceof Ad))return!0;this.O=a;var b;a.map.aa().Vh()||"pointermove"!=a.type||this.D||(this.Ea=a.pixel,mx(this,a.pixel,a.map));this.f&&this.ob(a)&&(b="singleclick"==a.type&&this.T?!0:this.Dj());"singleclick"==a.type&&(this.T=!1);return gh.call(this,a)&&!b}
function mx(a,b,c){function d(a,b){return ux(e,a)-ux(e,b)}var e=c.Ra(b),f=Fa(Pa(e),c.aa().Pa()*a.ra);f=xm(a.a,f);if(0<f.length){f.sort(d);var g=f[0],h=g.ma,l=tx(e,g),m=c.Ia(l),n=Ie(b,m);if(n<=a.ra){b={};if("Circle"===g.geometry.S()&&1===g.index)a.ua=!0,rx(a,l);else for(n=c.Ia(h[0]),g=c.Ia(h[1]),c=He(m,n),m=He(m,g),n=Math.sqrt(Math.min(c,m)),a.ua=n<=a.ra,a.ua&&(l=c>m?h[1]:h[0]),rx(a,l),m=1,c=f.length;m<c;++m)if(l=f[m].ma,Ee(h[0],l[0])&&Ee(h[1],l[1])||Ee(h[0],l[1])&&Ee(h[1],l[0]))b[x(l)]=!0;else break;
b[x(h)]=!0;a.La=b;return}}a.f&&(a.B.ha().Lb(a.f),a.f=null)}function ux(a,b){var c=b.geometry;return"Circle"===c.S()&&1===b.index?(a=He(c.xa(),a),c=Math.sqrt(a)-c.Bd(),c*c):Je(a,b.ma)}function tx(a,b){var c=b.geometry;return"Circle"===c.S()&&1===b.index?c.Ib(a):Be(a,b.ma)}
k.Em=function(a,b){for(var c=a.ma,d=a.feature,e=a.geometry,f=a.depth,g=a.index,h;b.length<e.pa();)b.push(0);switch(e.S()){case "MultiLineString":h=e.W();h[f[0]].splice(g+1,0,b);break;case "Polygon":h=e.W();h[f[0]].splice(g+1,0,b);break;case "MultiPolygon":h=e.W();h[f[1]][f[0]].splice(g+1,0,b);break;case "LineString":h=e.W();h.splice(g+1,0,b);break;default:return}this.s=!0;e.na(h);this.s=!1;h=this.a;h.remove(a);vx(this,e,g,f,1);a={ma:[c[0],b],feature:d,geometry:e,depth:f,index:g};h.Ca(Ca(a.ma),a);
this.j.push([a,1]);b={ma:[b,c[1]],feature:d,geometry:e,depth:f,index:g+1};h.Ca(Ca(b.ma),b);this.j.push([b,0]);this.T=!0};
k.Dj=function(){if(this.O&&"pointerdrag"!=this.O.type){var a=this.O;nx(this,a);var b=this.j,c={},d,e;for(e=b.length-1;0<=e;--e){var f=b[e];var g=f[0];var h=x(g.feature);g.depth&&(h+="-"+g.depth.join("-"));h in c||(c[h]={});0===f[1]?(c[h].right=g,c[h].index=g.index):1==f[1]&&(c[h].left=g,c[h].index=g.index+1)}for(h in c){var l=c[h].right;var m=c[h].left;e=c[h].index;var n=e-1;g=void 0!==m?m:l;0>n&&(n=0);f=g.geometry;var p=d=f.W();var q=!1;switch(f.S()){case "MultiLineString":2<d[g.depth[0]].length&&
(d[g.depth[0]].splice(e,1),q=!0);break;case "LineString":2<d.length&&(d.splice(e,1),q=!0);break;case "MultiPolygon":p=p[g.depth[1]];case "Polygon":p=p[g.depth[0]],4<p.length&&(e==p.length-1&&(e=0),p.splice(e,1),q=!0,0===e&&(p.pop(),p.push(p[0]),n=p.length-1))}q&&(q=f,this.s=!0,q.na(d),this.s=!1,d=[],void 0!==m&&(this.a.remove(m),d.push(m.ma[0])),void 0!==l&&(this.a.remove(l),d.push(l.ma[1])),void 0!==m&&void 0!==l&&(m={depth:g.depth,feature:g.feature,geometry:g.geometry,index:n,ma:d},this.a.Ca(Ca(m.ma),
m)),vx(this,f,e,g.depth,-1),this.f&&(this.B.ha().Lb(this.f),this.f=null),b.length=0)}this.b(new ox("modifyend",this.o,a));this.C=!1;return!0}return!1};function vx(a,b,c,d,e){zm(a.a,b.G(),function(a){a.geometry===b&&(void 0===d||void 0===a.depth||jc(a.depth,d))&&a.index>c&&(a.index+=e)})}function lx(){var a=Gk();return function(){return a.Point}}function ox(a,b,c){Qc.call(this,a);this.features=b;this.mapBrowserEvent=c}w(ox,Qc);function wx(a){Jg.call(this,{handleEvent:xx});a=a?a:{};this.C=a.condition?a.condition:$g;this.D=a.addCondition?a.addCondition:Se;this.B=a.removeCondition?a.removeCondition:Se;this.T=a.toggleCondition?a.toggleCondition:bh;this.s=a.multi?a.multi:!1;this.l=a.filter?a.filter:Re;this.j=a.hitTolerance?a.hitTolerance:0;this.f=new T({source:new U({useSpatialIndex:!1,features:a.features,wrapX:a.wrapX}),style:a.style?a.style:yx(),updateWhileAnimating:!0,updateWhileInteracting:!0});if(a.layers)if("function"===
typeof a.layers)a=a.layers;else{var b=a.layers;a=function(a){return ec(b,a)}}else a=Re;this.o=a;this.a={};a=this.f.ha().i;y(a,"add",this.ko,this);y(a,"remove",this.oo,this)}w(wx,Jg);k=wx.prototype;k.lo=function(){return this.f.ha().i};k.mo=function(){return this.j};k.no=function(a){a=x(a);return this.a[a]};
function xx(a){if(!this.C(a))return!0;var b=this.D(a),c=this.B(a),d=this.T(a),e=!b&&!c&&!d,f=a.map,g=this.f.ha().i,h=[],l=[];if(e){lb(this.a);f.Tc(a.pixel,function(a,b){if(this.l(a,b))return l.push(a),a=x(a),this.a[a]=b,!this.s}.bind(this),{layerFilter:this.o,hitTolerance:this.j});for(e=g.kc()-1;0<=e;--e){f=g.item(e);var m=l.indexOf(f);-1<m?l.splice(m,1):(g.remove(f),h.push(f))}0!==l.length&&g.qg(l)}else{f.Tc(a.pixel,function(a,e){if(this.l(a,e))return!b&&!d||ec(g.a,a)?(c||d)&&ec(g.a,a)&&(h.push(a),
e=x(a),delete this.a[e]):(l.push(a),a=x(a),this.a[a]=e),!this.s}.bind(this),{layerFilter:this.o,hitTolerance:this.j});for(e=h.length-1;0<=e;--e)g.remove(h[e]);g.qg(l)}(0<l.length||0<h.length)&&this.b(new zx(Ax,l,h,a));return Zg(a)}k.po=function(a){this.j=a};k.setMap=function(a){var b=this.v,c=this.f.ha().i;b&&c.forEach(b.Zj,b);Jg.prototype.setMap.call(this,a);this.f.setMap(a);a&&c.forEach(a.Uj,a)};
function yx(){var a=Gk();gc(a.Polygon,a.LineString);gc(a.GeometryCollection,a.LineString);return function(b){return b.U()?a[b.U().S()]:null}}k.ko=function(a){var b=this.v;b&&b.Uj(a.element)};k.oo=function(a){var b=this.v;b&&b.Zj(a.element)};function zx(a,b,c,d){Qc.call(this,a);this.selected=b;this.deselected=c;this.mapBrowserEvent=d}w(zx,Qc);var Ax="select";function Bx(a){fh.call(this,{handleEvent:Cx,handleDownEvent:Re,handleUpEvent:Dx});a=a?a:{};this.s=a.source?a.source:null;this.O=void 0!==a.vertex?a.vertex:!0;this.C=void 0!==a.edge?a.edge:!0;this.j=a.features?a.features:null;this.ra=[];this.B={};this.V={};this.o={};this.T=null;this.f=void 0!==a.pixelTolerance?a.pixelTolerance:10;this.ua=Ex.bind(this);this.a=new um;this.ca={Point:this.wo,LineString:this.Pi,LinearRing:this.Pi,Polygon:this.xo,MultiPoint:this.uo,MultiLineString:this.to,MultiPolygon:this.vo,
GeometryCollection:this.so,Circle:this.ro}}w(Bx,fh);k=Bx.prototype;k.Gb=function(a,b){b=void 0!==b?b:!0;var c=x(a),d=a.U();if(d){var e=this.ca[d.S()];e&&(this.V[c]=d.G(Da()),e.call(this,a,d))}b&&(this.B[c]=y(a,"change",this.qo,this))};k.bl=function(a){this.Gb(a)};k.cl=function(a){this.Lb(a)};k.Ni=function(a){if(a instanceof Bw)var b=a.feature;else a instanceof cd&&(b=a.element);this.Gb(b)};k.Oi=function(a){if(a instanceof Bw)var b=a.feature;else a instanceof cd&&(b=a.element);this.Lb(b)};
k.qo=function(a){a=a.target;if(this.D){var b=x(a);b in this.o||(this.o[b]=a)}else this.$j(a)};k.Lb=function(a,b){b=void 0!==b?b:!0;var c=x(a),d=this.V[c];if(d){var e=this.a,f=[];zm(e,d,function(b){a===b.feature&&f.push(b)});for(d=f.length-1;0<=d;--d)e.remove(f[d])}b&&(Gc(this.B[c]),delete this.B[c])};
k.setMap=function(a){var b=this.v,c=this.ra,d;this.j?d=this.j:this.s&&(d=this.s.ee());b&&(c.forEach(Gc),c.length=0,d.forEach(this.cl,this));fh.prototype.setMap.call(this,a);a&&(this.j?c.push(y(this.j,"add",this.Ni,this),y(this.j,"remove",this.Oi,this)):this.s&&c.push(y(this.s,"addfeature",this.Ni,this),y(this.s,"removefeature",this.Oi,this)),d.forEach(this.bl,this))};k.jd=Se;
function Fx(a,b,c,d){var e=d.Ra([b[0]-a.f,b[1]+a.f]),f=d.Ra([b[0]+a.f,b[1]-a.f]);e=Ca([e,f]);var g=xm(a.a,e);a.O&&!a.C&&(g=g.filter(function(a){return"Circle"!==a.feature.U().S()}));var h=!1;e=!1;var l=f=null;if(0<g.length){a.T=c;g.sort(a.ua);var m=g[0].ma;h="Circle"===g[0].feature.U().S();if(a.O&&!a.C){if(c=d.Ia(m[0]),h=d.Ia(m[1]),c=He(b,c),b=He(b,h),h=Math.sqrt(Math.min(c,b)),h=h<=a.f)e=!0,f=c>b?m[1]:m[0],l=d.Ia(f)}else a.C&&(f=h?Ae(c,g[0].feature.U()):Be(c,m),l=d.Ia(f),Ie(b,l)<=a.f&&(e=!0,a.O&&
!h&&(c=d.Ia(m[0]),h=d.Ia(m[1]),c=He(l,c),b=He(l,h),h=Math.sqrt(Math.min(c,b)),h=h<=a.f)))&&(f=c>b?m[1]:m[0],l=d.Ia(f));e&&(l=[Math.round(l[0]),Math.round(l[1])])}return{Mq:e,vertex:f,Vq:l}}k.$j=function(a){this.Lb(a,!1);this.Gb(a,!1)};k.ro=function(a,b){b=Sf(b).W()[0];var c;var d=0;for(c=b.length-1;d<c;++d){var e=b.slice(d,d+2);var f={feature:a,ma:e};this.a.Ca(Ca(e),f)}};k.so=function(a,b){var c=b.a;for(b=0;b<c.length;++b){var d=this.ca[c[b].S()];d&&d.call(this,a,c[b])}};
k.Pi=function(a,b){b=b.W();var c;var d=0;for(c=b.length-1;d<c;++d){var e=b.slice(d,d+2);var f={feature:a,ma:e};this.a.Ca(Ca(e),f)}};k.to=function(a,b){b=b.W();var c,d;var e=0;for(d=b.length;e<d;++e){var f=b[e];var g=0;for(c=f.length-1;g<c;++g){var h=f.slice(g,g+2);var l={feature:a,ma:h};this.a.Ca(Ca(h),l)}}};k.uo=function(a,b){var c=b.W(),d;var e=0;for(d=c.length;e<d;++e){var f=c[e];f={feature:a,ma:[f,f]};this.a.Ca(b.G(),f)}};
k.vo=function(a,b){b=b.W();var c,d,e;var f=0;for(e=b.length;f<e;++f){var g=b[f];var h=0;for(d=g.length;h<d;++h){var l=g[h];var m=0;for(c=l.length-1;m<c;++m){var n=l.slice(m,m+2);var p={feature:a,ma:n};this.a.Ca(Ca(n),p)}}}};k.wo=function(a,b){var c=b.W();a={feature:a,ma:[c,c]};this.a.Ca(b.G(),a)};k.xo=function(a,b){b=b.W();var c,d;var e=0;for(d=b.length;e<d;++e){var f=b[e];var g=0;for(c=f.length-1;g<c;++g){var h=f.slice(g,g+2);var l={feature:a,ma:h};this.a.Ca(Ca(h),l)}}};
function Cx(a){var b=Fx(this,a.pixel,a.coordinate,a.map);b.Mq&&(a.coordinate=b.vertex.slice(0,2),a.pixel=b.Vq);return gh.call(this,a)}function Dx(){var a=mb(this.o);a.length&&(a.forEach(this.$j,this),this.o={});return!1}function Ex(a,b){return Je(this.T,a.ma)-Je(this.T,b.ma)};function Gx(a){fh.call(this,{handleDownEvent:Hx,handleDragEvent:Ix,handleMoveEvent:Jx,handleUpEvent:Kx});a=a?a:{};this.a=null;this.j=void 0!==a.features?a.features:null;if(a.layers)if("function"===typeof a.layers)var b=a.layers;else{var c=a.layers;b=function(a){return ec(c,a)}}else b=Re;this.C=b;this.s=a.hitTolerance?a.hitTolerance:0;this.f=null;y(this,Xc("active"),this.o,this)}w(Gx,fh);
function Hx(a){this.f=Lx(this,a.pixel,a.map);if(!this.a&&this.f){this.a=a.coordinate;Jx.call(this,a);var b=this.j||new B([this.f]);this.b(new Mx("translatestart",b,a.coordinate));return!0}return!1}function Kx(a){if(this.a){this.a=null;Jx.call(this,a);var b=this.j||new B([this.f]);this.b(new Mx("translateend",b,a.coordinate));return!0}return!1}
function Ix(a){if(this.a){a=a.coordinate;var b=a[0]-this.a[0],c=a[1]-this.a[1],d=this.j||new B([this.f]);d.forEach(function(a){var d=a.U();d.translate(b,c);a.Va(d)});this.a=a;this.b(new Mx("translating",d,a))}}function Jx(a){var b=a.map.a;Lx(this,a.pixel,a.map)?(b.classList.remove(this.a?"ol-grab":"ol-grabbing"),b.classList.add(this.a?"ol-grabbing":"ol-grab")):b.classList.remove("ol-grab","ol-grabbing")}
function Lx(a,b,c){return c.Tc(b,function(a){if(!this.j||ec(this.j.a,a))return a}.bind(a),{layerFilter:a.C,hitTolerance:a.s})}Gx.prototype.B=function(){return this.s};Gx.prototype.T=function(a){this.s=a};Gx.prototype.setMap=function(a){var b=this.v;fh.prototype.setMap.call(this,a);Nx(this,b)};Gx.prototype.o=function(){Nx(this,null)};function Nx(a,b){var c=a.v;a=a.c();c&&a||(c=c||b)&&c.a.classList.remove("ol-grab","ol-grabbing")}
function Mx(a,b,c){Qc.call(this,a);this.features=b;this.coordinate=c}w(Mx,Qc);function V(a){a=a?a:{};var b=kb({},a);delete b.gradient;delete b.radius;delete b.blur;delete b.shadow;delete b.weight;T.call(this,b);this.c=null;this.$=void 0!==a.shadow?a.shadow:250;this.O=void 0;this.T=null;y(this,Xc(Ox),this.cm,this);this.Lj(a.gradient?a.gradient:Px);this.Fj(void 0!==a.blur?a.blur:15);this.fd(void 0!==a.radius?a.radius:8);y(this,Xc(Qx),this.mg,this);y(this,Xc(Rx),this.mg,this);this.mg();var c=a.weight?a.weight:"weight",d;"string"===typeof c?d=function(a){return a.get(c)}:d=c;this.j(function(a){a=
d(a);a=void 0!==a?pa(a,0,1):1;var b=255*a|0,c=this.T[b];c||(c=[new Bk({image:new dr({opacity:a,src:this.O})})],this.T[b]=c);return c}.bind(this));this.set(ik,null);y(this,"render",this.tm,this)}w(V,T);var Px=["#00f","#0ff","#0f0","#ff0","#f00"];k=V.prototype;k.Nh=function(){return this.get(Qx)};k.Uh=function(){return this.get(Ox)};k.Ri=function(){return this.get(Rx)};
k.cm=function(){for(var a=this.Uh(),b=hg(1,256),c=b.createLinearGradient(0,0,1,256),d=1/(a.length-1),e=0,f=a.length;e<f;++e)c.addColorStop(e*d,a[e]);b.fillStyle=c;b.fillRect(0,0,1,256);this.c=b.getImageData(0,0,1,256).data};k.mg=function(){var a=this.Ri(),b=this.Nh(),c=a+b+1,d=2*c;d=hg(d,d);d.shadowOffsetX=d.shadowOffsetY=this.$;d.shadowBlur=b;d.shadowColor="#000";d.beginPath();b=c-this.$;d.arc(b,b,a,0,2*Math.PI,!0);d.fill();this.O=d.canvas.toDataURL();this.T=Array(256);this.u()};
k.tm=function(a){a=a.context;var b=a.canvas;b=a.getImageData(0,0,b.width,b.height);var c=b.data,d,e;var f=0;for(d=c.length;f<d;f+=4)if(e=4*c[f+3])c[f]=this.c[e],c[f+1]=this.c[e+1],c[f+2]=this.c[e+2];a.putImageData(b,0,0)};k.Fj=function(a){this.set(Qx,a)};k.Lj=function(a){this.set(Ox,a)};k.fd=function(a){this.set(Rx,a)};var Qx="blur",Ox="gradient",Rx="radius";function Sx(a){xg.call(this,a?a:{});this.type="IMAGE"}w(Sx,xg);function Tx(a){a=a?a:{};var b=kb({},a);delete b.preload;delete b.useInterimTilesOnError;xg.call(this,b);this.j(void 0!==a.preload?a.preload:0);this.C(void 0!==a.useInterimTilesOnError?a.useInterimTilesOnError:!0);this.type="TILE"}w(Tx,xg);Tx.prototype.c=function(){return this.get("preload")};Tx.prototype.j=function(a){this.set("preload",a)};Tx.prototype.i=function(){return this.get("useInterimTilesOnError")};Tx.prototype.C=function(a){this.set("useInterimTilesOnError",a)};function W(a){a=a?a:{};var b=a.renderMode||"hybrid";oa(void 0==b||"image"==b||"hybrid"==b||"vector"==b,28);a.declutter&&"image"==b&&(b="hybrid");a.renderMode=b;b=kb({},a);delete b.preload;delete b.useInterimTilesOnError;T.call(this,b);this.T(a.preload?a.preload:0);this.O(a.useInterimTilesOnError?a.useInterimTilesOnError:!0);this.type="VECTOR_TILE"}w(W,T);W.prototype.c=function(){return this.get("preload")};W.prototype.i=function(){return this.get("useInterimTilesOnError")};
W.prototype.T=function(a){this.set("preload",a)};W.prototype.O=function(a){this.set("useInterimTilesOnError",a)};function Ux(a,b){var c=/\{z\}/g,d=/\{x\}/g,e=/\{y\}/g,f=/\{-y\}/g;return function(g){if(g)return a.replace(c,g[0].toString()).replace(d,g[1].toString()).replace(e,function(){return(-g[2]-1).toString()}).replace(f,function(){var a=b.a?b.a[g[0]]:null;oa(a,55);return(a.ka-a.ea+1+g[2]).toString()})}}function Vx(a,b){for(var c=a.length,d=Array(c),e=0;e<c;++e)d[e]=Ux(a[e],b);return Wx(d)}function Wx(a){return 1===a.length?a[0]:function(b,c,d){if(b)return a[wa((b[1]<<b[0])+b[2],a.length)](b,c,d)}}
function Xx(){}function Yx(a){var b=[],c=/\{([a-z])-([a-z])\}/.exec(a);if(c){var d=c[2].charCodeAt(0),e;for(e=c[1].charCodeAt(0);e<=d;++e)b.push(a.replace(c[0],String.fromCharCode(e)));return b}if(c=c=/\{(\d+)-(\d+)\}/.exec(a)){d=parseInt(c[2],10);for(e=parseInt(c[1],10);e<=d;e++)b.push(a.replace(c[0],e.toString()));return b}b.push(a);return b};function Zx(a,b,c,d){function e(){delete window[g];f.parentNode.removeChild(f)}var f=document.createElement("script"),g="olc_"+x(b);f.async=!0;f.src=a+(-1==a.indexOf("?")?"?":"&")+(d||"callback")+"="+g;var h=setTimeout(function(){e();c&&c()},1E4);window[g]=function(a){clearTimeout(h);e();b(a)};document.getElementsByTagName("head")[0].appendChild(f)};function $x(a){ci.call(this,a)}w($x,ci);$x.prototype.sd=function(a){for(var b,c;di(this);){b=this.g.Pc;c=b.ya[0].toString();var d;if(d=c in a)b=b.ya,d=ma(a[c],b[1],b[2]);if(d)break;else Pc(this.pop())}};function ay(a){if(0!==a.i){var b=a.c.jc.split("/").map(Number)[0];a.forEach(function(a){if(a.ya[0]!==b){var c=a.ya;this.remove(c[0]+"/"+c[1]+"/"+c[2]);Pc(a)}},a)}};function by(a,b,c,d){var e=ac(c,b,a);c=Nb(b,d,c);b=b.Bc();void 0!==b&&(c*=b);b=a.Bc();void 0!==b&&(c/=b);b=a.G();if(!b||Ja(b,e))a=Nb(a,c,e)/c,isFinite(a)&&0<a&&(c/=a);return c}function cy(a,b,c,d){a=c-a;b=d-b;var e=Math.sqrt(a*a+b*b);return[Math.round(c+a/e),Math.round(d+b/e)]}
function dy(a,b,c,d,e,f,g,h,l,m,n){var p=hg(Math.round(c*a),Math.round(c*b));if(0===l.length)return p.canvas;p.scale(c,c);var q=Da();l.forEach(function(a){Ta(q,a.extent)});var r=hg(Math.round(c*cb(q)/d),Math.round(c*db(q)/d)),u=c/d;l.forEach(function(a){r.drawImage(a.image,m,m,a.image.width-2*m,a.image.height-2*m,(a.extent[0]-q[0])*u,-(a.extent[3]-q[3])*u,cb(a.extent)*u,db(a.extent)*u)});var v=$a(g);h.c.forEach(function(a){var b=a.source,e=a.target,g=b[1][0],h=b[1][1],l=b[2][0],m=b[2][1];a=(e[0][0]-
v[0])/f;var n=-(e[0][1]-v[1])/f,u=(e[1][0]-v[0])/f,z=-(e[1][1]-v[1])/f,Va=(e[2][0]-v[0])/f,ic=-(e[2][1]-v[1])/f;e=b[0][0];b=b[0][1];g-=e;h-=b;l-=e;m-=b;a:{g=[[g,h,0,0,u-a],[l,m,0,0,Va-a],[0,0,g,h,z-n],[0,0,l,m,ic-n]];h=g.length;for(l=0;l<h;l++){m=l;for(var Xa=Math.abs(g[l][l]),Z=l+1;Z<h;Z++){var Zb=Math.abs(g[Z][l]);Zb>Xa&&(Xa=Zb,m=Z)}if(0===Xa){g=null;break a}Xa=g[m];g[m]=g[l];g[l]=Xa;for(m=l+1;m<h;m++)for(Xa=-g[m][l]/g[l][l],Z=l;Z<h+1;Z++)g[m][Z]=l==Z?0:g[m][Z]+Xa*g[l][Z]}l=Array(h);for(m=h-1;0<=
m;m--)for(l[m]=g[m][h]/g[m][m],Xa=m-1;0<=Xa;Xa--)g[Xa][h]-=g[Xa][m]*l[m];g=l}g&&(p.save(),p.beginPath(),l=(a+u+Va)/3,m=(n+z+ic)/3,h=cy(l,m,a,n),u=cy(l,m,u,z),Va=cy(l,m,Va,ic),p.moveTo(u[0],u[1]),p.lineTo(h[0],h[1]),p.lineTo(Va[0],Va[1]),p.clip(),p.transform(g[0],g[2],g[1],g[3],a,n),p.translate(q[0]-e,q[3]-b),p.scale(d/c,-d/c),p.drawImage(r.canvas,0,0),p.restore())});n&&(p.save(),p.strokeStyle="black",p.lineWidth=1,h.c.forEach(function(a){var b=a.target;a=(b[0][0]-v[0])/f;var c=-(b[0][1]-v[1])/f,d=
(b[1][0]-v[0])/f,e=-(b[1][1]-v[1])/f,g=(b[2][0]-v[0])/f;b=-(b[2][1]-v[1])/f;p.beginPath();p.moveTo(d,e);p.lineTo(a,c);p.lineTo(g,b);p.closePath();p.stroke()}),p.restore());return p.canvas};function ey(a,b,c,d,e){this.g=a;this.i=b;var f={},g=Yb(this.i,this.g);this.a=function(a){var b=a[0]+"/"+a[1];f[b]||(f[b]=g(a));return f[b]};this.f=d;this.v=e*e;this.c=[];this.l=!1;this.s=this.g.g&&!!d&&!!this.g.G()&&cb(d)==cb(this.g.G());this.b=this.g.G()?cb(this.g.G()):null;this.j=this.i.G()?cb(this.i.G()):null;a=$a(c);b=Za(c);d=Ya(c);c=Wa(c);e=this.a(a);var h=this.a(b),l=this.a(d),m=this.a(c);fy(this,a,b,d,c,e,h,l,m,10);if(this.l){var n=Infinity;this.c.forEach(function(a){n=Math.min(n,a.source[0][0],
a.source[1][0],a.source[2][0])});this.c.forEach(function(a){if(Math.max(a.source[0][0],a.source[1][0],a.source[2][0])-n>this.b/2){var b=[[a.source[0][0],a.source[0][1]],[a.source[1][0],a.source[1][1]],[a.source[2][0],a.source[2][1]]];b[0][0]-n>this.b/2&&(b[0][0]-=this.b);b[1][0]-n>this.b/2&&(b[1][0]-=this.b);b[2][0]-n>this.b/2&&(b[2][0]-=this.b);Math.max(b[0][0],b[1][0],b[2][0])-Math.min(b[0][0],b[1][0],b[2][0])<this.b/2&&(a.source=b)}},this)}f={}}
function fy(a,b,c,d,e,f,g,h,l,m){var n=Ca([f,g,h,l]),p=a.b?cb(n)/a.b:null,q=a.b,r=a.g.g&&.5<p&&1>p,u=!1;if(0<m){if(a.i.c&&a.j){var v=Ca([b,c,d,e]);u|=.25<cb(v)/a.j}!r&&a.g.c&&p&&(u|=.25<p)}if(u||!a.f||hb(n,a.f)){if(!(u||isFinite(f[0])&&isFinite(f[1])&&isFinite(g[0])&&isFinite(g[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(l[0])&&isFinite(l[1])))if(0<m)u=!0;else return;if(0<m&&(u||(n=a.a([(b[0]+d[0])/2,(b[1]+d[1])/2]),q=r?(wa(f[0],q)+wa(h[0],q))/2-wa(n[0],q):(f[0]+h[0])/2-n[0],n=(f[1]+h[1])/2-n[1],
u=q*q+n*n>a.v),u)){Math.abs(b[0]-d[0])<=Math.abs(b[1]-d[1])?(r=[(c[0]+d[0])/2,(c[1]+d[1])/2],q=a.a(r),n=[(e[0]+b[0])/2,(e[1]+b[1])/2],p=a.a(n),fy(a,b,c,r,n,f,g,q,p,m-1),fy(a,n,r,d,e,p,q,h,l,m-1)):(r=[(b[0]+c[0])/2,(b[1]+c[1])/2],q=a.a(r),n=[(d[0]+e[0])/2,(d[1]+e[1])/2],p=a.a(n),fy(a,b,r,n,e,f,q,p,l,m-1),fy(a,r,c,d,n,q,g,h,p,m-1));return}if(r){if(!a.s)return;a.l=!0}a.c.push({source:[f,h,l],target:[b,d,e]});a.c.push({source:[f,g,h],target:[b,c,d]})}}
function gy(a){var b=Da();a.c.forEach(function(a){a=a.source;Ea(b,a[0]);Ea(b,a[1]);Ea(b,a[2])});return b};function hy(a,b,c,d,e,f,g,h,l,m,n){cl.call(this,e,0);this.B=void 0!==n?n:!1;this.C=g;this.D=h;this.N=null;this.c=b;this.l=d;this.v=f?f:e;this.a=[];this.Id=null;this.f=0;f=d.Ma(this.v);h=this.l.G();e=this.c.G();f=h?gb(f,h):f;if(0===ab(f))this.state=4;else if((h=a.G())&&(e?e=gb(e,h):e=h),d=by(a,c,eb(f),d.Ta(this.v[0])),!isFinite(d)||0>=d)this.state=4;else if(this.o=new ey(a,c,f,e,d*(void 0!==m?m:.5)),0===this.o.c.length)this.state=4;else if(this.f=b.Dc(d),c=gy(this.o),e&&(a.g?(c[1]=pa(c[1],e[1],e[3]),
c[3]=pa(c[3],e[1],e[3])):c=gb(c,e)),ab(c)){a=tc(b,c,this.f);for(b=a.fa;b<=a.la;b++)for(c=a.ea;c<=a.ka;c++)(m=l(this.f,b,c,g))&&this.a.push(m);0===this.a.length&&(this.state=4)}else this.state=4}w(hy,cl);hy.prototype.ia=function(){1==this.state&&(this.Id.forEach(Gc),this.Id=null);cl.prototype.ia.call(this)};hy.prototype.Y=function(){return this.N};
hy.prototype.he=function(){var a=[];this.a.forEach(function(b){b&&2==b.getState()&&a.push({extent:this.c.Ma(b.ya),image:b.Y()})},this);this.a.length=0;if(0===a.length)this.state=3;else{var b=this.v[0],c=this.l.Za(b),d="number"===typeof c?c:c[0];c="number"===typeof c?c:c[1];b=this.l.Ta(b);var e=this.c.Ta(this.f),f=this.l.Ma(this.v);this.N=dy(d,c,this.C,e,this.c.G(),b,f,this.o,a,this.D,this.B);this.state=2}this.u()};
hy.prototype.load=function(){if(0==this.state){this.state=1;this.u();var a=0;this.Id=[];this.a.forEach(function(b){var c=b.getState();if(0==c||1==c){a++;var d=y(b,"change",function(){var c=b.getState();if(2==c||3==c||4==c)Gc(d),a--,0===a&&(this.Id.forEach(Gc),this.Id=null,this.he())},this);this.Id.push(d)}},this);this.a.forEach(function(a){0==a.getState()&&a.load()});0===a&&setTimeout(this.he.bind(this),0)}};function iy(a){uw.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state,wrapX:a.wrapX});this.bb=void 0!==a.opaque?a.opaque:!1;this.sc=void 0!==a.tilePixelRatio?a.tilePixelRatio:1;this.tileGrid=void 0!==a.tileGrid?a.tileGrid:null;this.a=new $x(a.cacheSize);this.j=[0,0];this.jc="";this.Ea={transition:a.transition}}w(iy,uw);k=iy.prototype;k.cj=function(){return di(this.a)};k.sd=function(a,b){(a=this.Yd(a))&&a.sd(b)};
function Li(a,b,c,d,e){a=a.Yd(b);if(!a)return!1;b=!0;for(var f,g,h=d.fa;h<=d.la;++h)for(var l=d.ea;l<=d.ka;++l)f=c+"/"+h+"/"+l,g=!1,a.a.hasOwnProperty(f)&&(f=a.get(f),(g=2===f.getState())&&(g=!1!==e(f))),g||(b=!1);return b}k.Zf=function(){return 0};function jy(a,b){a.jc!==b&&(a.jc=b,a.u())}k.eg=function(){return this.bb};k.jb=function(){return this.tileGrid};k.eb=function(a){return this.tileGrid?this.tileGrid:zc(a)};k.Yd=function(a){var b=this.c;return b&&!Xb(b,a)?null:this.a};k.Xc=function(){return this.sc};
k.Zd=function(a,b,c){c=this.eb(c);b=this.Xc(b);a=Ba(c.Za(a),this.j);return 1==b?a:Aa(a,b,this.j)};function ky(a,b,c){var d=void 0!==c?c:a.c;c=a.eb(d);if(a.D&&d.c){var e=b;b=e[0];a=yc(c,e);d=Dc(d);Ja(d,a)?b=e:(e=cb(d),a[0]+=e*Math.ceil((d[0]-a[0])/e),b=c.jg(a,b))}e=b[0];d=b[1];a=b[2];if(c.minZoom>e||e>c.maxZoom)c=!1;else{var f=c.G();c=(c=f?tc(c,f,e):c.a?c.a[e]:null)?ma(c,d,a):!0}return c?b:null}k.sa=function(){this.a.clear();this.u()};k.kh=ea;function ly(a,b){Qc.call(this,a);this.tile=b}w(ly,Qc);function my(a){iy.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio,wrapX:a.wrapX,transition:a.transition});this.tileLoadFunction=a.tileLoadFunction;this.tileUrlFunction=this.dc?this.dc.bind(this):Xx;this.urls=null;a.urls?this.vb(a.urls):a.url&&this.rb(a.url);a.tileUrlFunction&&this.hb(a.tileUrlFunction);this.V={}}w(my,iy);k=my.prototype;k.yb=function(){return this.tileLoadFunction};
k.zb=function(){return this.tileUrlFunction};k.Ab=function(){return this.urls};k.dj=function(a){a=a.target;var b=x(a),c=a.getState();if(1==c){this.V[b]=!0;var d="tileloadstart"}else b in this.V&&(delete this.V[b],d=3==c?"tileloaderror":2==c||5==c?"tileloadend":void 0);void 0!=d&&this.b(new ly(d,a))};k.Fb=function(a){this.a.clear();this.tileLoadFunction=a;this.u()};k.hb=function(a,b){this.tileUrlFunction=a;ay(this.a);"undefined"!==typeof b?jy(this,b):this.u()};
k.rb=function(a){var b=this.urls=Yx(a);this.hb(this.dc?this.dc.bind(this):Vx(b,this.tileGrid),a)};k.vb=function(a){this.urls=a;var b=a.join("\n");this.hb(this.dc?this.dc.bind(this):Vx(a,this.tileGrid),b)};k.kh=function(a,b,c){a=a+"/"+b+"/"+c;this.a.a.hasOwnProperty(a)&&this.a.get(a)};function ny(a){my.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:oy,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:a.wrapX,transition:a.transition});this.crossOrigin=void 0!==a.crossOrigin?a.crossOrigin:null;this.tileClass=void 0!==a.tileClass?a.tileClass:el;this.f={};this.s={};this.ob=
a.reprojectionErrorThreshold;this.O=!1}w(ny,my);k=ny.prototype;k.cj=function(){if(di(this.a))return!0;for(var a in this.f)if(di(this.f[a]))return!0;return!1};k.sd=function(a,b){a=this.Yd(a);this.a.sd(this.a==a?b:{});for(var c in this.f){var d=this.f[c];d.sd(d==a?b:{})}};k.Zf=function(a){return this.c&&a&&!Xb(this.c,a)?0:this.$f()};k.$f=function(){return 0};k.eg=function(a){return this.c&&a&&!Xb(this.c,a)?!1:my.prototype.eg.call(this,a)};
k.eb=function(a){var b=this.c;return!this.tileGrid||b&&!Xb(b,a)?(b=x(a).toString(),b in this.s||(this.s[b]=zc(a)),this.s[b]):this.tileGrid};k.Yd=function(a){var b=this.c;if(!b||Xb(b,a))return this.a;a=x(a).toString();a in this.f||(this.f[a]=new $x(this.a.highWaterMark));return this.f[a]};
function py(a,b,c,d,e,f,g){b=[b,c,d];e=(c=ky(a,b,f))?a.tileUrlFunction(c,e,f):void 0;e=new a.tileClass(b,void 0!==e?0:4,void 0!==e?e:"",a.crossOrigin,a.tileLoadFunction,a.Ea);e.key=g;y(e,"change",a.dj,a);return e}
k.ad=function(a,b,c,d,e){var f=this.c;if(f&&e&&!Xb(f,e)){var g=this.Yd(e);c=[a,b,c];var h;a=c[0]+"/"+c[1]+"/"+c[2];g.a.hasOwnProperty(a)&&(h=g.get(a));b=this.jc;if(h&&h.key==b)return h;var l=this.eb(f),m=this.eb(e),n=ky(this,c,e);d=new hy(f,l,e,m,c,n,this.Xc(d),this.$f(),function(a,b,c,d){return qy(this,a,b,c,d,f)}.bind(this),this.ob,this.O);d.key=b;h?(d.g=h,dl(d),g.replace(a,d)):g.set(a,d);return d}return qy(this,a,b,c,d,f||e)};
function qy(a,b,c,d,e,f){var g=b+"/"+c+"/"+d,h=a.jc;if(a.a.a.hasOwnProperty(g)){var l=a.a.get(g);if(l.key!=h){var m=l;l=py(a,b,c,d,e,f,h);0==m.getState()?l.g=m.g:l.g=m;dl(l);a.a.replace(g,l)}}else l=py(a,b,c,d,e,f,h),a.a.set(g,l);return l}k.Qb=function(a){if(this.O!=a){this.O=a;for(var b in this.f)this.f[b].clear();this.u()}};k.Rb=function(a,b){if(a=Ob(a))a=x(a).toString(),a in this.s||(this.s[a]=b)};function oy(a,b){a.Y().src=b};function ry(a){this.i=void 0!==a.hidpi?a.hidpi:!1;ny.call(this,{cacheSize:a.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Ob("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:"loading",tileLoadFunction:a.tileLoadFunction,tilePixelRatio:this.i?2:1,wrapX:void 0!==a.wrapX?a.wrapX:!0,transition:a.transition});this.o=void 0!==a.culture?a.culture:"en-us";this.$=void 0!==a.maxZoom?a.maxZoom:-1;this.l=a.key;this.B=a.imagerySet;Zx("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+
this.B+"?uriScheme=https&include=ImageryProviders&key="+this.l+"&c="+this.o,this.La.bind(this),void 0,"jsonp")}w(ry,ny);ry.prototype.ca=function(){return this.l};ry.prototype.ua=function(){return this.B};
ry.prototype.La=function(a){if(200!=a.statusCode||"OK"!=a.statusDescription||"ValidCredentials"!=a.authenticationResultCode||1!=a.resourceSets.length||1!=a.resourceSets[0].resources.length)ww(this,"error");else{var b=a.brandLogoUri;-1==b.indexOf("https")&&(b=b.replace("http","https"));var c=a.resourceSets[0].resources[0];a=-1==this.$?c.zoomMax:this.$;var d=Dc(this.c);this.tileGrid=Bc({extent:d,minZoom:c.zoomMin,maxZoom:a,tileSize:(c.imageWidth==c.imageHeight?c.imageWidth:[c.imageWidth,c.imageHeight])/
(this.i?2:1)});var e=this.o,f=this.i;this.tileUrlFunction=Wx(c.imageUrlSubdomains.map(function(a){var b=[0,0,0],d=c.imageUrl.replace("{subdomain}",a).replace("{culture}",e);return function(a){if(a)return oc(a[0],a[1],-a[2]-1,b),a=d,f&&(a+="&dpi=d1&device=mobile"),a.replace("{quadkey}",pc(b))}}));if(c.imageryProviders){var g=Pb(Ob("EPSG:4326"),this.c);this.va(function(a){var b=[],d=a.viewState.zoom;c.imageryProviders.map(function(c){for(var e=!1,f=c.coverageAreas,h=0,l=f.length;h<l;++h){var m=f[h];
if(d>=m.zoomMin&&d<=m.zoomMax&&(m=m.bbox,m=jb([m[1],m[0],m[3],m[2]],g),hb(m,a.extent))){e=!0;break}}e&&b.push(c.attribution)});b.push('<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a>');return b})}this.T=b;ww(this,"ready")}};function sy(a){a=a||{};var b=void 0!==a.projection?a.projection:"EPSG:3857",c=void 0!==a.tileGrid?a.tileGrid:Bc({extent:Dc(b),maxZoom:a.maxZoom,minZoom:a.minZoom,tileSize:a.tileSize});ny.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,opaque:a.opaque,projection:b,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:c,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,
wrapX:void 0!==a.wrapX?a.wrapX:!0,transition:a.transition})}w(sy,ny);function ty(a){this.o=a.account;this.B=a.map||"";this.i=a.config||{};this.l={};sy.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,maxZoom:void 0!==a.maxZoom?a.maxZoom:18,minZoom:a.minZoom,projection:a.projection,state:"loading",wrapX:a.wrapX});uy(this)}w(ty,sy);k=ty.prototype;k.nl=function(){return this.i};k.Sq=function(a){kb(this.i,a);uy(this)};k.uq=function(a){this.i=a||{};uy(this)};
function uy(a){var b=JSON.stringify(a.i);if(a.l[b])vy(a,a.l[b]);else{var c="https://"+a.o+".carto.com/api/v1/map";a.B&&(c+="/named/"+a.B);var d=new XMLHttpRequest;d.addEventListener("load",a.em.bind(a,b));d.addEventListener("error",a.dm.bind(a));d.open("POST",c);d.setRequestHeader("Content-type","application/json");d.send(JSON.stringify(a.i))}}
k.em=function(a,b){b=b.target;if(!b.status||200<=b.status&&300>b.status){try{var c=JSON.parse(b.responseText)}catch(d){ww(this,"error");return}vy(this,c);this.l[a]=c;ww(this,"ready")}else ww(this,"error")};k.dm=function(){ww(this,"error")};function vy(a,b){a.rb("https://"+b.cdn_url.https+"/"+a.o+"/api/v1/map/"+b.layergroupid+"/{z}/{x}/{y}.png")};function X(a){U.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,wrapX:a.wrapX});this.resolution=void 0;this.distance=void 0!==a.distance?a.distance:20;this.features=[];this.geometryFunction=a.geometryFunction||function(a){a=a.U();oa(a instanceof C,10);return a};this.source=a.source;this.source.I("change",X.prototype.sa,this)}w(X,U);k=X.prototype;k.Eo=function(){return this.distance};k.Fo=function(){return this.source};
k.ae=function(a,b,c){this.source.ae(a,b,c);b!==this.resolution&&(this.clear(),this.resolution=b,wy(this),this.Qc(this.features))};k.vq=function(a){this.distance=a;this.sa()};k.sa=function(){this.clear();wy(this);this.Qc(this.features);U.prototype.sa.call(this)};
function wy(a){if(void 0!==a.resolution){a.features.length=0;for(var b=Da(),c=a.distance*a.resolution,d=a.source.ee(),e={},f=0,g=d.length;f<g;f++){var h=d[f];x(h).toString()in e||!(h=a.geometryFunction(h))||(h=h.W(),Pa(h,b),Fa(b,c,b),h=a.source.Yf(b),h=h.filter(function(a){a=x(a).toString();return a in e?!1:e[a]=!0}),a.features.push(xy(a,h)))}}}
function xy(a,b){for(var c=[0,0],d=b.length-1;0<=d;--d){var e=a.geometryFunction(b[d]);e?ze(c,e.W()):b.splice(d,1)}Ge(c,1/b.length);a=new Hk(new C(c));a.set("features",b);return a};function yy(a,b,c,d,e,f){this.s=b;this.l=a.G();var g=b.G(),h=g?gb(c,g):c;g=by(a,b,eb(h),d);this.f=new ey(a,b,h,this.l,.5*g);this.c=d;this.g=c;a=gy(this.f);this.j=(this.Tb=f(a,g,e))?this.Tb.a:1;this.je=this.i=null;e=2;this.Tb&&(e=0);$h.call(this,c,d,this.j,e)}w(yy,$h);yy.prototype.ia=function(){1==this.state&&(Gc(this.je),this.je=null);$h.prototype.ia.call(this)};yy.prototype.Y=function(){return this.i};
yy.prototype.he=function(){var a=this.Tb.getState();2==a&&(this.i=dy(cb(this.g)/this.c,db(this.g)/this.c,this.j,this.Tb.resolution,0,this.c,this.g,this.f,[{extent:this.Tb.G(),image:this.Tb.Y()}],0));this.state=a;this.u()};yy.prototype.load=function(){if(0==this.state){this.state=1;this.u();var a=this.Tb.getState();2==a||3==a?this.he():(this.je=y(this.Tb,"change",function(){var a=this.Tb.getState();if(2==a||3==a)Gc(this.je),this.je=null,this.he()},this),this.Tb.load())}};function zy(a){uw.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state});this.o=void 0!==a.resolutions?a.resolutions:null;this.i=null;this.ua=0}w(zy,uw);function Ay(a,b){a.o&&(b=a.o[fc(a.o,b,0)]);return b}
zy.prototype.Y=function(a,b,c,d){var e=this.c;if(e&&d&&!Xb(e,d)){if(this.i){if(this.ua==this.g&&Xb(this.i.s,d)&&this.i.resolution==b&&Sa(this.i.G(),a))return this.i;Pc(this.i);this.i=null}this.i=new yy(e,d,a,b,c,function(a,b,c){return this.Wc(a,b,c,e)}.bind(this));this.ua=this.g;return this.i}e&&(d=e);return this.Wc(a,b,c,d)};zy.prototype.j=function(a){a=a.target;switch(a.getState()){case 1:this.b(new By(Cy,a));break;case 2:this.b(new By(Dy,a));break;case 3:this.b(new By(Ey,a))}};
function Fy(a,b){a.Y().src=b}function By(a,b){Qc.call(this,a);this.image=b}w(By,Qc);var Cy="imageloadstart",Dy="imageloadend",Ey="imageloaderror";function Gy(a,b){var c=[];Object.keys(b).forEach(function(a){null!==b[a]&&void 0!==b[a]&&c.push(a+"="+encodeURIComponent(b[a]))});var d=c.join("&");a=a.replace(/[?&]$/,"");a=-1===a.indexOf("?")?a+"?":a+"&";return a+d};function Hy(a){a=a||{};zy.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions});this.V=void 0!==a.crossOrigin?a.crossOrigin:null;this.$=void 0!==a.hidpi?a.hidpi:!0;this.a=a.url;this.f=void 0!==a.imageLoadFunction?a.imageLoadFunction:Fy;this.s=a.params||{};this.M=null;this.l=[0,0];this.O=0;this.B=void 0!==a.ratio?a.ratio:1.5}w(Hy,zy);k=Hy.prototype;k.Ho=function(){return this.s};
k.Wc=function(a,b,c,d){if(void 0===this.a)return null;b=Ay(this,b);c=this.$?c:1;var e=this.M;if(e&&this.O==this.g&&e.resolution==b&&e.a==c&&La(e.G(),a))return e;e={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};kb(e,this.s);a=a.slice();var f=(a[0]+a[2])/2,g=(a[1]+a[3])/2;if(1!=this.B){var h=this.B*cb(a)/2,l=this.B*db(a)/2;a[0]=f-h;a[1]=g-l;a[2]=f+h;a[3]=g+l}h=b/c;l=Math.ceil(cb(a)/h);var m=Math.ceil(db(a)/h);a[0]=f-h*l/2;a[2]=f+h*l/2;a[1]=g-h*m/2;a[3]=g+h*m/2;this.l[0]=l;this.l[1]=m;f=a;g=this.l;h=c;d=
d.wb.split(":").pop();e.SIZE=g[0]+","+g[1];e.BBOX=f.join(",");e.BBOXSR=d;e.IMAGESR=d;e.DPI=Math.round(90*h);d=this.a;f=d.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");f==d&&oa(!1,50);e=Gy(f,e);this.M=new bl(a,b,c,e,this.V,this.f);this.O=this.g;y(this.M,"change",this.j,this);return this.M};k.Go=function(){return this.f};k.Io=function(){return this.a};k.Jo=function(a){this.M=null;this.f=a;this.u()};
k.Ko=function(a){a!=this.a&&(this.a=a,this.M=null,this.u())};k.Lo=function(a){kb(this.s,a);this.M=null;this.u()};function Iy(a){zy.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions,state:a.state});this.Ea=a.canvasFunction;this.V=null;this.$=0;this.La=void 0!==a.ratio?a.ratio:1.5}w(Iy,zy);Iy.prototype.Wc=function(a,b,c,d){b=Ay(this,b);var e=this.V;if(e&&this.$==this.g&&e.resolution==b&&e.a==c&&La(e.G(),a))return e;a=a.slice();ib(a,this.La);(d=this.Ea(a,b,c,[cb(a)/b*c,db(a)/b*c],d))&&(e=new ai(a,b,c,d));this.V=e;this.$=this.g;return e};function Jy(a){zy.call(this,{projection:a.projection,resolutions:a.resolutions});this.V=void 0!==a.crossOrigin?a.crossOrigin:null;this.l=void 0!==a.displayDpi?a.displayDpi:96;this.f=a.params||{};this.O=a.url;this.a=void 0!==a.imageLoadFunction?a.imageLoadFunction:Fy;this.$=void 0!==a.hidpi?a.hidpi:!0;this.ca=void 0!==a.metersPerUnit?a.metersPerUnit:1;this.s=void 0!==a.ratio?a.ratio:1;this.Ea=void 0!==a.useOverlay?a.useOverlay:!1;this.M=null;this.B=0}w(Jy,zy);k=Jy.prototype;k.No=function(){return this.f};
k.Wc=function(a,b,c){b=Ay(this,b);c=this.$?c:1;var d=this.M;if(d&&this.B==this.g&&d.resolution==b&&d.a==c&&La(d.G(),a))return d;1!=this.s&&(a=a.slice(),ib(a,this.s));var e=[cb(a)/b*c,db(a)/b*c];if(void 0!==this.O){d=this.O;var f=eb(a),g=this.ca,h=cb(a),l=db(a),m=e[0],n=e[1],p=.0254/this.l;e={OPERATION:this.Ea?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.l,SETDISPLAYWIDTH:Math.round(e[0]),SETDISPLAYHEIGHT:Math.round(e[1]),
SETVIEWSCALE:n*h>m*l?h*g/(m*p):l*g/(n*p),SETVIEWCENTERX:f[0],SETVIEWCENTERY:f[1]};kb(e,this.f);d=Gy(d,e);d=new bl(a,b,c,d,this.V,this.a);y(d,"change",this.j,this)}else d=null;this.M=d;this.B=this.g;return d};k.Mo=function(){return this.a};k.Po=function(a){kb(this.f,a);this.u()};k.Oo=function(a){this.M=null;this.a=a;this.u()};function Ky(a){var b=a.imageExtent,c=void 0!==a.crossOrigin?a.crossOrigin:null,d=void 0!==a.imageLoadFunction?a.imageLoadFunction:Fy;zy.call(this,{attributions:a.attributions,logo:a.logo,projection:Ob(a.projection)});this.M=new bl(b,void 0,1,a.url,c,d);this.a=a.imageSize?a.imageSize:null;y(this.M,"change",this.j,this)}w(Ky,zy);Ky.prototype.Wc=function(a){return hb(a,this.M.G())?this.M:null};
Ky.prototype.j=function(a){if(2==this.M.getState()){var b=this.M.G(),c=this.M.Y();if(this.a){var d=this.a[0];var e=this.a[1]}else d=c.width,e=c.height;b=Math.ceil(cb(b)/(db(b)/e));if(b!=d){b=hg(b,e);var f=b.canvas;b.drawImage(c,0,0,d,e,0,0,f.width,f.height);this.M.ih(f)}}zy.prototype.j.call(this,a)};function Ly(a){this.a=a.source;this.ob=We();this.f=hg();this.l=[0,0];this.ca=rj.Jc(9);this.bb=void 0==a.renderBuffer?100:a.renderBuffer;this.B=null;Iy.call(this,{attributions:a.attributions,canvasFunction:this.Mk.bind(this),logo:a.logo,projection:a.projection,ratio:a.ratio,resolutions:a.resolutions,state:this.a.getState()});this.O=null;this.s=void 0;this.aj(a.style);y(this.a,"change",this.To,this)}w(Ly,Iy);k=Ly.prototype;
k.Mk=function(a,b,c,d,e){var f=new Uj(.5*b/c,a,b,c,this.a.$,this.ca,this.bb);this.a.ae(a,b,e);var g=!1;this.a.ec(a,function(a){var d;if(!(d=g)){var e;(d=a.ib())?e=d.call(a,b):this.s&&(e=this.s(a,b));if(e){var h,p=!1;Array.isArray(e)||(e=[e]);d=0;for(h=e.length;d<h;++d)p=ek(f,a,e[d],dk(b,c),this.So,this)||p;d=p}else d=!1}g=d},this);Yj(f);if(g)return null;this.l[0]!=d[0]||this.l[1]!=d[1]?(this.f.canvas.width=d[0],this.f.canvas.height=d[1],this.l[0]=d[0],this.l[1]=d[1]):this.f.clearRect(0,0,d[0],d[1]);
this.ca.clear();a=My(this,eb(a),b,c,d);f.Na(this.f,a,0,{});this.B=f;return this.f.canvas};k.wa=function(a,b,c,d,e,f){if(this.B){var g={};return this.B.wa(a,b,0,d,e,function(a){var b=x(a).toString();if(!(b in g))return g[b]=!0,f(a)},null)}};k.Qo=function(){return this.a};k.Ro=function(){return this.O};k.ib=function(){return this.s};function My(a,b,c,d,e){c=d/c;return ef(a.ob,e[0]/2,e[1]/2,c,-c,0,-b[0],-b[1])}k.So=function(){this.u()};k.To=function(){ww(this,this.a.getState())};
k.aj=function(a){this.O=void 0!==a?a:Fk;this.s=a?Dk(this.O):void 0;this.u()};function Ny(a){a=a||{};zy.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions});this.ca=void 0!==a.crossOrigin?a.crossOrigin:null;this.f=a.url;this.s=void 0!==a.imageLoadFunction?a.imageLoadFunction:Fy;this.a=a.params||{};this.l=!0;Oy(this);this.$=a.serverType;this.Ea=void 0!==a.hidpi?a.hidpi:!0;this.M=null;this.B=[0,0];this.V=0;this.O=void 0!==a.ratio?a.ratio:1.5}w(Ny,zy);var Py=[101,101];k=Ny.prototype;
k.Uo=function(a,b,c,d){if(void 0!==this.f){c=Ob(c);var e=this.c;e&&e!==c&&(b=by(e,c,a,b),a=ac(a,c,e));var f=fb(a,b,0,Py),g={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.a.LAYERS};kb(g,this.a,d);d=Math.floor((f[3]-a[1])/b);g[this.l?"I":"X"]=Math.floor((a[0]-f[0])/b);g[this.l?"J":"Y"]=d;return Qy(this,f,Py,1,e||c,g)}};k.Wo=function(){return this.a};
k.Wc=function(a,b,c,d){if(void 0===this.f)return null;b=Ay(this,b);1==c||this.Ea&&void 0!==this.$||(c=1);var e=b/c,f=eb(a),g=fb(f,e,0,[Math.ceil(cb(a)/e),Math.ceil(db(a)/e)]);a=fb(f,e,0,[Math.ceil(this.O*cb(a)/e),Math.ceil(this.O*db(a)/e)]);if((f=this.M)&&this.V==this.g&&f.resolution==b&&f.a==c&&La(f.G(),g))return f;g={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};kb(g,this.a);this.B[0]=Math.round(cb(a)/e);this.B[1]=Math.round(db(a)/e);d=Qy(this,a,this.B,c,d,g);
this.M=new bl(a,b,c,d,this.ca,this.s);this.V=this.g;y(this.M,"change",this.j,this);return this.M};k.Vo=function(){return this.s};
function Qy(a,b,c,d,e,f){oa(void 0!==a.f,9);f[a.l?"CRS":"SRS"]=e.wb;"STYLES"in a.a||(f.STYLES="");if(1!=d)switch(a.$){case "geoserver":d=90*d+.5|0;f.FORMAT_OPTIONS="FORMAT_OPTIONS"in f?f.FORMAT_OPTIONS+(";dpi:"+d):"dpi:"+d;break;case "mapserver":f.MAP_RESOLUTION=90*d;break;case "carmentaserver":case "qgis":f.DPI=90*d;break;default:oa(!1,8)}f.WIDTH=c[0];f.HEIGHT=c[1];c=e.b;var g;a.l&&"ne"==c.substr(0,2)?g=[b[1],b[0],b[3],b[2]]:g=b;f.BBOX=g.join(",");return Gy(a.f,f)}k.Xo=function(){return this.f};
k.Yo=function(a){this.M=null;this.s=a;this.u()};k.Zo=function(a){a!=this.f&&(this.f=a,this.M=null,this.u())};k.$o=function(a){kb(this.a,a);Oy(this);this.M=null;this.u()};function Oy(a){a.l=0<=ye(a.a.VERSION||"1.3.0")};function Ry(a){a=a||{};var b;void 0!==a.attributions?b=a.attributions:b=['&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'];sy.call(this,{attributions:b,cacheSize:a.cacheSize,crossOrigin:void 0!==a.crossOrigin?a.crossOrigin:"anonymous",opaque:void 0!==a.opaque?a.opaque:!0,maxZoom:void 0!==a.maxZoom?a.maxZoom:19,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileLoadFunction:a.tileLoadFunction,url:void 0!==a.url?a.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",
wrapX:a.wrapX})}w(Ry,sy);rj.nf={};rj.nf.Hf=function(){};
(function(a){function b(a,b,c){if(g)return new ImageData(a,b,c);b=h.createImageData(b,c);b.data.set(a);return b}function c(a){var b=!0;try{new ImageData(10,10)}catch(n){b=!1}return function(c){var d=c.buffers,e=c.meta,f=c.width,g=c.height,h=d.length,l=d[0].byteLength;if(c.imageOps){l=Array(h);for(c=0;c<h;++c){var m=c;var n=new Uint8ClampedArray(d[c]);var S=f,Ia=g;n=b?new ImageData(n,S,Ia):{data:n,width:S,height:Ia};l[m]=n}f=a(l,e).data}else{f=new Uint8ClampedArray(l);g=Array(h);m=Array(h);for(c=0;c<
h;++c)g[c]=new Uint8ClampedArray(d[c]),m[c]=[0,0,0,0];for(d=0;d<l;d+=4){for(c=0;c<h;++c)n=g[c],m[c][0]=n[d],m[c][1]=n[d+1],m[c][2]=n[d+2],m[c][3]=n[d+3];c=a(m,e);f[d]=c[0];f[d+1]=c[1];f[d+2]=c[2];f[d+3]=c[3]}}return f.buffer}}function d(a,b){var d=Object.keys(a.lib||{}).map(function(b){return"var "+b+" = "+a.lib[b].toString()+";"}).concat(["var __minion__ = ("+c.toString()+")(",a.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);",
"  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);d=URL.createObjectURL(new Blob(d,{type:"text/javascript"}));d=new Worker(d);d.addEventListener("message",b);return d}function e(a,b){var d=c(a.operation);return{postMessage:function(a){setTimeout(function(){b({data:{buffer:d(a),meta:a.meta}})},0)}}}function f(a){this.Jf=!!a.Cm;var b;0===a.threads?b=0:this.Jf?b=1:b=a.threads||1;var c=[];if(b)for(var f=0;f<b;++f)c[f]=d(a,this.xh.bind(this,f));else c[0]=e(a,this.xh.bind(this,
0));this.we=c;this.Nd=[];this.Bk=a.Sp||Infinity;this.ve=0;this.od={};this.Kf=null}var g=!0;try{new ImageData(10,10)}catch(l){g=!1}var h=document.createElement("canvas").getContext("2d");f.prototype.Rp=function(a,b,c){this.zk({inputs:a,ii:b,callback:c});this.uh()};f.prototype.zk=function(a){for(this.Nd.push(a);this.Nd.length>this.Bk;)this.Nd.shift().callback(null,null)};f.prototype.uh=function(){if(0===this.ve&&0<this.Nd.length){var a=this.Kf=this.Nd.shift(),b=a.inputs[0].width,c=a.inputs[0].height,
d=a.inputs.map(function(a){return a.data.buffer}),e=this.we.length;this.ve=e;if(1===e)this.we[0].postMessage({buffers:d,meta:a.ii,imageOps:this.Jf,width:b,height:c},d);else for(var f=4*Math.ceil(a.inputs[0].data.length/4/e),g=0;g<e;++g){for(var h=g*f,z=[],A=0,E=d.length;A<E;++A)z.push(d[g].slice(h,h+f));this.we[g].postMessage({buffers:z,meta:a.ii,imageOps:this.Jf,width:b,height:c},z)}}};f.prototype.xh=function(a,b){this.hr||(this.od[a]=b.data,--this.ve,0===this.ve&&this.Ck())};f.prototype.Ck=function(){var a=
this.Kf,c=this.we.length;if(1===c){var d=new Uint8ClampedArray(this.od[0].buffer);var e=this.od[0].meta}else{var f=a.inputs[0].data.length;d=new Uint8ClampedArray(f);e=Array(f);f=4*Math.ceil(f/4/c);for(var g=0;g<c;++g){var h=g*f;d.set(new Uint8ClampedArray(this.od[g].buffer),h);e[g]=this.od[g].meta}}this.Kf=null;this.od={};a.callback(null,b(d,a.inputs[0].width,a.inputs[0].height),e);this.uh()};a["default"]={Hf:f};a.Hf=f})(rj.nf=rj.nf||{});function Sy(a){this.B=null;this.Ea=void 0!==a.operationType?a.operationType:"pixel";this.La=void 0!==a.threads?a.threads:1;this.f=Ty(a.sources);for(var b=0,c=this.f.length;b<c;++b)y(this.f[b],"change",this.u,this);this.$=new le(function(){return 1},this.u.bind(this));b=Uy(this.f);c={};for(var d=0,e=b.length;d<e;++d)c[x(b[d].layer)]=b[d];this.a=null;this.O={animate:!1,coordinateToPixelTransform:We(),extent:null,focus:null,index:0,layerStates:c,layerStatesArray:b,logos:{},pixelRatio:1,pixelToCoordinateTransform:We(),
postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.$,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}};zy.call(this,{});void 0!==a.operation&&this.s(a.operation,a.lib)}w(Sy,zy);Sy.prototype.s=function(a,b){this.B=new rj.nf.Hf({operation:a,Cm:"image"===this.Ea,Sp:1,lib:b,threads:this.La});this.u()};
Sy.prototype.Y=function(a,b,c,d){c=!0;for(var e,f=0,g=this.f.length;f<g;++f)if(e=this.f[f].a.ha(),"ready"!==e.getState()){c=!1;break}if(!c)return null;c=kb({},this.O);c.viewState=kb({},c.viewState);e=eb(a);c.extent=a.slice();c.focus=e;c.size[0]=Math.round(cb(a)/b);c.size[1]=Math.round(db(a)/b);c.time=Date.now();c.animate=!1;f=c.viewState;f.center=e;f.projection=d;f.resolution=b;this.l=c;this.a&&(d=this.a.resolution,e=this.a.G(),b===d&&Sa(a,e)||(this.a=null));if(!this.a||this.g!==this.V)a:{a=this.l;
d=this.f.length;b=Array(d);for(e=0;e<d;++e){f=this.f[e];g=a;var h=a.layerStatesArray[e];if(f.$c(g,h)){var l=g.size[0],m=g.size[1];if(Vy){var n=Vy.canvas;n.width!==l||n.height!==m?Vy=hg(l,m):Vy.clearRect(0,0,l,m)}else Vy=hg(l,m);f.df(g,h,Vy);f=Vy.getImageData(0,0,l,m)}else f=null;if(f)b[e]=f;else break a}d={};this.b(new Wy(Xy,a,d));this.B.Rp(b,d,this.ca.bind(this,a))}me(c.tileQueue,16,16);c.animate&&requestAnimationFrame(this.u.bind(this));return this.a};
Sy.prototype.ca=function(a,b,c,d){if(!b&&c){b=a.extent;var e=a.viewState.resolution;if(e===this.l.viewState.resolution&&Sa(b,this.l.extent)){if(this.a)var f=this.a.Y().getContext("2d");else f=hg(Math.round(cb(b)/e),Math.round(db(b)/e)),this.a=new ai(b,e,1,f.canvas);f.putImageData(c,0,0);this.u();this.V=this.g;this.b(new Wy(Yy,a,d))}}};var Vy=null;function Uy(a){return a.map(function(a){return lg(a.a)})}
function Ty(a){for(var b=a.length,c=Array(b),d=0;d<b;++d){var e=d,f=a[d],g=null;f instanceof iy?(f=new Tx({source:f}),g=new mj(f)):f instanceof zy&&(f=new Sx({source:f}),g=new bj(f));c[e]=g}return c}function Wy(a,b,c){Qc.call(this,a);this.extent=b.extent;this.resolution=b.viewState.resolution/b.pixelRatio;this.data=c}w(Wy,Qc);Sy.prototype.Wc=function(){return null};var Xy="beforeoperations",Yy="afteroperations";function Zy(a){var b=a.layer.indexOf("-");b=$y[-1==b?a.layer:a.layer.slice(0,b)];var c=az[a.layer];sy.call(this,{attributions:bz,cacheSize:a.cacheSize,crossOrigin:"anonymous",maxZoom:void 0!=a.maxZoom?a.maxZoom:b.maxZoom,minZoom:void 0!=a.minZoom?a.minZoom:b.minZoom,opaque:c.opaque,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileLoadFunction:a.tileLoadFunction,url:void 0!==a.url?a.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+a.layer+"/{z}/{x}/{y}."+c.Ob,wrapX:a.wrapX})}w(Zy,sy);
var bz=['Map tiles by <a href="https://stamen.com/">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.','&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'],az={terrain:{Ob:"jpg",opaque:!0},"terrain-background":{Ob:"jpg",opaque:!0},"terrain-labels":{Ob:"png",opaque:!1},"terrain-lines":{Ob:"png",opaque:!1},"toner-background":{Ob:"png",opaque:!0},toner:{Ob:"png",opaque:!0},"toner-hybrid":{Ob:"png",opaque:!1},"toner-labels":{Ob:"png",
opaque:!1},"toner-lines":{Ob:"png",opaque:!1},"toner-lite":{Ob:"png",opaque:!0},watercolor:{Ob:"jpg",opaque:!0}},$y={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};function cz(a){a=a||{};ny.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,url:a.url,urls:a.urls,wrapX:void 0!==a.wrapX?a.wrapX:!0,transition:a.transition});this.i=a.params||{};this.l=Da();jy(this,dz(this))}w(cz,ny);function dz(a){var b=0,c=[],d;for(d in a.i)c[b++]=d+"-"+a.i[d];return c.join("/")}cz.prototype.o=function(){return this.i};
cz.prototype.Xc=function(a){return a};
cz.prototype.dc=function(a,b,c){var d=this.tileGrid;d||(d=this.eb(c));if(!(d.b.length<=a[0])){var e=d.Ma(a,this.l),f=Ba(d.Za(a[0]),this.j);1!=b&&(f=Aa(f,b,this.j));d={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};kb(d,this.i);var g=this.urls;g?(c=c.wb.split(":").pop(),d.SIZE=f[0]+","+f[1],d.BBOX=e.join(","),d.BBOXSR=c,d.IMAGESR=c,d.DPI=Math.round(d.DPI?d.DPI*b:90*b),a=(1==g.length?g[0]:g[wa((a[1]<<a[0])+a[2],g.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),
a=Gy(a,d)):a=void 0;return a}};cz.prototype.B=function(a){kb(this.i,a);jy(this,dz(this))};function ez(a){iy.call(this,{opaque:!1,projection:a.projection,tileGrid:a.tileGrid,wrapX:void 0!==a.wrapX?a.wrapX:!0})}w(ez,iy);ez.prototype.ad=function(a,b,c){var d=a+"/"+b+"/"+c;if(this.a.a.hasOwnProperty(d))return this.a.get(d);var e=Ba(this.tileGrid.Za(a));a=[a,b,c];b=(b=ky(this,a))?ky(this,b).toString():"";e=new fz(a,e,b);this.a.set(d,e);return e};function fz(a,b,c){cl.call(this,a,2);this.c=b;this.ta=c;this.a=null}w(fz,cl);
fz.prototype.Y=function(){if(this.a)return this.a;var a=this.c,b=hg(a[0],a[1]);b.strokeStyle="black";b.strokeRect(.5,.5,a[0]+.5,a[1]+.5);b.fillStyle="black";b.textAlign="center";b.textBaseline="middle";b.font="24px sans-serif";b.fillText(this.ta,a[0]/2,a[1]/2);return this.a=b.canvas};fz.prototype.load=function(){};function gz(a){this.i=null;ny.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,projection:Ob("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:"loading",tileLoadFunction:a.tileLoadFunction,wrapX:void 0!==a.wrapX?a.wrapX:!0,transition:a.transition});if(a.url)if(a.jsonp)Zx(a.url,this.Cg.bind(this),this.ef.bind(this));else{var b=new XMLHttpRequest;b.addEventListener("load",this.bp.bind(this));b.addEventListener("error",this.ap.bind(this));
b.open("GET",a.url);b.send()}else a.tileJSON?this.Cg(a.tileJSON):oa(!1,51)}w(gz,ny);k=gz.prototype;k.bp=function(a){a=a.target;if(!a.status||200<=a.status&&300>a.status){try{var b=JSON.parse(a.responseText)}catch(c){this.ef();return}this.Cg(b)}else this.ef()};k.ap=function(){this.ef()};k.Sl=function(){return this.i};
k.Cg=function(a){var b=Ob("EPSG:4326"),c=this.c;if(void 0!==a.bounds){var d=Pb(b,c);d=jb(a.bounds,d)}var e=a.minzoom||0,f=a.maxzoom||22;this.tileGrid=c=Bc({extent:Dc(c),maxZoom:f,minZoom:e});this.tileUrlFunction=Vx(a.tiles,c);if(void 0!==a.attribution&&!this.C){var g=void 0!==d?d:b.G();this.va(function(b){return hb(g,b.extent)?[a.attribution]:null})}this.i=a;ww(this,"ready")};k.ef=function(){ww(this,"error")};function hz(a){iy.call(this,{projection:Ob("EPSG:3857"),state:"loading"});this.s=void 0!==a.preemptive?a.preemptive:!0;this.l=Xx;this.f=void 0;this.i=a.jsonp||!1;if(a.url)if(this.i)Zx(a.url,this.Dg.bind(this),this.ff.bind(this));else{var b=new XMLHttpRequest;b.addEventListener("load",this.gp.bind(this));b.addEventListener("error",this.fp.bind(this));b.open("GET",a.url);b.send()}else a.tileJSON?this.Dg(a.tileJSON):oa(!1,51)}w(hz,iy);k=hz.prototype;
k.gp=function(a){a=a.target;if(!a.status||200<=a.status&&300>a.status){try{var b=JSON.parse(a.responseText)}catch(c){this.ff();return}this.Dg(b)}else this.ff()};k.fp=function(){this.ff()};k.Pl=function(){return this.f};k.al=function(a,b,c,d,e){this.tileGrid?(b=this.tileGrid.Le(a,b),iz(this.ad(b[0],b[1],b[2],1,this.c),a,c,d,e)):!0===e?setTimeout(function(){c.call(d,null)},0):c.call(d,null)};k.ff=function(){ww(this,"error")};
k.Dg=function(a){var b=Ob("EPSG:4326"),c=this.c;if(void 0!==a.bounds){var d=Pb(b,c);d=jb(a.bounds,d)}var e=a.minzoom||0,f=a.maxzoom||22;this.tileGrid=c=Bc({extent:Dc(c),maxZoom:f,minZoom:e});this.f=a.template;if(e=a.grids){this.l=Vx(e,c);if(void 0!==a.attribution){var g=void 0!==d?d:b.G();this.va(function(b){return hb(g,b.extent)?[a.attribution]:null})}ww(this,"ready")}else ww(this,"error")};
k.ad=function(a,b,c,d,e){var f=a+"/"+b+"/"+c;if(this.a.a.hasOwnProperty(f))return this.a.get(f);a=[a,b,c];b=ky(this,a,e);d=this.l(b,d,e);d=new jz(a,void 0!==d?0:4,void 0!==d?d:"",this.tileGrid.Ma(a),this.s,this.i);this.a.set(f,d);return d};k.kh=function(a,b,c){a=a+"/"+b+"/"+c;this.a.a.hasOwnProperty(a)&&this.a.get(a)};function jz(a,b,c,d,e,f){cl.call(this,a,b);this.v=c;this.a=d;this.N=e;this.c=this.l=this.f=null;this.o=f}w(jz,cl);k=jz.prototype;k.Y=function(){return null};
k.getData=function(a){if(!this.f||!this.l)return null;var b=this.f[Math.floor((1-(a[1]-this.a[1])/(this.a[3]-this.a[1]))*this.f.length)];if("string"!==typeof b)return null;b=b.charCodeAt(Math.floor((a[0]-this.a[0])/(this.a[2]-this.a[0])*b.length));93<=b&&b--;35<=b&&b--;b-=32;a=null;b in this.l&&(b=this.l[b],this.c&&b in this.c?a=this.c[b]:a=b);return a};
function iz(a,b,c,d,e){0==a.state&&!0===e?(Lc(a,"change",function(){c.call(d,this.getData(b))},a),kz(a)):!0===e?setTimeout(function(){c.call(d,this.getData(b))}.bind(a),0):c.call(d,a.getData(b))}k.lb=function(){return this.v};k.Ne=function(){this.state=3;this.u()};k.bj=function(a){this.f=a.grid;this.l=a.keys;this.c=a.data;this.state=4;this.u()};
function kz(a){if(0==a.state)if(a.state=1,a.o)Zx(a.v,a.bj.bind(a),a.Ne.bind(a));else{var b=new XMLHttpRequest;b.addEventListener("load",a.ep.bind(a));b.addEventListener("error",a.cp.bind(a));b.open("GET",a.v);b.send()}}k.ep=function(a){a=a.target;if(!a.status||200<=a.status&&300>a.status){try{var b=JSON.parse(a.responseText)}catch(c){this.Ne();return}this.bj(b)}else this.Ne()};k.cp=function(){this.Ne()};k.load=function(){this.N&&kz(this)};function lz(a){a=a||{};var b=a.params||{};ny.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,opaque:!("TRANSPARENT"in b?b.TRANSPARENT:1),projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:a.tileClass,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,url:a.url,urls:a.urls,wrapX:void 0!==a.wrapX?a.wrapX:!0,transition:a.transition});this.o=void 0!==a.gutter?a.gutter:0;this.i=b;this.l=!0;this.B=a.serverType;
this.$=void 0!==a.hidpi?a.hidpi:!0;this.ca=Da();mz(this);jy(this,nz(this))}w(lz,ny);k=lz.prototype;
k.hp=function(a,b,c,d){c=Ob(c);var e=this.c,f=this.tileGrid;f||(f=this.eb(c));b=f.Le(a,b);if(!(f.b.length<=b[0])){var g=f.Ta(b[0]),h=f.Ma(b,this.ca);f=Ba(f.Za(b[0]),this.j);var l=this.o;0!==l&&(f=za(f,l,this.j),h=Fa(h,g*l,h));e&&e!==c&&(g=by(e,c,a,g),h=bc(h,c,e),a=ac(a,c,e));l={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.i.LAYERS};kb(l,this.i,d);d=Math.floor((h[3]-a[1])/g);l[this.l?"I":"X"]=Math.floor((a[0]-h[0])/g);l[this.l?"J":"Y"]=
d;return oz(this,b,f,h,1,e||c,l)}};k.$f=function(){return this.o};k.ip=function(){return this.i};
function oz(a,b,c,d,e,f,g){var h=a.urls;if(h){g.WIDTH=c[0];g.HEIGHT=c[1];g[a.l?"CRS":"SRS"]=f.wb;"STYLES"in a.i||(g.STYLES="");if(1!=e)switch(a.B){case "geoserver":c=90*e+.5|0;g.FORMAT_OPTIONS="FORMAT_OPTIONS"in g?g.FORMAT_OPTIONS+(";dpi:"+c):"dpi:"+c;break;case "mapserver":g.MAP_RESOLUTION=90*e;break;case "carmentaserver":case "qgis":g.DPI=90*e;break;default:oa(!1,52)}f=f.b;a.l&&"ne"==f.substr(0,2)&&(a=d[0],d[0]=d[1],d[1]=a,a=d[2],d[2]=d[3],d[3]=a);g.BBOX=d.join(",");return Gy(1==h.length?h[0]:h[wa((b[1]<<
b[0])+b[2],h.length)],g)}}k.Xc=function(a){return this.$&&void 0!==this.B?a:1};function nz(a){var b=0,c=[],d;for(d in a.i)c[b++]=d+"-"+a.i[d];return c.join("/")}
k.dc=function(a,b,c){var d=this.tileGrid;d||(d=this.eb(c));if(!(d.b.length<=a[0])){1==b||this.$&&void 0!==this.B||(b=1);var e=d.Ta(a[0]),f=d.Ma(a,this.ca);d=Ba(d.Za(a[0]),this.j);var g=this.o;0!==g&&(d=za(d,g,this.j),f=Fa(f,e*g,f));1!=b&&(d=Aa(d,b,this.j));e={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};kb(e,this.i);return oz(this,a,d,f,b,c,e)}};k.jp=function(a){kb(this.i,a);mz(this);jy(this,nz(this))};function mz(a){a.l=0<=ye(a.i.VERSION||"1.3.0")};function pz(a,b,c,d,e,f,g,h,l,m,n,p,q,r,u){cl.call(this,a,b,u);this.v={};this.o={};this.c=m;this.a=[];this.D=c;this.l=f;this.f=[];this.N=[];if(f){var v=l.Ma(f),z=l.Ta(a[0]);h.Vf(v,h.Dc(z),function(a){var b=gb(v,h.Ma(a)),c=h.G();c&&(b=gb(b,c));.5<=cb(b)/z&&.5<=db(b)/z&&(b=a.toString(),c=m[b],c||(c=g(a,n,p),c=m[b]=new q(a,void 0==c?4:0,void 0==c?"":c,d,e),this.N.push(y(c,"change",r))),c.c++,this.a.push(b))}.bind(this))}}w(pz,cl);k=pz.prototype;
k.ia=function(){for(var a=0,b=this.a.length;a<b;++a){var c=this.a[a],d=this.c[c];d.c--;0==d.c&&(delete this.c[c],Pc(d))}this.a.length=0;this.c=null;this.f.forEach(Gc);this.f.length=0;this.g&&Pc(this.g);this.state=5;this.u();this.N.forEach(Gc);this.N.length=0;cl.prototype.ia.call(this)};function nk(a,b){b=x(b).toString();b in a.v||(a.v[b]=hg());return a.v[b]}k.Y=function(a){return-1==mk(this,a).fh?null:nk(this,a).canvas};
function mk(a,b){b=x(b).toString();b in a.o||(a.o[b]={Be:!1,eh:null,wf:-1,fh:-1});return a.o[b]}k.lb=function(){return this.a.join("/")+"-"+this.D};
k.load=function(){var a=0,b={};0==this.state&&oj(this,1);1==this.state&&this.a.forEach(function(c){var d=this.c[c];0==d.state&&(d.ug(this.C),d.load());1==d.state&&(c=y(d,"change",function(){var c=d.getState();if(2==c||3==c){var f=x(d);3==c?b[f]=!0:(--a,delete b[f]);0==a-Object.keys(b).length&&this.Kh()}}.bind(this)),this.f.push(c),++a)}.bind(this));0==a-Object.keys(b).length&&setTimeout(this.Kh.bind(this),0)};
k.Kh=function(){for(var a=this.a.length,b=0,c=a-1;0<=c;--c){var d=this.c[this.a[c]].getState();2!=d&&--a;4==d&&++b}a==this.a.length?(this.f.forEach(Gc),this.f.length=0,oj(this,2)):oj(this,b==this.a.length?4:3)};function qz(a,b){a.ug(Eo(b,a.v,a.Cp.bind(a),a.Bp.bind(a)))};function rz(a){var b=a.projection||"EPSG:3857",c=a.extent||Dc(b),d=a.tileGrid||Bc({extent:c,maxZoom:a.maxZoom||22,minZoom:a.minZoom,tileSize:a.tileSize||512});my.call(this,{attributions:a.attributions,cacheSize:void 0!==a.cacheSize?a.cacheSize:128,extent:c,logo:a.logo,opaque:!1,projection:b,state:a.state,tileGrid:d,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:qz,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:void 0===a.wrapX?!0:a.wrapX,transition:a.transition});this.l=a.format?
a.format:null;this.i={};this.s=void 0==a.overlaps?!0:a.overlaps;this.tileClass=a.tileClass?a.tileClass:Kn;this.f={}}w(rz,my);k=rz.prototype;k.clear=function(){this.a.clear();this.i={}};k.ad=function(a,b,c,d,e){var f=a+"/"+b+"/"+c;if(this.a.a.hasOwnProperty(f))return this.a.get(f);a=[a,b,c];b=ky(this,a,e);d=new pz(a,null!==b?0:4,this.g,this.l,this.tileLoadFunction,b,this.tileUrlFunction,this.tileGrid,this.eb(e),this.i,d,e,this.tileClass,this.dj.bind(this),this.Ea);this.a.set(f,d);return d};
k.eb=function(a){var b=a.wb,c=this.f[b];c||(c=this.tileGrid,c=this.f[b]=Ac(a,void 0,c?c.Za(c.minZoom):void 0));return c};k.Xc=function(a){return a};k.Zd=function(a,b,c){a=Ba(this.eb(c).Za(a));return[Math.round(a[0]*b),Math.round(a[1]*b)]};function sz(a){this.s=a.matrixIds;qc.call(this,{extent:a.extent,origin:a.origin,origins:a.origins,resolutions:a.resolutions,tileSize:a.tileSize,tileSizes:a.tileSizes,sizes:a.sizes})}w(sz,qc);sz.prototype.v=function(){return this.s};
function tz(a,b,c){var d=[],e=[],f=[],g=[],h=[],l=void 0!==c?c:[];c=a.SupportedCRS;c=Ob(c.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Ob(c);var m=c.Bc(),n="ne"==c.b.substr(0,2);a.TileMatrix.sort(function(a,b){return b.ScaleDenominator-a.ScaleDenominator});a.TileMatrix.forEach(function(a){var b;0<l.length?b=hc(l,function(b){return a.Identifier==b.TileMatrix}):b=!0;if(b){e.push(a.Identifier);b=2.8E-4*a.ScaleDenominator/m;var c=a.TileWidth,p=a.TileHeight;n?f.push([a.TopLeftCorner[1],a.TopLeftCorner[0]]):
f.push(a.TopLeftCorner);d.push(b);g.push(c==p?c:[c,p]);h.push([a.MatrixWidth,-a.MatrixHeight])}});return new sz({extent:b,origins:f,resolutions:d,matrixIds:e,tileSizes:g,sizes:h})};function Y(a){this.La=void 0!==a.version?a.version:"1.0.0";this.B=void 0!==a.format?a.format:"image/jpeg";this.i=void 0!==a.dimensions?a.dimensions:{};this.$=a.layer;this.o=a.matrixSet;this.ca=a.style;var b=a.urls;void 0===b&&void 0!==a.url&&(b=Yx(a.url));var c=this.ua=void 0!==a.requestEncoding?a.requestEncoding:"KVP",d=a.tileGrid,e={layer:this.$,style:this.ca,tilematrixset:this.o};"KVP"==c&&kb(e,{Service:"WMTS",Request:"GetTile",Version:this.La,Format:this.B});var f=this.i;this.l=function(a){a=
"KVP"==c?Gy(a,e):a.replace(/\{(\w+?)\}/g,function(a,b){return b.toLowerCase()in e?e[b.toLowerCase()]:a});return function(b){if(b){var e={TileMatrix:d.s[b[0]],TileCol:b[1],TileRow:-b[2]-1};kb(e,f);b=a;return b="KVP"==c?Gy(b,e):b.replace(/\{(\w+?)\}/g,function(a,b){return e[b]})}}};var g=b&&0<b.length?Wx(b.map(this.l)):Xx;ny.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,
tileClass:a.tileClass,tileGrid:d,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:g,urls:b,wrapX:void 0!==a.wrapX?a.wrapX:!1,transition:a.transition});jy(this,uz(this))}w(Y,ny);k=Y.prototype;k.vb=function(a){this.urls=a;var b=a.join("\n");this.hb(this.dc?this.dc.bind(this):Wx(a.map(this.l.bind(this))),b)};k.ol=function(){return this.i};k.kp=function(){return this.B};k.lp=function(){return this.$};k.Al=function(){return this.o};k.Nl=function(){return this.ua};
k.mp=function(){return this.ca};k.Ul=function(){return this.La};function uz(a){var b=0,c=[],d;for(d in a.i)c[b++]=d+"-"+a.i[d];return c.join("/")}k.Tq=function(a){kb(this.i,a);jy(this,uz(this))};function vz(a){a=a||{};var b=a.size,c=b[0],d=b[1];b=a.extent||[0,-b[1],b[0],0];var e=[],f=a.tileSize||256,g=f;switch(void 0!==a.tierSizeCalculation?a.tierSizeCalculation:wz){case wz:for(;c>g||d>g;)e.push([Math.ceil(c/g),Math.ceil(d/g)]),g+=g;break;case xz:for(;c>g||d>g;)e.push([Math.ceil(c/g),Math.ceil(d/g)]),c>>=1,d>>=1;break;default:oa(!1,53)}e.push([1,1]);e.reverse();d=[1];var h=[0];g=1;for(c=e.length;g<c;g++)d.push(1<<g),h.push(e[g-1][0]*e[g-1][1]+h[g-1]);d.reverse();var l=new qc({tileSize:f,
extent:b,origin:$a(b),resolutions:d});(b=a.url)&&-1==b.indexOf("{TileGroup}")&&-1==b.indexOf("{tileIndex}")&&(b+="{TileGroup}/{z}-{x}-{y}.jpg");b=Yx(b);b=Wx(b.map(function(a){return function(b){if(b){var c=b[0],d=b[1];b=-b[2]-1;var f=d+b*e[c][0],g={z:c,x:d,y:b,tileIndex:f,TileGroup:"TileGroup"+((f+h[c])/l.Za(c)|0)};return a.replace(/\{(\w+?)\}/g,function(a,b){return g[b]})}}}));ny.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,
reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:yz.bind(null,l),tileGrid:l,tileUrlFunction:b,transition:a.transition})}w(vz,ny);function yz(a,b,c,d,e,f,g){el.call(this,b,c,d,e,f,g);this.a=null;this.o=Ba(a.Za(b[0]))}w(yz,el);yz.prototype.Y=function(){if(this.a)return this.a;var a=el.prototype.Y.call(this);if(2==this.state){var b=this.o;if(a.width==b[0]&&a.height==b[1])return this.a=a;b=hg(b[0],b[1]);b.drawImage(a,0,0);return this.a=b.canvas}return a};var wz="default",xz="truncated";ha.prototype.code=ha.prototype.code;t("ol.Attribution",Ec);Ec.prototype.getHTML=Ec.prototype.b;t("ol.CanvasMap",H);t("ol.Collection",B);B.prototype.clear=B.prototype.clear;B.prototype.extend=B.prototype.qg;B.prototype.forEach=B.prototype.forEach;B.prototype.getArray=B.prototype.Xm;B.prototype.item=B.prototype.item;B.prototype.getLength=B.prototype.kc;B.prototype.insertAt=B.prototype.Re;B.prototype.pop=B.prototype.pop;B.prototype.push=B.prototype.push;B.prototype.remove=B.prototype.remove;
B.prototype.removeAt=B.prototype.Wg;B.prototype.setAt=B.prototype.rq;cd.prototype.element=cd.prototype.element;t("ol.color.asArray",vi);t("ol.color.asString",xi);t("ol.colorlike.asColorLike",zi);t("ol.control.defaults",Fg);t("ol.coordinate.add",ze);t("ol.coordinate.createStringXY",function(a){return function(b){return Ke(b,a)}});t("ol.coordinate.format",De);t("ol.coordinate.rotate",Fe);t("ol.coordinate.toStringHDMS",function(a,b){return a?Ce("NS",a[1],b)+" "+Ce("EW",a[0],b):""});
t("ol.coordinate.toStringXY",Ke);t("ol.DeviceOrientation",pk);pk.prototype.getAlpha=pk.prototype.Ym;pk.prototype.getBeta=pk.prototype.ll;pk.prototype.getGamma=pk.prototype.ql;pk.prototype.getHeading=pk.prototype.Zm;pk.prototype.getTracking=pk.prototype.li;pk.prototype.setTracking=pk.prototype.rg;t("ol.easing.easeIn",Me);t("ol.easing.easeOut",Oe);t("ol.easing.inAndOut",Pe);t("ol.easing.linear",Qe);t("ol.easing.upAndDown",function(a){return.5>a?Pe(2*a):1-Pe(2*(a-.5))});
t("ol.extent.boundingExtent",Ca);t("ol.extent.buffer",Fa);t("ol.extent.containsCoordinate",Ja);t("ol.extent.containsExtent",La);t("ol.extent.containsXY",Ka);t("ol.extent.createEmpty",Da);t("ol.extent.equals",Sa);t("ol.extent.extend",Ta);t("ol.extent.getArea",ab);t("ol.extent.getBottomLeft",Wa);t("ol.extent.getBottomRight",Ya);t("ol.extent.getCenter",eb);t("ol.extent.getHeight",db);t("ol.extent.getIntersection",gb);t("ol.extent.getSize",function(a){return[a[2]-a[0],a[3]-a[1]]});
t("ol.extent.getTopLeft",$a);t("ol.extent.getTopRight",Za);t("ol.extent.getWidth",cb);t("ol.extent.intersects",hb);t("ol.extent.isEmpty",bb);t("ol.extent.applyTransform",jb);t("ol.Feature",Hk);Hk.prototype.clone=Hk.prototype.clone;Hk.prototype.getGeometry=Hk.prototype.U;Hk.prototype.getId=Hk.prototype.an;Hk.prototype.getGeometryName=Hk.prototype.sl;Hk.prototype.getStyle=Hk.prototype.bn;Hk.prototype.getStyleFunction=Hk.prototype.ib;Hk.prototype.setGeometry=Hk.prototype.Va;Hk.prototype.setStyle=Hk.prototype.sg;
Hk.prototype.setId=Hk.prototype.qc;Hk.prototype.setGeometryName=Hk.prototype.Lc;t("ol.featureloader.xhr",Fo);t("ol.Geolocation",Jk);Jk.prototype.getAccuracy=Jk.prototype.el;Jk.prototype.getAccuracyGeometry=Jk.prototype.fl;Jk.prototype.getAltitude=Jk.prototype.gl;Jk.prototype.getAltitudeAccuracy=Jk.prototype.hl;Jk.prototype.getHeading=Jk.prototype.cn;Jk.prototype.getPosition=Jk.prototype.dn;Jk.prototype.getProjection=Jk.prototype.mi;Jk.prototype.getSpeed=Jk.prototype.Ol;Jk.prototype.getTracking=Jk.prototype.ni;
Jk.prototype.getTrackingOptions=Jk.prototype.ai;Jk.prototype.setProjection=Jk.prototype.oi;Jk.prototype.setTracking=Jk.prototype.Ue;Jk.prototype.setTrackingOptions=Jk.prototype.Rj;t("ol.Graticule",Xk);Xk.prototype.getMap=Xk.prototype.gn;Xk.prototype.getMeridians=Xk.prototype.Cl;Xk.prototype.getParallels=Xk.prototype.Jl;Xk.prototype.setMap=Xk.prototype.setMap;t("ol.has.DEVICE_PIXEL_RATIO",nd);t("ol.has.CANVAS",pd);t("ol.has.DEVICE_ORIENTATION",qd);t("ol.has.GEOLOCATION",rd);t("ol.has.TOUCH",sd);
t("ol.has.WEBGL",hd);bl.prototype.getImage=bl.prototype.Y;bl.prototype.load=bl.prototype.load;el.prototype.getImage=el.prototype.Y;t("ol.inherits",w);t("ol.interaction.defaults",Zh);t("ol.Kinetic",Gg);t("ol.loadingstrategy.all",tw);t("ol.loadingstrategy.bbox",function(a){return[a]});t("ol.loadingstrategy.tile",function(a){return function(b,c){c=a.Dc(c);b=tc(a,b,c);var d=[];c=[c,0,0];for(c[1]=b.fa;c[1]<=b.la;++c[1])for(c[2]=b.ea;c[2]<=b.ka;++c[2])d.push(a.Ma(c));return d}});t("ol.Map",K);
ed.prototype.originalEvent=ed.prototype.originalEvent;ed.prototype.pixel=ed.prototype.pixel;ed.prototype.coordinate=ed.prototype.coordinate;ed.prototype.dragging=ed.prototype.dragging;dd.prototype.map=dd.prototype.map;dd.prototype.frameState=dd.prototype.frameState;t("ol.Object",Vc);Vc.prototype.get=Vc.prototype.get;Vc.prototype.getKeys=Vc.prototype.P;Vc.prototype.getProperties=Vc.prototype.L;Vc.prototype.set=Vc.prototype.set;Vc.prototype.setProperties=Vc.prototype.H;Vc.prototype.unset=Vc.prototype.R;
Zc.prototype.key=Zc.prototype.key;Zc.prototype.oldValue=Zc.prototype.oldValue;t("ol.Observable",Uc);t("ol.Observable.unByKey",function(a){if(Array.isArray(a))for(var b=0,c=a.length;b<c;++b)Gc(a[b]);else Gc(a)});Uc.prototype.changed=Uc.prototype.u;Uc.prototype.dispatchEvent=Uc.prototype.b;Uc.prototype.getRevision=Uc.prototype.K;Uc.prototype.on=Uc.prototype.I;Uc.prototype.once=Uc.prototype.once;Uc.prototype.un=Uc.prototype.J;t("ol.Overlay",Bn);Bn.prototype.getElement=Bn.prototype.Rd;
Bn.prototype.getId=Bn.prototype.nn;Bn.prototype.getMap=Bn.prototype.Ve;Bn.prototype.getOffset=Bn.prototype.Xh;Bn.prototype.getPosition=Bn.prototype.pi;Bn.prototype.getPositioning=Bn.prototype.Yh;Bn.prototype.setElement=Bn.prototype.Hj;Bn.prototype.setMap=Bn.prototype.setMap;Bn.prototype.setOffset=Bn.prototype.Mj;Bn.prototype.setPosition=Bn.prototype.We;Bn.prototype.setPositioning=Bn.prototype.Pj;t("ol.PluggableMap",G);G.prototype.addControl=G.prototype.Mf;G.prototype.addInteraction=G.prototype.Nf;
G.prototype.addLayer=G.prototype.xe;G.prototype.addOverlay=G.prototype.ye;G.prototype.forEachFeatureAtPixel=G.prototype.Tc;G.prototype.getFeaturesAtPixel=G.prototype.Xf;G.prototype.forEachLayerAtPixel=G.prototype.tg;G.prototype.hasFeatureAtPixel=G.prototype.ng;G.prototype.getEventCoordinate=G.prototype.Sd;G.prototype.getEventPixel=G.prototype.ud;G.prototype.getTarget=G.prototype.Xd;G.prototype.getTargetElement=G.prototype.Cc;G.prototype.getCoordinateFromPixel=G.prototype.Ra;
G.prototype.getControls=G.prototype.Wf;G.prototype.getOverlays=G.prototype.gg;G.prototype.getOverlayById=G.prototype.fg;G.prototype.getInteractions=G.prototype.bg;G.prototype.getLayerGroup=G.prototype.hc;G.prototype.getLayers=G.prototype.Xe;G.prototype.getPixelFromCoordinate=G.prototype.Ia;G.prototype.getSize=G.prototype.Cb;G.prototype.getView=G.prototype.aa;G.prototype.getViewport=G.prototype.kg;G.prototype.renderSync=G.prototype.dh;G.prototype.render=G.prototype.render;
G.prototype.removeControl=G.prototype.Xg;G.prototype.removeInteraction=G.prototype.Zg;G.prototype.removeLayer=G.prototype.$g;G.prototype.removeOverlay=G.prototype.ah;G.prototype.setLayerGroup=G.prototype.zf;G.prototype.setSize=G.prototype.be;G.prototype.setTarget=G.prototype.Ad;G.prototype.setView=G.prototype.jh;G.prototype.updateSize=G.prototype.Oc;t("ol.proj.METERS_PER_UNIT",ub);t("ol.proj.setProj4",function(a){vb=a});t("ol.proj.getPointResolution",Nb);t("ol.proj.addEquivalentProjections",Qb);
t("ol.proj.addProjection",Rb);t("ol.proj.addCoordinateTransforms",Vb);t("ol.proj.fromLonLat",function(a,b){return ac(a,"EPSG:4326",void 0!==b?b:"EPSG:3857")});t("ol.proj.toLonLat",function(a,b){a=ac(a,void 0!==b?b:"EPSG:3857","EPSG:4326");b=a[0];if(-180>b||180<b)a[0]=wa(b+180,360)-180;return a});t("ol.proj.get",Ob);t("ol.proj.equivalent",Xb);t("ol.proj.getTransform",Yb);t("ol.proj.transform",ac);t("ol.proj.transformExtent",bc);
t("ol.render.toContext",function(a,b){var c=a.canvas,d=b?b:{};b=d.pixelRatio||nd;if(d=d.size)c.width=d[0]*b,c.height=d[1]*b,c.style.width=d[0]+"px",c.style.height=d[1]+"px";c=[0,0,c.width,c.height];d=cf(We(),b,b);return new Bi(a,b,c,d,0)});t("ol.size.toSize",Ba);t("ol.Sphere",ob);ob.prototype.geodesicArea=ob.prototype.a;ob.prototype.haversineDistance=ob.prototype.b;t("ol.Sphere.getLength",rb);t("ol.Sphere.getArea",tb);t("ol.style.iconImageCache",ej);cl.prototype.getTileCoord=cl.prototype.i;
cl.prototype.load=cl.prototype.load;t("ol.tilegrid.createXYZ",Bc);Kn.prototype.getExtent=Kn.prototype.G;Kn.prototype.getFormat=Kn.prototype.qn;Kn.prototype.getFeatures=Kn.prototype.pn;Kn.prototype.getProjection=Kn.prototype.rn;Kn.prototype.setExtent=Kn.prototype.ri;Kn.prototype.setFeatures=Kn.prototype.Ij;Kn.prototype.setProjection=Kn.prototype.vg;Kn.prototype.setLoader=Kn.prototype.ug;t("ol.View",F);F.prototype.animate=F.prototype.animate;F.prototype.getAnimating=F.prototype.Ac;
F.prototype.getInteracting=F.prototype.Vh;F.prototype.cancelAnimations=F.prototype.rd;F.prototype.constrainCenter=F.prototype.Sc;F.prototype.constrainResolution=F.prototype.constrainResolution;F.prototype.constrainRotation=F.prototype.constrainRotation;F.prototype.getCenter=F.prototype.xa;F.prototype.calculateExtent=F.prototype.qd;F.prototype.getMaxResolution=F.prototype.sn;F.prototype.getMinResolution=F.prototype.vn;F.prototype.getMaxZoom=F.prototype.tn;F.prototype.setMaxZoom=F.prototype.Cq;
F.prototype.getMinZoom=F.prototype.wn;F.prototype.setMinZoom=F.prototype.Dq;F.prototype.getProjection=F.prototype.xn;F.prototype.getResolution=F.prototype.Pa;F.prototype.getResolutions=F.prototype.yn;F.prototype.getResolutionForExtent=F.prototype.Je;F.prototype.getRotation=F.prototype.Sa;F.prototype.getZoom=F.prototype.lg;F.prototype.getZoomForResolution=F.prototype.Me;F.prototype.getResolutionForZoom=F.prototype.$h;F.prototype.fit=F.prototype.Uf;F.prototype.centerOn=F.prototype.Nk;
F.prototype.rotate=F.prototype.rotate;F.prototype.setCenter=F.prototype.ub;F.prototype.setResolution=F.prototype.gd;F.prototype.setRotation=F.prototype.ce;F.prototype.setZoom=F.prototype.Tj;t("ol.xml.getAllTextContent",oo);t("ol.xml.parse",so);Hl.prototype.getGL=Hl.prototype.yp;Hl.prototype.useProgram=Hl.prototype.cd;t("ol.tilegrid.TileGrid",qc);qc.prototype.forEachTileCoord=qc.prototype.Vf;qc.prototype.getMaxZoom=qc.prototype.mj;qc.prototype.getMinZoom=qc.prototype.nj;qc.prototype.getOrigin=qc.prototype.Ic;
qc.prototype.getResolution=qc.prototype.Ta;qc.prototype.getResolutions=qc.prototype.oj;qc.prototype.getTileCoordExtent=qc.prototype.Ma;qc.prototype.getTileCoordForCoordAndResolution=qc.prototype.Le;qc.prototype.getTileCoordForCoordAndZ=qc.prototype.jg;qc.prototype.getTileSize=qc.prototype.Za;qc.prototype.getZForResolution=qc.prototype.Dc;t("ol.tilegrid.WMTS",sz);sz.prototype.getMatrixIds=sz.prototype.v;t("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",tz);t("ol.style.AtlasManager",Tm);
t("ol.style.Circle",yk);yk.prototype.setRadius=yk.prototype.fd;t("ol.style.Fill",zk);zk.prototype.clone=zk.prototype.clone;zk.prototype.getColor=zk.prototype.g;zk.prototype.setColor=zk.prototype.c;t("ol.style.Icon",dr);dr.prototype.clone=dr.prototype.clone;dr.prototype.getAnchor=dr.prototype.Vc;dr.prototype.getColor=dr.prototype.np;dr.prototype.getImage=dr.prototype.Y;dr.prototype.getOrigin=dr.prototype.bd;dr.prototype.getSrc=dr.prototype.op;dr.prototype.getSize=dr.prototype.oc;
dr.prototype.load=dr.prototype.load;cj.prototype.setSize=cj.prototype.c;t("ol.style.Image",vk);vk.prototype.getOpacity=vk.prototype.hf;vk.prototype.getRotateWithView=vk.prototype.jf;vk.prototype.getRotation=vk.prototype.kf;vk.prototype.getScale=vk.prototype.lf;vk.prototype.getSnapToPixel=vk.prototype.Ke;vk.prototype.setOpacity=vk.prototype.Ed;vk.prototype.setRotation=vk.prototype.mf;vk.prototype.setScale=vk.prototype.Fd;t("ol.style.RegularShape",wk);wk.prototype.clone=wk.prototype.clone;
wk.prototype.getAnchor=wk.prototype.Vc;wk.prototype.getAngle=wk.prototype.ij;wk.prototype.getFill=wk.prototype.Fa;wk.prototype.getImage=wk.prototype.Y;wk.prototype.getOrigin=wk.prototype.bd;wk.prototype.getPoints=wk.prototype.jj;wk.prototype.getRadius=wk.prototype.kj;wk.prototype.getRadius2=wk.prototype.Zh;wk.prototype.getSize=wk.prototype.oc;wk.prototype.getStroke=wk.prototype.Ga;t("ol.style.Stroke",Ak);Ak.prototype.clone=Ak.prototype.clone;Ak.prototype.getColor=Ak.prototype.pp;
Ak.prototype.getLineCap=Ak.prototype.vl;Ak.prototype.getLineDash=Ak.prototype.qp;Ak.prototype.getLineDashOffset=Ak.prototype.wl;Ak.prototype.getLineJoin=Ak.prototype.xl;Ak.prototype.getMiterLimit=Ak.prototype.Dl;Ak.prototype.getWidth=Ak.prototype.rp;Ak.prototype.setColor=Ak.prototype.sp;Ak.prototype.setLineCap=Ak.prototype.yq;Ak.prototype.setLineDash=Ak.prototype.setLineDash;Ak.prototype.setLineDashOffset=Ak.prototype.zq;Ak.prototype.setLineJoin=Ak.prototype.Aq;Ak.prototype.setMiterLimit=Ak.prototype.Eq;
Ak.prototype.setWidth=Ak.prototype.Kq;t("ol.style.Style",Bk);Bk.prototype.clone=Bk.prototype.clone;Bk.prototype.getRenderer=Bk.prototype.Ie;Bk.prototype.setRenderer=Bk.prototype.Iq;Bk.prototype.getGeometry=Bk.prototype.U;Bk.prototype.getGeometryFunction=Bk.prototype.rl;Bk.prototype.getFill=Bk.prototype.Fa;Bk.prototype.setFill=Bk.prototype.yf;Bk.prototype.getImage=Bk.prototype.Y;Bk.prototype.setImage=Bk.prototype.ih;Bk.prototype.getStroke=Bk.prototype.Ga;Bk.prototype.setStroke=Bk.prototype.Af;
Bk.prototype.getText=Bk.prototype.Ka;Bk.prototype.setText=Bk.prototype.Hd;Bk.prototype.getZIndex=Bk.prototype.Ba;Bk.prototype.setGeometry=Bk.prototype.Va;Bk.prototype.setZIndex=Bk.prototype.$b;t("ol.style.Text",J);J.prototype.clone=J.prototype.clone;J.prototype.getOverflow=J.prototype.Gl;J.prototype.getFont=J.prototype.pl;J.prototype.getMaxAngle=J.prototype.Bl;J.prototype.getPlacement=J.prototype.Kl;J.prototype.getOffsetX=J.prototype.El;J.prototype.getOffsetY=J.prototype.Fl;J.prototype.getFill=J.prototype.Fa;
J.prototype.getRotateWithView=J.prototype.tp;J.prototype.getRotation=J.prototype.up;J.prototype.getScale=J.prototype.vp;J.prototype.getStroke=J.prototype.Ga;J.prototype.getText=J.prototype.Ka;J.prototype.getTextAlign=J.prototype.Ql;J.prototype.getTextBaseline=J.prototype.Rl;J.prototype.getBackgroundFill=J.prototype.jl;J.prototype.getBackgroundStroke=J.prototype.kl;J.prototype.getPadding=J.prototype.Il;J.prototype.setOverflow=J.prototype.Fq;J.prototype.setFont=J.prototype.Jj;
J.prototype.setMaxAngle=J.prototype.Bq;J.prototype.setOffsetX=J.prototype.Nj;J.prototype.setOffsetY=J.prototype.Oj;J.prototype.setPlacement=J.prototype.Hq;J.prototype.setFill=J.prototype.yf;J.prototype.setRotation=J.prototype.wp;J.prototype.setScale=J.prototype.lj;J.prototype.setStroke=J.prototype.Af;J.prototype.setText=J.prototype.Hd;J.prototype.setTextAlign=J.prototype.Qj;J.prototype.setTextBaseline=J.prototype.Jq;J.prototype.setBackgroundFill=J.prototype.sq;J.prototype.setBackgroundStroke=J.prototype.tq;
J.prototype.setPadding=J.prototype.Gq;t("ol.source.BingMaps",ry);t("ol.source.BingMaps.TOS_ATTRIBUTION",'<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html">Terms of Use</a>');ry.prototype.getApiKey=ry.prototype.ca;ry.prototype.getImagerySet=ry.prototype.ua;t("ol.source.CartoDB",ty);ty.prototype.getConfig=ty.prototype.nl;ty.prototype.updateConfig=ty.prototype.Sq;ty.prototype.setConfig=ty.prototype.uq;t("ol.source.Cluster",X);X.prototype.getDistance=X.prototype.Eo;
X.prototype.getSource=X.prototype.Fo;X.prototype.setDistance=X.prototype.vq;t("ol.source.Image",zy);By.prototype.image=By.prototype.image;t("ol.source.ImageArcGISRest",Hy);Hy.prototype.getParams=Hy.prototype.Ho;Hy.prototype.getImageLoadFunction=Hy.prototype.Go;Hy.prototype.getUrl=Hy.prototype.Io;Hy.prototype.setImageLoadFunction=Hy.prototype.Jo;Hy.prototype.setUrl=Hy.prototype.Ko;Hy.prototype.updateParams=Hy.prototype.Lo;t("ol.source.ImageCanvas",Iy);t("ol.source.ImageMapGuide",Jy);
Jy.prototype.getParams=Jy.prototype.No;Jy.prototype.getImageLoadFunction=Jy.prototype.Mo;Jy.prototype.updateParams=Jy.prototype.Po;Jy.prototype.setImageLoadFunction=Jy.prototype.Oo;t("ol.source.ImageStatic",Ky);t("ol.source.ImageVector",Ly);Ly.prototype.getSource=Ly.prototype.Qo;Ly.prototype.getStyle=Ly.prototype.Ro;Ly.prototype.getStyleFunction=Ly.prototype.ib;Ly.prototype.setStyle=Ly.prototype.aj;t("ol.source.ImageWMS",Ny);Ny.prototype.getGetFeatureInfoUrl=Ny.prototype.Uo;
Ny.prototype.getParams=Ny.prototype.Wo;Ny.prototype.getImageLoadFunction=Ny.prototype.Vo;Ny.prototype.getUrl=Ny.prototype.Xo;Ny.prototype.setImageLoadFunction=Ny.prototype.Yo;Ny.prototype.setUrl=Ny.prototype.Zo;Ny.prototype.updateParams=Ny.prototype.$o;t("ol.source.OSM",Ry);t("ol.source.OSM.ATTRIBUTION",'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.');t("ol.source.Raster",Sy);Sy.prototype.setOperation=Sy.prototype.s;Wy.prototype.extent=Wy.prototype.extent;
Wy.prototype.resolution=Wy.prototype.resolution;Wy.prototype.data=Wy.prototype.data;t("ol.source.Source",uw);uw.prototype.getAttributions=uw.prototype.za;uw.prototype.getLogo=uw.prototype.Aa;uw.prototype.getProjection=uw.prototype.Da;uw.prototype.getState=uw.prototype.getState;uw.prototype.refresh=uw.prototype.sa;uw.prototype.setAttributions=uw.prototype.va;t("ol.source.Stamen",Zy);t("ol.source.Tile",iy);iy.prototype.getTileGrid=iy.prototype.jb;ly.prototype.tile=ly.prototype.tile;
t("ol.source.TileArcGISRest",cz);cz.prototype.getParams=cz.prototype.o;cz.prototype.updateParams=cz.prototype.B;t("ol.source.TileDebug",ez);t("ol.source.TileImage",ny);ny.prototype.setRenderReprojectionEdges=ny.prototype.Qb;ny.prototype.setTileGridForProjection=ny.prototype.Rb;t("ol.source.TileJSON",gz);gz.prototype.getTileJSON=gz.prototype.Sl;t("ol.source.TileUTFGrid",hz);hz.prototype.getTemplate=hz.prototype.Pl;hz.prototype.forDataAtCoordinateAndResolution=hz.prototype.al;
t("ol.source.TileWMS",lz);lz.prototype.getGetFeatureInfoUrl=lz.prototype.hp;lz.prototype.getParams=lz.prototype.ip;lz.prototype.updateParams=lz.prototype.jp;my.prototype.getTileLoadFunction=my.prototype.yb;my.prototype.getTileUrlFunction=my.prototype.zb;my.prototype.getUrls=my.prototype.Ab;my.prototype.setTileLoadFunction=my.prototype.Fb;my.prototype.setTileUrlFunction=my.prototype.hb;my.prototype.setUrl=my.prototype.rb;my.prototype.setUrls=my.prototype.vb;t("ol.source.Vector",U);
U.prototype.addFeature=U.prototype.Gb;U.prototype.addFeatures=U.prototype.Qc;U.prototype.clear=U.prototype.clear;U.prototype.forEachFeature=U.prototype.Lh;U.prototype.forEachFeatureInExtent=U.prototype.ec;U.prototype.forEachFeatureIntersectingExtent=U.prototype.Mh;U.prototype.getFeaturesCollection=U.prototype.Th;U.prototype.getFeatures=U.prototype.ee;U.prototype.getFeaturesAtCoordinate=U.prototype.Sh;U.prototype.getFeaturesInExtent=U.prototype.Yf;U.prototype.getClosestFeatureToCoordinate=U.prototype.Oh;
U.prototype.getExtent=U.prototype.G;U.prototype.getFeatureById=U.prototype.Rh;U.prototype.getFormat=U.prototype.ej;U.prototype.getUrl=U.prototype.fj;U.prototype.removeLoadedExtent=U.prototype.Cj;U.prototype.removeFeature=U.prototype.Lb;U.prototype.setLoader=U.prototype.hj;Bw.prototype.feature=Bw.prototype.feature;t("ol.source.VectorTile",rz);rz.prototype.clear=rz.prototype.clear;t("ol.source.WMTS",Y);Y.prototype.getDimensions=Y.prototype.ol;Y.prototype.getFormat=Y.prototype.kp;
Y.prototype.getLayer=Y.prototype.lp;Y.prototype.getMatrixSet=Y.prototype.Al;Y.prototype.getRequestEncoding=Y.prototype.Nl;Y.prototype.getStyle=Y.prototype.mp;Y.prototype.getVersion=Y.prototype.Ul;Y.prototype.updateDimensions=Y.prototype.Tq;
t("ol.source.WMTS.optionsFromCapabilities",function(a,b){var c=hc(a.Contents.Layer,function(a){return a.Identifier==b.layer});if(null===c)return null;var d=a.Contents.TileMatrixSet;var e=1<c.TileMatrixSetLink.length?"projection"in b?mc(c.TileMatrixSetLink,function(a){var c=hc(d,function(b){return b.Identifier==a.TileMatrixSet}).SupportedCRS,e=Ob(c.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||Ob(c),f=Ob(b.projection);return e&&f?Xb(e,f):c==b.projection}):mc(c.TileMatrixSetLink,function(a){return a.TileMatrixSet==
b.matrixSet}):0;0>e&&(e=0);var f=c.TileMatrixSetLink[e].TileMatrixSet;var g=c.TileMatrixSetLink[e].TileMatrixSetLimits;var h=c.Format[0];"format"in b&&(h=b.format);e=mc(c.Style,function(a){return"style"in b?a.Title==b.style:a.isDefault});0>e&&(e=0);e=c.Style[e].Identifier;var l={};"Dimension"in c&&c.Dimension.forEach(function(a){var b=a.Identifier,c=a.Default;void 0===c&&(c=a.Value[0]);l[b]=c});var m=hc(a.Contents.TileMatrixSet,function(a){return a.Identifier==f}),n,p=m.SupportedCRS;p&&(n=Ob(p.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,
"$1:$3"))||Ob(p));"projection"in b&&(p=Ob(b.projection),!p||n&&!Xb(p,n)||(n=p));p=c.WGS84BoundingBox;if(void 0!==p){var q=Ob("EPSG:4326").G();q=p[0]==q[0]&&p[2]==q[2];var r=bc(p,"EPSG:4326",n);(p=n.G())&&(La(p,r)||(r=void 0))}g=tz(m,r,g);var u=[];m=b.requestEncoding;m=void 0!==m?m:"";if("OperationsMetadata"in a&&"GetTile"in a.OperationsMetadata)for(a=a.OperationsMetadata.GetTile.DCP.HTTP.Get,r=0,p=a.length;r<p;++r)if(a[r].Constraint){var v=hc(a[r].Constraint,function(a){return"GetEncoding"==a.name}).AllowedValues.Value;
""===m&&(m=v[0]);if("KVP"===m)ec(v,"KVP")&&u.push(a[r].href);else break}else a[r].href&&(m="KVP",u.push(a[r].href));0===u.length&&(m="REST",c.ResourceURL.forEach(function(a){"tile"===a.resourceType&&(h=a.format,u.push(a.template))}));return{urls:u,layer:b.layer,matrixSet:f,format:h,projection:n,requestEncoding:m,tileGrid:g,style:e,dimensions:l,wrapX:q,crossOrigin:b.crossOrigin}});t("ol.source.XYZ",sy);t("ol.source.Zoomify",vz);t("ol.renderer.webgl.ImageLayer",pn);t("ol.renderer.webgl.Map",sn);
t("ol.renderer.webgl.TileLayer",zn);t("ol.renderer.webgl.VectorLayer",An);t("ol.renderer.canvas.ImageLayer",bj);t("ol.renderer.canvas.Map",kj);t("ol.renderer.canvas.TileLayer",mj);t("ol.renderer.canvas.VectorLayer",hk);t("ol.renderer.canvas.VectorTileLayer",jk);bi.prototype.vectorContext=bi.prototype.vectorContext;bi.prototype.frameState=bi.prototype.frameState;bi.prototype.context=bi.prototype.context;bi.prototype.glContext=bi.prototype.glContext;it.prototype.get=it.prototype.get;
it.prototype.getExtent=it.prototype.G;it.prototype.getId=it.prototype.Ao;it.prototype.getGeometry=it.prototype.U;it.prototype.getProperties=it.prototype.Bo;it.prototype.getType=it.prototype.S;t("ol.render.VectorContext",Ai);gn.prototype.setStyle=gn.prototype.Dd;gn.prototype.drawGeometry=gn.prototype.Hb;gn.prototype.drawFeature=gn.prototype.Ce;Bi.prototype.drawCircle=Bi.prototype.cc;Bi.prototype.setStyle=Bi.prototype.Dd;Bi.prototype.drawGeometry=Bi.prototype.Hb;Bi.prototype.drawFeature=Bi.prototype.Ce;
t("ol.proj.common.add",cc);t("ol.proj.Projection",wb);wb.prototype.getCode=wb.prototype.ml;wb.prototype.getExtent=wb.prototype.G;wb.prototype.getUnits=wb.prototype.zo;wb.prototype.getMetersPerUnit=wb.prototype.Bc;wb.prototype.getWorldExtent=wb.prototype.Vl;wb.prototype.getAxisOrientation=wb.prototype.il;wb.prototype.isGlobal=wb.prototype.Gm;wb.prototype.setGlobal=wb.prototype.xq;wb.prototype.setExtent=wb.prototype.Si;wb.prototype.setWorldExtent=wb.prototype.Sj;wb.prototype.setGetPointResolution=wb.prototype.wq;
t("ol.proj.Units.METERS_PER_UNIT",ub);t("ol.layer.Base",kg);kg.prototype.getExtent=kg.prototype.G;kg.prototype.getMaxResolution=kg.prototype.lc;kg.prototype.getMinResolution=kg.prototype.mc;kg.prototype.getOpacity=kg.prototype.nc;kg.prototype.getVisible=kg.prototype.Jb;kg.prototype.getZIndex=kg.prototype.Ba;kg.prototype.setExtent=kg.prototype.Fc;kg.prototype.setMaxResolution=kg.prototype.Mc;kg.prototype.setMinResolution=kg.prototype.Nc;kg.prototype.setOpacity=kg.prototype.Gc;
kg.prototype.setVisible=kg.prototype.Hc;kg.prototype.setZIndex=kg.prototype.$b;t("ol.layer.Group",mg);mg.prototype.getLayers=mg.prototype.Cd;mg.prototype.setLayers=mg.prototype.Qi;t("ol.layer.Heatmap",V);V.prototype.getBlur=V.prototype.Nh;V.prototype.getGradient=V.prototype.Uh;V.prototype.getRadius=V.prototype.Ri;V.prototype.setBlur=V.prototype.Fj;V.prototype.setGradient=V.prototype.Lj;V.prototype.setRadius=V.prototype.fd;t("ol.layer.Image",Sx);Sx.prototype.getSource=Sx.prototype.ha;
t("ol.layer.Layer",xg);xg.prototype.getSource=xg.prototype.ha;xg.prototype.setMap=xg.prototype.setMap;xg.prototype.setSource=xg.prototype.hd;t("ol.layer.Tile",Tx);Tx.prototype.getPreload=Tx.prototype.c;Tx.prototype.getSource=Tx.prototype.ha;Tx.prototype.setPreload=Tx.prototype.j;Tx.prototype.getUseInterimTilesOnError=Tx.prototype.i;Tx.prototype.setUseInterimTilesOnError=Tx.prototype.C;t("ol.layer.Vector",T);T.prototype.getSource=T.prototype.ha;T.prototype.getStyle=T.prototype.B;
T.prototype.getStyleFunction=T.prototype.ib;T.prototype.setStyle=T.prototype.j;t("ol.layer.VectorTile",W);W.prototype.getPreload=W.prototype.c;W.prototype.getUseInterimTilesOnError=W.prototype.i;W.prototype.setPreload=W.prototype.T;W.prototype.setUseInterimTilesOnError=W.prototype.O;W.prototype.getSource=W.prototype.ha;t("ol.interaction.DoubleClickZoom",Ug);t("ol.interaction.DoubleClickZoom.handleEvent",Vg);t("ol.interaction.DragAndDrop",iw);t("ol.interaction.DragAndDrop.handleEvent",Re);
lw.prototype.features=lw.prototype.features;lw.prototype.file=lw.prototype.file;lw.prototype.projection=lw.prototype.projection;t("ol.interaction.DragBox",th);th.prototype.getGeometry=th.prototype.U;yh.prototype.coordinate=yh.prototype.coordinate;yh.prototype.mapBrowserEvent=yh.prototype.mapBrowserEvent;t("ol.interaction.DragPan",ih);t("ol.interaction.DragRotate",mh);t("ol.interaction.DragRotateAndZoom",pw);t("ol.interaction.DragZoom",Ch);t("ol.interaction.Draw",Ew);
t("ol.interaction.Draw.handleEvent",Gw);Ew.prototype.removeLastPoint=Ew.prototype.nq;Ew.prototype.finishDrawing=Ew.prototype.Pd;Ew.prototype.extend=Ew.prototype.Zn;t("ol.interaction.Draw.createRegularPolygon",function(a,b){return function(c,d){var e=c[0];c=c[1];var f=Math.sqrt(He(e,c));d=d?d:Sf(new gw(e),a);Tf(d,e,f,b?b:Math.atan((c[1]-e[1])/(c[0]-e[0])));return d}});
t("ol.interaction.Draw.createBox",function(){return function(a,b){a=Ca(a);b=b||new D(null);b.na([[Wa(a),Ya(a),Za(a),$a(a),Wa(a)]]);return b}});Uw.prototype.feature=Uw.prototype.feature;t("ol.interaction.Extent",Vw);Vw.prototype.getExtent=Vw.prototype.G;Vw.prototype.setExtent=Vw.prototype.f;fx.prototype.extent=fx.prototype.extent;t("ol.interaction.Interaction",Jg);Jg.prototype.getActive=Jg.prototype.c;Jg.prototype.getMap=Jg.prototype.i;Jg.prototype.setActive=Jg.prototype.Ha;
t("ol.interaction.KeyboardPan",Dh);t("ol.interaction.KeyboardPan.handleEvent",Eh);t("ol.interaction.KeyboardZoom",Fh);t("ol.interaction.KeyboardZoom.handleEvent",Gh);t("ol.interaction.Modify",gx);t("ol.interaction.Modify.handleEvent",jx);gx.prototype.removePoint=gx.prototype.Dj;ox.prototype.features=ox.prototype.features;ox.prototype.mapBrowserEvent=ox.prototype.mapBrowserEvent;t("ol.interaction.MouseWheelZoom",Hh);t("ol.interaction.MouseWheelZoom.handleEvent",Ih);Hh.prototype.setMouseAnchor=Hh.prototype.V;
t("ol.interaction.PinchRotate",Rh);t("ol.interaction.PinchZoom",Vh);t("ol.interaction.Pointer",fh);t("ol.interaction.Pointer.handleEvent",gh);t("ol.interaction.Select",wx);wx.prototype.getFeatures=wx.prototype.lo;wx.prototype.getHitTolerance=wx.prototype.mo;wx.prototype.getLayer=wx.prototype.no;t("ol.interaction.Select.handleEvent",xx);wx.prototype.setHitTolerance=wx.prototype.po;wx.prototype.setMap=wx.prototype.setMap;zx.prototype.selected=zx.prototype.selected;zx.prototype.deselected=zx.prototype.deselected;
zx.prototype.mapBrowserEvent=zx.prototype.mapBrowserEvent;t("ol.interaction.Snap",Bx);Bx.prototype.addFeature=Bx.prototype.Gb;Bx.prototype.removeFeature=Bx.prototype.Lb;t("ol.interaction.Translate",Gx);Gx.prototype.getHitTolerance=Gx.prototype.B;Gx.prototype.setHitTolerance=Gx.prototype.T;Mx.prototype.features=Mx.prototype.features;Mx.prototype.coordinate=Mx.prototype.coordinate;t("ol.geom.Circle",gw);gw.prototype.clone=gw.prototype.clone;gw.prototype.getCenter=gw.prototype.xa;
gw.prototype.getRadius=gw.prototype.Bd;gw.prototype.getType=gw.prototype.S;gw.prototype.intersectsExtent=gw.prototype.$a;gw.prototype.setCenter=gw.prototype.ub;gw.prototype.setCenterAndRadius=gw.prototype.hh;gw.prototype.setRadius=gw.prototype.fd;gw.prototype.transform=gw.prototype.mb;t("ol.geom.Geometry",gf);gf.prototype.getClosestPoint=gf.prototype.Ib;gf.prototype.intersectsCoordinate=gf.prototype.Bb;gf.prototype.getExtent=gf.prototype.G;gf.prototype.rotate=gf.prototype.rotate;
gf.prototype.scale=gf.prototype.scale;gf.prototype.simplify=gf.prototype.Sb;gf.prototype.transform=gf.prototype.mb;t("ol.geom.GeometryCollection",Mq);Mq.prototype.clone=Mq.prototype.clone;Mq.prototype.getGeometries=Mq.prototype.vd;Mq.prototype.getType=Mq.prototype.S;Mq.prototype.intersectsExtent=Mq.prototype.$a;Mq.prototype.setGeometries=Mq.prototype.Kj;Mq.prototype.applyTransform=Mq.prototype.Rc;Mq.prototype.translate=Mq.prototype.translate;t("ol.geom.LinearRing",Df);Df.prototype.clone=Df.prototype.clone;
Df.prototype.getArea=Df.prototype.Vn;Df.prototype.getCoordinates=Df.prototype.W;Df.prototype.getType=Df.prototype.S;Df.prototype.setCoordinates=Df.prototype.na;t("ol.geom.LineString",I);I.prototype.appendCoordinate=I.prototype.Fk;I.prototype.clone=I.prototype.clone;I.prototype.forEachSegment=I.prototype.dl;I.prototype.getCoordinateAtM=I.prototype.Tn;I.prototype.getCoordinates=I.prototype.W;I.prototype.getCoordinateAt=I.prototype.Ph;I.prototype.getLength=I.prototype.Un;I.prototype.getType=I.prototype.S;
I.prototype.intersectsExtent=I.prototype.$a;I.prototype.setCoordinates=I.prototype.na;t("ol.geom.MultiLineString",P);P.prototype.appendLineString=P.prototype.Gk;P.prototype.clone=P.prototype.clone;P.prototype.getCoordinateAtM=P.prototype.Wn;P.prototype.getCoordinates=P.prototype.W;P.prototype.getLineString=P.prototype.yl;P.prototype.getLineStrings=P.prototype.wd;P.prototype.getType=P.prototype.S;P.prototype.intersectsExtent=P.prototype.$a;P.prototype.setCoordinates=P.prototype.na;
t("ol.geom.MultiPoint",No);No.prototype.appendPoint=No.prototype.Ik;No.prototype.clone=No.prototype.clone;No.prototype.getCoordinates=No.prototype.W;No.prototype.getPoint=No.prototype.Ll;No.prototype.getPoints=No.prototype.de;No.prototype.getType=No.prototype.S;No.prototype.intersectsExtent=No.prototype.$a;No.prototype.setCoordinates=No.prototype.na;t("ol.geom.MultiPolygon",Q);Q.prototype.appendPolygon=Q.prototype.Jk;Q.prototype.clone=Q.prototype.clone;Q.prototype.getArea=Q.prototype.Xn;
Q.prototype.getCoordinates=Q.prototype.W;Q.prototype.getInteriorPoints=Q.prototype.ul;Q.prototype.getPolygon=Q.prototype.Ml;Q.prototype.getPolygons=Q.prototype.Vd;Q.prototype.getType=Q.prototype.S;Q.prototype.intersectsExtent=Q.prototype.$a;Q.prototype.setCoordinates=Q.prototype.na;t("ol.geom.Point",C);C.prototype.clone=C.prototype.clone;C.prototype.getCoordinates=C.prototype.W;C.prototype.getType=C.prototype.S;C.prototype.intersectsExtent=C.prototype.$a;C.prototype.setCoordinates=C.prototype.na;
t("ol.geom.Polygon",D);D.prototype.appendLinearRing=D.prototype.Hk;D.prototype.clone=D.prototype.clone;D.prototype.getArea=D.prototype.Yn;D.prototype.getCoordinates=D.prototype.W;D.prototype.getInteriorPoint=D.prototype.tl;D.prototype.getLinearRingCount=D.prototype.zl;D.prototype.getLinearRing=D.prototype.Wh;D.prototype.getLinearRings=D.prototype.Ud;D.prototype.getType=D.prototype.S;D.prototype.intersectsExtent=D.prototype.$a;D.prototype.setCoordinates=D.prototype.na;
t("ol.geom.Polygon.circular",Qf);t("ol.geom.Polygon.fromExtent",Rf);t("ol.geom.Polygon.fromCircle",Sf);t("ol.geom.SimpleGeometry",hf);hf.prototype.getFirstCoordinate=hf.prototype.fc;hf.prototype.getLastCoordinate=hf.prototype.gc;hf.prototype.getLayout=hf.prototype.ic;hf.prototype.applyTransform=hf.prototype.Rc;hf.prototype.translate=hf.prototype.translate;t("ol.format.EsriJSON",Po);Po.prototype.readFeature=Po.prototype.Yb;Po.prototype.readFeatures=Po.prototype.Qa;Po.prototype.readGeometry=Po.prototype.ed;
Po.prototype.readProjection=Po.prototype.sb;Po.prototype.writeGeometry=Po.prototype.md;Po.prototype.writeGeometryObject=Po.prototype.se;Po.prototype.writeFeature=Po.prototype.Jd;Po.prototype.writeFeatureObject=Po.prototype.ld;Po.prototype.writeFeatures=Po.prototype.ac;Po.prototype.writeFeaturesObject=Po.prototype.qe;t("ol.format.Feature",Go);t("ol.format.filter.and",bu);
t("ol.format.filter.or",function(a){var b=[null].concat(Array.prototype.slice.call(arguments));return new (Function.prototype.bind.apply($t,b))});t("ol.format.filter.not",function(a){return new Yt(a)});t("ol.format.filter.bbox",cu);t("ol.format.filter.contains",function(a,b,c){return new Lt(a,b,c)});t("ol.format.filter.intersects",function(a,b,c){return new St(a,b,c)});t("ol.format.filter.within",function(a,b,c){return new au(a,b,c)});
t("ol.format.filter.equalTo",function(a,b,c){return new Pt(a,b,c)});t("ol.format.filter.notEqualTo",function(a,b,c){return new Zt(a,b,c)});t("ol.format.filter.lessThan",function(a,b){return new Wt(a,b)});t("ol.format.filter.lessThanOrEqualTo",function(a,b){return new Xt(a,b)});t("ol.format.filter.greaterThan",function(a,b){return new Qt(a,b)});t("ol.format.filter.greaterThanOrEqualTo",function(a,b){return new Rt(a,b)});t("ol.format.filter.isNull",function(a){return new Vt(a)});
t("ol.format.filter.between",function(a,b,c){return new Tt(a,b,c)});t("ol.format.filter.like",function(a,b,c,d,e,f){return new Ut(a,b,c,d,e,f)});t("ol.format.filter.during",function(a,b,c){return new Nt(a,b,c)});t("ol.format.GeoJSON",Qq);Qq.prototype.readFeature=Qq.prototype.Yb;Qq.prototype.readFeatures=Qq.prototype.Qa;Qq.prototype.readGeometry=Qq.prototype.ed;Qq.prototype.readProjection=Qq.prototype.sb;Qq.prototype.writeFeature=Qq.prototype.Jd;Qq.prototype.writeFeatureObject=Qq.prototype.ld;
Qq.prototype.writeFeatures=Qq.prototype.ac;Qq.prototype.writeFeaturesObject=Qq.prototype.qe;Qq.prototype.writeGeometry=Qq.prototype.md;Qq.prototype.writeGeometryObject=Qq.prototype.se;t("ol.format.GML",Kp);Kp.prototype.writeFeatures=Kp.prototype.ac;Kp.prototype.writeFeaturesNode=Kp.prototype.bc;t("ol.format.GML2",Tp);t("ol.format.GML3",Kp);Kp.prototype.writeGeometryNode=Kp.prototype.re;Kp.prototype.writeFeatures=Kp.prototype.ac;Kp.prototype.writeFeaturesNode=Kp.prototype.bc;
Zo.prototype.readFeatures=Zo.prototype.Qa;t("ol.format.GPX",dq);dq.prototype.readFeature=dq.prototype.Yb;dq.prototype.readFeatures=dq.prototype.Qa;dq.prototype.readProjection=dq.prototype.sb;dq.prototype.writeFeatures=dq.prototype.ac;dq.prototype.writeFeaturesNode=dq.prototype.bc;t("ol.format.IGC",Xq);Xq.prototype.readFeature=Xq.prototype.Yb;Xq.prototype.readFeatures=Xq.prototype.Qa;Xq.prototype.readProjection=Xq.prototype.sb;t("ol.format.KML",er);er.prototype.readFeature=er.prototype.Yb;
er.prototype.readFeatures=er.prototype.Qa;er.prototype.readName=er.prototype.cq;er.prototype.readNetworkLinks=er.prototype.eq;er.prototype.readRegion=er.prototype.hq;er.prototype.readRegionFromNode=er.prototype.vf;er.prototype.readProjection=er.prototype.sb;er.prototype.writeFeatures=er.prototype.ac;er.prototype.writeFeaturesNode=er.prototype.bc;t("ol.format.MVT",jt);jt.prototype.getLastExtent=jt.prototype.cg;jt.prototype.readFeatures=jt.prototype.Qa;jt.prototype.readProjection=jt.prototype.sb;
jt.prototype.setLayers=jt.prototype.Sn;t("ol.format.OSMXML",ot);ot.prototype.readFeatures=ot.prototype.Qa;ot.prototype.readProjection=ot.prototype.sb;t("ol.format.Polyline",vt);t("ol.format.Polyline.encodeDeltas",wt);t("ol.format.Polyline.decodeDeltas",yt);t("ol.format.Polyline.encodeFloats",xt);t("ol.format.Polyline.decodeFloats",zt);vt.prototype.readFeature=vt.prototype.Yb;vt.prototype.readFeatures=vt.prototype.Qa;vt.prototype.readGeometry=vt.prototype.ed;vt.prototype.readProjection=vt.prototype.sb;
vt.prototype.writeGeometry=vt.prototype.md;t("ol.format.TopoJSON",At);At.prototype.readFeatures=At.prototype.Qa;At.prototype.readProjection=At.prototype.sb;t("ol.format.WFS",du);du.prototype.readFeatures=du.prototype.Qa;du.prototype.readTransactionResponse=du.prototype.j;du.prototype.readFeatureCollectionMetadata=du.prototype.f;t("ol.format.WFS.writeFilter",function(a){var b=no("http://www.opengis.net/ogc","Filter");Do({node:b},su,yo(a.rc),[a],[]);return b});du.prototype.writeGetFeature=du.prototype.s;
du.prototype.writeTransaction=du.prototype.v;du.prototype.readProjection=du.prototype.sb;t("ol.format.WKT",Ku);Ku.prototype.readFeature=Ku.prototype.Yb;Ku.prototype.readFeatures=Ku.prototype.Qa;Ku.prototype.readGeometry=Ku.prototype.ed;Ku.prototype.writeFeature=Ku.prototype.Jd;Ku.prototype.writeFeatures=Ku.prototype.ac;Ku.prototype.writeGeometry=Ku.prototype.md;t("ol.format.WMSCapabilities",ev);ev.prototype.read=ev.prototype.read;t("ol.format.WMSGetFeatureInfo",Bv);Bv.prototype.readFeatures=Bv.prototype.Qa;
t("ol.format.WMTSCapabilities",Sv);Sv.prototype.read=Sv.prototype.read;t("ol.format.filter.And",It);t("ol.format.filter.Bbox",Jt);t("ol.format.filter.Comparison",Mt);t("ol.format.filter.ComparisonBinary",Ot);t("ol.format.filter.Contains",Lt);t("ol.format.filter.During",Nt);t("ol.format.filter.EqualTo",Pt);t("ol.format.filter.Filter",Gt);t("ol.format.filter.GreaterThan",Qt);t("ol.format.filter.GreaterThanOrEqualTo",Rt);t("ol.format.filter.Intersects",St);t("ol.format.filter.IsBetween",Tt);
t("ol.format.filter.IsLike",Ut);t("ol.format.filter.IsNull",Vt);t("ol.format.filter.LessThan",Wt);t("ol.format.filter.LessThanOrEqualTo",Xt);t("ol.format.filter.Not",Yt);t("ol.format.filter.NotEqualTo",Zt);t("ol.format.filter.Or",$t);t("ol.format.filter.Spatial",Kt);t("ol.format.filter.Within",au);t("ol.events.condition.altKeyOnly",Wg);t("ol.events.condition.altShiftKeysOnly",Xg);t("ol.events.condition.always",Re);t("ol.events.condition.click",function(a){return"click"==a.type});
t("ol.events.condition.never",Se);t("ol.events.condition.pointerMove",Zg);t("ol.events.condition.singleClick",$g);t("ol.events.condition.doubleClick",function(a){return"dblclick"==a.type});t("ol.events.condition.noModifierKeys",ah);t("ol.events.condition.platformModifierKeyOnly",function(a){a=a.originalEvent;return!a.altKey&&(md?a.metaKey:a.ctrlKey)&&!a.shiftKey});t("ol.events.condition.shiftKeyOnly",bh);t("ol.events.condition.targetNotEditable",ch);t("ol.events.condition.mouseOnly",dh);
t("ol.events.condition.primaryAction",eh);Qc.prototype.type=Qc.prototype.type;Qc.prototype.target=Qc.prototype.target;Qc.prototype.preventDefault=Qc.prototype.preventDefault;Qc.prototype.stopPropagation=Qc.prototype.stopPropagation;t("ol.control.Attribution",zg);t("ol.control.Attribution.render",Ag);zg.prototype.getCollapsible=zg.prototype.An;zg.prototype.setCollapsible=zg.prototype.Dn;zg.prototype.setCollapsed=zg.prototype.Cn;zg.prototype.getCollapsed=zg.prototype.zn;t("ol.control.Control",vg);
vg.prototype.getMap=vg.prototype.f;vg.prototype.setMap=vg.prototype.setMap;vg.prototype.setTarget=vg.prototype.i;t("ol.control.FullScreen",Mn);t("ol.control.MousePosition",Rn);t("ol.control.MousePosition.render",Sn);Rn.prototype.getCoordinateFormat=Rn.prototype.Qh;Rn.prototype.getProjection=Rn.prototype.si;Rn.prototype.setCoordinateFormat=Rn.prototype.Gj;Rn.prototype.setProjection=Rn.prototype.ti;t("ol.control.OverviewMap",Wn);t("ol.control.OverviewMap.render",Xn);Wn.prototype.getCollapsible=Wn.prototype.Gn;
Wn.prototype.setCollapsible=Wn.prototype.Jn;Wn.prototype.setCollapsed=Wn.prototype.In;Wn.prototype.getCollapsed=Wn.prototype.Fn;Wn.prototype.getOverviewMap=Wn.prototype.Hl;t("ol.control.Rotate",Cg);t("ol.control.Rotate.render",Dg);t("ol.control.ScaleLine",ao);ao.prototype.getUnits=ao.prototype.C;t("ol.control.ScaleLine.render",bo);ao.prototype.setUnits=ao.prototype.O;t("ol.control.Zoom",Eg);t("ol.control.ZoomSlider",go);t("ol.control.ZoomSlider.render",io);t("ol.control.ZoomToExtent",lo);
Vc.prototype.changed=Vc.prototype.u;Vc.prototype.dispatchEvent=Vc.prototype.b;Vc.prototype.getRevision=Vc.prototype.K;Vc.prototype.on=Vc.prototype.I;Vc.prototype.once=Vc.prototype.once;Vc.prototype.un=Vc.prototype.J;G.prototype.get=G.prototype.get;G.prototype.getKeys=G.prototype.P;G.prototype.getProperties=G.prototype.L;G.prototype.set=G.prototype.set;G.prototype.setProperties=G.prototype.H;G.prototype.unset=G.prototype.R;G.prototype.changed=G.prototype.u;G.prototype.dispatchEvent=G.prototype.b;
G.prototype.getRevision=G.prototype.K;G.prototype.on=G.prototype.I;G.prototype.once=G.prototype.once;G.prototype.un=G.prototype.J;H.prototype.addControl=H.prototype.Mf;H.prototype.addInteraction=H.prototype.Nf;H.prototype.addLayer=H.prototype.xe;H.prototype.addOverlay=H.prototype.ye;H.prototype.forEachFeatureAtPixel=H.prototype.Tc;H.prototype.getFeaturesAtPixel=H.prototype.Xf;H.prototype.forEachLayerAtPixel=H.prototype.tg;H.prototype.hasFeatureAtPixel=H.prototype.ng;
H.prototype.getEventCoordinate=H.prototype.Sd;H.prototype.getEventPixel=H.prototype.ud;H.prototype.getTarget=H.prototype.Xd;H.prototype.getTargetElement=H.prototype.Cc;H.prototype.getCoordinateFromPixel=H.prototype.Ra;H.prototype.getControls=H.prototype.Wf;H.prototype.getOverlays=H.prototype.gg;H.prototype.getOverlayById=H.prototype.fg;H.prototype.getInteractions=H.prototype.bg;H.prototype.getLayerGroup=H.prototype.hc;H.prototype.getLayers=H.prototype.Xe;H.prototype.getPixelFromCoordinate=H.prototype.Ia;
H.prototype.getSize=H.prototype.Cb;H.prototype.getView=H.prototype.aa;H.prototype.getViewport=H.prototype.kg;H.prototype.renderSync=H.prototype.dh;H.prototype.render=H.prototype.render;H.prototype.removeControl=H.prototype.Xg;H.prototype.removeInteraction=H.prototype.Zg;H.prototype.removeLayer=H.prototype.$g;H.prototype.removeOverlay=H.prototype.ah;H.prototype.setLayerGroup=H.prototype.zf;H.prototype.setSize=H.prototype.be;H.prototype.setTarget=H.prototype.Ad;H.prototype.setView=H.prototype.jh;
H.prototype.updateSize=H.prototype.Oc;H.prototype.get=H.prototype.get;H.prototype.getKeys=H.prototype.P;H.prototype.getProperties=H.prototype.L;H.prototype.set=H.prototype.set;H.prototype.setProperties=H.prototype.H;H.prototype.unset=H.prototype.R;H.prototype.changed=H.prototype.u;H.prototype.dispatchEvent=H.prototype.b;H.prototype.getRevision=H.prototype.K;H.prototype.on=H.prototype.I;H.prototype.once=H.prototype.once;H.prototype.un=H.prototype.J;B.prototype.get=B.prototype.get;
B.prototype.getKeys=B.prototype.P;B.prototype.getProperties=B.prototype.L;B.prototype.set=B.prototype.set;B.prototype.setProperties=B.prototype.H;B.prototype.unset=B.prototype.R;B.prototype.changed=B.prototype.u;B.prototype.dispatchEvent=B.prototype.b;B.prototype.getRevision=B.prototype.K;B.prototype.on=B.prototype.I;B.prototype.once=B.prototype.once;B.prototype.un=B.prototype.J;cd.prototype.type=cd.prototype.type;cd.prototype.target=cd.prototype.target;cd.prototype.preventDefault=cd.prototype.preventDefault;
cd.prototype.stopPropagation=cd.prototype.stopPropagation;pk.prototype.get=pk.prototype.get;pk.prototype.getKeys=pk.prototype.P;pk.prototype.getProperties=pk.prototype.L;pk.prototype.set=pk.prototype.set;pk.prototype.setProperties=pk.prototype.H;pk.prototype.unset=pk.prototype.R;pk.prototype.changed=pk.prototype.u;pk.prototype.dispatchEvent=pk.prototype.b;pk.prototype.getRevision=pk.prototype.K;pk.prototype.on=pk.prototype.I;pk.prototype.once=pk.prototype.once;pk.prototype.un=pk.prototype.J;
Hk.prototype.get=Hk.prototype.get;Hk.prototype.getKeys=Hk.prototype.P;Hk.prototype.getProperties=Hk.prototype.L;Hk.prototype.set=Hk.prototype.set;Hk.prototype.setProperties=Hk.prototype.H;Hk.prototype.unset=Hk.prototype.R;Hk.prototype.changed=Hk.prototype.u;Hk.prototype.dispatchEvent=Hk.prototype.b;Hk.prototype.getRevision=Hk.prototype.K;Hk.prototype.on=Hk.prototype.I;Hk.prototype.once=Hk.prototype.once;Hk.prototype.un=Hk.prototype.J;Jk.prototype.get=Jk.prototype.get;Jk.prototype.getKeys=Jk.prototype.P;
Jk.prototype.getProperties=Jk.prototype.L;Jk.prototype.set=Jk.prototype.set;Jk.prototype.setProperties=Jk.prototype.H;Jk.prototype.unset=Jk.prototype.R;Jk.prototype.changed=Jk.prototype.u;Jk.prototype.dispatchEvent=Jk.prototype.b;Jk.prototype.getRevision=Jk.prototype.K;Jk.prototype.on=Jk.prototype.I;Jk.prototype.once=Jk.prototype.once;Jk.prototype.un=Jk.prototype.J;el.prototype.getTileCoord=el.prototype.i;el.prototype.load=el.prototype.load;K.prototype.addControl=K.prototype.Mf;
K.prototype.addInteraction=K.prototype.Nf;K.prototype.addLayer=K.prototype.xe;K.prototype.addOverlay=K.prototype.ye;K.prototype.forEachFeatureAtPixel=K.prototype.Tc;K.prototype.getFeaturesAtPixel=K.prototype.Xf;K.prototype.forEachLayerAtPixel=K.prototype.tg;K.prototype.hasFeatureAtPixel=K.prototype.ng;K.prototype.getEventCoordinate=K.prototype.Sd;K.prototype.getEventPixel=K.prototype.ud;K.prototype.getTarget=K.prototype.Xd;K.prototype.getTargetElement=K.prototype.Cc;
K.prototype.getCoordinateFromPixel=K.prototype.Ra;K.prototype.getControls=K.prototype.Wf;K.prototype.getOverlays=K.prototype.gg;K.prototype.getOverlayById=K.prototype.fg;K.prototype.getInteractions=K.prototype.bg;K.prototype.getLayerGroup=K.prototype.hc;K.prototype.getLayers=K.prototype.Xe;K.prototype.getPixelFromCoordinate=K.prototype.Ia;K.prototype.getSize=K.prototype.Cb;K.prototype.getView=K.prototype.aa;K.prototype.getViewport=K.prototype.kg;K.prototype.renderSync=K.prototype.dh;
K.prototype.render=K.prototype.render;K.prototype.removeControl=K.prototype.Xg;K.prototype.removeInteraction=K.prototype.Zg;K.prototype.removeLayer=K.prototype.$g;K.prototype.removeOverlay=K.prototype.ah;K.prototype.setLayerGroup=K.prototype.zf;K.prototype.setSize=K.prototype.be;K.prototype.setTarget=K.prototype.Ad;K.prototype.setView=K.prototype.jh;K.prototype.updateSize=K.prototype.Oc;K.prototype.get=K.prototype.get;K.prototype.getKeys=K.prototype.P;K.prototype.getProperties=K.prototype.L;
K.prototype.set=K.prototype.set;K.prototype.setProperties=K.prototype.H;K.prototype.unset=K.prototype.R;K.prototype.changed=K.prototype.u;K.prototype.dispatchEvent=K.prototype.b;K.prototype.getRevision=K.prototype.K;K.prototype.on=K.prototype.I;K.prototype.once=K.prototype.once;K.prototype.un=K.prototype.J;dd.prototype.type=dd.prototype.type;dd.prototype.target=dd.prototype.target;dd.prototype.preventDefault=dd.prototype.preventDefault;dd.prototype.stopPropagation=dd.prototype.stopPropagation;
ed.prototype.map=ed.prototype.map;ed.prototype.frameState=ed.prototype.frameState;ed.prototype.type=ed.prototype.type;ed.prototype.target=ed.prototype.target;ed.prototype.preventDefault=ed.prototype.preventDefault;ed.prototype.stopPropagation=ed.prototype.stopPropagation;Ad.prototype.originalEvent=Ad.prototype.originalEvent;Ad.prototype.pixel=Ad.prototype.pixel;Ad.prototype.coordinate=Ad.prototype.coordinate;Ad.prototype.dragging=Ad.prototype.dragging;Ad.prototype.preventDefault=Ad.prototype.preventDefault;
Ad.prototype.stopPropagation=Ad.prototype.stopPropagation;Ad.prototype.map=Ad.prototype.map;Ad.prototype.frameState=Ad.prototype.frameState;Ad.prototype.type=Ad.prototype.type;Ad.prototype.target=Ad.prototype.target;Zc.prototype.type=Zc.prototype.type;Zc.prototype.target=Zc.prototype.target;Zc.prototype.preventDefault=Zc.prototype.preventDefault;Zc.prototype.stopPropagation=Zc.prototype.stopPropagation;Bn.prototype.get=Bn.prototype.get;Bn.prototype.getKeys=Bn.prototype.P;
Bn.prototype.getProperties=Bn.prototype.L;Bn.prototype.set=Bn.prototype.set;Bn.prototype.setProperties=Bn.prototype.H;Bn.prototype.unset=Bn.prototype.R;Bn.prototype.changed=Bn.prototype.u;Bn.prototype.dispatchEvent=Bn.prototype.b;Bn.prototype.getRevision=Bn.prototype.K;Bn.prototype.on=Bn.prototype.I;Bn.prototype.once=Bn.prototype.once;Bn.prototype.un=Bn.prototype.J;pz.prototype.getTileCoord=pz.prototype.i;pz.prototype.load=pz.prototype.load;Kn.prototype.getTileCoord=Kn.prototype.i;
Kn.prototype.load=Kn.prototype.load;F.prototype.get=F.prototype.get;F.prototype.getKeys=F.prototype.P;F.prototype.getProperties=F.prototype.L;F.prototype.set=F.prototype.set;F.prototype.setProperties=F.prototype.H;F.prototype.unset=F.prototype.R;F.prototype.changed=F.prototype.u;F.prototype.dispatchEvent=F.prototype.b;F.prototype.getRevision=F.prototype.K;F.prototype.on=F.prototype.I;F.prototype.once=F.prototype.once;F.prototype.un=F.prototype.J;sz.prototype.forEachTileCoord=sz.prototype.Vf;
sz.prototype.getMaxZoom=sz.prototype.mj;sz.prototype.getMinZoom=sz.prototype.nj;sz.prototype.getOrigin=sz.prototype.Ic;sz.prototype.getResolution=sz.prototype.Ta;sz.prototype.getResolutions=sz.prototype.oj;sz.prototype.getTileCoordExtent=sz.prototype.Ma;sz.prototype.getTileCoordForCoordAndResolution=sz.prototype.Le;sz.prototype.getTileCoordForCoordAndZ=sz.prototype.jg;sz.prototype.getTileSize=sz.prototype.Za;sz.prototype.getZForResolution=sz.prototype.Dc;wk.prototype.getOpacity=wk.prototype.hf;
wk.prototype.getRotateWithView=wk.prototype.jf;wk.prototype.getRotation=wk.prototype.kf;wk.prototype.getScale=wk.prototype.lf;wk.prototype.getSnapToPixel=wk.prototype.Ke;wk.prototype.setOpacity=wk.prototype.Ed;wk.prototype.setRotation=wk.prototype.mf;wk.prototype.setScale=wk.prototype.Fd;yk.prototype.clone=yk.prototype.clone;yk.prototype.getAngle=yk.prototype.ij;yk.prototype.getFill=yk.prototype.Fa;yk.prototype.getPoints=yk.prototype.jj;yk.prototype.getRadius=yk.prototype.kj;
yk.prototype.getRadius2=yk.prototype.Zh;yk.prototype.getStroke=yk.prototype.Ga;yk.prototype.getOpacity=yk.prototype.hf;yk.prototype.getRotateWithView=yk.prototype.jf;yk.prototype.getRotation=yk.prototype.kf;yk.prototype.getScale=yk.prototype.lf;yk.prototype.getSnapToPixel=yk.prototype.Ke;yk.prototype.setOpacity=yk.prototype.Ed;yk.prototype.setRotation=yk.prototype.mf;yk.prototype.setScale=yk.prototype.Fd;dr.prototype.getOpacity=dr.prototype.hf;dr.prototype.getRotateWithView=dr.prototype.jf;
dr.prototype.getRotation=dr.prototype.kf;dr.prototype.getScale=dr.prototype.lf;dr.prototype.getSnapToPixel=dr.prototype.Ke;dr.prototype.setOpacity=dr.prototype.Ed;dr.prototype.setRotation=dr.prototype.mf;dr.prototype.setScale=dr.prototype.Fd;uw.prototype.get=uw.prototype.get;uw.prototype.getKeys=uw.prototype.P;uw.prototype.getProperties=uw.prototype.L;uw.prototype.set=uw.prototype.set;uw.prototype.setProperties=uw.prototype.H;uw.prototype.unset=uw.prototype.R;uw.prototype.changed=uw.prototype.u;
uw.prototype.dispatchEvent=uw.prototype.b;uw.prototype.getRevision=uw.prototype.K;uw.prototype.on=uw.prototype.I;uw.prototype.once=uw.prototype.once;uw.prototype.un=uw.prototype.J;iy.prototype.getAttributions=iy.prototype.za;iy.prototype.getLogo=iy.prototype.Aa;iy.prototype.getProjection=iy.prototype.Da;iy.prototype.getState=iy.prototype.getState;iy.prototype.refresh=iy.prototype.sa;iy.prototype.setAttributions=iy.prototype.va;iy.prototype.get=iy.prototype.get;iy.prototype.getKeys=iy.prototype.P;
iy.prototype.getProperties=iy.prototype.L;iy.prototype.set=iy.prototype.set;iy.prototype.setProperties=iy.prototype.H;iy.prototype.unset=iy.prototype.R;iy.prototype.changed=iy.prototype.u;iy.prototype.dispatchEvent=iy.prototype.b;iy.prototype.getRevision=iy.prototype.K;iy.prototype.on=iy.prototype.I;iy.prototype.once=iy.prototype.once;iy.prototype.un=iy.prototype.J;my.prototype.getTileGrid=my.prototype.jb;my.prototype.refresh=my.prototype.sa;my.prototype.getAttributions=my.prototype.za;
my.prototype.getLogo=my.prototype.Aa;my.prototype.getProjection=my.prototype.Da;my.prototype.getState=my.prototype.getState;my.prototype.setAttributions=my.prototype.va;my.prototype.get=my.prototype.get;my.prototype.getKeys=my.prototype.P;my.prototype.getProperties=my.prototype.L;my.prototype.set=my.prototype.set;my.prototype.setProperties=my.prototype.H;my.prototype.unset=my.prototype.R;my.prototype.changed=my.prototype.u;my.prototype.dispatchEvent=my.prototype.b;my.prototype.getRevision=my.prototype.K;
my.prototype.on=my.prototype.I;my.prototype.once=my.prototype.once;my.prototype.un=my.prototype.J;ny.prototype.getTileLoadFunction=ny.prototype.yb;ny.prototype.getTileUrlFunction=ny.prototype.zb;ny.prototype.getUrls=ny.prototype.Ab;ny.prototype.setTileLoadFunction=ny.prototype.Fb;ny.prototype.setTileUrlFunction=ny.prototype.hb;ny.prototype.setUrl=ny.prototype.rb;ny.prototype.setUrls=ny.prototype.vb;ny.prototype.getTileGrid=ny.prototype.jb;ny.prototype.refresh=ny.prototype.sa;
ny.prototype.getAttributions=ny.prototype.za;ny.prototype.getLogo=ny.prototype.Aa;ny.prototype.getProjection=ny.prototype.Da;ny.prototype.getState=ny.prototype.getState;ny.prototype.setAttributions=ny.prototype.va;ny.prototype.get=ny.prototype.get;ny.prototype.getKeys=ny.prototype.P;ny.prototype.getProperties=ny.prototype.L;ny.prototype.set=ny.prototype.set;ny.prototype.setProperties=ny.prototype.H;ny.prototype.unset=ny.prototype.R;ny.prototype.changed=ny.prototype.u;ny.prototype.dispatchEvent=ny.prototype.b;
ny.prototype.getRevision=ny.prototype.K;ny.prototype.on=ny.prototype.I;ny.prototype.once=ny.prototype.once;ny.prototype.un=ny.prototype.J;ry.prototype.setRenderReprojectionEdges=ry.prototype.Qb;ry.prototype.setTileGridForProjection=ry.prototype.Rb;ry.prototype.getTileLoadFunction=ry.prototype.yb;ry.prototype.getTileUrlFunction=ry.prototype.zb;ry.prototype.getUrls=ry.prototype.Ab;ry.prototype.setTileLoadFunction=ry.prototype.Fb;ry.prototype.setTileUrlFunction=ry.prototype.hb;ry.prototype.setUrl=ry.prototype.rb;
ry.prototype.setUrls=ry.prototype.vb;ry.prototype.getTileGrid=ry.prototype.jb;ry.prototype.refresh=ry.prototype.sa;ry.prototype.getAttributions=ry.prototype.za;ry.prototype.getLogo=ry.prototype.Aa;ry.prototype.getProjection=ry.prototype.Da;ry.prototype.getState=ry.prototype.getState;ry.prototype.setAttributions=ry.prototype.va;ry.prototype.get=ry.prototype.get;ry.prototype.getKeys=ry.prototype.P;ry.prototype.getProperties=ry.prototype.L;ry.prototype.set=ry.prototype.set;
ry.prototype.setProperties=ry.prototype.H;ry.prototype.unset=ry.prototype.R;ry.prototype.changed=ry.prototype.u;ry.prototype.dispatchEvent=ry.prototype.b;ry.prototype.getRevision=ry.prototype.K;ry.prototype.on=ry.prototype.I;ry.prototype.once=ry.prototype.once;ry.prototype.un=ry.prototype.J;sy.prototype.setRenderReprojectionEdges=sy.prototype.Qb;sy.prototype.setTileGridForProjection=sy.prototype.Rb;sy.prototype.getTileLoadFunction=sy.prototype.yb;sy.prototype.getTileUrlFunction=sy.prototype.zb;
sy.prototype.getUrls=sy.prototype.Ab;sy.prototype.setTileLoadFunction=sy.prototype.Fb;sy.prototype.setTileUrlFunction=sy.prototype.hb;sy.prototype.setUrl=sy.prototype.rb;sy.prototype.setUrls=sy.prototype.vb;sy.prototype.getTileGrid=sy.prototype.jb;sy.prototype.refresh=sy.prototype.sa;sy.prototype.getAttributions=sy.prototype.za;sy.prototype.getLogo=sy.prototype.Aa;sy.prototype.getProjection=sy.prototype.Da;sy.prototype.getState=sy.prototype.getState;sy.prototype.setAttributions=sy.prototype.va;
sy.prototype.get=sy.prototype.get;sy.prototype.getKeys=sy.prototype.P;sy.prototype.getProperties=sy.prototype.L;sy.prototype.set=sy.prototype.set;sy.prototype.setProperties=sy.prototype.H;sy.prototype.unset=sy.prototype.R;sy.prototype.changed=sy.prototype.u;sy.prototype.dispatchEvent=sy.prototype.b;sy.prototype.getRevision=sy.prototype.K;sy.prototype.on=sy.prototype.I;sy.prototype.once=sy.prototype.once;sy.prototype.un=sy.prototype.J;ty.prototype.setRenderReprojectionEdges=ty.prototype.Qb;
ty.prototype.setTileGridForProjection=ty.prototype.Rb;ty.prototype.getTileLoadFunction=ty.prototype.yb;ty.prototype.getTileUrlFunction=ty.prototype.zb;ty.prototype.getUrls=ty.prototype.Ab;ty.prototype.setTileLoadFunction=ty.prototype.Fb;ty.prototype.setTileUrlFunction=ty.prototype.hb;ty.prototype.setUrl=ty.prototype.rb;ty.prototype.setUrls=ty.prototype.vb;ty.prototype.getTileGrid=ty.prototype.jb;ty.prototype.refresh=ty.prototype.sa;ty.prototype.getAttributions=ty.prototype.za;
ty.prototype.getLogo=ty.prototype.Aa;ty.prototype.getProjection=ty.prototype.Da;ty.prototype.getState=ty.prototype.getState;ty.prototype.setAttributions=ty.prototype.va;ty.prototype.get=ty.prototype.get;ty.prototype.getKeys=ty.prototype.P;ty.prototype.getProperties=ty.prototype.L;ty.prototype.set=ty.prototype.set;ty.prototype.setProperties=ty.prototype.H;ty.prototype.unset=ty.prototype.R;ty.prototype.changed=ty.prototype.u;ty.prototype.dispatchEvent=ty.prototype.b;ty.prototype.getRevision=ty.prototype.K;
ty.prototype.on=ty.prototype.I;ty.prototype.once=ty.prototype.once;ty.prototype.un=ty.prototype.J;U.prototype.getAttributions=U.prototype.za;U.prototype.getLogo=U.prototype.Aa;U.prototype.getProjection=U.prototype.Da;U.prototype.getState=U.prototype.getState;U.prototype.refresh=U.prototype.sa;U.prototype.setAttributions=U.prototype.va;U.prototype.get=U.prototype.get;U.prototype.getKeys=U.prototype.P;U.prototype.getProperties=U.prototype.L;U.prototype.set=U.prototype.set;
U.prototype.setProperties=U.prototype.H;U.prototype.unset=U.prototype.R;U.prototype.changed=U.prototype.u;U.prototype.dispatchEvent=U.prototype.b;U.prototype.getRevision=U.prototype.K;U.prototype.on=U.prototype.I;U.prototype.once=U.prototype.once;U.prototype.un=U.prototype.J;X.prototype.addFeature=X.prototype.Gb;X.prototype.addFeatures=X.prototype.Qc;X.prototype.clear=X.prototype.clear;X.prototype.forEachFeature=X.prototype.Lh;X.prototype.forEachFeatureInExtent=X.prototype.ec;
X.prototype.forEachFeatureIntersectingExtent=X.prototype.Mh;X.prototype.getFeaturesCollection=X.prototype.Th;X.prototype.getFeatures=X.prototype.ee;X.prototype.getFeaturesAtCoordinate=X.prototype.Sh;X.prototype.getFeaturesInExtent=X.prototype.Yf;X.prototype.getClosestFeatureToCoordinate=X.prototype.Oh;X.prototype.getExtent=X.prototype.G;X.prototype.getFeatureById=X.prototype.Rh;X.prototype.getFormat=X.prototype.ej;X.prototype.getUrl=X.prototype.fj;X.prototype.removeLoadedExtent=X.prototype.Cj;
X.prototype.removeFeature=X.prototype.Lb;X.prototype.setLoader=X.prototype.hj;X.prototype.getAttributions=X.prototype.za;X.prototype.getLogo=X.prototype.Aa;X.prototype.getProjection=X.prototype.Da;X.prototype.getState=X.prototype.getState;X.prototype.refresh=X.prototype.sa;X.prototype.setAttributions=X.prototype.va;X.prototype.get=X.prototype.get;X.prototype.getKeys=X.prototype.P;X.prototype.getProperties=X.prototype.L;X.prototype.set=X.prototype.set;X.prototype.setProperties=X.prototype.H;
X.prototype.unset=X.prototype.R;X.prototype.changed=X.prototype.u;X.prototype.dispatchEvent=X.prototype.b;X.prototype.getRevision=X.prototype.K;X.prototype.on=X.prototype.I;X.prototype.once=X.prototype.once;X.prototype.un=X.prototype.J;zy.prototype.getAttributions=zy.prototype.za;zy.prototype.getLogo=zy.prototype.Aa;zy.prototype.getProjection=zy.prototype.Da;zy.prototype.getState=zy.prototype.getState;zy.prototype.refresh=zy.prototype.sa;zy.prototype.setAttributions=zy.prototype.va;
zy.prototype.get=zy.prototype.get;zy.prototype.getKeys=zy.prototype.P;zy.prototype.getProperties=zy.prototype.L;zy.prototype.set=zy.prototype.set;zy.prototype.setProperties=zy.prototype.H;zy.prototype.unset=zy.prototype.R;zy.prototype.changed=zy.prototype.u;zy.prototype.dispatchEvent=zy.prototype.b;zy.prototype.getRevision=zy.prototype.K;zy.prototype.on=zy.prototype.I;zy.prototype.once=zy.prototype.once;zy.prototype.un=zy.prototype.J;By.prototype.type=By.prototype.type;By.prototype.target=By.prototype.target;
By.prototype.preventDefault=By.prototype.preventDefault;By.prototype.stopPropagation=By.prototype.stopPropagation;Hy.prototype.getAttributions=Hy.prototype.za;Hy.prototype.getLogo=Hy.prototype.Aa;Hy.prototype.getProjection=Hy.prototype.Da;Hy.prototype.getState=Hy.prototype.getState;Hy.prototype.refresh=Hy.prototype.sa;Hy.prototype.setAttributions=Hy.prototype.va;Hy.prototype.get=Hy.prototype.get;Hy.prototype.getKeys=Hy.prototype.P;Hy.prototype.getProperties=Hy.prototype.L;Hy.prototype.set=Hy.prototype.set;
Hy.prototype.setProperties=Hy.prototype.H;Hy.prototype.unset=Hy.prototype.R;Hy.prototype.changed=Hy.prototype.u;Hy.prototype.dispatchEvent=Hy.prototype.b;Hy.prototype.getRevision=Hy.prototype.K;Hy.prototype.on=Hy.prototype.I;Hy.prototype.once=Hy.prototype.once;Hy.prototype.un=Hy.prototype.J;Iy.prototype.getAttributions=Iy.prototype.za;Iy.prototype.getLogo=Iy.prototype.Aa;Iy.prototype.getProjection=Iy.prototype.Da;Iy.prototype.getState=Iy.prototype.getState;Iy.prototype.refresh=Iy.prototype.sa;
Iy.prototype.setAttributions=Iy.prototype.va;Iy.prototype.get=Iy.prototype.get;Iy.prototype.getKeys=Iy.prototype.P;Iy.prototype.getProperties=Iy.prototype.L;Iy.prototype.set=Iy.prototype.set;Iy.prototype.setProperties=Iy.prototype.H;Iy.prototype.unset=Iy.prototype.R;Iy.prototype.changed=Iy.prototype.u;Iy.prototype.dispatchEvent=Iy.prototype.b;Iy.prototype.getRevision=Iy.prototype.K;Iy.prototype.on=Iy.prototype.I;Iy.prototype.once=Iy.prototype.once;Iy.prototype.un=Iy.prototype.J;
Jy.prototype.getAttributions=Jy.prototype.za;Jy.prototype.getLogo=Jy.prototype.Aa;Jy.prototype.getProjection=Jy.prototype.Da;Jy.prototype.getState=Jy.prototype.getState;Jy.prototype.refresh=Jy.prototype.sa;Jy.prototype.setAttributions=Jy.prototype.va;Jy.prototype.get=Jy.prototype.get;Jy.prototype.getKeys=Jy.prototype.P;Jy.prototype.getProperties=Jy.prototype.L;Jy.prototype.set=Jy.prototype.set;Jy.prototype.setProperties=Jy.prototype.H;Jy.prototype.unset=Jy.prototype.R;Jy.prototype.changed=Jy.prototype.u;
Jy.prototype.dispatchEvent=Jy.prototype.b;Jy.prototype.getRevision=Jy.prototype.K;Jy.prototype.on=Jy.prototype.I;Jy.prototype.once=Jy.prototype.once;Jy.prototype.un=Jy.prototype.J;Ky.prototype.getAttributions=Ky.prototype.za;Ky.prototype.getLogo=Ky.prototype.Aa;Ky.prototype.getProjection=Ky.prototype.Da;Ky.prototype.getState=Ky.prototype.getState;Ky.prototype.refresh=Ky.prototype.sa;Ky.prototype.setAttributions=Ky.prototype.va;Ky.prototype.get=Ky.prototype.get;Ky.prototype.getKeys=Ky.prototype.P;
Ky.prototype.getProperties=Ky.prototype.L;Ky.prototype.set=Ky.prototype.set;Ky.prototype.setProperties=Ky.prototype.H;Ky.prototype.unset=Ky.prototype.R;Ky.prototype.changed=Ky.prototype.u;Ky.prototype.dispatchEvent=Ky.prototype.b;Ky.prototype.getRevision=Ky.prototype.K;Ky.prototype.on=Ky.prototype.I;Ky.prototype.once=Ky.prototype.once;Ky.prototype.un=Ky.prototype.J;Ly.prototype.getAttributions=Ly.prototype.za;Ly.prototype.getLogo=Ly.prototype.Aa;Ly.prototype.getProjection=Ly.prototype.Da;
Ly.prototype.getState=Ly.prototype.getState;Ly.prototype.refresh=Ly.prototype.sa;Ly.prototype.setAttributions=Ly.prototype.va;Ly.prototype.get=Ly.prototype.get;Ly.prototype.getKeys=Ly.prototype.P;Ly.prototype.getProperties=Ly.prototype.L;Ly.prototype.set=Ly.prototype.set;Ly.prototype.setProperties=Ly.prototype.H;Ly.prototype.unset=Ly.prototype.R;Ly.prototype.changed=Ly.prototype.u;Ly.prototype.dispatchEvent=Ly.prototype.b;Ly.prototype.getRevision=Ly.prototype.K;Ly.prototype.on=Ly.prototype.I;
Ly.prototype.once=Ly.prototype.once;Ly.prototype.un=Ly.prototype.J;Ny.prototype.getAttributions=Ny.prototype.za;Ny.prototype.getLogo=Ny.prototype.Aa;Ny.prototype.getProjection=Ny.prototype.Da;Ny.prototype.getState=Ny.prototype.getState;Ny.prototype.refresh=Ny.prototype.sa;Ny.prototype.setAttributions=Ny.prototype.va;Ny.prototype.get=Ny.prototype.get;Ny.prototype.getKeys=Ny.prototype.P;Ny.prototype.getProperties=Ny.prototype.L;Ny.prototype.set=Ny.prototype.set;Ny.prototype.setProperties=Ny.prototype.H;
Ny.prototype.unset=Ny.prototype.R;Ny.prototype.changed=Ny.prototype.u;Ny.prototype.dispatchEvent=Ny.prototype.b;Ny.prototype.getRevision=Ny.prototype.K;Ny.prototype.on=Ny.prototype.I;Ny.prototype.once=Ny.prototype.once;Ny.prototype.un=Ny.prototype.J;Ry.prototype.setRenderReprojectionEdges=Ry.prototype.Qb;Ry.prototype.setTileGridForProjection=Ry.prototype.Rb;Ry.prototype.getTileLoadFunction=Ry.prototype.yb;Ry.prototype.getTileUrlFunction=Ry.prototype.zb;Ry.prototype.getUrls=Ry.prototype.Ab;
Ry.prototype.setTileLoadFunction=Ry.prototype.Fb;Ry.prototype.setTileUrlFunction=Ry.prototype.hb;Ry.prototype.setUrl=Ry.prototype.rb;Ry.prototype.setUrls=Ry.prototype.vb;Ry.prototype.getTileGrid=Ry.prototype.jb;Ry.prototype.refresh=Ry.prototype.sa;Ry.prototype.getAttributions=Ry.prototype.za;Ry.prototype.getLogo=Ry.prototype.Aa;Ry.prototype.getProjection=Ry.prototype.Da;Ry.prototype.getState=Ry.prototype.getState;Ry.prototype.setAttributions=Ry.prototype.va;Ry.prototype.get=Ry.prototype.get;
Ry.prototype.getKeys=Ry.prototype.P;Ry.prototype.getProperties=Ry.prototype.L;Ry.prototype.set=Ry.prototype.set;Ry.prototype.setProperties=Ry.prototype.H;Ry.prototype.unset=Ry.prototype.R;Ry.prototype.changed=Ry.prototype.u;Ry.prototype.dispatchEvent=Ry.prototype.b;Ry.prototype.getRevision=Ry.prototype.K;Ry.prototype.on=Ry.prototype.I;Ry.prototype.once=Ry.prototype.once;Ry.prototype.un=Ry.prototype.J;Sy.prototype.getAttributions=Sy.prototype.za;Sy.prototype.getLogo=Sy.prototype.Aa;
Sy.prototype.getProjection=Sy.prototype.Da;Sy.prototype.getState=Sy.prototype.getState;Sy.prototype.refresh=Sy.prototype.sa;Sy.prototype.setAttributions=Sy.prototype.va;Sy.prototype.get=Sy.prototype.get;Sy.prototype.getKeys=Sy.prototype.P;Sy.prototype.getProperties=Sy.prototype.L;Sy.prototype.set=Sy.prototype.set;Sy.prototype.setProperties=Sy.prototype.H;Sy.prototype.unset=Sy.prototype.R;Sy.prototype.changed=Sy.prototype.u;Sy.prototype.dispatchEvent=Sy.prototype.b;Sy.prototype.getRevision=Sy.prototype.K;
Sy.prototype.on=Sy.prototype.I;Sy.prototype.once=Sy.prototype.once;Sy.prototype.un=Sy.prototype.J;Wy.prototype.type=Wy.prototype.type;Wy.prototype.target=Wy.prototype.target;Wy.prototype.preventDefault=Wy.prototype.preventDefault;Wy.prototype.stopPropagation=Wy.prototype.stopPropagation;Zy.prototype.setRenderReprojectionEdges=Zy.prototype.Qb;Zy.prototype.setTileGridForProjection=Zy.prototype.Rb;Zy.prototype.getTileLoadFunction=Zy.prototype.yb;Zy.prototype.getTileUrlFunction=Zy.prototype.zb;
Zy.prototype.getUrls=Zy.prototype.Ab;Zy.prototype.setTileLoadFunction=Zy.prototype.Fb;Zy.prototype.setTileUrlFunction=Zy.prototype.hb;Zy.prototype.setUrl=Zy.prototype.rb;Zy.prototype.setUrls=Zy.prototype.vb;Zy.prototype.getTileGrid=Zy.prototype.jb;Zy.prototype.refresh=Zy.prototype.sa;Zy.prototype.getAttributions=Zy.prototype.za;Zy.prototype.getLogo=Zy.prototype.Aa;Zy.prototype.getProjection=Zy.prototype.Da;Zy.prototype.getState=Zy.prototype.getState;Zy.prototype.setAttributions=Zy.prototype.va;
Zy.prototype.get=Zy.prototype.get;Zy.prototype.getKeys=Zy.prototype.P;Zy.prototype.getProperties=Zy.prototype.L;Zy.prototype.set=Zy.prototype.set;Zy.prototype.setProperties=Zy.prototype.H;Zy.prototype.unset=Zy.prototype.R;Zy.prototype.changed=Zy.prototype.u;Zy.prototype.dispatchEvent=Zy.prototype.b;Zy.prototype.getRevision=Zy.prototype.K;Zy.prototype.on=Zy.prototype.I;Zy.prototype.once=Zy.prototype.once;Zy.prototype.un=Zy.prototype.J;ly.prototype.type=ly.prototype.type;ly.prototype.target=ly.prototype.target;
ly.prototype.preventDefault=ly.prototype.preventDefault;ly.prototype.stopPropagation=ly.prototype.stopPropagation;cz.prototype.setRenderReprojectionEdges=cz.prototype.Qb;cz.prototype.setTileGridForProjection=cz.prototype.Rb;cz.prototype.getTileLoadFunction=cz.prototype.yb;cz.prototype.getTileUrlFunction=cz.prototype.zb;cz.prototype.getUrls=cz.prototype.Ab;cz.prototype.setTileLoadFunction=cz.prototype.Fb;cz.prototype.setTileUrlFunction=cz.prototype.hb;cz.prototype.setUrl=cz.prototype.rb;
cz.prototype.setUrls=cz.prototype.vb;cz.prototype.getTileGrid=cz.prototype.jb;cz.prototype.refresh=cz.prototype.sa;cz.prototype.getAttributions=cz.prototype.za;cz.prototype.getLogo=cz.prototype.Aa;cz.prototype.getProjection=cz.prototype.Da;cz.prototype.getState=cz.prototype.getState;cz.prototype.setAttributions=cz.prototype.va;cz.prototype.get=cz.prototype.get;cz.prototype.getKeys=cz.prototype.P;cz.prototype.getProperties=cz.prototype.L;cz.prototype.set=cz.prototype.set;
cz.prototype.setProperties=cz.prototype.H;cz.prototype.unset=cz.prototype.R;cz.prototype.changed=cz.prototype.u;cz.prototype.dispatchEvent=cz.prototype.b;cz.prototype.getRevision=cz.prototype.K;cz.prototype.on=cz.prototype.I;cz.prototype.once=cz.prototype.once;cz.prototype.un=cz.prototype.J;ez.prototype.getTileGrid=ez.prototype.jb;ez.prototype.refresh=ez.prototype.sa;ez.prototype.getAttributions=ez.prototype.za;ez.prototype.getLogo=ez.prototype.Aa;ez.prototype.getProjection=ez.prototype.Da;
ez.prototype.getState=ez.prototype.getState;ez.prototype.setAttributions=ez.prototype.va;ez.prototype.get=ez.prototype.get;ez.prototype.getKeys=ez.prototype.P;ez.prototype.getProperties=ez.prototype.L;ez.prototype.set=ez.prototype.set;ez.prototype.setProperties=ez.prototype.H;ez.prototype.unset=ez.prototype.R;ez.prototype.changed=ez.prototype.u;ez.prototype.dispatchEvent=ez.prototype.b;ez.prototype.getRevision=ez.prototype.K;ez.prototype.on=ez.prototype.I;ez.prototype.once=ez.prototype.once;
ez.prototype.un=ez.prototype.J;gz.prototype.setRenderReprojectionEdges=gz.prototype.Qb;gz.prototype.setTileGridForProjection=gz.prototype.Rb;gz.prototype.getTileLoadFunction=gz.prototype.yb;gz.prototype.getTileUrlFunction=gz.prototype.zb;gz.prototype.getUrls=gz.prototype.Ab;gz.prototype.setTileLoadFunction=gz.prototype.Fb;gz.prototype.setTileUrlFunction=gz.prototype.hb;gz.prototype.setUrl=gz.prototype.rb;gz.prototype.setUrls=gz.prototype.vb;gz.prototype.getTileGrid=gz.prototype.jb;
gz.prototype.refresh=gz.prototype.sa;gz.prototype.getAttributions=gz.prototype.za;gz.prototype.getLogo=gz.prototype.Aa;gz.prototype.getProjection=gz.prototype.Da;gz.prototype.getState=gz.prototype.getState;gz.prototype.setAttributions=gz.prototype.va;gz.prototype.get=gz.prototype.get;gz.prototype.getKeys=gz.prototype.P;gz.prototype.getProperties=gz.prototype.L;gz.prototype.set=gz.prototype.set;gz.prototype.setProperties=gz.prototype.H;gz.prototype.unset=gz.prototype.R;gz.prototype.changed=gz.prototype.u;
gz.prototype.dispatchEvent=gz.prototype.b;gz.prototype.getRevision=gz.prototype.K;gz.prototype.on=gz.prototype.I;gz.prototype.once=gz.prototype.once;gz.prototype.un=gz.prototype.J;hz.prototype.getTileGrid=hz.prototype.jb;hz.prototype.refresh=hz.prototype.sa;hz.prototype.getAttributions=hz.prototype.za;hz.prototype.getLogo=hz.prototype.Aa;hz.prototype.getProjection=hz.prototype.Da;hz.prototype.getState=hz.prototype.getState;hz.prototype.setAttributions=hz.prototype.va;hz.prototype.get=hz.prototype.get;
hz.prototype.getKeys=hz.prototype.P;hz.prototype.getProperties=hz.prototype.L;hz.prototype.set=hz.prototype.set;hz.prototype.setProperties=hz.prototype.H;hz.prototype.unset=hz.prototype.R;hz.prototype.changed=hz.prototype.u;hz.prototype.dispatchEvent=hz.prototype.b;hz.prototype.getRevision=hz.prototype.K;hz.prototype.on=hz.prototype.I;hz.prototype.once=hz.prototype.once;hz.prototype.un=hz.prototype.J;lz.prototype.setRenderReprojectionEdges=lz.prototype.Qb;lz.prototype.setTileGridForProjection=lz.prototype.Rb;
lz.prototype.getTileLoadFunction=lz.prototype.yb;lz.prototype.getTileUrlFunction=lz.prototype.zb;lz.prototype.getUrls=lz.prototype.Ab;lz.prototype.setTileLoadFunction=lz.prototype.Fb;lz.prototype.setTileUrlFunction=lz.prototype.hb;lz.prototype.setUrl=lz.prototype.rb;lz.prototype.setUrls=lz.prototype.vb;lz.prototype.getTileGrid=lz.prototype.jb;lz.prototype.refresh=lz.prototype.sa;lz.prototype.getAttributions=lz.prototype.za;lz.prototype.getLogo=lz.prototype.Aa;lz.prototype.getProjection=lz.prototype.Da;
lz.prototype.getState=lz.prototype.getState;lz.prototype.setAttributions=lz.prototype.va;lz.prototype.get=lz.prototype.get;lz.prototype.getKeys=lz.prototype.P;lz.prototype.getProperties=lz.prototype.L;lz.prototype.set=lz.prototype.set;lz.prototype.setProperties=lz.prototype.H;lz.prototype.unset=lz.prototype.R;lz.prototype.changed=lz.prototype.u;lz.prototype.dispatchEvent=lz.prototype.b;lz.prototype.getRevision=lz.prototype.K;lz.prototype.on=lz.prototype.I;lz.prototype.once=lz.prototype.once;
lz.prototype.un=lz.prototype.J;Bw.prototype.type=Bw.prototype.type;Bw.prototype.target=Bw.prototype.target;Bw.prototype.preventDefault=Bw.prototype.preventDefault;Bw.prototype.stopPropagation=Bw.prototype.stopPropagation;rz.prototype.getTileLoadFunction=rz.prototype.yb;rz.prototype.getTileUrlFunction=rz.prototype.zb;rz.prototype.getUrls=rz.prototype.Ab;rz.prototype.setTileLoadFunction=rz.prototype.Fb;rz.prototype.setTileUrlFunction=rz.prototype.hb;rz.prototype.setUrl=rz.prototype.rb;
rz.prototype.setUrls=rz.prototype.vb;rz.prototype.getTileGrid=rz.prototype.jb;rz.prototype.refresh=rz.prototype.sa;rz.prototype.getAttributions=rz.prototype.za;rz.prototype.getLogo=rz.prototype.Aa;rz.prototype.getProjection=rz.prototype.Da;rz.prototype.getState=rz.prototype.getState;rz.prototype.setAttributions=rz.prototype.va;rz.prototype.get=rz.prototype.get;rz.prototype.getKeys=rz.prototype.P;rz.prototype.getProperties=rz.prototype.L;rz.prototype.set=rz.prototype.set;
rz.prototype.setProperties=rz.prototype.H;rz.prototype.unset=rz.prototype.R;rz.prototype.changed=rz.prototype.u;rz.prototype.dispatchEvent=rz.prototype.b;rz.prototype.getRevision=rz.prototype.K;rz.prototype.on=rz.prototype.I;rz.prototype.once=rz.prototype.once;rz.prototype.un=rz.prototype.J;Y.prototype.setRenderReprojectionEdges=Y.prototype.Qb;Y.prototype.setTileGridForProjection=Y.prototype.Rb;Y.prototype.getTileLoadFunction=Y.prototype.yb;Y.prototype.getTileUrlFunction=Y.prototype.zb;
Y.prototype.getUrls=Y.prototype.Ab;Y.prototype.setTileLoadFunction=Y.prototype.Fb;Y.prototype.setTileUrlFunction=Y.prototype.hb;Y.prototype.setUrl=Y.prototype.rb;Y.prototype.setUrls=Y.prototype.vb;Y.prototype.getTileGrid=Y.prototype.jb;Y.prototype.refresh=Y.prototype.sa;Y.prototype.getAttributions=Y.prototype.za;Y.prototype.getLogo=Y.prototype.Aa;Y.prototype.getProjection=Y.prototype.Da;Y.prototype.getState=Y.prototype.getState;Y.prototype.setAttributions=Y.prototype.va;Y.prototype.get=Y.prototype.get;
Y.prototype.getKeys=Y.prototype.P;Y.prototype.getProperties=Y.prototype.L;Y.prototype.set=Y.prototype.set;Y.prototype.setProperties=Y.prototype.H;Y.prototype.unset=Y.prototype.R;Y.prototype.changed=Y.prototype.u;Y.prototype.dispatchEvent=Y.prototype.b;Y.prototype.getRevision=Y.prototype.K;Y.prototype.on=Y.prototype.I;Y.prototype.once=Y.prototype.once;Y.prototype.un=Y.prototype.J;vz.prototype.setRenderReprojectionEdges=vz.prototype.Qb;vz.prototype.setTileGridForProjection=vz.prototype.Rb;
vz.prototype.getTileLoadFunction=vz.prototype.yb;vz.prototype.getTileUrlFunction=vz.prototype.zb;vz.prototype.getUrls=vz.prototype.Ab;vz.prototype.setTileLoadFunction=vz.prototype.Fb;vz.prototype.setTileUrlFunction=vz.prototype.hb;vz.prototype.setUrl=vz.prototype.rb;vz.prototype.setUrls=vz.prototype.vb;vz.prototype.getTileGrid=vz.prototype.jb;vz.prototype.refresh=vz.prototype.sa;vz.prototype.getAttributions=vz.prototype.za;vz.prototype.getLogo=vz.prototype.Aa;vz.prototype.getProjection=vz.prototype.Da;
vz.prototype.getState=vz.prototype.getState;vz.prototype.setAttributions=vz.prototype.va;vz.prototype.get=vz.prototype.get;vz.prototype.getKeys=vz.prototype.P;vz.prototype.getProperties=vz.prototype.L;vz.prototype.set=vz.prototype.set;vz.prototype.setProperties=vz.prototype.H;vz.prototype.unset=vz.prototype.R;vz.prototype.changed=vz.prototype.u;vz.prototype.dispatchEvent=vz.prototype.b;vz.prototype.getRevision=vz.prototype.K;vz.prototype.on=vz.prototype.I;vz.prototype.once=vz.prototype.once;
vz.prototype.un=vz.prototype.J;hy.prototype.getTileCoord=hy.prototype.i;hy.prototype.load=hy.prototype.load;Ki.prototype.changed=Ki.prototype.u;Ki.prototype.dispatchEvent=Ki.prototype.b;Ki.prototype.getRevision=Ki.prototype.K;Ki.prototype.on=Ki.prototype.I;Ki.prototype.once=Ki.prototype.once;Ki.prototype.un=Ki.prototype.J;mn.prototype.changed=mn.prototype.u;mn.prototype.dispatchEvent=mn.prototype.b;mn.prototype.getRevision=mn.prototype.K;mn.prototype.on=mn.prototype.I;mn.prototype.once=mn.prototype.once;
mn.prototype.un=mn.prototype.J;pn.prototype.changed=pn.prototype.u;pn.prototype.dispatchEvent=pn.prototype.b;pn.prototype.getRevision=pn.prototype.K;pn.prototype.on=pn.prototype.I;pn.prototype.once=pn.prototype.once;pn.prototype.un=pn.prototype.J;zn.prototype.changed=zn.prototype.u;zn.prototype.dispatchEvent=zn.prototype.b;zn.prototype.getRevision=zn.prototype.K;zn.prototype.on=zn.prototype.I;zn.prototype.once=zn.prototype.once;zn.prototype.un=zn.prototype.J;An.prototype.changed=An.prototype.u;
An.prototype.dispatchEvent=An.prototype.b;An.prototype.getRevision=An.prototype.K;An.prototype.on=An.prototype.I;An.prototype.once=An.prototype.once;An.prototype.un=An.prototype.J;Xi.prototype.changed=Xi.prototype.u;Xi.prototype.dispatchEvent=Xi.prototype.b;Xi.prototype.getRevision=Xi.prototype.K;Xi.prototype.on=Xi.prototype.I;Xi.prototype.once=Xi.prototype.once;Xi.prototype.un=Xi.prototype.J;aj.prototype.changed=aj.prototype.u;aj.prototype.dispatchEvent=aj.prototype.b;aj.prototype.getRevision=aj.prototype.K;
aj.prototype.on=aj.prototype.I;aj.prototype.once=aj.prototype.once;aj.prototype.un=aj.prototype.J;bj.prototype.changed=bj.prototype.u;bj.prototype.dispatchEvent=bj.prototype.b;bj.prototype.getRevision=bj.prototype.K;bj.prototype.on=bj.prototype.I;bj.prototype.once=bj.prototype.once;bj.prototype.un=bj.prototype.J;mj.prototype.changed=mj.prototype.u;mj.prototype.dispatchEvent=mj.prototype.b;mj.prototype.getRevision=mj.prototype.K;mj.prototype.on=mj.prototype.I;mj.prototype.once=mj.prototype.once;
mj.prototype.un=mj.prototype.J;hk.prototype.changed=hk.prototype.u;hk.prototype.dispatchEvent=hk.prototype.b;hk.prototype.getRevision=hk.prototype.K;hk.prototype.on=hk.prototype.I;hk.prototype.once=hk.prototype.once;hk.prototype.un=hk.prototype.J;jk.prototype.changed=jk.prototype.u;jk.prototype.dispatchEvent=jk.prototype.b;jk.prototype.getRevision=jk.prototype.K;jk.prototype.on=jk.prototype.I;jk.prototype.once=jk.prototype.once;jk.prototype.un=jk.prototype.J;bi.prototype.type=bi.prototype.type;
bi.prototype.target=bi.prototype.target;bi.prototype.preventDefault=bi.prototype.preventDefault;bi.prototype.stopPropagation=bi.prototype.stopPropagation;Md.prototype.type=Md.prototype.type;Md.prototype.target=Md.prototype.target;Md.prototype.preventDefault=Md.prototype.preventDefault;Md.prototype.stopPropagation=Md.prototype.stopPropagation;kg.prototype.get=kg.prototype.get;kg.prototype.getKeys=kg.prototype.P;kg.prototype.getProperties=kg.prototype.L;kg.prototype.set=kg.prototype.set;
kg.prototype.setProperties=kg.prototype.H;kg.prototype.unset=kg.prototype.R;kg.prototype.changed=kg.prototype.u;kg.prototype.dispatchEvent=kg.prototype.b;kg.prototype.getRevision=kg.prototype.K;kg.prototype.on=kg.prototype.I;kg.prototype.once=kg.prototype.once;kg.prototype.un=kg.prototype.J;mg.prototype.getExtent=mg.prototype.G;mg.prototype.getMaxResolution=mg.prototype.lc;mg.prototype.getMinResolution=mg.prototype.mc;mg.prototype.getOpacity=mg.prototype.nc;mg.prototype.getVisible=mg.prototype.Jb;
mg.prototype.getZIndex=mg.prototype.Ba;mg.prototype.setExtent=mg.prototype.Fc;mg.prototype.setMaxResolution=mg.prototype.Mc;mg.prototype.setMinResolution=mg.prototype.Nc;mg.prototype.setOpacity=mg.prototype.Gc;mg.prototype.setVisible=mg.prototype.Hc;mg.prototype.setZIndex=mg.prototype.$b;mg.prototype.get=mg.prototype.get;mg.prototype.getKeys=mg.prototype.P;mg.prototype.getProperties=mg.prototype.L;mg.prototype.set=mg.prototype.set;mg.prototype.setProperties=mg.prototype.H;mg.prototype.unset=mg.prototype.R;
mg.prototype.changed=mg.prototype.u;mg.prototype.dispatchEvent=mg.prototype.b;mg.prototype.getRevision=mg.prototype.K;mg.prototype.on=mg.prototype.I;mg.prototype.once=mg.prototype.once;mg.prototype.un=mg.prototype.J;xg.prototype.getExtent=xg.prototype.G;xg.prototype.getMaxResolution=xg.prototype.lc;xg.prototype.getMinResolution=xg.prototype.mc;xg.prototype.getOpacity=xg.prototype.nc;xg.prototype.getVisible=xg.prototype.Jb;xg.prototype.getZIndex=xg.prototype.Ba;xg.prototype.setExtent=xg.prototype.Fc;
xg.prototype.setMaxResolution=xg.prototype.Mc;xg.prototype.setMinResolution=xg.prototype.Nc;xg.prototype.setOpacity=xg.prototype.Gc;xg.prototype.setVisible=xg.prototype.Hc;xg.prototype.setZIndex=xg.prototype.$b;xg.prototype.get=xg.prototype.get;xg.prototype.getKeys=xg.prototype.P;xg.prototype.getProperties=xg.prototype.L;xg.prototype.set=xg.prototype.set;xg.prototype.setProperties=xg.prototype.H;xg.prototype.unset=xg.prototype.R;xg.prototype.changed=xg.prototype.u;xg.prototype.dispatchEvent=xg.prototype.b;
xg.prototype.getRevision=xg.prototype.K;xg.prototype.on=xg.prototype.I;xg.prototype.once=xg.prototype.once;xg.prototype.un=xg.prototype.J;T.prototype.setMap=T.prototype.setMap;T.prototype.setSource=T.prototype.hd;T.prototype.getExtent=T.prototype.G;T.prototype.getMaxResolution=T.prototype.lc;T.prototype.getMinResolution=T.prototype.mc;T.prototype.getOpacity=T.prototype.nc;T.prototype.getVisible=T.prototype.Jb;T.prototype.getZIndex=T.prototype.Ba;T.prototype.setExtent=T.prototype.Fc;
T.prototype.setMaxResolution=T.prototype.Mc;T.prototype.setMinResolution=T.prototype.Nc;T.prototype.setOpacity=T.prototype.Gc;T.prototype.setVisible=T.prototype.Hc;T.prototype.setZIndex=T.prototype.$b;T.prototype.get=T.prototype.get;T.prototype.getKeys=T.prototype.P;T.prototype.getProperties=T.prototype.L;T.prototype.set=T.prototype.set;T.prototype.setProperties=T.prototype.H;T.prototype.unset=T.prototype.R;T.prototype.changed=T.prototype.u;T.prototype.dispatchEvent=T.prototype.b;
T.prototype.getRevision=T.prototype.K;T.prototype.on=T.prototype.I;T.prototype.once=T.prototype.once;T.prototype.un=T.prototype.J;V.prototype.getSource=V.prototype.ha;V.prototype.getStyle=V.prototype.B;V.prototype.getStyleFunction=V.prototype.ib;V.prototype.setStyle=V.prototype.j;V.prototype.setMap=V.prototype.setMap;V.prototype.setSource=V.prototype.hd;V.prototype.getExtent=V.prototype.G;V.prototype.getMaxResolution=V.prototype.lc;V.prototype.getMinResolution=V.prototype.mc;
V.prototype.getOpacity=V.prototype.nc;V.prototype.getVisible=V.prototype.Jb;V.prototype.getZIndex=V.prototype.Ba;V.prototype.setExtent=V.prototype.Fc;V.prototype.setMaxResolution=V.prototype.Mc;V.prototype.setMinResolution=V.prototype.Nc;V.prototype.setOpacity=V.prototype.Gc;V.prototype.setVisible=V.prototype.Hc;V.prototype.setZIndex=V.prototype.$b;V.prototype.get=V.prototype.get;V.prototype.getKeys=V.prototype.P;V.prototype.getProperties=V.prototype.L;V.prototype.set=V.prototype.set;
V.prototype.setProperties=V.prototype.H;V.prototype.unset=V.prototype.R;V.prototype.changed=V.prototype.u;V.prototype.dispatchEvent=V.prototype.b;V.prototype.getRevision=V.prototype.K;V.prototype.on=V.prototype.I;V.prototype.once=V.prototype.once;V.prototype.un=V.prototype.J;Sx.prototype.setMap=Sx.prototype.setMap;Sx.prototype.setSource=Sx.prototype.hd;Sx.prototype.getExtent=Sx.prototype.G;Sx.prototype.getMaxResolution=Sx.prototype.lc;Sx.prototype.getMinResolution=Sx.prototype.mc;
Sx.prototype.getOpacity=Sx.prototype.nc;Sx.prototype.getVisible=Sx.prototype.Jb;Sx.prototype.getZIndex=Sx.prototype.Ba;Sx.prototype.setExtent=Sx.prototype.Fc;Sx.prototype.setMaxResolution=Sx.prototype.Mc;Sx.prototype.setMinResolution=Sx.prototype.Nc;Sx.prototype.setOpacity=Sx.prototype.Gc;Sx.prototype.setVisible=Sx.prototype.Hc;Sx.prototype.setZIndex=Sx.prototype.$b;Sx.prototype.get=Sx.prototype.get;Sx.prototype.getKeys=Sx.prototype.P;Sx.prototype.getProperties=Sx.prototype.L;Sx.prototype.set=Sx.prototype.set;
Sx.prototype.setProperties=Sx.prototype.H;Sx.prototype.unset=Sx.prototype.R;Sx.prototype.changed=Sx.prototype.u;Sx.prototype.dispatchEvent=Sx.prototype.b;Sx.prototype.getRevision=Sx.prototype.K;Sx.prototype.on=Sx.prototype.I;Sx.prototype.once=Sx.prototype.once;Sx.prototype.un=Sx.prototype.J;Tx.prototype.setMap=Tx.prototype.setMap;Tx.prototype.setSource=Tx.prototype.hd;Tx.prototype.getExtent=Tx.prototype.G;Tx.prototype.getMaxResolution=Tx.prototype.lc;Tx.prototype.getMinResolution=Tx.prototype.mc;
Tx.prototype.getOpacity=Tx.prototype.nc;Tx.prototype.getVisible=Tx.prototype.Jb;Tx.prototype.getZIndex=Tx.prototype.Ba;Tx.prototype.setExtent=Tx.prototype.Fc;Tx.prototype.setMaxResolution=Tx.prototype.Mc;Tx.prototype.setMinResolution=Tx.prototype.Nc;Tx.prototype.setOpacity=Tx.prototype.Gc;Tx.prototype.setVisible=Tx.prototype.Hc;Tx.prototype.setZIndex=Tx.prototype.$b;Tx.prototype.get=Tx.prototype.get;Tx.prototype.getKeys=Tx.prototype.P;Tx.prototype.getProperties=Tx.prototype.L;Tx.prototype.set=Tx.prototype.set;
Tx.prototype.setProperties=Tx.prototype.H;Tx.prototype.unset=Tx.prototype.R;Tx.prototype.changed=Tx.prototype.u;Tx.prototype.dispatchEvent=Tx.prototype.b;Tx.prototype.getRevision=Tx.prototype.K;Tx.prototype.on=Tx.prototype.I;Tx.prototype.once=Tx.prototype.once;Tx.prototype.un=Tx.prototype.J;W.prototype.getStyle=W.prototype.B;W.prototype.getStyleFunction=W.prototype.ib;W.prototype.setStyle=W.prototype.j;W.prototype.setMap=W.prototype.setMap;W.prototype.setSource=W.prototype.hd;
W.prototype.getExtent=W.prototype.G;W.prototype.getMaxResolution=W.prototype.lc;W.prototype.getMinResolution=W.prototype.mc;W.prototype.getOpacity=W.prototype.nc;W.prototype.getVisible=W.prototype.Jb;W.prototype.getZIndex=W.prototype.Ba;W.prototype.setExtent=W.prototype.Fc;W.prototype.setMaxResolution=W.prototype.Mc;W.prototype.setMinResolution=W.prototype.Nc;W.prototype.setOpacity=W.prototype.Gc;W.prototype.setVisible=W.prototype.Hc;W.prototype.setZIndex=W.prototype.$b;W.prototype.get=W.prototype.get;
W.prototype.getKeys=W.prototype.P;W.prototype.getProperties=W.prototype.L;W.prototype.set=W.prototype.set;W.prototype.setProperties=W.prototype.H;W.prototype.unset=W.prototype.R;W.prototype.changed=W.prototype.u;W.prototype.dispatchEvent=W.prototype.b;W.prototype.getRevision=W.prototype.K;W.prototype.on=W.prototype.I;W.prototype.once=W.prototype.once;W.prototype.un=W.prototype.J;Jg.prototype.get=Jg.prototype.get;Jg.prototype.getKeys=Jg.prototype.P;Jg.prototype.getProperties=Jg.prototype.L;
Jg.prototype.set=Jg.prototype.set;Jg.prototype.setProperties=Jg.prototype.H;Jg.prototype.unset=Jg.prototype.R;Jg.prototype.changed=Jg.prototype.u;Jg.prototype.dispatchEvent=Jg.prototype.b;Jg.prototype.getRevision=Jg.prototype.K;Jg.prototype.on=Jg.prototype.I;Jg.prototype.once=Jg.prototype.once;Jg.prototype.un=Jg.prototype.J;Ug.prototype.getActive=Ug.prototype.c;Ug.prototype.getMap=Ug.prototype.i;Ug.prototype.setActive=Ug.prototype.Ha;Ug.prototype.get=Ug.prototype.get;Ug.prototype.getKeys=Ug.prototype.P;
Ug.prototype.getProperties=Ug.prototype.L;Ug.prototype.set=Ug.prototype.set;Ug.prototype.setProperties=Ug.prototype.H;Ug.prototype.unset=Ug.prototype.R;Ug.prototype.changed=Ug.prototype.u;Ug.prototype.dispatchEvent=Ug.prototype.b;Ug.prototype.getRevision=Ug.prototype.K;Ug.prototype.on=Ug.prototype.I;Ug.prototype.once=Ug.prototype.once;Ug.prototype.un=Ug.prototype.J;iw.prototype.getActive=iw.prototype.c;iw.prototype.getMap=iw.prototype.i;iw.prototype.setActive=iw.prototype.Ha;iw.prototype.get=iw.prototype.get;
iw.prototype.getKeys=iw.prototype.P;iw.prototype.getProperties=iw.prototype.L;iw.prototype.set=iw.prototype.set;iw.prototype.setProperties=iw.prototype.H;iw.prototype.unset=iw.prototype.R;iw.prototype.changed=iw.prototype.u;iw.prototype.dispatchEvent=iw.prototype.b;iw.prototype.getRevision=iw.prototype.K;iw.prototype.on=iw.prototype.I;iw.prototype.once=iw.prototype.once;iw.prototype.un=iw.prototype.J;lw.prototype.type=lw.prototype.type;lw.prototype.target=lw.prototype.target;
lw.prototype.preventDefault=lw.prototype.preventDefault;lw.prototype.stopPropagation=lw.prototype.stopPropagation;fh.prototype.getActive=fh.prototype.c;fh.prototype.getMap=fh.prototype.i;fh.prototype.setActive=fh.prototype.Ha;fh.prototype.get=fh.prototype.get;fh.prototype.getKeys=fh.prototype.P;fh.prototype.getProperties=fh.prototype.L;fh.prototype.set=fh.prototype.set;fh.prototype.setProperties=fh.prototype.H;fh.prototype.unset=fh.prototype.R;fh.prototype.changed=fh.prototype.u;
fh.prototype.dispatchEvent=fh.prototype.b;fh.prototype.getRevision=fh.prototype.K;fh.prototype.on=fh.prototype.I;fh.prototype.once=fh.prototype.once;fh.prototype.un=fh.prototype.J;th.prototype.getActive=th.prototype.c;th.prototype.getMap=th.prototype.i;th.prototype.setActive=th.prototype.Ha;th.prototype.get=th.prototype.get;th.prototype.getKeys=th.prototype.P;th.prototype.getProperties=th.prototype.L;th.prototype.set=th.prototype.set;th.prototype.setProperties=th.prototype.H;th.prototype.unset=th.prototype.R;
th.prototype.changed=th.prototype.u;th.prototype.dispatchEvent=th.prototype.b;th.prototype.getRevision=th.prototype.K;th.prototype.on=th.prototype.I;th.prototype.once=th.prototype.once;th.prototype.un=th.prototype.J;yh.prototype.type=yh.prototype.type;yh.prototype.target=yh.prototype.target;yh.prototype.preventDefault=yh.prototype.preventDefault;yh.prototype.stopPropagation=yh.prototype.stopPropagation;ih.prototype.getActive=ih.prototype.c;ih.prototype.getMap=ih.prototype.i;
ih.prototype.setActive=ih.prototype.Ha;ih.prototype.get=ih.prototype.get;ih.prototype.getKeys=ih.prototype.P;ih.prototype.getProperties=ih.prototype.L;ih.prototype.set=ih.prototype.set;ih.prototype.setProperties=ih.prototype.H;ih.prototype.unset=ih.prototype.R;ih.prototype.changed=ih.prototype.u;ih.prototype.dispatchEvent=ih.prototype.b;ih.prototype.getRevision=ih.prototype.K;ih.prototype.on=ih.prototype.I;ih.prototype.once=ih.prototype.once;ih.prototype.un=ih.prototype.J;mh.prototype.getActive=mh.prototype.c;
mh.prototype.getMap=mh.prototype.i;mh.prototype.setActive=mh.prototype.Ha;mh.prototype.get=mh.prototype.get;mh.prototype.getKeys=mh.prototype.P;mh.prototype.getProperties=mh.prototype.L;mh.prototype.set=mh.prototype.set;mh.prototype.setProperties=mh.prototype.H;mh.prototype.unset=mh.prototype.R;mh.prototype.changed=mh.prototype.u;mh.prototype.dispatchEvent=mh.prototype.b;mh.prototype.getRevision=mh.prototype.K;mh.prototype.on=mh.prototype.I;mh.prototype.once=mh.prototype.once;mh.prototype.un=mh.prototype.J;
pw.prototype.getActive=pw.prototype.c;pw.prototype.getMap=pw.prototype.i;pw.prototype.setActive=pw.prototype.Ha;pw.prototype.get=pw.prototype.get;pw.prototype.getKeys=pw.prototype.P;pw.prototype.getProperties=pw.prototype.L;pw.prototype.set=pw.prototype.set;pw.prototype.setProperties=pw.prototype.H;pw.prototype.unset=pw.prototype.R;pw.prototype.changed=pw.prototype.u;pw.prototype.dispatchEvent=pw.prototype.b;pw.prototype.getRevision=pw.prototype.K;pw.prototype.on=pw.prototype.I;
pw.prototype.once=pw.prototype.once;pw.prototype.un=pw.prototype.J;Ch.prototype.getGeometry=Ch.prototype.U;Ch.prototype.getActive=Ch.prototype.c;Ch.prototype.getMap=Ch.prototype.i;Ch.prototype.setActive=Ch.prototype.Ha;Ch.prototype.get=Ch.prototype.get;Ch.prototype.getKeys=Ch.prototype.P;Ch.prototype.getProperties=Ch.prototype.L;Ch.prototype.set=Ch.prototype.set;Ch.prototype.setProperties=Ch.prototype.H;Ch.prototype.unset=Ch.prototype.R;Ch.prototype.changed=Ch.prototype.u;
Ch.prototype.dispatchEvent=Ch.prototype.b;Ch.prototype.getRevision=Ch.prototype.K;Ch.prototype.on=Ch.prototype.I;Ch.prototype.once=Ch.prototype.once;Ch.prototype.un=Ch.prototype.J;Ew.prototype.getActive=Ew.prototype.c;Ew.prototype.getMap=Ew.prototype.i;Ew.prototype.setActive=Ew.prototype.Ha;Ew.prototype.get=Ew.prototype.get;Ew.prototype.getKeys=Ew.prototype.P;Ew.prototype.getProperties=Ew.prototype.L;Ew.prototype.set=Ew.prototype.set;Ew.prototype.setProperties=Ew.prototype.H;Ew.prototype.unset=Ew.prototype.R;
Ew.prototype.changed=Ew.prototype.u;Ew.prototype.dispatchEvent=Ew.prototype.b;Ew.prototype.getRevision=Ew.prototype.K;Ew.prototype.on=Ew.prototype.I;Ew.prototype.once=Ew.prototype.once;Ew.prototype.un=Ew.prototype.J;Uw.prototype.type=Uw.prototype.type;Uw.prototype.target=Uw.prototype.target;Uw.prototype.preventDefault=Uw.prototype.preventDefault;Uw.prototype.stopPropagation=Uw.prototype.stopPropagation;Vw.prototype.getActive=Vw.prototype.c;Vw.prototype.getMap=Vw.prototype.i;
Vw.prototype.setActive=Vw.prototype.Ha;Vw.prototype.get=Vw.prototype.get;Vw.prototype.getKeys=Vw.prototype.P;Vw.prototype.getProperties=Vw.prototype.L;Vw.prototype.set=Vw.prototype.set;Vw.prototype.setProperties=Vw.prototype.H;Vw.prototype.unset=Vw.prototype.R;Vw.prototype.changed=Vw.prototype.u;Vw.prototype.dispatchEvent=Vw.prototype.b;Vw.prototype.getRevision=Vw.prototype.K;Vw.prototype.on=Vw.prototype.I;Vw.prototype.once=Vw.prototype.once;Vw.prototype.un=Vw.prototype.J;fx.prototype.type=fx.prototype.type;
fx.prototype.target=fx.prototype.target;fx.prototype.preventDefault=fx.prototype.preventDefault;fx.prototype.stopPropagation=fx.prototype.stopPropagation;Dh.prototype.getActive=Dh.prototype.c;Dh.prototype.getMap=Dh.prototype.i;Dh.prototype.setActive=Dh.prototype.Ha;Dh.prototype.get=Dh.prototype.get;Dh.prototype.getKeys=Dh.prototype.P;Dh.prototype.getProperties=Dh.prototype.L;Dh.prototype.set=Dh.prototype.set;Dh.prototype.setProperties=Dh.prototype.H;Dh.prototype.unset=Dh.prototype.R;
Dh.prototype.changed=Dh.prototype.u;Dh.prototype.dispatchEvent=Dh.prototype.b;Dh.prototype.getRevision=Dh.prototype.K;Dh.prototype.on=Dh.prototype.I;Dh.prototype.once=Dh.prototype.once;Dh.prototype.un=Dh.prototype.J;Fh.prototype.getActive=Fh.prototype.c;Fh.prototype.getMap=Fh.prototype.i;Fh.prototype.setActive=Fh.prototype.Ha;Fh.prototype.get=Fh.prototype.get;Fh.prototype.getKeys=Fh.prototype.P;Fh.prototype.getProperties=Fh.prototype.L;Fh.prototype.set=Fh.prototype.set;
Fh.prototype.setProperties=Fh.prototype.H;Fh.prototype.unset=Fh.prototype.R;Fh.prototype.changed=Fh.prototype.u;Fh.prototype.dispatchEvent=Fh.prototype.b;Fh.prototype.getRevision=Fh.prototype.K;Fh.prototype.on=Fh.prototype.I;Fh.prototype.once=Fh.prototype.once;Fh.prototype.un=Fh.prototype.J;gx.prototype.getActive=gx.prototype.c;gx.prototype.getMap=gx.prototype.i;gx.prototype.setActive=gx.prototype.Ha;gx.prototype.get=gx.prototype.get;gx.prototype.getKeys=gx.prototype.P;
gx.prototype.getProperties=gx.prototype.L;gx.prototype.set=gx.prototype.set;gx.prototype.setProperties=gx.prototype.H;gx.prototype.unset=gx.prototype.R;gx.prototype.changed=gx.prototype.u;gx.prototype.dispatchEvent=gx.prototype.b;gx.prototype.getRevision=gx.prototype.K;gx.prototype.on=gx.prototype.I;gx.prototype.once=gx.prototype.once;gx.prototype.un=gx.prototype.J;ox.prototype.type=ox.prototype.type;ox.prototype.target=ox.prototype.target;ox.prototype.preventDefault=ox.prototype.preventDefault;
ox.prototype.stopPropagation=ox.prototype.stopPropagation;Hh.prototype.getActive=Hh.prototype.c;Hh.prototype.getMap=Hh.prototype.i;Hh.prototype.setActive=Hh.prototype.Ha;Hh.prototype.get=Hh.prototype.get;Hh.prototype.getKeys=Hh.prototype.P;Hh.prototype.getProperties=Hh.prototype.L;Hh.prototype.set=Hh.prototype.set;Hh.prototype.setProperties=Hh.prototype.H;Hh.prototype.unset=Hh.prototype.R;Hh.prototype.changed=Hh.prototype.u;Hh.prototype.dispatchEvent=Hh.prototype.b;Hh.prototype.getRevision=Hh.prototype.K;
Hh.prototype.on=Hh.prototype.I;Hh.prototype.once=Hh.prototype.once;Hh.prototype.un=Hh.prototype.J;Rh.prototype.getActive=Rh.prototype.c;Rh.prototype.getMap=Rh.prototype.i;Rh.prototype.setActive=Rh.prototype.Ha;Rh.prototype.get=Rh.prototype.get;Rh.prototype.getKeys=Rh.prototype.P;Rh.prototype.getProperties=Rh.prototype.L;Rh.prototype.set=Rh.prototype.set;Rh.prototype.setProperties=Rh.prototype.H;Rh.prototype.unset=Rh.prototype.R;Rh.prototype.changed=Rh.prototype.u;Rh.prototype.dispatchEvent=Rh.prototype.b;
Rh.prototype.getRevision=Rh.prototype.K;Rh.prototype.on=Rh.prototype.I;Rh.prototype.once=Rh.prototype.once;Rh.prototype.un=Rh.prototype.J;Vh.prototype.getActive=Vh.prototype.c;Vh.prototype.getMap=Vh.prototype.i;Vh.prototype.setActive=Vh.prototype.Ha;Vh.prototype.get=Vh.prototype.get;Vh.prototype.getKeys=Vh.prototype.P;Vh.prototype.getProperties=Vh.prototype.L;Vh.prototype.set=Vh.prototype.set;Vh.prototype.setProperties=Vh.prototype.H;Vh.prototype.unset=Vh.prototype.R;Vh.prototype.changed=Vh.prototype.u;
Vh.prototype.dispatchEvent=Vh.prototype.b;Vh.prototype.getRevision=Vh.prototype.K;Vh.prototype.on=Vh.prototype.I;Vh.prototype.once=Vh.prototype.once;Vh.prototype.un=Vh.prototype.J;wx.prototype.getActive=wx.prototype.c;wx.prototype.getMap=wx.prototype.i;wx.prototype.setActive=wx.prototype.Ha;wx.prototype.get=wx.prototype.get;wx.prototype.getKeys=wx.prototype.P;wx.prototype.getProperties=wx.prototype.L;wx.prototype.set=wx.prototype.set;wx.prototype.setProperties=wx.prototype.H;wx.prototype.unset=wx.prototype.R;
wx.prototype.changed=wx.prototype.u;wx.prototype.dispatchEvent=wx.prototype.b;wx.prototype.getRevision=wx.prototype.K;wx.prototype.on=wx.prototype.I;wx.prototype.once=wx.prototype.once;wx.prototype.un=wx.prototype.J;zx.prototype.type=zx.prototype.type;zx.prototype.target=zx.prototype.target;zx.prototype.preventDefault=zx.prototype.preventDefault;zx.prototype.stopPropagation=zx.prototype.stopPropagation;Bx.prototype.getActive=Bx.prototype.c;Bx.prototype.getMap=Bx.prototype.i;
Bx.prototype.setActive=Bx.prototype.Ha;Bx.prototype.get=Bx.prototype.get;Bx.prototype.getKeys=Bx.prototype.P;Bx.prototype.getProperties=Bx.prototype.L;Bx.prototype.set=Bx.prototype.set;Bx.prototype.setProperties=Bx.prototype.H;Bx.prototype.unset=Bx.prototype.R;Bx.prototype.changed=Bx.prototype.u;Bx.prototype.dispatchEvent=Bx.prototype.b;Bx.prototype.getRevision=Bx.prototype.K;Bx.prototype.on=Bx.prototype.I;Bx.prototype.once=Bx.prototype.once;Bx.prototype.un=Bx.prototype.J;Gx.prototype.getActive=Gx.prototype.c;
Gx.prototype.getMap=Gx.prototype.i;Gx.prototype.setActive=Gx.prototype.Ha;Gx.prototype.get=Gx.prototype.get;Gx.prototype.getKeys=Gx.prototype.P;Gx.prototype.getProperties=Gx.prototype.L;Gx.prototype.set=Gx.prototype.set;Gx.prototype.setProperties=Gx.prototype.H;Gx.prototype.unset=Gx.prototype.R;Gx.prototype.changed=Gx.prototype.u;Gx.prototype.dispatchEvent=Gx.prototype.b;Gx.prototype.getRevision=Gx.prototype.K;Gx.prototype.on=Gx.prototype.I;Gx.prototype.once=Gx.prototype.once;Gx.prototype.un=Gx.prototype.J;
Mx.prototype.type=Mx.prototype.type;Mx.prototype.target=Mx.prototype.target;Mx.prototype.preventDefault=Mx.prototype.preventDefault;Mx.prototype.stopPropagation=Mx.prototype.stopPropagation;gf.prototype.get=gf.prototype.get;gf.prototype.getKeys=gf.prototype.P;gf.prototype.getProperties=gf.prototype.L;gf.prototype.set=gf.prototype.set;gf.prototype.setProperties=gf.prototype.H;gf.prototype.unset=gf.prototype.R;gf.prototype.changed=gf.prototype.u;gf.prototype.dispatchEvent=gf.prototype.b;
gf.prototype.getRevision=gf.prototype.K;gf.prototype.on=gf.prototype.I;gf.prototype.once=gf.prototype.once;gf.prototype.un=gf.prototype.J;hf.prototype.getClosestPoint=hf.prototype.Ib;hf.prototype.intersectsCoordinate=hf.prototype.Bb;hf.prototype.getExtent=hf.prototype.G;hf.prototype.rotate=hf.prototype.rotate;hf.prototype.scale=hf.prototype.scale;hf.prototype.simplify=hf.prototype.Sb;hf.prototype.transform=hf.prototype.mb;hf.prototype.get=hf.prototype.get;hf.prototype.getKeys=hf.prototype.P;
hf.prototype.getProperties=hf.prototype.L;hf.prototype.set=hf.prototype.set;hf.prototype.setProperties=hf.prototype.H;hf.prototype.unset=hf.prototype.R;hf.prototype.changed=hf.prototype.u;hf.prototype.dispatchEvent=hf.prototype.b;hf.prototype.getRevision=hf.prototype.K;hf.prototype.on=hf.prototype.I;hf.prototype.once=hf.prototype.once;hf.prototype.un=hf.prototype.J;gw.prototype.getFirstCoordinate=gw.prototype.fc;gw.prototype.getLastCoordinate=gw.prototype.gc;gw.prototype.getLayout=gw.prototype.ic;
gw.prototype.rotate=gw.prototype.rotate;gw.prototype.scale=gw.prototype.scale;gw.prototype.getClosestPoint=gw.prototype.Ib;gw.prototype.intersectsCoordinate=gw.prototype.Bb;gw.prototype.getExtent=gw.prototype.G;gw.prototype.simplify=gw.prototype.Sb;gw.prototype.get=gw.prototype.get;gw.prototype.getKeys=gw.prototype.P;gw.prototype.getProperties=gw.prototype.L;gw.prototype.set=gw.prototype.set;gw.prototype.setProperties=gw.prototype.H;gw.prototype.unset=gw.prototype.R;gw.prototype.changed=gw.prototype.u;
gw.prototype.dispatchEvent=gw.prototype.b;gw.prototype.getRevision=gw.prototype.K;gw.prototype.on=gw.prototype.I;gw.prototype.once=gw.prototype.once;gw.prototype.un=gw.prototype.J;Mq.prototype.getClosestPoint=Mq.prototype.Ib;Mq.prototype.intersectsCoordinate=Mq.prototype.Bb;Mq.prototype.getExtent=Mq.prototype.G;Mq.prototype.rotate=Mq.prototype.rotate;Mq.prototype.scale=Mq.prototype.scale;Mq.prototype.simplify=Mq.prototype.Sb;Mq.prototype.transform=Mq.prototype.mb;Mq.prototype.get=Mq.prototype.get;
Mq.prototype.getKeys=Mq.prototype.P;Mq.prototype.getProperties=Mq.prototype.L;Mq.prototype.set=Mq.prototype.set;Mq.prototype.setProperties=Mq.prototype.H;Mq.prototype.unset=Mq.prototype.R;Mq.prototype.changed=Mq.prototype.u;Mq.prototype.dispatchEvent=Mq.prototype.b;Mq.prototype.getRevision=Mq.prototype.K;Mq.prototype.on=Mq.prototype.I;Mq.prototype.once=Mq.prototype.once;Mq.prototype.un=Mq.prototype.J;Df.prototype.getFirstCoordinate=Df.prototype.fc;Df.prototype.getLastCoordinate=Df.prototype.gc;
Df.prototype.getLayout=Df.prototype.ic;Df.prototype.rotate=Df.prototype.rotate;Df.prototype.scale=Df.prototype.scale;Df.prototype.getClosestPoint=Df.prototype.Ib;Df.prototype.intersectsCoordinate=Df.prototype.Bb;Df.prototype.getExtent=Df.prototype.G;Df.prototype.simplify=Df.prototype.Sb;Df.prototype.transform=Df.prototype.mb;Df.prototype.get=Df.prototype.get;Df.prototype.getKeys=Df.prototype.P;Df.prototype.getProperties=Df.prototype.L;Df.prototype.set=Df.prototype.set;Df.prototype.setProperties=Df.prototype.H;
Df.prototype.unset=Df.prototype.R;Df.prototype.changed=Df.prototype.u;Df.prototype.dispatchEvent=Df.prototype.b;Df.prototype.getRevision=Df.prototype.K;Df.prototype.on=Df.prototype.I;Df.prototype.once=Df.prototype.once;Df.prototype.un=Df.prototype.J;I.prototype.getFirstCoordinate=I.prototype.fc;I.prototype.getLastCoordinate=I.prototype.gc;I.prototype.getLayout=I.prototype.ic;I.prototype.rotate=I.prototype.rotate;I.prototype.scale=I.prototype.scale;I.prototype.getClosestPoint=I.prototype.Ib;
I.prototype.intersectsCoordinate=I.prototype.Bb;I.prototype.getExtent=I.prototype.G;I.prototype.simplify=I.prototype.Sb;I.prototype.transform=I.prototype.mb;I.prototype.get=I.prototype.get;I.prototype.getKeys=I.prototype.P;I.prototype.getProperties=I.prototype.L;I.prototype.set=I.prototype.set;I.prototype.setProperties=I.prototype.H;I.prototype.unset=I.prototype.R;I.prototype.changed=I.prototype.u;I.prototype.dispatchEvent=I.prototype.b;I.prototype.getRevision=I.prototype.K;I.prototype.on=I.prototype.I;
I.prototype.once=I.prototype.once;I.prototype.un=I.prototype.J;P.prototype.getFirstCoordinate=P.prototype.fc;P.prototype.getLastCoordinate=P.prototype.gc;P.prototype.getLayout=P.prototype.ic;P.prototype.rotate=P.prototype.rotate;P.prototype.scale=P.prototype.scale;P.prototype.getClosestPoint=P.prototype.Ib;P.prototype.intersectsCoordinate=P.prototype.Bb;P.prototype.getExtent=P.prototype.G;P.prototype.simplify=P.prototype.Sb;P.prototype.transform=P.prototype.mb;P.prototype.get=P.prototype.get;
P.prototype.getKeys=P.prototype.P;P.prototype.getProperties=P.prototype.L;P.prototype.set=P.prototype.set;P.prototype.setProperties=P.prototype.H;P.prototype.unset=P.prototype.R;P.prototype.changed=P.prototype.u;P.prototype.dispatchEvent=P.prototype.b;P.prototype.getRevision=P.prototype.K;P.prototype.on=P.prototype.I;P.prototype.once=P.prototype.once;P.prototype.un=P.prototype.J;No.prototype.getFirstCoordinate=No.prototype.fc;No.prototype.getLastCoordinate=No.prototype.gc;No.prototype.getLayout=No.prototype.ic;
No.prototype.rotate=No.prototype.rotate;No.prototype.scale=No.prototype.scale;No.prototype.getClosestPoint=No.prototype.Ib;No.prototype.intersectsCoordinate=No.prototype.Bb;No.prototype.getExtent=No.prototype.G;No.prototype.simplify=No.prototype.Sb;No.prototype.transform=No.prototype.mb;No.prototype.get=No.prototype.get;No.prototype.getKeys=No.prototype.P;No.prototype.getProperties=No.prototype.L;No.prototype.set=No.prototype.set;No.prototype.setProperties=No.prototype.H;No.prototype.unset=No.prototype.R;
No.prototype.changed=No.prototype.u;No.prototype.dispatchEvent=No.prototype.b;No.prototype.getRevision=No.prototype.K;No.prototype.on=No.prototype.I;No.prototype.once=No.prototype.once;No.prototype.un=No.prototype.J;Q.prototype.getFirstCoordinate=Q.prototype.fc;Q.prototype.getLastCoordinate=Q.prototype.gc;Q.prototype.getLayout=Q.prototype.ic;Q.prototype.rotate=Q.prototype.rotate;Q.prototype.scale=Q.prototype.scale;Q.prototype.getClosestPoint=Q.prototype.Ib;Q.prototype.intersectsCoordinate=Q.prototype.Bb;
Q.prototype.getExtent=Q.prototype.G;Q.prototype.simplify=Q.prototype.Sb;Q.prototype.transform=Q.prototype.mb;Q.prototype.get=Q.prototype.get;Q.prototype.getKeys=Q.prototype.P;Q.prototype.getProperties=Q.prototype.L;Q.prototype.set=Q.prototype.set;Q.prototype.setProperties=Q.prototype.H;Q.prototype.unset=Q.prototype.R;Q.prototype.changed=Q.prototype.u;Q.prototype.dispatchEvent=Q.prototype.b;Q.prototype.getRevision=Q.prototype.K;Q.prototype.on=Q.prototype.I;Q.prototype.once=Q.prototype.once;
Q.prototype.un=Q.prototype.J;C.prototype.getFirstCoordinate=C.prototype.fc;C.prototype.getLastCoordinate=C.prototype.gc;C.prototype.getLayout=C.prototype.ic;C.prototype.rotate=C.prototype.rotate;C.prototype.scale=C.prototype.scale;C.prototype.getClosestPoint=C.prototype.Ib;C.prototype.intersectsCoordinate=C.prototype.Bb;C.prototype.getExtent=C.prototype.G;C.prototype.simplify=C.prototype.Sb;C.prototype.transform=C.prototype.mb;C.prototype.get=C.prototype.get;C.prototype.getKeys=C.prototype.P;
C.prototype.getProperties=C.prototype.L;C.prototype.set=C.prototype.set;C.prototype.setProperties=C.prototype.H;C.prototype.unset=C.prototype.R;C.prototype.changed=C.prototype.u;C.prototype.dispatchEvent=C.prototype.b;C.prototype.getRevision=C.prototype.K;C.prototype.on=C.prototype.I;C.prototype.once=C.prototype.once;C.prototype.un=C.prototype.J;D.prototype.getFirstCoordinate=D.prototype.fc;D.prototype.getLastCoordinate=D.prototype.gc;D.prototype.getLayout=D.prototype.ic;D.prototype.rotate=D.prototype.rotate;
D.prototype.scale=D.prototype.scale;D.prototype.getClosestPoint=D.prototype.Ib;D.prototype.intersectsCoordinate=D.prototype.Bb;D.prototype.getExtent=D.prototype.G;D.prototype.simplify=D.prototype.Sb;D.prototype.transform=D.prototype.mb;D.prototype.get=D.prototype.get;D.prototype.getKeys=D.prototype.P;D.prototype.getProperties=D.prototype.L;D.prototype.set=D.prototype.set;D.prototype.setProperties=D.prototype.H;D.prototype.unset=D.prototype.R;D.prototype.changed=D.prototype.u;
D.prototype.dispatchEvent=D.prototype.b;D.prototype.getRevision=D.prototype.K;D.prototype.on=D.prototype.I;D.prototype.once=D.prototype.once;D.prototype.un=D.prototype.J;Kp.prototype.readFeatures=Kp.prototype.Qa;Tp.prototype.readFeatures=Tp.prototype.Qa;Kp.prototype.readFeatures=Kp.prototype.Qa;vg.prototype.get=vg.prototype.get;vg.prototype.getKeys=vg.prototype.P;vg.prototype.getProperties=vg.prototype.L;vg.prototype.set=vg.prototype.set;vg.prototype.setProperties=vg.prototype.H;
vg.prototype.unset=vg.prototype.R;vg.prototype.changed=vg.prototype.u;vg.prototype.dispatchEvent=vg.prototype.b;vg.prototype.getRevision=vg.prototype.K;vg.prototype.on=vg.prototype.I;vg.prototype.once=vg.prototype.once;vg.prototype.un=vg.prototype.J;zg.prototype.getMap=zg.prototype.f;zg.prototype.setMap=zg.prototype.setMap;zg.prototype.setTarget=zg.prototype.i;zg.prototype.get=zg.prototype.get;zg.prototype.getKeys=zg.prototype.P;zg.prototype.getProperties=zg.prototype.L;zg.prototype.set=zg.prototype.set;
zg.prototype.setProperties=zg.prototype.H;zg.prototype.unset=zg.prototype.R;zg.prototype.changed=zg.prototype.u;zg.prototype.dispatchEvent=zg.prototype.b;zg.prototype.getRevision=zg.prototype.K;zg.prototype.on=zg.prototype.I;zg.prototype.once=zg.prototype.once;zg.prototype.un=zg.prototype.J;Mn.prototype.getMap=Mn.prototype.f;Mn.prototype.setMap=Mn.prototype.setMap;Mn.prototype.setTarget=Mn.prototype.i;Mn.prototype.get=Mn.prototype.get;Mn.prototype.getKeys=Mn.prototype.P;
Mn.prototype.getProperties=Mn.prototype.L;Mn.prototype.set=Mn.prototype.set;Mn.prototype.setProperties=Mn.prototype.H;Mn.prototype.unset=Mn.prototype.R;Mn.prototype.changed=Mn.prototype.u;Mn.prototype.dispatchEvent=Mn.prototype.b;Mn.prototype.getRevision=Mn.prototype.K;Mn.prototype.on=Mn.prototype.I;Mn.prototype.once=Mn.prototype.once;Mn.prototype.un=Mn.prototype.J;Rn.prototype.getMap=Rn.prototype.f;Rn.prototype.setMap=Rn.prototype.setMap;Rn.prototype.setTarget=Rn.prototype.i;Rn.prototype.get=Rn.prototype.get;
Rn.prototype.getKeys=Rn.prototype.P;Rn.prototype.getProperties=Rn.prototype.L;Rn.prototype.set=Rn.prototype.set;Rn.prototype.setProperties=Rn.prototype.H;Rn.prototype.unset=Rn.prototype.R;Rn.prototype.changed=Rn.prototype.u;Rn.prototype.dispatchEvent=Rn.prototype.b;Rn.prototype.getRevision=Rn.prototype.K;Rn.prototype.on=Rn.prototype.I;Rn.prototype.once=Rn.prototype.once;Rn.prototype.un=Rn.prototype.J;Wn.prototype.getMap=Wn.prototype.f;Wn.prototype.setMap=Wn.prototype.setMap;
Wn.prototype.setTarget=Wn.prototype.i;Wn.prototype.get=Wn.prototype.get;Wn.prototype.getKeys=Wn.prototype.P;Wn.prototype.getProperties=Wn.prototype.L;Wn.prototype.set=Wn.prototype.set;Wn.prototype.setProperties=Wn.prototype.H;Wn.prototype.unset=Wn.prototype.R;Wn.prototype.changed=Wn.prototype.u;Wn.prototype.dispatchEvent=Wn.prototype.b;Wn.prototype.getRevision=Wn.prototype.K;Wn.prototype.on=Wn.prototype.I;Wn.prototype.once=Wn.prototype.once;Wn.prototype.un=Wn.prototype.J;Cg.prototype.getMap=Cg.prototype.f;
Cg.prototype.setMap=Cg.prototype.setMap;Cg.prototype.setTarget=Cg.prototype.i;Cg.prototype.get=Cg.prototype.get;Cg.prototype.getKeys=Cg.prototype.P;Cg.prototype.getProperties=Cg.prototype.L;Cg.prototype.set=Cg.prototype.set;Cg.prototype.setProperties=Cg.prototype.H;Cg.prototype.unset=Cg.prototype.R;Cg.prototype.changed=Cg.prototype.u;Cg.prototype.dispatchEvent=Cg.prototype.b;Cg.prototype.getRevision=Cg.prototype.K;Cg.prototype.on=Cg.prototype.I;Cg.prototype.once=Cg.prototype.once;
Cg.prototype.un=Cg.prototype.J;ao.prototype.getMap=ao.prototype.f;ao.prototype.setMap=ao.prototype.setMap;ao.prototype.setTarget=ao.prototype.i;ao.prototype.get=ao.prototype.get;ao.prototype.getKeys=ao.prototype.P;ao.prototype.getProperties=ao.prototype.L;ao.prototype.set=ao.prototype.set;ao.prototype.setProperties=ao.prototype.H;ao.prototype.unset=ao.prototype.R;ao.prototype.changed=ao.prototype.u;ao.prototype.dispatchEvent=ao.prototype.b;ao.prototype.getRevision=ao.prototype.K;ao.prototype.on=ao.prototype.I;
ao.prototype.once=ao.prototype.once;ao.prototype.un=ao.prototype.J;Eg.prototype.getMap=Eg.prototype.f;Eg.prototype.setMap=Eg.prototype.setMap;Eg.prototype.setTarget=Eg.prototype.i;Eg.prototype.get=Eg.prototype.get;Eg.prototype.getKeys=Eg.prototype.P;Eg.prototype.getProperties=Eg.prototype.L;Eg.prototype.set=Eg.prototype.set;Eg.prototype.setProperties=Eg.prototype.H;Eg.prototype.unset=Eg.prototype.R;Eg.prototype.changed=Eg.prototype.u;Eg.prototype.dispatchEvent=Eg.prototype.b;
Eg.prototype.getRevision=Eg.prototype.K;Eg.prototype.on=Eg.prototype.I;Eg.prototype.once=Eg.prototype.once;Eg.prototype.un=Eg.prototype.J;go.prototype.getMap=go.prototype.f;go.prototype.setMap=go.prototype.setMap;go.prototype.setTarget=go.prototype.i;go.prototype.get=go.prototype.get;go.prototype.getKeys=go.prototype.P;go.prototype.getProperties=go.prototype.L;go.prototype.set=go.prototype.set;go.prototype.setProperties=go.prototype.H;go.prototype.unset=go.prototype.R;go.prototype.changed=go.prototype.u;
go.prototype.dispatchEvent=go.prototype.b;go.prototype.getRevision=go.prototype.K;go.prototype.on=go.prototype.I;go.prototype.once=go.prototype.once;go.prototype.un=go.prototype.J;lo.prototype.getMap=lo.prototype.f;lo.prototype.setMap=lo.prototype.setMap;lo.prototype.setTarget=lo.prototype.i;lo.prototype.get=lo.prototype.get;lo.prototype.getKeys=lo.prototype.P;lo.prototype.getProperties=lo.prototype.L;lo.prototype.set=lo.prototype.set;lo.prototype.setProperties=lo.prototype.H;lo.prototype.unset=lo.prototype.R;
lo.prototype.changed=lo.prototype.u;lo.prototype.dispatchEvent=lo.prototype.b;lo.prototype.getRevision=lo.prototype.K;lo.prototype.on=lo.prototype.I;lo.prototype.once=lo.prototype.once;lo.prototype.un=lo.prototype.J;
  return OPENLAYERS.ol;
}));


},{}],31:[function(require,module,exports){
var mgrs = require('mgrs');

function Point(x, y, z) {
  if (!(this instanceof Point)) {
    return new Point(x, y, z);
  }
  if (Array.isArray(x)) {
    this.x = x[0];
    this.y = x[1];
    this.z = x[2] || 0.0;
  }else if(typeof x === 'object'){
    this.x = x.x;
    this.y = x.y;
    this.z = x.z || 0.0;
  } else if (typeof x === 'string' && typeof y === 'undefined') {
    var coords = x.split(',');
    this.x = parseFloat(coords[0], 10);
    this.y = parseFloat(coords[1], 10);
    this.z = parseFloat(coords[2], 10) || 0.0;
  }
  else {
    this.x = x;
    this.y = y;
    this.z = z || 0.0;
  }
  console.warn('proj4.Point will be removed in version 3, use proj4.toPoint');
}

Point.fromMGRS = function(mgrsStr) {
  return new Point(mgrs.toPoint(mgrsStr));
};
Point.prototype.toMGRS = function(accuracy) {
  return mgrs.forward([this.x, this.y], accuracy);
};
module.exports = Point;
},{"mgrs":29}],32:[function(require,module,exports){
var parseCode = require("./parseCode");
var extend = require('./extend');
var projections = require('./projections');
var deriveConstants = require('./deriveConstants');

function Projection(srsCode,callback) {
  if (!(this instanceof Projection)) {
    return new Projection(srsCode);
  }
  callback = callback || function(error){
    if(error){
      throw error;
    }
  };
  var json = parseCode(srsCode);
  if(typeof json !== 'object'){
    callback(srsCode);
    return;
  }
  var modifiedJSON = deriveConstants(json);
  var ourProj = Projection.projections.get(modifiedJSON.projName);
  if(ourProj){
    extend(this, modifiedJSON);
    extend(this, ourProj);
    this.init();
    callback(null, this);
  }else{
    callback(srsCode);
  }
}
Projection.projections = projections;
Projection.projections.start();
module.exports = Projection;

},{"./deriveConstants":63,"./extend":64,"./parseCode":68,"./projections":70}],33:[function(require,module,exports){
module.exports = function(crs, denorm, point) {
  var xin = point.x,
    yin = point.y,
    zin = point.z || 0.0;
  var v, t, i;
  for (i = 0; i < 3; i++) {
    if (denorm && i === 2 && point.z === undefined) {
      continue;
    }
    if (i === 0) {
      v = xin;
      t = 'x';
    }
    else if (i === 1) {
      v = yin;
      t = 'y';
    }
    else {
      v = zin;
      t = 'z';
    }
    switch (crs.axis[i]) {
    case 'e':
      point[t] = v;
      break;
    case 'w':
      point[t] = -v;
      break;
    case 'n':
      point[t] = v;
      break;
    case 's':
      point[t] = -v;
      break;
    case 'u':
      if (point[t] !== undefined) {
        point.z = v;
      }
      break;
    case 'd':
      if (point[t] !== undefined) {
        point.z = -v;
      }
      break;
    default:
      //console.log("ERROR: unknow axis ("+crs.axis[i]+") - check definition of "+crs.projName);
      return null;
    }
  }
  return point;
};

},{}],34:[function(require,module,exports){
var HALF_PI = Math.PI/2;
var sign = require('./sign');

module.exports = function(x) {
  return (Math.abs(x) < HALF_PI) ? x : (x - (sign(x) * Math.PI));
};
},{"./sign":51}],35:[function(require,module,exports){
var TWO_PI = Math.PI * 2;
// SPI is slightly greater than Math.PI, so values that exceed the -180..180
// degree range by a tiny amount don't get wrapped. This prevents points that
// have drifted from their original location along the 180th meridian (due to
// floating point error) from changing their sign.
var SPI = 3.14159265359;
var sign = require('./sign');

module.exports = function(x) {
  return (Math.abs(x) <= SPI) ? x : (x - (sign(x) * TWO_PI));
};
},{"./sign":51}],36:[function(require,module,exports){
module.exports = function(x) {
  if (Math.abs(x) > 1) {
    x = (x > 1) ? 1 : -1;
  }
  return Math.asin(x);
};
},{}],37:[function(require,module,exports){
module.exports = function(x) {
  return (1 - 0.25 * x * (1 + x / 16 * (3 + 1.25 * x)));
};
},{}],38:[function(require,module,exports){
module.exports = function(x) {
  return (0.375 * x * (1 + 0.25 * x * (1 + 0.46875 * x)));
};
},{}],39:[function(require,module,exports){
module.exports = function(x) {
  return (0.05859375 * x * x * (1 + 0.75 * x));
};
},{}],40:[function(require,module,exports){
module.exports = function(x) {
  return (x * x * x * (35 / 3072));
};
},{}],41:[function(require,module,exports){
module.exports = function(a, e, sinphi) {
  var temp = e * sinphi;
  return a / Math.sqrt(1 - temp * temp);
};
},{}],42:[function(require,module,exports){
module.exports = function(ml, e0, e1, e2, e3) {
  var phi;
  var dphi;

  phi = ml / e0;
  for (var i = 0; i < 15; i++) {
    dphi = (ml - (e0 * phi - e1 * Math.sin(2 * phi) + e2 * Math.sin(4 * phi) - e3 * Math.sin(6 * phi))) / (e0 - 2 * e1 * Math.cos(2 * phi) + 4 * e2 * Math.cos(4 * phi) - 6 * e3 * Math.cos(6 * phi));
    phi += dphi;
    if (Math.abs(dphi) <= 0.0000000001) {
      return phi;
    }
  }

  //..reportError("IMLFN-CONV:Latitude failed to converge after 15 iterations");
  return NaN;
};
},{}],43:[function(require,module,exports){
var HALF_PI = Math.PI/2;

module.exports = function(eccent, q) {
  var temp = 1 - (1 - eccent * eccent) / (2 * eccent) * Math.log((1 - eccent) / (1 + eccent));
  if (Math.abs(Math.abs(q) - temp) < 1.0E-6) {
    if (q < 0) {
      return (-1 * HALF_PI);
    }
    else {
      return HALF_PI;
    }
  }
  //var phi = 0.5* q/(1-eccent*eccent);
  var phi = Math.asin(0.5 * q);
  var dphi;
  var sin_phi;
  var cos_phi;
  var con;
  for (var i = 0; i < 30; i++) {
    sin_phi = Math.sin(phi);
    cos_phi = Math.cos(phi);
    con = eccent * sin_phi;
    dphi = Math.pow(1 - con * con, 2) / (2 * cos_phi) * (q / (1 - eccent * eccent) - sin_phi / (1 - con * con) + 0.5 / eccent * Math.log((1 - con) / (1 + con)));
    phi += dphi;
    if (Math.abs(dphi) <= 0.0000000001) {
      return phi;
    }
  }

  //console.log("IQSFN-CONV:Latitude failed to converge after 30 iterations");
  return NaN;
};
},{}],44:[function(require,module,exports){
module.exports = function(e0, e1, e2, e3, phi) {
  return (e0 * phi - e1 * Math.sin(2 * phi) + e2 * Math.sin(4 * phi) - e3 * Math.sin(6 * phi));
};
},{}],45:[function(require,module,exports){
module.exports = function(eccent, sinphi, cosphi) {
  var con = eccent * sinphi;
  return cosphi / (Math.sqrt(1 - con * con));
};
},{}],46:[function(require,module,exports){
var HALF_PI = Math.PI/2;
module.exports = function(eccent, ts) {
  var eccnth = 0.5 * eccent;
  var con, dphi;
  var phi = HALF_PI - 2 * Math.atan(ts);
  for (var i = 0; i <= 15; i++) {
    con = eccent * Math.sin(phi);
    dphi = HALF_PI - 2 * Math.atan(ts * (Math.pow(((1 - con) / (1 + con)), eccnth))) - phi;
    phi += dphi;
    if (Math.abs(dphi) <= 0.0000000001) {
      return phi;
    }
  }
  //console.log("phi2z has NoConvergence");
  return -9999;
};
},{}],47:[function(require,module,exports){
var C00 = 1;
var C02 = 0.25;
var C04 = 0.046875;
var C06 = 0.01953125;
var C08 = 0.01068115234375;
var C22 = 0.75;
var C44 = 0.46875;
var C46 = 0.01302083333333333333;
var C48 = 0.00712076822916666666;
var C66 = 0.36458333333333333333;
var C68 = 0.00569661458333333333;
var C88 = 0.3076171875;

module.exports = function(es) {
  var en = [];
  en[0] = C00 - es * (C02 + es * (C04 + es * (C06 + es * C08)));
  en[1] = es * (C22 - es * (C04 + es * (C06 + es * C08)));
  var t = es * es;
  en[2] = t * (C44 - es * (C46 + es * C48));
  t *= es;
  en[3] = t * (C66 - es * C68);
  en[4] = t * es * C88;
  return en;
};
},{}],48:[function(require,module,exports){
var pj_mlfn = require("./pj_mlfn");
var EPSLN = 1.0e-10;
var MAX_ITER = 20;
module.exports = function(arg, es, en) {
  var k = 1 / (1 - es);
  var phi = arg;
  for (var i = MAX_ITER; i; --i) { /* rarely goes over 2 iterations */
    var s = Math.sin(phi);
    var t = 1 - es * s * s;
    //t = this.pj_mlfn(phi, s, Math.cos(phi), en) - arg;
    //phi -= t * (t * Math.sqrt(t)) * k;
    t = (pj_mlfn(phi, s, Math.cos(phi), en) - arg) * (t * Math.sqrt(t)) * k;
    phi -= t;
    if (Math.abs(t) < EPSLN) {
      return phi;
    }
  }
  //..reportError("cass:pj_inv_mlfn: Convergence error");
  return phi;
};
},{"./pj_mlfn":49}],49:[function(require,module,exports){
module.exports = function(phi, sphi, cphi, en) {
  cphi *= sphi;
  sphi *= sphi;
  return (en[0] * phi - cphi * (en[1] + sphi * (en[2] + sphi * (en[3] + sphi * en[4]))));
};
},{}],50:[function(require,module,exports){
module.exports = function(eccent, sinphi) {
  var con;
  if (eccent > 1.0e-7) {
    con = eccent * sinphi;
    return ((1 - eccent * eccent) * (sinphi / (1 - con * con) - (0.5 / eccent) * Math.log((1 - con) / (1 + con))));
  }
  else {
    return (2 * sinphi);
  }
};
},{}],51:[function(require,module,exports){
module.exports = function(x) {
  return x<0 ? -1 : 1;
};
},{}],52:[function(require,module,exports){
module.exports = function(esinp, exp) {
  return (Math.pow((1 - esinp) / (1 + esinp), exp));
};
},{}],53:[function(require,module,exports){
module.exports = function (array){
  var out = {
    x: array[0],
    y: array[1]
  };
  if (array.length>2) {
    out.z = array[2];
  }
  if (array.length>3) {
    out.m = array[3];
  }
  return out;
};
},{}],54:[function(require,module,exports){
var HALF_PI = Math.PI/2;

module.exports = function(eccent, phi, sinphi) {
  var con = eccent * sinphi;
  var com = 0.5 * eccent;
  con = Math.pow(((1 - con) / (1 + con)), com);
  return (Math.tan(0.5 * (HALF_PI - phi)) / con);
};
},{}],55:[function(require,module,exports){
exports.wgs84 = {
  towgs84: "0,0,0",
  ellipse: "WGS84",
  datumName: "WGS84"
};
exports.ch1903 = {
  towgs84: "674.374,15.056,405.346",
  ellipse: "bessel",
  datumName: "swiss"
};
exports.ggrs87 = {
  towgs84: "-199.87,74.79,246.62",
  ellipse: "GRS80",
  datumName: "Greek_Geodetic_Reference_System_1987"
};
exports.nad83 = {
  towgs84: "0,0,0",
  ellipse: "GRS80",
  datumName: "North_American_Datum_1983"
};
exports.nad27 = {
  nadgrids: "@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",
  ellipse: "clrk66",
  datumName: "North_American_Datum_1927"
};
exports.potsdam = {
  towgs84: "606.0,23.0,413.0",
  ellipse: "bessel",
  datumName: "Potsdam Rauenberg 1950 DHDN"
};
exports.carthage = {
  towgs84: "-263.0,6.0,431.0",
  ellipse: "clark80",
  datumName: "Carthage 1934 Tunisia"
};
exports.hermannskogel = {
  towgs84: "653.0,-212.0,449.0",
  ellipse: "bessel",
  datumName: "Hermannskogel"
};
exports.ire65 = {
  towgs84: "482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",
  ellipse: "mod_airy",
  datumName: "Ireland 1965"
};
exports.rassadiran = {
  towgs84: "-133.63,-157.5,-158.62",
  ellipse: "intl",
  datumName: "Rassadiran"
};
exports.nzgd49 = {
  towgs84: "59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",
  ellipse: "intl",
  datumName: "New Zealand Geodetic Datum 1949"
};
exports.osgb36 = {
  towgs84: "446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",
  ellipse: "airy",
  datumName: "Airy 1830"
};
exports.s_jtsk = {
  towgs84: "589,76,480",
  ellipse: 'bessel',
  datumName: 'S-JTSK (Ferro)'
};
exports.beduaram = {
  towgs84: '-106,-87,188',
  ellipse: 'clrk80',
  datumName: 'Beduaram'
};
exports.gunung_segara = {
  towgs84: '-403,684,41',
  ellipse: 'bessel',
  datumName: 'Gunung Segara Jakarta'
};
exports.rnb72 = {
  towgs84: "106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",
  ellipse: "intl",
  datumName: "Reseau National Belge 1972"
};
},{}],56:[function(require,module,exports){
exports.MERIT = {
  a: 6378137.0,
  rf: 298.257,
  ellipseName: "MERIT 1983"
};
exports.SGS85 = {
  a: 6378136.0,
  rf: 298.257,
  ellipseName: "Soviet Geodetic System 85"
};
exports.GRS80 = {
  a: 6378137.0,
  rf: 298.257222101,
  ellipseName: "GRS 1980(IUGG, 1980)"
};
exports.IAU76 = {
  a: 6378140.0,
  rf: 298.257,
  ellipseName: "IAU 1976"
};
exports.airy = {
  a: 6377563.396,
  b: 6356256.910,
  ellipseName: "Airy 1830"
};
exports.APL4 = {
  a: 6378137,
  rf: 298.25,
  ellipseName: "Appl. Physics. 1965"
};
exports.NWL9D = {
  a: 6378145.0,
  rf: 298.25,
  ellipseName: "Naval Weapons Lab., 1965"
};
exports.mod_airy = {
  a: 6377340.189,
  b: 6356034.446,
  ellipseName: "Modified Airy"
};
exports.andrae = {
  a: 6377104.43,
  rf: 300.0,
  ellipseName: "Andrae 1876 (Den., Iclnd.)"
};
exports.aust_SA = {
  a: 6378160.0,
  rf: 298.25,
  ellipseName: "Australian Natl & S. Amer. 1969"
};
exports.GRS67 = {
  a: 6378160.0,
  rf: 298.2471674270,
  ellipseName: "GRS 67(IUGG 1967)"
};
exports.bessel = {
  a: 6377397.155,
  rf: 299.1528128,
  ellipseName: "Bessel 1841"
};
exports.bess_nam = {
  a: 6377483.865,
  rf: 299.1528128,
  ellipseName: "Bessel 1841 (Namibia)"
};
exports.clrk66 = {
  a: 6378206.4,
  b: 6356583.8,
  ellipseName: "Clarke 1866"
};
exports.clrk80 = {
  a: 6378249.145,
  rf: 293.4663,
  ellipseName: "Clarke 1880 mod."
};
exports.clrk58 = {
  a: 6378293.645208759,
  rf: 294.2606763692654,
  ellipseName: "Clarke 1858"
};
exports.CPM = {
  a: 6375738.7,
  rf: 334.29,
  ellipseName: "Comm. des Poids et Mesures 1799"
};
exports.delmbr = {
  a: 6376428.0,
  rf: 311.5,
  ellipseName: "Delambre 1810 (Belgium)"
};
exports.engelis = {
  a: 6378136.05,
  rf: 298.2566,
  ellipseName: "Engelis 1985"
};
exports.evrst30 = {
  a: 6377276.345,
  rf: 300.8017,
  ellipseName: "Everest 1830"
};
exports.evrst48 = {
  a: 6377304.063,
  rf: 300.8017,
  ellipseName: "Everest 1948"
};
exports.evrst56 = {
  a: 6377301.243,
  rf: 300.8017,
  ellipseName: "Everest 1956"
};
exports.evrst69 = {
  a: 6377295.664,
  rf: 300.8017,
  ellipseName: "Everest 1969"
};
exports.evrstSS = {
  a: 6377298.556,
  rf: 300.8017,
  ellipseName: "Everest (Sabah & Sarawak)"
};
exports.fschr60 = {
  a: 6378166.0,
  rf: 298.3,
  ellipseName: "Fischer (Mercury Datum) 1960"
};
exports.fschr60m = {
  a: 6378155.0,
  rf: 298.3,
  ellipseName: "Fischer 1960"
};
exports.fschr68 = {
  a: 6378150.0,
  rf: 298.3,
  ellipseName: "Fischer 1968"
};
exports.helmert = {
  a: 6378200.0,
  rf: 298.3,
  ellipseName: "Helmert 1906"
};
exports.hough = {
  a: 6378270.0,
  rf: 297.0,
  ellipseName: "Hough"
};
exports.intl = {
  a: 6378388.0,
  rf: 297.0,
  ellipseName: "International 1909 (Hayford)"
};
exports.kaula = {
  a: 6378163.0,
  rf: 298.24,
  ellipseName: "Kaula 1961"
};
exports.lerch = {
  a: 6378139.0,
  rf: 298.257,
  ellipseName: "Lerch 1979"
};
exports.mprts = {
  a: 6397300.0,
  rf: 191.0,
  ellipseName: "Maupertius 1738"
};
exports.new_intl = {
  a: 6378157.5,
  b: 6356772.2,
  ellipseName: "New International 1967"
};
exports.plessis = {
  a: 6376523.0,
  rf: 6355863.0,
  ellipseName: "Plessis 1817 (France)"
};
exports.krass = {
  a: 6378245.0,
  rf: 298.3,
  ellipseName: "Krassovsky, 1942"
};
exports.SEasia = {
  a: 6378155.0,
  b: 6356773.3205,
  ellipseName: "Southeast Asia"
};
exports.walbeck = {
  a: 6376896.0,
  b: 6355834.8467,
  ellipseName: "Walbeck"
};
exports.WGS60 = {
  a: 6378165.0,
  rf: 298.3,
  ellipseName: "WGS 60"
};
exports.WGS66 = {
  a: 6378145.0,
  rf: 298.25,
  ellipseName: "WGS 66"
};
exports.WGS7 = {
  a: 6378135.0,
  rf: 298.26,
  ellipseName: "WGS 72"
};
exports.WGS84 = {
  a: 6378137.0,
  rf: 298.257223563,
  ellipseName: "WGS 84"
};
exports.sphere = {
  a: 6370997.0,
  b: 6370997.0,
  ellipseName: "Normal Sphere (r=6370997)"
};
},{}],57:[function(require,module,exports){
exports.greenwich = 0.0; //"0dE",
exports.lisbon = -9.131906111111; //"9d07'54.862\"W",
exports.paris = 2.337229166667; //"2d20'14.025\"E",
exports.bogota = -74.080916666667; //"74d04'51.3\"W",
exports.madrid = -3.687938888889; //"3d41'16.58\"W",
exports.rome = 12.452333333333; //"12d27'8.4\"E",
exports.bern = 7.439583333333; //"7d26'22.5\"E",
exports.jakarta = 106.807719444444; //"106d48'27.79\"E",
exports.ferro = -17.666666666667; //"17d40'W",
exports.brussels = 4.367975; //"4d22'4.71\"E",
exports.stockholm = 18.058277777778; //"18d3'29.8\"E",
exports.athens = 23.7163375; //"23d42'58.815\"E",
exports.oslo = 10.722916666667; //"10d43'22.5\"E"
},{}],58:[function(require,module,exports){
exports.ft = {to_meter: 0.3048};
exports['us-ft'] = {to_meter: 1200 / 3937};

},{}],59:[function(require,module,exports){
var proj = require('./Proj');
var transform = require('./transform');
var wgs84 = proj('WGS84');

function transformer(from, to, coords) {
  var transformedArray;
  if (Array.isArray(coords)) {
    transformedArray = transform(from, to, coords);
    if (coords.length === 3) {
      return [transformedArray.x, transformedArray.y, transformedArray.z];
    }
    else {
      return [transformedArray.x, transformedArray.y];
    }
  }
  else {
    return transform(from, to, coords);
  }
}

function checkProj(item) {
  if (item instanceof proj) {
    return item;
  }
  if (item.oProj) {
    return item.oProj;
  }
  return proj(item);
}
function proj4(fromProj, toProj, coord) {
  fromProj = checkProj(fromProj);
  var single = false;
  var obj;
  if (typeof toProj === 'undefined') {
    toProj = fromProj;
    fromProj = wgs84;
    single = true;
  }
  else if (typeof toProj.x !== 'undefined' || Array.isArray(toProj)) {
    coord = toProj;
    toProj = fromProj;
    fromProj = wgs84;
    single = true;
  }
  toProj = checkProj(toProj);
  if (coord) {
    return transformer(fromProj, toProj, coord);
  }
  else {
    obj = {
      forward: function(coords) {
        return transformer(fromProj, toProj, coords);
      },
      inverse: function(coords) {
        return transformer(toProj, fromProj, coords);
      }
    };
    if (single) {
      obj.oProj = toProj;
    }
    return obj;
  }
}
module.exports = proj4;
},{"./Proj":32,"./transform":96}],60:[function(require,module,exports){
var HALF_PI = Math.PI/2;
var PJD_3PARAM = 1;
var PJD_7PARAM = 2;
var PJD_GRIDSHIFT = 3;
var PJD_WGS84 = 4; // WGS84 or equivalent
var PJD_NODATUM = 5; // WGS84 or equivalent
var SEC_TO_RAD = 4.84813681109535993589914102357e-6;
var AD_C = 1.0026000;
var COS_67P5 = 0.38268343236508977;
var datum = function(proj) {
  if (!(this instanceof datum)) {
    return new datum(proj);
  }
  this.datum_type = PJD_WGS84; //default setting
  if (!proj) {
    return;
  }
  if (proj.datumCode && proj.datumCode === 'none') {
    this.datum_type = PJD_NODATUM;
  }
  if (proj.datum_params) {
    for (var i = 0; i < proj.datum_params.length; i++) {
      proj.datum_params[i] = parseFloat(proj.datum_params[i]);
    }
    if (proj.datum_params[0] !== 0 || proj.datum_params[1] !== 0 || proj.datum_params[2] !== 0) {
      this.datum_type = PJD_3PARAM;
    }
    if (proj.datum_params.length > 3) {
      if (proj.datum_params[3] !== 0 || proj.datum_params[4] !== 0 || proj.datum_params[5] !== 0 || proj.datum_params[6] !== 0) {
        this.datum_type = PJD_7PARAM;
        proj.datum_params[3] *= SEC_TO_RAD;
        proj.datum_params[4] *= SEC_TO_RAD;
        proj.datum_params[5] *= SEC_TO_RAD;
        proj.datum_params[6] = (proj.datum_params[6] / 1000000.0) + 1.0;
      }
    }
  }
  // DGR 2011-03-21 : nadgrids support
  this.datum_type = proj.grids ? PJD_GRIDSHIFT : this.datum_type;

  this.a = proj.a; //datum object also uses these values
  this.b = proj.b;
  this.es = proj.es;
  this.ep2 = proj.ep2;
  this.datum_params = proj.datum_params;
  if (this.datum_type === PJD_GRIDSHIFT) {
    this.grids = proj.grids;
  }
};
datum.prototype = {


  /****************************************************************/
  // cs_compare_datums()
  //   Returns TRUE if the two datums match, otherwise FALSE.
  compare_datums: function(dest) {
    if (this.datum_type !== dest.datum_type) {
      return false; // false, datums are not equal
    }
    else if (this.a !== dest.a || Math.abs(this.es - dest.es) > 0.000000000050) {
      // the tolerence for es is to ensure that GRS80 and WGS84
      // are considered identical
      return false;
    }
    else if (this.datum_type === PJD_3PARAM) {
      return (this.datum_params[0] === dest.datum_params[0] && this.datum_params[1] === dest.datum_params[1] && this.datum_params[2] === dest.datum_params[2]);
    }
    else if (this.datum_type === PJD_7PARAM) {
      return (this.datum_params[0] === dest.datum_params[0] && this.datum_params[1] === dest.datum_params[1] && this.datum_params[2] === dest.datum_params[2] && this.datum_params[3] === dest.datum_params[3] && this.datum_params[4] === dest.datum_params[4] && this.datum_params[5] === dest.datum_params[5] && this.datum_params[6] === dest.datum_params[6]);
    }
    else if (this.datum_type === PJD_GRIDSHIFT || dest.datum_type === PJD_GRIDSHIFT) {
      //alert("ERROR: Grid shift transformations are not implemented.");
      //return false
      //DGR 2012-07-29 lazy ...
      return this.nadgrids === dest.nadgrids;
    }
    else {
      return true; // datums are equal
    }
  }, // cs_compare_datums()

  /*
   * The function Convert_Geodetic_To_Geocentric converts geodetic coordinates
   * (latitude, longitude, and height) to geocentric coordinates (X, Y, Z),
   * according to the current ellipsoid parameters.
   *
   *    Latitude  : Geodetic latitude in radians                     (input)
   *    Longitude : Geodetic longitude in radians                    (input)
   *    Height    : Geodetic height, in meters                       (input)
   *    X         : Calculated Geocentric X coordinate, in meters    (output)
   *    Y         : Calculated Geocentric Y coordinate, in meters    (output)
   *    Z         : Calculated Geocentric Z coordinate, in meters    (output)
   *
   */
  geodetic_to_geocentric: function(p) {
    var Longitude = p.x;
    var Latitude = p.y;
    var Height = p.z ? p.z : 0; //Z value not always supplied
    var X; // output
    var Y;
    var Z;

    var Error_Code = 0; //  GEOCENT_NO_ERROR;
    var Rn; /*  Earth radius at location  */
    var Sin_Lat; /*  Math.sin(Latitude)  */
    var Sin2_Lat; /*  Square of Math.sin(Latitude)  */
    var Cos_Lat; /*  Math.cos(Latitude)  */

    /*
     ** Don't blow up if Latitude is just a little out of the value
     ** range as it may just be a rounding issue.  Also removed longitude
     ** test, it should be wrapped by Math.cos() and Math.sin().  NFW for PROJ.4, Sep/2001.
     */
    if (Latitude < -HALF_PI && Latitude > -1.001 * HALF_PI) {
      Latitude = -HALF_PI;
    }
    else if (Latitude > HALF_PI && Latitude < 1.001 * HALF_PI) {
      Latitude = HALF_PI;
    }
    else if ((Latitude < -HALF_PI) || (Latitude > HALF_PI)) {
      /* Latitude out of range */
      //..reportError('geocent:lat out of range:' + Latitude);
      return null;
    }

    if (Longitude > Math.PI) {
      Longitude -= (2 * Math.PI);
    }
    Sin_Lat = Math.sin(Latitude);
    Cos_Lat = Math.cos(Latitude);
    Sin2_Lat = Sin_Lat * Sin_Lat;
    Rn = this.a / (Math.sqrt(1.0e0 - this.es * Sin2_Lat));
    X = (Rn + Height) * Cos_Lat * Math.cos(Longitude);
    Y = (Rn + Height) * Cos_Lat * Math.sin(Longitude);
    Z = ((Rn * (1 - this.es)) + Height) * Sin_Lat;

    p.x = X;
    p.y = Y;
    p.z = Z;
    return Error_Code;
  }, // cs_geodetic_to_geocentric()


  geocentric_to_geodetic: function(p) {
    /* local defintions and variables */
    /* end-criterium of loop, accuracy of sin(Latitude) */
    var genau = 1e-12;
    var genau2 = (genau * genau);
    var maxiter = 30;

    var P; /* distance between semi-minor axis and location */
    var RR; /* distance between center and location */
    var CT; /* sin of geocentric latitude */
    var ST; /* cos of geocentric latitude */
    var RX;
    var RK;
    var RN; /* Earth radius at location */
    var CPHI0; /* cos of start or old geodetic latitude in iterations */
    var SPHI0; /* sin of start or old geodetic latitude in iterations */
    var CPHI; /* cos of searched geodetic latitude */
    var SPHI; /* sin of searched geodetic latitude */
    var SDPHI; /* end-criterium: addition-theorem of sin(Latitude(iter)-Latitude(iter-1)) */
    var At_Pole; /* indicates location is in polar region */
    var iter; /* # of continous iteration, max. 30 is always enough (s.a.) */

    var X = p.x;
    var Y = p.y;
    var Z = p.z ? p.z : 0.0; //Z value not always supplied
    var Longitude;
    var Latitude;
    var Height;

    At_Pole = false;
    P = Math.sqrt(X * X + Y * Y);
    RR = Math.sqrt(X * X + Y * Y + Z * Z);

    /*      special cases for latitude and longitude */
    if (P / this.a < genau) {

      /*  special case, if P=0. (X=0., Y=0.) */
      At_Pole = true;
      Longitude = 0.0;

      /*  if (X,Y,Z)=(0.,0.,0.) then Height becomes semi-minor axis
       *  of ellipsoid (=center of mass), Latitude becomes PI/2 */
      if (RR / this.a < genau) {
        Latitude = HALF_PI;
        Height = -this.b;
        return;
      }
    }
    else {
      /*  ellipsoidal (geodetic) longitude
       *  interval: -PI < Longitude <= +PI */
      Longitude = Math.atan2(Y, X);
    }

    /* --------------------------------------------------------------
     * Following iterative algorithm was developped by
     * "Institut for Erdmessung", University of Hannover, July 1988.
     * Internet: www.ife.uni-hannover.de
     * Iterative computation of CPHI,SPHI and Height.
     * Iteration of CPHI and SPHI to 10**-12 radian resp.
     * 2*10**-7 arcsec.
     * --------------------------------------------------------------
     */
    CT = Z / RR;
    ST = P / RR;
    RX = 1.0 / Math.sqrt(1.0 - this.es * (2.0 - this.es) * ST * ST);
    CPHI0 = ST * (1.0 - this.es) * RX;
    SPHI0 = CT * RX;
    iter = 0;

    /* loop to find sin(Latitude) resp. Latitude
     * until |sin(Latitude(iter)-Latitude(iter-1))| < genau */
    do {
      iter++;
      RN = this.a / Math.sqrt(1.0 - this.es * SPHI0 * SPHI0);

      /*  ellipsoidal (geodetic) height */
      Height = P * CPHI0 + Z * SPHI0 - RN * (1.0 - this.es * SPHI0 * SPHI0);

      RK = this.es * RN / (RN + Height);
      RX = 1.0 / Math.sqrt(1.0 - RK * (2.0 - RK) * ST * ST);
      CPHI = ST * (1.0 - RK) * RX;
      SPHI = CT * RX;
      SDPHI = SPHI * CPHI0 - CPHI * SPHI0;
      CPHI0 = CPHI;
      SPHI0 = SPHI;
    }
    while (SDPHI * SDPHI > genau2 && iter < maxiter);

    /*      ellipsoidal (geodetic) latitude */
    Latitude = Math.atan(SPHI / Math.abs(CPHI));

    p.x = Longitude;
    p.y = Latitude;
    p.z = Height;
    return p;
  }, // cs_geocentric_to_geodetic()

  /** Convert_Geocentric_To_Geodetic
   * The method used here is derived from 'An Improved Algorithm for
   * Geocentric to Geodetic Coordinate Conversion', by Ralph Toms, Feb 1996
   */
  geocentric_to_geodetic_noniter: function(p) {
    var X = p.x;
    var Y = p.y;
    var Z = p.z ? p.z : 0; //Z value not always supplied
    var Longitude;
    var Latitude;
    var Height;

    var W; /* distance from Z axis */
    var W2; /* square of distance from Z axis */
    var T0; /* initial estimate of vertical component */
    var T1; /* corrected estimate of vertical component */
    var S0; /* initial estimate of horizontal component */
    var S1; /* corrected estimate of horizontal component */
    var Sin_B0; /* Math.sin(B0), B0 is estimate of Bowring aux variable */
    var Sin3_B0; /* cube of Math.sin(B0) */
    var Cos_B0; /* Math.cos(B0) */
    var Sin_p1; /* Math.sin(phi1), phi1 is estimated latitude */
    var Cos_p1; /* Math.cos(phi1) */
    var Rn; /* Earth radius at location */
    var Sum; /* numerator of Math.cos(phi1) */
    var At_Pole; /* indicates location is in polar region */

    X = parseFloat(X); // cast from string to float
    Y = parseFloat(Y);
    Z = parseFloat(Z);

    At_Pole = false;
    if (X !== 0.0) {
      Longitude = Math.atan2(Y, X);
    }
    else {
      if (Y > 0) {
        Longitude = HALF_PI;
      }
      else if (Y < 0) {
        Longitude = -HALF_PI;
      }
      else {
        At_Pole = true;
        Longitude = 0.0;
        if (Z > 0.0) { /* north pole */
          Latitude = HALF_PI;
        }
        else if (Z < 0.0) { /* south pole */
          Latitude = -HALF_PI;
        }
        else { /* center of earth */
          Latitude = HALF_PI;
          Height = -this.b;
          return;
        }
      }
    }
    W2 = X * X + Y * Y;
    W = Math.sqrt(W2);
    T0 = Z * AD_C;
    S0 = Math.sqrt(T0 * T0 + W2);
    Sin_B0 = T0 / S0;
    Cos_B0 = W / S0;
    Sin3_B0 = Sin_B0 * Sin_B0 * Sin_B0;
    T1 = Z + this.b * this.ep2 * Sin3_B0;
    Sum = W - this.a * this.es * Cos_B0 * Cos_B0 * Cos_B0;
    S1 = Math.sqrt(T1 * T1 + Sum * Sum);
    Sin_p1 = T1 / S1;
    Cos_p1 = Sum / S1;
    Rn = this.a / Math.sqrt(1.0 - this.es * Sin_p1 * Sin_p1);
    if (Cos_p1 >= COS_67P5) {
      Height = W / Cos_p1 - Rn;
    }
    else if (Cos_p1 <= -COS_67P5) {
      Height = W / -Cos_p1 - Rn;
    }
    else {
      Height = Z / Sin_p1 + Rn * (this.es - 1.0);
    }
    if (At_Pole === false) {
      Latitude = Math.atan(Sin_p1 / Cos_p1);
    }

    p.x = Longitude;
    p.y = Latitude;
    p.z = Height;
    return p;
  }, // geocentric_to_geodetic_noniter()

  /****************************************************************/
  // pj_geocentic_to_wgs84( p )
  //  p = point to transform in geocentric coordinates (x,y,z)
  geocentric_to_wgs84: function(p) {

    if (this.datum_type === PJD_3PARAM) {
      // if( x[io] === HUGE_VAL )
      //    continue;
      p.x += this.datum_params[0];
      p.y += this.datum_params[1];
      p.z += this.datum_params[2];

    }
    else if (this.datum_type === PJD_7PARAM) {
      var Dx_BF = this.datum_params[0];
      var Dy_BF = this.datum_params[1];
      var Dz_BF = this.datum_params[2];
      var Rx_BF = this.datum_params[3];
      var Ry_BF = this.datum_params[4];
      var Rz_BF = this.datum_params[5];
      var M_BF = this.datum_params[6];
      // if( x[io] === HUGE_VAL )
      //    continue;
      var x_out = M_BF * (p.x - Rz_BF * p.y + Ry_BF * p.z) + Dx_BF;
      var y_out = M_BF * (Rz_BF * p.x + p.y - Rx_BF * p.z) + Dy_BF;
      var z_out = M_BF * (-Ry_BF * p.x + Rx_BF * p.y + p.z) + Dz_BF;
      p.x = x_out;
      p.y = y_out;
      p.z = z_out;
    }
  }, // cs_geocentric_to_wgs84

  /****************************************************************/
  // pj_geocentic_from_wgs84()
  //  coordinate system definition,
  //  point to transform in geocentric coordinates (x,y,z)
  geocentric_from_wgs84: function(p) {

    if (this.datum_type === PJD_3PARAM) {
      //if( x[io] === HUGE_VAL )
      //    continue;
      p.x -= this.datum_params[0];
      p.y -= this.datum_params[1];
      p.z -= this.datum_params[2];

    }
    else if (this.datum_type === PJD_7PARAM) {
      var Dx_BF = this.datum_params[0];
      var Dy_BF = this.datum_params[1];
      var Dz_BF = this.datum_params[2];
      var Rx_BF = this.datum_params[3];
      var Ry_BF = this.datum_params[4];
      var Rz_BF = this.datum_params[5];
      var M_BF = this.datum_params[6];
      var x_tmp = (p.x - Dx_BF) / M_BF;
      var y_tmp = (p.y - Dy_BF) / M_BF;
      var z_tmp = (p.z - Dz_BF) / M_BF;
      //if( x[io] === HUGE_VAL )
      //    continue;

      p.x = x_tmp + Rz_BF * y_tmp - Ry_BF * z_tmp;
      p.y = -Rz_BF * x_tmp + y_tmp + Rx_BF * z_tmp;
      p.z = Ry_BF * x_tmp - Rx_BF * y_tmp + z_tmp;
    } //cs_geocentric_from_wgs84()
  }
};

/** point object, nothing fancy, just allows values to be
    passed back and forth by reference rather than by value.
    Other point classes may be used as long as they have
    x and y properties, which will get modified in the transform method.
*/
module.exports = datum;

},{}],61:[function(require,module,exports){
var PJD_3PARAM = 1;
var PJD_7PARAM = 2;
var PJD_GRIDSHIFT = 3;
var PJD_NODATUM = 5; // WGS84 or equivalent
var SRS_WGS84_SEMIMAJOR = 6378137; // only used in grid shift transforms
var SRS_WGS84_ESQUARED = 0.006694379990141316; //DGR: 2012-07-29
module.exports = function(source, dest, point) {
  var wp, i, l;

  function checkParams(fallback) {
    return (fallback === PJD_3PARAM || fallback === PJD_7PARAM);
  }
  // Short cut if the datums are identical.
  if (source.compare_datums(dest)) {
    return point; // in this case, zero is sucess,
    // whereas cs_compare_datums returns 1 to indicate TRUE
    // confusing, should fix this
  }

  // Explicitly skip datum transform by setting 'datum=none' as parameter for either source or dest
  if (source.datum_type === PJD_NODATUM || dest.datum_type === PJD_NODATUM) {
    return point;
  }

  //DGR: 2012-07-29 : add nadgrids support (begin)
  var src_a = source.a;
  var src_es = source.es;

  var dst_a = dest.a;
  var dst_es = dest.es;

  var fallback = source.datum_type;
  // If this datum requires grid shifts, then apply it to geodetic coordinates.
  if (fallback === PJD_GRIDSHIFT) {
    if (this.apply_gridshift(source, 0, point) === 0) {
      source.a = SRS_WGS84_SEMIMAJOR;
      source.es = SRS_WGS84_ESQUARED;
    }
    else {
      // try 3 or 7 params transformation or nothing ?
      if (!source.datum_params) {
        source.a = src_a;
        source.es = source.es;
        return point;
      }
      wp = 1;
      for (i = 0, l = source.datum_params.length; i < l; i++) {
        wp *= source.datum_params[i];
      }
      if (wp === 0) {
        source.a = src_a;
        source.es = source.es;
        return point;
      }
      if (source.datum_params.length > 3) {
        fallback = PJD_7PARAM;
      }
      else {
        fallback = PJD_3PARAM;
      }
    }
  }
  if (dest.datum_type === PJD_GRIDSHIFT) {
    dest.a = SRS_WGS84_SEMIMAJOR;
    dest.es = SRS_WGS84_ESQUARED;
  }
  // Do we need to go through geocentric coordinates?
  if (source.es !== dest.es || source.a !== dest.a || checkParams(fallback) || checkParams(dest.datum_type)) {
    //DGR: 2012-07-29 : add nadgrids support (end)
    // Convert to geocentric coordinates.
    source.geodetic_to_geocentric(point);
    // CHECK_RETURN;
    // Convert between datums
    if (checkParams(source.datum_type)) {
      source.geocentric_to_wgs84(point);
      // CHECK_RETURN;
    }
    if (checkParams(dest.datum_type)) {
      dest.geocentric_from_wgs84(point);
      // CHECK_RETURN;
    }
    // Convert back to geodetic coordinates
    dest.geocentric_to_geodetic(point);
    // CHECK_RETURN;
  }
  // Apply grid shift to destination if required
  if (dest.datum_type === PJD_GRIDSHIFT) {
    this.apply_gridshift(dest, 1, point);
    // CHECK_RETURN;
  }

  source.a = src_a;
  source.es = src_es;
  dest.a = dst_a;
  dest.es = dst_es;

  return point;
};


},{}],62:[function(require,module,exports){
var globals = require('./global');
var parseProj = require('./projString');
var wkt = require('./wkt');

function defs(name) {
  /*global console*/
  var that = this;
  if (arguments.length === 2) {
    var def = arguments[1];
    if (typeof def === 'string') {
      if (def.charAt(0) === '+') {
        defs[name] = parseProj(arguments[1]);
      }
      else {
        defs[name] = wkt(arguments[1]);
      }
    } else {
      defs[name] = def;
    }
  }
  else if (arguments.length === 1) {
    if (Array.isArray(name)) {
      return name.map(function(v) {
        if (Array.isArray(v)) {
          defs.apply(that, v);
        }
        else {
          defs(v);
        }
      });
    }
    else if (typeof name === 'string') {
      if (name in defs) {
        return defs[name];
      }
    }
    else if ('EPSG' in name) {
      defs['EPSG:' + name.EPSG] = name;
    }
    else if ('ESRI' in name) {
      defs['ESRI:' + name.ESRI] = name;
    }
    else if ('IAU2000' in name) {
      defs['IAU2000:' + name.IAU2000] = name;
    }
    else {
      console.log(name);
    }
    return;
  }


}
globals(defs);
module.exports = defs;

},{"./global":65,"./projString":69,"./wkt":97}],63:[function(require,module,exports){
var Datum = require('./constants/Datum');
var Ellipsoid = require('./constants/Ellipsoid');
var extend = require('./extend');
var datum = require('./datum');
var EPSLN = 1.0e-10;
// ellipoid pj_set_ell.c
var SIXTH = 0.1666666666666666667;
/* 1/6 */
var RA4 = 0.04722222222222222222;
/* 17/360 */
var RA6 = 0.02215608465608465608;
module.exports = function(json) {
  // DGR 2011-03-20 : nagrids -> nadgrids
  if (json.datumCode && json.datumCode !== 'none') {
    var datumDef = Datum[json.datumCode];
    if (datumDef) {
      json.datum_params = datumDef.towgs84 ? datumDef.towgs84.split(',') : null;
      json.ellps = datumDef.ellipse;
      json.datumName = datumDef.datumName ? datumDef.datumName : json.datumCode;
    }
  }
  if (!json.a) { // do we have an ellipsoid?
    var ellipse = Ellipsoid[json.ellps] ? Ellipsoid[json.ellps] : Ellipsoid.WGS84;
    extend(json, ellipse);
  }
  if (json.rf && !json.b) {
    json.b = (1.0 - 1.0 / json.rf) * json.a;
  }
  if (json.rf === 0 || Math.abs(json.a - json.b) < EPSLN) {
    json.sphere = true;
    json.b = json.a;
  }
  json.a2 = json.a * json.a; // used in geocentric
  json.b2 = json.b * json.b; // used in geocentric
  json.es = (json.a2 - json.b2) / json.a2; // e ^ 2
  json.e = Math.sqrt(json.es); // eccentricity
  if (json.R_A) {
    json.a *= 1 - json.es * (SIXTH + json.es * (RA4 + json.es * RA6));
    json.a2 = json.a * json.a;
    json.b2 = json.b * json.b;
    json.es = 0;
  }
  json.ep2 = (json.a2 - json.b2) / json.b2; // used in geocentric
  if (!json.k0) {
    json.k0 = 1.0; //default value
  }
  //DGR 2010-11-12: axis
  if (!json.axis) {
    json.axis = "enu";
  }

  if (!json.datum) {
    json.datum = datum(json);
  }
  return json;
};

},{"./constants/Datum":55,"./constants/Ellipsoid":56,"./datum":60,"./extend":64}],64:[function(require,module,exports){
module.exports = function(destination, source) {
  destination = destination || {};
  var value, property;
  if (!source) {
    return destination;
  }
  for (property in source) {
    value = source[property];
    if (value !== undefined) {
      destination[property] = value;
    }
  }
  return destination;
};

},{}],65:[function(require,module,exports){
module.exports = function(defs) {
  defs('EPSG:4326', "+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees");
  defs('EPSG:4269', "+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees");
  defs('EPSG:3857', "+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");

  defs.WGS84 = defs['EPSG:4326'];
  defs['EPSG:3785'] = defs['EPSG:3857']; // maintain backward compat, official code is 3857
  defs.GOOGLE = defs['EPSG:3857'];
  defs['EPSG:900913'] = defs['EPSG:3857'];
  defs['EPSG:102113'] = defs['EPSG:3857'];
};

},{}],66:[function(require,module,exports){
var projs = [
  require('./projections/tmerc'),
  require('./projections/utm'),
  require('./projections/sterea'),
  require('./projections/stere'),
  require('./projections/somerc'),
  require('./projections/omerc'),
  require('./projections/lcc'),
  require('./projections/krovak'),
  require('./projections/cass'),
  require('./projections/laea'),
  require('./projections/aea'),
  require('./projections/gnom'),
  require('./projections/cea'),
  require('./projections/eqc'),
  require('./projections/poly'),
  require('./projections/nzmg'),
  require('./projections/mill'),
  require('./projections/sinu'),
  require('./projections/moll'),
  require('./projections/eqdc'),
  require('./projections/vandg'),
  require('./projections/aeqd')
];
module.exports = function(proj4){
  projs.forEach(function(proj){
    proj4.Proj.projections.add(proj);
  });
};
},{"./projections/aea":71,"./projections/aeqd":72,"./projections/cass":73,"./projections/cea":74,"./projections/eqc":75,"./projections/eqdc":76,"./projections/gnom":78,"./projections/krovak":79,"./projections/laea":80,"./projections/lcc":81,"./projections/mill":84,"./projections/moll":85,"./projections/nzmg":86,"./projections/omerc":87,"./projections/poly":88,"./projections/sinu":89,"./projections/somerc":90,"./projections/stere":91,"./projections/sterea":92,"./projections/tmerc":93,"./projections/utm":94,"./projections/vandg":95}],67:[function(require,module,exports){
var proj4 = require('./core');
proj4.defaultDatum = 'WGS84'; //default datum
proj4.Proj = require('./Proj');
proj4.WGS84 = new proj4.Proj('WGS84');
proj4.Point = require('./Point');
proj4.toPoint = require("./common/toPoint");
proj4.defs = require('./defs');
proj4.transform = require('./transform');
proj4.mgrs = require('mgrs');
proj4.version = require('../package.json').version;
require('./includedProjections')(proj4);
module.exports = proj4;
},{"../package.json":98,"./Point":31,"./Proj":32,"./common/toPoint":53,"./core":59,"./defs":62,"./includedProjections":66,"./transform":96,"mgrs":29}],68:[function(require,module,exports){
var defs = require('./defs');
var wkt = require('./wkt');
var projStr = require('./projString');
function testObj(code){
  return typeof code === 'string';
}
function testDef(code){
  return code in defs;
}
function testWKT(code){
  var codeWords = ['GEOGCS','GEOCCS','PROJCS','LOCAL_CS'];
  return codeWords.reduce(function(a,b){
    return a+1+code.indexOf(b);
  },0);
}
function testProj(code){
  return code[0] === '+';
}
function parse(code){
  if (testObj(code)) {
    //check to see if this is a WKT string
    if (testDef(code)) {
      return defs[code];
    }
    else if (testWKT(code)) {
      return wkt(code);
    }
    else if (testProj(code)) {
      return projStr(code);
    }
  }else{
    return code;
  }
}

module.exports = parse;
},{"./defs":62,"./projString":69,"./wkt":97}],69:[function(require,module,exports){
var D2R = 0.01745329251994329577;
var PrimeMeridian = require('./constants/PrimeMeridian');
var units = require('./constants/units');

module.exports = function(defData) {
  var self = {};
  var paramObj = {};
  defData.split("+").map(function(v) {
    return v.trim();
  }).filter(function(a) {
    return a;
  }).forEach(function(a) {
    var split = a.split("=");
    split.push(true);
    paramObj[split[0].toLowerCase()] = split[1];
  });
  var paramName, paramVal, paramOutname;
  var params = {
    proj: 'projName',
    datum: 'datumCode',
    rf: function(v) {
      self.rf = parseFloat(v);
    },
    lat_0: function(v) {
      self.lat0 = v * D2R;
    },
    lat_1: function(v) {
      self.lat1 = v * D2R;
    },
    lat_2: function(v) {
      self.lat2 = v * D2R;
    },
    lat_ts: function(v) {
      self.lat_ts = v * D2R;
    },
    lon_0: function(v) {
      self.long0 = v * D2R;
    },
    lon_1: function(v) {
      self.long1 = v * D2R;
    },
    lon_2: function(v) {
      self.long2 = v * D2R;
    },
    alpha: function(v) {
      self.alpha = parseFloat(v) * D2R;
    },
    lonc: function(v) {
      self.longc = v * D2R;
    },
    x_0: function(v) {
      self.x0 = parseFloat(v);
    },
    y_0: function(v) {
      self.y0 = parseFloat(v);
    },
    k_0: function(v) {
      self.k0 = parseFloat(v);
    },
    k: function(v) {
      self.k0 = parseFloat(v);
    },
    a: function(v) {
      self.a = parseFloat(v);
    },
    b: function(v) {
      self.b = parseFloat(v);
    },
    r_a: function() {
      self.R_A = true;
    },
    zone: function(v) {
      self.zone = parseInt(v, 10);
    },
    south: function() {
      self.utmSouth = true;
    },
    towgs84: function(v) {
      self.datum_params = v.split(",").map(function(a) {
        return parseFloat(a);
      });
    },
    to_meter: function(v) {
      self.to_meter = parseFloat(v);
    },
    units: function(v) {
      self.units = v;
      if (units[v]) {
        self.to_meter = units[v].to_meter;
      }
    },
    from_greenwich: function(v) {
      self.from_greenwich = v * D2R;
    },
    pm: function(v) {
      self.from_greenwich = (PrimeMeridian[v] ? PrimeMeridian[v] : parseFloat(v)) * D2R;
    },
    nadgrids: function(v) {
      if (v === '@null') {
        self.datumCode = 'none';
      }
      else {
        self.nadgrids = v;
      }
    },
    axis: function(v) {
      var legalAxis = "ewnsud";
      if (v.length === 3 && legalAxis.indexOf(v.substr(0, 1)) !== -1 && legalAxis.indexOf(v.substr(1, 1)) !== -1 && legalAxis.indexOf(v.substr(2, 1)) !== -1) {
        self.axis = v;
      }
    }
  };
  for (paramName in paramObj) {
    paramVal = paramObj[paramName];
    if (paramName in params) {
      paramOutname = params[paramName];
      if (typeof paramOutname === 'function') {
        paramOutname(paramVal);
      }
      else {
        self[paramOutname] = paramVal;
      }
    }
    else {
      self[paramName] = paramVal;
    }
  }
  if(typeof self.datumCode === 'string' && self.datumCode !== "WGS84"){
    self.datumCode = self.datumCode.toLowerCase();
  }
  return self;
};

},{"./constants/PrimeMeridian":57,"./constants/units":58}],70:[function(require,module,exports){
var projs = [
  require('./projections/merc'),
  require('./projections/longlat')
];
var names = {};
var projStore = [];

function add(proj, i) {
  var len = projStore.length;
  if (!proj.names) {
    console.log(i);
    return true;
  }
  projStore[len] = proj;
  proj.names.forEach(function(n) {
    names[n.toLowerCase()] = len;
  });
  return this;
}

exports.add = add;

exports.get = function(name) {
  if (!name) {
    return false;
  }
  var n = name.toLowerCase();
  if (typeof names[n] !== 'undefined' && projStore[names[n]]) {
    return projStore[names[n]];
  }
};
exports.start = function() {
  projs.forEach(add);
};

},{"./projections/longlat":82,"./projections/merc":83}],71:[function(require,module,exports){
var EPSLN = 1.0e-10;
var msfnz = require('../common/msfnz');
var qsfnz = require('../common/qsfnz');
var adjust_lon = require('../common/adjust_lon');
var asinz = require('../common/asinz');
exports.init = function() {

  if (Math.abs(this.lat1 + this.lat2) < EPSLN) {
    return;
  }
  this.temp = this.b / this.a;
  this.es = 1 - Math.pow(this.temp, 2);
  this.e3 = Math.sqrt(this.es);

  this.sin_po = Math.sin(this.lat1);
  this.cos_po = Math.cos(this.lat1);
  this.t1 = this.sin_po;
  this.con = this.sin_po;
  this.ms1 = msfnz(this.e3, this.sin_po, this.cos_po);
  this.qs1 = qsfnz(this.e3, this.sin_po, this.cos_po);

  this.sin_po = Math.sin(this.lat2);
  this.cos_po = Math.cos(this.lat2);
  this.t2 = this.sin_po;
  this.ms2 = msfnz(this.e3, this.sin_po, this.cos_po);
  this.qs2 = qsfnz(this.e3, this.sin_po, this.cos_po);

  this.sin_po = Math.sin(this.lat0);
  this.cos_po = Math.cos(this.lat0);
  this.t3 = this.sin_po;
  this.qs0 = qsfnz(this.e3, this.sin_po, this.cos_po);

  if (Math.abs(this.lat1 - this.lat2) > EPSLN) {
    this.ns0 = (this.ms1 * this.ms1 - this.ms2 * this.ms2) / (this.qs2 - this.qs1);
  }
  else {
    this.ns0 = this.con;
  }
  this.c = this.ms1 * this.ms1 + this.ns0 * this.qs1;
  this.rh = this.a * Math.sqrt(this.c - this.ns0 * this.qs0) / this.ns0;
};

/* Albers Conical Equal Area forward equations--mapping lat,long to x,y
  -------------------------------------------------------------------*/
exports.forward = function(p) {

  var lon = p.x;
  var lat = p.y;

  this.sin_phi = Math.sin(lat);
  this.cos_phi = Math.cos(lat);

  var qs = qsfnz(this.e3, this.sin_phi, this.cos_phi);
  var rh1 = this.a * Math.sqrt(this.c - this.ns0 * qs) / this.ns0;
  var theta = this.ns0 * adjust_lon(lon - this.long0);
  var x = rh1 * Math.sin(theta) + this.x0;
  var y = this.rh - rh1 * Math.cos(theta) + this.y0;

  p.x = x;
  p.y = y;
  return p;
};


exports.inverse = function(p) {
  var rh1, qs, con, theta, lon, lat;

  p.x -= this.x0;
  p.y = this.rh - p.y + this.y0;
  if (this.ns0 >= 0) {
    rh1 = Math.sqrt(p.x * p.x + p.y * p.y);
    con = 1;
  }
  else {
    rh1 = -Math.sqrt(p.x * p.x + p.y * p.y);
    con = -1;
  }
  theta = 0;
  if (rh1 !== 0) {
    theta = Math.atan2(con * p.x, con * p.y);
  }
  con = rh1 * this.ns0 / this.a;
  if (this.sphere) {
    lat = Math.asin((this.c - con * con) / (2 * this.ns0));
  }
  else {
    qs = (this.c - con * con) / this.ns0;
    lat = this.phi1z(this.e3, qs);
  }

  lon = adjust_lon(theta / this.ns0 + this.long0);
  p.x = lon;
  p.y = lat;
  return p;
};

/* Function to compute phi1, the latitude for the inverse of the
   Albers Conical Equal-Area projection.
-------------------------------------------*/
exports.phi1z = function(eccent, qs) {
  var sinphi, cosphi, con, com, dphi;
  var phi = asinz(0.5 * qs);
  if (eccent < EPSLN) {
    return phi;
  }

  var eccnts = eccent * eccent;
  for (var i = 1; i <= 25; i++) {
    sinphi = Math.sin(phi);
    cosphi = Math.cos(phi);
    con = eccent * sinphi;
    com = 1 - con * con;
    dphi = 0.5 * com * com / cosphi * (qs / (1 - eccnts) - sinphi / com + 0.5 / eccent * Math.log((1 - con) / (1 + con)));
    phi = phi + dphi;
    if (Math.abs(dphi) <= 1e-7) {
      return phi;
    }
  }
  return null;
};
exports.names = ["Albers_Conic_Equal_Area", "Albers", "aea"];

},{"../common/adjust_lon":35,"../common/asinz":36,"../common/msfnz":45,"../common/qsfnz":50}],72:[function(require,module,exports){
var adjust_lon = require('../common/adjust_lon');
var HALF_PI = Math.PI/2;
var EPSLN = 1.0e-10;
var mlfn = require('../common/mlfn');
var e0fn = require('../common/e0fn');
var e1fn = require('../common/e1fn');
var e2fn = require('../common/e2fn');
var e3fn = require('../common/e3fn');
var gN = require('../common/gN');
var asinz = require('../common/asinz');
var imlfn = require('../common/imlfn');
exports.init = function() {
  this.sin_p12 = Math.sin(this.lat0);
  this.cos_p12 = Math.cos(this.lat0);
};

exports.forward = function(p) {
  var lon = p.x;
  var lat = p.y;
  var sinphi = Math.sin(p.y);
  var cosphi = Math.cos(p.y);
  var dlon = adjust_lon(lon - this.long0);
  var e0, e1, e2, e3, Mlp, Ml, tanphi, Nl1, Nl, psi, Az, G, H, GH, Hs, c, kp, cos_c, s, s2, s3, s4, s5;
  if (this.sphere) {
    if (Math.abs(this.sin_p12 - 1) <= EPSLN) {
      //North Pole case
      p.x = this.x0 + this.a * (HALF_PI - lat) * Math.sin(dlon);
      p.y = this.y0 - this.a * (HALF_PI - lat) * Math.cos(dlon);
      return p;
    }
    else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {
      //South Pole case
      p.x = this.x0 + this.a * (HALF_PI + lat) * Math.sin(dlon);
      p.y = this.y0 + this.a * (HALF_PI + lat) * Math.cos(dlon);
      return p;
    }
    else {
      //default case
      cos_c = this.sin_p12 * sinphi + this.cos_p12 * cosphi * Math.cos(dlon);
      c = Math.acos(cos_c);
      kp = c / Math.sin(c);
      p.x = this.x0 + this.a * kp * cosphi * Math.sin(dlon);
      p.y = this.y0 + this.a * kp * (this.cos_p12 * sinphi - this.sin_p12 * cosphi * Math.cos(dlon));
      return p;
    }
  }
  else {
    e0 = e0fn(this.es);
    e1 = e1fn(this.es);
    e2 = e2fn(this.es);
    e3 = e3fn(this.es);
    if (Math.abs(this.sin_p12 - 1) <= EPSLN) {
      //North Pole case
      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);
      Ml = this.a * mlfn(e0, e1, e2, e3, lat);
      p.x = this.x0 + (Mlp - Ml) * Math.sin(dlon);
      p.y = this.y0 - (Mlp - Ml) * Math.cos(dlon);
      return p;
    }
    else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {
      //South Pole case
      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);
      Ml = this.a * mlfn(e0, e1, e2, e3, lat);
      p.x = this.x0 + (Mlp + Ml) * Math.sin(dlon);
      p.y = this.y0 + (Mlp + Ml) * Math.cos(dlon);
      return p;
    }
    else {
      //Default case
      tanphi = sinphi / cosphi;
      Nl1 = gN(this.a, this.e, this.sin_p12);
      Nl = gN(this.a, this.e, sinphi);
      psi = Math.atan((1 - this.es) * tanphi + this.es * Nl1 * this.sin_p12 / (Nl * cosphi));
      Az = Math.atan2(Math.sin(dlon), this.cos_p12 * Math.tan(psi) - this.sin_p12 * Math.cos(dlon));
      if (Az === 0) {
        s = Math.asin(this.cos_p12 * Math.sin(psi) - this.sin_p12 * Math.cos(psi));
      }
      else if (Math.abs(Math.abs(Az) - Math.PI) <= EPSLN) {
        s = -Math.asin(this.cos_p12 * Math.sin(psi) - this.sin_p12 * Math.cos(psi));
      }
      else {
        s = Math.asin(Math.sin(dlon) * Math.cos(psi) / Math.sin(Az));
      }
      G = this.e * this.sin_p12 / Math.sqrt(1 - this.es);
      H = this.e * this.cos_p12 * Math.cos(Az) / Math.sqrt(1 - this.es);
      GH = G * H;
      Hs = H * H;
      s2 = s * s;
      s3 = s2 * s;
      s4 = s3 * s;
      s5 = s4 * s;
      c = Nl1 * s * (1 - s2 * Hs * (1 - Hs) / 6 + s3 / 8 * GH * (1 - 2 * Hs) + s4 / 120 * (Hs * (4 - 7 * Hs) - 3 * G * G * (1 - 7 * Hs)) - s5 / 48 * GH);
      p.x = this.x0 + c * Math.sin(Az);
      p.y = this.y0 + c * Math.cos(Az);
      return p;
    }
  }


};

exports.inverse = function(p) {
  p.x -= this.x0;
  p.y -= this.y0;
  var rh, z, sinz, cosz, lon, lat, con, e0, e1, e2, e3, Mlp, M, N1, psi, Az, cosAz, tmp, A, B, D, Ee, F;
  if (this.sphere) {
    rh = Math.sqrt(p.x * p.x + p.y * p.y);
    if (rh > (2 * HALF_PI * this.a)) {
      return;
    }
    z = rh / this.a;

    sinz = Math.sin(z);
    cosz = Math.cos(z);

    lon = this.long0;
    if (Math.abs(rh) <= EPSLN) {
      lat = this.lat0;
    }
    else {
      lat = asinz(cosz * this.sin_p12 + (p.y * sinz * this.cos_p12) / rh);
      con = Math.abs(this.lat0) - HALF_PI;
      if (Math.abs(con) <= EPSLN) {
        if (this.lat0 >= 0) {
          lon = adjust_lon(this.long0 + Math.atan2(p.x, - p.y));
        }
        else {
          lon = adjust_lon(this.long0 - Math.atan2(-p.x, p.y));
        }
      }
      else {
        /*con = cosz - this.sin_p12 * Math.sin(lat);
        if ((Math.abs(con) < EPSLN) && (Math.abs(p.x) < EPSLN)) {
          //no-op, just keep the lon value as is
        } else {
          var temp = Math.atan2((p.x * sinz * this.cos_p12), (con * rh));
          lon = adjust_lon(this.long0 + Math.atan2((p.x * sinz * this.cos_p12), (con * rh)));
        }*/
        lon = adjust_lon(this.long0 + Math.atan2(p.x * sinz, rh * this.cos_p12 * cosz - p.y * this.sin_p12 * sinz));
      }
    }

    p.x = lon;
    p.y = lat;
    return p;
  }
  else {
    e0 = e0fn(this.es);
    e1 = e1fn(this.es);
    e2 = e2fn(this.es);
    e3 = e3fn(this.es);
    if (Math.abs(this.sin_p12 - 1) <= EPSLN) {
      //North pole case
      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);
      rh = Math.sqrt(p.x * p.x + p.y * p.y);
      M = Mlp - rh;
      lat = imlfn(M / this.a, e0, e1, e2, e3);
      lon = adjust_lon(this.long0 + Math.atan2(p.x, - 1 * p.y));
      p.x = lon;
      p.y = lat;
      return p;
    }
    else if (Math.abs(this.sin_p12 + 1) <= EPSLN) {
      //South pole case
      Mlp = this.a * mlfn(e0, e1, e2, e3, HALF_PI);
      rh = Math.sqrt(p.x * p.x + p.y * p.y);
      M = rh - Mlp;

      lat = imlfn(M / this.a, e0, e1, e2, e3);
      lon = adjust_lon(this.long0 + Math.atan2(p.x, p.y));
      p.x = lon;
      p.y = lat;
      return p;
    }
    else {
      //default case
      rh = Math.sqrt(p.x * p.x + p.y * p.y);
      Az = Math.atan2(p.x, p.y);
      N1 = gN(this.a, this.e, this.sin_p12);
      cosAz = Math.cos(Az);
      tmp = this.e * this.cos_p12 * cosAz;
      A = -tmp * tmp / (1 - this.es);
      B = 3 * this.es * (1 - A) * this.sin_p12 * this.cos_p12 * cosAz / (1 - this.es);
      D = rh / N1;
      Ee = D - A * (1 + A) * Math.pow(D, 3) / 6 - B * (1 + 3 * A) * Math.pow(D, 4) / 24;
      F = 1 - A * Ee * Ee / 2 - D * Ee * Ee * Ee / 6;
      psi = Math.asin(this.sin_p12 * Math.cos(Ee) + this.cos_p12 * Math.sin(Ee) * cosAz);
      lon = adjust_lon(this.long0 + Math.asin(Math.sin(Az) * Math.sin(Ee) / Math.cos(psi)));
      lat = Math.atan((1 - this.es * F * this.sin_p12 / Math.sin(psi)) * Math.tan(psi) / (1 - this.es));
      p.x = lon;
      p.y = lat;
      return p;
    }
  }

};
exports.names = ["Azimuthal_Equidistant", "aeqd"];

},{"../common/adjust_lon":35,"../common/asinz":36,"../common/e0fn":37,"../common/e1fn":38,"../common/e2fn":39,"../common/e3fn":40,"../common/gN":41,"../common/imlfn":42,"../common/mlfn":44}],73:[function(require,module,exports){
var mlfn = require('../common/mlfn');
var e0fn = require('../common/e0fn');
var e1fn = require('../common/e1fn');
var e2fn = require('../common/e2fn');
var e3fn = require('../common/e3fn');
var gN = require('../common/gN');
var adjust_lon = require('../common/adjust_lon');
var adjust_lat = require('../common/adjust_lat');
var imlfn = require('../common/imlfn');
var HALF_PI = Math.PI/2;
var EPSLN = 1.0e-10;
exports.init = function() {
  if (!this.sphere) {
    this.e0 = e0fn(this.es);
    this.e1 = e1fn(this.es);
    this.e2 = e2fn(this.es);
    this.e3 = e3fn(this.es);
    this.ml0 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);
  }
};



/* Cassini forward equations--mapping lat,long to x,y
  -----------------------------------------------------------------------*/
exports.forward = function(p) {

  /* Forward equations
      -----------------*/
  var x, y;
  var lam = p.x;
  var phi = p.y;
  lam = adjust_lon(lam - this.long0);

  if (this.sphere) {
    x = this.a * Math.asin(Math.cos(phi) * Math.sin(lam));
    y = this.a * (Math.atan2(Math.tan(phi), Math.cos(lam)) - this.lat0);
  }
  else {
    //ellipsoid
    var sinphi = Math.sin(phi);
    var cosphi = Math.cos(phi);
    var nl = gN(this.a, this.e, sinphi);
    var tl = Math.tan(phi) * Math.tan(phi);
    var al = lam * Math.cos(phi);
    var asq = al * al;
    var cl = this.es * cosphi * cosphi / (1 - this.es);
    var ml = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, phi);

    x = nl * al * (1 - asq * tl * (1 / 6 - (8 - tl + 8 * cl) * asq / 120));
    y = ml - this.ml0 + nl * sinphi / cosphi * asq * (0.5 + (5 - tl + 6 * cl) * asq / 24);


  }

  p.x = x + this.x0;
  p.y = y + this.y0;
  return p;
};

/* Inverse equations
  -----------------*/
exports.inverse = function(p) {
  p.x -= this.x0;
  p.y -= this.y0;
  var x = p.x / this.a;
  var y = p.y / this.a;
  var phi, lam;

  if (this.sphere) {
    var dd = y + this.lat0;
    phi = Math.asin(Math.sin(dd) * Math.cos(x));
    lam = Math.atan2(Math.tan(x), Math.cos(dd));
  }
  else {
    /* ellipsoid */
    var ml1 = this.ml0 / this.a + y;
    var phi1 = imlfn(ml1, this.e0, this.e1, this.e2, this.e3);
    if (Math.abs(Math.abs(phi1) - HALF_PI) <= EPSLN) {
      p.x = this.long0;
      p.y = HALF_PI;
      if (y < 0) {
        p.y *= -1;
      }
      return p;
    }
    var nl1 = gN(this.a, this.e, Math.sin(phi1));

    var rl1 = nl1 * nl1 * nl1 / this.a / this.a * (1 - this.es);
    var tl1 = Math.pow(Math.tan(phi1), 2);
    var dl = x * this.a / nl1;
    var dsq = dl * dl;
    phi = phi1 - nl1 * Math.tan(phi1) / rl1 * dl * dl * (0.5 - (1 + 3 * tl1) * dl * dl / 24);
    lam = dl * (1 - dsq * (tl1 / 3 + (1 + 3 * tl1) * tl1 * dsq / 15)) / Math.cos(phi1);

  }

  p.x = adjust_lon(lam + this.long0);
  p.y = adjust_lat(phi);
  return p;

};
exports.names = ["Cassini", "Cassini_Soldner", "cass"];
},{"../common/adjust_lat":34,"../common/adjust_lon":35,"../common/e0fn":37,"../common/e1fn":38,"../common/e2fn":39,"../common/e3fn":40,"../common/gN":41,"../common/imlfn":42,"../common/mlfn":44}],74:[function(require,module,exports){
var adjust_lon = require('../common/adjust_lon');
var qsfnz = require('../common/qsfnz');
var msfnz = require('../common/msfnz');
var iqsfnz = require('../common/iqsfnz');
/*
  reference:  
    "Cartographic Projection Procedures for the UNIX Environment-
    A User's Manual" by Gerald I. Evenden,
    USGS Open File Report 90-284and Release 4 Interim Reports (2003)
*/
exports.init = function() {
  //no-op
  if (!this.sphere) {
    this.k0 = msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts));
  }
};


/* Cylindrical Equal Area forward equations--mapping lat,long to x,y
    ------------------------------------------------------------*/
exports.forward = function(p) {
  var lon = p.x;
  var lat = p.y;
  var x, y;
  /* Forward equations
      -----------------*/
  var dlon = adjust_lon(lon - this.long0);
  if (this.sphere) {
    x = this.x0 + this.a * dlon * Math.cos(this.lat_ts);
    y = this.y0 + this.a * Math.sin(lat) / Math.cos(this.lat_ts);
  }
  else {
    var qs = qsfnz(this.e, Math.sin(lat));
    x = this.x0 + this.a * this.k0 * dlon;
    y = this.y0 + this.a * qs * 0.5 / this.k0;
  }

  p.x = x;
  p.y = y;
  return p;
};

/* Cylindrical Equal Area inverse equations--mapping x,y to lat/long
    ------------------------------------------------------------*/
exports.inverse = function(p) {
  p.x -= this.x0;
  p.y -= this.y0;
  var lon, lat;

  if (this.sphere) {
    lon = adjust_lon(this.long0 + (p.x / this.a) / Math.cos(this.lat_ts));
    lat = Math.asin((p.y / this.a) * Math.cos(this.lat_ts));
  }
  else {
    lat = iqsfnz(this.e, 2 * p.y * this.k0 / this.a);
    lon = adjust_lon(this.long0 + p.x / (this.a * this.k0));
  }

  p.x = lon;
  p.y = lat;
  return p;
};
exports.names = ["cea"];

},{"../common/adjust_lon":35,"../common/iqsfnz":43,"../common/msfnz":45,"../common/qsfnz":50}],75:[function(require,module,exports){
var adjust_lon = require('../common/adjust_lon');
var adjust_lat = require('../common/adjust_lat');
exports.init = function() {

  this.x0 = this.x0 || 0;
  this.y0 = this.y0 || 0;
  this.lat0 = this.lat0 || 0;
  this.long0 = this.long0 || 0;
  this.lat_ts = this.lat_ts || 0;
  this.title = this.title || "Equidistant Cylindrical (Plate Carre)";

  this.rc = Math.cos(this.lat_ts);
};


// forward equations--mapping lat,long to x,y
// -----------------------------------------------------------------
exports.forward = function(p) {

  var lon = p.x;
  var lat = p.y;

  var dlon = adjust_lon(lon - this.long0);
  var dlat = adjust_lat(lat - this.lat0);
  p.x = this.x0 + (this.a * dlon * this.rc);
  p.y = this.y0 + (this.a * dlat);
  return p;
};

// inverse equations--mapping x,y to lat/long
// -----------------------------------------------------------------
exports.inverse = function(p) {

  var x = p.x;
  var y = p.y;

  p.x = adjust_lon(this.long0 + ((x - this.x0) / (this.a * this.rc)));
  p.y = adjust_lat(this.lat0 + ((y - this.y0) / (this.a)));
  return p;
};
exports.names = ["Equirectangular", "Equidistant_Cylindrical", "eqc"];

},{"../common/adjust_lat":34,"../common/adjust_lon":35}],76:[function(require,module,exports){
var e0fn = require('../common/e0fn');
var e1fn = require('../common/e1fn');
var e2fn = require('../common/e2fn');
var e3fn = require('../common/e3fn');
var msfnz = require('../common/msfnz');
var mlfn = require('../common/mlfn');
var adjust_lon = require('../common/adjust_lon');
var adjust_lat = require('../common/adjust_lat');
var imlfn = require('../common/imlfn');
var EPSLN = 1.0e-10;
exports.init = function() {

  /* Place parameters in static storage for common use
      -------------------------------------------------*/
  // Standard Parallels cannot be equal and on opposite sides of the equator
  if (Math.abs(this.lat1 + this.lat2) < EPSLN) {
    return;
  }
  this.lat2 = this.lat2 || this.lat1;
  this.temp = this.b / this.a;
  this.es = 1 - Math.pow(this.temp, 2);
  this.e = Math.sqrt(this.es);
  this.e0 = e0fn(this.es);
  this.e1 = e1fn(this.es);
  this.e2 = e2fn(this.es);
  this.e3 = e3fn(this.es);

  this.sinphi = Math.sin(this.lat1);
  this.cosphi = Math.cos(this.lat1);

  this.ms1 = msfnz(this.e, this.sinphi, this.cosphi);
  this.ml1 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat1);

  if (Math.abs(this.lat1 - this.lat2) < EPSLN) {
    this.ns = this.sinphi;
  }
  else {
    this.sinphi = Math.sin(this.lat2);
    this.cosphi = Math.cos(this.lat2);
    this.ms2 = msfnz(this.e, this.sinphi, this.cosphi);
    this.ml2 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat2);
    this.ns = (this.ms1 - this.ms2) / (this.ml2 - this.ml1);
  }
  this.g = this.ml1 + this.ms1 / this.ns;
  this.ml0 = mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);
  this.rh = this.a * (this.g - this.ml0);
};


/* Equidistant Conic forward equations--mapping lat,long to x,y
  -----------------------------------------------------------*/
exports.forward = function(p) {
  var lon = p.x;
  var lat = p.y;
  var rh1;

  /* Forward equations
      -----------------*/
  if (this.sphere) {
    rh1 = this.a * (this.g - lat);
  }
  else {
    var ml = mlfn(this.e0, this.e1, this.e2, this.e3, lat);
    rh1 = this.a * (this.g - ml);
  }
  var theta = this.ns * adjust_lon(lon - this.long0);
  var x = this.x0 + rh1 * Math.sin(theta);
  var y = this.y0 + this.rh - rh1 * Math.cos(theta);
  p.x = x;
  p.y = y;
  return p;
};

/* Inverse equations
  -----------------*/
exports.inverse = function(p) {
  p.x -= this.x0;
  p.y = this.rh - p.y + this.y0;
  var con, rh1, lat, lon;
  if (this.ns >= 0) {
    rh1 = Math.sqrt(p.x * p.x + p.y * p.y);
    con = 1;
  }
  else {
    rh1 = -Math.sqrt(p.x * p.x + p.y * p.y);
    con = -1;
  }
  var theta = 0;
  if (rh1 !== 0) {
    theta = Math.atan2(con * p.x, con * p.y);
  }

  if (this.sphere) {
    lon = adjust_lon(this.long0 + theta / this.ns);
    lat = adjust_lat(this.g - rh1 / this.a);
    p.x = lon;
    p.y = lat;
    return p;
  }
  else {
    var ml = this.g - rh1 / this.a;
    lat = imlfn(ml, this.e0, this.e1, this.e2, this.e3);
    lon = adjust_lon(this.long0 + theta / this.ns);
    p.x = lon;
    p.y = lat;
    return p;
  }

};
exports.names = ["Equidistant_Conic", "eqdc"];

},{"../common/adjust_lat":34,"../common/adjust_lon":35,"../common/e0fn":37,"../common/e1fn":38,"../common/e2fn":39,"../common/e3fn":40,"../common/imlfn":42,"../common/mlfn":44,"../common/msfnz":45}],77:[function(require,module,exports){
var FORTPI = Math.PI/4;
var srat = require('../common/srat');
var HALF_PI = Math.PI/2;
var MAX_ITER = 20;
exports.init = function() {
  var sphi = Math.sin(this.lat0);
  var cphi = Math.cos(this.lat0);
  cphi *= cphi;
  this.rc = Math.sqrt(1 - this.es) / (1 - this.es * sphi * sphi);
  this.C = Math.sqrt(1 + this.es * cphi * cphi / (1 - this.es));
  this.phic0 = Math.asin(sphi / this.C);
  this.ratexp = 0.5 * this.C * this.e;
  this.K = Math.tan(0.5 * this.phic0 + FORTPI) / (Math.pow(Math.tan(0.5 * this.lat0 + FORTPI), this.C) * srat(this.e * sphi, this.ratexp));
};

exports.forward = function(p) {
  var lon = p.x;
  var lat = p.y;

  p.y = 2 * Math.atan(this.K * Math.pow(Math.tan(0.5 * lat + FORTPI), this.C) * srat(this.e * Math.sin(lat), this.ratexp)) - HALF_PI;
  p.x = this.C * lon;
  return p;
};

exports.inverse = function(p) {
  var DEL_TOL = 1e-14;
  var lon = p.x / this.C;
  var lat = p.y;
  var num = Math.pow(Math.tan(0.5 * lat + FORTPI) / this.K, 1 / this.C);
  for (var i = MAX_ITER; i > 0; --i) {
    lat = 2 * Math.atan(num * srat(this.e * Math.sin(p.y), - 0.5 * this.e)) - HALF_PI;
    if (Math.abs(lat - p.y) < DEL_TOL) {
      break;
    }
    p.y = lat;
  }
  /* convergence failed */
  if (!i) {
    return null;
  }
  p.x = lon;
  p.y = lat;
  return p;
};
exports.names = ["gauss"];

},{"../common/srat":52}],78:[function(require,module,exports){
var adjust_lon = require('../common/adjust_lon');
var EPSLN = 1.0e-10;
var asinz = require('../common/asinz');

/*
  reference:
    Wolfram Mathworld "Gnomonic Projection"
    http://mathworld.wolfram.com/GnomonicProjection.html
    Accessed: 12th November 2009
  */
exports.init = function() {

  /* Place parameters in static storage for common use
      -------------------------------------------------*/
  this.sin_p14 = Math.sin(this.lat0);
  this.cos_p14 = Math.cos(this.lat0);
  // Approximation for projecting points to the horizon (infinity)
  this.infinity_dist = 1000 * this.a;
  this.rc = 1;
};


/* Gnomonic forward equations--mapping lat,long to x,y
    ---------------------------------------------------*/
exports.forward = function(p) {
  var sinphi, cosphi; /* sin and cos value        */
  var dlon; /* delta longitude value      */
  var coslon; /* cos of longitude        */
  var ksp; /* scale factor          */
  var g;
  var x, y;
  var lon = p.x;
  var lat = p.y;
  /* Forward equations
      -----------------*/
  dlon = adjust_lon(lon - this.long0);

  sinphi = Math.sin(lat);
  cosphi = Math.cos(lat);

  coslon = Math.cos(dlon);
  g = this.sin_p14 * sinphi + this.cos_p14 * cosphi * coslon;
  ksp = 1;
  if ((g > 0) || (Math.abs(g) <= EPSLN)) {
    x = this.x0 + this.a * ksp * cosphi * Math.sin(dlon) / g;
    y = this.y0 + this.a * ksp * (this.cos_p14 * sinphi - this.sin_p14 * cosphi * coslon) / g;
  }
  else {

    // Point is in the opposing hemisphere and is unprojectable
    // We still need to return a reasonable point, so we project 
    // to infinity, on a bearing 
    // equivalent to the northern hemisphere equivalent
    // This is a reasonable approximation for short shapes and lines that 
    // straddle the horizon.

    x = this.x0 + this.infinity_dist * cosphi * Math.sin(dlon);
    y = this.y0 + this.infinity_dist * (this.cos_p14 * sinphi - this.sin_p14 * cosphi * coslon);

  }
  p.x = x;
  p.y = y;
  return p;
};


exports.inverse = function(p) {
  var rh; /* Rho */
  var sinc, cosc;
  var c;
  var lon, lat;

  /* Inverse equations
      -----------------*/
  p.x = (p.x - this.x0) / this.a;
  p.y = (p.y - this.y0) / this.a;

  p.x /= this.k0;
  p.y /= this.k0;

  if ((rh = Math.sqrt(p.x * p.x + p.y * p.y))) {
    c = Math.atan2(rh, this.rc);
    sinc = Math.sin(c);
    cosc = Math.cos(c);

    lat = asinz(cosc * this.sin_p14 + (p.y * sinc * this.cos_p14) / rh);
    lon = Math.atan2(p.x * sinc, rh * this.cos_p14 * cosc - p.y * this.sin_p14 * sinc);
    lon = adjust_lon(this.long0 + lon);
  }
  else {
    lat = this.phic0;
    lon = 0;
  }

  p.x = lon;
  p.y = lat;
  return p;
};
exports.names = ["gnom"];

},{"../common/adjust_lon":35,"../common/asinz":36}],79:[function(require,module,exports){
var adjust_lon = require('../common/adjust_lon');
exports.init = function() {
  this.a = 6377397.155;
  this.es = 0.006674372230614;
  this.e = Math.sqrt(this.es);
  if (!this.lat0) {
    this.lat0 = 0.863937979737193;
  }
  if (!this.long0) {
    this.long0 = 0.7417649320975901 - 0.308341501185665;
  }
  /* if scale not set default to 0.9999 */
  if (!this.k0) {
    this.k0 = 0.9999;
  }
  this.s45 = 0.785398163397448; /* 45 */
  this.s90 = 2 * this.s45;
  this.fi0 = this.lat0;
  this.e2 = this.es;
  this.e = Math.sqrt(this.e2);
  this.alfa = Math.sqrt(1 + (this.e2 * Math.pow(Math.cos(this.fi0), 4)) / (1 - this.e2));
  this.uq = 1.04216856380474;
  this.u0 = Math.asin(Math.sin(this.fi0) / this.alfa);
  this.g = Math.pow((1 + this.e * Math.sin(this.fi0)) / (1 - this.e * Math.sin(this.fi0)), this.alfa * this.e / 2);
  this.k = Math.tan(this.u0 / 2 + this.s45) / Math.pow(Math.tan(this.fi0 / 2 + this.s45), this.alfa) * this.g;
  this.k1 = this.k0;
  this.n0 = this.a * Math.sqrt(1 - this.e2) / (1 - this.e2 * Math.pow(Math.sin(this.fi0), 2));
  this.s0 = 1.37008346281555;
  this.n = Math.sin(this.s0);
  this.ro0 = this.k1 * this.n0 / Math.tan(this.s0);
  this.ad = this.s90 - this.uq;
};

/* ellipsoid */
/* calculate xy from lat/lon */
/* Constants, identical to inverse transform function */
exports.forward = function(p) {
  var gfi, u, deltav, s, d, eps, ro;
  var lon = p.x;
  var lat = p.y;
  var delta_lon = adjust_lon(lon - this.long0);
  /* Transformation */
  gfi = Math.pow(((1 + this.e * Math.sin(lat)) / (1 - this.e * Math.sin(lat))), (this.alfa * this.e / 2));
  u = 2 * (Math.atan(this.k * Math.pow(Math.tan(lat / 2 + this.s45), this.alfa) / gfi) - this.s45);
  deltav = -delta_lon * this.alfa;
  s = Math.asin(Math.cos(this.ad) * Math.sin(u) + Math.sin(this.ad) * Math.cos(u) * Math.cos(deltav));
  d = Math.asin(Math.cos(u) * Math.sin(deltav) / Math.cos(s));
  eps = this.n * d;
  ro = this.ro0 * Math.pow(Math.tan(this.s0 / 2 + this.s45), this.n) / Math.pow(Math.tan(s / 2 + this.s45), this.n);
  p.y = ro * Math.cos(eps) / 1;
  p.x = ro * Math.sin(eps) / 1;

  if (!this.czech) {
    p.y *= -1;
    p.x *= -1;
  }
  return (p);
};

/* calculate lat/lon from xy */
exports.inverse = function(p) {
  var u, deltav, s, d, eps, ro, fi1;
  var ok;

  /* Transformation */
  /* revert y, x*/
  var tmp = p.x;
  p.x = p.y;
  p.y = tmp;
  if (!this.czech) {
    p.y *= -1;
    p.x *= -1;
  }
  ro = Math.sqrt(p.x * p.x + p.y * p.y);
  eps = Math.atan2(p.y, p.x);
  d = eps / Math.sin(this.s0);
  s = 2 * (Math.atan(Math.pow(this.ro0 / ro, 1 / this.n) * Math.tan(this.s0 / 2 + this.s45)) - this.s45);
  u = Math.asin(Math.cos(this.ad) * Math.sin(s) - Math.sin(this.ad) * Math.cos(s) * Math.cos(d));
  deltav = Math.asin(Math.cos(s) * Math.sin(d) / Math.cos(u));
  p.x = this.long0 - deltav / this.alfa;
  fi1 = u;
  ok = 0;
  var iter = 0;
  do {
    p.y = 2 * (Math.atan(Math.pow(this.k, - 1 / this.alfa) * Math.pow(Math.tan(u / 2 + this.s45), 1 / this.alfa) * Math.pow((1 + this.e * Math.sin(fi1)) / (1 - this.e * Math.sin(fi1)), this.e / 2)) - this.s45);
    if (Math.abs(fi1 - p.y) < 0.0000000001) {
      ok = 1;
    }
    fi1 = p.y;
    iter += 1;
  } while (ok === 0 && iter < 15);
  if (iter >= 15) {
    return null;
  }

  return (p);
};
exports.names = ["Krovak", "krovak"];

},{"../common/adjust_lon":35}],80:[function(require,module,exports){
var HALF_PI = Math.PI/2;
var FORTPI = Math.PI/4;
var EPSLN = 1.0e-10;
var qsfnz = require('../common/qsfnz');
var adjust_lon = require('../common/adjust_lon');
/*
  reference
    "New Equal-Area Map Projections for Noncircular Regions", John P. Snyder,
    The American Cartographer, Vol 15, No. 4, October 1988, pp. 341-355.
  */

exports.S_POLE = 1;
exports.N_POLE = 2;
exports.EQUIT = 3;
exports.OBLIQ = 4;


/* Initialize the Lambert Azimuthal Equal Area projection
  ------------------------------------------------------*/
exports.init = function() {
  var t = Math.abs(this.lat0);
  if (Math.abs(t - HALF_PI) < EPSLN) {
    this.mode = this.lat0 < 0 ? this.S_POLE : this.N_POLE;
  }
  else if (Math.abs(t) < EPSLN) {
    this.mode = this.EQUIT;
  }
  else {
    this.mode = this.OBLIQ;
  }
  if (this.es > 0) {
    var sinphi;

    this.qp = qsfnz(this.e, 1);
    this.mmf = 0.5 / (1 - this.es);
    this.apa = this.authset(this.es);
    switch (this.mode) {
    case this.N_POLE:
      this.dd = 1;
      break;
    case this.S_POLE:
      this.dd = 1;
      break;
    case this.EQUIT:
      this.rq = Math.sqrt(0.5 * this.qp);
      this.dd = 1 / this.rq;
      this.xmf = 1;
      this.ymf = 0.5 * this.qp;
      break;
    case this.OBLIQ:
      this.rq = Math.sqrt(0.5 * this.qp);
      sinphi = Math.sin(this.lat0);
      this.sinb1 = qsfnz(this.e, sinphi) / this.qp;
      this.cosb1 = Math.sqrt(1 - this.sinb1 * this.sinb1);
      this.dd = Math.cos(this.lat0) / (Math.sqrt(1 - this.es * sinphi * sinphi) * this.rq * this.cosb1);
      this.ymf = (this.xmf = this.rq) / this.dd;
      this.xmf *= this.dd;
      break;
    }
  }
  else {
    if (this.mode === this.OBLIQ) {
      this.sinph0 = Math.sin(this.lat0);
      this.cosph0 = Math.cos(this.lat0);
    }
  }
};

/* Lambert Azimuthal Equal Area forward equations--mapping lat,long to x,y
  -----------------------------------------------------------------------*/
exports.forward = function(p) {

  /* Forward equations
      -----------------*/
  var x, y, coslam, sinlam, sinphi, q, sinb, cosb, b, cosphi;
  var lam = p.x;
  var phi = p.y;

  lam = adjust_lon(lam - this.long0);

  if (this.sphere) {
    sinphi = Math.sin(phi);
    cosphi = Math.cos(phi);
    coslam = Math.cos(lam);
    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {
      y = (this.mode === this.EQUIT) ? 1 + cosphi * coslam : 1 + this.sinph0 * sinphi + this.cosph0 * cosphi * coslam;
      if (y <= EPSLN) {
        return null;
      }
      y = Math.sqrt(2 / y);
      x = y * cosphi * Math.sin(lam);
      y *= (this.mode === this.EQUIT) ? sinphi : this.cosph0 * sinphi - this.sinph0 * cosphi * coslam;
    }
    else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {
      if (this.mode === this.N_POLE) {
        coslam = -coslam;
      }
      if (Math.abs(phi + this.phi0) < EPSLN) {
        return null;
      }
      y = FORTPI - phi * 0.5;
      y = 2 * ((this.mode === this.S_POLE) ? Math.cos(y) : Math.sin(y));
      x = y * Math.sin(lam);
      y *= coslam;
    }
  }
  else {
    sinb = 0;
    cosb = 0;
    b = 0;
    coslam = Math.cos(lam);
    sinlam = Math.sin(lam);
    sinphi = Math.sin(phi);
    q = qsfnz(this.e, sinphi);
    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {
      sinb = q / this.qp;
      cosb = Math.sqrt(1 - sinb * sinb);
    }
    switch (this.mode) {
    case this.OBLIQ:
      b = 1 + this.sinb1 * sinb + this.cosb1 * cosb * coslam;
      break;
    case this.EQUIT:
      b = 1 + cosb * coslam;
      break;
    case this.N_POLE:
      b = HALF_PI + phi;
      q = this.qp - q;
      break;
    case this.S_POLE:
      b = phi - HALF_PI;
      q = this.qp + q;
      break;
    }
    if (Math.abs(b) < EPSLN) {
      return null;
    }
    switch (this.mode) {
    case this.OBLIQ:
    case this.EQUIT:
      b = Math.sqrt(2 / b);
      if (this.mode === this.OBLIQ) {
        y = this.ymf * b * (this.cosb1 * sinb - this.sinb1 * cosb * coslam);
      }
      else {
        y = (b = Math.sqrt(2 / (1 + cosb * coslam))) * sinb * this.ymf;
      }
      x = this.xmf * b * cosb * sinlam;
      break;
    case this.N_POLE:
    case this.S_POLE:
      if (q >= 0) {
        x = (b = Math.sqrt(q)) * sinlam;
        y = coslam * ((this.mode === this.S_POLE) ? b : -b);
      }
      else {
        x = y = 0;
      }
      break;
    }
  }

  p.x = this.a * x + this.x0;
  p.y = this.a * y + this.y0;
  return p;
};

/* Inverse equations
  -----------------*/
exports.inverse = function(p) {
  p.x -= this.x0;
  p.y -= this.y0;
  var x = p.x / this.a;
  var y = p.y / this.a;
  var lam, phi, cCe, sCe, q, rho, ab;

  if (this.sphere) {
    var cosz = 0,
      rh, sinz = 0;

    rh = Math.sqrt(x * x + y * y);
    phi = rh * 0.5;
    if (phi > 1) {
      return null;
    }
    phi = 2 * Math.asin(phi);
    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {
      sinz = Math.sin(phi);
      cosz = Math.cos(phi);
    }
    switch (this.mode) {
    case this.EQUIT:
      phi = (Math.abs(rh) <= EPSLN) ? 0 : Math.asin(y * sinz / rh);
      x *= sinz;
      y = cosz * rh;
      break;
    case this.OBLIQ:
      phi = (Math.abs(rh) <= EPSLN) ? this.phi0 : Math.asin(cosz * this.sinph0 + y * sinz * this.cosph0 / rh);
      x *= sinz * this.cosph0;
      y = (cosz - Math.sin(phi) * this.sinph0) * rh;
      break;
    case this.N_POLE:
      y = -y;
      phi = HALF_PI - phi;
      break;
    case this.S_POLE:
      phi -= HALF_PI;
      break;
    }
    lam = (y === 0 && (this.mode === this.EQUIT || this.mode === this.OBLIQ)) ? 0 : Math.atan2(x, y);
  }
  else {
    ab = 0;
    if (this.mode === this.OBLIQ || this.mode === this.EQUIT) {
      x /= this.dd;
      y *= this.dd;
      rho = Math.sqrt(x * x + y * y);
      if (rho < EPSLN) {
        p.x = 0;
        p.y = this.phi0;
        return p;
      }
      sCe = 2 * Math.asin(0.5 * rho / this.rq);
      cCe = Math.cos(sCe);
      x *= (sCe = Math.sin(sCe));
      if (this.mode === this.OBLIQ) {
        ab = cCe * this.sinb1 + y * sCe * this.cosb1 / rho;
        q = this.qp * ab;
        y = rho * this.cosb1 * cCe - y * this.sinb1 * sCe;
      }
      else {
        ab = y * sCe / rho;
        q = this.qp * ab;
        y = rho * cCe;
      }
    }
    else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {
      if (this.mode === this.N_POLE) {
        y = -y;
      }
      q = (x * x + y * y);
      if (!q) {
        p.x = 0;
        p.y = this.phi0;
        return p;
      }
      ab = 1 - q / this.qp;
      if (this.mode === this.S_POLE) {
        ab = -ab;
      }
    }
    lam = Math.atan2(x, y);
    phi = this.authlat(Math.asin(ab), this.apa);
  }


  p.x = adjust_lon(this.long0 + lam);
  p.y = phi;
  return p;
};

/* determine latitude from authalic latitude */
exports.P00 = 0.33333333333333333333;
exports.P01 = 0.17222222222222222222;
exports.P02 = 0.10257936507936507936;
exports.P10 = 0.06388888888888888888;
exports.P11 = 0.06640211640211640211;
exports.P20 = 0.01641501294219154443;

exports.authset = function(es) {
  var t;
  var APA = [];
  APA[0] = es * this.P00;
  t = es * es;
  APA[0] += t * this.P01;
  APA[1] = t * this.P10;
  t *= es;
  APA[0] += t * this.P02;
  APA[1] += t * this.P11;
  APA[2] = t * this.P20;
  return APA;
};

exports.authlat = function(beta, APA) {
  var t = beta + beta;
  return (beta + APA[0] * Math.sin(t) + APA[1] * Math.sin(t + t) + APA[2] * Math.sin(t + t + t));
};
exports.names = ["Lambert Azimuthal Equal Area", "Lambert_Azimuthal_Equal_Area", "laea"];

},{"../common/adjust_lon":35,"../common/qsfnz":50}],81:[function(require,module,exports){
var EPSLN = 1.0e-10;
var msfnz = require('../common/msfnz');
var tsfnz = require('../common/tsfnz');
var HALF_PI = Math.PI/2;
var sign = require('../common/sign');
var adjust_lon = require('../common/adjust_lon');
var phi2z = require('../common/phi2z');
exports.init = function() {

  // array of:  r_maj,r_min,lat1,lat2,c_lon,c_lat,false_east,false_north
  //double c_lat;                   /* center latitude                      */
  //double c_lon;                   /* center longitude                     */
  //double lat1;                    /* first standard parallel              */
  //double lat2;                    /* second standard parallel             */
  //double r_maj;                   /* major axis                           */
  //double r_min;                   /* minor axis                           */
  //double false_east;              /* x offset in meters                   */
  //double false_north;             /* y offset in meters                   */

  if (!this.lat2) {
    this.lat2 = this.lat1;
  } //if lat2 is not defined
  if (!this.k0) {
    this.k0 = 1;
  }
  this.x0 = this.x0 || 0;
  this.y0 = this.y0 || 0;
  // Standard Parallels cannot be equal and on opposite sides of the equator
  if (Math.abs(this.lat1 + this.lat2) < EPSLN) {
    return;
  }

  var temp = this.b / this.a;
  this.e = Math.sqrt(1 - temp * temp);

  var sin1 = Math.sin(this.lat1);
  var cos1 = Math.cos(this.lat1);
  var ms1 = msfnz(this.e, sin1, cos1);
  var ts1 = tsfnz(this.e, this.lat1, sin1);

  var sin2 = Math.sin(this.lat2);
  var cos2 = Math.cos(this.lat2);
  var ms2 = msfnz(this.e, sin2, cos2);
  var ts2 = tsfnz(this.e, this.lat2, sin2);

  var ts0 = tsfnz(this.e, this.lat0, Math.sin(this.lat0));

  if (Math.abs(this.lat1 - this.lat2) > EPSLN) {
    this.ns = Math.log(ms1 / ms2) / Math.log(ts1 / ts2);
  }
  else {
    this.ns = sin1;
  }
  if (isNaN(this.ns)) {
    this.ns = sin1;
  }
  this.f0 = ms1 / (this.ns * Math.pow(ts1, this.ns));
  this.rh = this.a * this.f0 * Math.pow(ts0, this.ns);
  if (!this.title) {
    this.title = "Lambert Conformal Conic";
  }
};


// Lambert Conformal conic forward equations--mapping lat,long to x,y
// -----------------------------------------------------------------
exports.forward = function(p) {

  var lon = p.x;
  var lat = p.y;

  // singular cases :
  if (Math.abs(2 * Math.abs(lat) - Math.PI) <= EPSLN) {
    lat = sign(lat) * (HALF_PI - 2 * EPSLN);
  }

  var con = Math.abs(Math.abs(lat) - HALF_PI);
  var ts, rh1;
  if (con > EPSLN) {
    ts = tsfnz(this.e, lat, Math.sin(lat));
    rh1 = this.a * this.f0 * Math.pow(ts, this.ns);
  }
  else {
    con = lat * this.ns;
    if (con <= 0) {
      return null;
    }
    rh1 = 0;
  }
  var theta = this.ns * adjust_lon(lon - this.long0);
  p.x = this.k0 * (rh1 * Math.sin(theta)) + this.x0;
  p.y = this.k0 * (this.rh - rh1 * Math.cos(theta)) + this.y0;

  return p;
};

// Lambert Conformal Conic inverse equations--mapping x,y to lat/long
// -----------------------------------------------------------------
exports.inverse = function(p) {

  var rh1, con, ts;
  var lat, lon;
  var x = (p.x - this.x0) / this.k0;
  var y = (this.rh - (p.y - this.y0) / this.k0);
  if (this.ns > 0) {
    rh1 = Math.sqrt(x * x + y * y);
    con = 1;
  }
  else {
    rh1 = -Math.sqrt(x * x + y * y);
    con = -1;
  }
  var theta = 0;
  if (rh1 !== 0) {
    theta = Math.atan2((con * x), (con * y));
  }
  if ((rh1 !== 0) || (this.ns > 0)) {
    con = 1 / this.ns;
    ts = Math.pow((rh1 / (this.a * this.f0)), con);
    lat = phi2z(this.e, ts);
    if (lat === -9999) {
      return null;
    }
  }
  else {
    lat = -HALF_PI;
  }
  lon = adjust_lon(theta / this.ns + this.long0);

  p.x = lon;
  p.y = lat;
  return p;
};

exports.names = ["Lambert Tangential Conformal Conic Projection", "Lambert_Conformal_Conic", "Lambert_Conformal_Conic_2SP", "lcc"];

},{"../common/adjust_lon":35,"../common/msfnz":45,"../common/phi2z":46,"../common/sign":51,"../common/tsfnz":54}],82:[function(require,module,exports){
exports.init = function() {
  //no-op for longlat
};

function identity(pt) {
  return pt;
}
exports.forward = identity;
exports.inverse = identity;
exports.names = ["longlat", "identity"];

},{}],83:[function(require,module,exports){
var msfnz = require('../common/msfnz');
var HALF_PI = Math.PI/2;
var EPSLN = 1.0e-10;
var R2D = 57.29577951308232088;
var adjust_lon = require('../common/adjust_lon');
var FORTPI = Math.PI/4;
var tsfnz = require('../common/tsfnz');
var phi2z = require('../common/phi2z');
exports.init = function() {
  var con = this.b / this.a;
  this.es = 1 - con * con;
  if(!('x0' in this)){
    this.x0 = 0;
  }
  if(!('y0' in this)){
    this.y0 = 0;
  }
  this.e = Math.sqrt(this.es);
  if (this.lat_ts) {
    if (this.sphere) {
      this.k0 = Math.cos(this.lat_ts);
    }
    else {
      this.k0 = msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts));
    }
  }
  else {
    if (!this.k0) {
      if (this.k) {
        this.k0 = this.k;
      }
      else {
        this.k0 = 1;
      }
    }
  }
};

/* Mercator forward equations--mapping lat,long to x,y
  --------------------------------------------------*/

exports.forward = function(p) {
  var lon = p.x;
  var lat = p.y;
  // convert to radians
  if (lat * R2D > 90 && lat * R2D < -90 && lon * R2D > 180 && lon * R2D < -180) {
    return null;
  }

  var x, y;
  if (Math.abs(Math.abs(lat) - HALF_PI) <= EPSLN) {
    return null;
  }
  else {
    if (this.sphere) {
      x = this.x0 + this.a * this.k0 * adjust_lon(lon - this.long0);
      y = this.y0 + this.a * this.k0 * Math.log(Math.tan(FORTPI + 0.5 * lat));
    }
    else {
      var sinphi = Math.sin(lat);
      var ts = tsfnz(this.e, lat, sinphi);
      x = this.x0 + this.a * this.k0 * adjust_lon(lon - this.long0);
      y = this.y0 - this.a * this.k0 * Math.log(ts);
    }
    p.x = x;
    p.y = y;
    return p;
  }
};


/* Mercator inverse equations--mapping x,y to lat/long
  --------------------------------------------------*/
exports.inverse = function(p) {

  var x = p.x - this.x0;
  var y = p.y - this.y0;
  var lon, lat;

  if (this.sphere) {
    lat = HALF_PI - 2 * Math.atan(Math.exp(-y / (this.a * this.k0)));
  }
  else {
    var ts = Math.exp(-y / (this.a * this.k0));
    lat = phi2z(this.e, ts);
    if (lat === -9999) {
      return null;
    }
  }
  lon = adjust_lon(this.long0 + x / (this.a * this.k0));

  p.x = lon;
  p.y = lat;
  return p;
};

exports.names = ["Mercator", "Popular Visualisation Pseudo Mercator", "Mercator_1SP", "Mercator_Auxiliary_Sphere", "merc"];

},{"../common/adjust_lon":35,"../common/msfnz":45,"../common/phi2z":46,"../common/tsfnz":54}],84:[function(require,module,exports){
var adjust_lon = require('../common/adjust_lon');
/*
  reference
    "New Equal-Area Map Projections for Noncircular Regions", John P. Snyder,
    The American Cartographer, Vol 15, No. 4, October 1988, pp. 341-355.
  */


/* Initialize the Miller Cylindrical projection
  -------------------------------------------*/
exports.init = function() {
  //no-op
};


/* Miller Cylindrical forward equations--mapping lat,long to x,y
    ------------------------------------------------------------*/
exports.forward = function(p) {
  var lon = p.x;
  var lat = p.y;
  /* Forward equations
      -----------------*/
  var dlon = adjust_lon(lon - this.long0);
  var x = this.x0 + this.a * dlon;
  var y = this.y0 + this.a * Math.log(Math.tan((Math.PI / 4) + (lat / 2.5))) * 1.25;

  p.x = x;
  p.y = y;
  return p;
};

/* Miller Cylindrical inverse equations--mapping x,y to lat/long
    ------------------------------------------------------------*/
exports.inverse = function(p) {
  p.x -= this.x0;
  p.y -= this.y0;

  var lon = adjust_lon(this.long0 + p.x / this.a);
  var lat = 2.5 * (Math.atan(Math.exp(0.8 * p.y / this.a)) - Math.PI / 4);

  p.x = lon;
  p.y = lat;
  return p;
};
exports.names = ["Miller_Cylindrical", "mill"];

},{"../common/adjust_lon":35}],85:[function(require,module,exports){
var adjust_lon = require('../common/adjust_lon');
var EPSLN = 1.0e-10;
exports.init = function() {};

/* Mollweide forward equations--mapping lat,long to x,y
    ----------------------------------------------------*/
exports.forward = function(p) {

  /* Forward equations
      -----------------*/
  var lon = p.x;
  var lat = p.y;

  var delta_lon = adjust_lon(lon - this.long0);
  var theta = lat;
  var con = Math.PI * Math.sin(lat);

  /* Iterate using the Newton-Raphson method to find theta
      -----------------------------------------------------*/
  for (var i = 0; true; i++) {
    var delta_theta = -(theta + Math.sin(theta) - con) / (1 + Math.cos(theta));
    theta += delta_theta;
    if (Math.abs(delta_theta) < EPSLN) {
      break;
    }
  }
  theta /= 2;

  /* If the latitude is 90 deg, force the x coordinate to be "0 + false easting"
       this is done here because of precision problems with "cos(theta)"
       --------------------------------------------------------------------------*/
  if (Math.PI / 2 - Math.abs(lat) < EPSLN) {
    delta_lon = 0;
  }
  var x = 0.900316316158 * this.a * delta_lon * Math.cos(theta) + this.x0;
  var y = 1.4142135623731 * this.a * Math.sin(theta) + this.y0;

  p.x = x;
  p.y = y;
  return p;
};

exports.inverse = function(p) {
  var theta;
  var arg;

  /* Inverse equations
      -----------------*/
  p.x -= this.x0;
  p.y -= this.y0;
  arg = p.y / (1.4142135623731 * this.a);

  /* Because of division by zero problems, 'arg' can not be 1.  Therefore
       a number very close to one is used instead.
       -------------------------------------------------------------------*/
  if (Math.abs(arg) > 0.999999999999) {
    arg = 0.999999999999;
  }
  theta = Math.asin(arg);
  var lon = adjust_lon(this.long0 + (p.x / (0.900316316158 * this.a * Math.cos(theta))));
  if (lon < (-Math.PI)) {
    lon = -Math.PI;
  }
  if (lon > Math.PI) {
    lon = Math.PI;
  }
  arg = (2 * theta + Math.sin(2 * theta)) / Math.PI;
  if (Math.abs(arg) > 1) {
    arg = 1;
  }
  var lat = Math.asin(arg);

  p.x = lon;
  p.y = lat;
  return p;
};
exports.names = ["Mollweide", "moll"];

},{"../common/adjust_lon":35}],86:[function(require,module,exports){
var SEC_TO_RAD = 4.84813681109535993589914102357e-6;
/*
  reference
    Department of Land and Survey Technical Circular 1973/32
      http://www.linz.govt.nz/docs/miscellaneous/nz-map-definition.pdf
    OSG Technical Report 4.1
      http://www.linz.govt.nz/docs/miscellaneous/nzmg.pdf
  */

/**
 * iterations: Number of iterations to refine inverse transform.
 *     0 -> km accuracy
 *     1 -> m accuracy -- suitable for most mapping applications
 *     2 -> mm accuracy
 */
exports.iterations = 1;

exports.init = function() {
  this.A = [];
  this.A[1] = 0.6399175073;
  this.A[2] = -0.1358797613;
  this.A[3] = 0.063294409;
  this.A[4] = -0.02526853;
  this.A[5] = 0.0117879;
  this.A[6] = -0.0055161;
  this.A[7] = 0.0026906;
  this.A[8] = -0.001333;
  this.A[9] = 0.00067;
  this.A[10] = -0.00034;

  this.B_re = [];
  this.B_im = [];
  this.B_re[1] = 0.7557853228;
  this.B_im[1] = 0;
  this.B_re[2] = 0.249204646;
  this.B_im[2] = 0.003371507;
  this.B_re[3] = -0.001541739;
  this.B_im[3] = 0.041058560;
  this.B_re[4] = -0.10162907;
  this.B_im[4] = 0.01727609;
  this.B_re[5] = -0.26623489;
  this.B_im[5] = -0.36249218;
  this.B_re[6] = -0.6870983;
  this.B_im[6] = -1.1651967;

  this.C_re = [];
  this.C_im = [];
  this.C_re[1] = 1.3231270439;
  this.C_im[1] = 0;
  this.C_re[2] = -0.577245789;
  this.C_im[2] = -0.007809598;
  this.C_re[3] = 0.508307513;
  this.C_im[3] = -0.112208952;
  this.C_re[4] = -0.15094762;
  this.C_im[4] = 0.18200602;
  this.C_re[5] = 1.01418179;
  this.C_im[5] = 1.64497696;
  this.C_re[6] = 1.9660549;
  this.C_im[6] = 2.5127645;

  this.D = [];
  this.D[1] = 1.5627014243;
  this.D[2] = 0.5185406398;
  this.D[3] = -0.03333098;
  this.D[4] = -0.1052906;
  this.D[5] = -0.0368594;
  this.D[6] = 0.007317;
  this.D[7] = 0.01220;
  this.D[8] = 0.00394;
  this.D[9] = -0.0013;
};

/**
    New Zealand Map Grid Forward  - long/lat to x/y
    long/lat in radians
  */
exports.forward = function(p) {
  var n;
  var lon = p.x;
  var lat = p.y;

  var delta_lat = lat - this.lat0;
  var delta_lon = lon - this.long0;

  // 1. Calculate d_phi and d_psi    ...                          // and d_lambda
  // For this algorithm, delta_latitude is in seconds of arc x 10-5, so we need to scale to those units. Longitude is radians.
  var d_phi = delta_lat / SEC_TO_RAD * 1E-5;
  var d_lambda = delta_lon;
  var d_phi_n = 1; // d_phi^0

  var d_psi = 0;
  for (n = 1; n <= 10; n++) {
    d_phi_n = d_phi_n * d_phi;
    d_psi = d_psi + this.A[n] * d_phi_n;
  }

  // 2. Calculate theta
  var th_re = d_psi;
  var th_im = d_lambda;

  // 3. Calculate z
  var th_n_re = 1;
  var th_n_im = 0; // theta^0
  var th_n_re1;
  var th_n_im1;

  var z_re = 0;
  var z_im = 0;
  for (n = 1; n <= 6; n++) {
    th_n_re1 = th_n_re * th_re - th_n_im * th_im;
    th_n_im1 = th_n_im * th_re + th_n_re * th_im;
    th_n_re = th_n_re1;
    th_n_im = th_n_im1;
    z_re = z_re + this.B_re[n] * th_n_re - this.B_im[n] * th_n_im;
    z_im = z_im + this.B_im[n] * th_n_re + this.B_re[n] * th_n_im;
  }

  // 4. Calculate easting and northing
  p.x = (z_im * this.a) + this.x0;
  p.y = (z_re * this.a) + this.y0;

  return p;
};


/**
    New Zealand Map Grid Inverse  -  x/y to long/lat
  */
exports.inverse = function(p) {
  var n;
  var x = p.x;
  var y = p.y;

  var delta_x = x - this.x0;
  var delta_y = y - this.y0;

  // 1. Calculate z
  var z_re = delta_y / this.a;
  var z_im = delta_x / this.a;

  // 2a. Calculate theta - first approximation gives km accuracy
  var z_n_re = 1;
  var z_n_im = 0; // z^0
  var z_n_re1;
  var z_n_im1;

  var th_re = 0;
  var th_im = 0;
  for (n = 1; n <= 6; n++) {
    z_n_re1 = z_n_re * z_re - z_n_im * z_im;
    z_n_im1 = z_n_im * z_re + z_n_re * z_im;
    z_n_re = z_n_re1;
    z_n_im = z_n_im1;
    th_re = th_re + this.C_re[n] * z_n_re - this.C_im[n] * z_n_im;
    th_im = th_im + this.C_im[n] * z_n_re + this.C_re[n] * z_n_im;
  }

  // 2b. Iterate to refine the accuracy of the calculation
  //        0 iterations gives km accuracy
  //        1 iteration gives m accuracy -- good enough for most mapping applications
  //        2 iterations bives mm accuracy
  for (var i = 0; i < this.iterations; i++) {
    var th_n_re = th_re;
    var th_n_im = th_im;
    var th_n_re1;
    var th_n_im1;

    var num_re = z_re;
    var num_im = z_im;
    for (n = 2; n <= 6; n++) {
      th_n_re1 = th_n_re * th_re - th_n_im * th_im;
      th_n_im1 = th_n_im * th_re + th_n_re * th_im;
      th_n_re = th_n_re1;
      th_n_im = th_n_im1;
      num_re = num_re + (n - 1) * (this.B_re[n] * th_n_re - this.B_im[n] * th_n_im);
      num_im = num_im + (n - 1) * (this.B_im[n] * th_n_re + this.B_re[n] * th_n_im);
    }

    th_n_re = 1;
    th_n_im = 0;
    var den_re = this.B_re[1];
    var den_im = this.B_im[1];
    for (n = 2; n <= 6; n++) {
      th_n_re1 = th_n_re * th_re - th_n_im * th_im;
      th_n_im1 = th_n_im * th_re + th_n_re * th_im;
      th_n_re = th_n_re1;
      th_n_im = th_n_im1;
      den_re = den_re + n * (this.B_re[n] * th_n_re - this.B_im[n] * th_n_im);
      den_im = den_im + n * (this.B_im[n] * th_n_re + this.B_re[n] * th_n_im);
    }

    // Complex division
    var den2 = den_re * den_re + den_im * den_im;
    th_re = (num_re * den_re + num_im * den_im) / den2;
    th_im = (num_im * den_re - num_re * den_im) / den2;
  }

  // 3. Calculate d_phi              ...                                    // and d_lambda
  var d_psi = th_re;
  var d_lambda = th_im;
  var d_psi_n = 1; // d_psi^0

  var d_phi = 0;
  for (n = 1; n <= 9; n++) {
    d_psi_n = d_psi_n * d_psi;
    d_phi = d_phi + this.D[n] * d_psi_n;
  }

  // 4. Calculate latitude and longitude
  // d_phi is calcuated in second of arc * 10^-5, so we need to scale back to radians. d_lambda is in radians.
  var lat = this.lat0 + (d_phi * SEC_TO_RAD * 1E5);
  var lon = this.long0 + d_lambda;

  p.x = lon;
  p.y = lat;

  return p;
};
exports.names = ["New_Zealand_Map_Grid", "nzmg"];
},{}],87:[function(require,module,exports){
var tsfnz = require('../common/tsfnz');
var adjust_lon = require('../common/adjust_lon');
var phi2z = require('../common/phi2z');
var HALF_PI = Math.PI/2;
var FORTPI = Math.PI/4;
var EPSLN = 1.0e-10;

/* Initialize the Oblique Mercator  projection
    ------------------------------------------*/
exports.init = function() {
  this.no_off = this.no_off || false;
  this.no_rot = this.no_rot || false;

  if (isNaN(this.k0)) {
    this.k0 = 1;
  }
  var sinlat = Math.sin(this.lat0);
  var coslat = Math.cos(this.lat0);
  var con = this.e * sinlat;

  this.bl = Math.sqrt(1 + this.es / (1 - this.es) * Math.pow(coslat, 4));
  this.al = this.a * this.bl * this.k0 * Math.sqrt(1 - this.es) / (1 - con * con);
  var t0 = tsfnz(this.e, this.lat0, sinlat);
  var dl = this.bl / coslat * Math.sqrt((1 - this.es) / (1 - con * con));
  if (dl * dl < 1) {
    dl = 1;
  }
  var fl;
  var gl;
  if (!isNaN(this.longc)) {
    //Central point and azimuth method

    if (this.lat0 >= 0) {
      fl = dl + Math.sqrt(dl * dl - 1);
    }
    else {
      fl = dl - Math.sqrt(dl * dl - 1);
    }
    this.el = fl * Math.pow(t0, this.bl);
    gl = 0.5 * (fl - 1 / fl);
    this.gamma0 = Math.asin(Math.sin(this.alpha) / dl);
    this.long0 = this.longc - Math.asin(gl * Math.tan(this.gamma0)) / this.bl;

  }
  else {
    //2 points method
    var t1 = tsfnz(this.e, this.lat1, Math.sin(this.lat1));
    var t2 = tsfnz(this.e, this.lat2, Math.sin(this.lat2));
    if (this.lat0 >= 0) {
      this.el = (dl + Math.sqrt(dl * dl - 1)) * Math.pow(t0, this.bl);
    }
    else {
      this.el = (dl - Math.sqrt(dl * dl - 1)) * Math.pow(t0, this.bl);
    }
    var hl = Math.pow(t1, this.bl);
    var ll = Math.pow(t2, this.bl);
    fl = this.el / hl;
    gl = 0.5 * (fl - 1 / fl);
    var jl = (this.el * this.el - ll * hl) / (this.el * this.el + ll * hl);
    var pl = (ll - hl) / (ll + hl);
    var dlon12 = adjust_lon(this.long1 - this.long2);
    this.long0 = 0.5 * (this.long1 + this.long2) - Math.atan(jl * Math.tan(0.5 * this.bl * (dlon12)) / pl) / this.bl;
    this.long0 = adjust_lon(this.long0);
    var dlon10 = adjust_lon(this.long1 - this.long0);
    this.gamma0 = Math.atan(Math.sin(this.bl * (dlon10)) / gl);
    this.alpha = Math.asin(dl * Math.sin(this.gamma0));
  }

  if (this.no_off) {
    this.uc = 0;
  }
  else {
    if (this.lat0 >= 0) {
      this.uc = this.al / this.bl * Math.atan2(Math.sqrt(dl * dl - 1), Math.cos(this.alpha));
    }
    else {
      this.uc = -1 * this.al / this.bl * Math.atan2(Math.sqrt(dl * dl - 1), Math.cos(this.alpha));
    }
  }

};


/* Oblique Mercator forward equations--mapping lat,long to x,y
    ----------------------------------------------------------*/
exports.forward = function(p) {
  var lon = p.x;
  var lat = p.y;
  var dlon = adjust_lon(lon - this.long0);
  var us, vs;
  var con;
  if (Math.abs(Math.abs(lat) - HALF_PI) <= EPSLN) {
    if (lat > 0) {
      con = -1;
    }
    else {
      con = 1;
    }
    vs = this.al / this.bl * Math.log(Math.tan(FORTPI + con * this.gamma0 * 0.5));
    us = -1 * con * HALF_PI * this.al / this.bl;
  }
  else {
    var t = tsfnz(this.e, lat, Math.sin(lat));
    var ql = this.el / Math.pow(t, this.bl);
    var sl = 0.5 * (ql - 1 / ql);
    var tl = 0.5 * (ql + 1 / ql);
    var vl = Math.sin(this.bl * (dlon));
    var ul = (sl * Math.sin(this.gamma0) - vl * Math.cos(this.gamma0)) / tl;
    if (Math.abs(Math.abs(ul) - 1) <= EPSLN) {
      vs = Number.POSITIVE_INFINITY;
    }
    else {
      vs = 0.5 * this.al * Math.log((1 - ul) / (1 + ul)) / this.bl;
    }
    if (Math.abs(Math.cos(this.bl * (dlon))) <= EPSLN) {
      us = this.al * this.bl * (dlon);
    }
    else {
      us = this.al * Math.atan2(sl * Math.cos(this.gamma0) + vl * Math.sin(this.gamma0), Math.cos(this.bl * dlon)) / this.bl;
    }
  }

  if (this.no_rot) {
    p.x = this.x0 + us;
    p.y = this.y0 + vs;
  }
  else {

    us -= this.uc;
    p.x = this.x0 + vs * Math.cos(this.alpha) + us * Math.sin(this.alpha);
    p.y = this.y0 + us * Math.cos(this.alpha) - vs * Math.sin(this.alpha);
  }
  return p;
};

exports.inverse = function(p) {
  var us, vs;
  if (this.no_rot) {
    vs = p.y - this.y0;
    us = p.x - this.x0;
  }
  else {
    vs = (p.x - this.x0) * Math.cos(this.alpha) - (p.y - this.y0) * Math.sin(this.alpha);
    us = (p.y - this.y0) * Math.cos(this.alpha) + (p.x - this.x0) * Math.sin(this.alpha);
    us += this.uc;
  }
  var qp = Math.exp(-1 * this.bl * vs / this.al);
  var sp = 0.5 * (qp - 1 / qp);
  var tp = 0.5 * (qp + 1 / qp);
  var vp = Math.sin(this.bl * us / this.al);
  var up = (vp * Math.cos(this.gamma0) + sp * Math.sin(this.gamma0)) / tp;
  var ts = Math.pow(this.el / Math.sqrt((1 + up) / (1 - up)), 1 / this.bl);
  if (Math.abs(up - 1) < EPSLN) {
    p.x = this.long0;
    p.y = HALF_PI;
  }
  else if (Math.abs(up + 1) < EPSLN) {
    p.x = this.long0;
    p.y = -1 * HALF_PI;
  }
  else {
    p.y = phi2z(this.e, ts);
    p.x = adjust_lon(this.long0 - Math.atan2(sp * Math.cos(this.gamma0) - vp * Math.sin(this.gamma0), Math.cos(this.bl * us / this.al)) / this.bl);
  }
  return p;
};

exports.names = ["Hotine_Oblique_Mercator", "Hotine Oblique Mercator", "Hotine_Oblique_Mercator_Azimuth_Natural_Origin", "Hotine_Oblique_Mercator_Azimuth_Center", "omerc"];
},{"../common/adjust_lon":35,"../common/phi2z":46,"../common/tsfnz":54}],88:[function(require,module,exports){
var e0fn = require('../common/e0fn');
var e1fn = require('../common/e1fn');
var e2fn = require('../common/e2fn');
var e3fn = require('../common/e3fn');
var adjust_lon = require('../common/adjust_lon');
var adjust_lat = require('../common/adjust_lat');
var mlfn = require('../common/mlfn');
var EPSLN = 1.0e-10;
var gN = require('../common/gN');
var MAX_ITER = 20;
exports.init = function() {
  /* Place parameters in static storage for common use
      -------------------------------------------------*/
  this.temp = this.b / this.a;
  this.es = 1 - Math.pow(this.temp, 2); // devait etre dans tmerc.js mais n y est pas donc je commente sinon retour de valeurs nulles
  this.e = Math.sqrt(this.es);
  this.e0 = e0fn(this.es);
  this.e1 = e1fn(this.es);
  this.e2 = e2fn(this.es);
  this.e3 = e3fn(this.es);
  this.ml0 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0); //si que des zeros le calcul ne se fait pas
};


/* Polyconic forward equations--mapping lat,long to x,y
    ---------------------------------------------------*/
exports.forward = function(p) {
  var lon = p.x;
  var lat = p.y;
  var x, y, el;
  var dlon = adjust_lon(lon - this.long0);
  el = dlon * Math.sin(lat);
  if (this.sphere) {
    if (Math.abs(lat) <= EPSLN) {
      x = this.a * dlon;
      y = -1 * this.a * this.lat0;
    }
    else {
      x = this.a * Math.sin(el) / Math.tan(lat);
      y = this.a * (adjust_lat(lat - this.lat0) + (1 - Math.cos(el)) / Math.tan(lat));
    }
  }
  else {
    if (Math.abs(lat) <= EPSLN) {
      x = this.a * dlon;
      y = -1 * this.ml0;
    }
    else {
      var nl = gN(this.a, this.e, Math.sin(lat)) / Math.tan(lat);
      x = nl * Math.sin(el);
      y = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, lat) - this.ml0 + nl * (1 - Math.cos(el));
    }

  }
  p.x = x + this.x0;
  p.y = y + this.y0;
  return p;
};


/* Inverse equations
  -----------------*/
exports.inverse = function(p) {
  var lon, lat, x, y, i;
  var al, bl;
  var phi, dphi;
  x = p.x - this.x0;
  y = p.y - this.y0;

  if (this.sphere) {
    if (Math.abs(y + this.a * this.lat0) <= EPSLN) {
      lon = adjust_lon(x / this.a + this.long0);
      lat = 0;
    }
    else {
      al = this.lat0 + y / this.a;
      bl = x * x / this.a / this.a + al * al;
      phi = al;
      var tanphi;
      for (i = MAX_ITER; i; --i) {
        tanphi = Math.tan(phi);
        dphi = -1 * (al * (phi * tanphi + 1) - phi - 0.5 * (phi * phi + bl) * tanphi) / ((phi - al) / tanphi - 1);
        phi += dphi;
        if (Math.abs(dphi) <= EPSLN) {
          lat = phi;
          break;
        }
      }
      lon = adjust_lon(this.long0 + (Math.asin(x * Math.tan(phi) / this.a)) / Math.sin(lat));
    }
  }
  else {
    if (Math.abs(y + this.ml0) <= EPSLN) {
      lat = 0;
      lon = adjust_lon(this.long0 + x / this.a);
    }
    else {

      al = (this.ml0 + y) / this.a;
      bl = x * x / this.a / this.a + al * al;
      phi = al;
      var cl, mln, mlnp, ma;
      var con;
      for (i = MAX_ITER; i; --i) {
        con = this.e * Math.sin(phi);
        cl = Math.sqrt(1 - con * con) * Math.tan(phi);
        mln = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, phi);
        mlnp = this.e0 - 2 * this.e1 * Math.cos(2 * phi) + 4 * this.e2 * Math.cos(4 * phi) - 6 * this.e3 * Math.cos(6 * phi);
        ma = mln / this.a;
        dphi = (al * (cl * ma + 1) - ma - 0.5 * cl * (ma * ma + bl)) / (this.es * Math.sin(2 * phi) * (ma * ma + bl - 2 * al * ma) / (4 * cl) + (al - ma) * (cl * mlnp - 2 / Math.sin(2 * phi)) - mlnp);
        phi -= dphi;
        if (Math.abs(dphi) <= EPSLN) {
          lat = phi;
          break;
        }
      }

      //lat=phi4z(this.e,this.e0,this.e1,this.e2,this.e3,al,bl,0,0);
      cl = Math.sqrt(1 - this.es * Math.pow(Math.sin(lat), 2)) * Math.tan(lat);
      lon = adjust_lon(this.long0 + Math.asin(x * cl / this.a) / Math.sin(lat));
    }
  }

  p.x = lon;
  p.y = lat;
  return p;
};
exports.names = ["Polyconic", "poly"];
},{"../common/adjust_lat":34,"../common/adjust_lon":35,"../common/e0fn":37,"../common/e1fn":38,"../common/e2fn":39,"../common/e3fn":40,"../common/gN":41,"../common/mlfn":44}],89:[function(require,module,exports){
var adjust_lon = require('../common/adjust_lon');
var adjust_lat = require('../common/adjust_lat');
var pj_enfn = require('../common/pj_enfn');
var MAX_ITER = 20;
var pj_mlfn = require('../common/pj_mlfn');
var pj_inv_mlfn = require('../common/pj_inv_mlfn');
var HALF_PI = Math.PI/2;
var EPSLN = 1.0e-10;
var asinz = require('../common/asinz');
exports.init = function() {
  /* Place parameters in static storage for common use
    -------------------------------------------------*/


  if (!this.sphere) {
    this.en = pj_enfn(this.es);
  }
  else {
    this.n = 1;
    this.m = 0;
    this.es = 0;
    this.C_y = Math.sqrt((this.m + 1) / this.n);
    this.C_x = this.C_y / (this.m + 1);
  }

};

/* Sinusoidal forward equations--mapping lat,long to x,y
  -----------------------------------------------------*/
exports.forward = function(p) {
  var x, y;
  var lon = p.x;
  var lat = p.y;
  /* Forward equations
    -----------------*/
  lon = adjust_lon(lon - this.long0);

  if (this.sphere) {
    if (!this.m) {
      lat = this.n !== 1 ? Math.asin(this.n * Math.sin(lat)) : lat;
    }
    else {
      var k = this.n * Math.sin(lat);
      for (var i = MAX_ITER; i; --i) {
        var V = (this.m * lat + Math.sin(lat) - k) / (this.m + Math.cos(lat));
        lat -= V;
        if (Math.abs(V) < EPSLN) {
          break;
        }
      }
    }
    x = this.a * this.C_x * lon * (this.m + Math.cos(lat));
    y = this.a * this.C_y * lat;

  }
  else {

    var s = Math.sin(lat);
    var c = Math.cos(lat);
    y = this.a * pj_mlfn(lat, s, c, this.en);
    x = this.a * lon * c / Math.sqrt(1 - this.es * s * s);
  }

  p.x = x;
  p.y = y;
  return p;
};

exports.inverse = function(p) {
  var lat, temp, lon, s;

  p.x -= this.x0;
  lon = p.x / this.a;
  p.y -= this.y0;
  lat = p.y / this.a;

  if (this.sphere) {
    lat /= this.C_y;
    lon = lon / (this.C_x * (this.m + Math.cos(lat)));
    if (this.m) {
      lat = asinz((this.m * lat + Math.sin(lat)) / this.n);
    }
    else if (this.n !== 1) {
      lat = asinz(Math.sin(lat) / this.n);
    }
    lon = adjust_lon(lon + this.long0);
    lat = adjust_lat(lat);
  }
  else {
    lat = pj_inv_mlfn(p.y / this.a, this.es, this.en);
    s = Math.abs(lat);
    if (s < HALF_PI) {
      s = Math.sin(lat);
      temp = this.long0 + p.x * Math.sqrt(1 - this.es * s * s) / (this.a * Math.cos(lat));
      //temp = this.long0 + p.x / (this.a * Math.cos(lat));
      lon = adjust_lon(temp);
    }
    else if ((s - EPSLN) < HALF_PI) {
      lon = this.long0;
    }
  }
  p.x = lon;
  p.y = lat;
  return p;
};
exports.names = ["Sinusoidal", "sinu"];
},{"../common/adjust_lat":34,"../common/adjust_lon":35,"../common/asinz":36,"../common/pj_enfn":47,"../common/pj_inv_mlfn":48,"../common/pj_mlfn":49}],90:[function(require,module,exports){
/*
  references:
    Formules et constantes pour le Calcul pour la
    projection cylindrique conforme à axe oblique et pour la transformation entre
    des systèmes de référence.
    http://www.swisstopo.admin.ch/internet/swisstopo/fr/home/topics/survey/sys/refsys/switzerland.parsysrelated1.31216.downloadList.77004.DownloadFile.tmp/swissprojectionfr.pdf
  */
exports.init = function() {
  var phy0 = this.lat0;
  this.lambda0 = this.long0;
  var sinPhy0 = Math.sin(phy0);
  var semiMajorAxis = this.a;
  var invF = this.rf;
  var flattening = 1 / invF;
  var e2 = 2 * flattening - Math.pow(flattening, 2);
  var e = this.e = Math.sqrt(e2);
  this.R = this.k0 * semiMajorAxis * Math.sqrt(1 - e2) / (1 - e2 * Math.pow(sinPhy0, 2));
  this.alpha = Math.sqrt(1 + e2 / (1 - e2) * Math.pow(Math.cos(phy0), 4));
  this.b0 = Math.asin(sinPhy0 / this.alpha);
  var k1 = Math.log(Math.tan(Math.PI / 4 + this.b0 / 2));
  var k2 = Math.log(Math.tan(Math.PI / 4 + phy0 / 2));
  var k3 = Math.log((1 + e * sinPhy0) / (1 - e * sinPhy0));
  this.K = k1 - this.alpha * k2 + this.alpha * e / 2 * k3;
};


exports.forward = function(p) {
  var Sa1 = Math.log(Math.tan(Math.PI / 4 - p.y / 2));
  var Sa2 = this.e / 2 * Math.log((1 + this.e * Math.sin(p.y)) / (1 - this.e * Math.sin(p.y)));
  var S = -this.alpha * (Sa1 + Sa2) + this.K;

  // spheric latitude
  var b = 2 * (Math.atan(Math.exp(S)) - Math.PI / 4);

  // spheric longitude
  var I = this.alpha * (p.x - this.lambda0);

  // psoeudo equatorial rotation
  var rotI = Math.atan(Math.sin(I) / (Math.sin(this.b0) * Math.tan(b) + Math.cos(this.b0) * Math.cos(I)));

  var rotB = Math.asin(Math.cos(this.b0) * Math.sin(b) - Math.sin(this.b0) * Math.cos(b) * Math.cos(I));

  p.y = this.R / 2 * Math.log((1 + Math.sin(rotB)) / (1 - Math.sin(rotB))) + this.y0;
  p.x = this.R * rotI + this.x0;
  return p;
};

exports.inverse = function(p) {
  var Y = p.x - this.x0;
  var X = p.y - this.y0;

  var rotI = Y / this.R;
  var rotB = 2 * (Math.atan(Math.exp(X / this.R)) - Math.PI / 4);

  var b = Math.asin(Math.cos(this.b0) * Math.sin(rotB) + Math.sin(this.b0) * Math.cos(rotB) * Math.cos(rotI));
  var I = Math.atan(Math.sin(rotI) / (Math.cos(this.b0) * Math.cos(rotI) - Math.sin(this.b0) * Math.tan(rotB)));

  var lambda = this.lambda0 + I / this.alpha;

  var S = 0;
  var phy = b;
  var prevPhy = -1000;
  var iteration = 0;
  while (Math.abs(phy - prevPhy) > 0.0000001) {
    if (++iteration > 20) {
      //...reportError("omercFwdInfinity");
      return;
    }
    //S = Math.log(Math.tan(Math.PI / 4 + phy / 2));
    S = 1 / this.alpha * (Math.log(Math.tan(Math.PI / 4 + b / 2)) - this.K) + this.e * Math.log(Math.tan(Math.PI / 4 + Math.asin(this.e * Math.sin(phy)) / 2));
    prevPhy = phy;
    phy = 2 * Math.atan(Math.exp(S)) - Math.PI / 2;
  }

  p.x = lambda;
  p.y = phy;
  return p;
};

exports.names = ["somerc"];

},{}],91:[function(require,module,exports){
var HALF_PI = Math.PI/2;
var EPSLN = 1.0e-10;
var sign = require('../common/sign');
var msfnz = require('../common/msfnz');
var tsfnz = require('../common/tsfnz');
var phi2z = require('../common/phi2z');
var adjust_lon = require('../common/adjust_lon');
exports.ssfn_ = function(phit, sinphi, eccen) {
  sinphi *= eccen;
  return (Math.tan(0.5 * (HALF_PI + phit)) * Math.pow((1 - sinphi) / (1 + sinphi), 0.5 * eccen));
};

exports.init = function() {
  this.coslat0 = Math.cos(this.lat0);
  this.sinlat0 = Math.sin(this.lat0);
  if (this.sphere) {
    if (this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= EPSLN) {
      this.k0 = 0.5 * (1 + sign(this.lat0) * Math.sin(this.lat_ts));
    }
  }
  else {
    if (Math.abs(this.coslat0) <= EPSLN) {
      if (this.lat0 > 0) {
        //North pole
        //trace('stere:north pole');
        this.con = 1;
      }
      else {
        //South pole
        //trace('stere:south pole');
        this.con = -1;
      }
    }
    this.cons = Math.sqrt(Math.pow(1 + this.e, 1 + this.e) * Math.pow(1 - this.e, 1 - this.e));
    if (this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= EPSLN) {
      this.k0 = 0.5 * this.cons * msfnz(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts)) / tsfnz(this.e, this.con * this.lat_ts, this.con * Math.sin(this.lat_ts));
    }
    this.ms1 = msfnz(this.e, this.sinlat0, this.coslat0);
    this.X0 = 2 * Math.atan(this.ssfn_(this.lat0, this.sinlat0, this.e)) - HALF_PI;
    this.cosX0 = Math.cos(this.X0);
    this.sinX0 = Math.sin(this.X0);
  }
};

// Stereographic forward equations--mapping lat,long to x,y
exports.forward = function(p) {
  var lon = p.x;
  var lat = p.y;
  var sinlat = Math.sin(lat);
  var coslat = Math.cos(lat);
  var A, X, sinX, cosX, ts, rh;
  var dlon = adjust_lon(lon - this.long0);

  if (Math.abs(Math.abs(lon - this.long0) - Math.PI) <= EPSLN && Math.abs(lat + this.lat0) <= EPSLN) {
    //case of the origine point
    //trace('stere:this is the origin point');
    p.x = NaN;
    p.y = NaN;
    return p;
  }
  if (this.sphere) {
    //trace('stere:sphere case');
    A = 2 * this.k0 / (1 + this.sinlat0 * sinlat + this.coslat0 * coslat * Math.cos(dlon));
    p.x = this.a * A * coslat * Math.sin(dlon) + this.x0;
    p.y = this.a * A * (this.coslat0 * sinlat - this.sinlat0 * coslat * Math.cos(dlon)) + this.y0;
    return p;
  }
  else {
    X = 2 * Math.atan(this.ssfn_(lat, sinlat, this.e)) - HALF_PI;
    cosX = Math.cos(X);
    sinX = Math.sin(X);
    if (Math.abs(this.coslat0) <= EPSLN) {
      ts = tsfnz(this.e, lat * this.con, this.con * sinlat);
      rh = 2 * this.a * this.k0 * ts / this.cons;
      p.x = this.x0 + rh * Math.sin(lon - this.long0);
      p.y = this.y0 - this.con * rh * Math.cos(lon - this.long0);
      //trace(p.toString());
      return p;
    }
    else if (Math.abs(this.sinlat0) < EPSLN) {
      //Eq
      //trace('stere:equateur');
      A = 2 * this.a * this.k0 / (1 + cosX * Math.cos(dlon));
      p.y = A * sinX;
    }
    else {
      //other case
      //trace('stere:normal case');
      A = 2 * this.a * this.k0 * this.ms1 / (this.cosX0 * (1 + this.sinX0 * sinX + this.cosX0 * cosX * Math.cos(dlon)));
      p.y = A * (this.cosX0 * sinX - this.sinX0 * cosX * Math.cos(dlon)) + this.y0;
    }
    p.x = A * cosX * Math.sin(dlon) + this.x0;
  }
  //trace(p.toString());
  return p;
};


//* Stereographic inverse equations--mapping x,y to lat/long
exports.inverse = function(p) {
  p.x -= this.x0;
  p.y -= this.y0;
  var lon, lat, ts, ce, Chi;
  var rh = Math.sqrt(p.x * p.x + p.y * p.y);
  if (this.sphere) {
    var c = 2 * Math.atan(rh / (0.5 * this.a * this.k0));
    lon = this.long0;
    lat = this.lat0;
    if (rh <= EPSLN) {
      p.x = lon;
      p.y = lat;
      return p;
    }
    lat = Math.asin(Math.cos(c) * this.sinlat0 + p.y * Math.sin(c) * this.coslat0 / rh);
    if (Math.abs(this.coslat0) < EPSLN) {
      if (this.lat0 > 0) {
        lon = adjust_lon(this.long0 + Math.atan2(p.x, - 1 * p.y));
      }
      else {
        lon = adjust_lon(this.long0 + Math.atan2(p.x, p.y));
      }
    }
    else {
      lon = adjust_lon(this.long0 + Math.atan2(p.x * Math.sin(c), rh * this.coslat0 * Math.cos(c) - p.y * this.sinlat0 * Math.sin(c)));
    }
    p.x = lon;
    p.y = lat;
    return p;
  }
  else {
    if (Math.abs(this.coslat0) <= EPSLN) {
      if (rh <= EPSLN) {
        lat = this.lat0;
        lon = this.long0;
        p.x = lon;
        p.y = lat;
        //trace(p.toString());
        return p;
      }
      p.x *= this.con;
      p.y *= this.con;
      ts = rh * this.cons / (2 * this.a * this.k0);
      lat = this.con * phi2z(this.e, ts);
      lon = this.con * adjust_lon(this.con * this.long0 + Math.atan2(p.x, - 1 * p.y));
    }
    else {
      ce = 2 * Math.atan(rh * this.cosX0 / (2 * this.a * this.k0 * this.ms1));
      lon = this.long0;
      if (rh <= EPSLN) {
        Chi = this.X0;
      }
      else {
        Chi = Math.asin(Math.cos(ce) * this.sinX0 + p.y * Math.sin(ce) * this.cosX0 / rh);
        lon = adjust_lon(this.long0 + Math.atan2(p.x * Math.sin(ce), rh * this.cosX0 * Math.cos(ce) - p.y * this.sinX0 * Math.sin(ce)));
      }
      lat = -1 * phi2z(this.e, Math.tan(0.5 * (HALF_PI + Chi)));
    }
  }
  p.x = lon;
  p.y = lat;

  //trace(p.toString());
  return p;

};
exports.names = ["stere", "Stereographic_South_Pole", "Polar Stereographic (variant B)"];

},{"../common/adjust_lon":35,"../common/msfnz":45,"../common/phi2z":46,"../common/sign":51,"../common/tsfnz":54}],92:[function(require,module,exports){
var gauss = require('./gauss');
var adjust_lon = require('../common/adjust_lon');
exports.init = function() {
  gauss.init.apply(this);
  if (!this.rc) {
    return;
  }
  this.sinc0 = Math.sin(this.phic0);
  this.cosc0 = Math.cos(this.phic0);
  this.R2 = 2 * this.rc;
  if (!this.title) {
    this.title = "Oblique Stereographic Alternative";
  }
};

exports.forward = function(p) {
  var sinc, cosc, cosl, k;
  p.x = adjust_lon(p.x - this.long0);
  gauss.forward.apply(this, [p]);
  sinc = Math.sin(p.y);
  cosc = Math.cos(p.y);
  cosl = Math.cos(p.x);
  k = this.k0 * this.R2 / (1 + this.sinc0 * sinc + this.cosc0 * cosc * cosl);
  p.x = k * cosc * Math.sin(p.x);
  p.y = k * (this.cosc0 * sinc - this.sinc0 * cosc * cosl);
  p.x = this.a * p.x + this.x0;
  p.y = this.a * p.y + this.y0;
  return p;
};

exports.inverse = function(p) {
  var sinc, cosc, lon, lat, rho;
  p.x = (p.x - this.x0) / this.a;
  p.y = (p.y - this.y0) / this.a;

  p.x /= this.k0;
  p.y /= this.k0;
  if ((rho = Math.sqrt(p.x * p.x + p.y * p.y))) {
    var c = 2 * Math.atan2(rho, this.R2);
    sinc = Math.sin(c);
    cosc = Math.cos(c);
    lat = Math.asin(cosc * this.sinc0 + p.y * sinc * this.cosc0 / rho);
    lon = Math.atan2(p.x * sinc, rho * this.cosc0 * cosc - p.y * this.sinc0 * sinc);
  }
  else {
    lat = this.phic0;
    lon = 0;
  }

  p.x = lon;
  p.y = lat;
  gauss.inverse.apply(this, [p]);
  p.x = adjust_lon(p.x + this.long0);
  return p;
};

exports.names = ["Stereographic_North_Pole", "Oblique_Stereographic", "Polar_Stereographic", "sterea","Oblique Stereographic Alternative"];

},{"../common/adjust_lon":35,"./gauss":77}],93:[function(require,module,exports){
var e0fn = require('../common/e0fn');
var e1fn = require('../common/e1fn');
var e2fn = require('../common/e2fn');
var e3fn = require('../common/e3fn');
var mlfn = require('../common/mlfn');
var adjust_lon = require('../common/adjust_lon');
var HALF_PI = Math.PI/2;
var EPSLN = 1.0e-10;
var sign = require('../common/sign');
var asinz = require('../common/asinz');

exports.init = function() {
  this.e0 = e0fn(this.es);
  this.e1 = e1fn(this.es);
  this.e2 = e2fn(this.es);
  this.e3 = e3fn(this.es);
  this.ml0 = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, this.lat0);
};

/**
    Transverse Mercator Forward  - long/lat to x/y
    long/lat in radians
  */
exports.forward = function(p) {
  var lon = p.x;
  var lat = p.y;

  var delta_lon = adjust_lon(lon - this.long0);
  var con;
  var x, y;
  var sin_phi = Math.sin(lat);
  var cos_phi = Math.cos(lat);

  if (this.sphere) {
    var b = cos_phi * Math.sin(delta_lon);
    if ((Math.abs(Math.abs(b) - 1)) < 0.0000000001) {
      return (93);
    }
    else {
      x = 0.5 * this.a * this.k0 * Math.log((1 + b) / (1 - b));
      con = Math.acos(cos_phi * Math.cos(delta_lon) / Math.sqrt(1 - b * b));
      if (lat < 0) {
        con = -con;
      }
      y = this.a * this.k0 * (con - this.lat0);
    }
  }
  else {
    var al = cos_phi * delta_lon;
    var als = Math.pow(al, 2);
    var c = this.ep2 * Math.pow(cos_phi, 2);
    var tq = Math.tan(lat);
    var t = Math.pow(tq, 2);
    con = 1 - this.es * Math.pow(sin_phi, 2);
    var n = this.a / Math.sqrt(con);
    var ml = this.a * mlfn(this.e0, this.e1, this.e2, this.e3, lat);

    x = this.k0 * n * al * (1 + als / 6 * (1 - t + c + als / 20 * (5 - 18 * t + Math.pow(t, 2) + 72 * c - 58 * this.ep2))) + this.x0;
    y = this.k0 * (ml - this.ml0 + n * tq * (als * (0.5 + als / 24 * (5 - t + 9 * c + 4 * Math.pow(c, 2) + als / 30 * (61 - 58 * t + Math.pow(t, 2) + 600 * c - 330 * this.ep2))))) + this.y0;

  }
  p.x = x;
  p.y = y;
  return p;
};

/**
    Transverse Mercator Inverse  -  x/y to long/lat
  */
exports.inverse = function(p) {
  var con, phi;
  var delta_phi;
  var i;
  var max_iter = 6;
  var lat, lon;

  if (this.sphere) {
    var f = Math.exp(p.x / (this.a * this.k0));
    var g = 0.5 * (f - 1 / f);
    var temp = this.lat0 + p.y / (this.a * this.k0);
    var h = Math.cos(temp);
    con = Math.sqrt((1 - h * h) / (1 + g * g));
    lat = asinz(con);
    if (temp < 0) {
      lat = -lat;
    }
    if ((g === 0) && (h === 0)) {
      lon = this.long0;
    }
    else {
      lon = adjust_lon(Math.atan2(g, h) + this.long0);
    }
  }
  else { // ellipsoidal form
    var x = p.x - this.x0;
    var y = p.y - this.y0;

    con = (this.ml0 + y / this.k0) / this.a;
    phi = con;
    for (i = 0; true; i++) {
      delta_phi = ((con + this.e1 * Math.sin(2 * phi) - this.e2 * Math.sin(4 * phi) + this.e3 * Math.sin(6 * phi)) / this.e0) - phi;
      phi += delta_phi;
      if (Math.abs(delta_phi) <= EPSLN) {
        break;
      }
      if (i >= max_iter) {
        return (95);
      }
    } // for()
    if (Math.abs(phi) < HALF_PI) {
      var sin_phi = Math.sin(phi);
      var cos_phi = Math.cos(phi);
      var tan_phi = Math.tan(phi);
      var c = this.ep2 * Math.pow(cos_phi, 2);
      var cs = Math.pow(c, 2);
      var t = Math.pow(tan_phi, 2);
      var ts = Math.pow(t, 2);
      con = 1 - this.es * Math.pow(sin_phi, 2);
      var n = this.a / Math.sqrt(con);
      var r = n * (1 - this.es) / con;
      var d = x / (n * this.k0);
      var ds = Math.pow(d, 2);
      lat = phi - (n * tan_phi * ds / r) * (0.5 - ds / 24 * (5 + 3 * t + 10 * c - 4 * cs - 9 * this.ep2 - ds / 30 * (61 + 90 * t + 298 * c + 45 * ts - 252 * this.ep2 - 3 * cs)));
      lon = adjust_lon(this.long0 + (d * (1 - ds / 6 * (1 + 2 * t + c - ds / 20 * (5 - 2 * c + 28 * t - 3 * cs + 8 * this.ep2 + 24 * ts))) / cos_phi));
    }
    else {
      lat = HALF_PI * sign(y);
      lon = this.long0;
    }
  }
  p.x = lon;
  p.y = lat;
  return p;
};
exports.names = ["Transverse_Mercator", "Transverse Mercator", "tmerc"];

},{"../common/adjust_lon":35,"../common/asinz":36,"../common/e0fn":37,"../common/e1fn":38,"../common/e2fn":39,"../common/e3fn":40,"../common/mlfn":44,"../common/sign":51}],94:[function(require,module,exports){
var D2R = 0.01745329251994329577;
var tmerc = require('./tmerc');
exports.dependsOn = 'tmerc';
exports.init = function() {
  if (!this.zone) {
    return;
  }
  this.lat0 = 0;
  this.long0 = ((6 * Math.abs(this.zone)) - 183) * D2R;
  this.x0 = 500000;
  this.y0 = this.utmSouth ? 10000000 : 0;
  this.k0 = 0.9996;

  tmerc.init.apply(this);
  this.forward = tmerc.forward;
  this.inverse = tmerc.inverse;
};
exports.names = ["Universal Transverse Mercator System", "utm"];

},{"./tmerc":93}],95:[function(require,module,exports){
var adjust_lon = require('../common/adjust_lon');
var HALF_PI = Math.PI/2;
var EPSLN = 1.0e-10;
var asinz = require('../common/asinz');
/* Initialize the Van Der Grinten projection
  ----------------------------------------*/
exports.init = function() {
  //this.R = 6370997; //Radius of earth
  this.R = this.a;
};

exports.forward = function(p) {

  var lon = p.x;
  var lat = p.y;

  /* Forward equations
    -----------------*/
  var dlon = adjust_lon(lon - this.long0);
  var x, y;

  if (Math.abs(lat) <= EPSLN) {
    x = this.x0 + this.R * dlon;
    y = this.y0;
  }
  var theta = asinz(2 * Math.abs(lat / Math.PI));
  if ((Math.abs(dlon) <= EPSLN) || (Math.abs(Math.abs(lat) - HALF_PI) <= EPSLN)) {
    x = this.x0;
    if (lat >= 0) {
      y = this.y0 + Math.PI * this.R * Math.tan(0.5 * theta);
    }
    else {
      y = this.y0 + Math.PI * this.R * -Math.tan(0.5 * theta);
    }
    //  return(OK);
  }
  var al = 0.5 * Math.abs((Math.PI / dlon) - (dlon / Math.PI));
  var asq = al * al;
  var sinth = Math.sin(theta);
  var costh = Math.cos(theta);

  var g = costh / (sinth + costh - 1);
  var gsq = g * g;
  var m = g * (2 / sinth - 1);
  var msq = m * m;
  var con = Math.PI * this.R * (al * (g - msq) + Math.sqrt(asq * (g - msq) * (g - msq) - (msq + asq) * (gsq - msq))) / (msq + asq);
  if (dlon < 0) {
    con = -con;
  }
  x = this.x0 + con;
  //con = Math.abs(con / (Math.PI * this.R));
  var q = asq + g;
  con = Math.PI * this.R * (m * q - al * Math.sqrt((msq + asq) * (asq + 1) - q * q)) / (msq + asq);
  if (lat >= 0) {
    //y = this.y0 + Math.PI * this.R * Math.sqrt(1 - con * con - 2 * al * con);
    y = this.y0 + con;
  }
  else {
    //y = this.y0 - Math.PI * this.R * Math.sqrt(1 - con * con - 2 * al * con);
    y = this.y0 - con;
  }
  p.x = x;
  p.y = y;
  return p;
};

/* Van Der Grinten inverse equations--mapping x,y to lat/long
  ---------------------------------------------------------*/
exports.inverse = function(p) {
  var lon, lat;
  var xx, yy, xys, c1, c2, c3;
  var a1;
  var m1;
  var con;
  var th1;
  var d;

  /* inverse equations
    -----------------*/
  p.x -= this.x0;
  p.y -= this.y0;
  con = Math.PI * this.R;
  xx = p.x / con;
  yy = p.y / con;
  xys = xx * xx + yy * yy;
  c1 = -Math.abs(yy) * (1 + xys);
  c2 = c1 - 2 * yy * yy + xx * xx;
  c3 = -2 * c1 + 1 + 2 * yy * yy + xys * xys;
  d = yy * yy / c3 + (2 * c2 * c2 * c2 / c3 / c3 / c3 - 9 * c1 * c2 / c3 / c3) / 27;
  a1 = (c1 - c2 * c2 / 3 / c3) / c3;
  m1 = 2 * Math.sqrt(-a1 / 3);
  con = ((3 * d) / a1) / m1;
  if (Math.abs(con) > 1) {
    if (con >= 0) {
      con = 1;
    }
    else {
      con = -1;
    }
  }
  th1 = Math.acos(con) / 3;
  if (p.y >= 0) {
    lat = (-m1 * Math.cos(th1 + Math.PI / 3) - c2 / 3 / c3) * Math.PI;
  }
  else {
    lat = -(-m1 * Math.cos(th1 + Math.PI / 3) - c2 / 3 / c3) * Math.PI;
  }

  if (Math.abs(xx) < EPSLN) {
    lon = this.long0;
  }
  else {
    lon = adjust_lon(this.long0 + Math.PI * (xys - 1 + Math.sqrt(1 + 2 * (xx * xx - yy * yy) + xys * xys)) / 2 / xx);
  }

  p.x = lon;
  p.y = lat;
  return p;
};
exports.names = ["Van_der_Grinten_I", "VanDerGrinten", "vandg"];
},{"../common/adjust_lon":35,"../common/asinz":36}],96:[function(require,module,exports){
var D2R = 0.01745329251994329577;
var R2D = 57.29577951308232088;
var PJD_3PARAM = 1;
var PJD_7PARAM = 2;
var datum_transform = require('./datum_transform');
var adjust_axis = require('./adjust_axis');
var proj = require('./Proj');
var toPoint = require('./common/toPoint');
module.exports = function transform(source, dest, point) {
  var wgs84;
  if (Array.isArray(point)) {
    point = toPoint(point);
  }
  function checkNotWGS(source, dest) {
    return ((source.datum.datum_type === PJD_3PARAM || source.datum.datum_type === PJD_7PARAM) && dest.datumCode !== "WGS84");
  }

  // Workaround for datum shifts towgs84, if either source or destination projection is not wgs84
  if (source.datum && dest.datum && (checkNotWGS(source, dest) || checkNotWGS(dest, source))) {
    wgs84 = new proj('WGS84');
    transform(source, wgs84, point);
    source = wgs84;
  }
  // DGR, 2010/11/12
  if (source.axis !== "enu") {
    adjust_axis(source, false, point);
  }
  // Transform source points to long/lat, if they aren't already.
  if (source.projName === "longlat") {
    point.x *= D2R; // convert degrees to radians
    point.y *= D2R;
  }
  else {
    if (source.to_meter) {
      point.x *= source.to_meter;
      point.y *= source.to_meter;
    }
    source.inverse(point); // Convert Cartesian to longlat
  }
  // Adjust for the prime meridian if necessary
  if (source.from_greenwich) {
    point.x += source.from_greenwich;
  }

  // Convert datums if needed, and if possible.
  point = datum_transform(source.datum, dest.datum, point);

  // Adjust for the prime meridian if necessary
  if (dest.from_greenwich) {
    point.x -= dest.from_greenwich;
  }

  if (dest.projName === "longlat") {
    // convert radians to decimal degrees
    point.x *= R2D;
    point.y *= R2D;
  }
  else { // else project
    dest.forward(point);
    if (dest.to_meter) {
      point.x /= dest.to_meter;
      point.y /= dest.to_meter;
    }
  }

  // DGR, 2010/11/12
  if (dest.axis !== "enu") {
    adjust_axis(dest, true, point);
  }

  return point;
};
},{"./Proj":32,"./adjust_axis":33,"./common/toPoint":53,"./datum_transform":61}],97:[function(require,module,exports){
var D2R = 0.01745329251994329577;
var extend = require('./extend');

function mapit(obj, key, v) {
  obj[key] = v.map(function(aa) {
    var o = {};
    sExpr(aa, o);
    return o;
  }).reduce(function(a, b) {
    return extend(a, b);
  }, {});
}

function sExpr(v, obj) {
  var key;
  if (!Array.isArray(v)) {
    obj[v] = true;
    return;
  }
  else {
    key = v.shift();
    if (key === 'PARAMETER') {
      key = v.shift();
    }
    if (v.length === 1) {
      if (Array.isArray(v[0])) {
        obj[key] = {};
        sExpr(v[0], obj[key]);
      }
      else {
        obj[key] = v[0];
      }
    }
    else if (!v.length) {
      obj[key] = true;
    }
    else if (key === 'TOWGS84') {
      obj[key] = v;
    }
    else {
      obj[key] = {};
      if (['UNIT', 'PRIMEM', 'VERT_DATUM'].indexOf(key) > -1) {
        obj[key] = {
          name: v[0].toLowerCase(),
          convert: v[1]
        };
        if (v.length === 3) {
          obj[key].auth = v[2];
        }
      }
      else if (key === 'SPHEROID') {
        obj[key] = {
          name: v[0],
          a: v[1],
          rf: v[2]
        };
        if (v.length === 4) {
          obj[key].auth = v[3];
        }
      }
      else if (['GEOGCS', 'GEOCCS', 'DATUM', 'VERT_CS', 'COMPD_CS', 'LOCAL_CS', 'FITTED_CS', 'LOCAL_DATUM'].indexOf(key) > -1) {
        v[0] = ['name', v[0]];
        mapit(obj, key, v);
      }
      else if (v.every(function(aa) {
        return Array.isArray(aa);
      })) {
        mapit(obj, key, v);
      }
      else {
        sExpr(v, obj[key]);
      }
    }
  }
}

function rename(obj, params) {
  var outName = params[0];
  var inName = params[1];
  if (!(outName in obj) && (inName in obj)) {
    obj[outName] = obj[inName];
    if (params.length === 3) {
      obj[outName] = params[2](obj[outName]);
    }
  }
}

function d2r(input) {
  return input * D2R;
}

function cleanWKT(wkt) {
  if (wkt.type === 'GEOGCS') {
    wkt.projName = 'longlat';
  }
  else if (wkt.type === 'LOCAL_CS') {
    wkt.projName = 'identity';
    wkt.local = true;
  }
  else {
    if (typeof wkt.PROJECTION === "object") {
      wkt.projName = Object.keys(wkt.PROJECTION)[0];
    }
    else {
      wkt.projName = wkt.PROJECTION;
    }
  }
  if (wkt.UNIT) {
    wkt.units = wkt.UNIT.name.toLowerCase();
    if (wkt.units === 'metre') {
      wkt.units = 'meter';
    }
    if (wkt.UNIT.convert) {
      wkt.to_meter = parseFloat(wkt.UNIT.convert, 10);
    }
  }

  if (wkt.GEOGCS) {
    //if(wkt.GEOGCS.PRIMEM&&wkt.GEOGCS.PRIMEM.convert){
    //  wkt.from_greenwich=wkt.GEOGCS.PRIMEM.convert*D2R;
    //}
    if (wkt.GEOGCS.DATUM) {
      wkt.datumCode = wkt.GEOGCS.DATUM.name.toLowerCase();
    }
    else {
      wkt.datumCode = wkt.GEOGCS.name.toLowerCase();
    }
    if (wkt.datumCode.slice(0, 2) === 'd_') {
      wkt.datumCode = wkt.datumCode.slice(2);
    }
    if (wkt.datumCode === 'new_zealand_geodetic_datum_1949' || wkt.datumCode === 'new_zealand_1949') {
      wkt.datumCode = 'nzgd49';
    }
    if (wkt.datumCode === "wgs_1984") {
      if (wkt.PROJECTION === 'Mercator_Auxiliary_Sphere') {
        wkt.sphere = true;
      }
      wkt.datumCode = 'wgs84';
    }
    if (wkt.datumCode.slice(-6) === '_ferro') {
      wkt.datumCode = wkt.datumCode.slice(0, - 6);
    }
    if (wkt.datumCode.slice(-8) === '_jakarta') {
      wkt.datumCode = wkt.datumCode.slice(0, - 8);
    }
    if (~wkt.datumCode.indexOf('belge')) {
      wkt.datumCode = "rnb72";
    }
    if (wkt.GEOGCS.DATUM && wkt.GEOGCS.DATUM.SPHEROID) {
      wkt.ellps = wkt.GEOGCS.DATUM.SPHEROID.name.replace('_19', '').replace(/[Cc]larke\_18/, 'clrk');
      if (wkt.ellps.toLowerCase().slice(0, 13) === "international") {
        wkt.ellps = 'intl';
      }

      wkt.a = wkt.GEOGCS.DATUM.SPHEROID.a;
      wkt.rf = parseFloat(wkt.GEOGCS.DATUM.SPHEROID.rf, 10);
    }
    if (~wkt.datumCode.indexOf('osgb_1936')) {
      wkt.datumCode = "osgb36";
    }
  }
  if (wkt.b && !isFinite(wkt.b)) {
    wkt.b = wkt.a;
  }

  function toMeter(input) {
    var ratio = wkt.to_meter || 1;
    return parseFloat(input, 10) * ratio;
  }
  var renamer = function(a) {
    return rename(wkt, a);
  };
  var list = [
    ['standard_parallel_1', 'Standard_Parallel_1'],
    ['standard_parallel_2', 'Standard_Parallel_2'],
    ['false_easting', 'False_Easting'],
    ['false_northing', 'False_Northing'],
    ['central_meridian', 'Central_Meridian'],
    ['latitude_of_origin', 'Latitude_Of_Origin'],
    ['latitude_of_origin', 'Central_Parallel'],
    ['scale_factor', 'Scale_Factor'],
    ['k0', 'scale_factor'],
    ['latitude_of_center', 'Latitude_of_center'],
    ['lat0', 'latitude_of_center', d2r],
    ['longitude_of_center', 'Longitude_Of_Center'],
    ['longc', 'longitude_of_center', d2r],
    ['x0', 'false_easting', toMeter],
    ['y0', 'false_northing', toMeter],
    ['long0', 'central_meridian', d2r],
    ['lat0', 'latitude_of_origin', d2r],
    ['lat0', 'standard_parallel_1', d2r],
    ['lat1', 'standard_parallel_1', d2r],
    ['lat2', 'standard_parallel_2', d2r],
    ['alpha', 'azimuth', d2r],
    ['srsCode', 'name']
  ];
  list.forEach(renamer);
  if (!wkt.long0 && wkt.longc && (wkt.projName === 'Albers_Conic_Equal_Area' || wkt.projName === "Lambert_Azimuthal_Equal_Area")) {
    wkt.long0 = wkt.longc;
  }
  if (!wkt.lat_ts && wkt.lat1 && (wkt.projName === 'Stereographic_South_Pole' || wkt.projName === 'Polar Stereographic (variant B)')) {
    wkt.lat0 = d2r(wkt.lat1 > 0 ? 90 : -90);
    wkt.lat_ts = wkt.lat1;
  }
}
module.exports = function(wkt, self) {
  var lisp = JSON.parse(("," + wkt).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g, ',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g, ',"$1"]').replace(/,\["VERTCS".+/,''));
  var type = lisp.shift();
  var name = lisp.shift();
  lisp.unshift(['name', name]);
  lisp.unshift(['type', type]);
  lisp.unshift('output');
  var obj = {};
  sExpr(lisp, obj);
  cleanWKT(obj.output);
  return extend(self, obj.output);
};

},{"./extend":64}],98:[function(require,module,exports){
module.exports={
  "_from": "proj4@2.3.10",
  "_id": "proj4@2.3.10",
  "_inBundle": false,
  "_integrity": "sha1-9uZr3MozLCWl49jvJlz8nXtg/Qw=",
  "_location": "/proj4",
  "_phantomChildren": {},
  "_requested": {
    "type": "version",
    "registry": true,
    "raw": "proj4@2.3.10",
    "name": "proj4",
    "escapedName": "proj4",
    "rawSpec": "2.3.10",
    "saveSpec": null,
    "fetchSpec": "2.3.10"
  },
  "_requiredBy": [
    "/"
  ],
  "_resolved": "https://registry.npmjs.org/proj4/-/proj4-2.3.10.tgz",
  "_shasum": "f6e66bdcca332c25a5e3d8ef265cfc9d7b60fd0c",
  "_spec": "proj4@2.3.10",
  "_where": "C:\\Users\\bv176\\github\\origoFork",
  "author": "",
  "bugs": {
    "url": "https://github.com/proj4js/proj4js/issues"
  },
  "bundleDependencies": false,
  "contributors": [
    {
      "name": "Mike Adair",
      "email": "madair@dmsolutions.ca"
    },
    {
      "name": "Richard Greenwood",
      "email": "rich@greenwoodmap.com"
    },
    {
      "name": "Calvin Metcalf",
      "email": "calvin.metcalf@gmail.com"
    },
    {
      "name": "Richard Marsden",
      "url": "http://www.winwaed.com"
    },
    {
      "name": "T. Mittan"
    },
    {
      "name": "D. Steinwand"
    },
    {
      "name": "S. Nelson"
    }
  ],
  "dependencies": {
    "mgrs": "~0.0.2"
  },
  "deprecated": false,
  "description": "Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",
  "devDependencies": {
    "browserify": "~3.24.5",
    "chai": "~1.8.1",
    "curl": "git://github.com/cujojs/curl.git",
    "grunt": "~0.4.2",
    "grunt-browserify": "~1.3.0",
    "grunt-cli": "~0.1.13",
    "grunt-contrib-connect": "~0.6.0",
    "grunt-contrib-jshint": "~0.8.0",
    "grunt-contrib-uglify": "~0.3.2",
    "grunt-mocha-phantomjs": "~0.4.0",
    "istanbul": "~0.2.4",
    "mocha": "~1.17.1",
    "tin": "~0.4.0"
  },
  "directories": {
    "test": "test",
    "doc": "docs"
  },
  "homepage": "https://github.com/proj4js/proj4js#readme",
  "jam": {
    "main": "dist/proj4.js",
    "include": [
      "dist/proj4.js",
      "README.md",
      "AUTHORS",
      "LICENSE.md"
    ]
  },
  "license": "MIT",
  "main": "lib/index.js",
  "name": "proj4",
  "repository": {
    "type": "git",
    "url": "git://github.com/proj4js/proj4js.git"
  },
  "scripts": {
    "test": "./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"
  },
  "version": "2.3.10"
}

},{}],99:[function(require,module,exports){
(function (global){
"use strict";

window.proj4 = require('proj4');
global.jQuery = require("jquery");
var events = require('events');
var eventEmitter = new events.EventEmitter();

var $ = require('jquery');
var Viewer = require('./src/viewer');
var mapLoader = require('./src/maploader');
var controlInitialiser = require('./src/controlinitialiser');

var origo = {};
origo.map = {};
origo.config = require('./conf/origoConfig');
origo.controls = require('./conf/origoControls');

origo.map.init = function(options, opt_config) {
  var config = opt_config ? $.extend(origo.config, opt_config) : origo.config;

  var map = mapLoader(options, config);

  if (map) {
    map.then(function(config) {
      init(config);
    })
    origo.map.viewer = Viewer;
    return Viewer;
  } else {
    return undefined;
  }
}

function init(config) {
  Viewer.init(config.el, config.options);

  //Init controls
  controlInitialiser(config.options.controls);
}

module.exports = origo;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./conf/origoConfig":1,"./conf/origoControls":2,"./src/controlinitialiser":103,"./src/maploader":150,"./src/viewer":209,"events":6,"jquery":27,"proj4":67}],100:[function(require,module,exports){
"use strict";

var $ = require('jquery');
var Utils = require('./utils');
var Modal = require('./modal');

var $aboutButton;
var buttonText;
var title;
var content;

function init(opt_options) {
  var options = opt_options || {};
  buttonText = options.buttonText || 'Om kartan';
  title = options.title || 'Om kartan';
  content = options.content || '<p></p>';

  render();
  bindUIActions();
}

function render() {
  var el = Utils.createListButton({
    id: 'o-about',
    iconCls: 'o-icon-fa-info-circle',
    src: '#fa-info-circle',
    text: buttonText
  });
  $('#o-menutools').append(el);
  $aboutButton = $('#o-about-button');
}

function bindUIActions() {
  $aboutButton.on('click', function(e) {
    Modal.createModal('#o-map', {
      title: title,
      content: content
    });

    Modal.showModal();
    e.preventDefault();
  });
}

module.exports.init = init;

},{"./modal":154,"./utils":193,"jquery":27}],101:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var Viewer = require('./viewer');

var map;

function Init(opt_options) {
  var options = opt_options || {};
  var breakPoint = options.breakPoint || [768, 500];
  var attribution;
  map = Viewer.getMap();

  attribution = new ol.control.Attribution({
    collapsible: false
  });

  map.addControl(attribution);

  $(window).on('resize', checkSize);
  checkSize();

  function checkSize() {
    var mapSize = map.getSize();
    var collapsed = (mapSize[0] <= breakPoint[0] || mapSize[1] <= breakPoint[1]);
    attribution.setCollapsible(collapsed);
    attribution.setCollapsed(collapsed);
  }
}

module.exports.init = Init;

},{"./viewer":209,"jquery":27,"openlayers":30}],102:[function(require,module,exports){
// hbsfy compiled Handlebars template
var HandlebarsCompiler = require('hbsfy/runtime');
module.exports = HandlebarsCompiler.template({"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
    return "<svg width='32px' height='32px' xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid\" class=\"uil-ripple\">\r\n  <rect x=\"0\" y=\"0\" width=\"100\" height=\"100\" fill=\"none\" class=\"bk\"></rect>\r\n  <g>\r\n    <animate attributeName=\"opacity\" dur=\"2s\" repeatCount=\"indefinite\" begin=\"0s\" keyTimes=\"0;0.33;1\" values=\"1;1;0\"></animate>\r\n      <circle cx=\"50\" cy=\"50\" r=\"40\" stroke=\"#000000\" fill=\"none\" stroke-width=\"6\" stroke-linecap=\"round\">\r\n        <animate attributeName=\"r\" dur=\"2s\" repeatCount=\"indefinite\" begin=\"0s\" keyTimes=\"0;0.33;1\" values=\"0;22;44\"></animate>\r\n      </circle>\r\n  </g>\r\n      <g>\r\n        <animate attributeName=\"opacity\" dur=\"2s\" repeatCount=\"indefinite\" begin=\"1s\" keyTimes=\"0;0.33;1\" values=\"1;1;0\"></animate>\r\n        <circle cx=\"50\" cy=\"50\" r=\"40\" stroke=\"#000\" fill=\"none\" stroke-width=\"6\" stroke-linecap=\"round\">\r\n          <animate attributeName=\"r\" dur=\"2s\" repeatCount=\"indefinite\" begin=\"1s\" keyTimes=\"0;0.33;1\" values=\"0;22;44\"></animate>\r\n        </circle>\r\n      </g>\r\n</svg>\r\n";
},"useData":true});

},{"hbsfy/runtime":26}],103:[function(require,module,exports){
"use strict";

var controlInitialiser = function(controls) {
    var controlName, controlOptions;
    controls.forEach(function(control) {
        controlName = control.name;
        controlOptions = control.options || undefined;
        if (origo.controls.hasOwnProperty(controlName)) {
            controlOptions ? origo.controls[controlName].init(controlOptions) : origo.controls[controlName].init();
        }
    });
}


module.exports = controlInitialiser;

},{}],104:[function(require,module,exports){
 "use strict";

var $ = require('jquery');
var utils = require('./utils');

module.exports = function(target, items, options) {
  var dataAttribute = 'data-' + options.dataAttribute || 'default';
  var $target = $('#' + target);
  var activeItem = options.active || undefined;
  var activeCls = 'o-active';
  var ul;
  var li = [];
  var cls = 'o-dropdown-li';
  var icon = utils.createSvg({
    href: '#ic_check_24px',
    cls: 'o-icon-24'
  });
  render();
  addListener();

  function render() {
    items.forEach(function(item, index) {
      var obj = {
        cls: cls
      };
      var active = utils.createElement('span', icon, {
        cls: 'o-icon'
      });
      obj[dataAttribute] = item.value;
      if (item.value === activeItem) {
        obj.cls = activeCls;
      }
      li[index] = utils.createElement('li', item.name + active, obj);
    });
    ul = utils.createElement('ul', li.join(''), {
      cls: 'o-dropdown'
    });
    $target.append(ul);
  }

  function addListener() {
    $target.on('click', 'ul', function(e) {
      var $active = $(e.target);
      $target.trigger({
        type: 'changeDropdown',
        dataAttribute: $(e.target).data(options.dataAttribute)
      });
      toggleActive($active);
    });
  }

  function toggleActive($active) {
    $target.find('li').removeClass(activeCls);
    $active.addClass(activeCls);
  }
};

},{"./utils":193,"jquery":27}],105:[function(require,module,exports){
 "use strict";

var $ = require('jquery');
var viewer = require('./viewer');
var utils = require('./utils');
var editorToolbar = require('./editor/editortoolbar');

var $editorButton;

module.exports = function() {

  return {
    init: Init
  };
}();

function Init(opt_options) {
  var options = opt_options || {};
  var editableLayers = viewer.getLayersByProperty('editable', true, true);
  if (editableLayers.length) {
    options.editableLayers = editableLayers;
  }  
  options.autoSave = options.hasOwnProperty('autoSave') ? options.autoSave : true;
  options.autoForm = options.hasOwnProperty('autoForm') ? options.autoForm : false;
  options.currentLayer = options.defaultLayer || options.editableLayers[0];
  editorToolbar.init(options);
  render();
  $editorButton = $('#o-editor-button');
  bindUIActions();
}

function bindUIActions() {
  $editorButton.on('click', function(e) {
    $('.o-map').first().trigger({
      type: 'enableInteraction',
      interaction: 'editor'
    });
    this.blur();
    e.stopPropagation();
    e.preventDefault();
  });
}

function render() {
  var el = utils.createListButton({
    id: 'o-editor',
    iconCls: 'o-icon-fa-pencil',
    src: '#fa-pencil',
    text: 'Redigera'
  });
  $('#o-menutools').append(el);
}

},{"./editor/editortoolbar":113,"./utils":193,"./viewer":209,"jquery":27}],106:[function(require,module,exports){
/* ========================================================================
 * Copyright 2016 Origo
 * Licensed under BSD 2-Clause (https://github.com/origo-map/origo/blob/master/LICENSE.txt)
 * ======================================================================== */
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var viewer = require('../viewer');
var editsStore = require('./editsstore')();
var dispatcher = require('./editDispatcher');

var format = new ol.format.EsriJSON();
var urlSuffix = {
  update: 'updateFeatures',
  insert: 'addFeatures',
  delete: 'deleteFeatures'
};

module.exports = function(transObj, layerName) {
  agsTransaction(transObj, layerName);
}

function writeAgsTransaction(features, options) {
  var data = {};

  if (options.type === 'delete') {
    var objectIds = features.map(function(feature) {
      return feature.getId();
    });
    data.objectIds = objectIds.join(',');
  } else {
    var agsFeatures = features.map(function(feature) {
      return format.writeFeature(feature, {
        featureProjection: options.projection
      });
    });
    data.features = '[' + agsFeatures + ']';
  }
  data.f = 'json';
  return data;
}

function agsTransaction(transObj, layerName) {
  var projection = viewer.getProjection();
  var layer = viewer.getLayer(layerName);
  var id = layer.get('id');
  var source = viewer.getMapSource()[layer.get('sourceName')];
  var types = Object.getOwnPropertyNames(transObj);
  var cb = {
    update: updateSuccess,
    insert: insertSuccess,
    delete: deleteSuccess
  };
  types.forEach(function(type) {
    if (transObj[type]) {
      var url = source.url  + '/' + id + '/' + urlSuffix[type];
      var datat = writeAgsTransaction(transObj[type], {
        projection: projection,
        type: type
      });
      $.ajax({
        type: "POST",
        url: url,
        data: datat,
        success: cb[type],
        error: error,
        context: this
      });
    }
  });

  function updateSuccess(data) {
    var feature = transObj.update;
    var result = JSON.parse(data);
    if (result) {
      if (result.updateResults.length > 0) {
        result.updateResults.forEach(function(update, index) {
          if (update.success !== true) {
            throwServerError(update.error);
          } else {
            dispatcher.emitChangeFeature({
              feature: [feature[index]],
              layerName: layerName,
              status: 'finished',
              action: 'update'
            });
          }
        });
      }
    } else {
      error();
    }
  }

  function insertSuccess(data) {
    var feature = transObj.insert;
    var result = JSON.parse(data);
    if (result) {
      if (result.addResults.length > 0) {
        result.addResults.forEach(function(insert, index) {
          if (insert.success !== true) {
            throwServerError(insert.error);
          } else {
            dispatcher.emitChangeFeature({
              feature: [feature[index]],
              layerName: layerName,
              status: 'finished',
              action: 'insert'
            });
            feature[index].set('objectId',insert.objectId);
            feature[index].setId(insert.objectId);
          }
        });
      }
    } else {
      error();
    }
  }

  function deleteSuccess(data) {
    var feature = transObj.delete;
    var result = JSON.parse(data);
    if (result) {
      if (result.deleteResults.length > 0) {
        result.deleteResults.forEach(function(deleted, index) {
          if (deleted.success !== true) {
            throwServerError(deleted.error);
          } else {
            dispatcher.emitChangeFeature({
              feature: [feature[index]],
              layerName: layerName,
              status: 'finished',
              action: 'delete'
            });
          }
        });
      }
    } else {
      error();
    }
  }

  function error(e) {
    var errorMsg = e ? (e.status + ' ' + e.statusText) : "";
    alert('Det inträffade ett fel när ändringarna skulle sparas till servern...<br><br>' +
      errorMsg);
  }

  function throwServerError(error) {
    alert(error.description + ' (' + error.code + ')');
  }
}

},{"../viewer":209,"./editDispatcher":108,"./editsstore":114,"jquery":27,"openlayers":30}],107:[function(require,module,exports){
"use strict";

var $ = require('jquery');
var viewer = require('../viewer');
var dropDown = require('../dropdown');
var dispatcher = require('./editdispatcher');
var createElement = require('../utils').createElement;

module.exports = function drawTools(tools, defaultLayer) {
  var toolNames = {
    Polygon: 'Polygon',
    Point: 'Punkt',
    Line: 'Linje',
    box: 'Rektangel'
  };
  var defaultTools = tools || {};
  var drawTools = undefined;
  var currentLayer = defaultLayer;
  var map = viewer.getMap();
  var active = false;
  var activeCls = 'o-active';
  var target = 'editor-toolbar-draw-dropdown';
  render();
  addListener();

  function render() {
    var popover = createElement('div', '', {
      id: target,
      cls: 'o-popover'
    });
    $('#' + 'o-editor-draw').after(popover);
    setActive(false);
  }

  function addDropDown(options) {
    dropDown(options.target, options.selectOptions, {
      dataAttribute: 'shape',
      active: options.activeTool
    });
    $('#' + target).on('changeDropdown', function(e) {
      e.stopImmediatePropagation(e);
      dispatcher.emitChangeEditorShapes(e.dataAttribute);
      close();
    });
  }

  function addListener() {
    $(document).on('changeEdit', onChangeEdit);
    $(document).on('toggleEdit', onToggleEdit);
  }

  function setActive(state) {
    if (state) {
      if (drawTools.length > 1) {
        active = true;
        $('#' + target + ' ul').remove();
        addDropDown(createDropDownOptions());
        $('#' + target).addClass(activeCls);
        map.once('click', close);
      }
    } else {
      active = false;
      $('#' + target).removeClass(activeCls);
      map.un('click', close);
    }
  }

  function close() {
    if (active) {
      setActive(false);
    }
  }

  function onChangeEdit(e) {
    if (e.tool === 'draw' && e.active === true) {
      setDrawTools(currentLayer);
      setActive(true);
    } else if (e.tool === 'draw' && e.active === false) {
      setActive(false);
    }
    e.stopPropagation();
  }

  function onToggleEdit(e) {
    if (e.tool === 'edit' && e.currentLayer) {
      currentLayer = e.currentLayer;
    }
    e.stopPropagation();
  }

  function setDrawTools(layerName) {
    var layer = viewer.getLayer(layerName);
    var geometryType;
    drawTools = layer.get('drawTools') || [];
    if (layer.get('drawTools')) {
      drawTools = layer.get('drawTools');
    } else {
      geometryType = layer.get('geometryType');
      drawTools = defaultTools[geometryType] ? defaultTools[geometryType].slice(0) : [];
      drawTools.unshift(geometryType);
    }
  }

  function createDropDownOptions() {
    return {
      target: target,
      selectOptions: selectionModel(drawTools),
      activeTool: drawTools[0]
    };
  }

  function selectionModel(drawTools) {
    var selectOptions = drawTools.map(function(drawTool) {
      var obj = {};
      obj.name = toolNames[drawTool];
      obj.value = drawTool;
      return obj;
    });
    return selectOptions;
  }
}

},{"../dropdown":104,"../utils":193,"../viewer":209,"./editdispatcher":109,"jquery":27}],108:[function(require,module,exports){
"use strict";

var $ = require('jquery');

module.exports = {
  emitChangeEdit: emitChangeEdit,
  emitChangeFeature: emitChangeFeature,
  emitToggleEdit: emitToggleEdit,
  emitEnableInteraction: emitEnableInteraction,
  emitEditsChange: emitEditsChange,
  emitChangeEditorShapes: emitChangeEditorShapes,
  emitChangeOfflineEdits: emitChangeOfflineEdits
}

function emitChangeEdit(tool, state) {
  $.event.trigger({
    type: 'changeEdit',
    tool: tool,
    active: state
  });
}

function emitChangeFeature(change) {
  $.event.trigger({
    type: 'changeFeature',
    feature: change.feature,
    layerName: change.layerName,
    action: change.action,
    status: change.status || 'pending'
  });
}

function emitToggleEdit(tool, opt_options) {
  var options = opt_options || {};
  var e = {
    type: 'toggleEdit',
    tool: tool
  };
  $.extend(e, options);
  $.event.trigger(e);
}

function emitEnableInteraction() {
  $.event.trigger({
    type: 'enableInteraction',
    interaction: 'editor'
  });
}

function emitEditsChange(edits) {
  $.event.trigger({
    type: 'editsChange',
    edits: edits
  });
}

function emitChangeEditorShapes(shape) {
  $.event.trigger({
    type: 'editorShapes',
    shape: shape
  });
}

function emitChangeOfflineEdits(edits, layerName) {
  $.event.trigger({
    type: 'changeOfflineEdits',
    edits: edits,
    layerName: layerName
  });
}

},{"jquery":27}],109:[function(require,module,exports){
arguments[4][108][0].apply(exports,arguments)
},{"dup":108,"jquery":27}],110:[function(require,module,exports){
"use strict";

module.exports = function createForm(obj) {
  var id = obj.elId.slice(1);
  var cls = obj.cls || '';
  cls += id;
  cls += obj.isVisible ? "" : " o-hidden";
  var label = obj.title;
  var val = obj.isVisible ? obj.val : '';
  var type = obj.type;
  var maxLength = obj.maxLength ? ' maxlength="' + obj.maxLength + '" ' : '';
  var dropdownOptions = obj.options || [];
  var el;
  var checked;
  var firstOption;
  switch (type) {
    case 'text':
      el = '<div><label>' + label + '</label><br><input type="text" id="' + id + '" value="' + val + '"' + maxLength + '></div>';
      break;
    case 'textarea':
      el = '<div><label>' + label + '</label><br><textarea id="' + id + '"' + maxLength + 'rows="3">' + val + '</textarea></div>';
      break;
    case 'checkbox':
      checked = val ? ' checked' : '';
      el = '<div class="o-form-checkbox"><label>' + label + '</label><input type="checkbox" id="' + id + '" value="' + val + '"' + checked + '></div>';
      break;
    case 'dropdown':
      firstOption;
      if (val) {
        firstOption = '<option value="' + val + '" selected>' + val + '</option>';
      } else {
        firstOption = '<option value="" selected>Välj</option>';
      }
      el = '<div class="' + cls + '"><label>' + label + '</label><br><select id=' + id + '>' + firstOption;
      for (var i = 0; i < dropdownOptions.length; i++) {
        el += '<option value="' + dropdownOptions[i] + '">' + dropdownOptions[i] + '</option>';
      }
      el += '</select></div>';
      break;
    case 'image':
      var imageClass = val ? '' : 'o-hidden';
      el = '<div class="' + cls + '"><label>' + label + '</label><br>';
      el += '<img src="' + val + '" id="image-upload" class="' + imageClass + '"/>';
      el += '<input type="file" id="' + id + '" value="' + val + '" accept="image/*">';
      el += '<input id="o-delete-image-button" class="' + imageClass + '" type="button" value="Ta bort bild">';
      el += '</div>';
      break;
  }
  return el;
}

},{}],111:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var viewer = require('../viewer');
var modal = require('../modal');
var featureInfo = require('../featureinfo');
var editsStore = require('./editsstore')();
var generateUUID = require('../utils/generateuuid');
var transactionHandler = require('./transactionhandler');
var dispatcher = require('./editdispatcher');
var editForm = require('./editform');
var imageresizer = require('../utils/imageresizer');
var getImageOrientation = require('../utils/getimageorientation');
var shapes = require('./shapes');

var editLayers = {};
var autoSave = undefined;
var autoForm = undefined;
var editSource = undefined;
var geometryType = undefined;
var geometryName = undefined;
var map = undefined;
var currentLayer = undefined;
var editableLayers = undefined;
var attributes = undefined;
var title = undefined;
var draw = undefined;
var hasDraw = undefined;
var hasAttribute = undefined;
var hasSnap = undefined;
var select = undefined;
var modify = undefined;
var snap = undefined;
var tools = undefined;

module.exports = function(options) {
  map = viewer.getMap();
  currentLayer = options.currentLayer;
  editableLayers = options.editableLayers;
  tools = options.drawTools || [];

  //set edit properties for editable layers
  editLayers = setEditProps(options);
  editableLayers.forEach(function(layerName) {
    var layer = viewer.getLayer(layerName);
    verifyLayer(layerName);
    if (layerName === currentLayer && options.isActive) {
      dispatcher.emitEnableInteraction();
      setEditLayer(layerName);
    }
  });

  autoSave = options.autoSave;
  autoForm = options.autoForm;
  $(document).on('toggleEdit', onToggleEdit);
  $(document).on('changeEdit', onChangeEdit);
  $(document).on('editorShapes', onChangeShape);
}

function setEditLayer(layerName) {
  currentLayer = layerName;
  setInteractions();
}

function setInteractions(drawType) {
  var editLayer = editLayers[currentLayer];
  var drawOptions;
  editSource = editLayer.getSource();
  attributes = editLayer.get('attributes');
  title = editLayer.get('title') || 'Information';
  drawOptions = {
    source: editSource,
    type: editLayer.get('geometryType'),
    geometryName: editLayer.get('geometryName')
  };
  if (drawType) {
    $.extend(drawOptions, shapes(drawType));
  }
  removeInteractions();
  draw = new ol.interaction.Draw(drawOptions);
  hasDraw = false;
  hasAttribute = false;
  select = new ol.interaction.Select({
    layers: [editLayer]
  });
  modify = new ol.interaction.Modify({
    features: select.getFeatures()
  });
  map.addInteraction(select);
  map.addInteraction(modify);
  map.addInteraction(draw);
  modify.on('modifyend', onModifyEnd, this);
  draw.on('drawend', onDrawEnd, this);
  setActive();

  //If snap should be active then add snap internactions for all snap layers
  hasSnap = editLayer.get('snap');
  if (hasSnap) {
    var selectionSource = featureInfo.getSelectionLayer().getSource();
    var snapSources = editLayer.get('snapLayers') ? getSnapSources(editLayer.get('snapLayers')) : [editLayer.get('source')];
    snapSources.push(selectionSource);
    snap = addSnapInteraction(snapSources);
  }
}

function verifyLayer(layerName) {
  if (!(editLayers[layerName].get('geometryType'))) {
    addFeatureAddListener(layerName);
  }
}

function setGeometryProps(layer) {
  var layerName = layer.get('name');
  editLayers[layerName].set('geometryType', layer.getSource().getFeatures()[0].getGeometry().getType());
  if (layerName === currentLayer) {
    setEditLayer(layerName);
  }
}

function addFeatureAddListener(layerName) {
  var layer = viewer.getLayer(layerName);
  layer.getSource().once('addfeature', function(e) {
    setGeometryProps(layer);
  });
}

function setEditProps(options) {
  var initialValue = {};
  var result = editableLayers.reduce(function(layerProps, layerName) {
    var layer = viewer.getLayer(layerName);
    var snap = options.hasOwnProperty('snap') ? options.snap : true;
    var snapLayers = options.snapLayers || editableLayers;
    layer.set('snap', snap);
    layer.set('snapLayers', snapLayers);
    layerProps[layerName] = layer;
    return layerProps;
  }, initialValue);
  return result;
}

function isActive() {
  if (modify === undefined || select === undefined) {
    return false;
  } else {
    return true;
  }
}

function onDeleteSelected() {
  var features = select.getFeatures();

  // Make sure all features are loaded in the source
  editSource = editLayers[currentLayer].getSource();
  if (features.getLength() === 1) {
    var feature = features.item(0);
    var r = confirm('Är du säker på att du vill ta bort det här objektet?');
    if (r === true) {
      saveFeature({
        feature: feature,
        layerName: currentLayer,
        action: 'delete'
      });
      select.getFeatures().clear();
      editSource.removeFeature(editSource.getFeatureById(feature.getId()));
    }
  }
}

function onModifyEnd(evt) {
  var feature = evt.features.item(0);
  saveFeature({
    feature: feature,
    layerName: currentLayer,
    action: 'update'
  });
}

function onDrawEnd(evt) {
  var feature = evt.feature;
  var layer = viewer.getLayer(currentLayer);
  var attributes = getDefaultValues(layer.get('attributes'));
  feature.setProperties(attributes);
  feature.setId(generateUUID());
  editSource.addFeature(feature);
  setActive();
  hasDraw = false;
  saveFeature({
    feature: feature,
    layerName: currentLayer,
    action: 'insert'
  });
  dispatcher.emitChangeEdit('draw', false);
  if (autoForm) {
    editAttributes(feature);
  }
}

function cancelDraw() {
  setActive();
  hasDraw = false;
  dispatcher.emitChangeEdit('draw', false);
}

function onChangeShape(e) {
  setInteractions(e.shape);
  startDraw();
}

function cancelAttribute() {
  modal.closeModal();
  dispatcher.emitChangeEdit('attribute', false);
}

function onAttributesSave(feature, attributes) {
  $('#o-save-button').on('click', function(e) {
    var editEl = {};
    var fileReader;
    var imageData;
    var input;
    var file;
    var orientation;

    //Read values from form
    attributes.forEach(function(attribute) {

      //Get the input container class
      var containerClass = '.' + attribute.elId.slice(1);

      // If hidden element it should be excluded
      if ($(containerClass).hasClass('o-hidden') === false) {

        //Check if checkbox. If checkbox read state.
        if ($(attribute.elId).attr('type') === 'checkbox') {
          editEl[attribute.name] = $(attribute.elId).is(':checked') ? 1 : 0;
        }

        //Read value from input text, textarea or select
        else {
          editEl[attribute.name] = $(attribute.elId).val();
        }
      }

      //Check if file. If file, read and trigger resize
      if ($(attribute.elId).attr('type') === 'file') {
        input = $(attribute.elId)[0];
        file = input.files[0];

        if (file) {
          fileReader = new FileReader();
          fileReader.onload = function() {
            getImageOrientation(file, function(orientation) {
              imageresizer(fileReader.result, attribute, orientation, function(resized) {
                editEl[attribute.name] = resized;
                $(document).trigger('imageresized');
              });
            });
          }

          fileReader.readAsDataURL(file);
        } else {
          editEl[attribute.name] = $(attribute.elId).attr('value');
        }
      }
    });

    if (fileReader && fileReader.readyState == 1) {
      $(document).on('imageresized', function() {
        attributesSaveHandler(feature, editEl);
      });
    } else {
      attributesSaveHandler(feature, editEl);
    }

    modal.closeModal();
    $('#o-save-button').blur();
    e.preventDefault();
  });
}

function attributesSaveHandler(feature, formEl) {

  //get DOM values and set attribute values to feature
  attributes.forEach(function(attribute) {
    if (formEl.hasOwnProperty(attribute.name)) {
      feature.set(attribute.name, formEl[attribute.name]);
    }
  });
  saveFeature({
    feature: feature,
    layerName: currentLayer,
    action: 'update'
  });
}

function removeInteractions() {
  if (isActive()) {
    map.removeInteraction(modify);
    map.removeInteraction(select);
    map.removeInteraction(draw);
    if (snap) {
      snap.forEach(function(snapInteraction) {
        map.removeInteraction(snapInteraction);
      });
    }

    modify = undefined;
    select = undefined;
    draw = undefined;
    snap = undefined;
  }
}

function startDraw() {
  if (hasDraw !== true && isActive()) {
    setActive('draw');
    hasDraw = true;
    dispatcher.emitChangeEdit('draw', true);
  }
}

function addListener() {
  var fn = function(obj) {
    $(obj.elDependencyId).on(obj.eventType, function(e) {
      var containerClass = '.' + obj.elId.slice(1);
      if ($(obj.elDependencyId + (' option:selected')).text() === obj.requiredVal) {
        $(containerClass).removeClass('o-hidden');
      } else {
        $(containerClass).addClass('o-hidden');
      }
    });
  }

  return fn;
}

function addImageListener() {
  var fn = function(obj) {
    var fileReader = new FileReader();
    var containerClass = '.' + obj.elId.slice(1);
    $(obj.elId).on('change', function(e) {
      $(containerClass + ' img').removeClass('o-hidden');
      $(containerClass + ' input[type=button]').removeClass('o-hidden');

      if (this.files && this.files[0]) {
        fileReader.onload = function (e) {
          $(containerClass + ' img').attr('src', e.target.result);
        };

        fileReader.readAsDataURL(this.files[0]);
      }
    });

    $(containerClass + ' input[type=button]').on('click', function(e) {
      $(obj.elId).attr('value', '');
      $(containerClass + ' img').addClass('o-hidden');
      $(this).addClass('o-hidden');
    });
  }

  return fn;
}

function onToggleEdit(e) {
  e.stopPropagation();
  if (e.tool === 'draw') {
    if (hasDraw === false) {
      setInteractions();
      startDraw();
    } else {
      cancelDraw();
    }
  } else if (e.tool === 'attribute') {
    if (hasAttribute === false) {
      editAttributes();
    } else {
      cancelAttribute();
    }
  } else if (e.tool === 'delete') {
      onDeleteSelected();
  } else if (e.tool === 'edit') {
      setEditLayer(e.currentLayer);
  } else if (e.tool === 'cancel') {
      removeInteractions();
  } else if (e.tool === 'save') {
      saveFeatures();
  }
}

function onChangeEdit(e) {
  if (e.tool!== 'draw' && e.active) {
    cancelDraw();
  }
}

function getSnapSources(layers) {
  var sources = layers.map(function(layer) {
    return viewer.getLayer(layer).getSource();
  });

  return sources;
}

function addSnapInteraction(sources) {
  var snapInteractions = [];
  sources.forEach(function(source) {
    var interaction = new ol.interaction.Snap({
      source: source
    });
    snapInteractions.push(interaction);
    map.addInteraction(interaction);
  });
  return snapInteractions;
}

function setActive(editType) {
  switch (editType) {
    case 'modify':
      draw.setActive(false);
      modify.setActive(true);
      select.setActive(true);
      break;
    case 'draw':
      draw.setActive(true);
      modify.setActive(true);
      select.setActive(false);
      break;
    default:
      draw.setActive(false);
      hasDraw = false;
      modify.setActive(true);
      select.setActive(true);
      break;
  }
}

function editAttributes(feature) {
  var attributeObjects;
  var features;

  //Get attributes from the created, or the selected, feature and fill DOM elements with the values
  if (feature) {
    features = new ol.Collection();
    features.push(feature);
  } else {
    features = select.getFeatures();
  }
  if (features.getLength() === 1) {
    dispatcher.emitChangeEdit('attribute', true);
    var feature = features.item(0);
    if (attributes.length > 0) {

      //Create an array of defined attributes and corresponding values from selected feature
      attributeObjects = attributes.map(function(attributeObject) {
        var obj = {};
        $.extend(obj, attributeObject);
        obj.val = feature.get(obj.name) || '';
        if (obj.hasOwnProperty('constraint')) {
          var constraintProps = obj.constraint.split(':');
          if (constraintProps.length === 3) {
            obj.eventType = constraintProps[0];
            obj.dependencyVal = feature.get(constraintProps[1]);
            obj.requiredVal = constraintProps[2];
            obj.dependencyVal === obj.requiredVal ? obj.isVisible = true : obj.isVisible = false;
            obj.addListener = addListener();
            obj.elId = '#input-' + obj.name + '-' + obj.requiredVal;
            obj.elDependencyId = '#input-' + constraintProps[1];
          } else {
            alert('Villkor verkar inte vara rätt formulerat. Villkor formuleras enligt principen change:attribute:value');
          }
        } else if (obj.type === 'image') {
          obj.isVisible = true;
          obj.elId = '#input-' + obj.name;
          obj.addListener = addImageListener();
        } else {
          obj.isVisible = true;
          obj.elId = '#input-' + obj.name;
        }

        obj.formElement = editForm(obj);
        return obj;
      });

    }
    var formElement = attributeObjects.reduce(function(prev, next) {
      return prev + next.formElement;
    }, '');
    var form = '<form>' + formElement + '<br><div class="o-form-save"><input id="o-save-button" type="button" value="Ok"></input></div></form>';
    modal.createModal('#o-map', {
      title: title,
      content: form,
      static: true
    });
    modal.showModal();

    attributeObjects.forEach(function(obj) {
      if (obj.hasOwnProperty('addListener')) {
        obj.addListener(obj);
      }
    });

    onAttributesSave(feature, attributeObjects);
  }
}

function saveFeature(change) {
  dispatcher.emitChangeFeature(change);
  if (autoSave) {
    saveFeatures(change);
  }
}

function saveFeatures() {
  var edits = editsStore.getEdits();
  var layerNames = Object.getOwnPropertyNames(edits);
  layerNames.forEach(function(layerName) {
    var transaction = {
      insert: null,
      delete: null,
      update: null
    };
    var editTypes = Object.getOwnPropertyNames(edits[layerName]);
    editTypes.forEach(function(editType) {
      var layer = viewer.getLayer(layerName);
      var ids = edits[layerName][editType];
      var features;
      features = getFeaturesByIds(editType, layer, ids);
      if (features.length) {
        transaction[editType] = features;
      }
    });

    transactionHandler(transaction, layerName);
  });
}

function getFeaturesByIds(type, layer, ids) {
  var source = layer.getSource();
  var features = [];
  if (type === 'delete') {
    ids.forEach(function(id) {
      var dummy = new ol.Feature();
      dummy.setId(id);
      features.push(dummy);
    });
  } else {
    ids.forEach(function(id) {
      var feature;
      if (source.getFeatureById(id)) {
         feature = source.getFeatureById(id);
         feature.unset('bbox');
         features.push(feature);
      }
    });
  }

  return features;
}

function getDefaultValues(attributes) {
  return attributes.filter(function(attribute) {
      if (attribute.name && attribute.defaultValue) {
        return attribute;
      }
    })
    .reduce(function(prev, curr) {
      prev[curr.name] = curr.defaultValue
      return prev;
    },{});
}

},{"../featureinfo":119,"../modal":154,"../utils/generateuuid":195,"../utils/getimageorientation":196,"../utils/imageresizer":198,"../viewer":209,"./editdispatcher":109,"./editform":110,"./editsstore":114,"./shapes":116,"./transactionhandler":117,"jquery":27,"openlayers":30}],112:[function(require,module,exports){
"use strict";

var $ = require('jquery');
var viewer = require('../viewer');
var dropDown = require('../dropdown');
var dispatcher = require('./editdispatcher');
var createElement = require('../utils').createElement;

module.exports = function editorLayers(editableLayers, opt_options) {
  var active = false;
  var activeCls = 'o-active';
  var target = 'editor-toolbar-layers-dropdown';
  var defaultOptions = {
    target: target,
    selectOptions: selectionModel(editableLayers),
    activeLayer: editableLayers[0]
  };
  var renderOptions = $.extend(defaultOptions, opt_options);

  render(renderOptions);
  addListener(target);

  function render(options) {
    var popover = createElement('div', '', {
      id: options.target,
      cls: 'o-popover'
    });
    $('#' + 'o-editor-layers').after(popover);
    dropDown(options.target, options.selectOptions, {
      dataAttribute: 'layer',
      active: options.activeLayer
    });
  }

  function addListener() {
    $('#' + target).on('changeDropdown', function(e) {
      e.stopImmediatePropagation(e);
      setActive(false);
      dispatcher.emitToggleEdit('edit', {
        currentLayer: e.dataAttribute
      });
    });
    $(document).on('toggleEdit', onToggleEdit);
    $(document).on('changeEdit', onChangeEdit);
  }

  function onToggleEdit(e) {
    if (e.tool === 'layers') {
      if (active) {
        setActive(false);
      } else {
        setActive(true);
      }
    }
    e.stopPropagation();
  }

  function onChangeEdit(e) {
    if (e.tool !== 'layers' && e.active === true) {
      setActive(false);
    }
    e.stopPropagation();
  }

  function setActive(state) {
    if (state) {
      active = true;
      $('#' + target).addClass(activeCls);
    } else {
      active = false;
      $('#' + target).removeClass(activeCls);
    }
    dispatcher.emitChangeEdit('layers', active);
  }

  function close() {
    if (active) {
      setActive(false);
    }
  }

  function selectionModel(layerNames) {
    var selectOptions = layerNames.map(function(layerName) {
      var obj = {};
      obj.name = viewer.getLayer(layerName).get('title');
      obj.value = layerName;
      return obj;
    });
    return selectOptions;
  }
}

},{"../dropdown":104,"../utils":193,"../viewer":209,"./editdispatcher":109,"jquery":27}],113:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var viewer = require('../viewer');
var editortemplate = require("../templates/editortoolbar.template.handlebars");
var dispatcher = require('./editdispatcher');
var editHandler = require('./edithandler');
var editorLayers = require('./editorlayers');
var drawTools = require('./drawtools');

var activeClass = 'o-control-active';
var disableClass = 'o-disabled';
var currentLayer = undefined;
var editableLayers = undefined;
var $editAttribute = undefined;
var $editDraw = undefined;
var $editDelete = undefined;
var $editLayers = undefined;
var $editSave = undefined;
var $editClose = undefined;

module.exports = function() {

  return {
    init: Init
  };
}()

function Init(options) {
  currentLayer = options.currentLayer;
  editableLayers = options.editableLayers;

  editHandler(options);
  render();
  editorLayers(editableLayers, {
    activeLayer: currentLayer
  });
  drawTools(options.drawTools, currentLayer);

  $(document).on('enableInteraction', onEnableInteraction);
  $(document).on('changeEdit', onChangeEdit);
  $(document).on('editsChange', toggleSave);

  bindUIActions();

  if (options.isActive) {
    setActive(true);
  }
}

function render() {
  $("#o-tools-bottom").append(editortemplate());
  $editAttribute = $('#o-editor-attribute');
  $editDraw = $('#o-editor-draw');
  $editDelete = $('#o-editor-delete');
  $editLayers = $('#o-editor-layers');
  $editSave = $('#o-editor-save');
  $editClose = $('#o-editor-close');
}

function bindUIActions() {
  var self = this;
  $editDraw.on('click', function(e) {
    dispatcher.emitToggleEdit('draw');
    $editDraw.blur();
    e.preventDefault();
    return false;
  });
  $editAttribute.on('click', function(e) {
    dispatcher.emitToggleEdit('attribute');
    $editAttribute.blur();
    e.preventDefault();
  });
  $editDelete.on('click', function(e) {
    dispatcher.emitToggleEdit('delete');
    $editDelete.blur();
    e.preventDefault();
  });
  $editLayers.on('click', function(e) {
    dispatcher.emitToggleEdit('layers');
    $editLayers.blur();
    e.preventDefault();
  });
  $editSave.on('click', function(e) {
    dispatcher.emitToggleEdit('save');
    $editSave.blur();
    e.preventDefault();
  });
  $editClose.on('click', function(e) {
    $('.o-map').first().trigger({
      type: 'enableInteraction',
      interaction: 'featureInfo'
    });
    $editClose.blur();
    e.stopPropagation();
    e.preventDefault();
  });
}

function onEnableInteraction(e) {
  e.stopPropagation();
  if (e.interaction === 'editor') {
    setActive(true);
    dispatcher.emitToggleEdit('edit', {
      currentLayer: currentLayer
    });
  } else {
    setActive(false);
    dispatcher.emitToggleEdit('cancel');
  }
}

function setActive(state) {
  if (state === true) {
    $('#o-editor-toolbar').removeClass('o-hidden');
  } else {
    $('#o-editor-toolbar').addClass('o-hidden');
  }
}

function onChangeEdit(e) {
  if (e.tool === 'draw') {
    if (e.active === false) {
      $editDraw.removeClass(activeClass);
    } else {
      $editDraw.addClass(activeClass);
    }
  }
  if (e.tool === 'layers') {
    if (e.active === false) {
      $editLayers.removeClass(activeClass);
    } else {
      $editLayers.addClass(activeClass);
    }
  } else if (e.active) {
    $editLayers.removeClass(activeClass);
  }
}

function toggleSave(e) {
  if (e.edits) {
    if ($editSave.hasClass(disableClass)) {
      $editSave.removeClass(disableClass);
    }
  } else {
    $editSave.addClass(disableClass);
  }
}

},{"../templates/editortoolbar.template.handlebars":188,"../viewer":209,"./drawtools":107,"./editdispatcher":109,"./edithandler":111,"./editorlayers":112,"jquery":27,"openlayers":30}],114:[function(require,module,exports){
var $ = require('jquery');
var ol = require('openlayers');
var viewer = require('../viewer');
var dispatcher = require('./editdispatcher');

var editsStore = function featureStore() {
  var edits = {};

  $(document).on('changeFeature', featureChange);

  return {
    getEdits: getEdits,
    hasFeature: hasFeature
  };

  function addEdit(e) {
    if (e.action === 'insert') {
      addFeature('insert', e.feature, e.layerName);
    } else if (e.action === 'update') {
      if (hasFeature('insert', e.feature, e.layerName) === false) {
        addFeature('update', e.feature, e.layerName);
      }
    } else if (e.action === 'delete') {
      if (removeFeature('insert', e.feature, e.layerName) === false) {
        removeFeature('update', e.feature, e.layerName);
        addFeature('delete', e.feature, e.layerName);
      }
    }
    if (hasEdits() === true) {
      dispatcher.emitEditsChange(1);
    } else {
      dispatcher.emitEditsChange(0);
    }
  }

  function removeEdit(e) {
    if (e.feature.length) {
      e.feature.forEach(function(feature) {
        removeFeature(e.action, feature, e.layerName)
      });
    }
    if (hasEdits() === false) {
      dispatcher.emitEditsChange(0);
    }
  }

  function getEdits() {
    return edits;
  }

  function featureChange(e) {
    if (e.status === 'pending') {
      addEdit(e);
    } else if (e.status === 'finished') {
      removeEdit(e);
    }
  }

  function hasFeature(type, feature, layerName) {
    if (edits.hasOwnProperty(layerName)) {
      if (edits[layerName][type].indexOf(feature.getId()) > -1) {
        return true;
      }
    }
    return false;
  }

  function addFeature(type, feature, layerName) {
    if (edits.hasOwnProperty(layerName) === false) {
      edits[layerName] = createEditsObj();
    }
    if (hasFeature(type, feature, layerName) === false) {
      edits[layerName][type].push(feature.getId());
    }
  }

  function removeFeature(type, feature, layerName) {
    var index = 0;
    if (edits.hasOwnProperty(layerName)) {
      index = edits[layerName][type].indexOf(feature.getId());
      if (index > -1) {
        edits[layerName][type].splice(index, 1);
        isFinished(layerName);
        return true;
      }
    }
    return false;
  }

  function isFinished(layerName) {
    var editTypes;
    var finished = true;
    if (edits.hasOwnProperty(layerName)) {
      editTypes = Object.getOwnPropertyNames(edits[layerName]);
      editTypes.forEach(function(editType) {
        if (edits[layerName][editType].length) {
          finished = false;
          return finished;
        }
      });
      if (finished) {
        delete edits[layerName];
        return finished;
      }
    } else {
      return finished;
    }
  }

  function createEditsObj() {
    return {
      update: [],
      insert: [],
      delete: []
    }
  }

  function hasEdits() {
    if (Object.getOwnPropertyNames(edits).length) {
      return true;
    } else {
      return false;
    }
  }
}

module.exports = editsStore;

},{"../viewer":209,"./editdispatcher":109,"jquery":27,"openlayers":30}],115:[function(require,module,exports){
var dispatcher = require('./editdispatcher');

module.exports = function(transObj, layerName) {
  dispatcher.emitChangeOfflineEdits(transObj, layerName);
}

},{"./editdispatcher":109}],116:[function(require,module,exports){
"use strict";

var ol = require('openlayers');

module.exports = function(drawType) {
  var types = {
    box: {
      type: 'Circle',
      geometryFunction: ol.interaction.Draw.createBox()
    }
  };

  if (types.hasOwnProperty(drawType)) {
    return types[drawType];
  } else {
    return {};
  }
}

},{"openlayers":30}],117:[function(require,module,exports){
"use strict";

var viewer = require('../viewer');
var wfsTransaction = require('./wfstransaction');
var agsTransaction = require('./agstransaction');
var indexedDb = require('./indexeddb');
var transactions = {
  WFS: wfsTransaction,
  AGS_FEATURE: agsTransaction,
  OFFLINE: indexedDb
};

module.exports = function(transaction, layerName) {
  var type = viewer.getLayer(layerName).get('type');
  if (transactions.hasOwnProperty(type)) {
    transactions[type](transaction, layerName);
  }
}

},{"../viewer":209,"./agstransaction":106,"./indexeddb":115,"./wfstransaction":118}],118:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var viewer = require('../viewer');
var editsStore = require('./editsstore')();
var dispatcher = require('./editdispatcher');

var format = new ol.format.WFS();
var serializer = new XMLSerializer();

module.exports = function(transObj, layerName) {
  return wfsTransaction(transObj, layerName);
}

function writeWfsTransaction(transObj, options) {
  var node = format.writeTransaction(transObj.insert, transObj.update, transObj.delete, options);
  return node;
}

function wfsTransaction(transObj, layerName) {
  var srsName = viewer.getProjectionCode();
  var layer = viewer.getLayer(layerName);
  var featureType = layer.get('featureType');
  var source = viewer.getMapSource()[layer.get('sourceName')];
  var options = {
    gmlOptions: {
      srsName: srsName
    },
    featureNS: source.workspace,
    featurePrefix: source.prefix || source.workspace,
    featureType: featureType
  };
  var node = writeWfsTransaction(transObj, options);
  return $.ajax({
    type: "POST",
    url: source.url,
    data: serializer.serializeToString(node),
    contentType: 'text/xml',
    success: success,
    error: error,
    context: this
  })
    .then(function(data) {
      var result = readResponse(data);
      var nr = 0;
      if (result) {
        nr += result.transactionSummary.totalUpdated;
        nr += result.transactionSummary.totalDeleted;
        nr += result.transactionSummary.totalInserted;
      }
      return nr;
    });

  function success(data) {
    var result = readResponse(data);
    var feature;
    if (result) {
      if (result.transactionSummary.totalUpdated > 0) {
        dispatcher.emitChangeFeature({
          feature: transObj.update,
          layerName: layerName,
          status: 'finished',
          action: 'update'
        });
      }

      if (result.transactionSummary.totalDeleted > 0) {
        dispatcher.emitChangeFeature({
          feature: transObj.delete,
          layerName: layerName,
          status: 'finished',
          action: 'delete'
        });
      }

      if (result.transactionSummary.totalInserted > 0) {
        feature = transObj.insert;
        dispatcher.emitChangeFeature({
          feature: transObj.insert,
          layerName: layerName,
          status: 'finished',
          action: 'insert'
        });
        var insertIds = result.insertIds;
        insertIds.forEach(function(insertId, index) {
          feature[index].setId(insertId);
        });
      }
    } else {
      error();
    }
  }

  function error(e) {
    var errorMsg = e ? (e.status + ' ' + e.statusText) : "";
    alert('Det inträffade ett fel när ändringarna skulle sparas till servern...\n' +
      errorMsg);
  }
}

function readResponse(data) {
  var result;
  if (window.Document && data instanceof Document && data.documentElement &&
    data.documentElement.localName === 'ExceptionReport') {
    alert(data.getElementsByTagNameNS(
      'http://www.opengis.net/ows', 'ExceptionText').item(0).textContent);
  } else {
    result = format.readTransactionResponse(data);
  }

  return result;
}

},{"../viewer":209,"./editdispatcher":109,"./editsstore":114,"jquery":27,"openlayers":30}],119:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var Viewer = require('./viewer');
var Popup = require('./popup');
var sidebar = require('./sidebar');
var maputils = require('./maputils');
var featurelayer = require('./featurelayer');
var style = require('./style')();
var styleTypes = require('./style/styletypes');
var getFeatureInfo = require('./getfeatureinfo');
var owlCarousel = require('../externs/owlcarousel-browserify');
owlCarousel.loadjQueryPlugin();

var selectionLayer = undefined;
var savedPin = undefined;
var options;
var map;
var pinning;
var pinStyle;
var selectionStyles;
var showOverlay;
var identifyTarget;
var clusterFeatureinfoLevel;
var overlay;
var hitTolerance;

function init(opt_options) {
  map = Viewer.getMap();

  options = opt_options || {};

  pinning = options.hasOwnProperty('pinning') ? options.pinning : true;
  var pinStyleOptions = options.hasOwnProperty('pinStyle') ? options.pinStyle : styleTypes.getStyle('pin');
  pinStyle = style.createStyleRule(pinStyleOptions)[0];
  savedPin = options.savedPin ? maputils.createPointFeature(opt_options.savedPin, pinStyle) : undefined;

  selectionStyles = style.createEditStyle();

  var savedSelection = options.savedSelection || undefined;
  var savedFeature = savedPin || savedSelection || undefined;
  selectionLayer = featurelayer(savedFeature, map);

  showOverlay = options.hasOwnProperty('overlay') ? options.overlay : true;

  if(showOverlay) {
    identifyTarget = 'overlay';
  }
  else {
    sidebar.init();
    identifyTarget = 'sidebar';
  }

  clusterFeatureinfoLevel = options.hasOwnProperty('clusterFeatureinfoLevel') ? options.clusterFeatureinfoLevel : 1;

  hitTolerance = options.hasOwnProperty('hitTolerance') ? options.hitTolerance : 0;

  map.on('click', onClick);
  $(document).on('enableInteraction', onEnableInteraction);
}

function getSelectionLayer() {
  return selectionLayer.getFeatureLayer();
}

function getSelection() {
  var selection = {};
  selection.geometryType = selectionLayer.getFeatures()[0].getGeometry().getType();
  selection.coordinates = selectionLayer.getFeatures()[0].getGeometry().getCoordinates();
  return selection;
}
function getPin() {
  return savedPin;
}
function getHitTolerance() {
  return hitTolerance;
}
function identify(items, target, coordinate) {
  clear();
  var content = items.map(function(i){
    return i.content;
  }).join('');
  content = '<div id="o-identify"><div id="o-identify-carousel" class="owl-carousel owl-theme">' + content + '</div></div>';
  switch (target) {
    case 'overlay':
      var popup = Popup('#o-map');
      overlay = new ol.Overlay({
        element: popup.getEl()
      });
      map.addOverlay(overlay);
      var geometry = items[0].feature.getGeometry();
      var coord;
      geometry.getType() == 'Point' ? coord = geometry.getCoordinates() : coord = coordinate;
      overlay.setPosition(coord);
      popup.setContent({content: content, title: items[0].title});
      popup.setVisibility(true);
      var owl = initCarousel('#o-identify-carousel', undefined, function(){
        var currentItem = this.owl.currentItem;
        selectionLayer.clearAndAdd(items[currentItem].feature.clone(), selectionStyles[items[currentItem].feature.getGeometry().getType()]);
        popup.setTitle(items[currentItem].title);
      });
      Viewer.autoPan();
      break;
    case 'sidebar':
      sidebar.setContent({content: content, title: items[0].title});
      sidebar.setVisibility(true);
      var owl = initCarousel('#o-identify-carousel', undefined, function(){
        var currentItem = this.owl.currentItem;
        selectionLayer.clearAndAdd(items[currentItem].feature.clone(), selectionStyles[items[currentItem].feature.getGeometry().getType()]);
        sidebar.setTitle(items[currentItem].title);
      });
      break;
  }
}
function onClick(evt) {
  savedPin = undefined;
  //Featurinfo in two steps. Concat serverside and clientside when serverside is finished
  var clientResult = getFeatureInfo.getFeaturesAtPixel(evt, clusterFeatureinfoLevel);
  //Abort if clientResult is false
  if(clientResult !== false) {
    getFeatureInfo.getFeaturesFromRemote(evt)
      .done(function(data) {
        var serverResult = data || [];
        var result = serverResult.concat(clientResult);
        if (result.length > 0) {
          selectionLayer.clear();
          identify(result, identifyTarget, evt.coordinate)
        }
        else if(selectionLayer.getFeatures().length > 0) {
          clear();
        }
        else if(pinning){
          sidebar.setVisibility(false);
          var resolution = map.getView().getResolution();
          setTimeout(function() {
            if(!maputils.checkZoomChange(resolution, map.getView().getResolution())) {
              savedPin = maputils.createPointFeature(evt.coordinate, pinStyle);
              selectionLayer.addFeature(savedPin);
            }
          }, 250);
        }
        else {
          console.log('No features identified');
        }
      });
  }
}
function setActive(state) {
  if(state === true) {
    map.on('click', onClick);
  }
  else {
    clear();
    map.un('click', onClick);
  }
}
function clear() {
  selectionLayer.clear();
  sidebar.setVisibility(false);
  if (overlay) {
    Viewer.removeOverlays(overlay);
  }
  console.log("Clearing selection");
}
function onEnableInteraction(e) {
  if(e.interaction === 'featureInfo') {
    setActive(true);
  }
  else {
    setActive(false);
  }
}
function initCarousel(id, options, cb) {
  var carouselOptions = options || {
    navigation : true, // Show next and prev buttons
    slideSpeed : 300,
    paginationSpeed : 400,
    singleItem:true,
    rewindSpeed:200,
    navigationText: ['<svg class="o-icon-fa-chevron-left"><use xlink:href="#fa-chevron-left"></use></svg>', '<svg class="o-icon-fa-chevron-right"><use xlink:href="#fa-chevron-right"></use></svg>'],
    afterAction: cb
  };
  return $(id).owlCarousel(carouselOptions);
}

module.exports.init = init;
module.exports.clear = clear;
module.exports.getSelectionLayer = getSelectionLayer;
module.exports.getSelection = getSelection;
module.exports.getPin = getPin;
module.exports.getHitTolerance = getHitTolerance;
module.exports.identify = identify;

},{"../externs/owlcarousel-browserify":4,"./featurelayer":121,"./getfeatureinfo":129,"./maputils":152,"./popup":170,"./sidebar":179,"./style":181,"./style/styletypes":187,"./viewer":209,"jquery":27,"openlayers":30}],120:[function(require,module,exports){
"use strict";
var templates = {};
templates.default = require("./templates/featureinfotemplates/default");

function featureinfotemplates(template, attributes) {
    return templates[template](attributes);
}
module.exports = featureinfotemplates;

},{"./templates/featureinfotemplates/default":190}],121:[function(require,module,exports){
"use strict";

var ol = require('openlayers');

//create unmanaged layer
module.exports = function(features, map) {
  var collection = features ? [features] : [];
  var featureLayerStore = new ol.source.Vector({
      features: collection
  });
  var featureLayer = new ol.layer.Vector({
    source: featureLayerStore,
    map: map
  });
  return {
      addFeature: function addFeature(feature) {
          featureLayerStore.addFeature(feature);
      },
      getFeatures: function getFeatures() {
          return featureLayerStore.getFeatures();
      },
      getFeatureLayer: function getFeatureLayer() {
          return featureLayer;
      },
      getFeatureStore: function getFeatureStore() {
          return featureLayerStore;
      },
      clear: function clear() {
          featureLayerStore.clear();
      },
      clearAndAdd: function clearAndAdd(feature, style) {
          featureLayerStore.clear();
          featureLayer.setStyle(style);
          featureLayerStore.addFeature(feature);
      }
  }
}

},{"openlayers":30}],122:[function(require,module,exports){
"use strict";

var $ = require('jquery');
var utils = require('./utils');
var permalink = require('./permalink/permalink');
var isEmbedded = require('./utils/isembedded');
var viewer = require('./viewer');

var tooltip;
var mapTarget;

function Init(opt_options) {
  var options = opt_options || {};
  var target = options.target || '#o-toolbar-misc';
  mapTarget = viewer.getTarget();
  tooltip = options.tooltipText || 'Visa stor karta';

  render(target);
  bindUIActions();
}

function render(target) {
  var el = utils.createButton({
    id: 'o-fullscreen-button',
    cls: 'o-fullscreen-button',
    iconCls: 'o-icon-fa-expand',
    src: '#fa-expand',
    tooltipText: tooltip,
    tooltipPlacement: 'east'
  });
  if (isEmbedded(mapTarget)) {
    $(target).append(el);
  }
}

function bindUIActions() {
  $('#o-fullscreen-button button').click(function(e) {
    goFullScreen();
    $('#o-fullscreen-button button').blur();
    e.preventDefault();
  })
}

function goFullScreen() {
  var url = permalink.getPermalink();
  window.open(url);
}

module.exports.init = Init;

},{"./permalink/permalink":167,"./utils":193,"./utils/isembedded":199,"./viewer":209,"jquery":27}],123:[function(require,module,exports){
var getcenter = require('./geometry/getcenter');
var getarea = require('./geometry/getarea');

var geom = {};
geom.center = getcenter;
geom.area = getarea;

module.exports = geom;

},{"./geometry/getarea":124,"./geometry/getcenter":125}],124:[function(require,module,exports){
"use strict";

var round = require('../utils/round');

var getArea = function getArea(geometry_in, decimals) {
  var area = geometry_in.getArea ? geometry_in.getArea() : 0;
  if (decimals) {
    area = round(area, decimals);
  } else {
    area = round(area, '2');
  }
  return area;
}

module.exports = getArea;

},{"../utils/round":204}],125:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var Viewer = require('../viewer');

var getCenter = function getCenter(geometry_in, destination, axisOrientation) {
    var geometry = geometry_in.clone();

    if (destination) {
      geometry.transform(Viewer.getMap().getView().getProjection(), destination);
    }

    var type = geometry.getType();
    var center;
    switch (type) {
        case "Polygon":
            center = geometry.getInteriorPoint().getCoordinates();
            break;
        case "MultiPolygon":
            center = geometry.getInteriorPoints().getCoordinates()[0];
            break;
        case "Point":
            center = geometry.getCoordinates();
            break;
        case "MultiPoint":
            center = geometry[0].getCoordinates();
            break;
        case "LineString":
            center = geometry.getCoordinateAt(0.5);
            break;
        case "MultiLineString":
            center = geometry.getLineStrings()[0].getCoordinateAt(0.5);
            break;
        case "Circle":
            center = geometry.getCenter();
            break;
    }

    if (axisOrientation) {
      if (axisOrientation === 'reverse') {
        center.reverse();
      }
    }

    return center;
}

module.exports = getCenter;

},{"../viewer":209,"openlayers":30}],126:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var viewer = require('./viewer');
var utils = require('./utils');

var $geolocateButtonId = undefined;
var $geolocateButton = undefined;
var enabled = false;
var map = undefined;
var geolocation = undefined;
var marker = undefined;
var markerEl = undefined;
var baseUrl = undefined;
var zoomLevel;

function init(opt_options) {
  var options = opt_options || {};
  var target = options.target || '#o-toolbar-navigation';
  map = viewer.getMap();
  baseUrl = viewer.getBaseUrl();
  zoomLevel = options.zoomLevel || viewer.getResolutions().length - 3 || 0;

  render(target);

  $geolocateButtonId = $('#o-geolocation-button');
  $geolocateButton = $('#o-geolocation-button button');

  markerEl = $('#o-geolocation_marker').get(0);
  marker = new ol.Overlay({
    positioning: 'center-center',
    element: markerEl,
    stopEvent: false
  });

  geolocation = new ol.Geolocation(({
    projection: map.getView().getProjection(),
    trackingOptions: {
      maximumAge: 10000,
      enableHighAccuracy: true,
      timeout: 600000
    }
  }));

  bindUIActions();
}

function render(target) {
  var tooltipText = 'Visa nuvarande position i kartan';
  var src = baseUrl + 'img/geolocation_marker.png';
  var markerImg = '<img id="o-geolocation_marker" src="' + src + '"/>';

  //Element for control
  var el = utils.createButton({
    id: 'o-geolocation-button',
    cls: 'o-geolocation-button',
    iconCls: 'o-icon-fa-location-arrow',
    src: '#fa-location-arrow',
    tooltipText: tooltipText,
    tooltipPlacement: 'east'
  });
  $(target).append(el);
  $('#o-map').prepend(markerImg);
}

function bindUIActions() {
  $geolocateButtonId.on('click', function(e) {
    enabled = false;
    toggle();
    $geolocateButton.blur();
    e.preventDefault();
  });
}

function toggle() {
  if ($geolocateButton.hasClass('o-geolocation-button-true')) {
    $geolocateButton.removeClass('o-geolocation-button-true');
    geolocation.setTracking(false);

    geolocation.un('change', updatePosition);
    map.removeOverlay(marker);
  } else {
    $geolocateButton.addClass('o-geolocation-button-true');
    map.addOverlay(marker);

    // Listen to position changes
    geolocation.on('change', updatePosition);
    geolocation.setTracking(true); // Start position tracking
  }
}

function updatePosition() {
  addPosition(getPositionVal());
}

function getPositionVal() {
  var current = {};
  current.position = geolocation.getPosition();
  current.accuracy = geolocation.getAccuracy();
  current.heading = geolocation.getHeading() || 0;
  current.speed = geolocation.getSpeed() || 0;
  current.m = Date.now();
  return current;
}

function addPosition(current) {
  var position = current.position;

  if (enabled === false && geolocation.getTracking()) {
    marker.setPosition(position);
    map.getView().animate({
      center: position,
      zoom: zoomLevel
    });
    enabled = true;
  } else if (geolocation.getTracking()) {
    marker.setPosition(position);
  }
}

module.exports.init = init;

},{"./utils":193,"./viewer":209,"jquery":27,"openlayers":30}],127:[function(require,module,exports){
"use strict";
var featureinfotemplates = require('./featureinfotemplates');
var replacer = require('../src/utils/replacer');
var geom = require('./geom');

module.exports = function(feature, layer) {
    var content = '<div><ul>';
    var attribute, li = '', title, val;
    //If layer is configured with attributes
    if(layer.get('attributes')) {
          //If attributes is string then use template named with the string
          if(typeof layer.get('attributes') === 'string') {
              //Use attributes with the template
              li = featureinfotemplates(layer.get('attributes'),feature.getProperties());
          }
          else {
              for(var i=0; i<layer.get('attributes').length; i++) {
                attribute = layer.get('attributes')[i];
                title = '';
                val = '';
                if (attribute['name']) {
                  if(feature.get(attribute['name'])) {
                      val = feature.get(attribute['name']);
                      if (attribute['title']) {
                        title = '<b>' + attribute['title'] + '</b>';
                      }
                      if (attribute['url']) {
                        if(feature.get(attribute['url'])) {
                        var url = createUrl(attribute['urlPrefix'], attribute['urlSuffix'], replacer.replace(feature.get(attribute['url']), feature.getProperties()));
                        val = '<a href="' + url + '" target="_blank">' +
                              feature.get(attribute['name']) +
                              '</a>';
                        }
                      }
                  }
                }
                else if (attribute['url']) {
                    if(feature.get(attribute['url'])) {
                        var text = attribute['html'] || attribute['url'];
                        var url = createUrl(attribute['urlPrefix'], attribute['urlSuffix'], replacer.replace(feature.get(attribute['url']), feature.getProperties()));
                        val = '<a href="' + url + '" target="_blank">' +
                              text +
                              '</a>';
                    }
                }
                else if (attribute['img']) {
                    if(feature.get(attribute['img'])) {
                        var url = createUrl(attribute['urlPrefix'], attribute['urlSuffix'], replacer.replace(feature.get(attribute['img']), feature.getProperties()));
                        var attribution = attribute['attribution'] ? '<div class="o-image-attribution">' + attribute['attribution'] + '</div>' : '';
                        val = '<div class="o-image-container">' +
                                  '<img src="' + url + '">' + attribution +
                              '</div>';
                    }
                }
                else if (attribute['html']) {
                  val = replacer.replace(attribute['html'], feature.getProperties(), {
                    helper: geom,
                    helperArg: feature.getGeometry()
                  });
                }

                var cls = ' class="' + attribute['cls'] + '" ' || '';

                li += '<li' + cls +'>' + title + val + '</li>';
              }
        }
    }
    else {
      //Clean feature attributes from non-wanted properties
      var attributes = filterObject(feature.getProperties(), ['FID_', 'geometry']);
      //Use attributes with the template
      li = featureinfotemplates('default',attributes);
    }
    content += li + '</ul></div>';
    return content;
}
function filterObject(obj, excludedKeys) {
    var result = {}, key;
    for (key in obj) {
        if(excludedKeys.indexOf(key) === -1) {
            result[key] = obj[key];
        }
    }
    return result;
}
function createUrl(prefix, suffix, url) {
    var p = prefix || '';
    var s = suffix || '';
    return p + url + s;
}

},{"../src/utils/replacer":203,"./featureinfotemplates":120,"./geom":123}],128:[function(require,module,exports){
var ol = require('openlayers');
var $ = require('jquery');
var viewer = require('./viewer');

var sourceType = {};
var projectionCode;
var source;

module.exports = function(id, layer) {
    projectionCode = viewer.getProjectionCode();
    source = viewer.getMapSource();
    var serverUrl = source[layer.get('sourceName')].url;
    var type = layer.get('type');
    //returns a promise with features as result
    return sourceType[type](id, layer, serverUrl);
}

sourceType.AGS_FEATURE = function agsFeature(id, layer, serverUrl) {
  var esriSrs = projectionCode.split(':').pop();
  var layerId = layer.get('id');
  var esrijsonFormat = new ol.format.EsriJSON();

  var url = serverUrl + '/' + layerId +
      '/query?f=json&' +
      'returnGeometry=true' +
      '&objectIds=' + id +
      '&geometryType=esriGeometryEnvelope'+
      '&inSR=' + esriSrs +
      '&outFields=*' +
      '&returnIdsOnly=false' +
      '&returnCountOnly=false' +
      '&geometryPrecision=2' +
      '&outSR=' + esriSrs;

  return $.ajax({
        url: url,
        dataType: 'jsonp'
  })
    .then(function(response) {
        if(response.error) {
            fail(response);
            return [];
        }
        else {
            var features = esrijsonFormat.readFeatures(response, {
                    featureProjection: viewer.getProjection()
            });
            return features;
        }
    }, fail
    );
}

sourceType.WFS = function(id, layer, serverUrl) {
  var geometryName = layer.get('geometryName');
  var format = new ol.format.GeoJSON({geometryName: geometryName});
  var url = serverUrl +'?';
  var data = 'service=WFS' +
      '&version=1.0.0' +
      '&request=GetFeature&typeName=' + layer.get('name') +
      '&outputFormat=json' +
      '&featureId=' + id;
  return $.ajax({
    url: url,
    data: data,
    type: 'POST',
    dataType: 'json'
  })
    .then(function(response) {
        return format.readFeatures(response);
    });
}

function fail(response) {
    if(response.error) {
        console.log(response.error.message + '\n' +
            response.error.details.join('\n'));
    }
}

},{"./viewer":209,"jquery":27,"openlayers":30}],129:[function(require,module,exports){
"use strict";
var ol = require('openlayers');
var $ = require('jquery');
var Viewer = require('./viewer');
var maputils = require('./maputils');
var getAttributes = require('./getattributes');
var featureInfo = require('./featureinfo');

var map;

function getFeaturesFromRemote(evt) {
        map = Viewer.getMap();
        var requestResult = [];
        var requestPromises = getFeatureInfoRequests(evt).map(function(request) {
            return request.fn.then(function(feature) {
                var layer = Viewer.getLayer(request.layer);
                if(feature) {
                    requestResult.push({
                        title: layer.get('title'),
                        feature: feature,
                        content: getAttributes(feature, layer)
                    });
                    return requestResult;
                }
            });
        });
        return $.when.apply($, requestPromises).then(function(data) {
            return requestResult;
        });
}
function getFeatureInfoRequests(evt) {
    var requests = [];
    //Check for support of crossOrigin in image, absent in IE 8 and 9
    if('crossOrigin' in new(Image)) {
        map.forEachLayerAtPixel(evt.pixel, function(layer) {
            if (layer.get('queryable')) {
              var item = getGetFeatureInfoRequest(layer, evt.coordinate);
              if(item) {requests.push(item)};
            }
        });
    }
    //If canvas is tainted
    else if(isTainted(evt.pixel)) {
        var layers = Viewer.getQueryableLayers();
        layers.forEach(function(layer) {
            if (layer.get('queryable')) {

              //If layer is tainted, then create request for layer
              if(isTainted(evt.pixel, layer)) {
                  var item = getGetFeatureInfoRequest(layer, evt.coordinate);
                  if(item) {requests.push(item)};
              }

              //If layer is not tainted, test if layer hit at pixel
              else if(layerAtPixel(evt.pixel, layer)){
                  var item = getGetFeatureInfoRequest(layer, evt.coordinate);
                  if(item) {requests.push(item)};
              }
            }
        });
    }
    //If crossOrigin is not supported and canvas not tainted
    else {
        map.forEachLayerAtPixel(evt.pixel, function(layer) {
            if (layer.get('queryable') === true) {
              var item = getGetFeatureInfoRequest(layer, evt.coordinate);
              if (item) {
                requests.push(item)
              };
            }
        });
    }
    return requests;
}
function getGetFeatureInfoRequest(layer, coordinate) {
    var layerType = layer.get('type'),
    obj = {};
    obj.layer = layer.get('name');

    switch (layerType) {
      case 'WMTS':
        if(layer.get('featureinfoLayer')) {
            var featureinfoLayerName = layer.get('featureinfoLayer'),
            featureinfoLayer = Viewer.getLayer(featureinfoLayerName);
            return getGetFeatureInfoRequest(featureinfoLayer, coordinate);
        }
        else {
            return undefined;
        }
        break;
      case 'WMS':
        if(layer.get('featureinfoLayer')) {
            var featureinfoLayerName = layer.get('featureinfoLayer'),
            featureinfoLayer = Viewer.getLayer(featureinfoLayerName);
            return getGetFeatureInfoRequest(featureinfoLayer, coordinate);
        }
        else {
            obj.cb = "GEOJSON";
            obj.fn = getGetFeatureInfoUrl(layer, coordinate);
            return obj;
        }
        case 'AGS_TILE':
            if(layer.get('featureinfoLayer')) {
                var featureinfoLayerName = layer.get('featureinfoLayer'),
                featureinfoLayer = Viewer.getLayer(featureinfoLayerName);
                return getGetFeatureInfoRequest(featureinfoLayer, coordinate);
            }
            else {
                obj.fn = getAGSIdentifyUrl(layer, coordinate);
                return obj;
            }
      default:
        return undefined;
    }
}
function isTainted(pixel, layerFilter) {
    try {
        if(layerFilter) {
            map.forEachLayerAtPixel(pixel, function(layer) {
                return layerFilter === layer;
            });
        }
        else {
            map.forEachLayerAtPixel(pixel, function(layer) {});
        }
        return false;
    }
    catch(e) {
        console.log(e);
        return true;
    }
}
function layerAtPixel(pixel, matchLayer) {
    map.forEachLayerAtPixel(pixel, function(layer) {
        return matchLayer === layer;
    })
}
function getFeaturesAtPixel(evt, clusterFeatureinfoLevel) {
    map = Viewer.getMap();
    var result = [],
    cluster = false;
    map.forEachFeatureAtPixel(evt.pixel,
        function(feature, layer) {
          var l = layer;
          var queryable = false;
          if(layer) {
              queryable = layer.get('queryable');
          }
          if(feature.get('features')) {
              //If cluster
              var collection = feature.get('features');
              if (collection.length > 1) {
                var zoom = map.getView().getZoom();
                var zoomLimit = clusterFeatureinfoLevel === -1 ? Viewer.getResolutions().length : zoom + clusterFeatureinfoLevel;
                if(zoomLimit < Viewer.getResolutions().length) {
                    map.getView().setCenter(evt.coordinate);
                    map.getView().setZoom(zoom + 1);
                    cluster = true;
                    return true;
                }
                else {
                    collection.forEach(function(f) {
                          var item = {};
                          item.title = l.get('title');
                          item.feature = f;
                          item.content =  getAttributes(f,l);
                          result.push(item);
                    });
                }
              }
              else if(collection.length == 1 && queryable) {
                  var item = {};
                  item.title = l.get('title');
                  item.feature = collection[0];
                  item.content = getAttributes(collection[0],l);
                  result.push(item);
              }
          }
          else if(queryable) {
              var item = {};
              item.title = l.get('title');
              item.feature = feature;
              item.content = getAttributes(feature,l)
              result.push(item);
          }
        },
        {
          hitTolerance: featureInfo.getHitTolerance()
        });

    if(cluster) {
        return false;
    }
    else {
        return result;
    }
}
function getGetFeatureInfoUrl(layer, coordinate) {
    var url = layer.getSource().getGetFeatureInfoUrl(
    coordinate, map.getView().getResolution(), Viewer.getProjection(),
    {'INFO_FORMAT': 'application/json'});

    return $.ajax(url, {
      type: 'post'
    })
    .then(function(response) {
        if(response.error) {
            return [];
        }
        else {
            return maputils.geojsonToFeature(response);
        }
    }
    );
}
function getAGSIdentifyUrl(layer, coordinate) {
  var projectionCode = Viewer.getProjectionCode();
  var esriSrs = projectionCode.split(':').pop();
  var layerId = layer.get('id');
  var source = Viewer.getMapSource()[layer.get('sourceName')];
  var serverUrl = source.url;
  var esrijsonFormat = new ol.format.EsriJSON();
  var size = map.getSize();
  var tolerance = source.hasOwnProperty('tolerance') ? source.tolerance.toString() : 5;
  var extent = map.getView().calculateExtent(size);

  var url = serverUrl +
      '/identify?f=json&' +
      'returnGeometry=true' +
      '&geometryType=esriGeometryPoint'+
      '&sr=' + esriSrs +
      '&geometry=' + coordinate +
      '&outFields=*' +
      '&geometryPrecision=2' +
      '&tolerance=' + tolerance +
      '&layers=all:' + layerId +
      '&mapExtent=' + extent +
      '&imageDisplay=' + size + ',' + '96';

  return $.ajax({
        url: url,
        dataType: 'jsonp'
  })
    .then(function(response) {
        if(response.error) {
            return [];
        }
        else {
            var obj = {};
            obj.features = response.results;
            var features = esrijsonFormat.readFeatures(obj, {
                    featureProjection: Viewer.getProjection()
            });
            return features[0];
        }
    }
    );
}

module.exports.getFeaturesFromRemote = getFeaturesFromRemote;
module.exports.getFeaturesAtPixel = getFeaturesAtPixel;

},{"./featureinfo":119,"./getattributes":127,"./maputils":152,"./viewer":209,"jquery":27,"openlayers":30}],130:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var Viewer = require('./viewer');
var utils = require('./utils');

var map;
var tooltip;
var extent;

function Init(opt_options) {
  var options = opt_options || {};
  var target = options.target || '#o-toolbar-navigation';
  map = Viewer.getMap();
  tooltip = options.tooltipText || 'Zooma till hela kartan';
  extent = options.extent || map.getView().calculateExtent(map.getSize());
  render(target);
  bindUIActions();
}

function render(target) {
  var el = utils.createButton({
    id: 'o-home-button',
    iconCls: 'o-icon-fa-home',
    src: '#fa-home',
    tooltipText: tooltip
  });
  $(target).append(el);
}

function bindUIActions() {
  $('#o-home-button').on('click', function(e) {
    map.getView().fit(extent);
    $('#o-home-button button').blur();
    e.preventDefault();
  });
}

module.exports.init = Init;

},{"./utils":193,"./viewer":209,"jquery":27,"openlayers":30}],131:[function(require,module,exports){
/**
 * Stable array indicates nonshifting position i draworder.
 * Static order.
 * @type {Array}
 */
exports.stable = [];
/**
 * Selected layers has an id and is stored inside a list.
 * @type {Array}
 */
exports.collected = [];

},{}],132:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var viewer = require('../viewer');
var vector = require('./vector');

var agsFeature = function agsFeature(layerOptions) {
  var agsDefault = {
    layerType: 'vector'
  };
  var sourceDefault = {};
  var agsOptions = $.extend(agsDefault, layerOptions);
  var sourceOptions = $.extend(sourceDefault, viewer.getMapSource()[layerOptions.sourceName]);
  sourceOptions.geometryName = agsOptions.geometryName;
  sourceOptions.filter = agsOptions.filter;
  sourceOptions.attribution = agsOptions.attribution;
  sourceOptions.projectionCode = viewer.getProjectionCode();
  sourceOptions.id = agsOptions.id;

  var agsSource = createSource(sourceOptions);
  return vector(agsOptions, agsSource);

  function createSource(options) {
    var vectorSource = null;
    var esriSrs = options.projectionCode.split(':').pop();
    var queryFilter = options.filter ? '&where=' + options.filter : '';
    var esrijsonFormat = new ol.format.EsriJSON();
    vectorSource = new ol.source.Vector({
      attributions: options.attribution,
      loader: function(extent, resolution, projection) {
        var that = this;
        var url = options.url + options.id +
          encodeURI('/query?f=json&' +
            'returnGeometry=true' +
            '&spatialRel=esriSpatialRelIntersects' +
            '&geometry=' + '{"xmin":' + extent[0] + ',"ymin":' +
              extent[1] + ',"xmax":' + extent[2] + ',"ymax":' + extent[3] +
              ',"spatialReference":{"wkid":' + esriSrs + '}}' +
            '&geometryType=esriGeometryEnvelope' +
            '&inSR=' + esriSrs + '&outFields=*' + '' +
            '&returnIdsOnly=false&returnCountOnly=false' +
            '&geometryPrecision=2' +
            '&outSR=' + esriSrs + queryFilter);
        $.ajax({
          url: url,
          dataType: 'jsonp',
          success: function(response) {
            if (response.error) {
              alert(response.error.message + '\n' +
                response.error.details.join('\n'));
            } else {

              // dataProjection will be read from document
              var features = esrijsonFormat.readFeatures(response, {
                featureProjection: projection
              });
              if (features.length > 0) {
                that.addFeatures(features);
              }
            }
          }
        });
      },
      strategy: ol.loadingstrategy.bbox
    });
    return vectorSource;
  }
}

module.exports = agsFeature;

},{"../viewer":209,"./vector":141,"jquery":27,"openlayers":30}],133:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var viewer = require('../viewer');
var tile = require('./tile');

var agsTile = function agsTile(layerOptions) {
  var agsDefault = {
    layerType: 'tile',
    featureinfoLayer: undefined
  };
  var sourceDefault = {};
  var agsOptions = $.extend(agsDefault, layerOptions);
  var sourceOptions = $.extend(sourceDefault, viewer.getMapSource()[layerOptions.source]);
  sourceOptions.attribution = agsOptions.attribution;
  sourceOptions.projection = viewer.getProjection();
  sourceOptions.params = agsOptions.params || {};
  sourceOptions.params.layers = "show:" + agsOptions.id;

  var agsSource = createSource(sourceOptions);
  return tile(agsOptions, agsSource);

  function createSource(options) {
    return new ol.source.TileArcGISRest({
      attributions: options.attribution,
      projection: options.projection,
      crossOrigin: 'anonymous',
      params: options.params,
      url: options.url
    });
  }
}

module.exports = agsTile;

},{"../viewer":209,"./tile":139,"jquery":27,"openlayers":30}],134:[function(require,module,exports){
/**
 * This module creates a dynamic tile source that supports ArcGIS REST services with dynamic layers enabled.
 * @type {Object} Dynamic AGS_TILE
 */
 "use strict";
var ol                   = require('openlayers');
var $                    = require('jquery');
var viewer               = require('../viewer');
var tile                 = require('./tile');
/**
 * [dynAgsTile description]
 * @param {Object} layerOptions are passed from the configuration.
 * @return {Object} a tile layer with a configured ags tile source. That support dynamic layers.
 */
var dynAgsTile = function dynAgsTile(layerOptions) {
    var agsDefault            = { layerType: 'tile', featureinfoLayer: undefined};
    var sourceDefault         = {};
    var agsOptions            = $.extend(agsDefault, layerOptions);
    var sourceOptions         = $.extend(sourceDefault, viewer.getMapSource()[layerOptions.source]);

    sourceOptions.attribution = agsOptions.attribution;
    sourceOptions.projection  = viewer.getProjection();
    sourceOptions.tileSize    = agsOptions.tileSize;
    var e = viewer.getMap().getView().calculateExtent(viewer.getMap().getSize());
    var w = ol.extent.getWidth(e);
    var h = ol.extent.getHeight(e);
    sourceOptions.tileSizes   = [
      [w/0.48 * (512/w), h/0.45 * (512/h)], // 4 096 000
      [w/0.48 * (512/w), h/0.45 * (512/h)], // 2 048 000
      [w/0.48 * (512/w), h/0.45 * (512/h)], // 1 024 000
      [w/0.48 * (512/w), h/0.45 * (512/h)], // 512 000 start
      [w/0.48 * (512/w), h/0.45 * (512/h)], // 256 000
      [w/0.98 * (512/w), h/0.95 * (512/h)], // 128 000
      [w/1.98 * (512/w), h/1.95 * (512/h)], // 64 000
      [w/1.49 * (512/w), h/1.46 * (512/h)], // 32 000
      [w/1.49 * (512/w), h/1.46 * (512/h)], // 16 000
      [w/1.49 * (512/w), h/1.46 * (512/h)], // 8 000
      [w/1.49 * (512/w), h/1.46 * (512/h)], // 4 000
      [w/1.49 * (512/w), h/1.46 * (512/h)], // 2 000
      [w/1.49 * (512/w), h/1.46 * (512/h)], // 1 000
      [w/1.49 * (512/w), h/1.46 * (512/h)], // 500
      [w/1.49 * (512/w), h/1.46 * (512/h)]  // 200
    ];
    sourceOptions.extent          = viewer.getExtent();
    sourceOptions.calculateExtent = viewer.getMap().getView().calculateExtent(viewer.getMap().getSize());
    sourceOptions.resolutions     = viewer.getResolutions();
    sourceOptions.params          = colligate(JSON.parse("[" + agsOptions.id + "]"));
    sourceOptions.tileGrid        = new ol.tilegrid.TileGrid({
      tileSizes: sourceOptions.tileSizes,
      extent: sourceOptions.calculateExtent,
      resolutions: sourceOptions.resolutions
    });
    var agsSource             = createSource(sourceOptions);
  return tile(agsOptions, agsSource);
  /**
   * This method creates a arcgis tile that supports REST and dynamic layers.
   * @param {Object} options Options for source.
   * @return {Object} return an source TileArcGISRest object
   */
  function createSource(options) {
      var source = new ol.source.TileArcGISRest({
        attributions: options.attribution,
        projection  : options.projection,
        crossOrigin : 'anonymous',
        params      : options.params,
        url         : options.url,
        tileGrid    : options.tileGrid
      });
    return source;
  }
}
/**
 * Returns a JSON object with a dynamic layers list.
 * @param {Number} ids a list of ids.
 * @return {Object} an JSON object with dynamicLayers as string.
 */
function colligate(ids){
  return {
    "dynamicLayers": produce(ids),
    "DPI": 90
  };
};
/**
 * Returns a string representation of a list containing dynamic layers.
 * @param {Number} ids a list of ids.
 * @return {String} a list as string over ids.
 */
function produce(ids){
    var result = "";
    for(var drawn in ids){
      result += (drawn == (ids.length-1)) ? reorder(drawn, ids[drawn]) : reorder(drawn, ids[drawn])+',';
    }
  return "["+result+"]";
}
/**
 * Returns a string representation of a dynamic layer object.
 * @param {Number} drawn the new draw position. Index 0 is the top position.
 * @param {Number} inUse the id of the layer in the ArcGIS REST service.
 * @return {String} a dynamic layer object.
 */
function reorder(drawn, inUse){
  return JSON.stringify({"id":drawn, source: {"mapLayerId": inUse}});
}

module.exports = dynAgsTile;

},{"../viewer":209,"./tile":139,"jquery":27,"openlayers":30}],135:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var vector = require('./vector');

var featureLayer = function featureLayer(layerOptions) {
  var options = layerOptions;
  var sourceOptions = {};
  var vectorSource;
  sourceOptions.attribution = layerOptions.attribution;
  sourceOptions.features = layerOptions.features;

  vectorSource = createSource(sourceOptions);
  return vector(options, vectorSource);

  function createSource(options) {
    return new ol.source.Vector({
      attributions: options.attribution,
      features: options.features
    });
  }
}

module.exports = featureLayer;

},{"./vector":141,"openlayers":30}],136:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var viewer = require('../viewer');
var vector = require('./vector');
var isUrl = require('../utils/isurl');

var geojson = function geojson(layerOptions) {
  var baseUrl = viewer.getBaseUrl();
  var geojsonDefault = {
    layerType: 'vector'
  };
  var geojsonOptions = $.extend(geojsonDefault, layerOptions);
  var geojsonSource;
  var sourceOptions = {};
  sourceOptions.attribution = geojsonOptions.attribution;
  sourceOptions.projectionCode = viewer.getProjectionCode();
  sourceOptions.sourceName = layerOptions.source;
  if (isUrl(geojsonOptions.source)) {
    sourceOptions.url = geojsonOptions.source;
  } else {
    geojsonOptions.sourceName = geojsonOptions.source;
    sourceOptions.url = baseUrl + geojsonOptions.source;
  }

  geojsonSource = createSource(sourceOptions);
  return vector(geojsonOptions, geojsonSource);

  function createSource(options) {
    return new ol.source.Vector({
      attributions: options.attribution,
      url: options.url,
      format: new ol.format.GeoJSON()
    });
  }
}

module.exports = geojson;

},{"../utils/isurl":200,"../viewer":209,"./vector":141,"jquery":27,"openlayers":30}],137:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');

var group = function group(layerOptions) {
  var groupDefault = {
    layerType: 'group',
    styleName: 'default'
  };
  var groupOptions = $.extend(groupDefault, layerOptions);
  return new ol.layer.Group(groupOptions);
}

module.exports = group;

},{"jquery":27,"openlayers":30}],138:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var tile = require('./tile');

var osm = function osm(layerOptions) {
  var osmDefault = {};
  var osmOptions = $.extend(osmDefault, layerOptions);

  var osmSource = createSource();
  return tile(osmOptions, osmSource);

  function createSource() {
    return new ol.source.OSM()
  }
}

module.exports = osm;

},{"./tile":139,"jquery":27,"openlayers":30}],139:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var progressBar = require('../progressBar');
module.exports = function tile(options, source) {
  options.source = source;
  var progress = new progressBar(document.getElementById('o-progress'));

  source.on('tileloadstart', function() {
    progress.addLoading();
  });
  source.on('tileloadend', function() {
    progress.addLoaded();
  });
  source.on('tileloaderror', function() {
    progress.addLoaded();
  });
  return new ol.layer.Tile(options);
}

},{"../progressBar":173,"openlayers":30}],140:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var viewer = require('../viewer');
var vector = require('./vector');
var isUrl = require('../utils/isurl');

var topojson = function topojson(layerOptions) {
  var baseUrl = viewer.getBaseUrl();
  var topojsonDefault = {
    layerType: 'vector'
  };
  var topojsonOptions = $.extend(topojsonDefault, layerOptions);
  var topojsonSource;
  var sourceOptions = {};
  sourceOptions.attribution = topojsonOptions.attribution;
  sourceOptions.projectionCode = viewer.getProjectionCode();
  sourceOptions.sourceName = layerOptions.source;
  if (isUrl(topojsonOptions.source)) {
    sourceOptions.url = topojsonOptions.source;
  } else {
    topojsonOptions.sourceName = topojsonOptions.source;
    sourceOptions.url = baseUrl + topojsonOptions.source;
  }

  topojsonSource = createSource(sourceOptions);
  return vector(topojsonOptions, topojsonSource);

  function createSource(options) {
    return new ol.source.Vector({
      attributions: options.attribution,
      url: options.url,
      format: new ol.format.TopoJSON({
        defaultDataProjection: options.projectionCode
      })
    });
  }
}

module.exports = topojson;

},{"../utils/isurl":200,"../viewer":209,"./vector":141,"jquery":27,"openlayers":30}],141:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var style = require('../style')();
var viewer = require('../viewer');

module.exports = function vector(options, source) {
  var vectorLayer;
  switch (options.layerType) {
    case 'vector':
      options.source = source;
      options.style = style.createStyle(options.style);
      vectorLayer = new ol.layer.Vector(options);
      break;
    case 'cluster':
      options.clusterOptions = options.clusterOptions || {};
      if(options.type === 'WFS' || options.type === 'AGS_FEATURE'){
        source.clusterOptions = viewer.getMapSource()[options.sourceName].clusterOptions || {};
      } else {
        source.clusterOptions = {};
      }
      var distance = 60;
      var clusterDistance = options.clusterOptions.clusterDistance || source.clusterOptions.clusterDistance || viewer.getClusterOptions().clusterDistance || distance;
      var clusterMaxZoom = options.clusterOptions.clusterMaxZoom || source.clusterOptions.clusterMaxZoom || viewer.getClusterOptions().clusterMaxZoom || viewer.getResolutions().length-1;
      var clusterInitialDistance = viewer.getSettings().zoom > clusterMaxZoom ? 0 : clusterDistance;
      var map = viewer.getMap();
      var view = map.getView();
      var maxZoom = view.getResolutions().length-1;
      options.source = new ol.source.Cluster({
        attributions: options.attribution,
        source: source,
        distance: clusterInitialDistance
      });
      options.source.setProperties({
        clusterDistance : clusterDistance,
        clusterMaxZoom : clusterMaxZoom
      });
      options.style = style.createStyle(options.style, options.clusterStyle);
      vectorLayer = new ol.layer.Vector(options);
      map.on('movestart', onMoveStart);

      function onMoveStart(evt) {
        var mapZoom = view.getZoomForResolution(evt.frameState.viewState.resolution);
        var clusterDistance = options.source.getProperties().clusterDistance || distance;
        var clusterMaxZoom = options.source.getProperties().clusterMaxZoom || maxZoom;
        map.once('moveend', function(evt) {
          var currentZoom = parseInt(view.getZoom(), 10);
          if (currentZoom !== mapZoom) {
            if (currentZoom >= clusterMaxZoom) {
              options.source.setDistance(0);
            } else if (currentZoom < clusterMaxZoom) {
              options.source.setDistance(clusterDistance);
            }
          }
        })
      }
      break;
    case 'image':
      options.source = new ol.source.ImageVector({
        source: source,
        style: style.createStyle(options.style)
      });
      vectorLayer = new ol.layer.Image(options);
      break;
    case 'vectortile':
      options.source = source;
      options.style = style.createStyle(options.style);
      vectorLayer = new ol.layer.VectorTile(options);
      break;
  }
  return vectorLayer;
}

},{"../style":181,"../viewer":209,"openlayers":30}],142:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var viewer = require('../viewer');
var vector = require('./vector');
var maputils = require('../maputils');

var vectortile = function vectortile(layerOptions) {
  var vectortileDefault = {
    layerType: 'vectortile',
    featureinfoLayer: undefined
  };
  var sourceDefault = {};
  var vectortileOptions = $.extend(vectortileDefault, layerOptions);
  vectortileOptions.sourceName = vectortileOptions.name;
  var sourceOptions = $.extend(sourceDefault, viewer.getMapSource()[layerOptions.source]);
  sourceOptions.attributions = vectortileOptions.attribution;
  sourceOptions.projection = viewer.getProjectionCode() || 'EPSG:3857';
  if(sourceOptions.tileGrid){
    sourceOptions.tileGrid = maputils.tileGrid(sourceOptions.tileGrid);
  } else {
    sourceOptions.tileGrid = viewer.getTileGrid();
  }
  
  var vectortileSource = createSource(sourceOptions, vectortileOptions);
  return vector(vectortileOptions, vectortileSource);
}

function createSource(options, vectortileOptions) {
  var format;
  switch(vectortileOptions.format) {
    case 'topojson':
    format = new ol.format.TopoJSON();
    break;
    case 'geojson':
    format = new ol.format.GeoJSON();
    break;
    case 'pbf':
    format = new ol.format.MVT();
    break;
  }
  if(vectortileOptions.layerURL){
    options.url += vectortileOptions.layerURL;
  }
  else {
    options.url += vectortileOptions.layerName + '@'  + vectortileOptions.gridset + '@' + vectortileOptions.format + '/{z}/{x}/{-y}.'+ vectortileOptions.format;
  }
  options.format = format;
  return new ol.source.VectorTile(options);
}

module.exports = vectortile;
},{"../maputils":152,"../viewer":209,"./vector":141,"jquery":27,"openlayers":30}],143:[function(require,module,exports){
"use strict";
var ol = require('openlayers');
var $ = require('jquery');
var viewer = require('../viewer');
var vector = require('./vector');

var wfs = function wfs(layerOptions) {
  var wfsDefault = {
    layerType: 'vector'
  };
  var sourceDefault = {};
  var wfsOptions = $.extend(wfsDefault, layerOptions);
  var sourceOptions = $.extend(sourceDefault, viewer.getMapSource()[layerOptions.sourceName]);
  wfsOptions.featureType = sourceOptions.featureType = wfsOptions.id;
  sourceOptions.geometryName = wfsOptions.geometryName;
  sourceOptions.filter = wfsOptions.filter;
  sourceOptions.attribution = wfsOptions.attribution;
  sourceOptions.resolutions = viewer.getResolutions();
  sourceOptions.projectionCode = viewer.getProjectionCode();

  sourceOptions.strategy = layerOptions.strategy ? layerOptions.strategy : sourceOptions.strategy;
  switch (sourceOptions.strategy) {
    case 'all':
      sourceOptions.loadingstrategy = ol.loadingstrategy.all;
    break;
    case 'tile':
    sourceOptions.loadingstrategy = ol.loadingstrategy.tile(ol.tilegrid.createXYZ({
        maxZoom: sourceOptions.resolutions.length
      }));
    break;
    default:
    sourceOptions.loadingstrategy = ol.loadingstrategy.bbox;
    break;
  }
  var wfsSource = createSource(sourceOptions);
  return vector(wfsOptions, wfsSource);

  function createSource(options) {
    var vectorSource = null;
    var serverUrl = options.url;
    var queryFilter;

    //If cql filter then bbox must be used in the filter.
    if(options.strategy === 'all'){
      queryFilter = options.filter ? '&CQL_FILTER=' + options.filter : '';
    }
    else{
      queryFilter = options.filter ? '&CQL_FILTER=' + options.filter + ' AND BBOX(' + options.geometryName + ',' : '&BBOX=';
    }
    var bboxProjectionCode = options.filter ? "'" + options.projectionCode + "')" : options.projectionCode;
    vectorSource = new ol.source.Vector({
      attributions: options.attribution,
      format: new ol.format.GeoJSON({
        geometryName: options.geometryName
      }),
      loader: function(extent, resolution, projection) {
        var url = serverUrl +
          '?service=WFS&' +
          'version=1.1.0&request=GetFeature&typeName=' + options.featureType +
          '&outputFormat=application/json' +
          '&srsname=' + options.projectionCode;
        url += options.strategy === 'all' ? queryFilter : queryFilter + extent.join(',') + ',' + bboxProjectionCode;
        $.ajax({
            url: url,
            cache: false
          })
          .done(function(response) {
            vectorSource.addFeatures(vectorSource.getFormat().readFeatures(response));
          });
      },
      strategy: options.loadingstrategy
    });
    return vectorSource;
  }
}

module.exports = wfs;

},{"../viewer":209,"./vector":141,"jquery":27,"openlayers":30}],144:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var viewer = require('../viewer');
var tile = require('./tile');

var wms = function wms(layerOptions) {
  var wmsDefault = {
    layerType: 'tile',
    featureinfoLayer: undefined
  };
  var sourceDefault = {
    version: '1.1.1',
    gutter: 0,
    format: 'image/png'
  };
  var wmsOptions = $.extend(wmsDefault, layerOptions);
  wmsOptions.name.split(':').pop();
  var sourceOptions = $.extend(sourceDefault, viewer.getMapSource()[layerOptions.source]);
  sourceOptions.attribution = wmsOptions.attribution;
  sourceOptions.projectionCode = viewer.getProjectionCode();
  sourceOptions.id = wmsOptions.id;
  sourceOptions.tileGrid = viewer.getTileGrid();
  sourceOptions.format = wmsOptions.format ? wmsOptions.format : sourceOptions.format;

  var wmsSource = createSource(sourceOptions);
  return tile(wmsOptions, wmsSource);

  function createSource(options) {
    return new ol.source.TileWMS(({
      attributions: options.attribution,
      url: options.url,
      gutter: options.gutter,
      crossOrigin: 'anonymous',
      projection: options.projectionCode,
      tileGrid: options.tileGrid,
      params: {
        'LAYERS': options.id,
        'TILED': true,
        'VERSION': options.version,
        'FORMAT': options.format
      }
    }))
  }
}

module.exports = wms;

},{"../viewer":209,"./tile":139,"jquery":27,"openlayers":30}],145:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var viewer = require('../viewer');
var tile = require('./tile');

var wmts = function wmts(layerOptions) {
  var wmtsDefault = {
    layerType: 'tile',
    featureinfoLayer: undefined
  };
  var sourceDefault = {
    matrixSet: viewer.getProjectionCode(),
    matrixIdsPrefix: viewer.getProjectionCode() + ':',
    format: 'image/png',
    resolutions: viewer.getResolutions(),
    tileSize: [256, 256]
  };
  var wmtsOptions = $.extend(wmtsDefault, layerOptions);
  wmtsOptions.name.split(':').pop();
  wmtsOptions.sourceName = wmtsOptions.name;
  var sourceOptions = $.extend(sourceDefault, viewer.getMapSource()[layerOptions.source]);
  if (wmtsOptions.hasOwnProperty('format')) {
    sourceOptions.format = wmtsOptions.format;
  }
  sourceOptions.attribution = wmtsOptions.attribution;
  sourceOptions.projectionCode = viewer.getProjectionCode();
  sourceOptions.matrixIds = [];
  sourceOptions.resolutions.forEach(function(resolution, i) {
    sourceOptions.matrixIds[i] = sourceOptions.matrixIdsPrefix + i;
  });
  sourceOptions.projectionExtent = viewer.getProjection().getExtent();
  sourceOptions.id = wmtsOptions.id;

  var wmtsSource = createSource(sourceOptions);
  return tile(wmtsOptions, wmtsSource);

  function createSource(options) {
    return new ol.source.WMTS({
      crossOrigin: 'anonymous',
      attributions: options.attribution,
      url: options.url,
      projection: options.projectionCode,
      layer: options.id,
      matrixSet: options.matrixSet,
      format: options.format,
      tileGrid: new ol.tilegrid.WMTS({
        origin: options.origin || ol.extent.getTopLeft(options.projectionExtent),
        resolutions: options.resolutions,
        matrixIds: options.matrixIds,
        tileSize: options.tileSize
      }),
      style: 'default'
    })
  }
}

module.exports = wmts;

},{"../viewer":209,"./tile":139,"jquery":27,"openlayers":30}],146:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var viewer = require('../viewer');
var tile = require('./tile');

var xyz = function xyz(layerOptions) {
  var xyzDefault = {
    layerType: 'tile',
    featureinfoLayer: undefined
  };
  var sourceDefault = {};
  var xyzOptions = $.extend(xyzDefault, layerOptions);
  xyzOptions.sourceName = xyzOptions.id;
  var sourceOptions = $.extend(sourceDefault, viewer.getMapSource()[layerOptions.source]);
  sourceOptions.attributions = xyzOptions.attribution;
  sourceOptions.projection = viewer.getProjectionCode() || 'EPSG:3857';
  sourceOptions.tileGrid = viewer.getTileGrid();
  if(xyzOptions.layerURL){
    sourceOptions.url += xyzOptions.layerURL;
  }
  else {
    var format = sourceOptions.sourceName.split('.')[1],
      url = sourceOptions.sourceName.split('.')[0] + '/{z}/{x}/{y}.';
    url += format;
    sourceOptions.url = url;
  }
  var xyzSource = createSource(sourceOptions);
  return tile(xyzOptions, xyzSource);
}

function createSource(options) {
  options.crossOrigin = 'anonymous';
  return new ol.source.XYZ(options);
}

module.exports = xyz;

},{"../viewer":209,"./tile":139,"jquery":27,"openlayers":30}],147:[function(require,module,exports){
"use strict";

var $             = require('jquery');
var viewer        = require('./viewer');
var mapUtils      = require('./maputils');
var group         = require('./layer/group');
var type          = {};
var layerCreator;
type.WFS          = require('./layer/wfs');
type.AGS_FEATURE  = require('./layer/agsfeature');
type.TOPOJSON     = require('./layer/topojson');
type.GEOJSON      = require('./layer/geojson');
type.WMS          = require('./layer/wms');
type.WMTS         = require('./layer/wmts');
type.AGS_TILE     = require('./layer/agstile');
type.DYN_AGS_TILE = require('./layer/dynagstile');
type.XYZ          = require('./layer/xyz');
type.OSM          = require('./layer/osm');
type.VECTORTILE   = require('./layer/vectortile');
type.FEATURE      = require('./layer/featurelayer');
type.GROUP        = groupLayer;

layerCreator = function layerCreator(opt_options) {
  var defaultOptions = {
    name: undefined,
    id: undefined,
    title: undefined,
    group: 'none',
    opacity: 1,
    geometryName: 'geom',
    geometryType: undefined,
    filter: undefined,
    layerType: undefined,
    legend: false,
    sourceName: undefined,
    attribution: undefined,
    style: 'default',
    styleName: undefined,
    queryable: true,
    minResolution: undefined,
    maxResolution: undefined,
    visible: false,
    type: undefined,
    extent: undefined,
    attributes: undefined,
    tileSize: viewer.getTileSize()
  };
  var projection = viewer.getProjection();
  var options = opt_options || {};
  var layerOptions = $.extend(defaultOptions, options);
  var name = layerOptions.name;
  layerOptions.minResolution = layerOptions.hasOwnProperty('minScale') ? mapUtils.scaleToResolution(layerOptions.minScale, projection): undefined;
  layerOptions.maxResolution = layerOptions.hasOwnProperty('maxScale') ? mapUtils.scaleToResolution(layerOptions.maxScale, projection): undefined;
  layerOptions.extent = layerOptions.extent || viewer.getExtent();
  layerOptions.sourceName = layerOptions.source;
  layerOptions.styleName = layerOptions.style;
  if (layerOptions.id === undefined) {
    layerOptions.id = name.split('__').shift();
  }

  layerOptions.name = name.split(':').pop();

  if (type.hasOwnProperty(layerOptions.type)) {
    var layer = type[layerOptions.type](layerOptions, layerCreator);
    agsTileEvents(layer);
    return layer;
  } else {
    console.log('Layer type is missing or layer type is not correct. Check your layer definition: ');
  }
}
/**
 * tmp layers stores tmp settings for drawn layers.
 * @type {Array}
 */
var tmp = [];
/**
 * Handler that andles speicif type in this case generic ArcGIS Tiles.
 * @param {[Object]} layer Generic layer
 * @return {[Array]} Selected ids and draworder in cloaked layers of optimal performance.
 */
function agsTileEvents(layer){
  if(layer.get('type') === 'DYN_AGS_TILE') {
    layer.on('change:visible', function(){
      if(this.get('visible')){
        addCollected(layer);
        kickOff(viewer);
        layer.setSource(null);
        tmp.push(layer);
      } else if(!this.get('visible')) {
        removeCollected(layer);
        kickOff(viewer);
        tmp = restore(tmp, layer);
      }
    });
  }
};
/**
 * Restores the source to original source.
 * @param {[Array]} list  A list that contains a number of layers.
 * @param {[Object]} layer Target layer to restore.
 * @return {[Array]} A list of layers
 */
function restore(list, layer){
  list.forEach(function(l){
    if(layer.get('name') === l.get('name')){
      layer.setSource(l.getSource());
    }
  });
  return list;
}
/**
 * This method distributes and kicks off different cloaked layers.
 * This method is required for optimal perfomance. If you wnat to call
 * maximum of 20 layers i one GET request. Use kickoff to distribute
 * the number of layers and han handle maximum of 100 layers, hence 5
 * single requests.
 * @param {[Object]} viewer [description]
 * @return {[Objects]} Cloaked objects
 */
function kickOff(viewer){
  viewer.getLayers().forEach(function(layer){
    var stable = require('./ids').stable;
    var collected = require('./ids').collected;
    collected = structure(stable, collected);
    var indices = hand(stable, collected);
    var mpl = 20;
    switch(cardinal(collected.length, mpl)){
      case 1:
        toggle(viewer, layer, indices, collected, 'cloaked0', (mpl-mpl), mpl);
      break;
      case 2:
        toggle(viewer, layer, indices, collected, 'cloaked0', mpl, mpl*2);
        toggle(viewer, layer, indices, collected, 'cloaked1', (mpl-mpl), mpl);
      break;
      case 3:
        toggle(viewer, layer, indices, collected, 'cloaked0', mpl*2, mpl*3);
        toggle(viewer, layer, indices, collected, 'cloaked1', mpl, mpl*2);
        toggle(viewer, layer, indices, collected, 'cloaked2', (mpl-mpl), mpl);
      break;
      case 4:
        toggle(viewer, layer, indices, collected, 'cloaked0', mpl*3, mpl*4);
        toggle(viewer, layer, indices, collected, 'cloaked1', mpl*2, mpl*3);
        toggle(viewer, layer, indices, collected, 'cloaked2', mpl, mpl*2);
        toggle(viewer, layer, indices, collected, 'cloaked3', (mpl-mpl), mpl);
      break;
      case 5:
        toggle(viewer, layer, indices, collected, 'cloaked0', mpl*4, mpl*5);
        toggle(viewer, layer, indices, collected, 'cloaked1', mpl*3, mpl*4);
        toggle(viewer, layer, indices, collected, 'cloaked2', mpl*2, mpl*3);
        toggle(viewer, layer, indices, collected, 'cloaked3', mpl, mpl*2);
        toggle(viewer, layer, indices, collected, 'cloaked4', (mpl-mpl), mpl);
      break;
      default:
        if(
          layer.get('name') === 'cloaked0' ||
          layer.get('name') === 'cloaked1' ||
          layer.get('name') === 'cloaked2' ||
          layer.get('name') === 'cloaked3' ||
          layer.get('name') === 'cloaked4'
         ) {
          layer.getSource().updateParams(colligate(viewer, collected));
        }
      break;
    }
  });
};
/**
 * Toggels or on/off a layer source.
 * @param {[Object]} viewer    Current viewer
 * @param {[Object]} layer     Target layer
 * @param {[Array]} indices   List of maintained indexis for draworder.
 * @param {[Array]} collected List of ids of the selected layers.
 * @param {[String]} name      Name of target layers ex. cloaked0
 * @param {[Integer]} min       Lowest array length 0, 20, 40 etc..
 * @param {[Integer]} max       Maximum array length 20, 40, 60 etc...
 * @return {[Object]} viewer    updated viwer and its components for draworder.
 */
function toggle(viewer, layer, indices, collected, name, min, max){
  if(layer.get('name') === name){
    var source = layer.getSource();
    revise(viewer, indices, source, collected.slice(min, max));
  };
};
/**
 * Multiplication functions
 * @param {[Integer]} bulk  Value
 * @param {[Integer]} crest Value
 * @return {IInteger]} Result
 */
function roof(bulk, crest){
  return bulk * crest;
};
/**
 * Lower value
 * @param {[Integer]} bulk  Value
 * @param {[Integer]} crest Value
 * @return {[Integer]} Result
 */
function tin(bulk, crest){
  return roof(bulk, crest) - roof(bulk, crest);
}
/**
 * Calculates the cardinal value.
 * @param {[Integer]} bulk  Value
 * @param {[Integer]} crest Value
 * @return {[Integer]} Result
 */
function cardinal(bulk, crest){
  return Math.ceil(bulk / crest) >= 0 ? Math.ceil(bulk / crest) : 0;
};
/**
 * Draworder revision corrects the draw order of layers.
 * @param {[Object]} viewer    Current viewer in map.
 * @param {[Array]} indices   Array of index values.
 * @param {[Object]} source    Target source value.
 * @param {[Integer]} collected Target selected values
 * @return {[Object]} Updates viwer.
 */
function revise(viewer, indices, source, collected){
  if(indices[0] > 0){
    source.updateParams(colligate(viewer, collected));
  } else if(indices[0] !== undefined){
    source.updateParams(colligate(viewer, collected.reverse()));
  } else {
    source.updateParams(colligate(viewer, []));
  }
};
/**
 * Drawoder hands what order the collected ids should be arranged based on the stable static values.
 * @param {[Array]} stable    Integers values id values for static layers.
 * @param {[Array]} collected Integers values id values for selected layers.
 * @return {[Array]} [description]
 */
function hand(stable, collected){
  var indices = new Array(collected.length);
  for (var index in collected) indices[index] = index;
  return indices.sort(function (x, y) {
    return stable.indexOf(collected[x]) < stable.indexOf(collected[y]) ? -1 : stable.indexOf(collected[x]) > stable.indexOf(collected[y]) ? 1 : 0; });
};
/**
 * Returns a JSON object with a dynamic layers list.
 * @param {Number} ids a list of ids.
 * @return {Object} an JSON object with dynamicLayers as string.
 */
function colligate(viewer, ids) {
  var currentExtent = viewer.getMap().getView().calculateExtent(viewer.getMap().getSize());
  var result = {
    "dynamicLayers": produce(ids),
    "bbox": currentExtent.join(',')
  };
  return result;
};
/**
 * Returns a string representation of a list containing dynamic layers.
 * @param {Number} ids a list of ids.
 * @return {String} a list as string over ids.
 */

function produce(ids){
    var result = "";
    for(var drawn in ids){
      result += (drawn == (ids.length-1)) ? reorder(drawn, ids[drawn]) : reorder(drawn, ids[drawn])+',';
    }
  return "["+result+"]";
};
/**
 * Returns a string representation of a dynamic layer object.
 * @param {Number} drawn the new draw position. Index 0 is the top position.
 * @param {Number} inUse the id of the layer in the ArcGIS REST service.
 * @return {String} a dynamic layer object.
 */
function reorder(drawn, inUse){
  return JSON.stringify({"id":drawn, source: {"mapLayerId": inUse}});
};
/**
 * Adds target layer to all lists.
 * @param {[Object]} layer Target Layer
 * @return {[Array]} List of collected layers
 */
function addCollected(layer){
  var stable = require('./ids').stable;
  var collected = require('./ids').collected;
  var id = layer.get('id');
  collected.push(id);
  collected = structure(stable, collected);
};
/**
 * Removes collected
 * @param {[Object]} layer Target layer
 * @return {[Array]} List of collected layers
 */
function removeCollected(layer){
  var stable = require('./ids').stable;
  var collected = require('./ids').collected;
  var id = layer.get('id');
  collected.splice(collected.indexOf(id), 1);
  collected = structure(stable, collected);
};
/**
 * Struture function that filters out unhandled undefined och null values.
 * @param {[Array]} stable    Static ids in array.
 * @param {[Array]} collected Selected ids in array.
 * @return {[Array]} [description]
 */
function structure(stable, collected){
  var tidy = [];
  for(var x in stable){
    for(var y in collected){
      if(stable[x] === collected[y]){
        tidy[x] = collected[y];
      }
    }
  }
  return tidy.filter(function(x){
    return (x !== (undefined || null || ''));
  });
};

function groupLayer(options) {
  var layers;
  var layerOptions;
  if (options.hasOwnProperty('layers')) {
    layers = options.layers.map(function(layer) {
      return layerCreator(layer);
    });

    layerOptions = {};
    layerOptions.layers = layers;
    return group($.extend(options, layerOptions));
  } else {
    console.log('Group layer has no layers');
  }
}

module.exports = layerCreator;

},{"./ids":131,"./layer/agsfeature":132,"./layer/agstile":133,"./layer/dynagstile":134,"./layer/featurelayer":135,"./layer/geojson":136,"./layer/group":137,"./layer/osm":138,"./layer/topojson":140,"./layer/vectortile":142,"./layer/wfs":143,"./layer/wms":144,"./layer/wmts":145,"./layer/xyz":146,"./maputils":152,"./viewer":209,"jquery":27}],148:[function(require,module,exports){
"use strict";

var $ = require('jquery');
var viewer = require('./viewer');
var utils = require('./utils');
var modal = require('./modal');
var validateUrl = require('./utils/validateurl');

var symbolSize = 20;
var styleSettings;
var baseUrl;
var hasMapLegend;

function init(opt_options) {
  var options = opt_options || {};

  baseUrl = viewer.getBaseUrl();
  hasMapLegend = options.hasOwnProperty('hasMapLegend') ? options.hasMapLegend : true;
  styleSettings = viewer.getStyleSettings();

  render();
  addLegend(viewer.getGroups('top'));
}

function render() {
  $('#o-menutools').append('<li class="o-menu-item"><div class="o-menu-item-divider"></div><li>');
}

function getSymbol(style) {
  var symbol='';
  var s = style[0];
  if (s[0].hasOwnProperty('icon')) {
    var src = validateUrl(s[0].icon.src, baseUrl);
    // var scale = style.icon.scale || undefined;
    var format = s[0].format || 'png';
    if (format == 'png') {
      symbol = '<div class="o-legend-item-img"><img style="width: auto; height: 20px;" src="' + src + '"></div>'
    }
    else if (format == 'svg') {
      var o = '<object type="image/svg+xml" data="' + src + '" style="width: 20px;"></object>';
      var inlineStyle = 'background: url(' + src + ') no-repeat;width: 20px; height: 20px;background-size: 20px;';
      symbol = '<div class="o-legend-item-img">' + o + '</div>';
    }
  }
  else if (s[0].hasOwnProperty('fill')) {
    var fill = '';
    for(var i=0; i<s.length; i++) {
      fill += createFill(s[i]);
    }
    symbol += '<div class="o-legend-item-img"><svg height="' + symbolSize + '" width="' + symbolSize + '">';
    symbol += fill;
    symbol += '</svg></div>';
  }
  else if (s[0].hasOwnProperty('stroke')) {
    var stroke = '';
    for(var i=0; i<s.length; i++) {
      stroke += createStroke(s[i]);
    }
    symbol += '<div class="o-legend-item-img"><svg height="' + symbolSize + '" width="' + symbolSize + '">';
    symbol += stroke;
    symbol += '</svg></div>';
  }
  else if (s[0].hasOwnProperty('circle')) {
    var circle = '';
    for(var i=0; i<s.length; i++) {
      circle += createCircle(s[i]);
    }
    symbol += '<div class="o-legend-item-img"><svg height="' + symbolSize + '" width="' + symbolSize + '">';
    symbol += circle;
    symbol += '</svg></div>';
  }
  else if (s[0].hasOwnProperty('image')) {
    var src = validateUrl(s[0].image.src, baseUrl);
    var inlineStyle = 'background: url(' + src + ') no-repeat;width: 30px; height: 30px;background-size: 30px;';
    symbol = '<div class="o-legend-item-img" style="' + inlineStyle +'"></div>';
  }

  return symbol;
}

function createFill(fillProperties) {
  var f = fillProperties;
  var strokeWidth = 0;

  if(f.hasOwnProperty('stroke')) {
    strokeWidth = f.stroke.width >=3 ? 3 : f.stroke.width;
    var stroke = 'stroke:' + f.stroke.color + ';' || 'stroke:none;';
    stroke += 'stroke-width:' + strokeWidth + ';' || '';
    stroke += 'stroke-dasharray:' + f.stroke.lineDash + ';' || '';
  }

  var fillSize = symbolSize - 4; //-2-2
  var fill = '<rect x="2" y="2" rx="2" ry="2" width="' + fillSize + '" height="' + fillSize + '" ';
  fill += f.hasOwnProperty('fill') ? 'style="fill:' + f.fill.color + ';' : 'style="fill:none;';
  fill += stroke;
  fill += '"></rect>';

  return fill;
}

function createCircle(circleProperties) {
  var c = circleProperties.circle;
  var strokeWidth = 0;

  if(c.hasOwnProperty('stroke')) {
    strokeWidth = c.stroke.width >=3 ? 3 : c.stroke.width;
    var stroke = 'stroke:' + c.stroke.color + ';' || 'stroke:none;';
    stroke += 'stroke-width:' + strokeWidth + ';' || '';
  }

  var size = symbolSize/2;
  var fill = '<circle cx="' + size + '" cy="' + size + '" r="' + c.radius + '" ';
  fill += c.hasOwnProperty('fill') ? 'style="fill:' + c.fill.color + ';' : 'style="fill:none;';
  fill += stroke;
  fill += '"></circle>';

  return fill;
}

function createStroke(strokeProperties) {
  var s = strokeProperties;
  var strokeWidth = s.stroke.width > 4 ? 4 : s.stroke.width;
  strokeWidth = s.stroke.width < 2 ? 2 : strokeWidth;
  var stroke = '<line x1 = "2" y1= "' + (symbolSize-4).toString() + '" x2="' + (symbolSize-4).toString() + '" y2="2" ';
  stroke += 'style="';
  stroke += 'stroke:' + s.stroke.color + ';' || 'stroke:none;';
  stroke += 'stroke-width:' + strokeWidth + ';' || '';
  stroke += 'stroke-dasharray:' + s.stroke.lineDash + ';' || '';
  stroke += '"/>';

  return stroke;
}

function addAbstractButton(item) {
  var infoTextButton =  '<div class="o-legend-item-info o-abstract" id="o-legend-item-info-' + item + '">' +
                          '<svg class="o-icon-fa-info-circle"><use xlink:href="#fa-info-circle"></use></svg>' +
                        '</div>';
  return infoTextButton;
}

function createLegendItem(layerid, layerStyle, inSubgroup) {
  var layername = layerid.split('o-legend-').pop();
  var layer = viewer.getLayer(layername);
  var subClass = inSubgroup ? ' o-legend-subitem' : '';
  var legendItem = '';

  if (layerStyle && layerStyle[0][0].hasOwnProperty('filter')) {

    if (layerStyle[0][0].hasOwnProperty('legend')) {
      legendItem += '<li class="o-legend ' + layername + '">';
      legendItem += '<ul id="o-group-' + layername + '" class="o-legend-group o-ul-expand-false"><li class="' + layername + '" id="' + layerid + '">';
    } else {
      legendItem += '<li class="o-legend ' + layername + '" id="' + layerid + '">';
    }

    legendItem += '<div class ="o-legend-item' + subClass + '"><div class="o-checkbox">' +
                    '<svg class="o-icon-fa-square-o"><use xlink:href="#fa-square-o"></use></svg>' +
                    '<svg class="o-icon-fa-check-square-o"><use xlink:href="#fa-check-square-o"></use></svg>' +
                  '</div>';
    legendItem += '<div class="o-legend-item-title o-truncate">' + layer.get('title') + '</div>';

    if(layer.get('abstract')){
      legendItem += addAbstractButton(layername);
    }

    if (layerStyle[0][0].hasOwnProperty('legend')) {
      legendItem += '<div class="o-icon-expand o-icon-expand-false">' +
                      '<svg class="o-icon-fa-chevron-right">' +
                        '<use xlink:href="#fa-angle-double-right"></use>' +
                      '</svg>' +
                      '<svg class="o-icon-fa-chevron-down">' +
                        '<use xlink:href="#fa-angle-double-down"></use>' +
                      '</svg>' +
                    '</div>';
      legendItem += '</div></li>';

      layerStyle.forEach(function (styleArray) {
        legendItem += '<li class="o-legend ' + layername + '" id="' + layername + '"><div class ="o-legend-subitem">';
        legendItem += '<div class="o-checkbox o-checkbox-false"></div>';
        legendItem += layer.get('styleName') ? getSymbol([styleArray]) : '';
        legendItem += '<div class="o-legend-subitem-title">' + styleArray[0].legend + '</div></div></li>';
      });

      legendItem += '</ul></li>'
    }
  } else {
    legendItem += '<li class="o-legend ' + layername + '" id="' + layerid + '"><div class ="o-legend-item' + subClass + '"><div class="o-checkbox">' +
                    '<svg class="o-icon-fa-square-o"><use xlink:href="#fa-square-o"></use></svg>' +
                    '<svg class="o-icon-fa-check-square-o"><use xlink:href="#fa-check-square-o"></use></svg>' +
                  '</div>';
    legendItem +=  layer.get('styleName') ? getSymbol(styleSettings[layer.get('styleName')]) : '';
    legendItem += '<div class="o-legend-item-title o-truncate">' + layer.get('title') + '</div>';

    if(layer.get('abstract')){
      legendItem += addAbstractButton(layername);
    }

    legendItem += '</div></li>';
  }

  return legendItem;
}

function createGroup(group, parentGroup) {
  var legendGroup;
  var overlayGroup;
  var abstract = '';

  if (group.hasOwnProperty('overlayGroup')) {
    overlayGroup = group.name;
  }

  if (group.abstract) {
    abstract += addAbstractButton(group.name);
  }

  if (parentGroup) {
    var indent = $(parentGroup).parent().closest('ul').hasClass('o-legend-group') ? 'o-legend-indent' : '';

    legendGroup = '<li class="o-legend ' + group.name + ' o-top-item" id="' + group.name + '">' +
                    '<ul id="o-group-' + group.name + '" class="o-legend-group o-legend-subgroup ' + indent +'">' +
                      '<li class="o-legend-header o-legend-subheader ' + group.name + '" id="' + group.name + '"><div class="o-legend-item">' +
                        '<div class="o-checkbox">' +
                          '<svg class="o-icon-fa-square-o"><use xlink:href="#fa-square-o"></use></svg>' +
                          '<svg class="o-icon-fa-check-square-o"><use xlink:href="#fa-check-square-o"></use></svg>' +
                        '</div>' +
                        '<div class="o-legend-subgroup-title o-truncate">' +
                          group.title +
                        '</div>' +
                        '<div class="o-icon-expand">' +
                          '<svg class="o-icon-fa-chevron-right"><use xlink:href="#fa-angle-double-right"></use></svg>' +
                          '<svg class="o-icon-fa-chevron-down"><use xlink:href="#fa-angle-double-down"></use></svg>' +
                        '</div>' + abstract +
                      '</div></li>' +
                    '</ul>' +
                  '</li>';
    parentGroup.append(legendGroup);
  } else {
    legendGroup = '<li>' +
                    '<ul id="o-group-' + group.name + '" class="o-legend-group">' +
                      '<li class="o-legend-header"><div class="o-legend-item">' + group.title +
                        '<div class="o-icon-expand">' +
                          '<svg class="o-icon-fa-chevron-right"><use xlink:href="#fa-chevron-right"></use></svg>' +
                          '<svg class="o-icon-fa-chevron-down"><use xlink:href="#fa-chevron-down"></use></svg>' +
                        '</div>' + abstract +
                      '</div></li>' +
                    '</ul>' +
                  '</li>';
    $('#o-legendlist .o-legendlist').append(legendGroup);
  }

  if (group.expanded == true) {
    $('#o-group-' + group.name +' .o-icon-expand').addClass('o-icon-expand-true');
    $('#o-group-' + group.name +' .o-checkbox').addClass('o-checkbox-false');
  } else {
    $('#o-group-' + group.name +' .o-icon-expand').addClass('o-icon-expand-false');
    $('#o-group-' + group.name +' .o-checkbox').addClass('o-checkbox-false');
    $('#o-group-' + group.name).addClass('o-ul-expand-false');
  }

  $('#o-group-' + group.name + ' .o-legend-header').on('click', function(evt) {

    if ($(evt.target).closest('div').hasClass('o-checkbox')) {
      toggleSubGroupCheck($(this).parent(), true);
    } else if ($(evt.target).closest('div').hasClass('o-abstract')) {

    } else {
      toggleGroup($(this));
    }

    evt.preventDefault();
  });

  if (group.hasOwnProperty('groups')) {
    group.groups.forEach(function(subgroup) {
      createGroup(subgroup, $('#o-group-' + group.name));
    });
  }
}

function addLegend(groups) {
  var layers = viewer.getMap().getLayers().getArray();
  var overlayGroup;
  var item = '';

  //Add legend groups
  var legend = '<div id="o-legendlist"><ul class="o-legendlist"></ul></div>';
  $('#o-mapmenu').append(legend);

  groups.forEach(function(group) {
    createGroup(group);
  });

  //Add map legend unless set to false
  if(hasMapLegend) {
    var mapLegend = '<div id="o-map-legend"><ul id="o-legend-overlay"><li class="o-legend o-hidden"><div class ="o-toggle-button o-toggle-button-max">' +
                        '<svg class="o-icon-fa-angle-double-down"><use xlink:href="#fa-angle-double-down"></use></svg>' +
                        '<svg class="o-icon-fa-angle-double-up"><use xlink:href="#fa-angle-double-up"></use></svg>' +
                    '</div></li><li><ul id="o-overlay-list"></li></ul></ul><ul id="o-map-legend-background"></ul></div>';
    $('#o-map').append(mapLegend);

    //Add divider to map legend if not only background
    if(overlayGroup) {
      $('#o-map-legend-background').prepend('<div class="o-legend-item-divider"></div>');
    };
  }

  //Add layers to legend
  layers.forEach(function(layer) {

    var name = (layer.get('name'));
    var layerStyle = styleSettings[layer.get('styleName')];
    //Check if layer belongs to subgroup
    var inSubgroup = $('#o-group-' + layer.get('group')).closest('ul').parent().closest('ul').hasClass('o-legend-group');
    var title = '<div class="o-legend-item-title o-truncate">' + layer.get('title') + '</div>';
    var rootGroup;

    //Add abstract button
    if(layer.get('abstract')){
      title += addAbstractButton(name);
    }
    title += '</div></li>';

    //Append layer to group in legend. Add to default group if not defined.
    if(layer.get('group') == 'background') {

      //Append background layers to menu
      item = '<li class="o-legend ' + name + '" id="' + name + '"><div class ="o-legend-item"><div class="o-checkbox"><svg class="o-icon-fa-check"><use xlink:href="#fa-check"></use></svg></div>';
      item += title;
      $('#o-group-background .o-legend-header').after(item);

      //Append background layers to map legend
      item = '<li class="o-legend ' + name + '" id="o-legend-' + name + '"><div class ="o-legend-item">'
      item += layer.get('styleName') ? getSymbol(styleSettings[layer.get('styleName')]) : '';
      item += '</div>';
      $('#o-map-legend-background').prepend(item);

    } else if(layer.get('group') && ((layer.get('group') != 'none'))) {

      //Append layer to group
      item = createLegendItem(name, layerStyle, inSubgroup);
      if ($('#o-group-' + layer.get('group')).children('li.o-top-item:last').length) {
        $('#o-group-' + layer.get('group')).children('li.o-top-item:last').after(item);
      } else {
        $('#o-group-' + layer.get('group') + ' .o-legend-header').after(item);
      }

      if(layer.get('legend') == true || layer.getVisible(true)) {
        //Append to map legend
        item = '<li class="o-legend ' + name + '" id="o-legend-' + name + '"><div class ="o-legend-item"><div class="o-checkbox">' +
                  '<svg class="o-icon-fa-square-o"><use xlink:href="#fa-square-o"></use></svg>' +
                  '<svg class="o-icon-fa-check-square-o"><use xlink:href="#fa-check-square-o"></use></svg>' +
                '</div>';
        item += layer.get('styleName') ? getSymbol(styleSettings[layer.get('styleName')]) : '';
        item += title;
        $('#o-overlay-list').prepend(item);
      }
    }

    //Check map legend to make sure minimize button appears
    checkToggleOverlay();

    //Append class according to visiblity and if group is background
    if (layer.get('group') == 'background') {
      if (layer.getVisible()==true) {
        $('#' + name + ' .o-checkbox').addClass('o-check-true');
        $('#o-legend-' + name).addClass('o-check-true-img');
      } else {
        $('#' + name + ' .o-checkbox').addClass('o-check-false');
        $('#o-legend-' + name).addClass('o-check-false-img');
      }
    } else {
      if (layer.getVisible()==true) {
        $('.' + name + ' .o-checkbox').addClass('o-checkbox-true');

        if (inSubgroup) {
          rootGroup = $('#' + name).parents('ul [id^=o-group-]:last');
          if (!$(rootGroup).find('.o-icon-expand:first').hasClass('o-icon-expand-true')) {
            toggleGroup($(rootGroup).find('li.o-legend-header:first'));
          }

          toggleSubGroupCheck($('#' + name).parents('ul').has('.o-legend-header').first(), false);
        } else {
          $('#o-group-' + layer.get('group') + ' .o-icon-expand:first').removeClass('o-icon-expand-false');
          $('#o-group-' + layer.get('group') + ' .o-icon-expand:first').addClass('o-icon-expand-true');
          $('#o-group-' + layer.get('group')).removeClass('o-ul-expand-false');
        }

      } else {
        $('.' + name + ' .o-checkbox').addClass('o-checkbox-false');

        if (inSubgroup) {
          toggleSubGroupCheck($('#' + name).parents('ul').has('.o-legend-header').first(), false);
        }
      }
    }

    //Event listener for tick layer
    $('#' + name).on('click', function(evt) {
      if ($(evt.target).closest('div').hasClass('o-icon-expand')) {
        toggleGroup($(this));
      } else {
        $(this).each(function() {
          var that = this;
          toggleCheck($(that).attr("id"));
        });

        evt.preventDefault();
      }
    });

    $('#o-legend-' + name).on('click', function(evt) {
      $(this).each(function() {
        var that = this;
        toggleCheck($(that).attr("id"));
      });

      evt.preventDefault();
    });
  });

  $('.o-abstract').on('click', function(evt) {
    $(this).each(function() {
      var that = this;
      showAbstract($(that));
    });
    evt.stopPropagation();
    evt.preventDefault();
  });

  //Toggle map legend
  $('#o-legend-overlay .o-toggle-button').on('click', function(evt) {
    toggleOverlay();
    evt.preventDefault();
  });

  $('#o-map-legend-background li').on("mouseover", function (evt) {
    var legendId = $(evt.target).closest('li').attr('id');
    var layer = viewer.getLayer(legendId.split("o-legend-")[1]);
    $(this).attr('title', layer.get('title'));
  });
}

function onToggleCheck(layername) {
  //Event listener for tick layer
  $('#' + layername).on('click', function(evt) {
    $(this).each(function() {
      var that = this;
      toggleCheck($(that).attr("id"));
    });
    evt.preventDefault();
  });
}

function offToggleCheck(layername) {
  //Event listener for tick layer
  $('#' + layername).off('click', function(evt) {
    $(this).each(function() {
      var that = this;
      toggleCheck($(that).attr("id"));
    });

    evt.preventDefault();
  });
}

//Expand and minimize group
function toggleGroup(groupheader) {
  var group = groupheader.parent('.o-legend-group');
  var groupicon = $('#' + group.attr('id') + ' .o-icon-expand:first');

  if (groupicon.hasClass('o-icon-expand-false')) {
    groupicon.removeClass('o-icon-expand-false');
    groupicon.addClass('o-icon-expand-true');
    group.removeClass('o-ul-expand-false');
  } else {
    groupicon.removeClass('o-icon-expand-true');
    groupicon.addClass('o-icon-expand-false');
    group.addClass('o-ul-expand-false');
  }
}

//Toggle subgroups
function toggleSubGroupCheck(subgroup, toggleAll) {
  var subGroup = $(subgroup);
  var subLayers = subGroup.find('.o-legend-item.o-legend-subitem');
  var groupList = $('.o-legend-subgroup');

  if (toggleAll) {

    subLayers.each(function() {
      var layername = $(this).parent().attr('id');
      var layer = viewer.getLayer(layername);
      var layerid = $(this).parent().attr('class');
      var inMapLegend = layerid.split('o-legend-').length > 1 ? true : false;

      if (subGroup.children().first().find('.o-checkbox').hasClass('o-checkbox-true')) {
        $('.' + layername + ' .o-checkbox').removeClass('o-checkbox-true');
        $('.' + layername + ' .o-checkbox').addClass('o-checkbox-false');

        if (inMapLegend == false) {
          offToggleCheck('o-legend-' + layername);
          $('#o-legend-' + layername).remove();
          layer.set('legend', false);
          checkToggleOverlay();
        }

        layer.setVisible(false);
      } else {

        if (inMapLegend == false && $('#o-legend-' + layername).length == 0) {
          $('#o-overlay-list').prepend(createLegendItem('o-legend-' + layername));
          onToggleCheck('o-legend-' + layername);
          checkToggleOverlay();
        }

        $('.' + layername + ' .o-checkbox').removeClass('o-checkbox-false');
        $('.' + layername + ' .o-checkbox').addClass('o-checkbox-true');
        layer.setVisible(true);
        layer.set('legend', true);
      }
    });
  }

  groupList.each(function() {
    var subList = $(this).find('.o-legend-item.o-legend-subitem').has('.o-checkbox');
    var subListChecked = $(this).find('.o-legend-item.o-legend-subitem').has('.o-checkbox.o-checkbox-true');

    if (subListChecked.length) {
      $(this).children().first().find('.o-checkbox').removeClass('o-checkbox-false');
      $(this).children().first().find('.o-checkbox').addClass('o-checkbox-true');

      if (subList.length != subListChecked.length) {
        $(this).children().first().find('.o-checkbox').addClass('o-checkbox-semi');
      } else {
        $(this).children().first().find('.o-checkbox').removeClass('o-checkbox-semi');
      }

    } else {
      $(this).children().first().find('.o-checkbox').removeClass('o-checkbox-true');
      $(this).children().first().find('.o-checkbox').removeClass('o-checkbox-semi');
      $(this).children().first().find('.o-checkbox').addClass('o-checkbox-false');
    }
  });
}

//Toggle layers
function toggleCheck(layerid) {
  var layername = layerid.split('o-legend-').pop();
  var inMapLegend = layerid.split('o-legend-').length > 1 ? true : false;
  var layer = viewer.getLayer(layername);

  //Radio toggle for background
  if (layer.get('group') == 'background') {
    var groups = viewer.getGroup('background');

    groups.forEach(function(group) {
      group.setVisible(false);
      $('#' + group.get('name') + ' .o-checkbox').removeClass('o-check-true');
      $('#' + group.get('name') + ' .o-checkbox').addClass('o-check-false');
      //map legend
      $('#o-legend-' + group.get('name')).removeClass('o-check-true-img');
      $('#o-legend-' + group.get('name')).addClass('o-check-false-img');
    });

    layer.setVisible(true);
    $('#' + layername + ' .o-checkbox').removeClass('o-check-false');
    $('#' + layername + ' .o-checkbox').addClass('o-check-true');
    //map legend
    $('#o-legend-' + layername).removeClass('o-check-false-img');
    $('#o-legend-' + layername).addClass('o-check-true-img');
  } else { //Toggle check for all groups except background

    if ($('.' + layername + ' .o-checkbox').hasClass('o-checkbox-true')) {
      $('.' + layername + ' .o-checkbox').removeClass('o-checkbox-true');
      $('.' + layername + ' .o-checkbox').addClass('o-checkbox-false');

      if (inMapLegend == false) {
        offToggleCheck('o-legend-' + layername);
        $('#o-legend-' + layername).remove();
        layer.set('legend', false);
        checkToggleOverlay();
      }

      layer.setVisible(false);
    } else {

      if (inMapLegend == false && $('#o-legend-' + layername).length == 0) {
        $('#o-overlay-list').prepend(createLegendItem('o-legend-' + layername));
        onToggleCheck('o-legend-' + layername);
        checkToggleOverlay();
      }

      $('.' + layername + ' .o-checkbox').removeClass('o-checkbox-false');
      $('.' + layername + ' .o-checkbox').addClass('o-checkbox-true');
      layer.setVisible(true);
      layer.set('legend', true);
    }

    if ($('#' + layername).find('.o-legend-subitem').length > 0) {
      toggleSubGroupCheck($('#' + layername).parents('ul').has('.o-legend-header').first(), false);
    }
  }
}

function checkToggleOverlay() {
  if($('#o-overlay-list li').length > 1 && $('#o-legend-overlay >li:first-child').hasClass('o-hidden')) {
    $('#o-legend-overlay > li:first-child').removeClass('o-hidden');
  } else if($('#o-overlay-list li').length < 2) {
    $('#o-legend-overlay > li:first-child').addClass('o-hidden');

    if($('#o-overlay-list').length == 1 && $('#o-overlay-list').hasClass('o-hidden')) {
      $('#o-overlay-list').removeClass('o-hidden');
      toggleOverlay();
    }
  }
}

function toggleOverlay() {
  if($('#o-legend-overlay .o-toggle-button').hasClass('o-toggle-button-max')) {
    $('#o-legend-overlay .o-toggle-button').removeClass('o-toggle-button-max');
    $('#o-legend-overlay .o-toggle-button').addClass('o-toggle-button-min');
    $('#o-overlay-list').addClass('o-hidden');
  } else {
    $('#o-legend-overlay .o-toggle-button').removeClass('o-toggle-button-min');
    $('#o-legend-overlay .o-toggle-button').addClass('o-toggle-button-max');
    $('#o-overlay-list').removeClass('o-hidden');
  }
}

//Set content for info button popup
function showAbstract($abstractButton) {
  var layer;
  var $item = $abstractButton.closest('li');
  var layername = $abstractButton.attr('id').split('o-legend-item-info-').pop();
  var abstract = {
    title: '',
    content: ''
  };

  //If info button is connected group
  if ($item.hasClass('o-legend-header')) {
    var groups = viewer.getGroups();

    var group = $.grep(groups, function(obj) {
      return (obj.name == layername);
    });

    abstract.title = group[0].title;
    abstract.content = group[0].abstract
  } else { // If info button is connected to layer
    layer = viewer.getLayer(layername);
    abstract.title = layer.get('title');
    abstract.content = layer.get('abstract');
  }

  modal.createModal('#o-map', {title: abstract.title, content: abstract.content});
  modal.showModal();
}

module.exports.init = init;

},{"./modal":154,"./utils":193,"./utils/validateurl":208,"./viewer":209,"jquery":27}],149:[function(require,module,exports){
"use strict";

var $ = require('jquery');
var utils = require('./utils');

var url;
var title;
var $linkButton;

function init(opt_options) {
  var options = opt_options || {};
  url = options.url;
  title = options.title;

  render();
  bindUIActions();
}

function render() {
  var el = utils.createListButton({
    id: 'o-link',
    iconCls: 'o-icon-fa-external-link',
    src: '#fa-external-link',
    text: title

  });
  $('#o-menutools').append(el);
  $linkButton = $('#o-link-button');
}

function bindUIActions() {
  $linkButton.on('click', function() {
    window.open(url);
  });
}

module.exports.init = init;

},{"./utils":193,"jquery":27}],150:[function(require,module,exports){
"use strict";
var $ = require('jquery');
var supports = require('./utils/supports');
var permalink = require('./permalink/permalink');
var getUrl = require('./utils/geturl');
var isUrl = require('./utils/isurl');
var trimUrl = require('./utils/trimurl');

var mapLoader = function(mapOptions, config) {

  var map = {};
  var mapEl = config.target;
  var format = 'json';
  var cors = config.crossOrigin;

  var urlParams = undefined;

  if (mapEl.substring(0, 1) !== '#') {
    mapEl = '#' + mapEl;
  }
  map.el = mapEl;

  // Check browser support
  if (supports('browser', mapEl) === false) {
    return undefined;
  }

  // Check if authorization is required before map options is loaded
  if (config.authorizationUrl) {
    return $.ajax({
        url: config.authorizationUrl
      })
      .then(function(data) {
        return loadMapOptions();
      });
  } else {
    return loadMapOptions();
  }

  function loadMapOptions() {
    if (typeof(mapOptions) === 'object') {
      if (window.location.hash) {
        urlParams = permalink.parsePermalink(window.location.href);
      }
      var baseUrl = config.baseUrl || '';
      map.options = $.extend(config, mapOptions);
      if (mapOptions.controls) {
        map.options.controls = config.defaultControls.concat(mapOptions.controls);
      } else {
        map.options.controls = config.defaultControls;
      }
      map.options.url = getUrl();
      map.options.map = undefined;
      map.options.params = urlParams;
      map.options.baseUrl = baseUrl;

      return $.when.apply($, loadSvgSprites(baseUrl, config))
        .then(function(sprites) {
          return map;
        });

    } else if (typeof(mapOptions) === 'string') {
      if (isUrl(mapOptions)) {
        urlParams = permalink.parsePermalink(mapOptions);
        var url = mapOptions.split('#')[0];
        var mapUrl = url;

        //remov file name if included in
        url = trimUrl(url);

        var baseUrl = config.baseUrl || url;
        var json = urlParams.map + '.json';
        url += json;
      } else {
        var json = mapOptions;
        if (window.location.hash) {
          urlParams = permalink.parsePermalink(window.location.href);
          if (urlParams.map) {
            json = urlParams.map + '.json';
          }
        }
        var baseUrl = config.baseUrl || '';
        var url = baseUrl + json;
        var mapUrl = getUrl();
      }

      return $.when.apply($, loadSvgSprites(baseUrl, config))
        .then(function(sprites) {
          return $.ajax({
              url: url,
              dataType: format
            })
            .then(function(data) {
              map.options = $.extend(config, data);
              if (data.controls) {
                map.options.controls = config.defaultControls.concat(data.controls);
              } else {
                map.options.controls = config.defaultControls;
              }
              map.options.url = mapUrl;
              map.options.map = json;
              map.options.params = urlParams;
              map.options.baseUrl = baseUrl;
              return map;
            });
        });
    }
  }
}

function loadSvgSprites(baseUrl, config) {
  var svgSprites = config.svgSprites;
  var svgPath = config.svgSpritePath;
  var svgPromises = [];
  svgSprites.forEach(function(sprite) {
    var promise = $.get(baseUrl + svgPath + sprite, function(data) {
        var div = document.createElement("div");
        div.innerHTML = new XMLSerializer().serializeToString(data.documentElement);
        document.body.insertBefore(div, document.body.childNodes[0]);
      });
    svgPromises.push(promise);
    return svgPromises;
  });
}

module.exports = mapLoader;

},{"./permalink/permalink":167,"./utils/geturl":197,"./utils/isurl":200,"./utils/supports":205,"./utils/trimurl":206,"jquery":27}],151:[function(require,module,exports){
"use strict";

var $ = require('jquery');
var viewer = require('./viewer');
var utils = require('./utils');

var $menuButton, $closeButton, $mapMenu;

var symbolSize = 20;
var styleSettings;
var options;
var isActive;

function init(opt_options) {
    var breakPointSize;
    var breakPoint;

    options = opt_options || {};
    isActive = options.isActive || false;
    breakPointSize = options.breakPointSize || 'l';
    breakPoint  = viewer.getBreakPoints(breakPointSize);
    styleSettings = viewer.getStyleSettings();

    var el = utils.createButton({
        text: 'Meny',
        id: 'o-mapmenu-button',
        cls: 'o-mapmenu-button-true',
        iconCls: 'o-icon-fa-bars',
        src: '#fa-bars',
        tooltipText: 'Meny',
        tooltipPlacement: 'west'
    });
    $('#o-map').append(el);
    $menuButton = $('#o-mapmenu-button button');

    var menuEl = '<div id="o-mapmenu" class="o-mapmenu">' +
                    '<div class="o-block">' +
                      '<ul id="o-menutools">' +
                        '<li></li>' +
                      '</ul>'
                    '</div>' +
                  '</div>';
    $('#o-map').append(menuEl);
    $mapMenu = $('#o-mapmenu');

    var closeButton = utils.createButton({
        id: 'o-mapmenu-button-close',
        cls: 'o-no-boxshadow',
        iconCls: 'o-icon-menu-fa-times',
        src: '#fa-times',
        tooltipText: 'Stäng meny',
        tooltipPlacement: 'west'
    });
    $('#o-menutools').append(closeButton);
    $closeButton = $('#o-mapmenu-button-close');

    bindUIActions();

    if(isActive && $('#o-map').width() >= breakPoint[0]) {
      toggleMenu();
    }
}
function bindUIActions() {
    $menuButton.on('click', function(e) {
      	toggleMenu();
        $menuButton.blur();
        e.preventDefault();
    });
    $closeButton.on('click', function(e) {
      	toggleMenu();
        $closeButton.blur();
        e.preventDefault();
    });
}
function toggleMenu() {
    if($mapMenu.hasClass('o-mapmenu-show')){
      $mapMenu.removeClass('o-mapmenu-show');
    }
    else {
      $mapMenu.addClass('o-mapmenu-show');
    }
}
function getTarget() {
    return $mapMenu;
}

module.exports.init = init;
module.exports.toggleMenu = toggleMenu;
module.exports.getTarget = getTarget;

},{"./utils":193,"./viewer":209,"jquery":27}],152:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var viewer = require('./viewer');

module.exports = {
  customProjection: function(projectionCode, extent) {
      return new ol.proj.Projection({
          code: projectionCode,
          extent: extent
      });
  },
  tileGrid: function(settings) {
    var extent = settings.extent || viewer.getExtent();
    var origin = settings.alignBottomLeft === false ? ol.extent.getTopLeft(extent) : ol.extent.getBottomLeft(extent);
    var resolutions = settings.resolutions || viewer.getResolutions();
    var tileSize = settings.tileSize || viewer.getTileSize();
    return new ol.tilegrid.TileGrid({
        extent: extent,
        origin: origin,
        resolutions: resolutions,
        tileSize: tileSize
    });
  },
  checkZoomChange: function checkZoomChange(resolution, currentResolution) {
      if(resolution !== currentResolution) {
        return true;
      }
      else {
        return false;
      }
  },
  createPointFeature: function createPointFeature(coordinate, style) {
      var feature = new ol.Feature({
          geometry: new ol.geom.Point(coordinate)
      });
      feature.setStyle(style);
      return feature;
  },
  geojsonToFeature: function geojsonToFeature(obj) {
      var vectorSource = new ol.source.Vector({
        features: (new ol.format.GeoJSON()).readFeatures(obj)
      });
      return vectorSource.getFeatures()[0];
  },
  wktToFeature: function wktToFeature(wkt, srsName) {
      var format = new ol.format.WKT();
      var feature = format.readFeature(wkt, {
        dataProjection: srsName,
        featureProjection: srsName
      });
      return feature;
  },
  zoomToExent: function zoomToExent(geometry, level) {
      var map = viewer.getMap();
      var view = map.getView();
      var maxZoom = level;
      var extent = geometry.getExtent();
      if(extent) {
          view.fit(extent, {maxZoom: maxZoom});
          return extent;
      }
      else {
        return undefined;
      }
  },
  getCenter: function getCenter(geometry) {
      var type = geometry.getType();
      var center;
      switch (type) {
          case "Polygon":
              center = geometry.getInteriorPoint().getCoordinates();
              break;
          case "MultiPolygon":
              center = geometry.getInteriorPoints()[0].getCoordinates();
              break;
          case "Point":
              center = geometry.getCoordinates();
              break;
          case "MultiPoint":
              center = geometry[0].getCoordinates();
              break;
          case "LineString":
              center = geometry.getCoordinateAt(0.5);
              break;
          case "MultiLineString":
              center = geometry.getLineStrings()[0].getCoordinateAt(0.5);
              break;
          case "Circle":
              center = geometry.getCenter();
              break;
      }
      return center;
  },
  scaleToResolution: function scaleToResolution(scale, projection) {
    var dpi = 25.4 / 0.28;
    var mpu = projection.getMetersPerUnit();
    var resolution = scale / (mpu * 39.37 * dpi);
    return resolution;
  }
}

},{"./viewer":209,"jquery":27,"openlayers":30}],153:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var Viewer = require('./viewer');
var utils = require('./utils');
var style = require('./style')();
var styleTypes = require('./style/styletypes');

var map;
var options;
var activeButton;
var defaultButton;
var measure;
var type;
var sketch;
var measureTooltip;
var measureTooltipElement;
var measureStyleOptions;
var helpTooltip;
var helpTooltipElement;
var vector;
var source;
var label;
var overlayArray = [];
var drawStart = false;
var isActive = false;
var wgs84Sphere = new ol.Sphere(6378137);
var lengthTool;
var areaTool;

function init(opt_options) {
  options = opt_options || {};
  options.measureTools = options.measureTools || ["length", "area"];
  lengthTool = options.measureTools.indexOf('length') >= 0 ? true : false;
  areaTool = options.measureTools.indexOf('area') >= 0 ? true : false;
  options.default = options.default ? options.default : lengthTool ? "length" : "area";
  if(lengthTool || areaTool){
    var target = options.target || '#o-toolbar-maptools';
    map = Viewer.getMap();
    source = new ol.source.Vector();
    measureStyleOptions = styleTypes.getStyle('measure');

    //Drawn features
    vector = new ol.layer.Vector({
      source: source,
      name: 'measure',
      visible: false,
      zIndex: 6
    });

    map.addLayer(vector);

    $('.o-map').on('enableInteraction', onEnableInteraction);

    render(target);
    bindUIActions();
    if(options.default === 'area') {
      defaultButton = $('#o-measure-polygon-button button');
    } else if(options.default === 'length') {
      defaultButton = $('#o-measure-line-button button');
    }
  }
}

function onEnableInteraction(e) {
  if(e.interaction === 'measure') {
    $('#o-measure-button button').addClass('o-measure-button-true');
    if(lengthTool){$('#o-measure-line-button').removeClass('o-hidden');}
    if(areaTool){$('#o-measure-polygon-button').removeClass('o-hidden');}
    $('#o-measure-button').removeClass('tooltip');
    setActive(true);
    defaultButton.trigger('click');
  } else {
    if (activeButton) {
      activeButton.removeClass('o-measure-button-true');
    };

    $('#o-measure-button button').removeClass('o-measure-button-true');
    if(lengthTool){$('#o-measure-line-button').addClass('o-hidden');}
    if(areaTool){$('#o-measure-polygon-button').addClass('o-hidden');}
    $('#o-measure-button').addClass('tooltip');

    map.un('pointermove', pointerMoveHandler);
    map.un('click', pointerMoveHandler);
    map.removeInteraction(measure);
    vector.setVisible(false);
    Viewer.removeOverlays(overlayArray);
    vector.getSource().clear();
    setActive(false);
  }

}

function setActive(state) {
  if(state === true) {
    isActive = true;
  } else {
    isActive = false;
  }

}

function render(target) {
  
  if(lengthTool || areaTool){
    var toolbar = utils.createElement('div', '', {
      id: 'o-measure-toolbar',
      cls: 'o-toolbar-horizontal'
    });

    $(target).append(toolbar);

    var mb = utils.createButton({
      id: 'o-measure-button',
      cls: 'o-measure-button',
      iconCls: 'o-icon-steady-measure',
      src: '#steady-measure',
      tooltipText: 'Mät i kartan'
    });
    $('#' + 'o-measure-toolbar').append(mb);
  }
  
  if(lengthTool){
    var lb = utils.createButton({
      id: 'o-measure-line-button',
      cls: 'o-measure-type-button',
      iconCls: 'o-icon-minicons-line-vector',
      src: '#minicons-line-vector',
      tooltipText: 'Linje',
      tooltipPlacement: 'north'
    });
    $('#' + 'o-measure-toolbar').append(lb);
    $('#o-measure-line-button').addClass('o-hidden');
  }

  if(areaTool){
    var pb = utils.createButton({
      id: 'o-measure-polygon-button',
      cls: 'o-measure-type-button',
      iconCls: 'o-icon-minicons-square-vector',
      src: '#minicons-square-vector',
      tooltipText: 'Yta',
      tooltipPlacement: 'north'
    });
    $('#' + 'o-measure-toolbar').append(pb);
    $('#o-measure-polygon-button').addClass('o-hidden');
  }
}

function bindUIActions() {
  if(lengthTool || areaTool){
    $('#o-measure-button').on('click', function(e) {
      toggleMeasure();
      $('#o-measure-button button').blur();
      e.preventDefault();
    });
  }

  if(lengthTool){
    $('#o-measure-line-button').on('click', function(e) {
      type = 'LineString';
      toggleType($('#o-measure-line-button button'));
      $('#o-measure-line-button button').blur();
      e.preventDefault();
    });
  }

  if(areaTool){
    $('#o-measure-polygon-button').on('click', function(e) {
      type = 'Polygon';
      toggleType($('#o-measure-polygon-button button'));
      $('#o-measure-polygon-button button').blur();
      e.preventDefault();
    });
  }

}

function createStyle(feature, labelText) {
  var featureType = feature.getGeometry().getType();
  var measureStyle = featureType == 'LineString' ? style.createStyleRule(measureStyleOptions.linestring) : style.createStyleRule(measureStyleOptions.polygon);

  return measureStyle;
}

//Display and move tooltips with pointer
function pointerMoveHandler(evt) {
  if (evt.dragging) {
    return;
  }

  var helpMsg = 'Klicka för att börja mäta';
  var tooltipCoord = evt.coordinate;

  if (sketch) {
    var output;
    var geom = (sketch.getGeometry());

    if (geom instanceof ol.geom.Polygon) {
      output = formatArea(/** @type {ol.geom.Polygon} */ (geom));
      tooltipCoord = geom.getInteriorPoint().getCoordinates();
    } else if (geom instanceof ol.geom.LineString) {
      output = formatLength( /** @type {ol.geom.LineString} */ (geom));
      tooltipCoord = geom.getLastCoordinate();
    }

    measureTooltipElement.innerHTML = output;
    label = output;
    measureTooltip.setPosition(tooltipCoord);
  }

  if (evt.type == 'pointermove') {
    helpTooltipElement.innerHTML = helpMsg;
    helpTooltip.setPosition(evt.coordinate);
  }

};

function addInteraction() {
  vector.setVisible(true);

  measure = new ol.interaction.Draw({
    source: source,
    type: type,
    style: style.createStyleRule(measureStyleOptions.interaction)
  });

  map.addInteraction(measure);

  createMeasureTooltip();
  createHelpTooltip();

  map.on('pointermove', pointerMoveHandler);
  map.on('click', pointerMoveHandler);

  measure.on('drawstart', function(evt) {
    // set sketch
    drawStart = true;
    sketch = evt.feature;
    $(helpTooltipElement).addClass('o-hidden');
  }, this);

  measure.on('drawend', function(evt) {
    var feature = evt.feature;
    feature.setStyle(createStyle(feature));
    feature.getStyle()[0].getText().setText(label);
    $(measureTooltipElement).remove();
    // unset sketch
    sketch = null;
    // unset tooltip so that a new one can be created
    measureTooltipElement = null;
    createMeasureTooltip();
    $(helpTooltipElement).removeClass('o-hidden');
  }, this);

};

function createHelpTooltip() {
  if (helpTooltipElement) {
    helpTooltipElement.parentNode.removeChild(helpTooltipElement);
  }

  helpTooltipElement = document.createElement('div');
  helpTooltipElement.className = 'o-tooltip o-tooltip-measure';

  helpTooltip = new ol.Overlay({
    element: helpTooltipElement,
    offset: [15, 0],
    positioning: 'center-left',
  });

  overlayArray.push(helpTooltip);
  map.addOverlay(helpTooltip);
};

function createMeasureTooltip() {
  if (measureTooltipElement) {
    measureTooltipElement.parentNode.removeChild(measureTooltipElement);
  }

  measureTooltipElement = document.createElement('div');
  measureTooltipElement.className = 'o-tooltip o-tooltip-measure';

  measureTooltip = new ol.Overlay({
    element: measureTooltipElement,
    offset: [0, -15],
    positioning: 'bottom-center',
    stopEvent: false
  });

  overlayArray.push(measureTooltip);
  map.addOverlay(measureTooltip);
};

function formatLength(line) {
  var projection, length, output;
  projection = map.getView().getProjection();
  length = ol.Sphere.getLength(line, {projection: projection});
  if (length > 100) {
    output = (Math.round(length / 1000 * 100) / 100) +
      ' ' + 'km';
  } else {
    output = (Math.round(length * 100) / 100) +
      ' ' + 'm';
  }
  
  return output;
};

function formatArea(polygon) {
  var projection, area, output;
  projection = map.getView().getProjection();
  area = ol.Sphere.getArea(polygon, {projection: projection});
  if (area > 10000000) {
    output = (Math.round(area / 1000000 * 100) / 100) +
      ' ' + 'km<sup>2</sup>';
  } else if (area > 10000) {
    output = (Math.round(area / 10000 * 100) / 100) +
      ' ' + 'ha';
  } else {
    output = (Math.round(area * 100) / 100) +
      ' ' + 'm<sup>2</sup>';
  }

  var htmlElem = document.createElement('span');
  htmlElem.innerHTML = output;

  [].forEach.call(htmlElem.children, function(element) {
    if (element.tagName === 'SUP') {
      element.textContent = String.fromCharCode(element.textContent.charCodeAt(0) + 128);
    }
  })

  return htmlElem.textContent;
};

function toggleMeasure () {
  if (isActive) {
    $('.o-map').trigger({
      type: 'enableInteraction',
      interaction: 'featureInfo'
    });
  } else {
    $('.o-map').trigger({
      type: 'enableInteraction',
      interaction: 'measure'
    });
  }

};

function toggleType(button) {
  if (activeButton) {
    activeButton.removeClass('o-measure-button-true');
  }

  button.addClass('o-measure-button-true');
  activeButton = button;
  map.removeInteraction(measure);
  addInteraction();
};

module.exports.init = init;

},{"./style":181,"./style/styletypes":187,"./utils":193,"./viewer":209,"jquery":27,"openlayers":30}],154:[function(require,module,exports){
"use strict";
var $ = require('jquery');

var modal = function() {

  var isStatic = undefined;
  var $target = undefined;
  var modalEl = undefined;

  return {
    createModal: createModal,
    showModal: showModal,
    closeModal: closeModal
  };

  function render(title, content, cls) {
    modalEl = '<div id="o-modal" ' + 'class="' + cls + '">' +
      '<div class="o-modal-screen"></div>' +
      '<div class="o-modal">' +
      '<div class="o-close-button"><svg class="o-icon-fa-times"><use xlink:href="#fa-times"></use></svg></div>' +
      '<div class="o-modal-title">' + title + '</div>' +
      '<div class="o-modal-content">' + content + '</div>' +
      '</div>' +
      '</div>';
  }

  function bindUIActions() {
    if (isStatic === false) {
      $('.o-modal-screen, .o-close-button').click(function() {
        closeModal();
      });
    } else {
      $('.o-close-button').click(function() {
        closeModal();
      });
    }
  }

  function createModal(modalTarget, options) {
    var title = options.title || '';
    var content = options.content || '';
    var cls = options.cls || '';
    if (options.hasOwnProperty('static')) {
      isStatic = options.static;
    } else {
      isStatic = false;
    }
    render(title, content, cls);
    $target = $(modalTarget);

  }

  function showModal() {
    $target.prepend(modalEl);
    bindUIActions();
  }

  function closeModal() {
    $('#o-modal').remove();
  }
}

module.exports = modal();

},{"jquery":27}],155:[function(require,module,exports){
/* ========================================================================
 * Copyright 2016 Origo
 * Licensed under BSD 2-Clause (https://github.com/origo-map/origo/blob/master/LICENSE.txt)
 * ======================================================================== */
"use strict";

var $ = require('jquery');
var Viewer = require('./viewer');
var utils = require('./utils');
var downloader = require('./offline/downloader');
var downloadHandler = require('./offline/downloadhandler');
var offlineStore = require('./offline/offlinestore')();

var map = undefined;
var baseUrl = undefined;
var $offlineButton = undefined;

function Init(opt_options) {
  var options = opt_options || {};
  map = Viewer.getMap();
  baseUrl = Viewer.getBaseUrl();

  downloadHandler();

  render();
  bindUIActions();
}

function render() {
  var el = utils.createListButton({
    id: 'o-offline',
    iconCls: 'o-icon-fa-download',
    src: '#fa-download',
    text: 'Nedladdningar'
  });
  $('#o-menutools').append(el);
  $offlineButton = $('#o-offline-button');
}

function bindUIActions() {
  $offlineButton.on('click', function(e) {
    downloader(offlineStore.getOfflineLayers());
    e.preventDefault();
  });
}

module.exports.init = Init;

},{"./offline/downloader":156,"./offline/downloadhandler":158,"./offline/offlinestore":163,"./utils":193,"./viewer":209,"jquery":27}],156:[function(require,module,exports){
"use strict";

var $ = require('jquery');
var Viewer = require('../viewer');
var template = require("./downloader.template.handlebars");
var spinner = require("../components/spinner.handlebars");
var utils = require('../utils');
var dispatcher = require('./offlinedispatcher');

var toolbarPrefix = 'o-downloader-td-toolbar-';

var Downloader = function Downloader(layersObj) {
  render(layersObj);
  addListeners();

  function render(layersObj) {
    $('#o-map').prepend(template);
    renderRows(layersObj);

    bindUIActions();
  }

  function addListeners() {
    $(document).on('changeOfflineStart', onChangeOfflineStart);
    $(document).on('changeOfflineEnd', onChangeOfflineEnd);
  }

  function onChangeOfflineStart(e) {
    renderButtons('#' + toolbarPrefix + e.layerName, 'pending', e.layerName);
  }

  function onChangeOfflineEnd(e) {
    renderButtons('#' + toolbarPrefix + e.layerName, e.state, e.layerName);
  }

  function bindUIActions() {
    $('.o-downloader .o-close-button').on('click', function(evt) {
        closeDownloader();
        evt.preventDefault();
    });
  }

  function renderRows(layersObj) {
    var layerNames = Object.getOwnPropertyNames(layersObj);
    layerNames.forEach(function(layerName) {
      renderRow(layerName, layersObj);
    });
  }

  function renderRow(layerName, layersObj) {
    var layer = Viewer.getLayer(layerName);
    var tdTitle = utils.createElement('td', layer.get('title'),{});
    var toolbarId = toolbarPrefix + layerName;
    var toolbar = utils.createElement('div', '', {
      cls: 'o-toolbar-horizontal',
      style: 'text-align: right; float: right;',
      id: toolbarId
    });
    var tdToolbar = utils.createElement('td', toolbar, {});
    var row = tdTitle + tdToolbar;
    var cls = 'o-downloader-tr-' + layerName;
    var tr = utils.createElement('tr', row, {
      cls: cls
    });
    var state;
    $('.o-downloader .o-table').append(tr);
    state =  layersObj[layerName].downloaded === true ? 'offline' : 'download';
    renderButtons('#' + toolbarId, state, layerName);
  }

  function renderButtons(target, state, layerName) {
    $(target).empty();
    if (state === 'offline') {
      renderSync(target, layerName);
      renderRemove(target, layerName);
    } else if (state === 'download') {
      renderDownload(target, layerName);
    } else if (state === 'pending') {
      renderPending(target);
    }
  }

  function renderSync(target, layerName) {
    var id = 'o-downloader-refresh-' + layerName;
    var refresh = createButton({
      href: '#fa-refresh',
      cls: 'o-icon-fa-refresh',
      id: id
    });
    $(target).append(refresh);
    bindAction('#' + id, layerName, 'sync');
  }

  function renderRemove(target, layerName) {
    var id = 'o-downloader-trash-' + layerName;
    var trash = createButton({
      href: '#fa-trash',
      cls: 'o-icon-fa-trash',
      id: id
    });
    $(target).append(trash);
    bindAction('#' + id, layerName, 'remove');
  }

  function renderDownload(target, layerName) {
    var id = 'o-downloader-download-' + layerName;
    var download = createButton({
      href: '#fa-download',
      cls: 'o-icon-fa-download',
      id: id
    });
    $(target).append(download);
    bindAction('#' + id, layerName, 'download');
  }

  function renderPending(target) {
    var spinnerButton = utils.createElement('button', '', {
      cls: 'o-spinner'
    });
    $(target).append(spinnerButton);
    $('.o-spinner').append(spinner);
  }

  function createButton(obj) {
    var icon = utils.createSvg({
      href: obj.href,
      cls: obj.cls
    });
    return utils.createElement('button', icon, {
      id: obj.id
    });
  }

  function closeDownloader() {
    $('.o-downloader').remove();
  }

  function bindAction(target, layerName, type) {
    $(target).on('click', function(evt) {
      dispatcher.emitChangeDownload(layerName, type);
      evt.preventDefault();
      evt.stopPropagation();
    });
  }

}

module.exports = Downloader;

},{"../components/spinner.handlebars":102,"../utils":193,"../viewer":209,"./downloader.template.handlebars":157,"./offlinedispatcher":161,"jquery":27}],157:[function(require,module,exports){
// hbsfy compiled Handlebars template
var HandlebarsCompiler = require('hbsfy/runtime');
module.exports = HandlebarsCompiler.template({"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
    return "<div class=\"o-container-fluid o-downloader\">\r\n  <div class=\"o-card\">\r\n    <div class=\"o-card-header o-text-center\">\r\n      <h6 class=\"o-card-heading\">Nedladdningar</h6>\r\n      <div class=\"o-close-button\">\r\n        <svg class=\"o-icon-fa-times\"><use xlink:href=\"#fa-times\"></use></svg>\r\n      </div>\r\n    </div>\r\n    <div class=\"o-card-content\">\r\n      <table class =\"o-table\">\r\n\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n";
},"useData":true});

},{"hbsfy/runtime":26}],158:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var viewer = require('../viewer');
var layerCreator = require('../layercreator');
var offlineLayer = require('./offlinelayer')();
var downloadSources = require('./downloadsources');
var dispatcher = require('./offlinedispatcher');
var offlineStore = require('./offlinestore')();

var downloadErrorMsg = 'Det inträffade ett fel när lagret skulle hämtas. Är du ansluten till internet?'
var saveErrorMsg = 'Det inträffade ett fel när förändringarna skulle sparas. Försök igen senare.';
var invalidFormatMsg = 'Invalid format: ';

var downloadHandler = function downloadHandler() {
  $(document).on('changeDownload', onChangeDownload);
  offlineStore.init();

  function onChangeDownload(e) {
    e.stopImmediatePropagation();
    if (e.action === 'download') {
      download(e.layerName);
    } else if (e.action === 'sync') {
      sync(e.layerName);
    } else if (e.action === 'remove') {
      removeDownloaded(e.layerName);
    }
  }

  function removeDownloaded(layerName) {
    var layer = viewer.getLayer(layerName);
    var props = layer.getProperties();
    var source;
    dispatcher.emitChangeOfflineStart(layerName);
    props.style = props.styleName;
    props.source = props.sourceName;
    props.type = props.onlineType;
    source = layerCreator(props).getSource();
    layer.setSource(source);
    dispatcher.emitChangeOffline(layer.get('name'), 'remove');
  }

  function sync(layerName) {
    var offlineEdits = offlineStore.getOfflineEdits(layerName);
    dispatcher.emitChangeOfflineStart(layerName);
    if (offlineEdits) {
      offlineEdits
        .then(function(editItems) {
          saveToRemote(editItems, layerName)
            .then(function() {
              download(layerName);
            })
            .fail(function(err) {
              abort(layerName, saveErrorMsg, 'alert');
            });
        });
    } else {
      download(layerName);
    }
  }

  function saveToRemote(editItems, layerName) {
    var layer = viewer.getLayer(layerName);
    var transObj = {
      delete: [],
      insert: [],
      update: []
    };
    var ids = [];
    editItems.forEach(function(item) {
      var id = Object.getOwnPropertyNames(item)[0];
      var feature = layer.getSource().getFeatureById(id);
      var dummy;
      if (feature) {
        transObj[item[id]].push(feature);
        ids.push(id);
      } else if (item[id] === 'delete') {
        dummy = new ol.Feature();
        dummy.setId(id);
        transObj[item[id]].push(dummy);
        ids.push(id);
      }
    });

    return downloadSources[layer.get('onlineType')].transaction(transObj, layerName)
      .then(function(result) {
        if (result > 0) {
          dispatcher.emitChangeOffline(layer.get('name'), 'edits', ids);
        }
      });
  }

  function download(layerName) {
    var layer = viewer.getLayer(layerName);
    var type = layer.get('onlineType');
    dispatcher.emitChangeOfflineStart(layerName);
    if (downloadSources.hasOwnProperty(type)) {
      downloadSources[type].request(layer)
        .then(function(result) {
          offlineLayer.setOfflineSource(layerName, result);
          dispatcher.emitChangeOffline(layer.get('name'), 'download');
        })
        .fail(function(error) {
          abort(layerName, downloadErrorMsg, 'alert');
        });
    } else {
      error = 'Sorry, ' + type + ' is not available as on offline format';
      abort(layerName, invalidFormatMsg + type);
    }
  }

  function abort(layerName, error, isAlert) {
    var action;
    if (offlineStore.getOfflineLayer(layerName).downloaded) {
      action = 'offline';
    } else {
      action = 'download';
    }

    if (isAlert) {
      alert(error);
    } else {
      console.log(error);
    }

    dispatcher.emitChangeOfflineEnd(layerName, action);
  }
}

module.exports = downloadHandler;

},{"../layercreator":147,"../viewer":209,"./downloadsources":159,"./offlinedispatcher":161,"./offlinelayer":162,"./offlinestore":163,"jquery":27,"openlayers":30}],159:[function(require,module,exports){
"use strict";

var sources = {};
sources.WFS = require('./wfs');
sources.GEOJSON = require('./geojson');
sources.TOPOJSON = require('./topojson');

module.exports = sources;

},{"./geojson":160,"./topojson":164,"./wfs":166}],160:[function(require,module,exports){
"use strict";
var ol = require('openlayers');
var $ = require('jquery');
var verifyFeatureIds = require('./verifyfeatureids');

var geojson = {};
geojson.request = function request(layer) {
  var source = layer.get('sourceName');
  var request = createRequest(source);
  return request;

  function createRequest(source) {
    var format = new ol.format.GeoJSON();
    var url = source;

    return $.ajax({
        url: url,
        cache: false
      })
      .then(function(response) {
        var features = format.readFeatures(response);
        features = verifyFeatureIds(features);
        return features;
      });
  }
}

module.exports = geojson;

},{"./verifyfeatureids":165,"jquery":27,"openlayers":30}],161:[function(require,module,exports){
"use strict";

var $ = require('jquery');

module.exports = {
  emitChangeOffline: emitChangeOffline,
  emitChangeDownload: emitChangeDownload,
  emitChangeOfflineStart: emitChangeOfflineStart,
  emitChangeOfflineEnd: emitChangeOfflineEnd
}

function emitChangeOffline(layerName, action, ids) {
  $.event.trigger({
    type: 'changeOffline',
    layerName: layerName,
    action: action,
    ids: ids || undefined
  });
}

function emitChangeDownload(layerName, action) {
  $.event.trigger({
    type: 'changeDownload',
    layerName: layerName,
    action: action
  });
}

function emitChangeOfflineStart(layerName) {
  $.event.trigger({
    type: 'changeOfflineStart',
    layerName: layerName
  });
}

function emitChangeOfflineEnd(layerName, state) {
  $.event.trigger({
    type: 'changeOfflineEnd',
    layerName: layerName,
    state: state
  });
}

},{"jquery":27}],162:[function(require,module,exports){
"use strict";

var $ = require('jquery');
var viewer = require('../viewer');
var layerCreator = require('../layercreator');

var offlineLayer = function offlineLayer() {

  return {
    setOfflineSource: setOfflineSource,
    setOnlineSource: setOnlineSource
  }

  function setOfflineSource(layerName, features) {
    var layer = viewer.getLayer(layerName);
    var source;
    var options;
    layer.set('type', 'OFFLINE');

    // Create a feature layer and get the source
    options = layer.getProperties();
    options.type = 'FEATURE';
    options.features = features;
    options.style = options.styleName;
    source = layerCreator(options).getSource();
    layer.setSource(source);
    return layer;
  }

  function setOnlineSource(layerName) {
    var layer = viewer.getLayer(layerName);
    var source;
    var options;

    // Create a layer with the online source and get the source
    layer.set('type', layer.get('onlineType'));
    options = layer.getProperties();
    options.source = options.sourceName;
    options.style = options.styleName;
    source = layerCreator(options).getSource();
    layer.setSource(source);
    return layer;
  }
}

module.exports = offlineLayer;

},{"../layercreator":147,"../viewer":209,"jquery":27}],163:[function(require,module,exports){
var $ = require('jquery');
var ol = require('openlayers');
var viewer = require('../viewer');
var localforage = require('localforage');
var offlineLayer = require('./offlinelayer')();
var dispatcher = require('./offlinedispatcher');
var editorDispatcher = require('../editor/editdispatcher');
var format = new ol.format.GeoJSON();
var storage = {};
var editsStorage = {};
var offlineLayers = {};
var storageName;
var editsStorageName;
var map;

function offlineStore() {

  return {
    getOfflineLayers: getOfflineLayers,
    getOfflineLayer: getOfflineLayer,
    getOfflineEdits: getOfflineEdits,
    getEditsItems: getEditsItems,
    init: Init
  };

  function Init(opt_options) {
    var options = opt_options || {};
    var layerNames;
    map = viewer.getMap();
    storageName = options.name || 'origo-layers';
    editsStorageName = options.editsName || 'origo-layers-edits';
    layerNames = viewer.getLayersByProperty('offline', true, true);
    setOfflineLayers(layerNames);
    storage = createInstances(layerNames, storageName);
    editsStorage = createInstances(layerNames, editsStorageName);
    initLayers();

    $(document).on('changeOffline', onChangeOffline);
    $(document).on('changeOfflineEdits', onChangeOfflineEdits);
  }

  function createInstances(layerNames, name) {
    var instances = {};
    layerNames.forEach(function(layerName) {
      instances[layerName] = localforage.createInstance({
        name: name,
        storeName: layerName
      });
    });

    return instances;
  }

  function getOfflineLayers() {
    return offlineLayers;
  }

  function getOfflineLayer(layerName) {
    return offlineLayers[layerName];
  }

  function getOfflineEdits(layerName) {
    if (offlineLayers[layerName].edits) {
      return getEditsItems(layerName);
    } else {
      return undefined;
    }
  }

  function setOfflineLayers(layerNames) {
    layerNames.forEach(function(layerName) {
      var layer = viewer.getLayer(layerName);
      layer.set('onlineType', layer.get('type'));
      offlineLayers[layerName] = createOfflineObj();
      offlineLayer.setOfflineSource(layerName, []);
    });
  }

  function onChangeOffline(e) {
    e.stopImmediatePropagation();
    if (e.action === 'download') {
      onDownload(e.layerName)
    } else if (e.action === 'edits') {
      ondEdits(e.layerName, e.ids);
    } else if (e.action === 'remove') {
      onRemove(e.layerName);
    }
  }

  function onChangeOfflineEdits(e) {
    e.stopImmediatePropagation();
    if (editsStorage[e.layerName]) {

    } else {
      editsStorage[e.layerName] = localforage.createInstance({
        name: editsStorageName,
        storeName: e.layerName
      });
    }
    if (e.edits.update) {
      saveUpdate(e.edits.update, e.layerName);
    }
    if (e.edits.insert) {
      saveInsert(e.edits.insert, e.layerName);
    }
    if (e.edits.delete) {
      saveDelete(e.edits.delete, e.layerName);
    }
  }

  function onDownload(layerName) {
    if (offlineLayers[layerName].downloaded) {
      storage[layerName].clear()
        .then(function() {
          saveFeaturesToStorage(layerName);
        });
    } else {
      saveFeaturesToStorage(layerName);
    }
  }

  function ondEdits(layerName, ids) {
    var promises = ids.map(function(id) {
      return removeFromEditsStorage(id, layerName);
    });
    return Promise.all(promises).then(function() {
      return true;
    });
  }

  function onRemove(layerName) {
    if (offlineLayers[layerName].edits) {
      var proceed = confirm('Du har fortfarande offline-ändringar som inte är sparade. Om du fortsätter kommer dessa att försvinna.');
      if (proceed) {
        removeDownloaded(layerName);
      }
    } else {
      removeDownloaded(layerName);
    }
  }

  function removeDownloaded(layerName) {
    if (offlineLayers[layerName]) {
      return storage[layerName].clear()
        .then(function() {
          setLayerOnline(layerName);
          dispatcher.emitChangeOfflineEnd(layerName, 'download');
        });
    }
  }

  function createOfflineObj() {
    return {
      downloaded: false,
      edits: false
    }
  }

  function setDownloaded(layerName, downloaded) {
    if (downloaded) {
      offlineLayers[layerName].downloaded = true;
    } else {
      offlineLayers[layerName].downloaded = false;
    }
  }

  function setEdits(layerName, edits) {
    if (edits) {
      offlineLayers[layerName].edits = true;
    } else {
      offlineLayers[layerName].edits = false;
    }
  }

  function saveFeaturesToStorage(layerName) {
    var features;
    if (storage[layerName]) {
      features = viewer.getLayer(layerName).getSource().getFeatures();
      setItems(layerName, features);
    } else {
      console.log(layerName + ' is missing in storage');
    }
  }

  function setItems(layerName, features) {
    var promises = features.map(function(feature) {
      var id = feature.getId();
      var obj = format.writeFeatureObject(feature);
      return storage[layerName].setItem(id, obj);
    });
    Promise.all(promises).then(function(results) {
      setLayerOffline(layerName, features);
      dispatcher.emitChangeOfflineEnd(layerName, 'offline');
    });
  }

  function getItems(layerName) {
    var layer = viewer.getLayer(layerName);
    var geometryName = layer.get('geometryName');
    var features = [];
    return storage[layerName].iterate(function(value, key, index) {
        var storedFeature = format.readFeature(value);
        var feature = restoreGeometryName(storedFeature, geometryName);
        features.push(feature);
      })
      .then(function() {
        return features;
      });
  }

  function getEditsItems(layerName) {
    var layer = viewer.getLayer(layerName);
    var items = [];
    return editsStorage[layerName].iterate(function(value, key, index) {
        var obj = {};
        obj[key] = value;
        items.push(obj);
      })
      .then(function() {
        return items;
      });
  }

  function initLayers() {
    var layerNames = Object.getOwnPropertyNames(storage);
    layerNames.forEach(function(layerName) {
      getItems(layerName).then(function(features) {
        var layer;
        if (features.length) {
          setLayerOffline(layerName, features);
        } else {
          setLayerOnline(layerName, features);
        }
      });
      getEditsItems(layerName).then(function(items) {
        var layer;
        if (items.length) {
          setEdits(layerName, true);
        } else {
          setEdits(layerName, false);
        }
      });
    });
  }

  function setLayerOffline(layerName, features) {
    offlineLayer.setOfflineSource(layerName, features);
    setDownloaded(layerName, true);
  }

  function setLayerOnline(layerName) {
    offlineLayer.setOnlineSource(layerName);
    setDownloaded(layerName, false);
  }

  function saveUpdate(updates, layerName) {
    updates.forEach(function(feature) {
      var id = feature.getId();
      var action = 'update';
      editsStorage[layerName].getItem(id)
        .then(function(result) {
          if (result === null) {
            saveToEditsStorage(feature, layerName, action);
          } else {
            saveFeatureToStorage(feature, layerName, action);
          }
        });
    });
  }

  function saveInsert(inserts, layerName) {
    inserts.forEach(function(feature) {
      var action = 'insert';
      saveToEditsStorage(feature, layerName, action);
    });
  }

  function saveDelete(deletes, layerName) {
    deletes.forEach(function(feature) {
      var id = feature.getId();
      var action = 'delete';
      editsStorage[layerName].getItem(id)
        .then(function(result) {
          if (result === null) {
            saveToEditsStorage(feature, layerName, action);
          } else if (result === 'insert') {
            removeFromEditsStorage(feature.getId(), layerName)
              .then(function() {
                emitChangeFeature(feature, layerName, action);
              });
          } else {
            saveFeatureToStorage(feature, layerName, action);
          }
        });
    });
  }

  function saveToEditsStorage(feature, layerName, action) {
    var id = feature.getId();
    editsStorage[layerName].setItem(id, action)
      .then(function() {
        setEdits(layerName, true);
        saveFeatureToStorage(feature, layerName, action);
      });
  }

  function removeFromEditsStorage(id, layerName) {
    return editsStorage[layerName].removeItem(id)
      .then(function() {
        editsStorage[layerName].length()
          .then(function(nr) {
            if (nr > 0) {
              setEdits(layerName, true);
            } else {
              setEdits(layerName, false);
            }
          });
      });
  }

  function saveFeatureToStorage(feature, layerName, action) {
    var id = feature.getId();
    storage[layerName].setItem(id, format.writeFeatureObject(feature))
      .then(function() {
        emitChangeFeature(feature, layerName, action);
      });
  }

  function emitChangeFeature(feature, layerName, action) {
    editorDispatcher.emitChangeFeature({
      feature: [feature],
      layerName: layerName,
      status: 'finished',
      action: action
    });
  }

  function restoreGeometryName(feature, geometryName) {
    var geometry = feature.getGeometry();
    feature.unset(feature.getGeometryName());
    feature.setGeometryName(geometryName);
    feature.setGeometry(geometry);
    return feature;
  }

}

module.exports = offlineStore;

},{"../editor/editdispatcher":109,"../viewer":209,"./offlinedispatcher":161,"./offlinelayer":162,"jquery":27,"localforage":28,"openlayers":30}],164:[function(require,module,exports){
"use strict";
var ol = require('openlayers');
var $ = require('jquery');
var verifyFeatureIds = require('./verifyfeatureids');

var topoJson = {};
topoJson.request = function request(layer) {
  var source = layer.get('sourceName');
  var request = createRequest(source);
  return request;

  function createRequest(source) {
    var format = new ol.format.TopoJSON();
    var url = source;

    return $.ajax({
        url: url,
        cache: false
      })
      .then(function(response) {
        var features = format.readFeatures(response);
        features = verifyFeatureIds(features);
        return features;
      });
  }
}

module.exports = topoJson;

},{"./verifyfeatureids":165,"jquery":27,"openlayers":30}],165:[function(require,module,exports){
"use strict";
var generateUUID = require('../utils/generateuuid');

module.exports = function verifyFeatureIds(features) {
  if (features[0]) {
    if (features[0].getId() === undefined) {
      features.forEach(function(feature) {
        feature.setId(generateUUID());
      })
    }
  }

  return features;
}

},{"../utils/generateuuid":195}],166:[function(require,module,exports){
"use strict";
var ol = require('openlayers');
var $ = require('jquery');
var viewer = require('../viewer');
var wfsTransaction = require('../editor/wfstransaction');

var wfs = {};
wfs.request = function request(layer) {
  var sourceOptions = viewer.getMapSource()[layer.get('sourceName')];
  sourceOptions.featureType = layer.get('name').split('__').shift();
  sourceOptions.geometryName = layer.get('geometryName');
  sourceOptions.filter = layer.get('filter');
  sourceOptions.projectionCode = viewer.getProjectionCode();
  sourceOptions.extent = layer.get('extent');
  sourceOptions.projectionCode = viewer.getProjectionCode();

  var request = createRequest(sourceOptions);
  return request;

  function createRequest(options) {
    var format = new ol.format.GeoJSON({
      geometryName: options.geometryName
    });

    var serverUrl = options.url;
    var queryFilter;
    var url;

    //If cql filter then bbox must be used in the filter.
    if (options.filter) {
      queryFilter = '&CQL_FILTER=' + options.filter +
        ' AND BBOX(' + options.geometryName + ',' +
        options.extent.join(',') + ',' +
        "'" + options.projectionCode + "')";
    } else {
      queryFilter = '&BBOX=' +
        options.extent.join(',') + ',' + options.projectionCode;
    }

    url = serverUrl +
      '?service=WFS&' +
      'version=1.1.0&request=GetFeature&typeName=' + options.featureType +
      '&outputFormat=application/json' +
      '&srsname=' + options.projectionCode +
      queryFilter;

    return $.ajax({
        url: url,
        cache: false
      })
      .then(function(response) {
        return format.readFeatures(response);
      });
  }
}

wfs.transaction = function(transObj, layerName) {
  return wfsTransaction(transObj, layerName);
}

module.exports = wfs;

},{"../editor/wfstransaction":118,"../viewer":209,"jquery":27,"openlayers":30}],167:[function(require,module,exports){
/*requires Modal.js*/
"use strict";

var permalinkParser = require('./permalinkparser');
var permalinkStore = require('./permalinkstore');
var urlparser =require('../utils/urlparser');

module.exports = function() {

return {
    getPermalink: function getPermalink(options) {
        var hash = urlparser.formatUrl(permalinkStore.getState());
        var url = permalinkStore.getUrl() + "#" + hash;
        return(url);
    },
    parsePermalink: function parsePermalink(url) {
        if(url.indexOf('#') > -1) {
            var urlSearch = url.split('#')[1];
            var urlParts = urlSearch.split('&');
            var urlAsObj = {};
            urlParts.forEach(function(part) {
                var key = part.split('=')[0];
                var val = part.split('=')[1];
                if(permalinkParser.hasOwnProperty(key)) {
                    urlAsObj[key] = permalinkParser[key](val);
                }
            });
            return urlAsObj;
        }
        else {
            return false;
        }
    }
};
}();

},{"../utils/urlparser":207,"./permalinkparser":168,"./permalinkstore":169}],168:[function(require,module,exports){
"use strict";
var urlparser = require('../utils/urlparser');

var layerModel = {
    v: {
      name: "visible",
      dataType: "boolean"
    },
    s: {
      name: "legend",
      dataType: "boolean"
    },
}

module.exports = {
  layers: function(layersStr) {
      var layers = layersStr.split(',');
      var layerObjects = {};
      layers.forEach(function(layer) {
          var obj = {};
          var layerObject = urlparser.objectify(layer,{topmost: "name"});
          Object.getOwnPropertyNames(layerObject).forEach(function(prop) {
              var val = layerObject[prop];
              if(layerModel.hasOwnProperty(prop)) {
                  var attribute = layerModel[prop];
                  obj[attribute.name] = urlparser.strBoolean(val);
              }
              else {
                  obj[prop] = val;
              }
          });
          layerObjects[obj.name] = obj;

      });
      return layerObjects;
  },
  zoom: function(zoomStr) {
      return parseInt(zoomStr);
  },
  center: function(centerStr) {
      var center = centerStr.split(",").map(function(coord) {
          return parseInt(coord);
      });
      return center;
  },
  selection: function(selectionStr) {
      return urlparser.strArrayify(selectionStr, {
        topmostName: "geometryType",
        arrName: "coordinates"}
      );
  },
  pin: function(pinStr) {
      return urlparser.strIntify(pinStr);
  },
  map: function(mapStr) {
      return mapStr;
  }
}

},{"../utils/urlparser":207}],169:[function(require,module,exports){
"use strict";

var viewer = require('../viewer');
var selection = require('../featureinfo')['getSelection'];
var getPin = require('../featureinfo')['getPin'];
var urlparser =require('../utils/urlparser');

var permalinkStore = {};
var state;
var url;

permalinkStore.getState = function getState() {
    state = {};
    var view = viewer.getMap().getView();
    var layers = viewer.getLayers();
    state.layers = getSaveLayers(layers);
    state.center = view.getCenter().map(function(coord) {
        return Math.round(coord);
    }).join();
    state.zoom = view.getZoom().toString();
    // state.selection = getSaveSelection(selection());
    if (getPin()) {
        state.pin = getPin().getGeometry().getCoordinates().map(function(coord) {
          return Math.round(coord);
        }).join();
    }
    if (viewer.getMapName()) {
        state.map = viewer.getMapName().split('.')[0];
    }
    return state;
}
permalinkStore.getUrl = function() {
    url = viewer.getUrl();
    return url;
}

function getSaveLayers(layers) {
    var saveLayers = [];
    layers.forEach(function(layer) {
        var saveLayer = {};
        saveLayer.v = layer.getVisible() === true ? 1 : 0;
        saveLayer.s = layer.get('legend') === true ? 1 : 0;
        if (saveLayer.s || saveLayer.v) {
            saveLayer.name = layer.get('name');
            saveLayers.push(urlparser.stringify(saveLayer, {topmost: 'name'}));
        }
    });
    return saveLayers;
}
function getSaveSelection(selection) {
    return urlparser.arrStringify(selection.coordinates, {topmost: selection.geometryType});
}

module.exports = permalinkStore;

},{"../featureinfo":119,"../utils/urlparser":207,"../viewer":209}],170:[function(require,module,exports){
"use strict";
var $ = require('jquery');

module.exports = function(target) {
    render(target);
    bindUIActions();
    return {
        getEl: getEl,
        setVisibility: setVisibility,
        setTitle: setTitle,
        setContent: setContent,
        closePopup: closePopup
    }
}
function render(target) {
  var pop = '<div id="o-popup">' +
      '<div class="o-popup o-card">' +
        '<div class="o-close-button"><svg class="o-icon-fa-times"><use xlink:href="#fa-times"></use></svg></div>' +
        '<div class="o-card-title"></div>' +
        '<div class="o-card-content"></div>' +
      '</div>' +
    '</div>';
  $(target).append(pop);
}
function bindUIActions() {
    $('#o-popup .o-popup .o-close-button').on('click', function(evt) {
        closePopup();
        evt.preventDefault();
    });
}
function getEl() {
    return $("#o-popup").get(0);
}
function setVisibility(visible) {
    visible == true ? $('#o-popup .o-popup').css('display', 'block') : $('#o-popup .o-popup').css('display', 'none');
}
function setTitle(title) {
    $('#o-popup .o-card-title').html(title);
}
function setContent(config) {
    config.title ? $('#o-popup .o-popup .o-card-title').html(config.title): $('#o-popup .o-popup .o-card-title').html('');
    config.content ? $('#o-popup .o-popup .o-card-content').html(config.content): $('#o-popup .o-popup .o-card-content').html('');
}
function closePopup() {
    setVisibility(false);
}

},{"jquery":27}],171:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var viewer = require('./viewer');
var utils = require('./utils');

var controlId = 'o-position';
var markerId = 'o-position-marker';
var toggleProjId = 'o-position-toggle-proj';
var coordsId = 'o-position-coords';
var coordsFindId = 'o-position-find';
var togglePositionId = 'o-toggle-position';
var characterError = 'Ogiltigt tecken för koordinat, vänligen försök igen.';
var extentError = 'Angivna koordinater ligger inte inom kartans utsträckning, vänligen försök igen.';
var map = undefined;
var view = undefined;
var consoleId = undefined;
var suffix = undefined;
var currentProjection = undefined;
var projections = undefined;
var projectionCodes = undefined;
var projection = undefined;
var mapProjection = undefined;
var precision = undefined;
var mousePositionActive = false;
var mousePositionControl;

function Init(opt_options) {
  var options = opt_options || {};
  var title = options.title || undefined;
  suffix = options.suffix || '';
  map = viewer.getMap();
  view = map.getView();
  projection = view.getProjection();
  mapProjection = viewer.getProjectionCode();
  consoleId = viewer.getConsoleId();
  projections = options.projections || {};
  projectionCodes = Object.getOwnPropertyNames(projections);
  if (title) {
    currentProjection = mapProjection;
    projections[currentProjection] = title;
    projectionCodes.unshift(mapProjection);
  } else if (projectionCodes.length) {
    currentProjection = projectionCodes[0];
  } else {
    alert('No title or projection is set for position');
  }
  setPrecision();

  render();
  bindUIActions();

  addMousePosition();
}

function render() {
  var icon = utils.createSvg({
    href: '#o_centerposition_24px',
    cls: 'o-icon-position'
  });
  var toggleButtons = utils.createElement('button', icon, {
    cls: 'o-position-center-button',
    id: togglePositionId
  });
  toggleButtons += utils.createElement('button', projections[currentProjection], {
    id: toggleProjId,
    cls: 'o-position-button',
    value: currentProjection
  });
  var coordsDiv = utils.createElement('div', '', {
    id: coordsId,
    cls: coordsId,
    style: 'padding-left: 5px;'
  });
  var coordsFind = utils.createElement('input', '', {
    id: coordsFindId,
    cls: coordsFindId,
    type: 'text',
    name: coordsFindId,
    style: 'padding-left: 5px;'
  });
  var controlContainer = utils.createElement('div', toggleButtons + coordsDiv + coordsFind, {
    id: controlId,
    cls: controlId,
    style: 'display: inline-block;'
  });
  $('#' + consoleId).append(controlContainer);
}

function bindUIActions() {
  $('#' + toggleProjId).on('click', onToggleProjection);
  $('#' + togglePositionId).on('click', onTogglePosition);
}

function addMousePosition() {
  mousePositionControl = new ol.control.MousePosition({
    coordinateFormat: ol.coordinate.createStringXY(precision),
    projection: currentProjection,
    target: document.getElementById(coordsId),
    undefinedHTML: '&nbsp;'
  });
  map.addControl(mousePositionControl);
  mousePositionActive = true;
  $('#' + coordsId).addClass('o-active');
}

function removeMousePosition() {
  map.removeControl(mousePositionControl);
  $('#' + coordsId).removeClass('o-active');
  mousePositionActive = false;
}

function addCenterPosition() {
  renderMarker();
  $('#' + togglePositionId).addClass('o-active');
  $('#' + coordsFindId).addClass('o-active');
  updateCoords(view.getCenter());
  view.on('change:center', onChangeCenter);
  $('#' + coordsFindId).on('keypress', onFind);
}

function removeCenterPosition() {
  view.un('change:center', onChangeCenter);
  clear();
  $('#' + coordsFindId).off('keypress', onFind);
  $('#' + markerId).remove();
  $('#' + togglePositionId).removeClass('o-active');
  $('#' + coordsFindId).removeClass('o-active');
}

function renderMarker() {
  var icon = utils.createSvg({
    href: '#o_centerposition_24px',
    cls: 'o-icon-position-marker'
  });
  var marker = utils.createElement('div', icon, {
    id: markerId,
    cls: markerId
  });
  $('#o-map').append(marker);
}

function findCoordinate() {
  var coords = $('#' + coordsFindId).val();
  var validated = validateCoordinate(coords);
  if (validated.length === 2) {
    map.getView().animate({
      center: validated,
      zoom: (viewer.getResolutions().length - 3)
    });
  }
}

function validateCoordinate(strCoords) {
  var extent = viewer.getExtent() || view.getProjection().getExtent();
  var inExtent;

  //validate numbers
  var coords = strCoords.split(',').map(function(coord) {
      return parseFloat(coord);
    })
    .filter(function(coord) {
      if (coord !== NaN) {
        return coord;
      }
    });
  if (coords.length !== 2) {
    alert(characterError);
    return [];
  }

  // transform
  if (currentProjection !== mapProjection) {
    coords = transformCoords(coords, currentProjection, mapProjection);
  }

  // validate coords within extent
  inExtent = coords[0] >= extent[0] && coords[1] >= extent[1];
  inExtent = inExtent && (coords[0] <= extent[2]) && (coords[1] <= extent[3]);
  if (inExtent) {
    return coords;
  } else {
    alert(extentError);
    return [];
  }
}

function toggleProjectionVal(val) {
  var index;
  var proj = undefined;
  index = projectionCodes.indexOf(val);
  if (index === projectionCodes.length - 1) {
    proj = projectionCodes[0];
  } else if (index < projectionCodes.length - 1) {
    proj = projectionCodes[index + 1];
  }
  return proj;
}

function clear() {
  writeCoords('');
}

function onTogglePosition() {
  if (mousePositionActive) {
    removeMousePosition();
    addCenterPosition();
  } else {
    addMousePosition();    
    removeCenterPosition();
  }
}

function onToggleProjection(e) {
  return function(event) {
    currentProjection = toggleProjectionVal(this.value);
    setPrecision();
    writeProjection(currentProjection);
    if (mousePositionActive) {
      removeMousePosition();
      addMousePosition();
    } else {
      updateCoords(view.getCenter());
    }
    this.blur();
    event.preventDefault();
  }.bind(this)(e);
}

function onChangeCenter() {
  updateCoords(view.getCenter());
}

function onFind(e) {
  if (e.which === 13) {
    findCoordinate();
  }
}

function round(coords) {
  if (precision) {
    return coords.map(function(coord) {
      return coord.toFixed(precision);
    });
  } else {
    return coords.map(function(coord) {
      return Math.round(coord);
    });
  }
}

function setPrecision() {
  if (currentProjection === 'EPSG:4326') {
    precision = 5;
  } else {
    precision = 0;
  }
}

function writeProjection() {
  $('#' + toggleProjId).val(currentProjection);
  $('#' + toggleProjId).text(projections[currentProjection]);
}

function transformCoords(coords, source, destination) {
  var geometry = new ol.Feature({
    geometry: new ol.geom.Point(coords)
  }).getGeometry();
  return geometry.transform(source, destination).getCoordinates();
}

function updateCoords(sourceCoords) {
  var coords = sourceCoords;
  var center;
  if (currentProjection !== mapProjection) {
    coords = transformCoords(coords, projection, currentProjection);
  }
  coords = round(coords);
  center = coords.join(', ') + suffix;
  writeCoords(center);
}

function writeCoords(coords) {
  $('#' + coordsFindId).val(coords);
}

module.exports.init = Init;

},{"./utils":193,"./viewer":209,"jquery":27,"openlayers":30}],172:[function(require,module,exports){
"use strict";

var $ = require('jquery');
var Viewer = require('./viewer');
var utils = require('./utils');
var template = require("./templates/print.handlebars");

var printWith = 800;
var $printButton;
var attribution;
var map;
var baseUrl;

function Init(opt_options) {
  var options = opt_options || {};
  attribution = options.attribution || '© Lantmäteriet Geodatasamverkan';
  map = Viewer.getMap();
  baseUrl = Viewer.getBaseUrl();

  render();
  bindUIActions();
}

function render() {
  var el = utils.createListButton({
    id: 'o-print',
    iconCls: 'o-icon-fa-print',
    src: '#fa-print',
    text: 'Skriv ut'
  });
  $('#o-menutools').append(el);
  $printButton = $('#o-print-button');
}

function bindUIActions() {
  $printButton.on('click', function(e) {
    $('#app-wrapper').append('<canvas id="o-print" style="display: none"></canvas>');
    createImage();
    e.preventDefault();
  });
}

function imageToPrint($printCanvas) {
  var imageCrop = new Image();
  try {
    imageCrop.src = $printCanvas.get(0).toDataURL("image/png");
  } catch (e) {
    console.log(e);
  } finally {
    var templateOptions = {};
    templateOptions.src = imageCrop.src;
    templateOptions.attribution = attribution;
    templateOptions.logoSrc = baseUrl + 'css/png/logo_print.png';
    var pw = template(templateOptions);
    var printWindow = window.open('', '', 'width=800,height=820');
    printWindow.document.write(pw);
    printWindow.document.close();
    setTimeout(function() {
      printWindow.print();
      setTimeout(function() {
        printWindow.close();
        $('#o-print').remove();
      }, 10);
    }, 200);
  }
}

function createImage() {
  var $canvas = $('canvas');
  var image = new Image();

  try {
    var imageUrl = $canvas.get(0).toDataURL("image/png");
  } catch (e) {
    console.log(e);
  } finally {

    // $printCanvas = copy of original map canvas
    var $printCanvas = $('#o-print');
    image.onload = function() {
      var ctxCanvas = $printCanvas[0].getContext('2d');

       //width of map canvas
      var sourceWidth = $canvas[0].width;

      //height of map canvas
      var sourceHeight = $canvas[0].height;

      //set the width of print canvas
      if (sourceWidth < printWith) {
        $printCanvas[0].width = sourceWidth;
      } else if (sourceWidth >= printWith) {
        $printCanvas[0].width = printWith;
      }

      //set the height of print canvas
      if (sourceHeight < printWith) {
        $printCanvas[0].height = sourceHeight;
      } else if (sourceWidth >= printWith) {
        $printCanvas[0].height = printWith;
      }

      ctxCanvas.drawImage(image, (sourceWidth / 2 - $printCanvas[0].width / 2), 0, $printCanvas[0].width, $printCanvas[0].height, 0, 0, $printCanvas[0].width, $printCanvas[0].height);
      imageToPrint($printCanvas);
    };
    image.src = imageUrl;
  }
}

module.exports.init = Init;

},{"./templates/print.handlebars":191,"./utils":193,"./viewer":209,"jquery":27}],173:[function(require,module,exports){
"use strict";
/** Renders a progress bar. **/
function Progress(el) {
   this.el = el;
   this.loading = 0;
   this.loaded = 0;
};
/** Increment the count of loading tiles. **/
Progress.prototype.addLoading = function() {
  if (this.loading === 0) {
    this.show();
  }
  ++this.loading;
  this.update();
};
/** Increment the count of loaded tiles. **/
Progress.prototype.addLoaded = function() {
  var this_ = this;
  setTimeout(function() {
    ++this_.loaded;
    this_.update();
  }, 100);
};
/** Update the progress bar. **/
Progress.prototype.update = function() {
  var width = (this.loaded / this.loading * 100).toFixed(1) + '%';
  this.el.style.width = width;
  if (this.loading === this.loaded) {
    this.loading = 0;
    this.loaded = 0;
    var this_ = this;
    setTimeout(function() {
      this_.hide();
    }, 600);
  }
};
/**  Show the progress bar. **/
Progress.prototype.show = function() {
  this.el.style.visibility = 'visible';
};
/** Hide the progress bar.**/
Progress.prototype.hide = function() {
  if (this.loading === this.loaded) {
    this.el.style.visibility = 'hidden';
    this.el.style.width = 0;
  }
};
module.exports = Progress;

},{}],174:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var Viewer = require('./viewer');
var utils = require('./utils');

var map;

function Init(opt_options) {
  var options = opt_options || {};
  var rotateControl;
  var icon = utils.createSvg({
    href: '#origo-compass',
    cls: 'o-icon-compass'
  });
  map = Viewer.getMap();

  rotateControl = new ol.control.Rotate({
    label: $.parseHTML('<span>' + icon + '</span>')[0],
    tipLabel: ' ',
    target: 'o-toolbar-misc'
  });
  map.addControl(rotateControl);
}

module.exports.init = Init;

},{"./utils":193,"./viewer":209,"jquery":27,"openlayers":30}],175:[function(require,module,exports){
"use strict";

var $ = require('jquery');
var Viewer = require('./viewer');
var utils = require('./utils');
var numberFormatter = require('./utils/numberformatter');

var controlId = 'o-scale';
var consoleId;
var map;
var $console;
var isActive;
var scaleText;

function Init(opt_options) {
  var options = opt_options || {};
  map = Viewer.getMap();
  consoleId = Viewer.getConsoleId();
  scaleText = options.scaleText || 'Skala 1:';
  var initialState = options.hasOwnProperty('isActive') ? options.isActive : true;

  setActive(initialState);
  render();

  return {
    setActive: setActive
  }
}

function render() {
  var container = utils.createElement('div', '', {
    id: controlId,
    style: 'display: inline-block;'
  });
  $('#' + consoleId).append(container);
}

function setActive(state) {
  if (state === true) {
    map.on('movestart', onZoomChange);
    onZoomChange();
    isActive = true;
  } else if (state === false) {
    map.un('movestart', onZoomChange);
    isActive = false;
  }
}

function onZoomChange(evt) {
  map.once('moveend', function(e) {
    var view = map.getView();
    var resolution = evt ? evt.frameState.viewState.resolution : view.getResolution();
    var mapZoom = view.getZoomForResolution(resolution);
    var currentZoom = parseInt(view.getZoom(), 10);
    var currentResolution = view.getResolution();
    if (currentZoom !== mapZoom) {
      var scale = Viewer.getScale(currentResolution);
      $('#' + controlId).text(scaleText + numberFormatter(scale));
    }
  });
}

module.exports.init = Init;

},{"./utils":193,"./utils/numberformatter":201,"./viewer":209,"jquery":27}],176:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var Viewer = require('./viewer');

var map;

function Init(opt_options) {
  var options = opt_options || {};
  var target = options.target || 'o-tools-bottom';
  map = Viewer.getMap();

  var scaleLine = new ol.control.ScaleLine({
    target: target
  });
  map.addControl(scaleLine);
}

module.exports.init = Init;

},{"./viewer":209,"openlayers":30}],177:[function(require,module,exports){
'use strict';

var ol = require('openlayers');
var $ = require('jquery');
var Viewer = require('./viewer');
var wktToFeature = require('./maputils').wktToFeature;
var Popup = require('./popup');
var Awesomplete = require('awesomplete');
var getFeature = require('./getfeature');
var getAttributes = require('./getattributes');
var featureInfo = require('./featureinfo');
var mapUtils = require('./maputils');
var getCenter = require('./geometry/getcenter');
var utils = require('./utils');
var generateUUID = require('./utils/generateuuid');
var keyCodes = {
  9: 'tab',
  27: 'esc',
  37: 'left',
  39: 'right',
  13: 'enter',
  38: 'up',
  40: 'down'
};
var searchDb = {};
var map;
var name;
var northing;
var easting;
var geometryAttribute;
var idAttribute;
var layerNameAttribute;
var layerName;
var titleAttribute;
var contentAttribute;
var maxZoomLevel;
var url;
var title;
var hintText;
var projectionCode;
var overlay;
var limit;
var minLength;
var awesomplete;

function init(options) {
  name = options.searchAttribute;
  northing = options.northing || undefined;
  easting = options.easting || undefined;
  geometryAttribute = options.geometryAttribute;

  /** idAttribute in combination with layerNameAttribute
  must be defined if search result should be selected */
  idAttribute = options.idAttribute;
  layerNameAttribute = options.layerNameAttribute || undefined;
  layerName = options.layerName || undefined;
  url = options.url;
  title = options.title || '';
  titleAttribute = options.titleAttribute || undefined;
  contentAttribute = options.contentAttribute || undefined;
  maxZoomLevel = options.maxZoomLevel || Viewer.getResolutions().length - 2 || Viewer.getResolutions();
  limit = options.limit || 9;
  hintText = options.hintText || 'Sök...';
  minLength = options.minLength || 4;
  projectionCode = Viewer.getProjectionCode();

  map = Viewer.getMap();

  render();
  initAutocomplete();
  bindUIActions();
}

function render() {
  var el = '<div id="o-search-wrapper" class="o-search-wrapper">' +
    '<div id="o-search" class="o-search o-search-false">' +
    '<input id="hjl" class="o-search-field form-control" type="text" placeholder="' + hintText + '">' +
    '<button id="o-search-button">' +
    '<svg class="o-icon-fa-search">' +
    '<use xlink:href="#fa-search"></use>' +
    '</svg>' +
    '</button>' +
    '<button id="o-search-button-close">' +
    '<svg class="o-icon-search-fa-times">' +
    '<use xlink:href="#fa-times"></use>' +
    '</svg>' +
    '</button>' +
    '</div>' +
    '</div>';
  $('#o-map').append(el);
}

function bindUIActions() {
  document.getElementById('hjl').addEventListener("awesomplete-selectcomplete", selectHandler);

  $('#o-search .o-search-field').on('input', function() {
    if ($('#o-search .o-search-field').val() && $('#o-search').hasClass('o-search-false')) {
      $('#o-search').removeClass('o-search-false');
      $('#o-search').addClass('o-search-true');
      onClearSearch();
    } else if (!($('#o-search .o-search-field').val()) && $('#o-search').hasClass('o-search-true')) {
      $('#o-search').removeClass('o-search-true');
      $('#o-search').addClass('o-search-false');
    }
  });

  $('.o-search-field').on('blur', function(e) {
    $('.o-search-wrapper').removeClass('active');
    window.dispatchEvent(new Event('resize'));
  });
  $('.o-search-field').on('focus', function(e) {
    $('.o-search-wrapper').addClass('active');
    window.dispatchEvent(new Event('resize'));
  });

}

/*
The label property in Awesomplete is used to store the feature id. This way the properties
of each feature in the search response will be available in event handling.
The complete properties are stored in a tempory db called searchDb. This is a workaround
for a limit in Awesomplete that can only store data in the fields label and text.
The data-catogry attribute is used to make a layer division in the sugguestion list.
*/
function initAutocomplete() {
  var list;

  $.support.cors = true;

  var input = $("#o-search .o-search-field");
  awesomplete = new Awesomplete('#o-search .o-search-field', {
    minChars: minLength,
    autoFirst: false,
    sort: false,
    item: renderList,
    filter: function(suggestion, input) {
      return suggestion.value;
    }
  });

  var handler = function(data) {
    list = [];
    searchDb = {};
    if (data.length) {
      setSearchDb(data);
      if (name && layerNameAttribute) {
        list = groupToList(groupDb(searchDb));
      } else {
        list = dbToList(data);
      }
      awesomplete.list = list;
      awesomplete.evaluate();
    }
  };

  $(input).on("keyup", function(e) {
    var keyCode = e.keyCode;
    if (this.value.length >= minLength) {
      if (keyCode in keyCodes) {
        return;
      } else {
        makeRequest(handler, this);
      }
    }
  });
}

function dbToList() {
  var items = Object.keys(searchDb);
  return items.map(function(item) {
    return searchDb[item];
  });
}

function groupDb(data) {
  var group = {};
  var ids = Object.keys(data);
  ids.forEach(function(id) {
    var item = data[id];
    var type = item[layerNameAttribute];
    var header = false;
    if (type in group === false) {
      group[type] = [];
      item.header = Viewer.getLayer(type).get('title');
    }
    group[type].push(item);
  });
  return group;
}

function groupToList(group) {
  var types = Object.keys(group);
  var list = [];
  var selection = {};
  var nr = 0;
  var turn = 0;
  while (nr < limit && types.length) {
    types.slice().forEach(function(type) {
      if (nr < limit) {
        var item = group[type][turn];
        if (type in selection === false) {
          selection[type] = [];
        }
        selection[type][turn] = item;
        if (!group[type][turn + 1]) {
          types.splice(types.indexOf(type), 1);
        }
      }
      nr++;
    });
    turn++;
  }
  list = Object.keys(selection).reduce(function(previous, group) {
    return previous.concat(selection[group]);
  }, []);
  return list;
}

function setSearchDb(data) {
  data.forEach(function(item) {
    var id = generateUUID();
    item.label = id;
    item.value = item[name];
    searchDb[id] = item;
  });
}

function renderList(suggestion, input) {
  var item = searchDb[suggestion.label] || {};
  var header = 'header' in item ? '<div class="heading">' + item.header + '</div>' : '';
  var options = {};
  var html = input === '' ? suggestion.value : suggestion.value.replace(RegExp(Awesomplete.$.regExpEscape(input), "gi"), "<mark>$&</mark>");
  html = header + '<div class="suggestion">' + html + '</div>';
  options = {
    innerHTML: html,
    'aria-selected': 'false'
  };
  if ('header' in item) {
    options.className = 'header';
  }

  return Awesomplete.$.create("li", options);
}

function makeRequest(handler, obj) {
  $.ajax({
    url: url + '?q=' + encodeURI(obj.value),
    type: 'GET',
    dataType: 'json'
  }).then(handler);
}

function onClearSearch() {
  $('#o-search-button-close').on('click', function(e) {
    clearSearchResults();
    clear();
    $('#o-search').removeClass('o-search-true');
    $('#o-search').addClass('o-search-false');
    $('#o-search .o-search-field').val('');
    $('#o-search-button').blur();
    e.preventDefault();
  });
}

function showOverlay(data, coord) {
  var popup;
  var content;
  clear();
  popup = Popup('#o-map');
  overlay = new ol.Overlay({
    element: popup.getEl()
  });

  map.addOverlay(overlay);

  overlay.setPosition(coord);
  content = data[name];
  popup.setContent({
    content: content,
    title: title
  });
  popup.setVisibility(true);
  mapUtils.zoomToExent(new ol.geom.Point(coord), maxZoomLevel);
}

function showFeatureInfo(features, title, content) {
  var obj = {};
  obj.feature = features[0];
  obj.title = title;
  obj.content = content;
  clear();
  featureInfo.identify([obj], 'overlay', getCenter(features[0].getGeometry()));
  mapUtils.zoomToExent(features[0].getGeometry(), maxZoomLevel);
}

function clear() {
  featureInfo.clear();
  if (overlay) {
    Viewer.removeOverlays(overlay);
  }
}

function clearSearchResults() {
  awesomplete.list = [];
  setSearchDb([]);
}

/** There are several different ways to handle selected search result.
 * Option 1. Feature info is requested from a map service.
 * In this case idAttribute and layerNameAttribute must be provided.
 * A map service is used to get the geometry and attributes. The layer is defined
 * as an ordinary layer in the layer config section.
 * Option 2. Same as option 1 but for single layer search. layerName is defined
 * as an option and is not included in the search response.
 * In this case geometryAttribute and layerName must be provided.
 * Option 3. Complete feature info is included in the search result.
 * In this case titleAttribute, contentAttribute and geometryAttribute must be provided.
 * Option 4. This is a single table search. No layer is defined.
 * In this case geometryAttribute and title must be defined.
 * Option 5. Feature info is shown without selection in the map.
 * This is a simple single table search. In this case title, northing and easting
 * must be defined. */

function selectHandler(evt) {
  var id = evt.text.label;
  var data = searchDb[id];
  var layer;
  var id;
  var feature;
  var content;
  var coord;
  if (layerNameAttribute && idAttribute) {
    layer = Viewer.getLayer(data[layerNameAttribute]);
    id = data[idAttribute];
    getFeature(id, layer)
      .done(function(res) {
        var featureWkt;
        var coordWkt;
        if (res.length > 0) {
          showFeatureInfo(res, layer.get('title'), getAttributes(res[0], layer));
        }

        // Fallback if no geometry in response
        else if (geometryAttribute) {
          featureWkt = wktToFeature(data[geometryAttribute], projectionCode);
          coordWkt = featureWkt.getGeometry().getCoordinates();
          showOverlay(data, coordWkt);
        }
      });
  } else if (geometryAttribute && layerName) {
    feature = wktToFeature(data[geometryAttribute], projectionCode);
    layer = Viewer.getLayer(data[layerName]);
    showFeatureInfo([feature], layer.get('title'), getAttributes(feature, layer));
  } else if (titleAttribute && contentAttribute && geometryAttribute) {
    feature = wktToFeature(data[geometryAttribute], projectionCode);

    // Make sure the response is wrapped in a html element
    content = utils.createElement('div', data[contentAttribute]);
    showFeatureInfo([feature], data[titleAttribute], content);
  } else if (geometryAttribute && title) {
    feature = wktToFeature(data[geometryAttribute], projectionCode);
    content = utils.createElement('div', data[name]);
    showFeatureInfo([feature], title, content);
  } else if (easting && northing && title) {
    coord = [data[easting], data[northing]];
    showOverlay(data, coord);
  } else {
    console.log('Search options are missing');
  }
}

module.exports.init = init;

},{"./featureinfo":119,"./geometry/getcenter":125,"./getattributes":127,"./getfeature":128,"./maputils":152,"./popup":170,"./utils":193,"./utils/generateuuid":195,"./viewer":209,"awesomplete":5,"jquery":27,"openlayers":30}],178:[function(require,module,exports){
/*requires Modal.js*/
"use strict";

var $ = require('jquery');
var viewer = require('./viewer');
var modal = require('./modal');
var mapmenu = require('./mapmenu');
var utils = require('./utils');
var permalink = require('./permalink/permalink');

var shareButton;

function init(){
    var el = utils.createListButton({
        id: 'o-share',
        iconCls: 'o-icon-fa-share-square-o',
        src: '#fa-share-square-o',
        text: 'Dela karta'
    });
    $('#o-menutools').append(el);
    shareButton = $('#o-share-button');
    bindUIActions();
}
function bindUIActions() {
    shareButton.on('click', function(e) {
        modal.createModal('#o-map', {title: 'Länk till karta', content: createContent()});
        modal.showModal();
        createLink(); //Add link to input
        mapmenu.toggleMenu();
        e.preventDefault();
    });
}
function createContent() {
    return '<div class="o-share-link"><input type="text"></div>' +
           '<i>Kopiera och klistra in länken för att dela kartan.</i>';
}
function createLink() {
    var url = permalink.getPermalink();
    $('.o-share-link input').val(url).select();
}

module.exports.init = init;

},{"./mapmenu":151,"./modal":154,"./permalink/permalink":167,"./utils":193,"./viewer":209,"jquery":27}],179:[function(require,module,exports){
"use strict";

var $ = require('jquery');
var viewer = require('./viewer');
var utils = require('./utils');

var sidebar;

function init() {
    var el = '<div id="o-sidebar">' +
                '<div class="o-sidebar o-card">' +
                  '<div class="o-close-button"><svg class="o-icon-fa-times"><use xlink:href="#fa-times"></use></svg></div>' +
                  '<div class="o-card-title"></div>' +
                  '<div class="o-card-content"></div>' +
                '</div>' +
              '</div>';
    $('#o-map').append(el);
    sidebar = $('#o-sidebar');

    bindUIActions();
}
function bindUIActions() {
    $('#o-sidebar .o-sidebar .o-close-button').on('click', function(evt) {
        closeSidebar();
        evt.preventDefault();
    });
}
function setVisibility(visible) {
    visible == true ? $('#o-sidebar').addClass('o-sidebar-show') : $('#o-sidebar').removeClass('o-sidebar-show');
}
function setTitle(title) {
    $('#o-sidebar .o-card-title').html(title);
}
function setContent(config) {
    config.title ? $('#o-sidebar .o-sidebar .o-card-title').html(config.title): $('#o-sidebar .o-sidebar .o-card-title').html('');
    config.content ? $('#o-sidebar .o-sidebar .o-card-content').html(config.content): $('#o-sidebar .o-sidebar .o-card-content').html('');
}
function closeSidebar() {
    setVisibility(false);
}

module.exports.init = init;
module.exports.setVisibility = setVisibility;
module.exports.setTitle = setTitle;
module.exports.setContent = setContent;
module.exports.closeSidebar = closeSidebar;

},{"./utils":193,"./viewer":209,"jquery":27}],180:[function(require,module,exports){
"use strict";

var $ = require('jquery');
var Modal = require('./modal');
var viewer = require('./viewer');

var defaultTitle = 'Om kartan';
var defaultContent = '<p></p>';
var cls = 'o-splash';
var title;
var content;

function init(opt_options) {
  var options = opt_options || {};
  var url;
  title = options.title || defaultTitle;
  if (options.url) {
    url = viewer.getBaseUrl() + options.url;
    getContent(url)
      .done(function(data) {
        content = data;
        openModal();
      });
  } else {
    content = options.content || defaultContent;
    openModal();
  }
}

function getContent(url) {
  return $.get(url);
}

function openModal() {
  Modal.createModal('#o-map', {
    title: title,
    content: content,
    cls: cls
  });
  Modal.showModal();
}

module.exports.init = init;

},{"./modal":154,"./viewer":209,"jquery":27}],181:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var Viewer = require('./viewer');
var validateUrl = require('./utils/validateurl');
var styleFunctions = require('./style/stylefunctions');
var replacer = require('../src/utils/replacer');

var baseUrl;

var white = [255, 255, 255, 1];
var blue = [0, 153, 255, 1];
var width = 3;

//default edit style options
var editStyleOptions = {
  'Point': [{
    "circle": {
      "radius": 1,
      "stroke": {
        "color": blue,
        "width": 0
      },
      "fill": {
        "color": blue
      }
    }
  }],
  'LineString': [{
      'stroke': {
        color: white,
        width: width + 2
      }
    },
    {
      'stroke': {
        color: blue,
        width: width
      }
    }
  ],
  'Polygon': [{
      'stroke': {
        color: white,
        width: width + 2
      }
    },
    {
      'stroke': {
        color: blue,
        width: width
      }
    }
  ]
};

module.exports = function() {

  return {
    init: Init,
    createStyleOptions: createStyleOptions,
    createStyleList: createStyleList,
    createStyleRule: createStyleRule,
    createStyle: createStyle,
    styleFunction: styleFunction,
    createEditStyle: createEditStyle
  }
};

function Init() {
  baseUrl = Viewer.getBaseUrl();
}

function createStyleOptions(styleParams) {
  var styleOptions = {};
  if (styleParams.hasOwnProperty('geometry')) {
    switch (styleParams.geometry) {
      case 'centerPoint':
        styleOptions.geometry = function(feature) {
          var coordinates = feature.getGeometry().getInteriorPoints().getFirstCoordinate();
          return new ol.geom.Point(coordinates);
        }
        break;
      case 'endPoint':
        styleOptions.geometry = function(feature) {
          var coordinates = feature.getGeometry().getLastCoordinate();
          return new ol.geom.Point(coordinates);
        }
        break;
    }
  }
  if (styleParams.hasOwnProperty('zIndex')) {
    styleOptions.zIndex = styleParams.zIndex;
  }
  if (styleParams.hasOwnProperty('fill')) {
    styleOptions.fill = new ol.style.Fill(styleParams.fill);
  }
  if (styleParams.hasOwnProperty('stroke')) {
    styleOptions.stroke = new ol.style.Stroke(styleParams.stroke);
  }
  if (styleParams.hasOwnProperty('text')) {
    styleOptions.text = new ol.style.Text(styleParams.text);
    if (styleParams.text.hasOwnProperty('fill')) {
      styleOptions.text.setFill(new ol.style.Fill(styleParams.text.fill));
    }
    if (styleParams.text.hasOwnProperty('stroke')) {
      styleOptions.text.setStroke(new ol.style.Stroke(styleParams.text.stroke));
    }
  }
  if (styleParams.hasOwnProperty('icon')) {
    if (styleParams.icon.hasOwnProperty('src')) {
      styleParams.icon.src = validateUrl(styleParams.icon.src, baseUrl);
    }
    styleOptions.image = new ol.style.Icon(styleParams.icon);
  }
  if (styleParams.hasOwnProperty('circle')) {
    styleOptions.image = new ol.style.Circle({
      radius: styleParams.circle.radius,
      fill: new ol.style.Fill(styleParams.circle.fill) || undefined,
      stroke: new ol.style.Stroke(styleParams.circle.stroke) || undefined
    });
  }
  return styleOptions;
}

function createStyleList(styleOptions) {
  var styleList = [];
  //Create style for each rule
  for (var i = 0; i < styleOptions.length; i++) {
    var styleRule = [];
    var styleOption;
    //Check if rule is array, ie multiple styles for the rule
    if (styleOptions[i].constructor === Array) {
      for (var j = 0; j < styleOptions[i].length; j++) {
        styleOption = createStyleOptions(styleOptions[i][j]);
        styleRule.push(new ol.style.Style(styleOption));
      }
    }
    //If single style for rule
    else {
      styleOption = createStyleOptions(styleOptions[i]);
      styleRule = [new ol.style.Style(styleOption)];
    }

    styleList.push(styleRule);
  }
  return styleList;
}

function createStyle(styleName, clusterStyleName) {
  var styleSettings = Viewer.getStyleSettings()[styleName];
  if ($.isEmptyObject(styleSettings)) {
    alert('Style ' + styleName + ' is not defined');
  }
  if (styleSettings[0][0].hasOwnProperty("custom")) {
    var style = styleFunctions(styleSettings[0][0].custom, styleSettings[0][0].params);
    return style;
  } else {
    var clusterStyleSettings = Viewer.getStyleSettings()[clusterStyleName];
    var style = (function() {
      //Create style for each rule
      var styleList = createStyleList(styleSettings);
      if (clusterStyleSettings) {
        var clusterStyleList = createStyleList(clusterStyleSettings);
        return styleFunction(styleSettings, styleList, clusterStyleSettings, clusterStyleList);
      } else {
        return styleFunction(styleSettings, styleList);
      }

    })()
    return style;
  }
}

function createStyleRule(options) {
  var styleRule = [],
    styleOption;
  if (options.constructor === Array) {
    for (var i = 0; i < options.length; i++) {
      var styleOption = createStyleOptions(options[i]);
      styleRule.push(new ol.style.Style(styleOption));
    }
  }
  //If single style for rule
  else {
    styleOption = createStyleOptions(options);
    styleRule = [new ol.style.Style(styleOption)];
  }
  return styleRule;
}

function styleFunction(styleSettings, styleList, clusterStyleSettings, clusterStyleList) {
  var s = styleSettings;
  var resolutions = Viewer.getResolutions();
  var fn = function(feature, resolution) {
    var scale = Viewer.getScale(resolution);
    var styleL;
    //If size is larger than, it is a cluster
    var size = clusterStyleList ? feature.get('features').length : 1;
    if (size > 1 && resolution != resolutions[resolutions.length + 1]) {
      styleL = checkOptions(feature, scale, clusterStyleSettings, clusterStyleList, size.toString());
      // clusterStyleList[0].setText(size);
    } else {
      styleL = checkOptions(feature, scale, styleSettings, styleList);
    }
    return styleL;
  }
  return fn;
}

function createEditStyle() {
  return {
    'Point': createStyleRule(editStyleOptions['Point']),
    'MultiPoint': createStyleRule(editStyleOptions['Point']),
    'LineString': createStyleRule(editStyleOptions['LineString']),
    'MultiLineString': createStyleRule(editStyleOptions['LineString']),
    'Polygon': createStyleRule(editStyleOptions['Polygon']),
    'MultiPolygon': createStyleRule(editStyleOptions['Polygon'])
  };
}

function checkOptions(feature, scale, styleSettings, styleList, size) {
  var s = styleSettings;
  for (var j = 0; j < s.length; j++) {
    var styleL;
    if (Viewer.checkScale(scale, s[j][0].maxScale, s[j][0].minScale)) {
      s[j].some(function(element, index, array) {
        if (element.hasOwnProperty('text') && size) {
          styleList[j][index].getText().setText(size);
        } else if (element.hasOwnProperty('text')) {
          styleList[j][index].getText().setText(replacer.replace(element.text.text, feature.getProperties()));
        }
      });
      if (s[j][0].hasOwnProperty('filter')) {
        //find attribute vale between [] defined in styles
        var featAttr, expr, featMatch;
        var matches = s[j][0].filter.match(/\[(.*?)\]/);
        if (matches) {
          if (feature.get('features')) {
            feature = feature.get('features')[0];
          }
          featAttr = matches[1];
          expr = s[j][0].filter.split(']')[1];
          featMatch = feature.get(featAttr);
          expr = typeof featMatch == 'number' ? featMatch + expr : '"' + featMatch + '"' + expr;
        }
        if (eval(expr)) {
          styleL = styleList[j];
          return styleL;
        }
      } else {
        styleL = styleList[j];
        return styleL;
      }
    }
  }
}

},{"../src/utils/replacer":203,"./style/stylefunctions":185,"./utils/validateurl":208,"./viewer":209,"jquery":27,"openlayers":30}],182:[function(require,module,exports){
var colors = {
  'black': [0,0,0],
  'red': [255,59,48],
  'yellow': [255,204,0],
  'green': [0,255,0],
  'cyan': [0,255,255],
  'blue': [0,122,255],
  'magenta': [255,0,255],
  'default': [255,255,255]
};

module.exports = function getColor(colorName, alpha) {
  var color;
  if (colorName in colors) {
    color = colors[colorName];
  } else {
    color = colors.default;
  }
  if (alpha) {
    return color.concat(alpha);
  }
  return color;
};

},{}],183:[function(require,module,exports){
"use strict";

var measure = {
  linestring: [
    {
      'geometry': 'endPoint',
      'circle': {
        fill: {
          color: [0, 153, 255, 1]
        },
        stroke: {
          color: [0, 153, 255, 1],
          width: 1
        },
        radius: 3
      },
      'text': {
        font: 'bold 13px "Helvetica Neue", Helvetica, Arial, sans-serif',
        textBaseline: 'bottom',
        textAlign: 'center',
        offsetY: -4,
        fill: {color: [0, 153, 255, 1]},
        stroke: {color: [255, 255, 255, 0.8], width: 4}
      }
    },
    {
      'stroke': {
        color: [0, 153, 255, 1],
        width: 2
      }
    }
  ],
  polygon: [
    {
      'fill': {
        color: [255, 255, 255, 0.4]
      },
      'stroke': {
        color: [0, 153, 255, 1],
        width: 2
      },
      'text': {
        font: 'bold 13px "Helvetica Neue", Helvetica, Arial, sans-serif',
        textBaseline: 'middle',
        textAlign: 'center',
        fill: {color: [0, 153, 255, 1]},
        stroke: {color: [255, 255, 255, 0.8], width: 4}
      }
    }
  ],
  interaction: [
    {
      'fill': {
        color: [255, 255, 255, 0.2]
      },
      'stroke': {
        'color': [0, 0, 0, 0.5],
        'lineDash': [10, 10],
        'width': 2
      },
      'circle': {
        'radius': 5,
        'stroke': {
          'color': [0, 0, 0, 0.7]
        },
        'fill': {
          color: [255, 255, 255, 0.2]
        }
      }
    }
  ]
};

module.exports = measure;

},{}],184:[function(require,module,exports){
"use strict";

var pin = [
    {
      'icon': {
          anchor: [0.5, 32],
          anchorXUnits: 'fraction',
          anchorYUnits: 'pixels',
          src: 'img/png/drop_blue.png'
      }
    }
];

module.exports = pin;

},{}],185:[function(require,module,exports){
"use strict";

var defaultStyle = require('./stylefunctions/default');

var customStyles = {
  default: defaultStyle
};

module.exports = function styleFunctions(customStyle, params) {
  if (customStyle in customStyles) {
    return customStyles[customStyle](params);
  } else {
    return customStyles.default(params);
  }
};

},{"./stylefunctions/default":186}],186:[function(require,module,exports){
var ol = require('openlayers');
var getColor = require('../getcolor');

module.exports = function defaultStyle(params) {
  var fill = new ol.style.Fill({
    color: ''
  });
  var stroke = new ol.style.Stroke({
    color: '',
    width: 0.1,
    lineCap: 'square',
    lineJoin: 'round'
  });
  var noStroke = new ol.style.Stroke({
    color: '',
    width: 0.0
  });
  var overlayedStroke = new ol.style.Stroke({
    color: '',
    width: 0.1,
    lineCap: 'square',
    lineJoin: 'round'
  });
  var dashedStroke = new ol.style.Stroke({
    color: '',
    width: 1,
    lineDash: [1, 2]
  });
  var polygon = new ol.style.Style({
    fill: fill,
    zIndex: 1
  });
  var strokedPolygon = new ol.style.Style({
    fill: fill,
    stroke: stroke,
    zIndex: 2
  });
  var dashedPolygon = new ol.style.Style({
    fill: fill,
    stroke: dashedStroke,
    zIndex: 2
  });
  var line = new ol.style.Style({
    stroke: stroke,
    zIndex: 10
  });
  var overlayedLine = new ol.style.Style({
    stroke: overlayedStroke,
    zIndex: 11
  });
  var dashedLine = new ol.style.Style({
    stroke: dashedStroke,
    zIndex: 12
  });
  var point = new ol.style.Style({
    image: new ol.style.Circle({
      radius: 5,
      fill: fill,
      stroke: stroke
    }),
    zIndex: 50
  });
  var styles = [];

  return function(feature, resolution) {
    polygon.setZIndex(1);
    line.setZIndex(10);
    var length = 0;
    var geom = feature.getGeometry().getType();
    switch (geom) {
      case 'Polygon':
        stroke.setColor(getColor('blue'));
        stroke.setWidth(1);
        fill.setColor(getColor('blue', 0.8));
        styles[length++] = strokedPolygon;
        break;
      case 'MultiPolygon':
        stroke.setColor(getColor('blue'));
        stroke.setWidth(1);
        fill.setColor(getColor('blue', 0.8));
        styles[length++] = strokedPolygon;
        break;
      case 'LineString':
        stroke.setColor(getColor('red'));
        stroke.setWidth(1);
        styles[length++] = line;
        break;
      case 'MultiLineString':
        stroke.setColor(getColor('red'));
        stroke.setWidth(1);
        styles[length++] = line;
        break;
      case 'Point':
        stroke.setColor(getColor('yellow'));
        stroke.setWidth(1);
        fill.setColor(getColor('yellow', 0.8));
        styles[length++] = point;
        break;
      case 'MultiPoint':
        stroke.setColor(getColor('yellow'));
        stroke.setWidth(1);
        fill.setColor(getColor('yellow', 0.8));
        styles[length++] = point;
        break;
      default:
        stroke.setColor(getColor('blue'));
        stroke.setWidth(1);
        fill.setColor(getColor('blue', 0.8));
        styles[length++] = strokedPolygon;
        break;
    }
    styles.length = length;
    return styles;
  };
};

},{"../getcolor":182,"openlayers":30}],187:[function(require,module,exports){
"use strict";

var pin = require('./pin');
var measure = require('./measure');

module.exports = function() {

  var styleTypes = {};

  styleTypes.pin = pin;
  styleTypes.measure = measure;

  return {
    getStyle: function getStyle(type) {
      if(type) {
        return styleTypes[type];
      } else {
        console.log(type + ' is not a default style');
      }
    }
  }
}();

},{"./measure":183,"./pin":184}],188:[function(require,module,exports){
// hbsfy compiled Handlebars template
var HandlebarsCompiler = require('hbsfy/runtime');
module.exports = HandlebarsCompiler.template({"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
    return "<div id=\"o-editor-toolbar\" class=\"o-editor-toolbar o-toolbar o-toolbar-horizontal o-padding-horizontal-8 o-rounded-top o-hidden\">\r\n    <div id=\"o-editor-toolbar-drawtools\" class=\"o-toolbar-horizontal\">\r\n      <div class=\"o-popover-container\">\r\n        <button id=\"o-editor-draw\" class=\"o-button-lg\" type=\"button\" name=\"button\">\r\n          <svg class=\"o-icon-24\">\r\n              <use xlink:href=\"#ic_mode_edit_24px\"></use>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <button id=\"o-editor-attribute\" class=\"o-button-lg\" type=\"button\" name=\"button\">\r\n      <svg class=\"o-icon-24\">\r\n          <use xlink:href=\"#ic_title_24px\"></use>\r\n      </svg>\r\n    </button>\r\n    <button id=\"o-editor-delete\" class=\"o-button-lg\" type=\"button\" name=\"button\">\r\n      <svg class=\"o-icon-24\">\r\n          <use xlink:href=\"#ic_delete_24px\"></use>\r\n      </svg>\r\n    </button>\r\n    <div class=\"o-popover-container\">\r\n      <button id=\"o-editor-layers\" class=\"o-button-lg\" type=\"button\" name=\"button\">\r\n        <svg class=\"o-icon-24\">\r\n            <use xlink:href=\"#ic_layers_24px\"></use>\r\n        </svg>\r\n      </button>\r\n    </div>\r\n    <button id=\"o-editor-save\" class=\"o-button-lg o-disabled\" type=\"button\" name=\"button\">\r\n      <svg class=\"o-icon-24\">\r\n          <use xlink:href=\"#ic_save_24px\"></use>\r\n      </svg>\r\n    </button>\r\n    <button id=\"o-editor-close\" class=\"o-button-lg\" type=\"button\" name=\"button\">\r\n        <svg class=\"o-icon-24\">\r\n            <use xlink:href=\"#ic_close_24px\"></use>\r\n        </svg>\r\n    </button>\r\n</div>\r\n";
},"useData":true});

},{"hbsfy/runtime":26}],189:[function(require,module,exports){
// hbsfy compiled Handlebars template
var HandlebarsCompiler = require('hbsfy/runtime');
module.exports = HandlebarsCompiler.template({"1":function(container,depth0,helpers,partials,data) {
    var helper, alias1=container.escapeExpression;

  return "      <li><b>"
    + alias1(((helper = (helper = helpers.key || (data && data.key)) != null ? helper : helpers.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : {},{"name":"key","hash":{},"data":data}) : helper)))
    + "</b> : "
    + alias1(container.lambda(depth0, depth0))
    + "</li>\r\n";
},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1;

  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : {},depth0,{"name":"each","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "");
},"useData":true});

},{"hbsfy/runtime":26}],190:[function(require,module,exports){
"use strict";

var defaultTemplate = require("./default.handlebars");

module.exports = function(attributes) {
  return defaultTemplate(attributes);
}

},{"./default.handlebars":189}],191:[function(require,module,exports){
// hbsfy compiled Handlebars template
var HandlebarsCompiler = require('hbsfy/runtime');
module.exports = HandlebarsCompiler.template({"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
    var alias1=container.lambda, alias2=container.escapeExpression;

  return "<html>\r\n  <head>\r\n    <link href=\"css/print.css\" rel=\"stylesheet\">\r\n  </head>\r\n  <body>\r\n    <div class=\"o-print-logo\"><img src=\""
    + alias2(alias1((depth0 != null ? depth0.logoSrc : depth0), depth0))
    + "\"></div>\r\n    <div class=\"o-map-canvas\"><img src=\""
    + alias2(alias1((depth0 != null ? depth0.src : depth0), depth0))
    + "\"/></div>\r\n    <div class=\"o-print-attribution\">"
    + alias2(alias1((depth0 != null ? depth0.attribution : depth0), depth0))
    + "</div>\r\n  </body>\r\n</html>\r\n";
},"useData":true});

},{"hbsfy/runtime":26}],192:[function(require,module,exports){
// hbsfy compiled Handlebars template
var HandlebarsCompiler = require('hbsfy/runtime');
module.exports = HandlebarsCompiler.template({"1":function(container,depth0,helpers,partials,data) {
    return "        <img src=\""
    + container.escapeExpression(container.lambda((depth0 != null ? depth0.img : depth0), depth0))
    + "\">\r\n";
},"3":function(container,depth0,helpers,partials,data) {
    var alias1=container.lambda, alias2=container.escapeExpression;

  return "        <a href=\""
    + alias2(alias1((depth0 != null ? depth0.url : depth0), depth0))
    + "\">"
    + alias2(alias1((depth0 != null ? depth0.urlText : depth0), depth0))
    + "</a>\r\n";
},"5":function(container,depth0,helpers,partials,data) {
    return "        <p>"
    + container.escapeExpression(container.lambda((depth0 != null ? depth0.text : depth0), depth0))
    + "</p>\r\n";
},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
    var stack1, alias1=depth0 != null ? depth0 : {};

  return "<div id=\"o-map\" class=\""
    + container.escapeExpression(container.lambda((depth0 != null ? depth0.mapClass : depth0), depth0))
    + "\">\r\n  <div id=\"o-tools-left\" class=\"o-container-absolute o-tools-left\">\r\n    <div id=\"o-toolbar-navigation\" class=\"o-toolbar-vertical o-toolbar-navigation\"></div>\r\n    <div id=\"o-toolbar-maptools\" class=\"o-toolbar-vertical o-toolbar-maptools\"></div>\r\n    <div id=\"o-toolbar-misc\" class=\"o-toolbar-vertical o-toolbar-misc\"></div>\r\n  </div>\r\n  <div id=\"o-tools-bottom\" class=\"o-tools-bottom\">\r\n    <div id=\"o-progress\"></div>\r\n  </div>\r\n  <div id=\"o-footer\" class=\"o-footer\">\r\n    <div id=\"o-console\" class=\"o-footer-left\">&nbsp;</div>\r\n    <div class=\"o-footer-middle\">\r\n      <div class=\"o-footer-middle-content\">\r\n"
    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.img : depth0),{"name":"if","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.url : depth0),{"name":"if","hash":{},"fn":container.program(3, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.text : depth0),{"name":"if","hash":{},"fn":container.program(5, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
    + "      </div>\r\n    </div>\r\n    <div class=\"o-footer-right\">\r\n    </div>\r\n</div>\r\n";
},"useData":true});

},{"hbsfy/runtime":26}],193:[function(require,module,exports){
"use strict";

var $ = require('jquery');

module.exports = {
    createButton: function(options) {
        var tooltip ='';
        var text ='';
        var cls = options.cls || '';
        var iconCls = options.iconCls || '';
        var placement = options.tooltipPlacement || 'east';
        if(options.text) {
            text = '<span class="o-button-text">' + options.text + '</span>';
        }
        if(options.tooltipText) {
            tooltip = '<span data-tooltip="' + options.tooltipText + '" data-placement="' + placement + '"></span>';
        }
        var el = '<div id="' + options.id + '" class="o-button-container o-tooltip">' +
                 '<button class="o-button ' + cls + '">' + text +
                    '<svg class="' + iconCls + '">' +
                        '<use xlink:href="' + options.src + '"></use>' +
                    '</svg>' +
                 '</button>' +
                 tooltip +
                 '</div>';
        return el;
    },
    createListButton: function(options) {
        var el = '<li>' +
                    '<div id="' + options.id + '-button" class="o-menu-button"' + '>' +
                        '<div class="o-button-icon">' +
                          '<svg class="' + options.iconCls + '">' +
                              '<use xlink:href="' + options.src + '"></use>' +
                          '</svg>' +
                        '</div>' +
                            options.text +
                        // '</div>' +
                    '</div>' +
                  '</li>';
        return el;
    },
    createElement: function(el, val, attributes) {
        var prefix = '<' + el;
        var suffix = '</' + el  + '>';
        var attributeNames = attributes ? Object.getOwnPropertyNames(attributes) : [];
        var attributeList = attributeNames.map(function(name) {
            var res = '';
            if (name === "cls") {
                res = ' ' + 'class'.concat('=', '"', attributes[name], '"');
            } else {
                res = ' ' + name.concat('=', '"', attributes[name],'"');
            }
            return res;
        });
        var element = prefix.concat(attributeList.join(' '), '>', val, suffix);
        return element;
    },
    createSvg: function(props) {
        var use = this.createElement('use', '', {
            'xlink:href': props.href
        });
        return this.createElement('svg', use, {
            cls: props.cls
        });
    }
}

},{"jquery":27}],194:[function(require,module,exports){
"use strict";

var $ = require('jquery');

module.exports = function elQuery(targetObj, options) {
  var target = '.o-map';
  var prefix = options.breakPointsPrefix;
  var breakPoints = options.breakPoints;
  var breakNames = Object.getOwnPropertyNames(breakPoints);
  var breakCls = arrToObj(breakNames, prefix);
  var breakClsNames = breakNames.map(function(breakSize) {
    return breakCls[breakSize];
  });

  $(window).on('resize', onSizeChange);
  onSizeChange();

  function onSizeChange() {
    var mapSize = targetObj.getSize();
    var val = breakNames.reduce(function(prev, curr) {
      var height = breakPoints[curr][1];
      var width = breakPoints[curr][0];
      if (mapSize[0] <= width || mapSize[1] <= height) {
        if (!prev) {
          return curr;
        } else {
          return prev;
        }
      } else {
        return prev;
      }
    }, undefined);
    $(target).removeClass(breakClsNames.join(' '));
    if (val) {
      $(target).addClass(breakCls[val]);
    }
  }

  function arrToObj(arr, start) {
    var obj = {};
    var val = start;
    arr.slice().reverse().forEach(function(curr) {
      val += '-' + curr;
      obj[curr] = val;
    });
    return obj;
  }
}

},{"jquery":27}],195:[function(require,module,exports){
"use strict";


/**
Function to generate a unique id.
From Briguy37 http://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript
*/
var generateUUID = function generateUUID() {
  var d = new Date().getTime();
  if (window.performance && typeof window.performance.now === "function") {
    d += performance.now(); //use high-precision timer if available
  }
  var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
    var r = (d + Math.random() * 16) % 16 | 0;
    d = Math.floor(d / 16);
    return (c == 'x' ? r : (r & 0x3 | 0x8)).toString(16);
  });
  return uuid;
}

module.exports = generateUUID;

},{}],196:[function(require,module,exports){
"use strict";

module.exports = function getimageorientation(file, callback) {
  var reader = new FileReader();
  reader.onload = function(e) {
    var view = new DataView(e.target.result);
    var length;
    var offset;
    var marker;
    var little;
    var tags;

    if (view.getUint16(0, false) != 0xFFD8) {
      return callback(-2);
    }

    length = view.byteLength;
    offset = 2;
    while (offset < length) {
      marker = view.getUint16(offset, false);
      offset += 2;
      if (marker == 0xFFE1) {
        if (view.getUint32(offset += 2, false) != 0x45786966) {
          return callback(-1);
        }

        little = view.getUint16(offset += 6, false) == 0x4949;
        offset += view.getUint32(offset + 4, little);
        tags = view.getUint16(offset, little);
        offset += 2;
        for (var i = 0; i < tags; i++) {
          if (view.getUint16(offset + (i * 12), little) == 0x0112) {
            return callback(view.getUint16(offset + (i * 12) + 8, little));
          }
        }

      } else if ((marker & 0xFF00) != 0xFF00) {
        break;
      } else {
        offset += view.getUint16(offset, false);
      }
    }

    return callback(-1);
  };
  reader.readAsArrayBuffer(file);
}

},{}],197:[function(require,module,exports){
"use strict";

module.exports = function getUrl() {
    return location.protocol +'//'+
            location.hostname +
            (location.port?":"+location.port:"") +
            location.pathname;
}

},{}],198:[function(require,module,exports){
"use strict";

module.exports = function imageresizer(imageData, opt_options, orientation, callback) {
  var fileType = imageData.split(';')[0].split('/')[1];
  var options = opt_options;
  var image = new Image();

  image.onload = function(imageEvent) {
    var canvas = document.createElement('canvas');
    var context = canvas.getContext('2d');
    var max_size = options.maxSize || 600;
    var width = image.width;
    var height = image.height;
    var translateWidth;
    var translateHeight;
    var rotation;
    var dataUrl;

    if (width > height) {
      if (width > max_size) {
        height *= max_size / width;
        width = max_size;
      }
    } else {
      if (height > max_size) {
        width *= max_size / height;
        height = max_size;
      }
    }

    canvas.width = width;
    canvas.height = height;

    if (orientation%2 === 0) {
      canvas.width = height;
      canvas.height = width;
    }

    switch (orientation) {
      case 1:
        translateWidth = 0;
        translateHeight = 0;
        rotation = 0;
        break;
      case 3:
        translateWidth = canvas.width;
        translateHeight = canvas.height;
        rotation = 180;
        break;
      case 6:
        translateWidth = canvas.width;
        translateHeight = 0;
        rotation = 90;
        break;
      case 8:
        translateWidth = 0;
        translateHeight = canvas.height;
        rotation = 270;
        break;
      default:
        translateWidth = 0;
        translateHeight = 0;
        rotation = 0;
        break;
    }

    context.translate(translateWidth,translateHeight);
    context.rotate(rotation*Math.PI/180);
    context.drawImage(image, 0, 0, width, height);
    dataUrl = canvas.toDataURL('image/' + fileType);
    callback(dataUrl);
  }

  image.src = imageData;
}

},{}],199:[function(require,module,exports){
"use strict";

var $ = require('jquery');

module.exports = function isEmbedded(target) {
  if (window.top !== window.self || $(target).parent().is('BODY') === false) {
    return true;
  } else {
    return false;
  }
}

},{"jquery":27}],200:[function(require,module,exports){
"use strict";

module.exports = function isUrl(s) {
   var regexp = new RegExp('^(?:[a-z]+:)?//', 'i');
   return regexp.test(s);
}

},{}],201:[function(require,module,exports){
"use strict";

module.exports = function numberFormatter(numberToFormat) {
  var nr = numberToFormat;
  var length = nr.toString().length;
  if (length > 3) {
    var delimiter = ' '; //white space as delimiter

    //Round by factor
    if (nr >= 1000) {
      var factor = Math.pow(10, length) / 10000;
      nr = Math.round(nr / factor) * factor;
    }

    var nrStr = nr.toString();
    var a = [];
    while (nrStr.length > 3) {
      var n = nrStr.substr(nrStr.length - 3);
      a.unshift(n);
      nrStr = nrStr.substr(0, nrStr.length - 3);
    }
    if (nrStr.length > 0) {
      a.unshift(nrStr);
    }
    nrStr = a.join(delimiter);
    return nrStr;
  } else {
    return nr.toString();
  }
}

},{}],202:[function(require,module,exports){
"use strict";
var $ = require('jquery');
var utils = require('../utils');

module.exports = function renderError(type, el) {
  if (type === 'browser') {
    renderBrowserError(el);
  }

  function renderBrowserError(el) {
    var message = 'Det ser ut som att du använder en föråldrad webbläsare. Prova att uppgradera din webbläsare för att visa kartan.'
    var elMessage = utils.createElement('div', message, {
      cls: 'o-no-map-message'
    });
    var container = utils.createElement('div', elMessage, {
      cls: 'o-no-map'
    });
    $(function() {
      $(el).append(container);
    });
  }
}

},{"../utils":193,"jquery":27}],203:[function(require,module,exports){
"use strict";

var Replacer = function() {

  var start = undefined;
  var end = undefined;
  var helper = undefined;
  var helperNS = undefined;
  var helperArg = undefined;

  function replace(name, obj, options) {
      start = options.start || '{{';
      end = options.end || '}}';
      helper = options.helper || {};
      helperNS = options.helperNS || '@';
      helperArg = [options.helperArg] || [];

      var result = searchAndReplace(name, obj);
      return result;
  }

  function searchAndReplace(name, obj) {
      var regex = new RegExp(start + '(.*?)' +  end, "g");
      var matches = regex.exec(name);
      if(matches) {
          var val = obj.hasOwnProperty(matches[1]) ? obj[matches[1]] : '';
          if (!val) {
            var nsIndex = matches[0].indexOf(helperNS);
            if (nsIndex) {
              var helperParts = getArgs(matches[1]);
              var helperName = helperParts[1].substring(nsIndex - 1);
              var args = helperArg.concat(helperParts[0]);
              val = helper.hasOwnProperty(helperName) ? helper[helperName].apply(null, args).toString() : '';
            }
          }
          return searchAndReplace(name.replace(matches[0], val), obj);
      }
      else {
          return name;
      }
  }

  function getArgs(str) {
    var args = str.match(/\((.*?)\)/);
    if (args) {
      return [args[1].split(','), str.substring(0, args.index)];
    } else {
      return ['',str];
    }
  }

	return {
  		replace: function(name, obj, options) {
          var opt = options || {};
          return (replace(name, obj, opt));
  		}
	};

}

module.exports = Replacer();

},{}],204:[function(require,module,exports){
"use strict";

var round = function round(value, decimals) {
  return Number(Math.round(value + 'e' + decimals) + 'e-' + decimals);
}

module.exports = round;

},{}],205:[function(require,module,exports){
"use strict";
var renderError = require('./rendererror');

module.exports = function supports(type, el) {
  var canvas = document.createElement('canvas').getContext;
  var requestAnimationFrame = window.requestAnimationFrame;
  if (!!canvas && !!requestAnimationFrame) {
    return true;
  } else {
    renderError('browser', el);
    return false;
  }
}

},{"./rendererror":202}],206:[function(require,module,exports){
"use strict";

module.exports = function trimUrl(url) {
  var trimmed;
  if (url.substring(url.lastIndexOf('/')).indexOf('.htm') !== -1) {
    trimmed = url.substring(0, url.lastIndexOf('/') + 1);
  } else if (url.substr(url.length - 1) !== '/') {
    trimmed = url + '/';
  } else {
    trimmed = url;
  }
  return trimmed;
}

},{}],207:[function(require,module,exports){
"use strict";

var urlparser = {};

urlparser.objectify = function(objString, opt_options) {
    var options = opt_options || {};
    var delimeter = options.delimeter || '/';
    var topmost = options.topmost || 'name';
    var parts = objString.split(delimeter);
    var obj = {};
    if(options.topmost) {
        if(parts[0]  === '') {
            console.log('Topmost value is missing');
        }
        else {
            obj[topmost] = parts[0];
        }
    }
    if(parts.length > 1) {
        for (var i = 1, ii = parts.length; i < ii; i += 2) {
            obj[parts[i]] = parts[i + 1];
        }
    }
    return obj;
}
urlparser.stringify = function(obj, opt_options) {
    var options = opt_options || {};
    var delimeter = options.delimeter || '/';
    var topmost = options.topmost || undefined;
    var objString = topmost ? obj[topmost] : '';
    for (var key in obj) {
        if(key !== topmost)
        objString += delimeter + key + delimeter + obj[key];
    }
    return objString;
}
urlparser.arrStringify = function(arr, opt_options) {
   var options = opt_options || {};
   var delimeter = options.delimeter || '/';
   var topmost = options.topmost || '';
   var arrString = topmost ? topmost + delimeter : '';
   if(typeof arr[0][0] === 'undefined') {
      arrString += arr.join(',');
   }
   else {
      var outer = arr.map(function(inner) {
          var res = inner.map(function(innerpart) {
              return innerpart.join('!');
          })
          return res.join(',');
      });
      arrString += outer.join(options.delimeter);
   }
   return arrString;
}
urlparser.strArrayify = function(str, opt_options) {
   var options = opt_options || {};
   var delimeter = options.delimeter || '/';
   var topmostName = opt_options.topmostName || 'topmost';
   var arrName = opt_options.arrName || 'arr';
   var topmost = str.substring(0, str.indexOf(delimeter));
   var arrStr = str.substring(str.indexOf(delimeter) + 1);
   var arr = arrStr.split(delimeter).map(function(el) {
        return el.split('!');
   });
   var obj = {};
   obj[topmostName] = topmost;
   obj[arrName] = arr;
   return obj;
}
urlparser.strIntify = function(str, opt_options) {
    var options = opt_options || {};
    var delimiter = options.delimiter || ',';
    var arr = str.split(delimiter);
    var strToInt = arr.map(function(el) {
        return parseInt(el);
    });
    return strToInt;
}
urlparser.strBoolean = function(str) {
    if(str === "1") {
        return true;
    }
    else if(str === "0") {
        return false;
    }
    else {
        console.log("String is not 1 or 0");
        return false;
    }
}
urlparser.formatUrl = function(obj) {
    var url = Object.getOwnPropertyNames(obj).reduce(function(prev, current) {
        current = prev ? "&" + current + "=" + obj[current] : current + "=" + obj[current];
        return prev + current;
    }, "");
    return url;
}

module.exports = urlparser;

},{}],208:[function(require,module,exports){
"use strict";
var isUrl = require('./isurl');

//Checks if str is a valid url. If not append str to baseUrl
module.exports = function validateUrl(str, baseUrl) {
   var url = isUrl(str) ? str : baseUrl + str;
   return url;
}

},{"./isurl":200}],209:[function(require,module,exports){
"use strict";

var ol           = require('openlayers');
var $            = require('jquery');
var template     = require("./templates/viewer.handlebars");
var Modal        = require('./modal');
var utils        = require('./utils');
var isUrl        = require('./utils/isurl');
var elQuery      = require('./utils/elquery');
var featureinfo  = require('./featureinfo');
var maputils     = require('./maputils');
var style        = require('./style')();
var layerCreator = require('./layercreator');

var map;
var template;
var settings = {
  projection: '',
  projectionCode: '',
  projectionExtent: '',
  extent: [],
  center: [0, 0],
  zoom: 0,
  resolutions: null,
  source: {},
  group: [],
  layers: [],
  styles: {},
  controls: [],
  featureInfoOverlay: undefined,
  editLayer: null
};
var urlParams;
var pageSettings;
var pageTemplate = {};

function init(el, mapOptions) {
  render(el, mapOptions);

  // Read and set projection
  if (mapOptions.hasOwnProperty('proj4Defs') && window.proj4) {
    var proj = mapOptions['proj4Defs'];

    //Register proj4 projection definitions
    for (var i = 0; i < proj.length; i++) {
      proj4.defs(proj[i].code, proj[i].projection);
      if (proj[i].hasOwnProperty('alias')) {
        proj4.defs(proj[i].alias, proj4.defs(proj[i].code));
      }
    }
  }

  settings.params = urlParams = mapOptions.params || {};
  settings.map = mapOptions.map;
  settings.url = mapOptions.url;
  settings.target = mapOptions.target;
  settings.baseUrl = mapOptions.baseUrl;
  settings.breakPoints = mapOptions.breakPoints;
  settings.extent = mapOptions.extent || undefined;
  settings.center = urlParams.center || mapOptions.center;
  settings.zoom = urlParams.zoom || mapOptions.zoom;
  mapOptions.tileGrid = mapOptions.tileGrid || {};

  //settings.tileSize = mapOptions.tileGrid.tileSize ? [mapOptions.tileGrid.tileSize,mapOptions.tileGrid.tileSize] : [256,256];

  settings.alignBottomLeft = mapOptions.tileGrid.alignBottomLeft;

  if (mapOptions.hasOwnProperty('proj4Defs') || mapOptions.projectionCode=="EPSG:3857" || mapOptions.projectionCode=="EPSG:4326") {
    // Projection to be used in map
    settings.projectionCode = mapOptions.projectionCode || undefined;
    settings.projectionExtent = mapOptions.projectionExtent;
    settings.projection = new ol.proj.Projection({
      code: settings.projectionCode,
      extent: settings.projectionExtent,
      units: getUnits(settings.projectionCode)
    });
    //settings.resolutions = mapOptions.resolutions || undefined;
    settings.resolutions = getLevels(mapOptions.resolutions.level) || undefined;

    settings.tileGrid = maputils.tileGrid(settings);
  }

  settings.source = mapOptions.source;
  settings.groups = mapOptions.groups;
  settings.editLayer = mapOptions.editLayer;
  settings.styles = mapOptions.styles;
  settings.clusterOptions = mapOptions.clusterOptions || {};
  style.init();
  settings.controls = mapOptions.controls;
  settings.consoleId = mapOptions.consoleId || 'o-console';
  settings.featureinfoOptions = mapOptions.featureinfoOptions || {};
  settings.enableRotation = mapOptions.enableRotation === false ? false : true;

  //If url arguments, parse this settings
  if (window.location.search) {
    parseArg();
  }

  loadMap();

  settings.layers = createLayers(mapOptions.layers, urlParams.layers);
  addLayers(settings.layers);

  elQuery(map, {
    breakPoints: mapOptions.breakPoints,
    breakPointsPrefix: mapOptions.breakPointsPrefix,
  });

  if (urlParams.pin) {
    settings.featureinfoOptions.savedPin = urlParams.pin;
  }

  //This needs further development for proper handling in permalink
  else if (urlParams.selection) {
    settings.featureinfoOptions.savedSelection = new ol.Feature({
      geometry: new ol.geom[urlParams.selection.geometryType](urlParams.selection.coordinates)
    });
  }
  featureinfo.init(settings.featureinfoOptions);
  /**
   * Handles a postrender event by updating the global variable stable
   * that contains the ids of the map layers.
   * @return {[Array]} Each element in list is a stored static value of layer id.
   */
  map.once('postrender', function(){
    var stable = [];
    var layers = map.getLayers();
    layers.forEach(function(l) {
      if(l.get('type') === 'DYN_AGS_TILE'){
        if
          (
          l.get('name') !== 'cloaked0' &&
          l.get('name') !== 'cloaked1' &&
          l.get('name') !== 'cloaked2' &&
          l.get('name') !== 'cloaked3' &&
          l.get('name') !== 'cloaked4'
          ){
          stable.push(l.get('id'));
        }
      }
    });
    require('./ids').stable = stable;
  });
}
/**
 * This moethod returns a list of resolutions, based on the configurations.
 * @param {[Integer]} level 0 - 19
 * @return {[Array]} A list of resolutions.
 */
function getLevels(level){
  var tmp = [];
  var res = [
    1146.8799999999999,
    573.4399999999999,
    286.71999999999997,
    143.35999999999999,
    71.67999999999999,
    35.839999999999996,
    17.919999999999998,
    8.959999999999999,
    4.4799999999999995,
    2.2399999999999998,
    1.1199999999999999,
    0.5599999999999999,
    0.28,
    0.14,
    0.056,
    0.028,
    0.014,
    0.007,
    0.0035,
    0.00175,
    0.000875
  ];
  for(var index in res){
    if(index <= level){
      tmp.push(res[index]);
    }
  };
  return tmp;
}
/**
 * This method reterns a generic calculation based on a exponential fit
 * of presetted resolutions.
 * @param {[Integer]} interval 0 . 20
 * @return {[Number]} Generic resolution value.
 */
function aim(interval){
  return 2293.76*Math.exp((-0.693147)*interval);
};

function addLayers(layers) {
  layers.forEach(function(layer) {
    map.addLayer(layer);
  });
}

function createLayers(layerlist, savedLayers) {
  var layers = [];
  for (var i = layerlist.length - 1; i >= 0; i--) {
    var savedLayer = {};
    if (savedLayers) {
      savedLayer = savedLayers[layerlist[i].name.split(':').pop()] || {
        visible: false,
        legend: false
      };
      savedLayer.name = layerlist[i].name;
    }
    var layer = $.extend(layerlist[i], savedLayer);
    layers.push(layerCreator(layer));
  }
  return layers;
}

function loadMap() {
  map = new ol.Map({
    target: 'o-map',
    controls: [],
    view: new ol.View({
      extent: settings.extent || undefined,
      projection: settings.projection || undefined,
      center: settings.center,
      resolutions: settings.resolutions || undefined,
      zoom: settings.zoom,
      enableRotation: settings.enableRotation
    })
  });

}

function parseArg() {
  var str = window.location.search.substring(1);
  var elements = str.split("&");

  for (var i = 0; i < elements.length; i++) {
    //center coordinates
    if (i == 0) {
      var z = elements[i].split(",");
      settings.center[0] = parseInt(z[0]);
      settings.center[1] = parseInt(z[1]);
    } else if (i == 1) {
      settings.zoom = parseInt(elements[i]);
    } else if (i == 2) {
      var l = elements[i].split(";");
      var layers = settings.layers;
      var la, match;
      for (var j = 0; j < layers.length; j++) {
        match = 0;
        $.each(l, function(index, el) {
          la = el.split(",");
          if (layers[j].get('group')) {
            if ((layers[j].get('group') == 'background') && (la[0] == layers[j].get('name'))) {
              layers[j].setVisible(true);
              match = 1;
            } else if ((layers[j].get('group') == 'background') && (match == 0)) {
              layers[j].setVisible(false);
            } else if (la[0] == layers[j].get('name')) {
              if (la[1] == 1) {
                layers[j].set('legend', true);
                layers[j].setVisible(false);
              } else {
                layers[j].set('legend', true);
                layers[j].setVisible(true);
              }
            }
          }
        })
      }
    }
  }

}

function getSettings() {
  return settings;
}

function getExtent() {
  return settings.extent;
}

function getBaseUrl() {
  return settings.baseUrl;
}

function getBreakPoints(size) {
  return size && settings.breakPoints.hasOwnProperty(size) ? settings.breakPoints[size] : settings.breakPoints;
}

function getMapName() {
  return settings.map;
}

function getTileGrid() {
  return settings.tileGrid;
}

function getTileSize() {
  return settings.tileSize;
}

function getUrl() {
  return settings.url;
}

function getStyleSettings() {
  return settings.styles;
}

function getResolutions() {
  return settings.resolutions;
}

function getMapUrl() {
  var layerNames = '';
  var url;

  //delete search arguments if present
  if (window.location.search) {
    url = window.location.href.replace(window.location.search, '?');
  } else {
    url = window.location.href + '?';
  }
  var mapView = map.getView();
  var center = mapView.getCenter();
  for (var i = 0; i < 2; i++) {
    center[i] = parseInt(center[i]); //coordinates in integers
  }
  var zoom = mapView.getZoom();
  var layers = map.getLayers();

  //add layer if visible
  layers.forEach(function(el) {
    if (el.getVisible() == true) {
      layerNames += el.get('name') + ';';
    } else if (el.get('legend') == true) {
      layerNames += el.get('name') + ',1;';
    }
  })
  return url + center + '&' + zoom + '&' + layerNames.slice(0, layerNames.lastIndexOf(";"));
}

function getMap() {
  return map;
}

function getLayers() {
  return settings.layers;
}

function getLayersByProperty(key, val, byName) {
  var layers = map.getLayers().getArray().filter(function(layer) {
    if (layer.get(key)) {
      if (layer.get(key) === val) {
        return layer;
      }
    }
  });

  if (byName) {
    return layers.map(function(layer) {
      return layer.get('name');
    });
  } else {
    return layers;
  }
}

function getLayer(layername) {
  var layer = $.grep(settings.layers, function(obj) {
    return (obj.get('name') == layername);
  });
  return layer[0];
}

function getQueryableLayers() {
  var queryableLayers = settings.layers.filter(function(layer) {
    if (layer.get('queryable') && layer.getVisible()) {
      return layer;
    }
  });
  return queryableLayers;
}

function getGroup(group) {
  var group = $.grep(settings.layers, function(obj) {
    return (obj.get('group') == group);
  });
  return group;
}

function getGroups(opt) {
  if(opt == 'top') {
    return settings.groups;
  } else if (opt == 'sub') {
    return getSubgroups();
  } else {
    return settings.groups.concat(getSubgroups());
  }
}

function getSubgroups() {
  var subgroups = [];

  function findSubgroups(groups, n) {
    if (n >= groups.length) {
      return;
    }

    if (groups[n].groups) {
      groups[n].groups.forEach(function(subgroup) {
        subgroups.push(subgroup);
      });

      findSubgroups(groups[n].groups, 0);
    }

    findSubgroups(groups, n+1);
  }

  findSubgroups(settings.groups, 0);
  return subgroups;
}

function getProjectionCode() {
  return settings.projectionCode;
}

function getProjection() {
  return settings.projection;
}

function getMapSource() {
  return settings.source;
}

function getControlNames() {
  var controlNames = settings.controls.map(function(obj) {
    return obj.name;
  });
  return controlNames;
}

function getTarget() {
  return settings.target;
}

function getClusterOptions(){
  return settings.clusterOptions;
}

function checkScale(scale, maxScale, minScale) {
  if (maxScale || minScale) {

    // Alter 1: maxscale and minscale
    if (maxScale && minScale) {
      if ((scale > maxScale) && (scale < minScale)) {
        return true;
      }
    }

    // Alter 2: only maxscale
    else if (maxScale) {
      if (scale > maxScale) {
        return true;
      }
    }

    // Alter 3: only minscale
    else if (minScale) {
      if (scale < minScale) {
        return true;
      }
    }
  }

  // Alter 4: no scale limit
  else {
    return true;
  }
}

function getConsoleId() {
  return settings.consoleId;
}

function getScale(resolution) {
  var dpi = 25.4 / 0.28;
  var mpu = settings.projection.getMetersPerUnit();
  var scale = resolution * mpu * 39.37 * dpi;
  scale = Math.round(scale);
  return scale;
}

function getUnits(proj) {
  var units;
  switch(proj) {
    case 'EPSG:3857':
      units = 'm';
      break;
    case 'EPSG:4326':
      units = 'degrees';
      break;
    default:
      units = proj4.defs(proj) ? proj4.defs(proj).units : undefined;
  }
  return units;
}

function autoPan() {
  /*Workaround to remove when autopan implemented for overlays */
  var el = $('.o-popup');
  var center = map.getView().getCenter();
  var popupOffset = $(el).offset();
  var mapOffset = $('#' + map.getTarget()).offset();
  var offsetY = popupOffset.top - mapOffset.top;
  var mapSize = map.getSize();
  var offsetX = (mapOffset.left + mapSize[0]) - (popupOffset.left + $(el).outerWidth(true));

  // Check if mapmenu widget is used and opened
  var menuSize = 0;
  if (settings.controls.hasOwnProperty('mapmenu')) {
    menuSize = settings.controls.mapmenu.getTarget().offset().left > 0 ? mapSize[0] - settings.controls.mapmenu.getTarget().offset().left : menuSize = 0;
  }
  if (offsetY < 0 || offsetX < 0 + menuSize || offsetX > (mapSize[0] - $(el).outerWidth(true))) {
    var dx = 0,
      dy = 0;
    if (offsetX < 0 + menuSize) {
      dx = (-offsetX + menuSize) * map.getView().getResolution();
    }
    if (offsetX > (mapSize[0] - $(el).outerWidth(true))) {
      dx = -($(el).outerWidth(true) - (mapSize[0] - offsetX)) * map.getView().getResolution();
    }
    if (offsetY < 0) {
      dy = (-offsetY) * map.getView().getResolution();
    }
    map.getView().animate({
      center: ([center[0] + dx, center[1] + dy]),
	  duration:300
    });
  }
  /*End workaround*/
}

function removeOverlays(overlays) {
  if (overlays) {
    if (overlays.constructor === Array || overlays instanceof ol.Collection) {
      overlays.forEach(function(overlay) {
        map.removeOverlay(overlay);
      })
    } else {
      map.removeOverlay(overlays);
    }
  } else {
    map.getOverlays().clear();
  }
}

function render(el, mapOptions) {
  pageSettings = mapOptions.pageSettings;
  pageTemplate.mapClass = "o-map";

  if (pageSettings) {
    if (pageSettings.footer) {
      if (pageSettings.footer.hasOwnProperty('img')) {
        pageTemplate.img = pageSettings.footer.img;
      }
      if (pageSettings.footer.hasOwnProperty('text')) {
        pageTemplate.text = pageSettings.footer.text;
      }
      if (pageSettings.footer.hasOwnProperty('url')) {
        pageTemplate.url = pageSettings.footer.url;
      }
      if (pageSettings.footer.hasOwnProperty('urlText')) {
        pageTemplate.urlText = pageSettings.footer.urlText;
      }
    }
    if (pageSettings.mapGrid) {
      if (pageSettings.mapGrid.hasOwnProperty('visible') && pageSettings.mapGrid.visible === true) {
        pageTemplate.mapClass = "o-map o-map-grid";
      }
    }
  }

  $(el).html(template(pageTemplate));
}

module.exports.init = init;
module.exports.createLayers = createLayers;
module.exports.getBaseUrl = getBaseUrl;
module.exports.getBreakPoints = getBreakPoints;
module.exports.getExtent = getExtent;
module.exports.getSettings = getSettings;
module.exports.getStyleSettings = getStyleSettings;
module.exports.getMapUrl = getMapUrl;
module.exports.getMap = getMap;
module.exports.getLayers = getLayers;
module.exports.getLayersByProperty = getLayersByProperty;
module.exports.getLayer = getLayer;
module.exports.getControlNames = getControlNames;
module.exports.getQueryableLayers = getQueryableLayers;
module.exports.getGroup = getGroup;
module.exports.getGroups = getGroups;
module.exports.getProjectionCode = getProjectionCode;
module.exports.getProjection = getProjection;
module.exports.getMapSource = getMapSource;
module.exports.getResolutions = getResolutions;
module.exports.getScale = getScale;
module.exports.getTarget = getTarget;
module.exports.getClusterOptions = getClusterOptions;
module.exports.getTileGrid = getTileGrid;
module.exports.getTileSize = getTileSize;
module.exports.autoPan = autoPan;
module.exports.removeOverlays = removeOverlays;
module.exports.checkScale= checkScale;
module.exports.getMapName = getMapName;
module.exports.getConsoleId = getConsoleId;
module.exports.getUrl = getUrl;

},{"./featureinfo":119,"./ids":131,"./layercreator":147,"./maputils":152,"./modal":154,"./style":181,"./templates/viewer.handlebars":192,"./utils":193,"./utils/elquery":194,"./utils/isurl":200,"jquery":27,"openlayers":30}],210:[function(require,module,exports){
"use strict";

var ol = require('openlayers');
var $ = require('jquery');
var Viewer = require('./viewer');

var map;

function Init(opt_options) {
  var options = opt_options || {};
  var zoomControl;
  var target = options.target || 'o-toolbar-navigation';
  map = Viewer.getMap();

  zoomControl = new ol.control.Zoom({
    zoomInTipLabel: ' ',
    zoomOutTipLabel: ' ',
    zoomInLabel: $.parseHTML('<svg class="o-icon-fa-plus"><use xlink:href="#fa-plus"></use></svg>')[0],
    zoomOutLabel: $.parseHTML('<svg class="o-icon-fa-minus"><use xlink:href="#fa-minus"></use></svg>')[0],
    target: target
  });
  map.addControl(zoomControl);
}

module.exports.init = Init;

},{"./viewer":209,"jquery":27,"openlayers":30}]},{},[99])(99)
});
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJjb25mL29yaWdvQ29uZmlnLmpzIiwiY29uZi9vcmlnb0NvbnRyb2xzLmpzIiwiZXh0ZXJucy9vd2wuY2Fyb3VzZWwubWluLmpzIiwiZXh0ZXJucy9vd2xjYXJvdXNlbC1icm93c2VyaWZ5LmpzIiwibm9kZV9tb2R1bGVzL2F3ZXNvbXBsZXRlL2F3ZXNvbXBsZXRlLmpzIiwibm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJub2RlX21vZHVsZXNcXGhhbmRsZWJhcnNcXGxpYlxcaGFuZGxlYmFycy5ydW50aW1lLmpzIiwibm9kZV9tb2R1bGVzXFxoYW5kbGViYXJzXFxsaWJcXGhhbmRsZWJhcnNcXGJhc2UuanMiLCJub2RlX21vZHVsZXNcXGhhbmRsZWJhcnNcXGxpYlxcaGFuZGxlYmFyc1xcZGVjb3JhdG9ycy5qcyIsIm5vZGVfbW9kdWxlc1xcaGFuZGxlYmFyc1xcbGliXFxoYW5kbGViYXJzXFxkZWNvcmF0b3JzXFxpbmxpbmUuanMiLCJub2RlX21vZHVsZXNcXGhhbmRsZWJhcnNcXGxpYlxcaGFuZGxlYmFyc1xcZXhjZXB0aW9uLmpzIiwibm9kZV9tb2R1bGVzXFxoYW5kbGViYXJzXFxsaWJcXGhhbmRsZWJhcnNcXGhlbHBlcnMuanMiLCJub2RlX21vZHVsZXNcXGhhbmRsZWJhcnNcXGxpYlxcaGFuZGxlYmFyc1xcaGVscGVyc1xcYmxvY2staGVscGVyLW1pc3NpbmcuanMiLCJub2RlX21vZHVsZXNcXGhhbmRsZWJhcnNcXGxpYlxcaGFuZGxlYmFyc1xcaGVscGVyc1xcZWFjaC5qcyIsIm5vZGVfbW9kdWxlc1xcaGFuZGxlYmFyc1xcbGliXFxoYW5kbGViYXJzXFxoZWxwZXJzXFxoZWxwZXItbWlzc2luZy5qcyIsIm5vZGVfbW9kdWxlc1xcaGFuZGxlYmFyc1xcbGliXFxoYW5kbGViYXJzXFxoZWxwZXJzXFxpZi5qcyIsIm5vZGVfbW9kdWxlc1xcaGFuZGxlYmFyc1xcbGliXFxoYW5kbGViYXJzXFxoZWxwZXJzXFxsb2cuanMiLCJub2RlX21vZHVsZXNcXGhhbmRsZWJhcnNcXGxpYlxcaGFuZGxlYmFyc1xcaGVscGVyc1xcbG9va3VwLmpzIiwibm9kZV9tb2R1bGVzXFxoYW5kbGViYXJzXFxsaWJcXGhhbmRsZWJhcnNcXGhlbHBlcnNcXHdpdGguanMiLCJub2RlX21vZHVsZXNcXGhhbmRsZWJhcnNcXGxpYlxcaGFuZGxlYmFyc1xcbG9nZ2VyLmpzIiwibm9kZV9tb2R1bGVzXFxoYW5kbGViYXJzXFxkaXN0XFxjanNcXGhhbmRsZWJhcnNcXG5vZGVfbW9kdWxlc1xcaGFuZGxlYmFyc1xcbGliXFxoYW5kbGViYXJzXFxuby1jb25mbGljdC5qcyIsIm5vZGVfbW9kdWxlc1xcaGFuZGxlYmFyc1xcbGliXFxoYW5kbGViYXJzXFxydW50aW1lLmpzIiwibm9kZV9tb2R1bGVzXFxoYW5kbGViYXJzXFxsaWJcXGhhbmRsZWJhcnNcXHNhZmUtc3RyaW5nLmpzIiwibm9kZV9tb2R1bGVzXFxoYW5kbGViYXJzXFxsaWJcXGhhbmRsZWJhcnNcXHV0aWxzLmpzIiwibm9kZV9tb2R1bGVzL2hhbmRsZWJhcnMvcnVudGltZS5qcyIsIm5vZGVfbW9kdWxlcy9oYnNmeS9ydW50aW1lLmpzIiwibm9kZV9tb2R1bGVzL2pxdWVyeS9kaXN0L2pxdWVyeS5qcyIsIm5vZGVfbW9kdWxlcy9sb2NhbGZvcmFnZS9kaXN0L2xvY2FsZm9yYWdlLmpzIiwibm9kZV9tb2R1bGVzL21ncnMvbWdycy5qcyIsIm5vZGVfbW9kdWxlcy9vcGVubGF5ZXJzL2Rpc3Qvb2wuanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL1BvaW50LmpzIiwibm9kZV9tb2R1bGVzL3Byb2o0L2xpYi9Qcm9qLmpzIiwibm9kZV9tb2R1bGVzL3Byb2o0L2xpYi9hZGp1c3RfYXhpcy5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvY29tbW9uL2FkanVzdF9sYXQuanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL2NvbW1vbi9hZGp1c3RfbG9uLmpzIiwibm9kZV9tb2R1bGVzL3Byb2o0L2xpYi9jb21tb24vYXNpbnouanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL2NvbW1vbi9lMGZuLmpzIiwibm9kZV9tb2R1bGVzL3Byb2o0L2xpYi9jb21tb24vZTFmbi5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvY29tbW9uL2UyZm4uanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL2NvbW1vbi9lM2ZuLmpzIiwibm9kZV9tb2R1bGVzL3Byb2o0L2xpYi9jb21tb24vZ04uanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL2NvbW1vbi9pbWxmbi5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvY29tbW9uL2lxc2Zuei5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvY29tbW9uL21sZm4uanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL2NvbW1vbi9tc2Zuei5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvY29tbW9uL3BoaTJ6LmpzIiwibm9kZV9tb2R1bGVzL3Byb2o0L2xpYi9jb21tb24vcGpfZW5mbi5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvY29tbW9uL3BqX2ludl9tbGZuLmpzIiwibm9kZV9tb2R1bGVzL3Byb2o0L2xpYi9jb21tb24vcGpfbWxmbi5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvY29tbW9uL3FzZm56LmpzIiwibm9kZV9tb2R1bGVzL3Byb2o0L2xpYi9jb21tb24vc2lnbi5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvY29tbW9uL3NyYXQuanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL2NvbW1vbi90b1BvaW50LmpzIiwibm9kZV9tb2R1bGVzL3Byb2o0L2xpYi9jb21tb24vdHNmbnouanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL2NvbnN0YW50cy9EYXR1bS5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvY29uc3RhbnRzL0VsbGlwc29pZC5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvY29uc3RhbnRzL1ByaW1lTWVyaWRpYW4uanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL2NvbnN0YW50cy91bml0cy5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvY29yZS5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvZGF0dW0uanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL2RhdHVtX3RyYW5zZm9ybS5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvZGVmcy5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvZGVyaXZlQ29uc3RhbnRzLmpzIiwibm9kZV9tb2R1bGVzL3Byb2o0L2xpYi9leHRlbmQuanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL2dsb2JhbC5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvaW5jbHVkZWRQcm9qZWN0aW9ucy5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvaW5kZXguanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL3BhcnNlQ29kZS5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvcHJvalN0cmluZy5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvcHJvamVjdGlvbnMuanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL3Byb2plY3Rpb25zL2FlYS5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvcHJvamVjdGlvbnMvYWVxZC5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvcHJvamVjdGlvbnMvY2Fzcy5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvcHJvamVjdGlvbnMvY2VhLmpzIiwibm9kZV9tb2R1bGVzL3Byb2o0L2xpYi9wcm9qZWN0aW9ucy9lcWMuanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL3Byb2plY3Rpb25zL2VxZGMuanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL3Byb2plY3Rpb25zL2dhdXNzLmpzIiwibm9kZV9tb2R1bGVzL3Byb2o0L2xpYi9wcm9qZWN0aW9ucy9nbm9tLmpzIiwibm9kZV9tb2R1bGVzL3Byb2o0L2xpYi9wcm9qZWN0aW9ucy9rcm92YWsuanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL3Byb2plY3Rpb25zL2xhZWEuanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL3Byb2plY3Rpb25zL2xjYy5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvcHJvamVjdGlvbnMvbG9uZ2xhdC5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvcHJvamVjdGlvbnMvbWVyYy5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvcHJvamVjdGlvbnMvbWlsbC5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvcHJvamVjdGlvbnMvbW9sbC5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvcHJvamVjdGlvbnMvbnptZy5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvcHJvamVjdGlvbnMvb21lcmMuanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL3Byb2plY3Rpb25zL3BvbHkuanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL3Byb2plY3Rpb25zL3NpbnUuanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL3Byb2plY3Rpb25zL3NvbWVyYy5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvcHJvamVjdGlvbnMvc3RlcmUuanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL3Byb2plY3Rpb25zL3N0ZXJlYS5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvcHJvamVjdGlvbnMvdG1lcmMuanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL3Byb2plY3Rpb25zL3V0bS5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvcHJvamVjdGlvbnMvdmFuZGcuanMiLCJub2RlX21vZHVsZXMvcHJvajQvbGliL3RyYW5zZm9ybS5qcyIsIm5vZGVfbW9kdWxlcy9wcm9qNC9saWIvd2t0LmpzIiwibm9kZV9tb2R1bGVzL3Byb2o0L3BhY2thZ2UuanNvbiIsIm9yaWdvLmpzIiwic3JjL2Fib3V0LmpzIiwic3JjL2F0dHJpYnV0aW9uLmpzIiwic3JjL2NvbXBvbmVudHMvc3Bpbm5lci5oYW5kbGViYXJzIiwic3JjL2NvbnRyb2xpbml0aWFsaXNlci5qcyIsInNyYy9kcm9wZG93bi5qcyIsInNyYy9lZGl0b3IuanMiLCJzcmMvZWRpdG9yL2Fnc3RyYW5zYWN0aW9uLmpzIiwic3JjL2VkaXRvci9kcmF3dG9vbHMuanMiLCJzcmMvZWRpdG9yL2VkaXREaXNwYXRjaGVyLmpzIiwic3JjL2VkaXRvci9lZGl0Zm9ybS5qcyIsInNyYy9lZGl0b3IvZWRpdGhhbmRsZXIuanMiLCJzcmMvZWRpdG9yL2VkaXRvcmxheWVycy5qcyIsInNyYy9lZGl0b3IvZWRpdG9ydG9vbGJhci5qcyIsInNyYy9lZGl0b3IvZWRpdHNzdG9yZS5qcyIsInNyYy9lZGl0b3IvaW5kZXhlZGRiLmpzIiwic3JjL2VkaXRvci9zaGFwZXMuanMiLCJzcmMvZWRpdG9yL3RyYW5zYWN0aW9uaGFuZGxlci5qcyIsInNyYy9lZGl0b3Ivd2ZzdHJhbnNhY3Rpb24uanMiLCJzcmMvZmVhdHVyZWluZm8uanMiLCJzcmMvZmVhdHVyZWluZm90ZW1wbGF0ZXMuanMiLCJzcmMvZmVhdHVyZWxheWVyLmpzIiwic3JjL2Z1bGxzY3JlZW4uanMiLCJzcmMvZ2VvbS5qcyIsInNyYy9nZW9tZXRyeS9nZXRhcmVhLmpzIiwic3JjL2dlb21ldHJ5L2dldGNlbnRlci5qcyIsInNyYy9nZW9wb3NpdGlvbi5qcyIsInNyYy9nZXRhdHRyaWJ1dGVzLmpzIiwic3JjL2dldGZlYXR1cmUuanMiLCJzcmMvZ2V0ZmVhdHVyZWluZm8uanMiLCJzcmMvaG9tZS5qcyIsInNyYy9pZHMuanMiLCJzcmMvbGF5ZXIvYWdzZmVhdHVyZS5qcyIsInNyYy9sYXllci9hZ3N0aWxlLmpzIiwic3JjL2xheWVyL2R5bmFnc3RpbGUuanMiLCJzcmMvbGF5ZXIvZmVhdHVyZWxheWVyLmpzIiwic3JjL2xheWVyL2dlb2pzb24uanMiLCJzcmMvbGF5ZXIvZ3JvdXAuanMiLCJzcmMvbGF5ZXIvb3NtLmpzIiwic3JjL2xheWVyL3RpbGUuanMiLCJzcmMvbGF5ZXIvdG9wb2pzb24uanMiLCJzcmMvbGF5ZXIvdmVjdG9yLmpzIiwic3JjL2xheWVyL3ZlY3RvcnRpbGUuanMiLCJzcmMvbGF5ZXIvd2ZzLmpzIiwic3JjL2xheWVyL3dtcy5qcyIsInNyYy9sYXllci93bXRzLmpzIiwic3JjL2xheWVyL3h5ei5qcyIsInNyYy9sYXllcmNyZWF0b3IuanMiLCJzcmMvbGVnZW5kLmpzIiwic3JjL2xpbmsuanMiLCJzcmMvbWFwbG9hZGVyLmpzIiwic3JjL21hcG1lbnUuanMiLCJzcmMvbWFwdXRpbHMuanMiLCJzcmMvbWVhc3VyZS5qcyIsInNyYy9tb2RhbC5qcyIsInNyYy9vZmZsaW5lLmpzIiwic3JjL29mZmxpbmUvZG93bmxvYWRlci5qcyIsInNyYy9vZmZsaW5lL2Rvd25sb2FkZXIudGVtcGxhdGUuaGFuZGxlYmFycyIsInNyYy9vZmZsaW5lL2Rvd25sb2FkaGFuZGxlci5qcyIsInNyYy9vZmZsaW5lL2Rvd25sb2Fkc291cmNlcy5qcyIsInNyYy9vZmZsaW5lL2dlb2pzb24uanMiLCJzcmMvb2ZmbGluZS9vZmZsaW5lZGlzcGF0Y2hlci5qcyIsInNyYy9vZmZsaW5lL29mZmxpbmVsYXllci5qcyIsInNyYy9vZmZsaW5lL29mZmxpbmVzdG9yZS5qcyIsInNyYy9vZmZsaW5lL3RvcG9qc29uLmpzIiwic3JjL29mZmxpbmUvdmVyaWZ5ZmVhdHVyZWlkcy5qcyIsInNyYy9vZmZsaW5lL3dmcy5qcyIsInNyYy9wZXJtYWxpbmsvcGVybWFsaW5rLmpzIiwic3JjL3Blcm1hbGluay9wZXJtYWxpbmtwYXJzZXIuanMiLCJzcmMvcGVybWFsaW5rL3Blcm1hbGlua3N0b3JlLmpzIiwic3JjL3BvcHVwLmpzIiwic3JjL3Bvc2l0aW9uLmpzIiwic3JjL3ByaW50LmpzIiwic3JjL3Byb2dyZXNzQmFyLmpzIiwic3JjL3JvdGF0ZS5qcyIsInNyYy9zY2FsZS5qcyIsInNyYy9zY2FsZWxpbmUuanMiLCJzcmMvc2VhcmNoLmpzIiwic3JjL3NoYXJlbWFwLmpzIiwic3JjL3NpZGViYXIuanMiLCJzcmMvc3BsYXNoLmpzIiwic3JjL3N0eWxlLmpzIiwic3JjL3N0eWxlL2dldGNvbG9yLmpzIiwic3JjL3N0eWxlL21lYXN1cmUuanMiLCJzcmMvc3R5bGUvcGluLmpzIiwic3JjL3N0eWxlL3N0eWxlZnVuY3Rpb25zLmpzIiwic3JjL3N0eWxlL3N0eWxlZnVuY3Rpb25zL2RlZmF1bHQuanMiLCJzcmMvc3R5bGUvc3R5bGV0eXBlcy5qcyIsInNyYy90ZW1wbGF0ZXMvZWRpdG9ydG9vbGJhci50ZW1wbGF0ZS5oYW5kbGViYXJzIiwic3JjL3RlbXBsYXRlcy9mZWF0dXJlaW5mb3RlbXBsYXRlcy9kZWZhdWx0LmhhbmRsZWJhcnMiLCJzcmMvdGVtcGxhdGVzL2ZlYXR1cmVpbmZvdGVtcGxhdGVzL2RlZmF1bHQuanMiLCJzcmMvdGVtcGxhdGVzL3ByaW50LmhhbmRsZWJhcnMiLCJzcmMvdGVtcGxhdGVzL3ZpZXdlci5oYW5kbGViYXJzIiwic3JjL3V0aWxzLmpzIiwic3JjL3V0aWxzL2VscXVlcnkuanMiLCJzcmMvdXRpbHMvZ2VuZXJhdGV1dWlkLmpzIiwic3JjL3V0aWxzL2dldGltYWdlb3JpZW50YXRpb24uanMiLCJzcmMvdXRpbHMvZ2V0dXJsLmpzIiwic3JjL3V0aWxzL2ltYWdlcmVzaXplci5qcyIsInNyYy91dGlscy9pc2VtYmVkZGVkLmpzIiwic3JjL3V0aWxzL2lzdXJsLmpzIiwic3JjL3V0aWxzL251bWJlcmZvcm1hdHRlci5qcyIsInNyYy91dGlscy9yZW5kZXJlcnJvci5qcyIsInNyYy91dGlscy9yZXBsYWNlci5qcyIsInNyYy91dGlscy9yb3VuZC5qcyIsInNyYy91dGlscy9zdXBwb3J0cy5qcyIsInNyYy91dGlscy90cmltdXJsLmpzIiwic3JjL3V0aWxzL3VybHBhcnNlci5qcyIsInNyYy91dGlscy92YWxpZGF0ZXVybC5qcyIsInNyYy92aWV3ZXIuanMiLCJzcmMvem9vbS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7OzhCQzdTc0IsbUJBQW1COztJQUE3QixJQUFJOzs7OztvQ0FJTywwQkFBMEI7Ozs7bUNBQzNCLHdCQUF3Qjs7OzsrQkFDdkIsb0JBQW9COztJQUEvQixLQUFLOztpQ0FDUSxzQkFBc0I7O0lBQW5DLE9BQU87O29DQUVJLDBCQUEwQjs7Ozs7QUFHakQsU0FBUyxNQUFNLEdBQUc7QUFDaEIsTUFBSSxFQUFFLEdBQUcsSUFBSSxJQUFJLENBQUMscUJBQXFCLEVBQUUsQ0FBQzs7QUFFMUMsT0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDdkIsSUFBRSxDQUFDLFVBQVUsb0NBQWEsQ0FBQztBQUMzQixJQUFFLENBQUMsU0FBUyxtQ0FBWSxDQUFDO0FBQ3pCLElBQUUsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQ2pCLElBQUUsQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUMsZ0JBQWdCLENBQUM7O0FBRTdDLElBQUUsQ0FBQyxFQUFFLEdBQUcsT0FBTyxDQUFDO0FBQ2hCLElBQUUsQ0FBQyxRQUFRLEdBQUcsVUFBUyxJQUFJLEVBQUU7QUFDM0IsV0FBTyxPQUFPLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQztHQUNuQyxDQUFDOztBQUVGLFNBQU8sRUFBRSxDQUFDO0NBQ1g7O0FBRUQsSUFBSSxJQUFJLEdBQUcsTUFBTSxFQUFFLENBQUM7QUFDcEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7O0FBRXJCLGtDQUFXLElBQUksQ0FBQyxDQUFDOztBQUVqQixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsSUFBSSxDQUFDOztxQkFFUixJQUFJOzs7Ozs7Ozs7Ozs7O3FCQ3BDeUIsU0FBUzs7eUJBQy9CLGFBQWE7Ozs7dUJBQ0UsV0FBVzs7MEJBQ1IsY0FBYzs7c0JBQ25DLFVBQVU7Ozs7QUFFdEIsSUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDOztBQUN4QixJQUFNLGlCQUFpQixHQUFHLENBQUMsQ0FBQzs7O0FBRTVCLElBQU0sZ0JBQWdCLEdBQUc7QUFDOUIsR0FBQyxFQUFFLGFBQWE7QUFDaEIsR0FBQyxFQUFFLGVBQWU7QUFDbEIsR0FBQyxFQUFFLGVBQWU7QUFDbEIsR0FBQyxFQUFFLFVBQVU7QUFDYixHQUFDLEVBQUUsa0JBQWtCO0FBQ3JCLEdBQUMsRUFBRSxpQkFBaUI7QUFDcEIsR0FBQyxFQUFFLFVBQVU7Q0FDZCxDQUFDOzs7QUFFRixJQUFNLFVBQVUsR0FBRyxpQkFBaUIsQ0FBQzs7QUFFOUIsU0FBUyxxQkFBcUIsQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLFVBQVUsRUFBRTtBQUNuRSxNQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sSUFBSSxFQUFFLENBQUM7QUFDN0IsTUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLElBQUksRUFBRSxDQUFDO0FBQy9CLE1BQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxJQUFJLEVBQUUsQ0FBQzs7QUFFbkMsa0NBQXVCLElBQUksQ0FBQyxDQUFDO0FBQzdCLHdDQUEwQixJQUFJLENBQUMsQ0FBQztDQUNqQzs7QUFFRCxxQkFBcUIsQ0FBQyxTQUFTLEdBQUc7QUFDaEMsYUFBVyxFQUFFLHFCQUFxQjs7QUFFbEMsUUFBTSxxQkFBUTtBQUNkLEtBQUcsRUFBRSxvQkFBTyxHQUFHOztBQUVmLGdCQUFjLEVBQUUsd0JBQVMsSUFBSSxFQUFFLEVBQUUsRUFBRTtBQUNqQyxRQUFJLGdCQUFTLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxVQUFVLEVBQUU7QUFDdEMsVUFBSSxFQUFFLEVBQUU7QUFBRSxjQUFNLDJCQUFjLHlDQUF5QyxDQUFDLENBQUM7T0FBRTtBQUMzRSxvQkFBTyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQzVCLE1BQU07QUFDTCxVQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztLQUN6QjtHQUNGO0FBQ0Qsa0JBQWdCLEVBQUUsMEJBQVMsSUFBSSxFQUFFO0FBQy9CLFdBQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztHQUMzQjs7QUFFRCxpQkFBZSxFQUFFLHlCQUFTLElBQUksRUFBRSxPQUFPLEVBQUU7QUFDdkMsUUFBSSxnQkFBUyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssVUFBVSxFQUFFO0FBQ3RDLG9CQUFPLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7S0FDN0IsTUFBTTtBQUNMLFVBQUksT0FBTyxPQUFPLEtBQUssV0FBVyxFQUFFO0FBQ2xDLGNBQU0seUVBQTBELElBQUksb0JBQWlCLENBQUM7T0FDdkY7QUFDRCxVQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQztLQUMvQjtHQUNGO0FBQ0QsbUJBQWlCLEVBQUUsMkJBQVMsSUFBSSxFQUFFO0FBQ2hDLFdBQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztHQUM1Qjs7QUFFRCxtQkFBaUIsRUFBRSwyQkFBUyxJQUFJLEVBQUUsRUFBRSxFQUFFO0FBQ3BDLFFBQUksZ0JBQVMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLFVBQVUsRUFBRTtBQUN0QyxVQUFJLEVBQUUsRUFBRTtBQUFFLGNBQU0sMkJBQWMsNENBQTRDLENBQUMsQ0FBQztPQUFFO0FBQzlFLG9CQUFPLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7S0FDL0IsTUFBTTtBQUNMLFVBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO0tBQzVCO0dBQ0Y7QUFDRCxxQkFBbUIsRUFBRSw2QkFBUyxJQUFJLEVBQUU7QUFDbEMsV0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0dBQzlCO0NBQ0YsQ0FBQzs7QUFFSyxJQUFJLEdBQUcsR0FBRyxvQkFBTyxHQUFHLENBQUM7OztRQUVwQixXQUFXO1FBQUUsTUFBTTs7Ozs7Ozs7Ozs7O2dDQzdFQSxxQkFBcUI7Ozs7QUFFekMsU0FBUyx5QkFBeUIsQ0FBQyxRQUFRLEVBQUU7QUFDbEQsZ0NBQWUsUUFBUSxDQUFDLENBQUM7Q0FDMUI7Ozs7Ozs7O3FCQ0pvQixVQUFVOztxQkFFaEIsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGlCQUFpQixDQUFDLFFBQVEsRUFBRSxVQUFTLEVBQUUsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRTtBQUMzRSxRQUFJLEdBQUcsR0FBRyxFQUFFLENBQUM7QUFDYixRQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRTtBQUNuQixXQUFLLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztBQUNwQixTQUFHLEdBQUcsVUFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFOztBQUUvQixZQUFJLFFBQVEsR0FBRyxTQUFTLENBQUMsUUFBUSxDQUFDO0FBQ2xDLGlCQUFTLENBQUMsUUFBUSxHQUFHLGNBQU8sRUFBRSxFQUFFLFFBQVEsRUFBRSxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDMUQsWUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztBQUMvQixpQkFBUyxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7QUFDOUIsZUFBTyxHQUFHLENBQUM7T0FDWixDQUFDO0tBQ0g7O0FBRUQsU0FBSyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLEVBQUUsQ0FBQzs7QUFFN0MsV0FBTyxHQUFHLENBQUM7R0FDWixDQUFDLENBQUM7Q0FDSjs7Ozs7Ozs7OztBQ3BCRCxJQUFNLFVBQVUsR0FBRyxDQUFDLGFBQWEsRUFBRSxVQUFVLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDOztBQUVuRyxTQUFTLFNBQVMsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFO0FBQ2hDLE1BQUksR0FBRyxHQUFHLElBQUksSUFBSSxJQUFJLENBQUMsR0FBRztNQUN0QixJQUFJLFlBQUE7TUFDSixNQUFNLFlBQUEsQ0FBQztBQUNYLE1BQUksR0FBRyxFQUFFO0FBQ1AsUUFBSSxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO0FBQ3RCLFVBQU0sR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQzs7QUFFMUIsV0FBTyxJQUFJLEtBQUssR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLE1BQU0sQ0FBQztHQUN4Qzs7QUFFRCxNQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDOzs7QUFHMUQsT0FBSyxJQUFJLEdBQUcsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLFVBQVUsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLEVBQUU7QUFDaEQsUUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztHQUM5Qzs7O0FBR0QsTUFBSSxLQUFLLENBQUMsaUJBQWlCLEVBQUU7QUFDM0IsU0FBSyxDQUFDLGlCQUFpQixDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztHQUMxQzs7QUFFRCxNQUFJLEdBQUcsRUFBRTtBQUNQLFFBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO0FBQ3ZCLFFBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0dBQ3RCO0NBQ0Y7O0FBRUQsU0FBUyxDQUFDLFNBQVMsR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDOztxQkFFbkIsU0FBUzs7Ozs7Ozs7Ozs7Ozt5Q0NsQ2UsZ0NBQWdDOzs7OzJCQUM5QyxnQkFBZ0I7Ozs7b0NBQ1AsMEJBQTBCOzs7O3lCQUNyQyxjQUFjOzs7OzBCQUNiLGVBQWU7Ozs7NkJBQ1osa0JBQWtCOzs7OzJCQUNwQixnQkFBZ0I7Ozs7QUFFbEMsU0FBUyxzQkFBc0IsQ0FBQyxRQUFRLEVBQUU7QUFDL0MseUNBQTJCLFFBQVEsQ0FBQyxDQUFDO0FBQ3JDLDJCQUFhLFFBQVEsQ0FBQyxDQUFDO0FBQ3ZCLG9DQUFzQixRQUFRLENBQUMsQ0FBQztBQUNoQyx5QkFBVyxRQUFRLENBQUMsQ0FBQztBQUNyQiwwQkFBWSxRQUFRLENBQUMsQ0FBQztBQUN0Qiw2QkFBZSxRQUFRLENBQUMsQ0FBQztBQUN6QiwyQkFBYSxRQUFRLENBQUMsQ0FBQztDQUN4Qjs7Ozs7Ozs7cUJDaEJxRCxVQUFVOztxQkFFakQsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxvQkFBb0IsRUFBRSxVQUFTLE9BQU8sRUFBRSxPQUFPLEVBQUU7QUFDdkUsUUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU87UUFDekIsRUFBRSxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUM7O0FBRXBCLFFBQUksT0FBTyxLQUFLLElBQUksRUFBRTtBQUNwQixhQUFPLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNqQixNQUFNLElBQUksT0FBTyxLQUFLLEtBQUssSUFBSSxPQUFPLElBQUksSUFBSSxFQUFFO0FBQy9DLGFBQU8sT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3RCLE1BQU0sSUFBSSxlQUFRLE9BQU8sQ0FBQyxFQUFFO0FBQzNCLFVBQUksT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7QUFDdEIsWUFBSSxPQUFPLENBQUMsR0FBRyxFQUFFO0FBQ2YsaUJBQU8sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDOUI7O0FBRUQsZUFBTyxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7T0FDaEQsTUFBTTtBQUNMLGVBQU8sT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO09BQ3RCO0tBQ0YsTUFBTTtBQUNMLFVBQUksT0FBTyxDQUFDLElBQUksSUFBSSxPQUFPLENBQUMsR0FBRyxFQUFFO0FBQy9CLFlBQUksSUFBSSxHQUFHLG1CQUFZLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNyQyxZQUFJLENBQUMsV0FBVyxHQUFHLHlCQUFrQixPQUFPLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDN0UsZUFBTyxHQUFHLEVBQUMsSUFBSSxFQUFFLElBQUksRUFBQyxDQUFDO09BQ3hCOztBQUVELGFBQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztLQUM3QjtHQUNGLENBQUMsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7O3FCQy9COEUsVUFBVTs7eUJBQ25FLGNBQWM7Ozs7cUJBRXJCLFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsTUFBTSxFQUFFLFVBQVMsT0FBTyxFQUFFLE9BQU8sRUFBRTtBQUN6RCxRQUFJLENBQUMsT0FBTyxFQUFFO0FBQ1osWUFBTSwyQkFBYyw2QkFBNkIsQ0FBQyxDQUFDO0tBQ3BEOztBQUVELFFBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxFQUFFO1FBQ2YsT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPO1FBQ3pCLENBQUMsR0FBRyxDQUFDO1FBQ0wsR0FBRyxHQUFHLEVBQUU7UUFDUixJQUFJLFlBQUE7UUFDSixXQUFXLFlBQUEsQ0FBQzs7QUFFaEIsUUFBSSxPQUFPLENBQUMsSUFBSSxJQUFJLE9BQU8sQ0FBQyxHQUFHLEVBQUU7QUFDL0IsaUJBQVcsR0FBRyx5QkFBa0IsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztLQUNqRjs7QUFFRCxRQUFJLGtCQUFXLE9BQU8sQ0FBQyxFQUFFO0FBQUUsYUFBTyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7S0FBRTs7QUFFMUQsUUFBSSxPQUFPLENBQUMsSUFBSSxFQUFFO0FBQ2hCLFVBQUksR0FBRyxtQkFBWSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDbEM7O0FBRUQsYUFBUyxhQUFhLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUU7QUFDekMsVUFBSSxJQUFJLEVBQUU7QUFDUixZQUFJLENBQUMsR0FBRyxHQUFHLEtBQUssQ0FBQztBQUNqQixZQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztBQUNuQixZQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssS0FBSyxDQUFDLENBQUM7QUFDekIsWUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDOztBQUVuQixZQUFJLFdBQVcsRUFBRTtBQUNmLGNBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxHQUFHLEtBQUssQ0FBQztTQUN4QztPQUNGOztBQUVELFNBQUcsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUM3QixZQUFJLEVBQUUsSUFBSTtBQUNWLG1CQUFXLEVBQUUsbUJBQVksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUUsQ0FBQyxXQUFXLEdBQUcsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO09BQy9FLENBQUMsQ0FBQztLQUNKOztBQUVELFFBQUksT0FBTyxJQUFJLE9BQU8sT0FBTyxLQUFLLFFBQVEsRUFBRTtBQUMxQyxVQUFJLGVBQVEsT0FBTyxDQUFDLEVBQUU7QUFDcEIsYUFBSyxJQUFJLENBQUMsR0FBRyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDdkMsY0FBSSxDQUFDLElBQUksT0FBTyxFQUFFO0FBQ2hCLHlCQUFhLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEtBQUssT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztXQUMvQztTQUNGO09BQ0YsTUFBTTtBQUNMLFlBQUksUUFBUSxZQUFBLENBQUM7O0FBRWIsYUFBSyxJQUFJLEdBQUcsSUFBSSxPQUFPLEVBQUU7QUFDdkIsY0FBSSxPQUFPLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxFQUFFOzs7O0FBSS9CLGdCQUFJLFFBQVEsS0FBSyxTQUFTLEVBQUU7QUFDMUIsMkJBQWEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2FBQ2hDO0FBQ0Qsb0JBQVEsR0FBRyxHQUFHLENBQUM7QUFDZixhQUFDLEVBQUUsQ0FBQztXQUNMO1NBQ0Y7QUFDRCxZQUFJLFFBQVEsS0FBSyxTQUFTLEVBQUU7QUFDMUIsdUJBQWEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztTQUN0QztPQUNGO0tBQ0Y7O0FBRUQsUUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQ1gsU0FBRyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNyQjs7QUFFRCxXQUFPLEdBQUcsQ0FBQztHQUNaLENBQUMsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7O3lCQzlFcUIsY0FBYzs7OztxQkFFckIsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxlQUFlLEVBQUUsaUNBQWdDO0FBQ3ZFLFFBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7O0FBRTFCLGFBQU8sU0FBUyxDQUFDO0tBQ2xCLE1BQU07O0FBRUwsWUFBTSwyQkFBYyxtQkFBbUIsR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7S0FDdkY7R0FDRixDQUFDLENBQUM7Q0FDSjs7Ozs7Ozs7OztxQkNaaUMsVUFBVTs7cUJBRTdCLFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLFVBQVMsV0FBVyxFQUFFLE9BQU8sRUFBRTtBQUMzRCxRQUFJLGtCQUFXLFdBQVcsQ0FBQyxFQUFFO0FBQUUsaUJBQVcsR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQUU7Ozs7O0FBS3RFLFFBQUksQUFBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsV0FBVyxJQUFLLGVBQVEsV0FBVyxDQUFDLEVBQUU7QUFDdkUsYUFBTyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQzlCLE1BQU07QUFDTCxhQUFPLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDekI7R0FDRixDQUFDLENBQUM7O0FBRUgsVUFBUSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsVUFBUyxXQUFXLEVBQUUsT0FBTyxFQUFFO0FBQy9ELFdBQU8sUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLFdBQVcsRUFBRSxFQUFDLEVBQUUsRUFBRSxPQUFPLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQztHQUN2SCxDQUFDLENBQUM7Q0FDSjs7Ozs7Ozs7OztxQkNuQmMsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsa0NBQWlDO0FBQzlELFFBQUksSUFBSSxHQUFHLENBQUMsU0FBUyxDQUFDO1FBQ2xCLE9BQU8sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztBQUM5QyxTQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDN0MsVUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUN6Qjs7QUFFRCxRQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDZCxRQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksRUFBRTtBQUM5QixXQUFLLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7S0FDNUIsTUFBTSxJQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxFQUFFO0FBQ3JELFdBQUssR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztLQUM1QjtBQUNELFFBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7O0FBRWhCLFlBQVEsQ0FBQyxHQUFHLE1BQUEsQ0FBWixRQUFRLEVBQVMsSUFBSSxDQUFDLENBQUM7R0FDeEIsQ0FBQyxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7cUJDbEJjLFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsUUFBUSxFQUFFLFVBQVMsR0FBRyxFQUFFLEtBQUssRUFBRTtBQUNyRCxXQUFPLEdBQUcsSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7R0FDMUIsQ0FBQyxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7cUJDSjhFLFVBQVU7O3FCQUUxRSxVQUFTLFFBQVEsRUFBRTtBQUNoQyxVQUFRLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxVQUFTLE9BQU8sRUFBRSxPQUFPLEVBQUU7QUFDekQsUUFBSSxrQkFBVyxPQUFPLENBQUMsRUFBRTtBQUFFLGFBQU8sR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQUU7O0FBRTFELFFBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUM7O0FBRXBCLFFBQUksQ0FBQyxlQUFRLE9BQU8sQ0FBQyxFQUFFO0FBQ3JCLFVBQUksSUFBSSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUM7QUFDeEIsVUFBSSxPQUFPLENBQUMsSUFBSSxJQUFJLE9BQU8sQ0FBQyxHQUFHLEVBQUU7QUFDL0IsWUFBSSxHQUFHLG1CQUFZLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNqQyxZQUFJLENBQUMsV0FBVyxHQUFHLHlCQUFrQixPQUFPLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7T0FDaEY7O0FBRUQsYUFBTyxFQUFFLENBQUMsT0FBTyxFQUFFO0FBQ2pCLFlBQUksRUFBRSxJQUFJO0FBQ1YsbUJBQVcsRUFBRSxtQkFBWSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztPQUNoRSxDQUFDLENBQUM7S0FDSixNQUFNO0FBQ0wsYUFBTyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQzlCO0dBQ0YsQ0FBQyxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7cUJDdkJxQixTQUFTOztBQUUvQixJQUFJLE1BQU0sR0FBRztBQUNYLFdBQVMsRUFBRSxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE9BQU8sQ0FBQztBQUM3QyxPQUFLLEVBQUUsTUFBTTs7O0FBR2IsYUFBVyxFQUFFLHFCQUFTLEtBQUssRUFBRTtBQUMzQixRQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtBQUM3QixVQUFJLFFBQVEsR0FBRyxlQUFRLE1BQU0sQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7QUFDOUQsVUFBSSxRQUFRLElBQUksQ0FBQyxFQUFFO0FBQ2pCLGFBQUssR0FBRyxRQUFRLENBQUM7T0FDbEIsTUFBTTtBQUNMLGFBQUssR0FBRyxRQUFRLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO09BQzdCO0tBQ0Y7O0FBRUQsV0FBTyxLQUFLLENBQUM7R0FDZDs7O0FBR0QsS0FBRyxFQUFFLGFBQVMsS0FBSyxFQUFjO0FBQy9CLFNBQUssR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDOztBQUVsQyxRQUFJLE9BQU8sT0FBTyxLQUFLLFdBQVcsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLEVBQUU7QUFDL0UsVUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNyQyxVQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFOztBQUNwQixjQUFNLEdBQUcsS0FBSyxDQUFDO09BQ2hCOzt3Q0FQbUIsT0FBTztBQUFQLGVBQU87OztBQVEzQixhQUFPLENBQUMsTUFBTSxPQUFDLENBQWYsT0FBTyxFQUFZLE9BQU8sQ0FBQyxDQUFDO0tBQzdCO0dBQ0Y7Q0FDRixDQUFDOztxQkFFYSxNQUFNOzs7Ozs7Ozs7OztxQkNqQ04sVUFBUyxVQUFVLEVBQUU7O0FBRWxDLE1BQUksSUFBSSxHQUFHLE9BQU8sTUFBTSxLQUFLLFdBQVcsR0FBRyxNQUFNLEdBQUcsTUFBTTtNQUN0RCxXQUFXLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQzs7QUFFbEMsWUFBVSxDQUFDLFVBQVUsR0FBRyxZQUFXO0FBQ2pDLFFBQUksSUFBSSxDQUFDLFVBQVUsS0FBSyxVQUFVLEVBQUU7QUFDbEMsVUFBSSxDQUFDLFVBQVUsR0FBRyxXQUFXLENBQUM7S0FDL0I7QUFDRCxXQUFPLFVBQVUsQ0FBQztHQUNuQixDQUFDO0NBQ0g7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7cUJDWnNCLFNBQVM7O0lBQXBCLEtBQUs7O3lCQUNLLGFBQWE7Ozs7b0JBQzhCLFFBQVE7O0FBRWxFLFNBQVMsYUFBYSxDQUFDLFlBQVksRUFBRTtBQUMxQyxNQUFNLGdCQUFnQixHQUFHLFlBQVksSUFBSSxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztNQUN2RCxlQUFlLDBCQUFvQixDQUFDOztBQUUxQyxNQUFJLGdCQUFnQixLQUFLLGVBQWUsRUFBRTtBQUN4QyxRQUFJLGdCQUFnQixHQUFHLGVBQWUsRUFBRTtBQUN0QyxVQUFNLGVBQWUsR0FBRyx1QkFBaUIsZUFBZSxDQUFDO1VBQ25ELGdCQUFnQixHQUFHLHVCQUFpQixnQkFBZ0IsQ0FBQyxDQUFDO0FBQzVELFlBQU0sMkJBQWMseUZBQXlGLEdBQ3ZHLHFEQUFxRCxHQUFHLGVBQWUsR0FBRyxtREFBbUQsR0FBRyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsQ0FBQztLQUNoSyxNQUFNOztBQUVMLFlBQU0sMkJBQWMsd0ZBQXdGLEdBQ3RHLGlEQUFpRCxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztLQUNuRjtHQUNGO0NBQ0Y7O0FBRU0sU0FBUyxRQUFRLENBQUMsWUFBWSxFQUFFLEdBQUcsRUFBRTs7QUFFMUMsTUFBSSxDQUFDLEdBQUcsRUFBRTtBQUNSLFVBQU0sMkJBQWMsbUNBQW1DLENBQUMsQ0FBQztHQUMxRDtBQUNELE1BQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFO0FBQ3ZDLFVBQU0sMkJBQWMsMkJBQTJCLEdBQUcsT0FBTyxZQUFZLENBQUMsQ0FBQztHQUN4RTs7QUFFRCxjQUFZLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFDOzs7O0FBSWxELEtBQUcsQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFNUMsV0FBUyxvQkFBb0IsQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRTtBQUN2RCxRQUFJLE9BQU8sQ0FBQyxJQUFJLEVBQUU7QUFDaEIsYUFBTyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDbEQsVUFBSSxPQUFPLENBQUMsR0FBRyxFQUFFO0FBQ2YsZUFBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7T0FDdkI7S0FDRjs7QUFFRCxXQUFPLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3RFLFFBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQzs7QUFFeEUsUUFBSSxNQUFNLElBQUksSUFBSSxJQUFJLEdBQUcsQ0FBQyxPQUFPLEVBQUU7QUFDakMsYUFBTyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsWUFBWSxDQUFDLGVBQWUsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUN6RixZQUFNLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0tBQzNEO0FBQ0QsUUFBSSxNQUFNLElBQUksSUFBSSxFQUFFO0FBQ2xCLFVBQUksT0FBTyxDQUFDLE1BQU0sRUFBRTtBQUNsQixZQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQy9CLGFBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDNUMsY0FBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUM1QixrQkFBTTtXQUNQOztBQUVELGVBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN0QztBQUNELGNBQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO09BQzNCO0FBQ0QsYUFBTyxNQUFNLENBQUM7S0FDZixNQUFNO0FBQ0wsWUFBTSwyQkFBYyxjQUFjLEdBQUcsT0FBTyxDQUFDLElBQUksR0FBRywwREFBMEQsQ0FBQyxDQUFDO0tBQ2pIO0dBQ0Y7OztBQUdELE1BQUksU0FBUyxHQUFHO0FBQ2QsVUFBTSxFQUFFLGdCQUFTLEdBQUcsRUFBRSxJQUFJLEVBQUU7QUFDMUIsVUFBSSxFQUFFLElBQUksSUFBSSxHQUFHLENBQUEsQUFBQyxFQUFFO0FBQ2xCLGNBQU0sMkJBQWMsR0FBRyxHQUFHLElBQUksR0FBRyxtQkFBbUIsR0FBRyxHQUFHLENBQUMsQ0FBQztPQUM3RDtBQUNELGFBQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ2xCO0FBQ0QsVUFBTSxFQUFFLGdCQUFTLE1BQU0sRUFBRSxJQUFJLEVBQUU7QUFDN0IsVUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztBQUMxQixXQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQzVCLFlBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUU7QUFDeEMsaUJBQU8sTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3hCO09BQ0Y7S0FDRjtBQUNELFVBQU0sRUFBRSxnQkFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ2pDLGFBQU8sT0FBTyxPQUFPLEtBQUssVUFBVSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsT0FBTyxDQUFDO0tBQ3hFOztBQUVELG9CQUFnQixFQUFFLEtBQUssQ0FBQyxnQkFBZ0I7QUFDeEMsaUJBQWEsRUFBRSxvQkFBb0I7O0FBRW5DLE1BQUUsRUFBRSxZQUFTLENBQUMsRUFBRTtBQUNkLFVBQUksR0FBRyxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMxQixTQUFHLENBQUMsU0FBUyxHQUFHLFlBQVksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7QUFDdkMsYUFBTyxHQUFHLENBQUM7S0FDWjs7QUFFRCxZQUFRLEVBQUUsRUFBRTtBQUNaLFdBQU8sRUFBRSxpQkFBUyxDQUFDLEVBQUUsSUFBSSxFQUFFLG1CQUFtQixFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUU7QUFDbkUsVUFBSSxjQUFjLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7VUFDakMsRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDcEIsVUFBSSxJQUFJLElBQUksTUFBTSxJQUFJLFdBQVcsSUFBSSxtQkFBbUIsRUFBRTtBQUN4RCxzQkFBYyxHQUFHLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsbUJBQW1CLEVBQUUsV0FBVyxFQUFFLE1BQU0sQ0FBQyxDQUFDO09BQzNGLE1BQU0sSUFBSSxDQUFDLGNBQWMsRUFBRTtBQUMxQixzQkFBYyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7T0FDOUQ7QUFDRCxhQUFPLGNBQWMsQ0FBQztLQUN2Qjs7QUFFRCxRQUFJLEVBQUUsY0FBUyxLQUFLLEVBQUUsS0FBSyxFQUFFO0FBQzNCLGFBQU8sS0FBSyxJQUFJLEtBQUssRUFBRSxFQUFFO0FBQ3ZCLGFBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDO09BQ3ZCO0FBQ0QsYUFBTyxLQUFLLENBQUM7S0FDZDtBQUNELFNBQUssRUFBRSxlQUFTLEtBQUssRUFBRSxNQUFNLEVBQUU7QUFDN0IsVUFBSSxHQUFHLEdBQUcsS0FBSyxJQUFJLE1BQU0sQ0FBQzs7QUFFMUIsVUFBSSxLQUFLLElBQUksTUFBTSxJQUFLLEtBQUssS0FBSyxNQUFNLEFBQUMsRUFBRTtBQUN6QyxXQUFHLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO09BQ3ZDOztBQUVELGFBQU8sR0FBRyxDQUFDO0tBQ1o7O0FBRUQsUUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSTtBQUNqQixnQkFBWSxFQUFFLFlBQVksQ0FBQyxRQUFRO0dBQ3BDLENBQUM7O0FBRUYsV0FBUyxHQUFHLENBQUMsT0FBTyxFQUFnQjtRQUFkLE9BQU8seURBQUcsRUFBRTs7QUFDaEMsUUFBSSxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQzs7QUFFeEIsT0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUNwQixRQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sSUFBSSxZQUFZLENBQUMsT0FBTyxFQUFFO0FBQzVDLFVBQUksR0FBRyxRQUFRLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQ2hDO0FBQ0QsUUFBSSxNQUFNLFlBQUE7UUFDTixXQUFXLEdBQUcsWUFBWSxDQUFDLGNBQWMsR0FBRyxFQUFFLEdBQUcsU0FBUyxDQUFDO0FBQy9ELFFBQUksWUFBWSxDQUFDLFNBQVMsRUFBRTtBQUMxQixVQUFJLE9BQU8sQ0FBQyxNQUFNLEVBQUU7QUFDbEIsY0FBTSxHQUFHLE9BQU8sS0FBSyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDO09BQzVGLE1BQU07QUFDTCxjQUFNLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztPQUNwQjtLQUNGOztBQUVELGFBQVMsSUFBSSxDQUFDLE9BQU8sZ0JBQWU7QUFDbEMsYUFBTyxFQUFFLEdBQUcsWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsT0FBTyxFQUFFLFNBQVMsQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0tBQ3JIO0FBQ0QsUUFBSSxHQUFHLGlCQUFpQixDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxPQUFPLENBQUMsTUFBTSxJQUFJLEVBQUUsRUFBRSxJQUFJLEVBQUUsV0FBVyxDQUFDLENBQUM7QUFDdEcsV0FBTyxJQUFJLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0dBQy9CO0FBQ0QsS0FBRyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7O0FBRWpCLEtBQUcsQ0FBQyxNQUFNLEdBQUcsVUFBUyxPQUFPLEVBQUU7QUFDN0IsUUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUU7QUFDcEIsZUFBUyxDQUFDLE9BQU8sR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDOztBQUVsRSxVQUFJLFlBQVksQ0FBQyxVQUFVLEVBQUU7QUFDM0IsaUJBQVMsQ0FBQyxRQUFRLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztPQUN0RTtBQUNELFVBQUksWUFBWSxDQUFDLFVBQVUsSUFBSSxZQUFZLENBQUMsYUFBYSxFQUFFO0FBQ3pELGlCQUFTLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7T0FDNUU7S0FDRixNQUFNO0FBQ0wsZUFBUyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDO0FBQ3BDLGVBQVMsQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQztBQUN0QyxlQUFTLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUM7S0FDM0M7R0FDRixDQUFDOztBQUVGLEtBQUcsQ0FBQyxNQUFNLEdBQUcsVUFBUyxDQUFDLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUU7QUFDbEQsUUFBSSxZQUFZLENBQUMsY0FBYyxJQUFJLENBQUMsV0FBVyxFQUFFO0FBQy9DLFlBQU0sMkJBQWMsd0JBQXdCLENBQUMsQ0FBQztLQUMvQztBQUNELFFBQUksWUFBWSxDQUFDLFNBQVMsSUFBSSxDQUFDLE1BQU0sRUFBRTtBQUNyQyxZQUFNLDJCQUFjLHlCQUF5QixDQUFDLENBQUM7S0FDaEQ7O0FBRUQsV0FBTyxXQUFXLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxZQUFZLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxXQUFXLEVBQUUsTUFBTSxDQUFDLENBQUM7R0FDakYsQ0FBQztBQUNGLFNBQU8sR0FBRyxDQUFDO0NBQ1o7O0FBRU0sU0FBUyxXQUFXLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLG1CQUFtQixFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUU7QUFDNUYsV0FBUyxJQUFJLENBQUMsT0FBTyxFQUFnQjtRQUFkLE9BQU8seURBQUcsRUFBRTs7QUFDakMsUUFBSSxhQUFhLEdBQUcsTUFBTSxDQUFDO0FBQzNCLFFBQUksTUFBTSxJQUFJLE9BQU8sS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUU7QUFDbkMsbUJBQWEsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztLQUMxQzs7QUFFRCxXQUFPLEVBQUUsQ0FBQyxTQUFTLEVBQ2YsT0FBTyxFQUNQLFNBQVMsQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFDLFFBQVEsRUFDckMsT0FBTyxDQUFDLElBQUksSUFBSSxJQUFJLEVBQ3BCLFdBQVcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEVBQ3hELGFBQWEsQ0FBQyxDQUFDO0dBQ3BCOztBQUVELE1BQUksR0FBRyxpQkFBaUIsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLFdBQVcsQ0FBQyxDQUFDOztBQUV6RSxNQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQztBQUNqQixNQUFJLENBQUMsS0FBSyxHQUFHLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztBQUN4QyxNQUFJLENBQUMsV0FBVyxHQUFHLG1CQUFtQixJQUFJLENBQUMsQ0FBQztBQUM1QyxTQUFPLElBQUksQ0FBQztDQUNiOztBQUVNLFNBQVMsY0FBYyxDQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ3hELE1BQUksQ0FBQyxPQUFPLEVBQUU7QUFDWixRQUFJLE9BQU8sQ0FBQyxJQUFJLEtBQUssZ0JBQWdCLEVBQUU7QUFDckMsYUFBTyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7S0FDekMsTUFBTTtBQUNMLGFBQU8sR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUMxQztHQUNGLE1BQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFOztBQUV6QyxXQUFPLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQztBQUN2QixXQUFPLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQztHQUNyQztBQUNELFNBQU8sT0FBTyxDQUFDO0NBQ2hCOztBQUVNLFNBQVMsYUFBYSxDQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ3ZELFNBQU8sQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO0FBQ3ZCLE1BQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUNmLFdBQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUM7R0FDdkU7O0FBRUQsTUFBSSxZQUFZLFlBQUEsQ0FBQztBQUNqQixNQUFJLE9BQU8sQ0FBQyxFQUFFLElBQUksT0FBTyxDQUFDLEVBQUUsS0FBSyxJQUFJLEVBQUU7QUFDckMsV0FBTyxDQUFDLElBQUksR0FBRyxrQkFBWSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDekMsZ0JBQVksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUM7O0FBRTFELFFBQUksWUFBWSxDQUFDLFFBQVEsRUFBRTtBQUN6QixhQUFPLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxRQUFRLEVBQUUsWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0tBQzlFO0dBQ0Y7O0FBRUQsTUFBSSxPQUFPLEtBQUssU0FBUyxJQUFJLFlBQVksRUFBRTtBQUN6QyxXQUFPLEdBQUcsWUFBWSxDQUFDO0dBQ3hCOztBQUVELE1BQUksT0FBTyxLQUFLLFNBQVMsRUFBRTtBQUN6QixVQUFNLDJCQUFjLGNBQWMsR0FBRyxPQUFPLENBQUMsSUFBSSxHQUFHLHFCQUFxQixDQUFDLENBQUM7R0FDNUUsTUFBTSxJQUFJLE9BQU8sWUFBWSxRQUFRLEVBQUU7QUFDdEMsV0FBTyxPQUFPLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0dBQ2xDO0NBQ0Y7O0FBRU0sU0FBUyxJQUFJLEdBQUc7QUFBRSxTQUFPLEVBQUUsQ0FBQztDQUFFOztBQUVyQyxTQUFTLFFBQVEsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFO0FBQy9CLE1BQUksQ0FBQyxJQUFJLElBQUksRUFBRSxNQUFNLElBQUksSUFBSSxDQUFBLEFBQUMsRUFBRTtBQUM5QixRQUFJLEdBQUcsSUFBSSxHQUFHLGtCQUFZLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUNyQyxRQUFJLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQztHQUNyQjtBQUNELFNBQU8sSUFBSSxDQUFDO0NBQ2I7O0FBRUQsU0FBUyxpQkFBaUIsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRTtBQUN6RSxNQUFJLEVBQUUsQ0FBQyxTQUFTLEVBQUU7QUFDaEIsUUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDO0FBQ2YsUUFBSSxHQUFHLEVBQUUsQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsTUFBTSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQzVGLFNBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0dBQzNCO0FBQ0QsU0FBTyxJQUFJLENBQUM7Q0FDYjs7Ozs7Ozs7QUMzUUQsU0FBUyxVQUFVLENBQUMsTUFBTSxFQUFFO0FBQzFCLE1BQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0NBQ3RCOztBQUVELFVBQVUsQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLFVBQVUsQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLFlBQVc7QUFDdkUsU0FBTyxFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztDQUN6QixDQUFDOztxQkFFYSxVQUFVOzs7Ozs7Ozs7Ozs7Ozs7QUNUekIsSUFBTSxNQUFNLEdBQUc7QUFDYixLQUFHLEVBQUUsT0FBTztBQUNaLEtBQUcsRUFBRSxNQUFNO0FBQ1gsS0FBRyxFQUFFLE1BQU07QUFDWCxLQUFHLEVBQUUsUUFBUTtBQUNiLEtBQUcsRUFBRSxRQUFRO0FBQ2IsS0FBRyxFQUFFLFFBQVE7QUFDYixLQUFHLEVBQUUsUUFBUTtDQUNkLENBQUM7O0FBRUYsSUFBTSxRQUFRLEdBQUcsWUFBWTtJQUN2QixRQUFRLEdBQUcsV0FBVyxDQUFDOztBQUU3QixTQUFTLFVBQVUsQ0FBQyxHQUFHLEVBQUU7QUFDdkIsU0FBTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7Q0FDcEI7O0FBRU0sU0FBUyxNQUFNLENBQUMsR0FBRyxvQkFBbUI7QUFDM0MsT0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDekMsU0FBSyxJQUFJLEdBQUcsSUFBSSxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUU7QUFDNUIsVUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFFO0FBQzNELFdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7T0FDOUI7S0FDRjtHQUNGOztBQUVELFNBQU8sR0FBRyxDQUFDO0NBQ1o7O0FBRU0sSUFBSSxRQUFRLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUM7Ozs7OztBQUtoRCxJQUFJLFVBQVUsR0FBRyxvQkFBUyxLQUFLLEVBQUU7QUFDL0IsU0FBTyxPQUFPLEtBQUssS0FBSyxVQUFVLENBQUM7Q0FDcEMsQ0FBQzs7O0FBR0YsSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUU7QUFDbkIsVUFJTSxVQUFVLEdBSmhCLFVBQVUsR0FBRyxVQUFTLEtBQUssRUFBRTtBQUMzQixXQUFPLE9BQU8sS0FBSyxLQUFLLFVBQVUsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLG1CQUFtQixDQUFDO0dBQ3BGLENBQUM7Q0FDSDtRQUNPLFVBQVUsR0FBVixVQUFVOzs7OztBQUlYLElBQU0sT0FBTyxHQUFHLEtBQUssQ0FBQyxPQUFPLElBQUksVUFBUyxLQUFLLEVBQUU7QUFDdEQsU0FBTyxBQUFDLEtBQUssSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEdBQUksUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7Q0FDakcsQ0FBQzs7Ozs7QUFHSyxTQUFTLE9BQU8sQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFO0FBQ3BDLE9BQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDaEQsUUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLEtBQUssS0FBSyxFQUFFO0FBQ3RCLGFBQU8sQ0FBQyxDQUFDO0tBQ1Y7R0FDRjtBQUNELFNBQU8sQ0FBQyxDQUFDLENBQUM7Q0FDWDs7QUFHTSxTQUFTLGdCQUFnQixDQUFDLE1BQU0sRUFBRTtBQUN2QyxNQUFJLE9BQU8sTUFBTSxLQUFLLFFBQVEsRUFBRTs7QUFFOUIsUUFBSSxNQUFNLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRTtBQUMzQixhQUFPLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztLQUN4QixNQUFNLElBQUksTUFBTSxJQUFJLElBQUksRUFBRTtBQUN6QixhQUFPLEVBQUUsQ0FBQztLQUNYLE1BQU0sSUFBSSxDQUFDLE1BQU0sRUFBRTtBQUNsQixhQUFPLE1BQU0sR0FBRyxFQUFFLENBQUM7S0FDcEI7Ozs7O0FBS0QsVUFBTSxHQUFHLEVBQUUsR0FBRyxNQUFNLENBQUM7R0FDdEI7O0FBRUQsTUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7QUFBRSxXQUFPLE1BQU0sQ0FBQztHQUFFO0FBQzlDLFNBQU8sTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsVUFBVSxDQUFDLENBQUM7Q0FDN0M7O0FBRU0sU0FBUyxPQUFPLENBQUMsS0FBSyxFQUFFO0FBQzdCLE1BQUksQ0FBQyxLQUFLLElBQUksS0FBSyxLQUFLLENBQUMsRUFBRTtBQUN6QixXQUFPLElBQUksQ0FBQztHQUNiLE1BQU0sSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7QUFDL0MsV0FBTyxJQUFJLENBQUM7R0FDYixNQUFNO0FBQ0wsV0FBTyxLQUFLLENBQUM7R0FDZDtDQUNGOztBQUVNLFNBQVMsV0FBVyxDQUFDLE1BQU0sRUFBRTtBQUNsQyxNQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQy9CLE9BQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO0FBQ3ZCLFNBQU8sS0FBSyxDQUFDO0NBQ2Q7O0FBRU0sU0FBUyxXQUFXLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRTtBQUN2QyxRQUFNLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztBQUNsQixTQUFPLE1BQU0sQ0FBQztDQUNmOztBQUVNLFNBQVMsaUJBQWlCLENBQUMsV0FBVyxFQUFFLEVBQUUsRUFBRTtBQUNqRCxTQUFPLENBQUMsV0FBVyxHQUFHLFdBQVcsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFBLEdBQUksRUFBRSxDQUFDO0NBQ3BEOzs7O0FDM0dEO0FBQ0E7QUFDQTtBQUNBOztBQ0hBO0FBQ0E7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQzEvUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDeHdFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3R1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoakNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBOztBQ0ZBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9CQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7O0FDSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ROQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNaQTtBQUNBO0FBQ0E7O0FDRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaFNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9IQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdklBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6TkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3RHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUN6Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUN0RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNySkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDekNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9VQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbklBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNVZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNkQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMURBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3REQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9EQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDYkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMW1CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGNyb3NzRG9tYWluOiB0cnVlLFxyXG4gIHRhcmdldDogJyNhcHAtd3JhcHBlcicsXHJcbiAgc3ZnU3ByaXRlUGF0aDogJ2Nzcy9zdmcvJyxcclxuICBzdmdTcHJpdGVzOiBbJ2ZhLWljb25zLnN2ZycsICdtYXRlcmlhbC1pY29ucy5zdmcnLCAnbWlzY2VsbGFuZW91cy5zdmcnLCAnb3JpZ28taWNvbnMuc3ZnJywgJ2N1c3RvbS5zdmcnXSxcclxuICBicmVha1BvaW50czoge1xyXG4gICAgeHM6IFsyNDAsIDMyMF0sXHJcbiAgICBzOiBbMzIwLCAzMjBdLFxyXG4gICAgbTogWzUwMCwgNTAwXSxcclxuICAgIGw6IFs3NjgsIDUwMF1cclxuICB9LFxyXG4gIGJyZWFrUG9pbnRzUHJlZml4OiAnby1tZWRpYScsXHJcbiAgZGVmYXVsdENvbnRyb2xzOiBbXHJcbiAgICB7XHJcbiAgICAgIFwibmFtZVwiOiBcInNjYWxlbGluZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIm5hbWVcIjogXCJ6b29tXCJcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIFwibmFtZVwiOiBcInJvdGF0ZVwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBcIm5hbWVcIjogXCJhdHRyaWJ1dGlvblwiXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgXCJuYW1lXCI6IFwiZnVsbHNjcmVlblwiXHJcbiAgICB9XHJcbiAgXVxyXG59XHJcbiIsInZhciBjb250cm9scyA9IHt9O1xyXG5jb250cm9scy5nZW9wb3NpdGlvbiA9IHJlcXVpcmUoJy4uL3NyYy9nZW9wb3NpdGlvbicpO1xyXG5jb250cm9scy5tYXBtZW51ID0gcmVxdWlyZSgnLi4vc3JjL21hcG1lbnUnKTtcclxuY29udHJvbHMucHJpbnQgPSByZXF1aXJlKCcuLi9zcmMvcHJpbnQnKTtcclxuY29udHJvbHMuc2hhcmVtYXAgPSByZXF1aXJlKCcuLi9zcmMvc2hhcmVtYXAnKTtcclxuY29udHJvbHMubGVnZW5kID0gcmVxdWlyZSgnLi4vc3JjL2xlZ2VuZCcpO1xyXG5jb250cm9scy5zZWFyY2ggPSByZXF1aXJlKCcuLi9zcmMvc2VhcmNoJyk7XHJcbmNvbnRyb2xzLmVkaXRvciA9IHJlcXVpcmUoJy4uL3NyYy9lZGl0b3InKTtcclxuY29udHJvbHMuaG9tZSA9IHJlcXVpcmUoJy4uL3NyYy9ob21lJyk7XHJcbmNvbnRyb2xzLm1lYXN1cmUgPSByZXF1aXJlKCcuLi9zcmMvbWVhc3VyZScpO1xyXG5jb250cm9scy5hYm91dCA9IHJlcXVpcmUoJy4uL3NyYy9hYm91dCcpO1xyXG5jb250cm9scy5zY2FsZSA9IHJlcXVpcmUoJy4uL3NyYy9zY2FsZScpO1xyXG5jb250cm9scy5vZmZsaW5lID0gcmVxdWlyZSgnLi4vc3JjL29mZmxpbmUnKTtcclxuY29udHJvbHMubGluayA9IHJlcXVpcmUoJy4uL3NyYy9saW5rJyk7XHJcbmNvbnRyb2xzLnNjYWxlbGluZSA9IHJlcXVpcmUoJy4uL3NyYy9zY2FsZWxpbmUnKTtcclxuY29udHJvbHMuem9vbSA9IHJlcXVpcmUoJy4uL3NyYy96b29tJyk7XHJcbmNvbnRyb2xzLnJvdGF0ZSA9IHJlcXVpcmUoJy4uL3NyYy9yb3RhdGUnKTtcclxuY29udHJvbHMuYXR0cmlidXRpb24gPSByZXF1aXJlKCcuLi9zcmMvYXR0cmlidXRpb24nKTtcclxuY29udHJvbHMucG9zaXRpb24gPSByZXF1aXJlKCcuLi9zcmMvcG9zaXRpb24nKTtcclxuY29udHJvbHMuZnVsbHNjcmVlbiA9IHJlcXVpcmUoJy4uL3NyYy9mdWxsc2NyZWVuJyk7XHJcbmNvbnRyb2xzLnNwbGFzaCA9IHJlcXVpcmUoJy4uL3NyYy9zcGxhc2gnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gY29udHJvbHM7XHJcbiIsIlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBPYmplY3QuY3JlYXRlJiYoT2JqZWN0LmNyZWF0ZT1mdW5jdGlvbihmKXtmdW5jdGlvbiBnKCl7fWcucHJvdG90eXBlPWY7cmV0dXJuIG5ldyBnfSk7XHJcbihmdW5jdGlvbihmLGcsayl7dmFyIGw9e2luaXQ6ZnVuY3Rpb24oYSxiKXt0aGlzLiRlbGVtPWYoYik7dGhpcy5vcHRpb25zPWYuZXh0ZW5kKHt9LGYuZm4ub3dsQ2Fyb3VzZWwub3B0aW9ucyx0aGlzLiRlbGVtLmRhdGEoKSxhKTt0aGlzLnVzZXJPcHRpb25zPWE7dGhpcy5sb2FkQ29udGVudCgpfSxsb2FkQ29udGVudDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dmFyIGQsZT1cIlwiO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBiLm9wdGlvbnMuanNvblN1Y2Nlc3MpYi5vcHRpb25zLmpzb25TdWNjZXNzLmFwcGx5KHRoaXMsW2FdKTtlbHNle2ZvcihkIGluIGEub3dsKWEub3dsLmhhc093blByb3BlcnR5KGQpJiYoZSs9YS5vd2xbZF0uaXRlbSk7Yi4kZWxlbS5odG1sKGUpfWIubG9nSW4oKX12YXIgYj10aGlzLGU7XCJmdW5jdGlvblwiPT09dHlwZW9mIGIub3B0aW9ucy5iZWZvcmVJbml0JiZiLm9wdGlvbnMuYmVmb3JlSW5pdC5hcHBseSh0aGlzLFtiLiRlbGVtXSk7XCJzdHJpbmdcIj09PXR5cGVvZiBiLm9wdGlvbnMuanNvblBhdGg/XHJcbihlPWIub3B0aW9ucy5qc29uUGF0aCxmLmdldEpTT04oZSxhKSk6Yi5sb2dJbigpfSxsb2dJbjpmdW5jdGlvbigpe3RoaXMuJGVsZW0uZGF0YShcIm93bC1vcmlnaW5hbFN0eWxlc1wiLHRoaXMuJGVsZW0uYXR0cihcInN0eWxlXCIpKTt0aGlzLiRlbGVtLmRhdGEoXCJvd2wtb3JpZ2luYWxDbGFzc2VzXCIsdGhpcy4kZWxlbS5hdHRyKFwiY2xhc3NcIikpO3RoaXMuJGVsZW0uY3NzKHtvcGFjaXR5OjB9KTt0aGlzLm9yaWduYWxJdGVtcz10aGlzLm9wdGlvbnMuaXRlbXM7dGhpcy5jaGVja0Jyb3dzZXIoKTt0aGlzLndyYXBwZXJXaWR0aD0wO3RoaXMuY2hlY2tWaXNpYmxlPW51bGw7dGhpcy5zZXRWYXJzKCl9LHNldFZhcnM6ZnVuY3Rpb24oKXtpZigwPT09dGhpcy4kZWxlbS5jaGlsZHJlbigpLmxlbmd0aClyZXR1cm4hMTt0aGlzLmJhc2VDbGFzcygpO3RoaXMuZXZlbnRUeXBlcygpO3RoaXMuJHVzZXJJdGVtcz10aGlzLiRlbGVtLmNoaWxkcmVuKCk7dGhpcy5pdGVtc0Ftb3VudD10aGlzLiR1c2VySXRlbXMubGVuZ3RoO1xyXG50aGlzLndyYXBJdGVtcygpO3RoaXMuJG93bEl0ZW1zPXRoaXMuJGVsZW0uZmluZChcIi5vd2wtaXRlbVwiKTt0aGlzLiRvd2xXcmFwcGVyPXRoaXMuJGVsZW0uZmluZChcIi5vd2wtd3JhcHBlclwiKTt0aGlzLnBsYXlEaXJlY3Rpb249XCJuZXh0XCI7dGhpcy5wcmV2SXRlbT0wO3RoaXMucHJldkFycj1bMF07dGhpcy5jdXJyZW50SXRlbT0wO3RoaXMuY3VzdG9tRXZlbnRzKCk7dGhpcy5vblN0YXJ0dXAoKX0sb25TdGFydHVwOmZ1bmN0aW9uKCl7dGhpcy51cGRhdGVJdGVtcygpO3RoaXMuY2FsY3VsYXRlQWxsKCk7dGhpcy5idWlsZENvbnRyb2xzKCk7dGhpcy51cGRhdGVDb250cm9scygpO3RoaXMucmVzcG9uc2UoKTt0aGlzLm1vdmVFdmVudHMoKTt0aGlzLnN0b3BPbkhvdmVyKCk7dGhpcy5vd2xTdGF0dXMoKTshMSE9PXRoaXMub3B0aW9ucy50cmFuc2l0aW9uU3R5bGUmJnRoaXMudHJhbnNpdGlvblR5cGVzKHRoaXMub3B0aW9ucy50cmFuc2l0aW9uU3R5bGUpOyEwPT09dGhpcy5vcHRpb25zLmF1dG9QbGF5JiZcclxuKHRoaXMub3B0aW9ucy5hdXRvUGxheT01RTMpO3RoaXMucGxheSgpO3RoaXMuJGVsZW0uZmluZChcIi5vd2wtd3JhcHBlclwiKS5jc3MoXCJkaXNwbGF5XCIsXCJibG9ja1wiKTt0aGlzLiRlbGVtLmlzKFwiOnZpc2libGVcIik/dGhpcy4kZWxlbS5jc3MoXCJvcGFjaXR5XCIsMSk6dGhpcy53YXRjaFZpc2liaWxpdHkoKTt0aGlzLm9uc3RhcnR1cD0hMTt0aGlzLmVhY2hNb3ZlVXBkYXRlKCk7XCJmdW5jdGlvblwiPT09dHlwZW9mIHRoaXMub3B0aW9ucy5hZnRlckluaXQmJnRoaXMub3B0aW9ucy5hZnRlckluaXQuYXBwbHkodGhpcyxbdGhpcy4kZWxlbV0pfSxlYWNoTW92ZVVwZGF0ZTpmdW5jdGlvbigpeyEwPT09dGhpcy5vcHRpb25zLmxhenlMb2FkJiZ0aGlzLmxhenlMb2FkKCk7ITA9PT10aGlzLm9wdGlvbnMuYXV0b0hlaWdodCYmdGhpcy5hdXRvSGVpZ2h0KCk7dGhpcy5vblZpc2libGVJdGVtcygpO1wiZnVuY3Rpb25cIj09PXR5cGVvZiB0aGlzLm9wdGlvbnMuYWZ0ZXJBY3Rpb24mJnRoaXMub3B0aW9ucy5hZnRlckFjdGlvbi5hcHBseSh0aGlzLFxyXG5bdGhpcy4kZWxlbV0pfSx1cGRhdGVWYXJzOmZ1bmN0aW9uKCl7XCJmdW5jdGlvblwiPT09dHlwZW9mIHRoaXMub3B0aW9ucy5iZWZvcmVVcGRhdGUmJnRoaXMub3B0aW9ucy5iZWZvcmVVcGRhdGUuYXBwbHkodGhpcyxbdGhpcy4kZWxlbV0pO3RoaXMud2F0Y2hWaXNpYmlsaXR5KCk7dGhpcy51cGRhdGVJdGVtcygpO3RoaXMuY2FsY3VsYXRlQWxsKCk7dGhpcy51cGRhdGVQb3NpdGlvbigpO3RoaXMudXBkYXRlQ29udHJvbHMoKTt0aGlzLmVhY2hNb3ZlVXBkYXRlKCk7XCJmdW5jdGlvblwiPT09dHlwZW9mIHRoaXMub3B0aW9ucy5hZnRlclVwZGF0ZSYmdGhpcy5vcHRpb25zLmFmdGVyVXBkYXRlLmFwcGx5KHRoaXMsW3RoaXMuJGVsZW1dKX0scmVsb2FkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztnLnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLnVwZGF0ZVZhcnMoKX0sMCl9LHdhdGNoVmlzaWJpbGl0eTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoITE9PT1hLiRlbGVtLmlzKFwiOnZpc2libGVcIikpYS4kZWxlbS5jc3Moe29wYWNpdHk6MH0pLFxyXG5nLmNsZWFySW50ZXJ2YWwoYS5hdXRvUGxheUludGVydmFsKSxnLmNsZWFySW50ZXJ2YWwoYS5jaGVja1Zpc2libGUpO2Vsc2UgcmV0dXJuITE7YS5jaGVja1Zpc2libGU9Zy5zZXRJbnRlcnZhbChmdW5jdGlvbigpe2EuJGVsZW0uaXMoXCI6dmlzaWJsZVwiKSYmKGEucmVsb2FkKCksYS4kZWxlbS5hbmltYXRlKHtvcGFjaXR5OjF9LDIwMCksZy5jbGVhckludGVydmFsKGEuY2hlY2tWaXNpYmxlKSl9LDUwMCl9LHdyYXBJdGVtczpmdW5jdGlvbigpe3RoaXMuJHVzZXJJdGVtcy53cmFwQWxsKCc8ZGl2IGNsYXNzPVwib3dsLXdyYXBwZXJcIj4nKS53cmFwKCc8ZGl2IGNsYXNzPVwib3dsLWl0ZW1cIj48L2Rpdj4nKTt0aGlzLiRlbGVtLmZpbmQoXCIub3dsLXdyYXBwZXJcIikud3JhcCgnPGRpdiBjbGFzcz1cIm93bC13cmFwcGVyLW91dGVyXCI+Jyk7dGhpcy53cmFwcGVyT3V0ZXI9dGhpcy4kZWxlbS5maW5kKFwiLm93bC13cmFwcGVyLW91dGVyXCIpO3RoaXMuJGVsZW0uY3NzKFwiZGlzcGxheVwiLFwiYmxvY2tcIil9LFxyXG5iYXNlQ2xhc3M6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiRlbGVtLmhhc0NsYXNzKHRoaXMub3B0aW9ucy5iYXNlQ2xhc3MpLGI9dGhpcy4kZWxlbS5oYXNDbGFzcyh0aGlzLm9wdGlvbnMudGhlbWUpO2F8fHRoaXMuJGVsZW0uYWRkQ2xhc3ModGhpcy5vcHRpb25zLmJhc2VDbGFzcyk7Ynx8dGhpcy4kZWxlbS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMudGhlbWUpfSx1cGRhdGVJdGVtczpmdW5jdGlvbigpe3ZhciBhLGI7aWYoITE9PT10aGlzLm9wdGlvbnMucmVzcG9uc2l2ZSlyZXR1cm4hMTtpZighMD09PXRoaXMub3B0aW9ucy5zaW5nbGVJdGVtKXJldHVybiB0aGlzLm9wdGlvbnMuaXRlbXM9dGhpcy5vcmlnbmFsSXRlbXM9MSx0aGlzLm9wdGlvbnMuaXRlbXNDdXN0b209ITEsdGhpcy5vcHRpb25zLml0ZW1zRGVza3RvcD0hMSx0aGlzLm9wdGlvbnMuaXRlbXNEZXNrdG9wU21hbGw9ITEsdGhpcy5vcHRpb25zLml0ZW1zVGFibGV0PSExLHRoaXMub3B0aW9ucy5pdGVtc1RhYmxldFNtYWxsPVxyXG4hMSx0aGlzLm9wdGlvbnMuaXRlbXNNb2JpbGU9ITE7YT1mKHRoaXMub3B0aW9ucy5yZXNwb25zaXZlQmFzZVdpZHRoKS53aWR0aCgpO2E+KHRoaXMub3B0aW9ucy5pdGVtc0Rlc2t0b3BbMF18fHRoaXMub3JpZ25hbEl0ZW1zKSYmKHRoaXMub3B0aW9ucy5pdGVtcz10aGlzLm9yaWduYWxJdGVtcyk7aWYoITEhPT10aGlzLm9wdGlvbnMuaXRlbXNDdXN0b20pZm9yKHRoaXMub3B0aW9ucy5pdGVtc0N1c3RvbS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGFbMF0tYlswXX0pLGI9MDtiPHRoaXMub3B0aW9ucy5pdGVtc0N1c3RvbS5sZW5ndGg7Yis9MSl0aGlzLm9wdGlvbnMuaXRlbXNDdXN0b21bYl1bMF08PWEmJih0aGlzLm9wdGlvbnMuaXRlbXM9dGhpcy5vcHRpb25zLml0ZW1zQ3VzdG9tW2JdWzFdKTtlbHNlIGE8PXRoaXMub3B0aW9ucy5pdGVtc0Rlc2t0b3BbMF0mJiExIT09dGhpcy5vcHRpb25zLml0ZW1zRGVza3RvcCYmKHRoaXMub3B0aW9ucy5pdGVtcz10aGlzLm9wdGlvbnMuaXRlbXNEZXNrdG9wWzFdKSxcclxuYTw9dGhpcy5vcHRpb25zLml0ZW1zRGVza3RvcFNtYWxsWzBdJiYhMSE9PXRoaXMub3B0aW9ucy5pdGVtc0Rlc2t0b3BTbWFsbCYmKHRoaXMub3B0aW9ucy5pdGVtcz10aGlzLm9wdGlvbnMuaXRlbXNEZXNrdG9wU21hbGxbMV0pLGE8PXRoaXMub3B0aW9ucy5pdGVtc1RhYmxldFswXSYmITEhPT10aGlzLm9wdGlvbnMuaXRlbXNUYWJsZXQmJih0aGlzLm9wdGlvbnMuaXRlbXM9dGhpcy5vcHRpb25zLml0ZW1zVGFibGV0WzFdKSxhPD10aGlzLm9wdGlvbnMuaXRlbXNUYWJsZXRTbWFsbFswXSYmITEhPT10aGlzLm9wdGlvbnMuaXRlbXNUYWJsZXRTbWFsbCYmKHRoaXMub3B0aW9ucy5pdGVtcz10aGlzLm9wdGlvbnMuaXRlbXNUYWJsZXRTbWFsbFsxXSksYTw9dGhpcy5vcHRpb25zLml0ZW1zTW9iaWxlWzBdJiYhMSE9PXRoaXMub3B0aW9ucy5pdGVtc01vYmlsZSYmKHRoaXMub3B0aW9ucy5pdGVtcz10aGlzLm9wdGlvbnMuaXRlbXNNb2JpbGVbMV0pO3RoaXMub3B0aW9ucy5pdGVtcz50aGlzLml0ZW1zQW1vdW50JiZcclxuITA9PT10aGlzLm9wdGlvbnMuaXRlbXNTY2FsZVVwJiYodGhpcy5vcHRpb25zLml0ZW1zPXRoaXMuaXRlbXNBbW91bnQpfSxyZXNwb25zZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYixlO2lmKCEwIT09YS5vcHRpb25zLnJlc3BvbnNpdmUpcmV0dXJuITE7ZT1mKGcpLndpZHRoKCk7YS5yZXNpemVyPWZ1bmN0aW9uKCl7ZihnKS53aWR0aCgpIT09ZSYmKCExIT09YS5vcHRpb25zLmF1dG9QbGF5JiZnLmNsZWFySW50ZXJ2YWwoYS5hdXRvUGxheUludGVydmFsKSxnLmNsZWFyVGltZW91dChiKSxiPWcuc2V0VGltZW91dChmdW5jdGlvbigpe2U9ZihnKS53aWR0aCgpO2EudXBkYXRlVmFycygpfSxhLm9wdGlvbnMucmVzcG9uc2l2ZVJlZnJlc2hSYXRlKSl9O2YoZykucmVzaXplKGEucmVzaXplcil9LHVwZGF0ZVBvc2l0aW9uOmZ1bmN0aW9uKCl7dGhpcy5qdW1wVG8odGhpcy5jdXJyZW50SXRlbSk7ITEhPT10aGlzLm9wdGlvbnMuYXV0b1BsYXkmJnRoaXMuY2hlY2tBcCgpfSxhcHBlbmRJdGVtc1NpemVzOmZ1bmN0aW9uKCl7dmFyIGE9XHJcbnRoaXMsYj0wLGU9YS5pdGVtc0Ftb3VudC1hLm9wdGlvbnMuaXRlbXM7YS4kb3dsSXRlbXMuZWFjaChmdW5jdGlvbihjKXt2YXIgZD1mKHRoaXMpO2QuY3NzKHt3aWR0aDphLml0ZW1XaWR0aH0pLmRhdGEoXCJvd2wtaXRlbVwiLE51bWJlcihjKSk7aWYoMD09PWMlYS5vcHRpb25zLml0ZW1zfHxjPT09ZSljPmV8fChiKz0xKTtkLmRhdGEoXCJvd2wtcm91bmRQYWdlc1wiLGIpfSl9LGFwcGVuZFdyYXBwZXJTaXplczpmdW5jdGlvbigpe3RoaXMuJG93bFdyYXBwZXIuY3NzKHt3aWR0aDp0aGlzLiRvd2xJdGVtcy5sZW5ndGgqdGhpcy5pdGVtV2lkdGgqMixsZWZ0OjB9KTt0aGlzLmFwcGVuZEl0ZW1zU2l6ZXMoKX0sY2FsY3VsYXRlQWxsOmZ1bmN0aW9uKCl7dGhpcy5jYWxjdWxhdGVXaWR0aCgpO3RoaXMuYXBwZW5kV3JhcHBlclNpemVzKCk7dGhpcy5sb29wcygpO3RoaXMubWF4KCl9LGNhbGN1bGF0ZVdpZHRoOmZ1bmN0aW9uKCl7dGhpcy5pdGVtV2lkdGg9TWF0aC5yb3VuZCh0aGlzLiRlbGVtLndpZHRoKCkvXHJcbnRoaXMub3B0aW9ucy5pdGVtcyl9LG1heDpmdW5jdGlvbigpe3ZhciBhPS0xKih0aGlzLml0ZW1zQW1vdW50KnRoaXMuaXRlbVdpZHRoLXRoaXMub3B0aW9ucy5pdGVtcyp0aGlzLml0ZW1XaWR0aCk7dGhpcy5vcHRpb25zLml0ZW1zPnRoaXMuaXRlbXNBbW91bnQ/dGhpcy5tYXhpbXVtUGl4ZWxzPWE9dGhpcy5tYXhpbXVtSXRlbT0wOih0aGlzLm1heGltdW1JdGVtPXRoaXMuaXRlbXNBbW91bnQtdGhpcy5vcHRpb25zLml0ZW1zLHRoaXMubWF4aW11bVBpeGVscz1hKTtyZXR1cm4gYX0sbWluOmZ1bmN0aW9uKCl7cmV0dXJuIDB9LGxvb3BzOmZ1bmN0aW9uKCl7dmFyIGE9MCxiPTAsZSxjO3RoaXMucG9zaXRpb25zSW5BcnJheT1bMF07dGhpcy5wYWdlc0luQXJyYXk9W107Zm9yKGU9MDtlPHRoaXMuaXRlbXNBbW91bnQ7ZSs9MSliKz10aGlzLml0ZW1XaWR0aCx0aGlzLnBvc2l0aW9uc0luQXJyYXkucHVzaCgtYiksITA9PT10aGlzLm9wdGlvbnMuc2Nyb2xsUGVyUGFnZSYmKGM9Zih0aGlzLiRvd2xJdGVtc1tlXSksXHJcbmM9Yy5kYXRhKFwib3dsLXJvdW5kUGFnZXNcIiksYyE9PWEmJih0aGlzLnBhZ2VzSW5BcnJheVthXT10aGlzLnBvc2l0aW9uc0luQXJyYXlbZV0sYT1jKSl9LGJ1aWxkQ29udHJvbHM6ZnVuY3Rpb24oKXtpZighMD09PXRoaXMub3B0aW9ucy5uYXZpZ2F0aW9ufHwhMD09PXRoaXMub3B0aW9ucy5wYWdpbmF0aW9uKXRoaXMub3dsQ29udHJvbHM9ZignPGRpdiBjbGFzcz1cIm93bC1jb250cm9sc1wiLz4nKS50b2dnbGVDbGFzcyhcImNsaWNrYWJsZVwiLCF0aGlzLmJyb3dzZXIuaXNUb3VjaCkuYXBwZW5kVG8odGhpcy4kZWxlbSk7ITA9PT10aGlzLm9wdGlvbnMucGFnaW5hdGlvbiYmdGhpcy5idWlsZFBhZ2luYXRpb24oKTshMD09PXRoaXMub3B0aW9ucy5uYXZpZ2F0aW9uJiZ0aGlzLmJ1aWxkQnV0dG9ucygpfSxidWlsZEJ1dHRvbnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9ZignPGRpdiBjbGFzcz1cIm93bC1idXR0b25zXCIvPicpO2Eub3dsQ29udHJvbHMuYXBwZW5kKGIpO2EuYnV0dG9uUHJldj1cclxuZihcIjxkaXYvPlwiLHtcImNsYXNzXCI6XCJvd2wtcHJldlwiLGh0bWw6YS5vcHRpb25zLm5hdmlnYXRpb25UZXh0WzBdfHxcIlwifSk7YS5idXR0b25OZXh0PWYoXCI8ZGl2Lz5cIix7XCJjbGFzc1wiOlwib3dsLW5leHRcIixodG1sOmEub3B0aW9ucy5uYXZpZ2F0aW9uVGV4dFsxXXx8XCJcIn0pO2IuYXBwZW5kKGEuYnV0dG9uUHJldikuYXBwZW5kKGEuYnV0dG9uTmV4dCk7Yi5vbihcInRvdWNoc3RhcnQub3dsQ29udHJvbHMgbW91c2Vkb3duLm93bENvbnRyb2xzXCIsJ2RpdltjbGFzc149XCJvd2xcIl0nLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKX0pO2Iub24oXCJ0b3VjaGVuZC5vd2xDb250cm9scyBtb3VzZXVwLm93bENvbnRyb2xzXCIsJ2RpdltjbGFzc149XCJvd2xcIl0nLGZ1bmN0aW9uKGIpe2IucHJldmVudERlZmF1bHQoKTtmKHRoaXMpLmhhc0NsYXNzKFwib3dsLW5leHRcIik/YS5uZXh0KCk6YS5wcmV2KCl9KX0sYnVpbGRQYWdpbmF0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLnBhZ2luYXRpb25XcmFwcGVyPVxyXG5mKCc8ZGl2IGNsYXNzPVwib3dsLXBhZ2luYXRpb25cIi8+Jyk7YS5vd2xDb250cm9scy5hcHBlbmQoYS5wYWdpbmF0aW9uV3JhcHBlcik7YS5wYWdpbmF0aW9uV3JhcHBlci5vbihcInRvdWNoZW5kLm93bENvbnRyb2xzIG1vdXNldXAub3dsQ29udHJvbHNcIixcIi5vd2wtcGFnZVwiLGZ1bmN0aW9uKGIpe2IucHJldmVudERlZmF1bHQoKTtOdW1iZXIoZih0aGlzKS5kYXRhKFwib3dsLXBhZ2VcIikpIT09YS5jdXJyZW50SXRlbSYmYS5nb1RvKE51bWJlcihmKHRoaXMpLmRhdGEoXCJvd2wtcGFnZVwiKSksITApfSl9LHVwZGF0ZVBhZ2luYXRpb246ZnVuY3Rpb24oKXt2YXIgYSxiLGUsYyxkLGc7aWYoITE9PT10aGlzLm9wdGlvbnMucGFnaW5hdGlvbilyZXR1cm4hMTt0aGlzLnBhZ2luYXRpb25XcmFwcGVyLmh0bWwoXCJcIik7YT0wO2I9dGhpcy5pdGVtc0Ftb3VudC10aGlzLml0ZW1zQW1vdW50JXRoaXMub3B0aW9ucy5pdGVtcztmb3IoYz0wO2M8dGhpcy5pdGVtc0Ftb3VudDtjKz0xKTA9PT1jJXRoaXMub3B0aW9ucy5pdGVtcyYmXHJcbihhKz0xLGI9PT1jJiYoZT10aGlzLml0ZW1zQW1vdW50LXRoaXMub3B0aW9ucy5pdGVtcyksZD1mKFwiPGRpdi8+XCIse1wiY2xhc3NcIjpcIm93bC1wYWdlXCJ9KSxnPWYoXCI8c3Bhbj48L3NwYW4+XCIse3RleHQ6ITA9PT10aGlzLm9wdGlvbnMucGFnaW5hdGlvbk51bWJlcnM/YTpcIlwiLFwiY2xhc3NcIjohMD09PXRoaXMub3B0aW9ucy5wYWdpbmF0aW9uTnVtYmVycz9cIm93bC1udW1iZXJzXCI6XCJcIn0pLGQuYXBwZW5kKGcpLGQuZGF0YShcIm93bC1wYWdlXCIsYj09PWM/ZTpjKSxkLmRhdGEoXCJvd2wtcm91bmRQYWdlc1wiLGEpLHRoaXMucGFnaW5hdGlvbldyYXBwZXIuYXBwZW5kKGQpKTt0aGlzLmNoZWNrUGFnaW5hdGlvbigpfSxjaGVja1BhZ2luYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKCExPT09YS5vcHRpb25zLnBhZ2luYXRpb24pcmV0dXJuITE7YS5wYWdpbmF0aW9uV3JhcHBlci5maW5kKFwiLm93bC1wYWdlXCIpLmVhY2goZnVuY3Rpb24oKXtmKHRoaXMpLmRhdGEoXCJvd2wtcm91bmRQYWdlc1wiKT09PVxyXG5mKGEuJG93bEl0ZW1zW2EuY3VycmVudEl0ZW1dKS5kYXRhKFwib3dsLXJvdW5kUGFnZXNcIikmJihhLnBhZ2luYXRpb25XcmFwcGVyLmZpbmQoXCIub3dsLXBhZ2VcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIiksZih0aGlzKS5hZGRDbGFzcyhcImFjdGl2ZVwiKSl9KX0sY2hlY2tOYXZpZ2F0aW9uOmZ1bmN0aW9uKCl7aWYoITE9PT10aGlzLm9wdGlvbnMubmF2aWdhdGlvbilyZXR1cm4hMTshMT09PXRoaXMub3B0aW9ucy5yZXdpbmROYXYmJigwPT09dGhpcy5jdXJyZW50SXRlbSYmMD09PXRoaXMubWF4aW11bUl0ZW0/KHRoaXMuYnV0dG9uUHJldi5hZGRDbGFzcyhcImRpc2FibGVkXCIpLHRoaXMuYnV0dG9uTmV4dC5hZGRDbGFzcyhcImRpc2FibGVkXCIpKTowPT09dGhpcy5jdXJyZW50SXRlbSYmMCE9PXRoaXMubWF4aW11bUl0ZW0/KHRoaXMuYnV0dG9uUHJldi5hZGRDbGFzcyhcImRpc2FibGVkXCIpLHRoaXMuYnV0dG9uTmV4dC5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpKTp0aGlzLmN1cnJlbnRJdGVtPT09XHJcbnRoaXMubWF4aW11bUl0ZW0/KHRoaXMuYnV0dG9uUHJldi5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpLHRoaXMuYnV0dG9uTmV4dC5hZGRDbGFzcyhcImRpc2FibGVkXCIpKTowIT09dGhpcy5jdXJyZW50SXRlbSYmdGhpcy5jdXJyZW50SXRlbSE9PXRoaXMubWF4aW11bUl0ZW0mJih0aGlzLmJ1dHRvblByZXYucmVtb3ZlQ2xhc3MoXCJkaXNhYmxlZFwiKSx0aGlzLmJ1dHRvbk5leHQucmVtb3ZlQ2xhc3MoXCJkaXNhYmxlZFwiKSkpfSx1cGRhdGVDb250cm9sczpmdW5jdGlvbigpe3RoaXMudXBkYXRlUGFnaW5hdGlvbigpO3RoaXMuY2hlY2tOYXZpZ2F0aW9uKCk7dGhpcy5vd2xDb250cm9scyYmKHRoaXMub3B0aW9ucy5pdGVtcz49dGhpcy5pdGVtc0Ftb3VudD90aGlzLm93bENvbnRyb2xzLmhpZGUoKTp0aGlzLm93bENvbnRyb2xzLnNob3coKSl9LGRlc3Ryb3lDb250cm9sczpmdW5jdGlvbigpe3RoaXMub3dsQ29udHJvbHMmJnRoaXMub3dsQ29udHJvbHMucmVtb3ZlKCl9LG5leHQ6ZnVuY3Rpb24oYSl7aWYodGhpcy5pc1RyYW5zaXRpb24pcmV0dXJuITE7XHJcbnRoaXMuY3VycmVudEl0ZW0rPSEwPT09dGhpcy5vcHRpb25zLnNjcm9sbFBlclBhZ2U/dGhpcy5vcHRpb25zLml0ZW1zOjE7aWYodGhpcy5jdXJyZW50SXRlbT50aGlzLm1heGltdW1JdGVtKyghMD09PXRoaXMub3B0aW9ucy5zY3JvbGxQZXJQYWdlP3RoaXMub3B0aW9ucy5pdGVtcy0xOjApKWlmKCEwPT09dGhpcy5vcHRpb25zLnJld2luZE5hdil0aGlzLmN1cnJlbnRJdGVtPTAsYT1cInJld2luZFwiO2Vsc2UgcmV0dXJuIHRoaXMuY3VycmVudEl0ZW09dGhpcy5tYXhpbXVtSXRlbSwhMTt0aGlzLmdvVG8odGhpcy5jdXJyZW50SXRlbSxhKX0scHJldjpmdW5jdGlvbihhKXtpZih0aGlzLmlzVHJhbnNpdGlvbilyZXR1cm4hMTt0aGlzLmN1cnJlbnRJdGVtPSEwPT09dGhpcy5vcHRpb25zLnNjcm9sbFBlclBhZ2UmJjA8dGhpcy5jdXJyZW50SXRlbSYmdGhpcy5jdXJyZW50SXRlbTx0aGlzLm9wdGlvbnMuaXRlbXM/MDp0aGlzLmN1cnJlbnRJdGVtLSghMD09PXRoaXMub3B0aW9ucy5zY3JvbGxQZXJQYWdlP1xyXG50aGlzLm9wdGlvbnMuaXRlbXM6MSk7aWYoMD50aGlzLmN1cnJlbnRJdGVtKWlmKCEwPT09dGhpcy5vcHRpb25zLnJld2luZE5hdil0aGlzLmN1cnJlbnRJdGVtPXRoaXMubWF4aW11bUl0ZW0sYT1cInJld2luZFwiO2Vsc2UgcmV0dXJuIHRoaXMuY3VycmVudEl0ZW09MCwhMTt0aGlzLmdvVG8odGhpcy5jdXJyZW50SXRlbSxhKX0sZ29UbzpmdW5jdGlvbihhLGIsZSl7dmFyIGM9dGhpcztpZihjLmlzVHJhbnNpdGlvbilyZXR1cm4hMTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgYy5vcHRpb25zLmJlZm9yZU1vdmUmJmMub3B0aW9ucy5iZWZvcmVNb3ZlLmFwcGx5KHRoaXMsW2MuJGVsZW1dKTthPj1jLm1heGltdW1JdGVtP2E9Yy5tYXhpbXVtSXRlbTowPj1hJiYoYT0wKTtjLmN1cnJlbnRJdGVtPWMub3dsLmN1cnJlbnRJdGVtPWE7aWYoITEhPT1jLm9wdGlvbnMudHJhbnNpdGlvblN0eWxlJiZcImRyYWdcIiE9PWUmJjE9PT1jLm9wdGlvbnMuaXRlbXMmJiEwPT09Yy5icm93c2VyLnN1cHBvcnQzZClyZXR1cm4gYy5zd2FwU3BlZWQoMCksXHJcbiEwPT09Yy5icm93c2VyLnN1cHBvcnQzZD9jLnRyYW5zaXRpb24zZChjLnBvc2l0aW9uc0luQXJyYXlbYV0pOmMuY3NzMnNsaWRlKGMucG9zaXRpb25zSW5BcnJheVthXSwxKSxjLmFmdGVyR28oKSxjLnNpbmdsZUl0ZW1UcmFuc2l0aW9uKCksITE7YT1jLnBvc2l0aW9uc0luQXJyYXlbYV07ITA9PT1jLmJyb3dzZXIuc3VwcG9ydDNkPyhjLmlzQ3NzM0ZpbmlzaD0hMSwhMD09PWI/KGMuc3dhcFNwZWVkKFwicGFnaW5hdGlvblNwZWVkXCIpLGcuc2V0VGltZW91dChmdW5jdGlvbigpe2MuaXNDc3MzRmluaXNoPSEwfSxjLm9wdGlvbnMucGFnaW5hdGlvblNwZWVkKSk6XCJyZXdpbmRcIj09PWI/KGMuc3dhcFNwZWVkKGMub3B0aW9ucy5yZXdpbmRTcGVlZCksZy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5pc0NzczNGaW5pc2g9ITB9LGMub3B0aW9ucy5yZXdpbmRTcGVlZCkpOihjLnN3YXBTcGVlZChcInNsaWRlU3BlZWRcIiksZy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5pc0NzczNGaW5pc2g9ITB9LFxyXG5jLm9wdGlvbnMuc2xpZGVTcGVlZCkpLGMudHJhbnNpdGlvbjNkKGEpKTohMD09PWI/Yy5jc3Myc2xpZGUoYSxjLm9wdGlvbnMucGFnaW5hdGlvblNwZWVkKTpcInJld2luZFwiPT09Yj9jLmNzczJzbGlkZShhLGMub3B0aW9ucy5yZXdpbmRTcGVlZCk6Yy5jc3Myc2xpZGUoYSxjLm9wdGlvbnMuc2xpZGVTcGVlZCk7Yy5hZnRlckdvKCl9LGp1bXBUbzpmdW5jdGlvbihhKXtcImZ1bmN0aW9uXCI9PT10eXBlb2YgdGhpcy5vcHRpb25zLmJlZm9yZU1vdmUmJnRoaXMub3B0aW9ucy5iZWZvcmVNb3ZlLmFwcGx5KHRoaXMsW3RoaXMuJGVsZW1dKTthPj10aGlzLm1heGltdW1JdGVtfHwtMT09PWE/YT10aGlzLm1heGltdW1JdGVtOjA+PWEmJihhPTApO3RoaXMuc3dhcFNwZWVkKDApOyEwPT09dGhpcy5icm93c2VyLnN1cHBvcnQzZD90aGlzLnRyYW5zaXRpb24zZCh0aGlzLnBvc2l0aW9uc0luQXJyYXlbYV0pOnRoaXMuY3NzMnNsaWRlKHRoaXMucG9zaXRpb25zSW5BcnJheVthXSwxKTt0aGlzLmN1cnJlbnRJdGVtPVxyXG50aGlzLm93bC5jdXJyZW50SXRlbT1hO3RoaXMuYWZ0ZXJHbygpfSxhZnRlckdvOmZ1bmN0aW9uKCl7dGhpcy5wcmV2QXJyLnB1c2godGhpcy5jdXJyZW50SXRlbSk7dGhpcy5wcmV2SXRlbT10aGlzLm93bC5wcmV2SXRlbT10aGlzLnByZXZBcnJbdGhpcy5wcmV2QXJyLmxlbmd0aC0yXTt0aGlzLnByZXZBcnIuc2hpZnQoMCk7dGhpcy5wcmV2SXRlbSE9PXRoaXMuY3VycmVudEl0ZW0mJih0aGlzLmNoZWNrUGFnaW5hdGlvbigpLHRoaXMuY2hlY2tOYXZpZ2F0aW9uKCksdGhpcy5lYWNoTW92ZVVwZGF0ZSgpLCExIT09dGhpcy5vcHRpb25zLmF1dG9QbGF5JiZ0aGlzLmNoZWNrQXAoKSk7XCJmdW5jdGlvblwiPT09dHlwZW9mIHRoaXMub3B0aW9ucy5hZnRlck1vdmUmJnRoaXMucHJldkl0ZW0hPT10aGlzLmN1cnJlbnRJdGVtJiZ0aGlzLm9wdGlvbnMuYWZ0ZXJNb3ZlLmFwcGx5KHRoaXMsW3RoaXMuJGVsZW1dKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuYXBTdGF0dXM9XCJzdG9wXCI7Zy5jbGVhckludGVydmFsKHRoaXMuYXV0b1BsYXlJbnRlcnZhbCl9LFxyXG5jaGVja0FwOmZ1bmN0aW9uKCl7XCJzdG9wXCIhPT10aGlzLmFwU3RhdHVzJiZ0aGlzLnBsYXkoKX0scGxheTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5hcFN0YXR1cz1cInBsYXlcIjtpZighMT09PWEub3B0aW9ucy5hdXRvUGxheSlyZXR1cm4hMTtnLmNsZWFySW50ZXJ2YWwoYS5hdXRvUGxheUludGVydmFsKTthLmF1dG9QbGF5SW50ZXJ2YWw9Zy5zZXRJbnRlcnZhbChmdW5jdGlvbigpe2EubmV4dCghMCl9LGEub3B0aW9ucy5hdXRvUGxheSl9LHN3YXBTcGVlZDpmdW5jdGlvbihhKXtcInNsaWRlU3BlZWRcIj09PWE/dGhpcy4kb3dsV3JhcHBlci5jc3ModGhpcy5hZGRDc3NTcGVlZCh0aGlzLm9wdGlvbnMuc2xpZGVTcGVlZCkpOlwicGFnaW5hdGlvblNwZWVkXCI9PT1hP3RoaXMuJG93bFdyYXBwZXIuY3NzKHRoaXMuYWRkQ3NzU3BlZWQodGhpcy5vcHRpb25zLnBhZ2luYXRpb25TcGVlZCkpOlwic3RyaW5nXCIhPT10eXBlb2YgYSYmdGhpcy4kb3dsV3JhcHBlci5jc3ModGhpcy5hZGRDc3NTcGVlZChhKSl9LFxyXG5hZGRDc3NTcGVlZDpmdW5jdGlvbihhKXtyZXR1cm57XCItd2Via2l0LXRyYW5zaXRpb25cIjpcImFsbCBcIithK1wibXMgZWFzZVwiLFwiLW1vei10cmFuc2l0aW9uXCI6XCJhbGwgXCIrYStcIm1zIGVhc2VcIixcIi1vLXRyYW5zaXRpb25cIjpcImFsbCBcIithK1wibXMgZWFzZVwiLHRyYW5zaXRpb246XCJhbGwgXCIrYStcIm1zIGVhc2VcIn19LHJlbW92ZVRyYW5zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm57XCItd2Via2l0LXRyYW5zaXRpb25cIjpcIlwiLFwiLW1vei10cmFuc2l0aW9uXCI6XCJcIixcIi1vLXRyYW5zaXRpb25cIjpcIlwiLHRyYW5zaXRpb246XCJcIn19LGRvVHJhbnNsYXRlOmZ1bmN0aW9uKGEpe3JldHVybntcIi13ZWJraXQtdHJhbnNmb3JtXCI6XCJ0cmFuc2xhdGUzZChcIithK1wicHgsIDBweCwgMHB4KVwiLFwiLW1vei10cmFuc2Zvcm1cIjpcInRyYW5zbGF0ZTNkKFwiK2ErXCJweCwgMHB4LCAwcHgpXCIsXCItby10cmFuc2Zvcm1cIjpcInRyYW5zbGF0ZTNkKFwiK2ErXCJweCwgMHB4LCAwcHgpXCIsXCItbXMtdHJhbnNmb3JtXCI6XCJ0cmFuc2xhdGUzZChcIitcclxuYStcInB4LCAwcHgsIDBweClcIix0cmFuc2Zvcm06XCJ0cmFuc2xhdGUzZChcIithK1wicHgsIDBweCwwcHgpXCJ9fSx0cmFuc2l0aW9uM2Q6ZnVuY3Rpb24oYSl7dGhpcy4kb3dsV3JhcHBlci5jc3ModGhpcy5kb1RyYW5zbGF0ZShhKSl9LGNzczJtb3ZlOmZ1bmN0aW9uKGEpe3RoaXMuJG93bFdyYXBwZXIuY3NzKHtsZWZ0OmF9KX0sY3NzMnNsaWRlOmZ1bmN0aW9uKGEsYil7dmFyIGU9dGhpcztlLmlzQ3NzRmluaXNoPSExO2UuJG93bFdyYXBwZXIuc3RvcCghMCwhMCkuYW5pbWF0ZSh7bGVmdDphfSx7ZHVyYXRpb246Ynx8ZS5vcHRpb25zLnNsaWRlU3BlZWQsY29tcGxldGU6ZnVuY3Rpb24oKXtlLmlzQ3NzRmluaXNoPSEwfX0pfSxjaGVja0Jyb3dzZXI6ZnVuY3Rpb24oKXt2YXIgYT1rLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5zdHlsZS5jc3NUZXh0PVwiICAtbW96LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwcHgsIDBweCwgMHB4KTsgLW1zLXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwcHgsIDBweCwgMHB4KTsgLW8tdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDBweCwgMHB4LCAwcHgpOyAtd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwcHgsIDBweCwgMHB4KTsgdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDBweCwgMHB4LCAwcHgpXCI7XHJcbmE9YS5zdHlsZS5jc3NUZXh0Lm1hdGNoKC90cmFuc2xhdGUzZFxcKDBweCwgMHB4LCAwcHhcXCkvZyk7dGhpcy5icm93c2VyPXtzdXBwb3J0M2Q6bnVsbCE9PWEmJjE9PT1hLmxlbmd0aCxpc1RvdWNoOlwib250b3VjaHN0YXJ0XCJpbiBnfHxnLm5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzfX0sbW92ZUV2ZW50czpmdW5jdGlvbigpe2lmKCExIT09dGhpcy5vcHRpb25zLm1vdXNlRHJhZ3x8ITEhPT10aGlzLm9wdGlvbnMudG91Y2hEcmFnKXRoaXMuZ2VzdHVyZXMoKSx0aGlzLmRpc2FibGVkRXZlbnRzKCl9LGV2ZW50VHlwZXM6ZnVuY3Rpb24oKXt2YXIgYT1bXCJzXCIsXCJlXCIsXCJ4XCJdO3RoaXMuZXZfdHlwZXM9e307ITA9PT10aGlzLm9wdGlvbnMubW91c2VEcmFnJiYhMD09PXRoaXMub3B0aW9ucy50b3VjaERyYWc/YT1bXCJ0b3VjaHN0YXJ0Lm93bCBtb3VzZWRvd24ub3dsXCIsXCJ0b3VjaG1vdmUub3dsIG1vdXNlbW92ZS5vd2xcIixcInRvdWNoZW5kLm93bCB0b3VjaGNhbmNlbC5vd2wgbW91c2V1cC5vd2xcIl06XHJcbiExPT09dGhpcy5vcHRpb25zLm1vdXNlRHJhZyYmITA9PT10aGlzLm9wdGlvbnMudG91Y2hEcmFnP2E9W1widG91Y2hzdGFydC5vd2xcIixcInRvdWNobW92ZS5vd2xcIixcInRvdWNoZW5kLm93bCB0b3VjaGNhbmNlbC5vd2xcIl06ITA9PT10aGlzLm9wdGlvbnMubW91c2VEcmFnJiYhMT09PXRoaXMub3B0aW9ucy50b3VjaERyYWcmJihhPVtcIm1vdXNlZG93bi5vd2xcIixcIm1vdXNlbW92ZS5vd2xcIixcIm1vdXNldXAub3dsXCJdKTt0aGlzLmV2X3R5cGVzLnN0YXJ0PWFbMF07dGhpcy5ldl90eXBlcy5tb3ZlPWFbMV07dGhpcy5ldl90eXBlcy5lbmQ9YVsyXX0sZGlzYWJsZWRFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLiRlbGVtLm9uKFwiZHJhZ3N0YXJ0Lm93bFwiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKX0pO3RoaXMuJGVsZW0ub24oXCJtb3VzZWRvd24uZGlzYWJsZVRleHRTZWxlY3RcIixmdW5jdGlvbihhKXtyZXR1cm4gZihhLnRhcmdldCkuaXMoXCJpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdCwgb3B0aW9uXCIpfSl9LFxyXG5nZXN0dXJlczpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7aWYodm9pZCAwIT09YS50b3VjaGVzKXJldHVybnt4OmEudG91Y2hlc1swXS5wYWdlWCx5OmEudG91Y2hlc1swXS5wYWdlWX07aWYodm9pZCAwPT09YS50b3VjaGVzKXtpZih2b2lkIDAhPT1hLnBhZ2VYKXJldHVybnt4OmEucGFnZVgseTphLnBhZ2VZfTtpZih2b2lkIDA9PT1hLnBhZ2VYKXJldHVybnt4OmEuY2xpZW50WCx5OmEuY2xpZW50WX19fWZ1bmN0aW9uIGIoYSl7XCJvblwiPT09YT8oZihrKS5vbihkLmV2X3R5cGVzLm1vdmUsZSksZihrKS5vbihkLmV2X3R5cGVzLmVuZCxjKSk6XCJvZmZcIj09PWEmJihmKGspLm9mZihkLmV2X3R5cGVzLm1vdmUpLGYoaykub2ZmKGQuZXZfdHlwZXMuZW5kKSl9ZnVuY3Rpb24gZShiKXtiPWIub3JpZ2luYWxFdmVudHx8Ynx8Zy5ldmVudDtkLm5ld1Bvc1g9YShiKS54LWgub2Zmc2V0WDtkLm5ld1Bvc1k9YShiKS55LWgub2Zmc2V0WTtkLm5ld1JlbGF0aXZlWD1kLm5ld1Bvc1gtaC5yZWxhdGl2ZVBvcztcclxuXCJmdW5jdGlvblwiPT09dHlwZW9mIGQub3B0aW9ucy5zdGFydERyYWdnaW5nJiYhMCE9PWguZHJhZ2dpbmcmJjAhPT1kLm5ld1JlbGF0aXZlWCYmKGguZHJhZ2dpbmc9ITAsZC5vcHRpb25zLnN0YXJ0RHJhZ2dpbmcuYXBwbHkoZCxbZC4kZWxlbV0pKTsoODxkLm5ld1JlbGF0aXZlWHx8LTg+ZC5uZXdSZWxhdGl2ZVgpJiYhMD09PWQuYnJvd3Nlci5pc1RvdWNoJiYodm9pZCAwIT09Yi5wcmV2ZW50RGVmYXVsdD9iLnByZXZlbnREZWZhdWx0KCk6Yi5yZXR1cm5WYWx1ZT0hMSxoLnNsaWRpbmc9ITApOygxMDxkLm5ld1Bvc1l8fC0xMD5kLm5ld1Bvc1kpJiYhMT09PWguc2xpZGluZyYmZihrKS5vZmYoXCJ0b3VjaG1vdmUub3dsXCIpO2QubmV3UG9zWD1NYXRoLm1heChNYXRoLm1pbihkLm5ld1Bvc1gsZC5uZXdSZWxhdGl2ZVgvNSksZC5tYXhpbXVtUGl4ZWxzK2QubmV3UmVsYXRpdmVYLzUpOyEwPT09ZC5icm93c2VyLnN1cHBvcnQzZD9kLnRyYW5zaXRpb24zZChkLm5ld1Bvc1gpOmQuY3NzMm1vdmUoZC5uZXdQb3NYKX1cclxuZnVuY3Rpb24gYyhhKXthPWEub3JpZ2luYWxFdmVudHx8YXx8Zy5ldmVudDt2YXIgYzthLnRhcmdldD1hLnRhcmdldHx8YS5zcmNFbGVtZW50O2guZHJhZ2dpbmc9ITE7ITAhPT1kLmJyb3dzZXIuaXNUb3VjaCYmZC4kb3dsV3JhcHBlci5yZW1vdmVDbGFzcyhcImdyYWJiaW5nXCIpO2QuZHJhZ0RpcmVjdGlvbj0wPmQubmV3UmVsYXRpdmVYP2Qub3dsLmRyYWdEaXJlY3Rpb249XCJsZWZ0XCI6ZC5vd2wuZHJhZ0RpcmVjdGlvbj1cInJpZ2h0XCI7MCE9PWQubmV3UmVsYXRpdmVYJiYoYz1kLmdldE5ld1Bvc2l0aW9uKCksZC5nb1RvKGMsITEsXCJkcmFnXCIpLGgudGFyZ2V0RWxlbWVudD09PWEudGFyZ2V0JiYhMCE9PWQuYnJvd3Nlci5pc1RvdWNoJiYoZihhLnRhcmdldCkub24oXCJjbGljay5kaXNhYmxlXCIsZnVuY3Rpb24oYSl7YS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTthLnN0b3BQcm9wYWdhdGlvbigpO2EucHJldmVudERlZmF1bHQoKTtmKGEudGFyZ2V0KS5vZmYoXCJjbGljay5kaXNhYmxlXCIpfSksXHJcbmE9Zi5fZGF0YShhLnRhcmdldCxcImV2ZW50c1wiKS5jbGljayxjPWEucG9wKCksYS5zcGxpY2UoMCwwLGMpKSk7YihcIm9mZlwiKX12YXIgZD10aGlzLGg9e29mZnNldFg6MCxvZmZzZXRZOjAsYmFzZUVsV2lkdGg6MCxyZWxhdGl2ZVBvczowLHBvc2l0aW9uOm51bGwsbWluU3dpcGU6bnVsbCxtYXhTd2lwZTpudWxsLHNsaWRpbmc6bnVsbCxkYXJnZ2luZzpudWxsLHRhcmdldEVsZW1lbnQ6bnVsbH07ZC5pc0Nzc0ZpbmlzaD0hMDtkLiRlbGVtLm9uKGQuZXZfdHlwZXMuc3RhcnQsXCIub3dsLXdyYXBwZXJcIixmdW5jdGlvbihjKXtjPWMub3JpZ2luYWxFdmVudHx8Y3x8Zy5ldmVudDt2YXIgZTtpZigzPT09Yy53aGljaClyZXR1cm4hMTtpZighKGQuaXRlbXNBbW91bnQ8PWQub3B0aW9ucy5pdGVtcykpe2lmKCExPT09ZC5pc0Nzc0ZpbmlzaCYmIWQub3B0aW9ucy5kcmFnQmVmb3JlQW5pbUZpbmlzaHx8ITE9PT1kLmlzQ3NzM0ZpbmlzaCYmIWQub3B0aW9ucy5kcmFnQmVmb3JlQW5pbUZpbmlzaClyZXR1cm4hMTtcclxuITEhPT1kLm9wdGlvbnMuYXV0b1BsYXkmJmcuY2xlYXJJbnRlcnZhbChkLmF1dG9QbGF5SW50ZXJ2YWwpOyEwPT09ZC5icm93c2VyLmlzVG91Y2h8fGQuJG93bFdyYXBwZXIuaGFzQ2xhc3MoXCJncmFiYmluZ1wiKXx8ZC4kb3dsV3JhcHBlci5hZGRDbGFzcyhcImdyYWJiaW5nXCIpO2QubmV3UG9zWD0wO2QubmV3UmVsYXRpdmVYPTA7Zih0aGlzKS5jc3MoZC5yZW1vdmVUcmFuc2l0aW9uKCkpO2U9Zih0aGlzKS5wb3NpdGlvbigpO2gucmVsYXRpdmVQb3M9ZS5sZWZ0O2gub2Zmc2V0WD1hKGMpLngtZS5sZWZ0O2gub2Zmc2V0WT1hKGMpLnktZS50b3A7YihcIm9uXCIpO2guc2xpZGluZz0hMTtoLnRhcmdldEVsZW1lbnQ9Yy50YXJnZXR8fGMuc3JjRWxlbWVudH19KX0sZ2V0TmV3UG9zaXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNsb3Nlc3RJdGVtKCk7YT50aGlzLm1heGltdW1JdGVtP2E9dGhpcy5jdXJyZW50SXRlbT10aGlzLm1heGltdW1JdGVtOjA8PXRoaXMubmV3UG9zWCYmKHRoaXMuY3VycmVudEl0ZW09XHJcbmE9MCk7cmV0dXJuIGF9LGNsb3Nlc3RJdGVtOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPSEwPT09YS5vcHRpb25zLnNjcm9sbFBlclBhZ2U/YS5wYWdlc0luQXJyYXk6YS5wb3NpdGlvbnNJbkFycmF5LGU9YS5uZXdQb3NYLGM9bnVsbDtmLmVhY2goYixmdW5jdGlvbihkLGcpe2UtYS5pdGVtV2lkdGgvMjA+YltkKzFdJiZlLWEuaXRlbVdpZHRoLzIwPGcmJlwibGVmdFwiPT09YS5tb3ZlRGlyZWN0aW9uKCk/KGM9ZyxhLmN1cnJlbnRJdGVtPSEwPT09YS5vcHRpb25zLnNjcm9sbFBlclBhZ2U/Zi5pbkFycmF5KGMsYS5wb3NpdGlvbnNJbkFycmF5KTpkKTplK2EuaXRlbVdpZHRoLzIwPGcmJmUrYS5pdGVtV2lkdGgvMjA+KGJbZCsxXXx8YltkXS1hLml0ZW1XaWR0aCkmJlwicmlnaHRcIj09PWEubW92ZURpcmVjdGlvbigpJiYoITA9PT1hLm9wdGlvbnMuc2Nyb2xsUGVyUGFnZT8oYz1iW2QrMV18fGJbYi5sZW5ndGgtMV0sYS5jdXJyZW50SXRlbT1mLmluQXJyYXkoYyxhLnBvc2l0aW9uc0luQXJyYXkpKTpcclxuKGM9YltkKzFdLGEuY3VycmVudEl0ZW09ZCsxKSl9KTtyZXR1cm4gYS5jdXJyZW50SXRlbX0sbW92ZURpcmVjdGlvbjpmdW5jdGlvbigpe3ZhciBhOzA+dGhpcy5uZXdSZWxhdGl2ZVg/KGE9XCJyaWdodFwiLHRoaXMucGxheURpcmVjdGlvbj1cIm5leHRcIik6KGE9XCJsZWZ0XCIsdGhpcy5wbGF5RGlyZWN0aW9uPVwicHJldlwiKTtyZXR1cm4gYX0sY3VzdG9tRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLiRlbGVtLm9uKFwib3dsLm5leHRcIixmdW5jdGlvbigpe2EubmV4dCgpfSk7YS4kZWxlbS5vbihcIm93bC5wcmV2XCIsZnVuY3Rpb24oKXthLnByZXYoKX0pO2EuJGVsZW0ub24oXCJvd2wucGxheVwiLGZ1bmN0aW9uKGIsZSl7YS5vcHRpb25zLmF1dG9QbGF5PWU7YS5wbGF5KCk7YS5ob3ZlclN0YXR1cz1cInBsYXlcIn0pO2EuJGVsZW0ub24oXCJvd2wuc3RvcFwiLGZ1bmN0aW9uKCl7YS5zdG9wKCk7YS5ob3ZlclN0YXR1cz1cInN0b3BcIn0pO2EuJGVsZW0ub24oXCJvd2wuZ29Ub1wiLGZ1bmN0aW9uKGIsZSl7YS5nb1RvKGUpfSk7XHJcbmEuJGVsZW0ub24oXCJvd2wuanVtcFRvXCIsZnVuY3Rpb24oYixlKXthLmp1bXBUbyhlKX0pfSxzdG9wT25Ib3ZlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7ITA9PT1hLm9wdGlvbnMuc3RvcE9uSG92ZXImJiEwIT09YS5icm93c2VyLmlzVG91Y2gmJiExIT09YS5vcHRpb25zLmF1dG9QbGF5JiYoYS4kZWxlbS5vbihcIm1vdXNlb3ZlclwiLGZ1bmN0aW9uKCl7YS5zdG9wKCl9KSxhLiRlbGVtLm9uKFwibW91c2VvdXRcIixmdW5jdGlvbigpe1wic3RvcFwiIT09YS5ob3ZlclN0YXR1cyYmYS5wbGF5KCl9KSl9LGxhenlMb2FkOmZ1bmN0aW9uKCl7dmFyIGEsYixlLGMsZDtpZighMT09PXRoaXMub3B0aW9ucy5sYXp5TG9hZClyZXR1cm4hMTtmb3IoYT0wO2E8dGhpcy5pdGVtc0Ftb3VudDthKz0xKWI9Zih0aGlzLiRvd2xJdGVtc1thXSksXCJsb2FkZWRcIiE9PWIuZGF0YShcIm93bC1sb2FkZWRcIikmJihlPWIuZGF0YShcIm93bC1pdGVtXCIpLGM9Yi5maW5kKFwiLmxhenlPd2xcIiksXCJzdHJpbmdcIiE9PXR5cGVvZiBjLmRhdGEoXCJzcmNcIik/XHJcbmIuZGF0YShcIm93bC1sb2FkZWRcIixcImxvYWRlZFwiKToodm9pZCAwPT09Yi5kYXRhKFwib3dsLWxvYWRlZFwiKSYmKGMuaGlkZSgpLGIuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpLmRhdGEoXCJvd2wtbG9hZGVkXCIsXCJjaGVja2VkXCIpKSwoZD0hMD09PXRoaXMub3B0aW9ucy5sYXp5Rm9sbG93P2U+PXRoaXMuY3VycmVudEl0ZW06ITApJiZlPHRoaXMuY3VycmVudEl0ZW0rdGhpcy5vcHRpb25zLml0ZW1zJiZjLmxlbmd0aCYmdGhpcy5sYXp5UHJlbG9hZChiLGMpKSl9LGxhenlQcmVsb2FkOmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZSgpe2EuZGF0YShcIm93bC1sb2FkZWRcIixcImxvYWRlZFwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIik7Yi5yZW1vdmVBdHRyKFwiZGF0YS1zcmNcIik7XCJmYWRlXCI9PT1kLm9wdGlvbnMubGF6eUVmZmVjdD9iLmZhZGVJbig0MDApOmIuc2hvdygpO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBkLm9wdGlvbnMuYWZ0ZXJMYXp5TG9hZCYmZC5vcHRpb25zLmFmdGVyTGF6eUxvYWQuYXBwbHkodGhpcyxcclxuW2QuJGVsZW1dKX1mdW5jdGlvbiBjKCl7Zis9MTtkLmNvbXBsZXRlSW1nKGIuZ2V0KDApKXx8ITA9PT1rP2UoKToxMDA+PWY/Zy5zZXRUaW1lb3V0KGMsMTAwKTplKCl9dmFyIGQ9dGhpcyxmPTAsaztcIkRJVlwiPT09Yi5wcm9wKFwidGFnTmFtZVwiKT8oYi5jc3MoXCJiYWNrZ3JvdW5kLWltYWdlXCIsXCJ1cmwoXCIrYi5kYXRhKFwic3JjXCIpK1wiKVwiKSxrPSEwKTpiWzBdLnNyYz1iLmRhdGEoXCJzcmNcIik7YygpfSxhdXRvSGVpZ2h0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3ZhciBhPWYoZS4kb3dsSXRlbXNbZS5jdXJyZW50SXRlbV0pLmhlaWdodCgpO2Uud3JhcHBlck91dGVyLmNzcyhcImhlaWdodFwiLGErXCJweFwiKTtlLndyYXBwZXJPdXRlci5oYXNDbGFzcyhcImF1dG9IZWlnaHRcIil8fGcuc2V0VGltZW91dChmdW5jdGlvbigpe2Uud3JhcHBlck91dGVyLmFkZENsYXNzKFwiYXV0b0hlaWdodFwiKX0sMCl9ZnVuY3Rpb24gYigpe2QrPTE7ZS5jb21wbGV0ZUltZyhjLmdldCgwKSk/YSgpOjEwMD49ZD9nLnNldFRpbWVvdXQoYixcclxuMTAwKTplLndyYXBwZXJPdXRlci5jc3MoXCJoZWlnaHRcIixcIlwiKX12YXIgZT10aGlzLGM9ZihlLiRvd2xJdGVtc1tlLmN1cnJlbnRJdGVtXSkuZmluZChcImltZ1wiKSxkO3ZvaWQgMCE9PWMuZ2V0KDApPyhkPTAsYigpKTphKCl9LGNvbXBsZXRlSW1nOmZ1bmN0aW9uKGEpe3JldHVybiFhLmNvbXBsZXRlfHxcInVuZGVmaW5lZFwiIT09dHlwZW9mIGEubmF0dXJhbFdpZHRoJiYwPT09YS5uYXR1cmFsV2lkdGg/ITE6ITB9LG9uVmlzaWJsZUl0ZW1zOmZ1bmN0aW9uKCl7dmFyIGE7ITA9PT10aGlzLm9wdGlvbnMuYWRkQ2xhc3NBY3RpdmUmJnRoaXMuJG93bEl0ZW1zLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO3RoaXMudmlzaWJsZUl0ZW1zPVtdO2ZvcihhPXRoaXMuY3VycmVudEl0ZW07YTx0aGlzLmN1cnJlbnRJdGVtK3RoaXMub3B0aW9ucy5pdGVtczthKz0xKXRoaXMudmlzaWJsZUl0ZW1zLnB1c2goYSksITA9PT10aGlzLm9wdGlvbnMuYWRkQ2xhc3NBY3RpdmUmJmYodGhpcy4kb3dsSXRlbXNbYV0pLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xyXG50aGlzLm93bC52aXNpYmxlSXRlbXM9dGhpcy52aXNpYmxlSXRlbXN9LHRyYW5zaXRpb25UeXBlczpmdW5jdGlvbihhKXt0aGlzLm91dENsYXNzPVwib3dsLVwiK2ErXCItb3V0XCI7dGhpcy5pbkNsYXNzPVwib3dsLVwiK2ErXCItaW5cIn0sc2luZ2xlSXRlbVRyYW5zaXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5vdXRDbGFzcyxlPWEuaW5DbGFzcyxjPWEuJG93bEl0ZW1zLmVxKGEuY3VycmVudEl0ZW0pLGQ9YS4kb3dsSXRlbXMuZXEoYS5wcmV2SXRlbSksZj1NYXRoLmFicyhhLnBvc2l0aW9uc0luQXJyYXlbYS5jdXJyZW50SXRlbV0pK2EucG9zaXRpb25zSW5BcnJheVthLnByZXZJdGVtXSxnPU1hdGguYWJzKGEucG9zaXRpb25zSW5BcnJheVthLmN1cnJlbnRJdGVtXSkrYS5pdGVtV2lkdGgvMjthLmlzVHJhbnNpdGlvbj0hMDthLiRvd2xXcmFwcGVyLmFkZENsYXNzKFwib3dsLW9yaWdpblwiKS5jc3Moe1wiLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luXCI6ZytcInB4XCIsXCItbW96LXBlcnNwZWN0aXZlLW9yaWdpblwiOmcrXHJcblwicHhcIixcInBlcnNwZWN0aXZlLW9yaWdpblwiOmcrXCJweFwifSk7ZC5jc3Moe3Bvc2l0aW9uOlwicmVsYXRpdmVcIixsZWZ0OmYrXCJweFwifSkuYWRkQ2xhc3MoYikub24oXCJ3ZWJraXRBbmltYXRpb25FbmQgb0FuaW1hdGlvbkVuZCBNU0FuaW1hdGlvbkVuZCBhbmltYXRpb25lbmRcIixmdW5jdGlvbigpe2EuZW5kUHJldj0hMDtkLm9mZihcIndlYmtpdEFuaW1hdGlvbkVuZCBvQW5pbWF0aW9uRW5kIE1TQW5pbWF0aW9uRW5kIGFuaW1hdGlvbmVuZFwiKTthLmNsZWFyVHJhbnNTdHlsZShkLGIpfSk7Yy5hZGRDbGFzcyhlKS5vbihcIndlYmtpdEFuaW1hdGlvbkVuZCBvQW5pbWF0aW9uRW5kIE1TQW5pbWF0aW9uRW5kIGFuaW1hdGlvbmVuZFwiLGZ1bmN0aW9uKCl7YS5lbmRDdXJyZW50PSEwO2Mub2ZmKFwid2Via2l0QW5pbWF0aW9uRW5kIG9BbmltYXRpb25FbmQgTVNBbmltYXRpb25FbmQgYW5pbWF0aW9uZW5kXCIpO2EuY2xlYXJUcmFuc1N0eWxlKGMsZSl9KX0sY2xlYXJUcmFuc1N0eWxlOmZ1bmN0aW9uKGEsXHJcbmIpe2EuY3NzKHtwb3NpdGlvbjpcIlwiLGxlZnQ6XCJcIn0pLnJlbW92ZUNsYXNzKGIpO3RoaXMuZW5kUHJldiYmdGhpcy5lbmRDdXJyZW50JiYodGhpcy4kb3dsV3JhcHBlci5yZW1vdmVDbGFzcyhcIm93bC1vcmlnaW5cIiksdGhpcy5pc1RyYW5zaXRpb249dGhpcy5lbmRDdXJyZW50PXRoaXMuZW5kUHJldj0hMSl9LG93bFN0YXR1czpmdW5jdGlvbigpe3RoaXMub3dsPXt1c2VyT3B0aW9uczp0aGlzLnVzZXJPcHRpb25zLGJhc2VFbGVtZW50OnRoaXMuJGVsZW0sdXNlckl0ZW1zOnRoaXMuJHVzZXJJdGVtcyxvd2xJdGVtczp0aGlzLiRvd2xJdGVtcyxjdXJyZW50SXRlbTp0aGlzLmN1cnJlbnRJdGVtLHByZXZJdGVtOnRoaXMucHJldkl0ZW0sdmlzaWJsZUl0ZW1zOnRoaXMudmlzaWJsZUl0ZW1zLGlzVG91Y2g6dGhpcy5icm93c2VyLmlzVG91Y2gsYnJvd3Nlcjp0aGlzLmJyb3dzZXIsZHJhZ0RpcmVjdGlvbjp0aGlzLmRyYWdEaXJlY3Rpb259fSxjbGVhckV2ZW50czpmdW5jdGlvbigpe3RoaXMuJGVsZW0ub2ZmKFwiLm93bCBvd2wgbW91c2Vkb3duLmRpc2FibGVUZXh0U2VsZWN0XCIpO1xyXG5mKGspLm9mZihcIi5vd2wgb3dsXCIpO2YoZykub2ZmKFwicmVzaXplXCIsdGhpcy5yZXNpemVyKX0sdW5XcmFwOmZ1bmN0aW9uKCl7MCE9PXRoaXMuJGVsZW0uY2hpbGRyZW4oKS5sZW5ndGgmJih0aGlzLiRvd2xXcmFwcGVyLnVud3JhcCgpLHRoaXMuJHVzZXJJdGVtcy51bndyYXAoKS51bndyYXAoKSx0aGlzLm93bENvbnRyb2xzJiZ0aGlzLm93bENvbnRyb2xzLnJlbW92ZSgpKTt0aGlzLmNsZWFyRXZlbnRzKCk7dGhpcy4kZWxlbS5hdHRyKFwic3R5bGVcIix0aGlzLiRlbGVtLmRhdGEoXCJvd2wtb3JpZ2luYWxTdHlsZXNcIil8fFwiXCIpLmF0dHIoXCJjbGFzc1wiLHRoaXMuJGVsZW0uZGF0YShcIm93bC1vcmlnaW5hbENsYXNzZXNcIikpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5zdG9wKCk7Zy5jbGVhckludGVydmFsKHRoaXMuY2hlY2tWaXNpYmxlKTt0aGlzLnVuV3JhcCgpO3RoaXMuJGVsZW0ucmVtb3ZlRGF0YSgpfSxyZWluaXQ6ZnVuY3Rpb24oYSl7YT1mLmV4dGVuZCh7fSx0aGlzLnVzZXJPcHRpb25zLFxyXG5hKTt0aGlzLnVuV3JhcCgpO3RoaXMuaW5pdChhLHRoaXMuJGVsZW0pfSxhZGRJdGVtOmZ1bmN0aW9uKGEsYil7dmFyIGU7aWYoIWEpcmV0dXJuITE7aWYoMD09PXRoaXMuJGVsZW0uY2hpbGRyZW4oKS5sZW5ndGgpcmV0dXJuIHRoaXMuJGVsZW0uYXBwZW5kKGEpLHRoaXMuc2V0VmFycygpLCExO3RoaXMudW5XcmFwKCk7ZT12b2lkIDA9PT1ifHwtMT09PWI/LTE6YjtlPj10aGlzLiR1c2VySXRlbXMubGVuZ3RofHwtMT09PWU/dGhpcy4kdXNlckl0ZW1zLmVxKC0xKS5hZnRlcihhKTp0aGlzLiR1c2VySXRlbXMuZXEoZSkuYmVmb3JlKGEpO3RoaXMuc2V0VmFycygpfSxyZW1vdmVJdGVtOmZ1bmN0aW9uKGEpe2lmKDA9PT10aGlzLiRlbGVtLmNoaWxkcmVuKCkubGVuZ3RoKXJldHVybiExO2E9dm9pZCAwPT09YXx8LTE9PT1hPy0xOmE7dGhpcy51bldyYXAoKTt0aGlzLiR1c2VySXRlbXMuZXEoYSkucmVtb3ZlKCk7dGhpcy5zZXRWYXJzKCl9fTtmLmZuLm93bENhcm91c2VsPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpZighMD09PVxyXG5mKHRoaXMpLmRhdGEoXCJvd2wtaW5pdFwiKSlyZXR1cm4hMTtmKHRoaXMpLmRhdGEoXCJvd2wtaW5pdFwiLCEwKTt2YXIgYj1PYmplY3QuY3JlYXRlKGwpO2IuaW5pdChhLHRoaXMpO2YuZGF0YSh0aGlzLFwib3dsQ2Fyb3VzZWxcIixiKX0pfTtmLmZuLm93bENhcm91c2VsLm9wdGlvbnM9e2l0ZW1zOjUsaXRlbXNDdXN0b206ITEsaXRlbXNEZXNrdG9wOlsxMTk5LDRdLGl0ZW1zRGVza3RvcFNtYWxsOls5NzksM10saXRlbXNUYWJsZXQ6Wzc2OCwyXSxpdGVtc1RhYmxldFNtYWxsOiExLGl0ZW1zTW9iaWxlOls0NzksMV0sc2luZ2xlSXRlbTohMSxpdGVtc1NjYWxlVXA6ITEsc2xpZGVTcGVlZDoyMDAscGFnaW5hdGlvblNwZWVkOjgwMCxyZXdpbmRTcGVlZDoxRTMsYXV0b1BsYXk6ITEsc3RvcE9uSG92ZXI6ITEsbmF2aWdhdGlvbjohMSxuYXZpZ2F0aW9uVGV4dDpbXCJwcmV2XCIsXCJuZXh0XCJdLHJld2luZE5hdjohMCxzY3JvbGxQZXJQYWdlOiExLHBhZ2luYXRpb246ITAscGFnaW5hdGlvbk51bWJlcnM6ITEsXHJcbnJlc3BvbnNpdmU6ITAscmVzcG9uc2l2ZVJlZnJlc2hSYXRlOjIwMCxyZXNwb25zaXZlQmFzZVdpZHRoOmcsYmFzZUNsYXNzOlwib3dsLWNhcm91c2VsXCIsdGhlbWU6XCJvd2wtdGhlbWVcIixsYXp5TG9hZDohMSxsYXp5Rm9sbG93OiEwLGxhenlFZmZlY3Q6XCJmYWRlXCIsYXV0b0hlaWdodDohMSxqc29uUGF0aDohMSxqc29uU3VjY2VzczohMSxkcmFnQmVmb3JlQW5pbUZpbmlzaDohMCxtb3VzZURyYWc6ITAsdG91Y2hEcmFnOiEwLGFkZENsYXNzQWN0aXZlOiExLHRyYW5zaXRpb25TdHlsZTohMSxiZWZvcmVVcGRhdGU6ITEsYWZ0ZXJVcGRhdGU6ITEsYmVmb3JlSW5pdDohMSxhZnRlckluaXQ6ITEsYmVmb3JlTW92ZTohMSxhZnRlck1vdmU6ITEsYWZ0ZXJBY3Rpb246ITEsc3RhcnREcmFnZ2luZzohMSxhZnRlckxhenlMb2FkOiExfX0pKGpRdWVyeSx3aW5kb3csZG9jdW1lbnQpO1xyXG4iLCJtb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIFwibG9hZGpRdWVyeVBsdWdpblwiOiBmdW5jdGlvbigpIHtyZXF1aXJlKFwiLi9vd2wuY2Fyb3VzZWwubWluLmpzXCIpO31cclxufTtcclxuIiwiLyoqXG4gKiBTaW1wbGUsIGxpZ2h0d2VpZ2h0LCB1c2FibGUgbG9jYWwgYXV0b2NvbXBsZXRlIGxpYnJhcnkgZm9yIG1vZGVybiBicm93c2Vyc1xuICogQmVjYXVzZSB0aGVyZSB3ZXJlbuKAmXQgZW5vdWdoIGF1dG9jb21wbGV0ZSBzY3JpcHRzIGluIHRoZSB3b3JsZD8gQmVjYXVzZSBJ4oCZbSBjb21wbGV0ZWx5IGluc2FuZSBhbmQgaGF2ZSBOSUggc3luZHJvbWU/IFByb2JhYmx5IGJvdGguIDpQXG4gKiBAYXV0aG9yIExlYSBWZXJvdSBodHRwOi8vbGVhdmVyb3UuZ2l0aHViLmlvL2F3ZXNvbXBsZXRlXG4gKiBNSVQgbGljZW5zZVxuICovXG5cbihmdW5jdGlvbiAoKSB7XG5cbnZhciBfID0gZnVuY3Rpb24gKGlucHV0LCBvKSB7XG5cdHZhciBtZSA9IHRoaXM7XG5cblx0Ly8gU2V0dXBcblxuXHR0aGlzLmlzT3BlbmVkID0gZmFsc2U7XG5cblx0dGhpcy5pbnB1dCA9ICQoaW5wdXQpO1xuXHR0aGlzLmlucHV0LnNldEF0dHJpYnV0ZShcImF1dG9jb21wbGV0ZVwiLCBcIm9mZlwiKTtcblx0dGhpcy5pbnB1dC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWF1dG9jb21wbGV0ZVwiLCBcImxpc3RcIik7XG5cblx0byA9IG8gfHwge307XG5cblx0Y29uZmlndXJlKHRoaXMsIHtcblx0XHRtaW5DaGFyczogMixcblx0XHRtYXhJdGVtczogMTAsXG5cdFx0YXV0b0ZpcnN0OiBmYWxzZSxcblx0XHRkYXRhOiBfLkRBVEEsXG5cdFx0ZmlsdGVyOiBfLkZJTFRFUl9DT05UQUlOUyxcblx0XHRzb3J0OiBvLnNvcnQgPT09IGZhbHNlID8gZmFsc2UgOiBfLlNPUlRfQllMRU5HVEgsXG5cdFx0aXRlbTogXy5JVEVNLFxuXHRcdHJlcGxhY2U6IF8uUkVQTEFDRVxuXHR9LCBvKTtcblxuXHR0aGlzLmluZGV4ID0gLTE7XG5cblx0Ly8gQ3JlYXRlIG5lY2Vzc2FyeSBlbGVtZW50c1xuXG5cdHRoaXMuY29udGFpbmVyID0gJC5jcmVhdGUoXCJkaXZcIiwge1xuXHRcdGNsYXNzTmFtZTogXCJhd2Vzb21wbGV0ZVwiLFxuXHRcdGFyb3VuZDogaW5wdXRcblx0fSk7XG5cblx0dGhpcy51bCA9ICQuY3JlYXRlKFwidWxcIiwge1xuXHRcdGhpZGRlbjogXCJoaWRkZW5cIixcblx0XHRpbnNpZGU6IHRoaXMuY29udGFpbmVyXG5cdH0pO1xuXG5cdHRoaXMuc3RhdHVzID0gJC5jcmVhdGUoXCJzcGFuXCIsIHtcblx0XHRjbGFzc05hbWU6IFwidmlzdWFsbHktaGlkZGVuXCIsXG5cdFx0cm9sZTogXCJzdGF0dXNcIixcblx0XHRcImFyaWEtbGl2ZVwiOiBcImFzc2VydGl2ZVwiLFxuXHRcdFwiYXJpYS1yZWxldmFudFwiOiBcImFkZGl0aW9uc1wiLFxuXHRcdGluc2lkZTogdGhpcy5jb250YWluZXJcblx0fSk7XG5cblx0Ly8gQmluZCBldmVudHNcblxuXHR0aGlzLl9ldmVudHMgPSB7XG5cdFx0aW5wdXQ6IHtcblx0XHRcdFwiaW5wdXRcIjogdGhpcy5ldmFsdWF0ZS5iaW5kKHRoaXMpLFxuXHRcdFx0XCJibHVyXCI6IHRoaXMuY2xvc2UuYmluZCh0aGlzLCB7IHJlYXNvbjogXCJibHVyXCIgfSksXG5cdFx0XHRcImtleWRvd25cIjogZnVuY3Rpb24oZXZ0KSB7XG5cdFx0XHRcdHZhciBjID0gZXZ0LmtleUNvZGU7XG5cblx0XHRcdFx0Ly8gSWYgdGhlIGRyb3Bkb3duIGB1bGAgaXMgaW4gdmlldywgdGhlbiBhY3Qgb24ga2V5ZG93biBmb3IgdGhlIGZvbGxvd2luZyBrZXlzOlxuXHRcdFx0XHQvLyBFbnRlciAvIEVzYyAvIFVwIC8gRG93blxuXHRcdFx0XHRpZihtZS5vcGVuZWQpIHtcblx0XHRcdFx0XHRpZiAoYyA9PT0gMTMgJiYgbWUuc2VsZWN0ZWQpIHsgLy8gRW50ZXJcblx0XHRcdFx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0bWUuc2VsZWN0KCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKGMgPT09IDI3KSB7IC8vIEVzY1xuXHRcdFx0XHRcdFx0bWUuY2xvc2UoeyByZWFzb246IFwiZXNjXCIgfSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2UgaWYgKGMgPT09IDM4IHx8IGMgPT09IDQwKSB7IC8vIERvd24vVXAgYXJyb3dcblx0XHRcdFx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0bWVbYyA9PT0gMzg/IFwicHJldmlvdXNcIiA6IFwibmV4dFwiXSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0Zm9ybToge1xuXHRcdFx0XCJzdWJtaXRcIjogdGhpcy5jbG9zZS5iaW5kKHRoaXMsIHsgcmVhc29uOiBcInN1Ym1pdFwiIH0pXG5cdFx0fSxcblx0XHR1bDoge1xuXHRcdFx0XCJtb3VzZWRvd25cIjogZnVuY3Rpb24oZXZ0KSB7XG5cdFx0XHRcdHZhciBsaSA9IGV2dC50YXJnZXQ7XG5cblx0XHRcdFx0aWYgKGxpICE9PSB0aGlzKSB7XG5cblx0XHRcdFx0XHR3aGlsZSAobGkgJiYgIS9saS9pLnRlc3QobGkubm9kZU5hbWUpKSB7XG5cdFx0XHRcdFx0XHRsaSA9IGxpLnBhcmVudE5vZGU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGxpICYmIGV2dC5idXR0b24gPT09IDApIHsgIC8vIE9ubHkgc2VsZWN0IG9uIGxlZnQgY2xpY2tcblx0XHRcdFx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0bWUuc2VsZWN0KGxpLCBldnQudGFyZ2V0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0JC5iaW5kKHRoaXMuaW5wdXQsIHRoaXMuX2V2ZW50cy5pbnB1dCk7XG5cdCQuYmluZCh0aGlzLmlucHV0LmZvcm0sIHRoaXMuX2V2ZW50cy5mb3JtKTtcblx0JC5iaW5kKHRoaXMudWwsIHRoaXMuX2V2ZW50cy51bCk7XG5cblx0aWYgKHRoaXMuaW5wdXQuaGFzQXR0cmlidXRlKFwibGlzdFwiKSkge1xuXHRcdHRoaXMubGlzdCA9IFwiI1wiICsgdGhpcy5pbnB1dC5nZXRBdHRyaWJ1dGUoXCJsaXN0XCIpO1xuXHRcdHRoaXMuaW5wdXQucmVtb3ZlQXR0cmlidXRlKFwibGlzdFwiKTtcblx0fVxuXHRlbHNlIHtcblx0XHR0aGlzLmxpc3QgPSB0aGlzLmlucHV0LmdldEF0dHJpYnV0ZShcImRhdGEtbGlzdFwiKSB8fCBvLmxpc3QgfHwgW107XG5cdH1cblxuXHRfLmFsbC5wdXNoKHRoaXMpO1xufTtcblxuXy5wcm90b3R5cGUgPSB7XG5cdHNldCBsaXN0KGxpc3QpIHtcblx0XHRpZiAoQXJyYXkuaXNBcnJheShsaXN0KSkge1xuXHRcdFx0dGhpcy5fbGlzdCA9IGxpc3Q7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKHR5cGVvZiBsaXN0ID09PSBcInN0cmluZ1wiICYmIGxpc3QuaW5kZXhPZihcIixcIikgPiAtMSkge1xuXHRcdFx0XHR0aGlzLl9saXN0ID0gbGlzdC5zcGxpdCgvXFxzKixcXHMqLyk7XG5cdFx0fVxuXHRcdGVsc2UgeyAvLyBFbGVtZW50IG9yIENTUyBzZWxlY3RvclxuXHRcdFx0bGlzdCA9ICQobGlzdCk7XG5cblx0XHRcdGlmIChsaXN0ICYmIGxpc3QuY2hpbGRyZW4pIHtcblx0XHRcdFx0dmFyIGl0ZW1zID0gW107XG5cdFx0XHRcdHNsaWNlLmFwcGx5KGxpc3QuY2hpbGRyZW4pLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG5cdFx0XHRcdFx0aWYgKCFlbC5kaXNhYmxlZCkge1xuXHRcdFx0XHRcdFx0dmFyIHRleHQgPSBlbC50ZXh0Q29udGVudC50cmltKCk7XG5cdFx0XHRcdFx0XHR2YXIgdmFsdWUgPSBlbC52YWx1ZSB8fCB0ZXh0O1xuXHRcdFx0XHRcdFx0dmFyIGxhYmVsID0gZWwubGFiZWwgfHwgdGV4dDtcblx0XHRcdFx0XHRcdGlmICh2YWx1ZSAhPT0gXCJcIikge1xuXHRcdFx0XHRcdFx0XHRpdGVtcy5wdXNoKHsgbGFiZWw6IGxhYmVsLCB2YWx1ZTogdmFsdWUgfSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0dGhpcy5fbGlzdCA9IGl0ZW1zO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSB0aGlzLmlucHV0KSB7XG5cdFx0XHR0aGlzLmV2YWx1YXRlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdGdldCBzZWxlY3RlZCgpIHtcblx0XHRyZXR1cm4gdGhpcy5pbmRleCA+IC0xO1xuXHR9LFxuXG5cdGdldCBvcGVuZWQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuaXNPcGVuZWQ7XG5cdH0sXG5cblx0Y2xvc2U6IGZ1bmN0aW9uIChvKSB7XG5cdFx0aWYgKCF0aGlzLm9wZW5lZCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHRoaXMudWwuc2V0QXR0cmlidXRlKFwiaGlkZGVuXCIsIFwiXCIpO1xuXHRcdHRoaXMuaXNPcGVuZWQgPSBmYWxzZTtcblx0XHR0aGlzLmluZGV4ID0gLTE7XG5cblx0XHQkLmZpcmUodGhpcy5pbnB1dCwgXCJhd2Vzb21wbGV0ZS1jbG9zZVwiLCBvIHx8IHt9KTtcblx0fSxcblxuXHRvcGVuOiBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy51bC5yZW1vdmVBdHRyaWJ1dGUoXCJoaWRkZW5cIik7XG5cdFx0dGhpcy5pc09wZW5lZCA9IHRydWU7XG5cblx0XHRpZiAodGhpcy5hdXRvRmlyc3QgJiYgdGhpcy5pbmRleCA9PT0gLTEpIHtcblx0XHRcdHRoaXMuZ290bygwKTtcblx0XHR9XG5cblx0XHQkLmZpcmUodGhpcy5pbnB1dCwgXCJhd2Vzb21wbGV0ZS1vcGVuXCIpO1xuXHR9LFxuXG5cdGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuXHRcdC8vcmVtb3ZlIGV2ZW50cyBmcm9tIHRoZSBpbnB1dCBhbmQgaXRzIGZvcm1cblx0XHQkLnVuYmluZCh0aGlzLmlucHV0LCB0aGlzLl9ldmVudHMuaW5wdXQpO1xuXHRcdCQudW5iaW5kKHRoaXMuaW5wdXQuZm9ybSwgdGhpcy5fZXZlbnRzLmZvcm0pO1xuXG5cdFx0Ly9tb3ZlIHRoZSBpbnB1dCBvdXQgb2YgdGhlIGF3ZXNvbXBsZXRlIGNvbnRhaW5lciBhbmQgcmVtb3ZlIHRoZSBjb250YWluZXIgYW5kIGl0cyBjaGlsZHJlblxuXHRcdHZhciBwYXJlbnROb2RlID0gdGhpcy5jb250YWluZXIucGFyZW50Tm9kZTtcblxuXHRcdHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuaW5wdXQsIHRoaXMuY29udGFpbmVyKTtcblx0XHRwYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuY29udGFpbmVyKTtcblxuXHRcdC8vcmVtb3ZlIGF1dG9jb21wbGV0ZSBhbmQgYXJpYS1hdXRvY29tcGxldGUgYXR0cmlidXRlc1xuXHRcdHRoaXMuaW5wdXQucmVtb3ZlQXR0cmlidXRlKFwiYXV0b2NvbXBsZXRlXCIpO1xuXHRcdHRoaXMuaW5wdXQucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1hdXRvY29tcGxldGVcIik7XG5cblx0XHQvL3JlbW92ZSB0aGlzIGF3ZXNvbWVwbGV0ZSBpbnN0YW5jZSBmcm9tIHRoZSBnbG9iYWwgYXJyYXkgb2YgaW5zdGFuY2VzXG5cdFx0dmFyIGluZGV4T2ZBd2Vzb21wbGV0ZSA9IF8uYWxsLmluZGV4T2YodGhpcyk7XG5cblx0XHRpZiAoaW5kZXhPZkF3ZXNvbXBsZXRlICE9PSAtMSkge1xuXHRcdFx0Xy5hbGwuc3BsaWNlKGluZGV4T2ZBd2Vzb21wbGV0ZSwgMSk7XG5cdFx0fVxuXHR9LFxuXG5cdG5leHQ6IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgY291bnQgPSB0aGlzLnVsLmNoaWxkcmVuLmxlbmd0aDtcblx0XHR0aGlzLmdvdG8odGhpcy5pbmRleCA8IGNvdW50IC0gMSA/IHRoaXMuaW5kZXggKyAxIDogKGNvdW50ID8gMCA6IC0xKSApO1xuXHR9LFxuXG5cdHByZXZpb3VzOiBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIGNvdW50ID0gdGhpcy51bC5jaGlsZHJlbi5sZW5ndGg7XG5cdFx0dmFyIHBvcyA9IHRoaXMuaW5kZXggLSAxO1xuXG5cdFx0dGhpcy5nb3RvKHRoaXMuc2VsZWN0ZWQgJiYgcG9zICE9PSAtMSA/IHBvcyA6IGNvdW50IC0gMSk7XG5cdH0sXG5cblx0Ly8gU2hvdWxkIG5vdCBiZSB1c2VkLCBoaWdobGlnaHRzIHNwZWNpZmljIGl0ZW0gd2l0aG91dCBhbnkgY2hlY2tzIVxuXHRnb3RvOiBmdW5jdGlvbiAoaSkge1xuXHRcdHZhciBsaXMgPSB0aGlzLnVsLmNoaWxkcmVuO1xuXG5cdFx0aWYgKHRoaXMuc2VsZWN0ZWQpIHtcblx0XHRcdGxpc1t0aGlzLmluZGV4XS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsIFwiZmFsc2VcIik7XG5cdFx0fVxuXG5cdFx0dGhpcy5pbmRleCA9IGk7XG5cblx0XHRpZiAoaSA+IC0xICYmIGxpcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRsaXNbaV0uc2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiLCBcInRydWVcIik7XG5cdFx0XHR0aGlzLnN0YXR1cy50ZXh0Q29udGVudCA9IGxpc1tpXS50ZXh0Q29udGVudDtcblxuXHRcdFx0Ly8gc2Nyb2xsIHRvIGhpZ2hsaWdodGVkIGVsZW1lbnQgaW4gY2FzZSBwYXJlbnQncyBoZWlnaHQgaXMgZml4ZWRcblx0XHRcdHRoaXMudWwuc2Nyb2xsVG9wID0gbGlzW2ldLm9mZnNldFRvcCAtIHRoaXMudWwuY2xpZW50SGVpZ2h0ICsgbGlzW2ldLmNsaWVudEhlaWdodDtcblxuXHRcdFx0JC5maXJlKHRoaXMuaW5wdXQsIFwiYXdlc29tcGxldGUtaGlnaGxpZ2h0XCIsIHtcblx0XHRcdFx0dGV4dDogdGhpcy5zdWdnZXN0aW9uc1t0aGlzLmluZGV4XVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9LFxuXG5cdHNlbGVjdDogZnVuY3Rpb24gKHNlbGVjdGVkLCBvcmlnaW4pIHtcblx0XHRpZiAoc2VsZWN0ZWQpIHtcblx0XHRcdHRoaXMuaW5kZXggPSAkLnNpYmxpbmdJbmRleChzZWxlY3RlZCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNlbGVjdGVkID0gdGhpcy51bC5jaGlsZHJlblt0aGlzLmluZGV4XTtcblx0XHR9XG5cblx0XHRpZiAoc2VsZWN0ZWQpIHtcblx0XHRcdHZhciBzdWdnZXN0aW9uID0gdGhpcy5zdWdnZXN0aW9uc1t0aGlzLmluZGV4XTtcblxuXHRcdFx0dmFyIGFsbG93ZWQgPSAkLmZpcmUodGhpcy5pbnB1dCwgXCJhd2Vzb21wbGV0ZS1zZWxlY3RcIiwge1xuXHRcdFx0XHR0ZXh0OiBzdWdnZXN0aW9uLFxuXHRcdFx0XHRvcmlnaW46IG9yaWdpbiB8fCBzZWxlY3RlZFxuXHRcdFx0fSk7XG5cblx0XHRcdGlmIChhbGxvd2VkKSB7XG5cdFx0XHRcdHRoaXMucmVwbGFjZShzdWdnZXN0aW9uKTtcblx0XHRcdFx0dGhpcy5jbG9zZSh7IHJlYXNvbjogXCJzZWxlY3RcIiB9KTtcblx0XHRcdFx0JC5maXJlKHRoaXMuaW5wdXQsIFwiYXdlc29tcGxldGUtc2VsZWN0Y29tcGxldGVcIiwge1xuXHRcdFx0XHRcdHRleHQ6IHN1Z2dlc3Rpb25cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdGV2YWx1YXRlOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgbWUgPSB0aGlzO1xuXHRcdHZhciB2YWx1ZSA9IHRoaXMuaW5wdXQudmFsdWU7XG5cblx0XHRpZiAodmFsdWUubGVuZ3RoID49IHRoaXMubWluQ2hhcnMgJiYgdGhpcy5fbGlzdC5sZW5ndGggPiAwKSB7XG5cdFx0XHR0aGlzLmluZGV4ID0gLTE7XG5cdFx0XHQvLyBQb3B1bGF0ZSBsaXN0IHdpdGggb3B0aW9ucyB0aGF0IG1hdGNoXG5cdFx0XHR0aGlzLnVsLmlubmVySFRNTCA9IFwiXCI7XG5cblx0XHRcdHRoaXMuc3VnZ2VzdGlvbnMgPSB0aGlzLl9saXN0XG5cdFx0XHRcdC5tYXAoZnVuY3Rpb24oaXRlbSkge1xuXHRcdFx0XHRcdHJldHVybiBuZXcgU3VnZ2VzdGlvbihtZS5kYXRhKGl0ZW0sIHZhbHVlKSk7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuXHRcdFx0XHRcdHJldHVybiBtZS5maWx0ZXIoaXRlbSwgdmFsdWUpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0aWYgKHRoaXMuc29ydCAhPT0gZmFsc2UpIHtcblx0XHRcdFx0dGhpcy5zdWdnZXN0aW9ucyA9IHRoaXMuc3VnZ2VzdGlvbnMuc29ydCh0aGlzLnNvcnQpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLnN1Z2dlc3Rpb25zID0gdGhpcy5zdWdnZXN0aW9ucy5zbGljZSgwLCB0aGlzLm1heEl0ZW1zKTtcblxuXHRcdFx0dGhpcy5zdWdnZXN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKHRleHQpIHtcblx0XHRcdFx0XHRtZS51bC5hcHBlbmRDaGlsZChtZS5pdGVtKHRleHQsIHZhbHVlKSk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRpZiAodGhpcy51bC5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0dGhpcy5jbG9zZSh7IHJlYXNvbjogXCJub21hdGNoZXNcIiB9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMub3BlbigpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdHRoaXMuY2xvc2UoeyByZWFzb246IFwibm9tYXRjaGVzXCIgfSk7XG5cdFx0fVxuXHR9XG59O1xuXG4vLyBTdGF0aWMgbWV0aG9kcy9wcm9wZXJ0aWVzXG5cbl8uYWxsID0gW107XG5cbl8uRklMVEVSX0NPTlRBSU5TID0gZnVuY3Rpb24gKHRleHQsIGlucHV0KSB7XG5cdHJldHVybiBSZWdFeHAoJC5yZWdFeHBFc2NhcGUoaW5wdXQudHJpbSgpKSwgXCJpXCIpLnRlc3QodGV4dCk7XG59O1xuXG5fLkZJTFRFUl9TVEFSVFNXSVRIID0gZnVuY3Rpb24gKHRleHQsIGlucHV0KSB7XG5cdHJldHVybiBSZWdFeHAoXCJeXCIgKyAkLnJlZ0V4cEVzY2FwZShpbnB1dC50cmltKCkpLCBcImlcIikudGVzdCh0ZXh0KTtcbn07XG5cbl8uU09SVF9CWUxFTkdUSCA9IGZ1bmN0aW9uIChhLCBiKSB7XG5cdGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcblx0XHRyZXR1cm4gYS5sZW5ndGggLSBiLmxlbmd0aDtcblx0fVxuXG5cdHJldHVybiBhIDwgYj8gLTEgOiAxO1xufTtcblxuXy5JVEVNID0gZnVuY3Rpb24gKHRleHQsIGlucHV0KSB7XG5cdHZhciBodG1sID0gaW5wdXQudHJpbSgpID09PSBcIlwiID8gdGV4dCA6IHRleHQucmVwbGFjZShSZWdFeHAoJC5yZWdFeHBFc2NhcGUoaW5wdXQudHJpbSgpKSwgXCJnaVwiKSwgXCI8bWFyaz4kJjwvbWFyaz5cIik7XG5cdHJldHVybiAkLmNyZWF0ZShcImxpXCIsIHtcblx0XHRpbm5lckhUTUw6IGh0bWwsXG5cdFx0XCJhcmlhLXNlbGVjdGVkXCI6IFwiZmFsc2VcIlxuXHR9KTtcbn07XG5cbl8uUkVQTEFDRSA9IGZ1bmN0aW9uICh0ZXh0KSB7XG5cdHRoaXMuaW5wdXQudmFsdWUgPSB0ZXh0LnZhbHVlO1xufTtcblxuXy5EQVRBID0gZnVuY3Rpb24gKGl0ZW0vKiwgaW5wdXQqLykgeyByZXR1cm4gaXRlbTsgfTtcblxuLy8gUHJpdmF0ZSBmdW5jdGlvbnNcblxuZnVuY3Rpb24gU3VnZ2VzdGlvbihkYXRhKSB7XG5cdHZhciBvID0gQXJyYXkuaXNBcnJheShkYXRhKVxuXHQgID8geyBsYWJlbDogZGF0YVswXSwgdmFsdWU6IGRhdGFbMV0gfVxuXHQgIDogdHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIgJiYgXCJsYWJlbFwiIGluIGRhdGEgJiYgXCJ2YWx1ZVwiIGluIGRhdGEgPyBkYXRhIDogeyBsYWJlbDogZGF0YSwgdmFsdWU6IGRhdGEgfTtcblxuXHR0aGlzLmxhYmVsID0gby5sYWJlbCB8fCBvLnZhbHVlO1xuXHR0aGlzLnZhbHVlID0gby52YWx1ZTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdWdnZXN0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RyaW5nLnByb3RvdHlwZSksIFwibGVuZ3RoXCIsIHtcblx0Z2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMubGFiZWwubGVuZ3RoOyB9XG59KTtcblN1Z2dlc3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gU3VnZ2VzdGlvbi5wcm90b3R5cGUudmFsdWVPZiA9IGZ1bmN0aW9uICgpIHtcblx0cmV0dXJuIFwiXCIgKyB0aGlzLmxhYmVsO1xufTtcblxuZnVuY3Rpb24gY29uZmlndXJlKGluc3RhbmNlLCBwcm9wZXJ0aWVzLCBvKSB7XG5cdGZvciAodmFyIGkgaW4gcHJvcGVydGllcykge1xuXHRcdHZhciBpbml0aWFsID0gcHJvcGVydGllc1tpXSxcblx0XHQgICAgYXR0clZhbHVlID0gaW5zdGFuY2UuaW5wdXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1cIiArIGkudG9Mb3dlckNhc2UoKSk7XG5cblx0XHRpZiAodHlwZW9mIGluaXRpYWwgPT09IFwibnVtYmVyXCIpIHtcblx0XHRcdGluc3RhbmNlW2ldID0gcGFyc2VJbnQoYXR0clZhbHVlKTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoaW5pdGlhbCA9PT0gZmFsc2UpIHsgLy8gQm9vbGVhbiBvcHRpb25zIG11c3QgYmUgZmFsc2UgYnkgZGVmYXVsdCBhbnl3YXlcblx0XHRcdGluc3RhbmNlW2ldID0gYXR0clZhbHVlICE9PSBudWxsO1xuXHRcdH1cblx0XHRlbHNlIGlmIChpbml0aWFsIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcblx0XHRcdGluc3RhbmNlW2ldID0gbnVsbDtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRpbnN0YW5jZVtpXSA9IGF0dHJWYWx1ZTtcblx0XHR9XG5cblx0XHRpZiAoIWluc3RhbmNlW2ldICYmIGluc3RhbmNlW2ldICE9PSAwKSB7XG5cdFx0XHRpbnN0YW5jZVtpXSA9IChpIGluIG8pPyBvW2ldIDogaW5pdGlhbDtcblx0XHR9XG5cdH1cbn1cblxuLy8gSGVscGVyc1xuXG52YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbmZ1bmN0aW9uICQoZXhwciwgY29uKSB7XG5cdHJldHVybiB0eXBlb2YgZXhwciA9PT0gXCJzdHJpbmdcIj8gKGNvbiB8fCBkb2N1bWVudCkucXVlcnlTZWxlY3RvcihleHByKSA6IGV4cHIgfHwgbnVsbDtcbn1cblxuZnVuY3Rpb24gJCQoZXhwciwgY29uKSB7XG5cdHJldHVybiBzbGljZS5jYWxsKChjb24gfHwgZG9jdW1lbnQpLnF1ZXJ5U2VsZWN0b3JBbGwoZXhwcikpO1xufVxuXG4kLmNyZWF0ZSA9IGZ1bmN0aW9uKHRhZywgbykge1xuXHR2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcblxuXHRmb3IgKHZhciBpIGluIG8pIHtcblx0XHR2YXIgdmFsID0gb1tpXTtcblxuXHRcdGlmIChpID09PSBcImluc2lkZVwiKSB7XG5cdFx0XHQkKHZhbCkuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKGkgPT09IFwiYXJvdW5kXCIpIHtcblx0XHRcdHZhciByZWYgPSAkKHZhbCk7XG5cdFx0XHRyZWYucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWxlbWVudCwgcmVmKTtcblx0XHRcdGVsZW1lbnQuYXBwZW5kQ2hpbGQocmVmKTtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoaSBpbiBlbGVtZW50KSB7XG5cdFx0XHRlbGVtZW50W2ldID0gdmFsO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGVsZW1lbnQuc2V0QXR0cmlidXRlKGksIHZhbCk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW1lbnQ7XG59O1xuXG4kLmJpbmQgPSBmdW5jdGlvbihlbGVtZW50LCBvKSB7XG5cdGlmIChlbGVtZW50KSB7XG5cdFx0Zm9yICh2YXIgZXZlbnQgaW4gbykge1xuXHRcdFx0dmFyIGNhbGxiYWNrID0gb1tldmVudF07XG5cblx0XHRcdGV2ZW50LnNwbGl0KC9cXHMrLykuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcblx0XHRcdFx0ZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBjYWxsYmFjayk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cbn07XG5cbiQudW5iaW5kID0gZnVuY3Rpb24oZWxlbWVudCwgbykge1xuXHRpZiAoZWxlbWVudCkge1xuXHRcdGZvciAodmFyIGV2ZW50IGluIG8pIHtcblx0XHRcdHZhciBjYWxsYmFjayA9IG9bZXZlbnRdO1xuXG5cdFx0XHRldmVudC5zcGxpdCgvXFxzKy8pLmZvckVhY2goZnVuY3Rpb24oZXZlbnQpIHtcblx0XHRcdFx0ZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBjYWxsYmFjayk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cbn07XG5cbiQuZmlyZSA9IGZ1bmN0aW9uKHRhcmdldCwgdHlwZSwgcHJvcGVydGllcykge1xuXHR2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJIVE1MRXZlbnRzXCIpO1xuXG5cdGV2dC5pbml0RXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSApO1xuXG5cdGZvciAodmFyIGogaW4gcHJvcGVydGllcykge1xuXHRcdGV2dFtqXSA9IHByb3BlcnRpZXNbal07XG5cdH1cblxuXHRyZXR1cm4gdGFyZ2V0LmRpc3BhdGNoRXZlbnQoZXZ0KTtcbn07XG5cbiQucmVnRXhwRXNjYXBlID0gZnVuY3Rpb24gKHMpIHtcblx0cmV0dXJuIHMucmVwbGFjZSgvWy1cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCBcIlxcXFwkJlwiKTtcbn07XG5cbiQuc2libGluZ0luZGV4ID0gZnVuY3Rpb24gKGVsKSB7XG5cdC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbmQtYXNzaWduICovXG5cdGZvciAodmFyIGkgPSAwOyBlbCA9IGVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7IGkrKyk7XG5cdHJldHVybiBpO1xufTtcblxuLy8gSW5pdGlhbGl6YXRpb25cblxuZnVuY3Rpb24gaW5pdCgpIHtcblx0JCQoXCJpbnB1dC5hd2Vzb21wbGV0ZVwiKS5mb3JFYWNoKGZ1bmN0aW9uIChpbnB1dCkge1xuXHRcdG5ldyBfKGlucHV0KTtcblx0fSk7XG59XG5cbi8vIEFyZSB3ZSBpbiBhIGJyb3dzZXI/IENoZWNrIGZvciBEb2N1bWVudCBjb25zdHJ1Y3RvclxuaWYgKHR5cGVvZiBEb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHQvLyBET00gYWxyZWFkeSBsb2FkZWQ/XG5cdGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9PSBcImxvYWRpbmdcIikge1xuXHRcdGluaXQoKTtcblx0fVxuXHRlbHNlIHtcblx0XHQvLyBXYWl0IGZvciBpdFxuXHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGluaXQpO1xuXHR9XG59XG5cbl8uJCA9ICQ7XG5fLiQkID0gJCQ7XG5cbi8vIE1ha2Ugc3VyZSB0byBleHBvcnQgQXdlc29tcGxldGUgb24gc2VsZiB3aGVuIGluIGEgYnJvd3NlclxuaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdHNlbGYuQXdlc29tcGxldGUgPSBfO1xufVxuXG4vLyBFeHBvc2UgQXdlc29tcGxldGUgYXMgYSBDSlMgbW9kdWxlXG5pZiAodHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRtb2R1bGUuZXhwb3J0cyA9IF87XG59XG5cbnJldHVybiBfO1xuXG59KCkpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9O1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufVxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG5FdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbihuKSB7XG4gIGlmICghaXNOdW1iZXIobikgfHwgbiA8IDAgfHwgaXNOYU4obikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCduIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXInKTtcbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBlciwgaGFuZGxlciwgbGVuLCBhcmdzLCBpLCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAodHlwZSA9PT0gJ2Vycm9yJykge1xuICAgIGlmICghdGhpcy5fZXZlbnRzLmVycm9yIHx8XG4gICAgICAgIChpc09iamVjdCh0aGlzLl9ldmVudHMuZXJyb3IpICYmICF0aGlzLl9ldmVudHMuZXJyb3IubGVuZ3RoKSkge1xuICAgICAgZXIgPSBhcmd1bWVudHNbMV07XG4gICAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICAgIH1cbiAgICAgIHRocm93IFR5cGVFcnJvcignVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFwiZXJyb3JcIiBldmVudC4nKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChpc1VuZGVmaW5lZChoYW5kbGVyKSlcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIC8vIGZhc3QgY2FzZXNcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pO1xuICAgICAgICBicmVhaztcbiAgICAgIC8vIHNsb3dlclxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgICAgYXJncyA9IG5ldyBBcnJheShsZW4gLSAxKTtcbiAgICAgICAgZm9yIChpID0gMTsgaSA8IGxlbjsgaSsrKVxuICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdChoYW5kbGVyKSkge1xuICAgIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgYXJncyA9IG5ldyBBcnJheShsZW4gLSAxKTtcbiAgICBmb3IgKGkgPSAxOyBpIDwgbGVuOyBpKyspXG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcblxuICAgIGxpc3RlbmVycyA9IGhhbmRsZXIuc2xpY2UoKTtcbiAgICBsZW4gPSBsaXN0ZW5lcnMubGVuZ3RoO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKylcbiAgICAgIGxpc3RlbmVyc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBtO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gIGlmICh0aGlzLl9ldmVudHMubmV3TGlzdGVuZXIpXG4gICAgdGhpcy5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgIGlzRnVuY3Rpb24obGlzdGVuZXIubGlzdGVuZXIpID9cbiAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gIGVsc2UgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZVxuICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IFt0aGlzLl9ldmVudHNbdHlwZV0sIGxpc3RlbmVyXTtcblxuICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICBpZiAoaXNPYmplY3QodGhpcy5fZXZlbnRzW3R5cGVdKSAmJiAhdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCkge1xuICAgIHZhciBtO1xuICAgIGlmICghaXNVbmRlZmluZWQodGhpcy5fbWF4TGlzdGVuZXJzKSkge1xuICAgICAgbSA9IHRoaXMuX21heExpc3RlbmVycztcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICAgIH1cblxuICAgIGlmIChtICYmIG0gPiAwICYmIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGggPiBtKSB7XG4gICAgICB0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkID0gdHJ1ZTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJyhub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5ICcgK1xuICAgICAgICAgICAgICAgICAgICAnbGVhayBkZXRlY3RlZC4gJWQgbGlzdGVuZXJzIGFkZGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgJ1VzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LicsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2V2ZW50c1t0eXBlXS5sZW5ndGgpO1xuICAgICAgaWYgKHR5cGVvZiBjb25zb2xlLnRyYWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIG5vdCBzdXBwb3J0ZWQgaW4gSUUgMTBcbiAgICAgICAgY29uc29sZS50cmFjZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICB2YXIgZmlyZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBnKCkge1xuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgZyk7XG5cbiAgICBpZiAoIWZpcmVkKSB7XG4gICAgICBmaXJlZCA9IHRydWU7XG4gICAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxuXG4gIGcubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgdGhpcy5vbih0eXBlLCBnKTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vIGVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZmYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIGxpc3QsIHBvc2l0aW9uLCBsZW5ndGgsIGk7XG5cbiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgbGlzdCA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgbGVuZ3RoID0gbGlzdC5sZW5ndGg7XG4gIHBvc2l0aW9uID0gLTE7XG5cbiAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8XG4gICAgICAoaXNGdW5jdGlvbihsaXN0Lmxpc3RlbmVyKSAmJiBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIGlmICh0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdGVuZXIpO1xuXG4gIH0gZWxzZSBpZiAoaXNPYmplY3QobGlzdCkpIHtcbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSA+IDA7KSB7XG4gICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHxcbiAgICAgICAgICAobGlzdFtpXS5saXN0ZW5lciAmJiBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikpIHtcbiAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpIHtcbiAgICAgIGxpc3QubGVuZ3RoID0gMDtcbiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpc3Quc3BsaWNlKHBvc2l0aW9uLCAxKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciBrZXksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICByZXR1cm4gdGhpcztcblxuICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gIGlmICghdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICBlbHNlIGlmICh0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgZm9yIChrZXkgaW4gdGhpcy5fZXZlbnRzKSB7XG4gICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVycykpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gTElGTyBvcmRlclxuICAgIHdoaWxlIChsaXN0ZW5lcnMubGVuZ3RoKVxuICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbbGlzdGVuZXJzLmxlbmd0aCAtIDFdKTtcbiAgfVxuICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7XG4gIHZhciByZXQ7XG4gIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0ID0gW107XG4gIGVsc2UgaWYgKGlzRnVuY3Rpb24odGhpcy5fZXZlbnRzW3R5cGVdKSlcbiAgICByZXQgPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTtcbiAgZWxzZVxuICAgIHJldCA9IHRoaXMuX2V2ZW50c1t0eXBlXS5zbGljZSgpO1xuICByZXR1cm4gcmV0O1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIHZhciByZXQ7XG4gIGlmICghZW1pdHRlci5fZXZlbnRzIHx8ICFlbWl0dGVyLl9ldmVudHNbdHlwZV0pXG4gICAgcmV0ID0gMDtcbiAgZWxzZSBpZiAoaXNGdW5jdGlvbihlbWl0dGVyLl9ldmVudHNbdHlwZV0pKVxuICAgIHJldCA9IDE7XG4gIGVsc2VcbiAgICByZXQgPSBlbWl0dGVyLl9ldmVudHNbdHlwZV0ubGVuZ3RoO1xuICByZXR1cm4gcmV0O1xufTtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0KGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsO1xufVxuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwO1xufVxuIiwiaW1wb3J0ICogYXMgYmFzZSBmcm9tICcuL2hhbmRsZWJhcnMvYmFzZSc7XG5cbi8vIEVhY2ggb2YgdGhlc2UgYXVnbWVudCB0aGUgSGFuZGxlYmFycyBvYmplY3QuIE5vIG5lZWQgdG8gc2V0dXAgaGVyZS5cbi8vIChUaGlzIGlzIGRvbmUgdG8gZWFzaWx5IHNoYXJlIGNvZGUgYmV0d2VlbiBjb21tb25qcyBhbmQgYnJvd3NlIGVudnMpXG5pbXBvcnQgU2FmZVN0cmluZyBmcm9tICcuL2hhbmRsZWJhcnMvc2FmZS1zdHJpbmcnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuL2hhbmRsZWJhcnMvZXhjZXB0aW9uJztcbmltcG9ydCAqIGFzIFV0aWxzIGZyb20gJy4vaGFuZGxlYmFycy91dGlscyc7XG5pbXBvcnQgKiBhcyBydW50aW1lIGZyb20gJy4vaGFuZGxlYmFycy9ydW50aW1lJztcblxuaW1wb3J0IG5vQ29uZmxpY3QgZnJvbSAnLi9oYW5kbGViYXJzL25vLWNvbmZsaWN0JztcblxuLy8gRm9yIGNvbXBhdGliaWxpdHkgYW5kIHVzYWdlIG91dHNpZGUgb2YgbW9kdWxlIHN5c3RlbXMsIG1ha2UgdGhlIEhhbmRsZWJhcnMgb2JqZWN0IGEgbmFtZXNwYWNlXG5mdW5jdGlvbiBjcmVhdGUoKSB7XG4gIGxldCBoYiA9IG5ldyBiYXNlLkhhbmRsZWJhcnNFbnZpcm9ubWVudCgpO1xuXG4gIFV0aWxzLmV4dGVuZChoYiwgYmFzZSk7XG4gIGhiLlNhZmVTdHJpbmcgPSBTYWZlU3RyaW5nO1xuICBoYi5FeGNlcHRpb24gPSBFeGNlcHRpb247XG4gIGhiLlV0aWxzID0gVXRpbHM7XG4gIGhiLmVzY2FwZUV4cHJlc3Npb24gPSBVdGlscy5lc2NhcGVFeHByZXNzaW9uO1xuXG4gIGhiLlZNID0gcnVudGltZTtcbiAgaGIudGVtcGxhdGUgPSBmdW5jdGlvbihzcGVjKSB7XG4gICAgcmV0dXJuIHJ1bnRpbWUudGVtcGxhdGUoc3BlYywgaGIpO1xuICB9O1xuXG4gIHJldHVybiBoYjtcbn1cblxubGV0IGluc3QgPSBjcmVhdGUoKTtcbmluc3QuY3JlYXRlID0gY3JlYXRlO1xuXG5ub0NvbmZsaWN0KGluc3QpO1xuXG5pbnN0WydkZWZhdWx0J10gPSBpbnN0O1xuXG5leHBvcnQgZGVmYXVsdCBpbnN0O1xuIiwiaW1wb3J0IHtjcmVhdGVGcmFtZSwgZXh0ZW5kLCB0b1N0cmluZ30gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vZXhjZXB0aW9uJztcbmltcG9ydCB7cmVnaXN0ZXJEZWZhdWx0SGVscGVyc30gZnJvbSAnLi9oZWxwZXJzJztcbmltcG9ydCB7cmVnaXN0ZXJEZWZhdWx0RGVjb3JhdG9yc30gZnJvbSAnLi9kZWNvcmF0b3JzJztcbmltcG9ydCBsb2dnZXIgZnJvbSAnLi9sb2dnZXInO1xuXG5leHBvcnQgY29uc3QgVkVSU0lPTiA9ICc0LjAuNSc7XG5leHBvcnQgY29uc3QgQ09NUElMRVJfUkVWSVNJT04gPSA3O1xuXG5leHBvcnQgY29uc3QgUkVWSVNJT05fQ0hBTkdFUyA9IHtcbiAgMTogJzw9IDEuMC5yYy4yJywgLy8gMS4wLnJjLjIgaXMgYWN0dWFsbHkgcmV2MiBidXQgZG9lc24ndCByZXBvcnQgaXRcbiAgMjogJz09IDEuMC4wLXJjLjMnLFxuICAzOiAnPT0gMS4wLjAtcmMuNCcsXG4gIDQ6ICc9PSAxLngueCcsXG4gIDU6ICc9PSAyLjAuMC1hbHBoYS54JyxcbiAgNjogJz49IDIuMC4wLWJldGEuMScsXG4gIDc6ICc+PSA0LjAuMCdcbn07XG5cbmNvbnN0IG9iamVjdFR5cGUgPSAnW29iamVjdCBPYmplY3RdJztcblxuZXhwb3J0IGZ1bmN0aW9uIEhhbmRsZWJhcnNFbnZpcm9ubWVudChoZWxwZXJzLCBwYXJ0aWFscywgZGVjb3JhdG9ycykge1xuICB0aGlzLmhlbHBlcnMgPSBoZWxwZXJzIHx8IHt9O1xuICB0aGlzLnBhcnRpYWxzID0gcGFydGlhbHMgfHwge307XG4gIHRoaXMuZGVjb3JhdG9ycyA9IGRlY29yYXRvcnMgfHwge307XG5cbiAgcmVnaXN0ZXJEZWZhdWx0SGVscGVycyh0aGlzKTtcbiAgcmVnaXN0ZXJEZWZhdWx0RGVjb3JhdG9ycyh0aGlzKTtcbn1cblxuSGFuZGxlYmFyc0Vudmlyb25tZW50LnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IEhhbmRsZWJhcnNFbnZpcm9ubWVudCxcblxuICBsb2dnZXI6IGxvZ2dlcixcbiAgbG9nOiBsb2dnZXIubG9nLFxuXG4gIHJlZ2lzdGVySGVscGVyOiBmdW5jdGlvbihuYW1lLCBmbikge1xuICAgIGlmICh0b1N0cmluZy5jYWxsKG5hbWUpID09PSBvYmplY3RUeXBlKSB7XG4gICAgICBpZiAoZm4pIHsgdGhyb3cgbmV3IEV4Y2VwdGlvbignQXJnIG5vdCBzdXBwb3J0ZWQgd2l0aCBtdWx0aXBsZSBoZWxwZXJzJyk7IH1cbiAgICAgIGV4dGVuZCh0aGlzLmhlbHBlcnMsIG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmhlbHBlcnNbbmFtZV0gPSBmbjtcbiAgICB9XG4gIH0sXG4gIHVucmVnaXN0ZXJIZWxwZXI6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5oZWxwZXJzW25hbWVdO1xuICB9LFxuXG4gIHJlZ2lzdGVyUGFydGlhbDogZnVuY3Rpb24obmFtZSwgcGFydGlhbCkge1xuICAgIGlmICh0b1N0cmluZy5jYWxsKG5hbWUpID09PSBvYmplY3RUeXBlKSB7XG4gICAgICBleHRlbmQodGhpcy5wYXJ0aWFscywgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlb2YgcGFydGlhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbihgQXR0ZW1wdGluZyB0byByZWdpc3RlciBhIHBhcnRpYWwgY2FsbGVkIFwiJHtuYW1lfVwiIGFzIHVuZGVmaW5lZGApO1xuICAgICAgfVxuICAgICAgdGhpcy5wYXJ0aWFsc1tuYW1lXSA9IHBhcnRpYWw7XG4gICAgfVxuICB9LFxuICB1bnJlZ2lzdGVyUGFydGlhbDogZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLnBhcnRpYWxzW25hbWVdO1xuICB9LFxuXG4gIHJlZ2lzdGVyRGVjb3JhdG9yOiBmdW5jdGlvbihuYW1lLCBmbikge1xuICAgIGlmICh0b1N0cmluZy5jYWxsKG5hbWUpID09PSBvYmplY3RUeXBlKSB7XG4gICAgICBpZiAoZm4pIHsgdGhyb3cgbmV3IEV4Y2VwdGlvbignQXJnIG5vdCBzdXBwb3J0ZWQgd2l0aCBtdWx0aXBsZSBkZWNvcmF0b3JzJyk7IH1cbiAgICAgIGV4dGVuZCh0aGlzLmRlY29yYXRvcnMsIG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRlY29yYXRvcnNbbmFtZV0gPSBmbjtcbiAgICB9XG4gIH0sXG4gIHVucmVnaXN0ZXJEZWNvcmF0b3I6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5kZWNvcmF0b3JzW25hbWVdO1xuICB9XG59O1xuXG5leHBvcnQgbGV0IGxvZyA9IGxvZ2dlci5sb2c7XG5cbmV4cG9ydCB7Y3JlYXRlRnJhbWUsIGxvZ2dlcn07XG4iLCJpbXBvcnQgcmVnaXN0ZXJJbmxpbmUgZnJvbSAnLi9kZWNvcmF0b3JzL2lubGluZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRlZmF1bHREZWNvcmF0b3JzKGluc3RhbmNlKSB7XG4gIHJlZ2lzdGVySW5saW5lKGluc3RhbmNlKTtcbn1cblxuIiwiaW1wb3J0IHtleHRlbmR9IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJEZWNvcmF0b3IoJ2lubGluZScsIGZ1bmN0aW9uKGZuLCBwcm9wcywgY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgbGV0IHJldCA9IGZuO1xuICAgIGlmICghcHJvcHMucGFydGlhbHMpIHtcbiAgICAgIHByb3BzLnBhcnRpYWxzID0ge307XG4gICAgICByZXQgPSBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgICAgIC8vIENyZWF0ZSBhIG5ldyBwYXJ0aWFscyBzdGFjayBmcmFtZSBwcmlvciB0byBleGVjLlxuICAgICAgICBsZXQgb3JpZ2luYWwgPSBjb250YWluZXIucGFydGlhbHM7XG4gICAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyA9IGV4dGVuZCh7fSwgb3JpZ2luYWwsIHByb3BzLnBhcnRpYWxzKTtcbiAgICAgICAgbGV0IHJldCA9IGZuKGNvbnRleHQsIG9wdGlvbnMpO1xuICAgICAgICBjb250YWluZXIucGFydGlhbHMgPSBvcmlnaW5hbDtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcHJvcHMucGFydGlhbHNbb3B0aW9ucy5hcmdzWzBdXSA9IG9wdGlvbnMuZm47XG5cbiAgICByZXR1cm4gcmV0O1xuICB9KTtcbn1cbiIsIlxuY29uc3QgZXJyb3JQcm9wcyA9IFsnZGVzY3JpcHRpb24nLCAnZmlsZU5hbWUnLCAnbGluZU51bWJlcicsICdtZXNzYWdlJywgJ25hbWUnLCAnbnVtYmVyJywgJ3N0YWNrJ107XG5cbmZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlLCBub2RlKSB7XG4gIGxldCBsb2MgPSBub2RlICYmIG5vZGUubG9jLFxuICAgICAgbGluZSxcbiAgICAgIGNvbHVtbjtcbiAgaWYgKGxvYykge1xuICAgIGxpbmUgPSBsb2Muc3RhcnQubGluZTtcbiAgICBjb2x1bW4gPSBsb2Muc3RhcnQuY29sdW1uO1xuXG4gICAgbWVzc2FnZSArPSAnIC0gJyArIGxpbmUgKyAnOicgKyBjb2x1bW47XG4gIH1cblxuICBsZXQgdG1wID0gRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgbWVzc2FnZSk7XG5cbiAgLy8gVW5mb3J0dW5hdGVseSBlcnJvcnMgYXJlIG5vdCBlbnVtZXJhYmxlIGluIENocm9tZSAoYXQgbGVhc3QpLCBzbyBgZm9yIHByb3AgaW4gdG1wYCBkb2Vzbid0IHdvcmsuXG4gIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGVycm9yUHJvcHMubGVuZ3RoOyBpZHgrKykge1xuICAgIHRoaXNbZXJyb3JQcm9wc1tpZHhdXSA9IHRtcFtlcnJvclByb3BzW2lkeF1dO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgRXhjZXB0aW9uKTtcbiAgfVxuXG4gIGlmIChsb2MpIHtcbiAgICB0aGlzLmxpbmVOdW1iZXIgPSBsaW5lO1xuICAgIHRoaXMuY29sdW1uID0gY29sdW1uO1xuICB9XG59XG5cbkV4Y2VwdGlvbi5wcm90b3R5cGUgPSBuZXcgRXJyb3IoKTtcblxuZXhwb3J0IGRlZmF1bHQgRXhjZXB0aW9uO1xuIiwiaW1wb3J0IHJlZ2lzdGVyQmxvY2tIZWxwZXJNaXNzaW5nIGZyb20gJy4vaGVscGVycy9ibG9jay1oZWxwZXItbWlzc2luZyc7XG5pbXBvcnQgcmVnaXN0ZXJFYWNoIGZyb20gJy4vaGVscGVycy9lYWNoJztcbmltcG9ydCByZWdpc3RlckhlbHBlck1pc3NpbmcgZnJvbSAnLi9oZWxwZXJzL2hlbHBlci1taXNzaW5nJztcbmltcG9ydCByZWdpc3RlcklmIGZyb20gJy4vaGVscGVycy9pZic7XG5pbXBvcnQgcmVnaXN0ZXJMb2cgZnJvbSAnLi9oZWxwZXJzL2xvZyc7XG5pbXBvcnQgcmVnaXN0ZXJMb29rdXAgZnJvbSAnLi9oZWxwZXJzL2xvb2t1cCc7XG5pbXBvcnQgcmVnaXN0ZXJXaXRoIGZyb20gJy4vaGVscGVycy93aXRoJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRGVmYXVsdEhlbHBlcnMoaW5zdGFuY2UpIHtcbiAgcmVnaXN0ZXJCbG9ja0hlbHBlck1pc3NpbmcoaW5zdGFuY2UpO1xuICByZWdpc3RlckVhY2goaW5zdGFuY2UpO1xuICByZWdpc3RlckhlbHBlck1pc3NpbmcoaW5zdGFuY2UpO1xuICByZWdpc3RlcklmKGluc3RhbmNlKTtcbiAgcmVnaXN0ZXJMb2coaW5zdGFuY2UpO1xuICByZWdpc3Rlckxvb2t1cChpbnN0YW5jZSk7XG4gIHJlZ2lzdGVyV2l0aChpbnN0YW5jZSk7XG59XG4iLCJpbXBvcnQge2FwcGVuZENvbnRleHRQYXRoLCBjcmVhdGVGcmFtZSwgaXNBcnJheX0gZnJvbSAnLi4vdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignYmxvY2tIZWxwZXJNaXNzaW5nJywgZnVuY3Rpb24oY29udGV4dCwgb3B0aW9ucykge1xuICAgIGxldCBpbnZlcnNlID0gb3B0aW9ucy5pbnZlcnNlLFxuICAgICAgICBmbiA9IG9wdGlvbnMuZm47XG5cbiAgICBpZiAoY29udGV4dCA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIGZuKHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoY29udGV4dCA9PT0gZmFsc2UgfHwgY29udGV4dCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gaW52ZXJzZSh0aGlzKTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkoY29udGV4dCkpIHtcbiAgICAgIGlmIChjb250ZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuaWRzKSB7XG4gICAgICAgICAgb3B0aW9ucy5pZHMgPSBbb3B0aW9ucy5uYW1lXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnN0YW5jZS5oZWxwZXJzLmVhY2goY29udGV4dCwgb3B0aW9ucyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaW52ZXJzZSh0aGlzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmlkcykge1xuICAgICAgICBsZXQgZGF0YSA9IGNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgICAgIGRhdGEuY29udGV4dFBhdGggPSBhcHBlbmRDb250ZXh0UGF0aChvcHRpb25zLmRhdGEuY29udGV4dFBhdGgsIG9wdGlvbnMubmFtZSk7XG4gICAgICAgIG9wdGlvbnMgPSB7ZGF0YTogZGF0YX07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmbihjb250ZXh0LCBvcHRpb25zKTtcbiAgICB9XG4gIH0pO1xufVxuIiwiaW1wb3J0IHthcHBlbmRDb250ZXh0UGF0aCwgYmxvY2tQYXJhbXMsIGNyZWF0ZUZyYW1lLCBpc0FycmF5LCBpc0Z1bmN0aW9ufSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4uL2V4Y2VwdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdlYWNoJywgZnVuY3Rpb24oY29udGV4dCwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignTXVzdCBwYXNzIGl0ZXJhdG9yIHRvICNlYWNoJyk7XG4gICAgfVxuXG4gICAgbGV0IGZuID0gb3B0aW9ucy5mbixcbiAgICAgICAgaW52ZXJzZSA9IG9wdGlvbnMuaW52ZXJzZSxcbiAgICAgICAgaSA9IDAsXG4gICAgICAgIHJldCA9ICcnLFxuICAgICAgICBkYXRhLFxuICAgICAgICBjb250ZXh0UGF0aDtcblxuICAgIGlmIChvcHRpb25zLmRhdGEgJiYgb3B0aW9ucy5pZHMpIHtcbiAgICAgIGNvbnRleHRQYXRoID0gYXBwZW5kQ29udGV4dFBhdGgob3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoLCBvcHRpb25zLmlkc1swXSkgKyAnLic7XG4gICAgfVxuXG4gICAgaWYgKGlzRnVuY3Rpb24oY29udGV4dCkpIHsgY29udGV4dCA9IGNvbnRleHQuY2FsbCh0aGlzKTsgfVxuXG4gICAgaWYgKG9wdGlvbnMuZGF0YSkge1xuICAgICAgZGF0YSA9IGNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXhlY0l0ZXJhdGlvbihmaWVsZCwgaW5kZXgsIGxhc3QpIHtcbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIGRhdGEua2V5ID0gZmllbGQ7XG4gICAgICAgIGRhdGEuaW5kZXggPSBpbmRleDtcbiAgICAgICAgZGF0YS5maXJzdCA9IGluZGV4ID09PSAwO1xuICAgICAgICBkYXRhLmxhc3QgPSAhIWxhc3Q7XG5cbiAgICAgICAgaWYgKGNvbnRleHRQYXRoKSB7XG4gICAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGNvbnRleHRQYXRoICsgZmllbGQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0ID0gcmV0ICsgZm4oY29udGV4dFtmaWVsZF0sIHtcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgYmxvY2tQYXJhbXM6IGJsb2NrUGFyYW1zKFtjb250ZXh0W2ZpZWxkXSwgZmllbGRdLCBbY29udGV4dFBhdGggKyBmaWVsZCwgbnVsbF0pXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoY29udGV4dCAmJiB0eXBlb2YgY29udGV4dCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChpc0FycmF5KGNvbnRleHQpKSB7XG4gICAgICAgIGZvciAobGV0IGogPSBjb250ZXh0Lmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgIGlmIChpIGluIGNvbnRleHQpIHtcbiAgICAgICAgICAgIGV4ZWNJdGVyYXRpb24oaSwgaSwgaSA9PT0gY29udGV4dC5sZW5ndGggLSAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBwcmlvcktleTtcblxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gY29udGV4dCkge1xuICAgICAgICAgIGlmIChjb250ZXh0Lmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIC8vIFdlJ3JlIHJ1bm5pbmcgdGhlIGl0ZXJhdGlvbnMgb25lIHN0ZXAgb3V0IG9mIHN5bmMgc28gd2UgY2FuIGRldGVjdFxuICAgICAgICAgICAgLy8gdGhlIGxhc3QgaXRlcmF0aW9uIHdpdGhvdXQgaGF2ZSB0byBzY2FuIHRoZSBvYmplY3QgdHdpY2UgYW5kIGNyZWF0ZVxuICAgICAgICAgICAgLy8gYW4gaXRlcm1lZGlhdGUga2V5cyBhcnJheS5cbiAgICAgICAgICAgIGlmIChwcmlvcktleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIGV4ZWNJdGVyYXRpb24ocHJpb3JLZXksIGkgLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByaW9yS2V5ID0ga2V5O1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocHJpb3JLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGV4ZWNJdGVyYXRpb24ocHJpb3JLZXksIGkgLSAxLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpID09PSAwKSB7XG4gICAgICByZXQgPSBpbnZlcnNlKHRoaXMpO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG4gIH0pO1xufVxuIiwiaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuLi9leGNlcHRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignaGVscGVyTWlzc2luZycsIGZ1bmN0aW9uKC8qIFthcmdzLCBdb3B0aW9ucyAqLykge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAvLyBBIG1pc3NpbmcgZmllbGQgaW4gYSB7e2Zvb319IGNvbnN0cnVjdC5cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNvbWVvbmUgaXMgYWN0dWFsbHkgdHJ5aW5nIHRvIGNhbGwgc29tZXRoaW5nLCBibG93IHVwLlxuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignTWlzc2luZyBoZWxwZXI6IFwiJyArIGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV0ubmFtZSArICdcIicpO1xuICAgIH1cbiAgfSk7XG59XG4iLCJpbXBvcnQge2lzRW1wdHksIGlzRnVuY3Rpb259IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2lmJywgZnVuY3Rpb24oY29uZGl0aW9uYWwsIG9wdGlvbnMpIHtcbiAgICBpZiAoaXNGdW5jdGlvbihjb25kaXRpb25hbCkpIHsgY29uZGl0aW9uYWwgPSBjb25kaXRpb25hbC5jYWxsKHRoaXMpOyB9XG5cbiAgICAvLyBEZWZhdWx0IGJlaGF2aW9yIGlzIHRvIHJlbmRlciB0aGUgcG9zaXRpdmUgcGF0aCBpZiB0aGUgdmFsdWUgaXMgdHJ1dGh5IGFuZCBub3QgZW1wdHkuXG4gICAgLy8gVGhlIGBpbmNsdWRlWmVyb2Agb3B0aW9uIG1heSBiZSBzZXQgdG8gdHJlYXQgdGhlIGNvbmR0aW9uYWwgYXMgcHVyZWx5IG5vdCBlbXB0eSBiYXNlZCBvbiB0aGVcbiAgICAvLyBiZWhhdmlvciBvZiBpc0VtcHR5LiBFZmZlY3RpdmVseSB0aGlzIGRldGVybWluZXMgaWYgMCBpcyBoYW5kbGVkIGJ5IHRoZSBwb3NpdGl2ZSBwYXRoIG9yIG5lZ2F0aXZlLlxuICAgIGlmICgoIW9wdGlvbnMuaGFzaC5pbmNsdWRlWmVybyAmJiAhY29uZGl0aW9uYWwpIHx8IGlzRW1wdHkoY29uZGl0aW9uYWwpKSB7XG4gICAgICByZXR1cm4gb3B0aW9ucy5pbnZlcnNlKHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb3B0aW9ucy5mbih0aGlzKTtcbiAgICB9XG4gIH0pO1xuXG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCd1bmxlc3MnLCBmdW5jdGlvbihjb25kaXRpb25hbCwgb3B0aW9ucykge1xuICAgIHJldHVybiBpbnN0YW5jZS5oZWxwZXJzWydpZiddLmNhbGwodGhpcywgY29uZGl0aW9uYWwsIHtmbjogb3B0aW9ucy5pbnZlcnNlLCBpbnZlcnNlOiBvcHRpb25zLmZuLCBoYXNoOiBvcHRpb25zLmhhc2h9KTtcbiAgfSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignbG9nJywgZnVuY3Rpb24oLyogbWVzc2FnZSwgb3B0aW9ucyAqLykge1xuICAgIGxldCBhcmdzID0gW3VuZGVmaW5lZF0sXG4gICAgICAgIG9wdGlvbnMgPSBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gICAgfVxuXG4gICAgbGV0IGxldmVsID0gMTtcbiAgICBpZiAob3B0aW9ucy5oYXNoLmxldmVsICE9IG51bGwpIHtcbiAgICAgIGxldmVsID0gb3B0aW9ucy5oYXNoLmxldmVsO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuZGF0YS5sZXZlbCAhPSBudWxsKSB7XG4gICAgICBsZXZlbCA9IG9wdGlvbnMuZGF0YS5sZXZlbDtcbiAgICB9XG4gICAgYXJnc1swXSA9IGxldmVsO1xuXG4gICAgaW5zdGFuY2UubG9nKC4uLiBhcmdzKTtcbiAgfSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignbG9va3VwJywgZnVuY3Rpb24ob2JqLCBmaWVsZCkge1xuICAgIHJldHVybiBvYmogJiYgb2JqW2ZpZWxkXTtcbiAgfSk7XG59XG4iLCJpbXBvcnQge2FwcGVuZENvbnRleHRQYXRoLCBibG9ja1BhcmFtcywgY3JlYXRlRnJhbWUsIGlzRW1wdHksIGlzRnVuY3Rpb259IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ3dpdGgnLCBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24oY29udGV4dCkpIHsgY29udGV4dCA9IGNvbnRleHQuY2FsbCh0aGlzKTsgfVxuXG4gICAgbGV0IGZuID0gb3B0aW9ucy5mbjtcblxuICAgIGlmICghaXNFbXB0eShjb250ZXh0KSkge1xuICAgICAgbGV0IGRhdGEgPSBvcHRpb25zLmRhdGE7XG4gICAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaWRzKSB7XG4gICAgICAgIGRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgICAgICBkYXRhLmNvbnRleHRQYXRoID0gYXBwZW5kQ29udGV4dFBhdGgob3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoLCBvcHRpb25zLmlkc1swXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmbihjb250ZXh0LCB7XG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGJsb2NrUGFyYW1zOiBibG9ja1BhcmFtcyhbY29udGV4dF0sIFtkYXRhICYmIGRhdGEuY29udGV4dFBhdGhdKVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XG4gICAgfVxuICB9KTtcbn1cbiIsImltcG9ydCB7aW5kZXhPZn0gZnJvbSAnLi91dGlscyc7XG5cbmxldCBsb2dnZXIgPSB7XG4gIG1ldGhvZE1hcDogWydkZWJ1ZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InXSxcbiAgbGV2ZWw6ICdpbmZvJyxcblxuICAvLyBNYXBzIGEgZ2l2ZW4gbGV2ZWwgdmFsdWUgdG8gdGhlIGBtZXRob2RNYXBgIGluZGV4ZXMgYWJvdmUuXG4gIGxvb2t1cExldmVsOiBmdW5jdGlvbihsZXZlbCkge1xuICAgIGlmICh0eXBlb2YgbGV2ZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBsZXQgbGV2ZWxNYXAgPSBpbmRleE9mKGxvZ2dlci5tZXRob2RNYXAsIGxldmVsLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgaWYgKGxldmVsTWFwID49IDApIHtcbiAgICAgICAgbGV2ZWwgPSBsZXZlbE1hcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldmVsID0gcGFyc2VJbnQobGV2ZWwsIDEwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGV2ZWw7XG4gIH0sXG5cbiAgLy8gQ2FuIGJlIG92ZXJyaWRkZW4gaW4gdGhlIGhvc3QgZW52aXJvbm1lbnRcbiAgbG9nOiBmdW5jdGlvbihsZXZlbCwgLi4ubWVzc2FnZSkge1xuICAgIGxldmVsID0gbG9nZ2VyLmxvb2t1cExldmVsKGxldmVsKTtcblxuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbG9nZ2VyLmxvb2t1cExldmVsKGxvZ2dlci5sZXZlbCkgPD0gbGV2ZWwpIHtcbiAgICAgIGxldCBtZXRob2QgPSBsb2dnZXIubWV0aG9kTWFwW2xldmVsXTtcbiAgICAgIGlmICghY29uc29sZVttZXRob2RdKSB7ICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICAgIG1ldGhvZCA9ICdsb2cnO1xuICAgICAgfVxuICAgICAgY29uc29sZVttZXRob2RdKC4uLm1lc3NhZ2UpOyAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGxvZ2dlcjtcbiIsIi8qIGdsb2JhbCB3aW5kb3cgKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKEhhbmRsZWJhcnMpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgbGV0IHJvb3QgPSB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHdpbmRvdyxcbiAgICAgICRIYW5kbGViYXJzID0gcm9vdC5IYW5kbGViYXJzO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBIYW5kbGViYXJzLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAocm9vdC5IYW5kbGViYXJzID09PSBIYW5kbGViYXJzKSB7XG4gICAgICByb290LkhhbmRsZWJhcnMgPSAkSGFuZGxlYmFycztcbiAgICB9XG4gICAgcmV0dXJuIEhhbmRsZWJhcnM7XG4gIH07XG59XG4iLCJpbXBvcnQgKiBhcyBVdGlscyBmcm9tICcuL3V0aWxzJztcbmltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi9leGNlcHRpb24nO1xuaW1wb3J0IHsgQ09NUElMRVJfUkVWSVNJT04sIFJFVklTSU9OX0NIQU5HRVMsIGNyZWF0ZUZyYW1lIH0gZnJvbSAnLi9iYXNlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUmV2aXNpb24oY29tcGlsZXJJbmZvKSB7XG4gIGNvbnN0IGNvbXBpbGVyUmV2aXNpb24gPSBjb21waWxlckluZm8gJiYgY29tcGlsZXJJbmZvWzBdIHx8IDEsXG4gICAgICAgIGN1cnJlbnRSZXZpc2lvbiA9IENPTVBJTEVSX1JFVklTSU9OO1xuXG4gIGlmIChjb21waWxlclJldmlzaW9uICE9PSBjdXJyZW50UmV2aXNpb24pIHtcbiAgICBpZiAoY29tcGlsZXJSZXZpc2lvbiA8IGN1cnJlbnRSZXZpc2lvbikge1xuICAgICAgY29uc3QgcnVudGltZVZlcnNpb25zID0gUkVWSVNJT05fQ0hBTkdFU1tjdXJyZW50UmV2aXNpb25dLFxuICAgICAgICAgICAgY29tcGlsZXJWZXJzaW9ucyA9IFJFVklTSU9OX0NIQU5HRVNbY29tcGlsZXJSZXZpc2lvbl07XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdUZW1wbGF0ZSB3YXMgcHJlY29tcGlsZWQgd2l0aCBhbiBvbGRlciB2ZXJzaW9uIG9mIEhhbmRsZWJhcnMgdGhhbiB0aGUgY3VycmVudCBydW50aW1lLiAnICtcbiAgICAgICAgICAgICdQbGVhc2UgdXBkYXRlIHlvdXIgcHJlY29tcGlsZXIgdG8gYSBuZXdlciB2ZXJzaW9uICgnICsgcnVudGltZVZlcnNpb25zICsgJykgb3IgZG93bmdyYWRlIHlvdXIgcnVudGltZSB0byBhbiBvbGRlciB2ZXJzaW9uICgnICsgY29tcGlsZXJWZXJzaW9ucyArICcpLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBVc2UgdGhlIGVtYmVkZGVkIHZlcnNpb24gaW5mbyBzaW5jZSB0aGUgcnVudGltZSBkb2Vzbid0IGtub3cgYWJvdXQgdGhpcyByZXZpc2lvbiB5ZXRcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1RlbXBsYXRlIHdhcyBwcmVjb21waWxlZCB3aXRoIGEgbmV3ZXIgdmVyc2lvbiBvZiBIYW5kbGViYXJzIHRoYW4gdGhlIGN1cnJlbnQgcnVudGltZS4gJyArXG4gICAgICAgICAgICAnUGxlYXNlIHVwZGF0ZSB5b3VyIHJ1bnRpbWUgdG8gYSBuZXdlciB2ZXJzaW9uICgnICsgY29tcGlsZXJJbmZvWzFdICsgJykuJyk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZSh0ZW1wbGF0ZVNwZWMsIGVudikge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAoIWVudikge1xuICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ05vIGVudmlyb25tZW50IHBhc3NlZCB0byB0ZW1wbGF0ZScpO1xuICB9XG4gIGlmICghdGVtcGxhdGVTcGVjIHx8ICF0ZW1wbGF0ZVNwZWMubWFpbikge1xuICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1Vua25vd24gdGVtcGxhdGUgb2JqZWN0OiAnICsgdHlwZW9mIHRlbXBsYXRlU3BlYyk7XG4gIH1cblxuICB0ZW1wbGF0ZVNwZWMubWFpbi5kZWNvcmF0b3IgPSB0ZW1wbGF0ZVNwZWMubWFpbl9kO1xuXG4gIC8vIE5vdGU6IFVzaW5nIGVudi5WTSByZWZlcmVuY2VzIHJhdGhlciB0aGFuIGxvY2FsIHZhciByZWZlcmVuY2VzIHRocm91Z2hvdXQgdGhpcyBzZWN0aW9uIHRvIGFsbG93XG4gIC8vIGZvciBleHRlcm5hbCB1c2VycyB0byBvdmVycmlkZSB0aGVzZSBhcyBwc3VlZG8tc3VwcG9ydGVkIEFQSXMuXG4gIGVudi5WTS5jaGVja1JldmlzaW9uKHRlbXBsYXRlU3BlYy5jb21waWxlcik7XG5cbiAgZnVuY3Rpb24gaW52b2tlUGFydGlhbFdyYXBwZXIocGFydGlhbCwgY29udGV4dCwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmhhc2gpIHtcbiAgICAgIGNvbnRleHQgPSBVdGlscy5leHRlbmQoe30sIGNvbnRleHQsIG9wdGlvbnMuaGFzaCk7XG4gICAgICBpZiAob3B0aW9ucy5pZHMpIHtcbiAgICAgICAgb3B0aW9ucy5pZHNbMF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHBhcnRpYWwgPSBlbnYuVk0ucmVzb2x2ZVBhcnRpYWwuY2FsbCh0aGlzLCBwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKTtcbiAgICBsZXQgcmVzdWx0ID0gZW52LlZNLmludm9rZVBhcnRpYWwuY2FsbCh0aGlzLCBwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKTtcblxuICAgIGlmIChyZXN1bHQgPT0gbnVsbCAmJiBlbnYuY29tcGlsZSkge1xuICAgICAgb3B0aW9ucy5wYXJ0aWFsc1tvcHRpb25zLm5hbWVdID0gZW52LmNvbXBpbGUocGFydGlhbCwgdGVtcGxhdGVTcGVjLmNvbXBpbGVyT3B0aW9ucywgZW52KTtcbiAgICAgIHJlc3VsdCA9IG9wdGlvbnMucGFydGlhbHNbb3B0aW9ucy5uYW1lXShjb250ZXh0LCBvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICBpZiAob3B0aW9ucy5pbmRlbnQpIHtcbiAgICAgICAgbGV0IGxpbmVzID0gcmVzdWx0LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBsaW5lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBpZiAoIWxpbmVzW2ldICYmIGkgKyAxID09PSBsKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaW5lc1tpXSA9IG9wdGlvbnMuaW5kZW50ICsgbGluZXNbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gbGluZXMuam9pbignXFxuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdUaGUgcGFydGlhbCAnICsgb3B0aW9ucy5uYW1lICsgJyBjb3VsZCBub3QgYmUgY29tcGlsZWQgd2hlbiBydW5uaW5nIGluIHJ1bnRpbWUtb25seSBtb2RlJyk7XG4gICAgfVxuICB9XG5cbiAgLy8gSnVzdCBhZGQgd2F0ZXJcbiAgbGV0IGNvbnRhaW5lciA9IHtcbiAgICBzdHJpY3Q6IGZ1bmN0aW9uKG9iaiwgbmFtZSkge1xuICAgICAgaWYgKCEobmFtZSBpbiBvYmopKSB7XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1wiJyArIG5hbWUgKyAnXCIgbm90IGRlZmluZWQgaW4gJyArIG9iaik7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqW25hbWVdO1xuICAgIH0sXG4gICAgbG9va3VwOiBmdW5jdGlvbihkZXB0aHMsIG5hbWUpIHtcbiAgICAgIGNvbnN0IGxlbiA9IGRlcHRocy5sZW5ndGg7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChkZXB0aHNbaV0gJiYgZGVwdGhzW2ldW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZGVwdGhzW2ldW25hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBsYW1iZGE6IGZ1bmN0aW9uKGN1cnJlbnQsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgY3VycmVudCA9PT0gJ2Z1bmN0aW9uJyA/IGN1cnJlbnQuY2FsbChjb250ZXh0KSA6IGN1cnJlbnQ7XG4gICAgfSxcblxuICAgIGVzY2FwZUV4cHJlc3Npb246IFV0aWxzLmVzY2FwZUV4cHJlc3Npb24sXG4gICAgaW52b2tlUGFydGlhbDogaW52b2tlUGFydGlhbFdyYXBwZXIsXG5cbiAgICBmbjogZnVuY3Rpb24oaSkge1xuICAgICAgbGV0IHJldCA9IHRlbXBsYXRlU3BlY1tpXTtcbiAgICAgIHJldC5kZWNvcmF0b3IgPSB0ZW1wbGF0ZVNwZWNbaSArICdfZCddO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuXG4gICAgcHJvZ3JhbXM6IFtdLFxuICAgIHByb2dyYW06IGZ1bmN0aW9uKGksIGRhdGEsIGRlY2xhcmVkQmxvY2tQYXJhbXMsIGJsb2NrUGFyYW1zLCBkZXB0aHMpIHtcbiAgICAgIGxldCBwcm9ncmFtV3JhcHBlciA9IHRoaXMucHJvZ3JhbXNbaV0sXG4gICAgICAgICAgZm4gPSB0aGlzLmZuKGkpO1xuICAgICAgaWYgKGRhdGEgfHwgZGVwdGhzIHx8IGJsb2NrUGFyYW1zIHx8IGRlY2xhcmVkQmxvY2tQYXJhbXMpIHtcbiAgICAgICAgcHJvZ3JhbVdyYXBwZXIgPSB3cmFwUHJvZ3JhbSh0aGlzLCBpLCBmbiwgZGF0YSwgZGVjbGFyZWRCbG9ja1BhcmFtcywgYmxvY2tQYXJhbXMsIGRlcHRocyk7XG4gICAgICB9IGVsc2UgaWYgKCFwcm9ncmFtV3JhcHBlcikge1xuICAgICAgICBwcm9ncmFtV3JhcHBlciA9IHRoaXMucHJvZ3JhbXNbaV0gPSB3cmFwUHJvZ3JhbSh0aGlzLCBpLCBmbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvZ3JhbVdyYXBwZXI7XG4gICAgfSxcblxuICAgIGRhdGE6IGZ1bmN0aW9uKHZhbHVlLCBkZXB0aCkge1xuICAgICAgd2hpbGUgKHZhbHVlICYmIGRlcHRoLS0pIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5fcGFyZW50O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgbWVyZ2U6IGZ1bmN0aW9uKHBhcmFtLCBjb21tb24pIHtcbiAgICAgIGxldCBvYmogPSBwYXJhbSB8fCBjb21tb247XG5cbiAgICAgIGlmIChwYXJhbSAmJiBjb21tb24gJiYgKHBhcmFtICE9PSBjb21tb24pKSB7XG4gICAgICAgIG9iaiA9IFV0aWxzLmV4dGVuZCh7fSwgY29tbW9uLCBwYXJhbSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcblxuICAgIG5vb3A6IGVudi5WTS5ub29wLFxuICAgIGNvbXBpbGVySW5mbzogdGVtcGxhdGVTcGVjLmNvbXBpbGVyXG4gIH07XG5cbiAgZnVuY3Rpb24gcmV0KGNvbnRleHQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCBkYXRhID0gb3B0aW9ucy5kYXRhO1xuXG4gICAgcmV0Ll9zZXR1cChvcHRpb25zKTtcbiAgICBpZiAoIW9wdGlvbnMucGFydGlhbCAmJiB0ZW1wbGF0ZVNwZWMudXNlRGF0YSkge1xuICAgICAgZGF0YSA9IGluaXREYXRhKGNvbnRleHQsIGRhdGEpO1xuICAgIH1cbiAgICBsZXQgZGVwdGhzLFxuICAgICAgICBibG9ja1BhcmFtcyA9IHRlbXBsYXRlU3BlYy51c2VCbG9ja1BhcmFtcyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlRGVwdGhzKSB7XG4gICAgICBpZiAob3B0aW9ucy5kZXB0aHMpIHtcbiAgICAgICAgZGVwdGhzID0gY29udGV4dCAhPT0gb3B0aW9ucy5kZXB0aHNbMF0gPyBbY29udGV4dF0uY29uY2F0KG9wdGlvbnMuZGVwdGhzKSA6IG9wdGlvbnMuZGVwdGhzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVwdGhzID0gW2NvbnRleHRdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1haW4oY29udGV4dC8qLCBvcHRpb25zKi8pIHtcbiAgICAgIHJldHVybiAnJyArIHRlbXBsYXRlU3BlYy5tYWluKGNvbnRhaW5lciwgY29udGV4dCwgY29udGFpbmVyLmhlbHBlcnMsIGNvbnRhaW5lci5wYXJ0aWFscywgZGF0YSwgYmxvY2tQYXJhbXMsIGRlcHRocyk7XG4gICAgfVxuICAgIG1haW4gPSBleGVjdXRlRGVjb3JhdG9ycyh0ZW1wbGF0ZVNwZWMubWFpbiwgbWFpbiwgY29udGFpbmVyLCBvcHRpb25zLmRlcHRocyB8fCBbXSwgZGF0YSwgYmxvY2tQYXJhbXMpO1xuICAgIHJldHVybiBtYWluKGNvbnRleHQsIG9wdGlvbnMpO1xuICB9XG4gIHJldC5pc1RvcCA9IHRydWU7XG5cbiAgcmV0Ll9zZXR1cCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMucGFydGlhbCkge1xuICAgICAgY29udGFpbmVyLmhlbHBlcnMgPSBjb250YWluZXIubWVyZ2Uob3B0aW9ucy5oZWxwZXJzLCBlbnYuaGVscGVycyk7XG5cbiAgICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlUGFydGlhbCkge1xuICAgICAgICBjb250YWluZXIucGFydGlhbHMgPSBjb250YWluZXIubWVyZ2Uob3B0aW9ucy5wYXJ0aWFscywgZW52LnBhcnRpYWxzKTtcbiAgICAgIH1cbiAgICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlUGFydGlhbCB8fCB0ZW1wbGF0ZVNwZWMudXNlRGVjb3JhdG9ycykge1xuICAgICAgICBjb250YWluZXIuZGVjb3JhdG9ycyA9IGNvbnRhaW5lci5tZXJnZShvcHRpb25zLmRlY29yYXRvcnMsIGVudi5kZWNvcmF0b3JzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFpbmVyLmhlbHBlcnMgPSBvcHRpb25zLmhlbHBlcnM7XG4gICAgICBjb250YWluZXIucGFydGlhbHMgPSBvcHRpb25zLnBhcnRpYWxzO1xuICAgICAgY29udGFpbmVyLmRlY29yYXRvcnMgPSBvcHRpb25zLmRlY29yYXRvcnM7XG4gICAgfVxuICB9O1xuXG4gIHJldC5fY2hpbGQgPSBmdW5jdGlvbihpLCBkYXRhLCBibG9ja1BhcmFtcywgZGVwdGhzKSB7XG4gICAgaWYgKHRlbXBsYXRlU3BlYy51c2VCbG9ja1BhcmFtcyAmJiAhYmxvY2tQYXJhbXMpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ211c3QgcGFzcyBibG9jayBwYXJhbXMnKTtcbiAgICB9XG4gICAgaWYgKHRlbXBsYXRlU3BlYy51c2VEZXB0aHMgJiYgIWRlcHRocykge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignbXVzdCBwYXNzIHBhcmVudCBkZXB0aHMnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gd3JhcFByb2dyYW0oY29udGFpbmVyLCBpLCB0ZW1wbGF0ZVNwZWNbaV0sIGRhdGEsIDAsIGJsb2NrUGFyYW1zLCBkZXB0aHMpO1xuICB9O1xuICByZXR1cm4gcmV0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JhcFByb2dyYW0oY29udGFpbmVyLCBpLCBmbiwgZGF0YSwgZGVjbGFyZWRCbG9ja1BhcmFtcywgYmxvY2tQYXJhbXMsIGRlcHRocykge1xuICBmdW5jdGlvbiBwcm9nKGNvbnRleHQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCBjdXJyZW50RGVwdGhzID0gZGVwdGhzO1xuICAgIGlmIChkZXB0aHMgJiYgY29udGV4dCAhPT0gZGVwdGhzWzBdKSB7XG4gICAgICBjdXJyZW50RGVwdGhzID0gW2NvbnRleHRdLmNvbmNhdChkZXB0aHMpO1xuICAgIH1cblxuICAgIHJldHVybiBmbihjb250YWluZXIsXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGNvbnRhaW5lci5oZWxwZXJzLCBjb250YWluZXIucGFydGlhbHMsXG4gICAgICAgIG9wdGlvbnMuZGF0YSB8fCBkYXRhLFxuICAgICAgICBibG9ja1BhcmFtcyAmJiBbb3B0aW9ucy5ibG9ja1BhcmFtc10uY29uY2F0KGJsb2NrUGFyYW1zKSxcbiAgICAgICAgY3VycmVudERlcHRocyk7XG4gIH1cblxuICBwcm9nID0gZXhlY3V0ZURlY29yYXRvcnMoZm4sIHByb2csIGNvbnRhaW5lciwgZGVwdGhzLCBkYXRhLCBibG9ja1BhcmFtcyk7XG5cbiAgcHJvZy5wcm9ncmFtID0gaTtcbiAgcHJvZy5kZXB0aCA9IGRlcHRocyA/IGRlcHRocy5sZW5ndGggOiAwO1xuICBwcm9nLmJsb2NrUGFyYW1zID0gZGVjbGFyZWRCbG9ja1BhcmFtcyB8fCAwO1xuICByZXR1cm4gcHJvZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVQYXJ0aWFsKHBhcnRpYWwsIGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgaWYgKCFwYXJ0aWFsKSB7XG4gICAgaWYgKG9wdGlvbnMubmFtZSA9PT0gJ0BwYXJ0aWFsLWJsb2NrJykge1xuICAgICAgcGFydGlhbCA9IG9wdGlvbnMuZGF0YVsncGFydGlhbC1ibG9jayddO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJ0aWFsID0gb3B0aW9ucy5wYXJ0aWFsc1tvcHRpb25zLm5hbWVdO1xuICAgIH1cbiAgfSBlbHNlIGlmICghcGFydGlhbC5jYWxsICYmICFvcHRpb25zLm5hbWUpIHtcbiAgICAvLyBUaGlzIGlzIGEgZHluYW1pYyBwYXJ0aWFsIHRoYXQgcmV0dXJuZWQgYSBzdHJpbmdcbiAgICBvcHRpb25zLm5hbWUgPSBwYXJ0aWFsO1xuICAgIHBhcnRpYWwgPSBvcHRpb25zLnBhcnRpYWxzW3BhcnRpYWxdO1xuICB9XG4gIHJldHVybiBwYXJ0aWFsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW52b2tlUGFydGlhbChwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMucGFydGlhbCA9IHRydWU7XG4gIGlmIChvcHRpb25zLmlkcykge1xuICAgIG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCA9IG9wdGlvbnMuaWRzWzBdIHx8IG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aDtcbiAgfVxuXG4gIGxldCBwYXJ0aWFsQmxvY2s7XG4gIGlmIChvcHRpb25zLmZuICYmIG9wdGlvbnMuZm4gIT09IG5vb3ApIHtcbiAgICBvcHRpb25zLmRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgIHBhcnRpYWxCbG9jayA9IG9wdGlvbnMuZGF0YVsncGFydGlhbC1ibG9jayddID0gb3B0aW9ucy5mbjtcblxuICAgIGlmIChwYXJ0aWFsQmxvY2sucGFydGlhbHMpIHtcbiAgICAgIG9wdGlvbnMucGFydGlhbHMgPSBVdGlscy5leHRlbmQoe30sIG9wdGlvbnMucGFydGlhbHMsIHBhcnRpYWxCbG9jay5wYXJ0aWFscyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHBhcnRpYWwgPT09IHVuZGVmaW5lZCAmJiBwYXJ0aWFsQmxvY2spIHtcbiAgICBwYXJ0aWFsID0gcGFydGlhbEJsb2NrO1xuICB9XG5cbiAgaWYgKHBhcnRpYWwgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1RoZSBwYXJ0aWFsICcgKyBvcHRpb25zLm5hbWUgKyAnIGNvdWxkIG5vdCBiZSBmb3VuZCcpO1xuICB9IGVsc2UgaWYgKHBhcnRpYWwgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgIHJldHVybiBwYXJ0aWFsKGNvbnRleHQsIG9wdGlvbnMpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub29wKCkgeyByZXR1cm4gJyc7IH1cblxuZnVuY3Rpb24gaW5pdERhdGEoY29udGV4dCwgZGF0YSkge1xuICBpZiAoIWRhdGEgfHwgISgncm9vdCcgaW4gZGF0YSkpIHtcbiAgICBkYXRhID0gZGF0YSA/IGNyZWF0ZUZyYW1lKGRhdGEpIDoge307XG4gICAgZGF0YS5yb290ID0gY29udGV4dDtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gZXhlY3V0ZURlY29yYXRvcnMoZm4sIHByb2csIGNvbnRhaW5lciwgZGVwdGhzLCBkYXRhLCBibG9ja1BhcmFtcykge1xuICBpZiAoZm4uZGVjb3JhdG9yKSB7XG4gICAgbGV0IHByb3BzID0ge307XG4gICAgcHJvZyA9IGZuLmRlY29yYXRvcihwcm9nLCBwcm9wcywgY29udGFpbmVyLCBkZXB0aHMgJiYgZGVwdGhzWzBdLCBkYXRhLCBibG9ja1BhcmFtcywgZGVwdGhzKTtcbiAgICBVdGlscy5leHRlbmQocHJvZywgcHJvcHMpO1xuICB9XG4gIHJldHVybiBwcm9nO1xufVxuIiwiLy8gQnVpbGQgb3V0IG91ciBiYXNpYyBTYWZlU3RyaW5nIHR5cGVcbmZ1bmN0aW9uIFNhZmVTdHJpbmcoc3RyaW5nKSB7XG4gIHRoaXMuc3RyaW5nID0gc3RyaW5nO1xufVxuXG5TYWZlU3RyaW5nLnByb3RvdHlwZS50b1N0cmluZyA9IFNhZmVTdHJpbmcucHJvdG90eXBlLnRvSFRNTCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gJycgKyB0aGlzLnN0cmluZztcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNhZmVTdHJpbmc7XG4iLCJjb25zdCBlc2NhcGUgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmI3gyNzsnLFxuICAnYCc6ICcmI3g2MDsnLFxuICAnPSc6ICcmI3gzRDsnXG59O1xuXG5jb25zdCBiYWRDaGFycyA9IC9bJjw+XCInYD1dL2csXG4gICAgICBwb3NzaWJsZSA9IC9bJjw+XCInYD1dLztcblxuZnVuY3Rpb24gZXNjYXBlQ2hhcihjaHIpIHtcbiAgcmV0dXJuIGVzY2FwZVtjaHJdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKG9iai8qICwgLi4uc291cmNlICovKSB7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQga2V5IGluIGFyZ3VtZW50c1tpXSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcmd1bWVudHNbaV0sIGtleSkpIHtcbiAgICAgICAgb2JqW2tleV0gPSBhcmd1bWVudHNbaV1ba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5leHBvcnQgbGV0IHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLy8gU291cmNlZCBmcm9tIGxvZGFzaFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Jlc3RpZWpzL2xvZGFzaC9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dFxuLyogZXNsaW50LWRpc2FibGUgZnVuYy1zdHlsZSAqL1xubGV0IGlzRnVuY3Rpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufTtcbi8vIGZhbGxiYWNrIGZvciBvbGRlciB2ZXJzaW9ucyBvZiBDaHJvbWUgYW5kIFNhZmFyaVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmlmIChpc0Z1bmN0aW9uKC94LykpIHtcbiAgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgfTtcbn1cbmV4cG9ydCB7aXNGdW5jdGlvbn07XG4vKiBlc2xpbnQtZW5hYmxlIGZ1bmMtc3R5bGUgKi9cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpID8gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XScgOiBmYWxzZTtcbn07XG5cbi8vIE9sZGVyIElFIHZlcnNpb25zIGRvIG5vdCBkaXJlY3RseSBzdXBwb3J0IGluZGV4T2Ygc28gd2UgbXVzdCBpbXBsZW1lbnQgb3VyIG93biwgc2FkbHkuXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGFycmF5W2ldID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlRXhwcmVzc2lvbihzdHJpbmcpIHtcbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgLy8gZG9uJ3QgZXNjYXBlIFNhZmVTdHJpbmdzLCBzaW5jZSB0aGV5J3JlIGFscmVhZHkgc2FmZVxuICAgIGlmIChzdHJpbmcgJiYgc3RyaW5nLnRvSFRNTCkge1xuICAgICAgcmV0dXJuIHN0cmluZy50b0hUTUwoKTtcbiAgICB9IGVsc2UgaWYgKHN0cmluZyA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfSBlbHNlIGlmICghc3RyaW5nKSB7XG4gICAgICByZXR1cm4gc3RyaW5nICsgJyc7XG4gICAgfVxuXG4gICAgLy8gRm9yY2UgYSBzdHJpbmcgY29udmVyc2lvbiBhcyB0aGlzIHdpbGwgYmUgZG9uZSBieSB0aGUgYXBwZW5kIHJlZ2FyZGxlc3MgYW5kXG4gICAgLy8gdGhlIHJlZ2V4IHRlc3Qgd2lsbCBkbyB0aGlzIHRyYW5zcGFyZW50bHkgYmVoaW5kIHRoZSBzY2VuZXMsIGNhdXNpbmcgaXNzdWVzIGlmXG4gICAgLy8gYW4gb2JqZWN0J3MgdG8gc3RyaW5nIGhhcyBlc2NhcGVkIGNoYXJhY3RlcnMgaW4gaXQuXG4gICAgc3RyaW5nID0gJycgKyBzdHJpbmc7XG4gIH1cblxuICBpZiAoIXBvc3NpYmxlLnRlc3Qoc3RyaW5nKSkgeyByZXR1cm4gc3RyaW5nOyB9XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZShiYWRDaGFycywgZXNjYXBlQ2hhcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XG4gIGlmICghdmFsdWUgJiYgdmFsdWUgIT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZyYW1lKG9iamVjdCkge1xuICBsZXQgZnJhbWUgPSBleHRlbmQoe30sIG9iamVjdCk7XG4gIGZyYW1lLl9wYXJlbnQgPSBvYmplY3Q7XG4gIHJldHVybiBmcmFtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJsb2NrUGFyYW1zKHBhcmFtcywgaWRzKSB7XG4gIHBhcmFtcy5wYXRoID0gaWRzO1xuICByZXR1cm4gcGFyYW1zO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kQ29udGV4dFBhdGgoY29udGV4dFBhdGgsIGlkKSB7XG4gIHJldHVybiAoY29udGV4dFBhdGggPyBjb250ZXh0UGF0aCArICcuJyA6ICcnKSArIGlkO1xufVxuIiwiLy8gQ3JlYXRlIGEgc2ltcGxlIHBhdGggYWxpYXMgdG8gYWxsb3cgYnJvd3NlcmlmeSB0byByZXNvbHZlXG4vLyB0aGUgcnVudGltZSBvbiBhIHN1cHBvcnRlZCBwYXRoLlxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Rpc3QvY2pzL2hhbmRsZWJhcnMucnVudGltZScpWydkZWZhdWx0J107XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJoYW5kbGViYXJzL3J1bnRpbWVcIilbXCJkZWZhdWx0XCJdO1xuIiwiLyohXG4gKiBqUXVlcnkgSmF2YVNjcmlwdCBMaWJyYXJ5IHYyLjEuNFxuICogaHR0cDovL2pxdWVyeS5jb20vXG4gKlxuICogSW5jbHVkZXMgU2l6emxlLmpzXG4gKiBodHRwOi8vc2l6emxlanMuY29tL1xuICpcbiAqIENvcHlyaWdodCAyMDA1LCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uLCBJbmMuIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMTUtMDQtMjhUMTY6MDFaXG4gKi9cblxuKGZ1bmN0aW9uKCBnbG9iYWwsIGZhY3RvcnkgKSB7XG5cblx0aWYgKCB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gXCJvYmplY3RcIiApIHtcblx0XHQvLyBGb3IgQ29tbW9uSlMgYW5kIENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHdoZXJlIGEgcHJvcGVyIGB3aW5kb3dgXG5cdFx0Ly8gaXMgcHJlc2VudCwgZXhlY3V0ZSB0aGUgZmFjdG9yeSBhbmQgZ2V0IGpRdWVyeS5cblx0XHQvLyBGb3IgZW52aXJvbm1lbnRzIHRoYXQgZG8gbm90IGhhdmUgYSBgd2luZG93YCB3aXRoIGEgYGRvY3VtZW50YFxuXHRcdC8vIChzdWNoIGFzIE5vZGUuanMpLCBleHBvc2UgYSBmYWN0b3J5IGFzIG1vZHVsZS5leHBvcnRzLlxuXHRcdC8vIFRoaXMgYWNjZW50dWF0ZXMgdGhlIG5lZWQgZm9yIHRoZSBjcmVhdGlvbiBvZiBhIHJlYWwgYHdpbmRvd2AuXG5cdFx0Ly8gZS5nLiB2YXIgalF1ZXJ5ID0gcmVxdWlyZShcImpxdWVyeVwiKSh3aW5kb3cpO1xuXHRcdC8vIFNlZSB0aWNrZXQgIzE0NTQ5IGZvciBtb3JlIGluZm8uXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBnbG9iYWwuZG9jdW1lbnQgP1xuXHRcdFx0ZmFjdG9yeSggZ2xvYmFsLCB0cnVlICkgOlxuXHRcdFx0ZnVuY3Rpb24oIHcgKSB7XG5cdFx0XHRcdGlmICggIXcuZG9jdW1lbnQgKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCBcImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWN0b3J5KCB3ICk7XG5cdFx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdGZhY3RvcnkoIGdsb2JhbCApO1xuXHR9XG5cbi8vIFBhc3MgdGhpcyBpZiB3aW5kb3cgaXMgbm90IGRlZmluZWQgeWV0XG59KHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbiggd2luZG93LCBub0dsb2JhbCApIHtcblxuLy8gU3VwcG9ydDogRmlyZWZveCAxOCtcbi8vIENhbid0IGJlIGluIHN0cmljdCBtb2RlLCBzZXZlcmFsIGxpYnMgaW5jbHVkaW5nIEFTUC5ORVQgdHJhY2Vcbi8vIHRoZSBzdGFjayB2aWEgYXJndW1lbnRzLmNhbGxlci5jYWxsZWUgYW5kIEZpcmVmb3ggZGllcyBpZlxuLy8geW91IHRyeSB0byB0cmFjZSB0aHJvdWdoIFwidXNlIHN0cmljdFwiIGNhbGwgY2hhaW5zLiAoIzEzMzM1KVxuLy9cblxudmFyIGFyciA9IFtdO1xuXG52YXIgc2xpY2UgPSBhcnIuc2xpY2U7XG5cbnZhciBjb25jYXQgPSBhcnIuY29uY2F0O1xuXG52YXIgcHVzaCA9IGFyci5wdXNoO1xuXG52YXIgaW5kZXhPZiA9IGFyci5pbmRleE9mO1xuXG52YXIgY2xhc3MydHlwZSA9IHt9O1xuXG52YXIgdG9TdHJpbmcgPSBjbGFzczJ0eXBlLnRvU3RyaW5nO1xuXG52YXIgaGFzT3duID0gY2xhc3MydHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIHN1cHBvcnQgPSB7fTtcblxuXG5cbnZhclxuXHQvLyBVc2UgdGhlIGNvcnJlY3QgZG9jdW1lbnQgYWNjb3JkaW5nbHkgd2l0aCB3aW5kb3cgYXJndW1lbnQgKHNhbmRib3gpXG5cdGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50LFxuXG5cdHZlcnNpb24gPSBcIjIuMS40XCIsXG5cblx0Ly8gRGVmaW5lIGEgbG9jYWwgY29weSBvZiBqUXVlcnlcblx0alF1ZXJ5ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkge1xuXHRcdC8vIFRoZSBqUXVlcnkgb2JqZWN0IGlzIGFjdHVhbGx5IGp1c3QgdGhlIGluaXQgY29uc3RydWN0b3IgJ2VuaGFuY2VkJ1xuXHRcdC8vIE5lZWQgaW5pdCBpZiBqUXVlcnkgaXMgY2FsbGVkIChqdXN0IGFsbG93IGVycm9yIHRvIGJlIHRocm93biBpZiBub3QgaW5jbHVkZWQpXG5cdFx0cmV0dXJuIG5ldyBqUXVlcnkuZm4uaW5pdCggc2VsZWN0b3IsIGNvbnRleHQgKTtcblx0fSxcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkPDQuMVxuXHQvLyBNYWtlIHN1cmUgd2UgdHJpbSBCT00gYW5kIE5CU1Bcblx0cnRyaW0gPSAvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csXG5cblx0Ly8gTWF0Y2hlcyBkYXNoZWQgc3RyaW5nIGZvciBjYW1lbGl6aW5nXG5cdHJtc1ByZWZpeCA9IC9eLW1zLS8sXG5cdHJkYXNoQWxwaGEgPSAvLShbXFxkYS16XSkvZ2ksXG5cblx0Ly8gVXNlZCBieSBqUXVlcnkuY2FtZWxDYXNlIGFzIGNhbGxiYWNrIHRvIHJlcGxhY2UoKVxuXHRmY2FtZWxDYXNlID0gZnVuY3Rpb24oIGFsbCwgbGV0dGVyICkge1xuXHRcdHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcblx0fTtcblxualF1ZXJ5LmZuID0galF1ZXJ5LnByb3RvdHlwZSA9IHtcblx0Ly8gVGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBqUXVlcnkgYmVpbmcgdXNlZFxuXHRqcXVlcnk6IHZlcnNpb24sXG5cblx0Y29uc3RydWN0b3I6IGpRdWVyeSxcblxuXHQvLyBTdGFydCB3aXRoIGFuIGVtcHR5IHNlbGVjdG9yXG5cdHNlbGVjdG9yOiBcIlwiLFxuXG5cdC8vIFRoZSBkZWZhdWx0IGxlbmd0aCBvZiBhIGpRdWVyeSBvYmplY3QgaXMgMFxuXHRsZW5ndGg6IDAsXG5cblx0dG9BcnJheTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNsaWNlLmNhbGwoIHRoaXMgKTtcblx0fSxcblxuXHQvLyBHZXQgdGhlIE50aCBlbGVtZW50IGluIHRoZSBtYXRjaGVkIGVsZW1lbnQgc2V0IE9SXG5cdC8vIEdldCB0aGUgd2hvbGUgbWF0Y2hlZCBlbGVtZW50IHNldCBhcyBhIGNsZWFuIGFycmF5XG5cdGdldDogZnVuY3Rpb24oIG51bSApIHtcblx0XHRyZXR1cm4gbnVtICE9IG51bGwgP1xuXG5cdFx0XHQvLyBSZXR1cm4ganVzdCB0aGUgb25lIGVsZW1lbnQgZnJvbSB0aGUgc2V0XG5cdFx0XHQoIG51bSA8IDAgPyB0aGlzWyBudW0gKyB0aGlzLmxlbmd0aCBdIDogdGhpc1sgbnVtIF0gKSA6XG5cblx0XHRcdC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGluIGEgY2xlYW4gYXJyYXlcblx0XHRcdHNsaWNlLmNhbGwoIHRoaXMgKTtcblx0fSxcblxuXHQvLyBUYWtlIGFuIGFycmF5IG9mIGVsZW1lbnRzIGFuZCBwdXNoIGl0IG9udG8gdGhlIHN0YWNrXG5cdC8vIChyZXR1cm5pbmcgdGhlIG5ldyBtYXRjaGVkIGVsZW1lbnQgc2V0KVxuXHRwdXNoU3RhY2s6IGZ1bmN0aW9uKCBlbGVtcyApIHtcblxuXHRcdC8vIEJ1aWxkIGEgbmV3IGpRdWVyeSBtYXRjaGVkIGVsZW1lbnQgc2V0XG5cdFx0dmFyIHJldCA9IGpRdWVyeS5tZXJnZSggdGhpcy5jb25zdHJ1Y3RvcigpLCBlbGVtcyApO1xuXG5cdFx0Ly8gQWRkIHRoZSBvbGQgb2JqZWN0IG9udG8gdGhlIHN0YWNrIChhcyBhIHJlZmVyZW5jZSlcblx0XHRyZXQucHJldk9iamVjdCA9IHRoaXM7XG5cdFx0cmV0LmNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG5cblx0XHQvLyBSZXR1cm4gdGhlIG5ld2x5LWZvcm1lZCBlbGVtZW50IHNldFxuXHRcdHJldHVybiByZXQ7XG5cdH0sXG5cblx0Ly8gRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBldmVyeSBlbGVtZW50IGluIHRoZSBtYXRjaGVkIHNldC5cblx0Ly8gKFlvdSBjYW4gc2VlZCB0aGUgYXJndW1lbnRzIHdpdGggYW4gYXJyYXkgb2YgYXJncywgYnV0IHRoaXMgaXNcblx0Ly8gb25seSB1c2VkIGludGVybmFsbHkuKVxuXHRlYWNoOiBmdW5jdGlvbiggY2FsbGJhY2ssIGFyZ3MgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5lYWNoKCB0aGlzLCBjYWxsYmFjaywgYXJncyApO1xuXHR9LFxuXG5cdG1hcDogZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5Lm1hcCh0aGlzLCBmdW5jdGlvbiggZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiBjYWxsYmFjay5jYWxsKCBlbGVtLCBpLCBlbGVtICk7XG5cdFx0fSkpO1xuXHR9LFxuXG5cdHNsaWNlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHNsaWNlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSApO1xuXHR9LFxuXG5cdGZpcnN0OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5lcSggMCApO1xuXHR9LFxuXG5cdGxhc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmVxKCAtMSApO1xuXHR9LFxuXG5cdGVxOiBmdW5jdGlvbiggaSApIHtcblx0XHR2YXIgbGVuID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRqID0gK2kgKyAoIGkgPCAwID8gbGVuIDogMCApO1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggaiA+PSAwICYmIGogPCBsZW4gPyBbIHRoaXNbal0gXSA6IFtdICk7XG5cdH0sXG5cblx0ZW5kOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5wcmV2T2JqZWN0IHx8IHRoaXMuY29uc3RydWN0b3IobnVsbCk7XG5cdH0sXG5cblx0Ly8gRm9yIGludGVybmFsIHVzZSBvbmx5LlxuXHQvLyBCZWhhdmVzIGxpa2UgYW4gQXJyYXkncyBtZXRob2QsIG5vdCBsaWtlIGEgalF1ZXJ5IG1ldGhvZC5cblx0cHVzaDogcHVzaCxcblx0c29ydDogYXJyLnNvcnQsXG5cdHNwbGljZTogYXJyLnNwbGljZVxufTtcblxualF1ZXJ5LmV4dGVuZCA9IGpRdWVyeS5mbi5leHRlbmQgPSBmdW5jdGlvbigpIHtcblx0dmFyIG9wdGlvbnMsIG5hbWUsIHNyYywgY29weSwgY29weUlzQXJyYXksIGNsb25lLFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1swXSB8fCB7fSxcblx0XHRpID0gMSxcblx0XHRsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuXHRcdGRlZXAgPSBmYWxzZTtcblxuXHQvLyBIYW5kbGUgYSBkZWVwIGNvcHkgc2l0dWF0aW9uXG5cdGlmICggdHlwZW9mIHRhcmdldCA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0ZGVlcCA9IHRhcmdldDtcblxuXHRcdC8vIFNraXAgdGhlIGJvb2xlYW4gYW5kIHRoZSB0YXJnZXRcblx0XHR0YXJnZXQgPSBhcmd1bWVudHNbIGkgXSB8fCB7fTtcblx0XHRpKys7XG5cdH1cblxuXHQvLyBIYW5kbGUgY2FzZSB3aGVuIHRhcmdldCBpcyBhIHN0cmluZyBvciBzb21ldGhpbmcgKHBvc3NpYmxlIGluIGRlZXAgY29weSlcblx0aWYgKCB0eXBlb2YgdGFyZ2V0ICE9PSBcIm9iamVjdFwiICYmICFqUXVlcnkuaXNGdW5jdGlvbih0YXJnZXQpICkge1xuXHRcdHRhcmdldCA9IHt9O1xuXHR9XG5cblx0Ly8gRXh0ZW5kIGpRdWVyeSBpdHNlbGYgaWYgb25seSBvbmUgYXJndW1lbnQgaXMgcGFzc2VkXG5cdGlmICggaSA9PT0gbGVuZ3RoICkge1xuXHRcdHRhcmdldCA9IHRoaXM7XG5cdFx0aS0tO1xuXHR9XG5cblx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0Ly8gT25seSBkZWFsIHdpdGggbm9uLW51bGwvdW5kZWZpbmVkIHZhbHVlc1xuXHRcdGlmICggKG9wdGlvbnMgPSBhcmd1bWVudHNbIGkgXSkgIT0gbnVsbCApIHtcblx0XHRcdC8vIEV4dGVuZCB0aGUgYmFzZSBvYmplY3Rcblx0XHRcdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRcdFx0c3JjID0gdGFyZ2V0WyBuYW1lIF07XG5cdFx0XHRcdGNvcHkgPSBvcHRpb25zWyBuYW1lIF07XG5cblx0XHRcdFx0Ly8gUHJldmVudCBuZXZlci1lbmRpbmcgbG9vcFxuXHRcdFx0XHRpZiAoIHRhcmdldCA9PT0gY29weSApIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJlY3Vyc2UgaWYgd2UncmUgbWVyZ2luZyBwbGFpbiBvYmplY3RzIG9yIGFycmF5c1xuXHRcdFx0XHRpZiAoIGRlZXAgJiYgY29weSAmJiAoIGpRdWVyeS5pc1BsYWluT2JqZWN0KGNvcHkpIHx8IChjb3B5SXNBcnJheSA9IGpRdWVyeS5pc0FycmF5KGNvcHkpKSApICkge1xuXHRcdFx0XHRcdGlmICggY29weUlzQXJyYXkgKSB7XG5cdFx0XHRcdFx0XHRjb3B5SXNBcnJheSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgalF1ZXJ5LmlzQXJyYXkoc3JjKSA/IHNyYyA6IFtdO1xuXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNsb25lID0gc3JjICYmIGpRdWVyeS5pc1BsYWluT2JqZWN0KHNyYykgPyBzcmMgOiB7fTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBOZXZlciBtb3ZlIG9yaWdpbmFsIG9iamVjdHMsIGNsb25lIHRoZW1cblx0XHRcdFx0XHR0YXJnZXRbIG5hbWUgXSA9IGpRdWVyeS5leHRlbmQoIGRlZXAsIGNsb25lLCBjb3B5ICk7XG5cblx0XHRcdFx0Ly8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBjb3B5ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0dGFyZ2V0WyBuYW1lIF0gPSBjb3B5O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSBtb2RpZmllZCBvYmplY3Rcblx0cmV0dXJuIHRhcmdldDtcbn07XG5cbmpRdWVyeS5leHRlbmQoe1xuXHQvLyBVbmlxdWUgZm9yIGVhY2ggY29weSBvZiBqUXVlcnkgb24gdGhlIHBhZ2Vcblx0ZXhwYW5kbzogXCJqUXVlcnlcIiArICggdmVyc2lvbiArIE1hdGgucmFuZG9tKCkgKS5yZXBsYWNlKCAvXFxEL2csIFwiXCIgKSxcblxuXHQvLyBBc3N1bWUgalF1ZXJ5IGlzIHJlYWR5IHdpdGhvdXQgdGhlIHJlYWR5IG1vZHVsZVxuXHRpc1JlYWR5OiB0cnVlLFxuXG5cdGVycm9yOiBmdW5jdGlvbiggbXNnICkge1xuXHRcdHRocm93IG5ldyBFcnJvciggbXNnICk7XG5cdH0sXG5cblx0bm9vcDogZnVuY3Rpb24oKSB7fSxcblxuXHRpc0Z1bmN0aW9uOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdHJldHVybiBqUXVlcnkudHlwZShvYmopID09PSBcImZ1bmN0aW9uXCI7XG5cdH0sXG5cblx0aXNBcnJheTogQXJyYXkuaXNBcnJheSxcblxuXHRpc1dpbmRvdzogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRyZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqID09PSBvYmoud2luZG93O1xuXHR9LFxuXG5cdGlzTnVtZXJpYzogZnVuY3Rpb24oIG9iaiApIHtcblx0XHQvLyBwYXJzZUZsb2F0IE5hTnMgbnVtZXJpYy1jYXN0IGZhbHNlIHBvc2l0aXZlcyAobnVsbHx0cnVlfGZhbHNlfFwiXCIpXG5cdFx0Ly8gLi4uYnV0IG1pc2ludGVycHJldHMgbGVhZGluZy1udW1iZXIgc3RyaW5ncywgcGFydGljdWxhcmx5IGhleCBsaXRlcmFscyAoXCIweC4uLlwiKVxuXHRcdC8vIHN1YnRyYWN0aW9uIGZvcmNlcyBpbmZpbml0aWVzIHRvIE5hTlxuXHRcdC8vIGFkZGluZyAxIGNvcnJlY3RzIGxvc3Mgb2YgcHJlY2lzaW9uIGZyb20gcGFyc2VGbG9hdCAoIzE1MTAwKVxuXHRcdHJldHVybiAhalF1ZXJ5LmlzQXJyYXkoIG9iaiApICYmIChvYmogLSBwYXJzZUZsb2F0KCBvYmogKSArIDEpID49IDA7XG5cdH0sXG5cblx0aXNQbGFpbk9iamVjdDogZnVuY3Rpb24oIG9iaiApIHtcblx0XHQvLyBOb3QgcGxhaW4gb2JqZWN0czpcblx0XHQvLyAtIEFueSBvYmplY3Qgb3IgdmFsdWUgd2hvc2UgaW50ZXJuYWwgW1tDbGFzc11dIHByb3BlcnR5IGlzIG5vdCBcIltvYmplY3QgT2JqZWN0XVwiXG5cdFx0Ly8gLSBET00gbm9kZXNcblx0XHQvLyAtIHdpbmRvd1xuXHRcdGlmICggalF1ZXJ5LnR5cGUoIG9iaiApICE9PSBcIm9iamVjdFwiIHx8IG9iai5ub2RlVHlwZSB8fCBqUXVlcnkuaXNXaW5kb3coIG9iaiApICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGlmICggb2JqLmNvbnN0cnVjdG9yICYmXG5cdFx0XHRcdCFoYXNPd24uY2FsbCggb2JqLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwgXCJpc1Byb3RvdHlwZU9mXCIgKSApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBJZiB0aGUgZnVuY3Rpb24gaGFzbid0IHJldHVybmVkIGFscmVhZHksIHdlJ3JlIGNvbmZpZGVudCB0aGF0XG5cdFx0Ly8gfG9ianwgaXMgYSBwbGFpbiBvYmplY3QsIGNyZWF0ZWQgYnkge30gb3IgY29uc3RydWN0ZWQgd2l0aCBuZXcgT2JqZWN0XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0aXNFbXB0eU9iamVjdDogZnVuY3Rpb24oIG9iaiApIHtcblx0XHR2YXIgbmFtZTtcblx0XHRmb3IgKCBuYW1lIGluIG9iaiApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0dHlwZTogZnVuY3Rpb24oIG9iaiApIHtcblx0XHRpZiAoIG9iaiA9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIG9iaiArIFwiXCI7XG5cdFx0fVxuXHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQ8NC4wLCBpT1M8NiAoZnVuY3Rpb25pc2ggUmVnRXhwKVxuXHRcdHJldHVybiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIiA/XG5cdFx0XHRjbGFzczJ0eXBlWyB0b1N0cmluZy5jYWxsKG9iaikgXSB8fCBcIm9iamVjdFwiIDpcblx0XHRcdHR5cGVvZiBvYmo7XG5cdH0sXG5cblx0Ly8gRXZhbHVhdGVzIGEgc2NyaXB0IGluIGEgZ2xvYmFsIGNvbnRleHRcblx0Z2xvYmFsRXZhbDogZnVuY3Rpb24oIGNvZGUgKSB7XG5cdFx0dmFyIHNjcmlwdCxcblx0XHRcdGluZGlyZWN0ID0gZXZhbDtcblxuXHRcdGNvZGUgPSBqUXVlcnkudHJpbSggY29kZSApO1xuXG5cdFx0aWYgKCBjb2RlICkge1xuXHRcdFx0Ly8gSWYgdGhlIGNvZGUgaW5jbHVkZXMgYSB2YWxpZCwgcHJvbG9ndWUgcG9zaXRpb25cblx0XHRcdC8vIHN0cmljdCBtb2RlIHByYWdtYSwgZXhlY3V0ZSBjb2RlIGJ5IGluamVjdGluZyBhXG5cdFx0XHQvLyBzY3JpcHQgdGFnIGludG8gdGhlIGRvY3VtZW50LlxuXHRcdFx0aWYgKCBjb2RlLmluZGV4T2YoXCJ1c2Ugc3RyaWN0XCIpID09PSAxICkge1xuXHRcdFx0XHRzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuXHRcdFx0XHRzY3JpcHQudGV4dCA9IGNvZGU7XG5cdFx0XHRcdGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoIHNjcmlwdCApLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHNjcmlwdCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdC8vIE90aGVyd2lzZSwgYXZvaWQgdGhlIERPTSBub2RlIGNyZWF0aW9uLCBpbnNlcnRpb25cblx0XHRcdC8vIGFuZCByZW1vdmFsIGJ5IHVzaW5nIGFuIGluZGlyZWN0IGdsb2JhbCBldmFsXG5cdFx0XHRcdGluZGlyZWN0KCBjb2RlICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdC8vIENvbnZlcnQgZGFzaGVkIHRvIGNhbWVsQ2FzZTsgdXNlZCBieSB0aGUgY3NzIGFuZCBkYXRhIG1vZHVsZXNcblx0Ly8gU3VwcG9ydDogSUU5LTExK1xuXHQvLyBNaWNyb3NvZnQgZm9yZ290IHRvIGh1bXAgdGhlaXIgdmVuZG9yIHByZWZpeCAoIzk1NzIpXG5cdGNhbWVsQ2FzZTogZnVuY3Rpb24oIHN0cmluZyApIHtcblx0XHRyZXR1cm4gc3RyaW5nLnJlcGxhY2UoIHJtc1ByZWZpeCwgXCJtcy1cIiApLnJlcGxhY2UoIHJkYXNoQWxwaGEsIGZjYW1lbENhc2UgKTtcblx0fSxcblxuXHRub2RlTmFtZTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XG5cdFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cdH0sXG5cblx0Ly8gYXJncyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuXHRlYWNoOiBmdW5jdGlvbiggb2JqLCBjYWxsYmFjaywgYXJncyApIHtcblx0XHR2YXIgdmFsdWUsXG5cdFx0XHRpID0gMCxcblx0XHRcdGxlbmd0aCA9IG9iai5sZW5ndGgsXG5cdFx0XHRpc0FycmF5ID0gaXNBcnJheWxpa2UoIG9iaiApO1xuXG5cdFx0aWYgKCBhcmdzICkge1xuXHRcdFx0aWYgKCBpc0FycmF5ICkge1xuXHRcdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrLmFwcGx5KCBvYmpbIGkgXSwgYXJncyApO1xuXG5cdFx0XHRcdFx0aWYgKCB2YWx1ZSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvciAoIGkgaW4gb2JqICkge1xuXHRcdFx0XHRcdHZhbHVlID0gY2FsbGJhY2suYXBwbHkoIG9ialsgaSBdLCBhcmdzICk7XG5cblx0XHRcdFx0XHRpZiAoIHZhbHVlID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0Ly8gQSBzcGVjaWFsLCBmYXN0LCBjYXNlIGZvciB0aGUgbW9zdCBjb21tb24gdXNlIG9mIGVhY2hcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKCBpc0FycmF5ICkge1xuXHRcdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApO1xuXG5cdFx0XHRcdFx0aWYgKCB2YWx1ZSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvciAoIGkgaW4gb2JqICkge1xuXHRcdFx0XHRcdHZhbHVlID0gY2FsbGJhY2suY2FsbCggb2JqWyBpIF0sIGksIG9ialsgaSBdICk7XG5cblx0XHRcdFx0XHRpZiAoIHZhbHVlID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBvYmo7XG5cdH0sXG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZDw0LjFcblx0dHJpbTogZnVuY3Rpb24oIHRleHQgKSB7XG5cdFx0cmV0dXJuIHRleHQgPT0gbnVsbCA/XG5cdFx0XHRcIlwiIDpcblx0XHRcdCggdGV4dCArIFwiXCIgKS5yZXBsYWNlKCBydHJpbSwgXCJcIiApO1xuXHR9LFxuXG5cdC8vIHJlc3VsdHMgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcblx0bWFrZUFycmF5OiBmdW5jdGlvbiggYXJyLCByZXN1bHRzICkge1xuXHRcdHZhciByZXQgPSByZXN1bHRzIHx8IFtdO1xuXG5cdFx0aWYgKCBhcnIgIT0gbnVsbCApIHtcblx0XHRcdGlmICggaXNBcnJheWxpa2UoIE9iamVjdChhcnIpICkgKSB7XG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggcmV0LFxuXHRcdFx0XHRcdHR5cGVvZiBhcnIgPT09IFwic3RyaW5nXCIgP1xuXHRcdFx0XHRcdFsgYXJyIF0gOiBhcnJcblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHB1c2guY2FsbCggcmV0LCBhcnIgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXG5cdGluQXJyYXk6IGZ1bmN0aW9uKCBlbGVtLCBhcnIsIGkgKSB7XG5cdFx0cmV0dXJuIGFyciA9PSBudWxsID8gLTEgOiBpbmRleE9mLmNhbGwoIGFyciwgZWxlbSwgaSApO1xuXHR9LFxuXG5cdG1lcmdlOiBmdW5jdGlvbiggZmlyc3QsIHNlY29uZCApIHtcblx0XHR2YXIgbGVuID0gK3NlY29uZC5sZW5ndGgsXG5cdFx0XHRqID0gMCxcblx0XHRcdGkgPSBmaXJzdC5sZW5ndGg7XG5cblx0XHRmb3IgKCA7IGogPCBsZW47IGorKyApIHtcblx0XHRcdGZpcnN0WyBpKysgXSA9IHNlY29uZFsgaiBdO1xuXHRcdH1cblxuXHRcdGZpcnN0Lmxlbmd0aCA9IGk7XG5cblx0XHRyZXR1cm4gZmlyc3Q7XG5cdH0sXG5cblx0Z3JlcDogZnVuY3Rpb24oIGVsZW1zLCBjYWxsYmFjaywgaW52ZXJ0ICkge1xuXHRcdHZhciBjYWxsYmFja0ludmVyc2UsXG5cdFx0XHRtYXRjaGVzID0gW10sXG5cdFx0XHRpID0gMCxcblx0XHRcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aCxcblx0XHRcdGNhbGxiYWNrRXhwZWN0ID0gIWludmVydDtcblxuXHRcdC8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCBvbmx5IHNhdmluZyB0aGUgaXRlbXNcblx0XHQvLyB0aGF0IHBhc3MgdGhlIHZhbGlkYXRvciBmdW5jdGlvblxuXHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0Y2FsbGJhY2tJbnZlcnNlID0gIWNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpICk7XG5cdFx0XHRpZiAoIGNhbGxiYWNrSW52ZXJzZSAhPT0gY2FsbGJhY2tFeHBlY3QgKSB7XG5cdFx0XHRcdG1hdGNoZXMucHVzaCggZWxlbXNbIGkgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBtYXRjaGVzO1xuXHR9LFxuXG5cdC8vIGFyZyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuXHRtYXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGFyZyApIHtcblx0XHR2YXIgdmFsdWUsXG5cdFx0XHRpID0gMCxcblx0XHRcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aCxcblx0XHRcdGlzQXJyYXkgPSBpc0FycmF5bGlrZSggZWxlbXMgKSxcblx0XHRcdHJldCA9IFtdO1xuXG5cdFx0Ly8gR28gdGhyb3VnaCB0aGUgYXJyYXksIHRyYW5zbGF0aW5nIGVhY2ggb2YgdGhlIGl0ZW1zIHRvIHRoZWlyIG5ldyB2YWx1ZXNcblx0XHRpZiAoIGlzQXJyYXkgKSB7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjayggZWxlbXNbIGkgXSwgaSwgYXJnICk7XG5cblx0XHRcdFx0aWYgKCB2YWx1ZSAhPSBudWxsICkge1xuXHRcdFx0XHRcdHJldC5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBHbyB0aHJvdWdoIGV2ZXJ5IGtleSBvbiB0aGUgb2JqZWN0LFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKCBpIGluIGVsZW1zICkge1xuXHRcdFx0XHR2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTtcblxuXHRcdFx0XHRpZiAoIHZhbHVlICE9IG51bGwgKSB7XG5cdFx0XHRcdFx0cmV0LnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBGbGF0dGVuIGFueSBuZXN0ZWQgYXJyYXlzXG5cdFx0cmV0dXJuIGNvbmNhdC5hcHBseSggW10sIHJldCApO1xuXHR9LFxuXG5cdC8vIEEgZ2xvYmFsIEdVSUQgY291bnRlciBmb3Igb2JqZWN0c1xuXHRndWlkOiAxLFxuXG5cdC8vIEJpbmQgYSBmdW5jdGlvbiB0byBhIGNvbnRleHQsIG9wdGlvbmFsbHkgcGFydGlhbGx5IGFwcGx5aW5nIGFueVxuXHQvLyBhcmd1bWVudHMuXG5cdHByb3h5OiBmdW5jdGlvbiggZm4sIGNvbnRleHQgKSB7XG5cdFx0dmFyIHRtcCwgYXJncywgcHJveHk7XG5cblx0XHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0dG1wID0gZm5bIGNvbnRleHQgXTtcblx0XHRcdGNvbnRleHQgPSBmbjtcblx0XHRcdGZuID0gdG1wO1xuXHRcdH1cblxuXHRcdC8vIFF1aWNrIGNoZWNrIHRvIGRldGVybWluZSBpZiB0YXJnZXQgaXMgY2FsbGFibGUsIGluIHRoZSBzcGVjXG5cdFx0Ly8gdGhpcyB0aHJvd3MgYSBUeXBlRXJyb3IsIGJ1dCB3ZSB3aWxsIGp1c3QgcmV0dXJuIHVuZGVmaW5lZC5cblx0XHRpZiAoICFqUXVlcnkuaXNGdW5jdGlvbiggZm4gKSApIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gU2ltdWxhdGVkIGJpbmRcblx0XHRhcmdzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzLCAyICk7XG5cdFx0cHJveHkgPSBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBmbi5hcHBseSggY29udGV4dCB8fCB0aGlzLCBhcmdzLmNvbmNhdCggc2xpY2UuY2FsbCggYXJndW1lbnRzICkgKSApO1xuXHRcdH07XG5cblx0XHQvLyBTZXQgdGhlIGd1aWQgb2YgdW5pcXVlIGhhbmRsZXIgdG8gdGhlIHNhbWUgb2Ygb3JpZ2luYWwgaGFuZGxlciwgc28gaXQgY2FuIGJlIHJlbW92ZWRcblx0XHRwcm94eS5ndWlkID0gZm4uZ3VpZCA9IGZuLmd1aWQgfHwgalF1ZXJ5Lmd1aWQrKztcblxuXHRcdHJldHVybiBwcm94eTtcblx0fSxcblxuXHRub3c6IERhdGUubm93LFxuXG5cdC8vIGpRdWVyeS5zdXBwb3J0IGlzIG5vdCB1c2VkIGluIENvcmUgYnV0IG90aGVyIHByb2plY3RzIGF0dGFjaCB0aGVpclxuXHQvLyBwcm9wZXJ0aWVzIHRvIGl0IHNvIGl0IG5lZWRzIHRvIGV4aXN0LlxuXHRzdXBwb3J0OiBzdXBwb3J0XG59KTtcblxuLy8gUG9wdWxhdGUgdGhlIGNsYXNzMnR5cGUgbWFwXG5qUXVlcnkuZWFjaChcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3JcIi5zcGxpdChcIiBcIiksIGZ1bmN0aW9uKGksIG5hbWUpIHtcblx0Y2xhc3MydHlwZVsgXCJbb2JqZWN0IFwiICsgbmFtZSArIFwiXVwiIF0gPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG59KTtcblxuZnVuY3Rpb24gaXNBcnJheWxpa2UoIG9iaiApIHtcblxuXHQvLyBTdXBwb3J0OiBpT1MgOC4yIChub3QgcmVwcm9kdWNpYmxlIGluIHNpbXVsYXRvcilcblx0Ly8gYGluYCBjaGVjayB1c2VkIHRvIHByZXZlbnQgSklUIGVycm9yIChnaC0yMTQ1KVxuXHQvLyBoYXNPd24gaXNuJ3QgdXNlZCBoZXJlIGR1ZSB0byBmYWxzZSBuZWdhdGl2ZXNcblx0Ly8gcmVnYXJkaW5nIE5vZGVsaXN0IGxlbmd0aCBpbiBJRVxuXHR2YXIgbGVuZ3RoID0gXCJsZW5ndGhcIiBpbiBvYmogJiYgb2JqLmxlbmd0aCxcblx0XHR0eXBlID0galF1ZXJ5LnR5cGUoIG9iaiApO1xuXG5cdGlmICggdHlwZSA9PT0gXCJmdW5jdGlvblwiIHx8IGpRdWVyeS5pc1dpbmRvdyggb2JqICkgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0aWYgKCBvYmoubm9kZVR5cGUgPT09IDEgJiYgbGVuZ3RoICkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0cmV0dXJuIHR5cGUgPT09IFwiYXJyYXlcIiB8fCBsZW5ndGggPT09IDAgfHxcblx0XHR0eXBlb2YgbGVuZ3RoID09PSBcIm51bWJlclwiICYmIGxlbmd0aCA+IDAgJiYgKCBsZW5ndGggLSAxICkgaW4gb2JqO1xufVxudmFyIFNpenpsZSA9XG4vKiFcbiAqIFNpenpsZSBDU1MgU2VsZWN0b3IgRW5naW5lIHYyLjIuMC1wcmVcbiAqIGh0dHA6Ly9zaXp6bGVqcy5jb20vXG4gKlxuICogQ29weXJpZ2h0IDIwMDgsIDIwMTQgalF1ZXJ5IEZvdW5kYXRpb24sIEluYy4gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogRGF0ZTogMjAxNC0xMi0xNlxuICovXG4oZnVuY3Rpb24oIHdpbmRvdyApIHtcblxudmFyIGksXG5cdHN1cHBvcnQsXG5cdEV4cHIsXG5cdGdldFRleHQsXG5cdGlzWE1MLFxuXHR0b2tlbml6ZSxcblx0Y29tcGlsZSxcblx0c2VsZWN0LFxuXHRvdXRlcm1vc3RDb250ZXh0LFxuXHRzb3J0SW5wdXQsXG5cdGhhc0R1cGxpY2F0ZSxcblxuXHQvLyBMb2NhbCBkb2N1bWVudCB2YXJzXG5cdHNldERvY3VtZW50LFxuXHRkb2N1bWVudCxcblx0ZG9jRWxlbSxcblx0ZG9jdW1lbnRJc0hUTUwsXG5cdHJidWdneVFTQSxcblx0cmJ1Z2d5TWF0Y2hlcyxcblx0bWF0Y2hlcyxcblx0Y29udGFpbnMsXG5cblx0Ly8gSW5zdGFuY2Utc3BlY2lmaWMgZGF0YVxuXHRleHBhbmRvID0gXCJzaXp6bGVcIiArIDEgKiBuZXcgRGF0ZSgpLFxuXHRwcmVmZXJyZWREb2MgPSB3aW5kb3cuZG9jdW1lbnQsXG5cdGRpcnJ1bnMgPSAwLFxuXHRkb25lID0gMCxcblx0Y2xhc3NDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdHRva2VuQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHRjb21waWxlckNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0c29ydE9yZGVyID0gZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIDA7XG5cdH0sXG5cblx0Ly8gR2VuZXJhbC1wdXJwb3NlIGNvbnN0YW50c1xuXHRNQVhfTkVHQVRJVkUgPSAxIDw8IDMxLFxuXG5cdC8vIEluc3RhbmNlIG1ldGhvZHNcblx0aGFzT3duID0gKHt9KS5oYXNPd25Qcm9wZXJ0eSxcblx0YXJyID0gW10sXG5cdHBvcCA9IGFyci5wb3AsXG5cdHB1c2hfbmF0aXZlID0gYXJyLnB1c2gsXG5cdHB1c2ggPSBhcnIucHVzaCxcblx0c2xpY2UgPSBhcnIuc2xpY2UsXG5cdC8vIFVzZSBhIHN0cmlwcGVkLWRvd24gaW5kZXhPZiBhcyBpdCdzIGZhc3RlciB0aGFuIG5hdGl2ZVxuXHQvLyBodHRwOi8vanNwZXJmLmNvbS90aG9yLWluZGV4b2YtdnMtZm9yLzVcblx0aW5kZXhPZiA9IGZ1bmN0aW9uKCBsaXN0LCBlbGVtICkge1xuXHRcdHZhciBpID0gMCxcblx0XHRcdGxlbiA9IGxpc3QubGVuZ3RoO1xuXHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFx0aWYgKCBsaXN0W2ldID09PSBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gaTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIC0xO1xuXHR9LFxuXG5cdGJvb2xlYW5zID0gXCJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZFwiLFxuXG5cdC8vIFJlZ3VsYXIgZXhwcmVzc2lvbnNcblxuXHQvLyBXaGl0ZXNwYWNlIGNoYXJhY3RlcnMgaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1zZWxlY3RvcnMvI3doaXRlc3BhY2Vcblx0d2hpdGVzcGFjZSA9IFwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIixcblx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1zeW50YXgvI2NoYXJhY3RlcnNcblx0Y2hhcmFjdGVyRW5jb2RpbmcgPSBcIig/OlxcXFxcXFxcLnxbXFxcXHctXXxbXlxcXFx4MDAtXFxcXHhhMF0pK1wiLFxuXG5cdC8vIExvb3NlbHkgbW9kZWxlZCBvbiBDU1MgaWRlbnRpZmllciBjaGFyYWN0ZXJzXG5cdC8vIEFuIHVucXVvdGVkIHZhbHVlIHNob3VsZCBiZSBhIENTUyBpZGVudGlmaWVyIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtc2VsZWN0b3JzLyNhdHRyaWJ1dGUtc2VsZWN0b3JzXG5cdC8vIFByb3BlciBzeW50YXg6IGh0dHA6Ly93d3cudzMub3JnL1RSL0NTUzIxL3N5bmRhdGEuaHRtbCN2YWx1ZS1kZWYtaWRlbnRpZmllclxuXHRpZGVudGlmaWVyID0gY2hhcmFjdGVyRW5jb2RpbmcucmVwbGFjZSggXCJ3XCIsIFwidyNcIiApLFxuXG5cdC8vIEF0dHJpYnV0ZSBzZWxlY3RvcnM6IGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jYXR0cmlidXRlLXNlbGVjdG9yc1xuXHRhdHRyaWJ1dGVzID0gXCJcXFxcW1wiICsgd2hpdGVzcGFjZSArIFwiKihcIiArIGNoYXJhY3RlckVuY29kaW5nICsgXCIpKD86XCIgKyB3aGl0ZXNwYWNlICtcblx0XHQvLyBPcGVyYXRvciAoY2FwdHVyZSAyKVxuXHRcdFwiKihbKl4kfCF+XT89KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0Ly8gXCJBdHRyaWJ1dGUgdmFsdWVzIG11c3QgYmUgQ1NTIGlkZW50aWZpZXJzIFtjYXB0dXJlIDVdIG9yIHN0cmluZ3MgW2NhcHR1cmUgMyBvciBjYXB0dXJlIDRdXCJcblx0XHRcIiooPzonKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCJ8KFwiICsgaWRlbnRpZmllciArIFwiKSl8KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0XCIqXFxcXF1cIixcblxuXHRwc2V1ZG9zID0gXCI6KFwiICsgY2hhcmFjdGVyRW5jb2RpbmcgKyBcIikoPzpcXFxcKChcIiArXG5cdFx0Ly8gVG8gcmVkdWNlIHRoZSBudW1iZXIgb2Ygc2VsZWN0b3JzIG5lZWRpbmcgdG9rZW5pemUgaW4gdGhlIHByZUZpbHRlciwgcHJlZmVyIGFyZ3VtZW50czpcblx0XHQvLyAxLiBxdW90ZWQgKGNhcHR1cmUgMzsgY2FwdHVyZSA0IG9yIGNhcHR1cmUgNSlcblx0XHRcIignKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCIpfFwiICtcblx0XHQvLyAyLiBzaW1wbGUgKGNhcHR1cmUgNilcblx0XHRcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXCgpW1xcXFxdXXxcIiArIGF0dHJpYnV0ZXMgKyBcIikqKXxcIiArXG5cdFx0Ly8gMy4gYW55dGhpbmcgZWxzZSAoY2FwdHVyZSAyKVxuXHRcdFwiLipcIiArXG5cdFx0XCIpXFxcXCl8KVwiLFxuXG5cdC8vIExlYWRpbmcgYW5kIG5vbi1lc2NhcGVkIHRyYWlsaW5nIHdoaXRlc3BhY2UsIGNhcHR1cmluZyBzb21lIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlcnMgcHJlY2VkaW5nIHRoZSBsYXR0ZXJcblx0cndoaXRlc3BhY2UgPSBuZXcgUmVnRXhwKCB3aGl0ZXNwYWNlICsgXCIrXCIsIFwiZ1wiICksXG5cdHJ0cmltID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIrfCgoPzpefFteXFxcXFxcXFxdKSg/OlxcXFxcXFxcLikqKVwiICsgd2hpdGVzcGFjZSArIFwiKyRcIiwgXCJnXCIgKSxcblxuXHRyY29tbWEgPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIiosXCIgKyB3aGl0ZXNwYWNlICsgXCIqXCIgKSxcblx0cmNvbWJpbmF0b3JzID0gbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqKFs+K35dfFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgd2hpdGVzcGFjZSArIFwiKlwiICksXG5cblx0cmF0dHJpYnV0ZVF1b3RlcyA9IG5ldyBSZWdFeHAoIFwiPVwiICsgd2hpdGVzcGFjZSArIFwiKihbXlxcXFxdJ1xcXCJdKj8pXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXF1cIiwgXCJnXCIgKSxcblxuXHRycHNldWRvID0gbmV3IFJlZ0V4cCggcHNldWRvcyApLFxuXHRyaWRlbnRpZmllciA9IG5ldyBSZWdFeHAoIFwiXlwiICsgaWRlbnRpZmllciArIFwiJFwiICksXG5cblx0bWF0Y2hFeHByID0ge1xuXHRcdFwiSURcIjogbmV3IFJlZ0V4cCggXCJeIyhcIiArIGNoYXJhY3RlckVuY29kaW5nICsgXCIpXCIgKSxcblx0XHRcIkNMQVNTXCI6IG5ldyBSZWdFeHAoIFwiXlxcXFwuKFwiICsgY2hhcmFjdGVyRW5jb2RpbmcgKyBcIilcIiApLFxuXHRcdFwiVEFHXCI6IG5ldyBSZWdFeHAoIFwiXihcIiArIGNoYXJhY3RlckVuY29kaW5nLnJlcGxhY2UoIFwid1wiLCBcIncqXCIgKSArIFwiKVwiICksXG5cdFx0XCJBVFRSXCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgYXR0cmlidXRlcyApLFxuXHRcdFwiUFNFVURPXCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgcHNldWRvcyApLFxuXHRcdFwiQ0hJTERcIjogbmV3IFJlZ0V4cCggXCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXFxcKFwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcIiooZXZlbnxvZGR8KChbKy1dfCkoXFxcXGQqKW58KVwiICsgd2hpdGVzcGFjZSArIFwiKig/OihbKy1dfClcIiArIHdoaXRlc3BhY2UgK1xuXHRcdFx0XCIqKFxcXFxkKyl8KSlcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcKXwpXCIsIFwiaVwiICksXG5cdFx0XCJib29sXCI6IG5ldyBSZWdFeHAoIFwiXig/OlwiICsgYm9vbGVhbnMgKyBcIikkXCIsIFwiaVwiICksXG5cdFx0Ly8gRm9yIHVzZSBpbiBsaWJyYXJpZXMgaW1wbGVtZW50aW5nIC5pcygpXG5cdFx0Ly8gV2UgdXNlIHRoaXMgZm9yIFBPUyBtYXRjaGluZyBpbiBgc2VsZWN0YFxuXHRcdFwibmVlZHNDb250ZXh0XCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFxcXChcIiArXG5cdFx0XHR3aGl0ZXNwYWNlICsgXCIqKCg/Oi1cXFxcZCk/XFxcXGQqKVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFwpfCkoPz1bXi1dfCQpXCIsIFwiaVwiIClcblx0fSxcblxuXHRyaW5wdXRzID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxcblx0cmhlYWRlciA9IC9eaFxcZCQvaSxcblxuXHRybmF0aXZlID0gL15bXntdK1xce1xccypcXFtuYXRpdmUgXFx3LyxcblxuXHQvLyBFYXNpbHktcGFyc2VhYmxlL3JldHJpZXZhYmxlIElEIG9yIFRBRyBvciBDTEFTUyBzZWxlY3RvcnNcblx0cnF1aWNrRXhwciA9IC9eKD86IyhbXFx3LV0rKXwoXFx3Kyl8XFwuKFtcXHctXSspKSQvLFxuXG5cdHJzaWJsaW5nID0gL1srfl0vLFxuXHRyZXNjYXBlID0gLyd8XFxcXC9nLFxuXG5cdC8vIENTUyBlc2NhcGVzIGh0dHA6Ly93d3cudzMub3JnL1RSL0NTUzIxL3N5bmRhdGEuaHRtbCNlc2NhcGVkLWNoYXJhY3RlcnNcblx0cnVuZXNjYXBlID0gbmV3IFJlZ0V4cCggXCJcXFxcXFxcXChbXFxcXGRhLWZdezEsNn1cIiArIHdoaXRlc3BhY2UgKyBcIj98KFwiICsgd2hpdGVzcGFjZSArIFwiKXwuKVwiLCBcImlnXCIgKSxcblx0ZnVuZXNjYXBlID0gZnVuY3Rpb24oIF8sIGVzY2FwZWQsIGVzY2FwZWRXaGl0ZXNwYWNlICkge1xuXHRcdHZhciBoaWdoID0gXCIweFwiICsgZXNjYXBlZCAtIDB4MTAwMDA7XG5cdFx0Ly8gTmFOIG1lYW5zIG5vbi1jb2RlcG9pbnRcblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94PDI0XG5cdFx0Ly8gV29ya2Fyb3VuZCBlcnJvbmVvdXMgbnVtZXJpYyBpbnRlcnByZXRhdGlvbiBvZiArXCIweFwiXG5cdFx0cmV0dXJuIGhpZ2ggIT09IGhpZ2ggfHwgZXNjYXBlZFdoaXRlc3BhY2UgP1xuXHRcdFx0ZXNjYXBlZCA6XG5cdFx0XHRoaWdoIDwgMCA/XG5cdFx0XHRcdC8vIEJNUCBjb2RlcG9pbnRcblx0XHRcdFx0U3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCArIDB4MTAwMDAgKSA6XG5cdFx0XHRcdC8vIFN1cHBsZW1lbnRhbCBQbGFuZSBjb2RlcG9pbnQgKHN1cnJvZ2F0ZSBwYWlyKVxuXHRcdFx0XHRTdHJpbmcuZnJvbUNoYXJDb2RlKCBoaWdoID4+IDEwIHwgMHhEODAwLCBoaWdoICYgMHgzRkYgfCAweERDMDAgKTtcblx0fSxcblxuXHQvLyBVc2VkIGZvciBpZnJhbWVzXG5cdC8vIFNlZSBzZXREb2N1bWVudCgpXG5cdC8vIFJlbW92aW5nIHRoZSBmdW5jdGlvbiB3cmFwcGVyIGNhdXNlcyBhIFwiUGVybWlzc2lvbiBEZW5pZWRcIlxuXHQvLyBlcnJvciBpbiBJRVxuXHR1bmxvYWRIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG5cdFx0c2V0RG9jdW1lbnQoKTtcblx0fTtcblxuLy8gT3B0aW1pemUgZm9yIHB1c2guYXBwbHkoIF8sIE5vZGVMaXN0IClcbnRyeSB7XG5cdHB1c2guYXBwbHkoXG5cdFx0KGFyciA9IHNsaWNlLmNhbGwoIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzICkpLFxuXHRcdHByZWZlcnJlZERvYy5jaGlsZE5vZGVzXG5cdCk7XG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQ8NC4wXG5cdC8vIERldGVjdCBzaWxlbnRseSBmYWlsaW5nIHB1c2guYXBwbHlcblx0YXJyWyBwcmVmZXJyZWREb2MuY2hpbGROb2Rlcy5sZW5ndGggXS5ub2RlVHlwZTtcbn0gY2F0Y2ggKCBlICkge1xuXHRwdXNoID0geyBhcHBseTogYXJyLmxlbmd0aCA/XG5cblx0XHQvLyBMZXZlcmFnZSBzbGljZSBpZiBwb3NzaWJsZVxuXHRcdGZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHtcblx0XHRcdHB1c2hfbmF0aXZlLmFwcGx5KCB0YXJnZXQsIHNsaWNlLmNhbGwoZWxzKSApO1xuXHRcdH0gOlxuXG5cdFx0Ly8gU3VwcG9ydDogSUU8OVxuXHRcdC8vIE90aGVyd2lzZSBhcHBlbmQgZGlyZWN0bHlcblx0XHRmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7XG5cdFx0XHR2YXIgaiA9IHRhcmdldC5sZW5ndGgsXG5cdFx0XHRcdGkgPSAwO1xuXHRcdFx0Ly8gQ2FuJ3QgdHJ1c3QgTm9kZUxpc3QubGVuZ3RoXG5cdFx0XHR3aGlsZSAoICh0YXJnZXRbaisrXSA9IGVsc1tpKytdKSApIHt9XG5cdFx0XHR0YXJnZXQubGVuZ3RoID0gaiAtIDE7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBTaXp6bGUoIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuXHR2YXIgbWF0Y2gsIGVsZW0sIG0sIG5vZGVUeXBlLFxuXHRcdC8vIFFTQSB2YXJzXG5cdFx0aSwgZ3JvdXBzLCBvbGQsIG5pZCwgbmV3Q29udGV4dCwgbmV3U2VsZWN0b3I7XG5cblx0aWYgKCAoIGNvbnRleHQgPyBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCA6IHByZWZlcnJlZERvYyApICE9PSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggY29udGV4dCApO1xuXHR9XG5cblx0Y29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XG5cdHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuXHRub2RlVHlwZSA9IGNvbnRleHQubm9kZVR5cGU7XG5cblx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgfHwgIXNlbGVjdG9yIHx8XG5cdFx0bm9kZVR5cGUgIT09IDEgJiYgbm9kZVR5cGUgIT09IDkgJiYgbm9kZVR5cGUgIT09IDExICkge1xuXG5cdFx0cmV0dXJuIHJlc3VsdHM7XG5cdH1cblxuXHRpZiAoICFzZWVkICYmIGRvY3VtZW50SXNIVE1MICkge1xuXG5cdFx0Ly8gVHJ5IHRvIHNob3J0Y3V0IGZpbmQgb3BlcmF0aW9ucyB3aGVuIHBvc3NpYmxlIChlLmcuLCBub3QgdW5kZXIgRG9jdW1lbnRGcmFnbWVudClcblx0XHRpZiAoIG5vZGVUeXBlICE9PSAxMSAmJiAobWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoIHNlbGVjdG9yICkpICkge1xuXHRcdFx0Ly8gU3BlZWQtdXA6IFNpenpsZShcIiNJRFwiKVxuXHRcdFx0aWYgKCAobSA9IG1hdGNoWzFdKSApIHtcblx0XHRcdFx0aWYgKCBub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHRlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApO1xuXHRcdFx0XHRcdC8vIENoZWNrIHBhcmVudE5vZGUgdG8gY2F0Y2ggd2hlbiBCbGFja2JlcnJ5IDQuNiByZXR1cm5zXG5cdFx0XHRcdFx0Ly8gbm9kZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIGluIHRoZSBkb2N1bWVudCAoalF1ZXJ5ICM2OTYzKVxuXHRcdFx0XHRcdGlmICggZWxlbSAmJiBlbGVtLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdFx0XHQvLyBIYW5kbGUgdGhlIGNhc2Ugd2hlcmUgSUUsIE9wZXJhLCBhbmQgV2Via2l0IHJldHVybiBpdGVtc1xuXHRcdFx0XHRcdFx0Ly8gYnkgbmFtZSBpbnN0ZWFkIG9mIElEXG5cdFx0XHRcdFx0XHRpZiAoIGVsZW0uaWQgPT09IG0gKSB7XG5cdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIENvbnRleHQgaXMgbm90IGEgZG9jdW1lbnRcblx0XHRcdFx0XHRpZiAoIGNvbnRleHQub3duZXJEb2N1bWVudCAmJiAoZWxlbSA9IGNvbnRleHQub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZCggbSApKSAmJlxuXHRcdFx0XHRcdFx0Y29udGFpbnMoIGNvbnRleHQsIGVsZW0gKSAmJiBlbGVtLmlkID09PSBtICkge1xuXHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gU3BlZWQtdXA6IFNpenpsZShcIlRBR1wiKVxuXHRcdFx0fSBlbHNlIGlmICggbWF0Y2hbMl0gKSB7XG5cdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHNlbGVjdG9yICkgKTtcblx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cblx0XHRcdC8vIFNwZWVkLXVwOiBTaXp6bGUoXCIuQ0xBU1NcIilcblx0XHRcdH0gZWxzZSBpZiAoIChtID0gbWF0Y2hbM10pICYmIHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApIHtcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBtICkgKTtcblx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUVNBIHBhdGhcblx0XHRpZiAoIHN1cHBvcnQucXNhICYmICghcmJ1Z2d5UVNBIHx8ICFyYnVnZ3lRU0EudGVzdCggc2VsZWN0b3IgKSkgKSB7XG5cdFx0XHRuaWQgPSBvbGQgPSBleHBhbmRvO1xuXHRcdFx0bmV3Q29udGV4dCA9IGNvbnRleHQ7XG5cdFx0XHRuZXdTZWxlY3RvciA9IG5vZGVUeXBlICE9PSAxICYmIHNlbGVjdG9yO1xuXG5cdFx0XHQvLyBxU0Egd29ya3Mgc3RyYW5nZWx5IG9uIEVsZW1lbnQtcm9vdGVkIHF1ZXJpZXNcblx0XHRcdC8vIFdlIGNhbiB3b3JrIGFyb3VuZCB0aGlzIGJ5IHNwZWNpZnlpbmcgYW4gZXh0cmEgSUQgb24gdGhlIHJvb3Rcblx0XHRcdC8vIGFuZCB3b3JraW5nIHVwIGZyb20gdGhlcmUgKFRoYW5rcyB0byBBbmRyZXcgRHVwb250IGZvciB0aGUgdGVjaG5pcXVlKVxuXHRcdFx0Ly8gSUUgOCBkb2Vzbid0IHdvcmsgb24gb2JqZWN0IGVsZW1lbnRzXG5cdFx0XHRpZiAoIG5vZGVUeXBlID09PSAxICYmIGNvbnRleHQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gXCJvYmplY3RcIiApIHtcblx0XHRcdFx0Z3JvdXBzID0gdG9rZW5pemUoIHNlbGVjdG9yICk7XG5cblx0XHRcdFx0aWYgKCAob2xkID0gY29udGV4dC5nZXRBdHRyaWJ1dGUoXCJpZFwiKSkgKSB7XG5cdFx0XHRcdFx0bmlkID0gb2xkLnJlcGxhY2UoIHJlc2NhcGUsIFwiXFxcXCQmXCIgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb250ZXh0LnNldEF0dHJpYnV0ZSggXCJpZFwiLCBuaWQgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRuaWQgPSBcIltpZD0nXCIgKyBuaWQgKyBcIiddIFwiO1xuXG5cdFx0XHRcdGkgPSBncm91cHMubGVuZ3RoO1xuXHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRncm91cHNbaV0gPSBuaWQgKyB0b1NlbGVjdG9yKCBncm91cHNbaV0gKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRuZXdDb250ZXh0ID0gcnNpYmxpbmcudGVzdCggc2VsZWN0b3IgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dDtcblx0XHRcdFx0bmV3U2VsZWN0b3IgPSBncm91cHMuam9pbihcIixcIik7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggbmV3U2VsZWN0b3IgKSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cyxcblx0XHRcdFx0XHRcdG5ld0NvbnRleHQucXVlcnlTZWxlY3RvckFsbCggbmV3U2VsZWN0b3IgKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdH0gY2F0Y2gocXNhRXJyb3IpIHtcblx0XHRcdFx0fSBmaW5hbGx5IHtcblx0XHRcdFx0XHRpZiAoICFvbGQgKSB7XG5cdFx0XHRcdFx0XHRjb250ZXh0LnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIEFsbCBvdGhlcnNcblx0cmV0dXJuIHNlbGVjdCggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sIFwiJDFcIiApLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGtleS12YWx1ZSBjYWNoZXMgb2YgbGltaXRlZCBzaXplXG4gKiBAcmV0dXJucyB7RnVuY3Rpb24oc3RyaW5nLCBPYmplY3QpfSBSZXR1cm5zIHRoZSBPYmplY3QgZGF0YSBhZnRlciBzdG9yaW5nIGl0IG9uIGl0c2VsZiB3aXRoXG4gKlx0cHJvcGVydHkgbmFtZSB0aGUgKHNwYWNlLXN1ZmZpeGVkKSBzdHJpbmcgYW5kIChpZiB0aGUgY2FjaGUgaXMgbGFyZ2VyIHRoYW4gRXhwci5jYWNoZUxlbmd0aClcbiAqXHRkZWxldGluZyB0aGUgb2xkZXN0IGVudHJ5XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNhY2hlKCkge1xuXHR2YXIga2V5cyA9IFtdO1xuXG5cdGZ1bmN0aW9uIGNhY2hlKCBrZXksIHZhbHVlICkge1xuXHRcdC8vIFVzZSAoa2V5ICsgXCIgXCIpIHRvIGF2b2lkIGNvbGxpc2lvbiB3aXRoIG5hdGl2ZSBwcm90b3R5cGUgcHJvcGVydGllcyAoc2VlIElzc3VlICMxNTcpXG5cdFx0aWYgKCBrZXlzLnB1c2goIGtleSArIFwiIFwiICkgPiBFeHByLmNhY2hlTGVuZ3RoICkge1xuXHRcdFx0Ly8gT25seSBrZWVwIHRoZSBtb3N0IHJlY2VudCBlbnRyaWVzXG5cdFx0XHRkZWxldGUgY2FjaGVbIGtleXMuc2hpZnQoKSBdO1xuXHRcdH1cblx0XHRyZXR1cm4gKGNhY2hlWyBrZXkgKyBcIiBcIiBdID0gdmFsdWUpO1xuXHR9XG5cdHJldHVybiBjYWNoZTtcbn1cblxuLyoqXG4gKiBNYXJrIGEgZnVuY3Rpb24gZm9yIHNwZWNpYWwgdXNlIGJ5IFNpenpsZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIG1hcmtcbiAqL1xuZnVuY3Rpb24gbWFya0Z1bmN0aW9uKCBmbiApIHtcblx0Zm5bIGV4cGFuZG8gXSA9IHRydWU7XG5cdHJldHVybiBmbjtcbn1cblxuLyoqXG4gKiBTdXBwb3J0IHRlc3RpbmcgdXNpbmcgYW4gZWxlbWVudFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gUGFzc2VkIHRoZSBjcmVhdGVkIGRpdiBhbmQgZXhwZWN0cyBhIGJvb2xlYW4gcmVzdWx0XG4gKi9cbmZ1bmN0aW9uIGFzc2VydCggZm4gKSB7XG5cdHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG5cdHRyeSB7XG5cdFx0cmV0dXJuICEhZm4oIGRpdiApO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9IGZpbmFsbHkge1xuXHRcdC8vIFJlbW92ZSBmcm9tIGl0cyBwYXJlbnQgYnkgZGVmYXVsdFxuXHRcdGlmICggZGl2LnBhcmVudE5vZGUgKSB7XG5cdFx0XHRkaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggZGl2ICk7XG5cdFx0fVxuXHRcdC8vIHJlbGVhc2UgbWVtb3J5IGluIElFXG5cdFx0ZGl2ID0gbnVsbDtcblx0fVxufVxuXG4vKipcbiAqIEFkZHMgdGhlIHNhbWUgaGFuZGxlciBmb3IgYWxsIG9mIHRoZSBzcGVjaWZpZWQgYXR0cnNcbiAqIEBwYXJhbSB7U3RyaW5nfSBhdHRycyBQaXBlLXNlcGFyYXRlZCBsaXN0IG9mIGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgVGhlIG1ldGhvZCB0aGF0IHdpbGwgYmUgYXBwbGllZFxuICovXG5mdW5jdGlvbiBhZGRIYW5kbGUoIGF0dHJzLCBoYW5kbGVyICkge1xuXHR2YXIgYXJyID0gYXR0cnMuc3BsaXQoXCJ8XCIpLFxuXHRcdGkgPSBhdHRycy5sZW5ndGg7XG5cblx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0RXhwci5hdHRySGFuZGxlWyBhcnJbaV0gXSA9IGhhbmRsZXI7XG5cdH1cbn1cblxuLyoqXG4gKiBDaGVja3MgZG9jdW1lbnQgb3JkZXIgb2YgdHdvIHNpYmxpbmdzXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGFcbiAqIEBwYXJhbSB7RWxlbWVudH0gYlxuICogQHJldHVybnMge051bWJlcn0gUmV0dXJucyBsZXNzIHRoYW4gMCBpZiBhIHByZWNlZGVzIGIsIGdyZWF0ZXIgdGhhbiAwIGlmIGEgZm9sbG93cyBiXG4gKi9cbmZ1bmN0aW9uIHNpYmxpbmdDaGVjayggYSwgYiApIHtcblx0dmFyIGN1ciA9IGIgJiYgYSxcblx0XHRkaWZmID0gY3VyICYmIGEubm9kZVR5cGUgPT09IDEgJiYgYi5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0KCB+Yi5zb3VyY2VJbmRleCB8fCBNQVhfTkVHQVRJVkUgKSAtXG5cdFx0XHQoIH5hLnNvdXJjZUluZGV4IHx8IE1BWF9ORUdBVElWRSApO1xuXG5cdC8vIFVzZSBJRSBzb3VyY2VJbmRleCBpZiBhdmFpbGFibGUgb24gYm90aCBub2Rlc1xuXHRpZiAoIGRpZmYgKSB7XG5cdFx0cmV0dXJuIGRpZmY7XG5cdH1cblxuXHQvLyBDaGVjayBpZiBiIGZvbGxvd3MgYVxuXHRpZiAoIGN1ciApIHtcblx0XHR3aGlsZSAoIChjdXIgPSBjdXIubmV4dFNpYmxpbmcpICkge1xuXHRcdFx0aWYgKCBjdXIgPT09IGIgKSB7XG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gYSA/IDEgOiAtMTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGlucHV0IHR5cGVzXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICovXG5mdW5jdGlvbiBjcmVhdGVJbnB1dFBzZXVkbyggdHlwZSApIHtcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdHJldHVybiBuYW1lID09PSBcImlucHV0XCIgJiYgZWxlbS50eXBlID09PSB0eXBlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgYnV0dG9uc1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQnV0dG9uUHNldWRvKCB0eXBlICkge1xuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0cmV0dXJuIChuYW1lID09PSBcImlucHV0XCIgfHwgbmFtZSA9PT0gXCJidXR0b25cIikgJiYgZWxlbS50eXBlID09PSB0eXBlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgcG9zaXRpb25hbHNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZuICkge1xuXHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBhcmd1bWVudCApIHtcblx0XHRhcmd1bWVudCA9ICthcmd1bWVudDtcblx0XHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkge1xuXHRcdFx0dmFyIGosXG5cdFx0XHRcdG1hdGNoSW5kZXhlcyA9IGZuKCBbXSwgc2VlZC5sZW5ndGgsIGFyZ3VtZW50ICksXG5cdFx0XHRcdGkgPSBtYXRjaEluZGV4ZXMubGVuZ3RoO1xuXG5cdFx0XHQvLyBNYXRjaCBlbGVtZW50cyBmb3VuZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4ZXNcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRpZiAoIHNlZWRbIChqID0gbWF0Y2hJbmRleGVzW2ldKSBdICkge1xuXHRcdFx0XHRcdHNlZWRbal0gPSAhKG1hdGNoZXNbal0gPSBzZWVkW2pdKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBDaGVja3MgYSBub2RlIGZvciB2YWxpZGl0eSBhcyBhIFNpenpsZSBjb250ZXh0XG4gKiBAcGFyYW0ge0VsZW1lbnR8T2JqZWN0PX0gY29udGV4dFxuICogQHJldHVybnMge0VsZW1lbnR8T2JqZWN0fEJvb2xlYW59IFRoZSBpbnB1dCBub2RlIGlmIGFjY2VwdGFibGUsIG90aGVyd2lzZSBhIGZhbHN5IHZhbHVlXG4gKi9cbmZ1bmN0aW9uIHRlc3RDb250ZXh0KCBjb250ZXh0ICkge1xuXHRyZXR1cm4gY29udGV4dCAmJiB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb250ZXh0O1xufVxuXG4vLyBFeHBvc2Ugc3VwcG9ydCB2YXJzIGZvciBjb252ZW5pZW5jZVxuc3VwcG9ydCA9IFNpenpsZS5zdXBwb3J0ID0ge307XG5cbi8qKlxuICogRGV0ZWN0cyBYTUwgbm9kZXNcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IGVsZW0gQW4gZWxlbWVudCBvciBhIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gVHJ1ZSBpZmYgZWxlbSBpcyBhIG5vbi1IVE1MIFhNTCBub2RlXG4gKi9cbmlzWE1MID0gU2l6emxlLmlzWE1MID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdC8vIGRvY3VtZW50RWxlbWVudCBpcyB2ZXJpZmllZCBmb3IgY2FzZXMgd2hlcmUgaXQgZG9lc24ndCB5ZXQgZXhpc3Rcblx0Ly8gKHN1Y2ggYXMgbG9hZGluZyBpZnJhbWVzIGluIElFIC0gIzQ4MzMpXG5cdHZhciBkb2N1bWVudEVsZW1lbnQgPSBlbGVtICYmIChlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSkuZG9jdW1lbnRFbGVtZW50O1xuXHRyZXR1cm4gZG9jdW1lbnRFbGVtZW50ID8gZG9jdW1lbnRFbGVtZW50Lm5vZGVOYW1lICE9PSBcIkhUTUxcIiA6IGZhbHNlO1xufTtcblxuLyoqXG4gKiBTZXRzIGRvY3VtZW50LXJlbGF0ZWQgdmFyaWFibGVzIG9uY2UgYmFzZWQgb24gdGhlIGN1cnJlbnQgZG9jdW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IFtkb2NdIEFuIGVsZW1lbnQgb3IgZG9jdW1lbnQgb2JqZWN0IHRvIHVzZSB0byBzZXQgdGhlIGRvY3VtZW50XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjdXJyZW50IGRvY3VtZW50XG4gKi9cbnNldERvY3VtZW50ID0gU2l6emxlLnNldERvY3VtZW50ID0gZnVuY3Rpb24oIG5vZGUgKSB7XG5cdHZhciBoYXNDb21wYXJlLCBwYXJlbnQsXG5cdFx0ZG9jID0gbm9kZSA/IG5vZGUub3duZXJEb2N1bWVudCB8fCBub2RlIDogcHJlZmVycmVkRG9jO1xuXG5cdC8vIElmIG5vIGRvY3VtZW50IGFuZCBkb2N1bWVudEVsZW1lbnQgaXMgYXZhaWxhYmxlLCByZXR1cm5cblx0aWYgKCBkb2MgPT09IGRvY3VtZW50IHx8IGRvYy5ub2RlVHlwZSAhPT0gOSB8fCAhZG9jLmRvY3VtZW50RWxlbWVudCApIHtcblx0XHRyZXR1cm4gZG9jdW1lbnQ7XG5cdH1cblxuXHQvLyBTZXQgb3VyIGRvY3VtZW50XG5cdGRvY3VtZW50ID0gZG9jO1xuXHRkb2NFbGVtID0gZG9jLmRvY3VtZW50RWxlbWVudDtcblx0cGFyZW50ID0gZG9jLmRlZmF1bHRWaWV3O1xuXG5cdC8vIFN1cHBvcnQ6IElFPjhcblx0Ly8gSWYgaWZyYW1lIGRvY3VtZW50IGlzIGFzc2lnbmVkIHRvIFwiZG9jdW1lbnRcIiB2YXJpYWJsZSBhbmQgaWYgaWZyYW1lIGhhcyBiZWVuIHJlbG9hZGVkLFxuXHQvLyBJRSB3aWxsIHRocm93IFwicGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvciB3aGVuIGFjY2Vzc2luZyBcImRvY3VtZW50XCIgdmFyaWFibGUsIHNlZSBqUXVlcnkgIzEzOTM2XG5cdC8vIElFNi04IGRvIG5vdCBzdXBwb3J0IHRoZSBkZWZhdWx0VmlldyBwcm9wZXJ0eSBzbyBwYXJlbnQgd2lsbCBiZSB1bmRlZmluZWRcblx0aWYgKCBwYXJlbnQgJiYgcGFyZW50ICE9PSBwYXJlbnQudG9wICkge1xuXHRcdC8vIElFMTEgZG9lcyBub3QgaGF2ZSBhdHRhY2hFdmVudCwgc28gYWxsIG11c3Qgc3VmZmVyXG5cdFx0aWYgKCBwYXJlbnQuYWRkRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdHBhcmVudC5hZGRFdmVudExpc3RlbmVyKCBcInVubG9hZFwiLCB1bmxvYWRIYW5kbGVyLCBmYWxzZSApO1xuXHRcdH0gZWxzZSBpZiAoIHBhcmVudC5hdHRhY2hFdmVudCApIHtcblx0XHRcdHBhcmVudC5hdHRhY2hFdmVudCggXCJvbnVubG9hZFwiLCB1bmxvYWRIYW5kbGVyICk7XG5cdFx0fVxuXHR9XG5cblx0LyogU3VwcG9ydCB0ZXN0c1xuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdGRvY3VtZW50SXNIVE1MID0gIWlzWE1MKCBkb2MgKTtcblxuXHQvKiBBdHRyaWJ1dGVzXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuXHQvLyBTdXBwb3J0OiBJRTw4XG5cdC8vIFZlcmlmeSB0aGF0IGdldEF0dHJpYnV0ZSByZWFsbHkgcmV0dXJucyBhdHRyaWJ1dGVzIGFuZCBub3QgcHJvcGVydGllc1xuXHQvLyAoZXhjZXB0aW5nIElFOCBib29sZWFucylcblx0c3VwcG9ydC5hdHRyaWJ1dGVzID0gYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG5cdFx0ZGl2LmNsYXNzTmFtZSA9IFwiaVwiO1xuXHRcdHJldHVybiAhZGl2LmdldEF0dHJpYnV0ZShcImNsYXNzTmFtZVwiKTtcblx0fSk7XG5cblx0LyogZ2V0RWxlbWVudChzKUJ5KlxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cblx0Ly8gQ2hlY2sgaWYgZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpIHJldHVybnMgb25seSBlbGVtZW50c1xuXHRzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lID0gYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG5cdFx0ZGl2LmFwcGVuZENoaWxkKCBkb2MuY3JlYXRlQ29tbWVudChcIlwiKSApO1xuXHRcdHJldHVybiAhZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKS5sZW5ndGg7XG5cdH0pO1xuXG5cdC8vIFN1cHBvcnQ6IElFPDlcblx0c3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gcm5hdGl2ZS50ZXN0KCBkb2MuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApO1xuXG5cdC8vIFN1cHBvcnQ6IElFPDEwXG5cdC8vIENoZWNrIGlmIGdldEVsZW1lbnRCeUlkIHJldHVybnMgZWxlbWVudHMgYnkgbmFtZVxuXHQvLyBUaGUgYnJva2VuIGdldEVsZW1lbnRCeUlkIG1ldGhvZHMgZG9uJ3QgcGljayB1cCBwcm9ncmFtYXRpY2FsbHktc2V0IG5hbWVzLFxuXHQvLyBzbyB1c2UgYSByb3VuZGFib3V0IGdldEVsZW1lbnRzQnlOYW1lIHRlc3Rcblx0c3VwcG9ydC5nZXRCeUlkID0gYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG5cdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZGl2ICkuaWQgPSBleHBhbmRvO1xuXHRcdHJldHVybiAhZG9jLmdldEVsZW1lbnRzQnlOYW1lIHx8ICFkb2MuZ2V0RWxlbWVudHNCeU5hbWUoIGV4cGFuZG8gKS5sZW5ndGg7XG5cdH0pO1xuXG5cdC8vIElEIGZpbmQgYW5kIGZpbHRlclxuXHRpZiAoIHN1cHBvcnQuZ2V0QnlJZCApIHtcblx0XHRFeHByLmZpbmRbXCJJRFwiXSA9IGZ1bmN0aW9uKCBpZCwgY29udGV4dCApIHtcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XG5cdFx0XHRcdHZhciBtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggaWQgKTtcblx0XHRcdFx0Ly8gQ2hlY2sgcGFyZW50Tm9kZSB0byBjYXRjaCB3aGVuIEJsYWNrYmVycnkgNC42IHJldHVybnNcblx0XHRcdFx0Ly8gbm9kZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIGluIHRoZSBkb2N1bWVudCAjNjk2M1xuXHRcdFx0XHRyZXR1cm4gbSAmJiBtLnBhcmVudE5vZGUgPyBbIG0gXSA6IFtdO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0RXhwci5maWx0ZXJbXCJJRFwiXSA9IGZ1bmN0aW9uKCBpZCApIHtcblx0XHRcdHZhciBhdHRySWQgPSBpZC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSA9PT0gYXR0cklkO1xuXHRcdFx0fTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdC8vIFN1cHBvcnQ6IElFNi83XG5cdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgaXMgbm90IHJlbGlhYmxlIGFzIGEgZmluZCBzaG9ydGN1dFxuXHRcdGRlbGV0ZSBFeHByLmZpbmRbXCJJRFwiXTtcblxuXHRcdEV4cHIuZmlsdGVyW1wiSURcIl0gPSAgZnVuY3Rpb24oIGlkICkge1xuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBub2RlID0gdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlTm9kZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoXCJpZFwiKTtcblx0XHRcdFx0cmV0dXJuIG5vZGUgJiYgbm9kZS52YWx1ZSA9PT0gYXR0cklkO1xuXHRcdFx0fTtcblx0XHR9O1xuXHR9XG5cblx0Ly8gVGFnXG5cdEV4cHIuZmluZFtcIlRBR1wiXSA9IHN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgP1xuXHRcdGZ1bmN0aW9uKCB0YWcsIGNvbnRleHQgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnICk7XG5cblx0XHRcdC8vIERvY3VtZW50RnJhZ21lbnQgbm9kZXMgZG9uJ3QgaGF2ZSBnRUJUTlxuXHRcdFx0fSBlbHNlIGlmICggc3VwcG9ydC5xc2EgKSB7XG5cdFx0XHRcdHJldHVybiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyApO1xuXHRcdFx0fVxuXHRcdH0gOlxuXG5cdFx0ZnVuY3Rpb24oIHRhZywgY29udGV4dCApIHtcblx0XHRcdHZhciBlbGVtLFxuXHRcdFx0XHR0bXAgPSBbXSxcblx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdC8vIEJ5IGhhcHB5IGNvaW5jaWRlbmNlLCBhIChicm9rZW4pIGdFQlROIGFwcGVhcnMgb24gRG9jdW1lbnRGcmFnbWVudCBub2RlcyB0b29cblx0XHRcdFx0cmVzdWx0cyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApO1xuXG5cdFx0XHQvLyBGaWx0ZXIgb3V0IHBvc3NpYmxlIGNvbW1lbnRzXG5cdFx0XHRpZiAoIHRhZyA9PT0gXCIqXCIgKSB7XG5cdFx0XHRcdHdoaWxlICggKGVsZW0gPSByZXN1bHRzW2krK10pICkge1xuXHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0XHRcdHRtcC5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHRtcDtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdH07XG5cblx0Ly8gQ2xhc3Ncblx0RXhwci5maW5kW1wiQ0xBU1NcIl0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgJiYgZnVuY3Rpb24oIGNsYXNzTmFtZSwgY29udGV4dCApIHtcblx0XHRpZiAoIGRvY3VtZW50SXNIVE1MICkge1xuXHRcdFx0cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggY2xhc3NOYW1lICk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qIFFTQS9tYXRjaGVzU2VsZWN0b3Jcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIFFTQSBhbmQgbWF0Y2hlc1NlbGVjdG9yIHN1cHBvcnRcblxuXHQvLyBtYXRjaGVzU2VsZWN0b3IoOmFjdGl2ZSkgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKElFOS9PcGVyYSAxMS41KVxuXHRyYnVnZ3lNYXRjaGVzID0gW107XG5cblx0Ly8gcVNhKDpmb2N1cykgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKENocm9tZSAyMSlcblx0Ly8gV2UgYWxsb3cgdGhpcyBiZWNhdXNlIG9mIGEgYnVnIGluIElFOC85IHRoYXQgdGhyb3dzIGFuIGVycm9yXG5cdC8vIHdoZW5ldmVyIGBkb2N1bWVudC5hY3RpdmVFbGVtZW50YCBpcyBhY2Nlc3NlZCBvbiBhbiBpZnJhbWVcblx0Ly8gU28sIHdlIGFsbG93IDpmb2N1cyB0byBwYXNzIHRocm91Z2ggUVNBIGFsbCB0aGUgdGltZSB0byBhdm9pZCB0aGUgSUUgZXJyb3Jcblx0Ly8gU2VlIGh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEzMzc4XG5cdHJidWdneVFTQSA9IFtdO1xuXG5cdGlmICggKHN1cHBvcnQucXNhID0gcm5hdGl2ZS50ZXN0KCBkb2MucXVlcnlTZWxlY3RvckFsbCApKSApIHtcblx0XHQvLyBCdWlsZCBRU0EgcmVnZXhcblx0XHQvLyBSZWdleCBzdHJhdGVneSBhZG9wdGVkIGZyb20gRGllZ28gUGVyaW5pXG5cdFx0YXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG5cdFx0XHQvLyBTZWxlY3QgaXMgc2V0IHRvIGVtcHR5IHN0cmluZyBvbiBwdXJwb3NlXG5cdFx0XHQvLyBUaGlzIGlzIHRvIHRlc3QgSUUncyB0cmVhdG1lbnQgb2Ygbm90IGV4cGxpY2l0bHlcblx0XHRcdC8vIHNldHRpbmcgYSBib29sZWFuIGNvbnRlbnQgYXR0cmlidXRlLFxuXHRcdFx0Ly8gc2luY2UgaXRzIHByZXNlbmNlIHNob3VsZCBiZSBlbm91Z2hcblx0XHRcdC8vIGh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEyMzU5XG5cdFx0XHRkb2NFbGVtLmFwcGVuZENoaWxkKCBkaXYgKS5pbm5lckhUTUwgPSBcIjxhIGlkPSdcIiArIGV4cGFuZG8gKyBcIic+PC9hPlwiICtcblx0XHRcdFx0XCI8c2VsZWN0IGlkPSdcIiArIGV4cGFuZG8gKyBcIi1cXGZdJyBtc2FsbG93Y2FwdHVyZT0nJz5cIiArXG5cdFx0XHRcdFwiPG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD5cIjtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU4LCBPcGVyYSAxMS0xMi4xNlxuXHRcdFx0Ly8gTm90aGluZyBzaG91bGQgYmUgc2VsZWN0ZWQgd2hlbiBlbXB0eSBzdHJpbmdzIGZvbGxvdyBePSBvciAkPSBvciAqPVxuXHRcdFx0Ly8gVGhlIHRlc3QgYXR0cmlidXRlIG11c3QgYmUgdW5rbm93biBpbiBPcGVyYSBidXQgXCJzYWZlXCIgZm9yIFdpblJUXG5cdFx0XHQvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvaGg0NjUzODguYXNweCNhdHRyaWJ1dGVfc2VjdGlvblxuXHRcdFx0aWYgKCBkaXYucXVlcnlTZWxlY3RvckFsbChcIlttc2FsbG93Y2FwdHVyZV49JyddXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiWypeJF09XCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86Jyd8XFxcIlxcXCIpXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU4XG5cdFx0XHQvLyBCb29sZWFuIGF0dHJpYnV0ZXMgYW5kIFwidmFsdWVcIiBhcmUgbm90IHRyZWF0ZWQgY29ycmVjdGx5XG5cdFx0XHRpZiAoICFkaXYucXVlcnlTZWxlY3RvckFsbChcIltzZWxlY3RlZF1cIikubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJcXFxcW1wiICsgd2hpdGVzcGFjZSArIFwiKig/OnZhbHVlfFwiICsgYm9vbGVhbnMgKyBcIilcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWU8MjksIEFuZHJvaWQ8NC4yKywgU2FmYXJpPDcuMCssIGlPUzw3LjArLCBQaGFudG9tSlM8MS45LjcrXG5cdFx0XHRpZiAoICFkaXYucXVlcnlTZWxlY3RvckFsbCggXCJbaWR+PVwiICsgZXhwYW5kbyArIFwiLV1cIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCJ+PVwiKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gV2Via2l0L09wZXJhIC0gOmNoZWNrZWQgc2hvdWxkIHJldHVybiBzZWxlY3RlZCBvcHRpb24gZWxlbWVudHNcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHQvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdpbGwgbm90IHNlZSBsYXRlciB0ZXN0c1xuXHRcdFx0aWYgKCAhZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoXCI6Y2hlY2tlZFwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKFwiOmNoZWNrZWRcIik7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA4KywgaU9TIDgrXG5cdFx0XHQvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM2ODUxXG5cdFx0XHQvLyBJbi1wYWdlIGBzZWxlY3RvciNpZCBzaWJpbmctY29tYmluYXRvciBzZWxlY3RvcmAgZmFpbHNcblx0XHRcdGlmICggIWRpdi5xdWVyeVNlbGVjdG9yQWxsKCBcImEjXCIgKyBleHBhbmRvICsgXCIrKlwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaChcIi4jLitbK35dXCIpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0YXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG5cdFx0XHQvLyBTdXBwb3J0OiBXaW5kb3dzIDggTmF0aXZlIEFwcHNcblx0XHRcdC8vIFRoZSB0eXBlIGFuZCBuYW1lIGF0dHJpYnV0ZXMgYXJlIHJlc3RyaWN0ZWQgZHVyaW5nIC5pbm5lckhUTUwgYXNzaWdubWVudFxuXHRcdFx0dmFyIGlucHV0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcblx0XHRcdGlucHV0LnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIFwiaGlkZGVuXCIgKTtcblx0XHRcdGRpdi5hcHBlbmRDaGlsZCggaW5wdXQgKS5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcIkRcIiApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRThcblx0XHRcdC8vIEVuZm9yY2UgY2FzZS1zZW5zaXRpdml0eSBvZiBuYW1lIGF0dHJpYnV0ZVxuXHRcdFx0aWYgKCBkaXYucXVlcnlTZWxlY3RvckFsbChcIltuYW1lPWRdXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwibmFtZVwiICsgd2hpdGVzcGFjZSArIFwiKlsqXiR8IX5dPz1cIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBGRiAzLjUgLSA6ZW5hYmxlZC86ZGlzYWJsZWQgYW5kIGhpZGRlbiBlbGVtZW50cyAoaGlkZGVuIGVsZW1lbnRzIGFyZSBzdGlsbCBlbmFibGVkKVxuXHRcdFx0Ly8gSUU4IHRocm93cyBlcnJvciBoZXJlIGFuZCB3aWxsIG5vdCBzZWUgbGF0ZXIgdGVzdHNcblx0XHRcdGlmICggIWRpdi5xdWVyeVNlbGVjdG9yQWxsKFwiOmVuYWJsZWRcIikubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE9wZXJhIDEwLTExIGRvZXMgbm90IHRocm93IG9uIHBvc3QtY29tbWEgaW52YWxpZCBwc2V1ZG9zXG5cdFx0XHRkaXYucXVlcnlTZWxlY3RvckFsbChcIiosOnhcIik7XG5cdFx0XHRyYnVnZ3lRU0EucHVzaChcIiwuKjpcIik7XG5cdFx0fSk7XG5cdH1cblxuXHRpZiAoIChzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciA9IHJuYXRpdmUudGVzdCggKG1hdGNoZXMgPSBkb2NFbGVtLm1hdGNoZXMgfHxcblx0XHRkb2NFbGVtLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fFxuXHRcdGRvY0VsZW0ubW96TWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0ZG9jRWxlbS5vTWF0Y2hlc1NlbGVjdG9yIHx8XG5cdFx0ZG9jRWxlbS5tc01hdGNoZXNTZWxlY3RvcikgKSkgKSB7XG5cblx0XHRhc3NlcnQoZnVuY3Rpb24oIGRpdiApIHtcblx0XHRcdC8vIENoZWNrIHRvIHNlZSBpZiBpdCdzIHBvc3NpYmxlIHRvIGRvIG1hdGNoZXNTZWxlY3RvclxuXHRcdFx0Ly8gb24gYSBkaXNjb25uZWN0ZWQgbm9kZSAoSUUgOSlcblx0XHRcdHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggPSBtYXRjaGVzLmNhbGwoIGRpdiwgXCJkaXZcIiApO1xuXG5cdFx0XHQvLyBUaGlzIHNob3VsZCBmYWlsIHdpdGggYW4gZXhjZXB0aW9uXG5cdFx0XHQvLyBHZWNrbyBkb2VzIG5vdCBlcnJvciwgcmV0dXJucyBmYWxzZSBpbnN0ZWFkXG5cdFx0XHRtYXRjaGVzLmNhbGwoIGRpdiwgXCJbcyE9JyddOnhcIiApO1xuXHRcdFx0cmJ1Z2d5TWF0Y2hlcy5wdXNoKCBcIiE9XCIsIHBzZXVkb3MgKTtcblx0XHR9KTtcblx0fVxuXG5cdHJidWdneVFTQSA9IHJidWdneVFTQS5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5UVNBLmpvaW4oXCJ8XCIpICk7XG5cdHJidWdneU1hdGNoZXMgPSByYnVnZ3lNYXRjaGVzLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lNYXRjaGVzLmpvaW4oXCJ8XCIpICk7XG5cblx0LyogQ29udGFpbnNcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXHRoYXNDb21wYXJlID0gcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICk7XG5cblx0Ly8gRWxlbWVudCBjb250YWlucyBhbm90aGVyXG5cdC8vIFB1cnBvc2VmdWxseSBkb2VzIG5vdCBpbXBsZW1lbnQgaW5jbHVzaXZlIGRlc2NlbmRlbnRcblx0Ly8gQXMgaW4sIGFuIGVsZW1lbnQgZG9lcyBub3QgY29udGFpbiBpdHNlbGZcblx0Y29udGFpbnMgPSBoYXNDb21wYXJlIHx8IHJuYXRpdmUudGVzdCggZG9jRWxlbS5jb250YWlucyApID9cblx0XHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHRcdHZhciBhZG93biA9IGEubm9kZVR5cGUgPT09IDkgPyBhLmRvY3VtZW50RWxlbWVudCA6IGEsXG5cdFx0XHRcdGJ1cCA9IGIgJiYgYi5wYXJlbnROb2RlO1xuXHRcdFx0cmV0dXJuIGEgPT09IGJ1cCB8fCAhISggYnVwICYmIGJ1cC5ub2RlVHlwZSA9PT0gMSAmJiAoXG5cdFx0XHRcdGFkb3duLmNvbnRhaW5zID9cblx0XHRcdFx0XHRhZG93bi5jb250YWlucyggYnVwICkgOlxuXHRcdFx0XHRcdGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gJiYgYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYnVwICkgJiAxNlxuXHRcdFx0KSk7XG5cdFx0fSA6XG5cdFx0ZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0XHRpZiAoIGIgKSB7XG5cdFx0XHRcdHdoaWxlICggKGIgPSBiLnBhcmVudE5vZGUpICkge1xuXHRcdFx0XHRcdGlmICggYiA9PT0gYSApIHtcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH07XG5cblx0LyogU29ydGluZ1xuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cblx0Ly8gRG9jdW1lbnQgb3JkZXIgc29ydGluZ1xuXHRzb3J0T3JkZXIgPSBoYXNDb21wYXJlID9cblx0ZnVuY3Rpb24oIGEsIGIgKSB7XG5cblx0XHQvLyBGbGFnIGZvciBkdXBsaWNhdGUgcmVtb3ZhbFxuXHRcdGlmICggYSA9PT0gYiApIHtcblx0XHRcdGhhc0R1cGxpY2F0ZSA9IHRydWU7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cblx0XHQvLyBTb3J0IG9uIG1ldGhvZCBleGlzdGVuY2UgaWYgb25seSBvbmUgaW5wdXQgaGFzIGNvbXBhcmVEb2N1bWVudFBvc2l0aW9uXG5cdFx0dmFyIGNvbXBhcmUgPSAhYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAtICFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO1xuXHRcdGlmICggY29tcGFyZSApIHtcblx0XHRcdHJldHVybiBjb21wYXJlO1xuXHRcdH1cblxuXHRcdC8vIENhbGN1bGF0ZSBwb3NpdGlvbiBpZiBib3RoIGlucHV0cyBiZWxvbmcgdG8gdGhlIHNhbWUgZG9jdW1lbnRcblx0XHRjb21wYXJlID0gKCBhLm93bmVyRG9jdW1lbnQgfHwgYSApID09PSAoIGIub3duZXJEb2N1bWVudCB8fCBiICkgP1xuXHRcdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYiApIDpcblxuXHRcdFx0Ly8gT3RoZXJ3aXNlIHdlIGtub3cgdGhleSBhcmUgZGlzY29ubmVjdGVkXG5cdFx0XHQxO1xuXG5cdFx0Ly8gRGlzY29ubmVjdGVkIG5vZGVzXG5cdFx0aWYgKCBjb21wYXJlICYgMSB8fFxuXHRcdFx0KCFzdXBwb3J0LnNvcnREZXRhY2hlZCAmJiBiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBhICkgPT09IGNvbXBhcmUpICkge1xuXG5cdFx0XHQvLyBDaG9vc2UgdGhlIGZpcnN0IGVsZW1lbnQgdGhhdCBpcyByZWxhdGVkIHRvIG91ciBwcmVmZXJyZWQgZG9jdW1lbnRcblx0XHRcdGlmICggYSA9PT0gZG9jIHx8IGEub3duZXJEb2N1bWVudCA9PT0gcHJlZmVycmVkRG9jICYmIGNvbnRhaW5zKHByZWZlcnJlZERvYywgYSkgKSB7XG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblx0XHRcdGlmICggYiA9PT0gZG9jIHx8IGIub3duZXJEb2N1bWVudCA9PT0gcHJlZmVycmVkRG9jICYmIGNvbnRhaW5zKHByZWZlcnJlZERvYywgYikgKSB7XG5cdFx0XHRcdHJldHVybiAxO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYWludGFpbiBvcmlnaW5hbCBvcmRlclxuXHRcdFx0cmV0dXJuIHNvcnRJbnB1dCA/XG5cdFx0XHRcdCggaW5kZXhPZiggc29ydElucHV0LCBhICkgLSBpbmRleE9mKCBzb3J0SW5wdXQsIGIgKSApIDpcblx0XHRcdFx0MDtcblx0XHR9XG5cblx0XHRyZXR1cm4gY29tcGFyZSAmIDQgPyAtMSA6IDE7XG5cdH0gOlxuXHRmdW5jdGlvbiggYSwgYiApIHtcblx0XHQvLyBFeGl0IGVhcmx5IGlmIHRoZSBub2RlcyBhcmUgaWRlbnRpY2FsXG5cdFx0aWYgKCBhID09PSBiICkge1xuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcblx0XHRcdHJldHVybiAwO1xuXHRcdH1cblxuXHRcdHZhciBjdXIsXG5cdFx0XHRpID0gMCxcblx0XHRcdGF1cCA9IGEucGFyZW50Tm9kZSxcblx0XHRcdGJ1cCA9IGIucGFyZW50Tm9kZSxcblx0XHRcdGFwID0gWyBhIF0sXG5cdFx0XHRicCA9IFsgYiBdO1xuXG5cdFx0Ly8gUGFyZW50bGVzcyBub2RlcyBhcmUgZWl0aGVyIGRvY3VtZW50cyBvciBkaXNjb25uZWN0ZWRcblx0XHRpZiAoICFhdXAgfHwgIWJ1cCApIHtcblx0XHRcdHJldHVybiBhID09PSBkb2MgPyAtMSA6XG5cdFx0XHRcdGIgPT09IGRvYyA/IDEgOlxuXHRcdFx0XHRhdXAgPyAtMSA6XG5cdFx0XHRcdGJ1cCA/IDEgOlxuXHRcdFx0XHRzb3J0SW5wdXQgP1xuXHRcdFx0XHQoIGluZGV4T2YoIHNvcnRJbnB1dCwgYSApIC0gaW5kZXhPZiggc29ydElucHV0LCBiICkgKSA6XG5cdFx0XHRcdDA7XG5cblx0XHQvLyBJZiB0aGUgbm9kZXMgYXJlIHNpYmxpbmdzLCB3ZSBjYW4gZG8gYSBxdWljayBjaGVja1xuXHRcdH0gZWxzZSBpZiAoIGF1cCA9PT0gYnVwICkge1xuXHRcdFx0cmV0dXJuIHNpYmxpbmdDaGVjayggYSwgYiApO1xuXHRcdH1cblxuXHRcdC8vIE90aGVyd2lzZSB3ZSBuZWVkIGZ1bGwgbGlzdHMgb2YgdGhlaXIgYW5jZXN0b3JzIGZvciBjb21wYXJpc29uXG5cdFx0Y3VyID0gYTtcblx0XHR3aGlsZSAoIChjdXIgPSBjdXIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRhcC51bnNoaWZ0KCBjdXIgKTtcblx0XHR9XG5cdFx0Y3VyID0gYjtcblx0XHR3aGlsZSAoIChjdXIgPSBjdXIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRicC51bnNoaWZ0KCBjdXIgKTtcblx0XHR9XG5cblx0XHQvLyBXYWxrIGRvd24gdGhlIHRyZWUgbG9va2luZyBmb3IgYSBkaXNjcmVwYW5jeVxuXHRcdHdoaWxlICggYXBbaV0gPT09IGJwW2ldICkge1xuXHRcdFx0aSsrO1xuXHRcdH1cblxuXHRcdHJldHVybiBpID9cblx0XHRcdC8vIERvIGEgc2libGluZyBjaGVjayBpZiB0aGUgbm9kZXMgaGF2ZSBhIGNvbW1vbiBhbmNlc3RvclxuXHRcdFx0c2libGluZ0NoZWNrKCBhcFtpXSwgYnBbaV0gKSA6XG5cblx0XHRcdC8vIE90aGVyd2lzZSBub2RlcyBpbiBvdXIgZG9jdW1lbnQgc29ydCBmaXJzdFxuXHRcdFx0YXBbaV0gPT09IHByZWZlcnJlZERvYyA/IC0xIDpcblx0XHRcdGJwW2ldID09PSBwcmVmZXJyZWREb2MgPyAxIDpcblx0XHRcdDA7XG5cdH07XG5cblx0cmV0dXJuIGRvYztcbn07XG5cblNpenpsZS5tYXRjaGVzID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1lbnRzICkge1xuXHRyZXR1cm4gU2l6emxlKCBleHByLCBudWxsLCBudWxsLCBlbGVtZW50cyApO1xufTtcblxuU2l6emxlLm1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uKCBlbGVtLCBleHByICkge1xuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0aWYgKCAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkgIT09IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdH1cblxuXHQvLyBNYWtlIHN1cmUgdGhhdCBhdHRyaWJ1dGUgc2VsZWN0b3JzIGFyZSBxdW90ZWRcblx0ZXhwciA9IGV4cHIucmVwbGFjZSggcmF0dHJpYnV0ZVF1b3RlcywgXCI9JyQxJ11cIiApO1xuXG5cdGlmICggc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3IgJiYgZG9jdW1lbnRJc0hUTUwgJiZcblx0XHQoICFyYnVnZ3lNYXRjaGVzIHx8ICFyYnVnZ3lNYXRjaGVzLnRlc3QoIGV4cHIgKSApICYmXG5cdFx0KCAhcmJ1Z2d5UVNBICAgICB8fCAhcmJ1Z2d5UVNBLnRlc3QoIGV4cHIgKSApICkge1xuXG5cdFx0dHJ5IHtcblx0XHRcdHZhciByZXQgPSBtYXRjaGVzLmNhbGwoIGVsZW0sIGV4cHIgKTtcblxuXHRcdFx0Ly8gSUUgOSdzIG1hdGNoZXNTZWxlY3RvciByZXR1cm5zIGZhbHNlIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuXHRcdFx0aWYgKCByZXQgfHwgc3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCB8fFxuXHRcdFx0XHRcdC8vIEFzIHdlbGwsIGRpc2Nvbm5lY3RlZCBub2RlcyBhcmUgc2FpZCB0byBiZSBpbiBhIGRvY3VtZW50XG5cdFx0XHRcdFx0Ly8gZnJhZ21lbnQgaW4gSUUgOVxuXHRcdFx0XHRcdGVsZW0uZG9jdW1lbnQgJiYgZWxlbS5kb2N1bWVudC5ub2RlVHlwZSAhPT0gMTEgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge31cblx0fVxuXG5cdHJldHVybiBTaXp6bGUoIGV4cHIsIGRvY3VtZW50LCBudWxsLCBbIGVsZW0gXSApLmxlbmd0aCA+IDA7XG59O1xuXG5TaXp6bGUuY29udGFpbnMgPSBmdW5jdGlvbiggY29udGV4dCwgZWxlbSApIHtcblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdGlmICggKCBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCApICE9PSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggY29udGV4dCApO1xuXHR9XG5cdHJldHVybiBjb250YWlucyggY29udGV4dCwgZWxlbSApO1xufTtcblxuU2l6emxlLmF0dHIgPSBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXG5cdGlmICggKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSApICE9PSBkb2N1bWVudCApIHtcblx0XHRzZXREb2N1bWVudCggZWxlbSApO1xuXHR9XG5cblx0dmFyIGZuID0gRXhwci5hdHRySGFuZGxlWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSxcblx0XHQvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoalF1ZXJ5ICMxMzgwNylcblx0XHR2YWwgPSBmbiAmJiBoYXNPd24uY2FsbCggRXhwci5hdHRySGFuZGxlLCBuYW1lLnRvTG93ZXJDYXNlKCkgKSA/XG5cdFx0XHRmbiggZWxlbSwgbmFtZSwgIWRvY3VtZW50SXNIVE1MICkgOlxuXHRcdFx0dW5kZWZpbmVkO1xuXG5cdHJldHVybiB2YWwgIT09IHVuZGVmaW5lZCA/XG5cdFx0dmFsIDpcblx0XHRzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWRvY3VtZW50SXNIVE1MID9cblx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICkgOlxuXHRcdFx0KHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShuYW1lKSkgJiYgdmFsLnNwZWNpZmllZCA/XG5cdFx0XHRcdHZhbC52YWx1ZSA6XG5cdFx0XHRcdG51bGw7XG59O1xuXG5TaXp6bGUuZXJyb3IgPSBmdW5jdGlvbiggbXNnICkge1xuXHR0aHJvdyBuZXcgRXJyb3IoIFwiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogXCIgKyBtc2cgKTtcbn07XG5cbi8qKlxuICogRG9jdW1lbnQgc29ydGluZyBhbmQgcmVtb3ZpbmcgZHVwbGljYXRlc1xuICogQHBhcmFtIHtBcnJheUxpa2V9IHJlc3VsdHNcbiAqL1xuU2l6emxlLnVuaXF1ZVNvcnQgPSBmdW5jdGlvbiggcmVzdWx0cyApIHtcblx0dmFyIGVsZW0sXG5cdFx0ZHVwbGljYXRlcyA9IFtdLFxuXHRcdGogPSAwLFxuXHRcdGkgPSAwO1xuXG5cdC8vIFVubGVzcyB3ZSAqa25vdyogd2UgY2FuIGRldGVjdCBkdXBsaWNhdGVzLCBhc3N1bWUgdGhlaXIgcHJlc2VuY2Vcblx0aGFzRHVwbGljYXRlID0gIXN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcztcblx0c29ydElucHV0ID0gIXN1cHBvcnQuc29ydFN0YWJsZSAmJiByZXN1bHRzLnNsaWNlKCAwICk7XG5cdHJlc3VsdHMuc29ydCggc29ydE9yZGVyICk7XG5cblx0aWYgKCBoYXNEdXBsaWNhdGUgKSB7XG5cdFx0d2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XG5cdFx0XHRpZiAoIGVsZW0gPT09IHJlc3VsdHNbIGkgXSApIHtcblx0XHRcdFx0aiA9IGR1cGxpY2F0ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHR3aGlsZSAoIGotLSApIHtcblx0XHRcdHJlc3VsdHMuc3BsaWNlKCBkdXBsaWNhdGVzWyBqIF0sIDEgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBDbGVhciBpbnB1dCBhZnRlciBzb3J0aW5nIHRvIHJlbGVhc2Ugb2JqZWN0c1xuXHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9zaXp6bGUvcHVsbC8yMjVcblx0c29ydElucHV0ID0gbnVsbDtcblxuXHRyZXR1cm4gcmVzdWx0cztcbn07XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgcmV0cmlldmluZyB0aGUgdGV4dCB2YWx1ZSBvZiBhbiBhcnJheSBvZiBET00gbm9kZXNcbiAqIEBwYXJhbSB7QXJyYXl8RWxlbWVudH0gZWxlbVxuICovXG5nZXRUZXh0ID0gU2l6emxlLmdldFRleHQgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0dmFyIG5vZGUsXG5cdFx0cmV0ID0gXCJcIixcblx0XHRpID0gMCxcblx0XHRub2RlVHlwZSA9IGVsZW0ubm9kZVR5cGU7XG5cblx0aWYgKCAhbm9kZVR5cGUgKSB7XG5cdFx0Ly8gSWYgbm8gbm9kZVR5cGUsIHRoaXMgaXMgZXhwZWN0ZWQgdG8gYmUgYW4gYXJyYXlcblx0XHR3aGlsZSAoIChub2RlID0gZWxlbVtpKytdKSApIHtcblx0XHRcdC8vIERvIG5vdCB0cmF2ZXJzZSBjb21tZW50IG5vZGVzXG5cdFx0XHRyZXQgKz0gZ2V0VGV4dCggbm9kZSApO1xuXHRcdH1cblx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDEgfHwgbm9kZVR5cGUgPT09IDkgfHwgbm9kZVR5cGUgPT09IDExICkge1xuXHRcdC8vIFVzZSB0ZXh0Q29udGVudCBmb3IgZWxlbWVudHNcblx0XHQvLyBpbm5lclRleHQgdXNhZ2UgcmVtb3ZlZCBmb3IgY29uc2lzdGVuY3kgb2YgbmV3IGxpbmVzIChqUXVlcnkgIzExMTUzKVxuXHRcdGlmICggdHlwZW9mIGVsZW0udGV4dENvbnRlbnQgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS50ZXh0Q29udGVudDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gVHJhdmVyc2UgaXRzIGNoaWxkcmVuXG5cdFx0XHRmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcblx0XHRcdFx0cmV0ICs9IGdldFRleHQoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAzIHx8IG5vZGVUeXBlID09PSA0ICkge1xuXHRcdHJldHVybiBlbGVtLm5vZGVWYWx1ZTtcblx0fVxuXHQvLyBEbyBub3QgaW5jbHVkZSBjb21tZW50IG9yIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gbm9kZXNcblxuXHRyZXR1cm4gcmV0O1xufTtcblxuRXhwciA9IFNpenpsZS5zZWxlY3RvcnMgPSB7XG5cblx0Ly8gQ2FuIGJlIGFkanVzdGVkIGJ5IHRoZSB1c2VyXG5cdGNhY2hlTGVuZ3RoOiA1MCxcblxuXHRjcmVhdGVQc2V1ZG86IG1hcmtGdW5jdGlvbixcblxuXHRtYXRjaDogbWF0Y2hFeHByLFxuXG5cdGF0dHJIYW5kbGU6IHt9LFxuXG5cdGZpbmQ6IHt9LFxuXG5cdHJlbGF0aXZlOiB7XG5cdFx0XCI+XCI6IHsgZGlyOiBcInBhcmVudE5vZGVcIiwgZmlyc3Q6IHRydWUgfSxcblx0XHRcIiBcIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiIH0sXG5cdFx0XCIrXCI6IHsgZGlyOiBcInByZXZpb3VzU2libGluZ1wiLCBmaXJzdDogdHJ1ZSB9LFxuXHRcdFwiflwiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiB9XG5cdH0sXG5cblx0cHJlRmlsdGVyOiB7XG5cdFx0XCJBVFRSXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdG1hdGNoWzFdID0gbWF0Y2hbMV0ucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuXHRcdFx0Ly8gTW92ZSB0aGUgZ2l2ZW4gdmFsdWUgdG8gbWF0Y2hbM10gd2hldGhlciBxdW90ZWQgb3IgdW5xdW90ZWRcblx0XHRcdG1hdGNoWzNdID0gKCBtYXRjaFszXSB8fCBtYXRjaFs0XSB8fCBtYXRjaFs1XSB8fCBcIlwiICkucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblxuXHRcdFx0aWYgKCBtYXRjaFsyXSA9PT0gXCJ+PVwiICkge1xuXHRcdFx0XHRtYXRjaFszXSA9IFwiIFwiICsgbWF0Y2hbM10gKyBcIiBcIjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG1hdGNoLnNsaWNlKCAwLCA0ICk7XG5cdFx0fSxcblxuXHRcdFwiQ0hJTERcIjogZnVuY3Rpb24oIG1hdGNoICkge1xuXHRcdFx0LyogbWF0Y2hlcyBmcm9tIG1hdGNoRXhwcltcIkNISUxEXCJdXG5cdFx0XHRcdDEgdHlwZSAob25seXxudGh8Li4uKVxuXHRcdFx0XHQyIHdoYXQgKGNoaWxkfG9mLXR5cGUpXG5cdFx0XHRcdDMgYXJndW1lbnQgKGV2ZW58b2RkfFxcZCp8XFxkKm4oWystXVxcZCspP3wuLi4pXG5cdFx0XHRcdDQgeG4tY29tcG9uZW50IG9mIHhuK3kgYXJndW1lbnQgKFsrLV0/XFxkKm58KVxuXHRcdFx0XHQ1IHNpZ24gb2YgeG4tY29tcG9uZW50XG5cdFx0XHRcdDYgeCBvZiB4bi1jb21wb25lbnRcblx0XHRcdFx0NyBzaWduIG9mIHktY29tcG9uZW50XG5cdFx0XHRcdDggeSBvZiB5LWNvbXBvbmVudFxuXHRcdFx0Ki9cblx0XHRcdG1hdGNoWzFdID0gbWF0Y2hbMV0udG9Mb3dlckNhc2UoKTtcblxuXHRcdFx0aWYgKCBtYXRjaFsxXS5zbGljZSggMCwgMyApID09PSBcIm50aFwiICkge1xuXHRcdFx0XHQvLyBudGgtKiByZXF1aXJlcyBhcmd1bWVudFxuXHRcdFx0XHRpZiAoICFtYXRjaFszXSApIHtcblx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIG1hdGNoWzBdICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBudW1lcmljIHggYW5kIHkgcGFyYW1ldGVycyBmb3IgRXhwci5maWx0ZXIuQ0hJTERcblx0XHRcdFx0Ly8gcmVtZW1iZXIgdGhhdCBmYWxzZS90cnVlIGNhc3QgcmVzcGVjdGl2ZWx5IHRvIDAvMVxuXHRcdFx0XHRtYXRjaFs0XSA9ICsoIG1hdGNoWzRdID8gbWF0Y2hbNV0gKyAobWF0Y2hbNl0gfHwgMSkgOiAyICogKCBtYXRjaFszXSA9PT0gXCJldmVuXCIgfHwgbWF0Y2hbM10gPT09IFwib2RkXCIgKSApO1xuXHRcdFx0XHRtYXRjaFs1XSA9ICsoICggbWF0Y2hbN10gKyBtYXRjaFs4XSApIHx8IG1hdGNoWzNdID09PSBcIm9kZFwiICk7XG5cblx0XHRcdC8vIG90aGVyIHR5cGVzIHByb2hpYml0IGFyZ3VtZW50c1xuXHRcdFx0fSBlbHNlIGlmICggbWF0Y2hbM10gKSB7XG5cdFx0XHRcdFNpenpsZS5lcnJvciggbWF0Y2hbMF0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG1hdGNoO1xuXHRcdH0sXG5cblx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHR2YXIgZXhjZXNzLFxuXHRcdFx0XHR1bnF1b3RlZCA9ICFtYXRjaFs2XSAmJiBtYXRjaFsyXTtcblxuXHRcdFx0aWYgKCBtYXRjaEV4cHJbXCJDSElMRFwiXS50ZXN0KCBtYXRjaFswXSApICkge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWNjZXB0IHF1b3RlZCBhcmd1bWVudHMgYXMtaXNcblx0XHRcdGlmICggbWF0Y2hbM10gKSB7XG5cdFx0XHRcdG1hdGNoWzJdID0gbWF0Y2hbNF0gfHwgbWF0Y2hbNV0gfHwgXCJcIjtcblxuXHRcdFx0Ly8gU3RyaXAgZXhjZXNzIGNoYXJhY3RlcnMgZnJvbSB1bnF1b3RlZCBhcmd1bWVudHNcblx0XHRcdH0gZWxzZSBpZiAoIHVucXVvdGVkICYmIHJwc2V1ZG8udGVzdCggdW5xdW90ZWQgKSAmJlxuXHRcdFx0XHQvLyBHZXQgZXhjZXNzIGZyb20gdG9rZW5pemUgKHJlY3Vyc2l2ZWx5KVxuXHRcdFx0XHQoZXhjZXNzID0gdG9rZW5pemUoIHVucXVvdGVkLCB0cnVlICkpICYmXG5cdFx0XHRcdC8vIGFkdmFuY2UgdG8gdGhlIG5leHQgY2xvc2luZyBwYXJlbnRoZXNpc1xuXHRcdFx0XHQoZXhjZXNzID0gdW5xdW90ZWQuaW5kZXhPZiggXCIpXCIsIHVucXVvdGVkLmxlbmd0aCAtIGV4Y2VzcyApIC0gdW5xdW90ZWQubGVuZ3RoKSApIHtcblxuXHRcdFx0XHQvLyBleGNlc3MgaXMgYSBuZWdhdGl2ZSBpbmRleFxuXHRcdFx0XHRtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdFx0bWF0Y2hbMl0gPSB1bnF1b3RlZC5zbGljZSggMCwgZXhjZXNzICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJldHVybiBvbmx5IGNhcHR1cmVzIG5lZWRlZCBieSB0aGUgcHNldWRvIGZpbHRlciBtZXRob2QgKHR5cGUgYW5kIGFyZ3VtZW50KVxuXHRcdFx0cmV0dXJuIG1hdGNoLnNsaWNlKCAwLCAzICk7XG5cdFx0fVxuXHR9LFxuXG5cdGZpbHRlcjoge1xuXG5cdFx0XCJUQUdcIjogZnVuY3Rpb24oIG5vZGVOYW1lU2VsZWN0b3IgKSB7XG5cdFx0XHR2YXIgbm9kZU5hbWUgPSBub2RlTmFtZVNlbGVjdG9yLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBub2RlTmFtZVNlbGVjdG9yID09PSBcIipcIiA/XG5cdFx0XHRcdGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbm9kZU5hbWU7XG5cdFx0XHRcdH07XG5cdFx0fSxcblxuXHRcdFwiQ0xBU1NcIjogZnVuY3Rpb24oIGNsYXNzTmFtZSApIHtcblx0XHRcdHZhciBwYXR0ZXJuID0gY2xhc3NDYWNoZVsgY2xhc3NOYW1lICsgXCIgXCIgXTtcblxuXHRcdFx0cmV0dXJuIHBhdHRlcm4gfHxcblx0XHRcdFx0KHBhdHRlcm4gPSBuZXcgUmVnRXhwKCBcIihefFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgY2xhc3NOYW1lICsgXCIoXCIgKyB3aGl0ZXNwYWNlICsgXCJ8JClcIiApKSAmJlxuXHRcdFx0XHRjbGFzc0NhY2hlKCBjbGFzc05hbWUsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdHJldHVybiBwYXR0ZXJuLnRlc3QoIHR5cGVvZiBlbGVtLmNsYXNzTmFtZSA9PT0gXCJzdHJpbmdcIiAmJiBlbGVtLmNsYXNzTmFtZSB8fCB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgIT09IFwidW5kZWZpbmVkXCIgJiYgZWxlbS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSB8fCBcIlwiICk7XG5cdFx0XHRcdH0pO1xuXHRcdH0sXG5cblx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG5hbWUsIG9wZXJhdG9yLCBjaGVjayApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIHJlc3VsdCA9IFNpenpsZS5hdHRyKCBlbGVtLCBuYW1lICk7XG5cblx0XHRcdFx0aWYgKCByZXN1bHQgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXR1cm4gb3BlcmF0b3IgPT09IFwiIT1cIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoICFvcGVyYXRvciApIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJlc3VsdCArPSBcIlwiO1xuXG5cdFx0XHRcdHJldHVybiBvcGVyYXRvciA9PT0gXCI9XCIgPyByZXN1bHQgPT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIhPVwiID8gcmVzdWx0ICE9PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiXj1cIiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID09PSAwIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIqPVwiID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiJD1cIiA/IGNoZWNrICYmIHJlc3VsdC5zbGljZSggLWNoZWNrLmxlbmd0aCApID09PSBjaGVjayA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifj1cIiA/ICggXCIgXCIgKyByZXN1bHQucmVwbGFjZSggcndoaXRlc3BhY2UsIFwiIFwiICkgKyBcIiBcIiApLmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifD1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgfHwgcmVzdWx0LnNsaWNlKCAwLCBjaGVjay5sZW5ndGggKyAxICkgPT09IGNoZWNrICsgXCItXCIgOlxuXHRcdFx0XHRcdGZhbHNlO1xuXHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0XCJDSElMRFwiOiBmdW5jdGlvbiggdHlwZSwgd2hhdCwgYXJndW1lbnQsIGZpcnN0LCBsYXN0ICkge1xuXHRcdFx0dmFyIHNpbXBsZSA9IHR5cGUuc2xpY2UoIDAsIDMgKSAhPT0gXCJudGhcIixcblx0XHRcdFx0Zm9yd2FyZCA9IHR5cGUuc2xpY2UoIC00ICkgIT09IFwibGFzdFwiLFxuXHRcdFx0XHRvZlR5cGUgPSB3aGF0ID09PSBcIm9mLXR5cGVcIjtcblxuXHRcdFx0cmV0dXJuIGZpcnN0ID09PSAxICYmIGxhc3QgPT09IDAgP1xuXG5cdFx0XHRcdC8vIFNob3J0Y3V0IGZvciA6bnRoLSoobilcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuICEhZWxlbS5wYXJlbnROb2RlO1xuXHRcdFx0XHR9IDpcblxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdHZhciBjYWNoZSwgb3V0ZXJDYWNoZSwgbm9kZSwgZGlmZiwgbm9kZUluZGV4LCBzdGFydCxcblx0XHRcdFx0XHRcdGRpciA9IHNpbXBsZSAhPT0gZm9yd2FyZCA/IFwibmV4dFNpYmxpbmdcIiA6IFwicHJldmlvdXNTaWJsaW5nXCIsXG5cdFx0XHRcdFx0XHRwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGUsXG5cdFx0XHRcdFx0XHRuYW1lID0gb2ZUeXBlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcblx0XHRcdFx0XHRcdHVzZUNhY2hlID0gIXhtbCAmJiAhb2ZUeXBlO1xuXG5cdFx0XHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cblx0XHRcdFx0XHRcdC8vIDooZmlyc3R8bGFzdHxvbmx5KS0oY2hpbGR8b2YtdHlwZSlcblx0XHRcdFx0XHRcdGlmICggc2ltcGxlICkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoIGRpciApIHtcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoIChub2RlID0gbm9kZVsgZGlyIF0pICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBvZlR5cGUgPyBub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgOiBub2RlLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdC8vIFJldmVyc2UgZGlyZWN0aW9uIGZvciA6b25seS0qIChpZiB3ZSBoYXZlbid0IHlldCBkb25lIHNvKVxuXHRcdFx0XHRcdFx0XHRcdHN0YXJ0ID0gZGlyID0gdHlwZSA9PT0gXCJvbmx5XCIgJiYgIXN0YXJ0ICYmIFwibmV4dFNpYmxpbmdcIjtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0c3RhcnQgPSBbIGZvcndhcmQgPyBwYXJlbnQuZmlyc3RDaGlsZCA6IHBhcmVudC5sYXN0Q2hpbGQgXTtcblxuXHRcdFx0XHRcdFx0Ly8gbm9uLXhtbCA6bnRoLWNoaWxkKC4uLikgc3RvcmVzIGNhY2hlIGRhdGEgb24gYHBhcmVudGBcblx0XHRcdFx0XHRcdGlmICggZm9yd2FyZCAmJiB1c2VDYWNoZSApIHtcblx0XHRcdFx0XHRcdFx0Ly8gU2VlayBgZWxlbWAgZnJvbSBhIHByZXZpb3VzbHktY2FjaGVkIGluZGV4XG5cdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBwYXJlbnRbIGV4cGFuZG8gXSB8fCAocGFyZW50WyBleHBhbmRvIF0gPSB7fSk7XG5cdFx0XHRcdFx0XHRcdGNhY2hlID0gb3V0ZXJDYWNoZVsgdHlwZSBdIHx8IFtdO1xuXHRcdFx0XHRcdFx0XHRub2RlSW5kZXggPSBjYWNoZVswXSA9PT0gZGlycnVucyAmJiBjYWNoZVsxXTtcblx0XHRcdFx0XHRcdFx0ZGlmZiA9IGNhY2hlWzBdID09PSBkaXJydW5zICYmIGNhY2hlWzJdO1xuXHRcdFx0XHRcdFx0XHRub2RlID0gbm9kZUluZGV4ICYmIHBhcmVudC5jaGlsZE5vZGVzWyBub2RlSW5kZXggXTtcblxuXHRcdFx0XHRcdFx0XHR3aGlsZSAoIChub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fFxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gRmFsbGJhY2sgdG8gc2Vla2luZyBgZWxlbWAgZnJvbSB0aGUgc3RhcnRcblx0XHRcdFx0XHRcdFx0XHQoZGlmZiA9IG5vZGVJbmRleCA9IDApIHx8IHN0YXJ0LnBvcCgpKSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFdoZW4gZm91bmQsIGNhY2hlIGluZGV4ZXMgb24gYHBhcmVudGAgYW5kIGJyZWFrXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBub2RlLm5vZGVUeXBlID09PSAxICYmICsrZGlmZiAmJiBub2RlID09PSBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZVsgdHlwZSBdID0gWyBkaXJydW5zLCBub2RlSW5kZXgsIGRpZmYgXTtcblx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvLyBVc2UgcHJldmlvdXNseS1jYWNoZWQgZWxlbWVudCBpbmRleCBpZiBhdmFpbGFibGVcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIHVzZUNhY2hlICYmIChjYWNoZSA9IChlbGVtWyBleHBhbmRvIF0gfHwgKGVsZW1bIGV4cGFuZG8gXSA9IHt9KSlbIHR5cGUgXSkgJiYgY2FjaGVbMF0gPT09IGRpcnJ1bnMgKSB7XG5cdFx0XHRcdFx0XHRcdGRpZmYgPSBjYWNoZVsxXTtcblxuXHRcdFx0XHRcdFx0Ly8geG1sIDpudGgtY2hpbGQoLi4uKSBvciA6bnRoLWxhc3QtY2hpbGQoLi4uKSBvciA6bnRoKC1sYXN0KT8tb2YtdHlwZSguLi4pXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHQvLyBVc2UgdGhlIHNhbWUgbG9vcCBhcyBhYm92ZSB0byBzZWVrIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxuXHRcdFx0XHRcdFx0XHR3aGlsZSAoIChub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdChkaWZmID0gbm9kZUluZGV4ID0gMCkgfHwgc3RhcnQucG9wKCkpICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCAoIG9mVHlwZSA/IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6IG5vZGUubm9kZVR5cGUgPT09IDEgKSAmJiArK2RpZmYgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBDYWNoZSB0aGUgaW5kZXggb2YgZWFjaCBlbmNvdW50ZXJlZCBlbGVtZW50XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHVzZUNhY2hlICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHQobm9kZVsgZXhwYW5kbyBdIHx8IChub2RlWyBleHBhbmRvIF0gPSB7fSkpWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIGRpZmYgXTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBub2RlID09PSBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly8gSW5jb3Jwb3JhdGUgdGhlIG9mZnNldCwgdGhlbiBjaGVjayBhZ2FpbnN0IGN5Y2xlIHNpemVcblx0XHRcdFx0XHRcdGRpZmYgLT0gbGFzdDtcblx0XHRcdFx0XHRcdHJldHVybiBkaWZmID09PSBmaXJzdCB8fCAoIGRpZmYgJSBmaXJzdCA9PT0gMCAmJiBkaWZmIC8gZmlyc3QgPj0gMCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0XCJQU0VVRE9cIjogZnVuY3Rpb24oIHBzZXVkbywgYXJndW1lbnQgKSB7XG5cdFx0XHQvLyBwc2V1ZG8tY2xhc3MgbmFtZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmVcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jcHNldWRvLWNsYXNzZXNcblx0XHRcdC8vIFByaW9yaXRpemUgYnkgY2FzZSBzZW5zaXRpdml0eSBpbiBjYXNlIGN1c3RvbSBwc2V1ZG9zIGFyZSBhZGRlZCB3aXRoIHVwcGVyY2FzZSBsZXR0ZXJzXG5cdFx0XHQvLyBSZW1lbWJlciB0aGF0IHNldEZpbHRlcnMgaW5oZXJpdHMgZnJvbSBwc2V1ZG9zXG5cdFx0XHR2YXIgYXJncyxcblx0XHRcdFx0Zm4gPSBFeHByLnBzZXVkb3NbIHBzZXVkbyBdIHx8IEV4cHIuc2V0RmlsdGVyc1sgcHNldWRvLnRvTG93ZXJDYXNlKCkgXSB8fFxuXHRcdFx0XHRcdFNpenpsZS5lcnJvciggXCJ1bnN1cHBvcnRlZCBwc2V1ZG86IFwiICsgcHNldWRvICk7XG5cblx0XHRcdC8vIFRoZSB1c2VyIG1heSB1c2UgY3JlYXRlUHNldWRvIHRvIGluZGljYXRlIHRoYXRcblx0XHRcdC8vIGFyZ3VtZW50cyBhcmUgbmVlZGVkIHRvIGNyZWF0ZSB0aGUgZmlsdGVyIGZ1bmN0aW9uXG5cdFx0XHQvLyBqdXN0IGFzIFNpenpsZSBkb2VzXG5cdFx0XHRpZiAoIGZuWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRcdHJldHVybiBmbiggYXJndW1lbnQgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQnV0IG1haW50YWluIHN1cHBvcnQgZm9yIG9sZCBzaWduYXR1cmVzXG5cdFx0XHRpZiAoIGZuLmxlbmd0aCA+IDEgKSB7XG5cdFx0XHRcdGFyZ3MgPSBbIHBzZXVkbywgcHNldWRvLCBcIlwiLCBhcmd1bWVudCBdO1xuXHRcdFx0XHRyZXR1cm4gRXhwci5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KCBwc2V1ZG8udG9Mb3dlckNhc2UoKSApID9cblx0XHRcdFx0XHRtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMgKSB7XG5cdFx0XHRcdFx0XHR2YXIgaWR4LFxuXHRcdFx0XHRcdFx0XHRtYXRjaGVkID0gZm4oIHNlZWQsIGFyZ3VtZW50ICksXG5cdFx0XHRcdFx0XHRcdGkgPSBtYXRjaGVkLmxlbmd0aDtcblx0XHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0XHRpZHggPSBpbmRleE9mKCBzZWVkLCBtYXRjaGVkW2ldICk7XG5cdFx0XHRcdFx0XHRcdHNlZWRbIGlkeCBdID0gISggbWF0Y2hlc1sgaWR4IF0gPSBtYXRjaGVkW2ldICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSkgOlxuXHRcdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZuKCBlbGVtLCAwLCBhcmdzICk7XG5cdFx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGZuO1xuXHRcdH1cblx0fSxcblxuXHRwc2V1ZG9zOiB7XG5cdFx0Ly8gUG90ZW50aWFsbHkgY29tcGxleCBwc2V1ZG9zXG5cdFx0XCJub3RcIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdC8vIFRyaW0gdGhlIHNlbGVjdG9yIHBhc3NlZCB0byBjb21waWxlXG5cdFx0XHQvLyB0byBhdm9pZCB0cmVhdGluZyBsZWFkaW5nIGFuZCB0cmFpbGluZ1xuXHRcdFx0Ly8gc3BhY2VzIGFzIGNvbWJpbmF0b3JzXG5cdFx0XHR2YXIgaW5wdXQgPSBbXSxcblx0XHRcdFx0cmVzdWx0cyA9IFtdLFxuXHRcdFx0XHRtYXRjaGVyID0gY29tcGlsZSggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sIFwiJDFcIiApICk7XG5cblx0XHRcdHJldHVybiBtYXRjaGVyWyBleHBhbmRvIF0gP1xuXHRcdFx0XHRtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMsIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdFx0XHR2YXIgZWxlbSxcblx0XHRcdFx0XHRcdHVubWF0Y2hlZCA9IG1hdGNoZXIoIHNlZWQsIG51bGwsIHhtbCwgW10gKSxcblx0XHRcdFx0XHRcdGkgPSBzZWVkLmxlbmd0aDtcblxuXHRcdFx0XHRcdC8vIE1hdGNoIGVsZW1lbnRzIHVubWF0Y2hlZCBieSBgbWF0Y2hlcmBcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdGlmICggKGVsZW0gPSB1bm1hdGNoZWRbaV0pICkge1xuXHRcdFx0XHRcdFx0XHRzZWVkW2ldID0gIShtYXRjaGVzW2ldID0gZWxlbSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KSA6XG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0aW5wdXRbMF0gPSBlbGVtO1xuXHRcdFx0XHRcdG1hdGNoZXIoIGlucHV0LCBudWxsLCB4bWwsIHJlc3VsdHMgKTtcblx0XHRcdFx0XHQvLyBEb24ndCBrZWVwIHRoZSBlbGVtZW50IChpc3N1ZSAjMjk5KVxuXHRcdFx0XHRcdGlucHV0WzBdID0gbnVsbDtcblx0XHRcdFx0XHRyZXR1cm4gIXJlc3VsdHMucG9wKCk7XG5cdFx0XHRcdH07XG5cdFx0fSksXG5cblx0XHRcImhhc1wiOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gU2l6emxlKCBzZWxlY3RvciwgZWxlbSApLmxlbmd0aCA+IDA7XG5cdFx0XHR9O1xuXHRcdH0pLFxuXG5cdFx0XCJjb250YWluc1wiOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHRleHQgKSB7XG5cdFx0XHR0ZXh0ID0gdGV4dC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHRyZXR1cm4gKCBlbGVtLnRleHRDb250ZW50IHx8IGVsZW0uaW5uZXJUZXh0IHx8IGdldFRleHQoIGVsZW0gKSApLmluZGV4T2YoIHRleHQgKSA+IC0xO1xuXHRcdFx0fTtcblx0XHR9KSxcblxuXHRcdC8vIFwiV2hldGhlciBhbiBlbGVtZW50IGlzIHJlcHJlc2VudGVkIGJ5IGEgOmxhbmcoKSBzZWxlY3RvclxuXHRcdC8vIGlzIGJhc2VkIHNvbGVseSBvbiB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlXG5cdFx0Ly8gYmVpbmcgZXF1YWwgdG8gdGhlIGlkZW50aWZpZXIgQyxcblx0XHQvLyBvciBiZWdpbm5pbmcgd2l0aCB0aGUgaWRlbnRpZmllciBDIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IFwiLVwiLlxuXHRcdC8vIFRoZSBtYXRjaGluZyBvZiBDIGFnYWluc3QgdGhlIGVsZW1lbnQncyBsYW5ndWFnZSB2YWx1ZSBpcyBwZXJmb3JtZWQgY2FzZS1pbnNlbnNpdGl2ZWx5LlxuXHRcdC8vIFRoZSBpZGVudGlmaWVyIEMgZG9lcyBub3QgaGF2ZSB0byBiZSBhIHZhbGlkIGxhbmd1YWdlIG5hbWUuXCJcblx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2xhbmctcHNldWRvXG5cdFx0XCJsYW5nXCI6IG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIGxhbmcgKSB7XG5cdFx0XHQvLyBsYW5nIHZhbHVlIG11c3QgYmUgYSB2YWxpZCBpZGVudGlmaWVyXG5cdFx0XHRpZiAoICFyaWRlbnRpZmllci50ZXN0KGxhbmcgfHwgXCJcIikgKSB7XG5cdFx0XHRcdFNpenpsZS5lcnJvciggXCJ1bnN1cHBvcnRlZCBsYW5nOiBcIiArIGxhbmcgKTtcblx0XHRcdH1cblx0XHRcdGxhbmcgPSBsYW5nLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIGVsZW1MYW5nO1xuXHRcdFx0XHRkbyB7XG5cdFx0XHRcdFx0aWYgKCAoZWxlbUxhbmcgPSBkb2N1bWVudElzSFRNTCA/XG5cdFx0XHRcdFx0XHRlbGVtLmxhbmcgOlxuXHRcdFx0XHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGUoXCJ4bWw6bGFuZ1wiKSB8fCBlbGVtLmdldEF0dHJpYnV0ZShcImxhbmdcIikpICkge1xuXG5cdFx0XHRcdFx0XHRlbGVtTGFuZyA9IGVsZW1MYW5nLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbUxhbmcgPT09IGxhbmcgfHwgZWxlbUxhbmcuaW5kZXhPZiggbGFuZyArIFwiLVwiICkgPT09IDA7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IHdoaWxlICggKGVsZW0gPSBlbGVtLnBhcmVudE5vZGUpICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fTtcblx0XHR9KSxcblxuXHRcdC8vIE1pc2NlbGxhbmVvdXNcblx0XHRcInRhcmdldFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uICYmIHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xuXHRcdFx0cmV0dXJuIGhhc2ggJiYgaGFzaC5zbGljZSggMSApID09PSBlbGVtLmlkO1xuXHRcdH0sXG5cblx0XHRcInJvb3RcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbSA9PT0gZG9jRWxlbTtcblx0XHR9LFxuXG5cdFx0XCJmb2N1c1wiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmICghZG9jdW1lbnQuaGFzRm9jdXMgfHwgZG9jdW1lbnQuaGFzRm9jdXMoKSkgJiYgISEoZWxlbS50eXBlIHx8IGVsZW0uaHJlZiB8fCB+ZWxlbS50YWJJbmRleCk7XG5cdFx0fSxcblxuXHRcdC8vIEJvb2xlYW4gcHJvcGVydGllc1xuXHRcdFwiZW5hYmxlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSBmYWxzZTtcblx0XHR9LFxuXG5cdFx0XCJkaXNhYmxlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSB0cnVlO1xuXHRcdH0sXG5cblx0XHRcImNoZWNrZWRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHQvLyBJbiBDU1MzLCA6Y2hlY2tlZCBzaG91bGQgcmV0dXJuIGJvdGggY2hlY2tlZCBhbmQgc2VsZWN0ZWQgZWxlbWVudHNcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXG5cdFx0XHR2YXIgbm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gKG5vZGVOYW1lID09PSBcImlucHV0XCIgJiYgISFlbGVtLmNoZWNrZWQpIHx8IChub2RlTmFtZSA9PT0gXCJvcHRpb25cIiAmJiAhIWVsZW0uc2VsZWN0ZWQpO1xuXHRcdH0sXG5cblx0XHRcInNlbGVjdGVkXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0Ly8gQWNjZXNzaW5nIHRoaXMgcHJvcGVydHkgbWFrZXMgc2VsZWN0ZWQtYnktZGVmYXVsdFxuXHRcdFx0Ly8gb3B0aW9ucyBpbiBTYWZhcmkgd29yayBwcm9wZXJseVxuXHRcdFx0aWYgKCBlbGVtLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdGVsZW0ucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZWxlbS5zZWxlY3RlZCA9PT0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0Ly8gQ29udGVudHNcblx0XHRcImVtcHR5XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNlbXB0eS1wc2V1ZG9cblx0XHRcdC8vIDplbXB0eSBpcyBuZWdhdGVkIGJ5IGVsZW1lbnQgKDEpIG9yIGNvbnRlbnQgbm9kZXMgKHRleHQ6IDM7IGNkYXRhOiA0OyBlbnRpdHkgcmVmOiA1KSxcblx0XHRcdC8vICAgYnV0IG5vdCBieSBvdGhlcnMgKGNvbW1lbnQ6IDg7IHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb246IDc7IGV0Yy4pXG5cdFx0XHQvLyBub2RlVHlwZSA8IDYgd29ya3MgYmVjYXVzZSBhdHRyaWJ1dGVzICgyKSBkbyBub3QgYXBwZWFyIGFzIGNoaWxkcmVuXG5cdFx0XHRmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlIDwgNiApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0sXG5cblx0XHRcInBhcmVudFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiAhRXhwci5wc2V1ZG9zW1wiZW1wdHlcIl0oIGVsZW0gKTtcblx0XHR9LFxuXG5cdFx0Ly8gRWxlbWVudC9pbnB1dCB0eXBlc1xuXHRcdFwiaGVhZGVyXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIHJoZWFkZXIudGVzdCggZWxlbS5ub2RlTmFtZSApO1xuXHRcdH0sXG5cblx0XHRcImlucHV0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIHJpbnB1dHMudGVzdCggZWxlbS5ub2RlTmFtZSApO1xuXHRcdH0sXG5cblx0XHRcImJ1dHRvblwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIG5hbWUgPT09IFwiaW5wdXRcIiAmJiBlbGVtLnR5cGUgPT09IFwiYnV0dG9uXCIgfHwgbmFtZSA9PT0gXCJidXR0b25cIjtcblx0XHR9LFxuXG5cdFx0XCJ0ZXh0XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0dmFyIGF0dHI7XG5cdFx0XHRyZXR1cm4gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCIgJiZcblx0XHRcdFx0ZWxlbS50eXBlID09PSBcInRleHRcIiAmJlxuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFPDhcblx0XHRcdFx0Ly8gTmV3IEhUTUw1IGF0dHJpYnV0ZSB2YWx1ZXMgKGUuZy4sIFwic2VhcmNoXCIpIGFwcGVhciB3aXRoIGVsZW0udHlwZSA9PT0gXCJ0ZXh0XCJcblx0XHRcdFx0KCAoYXR0ciA9IGVsZW0uZ2V0QXR0cmlidXRlKFwidHlwZVwiKSkgPT0gbnVsbCB8fCBhdHRyLnRvTG93ZXJDYXNlKCkgPT09IFwidGV4dFwiICk7XG5cdFx0fSxcblxuXHRcdC8vIFBvc2l0aW9uLWluLWNvbGxlY3Rpb25cblx0XHRcImZpcnN0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gWyAwIF07XG5cdFx0fSksXG5cblx0XHRcImxhc3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG5cdFx0XHRyZXR1cm4gWyBsZW5ndGggLSAxIF07XG5cdFx0fSksXG5cblx0XHRcImVxXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdHJldHVybiBbIGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQgXTtcblx0XHR9KSxcblxuXHRcdFwiZXZlblwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHZhciBpID0gMDtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9KSxcblxuXHRcdFwib2RkXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0dmFyIGkgPSAxO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpICs9IDIgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0pLFxuXG5cdFx0XCJsdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7XG5cdFx0XHR2YXIgaSA9IGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQ7XG5cdFx0XHRmb3IgKCA7IC0taSA+PSAwOyApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSksXG5cblx0XHRcImd0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcblx0XHRcdHZhciBpID0gYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudDtcblx0XHRcdGZvciAoIDsgKytpIDwgbGVuZ3RoOyApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSlcblx0fVxufTtcblxuRXhwci5wc2V1ZG9zW1wibnRoXCJdID0gRXhwci5wc2V1ZG9zW1wiZXFcIl07XG5cbi8vIEFkZCBidXR0b24vaW5wdXQgdHlwZSBwc2V1ZG9zXG5mb3IgKCBpIGluIHsgcmFkaW86IHRydWUsIGNoZWNrYm94OiB0cnVlLCBmaWxlOiB0cnVlLCBwYXNzd29yZDogdHJ1ZSwgaW1hZ2U6IHRydWUgfSApIHtcblx0RXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVJbnB1dFBzZXVkbyggaSApO1xufVxuZm9yICggaSBpbiB7IHN1Ym1pdDogdHJ1ZSwgcmVzZXQ6IHRydWUgfSApIHtcblx0RXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVCdXR0b25Qc2V1ZG8oIGkgKTtcbn1cblxuLy8gRWFzeSBBUEkgZm9yIGNyZWF0aW5nIG5ldyBzZXRGaWx0ZXJzXG5mdW5jdGlvbiBzZXRGaWx0ZXJzKCkge31cbnNldEZpbHRlcnMucHJvdG90eXBlID0gRXhwci5maWx0ZXJzID0gRXhwci5wc2V1ZG9zO1xuRXhwci5zZXRGaWx0ZXJzID0gbmV3IHNldEZpbHRlcnMoKTtcblxudG9rZW5pemUgPSBTaXp6bGUudG9rZW5pemUgPSBmdW5jdGlvbiggc2VsZWN0b3IsIHBhcnNlT25seSApIHtcblx0dmFyIG1hdGNoZWQsIG1hdGNoLCB0b2tlbnMsIHR5cGUsXG5cdFx0c29GYXIsIGdyb3VwcywgcHJlRmlsdGVycyxcblx0XHRjYWNoZWQgPSB0b2tlbkNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF07XG5cblx0aWYgKCBjYWNoZWQgKSB7XG5cdFx0cmV0dXJuIHBhcnNlT25seSA/IDAgOiBjYWNoZWQuc2xpY2UoIDAgKTtcblx0fVxuXG5cdHNvRmFyID0gc2VsZWN0b3I7XG5cdGdyb3VwcyA9IFtdO1xuXHRwcmVGaWx0ZXJzID0gRXhwci5wcmVGaWx0ZXI7XG5cblx0d2hpbGUgKCBzb0ZhciApIHtcblxuXHRcdC8vIENvbW1hIGFuZCBmaXJzdCBydW5cblx0XHRpZiAoICFtYXRjaGVkIHx8IChtYXRjaCA9IHJjb21tYS5leGVjKCBzb0ZhciApKSApIHtcblx0XHRcdGlmICggbWF0Y2ggKSB7XG5cdFx0XHRcdC8vIERvbid0IGNvbnN1bWUgdHJhaWxpbmcgY29tbWFzIGFzIHZhbGlkXG5cdFx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoWzBdLmxlbmd0aCApIHx8IHNvRmFyO1xuXHRcdFx0fVxuXHRcdFx0Z3JvdXBzLnB1c2goICh0b2tlbnMgPSBbXSkgKTtcblx0XHR9XG5cblx0XHRtYXRjaGVkID0gZmFsc2U7XG5cblx0XHQvLyBDb21iaW5hdG9yc1xuXHRcdGlmICggKG1hdGNoID0gcmNvbWJpbmF0b3JzLmV4ZWMoIHNvRmFyICkpICkge1xuXHRcdFx0bWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XG5cdFx0XHR0b2tlbnMucHVzaCh7XG5cdFx0XHRcdHZhbHVlOiBtYXRjaGVkLFxuXHRcdFx0XHQvLyBDYXN0IGRlc2NlbmRhbnQgY29tYmluYXRvcnMgdG8gc3BhY2Vcblx0XHRcdFx0dHlwZTogbWF0Y2hbMF0ucmVwbGFjZSggcnRyaW0sIFwiIFwiIClcblx0XHRcdH0pO1xuXHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hlZC5sZW5ndGggKTtcblx0XHR9XG5cblx0XHQvLyBGaWx0ZXJzXG5cdFx0Zm9yICggdHlwZSBpbiBFeHByLmZpbHRlciApIHtcblx0XHRcdGlmICggKG1hdGNoID0gbWF0Y2hFeHByWyB0eXBlIF0uZXhlYyggc29GYXIgKSkgJiYgKCFwcmVGaWx0ZXJzWyB0eXBlIF0gfHxcblx0XHRcdFx0KG1hdGNoID0gcHJlRmlsdGVyc1sgdHlwZSBdKCBtYXRjaCApKSkgKSB7XG5cdFx0XHRcdG1hdGNoZWQgPSBtYXRjaC5zaGlmdCgpO1xuXHRcdFx0XHR0b2tlbnMucHVzaCh7XG5cdFx0XHRcdFx0dmFsdWU6IG1hdGNoZWQsXG5cdFx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0XHRtYXRjaGVzOiBtYXRjaFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hlZC5sZW5ndGggKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoICFtYXRjaGVkICkge1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSBsZW5ndGggb2YgdGhlIGludmFsaWQgZXhjZXNzXG5cdC8vIGlmIHdlJ3JlIGp1c3QgcGFyc2luZ1xuXHQvLyBPdGhlcndpc2UsIHRocm93IGFuIGVycm9yIG9yIHJldHVybiB0b2tlbnNcblx0cmV0dXJuIHBhcnNlT25seSA/XG5cdFx0c29GYXIubGVuZ3RoIDpcblx0XHRzb0ZhciA/XG5cdFx0XHRTaXp6bGUuZXJyb3IoIHNlbGVjdG9yICkgOlxuXHRcdFx0Ly8gQ2FjaGUgdGhlIHRva2Vuc1xuXHRcdFx0dG9rZW5DYWNoZSggc2VsZWN0b3IsIGdyb3VwcyApLnNsaWNlKCAwICk7XG59O1xuXG5mdW5jdGlvbiB0b1NlbGVjdG9yKCB0b2tlbnMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSB0b2tlbnMubGVuZ3RoLFxuXHRcdHNlbGVjdG9yID0gXCJcIjtcblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0c2VsZWN0b3IgKz0gdG9rZW5zW2ldLnZhbHVlO1xuXHR9XG5cdHJldHVybiBzZWxlY3Rvcjtcbn1cblxuZnVuY3Rpb24gYWRkQ29tYmluYXRvciggbWF0Y2hlciwgY29tYmluYXRvciwgYmFzZSApIHtcblx0dmFyIGRpciA9IGNvbWJpbmF0b3IuZGlyLFxuXHRcdGNoZWNrTm9uRWxlbWVudHMgPSBiYXNlICYmIGRpciA9PT0gXCJwYXJlbnROb2RlXCIsXG5cdFx0ZG9uZU5hbWUgPSBkb25lKys7XG5cblx0cmV0dXJuIGNvbWJpbmF0b3IuZmlyc3QgP1xuXHRcdC8vIENoZWNrIGFnYWluc3QgY2xvc2VzdCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR3aGlsZSAoIChlbGVtID0gZWxlbVsgZGlyIF0pICkge1xuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRyZXR1cm4gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IDpcblxuXHRcdC8vIENoZWNrIGFnYWluc3QgYWxsIGFuY2VzdG9yL3ByZWNlZGluZyBlbGVtZW50c1xuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR2YXIgb2xkQ2FjaGUsIG91dGVyQ2FjaGUsXG5cdFx0XHRcdG5ld0NhY2hlID0gWyBkaXJydW5zLCBkb25lTmFtZSBdO1xuXG5cdFx0XHQvLyBXZSBjYW4ndCBzZXQgYXJiaXRyYXJ5IGRhdGEgb24gWE1MIG5vZGVzLCBzbyB0aGV5IGRvbid0IGJlbmVmaXQgZnJvbSBkaXIgY2FjaGluZ1xuXHRcdFx0aWYgKCB4bWwgKSB7XG5cdFx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XG5cdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gZWxlbVsgZXhwYW5kbyBdIHx8IChlbGVtWyBleHBhbmRvIF0gPSB7fSk7XG5cdFx0XHRcdFx0XHRpZiAoIChvbGRDYWNoZSA9IG91dGVyQ2FjaGVbIGRpciBdKSAmJlxuXHRcdFx0XHRcdFx0XHRvbGRDYWNoZVsgMCBdID09PSBkaXJydW5zICYmIG9sZENhY2hlWyAxIF0gPT09IGRvbmVOYW1lICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIEFzc2lnbiB0byBuZXdDYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXG5cdFx0XHRcdFx0XHRcdHJldHVybiAobmV3Q2FjaGVbIDIgXSA9IG9sZENhY2hlWyAyIF0pO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gUmV1c2UgbmV3Y2FjaGUgc28gcmVzdWx0cyBiYWNrLXByb3BhZ2F0ZSB0byBwcmV2aW91cyBlbGVtZW50c1xuXHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlWyBkaXIgXSA9IG5ld0NhY2hlO1xuXG5cdFx0XHRcdFx0XHRcdC8vIEEgbWF0Y2ggbWVhbnMgd2UncmUgZG9uZTsgYSBmYWlsIG1lYW5zIHdlIGhhdmUgdG8ga2VlcCBjaGVja2luZ1xuXHRcdFx0XHRcdFx0XHRpZiAoIChuZXdDYWNoZVsgMiBdID0gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkpICkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcbn1cblxuZnVuY3Rpb24gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICkge1xuXHRyZXR1cm4gbWF0Y2hlcnMubGVuZ3RoID4gMSA/XG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcblx0XHRcdHZhciBpID0gbWF0Y2hlcnMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggIW1hdGNoZXJzW2ldKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gOlxuXHRcdG1hdGNoZXJzWzBdO1xufVxuXG5mdW5jdGlvbiBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciwgY29udGV4dHMsIHJlc3VsdHMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsZW4gPSBjb250ZXh0cy5sZW5ndGg7XG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHRzW2ldLCByZXN1bHRzICk7XG5cdH1cblx0cmV0dXJuIHJlc3VsdHM7XG59XG5cbmZ1bmN0aW9uIGNvbmRlbnNlKCB1bm1hdGNoZWQsIG1hcCwgZmlsdGVyLCBjb250ZXh0LCB4bWwgKSB7XG5cdHZhciBlbGVtLFxuXHRcdG5ld1VubWF0Y2hlZCA9IFtdLFxuXHRcdGkgPSAwLFxuXHRcdGxlbiA9IHVubWF0Y2hlZC5sZW5ndGgsXG5cdFx0bWFwcGVkID0gbWFwICE9IG51bGw7XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAoZWxlbSA9IHVubWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRpZiAoICFmaWx0ZXIgfHwgZmlsdGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcblx0XHRcdFx0bmV3VW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0aWYgKCBtYXBwZWQgKSB7XG5cdFx0XHRcdFx0bWFwLnB1c2goIGkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBuZXdVbm1hdGNoZWQ7XG59XG5cbmZ1bmN0aW9uIHNldE1hdGNoZXIoIHByZUZpbHRlciwgc2VsZWN0b3IsIG1hdGNoZXIsIHBvc3RGaWx0ZXIsIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApIHtcblx0aWYgKCBwb3N0RmlsdGVyICYmICFwb3N0RmlsdGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0cG9zdEZpbHRlciA9IHNldE1hdGNoZXIoIHBvc3RGaWx0ZXIgKTtcblx0fVxuXHRpZiAoIHBvc3RGaW5kZXIgJiYgIXBvc3RGaW5kZXJbIGV4cGFuZG8gXSApIHtcblx0XHRwb3N0RmluZGVyID0gc2V0TWF0Y2hlciggcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICk7XG5cdH1cblx0cmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgcmVzdWx0cywgY29udGV4dCwgeG1sICkge1xuXHRcdHZhciB0ZW1wLCBpLCBlbGVtLFxuXHRcdFx0cHJlTWFwID0gW10sXG5cdFx0XHRwb3N0TWFwID0gW10sXG5cdFx0XHRwcmVleGlzdGluZyA9IHJlc3VsdHMubGVuZ3RoLFxuXG5cdFx0XHQvLyBHZXQgaW5pdGlhbCBlbGVtZW50cyBmcm9tIHNlZWQgb3IgY29udGV4dFxuXHRcdFx0ZWxlbXMgPSBzZWVkIHx8IG11bHRpcGxlQ29udGV4dHMoIHNlbGVjdG9yIHx8IFwiKlwiLCBjb250ZXh0Lm5vZGVUeXBlID8gWyBjb250ZXh0IF0gOiBjb250ZXh0LCBbXSApLFxuXG5cdFx0XHQvLyBQcmVmaWx0ZXIgdG8gZ2V0IG1hdGNoZXIgaW5wdXQsIHByZXNlcnZpbmcgYSBtYXAgZm9yIHNlZWQtcmVzdWx0cyBzeW5jaHJvbml6YXRpb25cblx0XHRcdG1hdGNoZXJJbiA9IHByZUZpbHRlciAmJiAoIHNlZWQgfHwgIXNlbGVjdG9yICkgP1xuXHRcdFx0XHRjb25kZW5zZSggZWxlbXMsIHByZU1hcCwgcHJlRmlsdGVyLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdGVsZW1zLFxuXG5cdFx0XHRtYXRjaGVyT3V0ID0gbWF0Y2hlciA/XG5cdFx0XHRcdC8vIElmIHdlIGhhdmUgYSBwb3N0RmluZGVyLCBvciBmaWx0ZXJlZCBzZWVkLCBvciBub24tc2VlZCBwb3N0RmlsdGVyIG9yIHByZWV4aXN0aW5nIHJlc3VsdHMsXG5cdFx0XHRcdHBvc3RGaW5kZXIgfHwgKCBzZWVkID8gcHJlRmlsdGVyIDogcHJlZXhpc3RpbmcgfHwgcG9zdEZpbHRlciApID9cblxuXHRcdFx0XHRcdC8vIC4uLmludGVybWVkaWF0ZSBwcm9jZXNzaW5nIGlzIG5lY2Vzc2FyeVxuXHRcdFx0XHRcdFtdIDpcblxuXHRcdFx0XHRcdC8vIC4uLm90aGVyd2lzZSB1c2UgcmVzdWx0cyBkaXJlY3RseVxuXHRcdFx0XHRcdHJlc3VsdHMgOlxuXHRcdFx0XHRtYXRjaGVySW47XG5cblx0XHQvLyBGaW5kIHByaW1hcnkgbWF0Y2hlc1xuXHRcdGlmICggbWF0Y2hlciApIHtcblx0XHRcdG1hdGNoZXIoIG1hdGNoZXJJbiwgbWF0Y2hlck91dCwgY29udGV4dCwgeG1sICk7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgcG9zdEZpbHRlclxuXHRcdGlmICggcG9zdEZpbHRlciApIHtcblx0XHRcdHRlbXAgPSBjb25kZW5zZSggbWF0Y2hlck91dCwgcG9zdE1hcCApO1xuXHRcdFx0cG9zdEZpbHRlciggdGVtcCwgW10sIGNvbnRleHQsIHhtbCApO1xuXG5cdFx0XHQvLyBVbi1tYXRjaCBmYWlsaW5nIGVsZW1lbnRzIGJ5IG1vdmluZyB0aGVtIGJhY2sgdG8gbWF0Y2hlckluXG5cdFx0XHRpID0gdGVtcC5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0aWYgKCAoZWxlbSA9IHRlbXBbaV0pICkge1xuXHRcdFx0XHRcdG1hdGNoZXJPdXRbIHBvc3RNYXBbaV0gXSA9ICEobWF0Y2hlckluWyBwb3N0TWFwW2ldIF0gPSBlbGVtKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggc2VlZCApIHtcblx0XHRcdGlmICggcG9zdEZpbmRlciB8fCBwcmVGaWx0ZXIgKSB7XG5cdFx0XHRcdGlmICggcG9zdEZpbmRlciApIHtcblx0XHRcdFx0XHQvLyBHZXQgdGhlIGZpbmFsIG1hdGNoZXJPdXQgYnkgY29uZGVuc2luZyB0aGlzIGludGVybWVkaWF0ZSBpbnRvIHBvc3RGaW5kZXIgY29udGV4dHNcblx0XHRcdFx0XHR0ZW1wID0gW107XG5cdFx0XHRcdFx0aSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZWxlbSA9IG1hdGNoZXJPdXRbaV0pICkge1xuXHRcdFx0XHRcdFx0XHQvLyBSZXN0b3JlIG1hdGNoZXJJbiBzaW5jZSBlbGVtIGlzIG5vdCB5ZXQgYSBmaW5hbCBtYXRjaFxuXHRcdFx0XHRcdFx0XHR0ZW1wLnB1c2goIChtYXRjaGVySW5baV0gPSBlbGVtKSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRwb3N0RmluZGVyKCBudWxsLCAobWF0Y2hlck91dCA9IFtdKSwgdGVtcCwgeG1sICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBNb3ZlIG1hdGNoZWQgZWxlbWVudHMgZnJvbSBzZWVkIHRvIHJlc3VsdHMgdG8ga2VlcCB0aGVtIHN5bmNocm9uaXplZFxuXHRcdFx0XHRpID0gbWF0Y2hlck91dC5sZW5ndGg7XG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdGlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSAmJlxuXHRcdFx0XHRcdFx0KHRlbXAgPSBwb3N0RmluZGVyID8gaW5kZXhPZiggc2VlZCwgZWxlbSApIDogcHJlTWFwW2ldKSA+IC0xICkge1xuXG5cdFx0XHRcdFx0XHRzZWVkW3RlbXBdID0gIShyZXN1bHRzW3RlbXBdID0gZWxlbSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHQvLyBBZGQgZWxlbWVudHMgdG8gcmVzdWx0cywgdGhyb3VnaCBwb3N0RmluZGVyIGlmIGRlZmluZWRcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWF0Y2hlck91dCA9IGNvbmRlbnNlKFxuXHRcdFx0XHRtYXRjaGVyT3V0ID09PSByZXN1bHRzID9cblx0XHRcdFx0XHRtYXRjaGVyT3V0LnNwbGljZSggcHJlZXhpc3RpbmcsIG1hdGNoZXJPdXQubGVuZ3RoICkgOlxuXHRcdFx0XHRcdG1hdGNoZXJPdXRcblx0XHRcdCk7XG5cdFx0XHRpZiAoIHBvc3RGaW5kZXIgKSB7XG5cdFx0XHRcdHBvc3RGaW5kZXIoIG51bGwsIHJlc3VsdHMsIG1hdGNoZXJPdXQsIHhtbCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgbWF0Y2hlck91dCApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMgKSB7XG5cdHZhciBjaGVja0NvbnRleHQsIG1hdGNoZXIsIGosXG5cdFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcblx0XHRsZWFkaW5nUmVsYXRpdmUgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbMF0udHlwZSBdLFxuXHRcdGltcGxpY2l0UmVsYXRpdmUgPSBsZWFkaW5nUmVsYXRpdmUgfHwgRXhwci5yZWxhdGl2ZVtcIiBcIl0sXG5cdFx0aSA9IGxlYWRpbmdSZWxhdGl2ZSA/IDEgOiAwLFxuXG5cdFx0Ly8gVGhlIGZvdW5kYXRpb25hbCBtYXRjaGVyIGVuc3VyZXMgdGhhdCBlbGVtZW50cyBhcmUgcmVhY2hhYmxlIGZyb20gdG9wLWxldmVsIGNvbnRleHQocylcblx0XHRtYXRjaENvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiBlbGVtID09PSBjaGVja0NvbnRleHQ7XG5cdFx0fSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuXHRcdG1hdGNoQW55Q29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGluZGV4T2YoIGNoZWNrQ29udGV4dCwgZWxlbSApID4gLTE7XG5cdFx0fSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLFxuXHRcdG1hdGNoZXJzID0gWyBmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIHJldCA9ICggIWxlYWRpbmdSZWxhdGl2ZSAmJiAoIHhtbCB8fCBjb250ZXh0ICE9PSBvdXRlcm1vc3RDb250ZXh0ICkgKSB8fCAoXG5cdFx0XHRcdChjaGVja0NvbnRleHQgPSBjb250ZXh0KS5ub2RlVHlwZSA/XG5cdFx0XHRcdFx0bWF0Y2hDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSA6XG5cdFx0XHRcdFx0bWF0Y2hBbnlDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSApO1xuXHRcdFx0Ly8gQXZvaWQgaGFuZ2luZyBvbnRvIGVsZW1lbnQgKGlzc3VlICMyOTkpXG5cdFx0XHRjaGVja0NvbnRleHQgPSBudWxsO1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9IF07XG5cblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0aWYgKCAobWF0Y2hlciA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1tpXS50eXBlIF0pICkge1xuXHRcdFx0bWF0Y2hlcnMgPSBbIGFkZENvbWJpbmF0b3IoZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksIG1hdGNoZXIpIF07XG5cdFx0fSBlbHNlIHtcblx0XHRcdG1hdGNoZXIgPSBFeHByLmZpbHRlclsgdG9rZW5zW2ldLnR5cGUgXS5hcHBseSggbnVsbCwgdG9rZW5zW2ldLm1hdGNoZXMgKTtcblxuXHRcdFx0Ly8gUmV0dXJuIHNwZWNpYWwgdXBvbiBzZWVpbmcgYSBwb3NpdGlvbmFsIG1hdGNoZXJcblx0XHRcdGlmICggbWF0Y2hlclsgZXhwYW5kbyBdICkge1xuXHRcdFx0XHQvLyBGaW5kIHRoZSBuZXh0IHJlbGF0aXZlIG9wZXJhdG9yIChpZiBhbnkpIGZvciBwcm9wZXIgaGFuZGxpbmdcblx0XHRcdFx0aiA9ICsraTtcblx0XHRcdFx0Zm9yICggOyBqIDwgbGVuOyBqKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBFeHByLnJlbGF0aXZlWyB0b2tlbnNbal0udHlwZSBdICkge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBzZXRNYXRjaGVyKFxuXHRcdFx0XHRcdGkgPiAxICYmIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLFxuXHRcdFx0XHRcdGkgPiAxICYmIHRvU2VsZWN0b3IoXG5cdFx0XHRcdFx0XHQvLyBJZiB0aGUgcHJlY2VkaW5nIHRva2VuIHdhcyBhIGRlc2NlbmRhbnQgY29tYmluYXRvciwgaW5zZXJ0IGFuIGltcGxpY2l0IGFueS1lbGVtZW50IGAqYFxuXHRcdFx0XHRcdFx0dG9rZW5zLnNsaWNlKCAwLCBpIC0gMSApLmNvbmNhdCh7IHZhbHVlOiB0b2tlbnNbIGkgLSAyIF0udHlwZSA9PT0gXCIgXCIgPyBcIipcIiA6IFwiXCIgfSlcblx0XHRcdFx0XHQpLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSxcblx0XHRcdFx0XHRtYXRjaGVyLFxuXHRcdFx0XHRcdGkgPCBqICYmIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMuc2xpY2UoIGksIGogKSApLFxuXHRcdFx0XHRcdGogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoICh0b2tlbnMgPSB0b2tlbnMuc2xpY2UoIGogKSkgKSxcblx0XHRcdFx0XHRqIDwgbGVuICYmIHRvU2VsZWN0b3IoIHRva2VucyApXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRtYXRjaGVycy5wdXNoKCBtYXRjaGVyICk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSB7XG5cdHZhciBieVNldCA9IHNldE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0YnlFbGVtZW50ID0gZWxlbWVudE1hdGNoZXJzLmxlbmd0aCA+IDAsXG5cdFx0c3VwZXJNYXRjaGVyID0gZnVuY3Rpb24oIHNlZWQsIGNvbnRleHQsIHhtbCwgcmVzdWx0cywgb3V0ZXJtb3N0ICkge1xuXHRcdFx0dmFyIGVsZW0sIGosIG1hdGNoZXIsXG5cdFx0XHRcdG1hdGNoZWRDb3VudCA9IDAsXG5cdFx0XHRcdGkgPSBcIjBcIixcblx0XHRcdFx0dW5tYXRjaGVkID0gc2VlZCAmJiBbXSxcblx0XHRcdFx0c2V0TWF0Y2hlZCA9IFtdLFxuXHRcdFx0XHRjb250ZXh0QmFja3VwID0gb3V0ZXJtb3N0Q29udGV4dCxcblx0XHRcdFx0Ly8gV2UgbXVzdCBhbHdheXMgaGF2ZSBlaXRoZXIgc2VlZCBlbGVtZW50cyBvciBvdXRlcm1vc3QgY29udGV4dFxuXHRcdFx0XHRlbGVtcyA9IHNlZWQgfHwgYnlFbGVtZW50ICYmIEV4cHIuZmluZFtcIlRBR1wiXSggXCIqXCIsIG91dGVybW9zdCApLFxuXHRcdFx0XHQvLyBVc2UgaW50ZWdlciBkaXJydW5zIGlmZiB0aGlzIGlzIHRoZSBvdXRlcm1vc3QgbWF0Y2hlclxuXHRcdFx0XHRkaXJydW5zVW5pcXVlID0gKGRpcnJ1bnMgKz0gY29udGV4dEJhY2t1cCA9PSBudWxsID8gMSA6IE1hdGgucmFuZG9tKCkgfHwgMC4xKSxcblx0XHRcdFx0bGVuID0gZWxlbXMubGVuZ3RoO1xuXG5cdFx0XHRpZiAoIG91dGVybW9zdCApIHtcblx0XHRcdFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHQgIT09IGRvY3VtZW50ICYmIGNvbnRleHQ7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBlbGVtZW50cyBwYXNzaW5nIGVsZW1lbnRNYXRjaGVycyBkaXJlY3RseSB0byByZXN1bHRzXG5cdFx0XHQvLyBLZWVwIGBpYCBhIHN0cmluZyBpZiB0aGVyZSBhcmUgbm8gZWxlbWVudHMgc28gYG1hdGNoZWRDb3VudGAgd2lsbCBiZSBcIjAwXCIgYmVsb3dcblx0XHRcdC8vIFN1cHBvcnQ6IElFPDksIFNhZmFyaVxuXHRcdFx0Ly8gVG9sZXJhdGUgTm9kZUxpc3QgcHJvcGVydGllcyAoSUU6IFwibGVuZ3RoXCI7IFNhZmFyaTogPG51bWJlcj4pIG1hdGNoaW5nIGVsZW1lbnRzIGJ5IGlkXG5cdFx0XHRmb3IgKCA7IGkgIT09IGxlbiAmJiAoZWxlbSA9IGVsZW1zW2ldKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0XHRcdGlmICggYnlFbGVtZW50ICYmIGVsZW0gKSB7XG5cdFx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAobWF0Y2hlciA9IGVsZW1lbnRNYXRjaGVyc1tqKytdKSApIHtcblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XG5cdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBvdXRlcm1vc3QgKSB7XG5cdFx0XHRcdFx0XHRkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBUcmFjayB1bm1hdGNoZWQgZWxlbWVudHMgZm9yIHNldCBmaWx0ZXJzXG5cdFx0XHRcdGlmICggYnlTZXQgKSB7XG5cdFx0XHRcdFx0Ly8gVGhleSB3aWxsIGhhdmUgZ29uZSB0aHJvdWdoIGFsbCBwb3NzaWJsZSBtYXRjaGVyc1xuXHRcdFx0XHRcdGlmICggKGVsZW0gPSAhbWF0Y2hlciAmJiBlbGVtKSApIHtcblx0XHRcdFx0XHRcdG1hdGNoZWRDb3VudC0tO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIExlbmd0aGVuIHRoZSBhcnJheSBmb3IgZXZlcnkgZWxlbWVudCwgbWF0Y2hlZCBvciBub3Rcblx0XHRcdFx0XHRpZiAoIHNlZWQgKSB7XG5cdFx0XHRcdFx0XHR1bm1hdGNoZWQucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBBcHBseSBzZXQgZmlsdGVycyB0byB1bm1hdGNoZWQgZWxlbWVudHNcblx0XHRcdG1hdGNoZWRDb3VudCArPSBpO1xuXHRcdFx0aWYgKCBieVNldCAmJiBpICE9PSBtYXRjaGVkQ291bnQgKSB7XG5cdFx0XHRcdGogPSAwO1xuXHRcdFx0XHR3aGlsZSAoIChtYXRjaGVyID0gc2V0TWF0Y2hlcnNbaisrXSkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlciggdW5tYXRjaGVkLCBzZXRNYXRjaGVkLCBjb250ZXh0LCB4bWwgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggc2VlZCApIHtcblx0XHRcdFx0XHQvLyBSZWludGVncmF0ZSBlbGVtZW50IG1hdGNoZXMgdG8gZWxpbWluYXRlIHRoZSBuZWVkIGZvciBzb3J0aW5nXG5cdFx0XHRcdFx0aWYgKCBtYXRjaGVkQ291bnQgPiAwICkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggISh1bm1hdGNoZWRbaV0gfHwgc2V0TWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2V0TWF0Y2hlZFtpXSA9IHBvcC5jYWxsKCByZXN1bHRzICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBEaXNjYXJkIGluZGV4IHBsYWNlaG9sZGVyIHZhbHVlcyB0byBnZXQgb25seSBhY3R1YWwgbWF0Y2hlc1xuXHRcdFx0XHRcdHNldE1hdGNoZWQgPSBjb25kZW5zZSggc2V0TWF0Y2hlZCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQWRkIG1hdGNoZXMgdG8gcmVzdWx0c1xuXHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBzZXRNYXRjaGVkICk7XG5cblx0XHRcdFx0Ly8gU2VlZGxlc3Mgc2V0IG1hdGNoZXMgc3VjY2VlZGluZyBtdWx0aXBsZSBzdWNjZXNzZnVsIG1hdGNoZXJzIHN0aXB1bGF0ZSBzb3J0aW5nXG5cdFx0XHRcdGlmICggb3V0ZXJtb3N0ICYmICFzZWVkICYmIHNldE1hdGNoZWQubGVuZ3RoID4gMCAmJlxuXHRcdFx0XHRcdCggbWF0Y2hlZENvdW50ICsgc2V0TWF0Y2hlcnMubGVuZ3RoICkgPiAxICkge1xuXG5cdFx0XHRcdFx0U2l6emxlLnVuaXF1ZVNvcnQoIHJlc3VsdHMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBPdmVycmlkZSBtYW5pcHVsYXRpb24gb2YgZ2xvYmFscyBieSBuZXN0ZWQgbWF0Y2hlcnNcblx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcblx0XHRcdFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHRCYWNrdXA7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB1bm1hdGNoZWQ7XG5cdFx0fTtcblxuXHRyZXR1cm4gYnlTZXQgP1xuXHRcdG1hcmtGdW5jdGlvbiggc3VwZXJNYXRjaGVyICkgOlxuXHRcdHN1cGVyTWF0Y2hlcjtcbn1cblxuY29tcGlsZSA9IFNpenpsZS5jb21waWxlID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBtYXRjaCAvKiBJbnRlcm5hbCBVc2UgT25seSAqLyApIHtcblx0dmFyIGksXG5cdFx0c2V0TWF0Y2hlcnMgPSBbXSxcblx0XHRlbGVtZW50TWF0Y2hlcnMgPSBbXSxcblx0XHRjYWNoZWQgPSBjb21waWxlckNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF07XG5cblx0aWYgKCAhY2FjaGVkICkge1xuXHRcdC8vIEdlbmVyYXRlIGEgZnVuY3Rpb24gb2YgcmVjdXJzaXZlIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSB1c2VkIHRvIGNoZWNrIGVhY2ggZWxlbWVudFxuXHRcdGlmICggIW1hdGNoICkge1xuXHRcdFx0bWF0Y2ggPSB0b2tlbml6ZSggc2VsZWN0b3IgKTtcblx0XHR9XG5cdFx0aSA9IG1hdGNoLmxlbmd0aDtcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdGNhY2hlZCA9IG1hdGNoZXJGcm9tVG9rZW5zKCBtYXRjaFtpXSApO1xuXHRcdFx0aWYgKCBjYWNoZWRbIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0c2V0TWF0Y2hlcnMucHVzaCggY2FjaGVkICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlbGVtZW50TWF0Y2hlcnMucHVzaCggY2FjaGVkICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2FjaGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uXG5cdFx0Y2FjaGVkID0gY29tcGlsZXJDYWNoZSggc2VsZWN0b3IsIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApICk7XG5cblx0XHQvLyBTYXZlIHNlbGVjdG9yIGFuZCB0b2tlbml6YXRpb25cblx0XHRjYWNoZWQuc2VsZWN0b3IgPSBzZWxlY3Rvcjtcblx0fVxuXHRyZXR1cm4gY2FjaGVkO1xufTtcblxuLyoqXG4gKiBBIGxvdy1sZXZlbCBzZWxlY3Rpb24gZnVuY3Rpb24gdGhhdCB3b3JrcyB3aXRoIFNpenpsZSdzIGNvbXBpbGVkXG4gKiAgc2VsZWN0b3IgZnVuY3Rpb25zXG4gKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gc2VsZWN0b3IgQSBzZWxlY3RvciBvciBhIHByZS1jb21waWxlZFxuICogIHNlbGVjdG9yIGZ1bmN0aW9uIGJ1aWx0IHdpdGggU2l6emxlLmNvbXBpbGVcbiAqIEBwYXJhbSB7RWxlbWVudH0gY29udGV4dFxuICogQHBhcmFtIHtBcnJheX0gW3Jlc3VsdHNdXG4gKiBAcGFyYW0ge0FycmF5fSBbc2VlZF0gQSBzZXQgb2YgZWxlbWVudHMgdG8gbWF0Y2ggYWdhaW5zdFxuICovXG5zZWxlY3QgPSBTaXp6bGUuc2VsZWN0ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuXHR2YXIgaSwgdG9rZW5zLCB0b2tlbiwgdHlwZSwgZmluZCxcblx0XHRjb21waWxlZCA9IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiICYmIHNlbGVjdG9yLFxuXHRcdG1hdGNoID0gIXNlZWQgJiYgdG9rZW5pemUoIChzZWxlY3RvciA9IGNvbXBpbGVkLnNlbGVjdG9yIHx8IHNlbGVjdG9yKSApO1xuXG5cdHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuXG5cdC8vIFRyeSB0byBtaW5pbWl6ZSBvcGVyYXRpb25zIGlmIHRoZXJlIGlzIG5vIHNlZWQgYW5kIG9ubHkgb25lIGdyb3VwXG5cdGlmICggbWF0Y2gubGVuZ3RoID09PSAxICkge1xuXG5cdFx0Ly8gVGFrZSBhIHNob3J0Y3V0IGFuZCBzZXQgdGhlIGNvbnRleHQgaWYgdGhlIHJvb3Qgc2VsZWN0b3IgaXMgYW4gSURcblx0XHR0b2tlbnMgPSBtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwICk7XG5cdFx0aWYgKCB0b2tlbnMubGVuZ3RoID4gMiAmJiAodG9rZW4gPSB0b2tlbnNbMF0pLnR5cGUgPT09IFwiSURcIiAmJlxuXHRcdFx0XHRzdXBwb3J0LmdldEJ5SWQgJiYgY29udGV4dC5ub2RlVHlwZSA9PT0gOSAmJiBkb2N1bWVudElzSFRNTCAmJlxuXHRcdFx0XHRFeHByLnJlbGF0aXZlWyB0b2tlbnNbMV0udHlwZSBdICkge1xuXG5cdFx0XHRjb250ZXh0ID0gKCBFeHByLmZpbmRbXCJJRFwiXSggdG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKHJ1bmVzY2FwZSwgZnVuZXNjYXBlKSwgY29udGV4dCApIHx8IFtdIClbMF07XG5cdFx0XHRpZiAoICFjb250ZXh0ICkge1xuXHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblxuXHRcdFx0Ly8gUHJlY29tcGlsZWQgbWF0Y2hlcnMgd2lsbCBzdGlsbCB2ZXJpZnkgYW5jZXN0cnksIHNvIHN0ZXAgdXAgYSBsZXZlbFxuXHRcdFx0fSBlbHNlIGlmICggY29tcGlsZWQgKSB7XG5cdFx0XHRcdGNvbnRleHQgPSBjb250ZXh0LnBhcmVudE5vZGU7XG5cdFx0XHR9XG5cblx0XHRcdHNlbGVjdG9yID0gc2VsZWN0b3Iuc2xpY2UoIHRva2Vucy5zaGlmdCgpLnZhbHVlLmxlbmd0aCApO1xuXHRcdH1cblxuXHRcdC8vIEZldGNoIGEgc2VlZCBzZXQgZm9yIHJpZ2h0LXRvLWxlZnQgbWF0Y2hpbmdcblx0XHRpID0gbWF0Y2hFeHByW1wibmVlZHNDb250ZXh0XCJdLnRlc3QoIHNlbGVjdG9yICkgPyAwIDogdG9rZW5zLmxlbmd0aDtcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdHRva2VuID0gdG9rZW5zW2ldO1xuXG5cdFx0XHQvLyBBYm9ydCBpZiB3ZSBoaXQgYSBjb21iaW5hdG9yXG5cdFx0XHRpZiAoIEV4cHIucmVsYXRpdmVbICh0eXBlID0gdG9rZW4udHlwZSkgXSApIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIChmaW5kID0gRXhwci5maW5kWyB0eXBlIF0pICkge1xuXHRcdFx0XHQvLyBTZWFyY2gsIGV4cGFuZGluZyBjb250ZXh0IGZvciBsZWFkaW5nIHNpYmxpbmcgY29tYmluYXRvcnNcblx0XHRcdFx0aWYgKCAoc2VlZCA9IGZpbmQoXG5cdFx0XHRcdFx0dG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLFxuXHRcdFx0XHRcdHJzaWJsaW5nLnRlc3QoIHRva2Vuc1swXS50eXBlICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8IGNvbnRleHRcblx0XHRcdFx0KSkgKSB7XG5cblx0XHRcdFx0XHQvLyBJZiBzZWVkIGlzIGVtcHR5IG9yIG5vIHRva2VucyByZW1haW4sIHdlIGNhbiByZXR1cm4gZWFybHlcblx0XHRcdFx0XHR0b2tlbnMuc3BsaWNlKCBpLCAxICk7XG5cdFx0XHRcdFx0c2VsZWN0b3IgPSBzZWVkLmxlbmd0aCAmJiB0b1NlbGVjdG9yKCB0b2tlbnMgKTtcblx0XHRcdFx0XHRpZiAoICFzZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIHNlZWQgKTtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ29tcGlsZSBhbmQgZXhlY3V0ZSBhIGZpbHRlcmluZyBmdW5jdGlvbiBpZiBvbmUgaXMgbm90IHByb3ZpZGVkXG5cdC8vIFByb3ZpZGUgYG1hdGNoYCB0byBhdm9pZCByZXRva2VuaXphdGlvbiBpZiB3ZSBtb2RpZmllZCB0aGUgc2VsZWN0b3IgYWJvdmVcblx0KCBjb21waWxlZCB8fCBjb21waWxlKCBzZWxlY3RvciwgbWF0Y2ggKSApKFxuXHRcdHNlZWQsXG5cdFx0Y29udGV4dCxcblx0XHQhZG9jdW1lbnRJc0hUTUwsXG5cdFx0cmVzdWx0cyxcblx0XHRyc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0XG5cdCk7XG5cdHJldHVybiByZXN1bHRzO1xufTtcblxuLy8gT25lLXRpbWUgYXNzaWdubWVudHNcblxuLy8gU29ydCBzdGFiaWxpdHlcbnN1cHBvcnQuc29ydFN0YWJsZSA9IGV4cGFuZG8uc3BsaXQoXCJcIikuc29ydCggc29ydE9yZGVyICkuam9pbihcIlwiKSA9PT0gZXhwYW5kbztcblxuLy8gU3VwcG9ydDogQ2hyb21lIDE0LTM1K1xuLy8gQWx3YXlzIGFzc3VtZSBkdXBsaWNhdGVzIGlmIHRoZXkgYXJlbid0IHBhc3NlZCB0byB0aGUgY29tcGFyaXNvbiBmdW5jdGlvblxuc3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzID0gISFoYXNEdXBsaWNhdGU7XG5cbi8vIEluaXRpYWxpemUgYWdhaW5zdCB0aGUgZGVmYXVsdCBkb2N1bWVudFxuc2V0RG9jdW1lbnQoKTtcblxuLy8gU3VwcG9ydDogV2Via2l0PDUzNy4zMiAtIFNhZmFyaSA2LjAuMy9DaHJvbWUgMjUgKGZpeGVkIGluIENocm9tZSAyNylcbi8vIERldGFjaGVkIG5vZGVzIGNvbmZvdW5kaW5nbHkgZm9sbG93ICplYWNoIG90aGVyKlxuc3VwcG9ydC5zb3J0RGV0YWNoZWQgPSBhc3NlcnQoZnVuY3Rpb24oIGRpdjEgKSB7XG5cdC8vIFNob3VsZCByZXR1cm4gMSwgYnV0IHJldHVybnMgNCAoZm9sbG93aW5nKVxuXHRyZXR1cm4gZGl2MS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSApICYgMTtcbn0pO1xuXG4vLyBTdXBwb3J0OiBJRTw4XG4vLyBQcmV2ZW50IGF0dHJpYnV0ZS9wcm9wZXJ0eSBcImludGVycG9sYXRpb25cIlxuLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21zNTM2NDI5JTI4VlMuODUlMjkuYXNweFxuaWYgKCAhYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG5cdGRpdi5pbm5lckhUTUwgPSBcIjxhIGhyZWY9JyMnPjwvYT5cIjtcblx0cmV0dXJuIGRpdi5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcImhyZWZcIikgPT09IFwiI1wiIDtcbn0pICkge1xuXHRhZGRIYW5kbGUoIFwidHlwZXxocmVmfGhlaWdodHx3aWR0aFwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0aWYgKCAhaXNYTUwgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUsIG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJ0eXBlXCIgPyAxIDogMiApO1xuXHRcdH1cblx0fSk7XG59XG5cbi8vIFN1cHBvcnQ6IElFPDlcbi8vIFVzZSBkZWZhdWx0VmFsdWUgaW4gcGxhY2Ugb2YgZ2V0QXR0cmlidXRlKFwidmFsdWVcIilcbmlmICggIXN1cHBvcnQuYXR0cmlidXRlcyB8fCAhYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG5cdGRpdi5pbm5lckhUTUwgPSBcIjxpbnB1dC8+XCI7XG5cdGRpdi5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiLCBcIlwiICk7XG5cdHJldHVybiBkaXYuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiApID09PSBcIlwiO1xufSkgKSB7XG5cdGFkZEhhbmRsZSggXCJ2YWx1ZVwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0aWYgKCAhaXNYTUwgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCIgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kZWZhdWx0VmFsdWU7XG5cdFx0fVxuXHR9KTtcbn1cblxuLy8gU3VwcG9ydDogSUU8OVxuLy8gVXNlIGdldEF0dHJpYnV0ZU5vZGUgdG8gZmV0Y2ggYm9vbGVhbnMgd2hlbiBnZXRBdHRyaWJ1dGUgbGllc1xuaWYgKCAhYXNzZXJ0KGZ1bmN0aW9uKCBkaXYgKSB7XG5cdHJldHVybiBkaXYuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikgPT0gbnVsbDtcbn0pICkge1xuXHRhZGRIYW5kbGUoIGJvb2xlYW5zLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0dmFyIHZhbDtcblx0XHRpZiAoICFpc1hNTCApIHtcblx0XHRcdHJldHVybiBlbGVtWyBuYW1lIF0gPT09IHRydWUgPyBuYW1lLnRvTG93ZXJDYXNlKCkgOlxuXHRcdFx0XHRcdCh2YWwgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIG5hbWUgKSkgJiYgdmFsLnNwZWNpZmllZCA/XG5cdFx0XHRcdFx0dmFsLnZhbHVlIDpcblx0XHRcdFx0bnVsbDtcblx0XHR9XG5cdH0pO1xufVxuXG5yZXR1cm4gU2l6emxlO1xuXG59KSggd2luZG93ICk7XG5cblxuXG5qUXVlcnkuZmluZCA9IFNpenpsZTtcbmpRdWVyeS5leHByID0gU2l6emxlLnNlbGVjdG9ycztcbmpRdWVyeS5leHByW1wiOlwiXSA9IGpRdWVyeS5leHByLnBzZXVkb3M7XG5qUXVlcnkudW5pcXVlID0gU2l6emxlLnVuaXF1ZVNvcnQ7XG5qUXVlcnkudGV4dCA9IFNpenpsZS5nZXRUZXh0O1xualF1ZXJ5LmlzWE1MRG9jID0gU2l6emxlLmlzWE1MO1xualF1ZXJ5LmNvbnRhaW5zID0gU2l6emxlLmNvbnRhaW5zO1xuXG5cblxudmFyIHJuZWVkc0NvbnRleHQgPSBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7XG5cbnZhciByc2luZ2xlVGFnID0gKC9ePChcXHcrKVxccypcXC8/Pig/OjxcXC9cXDE+fCkkLyk7XG5cblxuXG52YXIgcmlzU2ltcGxlID0gL14uW146I1xcW1xcLixdKiQvO1xuXG4vLyBJbXBsZW1lbnQgdGhlIGlkZW50aWNhbCBmdW5jdGlvbmFsaXR5IGZvciBmaWx0ZXIgYW5kIG5vdFxuZnVuY3Rpb24gd2lubm93KCBlbGVtZW50cywgcXVhbGlmaWVyLCBub3QgKSB7XG5cdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHF1YWxpZmllciApICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtLCBpICkge1xuXHRcdFx0LyoganNoaW50IC1XMDE4ICovXG5cdFx0XHRyZXR1cm4gISFxdWFsaWZpZXIuY2FsbCggZWxlbSwgaSwgZWxlbSApICE9PSBub3Q7XG5cdFx0fSk7XG5cblx0fVxuXG5cdGlmICggcXVhbGlmaWVyLm5vZGVUeXBlICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuICggZWxlbSA9PT0gcXVhbGlmaWVyICkgIT09IG5vdDtcblx0XHR9KTtcblxuXHR9XG5cblx0aWYgKCB0eXBlb2YgcXVhbGlmaWVyID09PSBcInN0cmluZ1wiICkge1xuXHRcdGlmICggcmlzU2ltcGxlLnRlc3QoIHF1YWxpZmllciApICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5maWx0ZXIoIHF1YWxpZmllciwgZWxlbWVudHMsIG5vdCApO1xuXHRcdH1cblxuXHRcdHF1YWxpZmllciA9IGpRdWVyeS5maWx0ZXIoIHF1YWxpZmllciwgZWxlbWVudHMgKTtcblx0fVxuXG5cdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiAoIGluZGV4T2YuY2FsbCggcXVhbGlmaWVyLCBlbGVtICkgPj0gMCApICE9PSBub3Q7XG5cdH0pO1xufVxuXG5qUXVlcnkuZmlsdGVyID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1zLCBub3QgKSB7XG5cdHZhciBlbGVtID0gZWxlbXNbIDAgXTtcblxuXHRpZiAoIG5vdCApIHtcblx0XHRleHByID0gXCI6bm90KFwiICsgZXhwciArIFwiKVwiO1xuXHR9XG5cblx0cmV0dXJuIGVsZW1zLmxlbmd0aCA9PT0gMSAmJiBlbGVtLm5vZGVUeXBlID09PSAxID9cblx0XHRqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGVsZW0sIGV4cHIgKSA/IFsgZWxlbSBdIDogW10gOlxuXHRcdGpRdWVyeS5maW5kLm1hdGNoZXMoIGV4cHIsIGpRdWVyeS5ncmVwKCBlbGVtcywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5ub2RlVHlwZSA9PT0gMTtcblx0XHR9KSk7XG59O1xuXG5qUXVlcnkuZm4uZXh0ZW5kKHtcblx0ZmluZDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHZhciBpLFxuXHRcdFx0bGVuID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRyZXQgPSBbXSxcblx0XHRcdHNlbGYgPSB0aGlzO1xuXG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeSggc2VsZWN0b3IgKS5maWx0ZXIoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHNlbGZbIGkgXSwgdGhpcyApICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KSApO1xuXHRcdH1cblxuXHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRqUXVlcnkuZmluZCggc2VsZWN0b3IsIHNlbGZbIGkgXSwgcmV0ICk7XG5cdFx0fVxuXG5cdFx0Ly8gTmVlZGVkIGJlY2F1c2UgJCggc2VsZWN0b3IsIGNvbnRleHQgKSBiZWNvbWVzICQoIGNvbnRleHQgKS5maW5kKCBzZWxlY3RvciApXG5cdFx0cmV0ID0gdGhpcy5wdXNoU3RhY2soIGxlbiA+IDEgPyBqUXVlcnkudW5pcXVlKCByZXQgKSA6IHJldCApO1xuXHRcdHJldC5zZWxlY3RvciA9IHRoaXMuc2VsZWN0b3IgPyB0aGlzLnNlbGVjdG9yICsgXCIgXCIgKyBzZWxlY3RvciA6IHNlbGVjdG9yO1xuXHRcdHJldHVybiByZXQ7XG5cdH0sXG5cdGZpbHRlcjogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggd2lubm93KHRoaXMsIHNlbGVjdG9yIHx8IFtdLCBmYWxzZSkgKTtcblx0fSxcblx0bm90OiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3codGhpcywgc2VsZWN0b3IgfHwgW10sIHRydWUpICk7XG5cdH0sXG5cdGlzOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0cmV0dXJuICEhd2lubm93KFxuXHRcdFx0dGhpcyxcblxuXHRcdFx0Ly8gSWYgdGhpcyBpcyBhIHBvc2l0aW9uYWwvcmVsYXRpdmUgc2VsZWN0b3IsIGNoZWNrIG1lbWJlcnNoaXAgaW4gdGhlIHJldHVybmVkIHNldFxuXHRcdFx0Ly8gc28gJChcInA6Zmlyc3RcIikuaXMoXCJwOmxhc3RcIikgd29uJ3QgcmV0dXJuIHRydWUgZm9yIGEgZG9jIHdpdGggdHdvIFwicFwiLlxuXHRcdFx0dHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICYmIHJuZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSA/XG5cdFx0XHRcdGpRdWVyeSggc2VsZWN0b3IgKSA6XG5cdFx0XHRcdHNlbGVjdG9yIHx8IFtdLFxuXHRcdFx0ZmFsc2Vcblx0XHQpLmxlbmd0aDtcblx0fVxufSk7XG5cblxuLy8gSW5pdGlhbGl6ZSBhIGpRdWVyeSBvYmplY3RcblxuXG4vLyBBIGNlbnRyYWwgcmVmZXJlbmNlIHRvIHRoZSByb290IGpRdWVyeShkb2N1bWVudClcbnZhciByb290alF1ZXJ5LFxuXG5cdC8vIEEgc2ltcGxlIHdheSB0byBjaGVjayBmb3IgSFRNTCBzdHJpbmdzXG5cdC8vIFByaW9yaXRpemUgI2lkIG92ZXIgPHRhZz4gdG8gYXZvaWQgWFNTIHZpYSBsb2NhdGlvbi5oYXNoICgjOTUyMSlcblx0Ly8gU3RyaWN0IEhUTUwgcmVjb2duaXRpb24gKCMxMTI5MDogbXVzdCBzdGFydCB3aXRoIDwpXG5cdHJxdWlja0V4cHIgPSAvXig/OlxccyooPFtcXHdcXFddKz4pW14+XSp8IyhbXFx3LV0qKSkkLyxcblxuXHRpbml0ID0galF1ZXJ5LmZuLmluaXQgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQgKSB7XG5cdFx0dmFyIG1hdGNoLCBlbGVtO1xuXG5cdFx0Ly8gSEFORExFOiAkKFwiXCIpLCAkKG51bGwpLCAkKHVuZGVmaW5lZCksICQoZmFsc2UpXG5cdFx0aWYgKCAhc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHQvLyBIYW5kbGUgSFRNTCBzdHJpbmdzXG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRpZiAoIHNlbGVjdG9yWzBdID09PSBcIjxcIiAmJiBzZWxlY3Rvclsgc2VsZWN0b3IubGVuZ3RoIC0gMSBdID09PSBcIj5cIiAmJiBzZWxlY3Rvci5sZW5ndGggPj0gMyApIHtcblx0XHRcdFx0Ly8gQXNzdW1lIHRoYXQgc3RyaW5ncyB0aGF0IHN0YXJ0IGFuZCBlbmQgd2l0aCA8PiBhcmUgSFRNTCBhbmQgc2tpcCB0aGUgcmVnZXggY2hlY2tcblx0XHRcdFx0bWF0Y2ggPSBbIG51bGwsIHNlbGVjdG9yLCBudWxsIF07XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYXRjaCBodG1sIG9yIG1ha2Ugc3VyZSBubyBjb250ZXh0IGlzIHNwZWNpZmllZCBmb3IgI2lkXG5cdFx0XHRpZiAoIG1hdGNoICYmIChtYXRjaFsxXSB8fCAhY29udGV4dCkgKSB7XG5cblx0XHRcdFx0Ly8gSEFORExFOiAkKGh0bWwpIC0+ICQoYXJyYXkpXG5cdFx0XHRcdGlmICggbWF0Y2hbMV0gKSB7XG5cdFx0XHRcdFx0Y29udGV4dCA9IGNvbnRleHQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZXh0WzBdIDogY29udGV4dDtcblxuXHRcdFx0XHRcdC8vIE9wdGlvbiB0byBydW4gc2NyaXB0cyBpcyB0cnVlIGZvciBiYWNrLWNvbXBhdFxuXHRcdFx0XHRcdC8vIEludGVudGlvbmFsbHkgbGV0IHRoZSBlcnJvciBiZSB0aHJvd24gaWYgcGFyc2VIVE1MIGlzIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLCBqUXVlcnkucGFyc2VIVE1MKFxuXHRcdFx0XHRcdFx0bWF0Y2hbMV0sXG5cdFx0XHRcdFx0XHRjb250ZXh0ICYmIGNvbnRleHQubm9kZVR5cGUgPyBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCA6IGRvY3VtZW50LFxuXHRcdFx0XHRcdFx0dHJ1ZVxuXHRcdFx0XHRcdCkgKTtcblxuXHRcdFx0XHRcdC8vIEhBTkRMRTogJChodG1sLCBwcm9wcylcblx0XHRcdFx0XHRpZiAoIHJzaW5nbGVUYWcudGVzdCggbWF0Y2hbMV0gKSAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29udGV4dCApICkge1xuXHRcdFx0XHRcdFx0Zm9yICggbWF0Y2ggaW4gY29udGV4dCApIHtcblx0XHRcdFx0XHRcdFx0Ly8gUHJvcGVydGllcyBvZiBjb250ZXh0IGFyZSBjYWxsZWQgYXMgbWV0aG9kcyBpZiBwb3NzaWJsZVxuXHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB0aGlzWyBtYXRjaCBdICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpc1sgbWF0Y2ggXSggY29udGV4dFsgbWF0Y2ggXSApO1xuXG5cdFx0XHRcdFx0XHRcdC8vIC4uLmFuZCBvdGhlcndpc2Ugc2V0IGFzIGF0dHJpYnV0ZXNcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmF0dHIoIG1hdGNoLCBjb250ZXh0WyBtYXRjaCBdICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblxuXHRcdFx0XHQvLyBIQU5ETEU6ICQoI2lkKVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggbWF0Y2hbMl0gKTtcblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IEJsYWNrYmVycnkgNC42XG5cdFx0XHRcdFx0Ly8gZ0VCSUQgcmV0dXJucyBub2RlcyBubyBsb25nZXIgaW4gdGhlIGRvY3VtZW50ICgjNjk2Mylcblx0XHRcdFx0XHRpZiAoIGVsZW0gJiYgZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRcdFx0Ly8gSW5qZWN0IHRoZSBlbGVtZW50IGRpcmVjdGx5IGludG8gdGhlIGpRdWVyeSBvYmplY3Rcblx0XHRcdFx0XHRcdHRoaXMubGVuZ3RoID0gMTtcblx0XHRcdFx0XHRcdHRoaXNbMF0gPSBlbGVtO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRoaXMuY29udGV4dCA9IGRvY3VtZW50O1xuXHRcdFx0XHRcdHRoaXMuc2VsZWN0b3IgPSBzZWxlY3Rvcjtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXG5cdFx0XHQvLyBIQU5ETEU6ICQoZXhwciwgJCguLi4pKVxuXHRcdFx0fSBlbHNlIGlmICggIWNvbnRleHQgfHwgY29udGV4dC5qcXVlcnkgKSB7XG5cdFx0XHRcdHJldHVybiAoIGNvbnRleHQgfHwgcm9vdGpRdWVyeSApLmZpbmQoIHNlbGVjdG9yICk7XG5cblx0XHRcdC8vIEhBTkRMRTogJChleHByLCBjb250ZXh0KVxuXHRcdFx0Ly8gKHdoaWNoIGlzIGp1c3QgZXF1aXZhbGVudCB0bzogJChjb250ZXh0KS5maW5kKGV4cHIpXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5jb25zdHJ1Y3RvciggY29udGV4dCApLmZpbmQoIHNlbGVjdG9yICk7XG5cdFx0XHR9XG5cblx0XHQvLyBIQU5ETEU6ICQoRE9NRWxlbWVudClcblx0XHR9IGVsc2UgaWYgKCBzZWxlY3Rvci5ub2RlVHlwZSApIHtcblx0XHRcdHRoaXMuY29udGV4dCA9IHRoaXNbMF0gPSBzZWxlY3Rvcjtcblx0XHRcdHRoaXMubGVuZ3RoID0gMTtcblx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0Ly8gSEFORExFOiAkKGZ1bmN0aW9uKVxuXHRcdC8vIFNob3J0Y3V0IGZvciBkb2N1bWVudCByZWFkeVxuXHRcdH0gZWxzZSBpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBzZWxlY3RvciApICkge1xuXHRcdFx0cmV0dXJuIHR5cGVvZiByb290alF1ZXJ5LnJlYWR5ICE9PSBcInVuZGVmaW5lZFwiID9cblx0XHRcdFx0cm9vdGpRdWVyeS5yZWFkeSggc2VsZWN0b3IgKSA6XG5cdFx0XHRcdC8vIEV4ZWN1dGUgaW1tZWRpYXRlbHkgaWYgcmVhZHkgaXMgbm90IHByZXNlbnRcblx0XHRcdFx0c2VsZWN0b3IoIGpRdWVyeSApO1xuXHRcdH1cblxuXHRcdGlmICggc2VsZWN0b3Iuc2VsZWN0b3IgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHRoaXMuc2VsZWN0b3IgPSBzZWxlY3Rvci5zZWxlY3Rvcjtcblx0XHRcdHRoaXMuY29udGV4dCA9IHNlbGVjdG9yLmNvbnRleHQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGpRdWVyeS5tYWtlQXJyYXkoIHNlbGVjdG9yLCB0aGlzICk7XG5cdH07XG5cbi8vIEdpdmUgdGhlIGluaXQgZnVuY3Rpb24gdGhlIGpRdWVyeSBwcm90b3R5cGUgZm9yIGxhdGVyIGluc3RhbnRpYXRpb25cbmluaXQucHJvdG90eXBlID0galF1ZXJ5LmZuO1xuXG4vLyBJbml0aWFsaXplIGNlbnRyYWwgcmVmZXJlbmNlXG5yb290alF1ZXJ5ID0galF1ZXJ5KCBkb2N1bWVudCApO1xuXG5cbnZhciBycGFyZW50c3ByZXYgPSAvXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxcblx0Ly8gTWV0aG9kcyBndWFyYW50ZWVkIHRvIHByb2R1Y2UgYSB1bmlxdWUgc2V0IHdoZW4gc3RhcnRpbmcgZnJvbSBhIHVuaXF1ZSBzZXRcblx0Z3VhcmFudGVlZFVuaXF1ZSA9IHtcblx0XHRjaGlsZHJlbjogdHJ1ZSxcblx0XHRjb250ZW50czogdHJ1ZSxcblx0XHRuZXh0OiB0cnVlLFxuXHRcdHByZXY6IHRydWVcblx0fTtcblxualF1ZXJ5LmV4dGVuZCh7XG5cdGRpcjogZnVuY3Rpb24oIGVsZW0sIGRpciwgdW50aWwgKSB7XG5cdFx0dmFyIG1hdGNoZWQgPSBbXSxcblx0XHRcdHRydW5jYXRlID0gdW50aWwgIT09IHVuZGVmaW5lZDtcblxuXHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgJiYgZWxlbS5ub2RlVHlwZSAhPT0gOSApIHtcblx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0aWYgKCB0cnVuY2F0ZSAmJiBqUXVlcnkoIGVsZW0gKS5pcyggdW50aWwgKSApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRtYXRjaGVkLnB1c2goIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG1hdGNoZWQ7XG5cdH0sXG5cblx0c2libGluZzogZnVuY3Rpb24oIG4sIGVsZW0gKSB7XG5cdFx0dmFyIG1hdGNoZWQgPSBbXTtcblxuXHRcdGZvciAoIDsgbjsgbiA9IG4ubmV4dFNpYmxpbmcgKSB7XG5cdFx0XHRpZiAoIG4ubm9kZVR5cGUgPT09IDEgJiYgbiAhPT0gZWxlbSApIHtcblx0XHRcdFx0bWF0Y2hlZC5wdXNoKCBuICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1hdGNoZWQ7XG5cdH1cbn0pO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKHtcblx0aGFzOiBmdW5jdGlvbiggdGFyZ2V0ICkge1xuXHRcdHZhciB0YXJnZXRzID0galF1ZXJ5KCB0YXJnZXQsIHRoaXMgKSxcblx0XHRcdGwgPSB0YXJnZXRzLmxlbmd0aDtcblxuXHRcdHJldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpID0gMDtcblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHRoaXMsIHRhcmdldHNbaV0gKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXG5cdGNsb3Nlc3Q6IGZ1bmN0aW9uKCBzZWxlY3RvcnMsIGNvbnRleHQgKSB7XG5cdFx0dmFyIGN1cixcblx0XHRcdGkgPSAwLFxuXHRcdFx0bCA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0bWF0Y2hlZCA9IFtdLFxuXHRcdFx0cG9zID0gcm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvcnMgKSB8fCB0eXBlb2Ygc2VsZWN0b3JzICE9PSBcInN0cmluZ1wiID9cblx0XHRcdFx0alF1ZXJ5KCBzZWxlY3RvcnMsIGNvbnRleHQgfHwgdGhpcy5jb250ZXh0ICkgOlxuXHRcdFx0XHQwO1xuXG5cdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0Zm9yICggY3VyID0gdGhpc1tpXTsgY3VyICYmIGN1ciAhPT0gY29udGV4dDsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdC8vIEFsd2F5cyBza2lwIGRvY3VtZW50IGZyYWdtZW50c1xuXHRcdFx0XHRpZiAoIGN1ci5ub2RlVHlwZSA8IDExICYmIChwb3MgP1xuXHRcdFx0XHRcdHBvcy5pbmRleChjdXIpID4gLTEgOlxuXG5cdFx0XHRcdFx0Ly8gRG9uJ3QgcGFzcyBub24tZWxlbWVudHMgdG8gU2l6emxlXG5cdFx0XHRcdFx0Y3VyLm5vZGVUeXBlID09PSAxICYmXG5cdFx0XHRcdFx0XHRqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoY3VyLCBzZWxlY3RvcnMpKSApIHtcblxuXHRcdFx0XHRcdG1hdGNoZWQucHVzaCggY3VyICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIG1hdGNoZWQubGVuZ3RoID4gMSA/IGpRdWVyeS51bmlxdWUoIG1hdGNoZWQgKSA6IG1hdGNoZWQgKTtcblx0fSxcblxuXHQvLyBEZXRlcm1pbmUgdGhlIHBvc2l0aW9uIG9mIGFuIGVsZW1lbnQgd2l0aGluIHRoZSBzZXRcblx0aW5kZXg6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gTm8gYXJndW1lbnQsIHJldHVybiBpbmRleCBpbiBwYXJlbnRcblx0XHRpZiAoICFlbGVtICkge1xuXHRcdFx0cmV0dXJuICggdGhpc1sgMCBdICYmIHRoaXNbIDAgXS5wYXJlbnROb2RlICkgPyB0aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aCA6IC0xO1xuXHRcdH1cblxuXHRcdC8vIEluZGV4IGluIHNlbGVjdG9yXG5cdFx0aWYgKCB0eXBlb2YgZWxlbSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiBpbmRleE9mLmNhbGwoIGpRdWVyeSggZWxlbSApLCB0aGlzWyAwIF0gKTtcblx0XHR9XG5cblx0XHQvLyBMb2NhdGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBkZXNpcmVkIGVsZW1lbnRcblx0XHRyZXR1cm4gaW5kZXhPZi5jYWxsKCB0aGlzLFxuXG5cdFx0XHQvLyBJZiBpdCByZWNlaXZlcyBhIGpRdWVyeSBvYmplY3QsIHRoZSBmaXJzdCBlbGVtZW50IGlzIHVzZWRcblx0XHRcdGVsZW0uanF1ZXJ5ID8gZWxlbVsgMCBdIDogZWxlbVxuXHRcdCk7XG5cdH0sXG5cblx0YWRkOiBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKFxuXHRcdFx0alF1ZXJ5LnVuaXF1ZShcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLmdldCgpLCBqUXVlcnkoIHNlbGVjdG9yLCBjb250ZXh0ICkgKVxuXHRcdFx0KVxuXHRcdCk7XG5cdH0sXG5cblx0YWRkQmFjazogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLmFkZCggc2VsZWN0b3IgPT0gbnVsbCA/XG5cdFx0XHR0aGlzLnByZXZPYmplY3QgOiB0aGlzLnByZXZPYmplY3QuZmlsdGVyKHNlbGVjdG9yKVxuXHRcdCk7XG5cdH1cbn0pO1xuXG5mdW5jdGlvbiBzaWJsaW5nKCBjdXIsIGRpciApIHtcblx0d2hpbGUgKCAoY3VyID0gY3VyW2Rpcl0pICYmIGN1ci5ub2RlVHlwZSAhPT0gMSApIHt9XG5cdHJldHVybiBjdXI7XG59XG5cbmpRdWVyeS5lYWNoKHtcblx0cGFyZW50OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdHJldHVybiBwYXJlbnQgJiYgcGFyZW50Lm5vZGVUeXBlICE9PSAxMSA/IHBhcmVudCA6IG51bGw7XG5cdH0sXG5cdHBhcmVudHM6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBqUXVlcnkuZGlyKCBlbGVtLCBcInBhcmVudE5vZGVcIiApO1xuXHR9LFxuXHRwYXJlbnRzVW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmRpciggZWxlbSwgXCJwYXJlbnROb2RlXCIsIHVudGlsICk7XG5cdH0sXG5cdG5leHQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5nKCBlbGVtLCBcIm5leHRTaWJsaW5nXCIgKTtcblx0fSxcblx0cHJldjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIHNpYmxpbmcoIGVsZW0sIFwicHJldmlvdXNTaWJsaW5nXCIgKTtcblx0fSxcblx0bmV4dEFsbDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5kaXIoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiApO1xuXHR9LFxuXHRwcmV2QWxsOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmRpciggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiApO1xuXHR9LFxuXHRuZXh0VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmRpciggZWxlbSwgXCJuZXh0U2libGluZ1wiLCB1bnRpbCApO1xuXHR9LFxuXHRwcmV2VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmRpciggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiwgdW50aWwgKTtcblx0fSxcblx0c2libGluZ3M6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBqUXVlcnkuc2libGluZyggKCBlbGVtLnBhcmVudE5vZGUgfHwge30gKS5maXJzdENoaWxkLCBlbGVtICk7XG5cdH0sXG5cdGNoaWxkcmVuOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LnNpYmxpbmcoIGVsZW0uZmlyc3RDaGlsZCApO1xuXHR9LFxuXHRjb250ZW50czogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGVsZW0uY29udGVudERvY3VtZW50IHx8IGpRdWVyeS5tZXJnZSggW10sIGVsZW0uY2hpbGROb2RlcyApO1xuXHR9XG59LCBmdW5jdGlvbiggbmFtZSwgZm4gKSB7XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHVudGlsLCBzZWxlY3RvciApIHtcblx0XHR2YXIgbWF0Y2hlZCA9IGpRdWVyeS5tYXAoIHRoaXMsIGZuLCB1bnRpbCApO1xuXG5cdFx0aWYgKCBuYW1lLnNsaWNlKCAtNSApICE9PSBcIlVudGlsXCIgKSB7XG5cdFx0XHRzZWxlY3RvciA9IHVudGlsO1xuXHRcdH1cblxuXHRcdGlmICggc2VsZWN0b3IgJiYgdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0bWF0Y2hlZCA9IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCBtYXRjaGVkICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB0aGlzLmxlbmd0aCA+IDEgKSB7XG5cdFx0XHQvLyBSZW1vdmUgZHVwbGljYXRlc1xuXHRcdFx0aWYgKCAhZ3VhcmFudGVlZFVuaXF1ZVsgbmFtZSBdICkge1xuXHRcdFx0XHRqUXVlcnkudW5pcXVlKCBtYXRjaGVkICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJldmVyc2Ugb3JkZXIgZm9yIHBhcmVudHMqIGFuZCBwcmV2LWRlcml2YXRpdmVzXG5cdFx0XHRpZiAoIHJwYXJlbnRzcHJldi50ZXN0KCBuYW1lICkgKSB7XG5cdFx0XHRcdG1hdGNoZWQucmV2ZXJzZSgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggbWF0Y2hlZCApO1xuXHR9O1xufSk7XG52YXIgcm5vdHdoaXRlID0gKC9cXFMrL2cpO1xuXG5cblxuLy8gU3RyaW5nIHRvIE9iamVjdCBvcHRpb25zIGZvcm1hdCBjYWNoZVxudmFyIG9wdGlvbnNDYWNoZSA9IHt9O1xuXG4vLyBDb252ZXJ0IFN0cmluZy1mb3JtYXR0ZWQgb3B0aW9ucyBpbnRvIE9iamVjdC1mb3JtYXR0ZWQgb25lcyBhbmQgc3RvcmUgaW4gY2FjaGVcbmZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSB7XG5cdHZhciBvYmplY3QgPSBvcHRpb25zQ2FjaGVbIG9wdGlvbnMgXSA9IHt9O1xuXHRqUXVlcnkuZWFjaCggb3B0aW9ucy5tYXRjaCggcm5vdHdoaXRlICkgfHwgW10sIGZ1bmN0aW9uKCBfLCBmbGFnICkge1xuXHRcdG9iamVjdFsgZmxhZyBdID0gdHJ1ZTtcblx0fSk7XG5cdHJldHVybiBvYmplY3Q7XG59XG5cbi8qXG4gKiBDcmVhdGUgYSBjYWxsYmFjayBsaXN0IHVzaW5nIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczpcbiAqXG4gKlx0b3B0aW9uczogYW4gb3B0aW9uYWwgbGlzdCBvZiBzcGFjZS1zZXBhcmF0ZWQgb3B0aW9ucyB0aGF0IHdpbGwgY2hhbmdlIGhvd1xuICpcdFx0XHR0aGUgY2FsbGJhY2sgbGlzdCBiZWhhdmVzIG9yIGEgbW9yZSB0cmFkaXRpb25hbCBvcHRpb24gb2JqZWN0XG4gKlxuICogQnkgZGVmYXVsdCBhIGNhbGxiYWNrIGxpc3Qgd2lsbCBhY3QgbGlrZSBhbiBldmVudCBjYWxsYmFjayBsaXN0IGFuZCBjYW4gYmVcbiAqIFwiZmlyZWRcIiBtdWx0aXBsZSB0aW1lcy5cbiAqXG4gKiBQb3NzaWJsZSBvcHRpb25zOlxuICpcbiAqXHRvbmNlOlx0XHRcdHdpbGwgZW5zdXJlIHRoZSBjYWxsYmFjayBsaXN0IGNhbiBvbmx5IGJlIGZpcmVkIG9uY2UgKGxpa2UgYSBEZWZlcnJlZClcbiAqXG4gKlx0bWVtb3J5Olx0XHRcdHdpbGwga2VlcCB0cmFjayBvZiBwcmV2aW91cyB2YWx1ZXMgYW5kIHdpbGwgY2FsbCBhbnkgY2FsbGJhY2sgYWRkZWRcbiAqXHRcdFx0XHRcdGFmdGVyIHRoZSBsaXN0IGhhcyBiZWVuIGZpcmVkIHJpZ2h0IGF3YXkgd2l0aCB0aGUgbGF0ZXN0IFwibWVtb3JpemVkXCJcbiAqXHRcdFx0XHRcdHZhbHVlcyAobGlrZSBhIERlZmVycmVkKVxuICpcbiAqXHR1bmlxdWU6XHRcdFx0d2lsbCBlbnN1cmUgYSBjYWxsYmFjayBjYW4gb25seSBiZSBhZGRlZCBvbmNlIChubyBkdXBsaWNhdGUgaW4gdGhlIGxpc3QpXG4gKlxuICpcdHN0b3BPbkZhbHNlOlx0aW50ZXJydXB0IGNhbGxpbmdzIHdoZW4gYSBjYWxsYmFjayByZXR1cm5zIGZhbHNlXG4gKlxuICovXG5qUXVlcnkuQ2FsbGJhY2tzID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cblx0Ly8gQ29udmVydCBvcHRpb25zIGZyb20gU3RyaW5nLWZvcm1hdHRlZCB0byBPYmplY3QtZm9ybWF0dGVkIGlmIG5lZWRlZFxuXHQvLyAod2UgY2hlY2sgaW4gY2FjaGUgZmlyc3QpXG5cdG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiA/XG5cdFx0KCBvcHRpb25zQ2FjaGVbIG9wdGlvbnMgXSB8fCBjcmVhdGVPcHRpb25zKCBvcHRpb25zICkgKSA6XG5cdFx0alF1ZXJ5LmV4dGVuZCgge30sIG9wdGlvbnMgKTtcblxuXHR2YXIgLy8gTGFzdCBmaXJlIHZhbHVlIChmb3Igbm9uLWZvcmdldHRhYmxlIGxpc3RzKVxuXHRcdG1lbW9yeSxcblx0XHQvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCB3YXMgYWxyZWFkeSBmaXJlZFxuXHRcdGZpcmVkLFxuXHRcdC8vIEZsYWcgdG8ga25vdyBpZiBsaXN0IGlzIGN1cnJlbnRseSBmaXJpbmdcblx0XHRmaXJpbmcsXG5cdFx0Ly8gRmlyc3QgY2FsbGJhY2sgdG8gZmlyZSAodXNlZCBpbnRlcm5hbGx5IGJ5IGFkZCBhbmQgZmlyZVdpdGgpXG5cdFx0ZmlyaW5nU3RhcnQsXG5cdFx0Ly8gRW5kIG9mIHRoZSBsb29wIHdoZW4gZmlyaW5nXG5cdFx0ZmlyaW5nTGVuZ3RoLFxuXHRcdC8vIEluZGV4IG9mIGN1cnJlbnRseSBmaXJpbmcgY2FsbGJhY2sgKG1vZGlmaWVkIGJ5IHJlbW92ZSBpZiBuZWVkZWQpXG5cdFx0ZmlyaW5nSW5kZXgsXG5cdFx0Ly8gQWN0dWFsIGNhbGxiYWNrIGxpc3Rcblx0XHRsaXN0ID0gW10sXG5cdFx0Ly8gU3RhY2sgb2YgZmlyZSBjYWxscyBmb3IgcmVwZWF0YWJsZSBsaXN0c1xuXHRcdHN0YWNrID0gIW9wdGlvbnMub25jZSAmJiBbXSxcblx0XHQvLyBGaXJlIGNhbGxiYWNrc1xuXHRcdGZpcmUgPSBmdW5jdGlvbiggZGF0YSApIHtcblx0XHRcdG1lbW9yeSA9IG9wdGlvbnMubWVtb3J5ICYmIGRhdGE7XG5cdFx0XHRmaXJlZCA9IHRydWU7XG5cdFx0XHRmaXJpbmdJbmRleCA9IGZpcmluZ1N0YXJ0IHx8IDA7XG5cdFx0XHRmaXJpbmdTdGFydCA9IDA7XG5cdFx0XHRmaXJpbmdMZW5ndGggPSBsaXN0Lmxlbmd0aDtcblx0XHRcdGZpcmluZyA9IHRydWU7XG5cdFx0XHRmb3IgKCA7IGxpc3QgJiYgZmlyaW5nSW5kZXggPCBmaXJpbmdMZW5ndGg7IGZpcmluZ0luZGV4KysgKSB7XG5cdFx0XHRcdGlmICggbGlzdFsgZmlyaW5nSW5kZXggXS5hcHBseSggZGF0YVsgMCBdLCBkYXRhWyAxIF0gKSA9PT0gZmFsc2UgJiYgb3B0aW9ucy5zdG9wT25GYWxzZSApIHtcblx0XHRcdFx0XHRtZW1vcnkgPSBmYWxzZTsgLy8gVG8gcHJldmVudCBmdXJ0aGVyIGNhbGxzIHVzaW5nIGFkZFxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRmaXJpbmcgPSBmYWxzZTtcblx0XHRcdGlmICggbGlzdCApIHtcblx0XHRcdFx0aWYgKCBzdGFjayApIHtcblx0XHRcdFx0XHRpZiAoIHN0YWNrLmxlbmd0aCApIHtcblx0XHRcdFx0XHRcdGZpcmUoIHN0YWNrLnNoaWZ0KCkgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAoIG1lbW9yeSApIHtcblx0XHRcdFx0XHRsaXN0ID0gW107XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c2VsZi5kaXNhYmxlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdC8vIEFjdHVhbCBDYWxsYmFja3Mgb2JqZWN0XG5cdFx0c2VsZiA9IHtcblx0XHRcdC8vIEFkZCBhIGNhbGxiYWNrIG9yIGEgY29sbGVjdGlvbiBvZiBjYWxsYmFja3MgdG8gdGhlIGxpc3Rcblx0XHRcdGFkZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggbGlzdCApIHtcblx0XHRcdFx0XHQvLyBGaXJzdCwgd2Ugc2F2ZSB0aGUgY3VycmVudCBsZW5ndGhcblx0XHRcdFx0XHR2YXIgc3RhcnQgPSBsaXN0Lmxlbmd0aDtcblx0XHRcdFx0XHQoZnVuY3Rpb24gYWRkKCBhcmdzICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmVhY2goIGFyZ3MsIGZ1bmN0aW9uKCBfLCBhcmcgKSB7XG5cdFx0XHRcdFx0XHRcdHZhciB0eXBlID0galF1ZXJ5LnR5cGUoIGFyZyApO1xuXHRcdFx0XHRcdFx0XHRpZiAoIHR5cGUgPT09IFwiZnVuY3Rpb25cIiApIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoICFvcHRpb25zLnVuaXF1ZSB8fCAhc2VsZi5oYXMoIGFyZyApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0bGlzdC5wdXNoKCBhcmcgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGFyZyAmJiBhcmcubGVuZ3RoICYmIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gSW5zcGVjdCByZWN1cnNpdmVseVxuXHRcdFx0XHRcdFx0XHRcdGFkZCggYXJnICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pKCBhcmd1bWVudHMgKTtcblx0XHRcdFx0XHQvLyBEbyB3ZSBuZWVkIHRvIGFkZCB0aGUgY2FsbGJhY2tzIHRvIHRoZVxuXHRcdFx0XHRcdC8vIGN1cnJlbnQgZmlyaW5nIGJhdGNoP1xuXHRcdFx0XHRcdGlmICggZmlyaW5nICkge1xuXHRcdFx0XHRcdFx0ZmlyaW5nTGVuZ3RoID0gbGlzdC5sZW5ndGg7XG5cdFx0XHRcdFx0Ly8gV2l0aCBtZW1vcnksIGlmIHdlJ3JlIG5vdCBmaXJpbmcgdGhlblxuXHRcdFx0XHRcdC8vIHdlIHNob3VsZCBjYWxsIHJpZ2h0IGF3YXlcblx0XHRcdFx0XHR9IGVsc2UgaWYgKCBtZW1vcnkgKSB7XG5cdFx0XHRcdFx0XHRmaXJpbmdTdGFydCA9IHN0YXJ0O1xuXHRcdFx0XHRcdFx0ZmlyZSggbWVtb3J5ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblx0XHRcdC8vIFJlbW92ZSBhIGNhbGxiYWNrIGZyb20gdGhlIGxpc3Rcblx0XHRcdHJlbW92ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggbGlzdCApIHtcblx0XHRcdFx0XHRqUXVlcnkuZWFjaCggYXJndW1lbnRzLCBmdW5jdGlvbiggXywgYXJnICkge1xuXHRcdFx0XHRcdFx0dmFyIGluZGV4O1xuXHRcdFx0XHRcdFx0d2hpbGUgKCAoIGluZGV4ID0galF1ZXJ5LmluQXJyYXkoIGFyZywgbGlzdCwgaW5kZXggKSApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRcdGxpc3Quc3BsaWNlKCBpbmRleCwgMSApO1xuXHRcdFx0XHRcdFx0XHQvLyBIYW5kbGUgZmlyaW5nIGluZGV4ZXNcblx0XHRcdFx0XHRcdFx0aWYgKCBmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBpbmRleCA8PSBmaXJpbmdMZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRmaXJpbmdMZW5ndGgtLTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBpbmRleCA8PSBmaXJpbmdJbmRleCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGZpcmluZ0luZGV4LS07XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0Ly8gQ2hlY2sgaWYgYSBnaXZlbiBjYWxsYmFjayBpcyBpbiB0aGUgbGlzdC5cblx0XHRcdC8vIElmIG5vIGFyZ3VtZW50IGlzIGdpdmVuLCByZXR1cm4gd2hldGhlciBvciBub3QgbGlzdCBoYXMgY2FsbGJhY2tzIGF0dGFjaGVkLlxuXHRcdFx0aGFzOiBmdW5jdGlvbiggZm4gKSB7XG5cdFx0XHRcdHJldHVybiBmbiA/IGpRdWVyeS5pbkFycmF5KCBmbiwgbGlzdCApID4gLTEgOiAhISggbGlzdCAmJiBsaXN0Lmxlbmd0aCApO1xuXHRcdFx0fSxcblx0XHRcdC8vIFJlbW92ZSBhbGwgY2FsbGJhY2tzIGZyb20gdGhlIGxpc3Rcblx0XHRcdGVtcHR5OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0bGlzdCA9IFtdO1xuXHRcdFx0XHRmaXJpbmdMZW5ndGggPSAwO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cdFx0XHQvLyBIYXZlIHRoZSBsaXN0IGRvIG5vdGhpbmcgYW55bW9yZVxuXHRcdFx0ZGlzYWJsZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGxpc3QgPSBzdGFjayA9IG1lbW9yeSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0Ly8gSXMgaXQgZGlzYWJsZWQ/XG5cdFx0XHRkaXNhYmxlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAhbGlzdDtcblx0XHRcdH0sXG5cdFx0XHQvLyBMb2NrIHRoZSBsaXN0IGluIGl0cyBjdXJyZW50IHN0YXRlXG5cdFx0XHRsb2NrOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0c3RhY2sgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdGlmICggIW1lbW9yeSApIHtcblx0XHRcdFx0XHRzZWxmLmRpc2FibGUoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cdFx0XHQvLyBJcyBpdCBsb2NrZWQ/XG5cdFx0XHRsb2NrZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gIXN0YWNrO1xuXHRcdFx0fSxcblx0XHRcdC8vIENhbGwgYWxsIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBjb250ZXh0IGFuZCBhcmd1bWVudHNcblx0XHRcdGZpcmVXaXRoOiBmdW5jdGlvbiggY29udGV4dCwgYXJncyApIHtcblx0XHRcdFx0aWYgKCBsaXN0ICYmICggIWZpcmVkIHx8IHN0YWNrICkgKSB7XG5cdFx0XHRcdFx0YXJncyA9IGFyZ3MgfHwgW107XG5cdFx0XHRcdFx0YXJncyA9IFsgY29udGV4dCwgYXJncy5zbGljZSA/IGFyZ3Muc2xpY2UoKSA6IGFyZ3MgXTtcblx0XHRcdFx0XHRpZiAoIGZpcmluZyApIHtcblx0XHRcdFx0XHRcdHN0YWNrLnB1c2goIGFyZ3MgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZmlyZSggYXJncyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cdFx0XHQvLyBDYWxsIGFsbCB0aGUgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGFyZ3VtZW50c1xuXHRcdFx0ZmlyZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYuZmlyZVdpdGgoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cdFx0XHQvLyBUbyBrbm93IGlmIHRoZSBjYWxsYmFja3MgaGF2ZSBhbHJlYWR5IGJlZW4gY2FsbGVkIGF0IGxlYXN0IG9uY2Vcblx0XHRcdGZpcmVkOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuICEhZmlyZWQ7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRyZXR1cm4gc2VsZjtcbn07XG5cblxualF1ZXJ5LmV4dGVuZCh7XG5cblx0RGVmZXJyZWQ6IGZ1bmN0aW9uKCBmdW5jICkge1xuXHRcdHZhciB0dXBsZXMgPSBbXG5cdFx0XHRcdC8vIGFjdGlvbiwgYWRkIGxpc3RlbmVyLCBsaXN0ZW5lciBsaXN0LCBmaW5hbCBzdGF0ZVxuXHRcdFx0XHRbIFwicmVzb2x2ZVwiLCBcImRvbmVcIiwgalF1ZXJ5LkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLCBcInJlc29sdmVkXCIgXSxcblx0XHRcdFx0WyBcInJlamVjdFwiLCBcImZhaWxcIiwgalF1ZXJ5LkNhbGxiYWNrcyhcIm9uY2UgbWVtb3J5XCIpLCBcInJlamVjdGVkXCIgXSxcblx0XHRcdFx0WyBcIm5vdGlmeVwiLCBcInByb2dyZXNzXCIsIGpRdWVyeS5DYWxsYmFja3MoXCJtZW1vcnlcIikgXVxuXHRcdFx0XSxcblx0XHRcdHN0YXRlID0gXCJwZW5kaW5nXCIsXG5cdFx0XHRwcm9taXNlID0ge1xuXHRcdFx0XHRzdGF0ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHN0YXRlO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRhbHdheXM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGRlZmVycmVkLmRvbmUoIGFyZ3VtZW50cyApLmZhaWwoIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR0aGVuOiBmdW5jdGlvbiggLyogZm5Eb25lLCBmbkZhaWwsIGZuUHJvZ3Jlc3MgKi8gKSB7XG5cdFx0XHRcdFx0dmFyIGZucyA9IGFyZ3VtZW50cztcblx0XHRcdFx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKGZ1bmN0aW9uKCBuZXdEZWZlciApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHtcblx0XHRcdFx0XHRcdFx0dmFyIGZuID0galF1ZXJ5LmlzRnVuY3Rpb24oIGZuc1sgaSBdICkgJiYgZm5zWyBpIF07XG5cdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkWyBkb25lIHwgZmFpbCB8IHByb2dyZXNzIF0gZm9yIGZvcndhcmRpbmcgYWN0aW9ucyB0byBuZXdEZWZlclxuXHRcdFx0XHRcdFx0XHRkZWZlcnJlZFsgdHVwbGVbMV0gXShmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQgPSBmbiAmJiBmbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCByZXR1cm5lZCAmJiBqUXVlcnkuaXNGdW5jdGlvbiggcmV0dXJuZWQucHJvbWlzZSApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQucHJvbWlzZSgpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5kb25lKCBuZXdEZWZlci5yZXNvbHZlIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmZhaWwoIG5ld0RlZmVyLnJlamVjdCApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5wcm9ncmVzcyggbmV3RGVmZXIubm90aWZ5ICk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyWyB0dXBsZVsgMCBdICsgXCJXaXRoXCIgXSggdGhpcyA9PT0gcHJvbWlzZSA/IG5ld0RlZmVyLnByb21pc2UoKSA6IHRoaXMsIGZuID8gWyByZXR1cm5lZCBdIDogYXJndW1lbnRzICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0Zm5zID0gbnVsbDtcblx0XHRcdFx0XHR9KS5wcm9taXNlKCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdC8vIEdldCBhIHByb21pc2UgZm9yIHRoaXMgZGVmZXJyZWRcblx0XHRcdFx0Ly8gSWYgb2JqIGlzIHByb3ZpZGVkLCB0aGUgcHJvbWlzZSBhc3BlY3QgaXMgYWRkZWQgdG8gdGhlIG9iamVjdFxuXHRcdFx0XHRwcm9taXNlOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdFx0XHRcdHJldHVybiBvYmogIT0gbnVsbCA/IGpRdWVyeS5leHRlbmQoIG9iaiwgcHJvbWlzZSApIDogcHJvbWlzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlZmVycmVkID0ge307XG5cblx0XHQvLyBLZWVwIHBpcGUgZm9yIGJhY2stY29tcGF0XG5cdFx0cHJvbWlzZS5waXBlID0gcHJvbWlzZS50aGVuO1xuXG5cdFx0Ly8gQWRkIGxpc3Qtc3BlY2lmaWMgbWV0aG9kc1xuXHRcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHtcblx0XHRcdHZhciBsaXN0ID0gdHVwbGVbIDIgXSxcblx0XHRcdFx0c3RhdGVTdHJpbmcgPSB0dXBsZVsgMyBdO1xuXG5cdFx0XHQvLyBwcm9taXNlWyBkb25lIHwgZmFpbCB8IHByb2dyZXNzIF0gPSBsaXN0LmFkZFxuXHRcdFx0cHJvbWlzZVsgdHVwbGVbMV0gXSA9IGxpc3QuYWRkO1xuXG5cdFx0XHQvLyBIYW5kbGUgc3RhdGVcblx0XHRcdGlmICggc3RhdGVTdHJpbmcgKSB7XG5cdFx0XHRcdGxpc3QuYWRkKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdC8vIHN0YXRlID0gWyByZXNvbHZlZCB8IHJlamVjdGVkIF1cblx0XHRcdFx0XHRzdGF0ZSA9IHN0YXRlU3RyaW5nO1xuXG5cdFx0XHRcdC8vIFsgcmVqZWN0X2xpc3QgfCByZXNvbHZlX2xpc3QgXS5kaXNhYmxlOyBwcm9ncmVzc19saXN0LmxvY2tcblx0XHRcdFx0fSwgdHVwbGVzWyBpIF4gMSBdWyAyIF0uZGlzYWJsZSwgdHVwbGVzWyAyIF1bIDIgXS5sb2NrICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGRlZmVycmVkWyByZXNvbHZlIHwgcmVqZWN0IHwgbm90aWZ5IF1cblx0XHRcdGRlZmVycmVkWyB0dXBsZVswXSBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRlZmVycmVkWyB0dXBsZVswXSArIFwiV2l0aFwiIF0oIHRoaXMgPT09IGRlZmVycmVkID8gcHJvbWlzZSA6IHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH07XG5cdFx0XHRkZWZlcnJlZFsgdHVwbGVbMF0gKyBcIldpdGhcIiBdID0gbGlzdC5maXJlV2l0aDtcblx0XHR9KTtcblxuXHRcdC8vIE1ha2UgdGhlIGRlZmVycmVkIGEgcHJvbWlzZVxuXHRcdHByb21pc2UucHJvbWlzZSggZGVmZXJyZWQgKTtcblxuXHRcdC8vIENhbGwgZ2l2ZW4gZnVuYyBpZiBhbnlcblx0XHRpZiAoIGZ1bmMgKSB7XG5cdFx0XHRmdW5jLmNhbGwoIGRlZmVycmVkLCBkZWZlcnJlZCApO1xuXHRcdH1cblxuXHRcdC8vIEFsbCBkb25lIVxuXHRcdHJldHVybiBkZWZlcnJlZDtcblx0fSxcblxuXHQvLyBEZWZlcnJlZCBoZWxwZXJcblx0d2hlbjogZnVuY3Rpb24oIHN1Ym9yZGluYXRlIC8qICwgLi4uLCBzdWJvcmRpbmF0ZU4gKi8gKSB7XG5cdFx0dmFyIGkgPSAwLFxuXHRcdFx0cmVzb2x2ZVZhbHVlcyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApLFxuXHRcdFx0bGVuZ3RoID0gcmVzb2x2ZVZhbHVlcy5sZW5ndGgsXG5cblx0XHRcdC8vIHRoZSBjb3VudCBvZiB1bmNvbXBsZXRlZCBzdWJvcmRpbmF0ZXNcblx0XHRcdHJlbWFpbmluZyA9IGxlbmd0aCAhPT0gMSB8fCAoIHN1Ym9yZGluYXRlICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCBzdWJvcmRpbmF0ZS5wcm9taXNlICkgKSA/IGxlbmd0aCA6IDAsXG5cblx0XHRcdC8vIHRoZSBtYXN0ZXIgRGVmZXJyZWQuIElmIHJlc29sdmVWYWx1ZXMgY29uc2lzdCBvZiBvbmx5IGEgc2luZ2xlIERlZmVycmVkLCBqdXN0IHVzZSB0aGF0LlxuXHRcdFx0ZGVmZXJyZWQgPSByZW1haW5pbmcgPT09IDEgPyBzdWJvcmRpbmF0ZSA6IGpRdWVyeS5EZWZlcnJlZCgpLFxuXG5cdFx0XHQvLyBVcGRhdGUgZnVuY3Rpb24gZm9yIGJvdGggcmVzb2x2ZSBhbmQgcHJvZ3Jlc3MgdmFsdWVzXG5cdFx0XHR1cGRhdGVGdW5jID0gZnVuY3Rpb24oIGksIGNvbnRleHRzLCB2YWx1ZXMgKSB7XG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRcdFx0Y29udGV4dHNbIGkgXSA9IHRoaXM7XG5cdFx0XHRcdFx0dmFsdWVzWyBpIF0gPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApIDogdmFsdWU7XG5cdFx0XHRcdFx0aWYgKCB2YWx1ZXMgPT09IHByb2dyZXNzVmFsdWVzICkge1xuXHRcdFx0XHRcdFx0ZGVmZXJyZWQubm90aWZ5V2l0aCggY29udGV4dHMsIHZhbHVlcyApO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoICEoIC0tcmVtYWluaW5nICkgKSB7XG5cdFx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggY29udGV4dHMsIHZhbHVlcyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdH0sXG5cblx0XHRcdHByb2dyZXNzVmFsdWVzLCBwcm9ncmVzc0NvbnRleHRzLCByZXNvbHZlQ29udGV4dHM7XG5cblx0XHQvLyBBZGQgbGlzdGVuZXJzIHRvIERlZmVycmVkIHN1Ym9yZGluYXRlczsgdHJlYXQgb3RoZXJzIGFzIHJlc29sdmVkXG5cdFx0aWYgKCBsZW5ndGggPiAxICkge1xuXHRcdFx0cHJvZ3Jlc3NWYWx1ZXMgPSBuZXcgQXJyYXkoIGxlbmd0aCApO1xuXHRcdFx0cHJvZ3Jlc3NDb250ZXh0cyA9IG5ldyBBcnJheSggbGVuZ3RoICk7XG5cdFx0XHRyZXNvbHZlQ29udGV4dHMgPSBuZXcgQXJyYXkoIGxlbmd0aCApO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdGlmICggcmVzb2x2ZVZhbHVlc1sgaSBdICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCByZXNvbHZlVmFsdWVzWyBpIF0ucHJvbWlzZSApICkge1xuXHRcdFx0XHRcdHJlc29sdmVWYWx1ZXNbIGkgXS5wcm9taXNlKClcblx0XHRcdFx0XHRcdC5kb25lKCB1cGRhdGVGdW5jKCBpLCByZXNvbHZlQ29udGV4dHMsIHJlc29sdmVWYWx1ZXMgKSApXG5cdFx0XHRcdFx0XHQuZmFpbCggZGVmZXJyZWQucmVqZWN0IClcblx0XHRcdFx0XHRcdC5wcm9ncmVzcyggdXBkYXRlRnVuYyggaSwgcHJvZ3Jlc3NDb250ZXh0cywgcHJvZ3Jlc3NWYWx1ZXMgKSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC0tcmVtYWluaW5nO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gSWYgd2UncmUgbm90IHdhaXRpbmcgb24gYW55dGhpbmcsIHJlc29sdmUgdGhlIG1hc3RlclxuXHRcdGlmICggIXJlbWFpbmluZyApIHtcblx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCByZXNvbHZlQ29udGV4dHMsIHJlc29sdmVWYWx1ZXMgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZGVmZXJyZWQucHJvbWlzZSgpO1xuXHR9XG59KTtcblxuXG4vLyBUaGUgZGVmZXJyZWQgdXNlZCBvbiBET00gcmVhZHlcbnZhciByZWFkeUxpc3Q7XG5cbmpRdWVyeS5mbi5yZWFkeSA9IGZ1bmN0aW9uKCBmbiApIHtcblx0Ly8gQWRkIHRoZSBjYWxsYmFja1xuXHRqUXVlcnkucmVhZHkucHJvbWlzZSgpLmRvbmUoIGZuICk7XG5cblx0cmV0dXJuIHRoaXM7XG59O1xuXG5qUXVlcnkuZXh0ZW5kKHtcblx0Ly8gSXMgdGhlIERPTSByZWFkeSB0byBiZSB1c2VkPyBTZXQgdG8gdHJ1ZSBvbmNlIGl0IG9jY3Vycy5cblx0aXNSZWFkeTogZmFsc2UsXG5cblx0Ly8gQSBjb3VudGVyIHRvIHRyYWNrIGhvdyBtYW55IGl0ZW1zIHRvIHdhaXQgZm9yIGJlZm9yZVxuXHQvLyB0aGUgcmVhZHkgZXZlbnQgZmlyZXMuIFNlZSAjNjc4MVxuXHRyZWFkeVdhaXQ6IDEsXG5cblx0Ly8gSG9sZCAob3IgcmVsZWFzZSkgdGhlIHJlYWR5IGV2ZW50XG5cdGhvbGRSZWFkeTogZnVuY3Rpb24oIGhvbGQgKSB7XG5cdFx0aWYgKCBob2xkICkge1xuXHRcdFx0alF1ZXJ5LnJlYWR5V2FpdCsrO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRqUXVlcnkucmVhZHkoIHRydWUgKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gSGFuZGxlIHdoZW4gdGhlIERPTSBpcyByZWFkeVxuXHRyZWFkeTogZnVuY3Rpb24oIHdhaXQgKSB7XG5cblx0XHQvLyBBYm9ydCBpZiB0aGVyZSBhcmUgcGVuZGluZyBob2xkcyBvciB3ZSdyZSBhbHJlYWR5IHJlYWR5XG5cdFx0aWYgKCB3YWl0ID09PSB0cnVlID8gLS1qUXVlcnkucmVhZHlXYWl0IDogalF1ZXJ5LmlzUmVhZHkgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gUmVtZW1iZXIgdGhhdCB0aGUgRE9NIGlzIHJlYWR5XG5cdFx0alF1ZXJ5LmlzUmVhZHkgPSB0cnVlO1xuXG5cdFx0Ly8gSWYgYSBub3JtYWwgRE9NIFJlYWR5IGV2ZW50IGZpcmVkLCBkZWNyZW1lbnQsIGFuZCB3YWl0IGlmIG5lZWQgYmVcblx0XHRpZiAoIHdhaXQgIT09IHRydWUgJiYgLS1qUXVlcnkucmVhZHlXYWl0ID4gMCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBJZiB0aGVyZSBhcmUgZnVuY3Rpb25zIGJvdW5kLCB0byBleGVjdXRlXG5cdFx0cmVhZHlMaXN0LnJlc29sdmVXaXRoKCBkb2N1bWVudCwgWyBqUXVlcnkgXSApO1xuXG5cdFx0Ly8gVHJpZ2dlciBhbnkgYm91bmQgcmVhZHkgZXZlbnRzXG5cdFx0aWYgKCBqUXVlcnkuZm4udHJpZ2dlckhhbmRsZXIgKSB7XG5cdFx0XHRqUXVlcnkoIGRvY3VtZW50ICkudHJpZ2dlckhhbmRsZXIoIFwicmVhZHlcIiApO1xuXHRcdFx0alF1ZXJ5KCBkb2N1bWVudCApLm9mZiggXCJyZWFkeVwiICk7XG5cdFx0fVxuXHR9XG59KTtcblxuLyoqXG4gKiBUaGUgcmVhZHkgZXZlbnQgaGFuZGxlciBhbmQgc2VsZiBjbGVhbnVwIG1ldGhvZFxuICovXG5mdW5jdGlvbiBjb21wbGV0ZWQoKSB7XG5cdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFwiRE9NQ29udGVudExvYWRlZFwiLCBjb21wbGV0ZWQsIGZhbHNlICk7XG5cdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgY29tcGxldGVkLCBmYWxzZSApO1xuXHRqUXVlcnkucmVhZHkoKTtcbn1cblxualF1ZXJ5LnJlYWR5LnByb21pc2UgPSBmdW5jdGlvbiggb2JqICkge1xuXHRpZiAoICFyZWFkeUxpc3QgKSB7XG5cblx0XHRyZWFkeUxpc3QgPSBqUXVlcnkuRGVmZXJyZWQoKTtcblxuXHRcdC8vIENhdGNoIGNhc2VzIHdoZXJlICQoZG9jdW1lbnQpLnJlYWR5KCkgaXMgY2FsbGVkIGFmdGVyIHRoZSBicm93c2VyIGV2ZW50IGhhcyBhbHJlYWR5IG9jY3VycmVkLlxuXHRcdC8vIFdlIG9uY2UgdHJpZWQgdG8gdXNlIHJlYWR5U3RhdGUgXCJpbnRlcmFjdGl2ZVwiIGhlcmUsIGJ1dCBpdCBjYXVzZWQgaXNzdWVzIGxpa2UgdGhlIG9uZVxuXHRcdC8vIGRpc2NvdmVyZWQgYnkgQ2hyaXNTIGhlcmU6IGh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEyMjgyI2NvbW1lbnQ6MTVcblx0XHRpZiAoIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiApIHtcblx0XHRcdC8vIEhhbmRsZSBpdCBhc3luY2hyb25vdXNseSB0byBhbGxvdyBzY3JpcHRzIHRoZSBvcHBvcnR1bml0eSB0byBkZWxheSByZWFkeVxuXHRcdFx0c2V0VGltZW91dCggalF1ZXJ5LnJlYWR5ICk7XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBVc2UgdGhlIGhhbmR5IGV2ZW50IGNhbGxiYWNrXG5cdFx0XHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCBcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY29tcGxldGVkLCBmYWxzZSApO1xuXG5cdFx0XHQvLyBBIGZhbGxiYWNrIHRvIHdpbmRvdy5vbmxvYWQsIHRoYXQgd2lsbCBhbHdheXMgd29ya1xuXHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIFwibG9hZFwiLCBjb21wbGV0ZWQsIGZhbHNlICk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZWFkeUxpc3QucHJvbWlzZSggb2JqICk7XG59O1xuXG4vLyBLaWNrIG9mZiB0aGUgRE9NIHJlYWR5IGNoZWNrIGV2ZW4gaWYgdGhlIHVzZXIgZG9lcyBub3RcbmpRdWVyeS5yZWFkeS5wcm9taXNlKCk7XG5cblxuXG5cbi8vIE11bHRpZnVuY3Rpb25hbCBtZXRob2QgdG8gZ2V0IGFuZCBzZXQgdmFsdWVzIG9mIGEgY29sbGVjdGlvblxuLy8gVGhlIHZhbHVlL3MgY2FuIG9wdGlvbmFsbHkgYmUgZXhlY3V0ZWQgaWYgaXQncyBhIGZ1bmN0aW9uXG52YXIgYWNjZXNzID0galF1ZXJ5LmFjY2VzcyA9IGZ1bmN0aW9uKCBlbGVtcywgZm4sIGtleSwgdmFsdWUsIGNoYWluYWJsZSwgZW1wdHlHZXQsIHJhdyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGxlbiA9IGVsZW1zLmxlbmd0aCxcblx0XHRidWxrID0ga2V5ID09IG51bGw7XG5cblx0Ly8gU2V0cyBtYW55IHZhbHVlc1xuXHRpZiAoIGpRdWVyeS50eXBlKCBrZXkgKSA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXHRcdGZvciAoIGkgaW4ga2V5ICkge1xuXHRcdFx0alF1ZXJ5LmFjY2VzcyggZWxlbXMsIGZuLCBpLCBrZXlbaV0sIHRydWUsIGVtcHR5R2V0LCByYXcgKTtcblx0XHR9XG5cblx0Ly8gU2V0cyBvbmUgdmFsdWVcblx0fSBlbHNlIGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXG5cdFx0aWYgKCAhalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyYXcgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICggYnVsayApIHtcblx0XHRcdC8vIEJ1bGsgb3BlcmF0aW9ucyBydW4gYWdhaW5zdCB0aGUgZW50aXJlIHNldFxuXHRcdFx0aWYgKCByYXcgKSB7XG5cdFx0XHRcdGZuLmNhbGwoIGVsZW1zLCB2YWx1ZSApO1xuXHRcdFx0XHRmbiA9IG51bGw7XG5cblx0XHRcdC8vIC4uLmV4Y2VwdCB3aGVuIGV4ZWN1dGluZyBmdW5jdGlvbiB2YWx1ZXNcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJ1bGsgPSBmbjtcblx0XHRcdFx0Zm4gPSBmdW5jdGlvbiggZWxlbSwga2V5LCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gYnVsay5jYWxsKCBqUXVlcnkoIGVsZW0gKSwgdmFsdWUgKTtcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIGZuICkge1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdGZuKCBlbGVtc1tpXSwga2V5LCByYXcgPyB2YWx1ZSA6IHZhbHVlLmNhbGwoIGVsZW1zW2ldLCBpLCBmbiggZWxlbXNbaV0sIGtleSApICkgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gY2hhaW5hYmxlID9cblx0XHRlbGVtcyA6XG5cblx0XHQvLyBHZXRzXG5cdFx0YnVsayA/XG5cdFx0XHRmbi5jYWxsKCBlbGVtcyApIDpcblx0XHRcdGxlbiA/IGZuKCBlbGVtc1swXSwga2V5ICkgOiBlbXB0eUdldDtcbn07XG5cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYW4gb2JqZWN0IGNhbiBoYXZlIGRhdGFcbiAqL1xualF1ZXJ5LmFjY2VwdERhdGEgPSBmdW5jdGlvbiggb3duZXIgKSB7XG5cdC8vIEFjY2VwdHMgb25seTpcblx0Ly8gIC0gTm9kZVxuXHQvLyAgICAtIE5vZGUuRUxFTUVOVF9OT0RFXG5cdC8vICAgIC0gTm9kZS5ET0NVTUVOVF9OT0RFXG5cdC8vICAtIE9iamVjdFxuXHQvLyAgICAtIEFueVxuXHQvKiBqc2hpbnQgLVcwMTggKi9cblx0cmV0dXJuIG93bmVyLm5vZGVUeXBlID09PSAxIHx8IG93bmVyLm5vZGVUeXBlID09PSA5IHx8ICEoICtvd25lci5ub2RlVHlwZSApO1xufTtcblxuXG5mdW5jdGlvbiBEYXRhKCkge1xuXHQvLyBTdXBwb3J0OiBBbmRyb2lkPDQsXG5cdC8vIE9sZCBXZWJLaXQgZG9lcyBub3QgaGF2ZSBPYmplY3QucHJldmVudEV4dGVuc2lvbnMvZnJlZXplIG1ldGhvZCxcblx0Ly8gcmV0dXJuIG5ldyBlbXB0eSBvYmplY3QgaW5zdGVhZCB3aXRoIG5vIFtbc2V0XV0gYWNjZXNzb3Jcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCB0aGlzLmNhY2hlID0ge30sIDAsIHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHt9O1xuXHRcdH1cblx0fSk7XG5cblx0dGhpcy5leHBhbmRvID0galF1ZXJ5LmV4cGFuZG8gKyBEYXRhLnVpZCsrO1xufVxuXG5EYXRhLnVpZCA9IDE7XG5EYXRhLmFjY2VwdHMgPSBqUXVlcnkuYWNjZXB0RGF0YTtcblxuRGF0YS5wcm90b3R5cGUgPSB7XG5cdGtleTogZnVuY3Rpb24oIG93bmVyICkge1xuXHRcdC8vIFdlIGNhbiBhY2NlcHQgZGF0YSBmb3Igbm9uLWVsZW1lbnQgbm9kZXMgaW4gbW9kZXJuIGJyb3dzZXJzLFxuXHRcdC8vIGJ1dCB3ZSBzaG91bGQgbm90LCBzZWUgIzgzMzUuXG5cdFx0Ly8gQWx3YXlzIHJldHVybiB0aGUga2V5IGZvciBhIGZyb3plbiBvYmplY3QuXG5cdFx0aWYgKCAhRGF0YS5hY2NlcHRzKCBvd25lciApICkge1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXG5cdFx0dmFyIGRlc2NyaXB0b3IgPSB7fSxcblx0XHRcdC8vIENoZWNrIGlmIHRoZSBvd25lciBvYmplY3QgYWxyZWFkeSBoYXMgYSBjYWNoZSBrZXlcblx0XHRcdHVubG9jayA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblxuXHRcdC8vIElmIG5vdCwgY3JlYXRlIG9uZVxuXHRcdGlmICggIXVubG9jayApIHtcblx0XHRcdHVubG9jayA9IERhdGEudWlkKys7XG5cblx0XHRcdC8vIFNlY3VyZSBpdCBpbiBhIG5vbi1lbnVtZXJhYmxlLCBub24td3JpdGFibGUgcHJvcGVydHlcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRlc2NyaXB0b3JbIHRoaXMuZXhwYW5kbyBdID0geyB2YWx1ZTogdW5sb2NrIH07XG5cdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBvd25lciwgZGVzY3JpcHRvciApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkPDRcblx0XHRcdC8vIEZhbGxiYWNrIHRvIGEgbGVzcyBzZWN1cmUgZGVmaW5pdGlvblxuXHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0XHRcdGRlc2NyaXB0b3JbIHRoaXMuZXhwYW5kbyBdID0gdW5sb2NrO1xuXHRcdFx0XHRqUXVlcnkuZXh0ZW5kKCBvd25lciwgZGVzY3JpcHRvciApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEVuc3VyZSB0aGUgY2FjaGUgb2JqZWN0XG5cdFx0aWYgKCAhdGhpcy5jYWNoZVsgdW5sb2NrIF0gKSB7XG5cdFx0XHR0aGlzLmNhY2hlWyB1bmxvY2sgXSA9IHt9O1xuXHRcdH1cblxuXHRcdHJldHVybiB1bmxvY2s7XG5cdH0sXG5cdHNldDogZnVuY3Rpb24oIG93bmVyLCBkYXRhLCB2YWx1ZSApIHtcblx0XHR2YXIgcHJvcCxcblx0XHRcdC8vIFRoZXJlIG1heSBiZSBhbiB1bmxvY2sgYXNzaWduZWQgdG8gdGhpcyBub2RlLFxuXHRcdFx0Ly8gaWYgdGhlcmUgaXMgbm8gZW50cnkgZm9yIHRoaXMgXCJvd25lclwiLCBjcmVhdGUgb25lIGlubGluZVxuXHRcdFx0Ly8gYW5kIHNldCB0aGUgdW5sb2NrIGFzIHRob3VnaCBhbiBvd25lciBlbnRyeSBoYWQgYWx3YXlzIGV4aXN0ZWRcblx0XHRcdHVubG9jayA9IHRoaXMua2V5KCBvd25lciApLFxuXHRcdFx0Y2FjaGUgPSB0aGlzLmNhY2hlWyB1bmxvY2sgXTtcblxuXHRcdC8vIEhhbmRsZTogWyBvd25lciwga2V5LCB2YWx1ZSBdIGFyZ3Ncblx0XHRpZiAoIHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0Y2FjaGVbIGRhdGEgXSA9IHZhbHVlO1xuXG5cdFx0Ly8gSGFuZGxlOiBbIG93bmVyLCB7IHByb3BlcnRpZXMgfSBdIGFyZ3Ncblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gRnJlc2ggYXNzaWdubWVudHMgYnkgb2JqZWN0IGFyZSBzaGFsbG93IGNvcGllZFxuXHRcdFx0aWYgKCBqUXVlcnkuaXNFbXB0eU9iamVjdCggY2FjaGUgKSApIHtcblx0XHRcdFx0alF1ZXJ5LmV4dGVuZCggdGhpcy5jYWNoZVsgdW5sb2NrIF0sIGRhdGEgKTtcblx0XHRcdC8vIE90aGVyd2lzZSwgY29weSB0aGUgcHJvcGVydGllcyBvbmUtYnktb25lIHRvIHRoZSBjYWNoZSBvYmplY3Rcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvciAoIHByb3AgaW4gZGF0YSApIHtcblx0XHRcdFx0XHRjYWNoZVsgcHJvcCBdID0gZGF0YVsgcHJvcCBdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBjYWNoZTtcblx0fSxcblx0Z2V0OiBmdW5jdGlvbiggb3duZXIsIGtleSApIHtcblx0XHQvLyBFaXRoZXIgYSB2YWxpZCBjYWNoZSBpcyBmb3VuZCwgb3Igd2lsbCBiZSBjcmVhdGVkLlxuXHRcdC8vIE5ldyBjYWNoZXMgd2lsbCBiZSBjcmVhdGVkIGFuZCB0aGUgdW5sb2NrIHJldHVybmVkLFxuXHRcdC8vIGFsbG93aW5nIGRpcmVjdCBhY2Nlc3MgdG8gdGhlIG5ld2x5IGNyZWF0ZWRcblx0XHQvLyBlbXB0eSBkYXRhIG9iamVjdC4gQSB2YWxpZCBvd25lciBvYmplY3QgbXVzdCBiZSBwcm92aWRlZC5cblx0XHR2YXIgY2FjaGUgPSB0aGlzLmNhY2hlWyB0aGlzLmtleSggb3duZXIgKSBdO1xuXG5cdFx0cmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdGNhY2hlIDogY2FjaGVbIGtleSBdO1xuXHR9LFxuXHRhY2Nlc3M6IGZ1bmN0aW9uKCBvd25lciwga2V5LCB2YWx1ZSApIHtcblx0XHR2YXIgc3RvcmVkO1xuXHRcdC8vIEluIGNhc2VzIHdoZXJlIGVpdGhlcjpcblx0XHQvL1xuXHRcdC8vICAgMS4gTm8ga2V5IHdhcyBzcGVjaWZpZWRcblx0XHQvLyAgIDIuIEEgc3RyaW5nIGtleSB3YXMgc3BlY2lmaWVkLCBidXQgbm8gdmFsdWUgcHJvdmlkZWRcblx0XHQvL1xuXHRcdC8vIFRha2UgdGhlIFwicmVhZFwiIHBhdGggYW5kIGFsbG93IHRoZSBnZXQgbWV0aG9kIHRvIGRldGVybWluZVxuXHRcdC8vIHdoaWNoIHZhbHVlIHRvIHJldHVybiwgcmVzcGVjdGl2ZWx5IGVpdGhlcjpcblx0XHQvL1xuXHRcdC8vICAgMS4gVGhlIGVudGlyZSBjYWNoZSBvYmplY3Rcblx0XHQvLyAgIDIuIFRoZSBkYXRhIHN0b3JlZCBhdCB0aGUga2V5XG5cdFx0Ly9cblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHRcdCgoa2V5ICYmIHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIpICYmIHZhbHVlID09PSB1bmRlZmluZWQpICkge1xuXG5cdFx0XHRzdG9yZWQgPSB0aGlzLmdldCggb3duZXIsIGtleSApO1xuXG5cdFx0XHRyZXR1cm4gc3RvcmVkICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRzdG9yZWQgOiB0aGlzLmdldCggb3duZXIsIGpRdWVyeS5jYW1lbENhc2Uoa2V5KSApO1xuXHRcdH1cblxuXHRcdC8vIFsqXVdoZW4gdGhlIGtleSBpcyBub3QgYSBzdHJpbmcsIG9yIGJvdGggYSBrZXkgYW5kIHZhbHVlXG5cdFx0Ly8gYXJlIHNwZWNpZmllZCwgc2V0IG9yIGV4dGVuZCAoZXhpc3Rpbmcgb2JqZWN0cykgd2l0aCBlaXRoZXI6XG5cdFx0Ly9cblx0XHQvLyAgIDEuIEFuIG9iamVjdCBvZiBwcm9wZXJ0aWVzXG5cdFx0Ly8gICAyLiBBIGtleSBhbmQgdmFsdWVcblx0XHQvL1xuXHRcdHRoaXMuc2V0KCBvd25lciwga2V5LCB2YWx1ZSApO1xuXG5cdFx0Ly8gU2luY2UgdGhlIFwic2V0XCIgcGF0aCBjYW4gaGF2ZSB0d28gcG9zc2libGUgZW50cnkgcG9pbnRzXG5cdFx0Ly8gcmV0dXJuIHRoZSBleHBlY3RlZCBkYXRhIGJhc2VkIG9uIHdoaWNoIHBhdGggd2FzIHRha2VuWypdXG5cdFx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IGtleTtcblx0fSxcblx0cmVtb3ZlOiBmdW5jdGlvbiggb3duZXIsIGtleSApIHtcblx0XHR2YXIgaSwgbmFtZSwgY2FtZWwsXG5cdFx0XHR1bmxvY2sgPSB0aGlzLmtleSggb3duZXIgKSxcblx0XHRcdGNhY2hlID0gdGhpcy5jYWNoZVsgdW5sb2NrIF07XG5cblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0dGhpcy5jYWNoZVsgdW5sb2NrIF0gPSB7fTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBTdXBwb3J0IGFycmF5IG9yIHNwYWNlIHNlcGFyYXRlZCBzdHJpbmcgb2Yga2V5c1xuXHRcdFx0aWYgKCBqUXVlcnkuaXNBcnJheSgga2V5ICkgKSB7XG5cdFx0XHRcdC8vIElmIFwibmFtZVwiIGlzIGFuIGFycmF5IG9mIGtleXMuLi5cblx0XHRcdFx0Ly8gV2hlbiBkYXRhIGlzIGluaXRpYWxseSBjcmVhdGVkLCB2aWEgKFwia2V5XCIsIFwidmFsXCIpIHNpZ25hdHVyZSxcblx0XHRcdFx0Ly8ga2V5cyB3aWxsIGJlIGNvbnZlcnRlZCB0byBjYW1lbENhc2UuXG5cdFx0XHRcdC8vIFNpbmNlIHRoZXJlIGlzIG5vIHdheSB0byB0ZWxsIF9ob3dfIGEga2V5IHdhcyBhZGRlZCwgcmVtb3ZlXG5cdFx0XHRcdC8vIGJvdGggcGxhaW4ga2V5IGFuZCBjYW1lbENhc2Uga2V5LiAjMTI3ODZcblx0XHRcdFx0Ly8gVGhpcyB3aWxsIG9ubHkgcGVuYWxpemUgdGhlIGFycmF5IGFyZ3VtZW50IHBhdGguXG5cdFx0XHRcdG5hbWUgPSBrZXkuY29uY2F0KCBrZXkubWFwKCBqUXVlcnkuY2FtZWxDYXNlICkgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNhbWVsID0galF1ZXJ5LmNhbWVsQ2FzZSgga2V5ICk7XG5cdFx0XHRcdC8vIFRyeSB0aGUgc3RyaW5nIGFzIGEga2V5IGJlZm9yZSBhbnkgbWFuaXB1bGF0aW9uXG5cdFx0XHRcdGlmICgga2V5IGluIGNhY2hlICkge1xuXHRcdFx0XHRcdG5hbWUgPSBbIGtleSwgY2FtZWwgXTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBJZiBhIGtleSB3aXRoIHRoZSBzcGFjZXMgZXhpc3RzLCB1c2UgaXQuXG5cdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBjcmVhdGUgYW4gYXJyYXkgYnkgbWF0Y2hpbmcgbm9uLXdoaXRlc3BhY2Vcblx0XHRcdFx0XHRuYW1lID0gY2FtZWw7XG5cdFx0XHRcdFx0bmFtZSA9IG5hbWUgaW4gY2FjaGUgP1xuXHRcdFx0XHRcdFx0WyBuYW1lIF0gOiAoIG5hbWUubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aSA9IG5hbWUubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGRlbGV0ZSBjYWNoZVsgbmFtZVsgaSBdIF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXHRoYXNEYXRhOiBmdW5jdGlvbiggb3duZXIgKSB7XG5cdFx0cmV0dXJuICFqUXVlcnkuaXNFbXB0eU9iamVjdChcblx0XHRcdHRoaXMuY2FjaGVbIG93bmVyWyB0aGlzLmV4cGFuZG8gXSBdIHx8IHt9XG5cdFx0KTtcblx0fSxcblx0ZGlzY2FyZDogZnVuY3Rpb24oIG93bmVyICkge1xuXHRcdGlmICggb3duZXJbIHRoaXMuZXhwYW5kbyBdICkge1xuXHRcdFx0ZGVsZXRlIHRoaXMuY2FjaGVbIG93bmVyWyB0aGlzLmV4cGFuZG8gXSBdO1xuXHRcdH1cblx0fVxufTtcbnZhciBkYXRhX3ByaXYgPSBuZXcgRGF0YSgpO1xuXG52YXIgZGF0YV91c2VyID0gbmV3IERhdGEoKTtcblxuXG5cbi8vXHRJbXBsZW1lbnRhdGlvbiBTdW1tYXJ5XG4vL1xuLy9cdDEuIEVuZm9yY2UgQVBJIHN1cmZhY2UgYW5kIHNlbWFudGljIGNvbXBhdGliaWxpdHkgd2l0aCAxLjkueCBicmFuY2hcbi8vXHQyLiBJbXByb3ZlIHRoZSBtb2R1bGUncyBtYWludGFpbmFiaWxpdHkgYnkgcmVkdWNpbmcgdGhlIHN0b3JhZ2Vcbi8vXHRcdHBhdGhzIHRvIGEgc2luZ2xlIG1lY2hhbmlzbS5cbi8vXHQzLiBVc2UgdGhlIHNhbWUgc2luZ2xlIG1lY2hhbmlzbSB0byBzdXBwb3J0IFwicHJpdmF0ZVwiIGFuZCBcInVzZXJcIiBkYXRhLlxuLy9cdDQuIF9OZXZlcl8gZXhwb3NlIFwicHJpdmF0ZVwiIGRhdGEgdG8gdXNlciBjb2RlIChUT0RPOiBEcm9wIF9kYXRhLCBfcmVtb3ZlRGF0YSlcbi8vXHQ1LiBBdm9pZCBleHBvc2luZyBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzIG9uIHVzZXIgb2JqZWN0cyAoZWcuIGV4cGFuZG8gcHJvcGVydGllcylcbi8vXHQ2LiBQcm92aWRlIGEgY2xlYXIgcGF0aCBmb3IgaW1wbGVtZW50YXRpb24gdXBncmFkZSB0byBXZWFrTWFwIGluIDIwMTRcblxudmFyIHJicmFjZSA9IC9eKD86XFx7W1xcd1xcV10qXFx9fFxcW1tcXHdcXFddKlxcXSkkLyxcblx0cm11bHRpRGFzaCA9IC8oW0EtWl0pL2c7XG5cbmZ1bmN0aW9uIGRhdGFBdHRyKCBlbGVtLCBrZXksIGRhdGEgKSB7XG5cdHZhciBuYW1lO1xuXG5cdC8vIElmIG5vdGhpbmcgd2FzIGZvdW5kIGludGVybmFsbHksIHRyeSB0byBmZXRjaCBhbnlcblx0Ly8gZGF0YSBmcm9tIHRoZSBIVE1MNSBkYXRhLSogYXR0cmlidXRlXG5cdGlmICggZGF0YSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0bmFtZSA9IFwiZGF0YS1cIiArIGtleS5yZXBsYWNlKCBybXVsdGlEYXNoLCBcIi0kMVwiICkudG9Mb3dlckNhc2UoKTtcblx0XHRkYXRhID0gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKTtcblxuXHRcdGlmICggdHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRkYXRhID0gZGF0YSA9PT0gXCJ0cnVlXCIgPyB0cnVlIDpcblx0XHRcdFx0XHRkYXRhID09PSBcImZhbHNlXCIgPyBmYWxzZSA6XG5cdFx0XHRcdFx0ZGF0YSA9PT0gXCJudWxsXCIgPyBudWxsIDpcblx0XHRcdFx0XHQvLyBPbmx5IGNvbnZlcnQgdG8gYSBudW1iZXIgaWYgaXQgZG9lc24ndCBjaGFuZ2UgdGhlIHN0cmluZ1xuXHRcdFx0XHRcdCtkYXRhICsgXCJcIiA9PT0gZGF0YSA/ICtkYXRhIDpcblx0XHRcdFx0XHRyYnJhY2UudGVzdCggZGF0YSApID8galF1ZXJ5LnBhcnNlSlNPTiggZGF0YSApIDpcblx0XHRcdFx0XHRkYXRhO1xuXHRcdFx0fSBjYXRjaCggZSApIHt9XG5cblx0XHRcdC8vIE1ha2Ugc3VyZSB3ZSBzZXQgdGhlIGRhdGEgc28gaXQgaXNuJ3QgY2hhbmdlZCBsYXRlclxuXHRcdFx0ZGF0YV91c2VyLnNldCggZWxlbSwga2V5LCBkYXRhICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRhdGEgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBkYXRhO1xufVxuXG5qUXVlcnkuZXh0ZW5kKHtcblx0aGFzRGF0YTogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRhdGFfdXNlci5oYXNEYXRhKCBlbGVtICkgfHwgZGF0YV9wcml2Lmhhc0RhdGEoIGVsZW0gKTtcblx0fSxcblxuXHRkYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gZGF0YV91c2VyLmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xuXHR9LFxuXG5cdHJlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdGRhdGFfdXNlci5yZW1vdmUoIGVsZW0sIG5hbWUgKTtcblx0fSxcblxuXHQvLyBUT0RPOiBOb3cgdGhhdCBhbGwgY2FsbHMgdG8gX2RhdGEgYW5kIF9yZW1vdmVEYXRhIGhhdmUgYmVlbiByZXBsYWNlZFxuXHQvLyB3aXRoIGRpcmVjdCBjYWxscyB0byBkYXRhX3ByaXYgbWV0aG9kcywgdGhlc2UgY2FuIGJlIGRlcHJlY2F0ZWQuXG5cdF9kYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gZGF0YV9wcml2LmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xuXHR9LFxuXG5cdF9yZW1vdmVEYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0XHRkYXRhX3ByaXYucmVtb3ZlKCBlbGVtLCBuYW1lICk7XG5cdH1cbn0pO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKHtcblx0ZGF0YTogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0dmFyIGksIG5hbWUsIGRhdGEsXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdLFxuXHRcdFx0YXR0cnMgPSBlbGVtICYmIGVsZW0uYXR0cmlidXRlcztcblxuXHRcdC8vIEdldHMgYWxsIHZhbHVlc1xuXHRcdGlmICgga2V5ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIHRoaXMubGVuZ3RoICkge1xuXHRcdFx0XHRkYXRhID0gZGF0YV91c2VyLmdldCggZWxlbSApO1xuXG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAhZGF0YV9wcml2LmdldCggZWxlbSwgXCJoYXNEYXRhQXR0cnNcIiApICkge1xuXHRcdFx0XHRcdGkgPSBhdHRycy5sZW5ndGg7XG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFMTErXG5cdFx0XHRcdFx0XHQvLyBUaGUgYXR0cnMgZWxlbWVudHMgY2FuIGJlIG51bGwgKCMxNDg5NClcblx0XHRcdFx0XHRcdGlmICggYXR0cnNbIGkgXSApIHtcblx0XHRcdFx0XHRcdFx0bmFtZSA9IGF0dHJzWyBpIF0ubmFtZTtcblx0XHRcdFx0XHRcdFx0aWYgKCBuYW1lLmluZGV4T2YoIFwiZGF0YS1cIiApID09PSAwICkge1xuXHRcdFx0XHRcdFx0XHRcdG5hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBuYW1lLnNsaWNlKDUpICk7XG5cdFx0XHRcdFx0XHRcdFx0ZGF0YUF0dHIoIGVsZW0sIG5hbWUsIGRhdGFbIG5hbWUgXSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRhdGFfcHJpdi5zZXQoIGVsZW0sIFwiaGFzRGF0YUF0dHJzXCIsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZGF0YTtcblx0XHR9XG5cblx0XHQvLyBTZXRzIG11bHRpcGxlIHZhbHVlc1xuXHRcdGlmICggdHlwZW9mIGtleSA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRhdGFfdXNlci5zZXQoIHRoaXMsIGtleSApO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGRhdGEsXG5cdFx0XHRcdGNhbWVsS2V5ID0galF1ZXJ5LmNhbWVsQ2FzZSgga2V5ICk7XG5cblx0XHRcdC8vIFRoZSBjYWxsaW5nIGpRdWVyeSBvYmplY3QgKGVsZW1lbnQgbWF0Y2hlcykgaXMgbm90IGVtcHR5XG5cdFx0XHQvLyAoYW5kIHRoZXJlZm9yZSBoYXMgYW4gZWxlbWVudCBhcHBlYXJzIGF0IHRoaXNbIDAgXSkgYW5kIHRoZVxuXHRcdFx0Ly8gYHZhbHVlYCBwYXJhbWV0ZXIgd2FzIG5vdCB1bmRlZmluZWQuIEFuIGVtcHR5IGpRdWVyeSBvYmplY3Rcblx0XHRcdC8vIHdpbGwgcmVzdWx0IGluIGB1bmRlZmluZWRgIGZvciBlbGVtID0gdGhpc1sgMCBdIHdoaWNoIHdpbGxcblx0XHRcdC8vIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhbiBhdHRlbXB0IHRvIHJlYWQgYSBkYXRhIGNhY2hlIGlzIG1hZGUuXG5cdFx0XHRpZiAoIGVsZW0gJiYgdmFsdWUgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0Ly8gQXR0ZW1wdCB0byBnZXQgZGF0YSBmcm9tIHRoZSBjYWNoZVxuXHRcdFx0XHQvLyB3aXRoIHRoZSBrZXkgYXMtaXNcblx0XHRcdFx0ZGF0YSA9IGRhdGFfdXNlci5nZXQoIGVsZW0sIGtleSApO1xuXHRcdFx0XHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEF0dGVtcHQgdG8gZ2V0IGRhdGEgZnJvbSB0aGUgY2FjaGVcblx0XHRcdFx0Ly8gd2l0aCB0aGUga2V5IGNhbWVsaXplZFxuXHRcdFx0XHRkYXRhID0gZGF0YV91c2VyLmdldCggZWxlbSwgY2FtZWxLZXkgKTtcblx0XHRcdFx0aWYgKCBkYXRhICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBdHRlbXB0IHRvIFwiZGlzY292ZXJcIiB0aGUgZGF0YSBpblxuXHRcdFx0XHQvLyBIVE1MNSBjdXN0b20gZGF0YS0qIGF0dHJzXG5cdFx0XHRcdGRhdGEgPSBkYXRhQXR0ciggZWxlbSwgY2FtZWxLZXksIHVuZGVmaW5lZCApO1xuXHRcdFx0XHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFdlIHRyaWVkIHJlYWxseSBoYXJkLCBidXQgdGhlIGRhdGEgZG9lc24ndCBleGlzdC5cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZXQgdGhlIGRhdGEuLi5cblx0XHRcdHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0Ly8gRmlyc3QsIGF0dGVtcHQgdG8gc3RvcmUgYSBjb3B5IG9yIHJlZmVyZW5jZSBvZiBhbnlcblx0XHRcdFx0Ly8gZGF0YSB0aGF0IG1pZ2h0J3ZlIGJlZW4gc3RvcmUgd2l0aCBhIGNhbWVsQ2FzZWQga2V5LlxuXHRcdFx0XHR2YXIgZGF0YSA9IGRhdGFfdXNlci5nZXQoIHRoaXMsIGNhbWVsS2V5ICk7XG5cblx0XHRcdFx0Ly8gRm9yIEhUTUw1IGRhdGEtKiBhdHRyaWJ1dGUgaW50ZXJvcCwgd2UgaGF2ZSB0b1xuXHRcdFx0XHQvLyBzdG9yZSBwcm9wZXJ0eSBuYW1lcyB3aXRoIGRhc2hlcyBpbiBhIGNhbWVsQ2FzZSBmb3JtLlxuXHRcdFx0XHQvLyBUaGlzIG1pZ2h0IG5vdCBhcHBseSB0byBhbGwgcHJvcGVydGllcy4uLipcblx0XHRcdFx0ZGF0YV91c2VyLnNldCggdGhpcywgY2FtZWxLZXksIHZhbHVlICk7XG5cblx0XHRcdFx0Ly8gKi4uLiBJbiB0aGUgY2FzZSBvZiBwcm9wZXJ0aWVzIHRoYXQgbWlnaHQgX2FjdHVhbGx5X1xuXHRcdFx0XHQvLyBoYXZlIGRhc2hlcywgd2UgbmVlZCB0byBhbHNvIHN0b3JlIGEgY29weSBvZiB0aGF0XG5cdFx0XHRcdC8vIHVuY2hhbmdlZCBwcm9wZXJ0eS5cblx0XHRcdFx0aWYgKCBrZXkuaW5kZXhPZihcIi1cIikgIT09IC0xICYmIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRkYXRhX3VzZXIuc2V0KCB0aGlzLCBrZXksIHZhbHVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSwgbnVsbCwgdHJ1ZSApO1xuXHR9LFxuXG5cdHJlbW92ZURhdGE6IGZ1bmN0aW9uKCBrZXkgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdGRhdGFfdXNlci5yZW1vdmUoIHRoaXMsIGtleSApO1xuXHRcdH0pO1xuXHR9XG59KTtcblxuXG5qUXVlcnkuZXh0ZW5kKHtcblx0cXVldWU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBxdWV1ZTtcblxuXHRcdGlmICggZWxlbSApIHtcblx0XHRcdHR5cGUgPSAoIHR5cGUgfHwgXCJmeFwiICkgKyBcInF1ZXVlXCI7XG5cdFx0XHRxdWV1ZSA9IGRhdGFfcHJpdi5nZXQoIGVsZW0sIHR5cGUgKTtcblxuXHRcdFx0Ly8gU3BlZWQgdXAgZGVxdWV1ZSBieSBnZXR0aW5nIG91dCBxdWlja2x5IGlmIHRoaXMgaXMganVzdCBhIGxvb2t1cFxuXHRcdFx0aWYgKCBkYXRhICkge1xuXHRcdFx0XHRpZiAoICFxdWV1ZSB8fCBqUXVlcnkuaXNBcnJheSggZGF0YSApICkge1xuXHRcdFx0XHRcdHF1ZXVlID0gZGF0YV9wcml2LmFjY2VzcyggZWxlbSwgdHlwZSwgalF1ZXJ5Lm1ha2VBcnJheShkYXRhKSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHF1ZXVlLnB1c2goIGRhdGEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHF1ZXVlIHx8IFtdO1xuXHRcdH1cblx0fSxcblxuXHRkZXF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHtcblx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cblx0XHR2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoIGVsZW0sIHR5cGUgKSxcblx0XHRcdHN0YXJ0TGVuZ3RoID0gcXVldWUubGVuZ3RoLFxuXHRcdFx0Zm4gPSBxdWV1ZS5zaGlmdCgpLFxuXHRcdFx0aG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sIHR5cGUgKSxcblx0XHRcdG5leHQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIGVsZW0sIHR5cGUgKTtcblx0XHRcdH07XG5cblx0XHQvLyBJZiB0aGUgZnggcXVldWUgaXMgZGVxdWV1ZWQsIGFsd2F5cyByZW1vdmUgdGhlIHByb2dyZXNzIHNlbnRpbmVsXG5cdFx0aWYgKCBmbiA9PT0gXCJpbnByb2dyZXNzXCIgKSB7XG5cdFx0XHRmbiA9IHF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRzdGFydExlbmd0aC0tO1xuXHRcdH1cblxuXHRcdGlmICggZm4gKSB7XG5cblx0XHRcdC8vIEFkZCBhIHByb2dyZXNzIHNlbnRpbmVsIHRvIHByZXZlbnQgdGhlIGZ4IHF1ZXVlIGZyb20gYmVpbmdcblx0XHRcdC8vIGF1dG9tYXRpY2FsbHkgZGVxdWV1ZWRcblx0XHRcdGlmICggdHlwZSA9PT0gXCJmeFwiICkge1xuXHRcdFx0XHRxdWV1ZS51bnNoaWZ0KCBcImlucHJvZ3Jlc3NcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDbGVhciB1cCB0aGUgbGFzdCBxdWV1ZSBzdG9wIGZ1bmN0aW9uXG5cdFx0XHRkZWxldGUgaG9va3Muc3RvcDtcblx0XHRcdGZuLmNhbGwoIGVsZW0sIG5leHQsIGhvb2tzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhc3RhcnRMZW5ndGggJiYgaG9va3MgKSB7XG5cdFx0XHRob29rcy5lbXB0eS5maXJlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdC8vIE5vdCBwdWJsaWMgLSBnZW5lcmF0ZSBhIHF1ZXVlSG9va3Mgb2JqZWN0LCBvciByZXR1cm4gdGhlIGN1cnJlbnQgb25lXG5cdF9xdWV1ZUhvb2tzOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHtcblx0XHR2YXIga2V5ID0gdHlwZSArIFwicXVldWVIb29rc1wiO1xuXHRcdHJldHVybiBkYXRhX3ByaXYuZ2V0KCBlbGVtLCBrZXkgKSB8fCBkYXRhX3ByaXYuYWNjZXNzKCBlbGVtLCBrZXksIHtcblx0XHRcdGVtcHR5OiBqUXVlcnkuQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIikuYWRkKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRkYXRhX3ByaXYucmVtb3ZlKCBlbGVtLCBbIHR5cGUgKyBcInF1ZXVlXCIsIGtleSBdICk7XG5cdFx0XHR9KVxuXHRcdH0pO1xuXHR9XG59KTtcblxualF1ZXJ5LmZuLmV4dGVuZCh7XG5cdHF1ZXVlOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgc2V0dGVyID0gMjtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRkYXRhID0gdHlwZTtcblx0XHRcdHR5cGUgPSBcImZ4XCI7XG5cdFx0XHRzZXR0ZXItLTtcblx0XHR9XG5cblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPCBzZXR0ZXIgKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LnF1ZXVlKCB0aGlzWzBdLCB0eXBlICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRhdGEgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHR0aGlzIDpcblx0XHRcdHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKCB0aGlzLCB0eXBlLCBkYXRhICk7XG5cblx0XHRcdFx0Ly8gRW5zdXJlIGEgaG9va3MgZm9yIHRoaXMgcXVldWVcblx0XHRcdFx0alF1ZXJ5Ll9xdWV1ZUhvb2tzKCB0aGlzLCB0eXBlICk7XG5cblx0XHRcdFx0aWYgKCB0eXBlID09PSBcImZ4XCIgJiYgcXVldWVbMF0gIT09IFwiaW5wcm9ncmVzc1wiICkge1xuXHRcdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHR9LFxuXHRkZXF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcblx0XHR9KTtcblx0fSxcblx0Y2xlYXJRdWV1ZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0cmV0dXJuIHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xuXHR9LFxuXHQvLyBHZXQgYSBwcm9taXNlIHJlc29sdmVkIHdoZW4gcXVldWVzIG9mIGEgY2VydGFpbiB0eXBlXG5cdC8vIGFyZSBlbXB0aWVkIChmeCBpcyB0aGUgdHlwZSBieSBkZWZhdWx0KVxuXHRwcm9taXNlOiBmdW5jdGlvbiggdHlwZSwgb2JqICkge1xuXHRcdHZhciB0bXAsXG5cdFx0XHRjb3VudCA9IDEsXG5cdFx0XHRkZWZlciA9IGpRdWVyeS5EZWZlcnJlZCgpLFxuXHRcdFx0ZWxlbWVudHMgPSB0aGlzLFxuXHRcdFx0aSA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0cmVzb2x2ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoICEoIC0tY291bnQgKSApIHtcblx0XHRcdFx0XHRkZWZlci5yZXNvbHZlV2l0aCggZWxlbWVudHMsIFsgZWxlbWVudHMgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdG9iaiA9IHR5cGU7XG5cdFx0XHR0eXBlID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdHRtcCA9IGRhdGFfcHJpdi5nZXQoIGVsZW1lbnRzWyBpIF0sIHR5cGUgKyBcInF1ZXVlSG9va3NcIiApO1xuXHRcdFx0aWYgKCB0bXAgJiYgdG1wLmVtcHR5ICkge1xuXHRcdFx0XHRjb3VudCsrO1xuXHRcdFx0XHR0bXAuZW1wdHkuYWRkKCByZXNvbHZlICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJlc29sdmUoKTtcblx0XHRyZXR1cm4gZGVmZXIucHJvbWlzZSggb2JqICk7XG5cdH1cbn0pO1xudmFyIHBudW0gPSAoL1srLV0/KD86XFxkKlxcLnwpXFxkKyg/OltlRV1bKy1dP1xcZCt8KS8pLnNvdXJjZTtcblxudmFyIGNzc0V4cGFuZCA9IFsgXCJUb3BcIiwgXCJSaWdodFwiLCBcIkJvdHRvbVwiLCBcIkxlZnRcIiBdO1xuXG52YXIgaXNIaWRkZW4gPSBmdW5jdGlvbiggZWxlbSwgZWwgKSB7XG5cdFx0Ly8gaXNIaWRkZW4gbWlnaHQgYmUgY2FsbGVkIGZyb20galF1ZXJ5I2ZpbHRlciBmdW5jdGlvbjtcblx0XHQvLyBpbiB0aGF0IGNhc2UsIGVsZW1lbnQgd2lsbCBiZSBzZWNvbmQgYXJndW1lbnRcblx0XHRlbGVtID0gZWwgfHwgZWxlbTtcblx0XHRyZXR1cm4galF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSA9PT0gXCJub25lXCIgfHwgIWpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7XG5cdH07XG5cbnZhciByY2hlY2thYmxlVHlwZSA9ICgvXig/OmNoZWNrYm94fHJhZGlvKSQvaSk7XG5cblxuXG4oZnVuY3Rpb24oKSB7XG5cdHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcblx0XHRkaXYgPSBmcmFnbWVudC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICksXG5cdFx0aW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKTtcblxuXHQvLyBTdXBwb3J0OiBTYWZhcmk8PTUuMVxuXHQvLyBDaGVjayBzdGF0ZSBsb3N0IGlmIHRoZSBuYW1lIGlzIHNldCAoIzExMjE3KVxuXHQvLyBTdXBwb3J0OiBXaW5kb3dzIFdlYiBBcHBzIChXV0EpXG5cdC8vIGBuYW1lYCBhbmQgYHR5cGVgIG11c3QgdXNlIC5zZXRBdHRyaWJ1dGUgZm9yIFdXQSAoIzE0OTAxKVxuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcInJhZGlvXCIgKTtcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcImNoZWNrZWRcIiwgXCJjaGVja2VkXCIgKTtcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcIm5hbWVcIiwgXCJ0XCIgKTtcblxuXHRkaXYuYXBwZW5kQ2hpbGQoIGlucHV0ICk7XG5cblx0Ly8gU3VwcG9ydDogU2FmYXJpPD01LjEsIEFuZHJvaWQ8NC4yXG5cdC8vIE9sZGVyIFdlYktpdCBkb2Vzbid0IGNsb25lIGNoZWNrZWQgc3RhdGUgY29ycmVjdGx5IGluIGZyYWdtZW50c1xuXHRzdXBwb3J0LmNoZWNrQ2xvbmUgPSBkaXYuY2xvbmVOb2RlKCB0cnVlICkuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmNoZWNrZWQ7XG5cblx0Ly8gU3VwcG9ydDogSUU8PTExK1xuXHQvLyBNYWtlIHN1cmUgdGV4dGFyZWEgKGFuZCBjaGVja2JveCkgZGVmYXVsdFZhbHVlIGlzIHByb3Blcmx5IGNsb25lZFxuXHRkaXYuaW5uZXJIVE1MID0gXCI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+XCI7XG5cdHN1cHBvcnQubm9DbG9uZUNoZWNrZWQgPSAhIWRpdi5jbG9uZU5vZGUoIHRydWUgKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlO1xufSkoKTtcbnZhciBzdHJ1bmRlZmluZWQgPSB0eXBlb2YgdW5kZWZpbmVkO1xuXG5cblxuc3VwcG9ydC5mb2N1c2luQnViYmxlcyA9IFwib25mb2N1c2luXCIgaW4gd2luZG93O1xuXG5cbnZhclxuXHRya2V5RXZlbnQgPSAvXmtleS8sXG5cdHJtb3VzZUV2ZW50ID0gL14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51KXxjbGljay8sXG5cdHJmb2N1c01vcnBoID0gL14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLFxuXHRydHlwZW5hbWVzcGFjZSA9IC9eKFteLl0qKSg/OlxcLiguKyl8KSQvO1xuXG5mdW5jdGlvbiByZXR1cm5UcnVlKCkge1xuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcmV0dXJuRmFsc2UoKSB7XG5cdHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gc2FmZUFjdGl2ZUVsZW1lbnQoKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cdH0gY2F0Y2ggKCBlcnIgKSB7IH1cbn1cblxuLypcbiAqIEhlbHBlciBmdW5jdGlvbnMgZm9yIG1hbmFnaW5nIGV2ZW50cyAtLSBub3QgcGFydCBvZiB0aGUgcHVibGljIGludGVyZmFjZS5cbiAqIFByb3BzIHRvIERlYW4gRWR3YXJkcycgYWRkRXZlbnQgbGlicmFyeSBmb3IgbWFueSBvZiB0aGUgaWRlYXMuXG4gKi9cbmpRdWVyeS5ldmVudCA9IHtcblxuXHRnbG9iYWw6IHt9LFxuXG5cdGFkZDogZnVuY3Rpb24oIGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBkYXRhLCBzZWxlY3RvciApIHtcblxuXHRcdHZhciBoYW5kbGVPYmpJbiwgZXZlbnRIYW5kbGUsIHRtcCxcblx0XHRcdGV2ZW50cywgdCwgaGFuZGxlT2JqLFxuXHRcdFx0c3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLFxuXHRcdFx0ZWxlbURhdGEgPSBkYXRhX3ByaXYuZ2V0KCBlbGVtICk7XG5cblx0XHQvLyBEb24ndCBhdHRhY2ggZXZlbnRzIHRvIG5vRGF0YSBvciB0ZXh0L2NvbW1lbnQgbm9kZXMgKGJ1dCBhbGxvdyBwbGFpbiBvYmplY3RzKVxuXHRcdGlmICggIWVsZW1EYXRhICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIENhbGxlciBjYW4gcGFzcyBpbiBhbiBvYmplY3Qgb2YgY3VzdG9tIGRhdGEgaW4gbGlldSBvZiB0aGUgaGFuZGxlclxuXHRcdGlmICggaGFuZGxlci5oYW5kbGVyICkge1xuXHRcdFx0aGFuZGxlT2JqSW4gPSBoYW5kbGVyO1xuXHRcdFx0aGFuZGxlciA9IGhhbmRsZU9iakluLmhhbmRsZXI7XG5cdFx0XHRzZWxlY3RvciA9IGhhbmRsZU9iakluLnNlbGVjdG9yO1xuXHRcdH1cblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBoYW5kbGVyIGhhcyBhIHVuaXF1ZSBJRCwgdXNlZCB0byBmaW5kL3JlbW92ZSBpdCBsYXRlclxuXHRcdGlmICggIWhhbmRsZXIuZ3VpZCApIHtcblx0XHRcdGhhbmRsZXIuZ3VpZCA9IGpRdWVyeS5ndWlkKys7XG5cdFx0fVxuXG5cdFx0Ly8gSW5pdCB0aGUgZWxlbWVudCdzIGV2ZW50IHN0cnVjdHVyZSBhbmQgbWFpbiBoYW5kbGVyLCBpZiB0aGlzIGlzIHRoZSBmaXJzdFxuXHRcdGlmICggIShldmVudHMgPSBlbGVtRGF0YS5ldmVudHMpICkge1xuXHRcdFx0ZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzID0ge307XG5cdFx0fVxuXHRcdGlmICggIShldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSkgKSB7XG5cdFx0XHRldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSA9IGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0XHQvLyBEaXNjYXJkIHRoZSBzZWNvbmQgZXZlbnQgb2YgYSBqUXVlcnkuZXZlbnQudHJpZ2dlcigpIGFuZFxuXHRcdFx0XHQvLyB3aGVuIGFuIGV2ZW50IGlzIGNhbGxlZCBhZnRlciBhIHBhZ2UgaGFzIHVubG9hZGVkXG5cdFx0XHRcdHJldHVybiB0eXBlb2YgalF1ZXJ5ICE9PSBzdHJ1bmRlZmluZWQgJiYgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCAhPT0gZS50eXBlID9cblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQuZGlzcGF0Y2guYXBwbHkoIGVsZW0sIGFyZ3VtZW50cyApIDogdW5kZWZpbmVkO1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBIYW5kbGUgbXVsdGlwbGUgZXZlbnRzIHNlcGFyYXRlZCBieSBhIHNwYWNlXG5cdFx0dHlwZXMgPSAoIHR5cGVzIHx8IFwiXCIgKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgWyBcIlwiIF07XG5cdFx0dCA9IHR5cGVzLmxlbmd0aDtcblx0XHR3aGlsZSAoIHQtLSApIHtcblx0XHRcdHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzW3RdICkgfHwgW107XG5cdFx0XHR0eXBlID0gb3JpZ1R5cGUgPSB0bXBbMV07XG5cdFx0XHRuYW1lc3BhY2VzID0gKCB0bXBbMl0gfHwgXCJcIiApLnNwbGl0KCBcIi5cIiApLnNvcnQoKTtcblxuXHRcdFx0Ly8gVGhlcmUgKm11c3QqIGJlIGEgdHlwZSwgbm8gYXR0YWNoaW5nIG5hbWVzcGFjZS1vbmx5IGhhbmRsZXJzXG5cdFx0XHRpZiAoICF0eXBlICkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgZXZlbnQgY2hhbmdlcyBpdHMgdHlwZSwgdXNlIHRoZSBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgY2hhbmdlZCB0eXBlXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblxuXHRcdFx0Ly8gSWYgc2VsZWN0b3IgZGVmaW5lZCwgZGV0ZXJtaW5lIHNwZWNpYWwgZXZlbnQgYXBpIHR5cGUsIG90aGVyd2lzZSBnaXZlbiB0eXBlXG5cdFx0XHR0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7XG5cblx0XHRcdC8vIFVwZGF0ZSBzcGVjaWFsIGJhc2VkIG9uIG5ld2x5IHJlc2V0IHR5cGVcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXG5cdFx0XHQvLyBoYW5kbGVPYmogaXMgcGFzc2VkIHRvIGFsbCBldmVudCBoYW5kbGVyc1xuXHRcdFx0aGFuZGxlT2JqID0galF1ZXJ5LmV4dGVuZCh7XG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdG9yaWdUeXBlOiBvcmlnVHlwZSxcblx0XHRcdFx0ZGF0YTogZGF0YSxcblx0XHRcdFx0aGFuZGxlcjogaGFuZGxlcixcblx0XHRcdFx0Z3VpZDogaGFuZGxlci5ndWlkLFxuXHRcdFx0XHRzZWxlY3Rvcjogc2VsZWN0b3IsXG5cdFx0XHRcdG5lZWRzQ29udGV4dDogc2VsZWN0b3IgJiYgalF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICksXG5cdFx0XHRcdG5hbWVzcGFjZTogbmFtZXNwYWNlcy5qb2luKFwiLlwiKVxuXHRcdFx0fSwgaGFuZGxlT2JqSW4gKTtcblxuXHRcdFx0Ly8gSW5pdCB0aGUgZXZlbnQgaGFuZGxlciBxdWV1ZSBpZiB3ZSdyZSB0aGUgZmlyc3Rcblx0XHRcdGlmICggIShoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdKSApIHtcblx0XHRcdFx0aGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSA9IFtdO1xuXHRcdFx0XHRoYW5kbGVycy5kZWxlZ2F0ZUNvdW50ID0gMDtcblxuXHRcdFx0XHQvLyBPbmx5IHVzZSBhZGRFdmVudExpc3RlbmVyIGlmIHRoZSBzcGVjaWFsIGV2ZW50cyBoYW5kbGVyIHJldHVybnMgZmFsc2Vcblx0XHRcdFx0aWYgKCAhc3BlY2lhbC5zZXR1cCB8fCBzcGVjaWFsLnNldHVwLmNhbGwoIGVsZW0sIGRhdGEsIG5hbWVzcGFjZXMsIGV2ZW50SGFuZGxlICkgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGlmICggZWxlbS5hZGRFdmVudExpc3RlbmVyICkge1xuXHRcdFx0XHRcdFx0ZWxlbS5hZGRFdmVudExpc3RlbmVyKCB0eXBlLCBldmVudEhhbmRsZSwgZmFsc2UgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBzcGVjaWFsLmFkZCApIHtcblx0XHRcdFx0c3BlY2lhbC5hZGQuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cblx0XHRcdFx0aWYgKCAhaGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCApIHtcblx0XHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlci5ndWlkID0gaGFuZGxlci5ndWlkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCB0byB0aGUgZWxlbWVudCdzIGhhbmRsZXIgbGlzdCwgZGVsZWdhdGVzIGluIGZyb250XG5cdFx0XHRpZiAoIHNlbGVjdG9yICkge1xuXHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGhhbmRsZXJzLmRlbGVnYXRlQ291bnQrKywgMCwgaGFuZGxlT2JqICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRoYW5kbGVycy5wdXNoKCBoYW5kbGVPYmogKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gS2VlcCB0cmFjayBvZiB3aGljaCBldmVudHMgaGF2ZSBldmVyIGJlZW4gdXNlZCwgZm9yIGV2ZW50IG9wdGltaXphdGlvblxuXHRcdFx0alF1ZXJ5LmV2ZW50Lmdsb2JhbFsgdHlwZSBdID0gdHJ1ZTtcblx0XHR9XG5cblx0fSxcblxuXHQvLyBEZXRhY2ggYW4gZXZlbnQgb3Igc2V0IG9mIGV2ZW50cyBmcm9tIGFuIGVsZW1lbnRcblx0cmVtb3ZlOiBmdW5jdGlvbiggZWxlbSwgdHlwZXMsIGhhbmRsZXIsIHNlbGVjdG9yLCBtYXBwZWRUeXBlcyApIHtcblxuXHRcdHZhciBqLCBvcmlnQ291bnQsIHRtcCxcblx0XHRcdGV2ZW50cywgdCwgaGFuZGxlT2JqLFxuXHRcdFx0c3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLFxuXHRcdFx0ZWxlbURhdGEgPSBkYXRhX3ByaXYuaGFzRGF0YSggZWxlbSApICYmIGRhdGFfcHJpdi5nZXQoIGVsZW0gKTtcblxuXHRcdGlmICggIWVsZW1EYXRhIHx8ICEoZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBPbmNlIGZvciBlYWNoIHR5cGUubmFtZXNwYWNlIGluIHR5cGVzOyB0eXBlIG1heSBiZSBvbWl0dGVkXG5cdFx0dHlwZXMgPSAoIHR5cGVzIHx8IFwiXCIgKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgWyBcIlwiIF07XG5cdFx0dCA9IHR5cGVzLmxlbmd0aDtcblx0XHR3aGlsZSAoIHQtLSApIHtcblx0XHRcdHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzW3RdICkgfHwgW107XG5cdFx0XHR0eXBlID0gb3JpZ1R5cGUgPSB0bXBbMV07XG5cdFx0XHRuYW1lc3BhY2VzID0gKCB0bXBbMl0gfHwgXCJcIiApLnNwbGl0KCBcIi5cIiApLnNvcnQoKTtcblxuXHRcdFx0Ly8gVW5iaW5kIGFsbCBldmVudHMgKG9uIHRoaXMgbmFtZXNwYWNlLCBpZiBwcm92aWRlZCkgZm9yIHRoZSBlbGVtZW50XG5cdFx0XHRpZiAoICF0eXBlICkge1xuXHRcdFx0XHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICsgdHlwZXNbIHQgXSwgaGFuZGxlciwgc2VsZWN0b3IsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFx0XHR0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7XG5cdFx0XHRoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdIHx8IFtdO1xuXHRcdFx0dG1wID0gdG1wWzJdICYmIG5ldyBSZWdFeHAoIFwiKF58XFxcXC4pXCIgKyBuYW1lc3BhY2VzLmpvaW4oXCJcXFxcLig/Oi4qXFxcXC58KVwiKSArIFwiKFxcXFwufCQpXCIgKTtcblxuXHRcdFx0Ly8gUmVtb3ZlIG1hdGNoaW5nIGV2ZW50c1xuXHRcdFx0b3JpZ0NvdW50ID0gaiA9IGhhbmRsZXJzLmxlbmd0aDtcblx0XHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0XHRoYW5kbGVPYmogPSBoYW5kbGVyc1sgaiBdO1xuXG5cdFx0XHRcdGlmICggKCBtYXBwZWRUeXBlcyB8fCBvcmlnVHlwZSA9PT0gaGFuZGxlT2JqLm9yaWdUeXBlICkgJiZcblx0XHRcdFx0XHQoICFoYW5kbGVyIHx8IGhhbmRsZXIuZ3VpZCA9PT0gaGFuZGxlT2JqLmd1aWQgKSAmJlxuXHRcdFx0XHRcdCggIXRtcCB8fCB0bXAudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkgJiZcblx0XHRcdFx0XHQoICFzZWxlY3RvciB8fCBzZWxlY3RvciA9PT0gaGFuZGxlT2JqLnNlbGVjdG9yIHx8IHNlbGVjdG9yID09PSBcIioqXCIgJiYgaGFuZGxlT2JqLnNlbGVjdG9yICkgKSB7XG5cdFx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKCBqLCAxICk7XG5cblx0XHRcdFx0XHRpZiAoIGhhbmRsZU9iai5zZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdGhhbmRsZXJzLmRlbGVnYXRlQ291bnQtLTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBzcGVjaWFsLnJlbW92ZSApIHtcblx0XHRcdFx0XHRcdHNwZWNpYWwucmVtb3ZlLmNhbGwoIGVsZW0sIGhhbmRsZU9iaiApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZW1vdmUgZ2VuZXJpYyBldmVudCBoYW5kbGVyIGlmIHdlIHJlbW92ZWQgc29tZXRoaW5nIGFuZCBubyBtb3JlIGhhbmRsZXJzIGV4aXN0XG5cdFx0XHQvLyAoYXZvaWRzIHBvdGVudGlhbCBmb3IgZW5kbGVzcyByZWN1cnNpb24gZHVyaW5nIHJlbW92YWwgb2Ygc3BlY2lhbCBldmVudCBoYW5kbGVycylcblx0XHRcdGlmICggb3JpZ0NvdW50ICYmICFoYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRcdGlmICggIXNwZWNpYWwudGVhcmRvd24gfHwgc3BlY2lhbC50ZWFyZG93bi5jYWxsKCBlbGVtLCBuYW1lc3BhY2VzLCBlbGVtRGF0YS5oYW5kbGUgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBlbGVtRGF0YS5oYW5kbGUgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRlbGV0ZSBldmVudHNbIHR5cGUgXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBSZW1vdmUgdGhlIGV4cGFuZG8gaWYgaXQncyBubyBsb25nZXIgdXNlZFxuXHRcdGlmICggalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGV2ZW50cyApICkge1xuXHRcdFx0ZGVsZXRlIGVsZW1EYXRhLmhhbmRsZTtcblx0XHRcdGRhdGFfcHJpdi5yZW1vdmUoIGVsZW0sIFwiZXZlbnRzXCIgKTtcblx0XHR9XG5cdH0sXG5cblx0dHJpZ2dlcjogZnVuY3Rpb24oIGV2ZW50LCBkYXRhLCBlbGVtLCBvbmx5SGFuZGxlcnMgKSB7XG5cblx0XHR2YXIgaSwgY3VyLCB0bXAsIGJ1YmJsZVR5cGUsIG9udHlwZSwgaGFuZGxlLCBzcGVjaWFsLFxuXHRcdFx0ZXZlbnRQYXRoID0gWyBlbGVtIHx8IGRvY3VtZW50IF0sXG5cdFx0XHR0eXBlID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcInR5cGVcIiApID8gZXZlbnQudHlwZSA6IGV2ZW50LFxuXHRcdFx0bmFtZXNwYWNlcyA9IGhhc093bi5jYWxsKCBldmVudCwgXCJuYW1lc3BhY2VcIiApID8gZXZlbnQubmFtZXNwYWNlLnNwbGl0KFwiLlwiKSA6IFtdO1xuXG5cdFx0Y3VyID0gdG1wID0gZWxlbSA9IGVsZW0gfHwgZG9jdW1lbnQ7XG5cblx0XHQvLyBEb24ndCBkbyBldmVudHMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlc1xuXHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA4ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIGZvY3VzL2JsdXIgbW9ycGhzIHRvIGZvY3VzaW4vb3V0OyBlbnN1cmUgd2UncmUgbm90IGZpcmluZyB0aGVtIHJpZ2h0IG5vd1xuXHRcdGlmICggcmZvY3VzTW9ycGgudGVzdCggdHlwZSArIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGUuaW5kZXhPZihcIi5cIikgPj0gMCApIHtcblx0XHRcdC8vIE5hbWVzcGFjZWQgdHJpZ2dlcjsgY3JlYXRlIGEgcmVnZXhwIHRvIG1hdGNoIGV2ZW50IHR5cGUgaW4gaGFuZGxlKClcblx0XHRcdG5hbWVzcGFjZXMgPSB0eXBlLnNwbGl0KFwiLlwiKTtcblx0XHRcdHR5cGUgPSBuYW1lc3BhY2VzLnNoaWZ0KCk7XG5cdFx0XHRuYW1lc3BhY2VzLnNvcnQoKTtcblx0XHR9XG5cdFx0b250eXBlID0gdHlwZS5pbmRleE9mKFwiOlwiKSA8IDAgJiYgXCJvblwiICsgdHlwZTtcblxuXHRcdC8vIENhbGxlciBjYW4gcGFzcyBpbiBhIGpRdWVyeS5FdmVudCBvYmplY3QsIE9iamVjdCwgb3IganVzdCBhbiBldmVudCB0eXBlIHN0cmluZ1xuXHRcdGV2ZW50ID0gZXZlbnRbIGpRdWVyeS5leHBhbmRvIF0gP1xuXHRcdFx0ZXZlbnQgOlxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCggdHlwZSwgdHlwZW9mIGV2ZW50ID09PSBcIm9iamVjdFwiICYmIGV2ZW50ICk7XG5cblx0XHQvLyBUcmlnZ2VyIGJpdG1hc2s6ICYgMSBmb3IgbmF0aXZlIGhhbmRsZXJzOyAmIDIgZm9yIGpRdWVyeSAoYWx3YXlzIHRydWUpXG5cdFx0ZXZlbnQuaXNUcmlnZ2VyID0gb25seUhhbmRsZXJzID8gMiA6IDM7XG5cdFx0ZXZlbnQubmFtZXNwYWNlID0gbmFtZXNwYWNlcy5qb2luKFwiLlwiKTtcblx0XHRldmVudC5uYW1lc3BhY2VfcmUgPSBldmVudC5uYW1lc3BhY2UgP1xuXHRcdFx0bmV3IFJlZ0V4cCggXCIoXnxcXFxcLilcIiArIG5hbWVzcGFjZXMuam9pbihcIlxcXFwuKD86LipcXFxcLnwpXCIpICsgXCIoXFxcXC58JClcIiApIDpcblx0XHRcdG51bGw7XG5cblx0XHQvLyBDbGVhbiB1cCB0aGUgZXZlbnQgaW4gY2FzZSBpdCBpcyBiZWluZyByZXVzZWRcblx0XHRldmVudC5yZXN1bHQgPSB1bmRlZmluZWQ7XG5cdFx0aWYgKCAhZXZlbnQudGFyZ2V0ICkge1xuXHRcdFx0ZXZlbnQudGFyZ2V0ID0gZWxlbTtcblx0XHR9XG5cblx0XHQvLyBDbG9uZSBhbnkgaW5jb21pbmcgZGF0YSBhbmQgcHJlcGVuZCB0aGUgZXZlbnQsIGNyZWF0aW5nIHRoZSBoYW5kbGVyIGFyZyBsaXN0XG5cdFx0ZGF0YSA9IGRhdGEgPT0gbnVsbCA/XG5cdFx0XHRbIGV2ZW50IF0gOlxuXHRcdFx0alF1ZXJ5Lm1ha2VBcnJheSggZGF0YSwgWyBldmVudCBdICk7XG5cblx0XHQvLyBBbGxvdyBzcGVjaWFsIGV2ZW50cyB0byBkcmF3IG91dHNpZGUgdGhlIGxpbmVzXG5cdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmIHNwZWNpYWwudHJpZ2dlciAmJiBzcGVjaWFsLnRyaWdnZXIuYXBwbHkoIGVsZW0sIGRhdGEgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZXJtaW5lIGV2ZW50IHByb3BhZ2F0aW9uIHBhdGggaW4gYWR2YW5jZSwgcGVyIFczQyBldmVudHMgc3BlYyAoIzk5NTEpXG5cdFx0Ly8gQnViYmxlIHVwIHRvIGRvY3VtZW50LCB0aGVuIHRvIHdpbmRvdzsgd2F0Y2ggZm9yIGEgZ2xvYmFsIG93bmVyRG9jdW1lbnQgdmFyICgjOTcyNClcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgIXNwZWNpYWwubm9CdWJibGUgJiYgIWpRdWVyeS5pc1dpbmRvdyggZWxlbSApICkge1xuXG5cdFx0XHRidWJibGVUeXBlID0gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgfHwgdHlwZTtcblx0XHRcdGlmICggIXJmb2N1c01vcnBoLnRlc3QoIGJ1YmJsZVR5cGUgKyB0eXBlICkgKSB7XG5cdFx0XHRcdGN1ciA9IGN1ci5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXHRcdFx0Zm9yICggOyBjdXI7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRldmVudFBhdGgucHVzaCggY3VyICk7XG5cdFx0XHRcdHRtcCA9IGN1cjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT25seSBhZGQgd2luZG93IGlmIHdlIGdvdCB0byBkb2N1bWVudCAoZS5nLiwgbm90IHBsYWluIG9iaiBvciBkZXRhY2hlZCBET00pXG5cdFx0XHRpZiAoIHRtcCA9PT0gKGVsZW0ub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudCkgKSB7XG5cdFx0XHRcdGV2ZW50UGF0aC5wdXNoKCB0bXAuZGVmYXVsdFZpZXcgfHwgdG1wLnBhcmVudFdpbmRvdyB8fCB3aW5kb3cgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBGaXJlIGhhbmRsZXJzIG9uIHRoZSBldmVudCBwYXRoXG5cdFx0aSA9IDA7XG5cdFx0d2hpbGUgKCAoY3VyID0gZXZlbnRQYXRoW2krK10pICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXG5cdFx0XHRldmVudC50eXBlID0gaSA+IDEgP1xuXHRcdFx0XHRidWJibGVUeXBlIDpcblx0XHRcdFx0c3BlY2lhbC5iaW5kVHlwZSB8fCB0eXBlO1xuXG5cdFx0XHQvLyBqUXVlcnkgaGFuZGxlclxuXHRcdFx0aGFuZGxlID0gKCBkYXRhX3ByaXYuZ2V0KCBjdXIsIFwiZXZlbnRzXCIgKSB8fCB7fSApWyBldmVudC50eXBlIF0gJiYgZGF0YV9wcml2LmdldCggY3VyLCBcImhhbmRsZVwiICk7XG5cdFx0XHRpZiAoIGhhbmRsZSApIHtcblx0XHRcdFx0aGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTmF0aXZlIGhhbmRsZXJcblx0XHRcdGhhbmRsZSA9IG9udHlwZSAmJiBjdXJbIG9udHlwZSBdO1xuXHRcdFx0aWYgKCBoYW5kbGUgJiYgaGFuZGxlLmFwcGx5ICYmIGpRdWVyeS5hY2NlcHREYXRhKCBjdXIgKSApIHtcblx0XHRcdFx0ZXZlbnQucmVzdWx0ID0gaGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcblx0XHRcdFx0aWYgKCBldmVudC5yZXN1bHQgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZXZlbnQudHlwZSA9IHR5cGU7XG5cblx0XHQvLyBJZiBub2JvZHkgcHJldmVudGVkIHRoZSBkZWZhdWx0IGFjdGlvbiwgZG8gaXQgbm93XG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcblxuXHRcdFx0aWYgKCAoIXNwZWNpYWwuX2RlZmF1bHQgfHwgc3BlY2lhbC5fZGVmYXVsdC5hcHBseSggZXZlbnRQYXRoLnBvcCgpLCBkYXRhICkgPT09IGZhbHNlKSAmJlxuXHRcdFx0XHRqUXVlcnkuYWNjZXB0RGF0YSggZWxlbSApICkge1xuXG5cdFx0XHRcdC8vIENhbGwgYSBuYXRpdmUgRE9NIG1ldGhvZCBvbiB0aGUgdGFyZ2V0IHdpdGggdGhlIHNhbWUgbmFtZSBuYW1lIGFzIHRoZSBldmVudC5cblx0XHRcdFx0Ly8gRG9uJ3QgZG8gZGVmYXVsdCBhY3Rpb25zIG9uIHdpbmRvdywgdGhhdCdzIHdoZXJlIGdsb2JhbCB2YXJpYWJsZXMgYmUgKCM2MTcwKVxuXHRcdFx0XHRpZiAoIG9udHlwZSAmJiBqUXVlcnkuaXNGdW5jdGlvbiggZWxlbVsgdHlwZSBdICkgJiYgIWpRdWVyeS5pc1dpbmRvdyggZWxlbSApICkge1xuXG5cdFx0XHRcdFx0Ly8gRG9uJ3QgcmUtdHJpZ2dlciBhbiBvbkZPTyBldmVudCB3aGVuIHdlIGNhbGwgaXRzIEZPTygpIG1ldGhvZFxuXHRcdFx0XHRcdHRtcCA9IGVsZW1bIG9udHlwZSBdO1xuXG5cdFx0XHRcdFx0aWYgKCB0bXAgKSB7XG5cdFx0XHRcdFx0XHRlbGVtWyBvbnR5cGUgXSA9IG51bGw7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gUHJldmVudCByZS10cmlnZ2VyaW5nIG9mIHRoZSBzYW1lIGV2ZW50LCBzaW5jZSB3ZSBhbHJlYWR5IGJ1YmJsZWQgaXQgYWJvdmVcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdHlwZTtcblx0XHRcdFx0XHRlbGVtWyB0eXBlIF0oKTtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRcdFx0aWYgKCB0bXAgKSB7XG5cdFx0XHRcdFx0XHRlbGVtWyBvbnR5cGUgXSA9IHRtcDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHR9LFxuXG5cdGRpc3BhdGNoOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHQvLyBNYWtlIGEgd3JpdGFibGUgalF1ZXJ5LkV2ZW50IGZyb20gdGhlIG5hdGl2ZSBldmVudCBvYmplY3Rcblx0XHRldmVudCA9IGpRdWVyeS5ldmVudC5maXgoIGV2ZW50ICk7XG5cblx0XHR2YXIgaSwgaiwgcmV0LCBtYXRjaGVkLCBoYW5kbGVPYmosXG5cdFx0XHRoYW5kbGVyUXVldWUgPSBbXSxcblx0XHRcdGFyZ3MgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSxcblx0XHRcdGhhbmRsZXJzID0gKCBkYXRhX3ByaXYuZ2V0KCB0aGlzLCBcImV2ZW50c1wiICkgfHwge30gKVsgZXZlbnQudHlwZSBdIHx8IFtdLFxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyBldmVudC50eXBlIF0gfHwge307XG5cblx0XHQvLyBVc2UgdGhlIGZpeC1lZCBqUXVlcnkuRXZlbnQgcmF0aGVyIHRoYW4gdGhlIChyZWFkLW9ubHkpIG5hdGl2ZSBldmVudFxuXHRcdGFyZ3NbMF0gPSBldmVudDtcblx0XHRldmVudC5kZWxlZ2F0ZVRhcmdldCA9IHRoaXM7XG5cblx0XHQvLyBDYWxsIHRoZSBwcmVEaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGUsIGFuZCBsZXQgaXQgYmFpbCBpZiBkZXNpcmVkXG5cdFx0aWYgKCBzcGVjaWFsLnByZURpc3BhdGNoICYmIHNwZWNpYWwucHJlRGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZXJtaW5lIGhhbmRsZXJzXG5cdFx0aGFuZGxlclF1ZXVlID0galF1ZXJ5LmV2ZW50LmhhbmRsZXJzLmNhbGwoIHRoaXMsIGV2ZW50LCBoYW5kbGVycyApO1xuXG5cdFx0Ly8gUnVuIGRlbGVnYXRlcyBmaXJzdDsgdGhleSBtYXkgd2FudCB0byBzdG9wIHByb3BhZ2F0aW9uIGJlbmVhdGggdXNcblx0XHRpID0gMDtcblx0XHR3aGlsZSAoIChtYXRjaGVkID0gaGFuZGxlclF1ZXVlWyBpKysgXSkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0ID0gbWF0Y2hlZC5lbGVtO1xuXG5cdFx0XHRqID0gMDtcblx0XHRcdHdoaWxlICggKGhhbmRsZU9iaiA9IG1hdGNoZWQuaGFuZGxlcnNbIGorKyBdKSAmJiAhZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblxuXHRcdFx0XHQvLyBUcmlnZ2VyZWQgZXZlbnQgbXVzdCBlaXRoZXIgMSkgaGF2ZSBubyBuYW1lc3BhY2UsIG9yIDIpIGhhdmUgbmFtZXNwYWNlKHMpXG5cdFx0XHRcdC8vIGEgc3Vic2V0IG9yIGVxdWFsIHRvIHRob3NlIGluIHRoZSBib3VuZCBldmVudCAoYm90aCBjYW4gaGF2ZSBubyBuYW1lc3BhY2UpLlxuXHRcdFx0XHRpZiAoICFldmVudC5uYW1lc3BhY2VfcmUgfHwgZXZlbnQubmFtZXNwYWNlX3JlLnRlc3QoIGhhbmRsZU9iai5uYW1lc3BhY2UgKSApIHtcblxuXHRcdFx0XHRcdGV2ZW50LmhhbmRsZU9iaiA9IGhhbmRsZU9iajtcblx0XHRcdFx0XHRldmVudC5kYXRhID0gaGFuZGxlT2JqLmRhdGE7XG5cblx0XHRcdFx0XHRyZXQgPSAoIChqUXVlcnkuZXZlbnQuc3BlY2lhbFsgaGFuZGxlT2JqLm9yaWdUeXBlIF0gfHwge30pLmhhbmRsZSB8fCBoYW5kbGVPYmouaGFuZGxlciApXG5cdFx0XHRcdFx0XHRcdC5hcHBseSggbWF0Y2hlZC5lbGVtLCBhcmdzICk7XG5cblx0XHRcdFx0XHRpZiAoIHJldCAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdFx0aWYgKCAoZXZlbnQucmVzdWx0ID0gcmV0KSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGwgdGhlIHBvc3REaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGVcblx0XHRpZiAoIHNwZWNpYWwucG9zdERpc3BhdGNoICkge1xuXHRcdFx0c3BlY2lhbC5wb3N0RGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHR9LFxuXG5cdGhhbmRsZXJzOiBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXJzICkge1xuXHRcdHZhciBpLCBtYXRjaGVzLCBzZWwsIGhhbmRsZU9iaixcblx0XHRcdGhhbmRsZXJRdWV1ZSA9IFtdLFxuXHRcdFx0ZGVsZWdhdGVDb3VudCA9IGhhbmRsZXJzLmRlbGVnYXRlQ291bnQsXG5cdFx0XHRjdXIgPSBldmVudC50YXJnZXQ7XG5cblx0XHQvLyBGaW5kIGRlbGVnYXRlIGhhbmRsZXJzXG5cdFx0Ly8gQmxhY2staG9sZSBTVkcgPHVzZT4gaW5zdGFuY2UgdHJlZXMgKCMxMzE4MClcblx0XHQvLyBBdm9pZCBub24tbGVmdC1jbGljayBidWJibGluZyBpbiBGaXJlZm94ICgjMzg2MSlcblx0XHRpZiAoIGRlbGVnYXRlQ291bnQgJiYgY3VyLm5vZGVUeXBlICYmICghZXZlbnQuYnV0dG9uIHx8IGV2ZW50LnR5cGUgIT09IFwiY2xpY2tcIikgKSB7XG5cblx0XHRcdGZvciAoIDsgY3VyICE9PSB0aGlzOyBjdXIgPSBjdXIucGFyZW50Tm9kZSB8fCB0aGlzICkge1xuXG5cdFx0XHRcdC8vIERvbid0IHByb2Nlc3MgY2xpY2tzIG9uIGRpc2FibGVkIGVsZW1lbnRzICgjNjkxMSwgIzgxNjUsICMxMTM4MiwgIzExNzY0KVxuXHRcdFx0XHRpZiAoIGN1ci5kaXNhYmxlZCAhPT0gdHJ1ZSB8fCBldmVudC50eXBlICE9PSBcImNsaWNrXCIgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlcyA9IFtdO1xuXHRcdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgZGVsZWdhdGVDb3VudDsgaSsrICkge1xuXHRcdFx0XHRcdFx0aGFuZGxlT2JqID0gaGFuZGxlcnNbIGkgXTtcblxuXHRcdFx0XHRcdFx0Ly8gRG9uJ3QgY29uZmxpY3Qgd2l0aCBPYmplY3QucHJvdG90eXBlIHByb3BlcnRpZXMgKCMxMzIwMylcblx0XHRcdFx0XHRcdHNlbCA9IGhhbmRsZU9iai5zZWxlY3RvciArIFwiIFwiO1xuXG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXNbIHNlbCBdID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0XHRcdG1hdGNoZXNbIHNlbCBdID0gaGFuZGxlT2JqLm5lZWRzQ29udGV4dCA/XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBzZWwsIHRoaXMgKS5pbmRleCggY3VyICkgPj0gMCA6XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LmZpbmQoIHNlbCwgdGhpcywgbnVsbCwgWyBjdXIgXSApLmxlbmd0aDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlc1sgc2VsIF0gKSB7XG5cdFx0XHRcdFx0XHRcdG1hdGNoZXMucHVzaCggaGFuZGxlT2JqICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggbWF0Y2hlcy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVyUXVldWUucHVzaCh7IGVsZW06IGN1ciwgaGFuZGxlcnM6IG1hdGNoZXMgfSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQWRkIHRoZSByZW1haW5pbmcgKGRpcmVjdGx5LWJvdW5kKSBoYW5kbGVyc1xuXHRcdGlmICggZGVsZWdhdGVDb3VudCA8IGhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdGhhbmRsZXJRdWV1ZS5wdXNoKHsgZWxlbTogdGhpcywgaGFuZGxlcnM6IGhhbmRsZXJzLnNsaWNlKCBkZWxlZ2F0ZUNvdW50ICkgfSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGhhbmRsZXJRdWV1ZTtcblx0fSxcblxuXHQvLyBJbmNsdWRlcyBzb21lIGV2ZW50IHByb3BzIHNoYXJlZCBieSBLZXlFdmVudCBhbmQgTW91c2VFdmVudFxuXHRwcm9wczogXCJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBldmVudFBoYXNlIG1ldGFLZXkgcmVsYXRlZFRhcmdldCBzaGlmdEtleSB0YXJnZXQgdGltZVN0YW1wIHZpZXcgd2hpY2hcIi5zcGxpdChcIiBcIiksXG5cblx0Zml4SG9va3M6IHt9LFxuXG5cdGtleUhvb2tzOiB7XG5cdFx0cHJvcHM6IFwiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZVwiLnNwbGl0KFwiIFwiKSxcblx0XHRmaWx0ZXI6IGZ1bmN0aW9uKCBldmVudCwgb3JpZ2luYWwgKSB7XG5cblx0XHRcdC8vIEFkZCB3aGljaCBmb3Iga2V5IGV2ZW50c1xuXHRcdFx0aWYgKCBldmVudC53aGljaCA9PSBudWxsICkge1xuXHRcdFx0XHRldmVudC53aGljaCA9IG9yaWdpbmFsLmNoYXJDb2RlICE9IG51bGwgPyBvcmlnaW5hbC5jaGFyQ29kZSA6IG9yaWdpbmFsLmtleUNvZGU7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBldmVudDtcblx0XHR9XG5cdH0sXG5cblx0bW91c2VIb29rczoge1xuXHRcdHByb3BzOiBcImJ1dHRvbiBidXR0b25zIGNsaWVudFggY2xpZW50WSBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudFwiLnNwbGl0KFwiIFwiKSxcblx0XHRmaWx0ZXI6IGZ1bmN0aW9uKCBldmVudCwgb3JpZ2luYWwgKSB7XG5cdFx0XHR2YXIgZXZlbnREb2MsIGRvYywgYm9keSxcblx0XHRcdFx0YnV0dG9uID0gb3JpZ2luYWwuYnV0dG9uO1xuXG5cdFx0XHQvLyBDYWxjdWxhdGUgcGFnZVgvWSBpZiBtaXNzaW5nIGFuZCBjbGllbnRYL1kgYXZhaWxhYmxlXG5cdFx0XHRpZiAoIGV2ZW50LnBhZ2VYID09IG51bGwgJiYgb3JpZ2luYWwuY2xpZW50WCAhPSBudWxsICkge1xuXHRcdFx0XHRldmVudERvYyA9IGV2ZW50LnRhcmdldC5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50O1xuXHRcdFx0XHRkb2MgPSBldmVudERvYy5kb2N1bWVudEVsZW1lbnQ7XG5cdFx0XHRcdGJvZHkgPSBldmVudERvYy5ib2R5O1xuXG5cdFx0XHRcdGV2ZW50LnBhZ2VYID0gb3JpZ2luYWwuY2xpZW50WCArICggZG9jICYmIGRvYy5zY3JvbGxMZWZ0IHx8IGJvZHkgJiYgYm9keS5zY3JvbGxMZWZ0IHx8IDAgKSAtICggZG9jICYmIGRvYy5jbGllbnRMZWZ0IHx8IGJvZHkgJiYgYm9keS5jbGllbnRMZWZ0IHx8IDAgKTtcblx0XHRcdFx0ZXZlbnQucGFnZVkgPSBvcmlnaW5hbC5jbGllbnRZICsgKCBkb2MgJiYgZG9jLnNjcm9sbFRvcCAgfHwgYm9keSAmJiBib2R5LnNjcm9sbFRvcCAgfHwgMCApIC0gKCBkb2MgJiYgZG9jLmNsaWVudFRvcCAgfHwgYm9keSAmJiBib2R5LmNsaWVudFRvcCAgfHwgMCApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgd2hpY2ggZm9yIGNsaWNrOiAxID09PSBsZWZ0OyAyID09PSBtaWRkbGU7IDMgPT09IHJpZ2h0XG5cdFx0XHQvLyBOb3RlOiBidXR0b24gaXMgbm90IG5vcm1hbGl6ZWQsIHNvIGRvbid0IHVzZSBpdFxuXHRcdFx0aWYgKCAhZXZlbnQud2hpY2ggJiYgYnV0dG9uICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdGV2ZW50LndoaWNoID0gKCBidXR0b24gJiAxID8gMSA6ICggYnV0dG9uICYgMiA/IDMgOiAoIGJ1dHRvbiAmIDQgPyAyIDogMCApICkgKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGV2ZW50O1xuXHRcdH1cblx0fSxcblxuXHRmaXg6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRpZiAoIGV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdICkge1xuXHRcdFx0cmV0dXJuIGV2ZW50O1xuXHRcdH1cblxuXHRcdC8vIENyZWF0ZSBhIHdyaXRhYmxlIGNvcHkgb2YgdGhlIGV2ZW50IG9iamVjdCBhbmQgbm9ybWFsaXplIHNvbWUgcHJvcGVydGllc1xuXHRcdHZhciBpLCBwcm9wLCBjb3B5LFxuXHRcdFx0dHlwZSA9IGV2ZW50LnR5cGUsXG5cdFx0XHRvcmlnaW5hbEV2ZW50ID0gZXZlbnQsXG5cdFx0XHRmaXhIb29rID0gdGhpcy5maXhIb29rc1sgdHlwZSBdO1xuXG5cdFx0aWYgKCAhZml4SG9vayApIHtcblx0XHRcdHRoaXMuZml4SG9va3NbIHR5cGUgXSA9IGZpeEhvb2sgPVxuXHRcdFx0XHRybW91c2VFdmVudC50ZXN0KCB0eXBlICkgPyB0aGlzLm1vdXNlSG9va3MgOlxuXHRcdFx0XHRya2V5RXZlbnQudGVzdCggdHlwZSApID8gdGhpcy5rZXlIb29rcyA6XG5cdFx0XHRcdHt9O1xuXHRcdH1cblx0XHRjb3B5ID0gZml4SG9vay5wcm9wcyA/IHRoaXMucHJvcHMuY29uY2F0KCBmaXhIb29rLnByb3BzICkgOiB0aGlzLnByb3BzO1xuXG5cdFx0ZXZlbnQgPSBuZXcgalF1ZXJ5LkV2ZW50KCBvcmlnaW5hbEV2ZW50ICk7XG5cblx0XHRpID0gY29weS5sZW5ndGg7XG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRwcm9wID0gY29weVsgaSBdO1xuXHRcdFx0ZXZlbnRbIHByb3AgXSA9IG9yaWdpbmFsRXZlbnRbIHByb3AgXTtcblx0XHR9XG5cblx0XHQvLyBTdXBwb3J0OiBDb3Jkb3ZhIDIuNSAoV2ViS2l0KSAoIzEzMjU1KVxuXHRcdC8vIEFsbCBldmVudHMgc2hvdWxkIGhhdmUgYSB0YXJnZXQ7IENvcmRvdmEgZGV2aWNlcmVhZHkgZG9lc24ndFxuXHRcdGlmICggIWV2ZW50LnRhcmdldCApIHtcblx0XHRcdGV2ZW50LnRhcmdldCA9IGRvY3VtZW50O1xuXHRcdH1cblxuXHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA2LjArLCBDaHJvbWU8Mjhcblx0XHQvLyBUYXJnZXQgc2hvdWxkIG5vdCBiZSBhIHRleHQgbm9kZSAoIzUwNCwgIzEzMTQzKVxuXHRcdGlmICggZXZlbnQudGFyZ2V0Lm5vZGVUeXBlID09PSAzICkge1xuXHRcdFx0ZXZlbnQudGFyZ2V0ID0gZXZlbnQudGFyZ2V0LnBhcmVudE5vZGU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZpeEhvb2suZmlsdGVyID8gZml4SG9vay5maWx0ZXIoIGV2ZW50LCBvcmlnaW5hbEV2ZW50ICkgOiBldmVudDtcblx0fSxcblxuXHRzcGVjaWFsOiB7XG5cdFx0bG9hZDoge1xuXHRcdFx0Ly8gUHJldmVudCB0cmlnZ2VyZWQgaW1hZ2UubG9hZCBldmVudHMgZnJvbSBidWJibGluZyB0byB3aW5kb3cubG9hZFxuXHRcdFx0bm9CdWJibGU6IHRydWVcblx0XHR9LFxuXHRcdGZvY3VzOiB7XG5cdFx0XHQvLyBGaXJlIG5hdGl2ZSBldmVudCBpZiBwb3NzaWJsZSBzbyBibHVyL2ZvY3VzIHNlcXVlbmNlIGlzIGNvcnJlY3Rcblx0XHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIHRoaXMgIT09IHNhZmVBY3RpdmVFbGVtZW50KCkgJiYgdGhpcy5mb2N1cyApIHtcblx0XHRcdFx0XHR0aGlzLmZvY3VzKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0ZGVsZWdhdGVUeXBlOiBcImZvY3VzaW5cIlxuXHRcdH0sXG5cdFx0Ymx1cjoge1xuXHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggdGhpcyA9PT0gc2FmZUFjdGl2ZUVsZW1lbnQoKSAmJiB0aGlzLmJsdXIgKSB7XG5cdFx0XHRcdFx0dGhpcy5ibHVyKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0ZGVsZWdhdGVUeXBlOiBcImZvY3Vzb3V0XCJcblx0XHR9LFxuXHRcdGNsaWNrOiB7XG5cdFx0XHQvLyBGb3IgY2hlY2tib3gsIGZpcmUgbmF0aXZlIGV2ZW50IHNvIGNoZWNrZWQgc3RhdGUgd2lsbCBiZSByaWdodFxuXHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggdGhpcy50eXBlID09PSBcImNoZWNrYm94XCIgJiYgdGhpcy5jbGljayAmJiBqUXVlcnkubm9kZU5hbWUoIHRoaXMsIFwiaW5wdXRcIiApICkge1xuXHRcdFx0XHRcdHRoaXMuY2xpY2soKTtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cblx0XHRcdC8vIEZvciBjcm9zcy1icm93c2VyIGNvbnNpc3RlbmN5LCBkb24ndCBmaXJlIG5hdGl2ZSAuY2xpY2soKSBvbiBsaW5rc1xuXHRcdFx0X2RlZmF1bHQ6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5ub2RlTmFtZSggZXZlbnQudGFyZ2V0LCBcImFcIiApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRiZWZvcmV1bmxvYWQ6IHtcblx0XHRcdHBvc3REaXNwYXRjaDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggMjArXG5cdFx0XHRcdC8vIEZpcmVmb3ggZG9lc24ndCBhbGVydCBpZiB0aGUgcmV0dXJuVmFsdWUgZmllbGQgaXMgbm90IHNldC5cblx0XHRcdFx0aWYgKCBldmVudC5yZXN1bHQgIT09IHVuZGVmaW5lZCAmJiBldmVudC5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdGV2ZW50Lm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWUgPSBldmVudC5yZXN1bHQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0c2ltdWxhdGU6IGZ1bmN0aW9uKCB0eXBlLCBlbGVtLCBldmVudCwgYnViYmxlICkge1xuXHRcdC8vIFBpZ2d5YmFjayBvbiBhIGRvbm9yIGV2ZW50IHRvIHNpbXVsYXRlIGEgZGlmZmVyZW50IG9uZS5cblx0XHQvLyBGYWtlIG9yaWdpbmFsRXZlbnQgdG8gYXZvaWQgZG9ub3IncyBzdG9wUHJvcGFnYXRpb24sIGJ1dCBpZiB0aGVcblx0XHQvLyBzaW11bGF0ZWQgZXZlbnQgcHJldmVudHMgZGVmYXVsdCB0aGVuIHdlIGRvIHRoZSBzYW1lIG9uIHRoZSBkb25vci5cblx0XHR2YXIgZSA9IGpRdWVyeS5leHRlbmQoXG5cdFx0XHRuZXcgalF1ZXJ5LkV2ZW50KCksXG5cdFx0XHRldmVudCxcblx0XHRcdHtcblx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0aXNTaW11bGF0ZWQ6IHRydWUsXG5cdFx0XHRcdG9yaWdpbmFsRXZlbnQ6IHt9XG5cdFx0XHR9XG5cdFx0KTtcblx0XHRpZiAoIGJ1YmJsZSApIHtcblx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBlLCBudWxsLCBlbGVtICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGpRdWVyeS5ldmVudC5kaXNwYXRjaC5jYWxsKCBlbGVtLCBlICk7XG5cdFx0fVxuXHRcdGlmICggZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXHR9XG59O1xuXG5qUXVlcnkucmVtb3ZlRXZlbnQgPSBmdW5jdGlvbiggZWxlbSwgdHlwZSwgaGFuZGxlICkge1xuXHRpZiAoIGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciApIHtcblx0XHRlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoIHR5cGUsIGhhbmRsZSwgZmFsc2UgKTtcblx0fVxufTtcblxualF1ZXJ5LkV2ZW50ID0gZnVuY3Rpb24oIHNyYywgcHJvcHMgKSB7XG5cdC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5d29yZFxuXHRpZiAoICEodGhpcyBpbnN0YW5jZW9mIGpRdWVyeS5FdmVudCkgKSB7XG5cdFx0cmV0dXJuIG5ldyBqUXVlcnkuRXZlbnQoIHNyYywgcHJvcHMgKTtcblx0fVxuXG5cdC8vIEV2ZW50IG9iamVjdFxuXHRpZiAoIHNyYyAmJiBzcmMudHlwZSApIHtcblx0XHR0aGlzLm9yaWdpbmFsRXZlbnQgPSBzcmM7XG5cdFx0dGhpcy50eXBlID0gc3JjLnR5cGU7XG5cblx0XHQvLyBFdmVudHMgYnViYmxpbmcgdXAgdGhlIGRvY3VtZW50IG1heSBoYXZlIGJlZW4gbWFya2VkIGFzIHByZXZlbnRlZFxuXHRcdC8vIGJ5IGEgaGFuZGxlciBsb3dlciBkb3duIHRoZSB0cmVlOyByZWZsZWN0IHRoZSBjb3JyZWN0IHZhbHVlLlxuXHRcdHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gc3JjLmRlZmF1bHRQcmV2ZW50ZWQgfHxcblx0XHRcdFx0c3JjLmRlZmF1bHRQcmV2ZW50ZWQgPT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkPDQuMFxuXHRcdFx0XHRzcmMucmV0dXJuVmFsdWUgPT09IGZhbHNlID9cblx0XHRcdHJldHVyblRydWUgOlxuXHRcdFx0cmV0dXJuRmFsc2U7XG5cblx0Ly8gRXZlbnQgdHlwZVxuXHR9IGVsc2Uge1xuXHRcdHRoaXMudHlwZSA9IHNyYztcblx0fVxuXG5cdC8vIFB1dCBleHBsaWNpdGx5IHByb3ZpZGVkIHByb3BlcnRpZXMgb250byB0aGUgZXZlbnQgb2JqZWN0XG5cdGlmICggcHJvcHMgKSB7XG5cdFx0alF1ZXJ5LmV4dGVuZCggdGhpcywgcHJvcHMgKTtcblx0fVxuXG5cdC8vIENyZWF0ZSBhIHRpbWVzdGFtcCBpZiBpbmNvbWluZyBldmVudCBkb2Vzbid0IGhhdmUgb25lXG5cdHRoaXMudGltZVN0YW1wID0gc3JjICYmIHNyYy50aW1lU3RhbXAgfHwgalF1ZXJ5Lm5vdygpO1xuXG5cdC8vIE1hcmsgaXQgYXMgZml4ZWRcblx0dGhpc1sgalF1ZXJ5LmV4cGFuZG8gXSA9IHRydWU7XG59O1xuXG4vLyBqUXVlcnkuRXZlbnQgaXMgYmFzZWQgb24gRE9NMyBFdmVudHMgYXMgc3BlY2lmaWVkIGJ5IHRoZSBFQ01BU2NyaXB0IExhbmd1YWdlIEJpbmRpbmdcbi8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDMvV0QtRE9NLUxldmVsLTMtRXZlbnRzLTIwMDMwMzMxL2VjbWEtc2NyaXB0LWJpbmRpbmcuaHRtbFxualF1ZXJ5LkV2ZW50LnByb3RvdHlwZSA9IHtcblx0aXNEZWZhdWx0UHJldmVudGVkOiByZXR1cm5GYWxzZSxcblx0aXNQcm9wYWdhdGlvblN0b3BwZWQ6IHJldHVybkZhbHNlLFxuXHRpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXG5cblx0cHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSByZXR1cm5UcnVlO1xuXG5cdFx0aWYgKCBlICYmIGUucHJldmVudERlZmF1bHQgKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXHR9LFxuXHRzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG5cblx0XHRpZiAoIGUgJiYgZS5zdG9wUHJvcGFnYXRpb24gKSB7XG5cdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdH1cblx0fSxcblx0c3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xuXG5cdFx0aWYgKCBlICYmIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uICkge1xuXHRcdFx0ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHR9XG5cblx0XHR0aGlzLnN0b3BQcm9wYWdhdGlvbigpO1xuXHR9XG59O1xuXG4vLyBDcmVhdGUgbW91c2VlbnRlci9sZWF2ZSBldmVudHMgdXNpbmcgbW91c2VvdmVyL291dCBhbmQgZXZlbnQtdGltZSBjaGVja3Ncbi8vIFN1cHBvcnQ6IENocm9tZSAxNStcbmpRdWVyeS5lYWNoKHtcblx0bW91c2VlbnRlcjogXCJtb3VzZW92ZXJcIixcblx0bW91c2VsZWF2ZTogXCJtb3VzZW91dFwiLFxuXHRwb2ludGVyZW50ZXI6IFwicG9pbnRlcm92ZXJcIixcblx0cG9pbnRlcmxlYXZlOiBcInBvaW50ZXJvdXRcIlxufSwgZnVuY3Rpb24oIG9yaWcsIGZpeCApIHtcblx0alF1ZXJ5LmV2ZW50LnNwZWNpYWxbIG9yaWcgXSA9IHtcblx0XHRkZWxlZ2F0ZVR5cGU6IGZpeCxcblx0XHRiaW5kVHlwZTogZml4LFxuXG5cdFx0aGFuZGxlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHR2YXIgcmV0LFxuXHRcdFx0XHR0YXJnZXQgPSB0aGlzLFxuXHRcdFx0XHRyZWxhdGVkID0gZXZlbnQucmVsYXRlZFRhcmdldCxcblx0XHRcdFx0aGFuZGxlT2JqID0gZXZlbnQuaGFuZGxlT2JqO1xuXG5cdFx0XHQvLyBGb3IgbW91c2VudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRsZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuXG5cdFx0XHQvLyBOQjogTm8gcmVsYXRlZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvd1xuXHRcdFx0aWYgKCAhcmVsYXRlZCB8fCAocmVsYXRlZCAhPT0gdGFyZ2V0ICYmICFqUXVlcnkuY29udGFpbnMoIHRhcmdldCwgcmVsYXRlZCApKSApIHtcblx0XHRcdFx0ZXZlbnQudHlwZSA9IGhhbmRsZU9iai5vcmlnVHlwZTtcblx0XHRcdFx0cmV0ID0gaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRldmVudC50eXBlID0gZml4O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cdH07XG59KTtcblxuLy8gU3VwcG9ydDogRmlyZWZveCwgQ2hyb21lLCBTYWZhcmlcbi8vIENyZWF0ZSBcImJ1YmJsaW5nXCIgZm9jdXMgYW5kIGJsdXIgZXZlbnRzXG5pZiAoICFzdXBwb3J0LmZvY3VzaW5CdWJibGVzICkge1xuXHRqUXVlcnkuZWFjaCh7IGZvY3VzOiBcImZvY3VzaW5cIiwgYmx1cjogXCJmb2N1c291dFwiIH0sIGZ1bmN0aW9uKCBvcmlnLCBmaXggKSB7XG5cblx0XHQvLyBBdHRhY2ggYSBzaW5nbGUgY2FwdHVyaW5nIGhhbmRsZXIgb24gdGhlIGRvY3VtZW50IHdoaWxlIHNvbWVvbmUgd2FudHMgZm9jdXNpbi9mb2N1c291dFxuXHRcdHZhciBoYW5kbGVyID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHRqUXVlcnkuZXZlbnQuc2ltdWxhdGUoIGZpeCwgZXZlbnQudGFyZ2V0LCBqUXVlcnkuZXZlbnQuZml4KCBldmVudCApLCB0cnVlICk7XG5cdFx0XHR9O1xuXG5cdFx0alF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGZpeCBdID0ge1xuXHRcdFx0c2V0dXA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMsXG5cdFx0XHRcdFx0YXR0YWNoZXMgPSBkYXRhX3ByaXYuYWNjZXNzKCBkb2MsIGZpeCApO1xuXG5cdFx0XHRcdGlmICggIWF0dGFjaGVzICkge1xuXHRcdFx0XHRcdGRvYy5hZGRFdmVudExpc3RlbmVyKCBvcmlnLCBoYW5kbGVyLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGF0YV9wcml2LmFjY2VzcyggZG9jLCBmaXgsICggYXR0YWNoZXMgfHwgMCApICsgMSApO1xuXHRcdFx0fSxcblx0XHRcdHRlYXJkb3duOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGRvYyA9IHRoaXMub3duZXJEb2N1bWVudCB8fCB0aGlzLFxuXHRcdFx0XHRcdGF0dGFjaGVzID0gZGF0YV9wcml2LmFjY2VzcyggZG9jLCBmaXggKSAtIDE7XG5cblx0XHRcdFx0aWYgKCAhYXR0YWNoZXMgKSB7XG5cdFx0XHRcdFx0ZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoIG9yaWcsIGhhbmRsZXIsIHRydWUgKTtcblx0XHRcdFx0XHRkYXRhX3ByaXYucmVtb3ZlKCBkb2MsIGZpeCApO1xuXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGF0YV9wcml2LmFjY2VzcyggZG9jLCBmaXgsIGF0dGFjaGVzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9KTtcbn1cblxualF1ZXJ5LmZuLmV4dGVuZCh7XG5cblx0b246IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuLCAvKklOVEVSTkFMKi8gb25lICkge1xuXHRcdHZhciBvcmlnRm4sIHR5cGU7XG5cblx0XHQvLyBUeXBlcyBjYW4gYmUgYSBtYXAgb2YgdHlwZXMvaGFuZGxlcnNcblx0XHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdC8vICggdHlwZXMtT2JqZWN0LCBzZWxlY3RvciwgZGF0YSApXG5cdFx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0Ly8gKCB0eXBlcy1PYmplY3QsIGRhdGEgKVxuXHRcdFx0XHRkYXRhID0gZGF0YSB8fCBzZWxlY3Rvcjtcblx0XHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0XHRmb3IgKCB0eXBlIGluIHR5cGVzICkge1xuXHRcdFx0XHR0aGlzLm9uKCB0eXBlLCBzZWxlY3RvciwgZGF0YSwgdHlwZXNbIHR5cGUgXSwgb25lICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHRpZiAoIGRhdGEgPT0gbnVsbCAmJiBmbiA9PSBudWxsICkge1xuXHRcdFx0Ly8gKCB0eXBlcywgZm4gKVxuXHRcdFx0Zm4gPSBzZWxlY3Rvcjtcblx0XHRcdGRhdGEgPSBzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9IGVsc2UgaWYgKCBmbiA9PSBudWxsICkge1xuXHRcdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdC8vICggdHlwZXMsIHNlbGVjdG9yLCBmbiApXG5cdFx0XHRcdGZuID0gZGF0YTtcblx0XHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vICggdHlwZXMsIGRhdGEsIGZuIClcblx0XHRcdFx0Zm4gPSBkYXRhO1xuXHRcdFx0XHRkYXRhID0gc2VsZWN0b3I7XG5cdFx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZiAoIGZuID09PSBmYWxzZSApIHtcblx0XHRcdGZuID0gcmV0dXJuRmFsc2U7XG5cdFx0fSBlbHNlIGlmICggIWZuICkge1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKCBvbmUgPT09IDEgKSB7XG5cdFx0XHRvcmlnRm4gPSBmbjtcblx0XHRcdGZuID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXHRcdFx0XHQvLyBDYW4gdXNlIGFuIGVtcHR5IHNldCwgc2luY2UgZXZlbnQgY29udGFpbnMgdGhlIGluZm9cblx0XHRcdFx0alF1ZXJ5KCkub2ZmKCBldmVudCApO1xuXHRcdFx0XHRyZXR1cm4gb3JpZ0ZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdH07XG5cdFx0XHQvLyBVc2Ugc2FtZSBndWlkIHNvIGNhbGxlciBjYW4gcmVtb3ZlIHVzaW5nIG9yaWdGblxuXHRcdFx0Zm4uZ3VpZCA9IG9yaWdGbi5ndWlkIHx8ICggb3JpZ0ZuLmd1aWQgPSBqUXVlcnkuZ3VpZCsrICk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LmFkZCggdGhpcywgdHlwZXMsIGZuLCBkYXRhLCBzZWxlY3RvciApO1xuXHRcdH0pO1xuXHR9LFxuXHRvbmU6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuLCAxICk7XG5cdH0sXG5cdG9mZjogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZm4gKSB7XG5cdFx0dmFyIGhhbmRsZU9iaiwgdHlwZTtcblx0XHRpZiAoIHR5cGVzICYmIHR5cGVzLnByZXZlbnREZWZhdWx0ICYmIHR5cGVzLmhhbmRsZU9iaiApIHtcblx0XHRcdC8vICggZXZlbnQgKSAgZGlzcGF0Y2hlZCBqUXVlcnkuRXZlbnRcblx0XHRcdGhhbmRsZU9iaiA9IHR5cGVzLmhhbmRsZU9iajtcblx0XHRcdGpRdWVyeSggdHlwZXMuZGVsZWdhdGVUYXJnZXQgKS5vZmYoXG5cdFx0XHRcdGhhbmRsZU9iai5uYW1lc3BhY2UgPyBoYW5kbGVPYmoub3JpZ1R5cGUgKyBcIi5cIiArIGhhbmRsZU9iai5uYW1lc3BhY2UgOiBoYW5kbGVPYmoub3JpZ1R5cGUsXG5cdFx0XHRcdGhhbmRsZU9iai5zZWxlY3Rvcixcblx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXJcblx0XHRcdCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0aWYgKCB0eXBlb2YgdHlwZXMgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHQvLyAoIHR5cGVzLW9iamVjdCBbLCBzZWxlY3Rvcl0gKVxuXHRcdFx0Zm9yICggdHlwZSBpbiB0eXBlcyApIHtcblx0XHRcdFx0dGhpcy5vZmYoIHR5cGUsIHNlbGVjdG9yLCB0eXBlc1sgdHlwZSBdICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0aWYgKCBzZWxlY3RvciA9PT0gZmFsc2UgfHwgdHlwZW9mIHNlbGVjdG9yID09PSBcImZ1bmN0aW9uXCIgKSB7XG5cdFx0XHQvLyAoIHR5cGVzIFssIGZuXSApXG5cdFx0XHRmbiA9IHNlbGVjdG9yO1xuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmICggZm4gPT09IGZhbHNlICkge1xuXHRcdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIHRoaXMsIHR5cGVzLCBmbiwgc2VsZWN0b3IgKTtcblx0XHR9KTtcblx0fSxcblxuXHR0cmlnZ2VyOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIHRoaXMgKTtcblx0XHR9KTtcblx0fSxcblx0dHJpZ2dlckhhbmRsZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBlbGVtID0gdGhpc1swXTtcblx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIGVsZW0sIHRydWUgKTtcblx0XHR9XG5cdH1cbn0pO1xuXG5cbnZhclxuXHRyeGh0bWxUYWcgPSAvPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Ol0rKVtePl0qKVxcLz4vZ2ksXG5cdHJ0YWdOYW1lID0gLzwoW1xcdzpdKykvLFxuXHRyaHRtbCA9IC88fCYjP1xcdys7Lyxcblx0cm5vSW5uZXJodG1sID0gLzwoPzpzY3JpcHR8c3R5bGV8bGluaykvaSxcblx0Ly8gY2hlY2tlZD1cImNoZWNrZWRcIiBvciBjaGVja2VkXG5cdHJjaGVja2VkID0gL2NoZWNrZWRcXHMqKD86W149XXw9XFxzKi5jaGVja2VkLikvaSxcblx0cnNjcmlwdFR5cGUgPSAvXiR8XFwvKD86amF2YXxlY21hKXNjcmlwdC9pLFxuXHRyc2NyaXB0VHlwZU1hc2tlZCA9IC9edHJ1ZVxcLyguKikvLFxuXHRyY2xlYW5TY3JpcHQgPSAvXlxccyo8ISg/OlxcW0NEQVRBXFxbfC0tKXwoPzpcXF1cXF18LS0pPlxccyokL2csXG5cblx0Ly8gV2UgaGF2ZSB0byBjbG9zZSB0aGVzZSB0YWdzIHRvIHN1cHBvcnQgWEhUTUwgKCMxMzIwMClcblx0d3JhcE1hcCA9IHtcblxuXHRcdC8vIFN1cHBvcnQ6IElFOVxuXHRcdG9wdGlvbjogWyAxLCBcIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz5cIiwgXCI8L3NlbGVjdD5cIiBdLFxuXG5cdFx0dGhlYWQ6IFsgMSwgXCI8dGFibGU+XCIsIFwiPC90YWJsZT5cIiBdLFxuXHRcdGNvbDogWyAyLCBcIjx0YWJsZT48Y29sZ3JvdXA+XCIsIFwiPC9jb2xncm91cD48L3RhYmxlPlwiIF0sXG5cdFx0dHI6IFsgMiwgXCI8dGFibGU+PHRib2R5PlwiLCBcIjwvdGJvZHk+PC90YWJsZT5cIiBdLFxuXHRcdHRkOiBbIDMsIFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsIFwiPC90cj48L3Rib2R5PjwvdGFibGU+XCIgXSxcblxuXHRcdF9kZWZhdWx0OiBbIDAsIFwiXCIsIFwiXCIgXVxuXHR9O1xuXG4vLyBTdXBwb3J0OiBJRTlcbndyYXBNYXAub3B0Z3JvdXAgPSB3cmFwTWFwLm9wdGlvbjtcblxud3JhcE1hcC50Ym9keSA9IHdyYXBNYXAudGZvb3QgPSB3cmFwTWFwLmNvbGdyb3VwID0gd3JhcE1hcC5jYXB0aW9uID0gd3JhcE1hcC50aGVhZDtcbndyYXBNYXAudGggPSB3cmFwTWFwLnRkO1xuXG4vLyBTdXBwb3J0OiAxLnggY29tcGF0aWJpbGl0eVxuLy8gTWFuaXB1bGF0aW5nIHRhYmxlcyByZXF1aXJlcyBhIHRib2R5XG5mdW5jdGlvbiBtYW5pcHVsYXRpb25UYXJnZXQoIGVsZW0sIGNvbnRlbnQgKSB7XG5cdHJldHVybiBqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFwidGFibGVcIiApICYmXG5cdFx0alF1ZXJ5Lm5vZGVOYW1lKCBjb250ZW50Lm5vZGVUeXBlICE9PSAxMSA/IGNvbnRlbnQgOiBjb250ZW50LmZpcnN0Q2hpbGQsIFwidHJcIiApID9cblxuXHRcdGVsZW0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0Ym9keVwiKVswXSB8fFxuXHRcdFx0ZWxlbS5hcHBlbmRDaGlsZCggZWxlbS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKSApIDpcblx0XHRlbGVtO1xufVxuXG4vLyBSZXBsYWNlL3Jlc3RvcmUgdGhlIHR5cGUgYXR0cmlidXRlIG9mIHNjcmlwdCBlbGVtZW50cyBmb3Igc2FmZSBET00gbWFuaXB1bGF0aW9uXG5mdW5jdGlvbiBkaXNhYmxlU2NyaXB0KCBlbGVtICkge1xuXHRlbGVtLnR5cGUgPSAoZWxlbS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpICE9PSBudWxsKSArIFwiL1wiICsgZWxlbS50eXBlO1xuXHRyZXR1cm4gZWxlbTtcbn1cbmZ1bmN0aW9uIHJlc3RvcmVTY3JpcHQoIGVsZW0gKSB7XG5cdHZhciBtYXRjaCA9IHJzY3JpcHRUeXBlTWFza2VkLmV4ZWMoIGVsZW0udHlwZSApO1xuXG5cdGlmICggbWF0Y2ggKSB7XG5cdFx0ZWxlbS50eXBlID0gbWF0Y2hbIDEgXTtcblx0fSBlbHNlIHtcblx0XHRlbGVtLnJlbW92ZUF0dHJpYnV0ZShcInR5cGVcIik7XG5cdH1cblxuXHRyZXR1cm4gZWxlbTtcbn1cblxuLy8gTWFyayBzY3JpcHRzIGFzIGhhdmluZyBhbHJlYWR5IGJlZW4gZXZhbHVhdGVkXG5mdW5jdGlvbiBzZXRHbG9iYWxFdmFsKCBlbGVtcywgcmVmRWxlbWVudHMgKSB7XG5cdHZhciBpID0gMCxcblx0XHRsID0gZWxlbXMubGVuZ3RoO1xuXG5cdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRkYXRhX3ByaXYuc2V0KFxuXHRcdFx0ZWxlbXNbIGkgXSwgXCJnbG9iYWxFdmFsXCIsICFyZWZFbGVtZW50cyB8fCBkYXRhX3ByaXYuZ2V0KCByZWZFbGVtZW50c1sgaSBdLCBcImdsb2JhbEV2YWxcIiApXG5cdFx0KTtcblx0fVxufVxuXG5mdW5jdGlvbiBjbG9uZUNvcHlFdmVudCggc3JjLCBkZXN0ICkge1xuXHR2YXIgaSwgbCwgdHlwZSwgcGRhdGFPbGQsIHBkYXRhQ3VyLCB1ZGF0YU9sZCwgdWRhdGFDdXIsIGV2ZW50cztcblxuXHRpZiAoIGRlc3Qubm9kZVR5cGUgIT09IDEgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gMS4gQ29weSBwcml2YXRlIGRhdGE6IGV2ZW50cywgaGFuZGxlcnMsIGV0Yy5cblx0aWYgKCBkYXRhX3ByaXYuaGFzRGF0YSggc3JjICkgKSB7XG5cdFx0cGRhdGFPbGQgPSBkYXRhX3ByaXYuYWNjZXNzKCBzcmMgKTtcblx0XHRwZGF0YUN1ciA9IGRhdGFfcHJpdi5zZXQoIGRlc3QsIHBkYXRhT2xkICk7XG5cdFx0ZXZlbnRzID0gcGRhdGFPbGQuZXZlbnRzO1xuXG5cdFx0aWYgKCBldmVudHMgKSB7XG5cdFx0XHRkZWxldGUgcGRhdGFDdXIuaGFuZGxlO1xuXHRcdFx0cGRhdGFDdXIuZXZlbnRzID0ge307XG5cblx0XHRcdGZvciAoIHR5cGUgaW4gZXZlbnRzICkge1xuXHRcdFx0XHRmb3IgKCBpID0gMCwgbCA9IGV2ZW50c1sgdHlwZSBdLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQuYWRkKCBkZXN0LCB0eXBlLCBldmVudHNbIHR5cGUgXVsgaSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyAyLiBDb3B5IHVzZXIgZGF0YVxuXHRpZiAoIGRhdGFfdXNlci5oYXNEYXRhKCBzcmMgKSApIHtcblx0XHR1ZGF0YU9sZCA9IGRhdGFfdXNlci5hY2Nlc3MoIHNyYyApO1xuXHRcdHVkYXRhQ3VyID0galF1ZXJ5LmV4dGVuZCgge30sIHVkYXRhT2xkICk7XG5cblx0XHRkYXRhX3VzZXIuc2V0KCBkZXN0LCB1ZGF0YUN1ciApO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGdldEFsbCggY29udGV4dCwgdGFnICkge1xuXHR2YXIgcmV0ID0gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSA/IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyB8fCBcIipcIiApIDpcblx0XHRcdGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCA/IGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCggdGFnIHx8IFwiKlwiICkgOlxuXHRcdFx0W107XG5cblx0cmV0dXJuIHRhZyA9PT0gdW5kZWZpbmVkIHx8IHRhZyAmJiBqUXVlcnkubm9kZU5hbWUoIGNvbnRleHQsIHRhZyApID9cblx0XHRqUXVlcnkubWVyZ2UoIFsgY29udGV4dCBdLCByZXQgKSA6XG5cdFx0cmV0O1xufVxuXG4vLyBGaXggSUUgYnVncywgc2VlIHN1cHBvcnQgdGVzdHNcbmZ1bmN0aW9uIGZpeElucHV0KCBzcmMsIGRlc3QgKSB7XG5cdHZhciBub2RlTmFtZSA9IGRlc3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblxuXHQvLyBGYWlscyB0byBwZXJzaXN0IHRoZSBjaGVja2VkIHN0YXRlIG9mIGEgY2xvbmVkIGNoZWNrYm94IG9yIHJhZGlvIGJ1dHRvbi5cblx0aWYgKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmIHJjaGVja2FibGVUeXBlLnRlc3QoIHNyYy50eXBlICkgKSB7XG5cdFx0ZGVzdC5jaGVja2VkID0gc3JjLmNoZWNrZWQ7XG5cblx0Ly8gRmFpbHMgdG8gcmV0dXJuIHRoZSBzZWxlY3RlZCBvcHRpb24gdG8gdGhlIGRlZmF1bHQgc2VsZWN0ZWQgc3RhdGUgd2hlbiBjbG9uaW5nIG9wdGlvbnNcblx0fSBlbHNlIGlmICggbm9kZU5hbWUgPT09IFwiaW5wdXRcIiB8fCBub2RlTmFtZSA9PT0gXCJ0ZXh0YXJlYVwiICkge1xuXHRcdGRlc3QuZGVmYXVsdFZhbHVlID0gc3JjLmRlZmF1bHRWYWx1ZTtcblx0fVxufVxuXG5qUXVlcnkuZXh0ZW5kKHtcblx0Y2xvbmU6IGZ1bmN0aW9uKCBlbGVtLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHR2YXIgaSwgbCwgc3JjRWxlbWVudHMsIGRlc3RFbGVtZW50cyxcblx0XHRcdGNsb25lID0gZWxlbS5jbG9uZU5vZGUoIHRydWUgKSxcblx0XHRcdGluUGFnZSA9IGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7XG5cblx0XHQvLyBGaXggSUUgY2xvbmluZyBpc3N1ZXNcblx0XHRpZiAoICFzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkICYmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBlbGVtLm5vZGVUeXBlID09PSAxMSApICYmXG5cdFx0XHRcdCFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcblxuXHRcdFx0Ly8gV2UgZXNjaGV3IFNpenpsZSBoZXJlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zOiBodHRwOi8vanNwZXJmLmNvbS9nZXRhbGwtdnMtc2l6emxlLzJcblx0XHRcdGRlc3RFbGVtZW50cyA9IGdldEFsbCggY2xvbmUgKTtcblx0XHRcdHNyY0VsZW1lbnRzID0gZ2V0QWxsKCBlbGVtICk7XG5cblx0XHRcdGZvciAoIGkgPSAwLCBsID0gc3JjRWxlbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRmaXhJbnB1dCggc3JjRWxlbWVudHNbIGkgXSwgZGVzdEVsZW1lbnRzWyBpIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDb3B5IHRoZSBldmVudHMgZnJvbSB0aGUgb3JpZ2luYWwgdG8gdGhlIGNsb25lXG5cdFx0aWYgKCBkYXRhQW5kRXZlbnRzICkge1xuXHRcdFx0aWYgKCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHRcdFx0c3JjRWxlbWVudHMgPSBzcmNFbGVtZW50cyB8fCBnZXRBbGwoIGVsZW0gKTtcblx0XHRcdFx0ZGVzdEVsZW1lbnRzID0gZGVzdEVsZW1lbnRzIHx8IGdldEFsbCggY2xvbmUgKTtcblxuXHRcdFx0XHRmb3IgKCBpID0gMCwgbCA9IHNyY0VsZW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRjbG9uZUNvcHlFdmVudCggc3JjRWxlbWVudHNbIGkgXSwgZGVzdEVsZW1lbnRzWyBpIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2xvbmVDb3B5RXZlbnQoIGVsZW0sIGNsb25lICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUHJlc2VydmUgc2NyaXB0IGV2YWx1YXRpb24gaGlzdG9yeVxuXHRcdGRlc3RFbGVtZW50cyA9IGdldEFsbCggY2xvbmUsIFwic2NyaXB0XCIgKTtcblx0XHRpZiAoIGRlc3RFbGVtZW50cy5sZW5ndGggPiAwICkge1xuXHRcdFx0c2V0R2xvYmFsRXZhbCggZGVzdEVsZW1lbnRzLCAhaW5QYWdlICYmIGdldEFsbCggZWxlbSwgXCJzY3JpcHRcIiApICk7XG5cdFx0fVxuXG5cdFx0Ly8gUmV0dXJuIHRoZSBjbG9uZWQgc2V0XG5cdFx0cmV0dXJuIGNsb25lO1xuXHR9LFxuXG5cdGJ1aWxkRnJhZ21lbnQ6IGZ1bmN0aW9uKCBlbGVtcywgY29udGV4dCwgc2NyaXB0cywgc2VsZWN0aW9uICkge1xuXHRcdHZhciBlbGVtLCB0bXAsIHRhZywgd3JhcCwgY29udGFpbnMsIGosXG5cdFx0XHRmcmFnbWVudCA9IGNvbnRleHQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuXHRcdFx0bm9kZXMgPSBbXSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0bCA9IGVsZW1zLmxlbmd0aDtcblxuXHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdGVsZW0gPSBlbGVtc1sgaSBdO1xuXG5cdFx0XHRpZiAoIGVsZW0gfHwgZWxlbSA9PT0gMCApIHtcblxuXHRcdFx0XHQvLyBBZGQgbm9kZXMgZGlyZWN0bHlcblx0XHRcdFx0aWYgKCBqUXVlcnkudHlwZSggZWxlbSApID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFF0V2ViS2l0LCBQaGFudG9tSlNcblx0XHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBub2RlcywgZWxlbS5ub2RlVHlwZSA/IFsgZWxlbSBdIDogZWxlbSApO1xuXG5cdFx0XHRcdC8vIENvbnZlcnQgbm9uLWh0bWwgaW50byBhIHRleHQgbm9kZVxuXHRcdFx0XHR9IGVsc2UgaWYgKCAhcmh0bWwudGVzdCggZWxlbSApICkge1xuXHRcdFx0XHRcdG5vZGVzLnB1c2goIGNvbnRleHQuY3JlYXRlVGV4dE5vZGUoIGVsZW0gKSApO1xuXG5cdFx0XHRcdC8vIENvbnZlcnQgaHRtbCBpbnRvIERPTSBub2Rlc1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRtcCA9IHRtcCB8fCBmcmFnbWVudC5hcHBlbmRDaGlsZCggY29udGV4dC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpICk7XG5cblx0XHRcdFx0XHQvLyBEZXNlcmlhbGl6ZSBhIHN0YW5kYXJkIHJlcHJlc2VudGF0aW9uXG5cdFx0XHRcdFx0dGFnID0gKCBydGFnTmFtZS5leGVjKCBlbGVtICkgfHwgWyBcIlwiLCBcIlwiIF0gKVsgMSBdLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdFx0d3JhcCA9IHdyYXBNYXBbIHRhZyBdIHx8IHdyYXBNYXAuX2RlZmF1bHQ7XG5cdFx0XHRcdFx0dG1wLmlubmVySFRNTCA9IHdyYXBbIDEgXSArIGVsZW0ucmVwbGFjZSggcnhodG1sVGFnLCBcIjwkMT48LyQyPlwiICkgKyB3cmFwWyAyIF07XG5cblx0XHRcdFx0XHQvLyBEZXNjZW5kIHRocm91Z2ggd3JhcHBlcnMgdG8gdGhlIHJpZ2h0IGNvbnRlbnRcblx0XHRcdFx0XHRqID0gd3JhcFsgMCBdO1xuXHRcdFx0XHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0XHRcdFx0dG1wID0gdG1wLmxhc3RDaGlsZDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBRdFdlYktpdCwgUGhhbnRvbUpTXG5cdFx0XHRcdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0XHRcdGpRdWVyeS5tZXJnZSggbm9kZXMsIHRtcC5jaGlsZE5vZGVzICk7XG5cblx0XHRcdFx0XHQvLyBSZW1lbWJlciB0aGUgdG9wLWxldmVsIGNvbnRhaW5lclxuXHRcdFx0XHRcdHRtcCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRcdFx0XHQvLyBFbnN1cmUgdGhlIGNyZWF0ZWQgbm9kZXMgYXJlIG9ycGhhbmVkICgjMTIzOTIpXG5cdFx0XHRcdFx0dG1wLnRleHRDb250ZW50ID0gXCJcIjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFJlbW92ZSB3cmFwcGVyIGZyb20gZnJhZ21lbnRcblx0XHRmcmFnbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG5cblx0XHRpID0gMDtcblx0XHR3aGlsZSAoIChlbGVtID0gbm9kZXNbIGkrKyBdKSApIHtcblxuXHRcdFx0Ly8gIzQwODcgLSBJZiBvcmlnaW4gYW5kIGRlc3RpbmF0aW9uIGVsZW1lbnRzIGFyZSB0aGUgc2FtZSwgYW5kIHRoaXMgaXNcblx0XHRcdC8vIHRoYXQgZWxlbWVudCwgZG8gbm90IGRvIGFueXRoaW5nXG5cdFx0XHRpZiAoIHNlbGVjdGlvbiAmJiBqUXVlcnkuaW5BcnJheSggZWxlbSwgc2VsZWN0aW9uICkgIT09IC0xICkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Y29udGFpbnMgPSBqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApO1xuXG5cdFx0XHQvLyBBcHBlbmQgdG8gZnJhZ21lbnRcblx0XHRcdHRtcCA9IGdldEFsbCggZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGVsZW0gKSwgXCJzY3JpcHRcIiApO1xuXG5cdFx0XHQvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XG5cdFx0XHRpZiAoIGNvbnRhaW5zICkge1xuXHRcdFx0XHRzZXRHbG9iYWxFdmFsKCB0bXAgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2FwdHVyZSBleGVjdXRhYmxlc1xuXHRcdFx0aWYgKCBzY3JpcHRzICkge1xuXHRcdFx0XHRqID0gMDtcblx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IHRtcFsgaisrIF0pICkge1xuXHRcdFx0XHRcdGlmICggcnNjcmlwdFR5cGUudGVzdCggZWxlbS50eXBlIHx8IFwiXCIgKSApIHtcblx0XHRcdFx0XHRcdHNjcmlwdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmcmFnbWVudDtcblx0fSxcblxuXHRjbGVhbkRhdGE6IGZ1bmN0aW9uKCBlbGVtcyApIHtcblx0XHR2YXIgZGF0YSwgZWxlbSwgdHlwZSwga2V5LFxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7IChlbGVtID0gZWxlbXNbIGkgXSkgIT09IHVuZGVmaW5lZDsgaSsrICkge1xuXHRcdFx0aWYgKCBqUXVlcnkuYWNjZXB0RGF0YSggZWxlbSApICkge1xuXHRcdFx0XHRrZXkgPSBlbGVtWyBkYXRhX3ByaXYuZXhwYW5kbyBdO1xuXG5cdFx0XHRcdGlmICgga2V5ICYmIChkYXRhID0gZGF0YV9wcml2LmNhY2hlWyBrZXkgXSkgKSB7XG5cdFx0XHRcdFx0aWYgKCBkYXRhLmV2ZW50cyApIHtcblx0XHRcdFx0XHRcdGZvciAoIHR5cGUgaW4gZGF0YS5ldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggc3BlY2lhbFsgdHlwZSBdICkge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKTtcblxuXHRcdFx0XHRcdFx0XHQvLyBUaGlzIGlzIGEgc2hvcnRjdXQgdG8gYXZvaWQgalF1ZXJ5LmV2ZW50LnJlbW92ZSdzIG92ZXJoZWFkXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBkYXRhLmhhbmRsZSApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggZGF0YV9wcml2LmNhY2hlWyBrZXkgXSApIHtcblx0XHRcdFx0XHRcdC8vIERpc2NhcmQgYW55IHJlbWFpbmluZyBgcHJpdmF0ZWAgZGF0YVxuXHRcdFx0XHRcdFx0ZGVsZXRlIGRhdGFfcHJpdi5jYWNoZVsga2V5IF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQvLyBEaXNjYXJkIGFueSByZW1haW5pbmcgYHVzZXJgIGRhdGFcblx0XHRcdGRlbGV0ZSBkYXRhX3VzZXIuY2FjaGVbIGVsZW1bIGRhdGFfdXNlci5leHBhbmRvIF0gXTtcblx0XHR9XG5cdH1cbn0pO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKHtcblx0dGV4dDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdFx0alF1ZXJ5LnRleHQoIHRoaXMgKSA6XG5cdFx0XHRcdHRoaXMuZW1wdHkoKS5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHRcdFx0dGhpcy50ZXh0Q29udGVudCA9IHZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fSxcblxuXHRhcHBlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmRvbU1hbmlwKCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQoIHRoaXMsIGVsZW0gKTtcblx0XHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKCBlbGVtICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0sXG5cblx0cHJlcGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZG9tTWFuaXAoIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0dmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xuXHRcdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0YXJnZXQuZmlyc3RDaGlsZCApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXG5cdGJlZm9yZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZG9tTWFuaXAoIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcyApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXG5cdGFmdGVyOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5kb21NYW5pcCggYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0aGlzLm5leHRTaWJsaW5nICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0sXG5cblx0cmVtb3ZlOiBmdW5jdGlvbiggc2VsZWN0b3IsIGtlZXBEYXRhIC8qIEludGVybmFsIFVzZSBPbmx5ICovICkge1xuXHRcdHZhciBlbGVtLFxuXHRcdFx0ZWxlbXMgPSBzZWxlY3RvciA/IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCB0aGlzICkgOiB0aGlzLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRmb3IgKCA7IChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKyApIHtcblx0XHRcdGlmICggIWtlZXBEYXRhICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSApICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRpZiAoIGtlZXBEYXRhICYmIGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICkgKSB7XG5cdFx0XHRcdFx0c2V0R2xvYmFsRXZhbCggZ2V0QWxsKCBlbGVtLCBcInNjcmlwdFwiICkgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRlbXB0eTogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGVsZW0sXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgKGVsZW0gPSB0aGlzW2ldKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cblx0XHRcdFx0Ly8gUHJldmVudCBtZW1vcnkgbGVha3Ncblx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XG5cblx0XHRcdFx0Ly8gUmVtb3ZlIGFueSByZW1haW5pbmcgbm9kZXNcblx0XHRcdFx0ZWxlbS50ZXh0Q29udGVudCA9IFwiXCI7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Y2xvbmU6IGZ1bmN0aW9uKCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHRkYXRhQW5kRXZlbnRzID0gZGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZmFsc2UgOiBkYXRhQW5kRXZlbnRzO1xuXHRcdGRlZXBEYXRhQW5kRXZlbnRzID0gZGVlcERhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGRhdGFBbmRFdmVudHMgOiBkZWVwRGF0YUFuZEV2ZW50cztcblxuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBqUXVlcnkuY2xvbmUoIHRoaXMsIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICk7XG5cdFx0fSk7XG5cdH0sXG5cblx0aHRtbDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHZhciBlbGVtID0gdGhpc1sgMCBdIHx8IHt9LFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0bCA9IHRoaXMubGVuZ3RoO1xuXG5cdFx0XHRpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0uaW5uZXJIVE1MO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZWUgaWYgd2UgY2FuIHRha2UgYSBzaG9ydGN1dCBhbmQganVzdCB1c2UgaW5uZXJIVE1MXG5cdFx0XHRpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiAhcm5vSW5uZXJodG1sLnRlc3QoIHZhbHVlICkgJiZcblx0XHRcdFx0IXdyYXBNYXBbICggcnRhZ05hbWUuZXhlYyggdmFsdWUgKSB8fCBbIFwiXCIsIFwiXCIgXSApWyAxIF0udG9Mb3dlckNhc2UoKSBdICkge1xuXG5cdFx0XHRcdHZhbHVlID0gdmFsdWUucmVwbGFjZSggcnhodG1sVGFnLCBcIjwkMT48LyQyPlwiICk7XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdFx0XHRlbGVtID0gdGhpc1sgaSBdIHx8IHt9O1xuXG5cdFx0XHRcdFx0XHQvLyBSZW1vdmUgZWxlbWVudCBub2RlcyBhbmQgcHJldmVudCBtZW1vcnkgbGVha3Ncblx0XHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRcdFx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XG5cdFx0XHRcdFx0XHRcdGVsZW0uaW5uZXJIVE1MID0gdmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZWxlbSA9IDA7XG5cblx0XHRcdFx0Ly8gSWYgdXNpbmcgaW5uZXJIVE1MIHRocm93cyBhbiBleGNlcHRpb24sIHVzZSB0aGUgZmFsbGJhY2sgbWV0aG9kXG5cdFx0XHRcdH0gY2F0Y2goIGUgKSB7fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRcdHRoaXMuZW1wdHkoKS5hcHBlbmQoIHZhbHVlICk7XG5cdFx0XHR9XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fSxcblxuXHRyZXBsYWNlV2l0aDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGFyZyA9IGFyZ3VtZW50c1sgMCBdO1xuXG5cdFx0Ly8gTWFrZSB0aGUgY2hhbmdlcywgcmVwbGFjaW5nIGVhY2ggY29udGV4dCBlbGVtZW50IHdpdGggdGhlIG5ldyBjb250ZW50XG5cdFx0dGhpcy5kb21NYW5pcCggYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGFyZyA9IHRoaXMucGFyZW50Tm9kZTtcblxuXHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCB0aGlzICkgKTtcblxuXHRcdFx0aWYgKCBhcmcgKSB7XG5cdFx0XHRcdGFyZy5yZXBsYWNlQ2hpbGQoIGVsZW0sIHRoaXMgKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIEZvcmNlIHJlbW92YWwgaWYgdGhlcmUgd2FzIG5vIG5ldyBjb250ZW50IChlLmcuLCBmcm9tIGVtcHR5IGFyZ3VtZW50cylcblx0XHRyZXR1cm4gYXJnICYmIChhcmcubGVuZ3RoIHx8IGFyZy5ub2RlVHlwZSkgPyB0aGlzIDogdGhpcy5yZW1vdmUoKTtcblx0fSxcblxuXHRkZXRhY2g6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5yZW1vdmUoIHNlbGVjdG9yLCB0cnVlICk7XG5cdH0sXG5cblx0ZG9tTWFuaXA6IGZ1bmN0aW9uKCBhcmdzLCBjYWxsYmFjayApIHtcblxuXHRcdC8vIEZsYXR0ZW4gYW55IG5lc3RlZCBhcnJheXNcblx0XHRhcmdzID0gY29uY2F0LmFwcGx5KCBbXSwgYXJncyApO1xuXG5cdFx0dmFyIGZyYWdtZW50LCBmaXJzdCwgc2NyaXB0cywgaGFzU2NyaXB0cywgbm9kZSwgZG9jLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRsID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRzZXQgPSB0aGlzLFxuXHRcdFx0aU5vQ2xvbmUgPSBsIC0gMSxcblx0XHRcdHZhbHVlID0gYXJnc1sgMCBdLFxuXHRcdFx0aXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdFx0Ly8gV2UgY2FuJ3QgY2xvbmVOb2RlIGZyYWdtZW50cyB0aGF0IGNvbnRhaW4gY2hlY2tlZCwgaW4gV2ViS2l0XG5cdFx0aWYgKCBpc0Z1bmN0aW9uIHx8XG5cdFx0XHRcdCggbCA+IDEgJiYgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdFx0IXN1cHBvcnQuY2hlY2tDbG9uZSAmJiByY2hlY2tlZC50ZXN0KCB2YWx1ZSApICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCBpbmRleCApIHtcblx0XHRcdFx0dmFyIHNlbGYgPSBzZXQuZXEoIGluZGV4ICk7XG5cdFx0XHRcdGlmICggaXNGdW5jdGlvbiApIHtcblx0XHRcdFx0XHRhcmdzWyAwIF0gPSB2YWx1ZS5jYWxsKCB0aGlzLCBpbmRleCwgc2VsZi5odG1sKCkgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzZWxmLmRvbU1hbmlwKCBhcmdzLCBjYWxsYmFjayApO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0aWYgKCBsICkge1xuXHRcdFx0ZnJhZ21lbnQgPSBqUXVlcnkuYnVpbGRGcmFnbWVudCggYXJncywgdGhpc1sgMCBdLm93bmVyRG9jdW1lbnQsIGZhbHNlLCB0aGlzICk7XG5cdFx0XHRmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRcdGlmICggZnJhZ21lbnQuY2hpbGROb2Rlcy5sZW5ndGggPT09IDEgKSB7XG5cdFx0XHRcdGZyYWdtZW50ID0gZmlyc3Q7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggZmlyc3QgKSB7XG5cdFx0XHRcdHNjcmlwdHMgPSBqUXVlcnkubWFwKCBnZXRBbGwoIGZyYWdtZW50LCBcInNjcmlwdFwiICksIGRpc2FibGVTY3JpcHQgKTtcblx0XHRcdFx0aGFzU2NyaXB0cyA9IHNjcmlwdHMubGVuZ3RoO1xuXG5cdFx0XHRcdC8vIFVzZSB0aGUgb3JpZ2luYWwgZnJhZ21lbnQgZm9yIHRoZSBsYXN0IGl0ZW0gaW5zdGVhZCBvZiB0aGUgZmlyc3QgYmVjYXVzZSBpdCBjYW4gZW5kIHVwXG5cdFx0XHRcdC8vIGJlaW5nIGVtcHRpZWQgaW5jb3JyZWN0bHkgaW4gY2VydGFpbiBzaXR1YXRpb25zICgjODA3MCkuXG5cdFx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRub2RlID0gZnJhZ21lbnQ7XG5cblx0XHRcdFx0XHRpZiAoIGkgIT09IGlOb0Nsb25lICkge1xuXHRcdFx0XHRcdFx0bm9kZSA9IGpRdWVyeS5jbG9uZSggbm9kZSwgdHJ1ZSwgdHJ1ZSApO1xuXG5cdFx0XHRcdFx0XHQvLyBLZWVwIHJlZmVyZW5jZXMgdG8gY2xvbmVkIHNjcmlwdHMgZm9yIGxhdGVyIHJlc3RvcmF0aW9uXG5cdFx0XHRcdFx0XHRpZiAoIGhhc1NjcmlwdHMgKSB7XG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFF0V2ViS2l0XG5cdFx0XHRcdFx0XHRcdC8vIGpRdWVyeS5tZXJnZSBiZWNhdXNlIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Ncblx0XHRcdFx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBzY3JpcHRzLCBnZXRBbGwoIG5vZGUsIFwic2NyaXB0XCIgKSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwoIHRoaXNbIGkgXSwgbm9kZSwgaSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBoYXNTY3JpcHRzICkge1xuXHRcdFx0XHRcdGRvYyA9IHNjcmlwdHNbIHNjcmlwdHMubGVuZ3RoIC0gMSBdLm93bmVyRG9jdW1lbnQ7XG5cblx0XHRcdFx0XHQvLyBSZWVuYWJsZSBzY3JpcHRzXG5cdFx0XHRcdFx0alF1ZXJ5Lm1hcCggc2NyaXB0cywgcmVzdG9yZVNjcmlwdCApO1xuXG5cdFx0XHRcdFx0Ly8gRXZhbHVhdGUgZXhlY3V0YWJsZSBzY3JpcHRzIG9uIGZpcnN0IGRvY3VtZW50IGluc2VydGlvblxuXHRcdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgaGFzU2NyaXB0czsgaSsrICkge1xuXHRcdFx0XHRcdFx0bm9kZSA9IHNjcmlwdHNbIGkgXTtcblx0XHRcdFx0XHRcdGlmICggcnNjcmlwdFR5cGUudGVzdCggbm9kZS50eXBlIHx8IFwiXCIgKSAmJlxuXHRcdFx0XHRcdFx0XHQhZGF0YV9wcml2LmFjY2Vzcyggbm9kZSwgXCJnbG9iYWxFdmFsXCIgKSAmJiBqUXVlcnkuY29udGFpbnMoIGRvYywgbm9kZSApICkge1xuXG5cdFx0XHRcdFx0XHRcdGlmICggbm9kZS5zcmMgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gT3B0aW9uYWwgQUpBWCBkZXBlbmRlbmN5LCBidXQgd29uJ3QgcnVuIHNjcmlwdHMgaWYgbm90IHByZXNlbnRcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5fZXZhbFVybCApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5fZXZhbFVybCggbm9kZS5zcmMgKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5Lmdsb2JhbEV2YWwoIG5vZGUudGV4dENvbnRlbnQucmVwbGFjZSggcmNsZWFuU2NyaXB0LCBcIlwiICkgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59KTtcblxualF1ZXJ5LmVhY2goe1xuXHRhcHBlbmRUbzogXCJhcHBlbmRcIixcblx0cHJlcGVuZFRvOiBcInByZXBlbmRcIixcblx0aW5zZXJ0QmVmb3JlOiBcImJlZm9yZVwiLFxuXHRpbnNlcnRBZnRlcjogXCJhZnRlclwiLFxuXHRyZXBsYWNlQWxsOiBcInJlcGxhY2VXaXRoXCJcbn0sIGZ1bmN0aW9uKCBuYW1lLCBvcmlnaW5hbCApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dmFyIGVsZW1zLFxuXHRcdFx0cmV0ID0gW10sXG5cdFx0XHRpbnNlcnQgPSBqUXVlcnkoIHNlbGVjdG9yICksXG5cdFx0XHRsYXN0ID0gaW5zZXJ0Lmxlbmd0aCAtIDEsXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgaSA8PSBsYXN0OyBpKysgKSB7XG5cdFx0XHRlbGVtcyA9IGkgPT09IGxhc3QgPyB0aGlzIDogdGhpcy5jbG9uZSggdHJ1ZSApO1xuXHRcdFx0alF1ZXJ5KCBpbnNlcnRbIGkgXSApWyBvcmlnaW5hbCBdKCBlbGVtcyApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBRdFdlYktpdFxuXHRcdFx0Ly8gLmdldCgpIGJlY2F1c2UgcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93c1xuXHRcdFx0cHVzaC5hcHBseSggcmV0LCBlbGVtcy5nZXQoKSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggcmV0ICk7XG5cdH07XG59KTtcblxuXG52YXIgaWZyYW1lLFxuXHRlbGVtZGlzcGxheSA9IHt9O1xuXG4vKipcbiAqIFJldHJpZXZlIHRoZSBhY3R1YWwgZGlzcGxheSBvZiBhIGVsZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG5vZGVOYW1lIG9mIHRoZSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gZG9jIERvY3VtZW50IG9iamVjdFxuICovXG4vLyBDYWxsZWQgb25seSBmcm9tIHdpdGhpbiBkZWZhdWx0RGlzcGxheVxuZnVuY3Rpb24gYWN0dWFsRGlzcGxheSggbmFtZSwgZG9jICkge1xuXHR2YXIgc3R5bGUsXG5cdFx0ZWxlbSA9IGpRdWVyeSggZG9jLmNyZWF0ZUVsZW1lbnQoIG5hbWUgKSApLmFwcGVuZFRvKCBkb2MuYm9keSApLFxuXG5cdFx0Ly8gZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUgbWlnaHQgYmUgcmVsaWFibHkgdXNlZCBvbmx5IG9uIGF0dGFjaGVkIGVsZW1lbnRcblx0XHRkaXNwbGF5ID0gd2luZG93LmdldERlZmF1bHRDb21wdXRlZFN0eWxlICYmICggc3R5bGUgPSB3aW5kb3cuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUoIGVsZW1bIDAgXSApICkgP1xuXG5cdFx0XHQvLyBVc2Ugb2YgdGhpcyBtZXRob2QgaXMgYSB0ZW1wb3JhcnkgZml4IChtb3JlIGxpa2Ugb3B0aW1pemF0aW9uKSB1bnRpbCBzb21ldGhpbmcgYmV0dGVyIGNvbWVzIGFsb25nLFxuXHRcdFx0Ly8gc2luY2UgaXQgd2FzIHJlbW92ZWQgZnJvbSBzcGVjaWZpY2F0aW9uIGFuZCBzdXBwb3J0ZWQgb25seSBpbiBGRlxuXHRcdFx0c3R5bGUuZGlzcGxheSA6IGpRdWVyeS5jc3MoIGVsZW1bIDAgXSwgXCJkaXNwbGF5XCIgKTtcblxuXHQvLyBXZSBkb24ndCBoYXZlIGFueSBkYXRhIHN0b3JlZCBvbiB0aGUgZWxlbWVudCxcblx0Ly8gc28gdXNlIFwiZGV0YWNoXCIgbWV0aG9kIGFzIGZhc3Qgd2F5IHRvIGdldCByaWQgb2YgdGhlIGVsZW1lbnRcblx0ZWxlbS5kZXRhY2goKTtcblxuXHRyZXR1cm4gZGlzcGxheTtcbn1cblxuLyoqXG4gKiBUcnkgdG8gZGV0ZXJtaW5lIHRoZSBkZWZhdWx0IGRpc3BsYXkgdmFsdWUgb2YgYW4gZWxlbWVudFxuICogQHBhcmFtIHtTdHJpbmd9IG5vZGVOYW1lXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHREaXNwbGF5KCBub2RlTmFtZSApIHtcblx0dmFyIGRvYyA9IGRvY3VtZW50LFxuXHRcdGRpc3BsYXkgPSBlbGVtZGlzcGxheVsgbm9kZU5hbWUgXTtcblxuXHRpZiAoICFkaXNwbGF5ICkge1xuXHRcdGRpc3BsYXkgPSBhY3R1YWxEaXNwbGF5KCBub2RlTmFtZSwgZG9jICk7XG5cblx0XHQvLyBJZiB0aGUgc2ltcGxlIHdheSBmYWlscywgcmVhZCBmcm9tIGluc2lkZSBhbiBpZnJhbWVcblx0XHRpZiAoIGRpc3BsYXkgPT09IFwibm9uZVwiIHx8ICFkaXNwbGF5ICkge1xuXG5cdFx0XHQvLyBVc2UgdGhlIGFscmVhZHktY3JlYXRlZCBpZnJhbWUgaWYgcG9zc2libGVcblx0XHRcdGlmcmFtZSA9IChpZnJhbWUgfHwgalF1ZXJ5KCBcIjxpZnJhbWUgZnJhbWVib3JkZXI9JzAnIHdpZHRoPScwJyBoZWlnaHQ9JzAnLz5cIiApKS5hcHBlbmRUbyggZG9jLmRvY3VtZW50RWxlbWVudCApO1xuXG5cdFx0XHQvLyBBbHdheXMgd3JpdGUgYSBuZXcgSFRNTCBza2VsZXRvbiBzbyBXZWJraXQgYW5kIEZpcmVmb3ggZG9uJ3QgY2hva2Ugb24gcmV1c2Vcblx0XHRcdGRvYyA9IGlmcmFtZVsgMCBdLmNvbnRlbnREb2N1bWVudDtcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUVcblx0XHRcdGRvYy53cml0ZSgpO1xuXHRcdFx0ZG9jLmNsb3NlKCk7XG5cblx0XHRcdGRpc3BsYXkgPSBhY3R1YWxEaXNwbGF5KCBub2RlTmFtZSwgZG9jICk7XG5cdFx0XHRpZnJhbWUuZGV0YWNoKCk7XG5cdFx0fVxuXG5cdFx0Ly8gU3RvcmUgdGhlIGNvcnJlY3QgZGVmYXVsdCBkaXNwbGF5XG5cdFx0ZWxlbWRpc3BsYXlbIG5vZGVOYW1lIF0gPSBkaXNwbGF5O1xuXHR9XG5cblx0cmV0dXJuIGRpc3BsYXk7XG59XG52YXIgcm1hcmdpbiA9ICgvXm1hcmdpbi8pO1xuXG52YXIgcm51bW5vbnB4ID0gbmV3IFJlZ0V4cCggXCJeKFwiICsgcG51bSArIFwiKSg/IXB4KVthLXolXSskXCIsIFwiaVwiICk7XG5cbnZhciBnZXRTdHlsZXMgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0XHQvLyBTdXBwb3J0OiBJRTw9MTErLCBGaXJlZm94PD0zMCsgKCMxNTA5OCwgIzE0MTUwKVxuXHRcdC8vIElFIHRocm93cyBvbiBlbGVtZW50cyBjcmVhdGVkIGluIHBvcHVwc1xuXHRcdC8vIEZGIG1lYW53aGlsZSB0aHJvd3Mgb24gZnJhbWUgZWxlbWVudHMgdGhyb3VnaCBcImRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGVcIlxuXHRcdGlmICggZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3Lm9wZW5lciApIHtcblx0XHRcdHJldHVybiBlbGVtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSggZWxlbSwgbnVsbCApO1xuXHRcdH1cblxuXHRcdHJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZWxlbSwgbnVsbCApO1xuXHR9O1xuXG5cblxuZnVuY3Rpb24gY3VyQ1NTKCBlbGVtLCBuYW1lLCBjb21wdXRlZCApIHtcblx0dmFyIHdpZHRoLCBtaW5XaWR0aCwgbWF4V2lkdGgsIHJldCxcblx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cblx0Y29tcHV0ZWQgPSBjb21wdXRlZCB8fCBnZXRTdHlsZXMoIGVsZW0gKTtcblxuXHQvLyBTdXBwb3J0OiBJRTlcblx0Ly8gZ2V0UHJvcGVydHlWYWx1ZSBpcyBvbmx5IG5lZWRlZCBmb3IgLmNzcygnZmlsdGVyJykgKCMxMjUzNylcblx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRyZXQgPSBjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKCBuYW1lICkgfHwgY29tcHV0ZWRbIG5hbWUgXTtcblx0fVxuXG5cdGlmICggY29tcHV0ZWQgKSB7XG5cblx0XHRpZiAoIHJldCA9PT0gXCJcIiAmJiAhalF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKSApIHtcblx0XHRcdHJldCA9IGpRdWVyeS5zdHlsZSggZWxlbSwgbmFtZSApO1xuXHRcdH1cblxuXHRcdC8vIFN1cHBvcnQ6IGlPUyA8IDZcblx0XHQvLyBBIHRyaWJ1dGUgdG8gdGhlIFwiYXdlc29tZSBoYWNrIGJ5IERlYW4gRWR3YXJkc1wiXG5cdFx0Ly8gaU9TIDwgNiAoYXQgbGVhc3QpIHJldHVybnMgcGVyY2VudGFnZSBmb3IgYSBsYXJnZXIgc2V0IG9mIHZhbHVlcywgYnV0IHdpZHRoIHNlZW1zIHRvIGJlIHJlbGlhYmx5IHBpeGVsc1xuXHRcdC8vIHRoaXMgaXMgYWdhaW5zdCB0aGUgQ1NTT00gZHJhZnQgc3BlYzogaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3Nzb20vI3Jlc29sdmVkLXZhbHVlc1xuXHRcdGlmICggcm51bW5vbnB4LnRlc3QoIHJldCApICYmIHJtYXJnaW4udGVzdCggbmFtZSApICkge1xuXG5cdFx0XHQvLyBSZW1lbWJlciB0aGUgb3JpZ2luYWwgdmFsdWVzXG5cdFx0XHR3aWR0aCA9IHN0eWxlLndpZHRoO1xuXHRcdFx0bWluV2lkdGggPSBzdHlsZS5taW5XaWR0aDtcblx0XHRcdG1heFdpZHRoID0gc3R5bGUubWF4V2lkdGg7XG5cblx0XHRcdC8vIFB1dCBpbiB0aGUgbmV3IHZhbHVlcyB0byBnZXQgYSBjb21wdXRlZCB2YWx1ZSBvdXRcblx0XHRcdHN0eWxlLm1pbldpZHRoID0gc3R5bGUubWF4V2lkdGggPSBzdHlsZS53aWR0aCA9IHJldDtcblx0XHRcdHJldCA9IGNvbXB1dGVkLndpZHRoO1xuXG5cdFx0XHQvLyBSZXZlcnQgdGhlIGNoYW5nZWQgdmFsdWVzXG5cdFx0XHRzdHlsZS53aWR0aCA9IHdpZHRoO1xuXHRcdFx0c3R5bGUubWluV2lkdGggPSBtaW5XaWR0aDtcblx0XHRcdHN0eWxlLm1heFdpZHRoID0gbWF4V2lkdGg7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJldCAhPT0gdW5kZWZpbmVkID9cblx0XHQvLyBTdXBwb3J0OiBJRVxuXHRcdC8vIElFIHJldHVybnMgekluZGV4IHZhbHVlIGFzIGFuIGludGVnZXIuXG5cdFx0cmV0ICsgXCJcIiA6XG5cdFx0cmV0O1xufVxuXG5cbmZ1bmN0aW9uIGFkZEdldEhvb2tJZiggY29uZGl0aW9uRm4sIGhvb2tGbiApIHtcblx0Ly8gRGVmaW5lIHRoZSBob29rLCB3ZSdsbCBjaGVjayBvbiB0aGUgZmlyc3QgcnVuIGlmIGl0J3MgcmVhbGx5IG5lZWRlZC5cblx0cmV0dXJuIHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBjb25kaXRpb25GbigpICkge1xuXHRcdFx0XHQvLyBIb29rIG5vdCBuZWVkZWQgKG9yIGl0J3Mgbm90IHBvc3NpYmxlIHRvIHVzZSBpdCBkdWVcblx0XHRcdFx0Ly8gdG8gbWlzc2luZyBkZXBlbmRlbmN5KSwgcmVtb3ZlIGl0LlxuXHRcdFx0XHRkZWxldGUgdGhpcy5nZXQ7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSG9vayBuZWVkZWQ7IHJlZGVmaW5lIGl0IHNvIHRoYXQgdGhlIHN1cHBvcnQgdGVzdCBpcyBub3QgZXhlY3V0ZWQgYWdhaW4uXG5cdFx0XHRyZXR1cm4gKHRoaXMuZ2V0ID0gaG9va0ZuKS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fVxuXHR9O1xufVxuXG5cbihmdW5jdGlvbigpIHtcblx0dmFyIHBpeGVsUG9zaXRpb25WYWwsIGJveFNpemluZ1JlbGlhYmxlVmFsLFxuXHRcdGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXG5cdFx0Y29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApLFxuXHRcdGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcblxuXHRpZiAoICFkaXYuc3R5bGUgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gU3VwcG9ydDogSUU5LTExK1xuXHQvLyBTdHlsZSBvZiBjbG9uZWQgZWxlbWVudCBhZmZlY3RzIHNvdXJjZSBlbGVtZW50IGNsb25lZCAoIzg5MDgpXG5cdGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9IFwiY29udGVudC1ib3hcIjtcblx0ZGl2LmNsb25lTm9kZSggdHJ1ZSApLnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJcIjtcblx0c3VwcG9ydC5jbGVhckNsb25lU3R5bGUgPSBkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPT09IFwiY29udGVudC1ib3hcIjtcblxuXHRjb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IFwiYm9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHg7bWFyZ2luLXRvcDoxcHg7XCIgK1xuXHRcdFwicG9zaXRpb246YWJzb2x1dGVcIjtcblx0Y29udGFpbmVyLmFwcGVuZENoaWxkKCBkaXYgKTtcblxuXHQvLyBFeGVjdXRpbmcgYm90aCBwaXhlbFBvc2l0aW9uICYgYm94U2l6aW5nUmVsaWFibGUgdGVzdHMgcmVxdWlyZSBvbmx5IG9uZSBsYXlvdXRcblx0Ly8gc28gdGhleSdyZSBleGVjdXRlZCBhdCB0aGUgc2FtZSB0aW1lIHRvIHNhdmUgdGhlIHNlY29uZCBjb21wdXRhdGlvbi5cblx0ZnVuY3Rpb24gY29tcHV0ZVBpeGVsUG9zaXRpb25BbmRCb3hTaXppbmdSZWxpYWJsZSgpIHtcblx0XHRkaXYuc3R5bGUuY3NzVGV4dCA9XG5cdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94PDI5LCBBbmRyb2lkIDIuM1xuXHRcdFx0Ly8gVmVuZG9yLXByZWZpeCBib3gtc2l6aW5nXG5cdFx0XHRcIi13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O1wiICtcblx0XHRcdFwiYm94LXNpemluZzpib3JkZXItYm94O2Rpc3BsYXk6YmxvY2s7bWFyZ2luLXRvcDoxJTt0b3A6MSU7XCIgK1xuXHRcdFx0XCJib3JkZXI6MXB4O3BhZGRpbmc6MXB4O3dpZHRoOjRweDtwb3NpdGlvbjphYnNvbHV0ZVwiO1xuXHRcdGRpdi5pbm5lckhUTUwgPSBcIlwiO1xuXHRcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoIGNvbnRhaW5lciApO1xuXG5cdFx0dmFyIGRpdlN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoIGRpdiwgbnVsbCApO1xuXHRcdHBpeGVsUG9zaXRpb25WYWwgPSBkaXZTdHlsZS50b3AgIT09IFwiMSVcIjtcblx0XHRib3hTaXppbmdSZWxpYWJsZVZhbCA9IGRpdlN0eWxlLndpZHRoID09PSBcIjRweFwiO1xuXG5cdFx0ZG9jRWxlbS5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBub2RlLmpzIGpzZG9tXG5cdC8vIERvbid0IGFzc3VtZSB0aGF0IGdldENvbXB1dGVkU3R5bGUgaXMgYSBwcm9wZXJ0eSBvZiB0aGUgZ2xvYmFsIG9iamVjdFxuXHRpZiAoIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlICkge1xuXHRcdGpRdWVyeS5leHRlbmQoIHN1cHBvcnQsIHtcblx0XHRcdHBpeGVsUG9zaXRpb246IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdC8vIFRoaXMgdGVzdCBpcyBleGVjdXRlZCBvbmx5IG9uY2UgYnV0IHdlIHN0aWxsIGRvIG1lbW9pemluZ1xuXHRcdFx0XHQvLyBzaW5jZSB3ZSBjYW4gdXNlIHRoZSBib3hTaXppbmdSZWxpYWJsZSBwcmUtY29tcHV0aW5nLlxuXHRcdFx0XHQvLyBObyBuZWVkIHRvIGNoZWNrIGlmIHRoZSB0ZXN0IHdhcyBhbHJlYWR5IHBlcmZvcm1lZCwgdGhvdWdoLlxuXHRcdFx0XHRjb21wdXRlUGl4ZWxQb3NpdGlvbkFuZEJveFNpemluZ1JlbGlhYmxlKCk7XG5cdFx0XHRcdHJldHVybiBwaXhlbFBvc2l0aW9uVmFsO1xuXHRcdFx0fSxcblx0XHRcdGJveFNpemluZ1JlbGlhYmxlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBib3hTaXppbmdSZWxpYWJsZVZhbCA9PSBudWxsICkge1xuXHRcdFx0XHRcdGNvbXB1dGVQaXhlbFBvc2l0aW9uQW5kQm94U2l6aW5nUmVsaWFibGUoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gYm94U2l6aW5nUmVsaWFibGVWYWw7XG5cdFx0XHR9LFxuXHRcdFx0cmVsaWFibGVNYXJnaW5SaWdodDogZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCAyLjNcblx0XHRcdFx0Ly8gQ2hlY2sgaWYgZGl2IHdpdGggZXhwbGljaXQgd2lkdGggYW5kIG5vIG1hcmdpbi1yaWdodCBpbmNvcnJlY3RseVxuXHRcdFx0XHQvLyBnZXRzIGNvbXB1dGVkIG1hcmdpbi1yaWdodCBiYXNlZCBvbiB3aWR0aCBvZiBjb250YWluZXIuICgjMzMzMylcblx0XHRcdFx0Ly8gV2ViS2l0IEJ1ZyAxMzM0MyAtIGdldENvbXB1dGVkU3R5bGUgcmV0dXJucyB3cm9uZyB2YWx1ZSBmb3IgbWFyZ2luLXJpZ2h0XG5cdFx0XHRcdC8vIFRoaXMgc3VwcG9ydCBmdW5jdGlvbiBpcyBvbmx5IGV4ZWN1dGVkIG9uY2Ugc28gbm8gbWVtb2l6aW5nIGlzIG5lZWRlZC5cblx0XHRcdFx0dmFyIHJldCxcblx0XHRcdFx0XHRtYXJnaW5EaXYgPSBkaXYuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSApO1xuXG5cdFx0XHRcdC8vIFJlc2V0IENTUzogYm94LXNpemluZzsgZGlzcGxheTsgbWFyZ2luOyBib3JkZXI7IHBhZGRpbmdcblx0XHRcdFx0bWFyZ2luRGl2LnN0eWxlLmNzc1RleHQgPSBkaXYuc3R5bGUuY3NzVGV4dCA9XG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogRmlyZWZveDwyOSwgQW5kcm9pZCAyLjNcblx0XHRcdFx0XHQvLyBWZW5kb3ItcHJlZml4IGJveC1zaXppbmdcblx0XHRcdFx0XHRcIi13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7XCIgK1xuXHRcdFx0XHRcdFwiYm94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MFwiO1xuXHRcdFx0XHRtYXJnaW5EaXYuc3R5bGUubWFyZ2luUmlnaHQgPSBtYXJnaW5EaXYuc3R5bGUud2lkdGggPSBcIjBcIjtcblx0XHRcdFx0ZGl2LnN0eWxlLndpZHRoID0gXCIxcHhcIjtcblx0XHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggY29udGFpbmVyICk7XG5cblx0XHRcdFx0cmV0ID0gIXBhcnNlRmxvYXQoIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCBtYXJnaW5EaXYsIG51bGwgKS5tYXJnaW5SaWdodCApO1xuXG5cdFx0XHRcdGRvY0VsZW0ucmVtb3ZlQ2hpbGQoIGNvbnRhaW5lciApO1xuXHRcdFx0XHRkaXYucmVtb3ZlQ2hpbGQoIG1hcmdpbkRpdiApO1xuXG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn0pKCk7XG5cblxuLy8gQSBtZXRob2QgZm9yIHF1aWNrbHkgc3dhcHBpbmcgaW4vb3V0IENTUyBwcm9wZXJ0aWVzIHRvIGdldCBjb3JyZWN0IGNhbGN1bGF0aW9ucy5cbmpRdWVyeS5zd2FwID0gZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIGNhbGxiYWNrLCBhcmdzICkge1xuXHR2YXIgcmV0LCBuYW1lLFxuXHRcdG9sZCA9IHt9O1xuXG5cdC8vIFJlbWVtYmVyIHRoZSBvbGQgdmFsdWVzLCBhbmQgaW5zZXJ0IHRoZSBuZXcgb25lc1xuXHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XG5cdFx0b2xkWyBuYW1lIF0gPSBlbGVtLnN0eWxlWyBuYW1lIF07XG5cdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb3B0aW9uc1sgbmFtZSBdO1xuXHR9XG5cblx0cmV0ID0gY2FsbGJhY2suYXBwbHkoIGVsZW0sIGFyZ3MgfHwgW10gKTtcblxuXHQvLyBSZXZlcnQgdGhlIG9sZCB2YWx1ZXNcblx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdGVsZW0uc3R5bGVbIG5hbWUgXSA9IG9sZFsgbmFtZSBdO1xuXHR9XG5cblx0cmV0dXJuIHJldDtcbn07XG5cblxudmFyXG5cdC8vIFN3YXBwYWJsZSBpZiBkaXNwbGF5IGlzIG5vbmUgb3Igc3RhcnRzIHdpdGggdGFibGUgZXhjZXB0IFwidGFibGVcIiwgXCJ0YWJsZS1jZWxsXCIsIG9yIFwidGFibGUtY2FwdGlvblwiXG5cdC8vIFNlZSBoZXJlIGZvciBkaXNwbGF5IHZhbHVlczogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9DU1MvZGlzcGxheVxuXHRyZGlzcGxheXN3YXAgPSAvXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sXG5cdHJudW1zcGxpdCA9IG5ldyBSZWdFeHAoIFwiXihcIiArIHBudW0gKyBcIikoLiopJFwiLCBcImlcIiApLFxuXHRycmVsTnVtID0gbmV3IFJlZ0V4cCggXCJeKFsrLV0pPShcIiArIHBudW0gKyBcIilcIiwgXCJpXCIgKSxcblxuXHRjc3NTaG93ID0geyBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLCB2aXNpYmlsaXR5OiBcImhpZGRlblwiLCBkaXNwbGF5OiBcImJsb2NrXCIgfSxcblx0Y3NzTm9ybWFsVHJhbnNmb3JtID0ge1xuXHRcdGxldHRlclNwYWNpbmc6IFwiMFwiLFxuXHRcdGZvbnRXZWlnaHQ6IFwiNDAwXCJcblx0fSxcblxuXHRjc3NQcmVmaXhlcyA9IFsgXCJXZWJraXRcIiwgXCJPXCIsIFwiTW96XCIsIFwibXNcIiBdO1xuXG4vLyBSZXR1cm4gYSBjc3MgcHJvcGVydHkgbWFwcGVkIHRvIGEgcG90ZW50aWFsbHkgdmVuZG9yIHByZWZpeGVkIHByb3BlcnR5XG5mdW5jdGlvbiB2ZW5kb3JQcm9wTmFtZSggc3R5bGUsIG5hbWUgKSB7XG5cblx0Ly8gU2hvcnRjdXQgZm9yIG5hbWVzIHRoYXQgYXJlIG5vdCB2ZW5kb3IgcHJlZml4ZWRcblx0aWYgKCBuYW1lIGluIHN0eWxlICkge1xuXHRcdHJldHVybiBuYW1lO1xuXHR9XG5cblx0Ly8gQ2hlY2sgZm9yIHZlbmRvciBwcmVmaXhlZCBuYW1lc1xuXHR2YXIgY2FwTmFtZSA9IG5hbWVbMF0udG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSksXG5cdFx0b3JpZ05hbWUgPSBuYW1lLFxuXHRcdGkgPSBjc3NQcmVmaXhlcy5sZW5ndGg7XG5cblx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0bmFtZSA9IGNzc1ByZWZpeGVzWyBpIF0gKyBjYXBOYW1lO1xuXHRcdGlmICggbmFtZSBpbiBzdHlsZSApIHtcblx0XHRcdHJldHVybiBuYW1lO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBvcmlnTmFtZTtcbn1cblxuZnVuY3Rpb24gc2V0UG9zaXRpdmVOdW1iZXIoIGVsZW0sIHZhbHVlLCBzdWJ0cmFjdCApIHtcblx0dmFyIG1hdGNoZXMgPSBybnVtc3BsaXQuZXhlYyggdmFsdWUgKTtcblx0cmV0dXJuIG1hdGNoZXMgP1xuXHRcdC8vIEd1YXJkIGFnYWluc3QgdW5kZWZpbmVkIFwic3VidHJhY3RcIiwgZS5nLiwgd2hlbiB1c2VkIGFzIGluIGNzc0hvb2tzXG5cdFx0TWF0aC5tYXgoIDAsIG1hdGNoZXNbIDEgXSAtICggc3VidHJhY3QgfHwgMCApICkgKyAoIG1hdGNoZXNbIDIgXSB8fCBcInB4XCIgKSA6XG5cdFx0dmFsdWU7XG59XG5cbmZ1bmN0aW9uIGF1Z21lbnRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSwgaXNCb3JkZXJCb3gsIHN0eWxlcyApIHtcblx0dmFyIGkgPSBleHRyYSA9PT0gKCBpc0JvcmRlckJveCA/IFwiYm9yZGVyXCIgOiBcImNvbnRlbnRcIiApID9cblx0XHQvLyBJZiB3ZSBhbHJlYWR5IGhhdmUgdGhlIHJpZ2h0IG1lYXN1cmVtZW50LCBhdm9pZCBhdWdtZW50YXRpb25cblx0XHQ0IDpcblx0XHQvLyBPdGhlcndpc2UgaW5pdGlhbGl6ZSBmb3IgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCBwcm9wZXJ0aWVzXG5cdFx0bmFtZSA9PT0gXCJ3aWR0aFwiID8gMSA6IDAsXG5cblx0XHR2YWwgPSAwO1xuXG5cdGZvciAoIDsgaSA8IDQ7IGkgKz0gMiApIHtcblx0XHQvLyBCb3RoIGJveCBtb2RlbHMgZXhjbHVkZSBtYXJnaW4sIHNvIGFkZCBpdCBpZiB3ZSB3YW50IGl0XG5cdFx0aWYgKCBleHRyYSA9PT0gXCJtYXJnaW5cIiApIHtcblx0XHRcdHZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCBleHRyYSArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblx0XHR9XG5cblx0XHRpZiAoIGlzQm9yZGVyQm94ICkge1xuXHRcdFx0Ly8gYm9yZGVyLWJveCBpbmNsdWRlcyBwYWRkaW5nLCBzbyByZW1vdmUgaXQgaWYgd2Ugd2FudCBjb250ZW50XG5cdFx0XHRpZiAoIGV4dHJhID09PSBcImNvbnRlbnRcIiApIHtcblx0XHRcdFx0dmFsIC09IGpRdWVyeS5jc3MoIGVsZW0sIFwicGFkZGluZ1wiICsgY3NzRXhwYW5kWyBpIF0sIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBdCB0aGlzIHBvaW50LCBleHRyYSBpc24ndCBib3JkZXIgbm9yIG1hcmdpbiwgc28gcmVtb3ZlIGJvcmRlclxuXHRcdFx0aWYgKCBleHRyYSAhPT0gXCJtYXJnaW5cIiApIHtcblx0XHRcdFx0dmFsIC09IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbIGkgXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEF0IHRoaXMgcG9pbnQsIGV4dHJhIGlzbid0IGNvbnRlbnQsIHNvIGFkZCBwYWRkaW5nXG5cdFx0XHR2YWwgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XG5cblx0XHRcdC8vIEF0IHRoaXMgcG9pbnQsIGV4dHJhIGlzbid0IGNvbnRlbnQgbm9yIHBhZGRpbmcsIHNvIGFkZCBib3JkZXJcblx0XHRcdGlmICggZXh0cmEgIT09IFwicGFkZGluZ1wiICkge1xuXHRcdFx0XHR2YWwgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3JkZXJcIiArIGNzc0V4cGFuZFsgaSBdICsgXCJXaWR0aFwiLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdmFsO1xufVxuXG5mdW5jdGlvbiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSApIHtcblxuXHQvLyBTdGFydCB3aXRoIG9mZnNldCBwcm9wZXJ0eSwgd2hpY2ggaXMgZXF1aXZhbGVudCB0byB0aGUgYm9yZGVyLWJveCB2YWx1ZVxuXHR2YXIgdmFsdWVJc0JvcmRlckJveCA9IHRydWUsXG5cdFx0dmFsID0gbmFtZSA9PT0gXCJ3aWR0aFwiID8gZWxlbS5vZmZzZXRXaWR0aCA6IGVsZW0ub2Zmc2V0SGVpZ2h0LFxuXHRcdHN0eWxlcyA9IGdldFN0eWxlcyggZWxlbSApLFxuXHRcdGlzQm9yZGVyQm94ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIjtcblxuXHQvLyBTb21lIG5vbi1odG1sIGVsZW1lbnRzIHJldHVybiB1bmRlZmluZWQgZm9yIG9mZnNldFdpZHRoLCBzbyBjaGVjayBmb3IgbnVsbC91bmRlZmluZWRcblx0Ly8gc3ZnIC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NjQ5Mjg1XG5cdC8vIE1hdGhNTCAtIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTQ5MTY2OFxuXHRpZiAoIHZhbCA8PSAwIHx8IHZhbCA9PSBudWxsICkge1xuXHRcdC8vIEZhbGwgYmFjayB0byBjb21wdXRlZCB0aGVuIHVuY29tcHV0ZWQgY3NzIGlmIG5lY2Vzc2FyeVxuXHRcdHZhbCA9IGN1ckNTUyggZWxlbSwgbmFtZSwgc3R5bGVzICk7XG5cdFx0aWYgKCB2YWwgPCAwIHx8IHZhbCA9PSBudWxsICkge1xuXHRcdFx0dmFsID0gZWxlbS5zdHlsZVsgbmFtZSBdO1xuXHRcdH1cblxuXHRcdC8vIENvbXB1dGVkIHVuaXQgaXMgbm90IHBpeGVscy4gU3RvcCBoZXJlIGFuZCByZXR1cm4uXG5cdFx0aWYgKCBybnVtbm9ucHgudGVzdCh2YWwpICkge1xuXHRcdFx0cmV0dXJuIHZhbDtcblx0XHR9XG5cblx0XHQvLyBDaGVjayBmb3Igc3R5bGUgaW4gY2FzZSBhIGJyb3dzZXIgd2hpY2ggcmV0dXJucyB1bnJlbGlhYmxlIHZhbHVlc1xuXHRcdC8vIGZvciBnZXRDb21wdXRlZFN0eWxlIHNpbGVudGx5IGZhbGxzIGJhY2sgdG8gdGhlIHJlbGlhYmxlIGVsZW0uc3R5bGVcblx0XHR2YWx1ZUlzQm9yZGVyQm94ID0gaXNCb3JkZXJCb3ggJiZcblx0XHRcdCggc3VwcG9ydC5ib3hTaXppbmdSZWxpYWJsZSgpIHx8IHZhbCA9PT0gZWxlbS5zdHlsZVsgbmFtZSBdICk7XG5cblx0XHQvLyBOb3JtYWxpemUgXCJcIiwgYXV0bywgYW5kIHByZXBhcmUgZm9yIGV4dHJhXG5cdFx0dmFsID0gcGFyc2VGbG9hdCggdmFsICkgfHwgMDtcblx0fVxuXG5cdC8vIFVzZSB0aGUgYWN0aXZlIGJveC1zaXppbmcgbW9kZWwgdG8gYWRkL3N1YnRyYWN0IGlycmVsZXZhbnQgc3R5bGVzXG5cdHJldHVybiAoIHZhbCArXG5cdFx0YXVnbWVudFdpZHRoT3JIZWlnaHQoXG5cdFx0XHRlbGVtLFxuXHRcdFx0bmFtZSxcblx0XHRcdGV4dHJhIHx8ICggaXNCb3JkZXJCb3ggPyBcImJvcmRlclwiIDogXCJjb250ZW50XCIgKSxcblx0XHRcdHZhbHVlSXNCb3JkZXJCb3gsXG5cdFx0XHRzdHlsZXNcblx0XHQpXG5cdCkgKyBcInB4XCI7XG59XG5cbmZ1bmN0aW9uIHNob3dIaWRlKCBlbGVtZW50cywgc2hvdyApIHtcblx0dmFyIGRpc3BsYXksIGVsZW0sIGhpZGRlbixcblx0XHR2YWx1ZXMgPSBbXSxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xuXG5cdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0ZWxlbSA9IGVsZW1lbnRzWyBpbmRleCBdO1xuXHRcdGlmICggIWVsZW0uc3R5bGUgKSB7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHR2YWx1ZXNbIGluZGV4IF0gPSBkYXRhX3ByaXYuZ2V0KCBlbGVtLCBcIm9sZGRpc3BsYXlcIiApO1xuXHRcdGRpc3BsYXkgPSBlbGVtLnN0eWxlLmRpc3BsYXk7XG5cdFx0aWYgKCBzaG93ICkge1xuXHRcdFx0Ly8gUmVzZXQgdGhlIGlubGluZSBkaXNwbGF5IG9mIHRoaXMgZWxlbWVudCB0byBsZWFybiBpZiBpdCBpc1xuXHRcdFx0Ly8gYmVpbmcgaGlkZGVuIGJ5IGNhc2NhZGVkIHJ1bGVzIG9yIG5vdFxuXHRcdFx0aWYgKCAhdmFsdWVzWyBpbmRleCBdICYmIGRpc3BsYXkgPT09IFwibm9uZVwiICkge1xuXHRcdFx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZXQgZWxlbWVudHMgd2hpY2ggaGF2ZSBiZWVuIG92ZXJyaWRkZW4gd2l0aCBkaXNwbGF5OiBub25lXG5cdFx0XHQvLyBpbiBhIHN0eWxlc2hlZXQgdG8gd2hhdGV2ZXIgdGhlIGRlZmF1bHQgYnJvd3NlciBzdHlsZSBpc1xuXHRcdFx0Ly8gZm9yIHN1Y2ggYW4gZWxlbWVudFxuXHRcdFx0aWYgKCBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwiXCIgJiYgaXNIaWRkZW4oIGVsZW0gKSApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gZGF0YV9wcml2LmFjY2VzcyggZWxlbSwgXCJvbGRkaXNwbGF5XCIsIGRlZmF1bHREaXNwbGF5KGVsZW0ubm9kZU5hbWUpICk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGhpZGRlbiA9IGlzSGlkZGVuKCBlbGVtICk7XG5cblx0XHRcdGlmICggZGlzcGxheSAhPT0gXCJub25lXCIgfHwgIWhpZGRlbiApIHtcblx0XHRcdFx0ZGF0YV9wcml2LnNldCggZWxlbSwgXCJvbGRkaXNwbGF5XCIsIGhpZGRlbiA/IGRpc3BsYXkgOiBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gU2V0IHRoZSBkaXNwbGF5IG9mIG1vc3Qgb2YgdGhlIGVsZW1lbnRzIGluIGEgc2Vjb25kIGxvb3Bcblx0Ly8gdG8gYXZvaWQgdGhlIGNvbnN0YW50IHJlZmxvd1xuXHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGVsZW0gPSBlbGVtZW50c1sgaW5kZXggXTtcblx0XHRpZiAoICFlbGVtLnN0eWxlICkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXHRcdGlmICggIXNob3cgfHwgZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIiB8fCBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwiXCIgKSB7XG5cdFx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPSBzaG93ID8gdmFsdWVzWyBpbmRleCBdIHx8IFwiXCIgOiBcIm5vbmVcIjtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWxlbWVudHM7XG59XG5cbmpRdWVyeS5leHRlbmQoe1xuXG5cdC8vIEFkZCBpbiBzdHlsZSBwcm9wZXJ0eSBob29rcyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdFxuXHQvLyBiZWhhdmlvciBvZiBnZXR0aW5nIGFuZCBzZXR0aW5nIGEgc3R5bGUgcHJvcGVydHlcblx0Y3NzSG9va3M6IHtcblx0XHRvcGFjaXR5OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcblx0XHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblxuXHRcdFx0XHRcdC8vIFdlIHNob3VsZCBhbHdheXMgZ2V0IGEgbnVtYmVyIGJhY2sgZnJvbSBvcGFjaXR5XG5cdFx0XHRcdFx0dmFyIHJldCA9IGN1ckNTUyggZWxlbSwgXCJvcGFjaXR5XCIgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmV0ID09PSBcIlwiID8gXCIxXCIgOiByZXQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH0sXG5cblx0Ly8gRG9uJ3QgYXV0b21hdGljYWxseSBhZGQgXCJweFwiIHRvIHRoZXNlIHBvc3NpYmx5LXVuaXRsZXNzIHByb3BlcnRpZXNcblx0Y3NzTnVtYmVyOiB7XG5cdFx0XCJjb2x1bW5Db3VudFwiOiB0cnVlLFxuXHRcdFwiZmlsbE9wYWNpdHlcIjogdHJ1ZSxcblx0XHRcImZsZXhHcm93XCI6IHRydWUsXG5cdFx0XCJmbGV4U2hyaW5rXCI6IHRydWUsXG5cdFx0XCJmb250V2VpZ2h0XCI6IHRydWUsXG5cdFx0XCJsaW5lSGVpZ2h0XCI6IHRydWUsXG5cdFx0XCJvcGFjaXR5XCI6IHRydWUsXG5cdFx0XCJvcmRlclwiOiB0cnVlLFxuXHRcdFwib3JwaGFuc1wiOiB0cnVlLFxuXHRcdFwid2lkb3dzXCI6IHRydWUsXG5cdFx0XCJ6SW5kZXhcIjogdHJ1ZSxcblx0XHRcInpvb21cIjogdHJ1ZVxuXHR9LFxuXG5cdC8vIEFkZCBpbiBwcm9wZXJ0aWVzIHdob3NlIG5hbWVzIHlvdSB3aXNoIHRvIGZpeCBiZWZvcmVcblx0Ly8gc2V0dGluZyBvciBnZXR0aW5nIHRoZSB2YWx1ZVxuXHRjc3NQcm9wczoge1xuXHRcdFwiZmxvYXRcIjogXCJjc3NGbG9hdFwiXG5cdH0sXG5cblx0Ly8gR2V0IGFuZCBzZXQgdGhlIHN0eWxlIHByb3BlcnR5IG9uIGEgRE9NIE5vZGVcblx0c3R5bGU6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSwgZXh0cmEgKSB7XG5cblx0XHQvLyBEb24ndCBzZXQgc3R5bGVzIG9uIHRleHQgYW5kIGNvbW1lbnQgbm9kZXNcblx0XHRpZiAoICFlbGVtIHx8IGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5ub2RlVHlwZSA9PT0gOCB8fCAhZWxlbS5zdHlsZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWVcblx0XHR2YXIgcmV0LCB0eXBlLCBob29rcyxcblx0XHRcdG9yaWdOYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSApLFxuXHRcdFx0c3R5bGUgPSBlbGVtLnN0eWxlO1xuXG5cdFx0bmFtZSA9IGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSB8fCAoIGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSA9IHZlbmRvclByb3BOYW1lKCBzdHlsZSwgb3JpZ05hbWUgKSApO1xuXG5cdFx0Ly8gR2V0cyBob29rIGZvciB0aGUgcHJlZml4ZWQgdmVyc2lvbiwgdGhlbiB1bnByZWZpeGVkIHZlcnNpb25cblx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdIHx8IGpRdWVyeS5jc3NIb29rc1sgb3JpZ05hbWUgXTtcblxuXHRcdC8vIENoZWNrIGlmIHdlJ3JlIHNldHRpbmcgYSB2YWx1ZVxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cblx0XHRcdC8vIENvbnZlcnQgXCIrPVwiIG9yIFwiLT1cIiB0byByZWxhdGl2ZSBudW1iZXJzICgjNzM0NSlcblx0XHRcdGlmICggdHlwZSA9PT0gXCJzdHJpbmdcIiAmJiAocmV0ID0gcnJlbE51bS5leGVjKCB2YWx1ZSApKSApIHtcblx0XHRcdFx0dmFsdWUgPSAoIHJldFsxXSArIDEgKSAqIHJldFsyXSArIHBhcnNlRmxvYXQoIGpRdWVyeS5jc3MoIGVsZW0sIG5hbWUgKSApO1xuXHRcdFx0XHQvLyBGaXhlcyBidWcgIzkyMzdcblx0XHRcdFx0dHlwZSA9IFwibnVtYmVyXCI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE1ha2Ugc3VyZSB0aGF0IG51bGwgYW5kIE5hTiB2YWx1ZXMgYXJlbid0IHNldCAoIzcxMTYpXG5cdFx0XHRpZiAoIHZhbHVlID09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIGEgbnVtYmVyLCBhZGQgJ3B4JyB0byB0aGUgKGV4Y2VwdCBmb3IgY2VydGFpbiBDU1MgcHJvcGVydGllcylcblx0XHRcdGlmICggdHlwZSA9PT0gXCJudW1iZXJcIiAmJiAhalF1ZXJ5LmNzc051bWJlclsgb3JpZ05hbWUgXSApIHtcblx0XHRcdFx0dmFsdWUgKz0gXCJweFwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRTktMTErXG5cdFx0XHQvLyBiYWNrZ3JvdW5kLSogcHJvcHMgYWZmZWN0IG9yaWdpbmFsIGNsb25lJ3MgdmFsdWVzXG5cdFx0XHRpZiAoICFzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSAmJiB2YWx1ZSA9PT0gXCJcIiAmJiBuYW1lLmluZGV4T2YoIFwiYmFja2dyb3VuZFwiICkgPT09IDAgKSB7XG5cdFx0XHRcdHN0eWxlWyBuYW1lIF0gPSBcImluaGVyaXRcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCwgdXNlIHRoYXQgdmFsdWUsIG90aGVyd2lzZSBqdXN0IHNldCB0aGUgc3BlY2lmaWVkIHZhbHVlXG5cdFx0XHRpZiAoICFob29rcyB8fCAhKFwic2V0XCIgaW4gaG9va3MpIHx8ICh2YWx1ZSA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIGV4dHJhICkpICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHN0eWxlWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdH1cblxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgbm9uLWNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcblx0XHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAocmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBmYWxzZSwgZXh0cmEgKSkgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT3RoZXJ3aXNlIGp1c3QgZ2V0IHRoZSB2YWx1ZSBmcm9tIHRoZSBzdHlsZSBvYmplY3Rcblx0XHRcdHJldHVybiBzdHlsZVsgbmFtZSBdO1xuXHRcdH1cblx0fSxcblxuXHRjc3M6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBleHRyYSwgc3R5bGVzICkge1xuXHRcdHZhciB2YWwsIG51bSwgaG9va3MsXG5cdFx0XHRvcmlnTmFtZSA9IGpRdWVyeS5jYW1lbENhc2UoIG5hbWUgKTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZVxuXHRcdG5hbWUgPSBqUXVlcnkuY3NzUHJvcHNbIG9yaWdOYW1lIF0gfHwgKCBqUXVlcnkuY3NzUHJvcHNbIG9yaWdOYW1lIF0gPSB2ZW5kb3JQcm9wTmFtZSggZWxlbS5zdHlsZSwgb3JpZ05hbWUgKSApO1xuXG5cdFx0Ly8gVHJ5IHByZWZpeGVkIG5hbWUgZm9sbG93ZWQgYnkgdGhlIHVucHJlZml4ZWQgbmFtZVxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gfHwgalF1ZXJ5LmNzc0hvb2tzWyBvcmlnTmFtZSBdO1xuXG5cdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcblx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgKSB7XG5cdFx0XHR2YWwgPSBob29rcy5nZXQoIGVsZW0sIHRydWUsIGV4dHJhICk7XG5cdFx0fVxuXG5cdFx0Ly8gT3RoZXJ3aXNlLCBpZiBhIHdheSB0byBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGV4aXN0cywgdXNlIHRoYXRcblx0XHRpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTtcblx0XHR9XG5cblx0XHQvLyBDb252ZXJ0IFwibm9ybWFsXCIgdG8gY29tcHV0ZWQgdmFsdWVcblx0XHRpZiAoIHZhbCA9PT0gXCJub3JtYWxcIiAmJiBuYW1lIGluIGNzc05vcm1hbFRyYW5zZm9ybSApIHtcblx0XHRcdHZhbCA9IGNzc05vcm1hbFRyYW5zZm9ybVsgbmFtZSBdO1xuXHRcdH1cblxuXHRcdC8vIE1ha2UgbnVtZXJpYyBpZiBmb3JjZWQgb3IgYSBxdWFsaWZpZXIgd2FzIHByb3ZpZGVkIGFuZCB2YWwgbG9va3MgbnVtZXJpY1xuXHRcdGlmICggZXh0cmEgPT09IFwiXCIgfHwgZXh0cmEgKSB7XG5cdFx0XHRudW0gPSBwYXJzZUZsb2F0KCB2YWwgKTtcblx0XHRcdHJldHVybiBleHRyYSA9PT0gdHJ1ZSB8fCBqUXVlcnkuaXNOdW1lcmljKCBudW0gKSA/IG51bSB8fCAwIDogdmFsO1xuXHRcdH1cblx0XHRyZXR1cm4gdmFsO1xuXHR9XG59KTtcblxualF1ZXJ5LmVhY2goWyBcImhlaWdodFwiLCBcIndpZHRoXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdID0ge1xuXHRcdGdldDogZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkLCBleHRyYSApIHtcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XG5cblx0XHRcdFx0Ly8gQ2VydGFpbiBlbGVtZW50cyBjYW4gaGF2ZSBkaW1lbnNpb24gaW5mbyBpZiB3ZSBpbnZpc2libHkgc2hvdyB0aGVtXG5cdFx0XHRcdC8vIGJ1dCBpdCBtdXN0IGhhdmUgYSBjdXJyZW50IGRpc3BsYXkgc3R5bGUgdGhhdCB3b3VsZCBiZW5lZml0XG5cdFx0XHRcdHJldHVybiByZGlzcGxheXN3YXAudGVzdCggalF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKSApICYmIGVsZW0ub2Zmc2V0V2lkdGggPT09IDAgP1xuXHRcdFx0XHRcdGpRdWVyeS5zd2FwKCBlbGVtLCBjc3NTaG93LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJldHVybiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSApO1xuXHRcdFx0XHRcdH0pIDpcblx0XHRcdFx0XHRnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSB7XG5cdFx0XHR2YXIgc3R5bGVzID0gZXh0cmEgJiYgZ2V0U3R5bGVzKCBlbGVtICk7XG5cdFx0XHRyZXR1cm4gc2V0UG9zaXRpdmVOdW1iZXIoIGVsZW0sIHZhbHVlLCBleHRyYSA/XG5cdFx0XHRcdGF1Z21lbnRXaWR0aE9ySGVpZ2h0KFxuXHRcdFx0XHRcdGVsZW0sXG5cdFx0XHRcdFx0bmFtZSxcblx0XHRcdFx0XHRleHRyYSxcblx0XHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBcImJveFNpemluZ1wiLCBmYWxzZSwgc3R5bGVzICkgPT09IFwiYm9yZGVyLWJveFwiLFxuXHRcdFx0XHRcdHN0eWxlc1xuXHRcdFx0XHQpIDogMFxuXHRcdFx0KTtcblx0XHR9XG5cdH07XG59KTtcblxuLy8gU3VwcG9ydDogQW5kcm9pZCAyLjNcbmpRdWVyeS5jc3NIb29rcy5tYXJnaW5SaWdodCA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5yZWxpYWJsZU1hcmdpblJpZ2h0LFxuXHRmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XG5cdFx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuc3dhcCggZWxlbSwgeyBcImRpc3BsYXlcIjogXCJpbmxpbmUtYmxvY2tcIiB9LFxuXHRcdFx0XHRjdXJDU1MsIFsgZWxlbSwgXCJtYXJnaW5SaWdodFwiIF0gKTtcblx0XHR9XG5cdH1cbik7XG5cbi8vIFRoZXNlIGhvb2tzIGFyZSB1c2VkIGJ5IGFuaW1hdGUgdG8gZXhwYW5kIHByb3BlcnRpZXNcbmpRdWVyeS5lYWNoKHtcblx0bWFyZ2luOiBcIlwiLFxuXHRwYWRkaW5nOiBcIlwiLFxuXHRib3JkZXI6IFwiV2lkdGhcIlxufSwgZnVuY3Rpb24oIHByZWZpeCwgc3VmZml4ICkge1xuXHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdID0ge1xuXHRcdGV4cGFuZDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGkgPSAwLFxuXHRcdFx0XHRleHBhbmRlZCA9IHt9LFxuXG5cdFx0XHRcdC8vIEFzc3VtZXMgYSBzaW5nbGUgbnVtYmVyIGlmIG5vdCBhIHN0cmluZ1xuXHRcdFx0XHRwYXJ0cyA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlLnNwbGl0KFwiIFwiKSA6IFsgdmFsdWUgXTtcblxuXHRcdFx0Zm9yICggOyBpIDwgNDsgaSsrICkge1xuXHRcdFx0XHRleHBhbmRlZFsgcHJlZml4ICsgY3NzRXhwYW5kWyBpIF0gKyBzdWZmaXggXSA9XG5cdFx0XHRcdFx0cGFydHNbIGkgXSB8fCBwYXJ0c1sgaSAtIDIgXSB8fCBwYXJ0c1sgMCBdO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZXhwYW5kZWQ7XG5cdFx0fVxuXHR9O1xuXG5cdGlmICggIXJtYXJnaW4udGVzdCggcHJlZml4ICkgKSB7XG5cdFx0alF1ZXJ5LmNzc0hvb2tzWyBwcmVmaXggKyBzdWZmaXggXS5zZXQgPSBzZXRQb3NpdGl2ZU51bWJlcjtcblx0fVxufSk7XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuXHRjc3M6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgc3R5bGVzLCBsZW4sXG5cdFx0XHRcdG1hcCA9IHt9LFxuXHRcdFx0XHRpID0gMDtcblxuXHRcdFx0aWYgKCBqUXVlcnkuaXNBcnJheSggbmFtZSApICkge1xuXHRcdFx0XHRzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKTtcblx0XHRcdFx0bGVuID0gbmFtZS5sZW5ndGg7XG5cblx0XHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0bWFwWyBuYW1lWyBpIF0gXSA9IGpRdWVyeS5jc3MoIGVsZW0sIG5hbWVbIGkgXSwgZmFsc2UsIHN0eWxlcyApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIG1hcDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUsIHZhbHVlICkgOlxuXHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBuYW1lICk7XG5cdFx0fSwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH0sXG5cdHNob3c6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBzaG93SGlkZSggdGhpcywgdHJ1ZSApO1xuXHR9LFxuXHRoaWRlOiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2hvd0hpZGUoIHRoaXMgKTtcblx0fSxcblx0dG9nZ2xlOiBmdW5jdGlvbiggc3RhdGUgKSB7XG5cdFx0aWYgKCB0eXBlb2Ygc3RhdGUgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdFx0cmV0dXJuIHN0YXRlID8gdGhpcy5zaG93KCkgOiB0aGlzLmhpZGUoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCBpc0hpZGRlbiggdGhpcyApICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5zaG93KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn0pO1xuXG5cbmZ1bmN0aW9uIFR3ZWVuKCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZyApIHtcblx0cmV0dXJuIG5ldyBUd2Vlbi5wcm90b3R5cGUuaW5pdCggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcgKTtcbn1cbmpRdWVyeS5Ud2VlbiA9IFR3ZWVuO1xuXG5Ud2Vlbi5wcm90b3R5cGUgPSB7XG5cdGNvbnN0cnVjdG9yOiBUd2Vlbixcblx0aW5pdDogZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nLCB1bml0ICkge1xuXHRcdHRoaXMuZWxlbSA9IGVsZW07XG5cdFx0dGhpcy5wcm9wID0gcHJvcDtcblx0XHR0aGlzLmVhc2luZyA9IGVhc2luZyB8fCBcInN3aW5nXCI7XG5cdFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucztcblx0XHR0aGlzLnN0YXJ0ID0gdGhpcy5ub3cgPSB0aGlzLmN1cigpO1xuXHRcdHRoaXMuZW5kID0gZW5kO1xuXHRcdHRoaXMudW5pdCA9IHVuaXQgfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyBcIlwiIDogXCJweFwiICk7XG5cdH0sXG5cdGN1cjogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTtcblxuXHRcdHJldHVybiBob29rcyAmJiBob29rcy5nZXQgP1xuXHRcdFx0aG9va3MuZ2V0KCB0aGlzICkgOlxuXHRcdFx0VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LmdldCggdGhpcyApO1xuXHR9LFxuXHRydW46IGZ1bmN0aW9uKCBwZXJjZW50ICkge1xuXHRcdHZhciBlYXNlZCxcblx0XHRcdGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLmR1cmF0aW9uICkge1xuXHRcdFx0dGhpcy5wb3MgPSBlYXNlZCA9IGpRdWVyeS5lYXNpbmdbIHRoaXMuZWFzaW5nIF0oXG5cdFx0XHRcdHBlcmNlbnQsIHRoaXMub3B0aW9ucy5kdXJhdGlvbiAqIHBlcmNlbnQsIDAsIDEsIHRoaXMub3B0aW9ucy5kdXJhdGlvblxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5wb3MgPSBlYXNlZCA9IHBlcmNlbnQ7XG5cdFx0fVxuXHRcdHRoaXMubm93ID0gKCB0aGlzLmVuZCAtIHRoaXMuc3RhcnQgKSAqIGVhc2VkICsgdGhpcy5zdGFydDtcblxuXHRcdGlmICggdGhpcy5vcHRpb25zLnN0ZXAgKSB7XG5cdFx0XHR0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKCB0aGlzLmVsZW0sIHRoaXMubm93LCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCBob29rcyAmJiBob29rcy5zZXQgKSB7XG5cdFx0XHRob29rcy5zZXQoIHRoaXMgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LnNldCggdGhpcyApO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fVxufTtcblxuVHdlZW4ucHJvdG90eXBlLmluaXQucHJvdG90eXBlID0gVHdlZW4ucHJvdG90eXBlO1xuXG5Ud2Vlbi5wcm9wSG9va3MgPSB7XG5cdF9kZWZhdWx0OiB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XG5cdFx0XHR2YXIgcmVzdWx0O1xuXG5cdFx0XHRpZiAoIHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSAhPSBudWxsICYmXG5cdFx0XHRcdCghdHdlZW4uZWxlbS5zdHlsZSB8fCB0d2Vlbi5lbGVtLnN0eWxlWyB0d2Vlbi5wcm9wIF0gPT0gbnVsbCkgKSB7XG5cdFx0XHRcdHJldHVybiB0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF07XG5cdFx0XHR9XG5cblx0XHRcdC8vIFBhc3NpbmcgYW4gZW1wdHkgc3RyaW5nIGFzIGEgM3JkIHBhcmFtZXRlciB0byAuY3NzIHdpbGwgYXV0b21hdGljYWxseVxuXHRcdFx0Ly8gYXR0ZW1wdCBhIHBhcnNlRmxvYXQgYW5kIGZhbGxiYWNrIHRvIGEgc3RyaW5nIGlmIHRoZSBwYXJzZSBmYWlscy5cblx0XHRcdC8vIFNpbXBsZSB2YWx1ZXMgc3VjaCBhcyBcIjEwcHhcIiBhcmUgcGFyc2VkIHRvIEZsb2F0O1xuXHRcdFx0Ly8gY29tcGxleCB2YWx1ZXMgc3VjaCBhcyBcInJvdGF0ZSgxcmFkKVwiIGFyZSByZXR1cm5lZCBhcy1pcy5cblx0XHRcdHJlc3VsdCA9IGpRdWVyeS5jc3MoIHR3ZWVuLmVsZW0sIHR3ZWVuLnByb3AsIFwiXCIgKTtcblx0XHRcdC8vIEVtcHR5IHN0cmluZ3MsIG51bGwsIHVuZGVmaW5lZCBhbmQgXCJhdXRvXCIgYXJlIGNvbnZlcnRlZCB0byAwLlxuXHRcdFx0cmV0dXJuICFyZXN1bHQgfHwgcmVzdWx0ID09PSBcImF1dG9cIiA/IDAgOiByZXN1bHQ7XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblx0XHRcdC8vIFVzZSBzdGVwIGhvb2sgZm9yIGJhY2sgY29tcGF0LlxuXHRcdFx0Ly8gVXNlIGNzc0hvb2sgaWYgaXRzIHRoZXJlLlxuXHRcdFx0Ly8gVXNlIC5zdHlsZSBpZiBhdmFpbGFibGUgYW5kIHVzZSBwbGFpbiBwcm9wZXJ0aWVzIHdoZXJlIGF2YWlsYWJsZS5cblx0XHRcdGlmICggalF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSApIHtcblx0XHRcdFx0alF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSggdHdlZW4gKTtcblx0XHRcdH0gZWxzZSBpZiAoIHR3ZWVuLmVsZW0uc3R5bGUgJiYgKCB0d2Vlbi5lbGVtLnN0eWxlWyBqUXVlcnkuY3NzUHJvcHNbIHR3ZWVuLnByb3AgXSBdICE9IG51bGwgfHwgalF1ZXJ5LmNzc0hvb2tzWyB0d2Vlbi5wcm9wIF0gKSApIHtcblx0XHRcdFx0alF1ZXJ5LnN0eWxlKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCB0d2Vlbi5ub3cgKyB0d2Vlbi51bml0ICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gPSB0d2Vlbi5ub3c7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59O1xuXG4vLyBTdXBwb3J0OiBJRTlcbi8vIFBhbmljIGJhc2VkIGFwcHJvYWNoIHRvIHNldHRpbmcgdGhpbmdzIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuVHdlZW4ucHJvcEhvb2tzLnNjcm9sbFRvcCA9IFR3ZWVuLnByb3BIb29rcy5zY3JvbGxMZWZ0ID0ge1xuXHRzZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblx0XHRpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgJiYgdHdlZW4uZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdID0gdHdlZW4ubm93O1xuXHRcdH1cblx0fVxufTtcblxualF1ZXJ5LmVhc2luZyA9IHtcblx0bGluZWFyOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gcDtcblx0fSxcblx0c3dpbmc6IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiAwLjUgLSBNYXRoLmNvcyggcCAqIE1hdGguUEkgKSAvIDI7XG5cdH1cbn07XG5cbmpRdWVyeS5meCA9IFR3ZWVuLnByb3RvdHlwZS5pbml0O1xuXG4vLyBCYWNrIENvbXBhdCA8MS44IGV4dGVuc2lvbiBwb2ludFxualF1ZXJ5LmZ4LnN0ZXAgPSB7fTtcblxuXG5cblxudmFyXG5cdGZ4Tm93LCB0aW1lcklkLFxuXHRyZnh0eXBlcyA9IC9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxcblx0cmZ4bnVtID0gbmV3IFJlZ0V4cCggXCJeKD86KFsrLV0pPXwpKFwiICsgcG51bSArIFwiKShbYS16JV0qKSRcIiwgXCJpXCIgKSxcblx0cnJ1biA9IC9xdWV1ZUhvb2tzJC8sXG5cdGFuaW1hdGlvblByZWZpbHRlcnMgPSBbIGRlZmF1bHRQcmVmaWx0ZXIgXSxcblx0dHdlZW5lcnMgPSB7XG5cdFx0XCIqXCI6IFsgZnVuY3Rpb24oIHByb3AsIHZhbHVlICkge1xuXHRcdFx0dmFyIHR3ZWVuID0gdGhpcy5jcmVhdGVUd2VlbiggcHJvcCwgdmFsdWUgKSxcblx0XHRcdFx0dGFyZ2V0ID0gdHdlZW4uY3VyKCksXG5cdFx0XHRcdHBhcnRzID0gcmZ4bnVtLmV4ZWMoIHZhbHVlICksXG5cdFx0XHRcdHVuaXQgPSBwYXJ0cyAmJiBwYXJ0c1sgMyBdIHx8ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdID8gXCJcIiA6IFwicHhcIiApLFxuXG5cdFx0XHRcdC8vIFN0YXJ0aW5nIHZhbHVlIGNvbXB1dGF0aW9uIGlzIHJlcXVpcmVkIGZvciBwb3RlbnRpYWwgdW5pdCBtaXNtYXRjaGVzXG5cdFx0XHRcdHN0YXJ0ID0gKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gfHwgdW5pdCAhPT0gXCJweFwiICYmICt0YXJnZXQgKSAmJlxuXHRcdFx0XHRcdHJmeG51bS5leGVjKCBqUXVlcnkuY3NzKCB0d2Vlbi5lbGVtLCBwcm9wICkgKSxcblx0XHRcdFx0c2NhbGUgPSAxLFxuXHRcdFx0XHRtYXhJdGVyYXRpb25zID0gMjA7XG5cblx0XHRcdGlmICggc3RhcnQgJiYgc3RhcnRbIDMgXSAhPT0gdW5pdCApIHtcblx0XHRcdFx0Ly8gVHJ1c3QgdW5pdHMgcmVwb3J0ZWQgYnkgalF1ZXJ5LmNzc1xuXHRcdFx0XHR1bml0ID0gdW5pdCB8fCBzdGFydFsgMyBdO1xuXG5cdFx0XHRcdC8vIE1ha2Ugc3VyZSB3ZSB1cGRhdGUgdGhlIHR3ZWVuIHByb3BlcnRpZXMgbGF0ZXIgb25cblx0XHRcdFx0cGFydHMgPSBwYXJ0cyB8fCBbXTtcblxuXHRcdFx0XHQvLyBJdGVyYXRpdmVseSBhcHByb3hpbWF0ZSBmcm9tIGEgbm9uemVybyBzdGFydGluZyBwb2ludFxuXHRcdFx0XHRzdGFydCA9ICt0YXJnZXQgfHwgMTtcblxuXHRcdFx0XHRkbyB7XG5cdFx0XHRcdFx0Ly8gSWYgcHJldmlvdXMgaXRlcmF0aW9uIHplcm9lZCBvdXQsIGRvdWJsZSB1bnRpbCB3ZSBnZXQgKnNvbWV0aGluZyouXG5cdFx0XHRcdFx0Ly8gVXNlIHN0cmluZyBmb3IgZG91Ymxpbmcgc28gd2UgZG9uJ3QgYWNjaWRlbnRhbGx5IHNlZSBzY2FsZSBhcyB1bmNoYW5nZWQgYmVsb3dcblx0XHRcdFx0XHRzY2FsZSA9IHNjYWxlIHx8IFwiLjVcIjtcblxuXHRcdFx0XHRcdC8vIEFkanVzdCBhbmQgYXBwbHlcblx0XHRcdFx0XHRzdGFydCA9IHN0YXJ0IC8gc2NhbGU7XG5cdFx0XHRcdFx0alF1ZXJ5LnN0eWxlKCB0d2Vlbi5lbGVtLCBwcm9wLCBzdGFydCArIHVuaXQgKTtcblxuXHRcdFx0XHQvLyBVcGRhdGUgc2NhbGUsIHRvbGVyYXRpbmcgemVybyBvciBOYU4gZnJvbSB0d2Vlbi5jdXIoKSxcblx0XHRcdFx0Ly8gYnJlYWsgdGhlIGxvb3AgaWYgc2NhbGUgaXMgdW5jaGFuZ2VkIG9yIHBlcmZlY3QsIG9yIGlmIHdlJ3ZlIGp1c3QgaGFkIGVub3VnaFxuXHRcdFx0XHR9IHdoaWxlICggc2NhbGUgIT09IChzY2FsZSA9IHR3ZWVuLmN1cigpIC8gdGFyZ2V0KSAmJiBzY2FsZSAhPT0gMSAmJiAtLW1heEl0ZXJhdGlvbnMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVXBkYXRlIHR3ZWVuIHByb3BlcnRpZXNcblx0XHRcdGlmICggcGFydHMgKSB7XG5cdFx0XHRcdHN0YXJ0ID0gdHdlZW4uc3RhcnQgPSArc3RhcnQgfHwgK3RhcmdldCB8fCAwO1xuXHRcdFx0XHR0d2Vlbi51bml0ID0gdW5pdDtcblx0XHRcdFx0Ly8gSWYgYSArPS8tPSB0b2tlbiB3YXMgcHJvdmlkZWQsIHdlJ3JlIGRvaW5nIGEgcmVsYXRpdmUgYW5pbWF0aW9uXG5cdFx0XHRcdHR3ZWVuLmVuZCA9IHBhcnRzWyAxIF0gP1xuXHRcdFx0XHRcdHN0YXJ0ICsgKCBwYXJ0c1sgMSBdICsgMSApICogcGFydHNbIDIgXSA6XG5cdFx0XHRcdFx0K3BhcnRzWyAyIF07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0d2Vlbjtcblx0XHR9IF1cblx0fTtcblxuLy8gQW5pbWF0aW9ucyBjcmVhdGVkIHN5bmNocm9ub3VzbHkgd2lsbCBydW4gc3luY2hyb25vdXNseVxuZnVuY3Rpb24gY3JlYXRlRnhOb3coKSB7XG5cdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0ZnhOb3cgPSB1bmRlZmluZWQ7XG5cdH0pO1xuXHRyZXR1cm4gKCBmeE5vdyA9IGpRdWVyeS5ub3coKSApO1xufVxuXG4vLyBHZW5lcmF0ZSBwYXJhbWV0ZXJzIHRvIGNyZWF0ZSBhIHN0YW5kYXJkIGFuaW1hdGlvblxuZnVuY3Rpb24gZ2VuRngoIHR5cGUsIGluY2x1ZGVXaWR0aCApIHtcblx0dmFyIHdoaWNoLFxuXHRcdGkgPSAwLFxuXHRcdGF0dHJzID0geyBoZWlnaHQ6IHR5cGUgfTtcblxuXHQvLyBJZiB3ZSBpbmNsdWRlIHdpZHRoLCBzdGVwIHZhbHVlIGlzIDEgdG8gZG8gYWxsIGNzc0V4cGFuZCB2YWx1ZXMsXG5cdC8vIG90aGVyd2lzZSBzdGVwIHZhbHVlIGlzIDIgdG8gc2tpcCBvdmVyIExlZnQgYW5kIFJpZ2h0XG5cdGluY2x1ZGVXaWR0aCA9IGluY2x1ZGVXaWR0aCA/IDEgOiAwO1xuXHRmb3IgKCA7IGkgPCA0IDsgaSArPSAyIC0gaW5jbHVkZVdpZHRoICkge1xuXHRcdHdoaWNoID0gY3NzRXhwYW5kWyBpIF07XG5cdFx0YXR0cnNbIFwibWFyZ2luXCIgKyB3aGljaCBdID0gYXR0cnNbIFwicGFkZGluZ1wiICsgd2hpY2ggXSA9IHR5cGU7XG5cdH1cblxuXHRpZiAoIGluY2x1ZGVXaWR0aCApIHtcblx0XHRhdHRycy5vcGFjaXR5ID0gYXR0cnMud2lkdGggPSB0eXBlO1xuXHR9XG5cblx0cmV0dXJuIGF0dHJzO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUd2VlbiggdmFsdWUsIHByb3AsIGFuaW1hdGlvbiApIHtcblx0dmFyIHR3ZWVuLFxuXHRcdGNvbGxlY3Rpb24gPSAoIHR3ZWVuZXJzWyBwcm9wIF0gfHwgW10gKS5jb25jYXQoIHR3ZWVuZXJzWyBcIipcIiBdICksXG5cdFx0aW5kZXggPSAwLFxuXHRcdGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGlmICggKHR3ZWVuID0gY29sbGVjdGlvblsgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIHByb3AsIHZhbHVlICkpICkge1xuXG5cdFx0XHQvLyBXZSdyZSBkb25lIHdpdGggdGhpcyBwcm9wZXJ0eVxuXHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBkZWZhdWx0UHJlZmlsdGVyKCBlbGVtLCBwcm9wcywgb3B0cyApIHtcblx0LyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuXHR2YXIgcHJvcCwgdmFsdWUsIHRvZ2dsZSwgdHdlZW4sIGhvb2tzLCBvbGRmaXJlLCBkaXNwbGF5LCBjaGVja0Rpc3BsYXksXG5cdFx0YW5pbSA9IHRoaXMsXG5cdFx0b3JpZyA9IHt9LFxuXHRcdHN0eWxlID0gZWxlbS5zdHlsZSxcblx0XHRoaWRkZW4gPSBlbGVtLm5vZGVUeXBlICYmIGlzSGlkZGVuKCBlbGVtICksXG5cdFx0ZGF0YVNob3cgPSBkYXRhX3ByaXYuZ2V0KCBlbGVtLCBcImZ4c2hvd1wiICk7XG5cblx0Ly8gSGFuZGxlIHF1ZXVlOiBmYWxzZSBwcm9taXNlc1xuXHRpZiAoICFvcHRzLnF1ZXVlICkge1xuXHRcdGhvb2tzID0galF1ZXJ5Ll9xdWV1ZUhvb2tzKCBlbGVtLCBcImZ4XCIgKTtcblx0XHRpZiAoIGhvb2tzLnVucXVldWVkID09IG51bGwgKSB7XG5cdFx0XHRob29rcy51bnF1ZXVlZCA9IDA7XG5cdFx0XHRvbGRmaXJlID0gaG9va3MuZW1wdHkuZmlyZTtcblx0XHRcdGhvb2tzLmVtcHR5LmZpcmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAhaG9va3MudW5xdWV1ZWQgKSB7XG5cdFx0XHRcdFx0b2xkZmlyZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblx0XHRob29rcy51bnF1ZXVlZCsrO1xuXG5cdFx0YW5pbS5hbHdheXMoZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyBFbnN1cmUgdGhlIGNvbXBsZXRlIGhhbmRsZXIgaXMgY2FsbGVkIGJlZm9yZSB0aGlzIGNvbXBsZXRlc1xuXHRcdFx0YW5pbS5hbHdheXMoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGhvb2tzLnVucXVldWVkLS07XG5cdFx0XHRcdGlmICggIWpRdWVyeS5xdWV1ZSggZWxlbSwgXCJmeFwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRcdGhvb2tzLmVtcHR5LmZpcmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBIZWlnaHQvd2lkdGggb3ZlcmZsb3cgcGFzc1xuXHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKCBcImhlaWdodFwiIGluIHByb3BzIHx8IFwid2lkdGhcIiBpbiBwcm9wcyApICkge1xuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IG5vdGhpbmcgc25lYWtzIG91dFxuXHRcdC8vIFJlY29yZCBhbGwgMyBvdmVyZmxvdyBhdHRyaWJ1dGVzIGJlY2F1c2UgSUU5LTEwIGRvIG5vdFxuXHRcdC8vIGNoYW5nZSB0aGUgb3ZlcmZsb3cgYXR0cmlidXRlIHdoZW4gb3ZlcmZsb3dYIGFuZFxuXHRcdC8vIG92ZXJmbG93WSBhcmUgc2V0IHRvIHRoZSBzYW1lIHZhbHVlXG5cdFx0b3B0cy5vdmVyZmxvdyA9IFsgc3R5bGUub3ZlcmZsb3csIHN0eWxlLm92ZXJmbG93WCwgc3R5bGUub3ZlcmZsb3dZIF07XG5cblx0XHQvLyBTZXQgZGlzcGxheSBwcm9wZXJ0eSB0byBpbmxpbmUtYmxvY2sgZm9yIGhlaWdodC93aWR0aFxuXHRcdC8vIGFuaW1hdGlvbnMgb24gaW5saW5lIGVsZW1lbnRzIHRoYXQgYXJlIGhhdmluZyB3aWR0aC9oZWlnaHQgYW5pbWF0ZWRcblx0XHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJkaXNwbGF5XCIgKTtcblxuXHRcdC8vIFRlc3QgZGVmYXVsdCBkaXNwbGF5IGlmIGRpc3BsYXkgaXMgY3VycmVudGx5IFwibm9uZVwiXG5cdFx0Y2hlY2tEaXNwbGF5ID0gZGlzcGxheSA9PT0gXCJub25lXCIgP1xuXHRcdFx0ZGF0YV9wcml2LmdldCggZWxlbSwgXCJvbGRkaXNwbGF5XCIgKSB8fCBkZWZhdWx0RGlzcGxheSggZWxlbS5ub2RlTmFtZSApIDogZGlzcGxheTtcblxuXHRcdGlmICggY2hlY2tEaXNwbGF5ID09PSBcImlubGluZVwiICYmIGpRdWVyeS5jc3MoIGVsZW0sIFwiZmxvYXRcIiApID09PSBcIm5vbmVcIiApIHtcblx0XHRcdHN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuXHRcdH1cblx0fVxuXG5cdGlmICggb3B0cy5vdmVyZmxvdyApIHtcblx0XHRzdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XG5cdFx0YW5pbS5hbHdheXMoZnVuY3Rpb24oKSB7XG5cdFx0XHRzdHlsZS5vdmVyZmxvdyA9IG9wdHMub3ZlcmZsb3dbIDAgXTtcblx0XHRcdHN0eWxlLm92ZXJmbG93WCA9IG9wdHMub3ZlcmZsb3dbIDEgXTtcblx0XHRcdHN0eWxlLm92ZXJmbG93WSA9IG9wdHMub3ZlcmZsb3dbIDIgXTtcblx0XHR9KTtcblx0fVxuXG5cdC8vIHNob3cvaGlkZSBwYXNzXG5cdGZvciAoIHByb3AgaW4gcHJvcHMgKSB7XG5cdFx0dmFsdWUgPSBwcm9wc1sgcHJvcCBdO1xuXHRcdGlmICggcmZ4dHlwZXMuZXhlYyggdmFsdWUgKSApIHtcblx0XHRcdGRlbGV0ZSBwcm9wc1sgcHJvcCBdO1xuXHRcdFx0dG9nZ2xlID0gdG9nZ2xlIHx8IHZhbHVlID09PSBcInRvZ2dsZVwiO1xuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gKCBoaWRkZW4gPyBcImhpZGVcIiA6IFwic2hvd1wiICkgKSB7XG5cblx0XHRcdFx0Ly8gSWYgdGhlcmUgaXMgZGF0YVNob3cgbGVmdCBvdmVyIGZyb20gYSBzdG9wcGVkIGhpZGUgb3Igc2hvdyBhbmQgd2UgYXJlIGdvaW5nIHRvIHByb2NlZWQgd2l0aCBzaG93LCB3ZSBzaG91bGQgcHJldGVuZCB0byBiZSBoaWRkZW5cblx0XHRcdFx0aWYgKCB2YWx1ZSA9PT0gXCJzaG93XCIgJiYgZGF0YVNob3cgJiYgZGF0YVNob3dbIHByb3AgXSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdGhpZGRlbiA9IHRydWU7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG9yaWdbIHByb3AgXSA9IGRhdGFTaG93ICYmIGRhdGFTaG93WyBwcm9wIF0gfHwgalF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wICk7XG5cblx0XHQvLyBBbnkgbm9uLWZ4IHZhbHVlIHN0b3BzIHVzIGZyb20gcmVzdG9yaW5nIHRoZSBvcmlnaW5hbCBkaXNwbGF5IHZhbHVlXG5cdFx0fSBlbHNlIHtcblx0XHRcdGRpc3BsYXkgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHR9XG5cblx0aWYgKCAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoIG9yaWcgKSApIHtcblx0XHRpZiAoIGRhdGFTaG93ICkge1xuXHRcdFx0aWYgKCBcImhpZGRlblwiIGluIGRhdGFTaG93ICkge1xuXHRcdFx0XHRoaWRkZW4gPSBkYXRhU2hvdy5oaWRkZW47XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRhdGFTaG93ID0gZGF0YV9wcml2LmFjY2VzcyggZWxlbSwgXCJmeHNob3dcIiwge30gKTtcblx0XHR9XG5cblx0XHQvLyBTdG9yZSBzdGF0ZSBpZiBpdHMgdG9nZ2xlIC0gZW5hYmxlcyAuc3RvcCgpLnRvZ2dsZSgpIHRvIFwicmV2ZXJzZVwiXG5cdFx0aWYgKCB0b2dnbGUgKSB7XG5cdFx0XHRkYXRhU2hvdy5oaWRkZW4gPSAhaGlkZGVuO1xuXHRcdH1cblx0XHRpZiAoIGhpZGRlbiApIHtcblx0XHRcdGpRdWVyeSggZWxlbSApLnNob3coKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YW5pbS5kb25lKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRqUXVlcnkoIGVsZW0gKS5oaWRlKCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0YW5pbS5kb25lKGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHByb3A7XG5cblx0XHRcdGRhdGFfcHJpdi5yZW1vdmUoIGVsZW0sIFwiZnhzaG93XCIgKTtcblx0XHRcdGZvciAoIHByb3AgaW4gb3JpZyApIHtcblx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBvcmlnWyBwcm9wIF0gKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XG5cdFx0XHR0d2VlbiA9IGNyZWF0ZVR3ZWVuKCBoaWRkZW4gPyBkYXRhU2hvd1sgcHJvcCBdIDogMCwgcHJvcCwgYW5pbSApO1xuXG5cdFx0XHRpZiAoICEoIHByb3AgaW4gZGF0YVNob3cgKSApIHtcblx0XHRcdFx0ZGF0YVNob3dbIHByb3AgXSA9IHR3ZWVuLnN0YXJ0O1xuXHRcdFx0XHRpZiAoIGhpZGRlbiApIHtcblx0XHRcdFx0XHR0d2Vlbi5lbmQgPSB0d2Vlbi5zdGFydDtcblx0XHRcdFx0XHR0d2Vlbi5zdGFydCA9IHByb3AgPT09IFwid2lkdGhcIiB8fCBwcm9wID09PSBcImhlaWdodFwiID8gMSA6IDA7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0Ly8gSWYgdGhpcyBpcyBhIG5vb3AgbGlrZSAuaGlkZSgpLmhpZGUoKSwgcmVzdG9yZSBhbiBvdmVyd3JpdHRlbiBkaXNwbGF5IHZhbHVlXG5cdH0gZWxzZSBpZiAoIChkaXNwbGF5ID09PSBcIm5vbmVcIiA/IGRlZmF1bHREaXNwbGF5KCBlbGVtLm5vZGVOYW1lICkgOiBkaXNwbGF5KSA9PT0gXCJpbmxpbmVcIiApIHtcblx0XHRzdHlsZS5kaXNwbGF5ID0gZGlzcGxheTtcblx0fVxufVxuXG5mdW5jdGlvbiBwcm9wRmlsdGVyKCBwcm9wcywgc3BlY2lhbEVhc2luZyApIHtcblx0dmFyIGluZGV4LCBuYW1lLCBlYXNpbmcsIHZhbHVlLCBob29rcztcblxuXHQvLyBjYW1lbENhc2UsIHNwZWNpYWxFYXNpbmcgYW5kIGV4cGFuZCBjc3NIb29rIHBhc3Ncblx0Zm9yICggaW5kZXggaW4gcHJvcHMgKSB7XG5cdFx0bmFtZSA9IGpRdWVyeS5jYW1lbENhc2UoIGluZGV4ICk7XG5cdFx0ZWFzaW5nID0gc3BlY2lhbEVhc2luZ1sgbmFtZSBdO1xuXHRcdHZhbHVlID0gcHJvcHNbIGluZGV4IF07XG5cdFx0aWYgKCBqUXVlcnkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRcdGVhc2luZyA9IHZhbHVlWyAxIF07XG5cdFx0XHR2YWx1ZSA9IHByb3BzWyBpbmRleCBdID0gdmFsdWVbIDAgXTtcblx0XHR9XG5cblx0XHRpZiAoIGluZGV4ICE9PSBuYW1lICkge1xuXHRcdFx0cHJvcHNbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0ZGVsZXRlIHByb3BzWyBpbmRleCBdO1xuXHRcdH1cblxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF07XG5cdFx0aWYgKCBob29rcyAmJiBcImV4cGFuZFwiIGluIGhvb2tzICkge1xuXHRcdFx0dmFsdWUgPSBob29rcy5leHBhbmQoIHZhbHVlICk7XG5cdFx0XHRkZWxldGUgcHJvcHNbIG5hbWUgXTtcblxuXHRcdFx0Ly8gTm90IHF1aXRlICQuZXh0ZW5kLCB0aGlzIHdvbid0IG92ZXJ3cml0ZSBleGlzdGluZyBrZXlzLlxuXHRcdFx0Ly8gUmV1c2luZyAnaW5kZXgnIGJlY2F1c2Ugd2UgaGF2ZSB0aGUgY29ycmVjdCBcIm5hbWVcIlxuXHRcdFx0Zm9yICggaW5kZXggaW4gdmFsdWUgKSB7XG5cdFx0XHRcdGlmICggISggaW5kZXggaW4gcHJvcHMgKSApIHtcblx0XHRcdFx0XHRwcm9wc1sgaW5kZXggXSA9IHZhbHVlWyBpbmRleCBdO1xuXHRcdFx0XHRcdHNwZWNpYWxFYXNpbmdbIGluZGV4IF0gPSBlYXNpbmc7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0c3BlY2lhbEVhc2luZ1sgbmFtZSBdID0gZWFzaW5nO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBBbmltYXRpb24oIGVsZW0sIHByb3BlcnRpZXMsIG9wdGlvbnMgKSB7XG5cdHZhciByZXN1bHQsXG5cdFx0c3RvcHBlZCxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gYW5pbWF0aW9uUHJlZmlsdGVycy5sZW5ndGgsXG5cdFx0ZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gRG9uJ3QgbWF0Y2ggZWxlbSBpbiB0aGUgOmFuaW1hdGVkIHNlbGVjdG9yXG5cdFx0XHRkZWxldGUgdGljay5lbGVtO1xuXHRcdH0pLFxuXHRcdHRpY2sgPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggc3RvcHBlZCApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGN1cnJlbnRUaW1lID0gZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcblx0XHRcdFx0cmVtYWluaW5nID0gTWF0aC5tYXgoIDAsIGFuaW1hdGlvbi5zdGFydFRpbWUgKyBhbmltYXRpb24uZHVyYXRpb24gLSBjdXJyZW50VGltZSApLFxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDIuM1xuXHRcdFx0XHQvLyBBcmNoYWljIGNyYXNoIGJ1ZyB3b24ndCBhbGxvdyB1cyB0byB1c2UgYDEgLSAoIDAuNSB8fCAwIClgICgjMTI0OTcpXG5cdFx0XHRcdHRlbXAgPSByZW1haW5pbmcgLyBhbmltYXRpb24uZHVyYXRpb24gfHwgMCxcblx0XHRcdFx0cGVyY2VudCA9IDEgLSB0ZW1wLFxuXHRcdFx0XHRpbmRleCA9IDAsXG5cdFx0XHRcdGxlbmd0aCA9IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoO1xuXG5cdFx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoIDsgaW5kZXgrKyApIHtcblx0XHRcdFx0YW5pbWF0aW9uLnR3ZWVuc1sgaW5kZXggXS5ydW4oIHBlcmNlbnQgKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVmZXJyZWQubm90aWZ5V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIHBlcmNlbnQsIHJlbWFpbmluZyBdKTtcblxuXHRcdFx0aWYgKCBwZXJjZW50IDwgMSAmJiBsZW5ndGggKSB7XG5cdFx0XHRcdHJldHVybiByZW1haW5pbmc7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24gXSApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRhbmltYXRpb24gPSBkZWZlcnJlZC5wcm9taXNlKHtcblx0XHRcdGVsZW06IGVsZW0sXG5cdFx0XHRwcm9wczogalF1ZXJ5LmV4dGVuZCgge30sIHByb3BlcnRpZXMgKSxcblx0XHRcdG9wdHM6IGpRdWVyeS5leHRlbmQoIHRydWUsIHsgc3BlY2lhbEVhc2luZzoge30gfSwgb3B0aW9ucyApLFxuXHRcdFx0b3JpZ2luYWxQcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzLFxuXHRcdFx0b3JpZ2luYWxPcHRpb25zOiBvcHRpb25zLFxuXHRcdFx0c3RhcnRUaW1lOiBmeE5vdyB8fCBjcmVhdGVGeE5vdygpLFxuXHRcdFx0ZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG5cdFx0XHR0d2VlbnM6IFtdLFxuXHRcdFx0Y3JlYXRlVHdlZW46IGZ1bmN0aW9uKCBwcm9wLCBlbmQgKSB7XG5cdFx0XHRcdHZhciB0d2VlbiA9IGpRdWVyeS5Ud2VlbiggZWxlbSwgYW5pbWF0aW9uLm9wdHMsIHByb3AsIGVuZCxcblx0XHRcdFx0XHRcdGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmdbIHByb3AgXSB8fCBhbmltYXRpb24ub3B0cy5lYXNpbmcgKTtcblx0XHRcdFx0YW5pbWF0aW9uLnR3ZWVucy5wdXNoKCB0d2VlbiApO1xuXHRcdFx0XHRyZXR1cm4gdHdlZW47XG5cdFx0XHR9LFxuXHRcdFx0c3RvcDogZnVuY3Rpb24oIGdvdG9FbmQgKSB7XG5cdFx0XHRcdHZhciBpbmRleCA9IDAsXG5cdFx0XHRcdFx0Ly8gSWYgd2UgYXJlIGdvaW5nIHRvIHRoZSBlbmQsIHdlIHdhbnQgdG8gcnVuIGFsbCB0aGUgdHdlZW5zXG5cdFx0XHRcdFx0Ly8gb3RoZXJ3aXNlIHdlIHNraXAgdGhpcyBwYXJ0XG5cdFx0XHRcdFx0bGVuZ3RoID0gZ290b0VuZCA/IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoIDogMDtcblx0XHRcdFx0aWYgKCBzdG9wcGVkICkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN0b3BwZWQgPSB0cnVlO1xuXHRcdFx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoIDsgaW5kZXgrKyApIHtcblx0XHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggMSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUmVzb2x2ZSB3aGVuIHdlIHBsYXllZCB0aGUgbGFzdCBmcmFtZTsgb3RoZXJ3aXNlLCByZWplY3Rcblx0XHRcdFx0aWYgKCBnb3RvRW5kICkge1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgZ290b0VuZCBdICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdH0pLFxuXHRcdHByb3BzID0gYW5pbWF0aW9uLnByb3BzO1xuXG5cdHByb3BGaWx0ZXIoIHByb3BzLCBhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nICk7XG5cblx0Zm9yICggOyBpbmRleCA8IGxlbmd0aCA7IGluZGV4KysgKSB7XG5cdFx0cmVzdWx0ID0gYW5pbWF0aW9uUHJlZmlsdGVyc1sgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIGVsZW0sIHByb3BzLCBhbmltYXRpb24ub3B0cyApO1xuXHRcdGlmICggcmVzdWx0ICkge1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cdH1cblxuXHRqUXVlcnkubWFwKCBwcm9wcywgY3JlYXRlVHdlZW4sIGFuaW1hdGlvbiApO1xuXG5cdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGFuaW1hdGlvbi5vcHRzLnN0YXJ0ICkgKSB7XG5cdFx0YW5pbWF0aW9uLm9wdHMuc3RhcnQuY2FsbCggZWxlbSwgYW5pbWF0aW9uICk7XG5cdH1cblxuXHRqUXVlcnkuZngudGltZXIoXG5cdFx0alF1ZXJ5LmV4dGVuZCggdGljaywge1xuXHRcdFx0ZWxlbTogZWxlbSxcblx0XHRcdGFuaW06IGFuaW1hdGlvbixcblx0XHRcdHF1ZXVlOiBhbmltYXRpb24ub3B0cy5xdWV1ZVxuXHRcdH0pXG5cdCk7XG5cblx0Ly8gYXR0YWNoIGNhbGxiYWNrcyBmcm9tIG9wdGlvbnNcblx0cmV0dXJuIGFuaW1hdGlvbi5wcm9ncmVzcyggYW5pbWF0aW9uLm9wdHMucHJvZ3Jlc3MgKVxuXHRcdC5kb25lKCBhbmltYXRpb24ub3B0cy5kb25lLCBhbmltYXRpb24ub3B0cy5jb21wbGV0ZSApXG5cdFx0LmZhaWwoIGFuaW1hdGlvbi5vcHRzLmZhaWwgKVxuXHRcdC5hbHdheXMoIGFuaW1hdGlvbi5vcHRzLmFsd2F5cyApO1xufVxuXG5qUXVlcnkuQW5pbWF0aW9uID0galF1ZXJ5LmV4dGVuZCggQW5pbWF0aW9uLCB7XG5cblx0dHdlZW5lcjogZnVuY3Rpb24oIHByb3BzLCBjYWxsYmFjayApIHtcblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBwcm9wcyApICkge1xuXHRcdFx0Y2FsbGJhY2sgPSBwcm9wcztcblx0XHRcdHByb3BzID0gWyBcIipcIiBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwcm9wcyA9IHByb3BzLnNwbGl0KFwiIFwiKTtcblx0XHR9XG5cblx0XHR2YXIgcHJvcCxcblx0XHRcdGluZGV4ID0gMCxcblx0XHRcdGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuXHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGggOyBpbmRleCsrICkge1xuXHRcdFx0cHJvcCA9IHByb3BzWyBpbmRleCBdO1xuXHRcdFx0dHdlZW5lcnNbIHByb3AgXSA9IHR3ZWVuZXJzWyBwcm9wIF0gfHwgW107XG5cdFx0XHR0d2VlbmVyc1sgcHJvcCBdLnVuc2hpZnQoIGNhbGxiYWNrICk7XG5cdFx0fVxuXHR9LFxuXG5cdHByZWZpbHRlcjogZnVuY3Rpb24oIGNhbGxiYWNrLCBwcmVwZW5kICkge1xuXHRcdGlmICggcHJlcGVuZCApIHtcblx0XHRcdGFuaW1hdGlvblByZWZpbHRlcnMudW5zaGlmdCggY2FsbGJhY2sgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YW5pbWF0aW9uUHJlZmlsdGVycy5wdXNoKCBjYWxsYmFjayApO1xuXHRcdH1cblx0fVxufSk7XG5cbmpRdWVyeS5zcGVlZCA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBmbiApIHtcblx0dmFyIG9wdCA9IHNwZWVkICYmIHR5cGVvZiBzcGVlZCA9PT0gXCJvYmplY3RcIiA/IGpRdWVyeS5leHRlbmQoIHt9LCBzcGVlZCApIDoge1xuXHRcdGNvbXBsZXRlOiBmbiB8fCAhZm4gJiYgZWFzaW5nIHx8XG5cdFx0XHRqUXVlcnkuaXNGdW5jdGlvbiggc3BlZWQgKSAmJiBzcGVlZCxcblx0XHRkdXJhdGlvbjogc3BlZWQsXG5cdFx0ZWFzaW5nOiBmbiAmJiBlYXNpbmcgfHwgZWFzaW5nICYmICFqUXVlcnkuaXNGdW5jdGlvbiggZWFzaW5nICkgJiYgZWFzaW5nXG5cdH07XG5cblx0b3B0LmR1cmF0aW9uID0galF1ZXJ5LmZ4Lm9mZiA/IDAgOiB0eXBlb2Ygb3B0LmR1cmF0aW9uID09PSBcIm51bWJlclwiID8gb3B0LmR1cmF0aW9uIDpcblx0XHRvcHQuZHVyYXRpb24gaW4galF1ZXJ5LmZ4LnNwZWVkcyA/IGpRdWVyeS5meC5zcGVlZHNbIG9wdC5kdXJhdGlvbiBdIDogalF1ZXJ5LmZ4LnNwZWVkcy5fZGVmYXVsdDtcblxuXHQvLyBOb3JtYWxpemUgb3B0LnF1ZXVlIC0gdHJ1ZS91bmRlZmluZWQvbnVsbCAtPiBcImZ4XCJcblx0aWYgKCBvcHQucXVldWUgPT0gbnVsbCB8fCBvcHQucXVldWUgPT09IHRydWUgKSB7XG5cdFx0b3B0LnF1ZXVlID0gXCJmeFwiO1xuXHR9XG5cblx0Ly8gUXVldWVpbmdcblx0b3B0Lm9sZCA9IG9wdC5jb21wbGV0ZTtcblxuXHRvcHQuY29tcGxldGUgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBvcHQub2xkICkgKSB7XG5cdFx0XHRvcHQub2xkLmNhbGwoIHRoaXMgKTtcblx0XHR9XG5cblx0XHRpZiAoIG9wdC5xdWV1ZSApIHtcblx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCBvcHQucXVldWUgKTtcblx0XHR9XG5cdH07XG5cblx0cmV0dXJuIG9wdDtcbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuXHRmYWRlVG86IGZ1bmN0aW9uKCBzcGVlZCwgdG8sIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cblx0XHQvLyBTaG93IGFueSBoaWRkZW4gZWxlbWVudHMgYWZ0ZXIgc2V0dGluZyBvcGFjaXR5IHRvIDBcblx0XHRyZXR1cm4gdGhpcy5maWx0ZXIoIGlzSGlkZGVuICkuY3NzKCBcIm9wYWNpdHlcIiwgMCApLnNob3coKVxuXG5cdFx0XHQvLyBBbmltYXRlIHRvIHRoZSB2YWx1ZSBzcGVjaWZpZWRcblx0XHRcdC5lbmQoKS5hbmltYXRlKHsgb3BhY2l0eTogdG8gfSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcblx0fSxcblx0YW5pbWF0ZTogZnVuY3Rpb24oIHByb3AsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHZhciBlbXB0eSA9IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBwcm9wICksXG5cdFx0XHRvcHRhbGwgPSBqUXVlcnkuc3BlZWQoIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICksXG5cdFx0XHRkb0FuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQvLyBPcGVyYXRlIG9uIGEgY29weSBvZiBwcm9wIHNvIHBlci1wcm9wZXJ0eSBlYXNpbmcgd29uJ3QgYmUgbG9zdFxuXHRcdFx0XHR2YXIgYW5pbSA9IEFuaW1hdGlvbiggdGhpcywgalF1ZXJ5LmV4dGVuZCgge30sIHByb3AgKSwgb3B0YWxsICk7XG5cblx0XHRcdFx0Ly8gRW1wdHkgYW5pbWF0aW9ucywgb3IgZmluaXNoaW5nIHJlc29sdmVzIGltbWVkaWF0ZWx5XG5cdFx0XHRcdGlmICggZW1wdHkgfHwgZGF0YV9wcml2LmdldCggdGhpcywgXCJmaW5pc2hcIiApICkge1xuXHRcdFx0XHRcdGFuaW0uc3RvcCggdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0ZG9BbmltYXRpb24uZmluaXNoID0gZG9BbmltYXRpb247XG5cblx0XHRyZXR1cm4gZW1wdHkgfHwgb3B0YWxsLnF1ZXVlID09PSBmYWxzZSA/XG5cdFx0XHR0aGlzLmVhY2goIGRvQW5pbWF0aW9uICkgOlxuXHRcdFx0dGhpcy5xdWV1ZSggb3B0YWxsLnF1ZXVlLCBkb0FuaW1hdGlvbiApO1xuXHR9LFxuXHRzdG9wOiBmdW5jdGlvbiggdHlwZSwgY2xlYXJRdWV1ZSwgZ290b0VuZCApIHtcblx0XHR2YXIgc3RvcFF1ZXVlID0gZnVuY3Rpb24oIGhvb2tzICkge1xuXHRcdFx0dmFyIHN0b3AgPSBob29rcy5zdG9wO1xuXHRcdFx0ZGVsZXRlIGhvb2tzLnN0b3A7XG5cdFx0XHRzdG9wKCBnb3RvRW5kICk7XG5cdFx0fTtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRnb3RvRW5kID0gY2xlYXJRdWV1ZTtcblx0XHRcdGNsZWFyUXVldWUgPSB0eXBlO1xuXHRcdFx0dHlwZSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0aWYgKCBjbGVhclF1ZXVlICYmIHR5cGUgIT09IGZhbHNlICkge1xuXHRcdFx0dGhpcy5xdWV1ZSggdHlwZSB8fCBcImZ4XCIsIFtdICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdHZhciBkZXF1ZXVlID0gdHJ1ZSxcblx0XHRcdFx0aW5kZXggPSB0eXBlICE9IG51bGwgJiYgdHlwZSArIFwicXVldWVIb29rc1wiLFxuXHRcdFx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxuXHRcdFx0XHRkYXRhID0gZGF0YV9wcml2LmdldCggdGhpcyApO1xuXG5cdFx0XHRpZiAoIGluZGV4ICkge1xuXHRcdFx0XHRpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICkge1xuXHRcdFx0XHRcdHN0b3BRdWV1ZSggZGF0YVsgaW5kZXggXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb3IgKCBpbmRleCBpbiBkYXRhICkge1xuXHRcdFx0XHRcdGlmICggZGF0YVsgaW5kZXggXSAmJiBkYXRhWyBpbmRleCBdLnN0b3AgJiYgcnJ1bi50ZXN0KCBpbmRleCApICkge1xuXHRcdFx0XHRcdFx0c3RvcFF1ZXVlKCBkYXRhWyBpbmRleCBdICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoIGluZGV4ID0gdGltZXJzLmxlbmd0aDsgaW5kZXgtLTsgKSB7XG5cdFx0XHRcdGlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiYgKHR5cGUgPT0gbnVsbCB8fCB0aW1lcnNbIGluZGV4IF0ucXVldWUgPT09IHR5cGUpICkge1xuXHRcdFx0XHRcdHRpbWVyc1sgaW5kZXggXS5hbmltLnN0b3AoIGdvdG9FbmQgKTtcblx0XHRcdFx0XHRkZXF1ZXVlID0gZmFsc2U7XG5cdFx0XHRcdFx0dGltZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdGFydCB0aGUgbmV4dCBpbiB0aGUgcXVldWUgaWYgdGhlIGxhc3Qgc3RlcCB3YXNuJ3QgZm9yY2VkLlxuXHRcdFx0Ly8gVGltZXJzIGN1cnJlbnRseSB3aWxsIGNhbGwgdGhlaXIgY29tcGxldGUgY2FsbGJhY2tzLCB3aGljaFxuXHRcdFx0Ly8gd2lsbCBkZXF1ZXVlIGJ1dCBvbmx5IGlmIHRoZXkgd2VyZSBnb3RvRW5kLlxuXHRcdFx0aWYgKCBkZXF1ZXVlIHx8ICFnb3RvRW5kICkge1xuXHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9LFxuXHRmaW5pc2g6IGZ1bmN0aW9uKCB0eXBlICkge1xuXHRcdGlmICggdHlwZSAhPT0gZmFsc2UgKSB7XG5cdFx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaW5kZXgsXG5cdFx0XHRcdGRhdGEgPSBkYXRhX3ByaXYuZ2V0KCB0aGlzICksXG5cdFx0XHRcdHF1ZXVlID0gZGF0YVsgdHlwZSArIFwicXVldWVcIiBdLFxuXHRcdFx0XHRob29rcyA9IGRhdGFbIHR5cGUgKyBcInF1ZXVlSG9va3NcIiBdLFxuXHRcdFx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxuXHRcdFx0XHRsZW5ndGggPSBxdWV1ZSA/IHF1ZXVlLmxlbmd0aCA6IDA7XG5cblx0XHRcdC8vIEVuYWJsZSBmaW5pc2hpbmcgZmxhZyBvbiBwcml2YXRlIGRhdGFcblx0XHRcdGRhdGEuZmluaXNoID0gdHJ1ZTtcblxuXHRcdFx0Ly8gRW1wdHkgdGhlIHF1ZXVlIGZpcnN0XG5cdFx0XHRqUXVlcnkucXVldWUoIHRoaXMsIHR5cGUsIFtdICk7XG5cblx0XHRcdGlmICggaG9va3MgJiYgaG9va3Muc3RvcCApIHtcblx0XHRcdFx0aG9va3Muc3RvcC5jYWxsKCB0aGlzLCB0cnVlICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIExvb2sgZm9yIGFueSBhY3RpdmUgYW5pbWF0aW9ucywgYW5kIGZpbmlzaCB0aGVtXG5cdFx0XHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xuXHRcdFx0XHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmIHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApIHtcblx0XHRcdFx0XHR0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCB0cnVlICk7XG5cdFx0XHRcdFx0dGltZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBMb29rIGZvciBhbnkgYW5pbWF0aW9ucyBpbiB0aGUgb2xkIHF1ZXVlIGFuZCBmaW5pc2ggdGhlbVxuXHRcdFx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdFx0aWYgKCBxdWV1ZVsgaW5kZXggXSAmJiBxdWV1ZVsgaW5kZXggXS5maW5pc2ggKSB7XG5cdFx0XHRcdFx0cXVldWVbIGluZGV4IF0uZmluaXNoLmNhbGwoIHRoaXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBUdXJuIG9mZiBmaW5pc2hpbmcgZmxhZ1xuXHRcdFx0ZGVsZXRlIGRhdGEuZmluaXNoO1xuXHRcdH0pO1xuXHR9XG59KTtcblxualF1ZXJ5LmVhY2goWyBcInRvZ2dsZVwiLCBcInNob3dcIiwgXCJoaWRlXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cdHZhciBjc3NGbiA9IGpRdWVyeS5mblsgbmFtZSBdO1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4gc3BlZWQgPT0gbnVsbCB8fCB0eXBlb2Ygc3BlZWQgPT09IFwiYm9vbGVhblwiID9cblx0XHRcdGNzc0ZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSA6XG5cdFx0XHR0aGlzLmFuaW1hdGUoIGdlbkZ4KCBuYW1lLCB0cnVlICksIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XG5cdH07XG59KTtcblxuLy8gR2VuZXJhdGUgc2hvcnRjdXRzIGZvciBjdXN0b20gYW5pbWF0aW9uc1xualF1ZXJ5LmVhY2goe1xuXHRzbGlkZURvd246IGdlbkZ4KFwic2hvd1wiKSxcblx0c2xpZGVVcDogZ2VuRngoXCJoaWRlXCIpLFxuXHRzbGlkZVRvZ2dsZTogZ2VuRngoXCJ0b2dnbGVcIiksXG5cdGZhZGVJbjogeyBvcGFjaXR5OiBcInNob3dcIiB9LFxuXHRmYWRlT3V0OiB7IG9wYWNpdHk6IFwiaGlkZVwiIH0sXG5cdGZhZGVUb2dnbGU6IHsgb3BhY2l0eTogXCJ0b2dnbGVcIiB9XG59LCBmdW5jdGlvbiggbmFtZSwgcHJvcHMgKSB7XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiB0aGlzLmFuaW1hdGUoIHByb3BzLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHR9O1xufSk7XG5cbmpRdWVyeS50aW1lcnMgPSBbXTtcbmpRdWVyeS5meC50aWNrID0gZnVuY3Rpb24oKSB7XG5cdHZhciB0aW1lcixcblx0XHRpID0gMCxcblx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzO1xuXG5cdGZ4Tm93ID0galF1ZXJ5Lm5vdygpO1xuXG5cdGZvciAoIDsgaSA8IHRpbWVycy5sZW5ndGg7IGkrKyApIHtcblx0XHR0aW1lciA9IHRpbWVyc1sgaSBdO1xuXHRcdC8vIENoZWNrcyB0aGUgdGltZXIgaGFzIG5vdCBhbHJlYWR5IGJlZW4gcmVtb3ZlZFxuXHRcdGlmICggIXRpbWVyKCkgJiYgdGltZXJzWyBpIF0gPT09IHRpbWVyICkge1xuXHRcdFx0dGltZXJzLnNwbGljZSggaS0tLCAxICk7XG5cdFx0fVxuXHR9XG5cblx0aWYgKCAhdGltZXJzLmxlbmd0aCApIHtcblx0XHRqUXVlcnkuZnguc3RvcCgpO1xuXHR9XG5cdGZ4Tm93ID0gdW5kZWZpbmVkO1xufTtcblxualF1ZXJ5LmZ4LnRpbWVyID0gZnVuY3Rpb24oIHRpbWVyICkge1xuXHRqUXVlcnkudGltZXJzLnB1c2goIHRpbWVyICk7XG5cdGlmICggdGltZXIoKSApIHtcblx0XHRqUXVlcnkuZnguc3RhcnQoKTtcblx0fSBlbHNlIHtcblx0XHRqUXVlcnkudGltZXJzLnBvcCgpO1xuXHR9XG59O1xuXG5qUXVlcnkuZnguaW50ZXJ2YWwgPSAxMztcblxualF1ZXJ5LmZ4LnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG5cdGlmICggIXRpbWVySWQgKSB7XG5cdFx0dGltZXJJZCA9IHNldEludGVydmFsKCBqUXVlcnkuZngudGljaywgalF1ZXJ5LmZ4LmludGVydmFsICk7XG5cdH1cbn07XG5cbmpRdWVyeS5meC5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdGNsZWFySW50ZXJ2YWwoIHRpbWVySWQgKTtcblx0dGltZXJJZCA9IG51bGw7XG59O1xuXG5qUXVlcnkuZnguc3BlZWRzID0ge1xuXHRzbG93OiA2MDAsXG5cdGZhc3Q6IDIwMCxcblx0Ly8gRGVmYXVsdCBzcGVlZFxuXHRfZGVmYXVsdDogNDAwXG59O1xuXG5cbi8vIEJhc2VkIG9mZiBvZiB0aGUgcGx1Z2luIGJ5IENsaW50IEhlbGZlcnMsIHdpdGggcGVybWlzc2lvbi5cbi8vIGh0dHA6Ly9ibGluZHNpZ25hbHMuY29tL2luZGV4LnBocC8yMDA5LzA3L2pxdWVyeS1kZWxheS9cbmpRdWVyeS5mbi5kZWxheSA9IGZ1bmN0aW9uKCB0aW1lLCB0eXBlICkge1xuXHR0aW1lID0galF1ZXJ5LmZ4ID8galF1ZXJ5LmZ4LnNwZWVkc1sgdGltZSBdIHx8IHRpbWUgOiB0aW1lO1xuXHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cblx0cmV0dXJuIHRoaXMucXVldWUoIHR5cGUsIGZ1bmN0aW9uKCBuZXh0LCBob29rcyApIHtcblx0XHR2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoIG5leHQsIHRpbWUgKTtcblx0XHRob29rcy5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRjbGVhclRpbWVvdXQoIHRpbWVvdXQgKTtcblx0XHR9O1xuXHR9KTtcbn07XG5cblxuKGZ1bmN0aW9uKCkge1xuXHR2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKSxcblx0XHRzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcInNlbGVjdFwiICksXG5cdFx0b3B0ID0gc2VsZWN0LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcIm9wdGlvblwiICkgKTtcblxuXHRpbnB1dC50eXBlID0gXCJjaGVja2JveFwiO1xuXG5cdC8vIFN1cHBvcnQ6IGlPUzw9NS4xLCBBbmRyb2lkPD00LjIrXG5cdC8vIERlZmF1bHQgdmFsdWUgZm9yIGEgY2hlY2tib3ggc2hvdWxkIGJlIFwib25cIlxuXHRzdXBwb3J0LmNoZWNrT24gPSBpbnB1dC52YWx1ZSAhPT0gXCJcIjtcblxuXHQvLyBTdXBwb3J0OiBJRTw9MTErXG5cdC8vIE11c3QgYWNjZXNzIHNlbGVjdGVkSW5kZXggdG8gbWFrZSBkZWZhdWx0IG9wdGlvbnMgc2VsZWN0XG5cdHN1cHBvcnQub3B0U2VsZWN0ZWQgPSBvcHQuc2VsZWN0ZWQ7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZDw9Mi4zXG5cdC8vIE9wdGlvbnMgaW5zaWRlIGRpc2FibGVkIHNlbGVjdHMgYXJlIGluY29ycmVjdGx5IG1hcmtlZCBhcyBkaXNhYmxlZFxuXHRzZWxlY3QuZGlzYWJsZWQgPSB0cnVlO1xuXHRzdXBwb3J0Lm9wdERpc2FibGVkID0gIW9wdC5kaXNhYmxlZDtcblxuXHQvLyBTdXBwb3J0OiBJRTw9MTErXG5cdC8vIEFuIGlucHV0IGxvc2VzIGl0cyB2YWx1ZSBhZnRlciBiZWNvbWluZyBhIHJhZGlvXG5cdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cdGlucHV0LnZhbHVlID0gXCJ0XCI7XG5cdGlucHV0LnR5cGUgPSBcInJhZGlvXCI7XG5cdHN1cHBvcnQucmFkaW9WYWx1ZSA9IGlucHV0LnZhbHVlID09PSBcInRcIjtcbn0pKCk7XG5cblxudmFyIG5vZGVIb29rLCBib29sSG9vayxcblx0YXR0ckhhbmRsZSA9IGpRdWVyeS5leHByLmF0dHJIYW5kbGU7XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuXHRhdHRyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgalF1ZXJ5LmF0dHIsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9LFxuXG5cdHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBuYW1lICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggdGhpcywgbmFtZSApO1xuXHRcdH0pO1xuXHR9XG59KTtcblxualF1ZXJ5LmV4dGVuZCh7XG5cdGF0dHI6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcblx0XHR2YXIgaG9va3MsIHJldCxcblx0XHRcdG5UeXBlID0gZWxlbS5ub2RlVHlwZTtcblxuXHRcdC8vIGRvbid0IGdldC9zZXQgYXR0cmlidXRlcyBvbiB0ZXh0LCBjb21tZW50IGFuZCBhdHRyaWJ1dGUgbm9kZXNcblx0XHRpZiAoICFlbGVtIHx8IG5UeXBlID09PSAzIHx8IG5UeXBlID09PSA4IHx8IG5UeXBlID09PSAyICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIEZhbGxiYWNrIHRvIHByb3Agd2hlbiBhdHRyaWJ1dGVzIGFyZSBub3Qgc3VwcG9ydGVkXG5cdFx0aWYgKCB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgPT09IHN0cnVuZGVmaW5lZCApIHtcblx0XHRcdHJldHVybiBqUXVlcnkucHJvcCggZWxlbSwgbmFtZSwgdmFsdWUgKTtcblx0XHR9XG5cblx0XHQvLyBBbGwgYXR0cmlidXRlcyBhcmUgbG93ZXJjYXNlXG5cdFx0Ly8gR3JhYiBuZWNlc3NhcnkgaG9vayBpZiBvbmUgaXMgZGVmaW5lZFxuXHRcdGlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXHRcdFx0bmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdGhvb2tzID0galF1ZXJ5LmF0dHJIb29rc1sgbmFtZSBdIHx8XG5cdFx0XHRcdCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC50ZXN0KCBuYW1lICkgPyBib29sSG9vayA6IG5vZGVIb29rICk7XG5cdFx0fVxuXG5cdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRpZiAoIHZhbHVlID09PSBudWxsICkge1xuXHRcdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBob29rcyAmJiBcInNldFwiIGluIGhvb2tzICYmIChyZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkpICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCB2YWx1ZSArIFwiXCIgKTtcblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAocmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBuYW1lICkpICE9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIHJldDtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXQgPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBuYW1lICk7XG5cblx0XHRcdC8vIE5vbi1leGlzdGVudCBhdHRyaWJ1dGVzIHJldHVybiBudWxsLCB3ZSBub3JtYWxpemUgdG8gdW5kZWZpbmVkXG5cdFx0XHRyZXR1cm4gcmV0ID09IG51bGwgP1xuXHRcdFx0XHR1bmRlZmluZWQgOlxuXHRcdFx0XHRyZXQ7XG5cdFx0fVxuXHR9LFxuXG5cdHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHR2YXIgbmFtZSwgcHJvcE5hbWUsXG5cdFx0XHRpID0gMCxcblx0XHRcdGF0dHJOYW1lcyA9IHZhbHVlICYmIHZhbHVlLm1hdGNoKCBybm90d2hpdGUgKTtcblxuXHRcdGlmICggYXR0ck5hbWVzICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHR3aGlsZSAoIChuYW1lID0gYXR0ck5hbWVzW2krK10pICkge1xuXHRcdFx0XHRwcm9wTmFtZSA9IGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZTtcblxuXHRcdFx0XHQvLyBCb29sZWFuIGF0dHJpYnV0ZXMgZ2V0IHNwZWNpYWwgdHJlYXRtZW50ICgjMTA4NzApXG5cdFx0XHRcdGlmICggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC50ZXN0KCBuYW1lICkgKSB7XG5cdFx0XHRcdFx0Ly8gU2V0IGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgdG8gZmFsc2Vcblx0XHRcdFx0XHRlbGVtWyBwcm9wTmFtZSBdID0gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRlbGVtLnJlbW92ZUF0dHJpYnV0ZSggbmFtZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHRhdHRySG9va3M6IHtcblx0XHR0eXBlOiB7XG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdFx0aWYgKCAhc3VwcG9ydC5yYWRpb1ZhbHVlICYmIHZhbHVlID09PSBcInJhZGlvXCIgJiZcblx0XHRcdFx0XHRqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFwiaW5wdXRcIiApICkge1xuXHRcdFx0XHRcdHZhciB2YWwgPSBlbGVtLnZhbHVlO1xuXHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgdmFsdWUgKTtcblx0XHRcdFx0XHRpZiAoIHZhbCApIHtcblx0XHRcdFx0XHRcdGVsZW0udmFsdWUgPSB2YWw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxufSk7XG5cbi8vIEhvb2tzIGZvciBib29sZWFuIGF0dHJpYnV0ZXNcbmJvb2xIb29rID0ge1xuXHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSwgbmFtZSApIHtcblx0XHRpZiAoIHZhbHVlID09PSBmYWxzZSApIHtcblx0XHRcdC8vIFJlbW92ZSBib29sZWFuIGF0dHJpYnV0ZXMgd2hlbiBzZXQgdG8gZmFsc2Vcblx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCBlbGVtLCBuYW1lICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lICk7XG5cdFx0fVxuXHRcdHJldHVybiBuYW1lO1xuXHR9XG59O1xualF1ZXJ5LmVhY2goIGpRdWVyeS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKCAvXFx3Ky9nICksIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHR2YXIgZ2V0dGVyID0gYXR0ckhhbmRsZVsgbmFtZSBdIHx8IGpRdWVyeS5maW5kLmF0dHI7XG5cblx0YXR0ckhhbmRsZVsgbmFtZSBdID0gZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xuXHRcdHZhciByZXQsIGhhbmRsZTtcblx0XHRpZiAoICFpc1hNTCApIHtcblx0XHRcdC8vIEF2b2lkIGFuIGluZmluaXRlIGxvb3AgYnkgdGVtcG9yYXJpbHkgcmVtb3ZpbmcgdGhpcyBmdW5jdGlvbiBmcm9tIHRoZSBnZXR0ZXJcblx0XHRcdGhhbmRsZSA9IGF0dHJIYW5kbGVbIG5hbWUgXTtcblx0XHRcdGF0dHJIYW5kbGVbIG5hbWUgXSA9IHJldDtcblx0XHRcdHJldCA9IGdldHRlciggZWxlbSwgbmFtZSwgaXNYTUwgKSAhPSBudWxsID9cblx0XHRcdFx0bmFtZS50b0xvd2VyQ2FzZSgpIDpcblx0XHRcdFx0bnVsbDtcblx0XHRcdGF0dHJIYW5kbGVbIG5hbWUgXSA9IGhhbmRsZTtcblx0XHR9XG5cdFx0cmV0dXJuIHJldDtcblx0fTtcbn0pO1xuXG5cblxuXG52YXIgcmZvY3VzYWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2k7XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuXHRwcm9wOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgalF1ZXJ5LnByb3AsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9LFxuXG5cdHJlbW92ZVByb3A6IGZ1bmN0aW9uKCBuYW1lICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRkZWxldGUgdGhpc1sgalF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lIF07XG5cdFx0fSk7XG5cdH1cbn0pO1xuXG5qUXVlcnkuZXh0ZW5kKHtcblx0cHJvcEZpeDoge1xuXHRcdFwiZm9yXCI6IFwiaHRtbEZvclwiLFxuXHRcdFwiY2xhc3NcIjogXCJjbGFzc05hbWVcIlxuXHR9LFxuXG5cdHByb3A6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcblx0XHR2YXIgcmV0LCBob29rcywgbm90eG1sLFxuXHRcdFx0blR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXG5cdFx0Ly8gRG9uJ3QgZ2V0L3NldCBwcm9wZXJ0aWVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuXHRcdGlmICggIWVsZW0gfHwgblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0bm90eG1sID0gblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApO1xuXG5cdFx0aWYgKCBub3R4bWwgKSB7XG5cdFx0XHQvLyBGaXggbmFtZSBhbmQgYXR0YWNoIGhvb2tzXG5cdFx0XHRuYW1lID0galF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lO1xuXHRcdFx0aG9va3MgPSBqUXVlcnkucHJvcEhvb2tzWyBuYW1lIF07XG5cdFx0fVxuXG5cdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0cmV0dXJuIGhvb2tzICYmIFwic2V0XCIgaW4gaG9va3MgJiYgKHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSkgIT09IHVuZGVmaW5lZCA/XG5cdFx0XHRcdHJldCA6XG5cdFx0XHRcdCggZWxlbVsgbmFtZSBdID0gdmFsdWUgKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAocmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBuYW1lICkpICE9PSBudWxsID9cblx0XHRcdFx0cmV0IDpcblx0XHRcdFx0ZWxlbVsgbmFtZSBdO1xuXHRcdH1cblx0fSxcblxuXHRwcm9wSG9va3M6IHtcblx0XHR0YWJJbmRleDoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0uaGFzQXR0cmlidXRlKCBcInRhYmluZGV4XCIgKSB8fCByZm9jdXNhYmxlLnRlc3QoIGVsZW0ubm9kZU5hbWUgKSB8fCBlbGVtLmhyZWYgP1xuXHRcdFx0XHRcdGVsZW0udGFiSW5kZXggOlxuXHRcdFx0XHRcdC0xO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSk7XG5cbmlmICggIXN1cHBvcnQub3B0U2VsZWN0ZWQgKSB7XG5cdGpRdWVyeS5wcm9wSG9va3Muc2VsZWN0ZWQgPSB7XG5cdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRpZiAoIHBhcmVudCAmJiBwYXJlbnQucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0cGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdH1cblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0fTtcbn1cblxualF1ZXJ5LmVhY2goW1xuXHRcInRhYkluZGV4XCIsXG5cdFwicmVhZE9ubHlcIixcblx0XCJtYXhMZW5ndGhcIixcblx0XCJjZWxsU3BhY2luZ1wiLFxuXHRcImNlbGxQYWRkaW5nXCIsXG5cdFwicm93U3BhblwiLFxuXHRcImNvbFNwYW5cIixcblx0XCJ1c2VNYXBcIixcblx0XCJmcmFtZUJvcmRlclwiLFxuXHRcImNvbnRlbnRFZGl0YWJsZVwiXG5dLCBmdW5jdGlvbigpIHtcblx0alF1ZXJ5LnByb3BGaXhbIHRoaXMudG9Mb3dlckNhc2UoKSBdID0gdGhpcztcbn0pO1xuXG5cblxuXG52YXIgcmNsYXNzID0gL1tcXHRcXHJcXG5cXGZdL2c7XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuXHRhZGRDbGFzczogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGNsYXp6LCBqLCBmaW5hbFZhbHVlLFxuXHRcdFx0cHJvY2VlZCA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiB2YWx1ZSxcblx0XHRcdGkgPSAwLFxuXHRcdFx0bGVuID0gdGhpcy5sZW5ndGg7XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiggaiApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuYWRkQ2xhc3MoIHZhbHVlLmNhbGwoIHRoaXMsIGosIHRoaXMuY2xhc3NOYW1lICkgKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGlmICggcHJvY2VlZCApIHtcblx0XHRcdC8vIFRoZSBkaXNqdW5jdGlvbiBoZXJlIGlzIGZvciBiZXR0ZXIgY29tcHJlc3NpYmlsaXR5IChzZWUgcmVtb3ZlQ2xhc3MpXG5cdFx0XHRjbGFzc2VzID0gKCB2YWx1ZSB8fCBcIlwiICkubWF0Y2goIHJub3R3aGl0ZSApIHx8IFtdO1xuXG5cdFx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0ZWxlbSA9IHRoaXNbIGkgXTtcblx0XHRcdFx0Y3VyID0gZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAoIGVsZW0uY2xhc3NOYW1lID9cblx0XHRcdFx0XHQoIFwiIFwiICsgZWxlbS5jbGFzc05hbWUgKyBcIiBcIiApLnJlcGxhY2UoIHJjbGFzcywgXCIgXCIgKSA6XG5cdFx0XHRcdFx0XCIgXCJcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRpZiAoIGN1ciApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHR3aGlsZSAoIChjbGF6eiA9IGNsYXNzZXNbaisrXSkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGN1ci5pbmRleE9mKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIgKSA8IDAgKSB7XG5cdFx0XHRcdFx0XHRcdGN1ciArPSBjbGF6eiArIFwiIFwiO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIG9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuXG5cdFx0XHRcdFx0ZmluYWxWYWx1ZSA9IGpRdWVyeS50cmltKCBjdXIgKTtcblx0XHRcdFx0XHRpZiAoIGVsZW0uY2xhc3NOYW1lICE9PSBmaW5hbFZhbHVlICkge1xuXHRcdFx0XHRcdFx0ZWxlbS5jbGFzc05hbWUgPSBmaW5hbFZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHJlbW92ZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGNsYXNzZXMsIGVsZW0sIGN1ciwgY2xhenosIGosIGZpbmFsVmFsdWUsXG5cdFx0XHRwcm9jZWVkID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMCB8fCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgdmFsdWUsXG5cdFx0XHRpID0gMCxcblx0XHRcdGxlbiA9IHRoaXMubGVuZ3RoO1xuXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oIGogKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnJlbW92ZUNsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCB0aGlzLmNsYXNzTmFtZSApICk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0aWYgKCBwcm9jZWVkICkge1xuXHRcdFx0Y2xhc3NlcyA9ICggdmFsdWUgfHwgXCJcIiApLm1hdGNoKCBybm90d2hpdGUgKSB8fCBbXTtcblxuXHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdGVsZW0gPSB0aGlzWyBpIF07XG5cdFx0XHRcdC8vIFRoaXMgZXhwcmVzc2lvbiBpcyBoZXJlIGZvciBiZXR0ZXIgY29tcHJlc3NpYmlsaXR5IChzZWUgYWRkQ2xhc3MpXG5cdFx0XHRcdGN1ciA9IGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKCBlbGVtLmNsYXNzTmFtZSA/XG5cdFx0XHRcdFx0KCBcIiBcIiArIGVsZW0uY2xhc3NOYW1lICsgXCIgXCIgKS5yZXBsYWNlKCByY2xhc3MsIFwiIFwiICkgOlxuXHRcdFx0XHRcdFwiXCJcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRpZiAoIGN1ciApIHtcblx0XHRcdFx0XHRqID0gMDtcblx0XHRcdFx0XHR3aGlsZSAoIChjbGF6eiA9IGNsYXNzZXNbaisrXSkgKSB7XG5cdFx0XHRcdFx0XHQvLyBSZW1vdmUgKmFsbCogaW5zdGFuY2VzXG5cdFx0XHRcdFx0XHR3aGlsZSAoIGN1ci5pbmRleE9mKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIgKSA+PSAwICkge1xuXHRcdFx0XHRcdFx0XHRjdXIgPSBjdXIucmVwbGFjZSggXCIgXCIgKyBjbGF6eiArIFwiIFwiLCBcIiBcIiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIE9ubHkgYXNzaWduIGlmIGRpZmZlcmVudCB0byBhdm9pZCB1bm5lZWRlZCByZW5kZXJpbmcuXG5cdFx0XHRcdFx0ZmluYWxWYWx1ZSA9IHZhbHVlID8galF1ZXJ5LnRyaW0oIGN1ciApIDogXCJcIjtcblx0XHRcdFx0XHRpZiAoIGVsZW0uY2xhc3NOYW1lICE9PSBmaW5hbFZhbHVlICkge1xuXHRcdFx0XHRcdFx0ZWxlbS5jbGFzc05hbWUgPSBmaW5hbFZhbHVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHRvZ2dsZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUsIHN0YXRlVmFsICkge1xuXHRcdHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuXG5cdFx0aWYgKCB0eXBlb2Ygc3RhdGVWYWwgPT09IFwiYm9vbGVhblwiICYmIHR5cGUgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRyZXR1cm4gc3RhdGVWYWwgPyB0aGlzLmFkZENsYXNzKCB2YWx1ZSApIDogdGhpcy5yZW1vdmVDbGFzcyggdmFsdWUgKTtcblx0XHR9XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkudG9nZ2xlQ2xhc3MoIHZhbHVlLmNhbGwodGhpcywgaSwgdGhpcy5jbGFzc05hbWUsIHN0YXRlVmFsKSwgc3RhdGVWYWwgKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdC8vIFRvZ2dsZSBpbmRpdmlkdWFsIGNsYXNzIG5hbWVzXG5cdFx0XHRcdHZhciBjbGFzc05hbWUsXG5cdFx0XHRcdFx0aSA9IDAsXG5cdFx0XHRcdFx0c2VsZiA9IGpRdWVyeSggdGhpcyApLFxuXHRcdFx0XHRcdGNsYXNzTmFtZXMgPSB2YWx1ZS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW107XG5cblx0XHRcdFx0d2hpbGUgKCAoY2xhc3NOYW1lID0gY2xhc3NOYW1lc1sgaSsrIF0pICkge1xuXHRcdFx0XHRcdC8vIENoZWNrIGVhY2ggY2xhc3NOYW1lIGdpdmVuLCBzcGFjZSBzZXBhcmF0ZWQgbGlzdFxuXHRcdFx0XHRcdGlmICggc2VsZi5oYXNDbGFzcyggY2xhc3NOYW1lICkgKSB7XG5cdFx0XHRcdFx0XHRzZWxmLnJlbW92ZUNsYXNzKCBjbGFzc05hbWUgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2VsZi5hZGRDbGFzcyggY2xhc3NOYW1lICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdC8vIFRvZ2dsZSB3aG9sZSBjbGFzcyBuYW1lXG5cdFx0XHR9IGVsc2UgaWYgKCB0eXBlID09PSBzdHJ1bmRlZmluZWQgfHwgdHlwZSA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRcdGlmICggdGhpcy5jbGFzc05hbWUgKSB7XG5cdFx0XHRcdFx0Ly8gc3RvcmUgY2xhc3NOYW1lIGlmIHNldFxuXHRcdFx0XHRcdGRhdGFfcHJpdi5zZXQoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiLCB0aGlzLmNsYXNzTmFtZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSWYgdGhlIGVsZW1lbnQgaGFzIGEgY2xhc3MgbmFtZSBvciBpZiB3ZSdyZSBwYXNzZWQgYGZhbHNlYCxcblx0XHRcdFx0Ly8gdGhlbiByZW1vdmUgdGhlIHdob2xlIGNsYXNzbmFtZSAoaWYgdGhlcmUgd2FzIG9uZSwgdGhlIGFib3ZlIHNhdmVkIGl0KS5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGJyaW5nIGJhY2sgd2hhdGV2ZXIgd2FzIHByZXZpb3VzbHkgc2F2ZWQgKGlmIGFueXRoaW5nKSxcblx0XHRcdFx0Ly8gZmFsbGluZyBiYWNrIHRvIHRoZSBlbXB0eSBzdHJpbmcgaWYgbm90aGluZyB3YXMgc3RvcmVkLlxuXHRcdFx0XHR0aGlzLmNsYXNzTmFtZSA9IHRoaXMuY2xhc3NOYW1lIHx8IHZhbHVlID09PSBmYWxzZSA/IFwiXCIgOiBkYXRhX3ByaXYuZ2V0KCB0aGlzLCBcIl9fY2xhc3NOYW1lX19cIiApIHx8IFwiXCI7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0sXG5cblx0aGFzQ2xhc3M6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR2YXIgY2xhc3NOYW1lID0gXCIgXCIgKyBzZWxlY3RvciArIFwiIFwiLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRsID0gdGhpcy5sZW5ndGg7XG5cdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0aWYgKCB0aGlzW2ldLm5vZGVUeXBlID09PSAxICYmIChcIiBcIiArIHRoaXNbaV0uY2xhc3NOYW1lICsgXCIgXCIpLnJlcGxhY2UocmNsYXNzLCBcIiBcIikuaW5kZXhPZiggY2xhc3NOYW1lICkgPj0gMCApIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59KTtcblxuXG5cblxudmFyIHJyZXR1cm4gPSAvXFxyL2c7XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuXHR2YWw6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR2YXIgaG9va3MsIHJldCwgaXNGdW5jdGlvbixcblx0XHRcdGVsZW0gPSB0aGlzWzBdO1xuXG5cdFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdGlmICggZWxlbSApIHtcblx0XHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIGVsZW0udHlwZSBdIHx8IGpRdWVyeS52YWxIb29rc1sgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIF07XG5cblx0XHRcdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmIChyZXQgPSBob29rcy5nZXQoIGVsZW0sIFwidmFsdWVcIiApKSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXQgPSBlbGVtLnZhbHVlO1xuXG5cdFx0XHRcdHJldHVybiB0eXBlb2YgcmV0ID09PSBcInN0cmluZ1wiID9cblx0XHRcdFx0XHQvLyBIYW5kbGUgbW9zdCBjb21tb24gc3RyaW5nIGNhc2VzXG5cdFx0XHRcdFx0cmV0LnJlcGxhY2UocnJldHVybiwgXCJcIikgOlxuXHRcdFx0XHRcdC8vIEhhbmRsZSBjYXNlcyB3aGVyZSB2YWx1ZSBpcyBudWxsL3VuZGVmIG9yIG51bWJlclxuXHRcdFx0XHRcdHJldCA9PSBudWxsID8gXCJcIiA6IHJldDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlzRnVuY3Rpb24gPSBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKTtcblxuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHR2YXIgdmFsO1xuXG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgIT09IDEgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBpc0Z1bmN0aW9uICkge1xuXHRcdFx0XHR2YWwgPSB2YWx1ZS5jYWxsKCB0aGlzLCBpLCBqUXVlcnkoIHRoaXMgKS52YWwoKSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFsID0gdmFsdWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRyZWF0IG51bGwvdW5kZWZpbmVkIGFzIFwiXCI7IGNvbnZlcnQgbnVtYmVycyB0byBzdHJpbmdcblx0XHRcdGlmICggdmFsID09IG51bGwgKSB7XG5cdFx0XHRcdHZhbCA9IFwiXCI7XG5cblx0XHRcdH0gZWxzZSBpZiAoIHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdHZhbCArPSBcIlwiO1xuXG5cdFx0XHR9IGVsc2UgaWYgKCBqUXVlcnkuaXNBcnJheSggdmFsICkgKSB7XG5cdFx0XHRcdHZhbCA9IGpRdWVyeS5tYXAoIHZhbCwgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRcdHJldHVybiB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICsgXCJcIjtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdGhvb2tzID0galF1ZXJ5LnZhbEhvb2tzWyB0aGlzLnR5cGUgXSB8fCBqUXVlcnkudmFsSG9va3NbIHRoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSBdO1xuXG5cdFx0XHQvLyBJZiBzZXQgcmV0dXJucyB1bmRlZmluZWQsIGZhbGwgYmFjayB0byBub3JtYWwgc2V0dGluZ1xuXHRcdFx0aWYgKCAhaG9va3MgfHwgIShcInNldFwiIGluIGhvb2tzKSB8fCBob29rcy5zZXQoIHRoaXMsIHZhbCwgXCJ2YWx1ZVwiICkgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0dGhpcy52YWx1ZSA9IHZhbDtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxufSk7XG5cbmpRdWVyeS5leHRlbmQoe1xuXHR2YWxIb29rczoge1xuXHRcdG9wdGlvbjoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIHZhbCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidmFsdWVcIiApO1xuXHRcdFx0XHRyZXR1cm4gdmFsICE9IG51bGwgP1xuXHRcdFx0XHRcdHZhbCA6XG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUxMC0xMStcblx0XHRcdFx0XHQvLyBvcHRpb24udGV4dCB0aHJvd3MgZXhjZXB0aW9ucyAoIzE0Njg2LCAjMTQ4NTgpXG5cdFx0XHRcdFx0alF1ZXJ5LnRyaW0oIGpRdWVyeS50ZXh0KCBlbGVtICkgKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdHNlbGVjdDoge1xuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIHZhbHVlLCBvcHRpb24sXG5cdFx0XHRcdFx0b3B0aW9ucyA9IGVsZW0ub3B0aW9ucyxcblx0XHRcdFx0XHRpbmRleCA9IGVsZW0uc2VsZWN0ZWRJbmRleCxcblx0XHRcdFx0XHRvbmUgPSBlbGVtLnR5cGUgPT09IFwic2VsZWN0LW9uZVwiIHx8IGluZGV4IDwgMCxcblx0XHRcdFx0XHR2YWx1ZXMgPSBvbmUgPyBudWxsIDogW10sXG5cdFx0XHRcdFx0bWF4ID0gb25lID8gaW5kZXggKyAxIDogb3B0aW9ucy5sZW5ndGgsXG5cdFx0XHRcdFx0aSA9IGluZGV4IDwgMCA/XG5cdFx0XHRcdFx0XHRtYXggOlxuXHRcdFx0XHRcdFx0b25lID8gaW5kZXggOiAwO1xuXG5cdFx0XHRcdC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIHNlbGVjdGVkIG9wdGlvbnNcblx0XHRcdFx0Zm9yICggOyBpIDwgbWF4OyBpKysgKSB7XG5cdFx0XHRcdFx0b3B0aW9uID0gb3B0aW9uc1sgaSBdO1xuXG5cdFx0XHRcdFx0Ly8gSUU2LTkgZG9lc24ndCB1cGRhdGUgc2VsZWN0ZWQgYWZ0ZXIgZm9ybSByZXNldCAoIzI1NTEpXG5cdFx0XHRcdFx0aWYgKCAoIG9wdGlvbi5zZWxlY3RlZCB8fCBpID09PSBpbmRleCApICYmXG5cdFx0XHRcdFx0XHRcdC8vIERvbid0IHJldHVybiBvcHRpb25zIHRoYXQgYXJlIGRpc2FibGVkIG9yIGluIGEgZGlzYWJsZWQgb3B0Z3JvdXBcblx0XHRcdFx0XHRcdFx0KCBzdXBwb3J0Lm9wdERpc2FibGVkID8gIW9wdGlvbi5kaXNhYmxlZCA6IG9wdGlvbi5nZXRBdHRyaWJ1dGUoIFwiZGlzYWJsZWRcIiApID09PSBudWxsICkgJiZcblx0XHRcdFx0XHRcdFx0KCAhb3B0aW9uLnBhcmVudE5vZGUuZGlzYWJsZWQgfHwgIWpRdWVyeS5ub2RlTmFtZSggb3B0aW9uLnBhcmVudE5vZGUsIFwib3B0Z3JvdXBcIiApICkgKSB7XG5cblx0XHRcdFx0XHRcdC8vIEdldCB0aGUgc3BlY2lmaWMgdmFsdWUgZm9yIHRoZSBvcHRpb25cblx0XHRcdFx0XHRcdHZhbHVlID0galF1ZXJ5KCBvcHRpb24gKS52YWwoKTtcblxuXHRcdFx0XHRcdFx0Ly8gV2UgZG9uJ3QgbmVlZCBhbiBhcnJheSBmb3Igb25lIHNlbGVjdHNcblx0XHRcdFx0XHRcdGlmICggb25lICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIE11bHRpLVNlbGVjdHMgcmV0dXJuIGFuIGFycmF5XG5cdFx0XHRcdFx0XHR2YWx1ZXMucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xuXHRcdFx0fSxcblxuXHRcdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBvcHRpb25TZXQsIG9wdGlvbixcblx0XHRcdFx0XHRvcHRpb25zID0gZWxlbS5vcHRpb25zLFxuXHRcdFx0XHRcdHZhbHVlcyA9IGpRdWVyeS5tYWtlQXJyYXkoIHZhbHVlICksXG5cdFx0XHRcdFx0aSA9IG9wdGlvbnMubGVuZ3RoO1xuXG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcblx0XHRcdFx0XHRpZiAoIChvcHRpb24uc2VsZWN0ZWQgPSBqUXVlcnkuaW5BcnJheSggb3B0aW9uLnZhbHVlLCB2YWx1ZXMgKSA+PSAwKSApIHtcblx0XHRcdFx0XHRcdG9wdGlvblNldCA9IHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gRm9yY2UgYnJvd3NlcnMgdG8gYmVoYXZlIGNvbnNpc3RlbnRseSB3aGVuIG5vbi1tYXRjaGluZyB2YWx1ZSBpcyBzZXRcblx0XHRcdFx0aWYgKCAhb3B0aW9uU2V0ICkge1xuXHRcdFx0XHRcdGVsZW0uc2VsZWN0ZWRJbmRleCA9IC0xO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB2YWx1ZXM7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59KTtcblxuLy8gUmFkaW9zIGFuZCBjaGVja2JveGVzIGdldHRlci9zZXR0ZXJcbmpRdWVyeS5lYWNoKFsgXCJyYWRpb1wiLCBcImNoZWNrYm94XCIgXSwgZnVuY3Rpb24oKSB7XG5cdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdID0ge1xuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0aWYgKCBqUXVlcnkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRcdFx0cmV0dXJuICggZWxlbS5jaGVja2VkID0galF1ZXJ5LmluQXJyYXkoIGpRdWVyeShlbGVtKS52YWwoKSwgdmFsdWUgKSA+PSAwICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRpZiAoICFzdXBwb3J0LmNoZWNrT24gKSB7XG5cdFx0alF1ZXJ5LnZhbEhvb2tzWyB0aGlzIF0uZ2V0ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSA9PT0gbnVsbCA/IFwib25cIiA6IGVsZW0udmFsdWU7XG5cdFx0fTtcblx0fVxufSk7XG5cblxuXG5cbi8vIFJldHVybiBqUXVlcnkgZm9yIGF0dHJpYnV0ZXMtb25seSBpbmNsdXNpb25cblxuXG5qUXVlcnkuZWFjaCggKFwiYmx1ciBmb2N1cyBmb2N1c2luIGZvY3Vzb3V0IGxvYWQgcmVzaXplIHNjcm9sbCB1bmxvYWQgY2xpY2sgZGJsY2xpY2sgXCIgK1xuXHRcIm1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIFwiICtcblx0XCJjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIGNvbnRleHRtZW51XCIpLnNwbGl0KFwiIFwiKSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XG5cblx0Ly8gSGFuZGxlIGV2ZW50IGJpbmRpbmdcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAwID9cblx0XHRcdHRoaXMub24oIG5hbWUsIG51bGwsIGRhdGEsIGZuICkgOlxuXHRcdFx0dGhpcy50cmlnZ2VyKCBuYW1lICk7XG5cdH07XG59KTtcblxualF1ZXJ5LmZuLmV4dGVuZCh7XG5cdGhvdmVyOiBmdW5jdGlvbiggZm5PdmVyLCBmbk91dCApIHtcblx0XHRyZXR1cm4gdGhpcy5tb3VzZWVudGVyKCBmbk92ZXIgKS5tb3VzZWxlYXZlKCBmbk91dCB8fCBmbk92ZXIgKTtcblx0fSxcblxuXHRiaW5kOiBmdW5jdGlvbiggdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgbnVsbCwgZGF0YSwgZm4gKTtcblx0fSxcblx0dW5iaW5kOiBmdW5jdGlvbiggdHlwZXMsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9mZiggdHlwZXMsIG51bGwsIGZuICk7XG5cdH0sXG5cblx0ZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGRhdGEsIGZuICkge1xuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7XG5cdH0sXG5cdHVuZGVsZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGZuICkge1xuXHRcdC8vICggbmFtZXNwYWNlICkgb3IgKCBzZWxlY3RvciwgdHlwZXMgWywgZm5dIClcblx0XHRyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/IHRoaXMub2ZmKCBzZWxlY3RvciwgXCIqKlwiICkgOiB0aGlzLm9mZiggdHlwZXMsIHNlbGVjdG9yIHx8IFwiKipcIiwgZm4gKTtcblx0fVxufSk7XG5cblxudmFyIG5vbmNlID0galF1ZXJ5Lm5vdygpO1xuXG52YXIgcnF1ZXJ5ID0gKC9cXD8vKTtcblxuXG5cbi8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zXG4vLyBXb3JrYXJvdW5kIGZhaWx1cmUgdG8gc3RyaW5nLWNhc3QgbnVsbCBpbnB1dFxualF1ZXJ5LnBhcnNlSlNPTiA9IGZ1bmN0aW9uKCBkYXRhICkge1xuXHRyZXR1cm4gSlNPTi5wYXJzZSggZGF0YSArIFwiXCIgKTtcbn07XG5cblxuLy8gQ3Jvc3MtYnJvd3NlciB4bWwgcGFyc2luZ1xualF1ZXJ5LnBhcnNlWE1MID0gZnVuY3Rpb24oIGRhdGEgKSB7XG5cdHZhciB4bWwsIHRtcDtcblx0aWYgKCAhZGF0YSB8fCB0eXBlb2YgZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdC8vIFN1cHBvcnQ6IElFOVxuXHR0cnkge1xuXHRcdHRtcCA9IG5ldyBET01QYXJzZXIoKTtcblx0XHR4bWwgPSB0bXAucGFyc2VGcm9tU3RyaW5nKCBkYXRhLCBcInRleHQveG1sXCIgKTtcblx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0eG1sID0gdW5kZWZpbmVkO1xuXHR9XG5cblx0aWYgKCAheG1sIHx8IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJwYXJzZXJlcnJvclwiICkubGVuZ3RoICkge1xuXHRcdGpRdWVyeS5lcnJvciggXCJJbnZhbGlkIFhNTDogXCIgKyBkYXRhICk7XG5cdH1cblx0cmV0dXJuIHhtbDtcbn07XG5cblxudmFyXG5cdHJoYXNoID0gLyMuKiQvLFxuXHRydHMgPSAvKFs/Jl0pXz1bXiZdKi8sXG5cdHJoZWFkZXJzID0gL14oLio/KTpbIFxcdF0qKFteXFxyXFxuXSopJC9tZyxcblx0Ly8gIzc2NTMsICM4MTI1LCAjODE1MjogbG9jYWwgcHJvdG9jb2wgZGV0ZWN0aW9uXG5cdHJsb2NhbFByb3RvY29sID0gL14oPzphYm91dHxhcHB8YXBwLXN0b3JhZ2V8ListZXh0ZW5zaW9ufGZpbGV8cmVzfHdpZGdldCk6JC8sXG5cdHJub0NvbnRlbnQgPSAvXig/OkdFVHxIRUFEKSQvLFxuXHRycHJvdG9jb2wgPSAvXlxcL1xcLy8sXG5cdHJ1cmwgPSAvXihbXFx3ListXSs6KSg/OlxcL1xcLyg/OlteXFwvPyNdKkB8KShbXlxcLz8jOl0qKSg/OjooXFxkKyl8KXwpLyxcblxuXHQvKiBQcmVmaWx0ZXJzXG5cdCAqIDEpIFRoZXkgYXJlIHVzZWZ1bCB0byBpbnRyb2R1Y2UgY3VzdG9tIGRhdGFUeXBlcyAoc2VlIGFqYXgvanNvbnAuanMgZm9yIGFuIGV4YW1wbGUpXG5cdCAqIDIpIFRoZXNlIGFyZSBjYWxsZWQ6XG5cdCAqICAgIC0gQkVGT1JFIGFza2luZyBmb3IgYSB0cmFuc3BvcnRcblx0ICogICAgLSBBRlRFUiBwYXJhbSBzZXJpYWxpemF0aW9uIChzLmRhdGEgaXMgYSBzdHJpbmcgaWYgcy5wcm9jZXNzRGF0YSBpcyB0cnVlKVxuXHQgKiAzKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG5cdCAqIDQpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcblx0ICogNSkgZXhlY3V0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gY29udGludWUgZG93biB0byBcIipcIiBpZiBuZWVkZWRcblx0ICovXG5cdHByZWZpbHRlcnMgPSB7fSxcblxuXHQvKiBUcmFuc3BvcnRzIGJpbmRpbmdzXG5cdCAqIDEpIGtleSBpcyB0aGUgZGF0YVR5cGVcblx0ICogMikgdGhlIGNhdGNoYWxsIHN5bWJvbCBcIipcIiBjYW4gYmUgdXNlZFxuXHQgKiAzKSBzZWxlY3Rpb24gd2lsbCBzdGFydCB3aXRoIHRyYW5zcG9ydCBkYXRhVHlwZSBhbmQgVEhFTiBnbyB0byBcIipcIiBpZiBuZWVkZWRcblx0ICovXG5cdHRyYW5zcG9ydHMgPSB7fSxcblxuXHQvLyBBdm9pZCBjb21tZW50LXByb2xvZyBjaGFyIHNlcXVlbmNlICgjMTAwOTgpOyBtdXN0IGFwcGVhc2UgbGludCBhbmQgZXZhZGUgY29tcHJlc3Npb25cblx0YWxsVHlwZXMgPSBcIiovXCIuY29uY2F0KCBcIipcIiApLFxuXG5cdC8vIERvY3VtZW50IGxvY2F0aW9uXG5cdGFqYXhMb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxuXG5cdC8vIFNlZ21lbnQgbG9jYXRpb24gaW50byBwYXJ0c1xuXHRhamF4TG9jUGFydHMgPSBydXJsLmV4ZWMoIGFqYXhMb2NhdGlvbi50b0xvd2VyQ2FzZSgpICkgfHwgW107XG5cbi8vIEJhc2UgXCJjb25zdHJ1Y3RvclwiIGZvciBqUXVlcnkuYWpheFByZWZpbHRlciBhbmQgalF1ZXJ5LmFqYXhUcmFuc3BvcnRcbmZ1bmN0aW9uIGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggc3RydWN0dXJlICkge1xuXG5cdC8vIGRhdGFUeXBlRXhwcmVzc2lvbiBpcyBvcHRpb25hbCBhbmQgZGVmYXVsdHMgdG8gXCIqXCJcblx0cmV0dXJuIGZ1bmN0aW9uKCBkYXRhVHlwZUV4cHJlc3Npb24sIGZ1bmMgKSB7XG5cblx0XHRpZiAoIHR5cGVvZiBkYXRhVHlwZUV4cHJlc3Npb24gIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRmdW5jID0gZGF0YVR5cGVFeHByZXNzaW9uO1xuXHRcdFx0ZGF0YVR5cGVFeHByZXNzaW9uID0gXCIqXCI7XG5cdFx0fVxuXG5cdFx0dmFyIGRhdGFUeXBlLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRkYXRhVHlwZXMgPSBkYXRhVHlwZUV4cHJlc3Npb24udG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgW107XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBmdW5jICkgKSB7XG5cdFx0XHQvLyBGb3IgZWFjaCBkYXRhVHlwZSBpbiB0aGUgZGF0YVR5cGVFeHByZXNzaW9uXG5cdFx0XHR3aGlsZSAoIChkYXRhVHlwZSA9IGRhdGFUeXBlc1tpKytdKSApIHtcblx0XHRcdFx0Ly8gUHJlcGVuZCBpZiByZXF1ZXN0ZWRcblx0XHRcdFx0aWYgKCBkYXRhVHlwZVswXSA9PT0gXCIrXCIgKSB7XG5cdFx0XHRcdFx0ZGF0YVR5cGUgPSBkYXRhVHlwZS5zbGljZSggMSApIHx8IFwiKlwiO1xuXHRcdFx0XHRcdChzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gPSBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10pLnVuc2hpZnQoIGZ1bmMgKTtcblxuXHRcdFx0XHQvLyBPdGhlcndpc2UgYXBwZW5kXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0KHN0cnVjdHVyZVsgZGF0YVR5cGUgXSA9IHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSkucHVzaCggZnVuYyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyBCYXNlIGluc3BlY3Rpb24gZnVuY3Rpb24gZm9yIHByZWZpbHRlcnMgYW5kIHRyYW5zcG9ydHNcbmZ1bmN0aW9uIGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBzdHJ1Y3R1cmUsIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucywganFYSFIgKSB7XG5cblx0dmFyIGluc3BlY3RlZCA9IHt9LFxuXHRcdHNlZWtpbmdUcmFuc3BvcnQgPSAoIHN0cnVjdHVyZSA9PT0gdHJhbnNwb3J0cyApO1xuXG5cdGZ1bmN0aW9uIGluc3BlY3QoIGRhdGFUeXBlICkge1xuXHRcdHZhciBzZWxlY3RlZDtcblx0XHRpbnNwZWN0ZWRbIGRhdGFUeXBlIF0gPSB0cnVlO1xuXHRcdGpRdWVyeS5lYWNoKCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10sIGZ1bmN0aW9uKCBfLCBwcmVmaWx0ZXJPckZhY3RvcnkgKSB7XG5cdFx0XHR2YXIgZGF0YVR5cGVPclRyYW5zcG9ydCA9IHByZWZpbHRlck9yRmFjdG9yeSggb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUiApO1xuXHRcdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVPclRyYW5zcG9ydCA9PT0gXCJzdHJpbmdcIiAmJiAhc2Vla2luZ1RyYW5zcG9ydCAmJiAhaW5zcGVjdGVkWyBkYXRhVHlwZU9yVHJhbnNwb3J0IF0gKSB7XG5cdFx0XHRcdG9wdGlvbnMuZGF0YVR5cGVzLnVuc2hpZnQoIGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdFx0aW5zcGVjdCggZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9IGVsc2UgaWYgKCBzZWVraW5nVHJhbnNwb3J0ICkge1xuXHRcdFx0XHRyZXR1cm4gISggc2VsZWN0ZWQgPSBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHNlbGVjdGVkO1xuXHR9XG5cblx0cmV0dXJuIGluc3BlY3QoIG9wdGlvbnMuZGF0YVR5cGVzWyAwIF0gKSB8fCAhaW5zcGVjdGVkWyBcIipcIiBdICYmIGluc3BlY3QoIFwiKlwiICk7XG59XG5cbi8vIEEgc3BlY2lhbCBleHRlbmQgZm9yIGFqYXggb3B0aW9uc1xuLy8gdGhhdCB0YWtlcyBcImZsYXRcIiBvcHRpb25zIChub3QgdG8gYmUgZGVlcCBleHRlbmRlZClcbi8vIEZpeGVzICM5ODg3XG5mdW5jdGlvbiBhamF4RXh0ZW5kKCB0YXJnZXQsIHNyYyApIHtcblx0dmFyIGtleSwgZGVlcCxcblx0XHRmbGF0T3B0aW9ucyA9IGpRdWVyeS5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnMgfHwge307XG5cblx0Zm9yICgga2V5IGluIHNyYyApIHtcblx0XHRpZiAoIHNyY1sga2V5IF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdCggZmxhdE9wdGlvbnNbIGtleSBdID8gdGFyZ2V0IDogKCBkZWVwIHx8IChkZWVwID0ge30pICkgKVsga2V5IF0gPSBzcmNbIGtleSBdO1xuXHRcdH1cblx0fVxuXHRpZiAoIGRlZXAgKSB7XG5cdFx0alF1ZXJ5LmV4dGVuZCggdHJ1ZSwgdGFyZ2V0LCBkZWVwICk7XG5cdH1cblxuXHRyZXR1cm4gdGFyZ2V0O1xufVxuXG4vKiBIYW5kbGVzIHJlc3BvbnNlcyB0byBhbiBhamF4IHJlcXVlc3Q6XG4gKiAtIGZpbmRzIHRoZSByaWdodCBkYXRhVHlwZSAobWVkaWF0ZXMgYmV0d2VlbiBjb250ZW50LXR5cGUgYW5kIGV4cGVjdGVkIGRhdGFUeXBlKVxuICogLSByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXG4gKi9cbmZ1bmN0aW9uIGFqYXhIYW5kbGVSZXNwb25zZXMoIHMsIGpxWEhSLCByZXNwb25zZXMgKSB7XG5cblx0dmFyIGN0LCB0eXBlLCBmaW5hbERhdGFUeXBlLCBmaXJzdERhdGFUeXBlLFxuXHRcdGNvbnRlbnRzID0gcy5jb250ZW50cyxcblx0XHRkYXRhVHlwZXMgPSBzLmRhdGFUeXBlcztcblxuXHQvLyBSZW1vdmUgYXV0byBkYXRhVHlwZSBhbmQgZ2V0IGNvbnRlbnQtdHlwZSBpbiB0aGUgcHJvY2Vzc1xuXHR3aGlsZSAoIGRhdGFUeXBlc1sgMCBdID09PSBcIipcIiApIHtcblx0XHRkYXRhVHlwZXMuc2hpZnQoKTtcblx0XHRpZiAoIGN0ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRjdCA9IHMubWltZVR5cGUgfHwganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIik7XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ2hlY2sgaWYgd2UncmUgZGVhbGluZyB3aXRoIGEga25vd24gY29udGVudC10eXBlXG5cdGlmICggY3QgKSB7XG5cdFx0Zm9yICggdHlwZSBpbiBjb250ZW50cyApIHtcblx0XHRcdGlmICggY29udGVudHNbIHR5cGUgXSAmJiBjb250ZW50c1sgdHlwZSBdLnRlc3QoIGN0ICkgKSB7XG5cdFx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCB0eXBlICk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBoYXZlIGEgcmVzcG9uc2UgZm9yIHRoZSBleHBlY3RlZCBkYXRhVHlwZVxuXHRpZiAoIGRhdGFUeXBlc1sgMCBdIGluIHJlc3BvbnNlcyApIHtcblx0XHRmaW5hbERhdGFUeXBlID0gZGF0YVR5cGVzWyAwIF07XG5cdH0gZWxzZSB7XG5cdFx0Ly8gVHJ5IGNvbnZlcnRpYmxlIGRhdGFUeXBlc1xuXHRcdGZvciAoIHR5cGUgaW4gcmVzcG9uc2VzICkge1xuXHRcdFx0aWYgKCAhZGF0YVR5cGVzWyAwIF0gfHwgcy5jb252ZXJ0ZXJzWyB0eXBlICsgXCIgXCIgKyBkYXRhVHlwZXNbMF0gXSApIHtcblx0XHRcdFx0ZmluYWxEYXRhVHlwZSA9IHR5cGU7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAhZmlyc3REYXRhVHlwZSApIHtcblx0XHRcdFx0Zmlyc3REYXRhVHlwZSA9IHR5cGU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIE9yIGp1c3QgdXNlIGZpcnN0IG9uZVxuXHRcdGZpbmFsRGF0YVR5cGUgPSBmaW5hbERhdGFUeXBlIHx8IGZpcnN0RGF0YVR5cGU7XG5cdH1cblxuXHQvLyBJZiB3ZSBmb3VuZCBhIGRhdGFUeXBlXG5cdC8vIFdlIGFkZCB0aGUgZGF0YVR5cGUgdG8gdGhlIGxpc3QgaWYgbmVlZGVkXG5cdC8vIGFuZCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2Vcblx0aWYgKCBmaW5hbERhdGFUeXBlICkge1xuXHRcdGlmICggZmluYWxEYXRhVHlwZSAhPT0gZGF0YVR5cGVzWyAwIF0gKSB7XG5cdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggZmluYWxEYXRhVHlwZSApO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzcG9uc2VzWyBmaW5hbERhdGFUeXBlIF07XG5cdH1cbn1cblxuLyogQ2hhaW4gY29udmVyc2lvbnMgZ2l2ZW4gdGhlIHJlcXVlc3QgYW5kIHRoZSBvcmlnaW5hbCByZXNwb25zZVxuICogQWxzbyBzZXRzIHRoZSByZXNwb25zZVhYWCBmaWVsZHMgb24gdGhlIGpxWEhSIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIGFqYXhDb252ZXJ0KCBzLCByZXNwb25zZSwganFYSFIsIGlzU3VjY2VzcyApIHtcblx0dmFyIGNvbnYyLCBjdXJyZW50LCBjb252LCB0bXAsIHByZXYsXG5cdFx0Y29udmVydGVycyA9IHt9LFxuXHRcdC8vIFdvcmsgd2l0aCBhIGNvcHkgb2YgZGF0YVR5cGVzIGluIGNhc2Ugd2UgbmVlZCB0byBtb2RpZnkgaXQgZm9yIGNvbnZlcnNpb25cblx0XHRkYXRhVHlwZXMgPSBzLmRhdGFUeXBlcy5zbGljZSgpO1xuXG5cdC8vIENyZWF0ZSBjb252ZXJ0ZXJzIG1hcCB3aXRoIGxvd2VyY2FzZWQga2V5c1xuXHRpZiAoIGRhdGFUeXBlc1sgMSBdICkge1xuXHRcdGZvciAoIGNvbnYgaW4gcy5jb252ZXJ0ZXJzICkge1xuXHRcdFx0Y29udmVydGVyc1sgY29udi50b0xvd2VyQ2FzZSgpIF0gPSBzLmNvbnZlcnRlcnNbIGNvbnYgXTtcblx0XHR9XG5cdH1cblxuXHRjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XG5cblx0Ly8gQ29udmVydCB0byBlYWNoIHNlcXVlbnRpYWwgZGF0YVR5cGVcblx0d2hpbGUgKCBjdXJyZW50ICkge1xuXG5cdFx0aWYgKCBzLnJlc3BvbnNlRmllbGRzWyBjdXJyZW50IF0gKSB7XG5cdFx0XHRqcVhIUlsgcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdIF0gPSByZXNwb25zZTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSB0aGUgZGF0YUZpbHRlciBpZiBwcm92aWRlZFxuXHRcdGlmICggIXByZXYgJiYgaXNTdWNjZXNzICYmIHMuZGF0YUZpbHRlciApIHtcblx0XHRcdHJlc3BvbnNlID0gcy5kYXRhRmlsdGVyKCByZXNwb25zZSwgcy5kYXRhVHlwZSApO1xuXHRcdH1cblxuXHRcdHByZXYgPSBjdXJyZW50O1xuXHRcdGN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTtcblxuXHRcdGlmICggY3VycmVudCApIHtcblxuXHRcdC8vIFRoZXJlJ3Mgb25seSB3b3JrIHRvIGRvIGlmIGN1cnJlbnQgZGF0YVR5cGUgaXMgbm9uLWF1dG9cblx0XHRcdGlmICggY3VycmVudCA9PT0gXCIqXCIgKSB7XG5cblx0XHRcdFx0Y3VycmVudCA9IHByZXY7XG5cblx0XHRcdC8vIENvbnZlcnQgcmVzcG9uc2UgaWYgcHJldiBkYXRhVHlwZSBpcyBub24tYXV0byBhbmQgZGlmZmVycyBmcm9tIGN1cnJlbnRcblx0XHRcdH0gZWxzZSBpZiAoIHByZXYgIT09IFwiKlwiICYmIHByZXYgIT09IGN1cnJlbnQgKSB7XG5cblx0XHRcdFx0Ly8gU2VlayBhIGRpcmVjdCBjb252ZXJ0ZXJcblx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcIiBcIiArIGN1cnJlbnQgXSB8fCBjb252ZXJ0ZXJzWyBcIiogXCIgKyBjdXJyZW50IF07XG5cblx0XHRcdFx0Ly8gSWYgbm9uZSBmb3VuZCwgc2VlayBhIHBhaXJcblx0XHRcdFx0aWYgKCAhY29udiApIHtcblx0XHRcdFx0XHRmb3IgKCBjb252MiBpbiBjb252ZXJ0ZXJzICkge1xuXG5cdFx0XHRcdFx0XHQvLyBJZiBjb252MiBvdXRwdXRzIGN1cnJlbnRcblx0XHRcdFx0XHRcdHRtcCA9IGNvbnYyLnNwbGl0KCBcIiBcIiApO1xuXHRcdFx0XHRcdFx0aWYgKCB0bXBbIDEgXSA9PT0gY3VycmVudCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBJZiBwcmV2IGNhbiBiZSBjb252ZXJ0ZWQgdG8gYWNjZXB0ZWQgaW5wdXRcblx0XHRcdFx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcIiBcIiArIHRtcFsgMCBdIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRjb252ZXJ0ZXJzWyBcIiogXCIgKyB0bXBbIDAgXSBdO1xuXHRcdFx0XHRcdFx0XHRpZiAoIGNvbnYgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gQ29uZGVuc2UgZXF1aXZhbGVuY2UgY29udmVydGVyc1xuXHRcdFx0XHRcdFx0XHRcdGlmICggY29udiA9PT0gdHJ1ZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnYgPSBjb252ZXJ0ZXJzWyBjb252MiBdO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBpbnNlcnQgdGhlIGludGVybWVkaWF0ZSBkYXRhVHlwZVxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGNvbnZlcnRlcnNbIGNvbnYyIF0gIT09IHRydWUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjdXJyZW50ID0gdG1wWyAwIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggdG1wWyAxIF0gKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBcHBseSBjb252ZXJ0ZXIgKGlmIG5vdCBhbiBlcXVpdmFsZW5jZSlcblx0XHRcdFx0aWYgKCBjb252ICE9PSB0cnVlICkge1xuXG5cdFx0XHRcdFx0Ly8gVW5sZXNzIGVycm9ycyBhcmUgYWxsb3dlZCB0byBidWJibGUsIGNhdGNoIGFuZCByZXR1cm4gdGhlbVxuXHRcdFx0XHRcdGlmICggY29udiAmJiBzWyBcInRocm93c1wiIF0gKSB7XG5cdFx0XHRcdFx0XHRyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdHJlc3BvbnNlID0gY29udiggcmVzcG9uc2UgKTtcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4geyBzdGF0ZTogXCJwYXJzZXJlcnJvclwiLCBlcnJvcjogY29udiA/IGUgOiBcIk5vIGNvbnZlcnNpb24gZnJvbSBcIiArIHByZXYgKyBcIiB0byBcIiArIGN1cnJlbnQgfTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4geyBzdGF0ZTogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3BvbnNlIH07XG59XG5cbmpRdWVyeS5leHRlbmQoe1xuXG5cdC8vIENvdW50ZXIgZm9yIGhvbGRpbmcgdGhlIG51bWJlciBvZiBhY3RpdmUgcXVlcmllc1xuXHRhY3RpdmU6IDAsXG5cblx0Ly8gTGFzdC1Nb2RpZmllZCBoZWFkZXIgY2FjaGUgZm9yIG5leHQgcmVxdWVzdFxuXHRsYXN0TW9kaWZpZWQ6IHt9LFxuXHRldGFnOiB7fSxcblxuXHRhamF4U2V0dGluZ3M6IHtcblx0XHR1cmw6IGFqYXhMb2NhdGlvbixcblx0XHR0eXBlOiBcIkdFVFwiLFxuXHRcdGlzTG9jYWw6IHJsb2NhbFByb3RvY29sLnRlc3QoIGFqYXhMb2NQYXJ0c1sgMSBdICksXG5cdFx0Z2xvYmFsOiB0cnVlLFxuXHRcdHByb2Nlc3NEYXRhOiB0cnVlLFxuXHRcdGFzeW5jOiB0cnVlLFxuXHRcdGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOFwiLFxuXHRcdC8qXG5cdFx0dGltZW91dDogMCxcblx0XHRkYXRhOiBudWxsLFxuXHRcdGRhdGFUeXBlOiBudWxsLFxuXHRcdHVzZXJuYW1lOiBudWxsLFxuXHRcdHBhc3N3b3JkOiBudWxsLFxuXHRcdGNhY2hlOiBudWxsLFxuXHRcdHRocm93czogZmFsc2UsXG5cdFx0dHJhZGl0aW9uYWw6IGZhbHNlLFxuXHRcdGhlYWRlcnM6IHt9LFxuXHRcdCovXG5cblx0XHRhY2NlcHRzOiB7XG5cdFx0XHRcIipcIjogYWxsVHlwZXMsXG5cdFx0XHR0ZXh0OiBcInRleHQvcGxhaW5cIixcblx0XHRcdGh0bWw6IFwidGV4dC9odG1sXCIsXG5cdFx0XHR4bWw6IFwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFwiLFxuXHRcdFx0anNvbjogXCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHRcIlxuXHRcdH0sXG5cblx0XHRjb250ZW50czoge1xuXHRcdFx0eG1sOiAveG1sLyxcblx0XHRcdGh0bWw6IC9odG1sLyxcblx0XHRcdGpzb246IC9qc29uL1xuXHRcdH0sXG5cblx0XHRyZXNwb25zZUZpZWxkczoge1xuXHRcdFx0eG1sOiBcInJlc3BvbnNlWE1MXCIsXG5cdFx0XHR0ZXh0OiBcInJlc3BvbnNlVGV4dFwiLFxuXHRcdFx0anNvbjogXCJyZXNwb25zZUpTT05cIlxuXHRcdH0sXG5cblx0XHQvLyBEYXRhIGNvbnZlcnRlcnNcblx0XHQvLyBLZXlzIHNlcGFyYXRlIHNvdXJjZSAob3IgY2F0Y2hhbGwgXCIqXCIpIGFuZCBkZXN0aW5hdGlvbiB0eXBlcyB3aXRoIGEgc2luZ2xlIHNwYWNlXG5cdFx0Y29udmVydGVyczoge1xuXG5cdFx0XHQvLyBDb252ZXJ0IGFueXRoaW5nIHRvIHRleHRcblx0XHRcdFwiKiB0ZXh0XCI6IFN0cmluZyxcblxuXHRcdFx0Ly8gVGV4dCB0byBodG1sICh0cnVlID0gbm8gdHJhbnNmb3JtYXRpb24pXG5cdFx0XHRcInRleHQgaHRtbFwiOiB0cnVlLFxuXG5cdFx0XHQvLyBFdmFsdWF0ZSB0ZXh0IGFzIGEganNvbiBleHByZXNzaW9uXG5cdFx0XHRcInRleHQganNvblwiOiBqUXVlcnkucGFyc2VKU09OLFxuXG5cdFx0XHQvLyBQYXJzZSB0ZXh0IGFzIHhtbFxuXHRcdFx0XCJ0ZXh0IHhtbFwiOiBqUXVlcnkucGFyc2VYTUxcblx0XHR9LFxuXG5cdFx0Ly8gRm9yIG9wdGlvbnMgdGhhdCBzaG91bGRuJ3QgYmUgZGVlcCBleHRlbmRlZDpcblx0XHQvLyB5b3UgY2FuIGFkZCB5b3VyIG93biBjdXN0b20gb3B0aW9ucyBoZXJlIGlmXG5cdFx0Ly8gYW5kIHdoZW4geW91IGNyZWF0ZSBvbmUgdGhhdCBzaG91bGRuJ3QgYmVcblx0XHQvLyBkZWVwIGV4dGVuZGVkIChzZWUgYWpheEV4dGVuZClcblx0XHRmbGF0T3B0aW9uczoge1xuXHRcdFx0dXJsOiB0cnVlLFxuXHRcdFx0Y29udGV4dDogdHJ1ZVxuXHRcdH1cblx0fSxcblxuXHQvLyBDcmVhdGVzIGEgZnVsbCBmbGVkZ2VkIHNldHRpbmdzIG9iamVjdCBpbnRvIHRhcmdldFxuXHQvLyB3aXRoIGJvdGggYWpheFNldHRpbmdzIGFuZCBzZXR0aW5ncyBmaWVsZHMuXG5cdC8vIElmIHRhcmdldCBpcyBvbWl0dGVkLCB3cml0ZXMgaW50byBhamF4U2V0dGluZ3MuXG5cdGFqYXhTZXR1cDogZnVuY3Rpb24oIHRhcmdldCwgc2V0dGluZ3MgKSB7XG5cdFx0cmV0dXJuIHNldHRpbmdzID9cblxuXHRcdFx0Ly8gQnVpbGRpbmcgYSBzZXR0aW5ncyBvYmplY3Rcblx0XHRcdGFqYXhFeHRlbmQoIGFqYXhFeHRlbmQoIHRhcmdldCwgalF1ZXJ5LmFqYXhTZXR0aW5ncyApLCBzZXR0aW5ncyApIDpcblxuXHRcdFx0Ly8gRXh0ZW5kaW5nIGFqYXhTZXR0aW5nc1xuXHRcdFx0YWpheEV4dGVuZCggalF1ZXJ5LmFqYXhTZXR0aW5ncywgdGFyZ2V0ICk7XG5cdH0sXG5cblx0YWpheFByZWZpbHRlcjogYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBwcmVmaWx0ZXJzICksXG5cdGFqYXhUcmFuc3BvcnQ6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cyApLFxuXG5cdC8vIE1haW4gbWV0aG9kXG5cdGFqYXg6IGZ1bmN0aW9uKCB1cmwsIG9wdGlvbnMgKSB7XG5cblx0XHQvLyBJZiB1cmwgaXMgYW4gb2JqZWN0LCBzaW11bGF0ZSBwcmUtMS41IHNpZ25hdHVyZVxuXHRcdGlmICggdHlwZW9mIHVybCA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdG9wdGlvbnMgPSB1cmw7XG5cdFx0XHR1cmwgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gRm9yY2Ugb3B0aW9ucyB0byBiZSBhbiBvYmplY3Rcblx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRcdHZhciB0cmFuc3BvcnQsXG5cdFx0XHQvLyBVUkwgd2l0aG91dCBhbnRpLWNhY2hlIHBhcmFtXG5cdFx0XHRjYWNoZVVSTCxcblx0XHRcdC8vIFJlc3BvbnNlIGhlYWRlcnNcblx0XHRcdHJlc3BvbnNlSGVhZGVyc1N0cmluZyxcblx0XHRcdHJlc3BvbnNlSGVhZGVycyxcblx0XHRcdC8vIHRpbWVvdXQgaGFuZGxlXG5cdFx0XHR0aW1lb3V0VGltZXIsXG5cdFx0XHQvLyBDcm9zcy1kb21haW4gZGV0ZWN0aW9uIHZhcnNcblx0XHRcdHBhcnRzLFxuXHRcdFx0Ly8gVG8ga25vdyBpZiBnbG9iYWwgZXZlbnRzIGFyZSB0byBiZSBkaXNwYXRjaGVkXG5cdFx0XHRmaXJlR2xvYmFscyxcblx0XHRcdC8vIExvb3AgdmFyaWFibGVcblx0XHRcdGksXG5cdFx0XHQvLyBDcmVhdGUgdGhlIGZpbmFsIG9wdGlvbnMgb2JqZWN0XG5cdFx0XHRzID0galF1ZXJ5LmFqYXhTZXR1cCgge30sIG9wdGlvbnMgKSxcblx0XHRcdC8vIENhbGxiYWNrcyBjb250ZXh0XG5cdFx0XHRjYWxsYmFja0NvbnRleHQgPSBzLmNvbnRleHQgfHwgcyxcblx0XHRcdC8vIENvbnRleHQgZm9yIGdsb2JhbCBldmVudHMgaXMgY2FsbGJhY2tDb250ZXh0IGlmIGl0IGlzIGEgRE9NIG5vZGUgb3IgalF1ZXJ5IGNvbGxlY3Rpb25cblx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dCA9IHMuY29udGV4dCAmJiAoIGNhbGxiYWNrQ29udGV4dC5ub2RlVHlwZSB8fCBjYWxsYmFja0NvbnRleHQuanF1ZXJ5ICkgP1xuXHRcdFx0XHRqUXVlcnkoIGNhbGxiYWNrQ29udGV4dCApIDpcblx0XHRcdFx0alF1ZXJ5LmV2ZW50LFxuXHRcdFx0Ly8gRGVmZXJyZWRzXG5cdFx0XHRkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpLFxuXHRcdFx0Y29tcGxldGVEZWZlcnJlZCA9IGpRdWVyeS5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSxcblx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRzdGF0dXNDb2RlID0gcy5zdGF0dXNDb2RlIHx8IHt9LFxuXHRcdFx0Ly8gSGVhZGVycyAodGhleSBhcmUgc2VudCBhbGwgYXQgb25jZSlcblx0XHRcdHJlcXVlc3RIZWFkZXJzID0ge30sXG5cdFx0XHRyZXF1ZXN0SGVhZGVyc05hbWVzID0ge30sXG5cdFx0XHQvLyBUaGUganFYSFIgc3RhdGVcblx0XHRcdHN0YXRlID0gMCxcblx0XHRcdC8vIERlZmF1bHQgYWJvcnQgbWVzc2FnZVxuXHRcdFx0c3RyQWJvcnQgPSBcImNhbmNlbGVkXCIsXG5cdFx0XHQvLyBGYWtlIHhoclxuXHRcdFx0anFYSFIgPSB7XG5cdFx0XHRcdHJlYWR5U3RhdGU6IDAsXG5cblx0XHRcdFx0Ly8gQnVpbGRzIGhlYWRlcnMgaGFzaHRhYmxlIGlmIG5lZWRlZFxuXHRcdFx0XHRnZXRSZXNwb25zZUhlYWRlcjogZnVuY3Rpb24oIGtleSApIHtcblx0XHRcdFx0XHR2YXIgbWF0Y2g7XG5cdFx0XHRcdFx0aWYgKCBzdGF0ZSA9PT0gMiApIHtcblx0XHRcdFx0XHRcdGlmICggIXJlc3BvbnNlSGVhZGVycyApIHtcblx0XHRcdFx0XHRcdFx0cmVzcG9uc2VIZWFkZXJzID0ge307XG5cdFx0XHRcdFx0XHRcdHdoaWxlICggKG1hdGNoID0gcmhlYWRlcnMuZXhlYyggcmVzcG9uc2VIZWFkZXJzU3RyaW5nICkpICkge1xuXHRcdFx0XHRcdFx0XHRcdHJlc3BvbnNlSGVhZGVyc1sgbWF0Y2hbMV0udG9Mb3dlckNhc2UoKSBdID0gbWF0Y2hbIDIgXTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bWF0Y2ggPSByZXNwb25zZUhlYWRlcnNbIGtleS50b0xvd2VyQ2FzZSgpIF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBtYXRjaCA9PSBudWxsID8gbnVsbCA6IG1hdGNoO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIFJhdyBzdHJpbmdcblx0XHRcdFx0Z2V0QWxsUmVzcG9uc2VIZWFkZXJzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRyZXR1cm4gc3RhdGUgPT09IDIgPyByZXNwb25zZUhlYWRlcnNTdHJpbmcgOiBudWxsO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIENhY2hlcyB0aGUgaGVhZGVyXG5cdFx0XHRcdHNldFJlcXVlc3RIZWFkZXI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdFx0XHR2YXIgbG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRcdFx0aWYgKCAhc3RhdGUgKSB7XG5cdFx0XHRcdFx0XHRuYW1lID0gcmVxdWVzdEhlYWRlcnNOYW1lc1sgbG5hbWUgXSA9IHJlcXVlc3RIZWFkZXJzTmFtZXNbIGxuYW1lIF0gfHwgbmFtZTtcblx0XHRcdFx0XHRcdHJlcXVlc3RIZWFkZXJzWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gT3ZlcnJpZGVzIHJlc3BvbnNlIGNvbnRlbnQtdHlwZSBoZWFkZXJcblx0XHRcdFx0b3ZlcnJpZGVNaW1lVHlwZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0XHRcdFx0aWYgKCAhc3RhdGUgKSB7XG5cdFx0XHRcdFx0XHRzLm1pbWVUeXBlID0gdHlwZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdFx0c3RhdHVzQ29kZTogZnVuY3Rpb24oIG1hcCApIHtcblx0XHRcdFx0XHR2YXIgY29kZTtcblx0XHRcdFx0XHRpZiAoIG1hcCApIHtcblx0XHRcdFx0XHRcdGlmICggc3RhdGUgPCAyICkge1xuXHRcdFx0XHRcdFx0XHRmb3IgKCBjb2RlIGluIG1hcCApIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBMYXp5LWFkZCB0aGUgbmV3IGNhbGxiYWNrIGluIGEgd2F5IHRoYXQgcHJlc2VydmVzIG9sZCBvbmVzXG5cdFx0XHRcdFx0XHRcdFx0c3RhdHVzQ29kZVsgY29kZSBdID0gWyBzdGF0dXNDb2RlWyBjb2RlIF0sIG1hcFsgY29kZSBdIF07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIEV4ZWN1dGUgdGhlIGFwcHJvcHJpYXRlIGNhbGxiYWNrc1xuXHRcdFx0XHRcdFx0XHRqcVhIUi5hbHdheXMoIG1hcFsganFYSFIuc3RhdHVzIF0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gQ2FuY2VsIHRoZSByZXF1ZXN0XG5cdFx0XHRcdGFib3J0OiBmdW5jdGlvbiggc3RhdHVzVGV4dCApIHtcblx0XHRcdFx0XHR2YXIgZmluYWxUZXh0ID0gc3RhdHVzVGV4dCB8fCBzdHJBYm9ydDtcblx0XHRcdFx0XHRpZiAoIHRyYW5zcG9ydCApIHtcblx0XHRcdFx0XHRcdHRyYW5zcG9ydC5hYm9ydCggZmluYWxUZXh0ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRvbmUoIDAsIGZpbmFsVGV4dCApO1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0Ly8gQXR0YWNoIGRlZmVycmVkc1xuXHRcdGRlZmVycmVkLnByb21pc2UoIGpxWEhSICkuY29tcGxldGUgPSBjb21wbGV0ZURlZmVycmVkLmFkZDtcblx0XHRqcVhIUi5zdWNjZXNzID0ganFYSFIuZG9uZTtcblx0XHRqcVhIUi5lcnJvciA9IGpxWEhSLmZhaWw7XG5cblx0XHQvLyBSZW1vdmUgaGFzaCBjaGFyYWN0ZXIgKCM3NTMxOiBhbmQgc3RyaW5nIHByb21vdGlvbilcblx0XHQvLyBBZGQgcHJvdG9jb2wgaWYgbm90IHByb3ZpZGVkIChwcmVmaWx0ZXJzIG1pZ2h0IGV4cGVjdCBpdClcblx0XHQvLyBIYW5kbGUgZmFsc3kgdXJsIGluIHRoZSBzZXR0aW5ncyBvYmplY3QgKCMxMDA5MzogY29uc2lzdGVuY3kgd2l0aCBvbGQgc2lnbmF0dXJlKVxuXHRcdC8vIFdlIGFsc28gdXNlIHRoZSB1cmwgcGFyYW1ldGVyIGlmIGF2YWlsYWJsZVxuXHRcdHMudXJsID0gKCAoIHVybCB8fCBzLnVybCB8fCBhamF4TG9jYXRpb24gKSArIFwiXCIgKS5yZXBsYWNlKCByaGFzaCwgXCJcIiApXG5cdFx0XHQucmVwbGFjZSggcnByb3RvY29sLCBhamF4TG9jUGFydHNbIDEgXSArIFwiLy9cIiApO1xuXG5cdFx0Ly8gQWxpYXMgbWV0aG9kIG9wdGlvbiB0byB0eXBlIGFzIHBlciB0aWNrZXQgIzEyMDA0XG5cdFx0cy50eXBlID0gb3B0aW9ucy5tZXRob2QgfHwgb3B0aW9ucy50eXBlIHx8IHMubWV0aG9kIHx8IHMudHlwZTtcblxuXHRcdC8vIEV4dHJhY3QgZGF0YVR5cGVzIGxpc3Rcblx0XHRzLmRhdGFUeXBlcyA9IGpRdWVyeS50cmltKCBzLmRhdGFUeXBlIHx8IFwiKlwiICkudG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdHdoaXRlICkgfHwgWyBcIlwiIF07XG5cblx0XHQvLyBBIGNyb3NzLWRvbWFpbiByZXF1ZXN0IGlzIGluIG9yZGVyIHdoZW4gd2UgaGF2ZSBhIHByb3RvY29sOmhvc3Q6cG9ydCBtaXNtYXRjaFxuXHRcdGlmICggcy5jcm9zc0RvbWFpbiA9PSBudWxsICkge1xuXHRcdFx0cGFydHMgPSBydXJsLmV4ZWMoIHMudXJsLnRvTG93ZXJDYXNlKCkgKTtcblx0XHRcdHMuY3Jvc3NEb21haW4gPSAhISggcGFydHMgJiZcblx0XHRcdFx0KCBwYXJ0c1sgMSBdICE9PSBhamF4TG9jUGFydHNbIDEgXSB8fCBwYXJ0c1sgMiBdICE9PSBhamF4TG9jUGFydHNbIDIgXSB8fFxuXHRcdFx0XHRcdCggcGFydHNbIDMgXSB8fCAoIHBhcnRzWyAxIF0gPT09IFwiaHR0cDpcIiA/IFwiODBcIiA6IFwiNDQzXCIgKSApICE9PVxuXHRcdFx0XHRcdFx0KCBhamF4TG9jUGFydHNbIDMgXSB8fCAoIGFqYXhMb2NQYXJ0c1sgMSBdID09PSBcImh0dHA6XCIgPyBcIjgwXCIgOiBcIjQ0M1wiICkgKSApXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIENvbnZlcnQgZGF0YSBpZiBub3QgYWxyZWFkeSBhIHN0cmluZ1xuXHRcdGlmICggcy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiYgdHlwZW9mIHMuZGF0YSAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHMuZGF0YSA9IGpRdWVyeS5wYXJhbSggcy5kYXRhLCBzLnRyYWRpdGlvbmFsICk7XG5cdFx0fVxuXG5cdFx0Ly8gQXBwbHkgcHJlZmlsdGVyc1xuXHRcdGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBwcmVmaWx0ZXJzLCBzLCBvcHRpb25zLCBqcVhIUiApO1xuXG5cdFx0Ly8gSWYgcmVxdWVzdCB3YXMgYWJvcnRlZCBpbnNpZGUgYSBwcmVmaWx0ZXIsIHN0b3AgdGhlcmVcblx0XHRpZiAoIHN0YXRlID09PSAyICkge1xuXHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdH1cblxuXHRcdC8vIFdlIGNhbiBmaXJlIGdsb2JhbCBldmVudHMgYXMgb2Ygbm93IGlmIGFza2VkIHRvXG5cdFx0Ly8gRG9uJ3QgZmlyZSBldmVudHMgaWYgalF1ZXJ5LmV2ZW50IGlzIHVuZGVmaW5lZCBpbiBhbiBBTUQtdXNhZ2Ugc2NlbmFyaW8gKCMxNTExOClcblx0XHRmaXJlR2xvYmFscyA9IGpRdWVyeS5ldmVudCAmJiBzLmdsb2JhbDtcblxuXHRcdC8vIFdhdGNoIGZvciBhIG5ldyBzZXQgb2YgcmVxdWVzdHNcblx0XHRpZiAoIGZpcmVHbG9iYWxzICYmIGpRdWVyeS5hY3RpdmUrKyA9PT0gMCApIHtcblx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKFwiYWpheFN0YXJ0XCIpO1xuXHRcdH1cblxuXHRcdC8vIFVwcGVyY2FzZSB0aGUgdHlwZVxuXHRcdHMudHlwZSA9IHMudHlwZS50b1VwcGVyQ2FzZSgpO1xuXG5cdFx0Ly8gRGV0ZXJtaW5lIGlmIHJlcXVlc3QgaGFzIGNvbnRlbnRcblx0XHRzLmhhc0NvbnRlbnQgPSAhcm5vQ29udGVudC50ZXN0KCBzLnR5cGUgKTtcblxuXHRcdC8vIFNhdmUgdGhlIFVSTCBpbiBjYXNlIHdlJ3JlIHRveWluZyB3aXRoIHRoZSBJZi1Nb2RpZmllZC1TaW5jZVxuXHRcdC8vIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciBsYXRlciBvblxuXHRcdGNhY2hlVVJMID0gcy51cmw7XG5cblx0XHQvLyBNb3JlIG9wdGlvbnMgaGFuZGxpbmcgZm9yIHJlcXVlc3RzIHdpdGggbm8gY29udGVudFxuXHRcdGlmICggIXMuaGFzQ29udGVudCApIHtcblxuXHRcdFx0Ly8gSWYgZGF0YSBpcyBhdmFpbGFibGUsIGFwcGVuZCBkYXRhIHRvIHVybFxuXHRcdFx0aWYgKCBzLmRhdGEgKSB7XG5cdFx0XHRcdGNhY2hlVVJMID0gKCBzLnVybCArPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgcy5kYXRhICk7XG5cdFx0XHRcdC8vICM5NjgyOiByZW1vdmUgZGF0YSBzbyB0aGF0IGl0J3Mgbm90IHVzZWQgaW4gYW4gZXZlbnR1YWwgcmV0cnlcblx0XHRcdFx0ZGVsZXRlIHMuZGF0YTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIGFudGktY2FjaGUgaW4gdXJsIGlmIG5lZWRlZFxuXHRcdFx0aWYgKCBzLmNhY2hlID09PSBmYWxzZSApIHtcblx0XHRcdFx0cy51cmwgPSBydHMudGVzdCggY2FjaGVVUkwgKSA/XG5cblx0XHRcdFx0XHQvLyBJZiB0aGVyZSBpcyBhbHJlYWR5IGEgJ18nIHBhcmFtZXRlciwgc2V0IGl0cyB2YWx1ZVxuXHRcdFx0XHRcdGNhY2hlVVJMLnJlcGxhY2UoIHJ0cywgXCIkMV89XCIgKyBub25jZSsrICkgOlxuXG5cdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGFkZCBvbmUgdG8gdGhlIGVuZFxuXHRcdFx0XHRcdGNhY2hlVVJMICsgKCBycXVlcnkudGVzdCggY2FjaGVVUkwgKSA/IFwiJlwiIDogXCI/XCIgKSArIFwiXz1cIiArIG5vbmNlKys7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS5cblx0XHRpZiAoIHMuaWZNb2RpZmllZCApIHtcblx0XHRcdGlmICggalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSApIHtcblx0XHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJJZi1Nb2RpZmllZC1TaW5jZVwiLCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdICkge1xuXHRcdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIklmLU5vbmUtTWF0Y2hcIiwgalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIGNvcnJlY3QgaGVhZGVyLCBpZiBkYXRhIGlzIGJlaW5nIHNlbnRcblx0XHRpZiAoIHMuZGF0YSAmJiBzLmhhc0NvbnRlbnQgJiYgcy5jb250ZW50VHlwZSAhPT0gZmFsc2UgfHwgb3B0aW9ucy5jb250ZW50VHlwZSApIHtcblx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiQ29udGVudC1UeXBlXCIsIHMuY29udGVudFR5cGUgKTtcblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIEFjY2VwdHMgaGVhZGVyIGZvciB0aGUgc2VydmVyLCBkZXBlbmRpbmcgb24gdGhlIGRhdGFUeXBlXG5cdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlcihcblx0XHRcdFwiQWNjZXB0XCIsXG5cdFx0XHRzLmRhdGFUeXBlc1sgMCBdICYmIHMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbMF0gXSA/XG5cdFx0XHRcdHMuYWNjZXB0c1sgcy5kYXRhVHlwZXNbMF0gXSArICggcy5kYXRhVHlwZXNbIDAgXSAhPT0gXCIqXCIgPyBcIiwgXCIgKyBhbGxUeXBlcyArIFwiOyBxPTAuMDFcIiA6IFwiXCIgKSA6XG5cdFx0XHRcdHMuYWNjZXB0c1sgXCIqXCIgXVxuXHRcdCk7XG5cblx0XHQvLyBDaGVjayBmb3IgaGVhZGVycyBvcHRpb25cblx0XHRmb3IgKCBpIGluIHMuaGVhZGVycyApIHtcblx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIGksIHMuaGVhZGVyc1sgaSBdICk7XG5cdFx0fVxuXG5cdFx0Ly8gQWxsb3cgY3VzdG9tIGhlYWRlcnMvbWltZXR5cGVzIGFuZCBlYXJseSBhYm9ydFxuXHRcdGlmICggcy5iZWZvcmVTZW5kICYmICggcy5iZWZvcmVTZW5kLmNhbGwoIGNhbGxiYWNrQ29udGV4dCwganFYSFIsIHMgKSA9PT0gZmFsc2UgfHwgc3RhdGUgPT09IDIgKSApIHtcblx0XHRcdC8vIEFib3J0IGlmIG5vdCBkb25lIGFscmVhZHkgYW5kIHJldHVyblxuXHRcdFx0cmV0dXJuIGpxWEhSLmFib3J0KCk7XG5cdFx0fVxuXG5cdFx0Ly8gQWJvcnRpbmcgaXMgbm8gbG9uZ2VyIGEgY2FuY2VsbGF0aW9uXG5cdFx0c3RyQWJvcnQgPSBcImFib3J0XCI7XG5cblx0XHQvLyBJbnN0YWxsIGNhbGxiYWNrcyBvbiBkZWZlcnJlZHNcblx0XHRmb3IgKCBpIGluIHsgc3VjY2VzczogMSwgZXJyb3I6IDEsIGNvbXBsZXRlOiAxIH0gKSB7XG5cdFx0XHRqcVhIUlsgaSBdKCBzWyBpIF0gKTtcblx0XHR9XG5cblx0XHQvLyBHZXQgdHJhbnNwb3J0XG5cdFx0dHJhbnNwb3J0ID0gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XG5cblx0XHQvLyBJZiBubyB0cmFuc3BvcnQsIHdlIGF1dG8tYWJvcnRcblx0XHRpZiAoICF0cmFuc3BvcnQgKSB7XG5cdFx0XHRkb25lKCAtMSwgXCJObyBUcmFuc3BvcnRcIiApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRqcVhIUi5yZWFkeVN0YXRlID0gMTtcblxuXHRcdFx0Ly8gU2VuZCBnbG9iYWwgZXZlbnRcblx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcImFqYXhTZW5kXCIsIFsganFYSFIsIHMgXSApO1xuXHRcdFx0fVxuXHRcdFx0Ly8gVGltZW91dFxuXHRcdFx0aWYgKCBzLmFzeW5jICYmIHMudGltZW91dCA+IDAgKSB7XG5cdFx0XHRcdHRpbWVvdXRUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0anFYSFIuYWJvcnQoXCJ0aW1lb3V0XCIpO1xuXHRcdFx0XHR9LCBzLnRpbWVvdXQgKTtcblx0XHRcdH1cblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0c3RhdGUgPSAxO1xuXHRcdFx0XHR0cmFuc3BvcnQuc2VuZCggcmVxdWVzdEhlYWRlcnMsIGRvbmUgKTtcblx0XHRcdH0gY2F0Y2ggKCBlICkge1xuXHRcdFx0XHQvLyBQcm9wYWdhdGUgZXhjZXB0aW9uIGFzIGVycm9yIGlmIG5vdCBkb25lXG5cdFx0XHRcdGlmICggc3RhdGUgPCAyICkge1xuXHRcdFx0XHRcdGRvbmUoIC0xLCBlICk7XG5cdFx0XHRcdC8vIFNpbXBseSByZXRocm93IG90aGVyd2lzZVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRocm93IGU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBDYWxsYmFjayBmb3Igd2hlbiBldmVyeXRoaW5nIGlzIGRvbmVcblx0XHRmdW5jdGlvbiBkb25lKCBzdGF0dXMsIG5hdGl2ZVN0YXR1c1RleHQsIHJlc3BvbnNlcywgaGVhZGVycyApIHtcblx0XHRcdHZhciBpc1N1Y2Nlc3MsIHN1Y2Nlc3MsIGVycm9yLCByZXNwb25zZSwgbW9kaWZpZWQsXG5cdFx0XHRcdHN0YXR1c1RleHQgPSBuYXRpdmVTdGF0dXNUZXh0O1xuXG5cdFx0XHQvLyBDYWxsZWQgb25jZVxuXHRcdFx0aWYgKCBzdGF0ZSA9PT0gMiApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdGF0ZSBpcyBcImRvbmVcIiBub3dcblx0XHRcdHN0YXRlID0gMjtcblxuXHRcdFx0Ly8gQ2xlYXIgdGltZW91dCBpZiBpdCBleGlzdHNcblx0XHRcdGlmICggdGltZW91dFRpbWVyICkge1xuXHRcdFx0XHRjbGVhclRpbWVvdXQoIHRpbWVvdXRUaW1lciApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBEZXJlZmVyZW5jZSB0cmFuc3BvcnQgZm9yIGVhcmx5IGdhcmJhZ2UgY29sbGVjdGlvblxuXHRcdFx0Ly8gKG5vIG1hdHRlciBob3cgbG9uZyB0aGUganFYSFIgb2JqZWN0IHdpbGwgYmUgdXNlZClcblx0XHRcdHRyYW5zcG9ydCA9IHVuZGVmaW5lZDtcblxuXHRcdFx0Ly8gQ2FjaGUgcmVzcG9uc2UgaGVhZGVyc1xuXHRcdFx0cmVzcG9uc2VIZWFkZXJzU3RyaW5nID0gaGVhZGVycyB8fCBcIlwiO1xuXG5cdFx0XHQvLyBTZXQgcmVhZHlTdGF0ZVxuXHRcdFx0anFYSFIucmVhZHlTdGF0ZSA9IHN0YXR1cyA+IDAgPyA0IDogMDtcblxuXHRcdFx0Ly8gRGV0ZXJtaW5lIGlmIHN1Y2Nlc3NmdWxcblx0XHRcdGlzU3VjY2VzcyA9IHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwIHx8IHN0YXR1cyA9PT0gMzA0O1xuXG5cdFx0XHQvLyBHZXQgcmVzcG9uc2UgZGF0YVxuXHRcdFx0aWYgKCByZXNwb25zZXMgKSB7XG5cdFx0XHRcdHJlc3BvbnNlID0gYWpheEhhbmRsZVJlc3BvbnNlcyggcywganFYSFIsIHJlc3BvbnNlcyApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb252ZXJ0IG5vIG1hdHRlciB3aGF0ICh0aGF0IHdheSByZXNwb25zZVhYWCBmaWVsZHMgYXJlIGFsd2F5cyBzZXQpXG5cdFx0XHRyZXNwb25zZSA9IGFqYXhDb252ZXJ0KCBzLCByZXNwb25zZSwganFYSFIsIGlzU3VjY2VzcyApO1xuXG5cdFx0XHQvLyBJZiBzdWNjZXNzZnVsLCBoYW5kbGUgdHlwZSBjaGFpbmluZ1xuXHRcdFx0aWYgKCBpc1N1Y2Nlc3MgKSB7XG5cblx0XHRcdFx0Ly8gU2V0IHRoZSBJZi1Nb2RpZmllZC1TaW5jZSBhbmQvb3IgSWYtTm9uZS1NYXRjaCBoZWFkZXIsIGlmIGluIGlmTW9kaWZpZWQgbW9kZS5cblx0XHRcdFx0aWYgKCBzLmlmTW9kaWZpZWQgKSB7XG5cdFx0XHRcdFx0bW9kaWZpZWQgPSBqcVhIUi5nZXRSZXNwb25zZUhlYWRlcihcIkxhc3QtTW9kaWZpZWRcIik7XG5cdFx0XHRcdFx0aWYgKCBtb2RpZmllZCApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bW9kaWZpZWQgPSBqcVhIUi5nZXRSZXNwb25zZUhlYWRlcihcImV0YWdcIik7XG5cdFx0XHRcdFx0aWYgKCBtb2RpZmllZCApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdID0gbW9kaWZpZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gaWYgbm8gY29udGVudFxuXHRcdFx0XHRpZiAoIHN0YXR1cyA9PT0gMjA0IHx8IHMudHlwZSA9PT0gXCJIRUFEXCIgKSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwibm9jb250ZW50XCI7XG5cblx0XHRcdFx0Ly8gaWYgbm90IG1vZGlmaWVkXG5cdFx0XHRcdH0gZWxzZSBpZiAoIHN0YXR1cyA9PT0gMzA0ICkge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcIm5vdG1vZGlmaWVkXCI7XG5cblx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBkYXRhLCBsZXQncyBjb252ZXJ0IGl0XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IHJlc3BvbnNlLnN0YXRlO1xuXHRcdFx0XHRcdHN1Y2Nlc3MgPSByZXNwb25zZS5kYXRhO1xuXHRcdFx0XHRcdGVycm9yID0gcmVzcG9uc2UuZXJyb3I7XG5cdFx0XHRcdFx0aXNTdWNjZXNzID0gIWVycm9yO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBFeHRyYWN0IGVycm9yIGZyb20gc3RhdHVzVGV4dCBhbmQgbm9ybWFsaXplIGZvciBub24tYWJvcnRzXG5cdFx0XHRcdGVycm9yID0gc3RhdHVzVGV4dDtcblx0XHRcdFx0aWYgKCBzdGF0dXMgfHwgIXN0YXR1c1RleHQgKSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwiZXJyb3JcIjtcblx0XHRcdFx0XHRpZiAoIHN0YXR1cyA8IDAgKSB7XG5cdFx0XHRcdFx0XHRzdGF0dXMgPSAwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZXQgZGF0YSBmb3IgdGhlIGZha2UgeGhyIG9iamVjdFxuXHRcdFx0anFYSFIuc3RhdHVzID0gc3RhdHVzO1xuXHRcdFx0anFYSFIuc3RhdHVzVGV4dCA9ICggbmF0aXZlU3RhdHVzVGV4dCB8fCBzdGF0dXNUZXh0ICkgKyBcIlwiO1xuXG5cdFx0XHQvLyBTdWNjZXNzL0Vycm9yXG5cdFx0XHRpZiAoIGlzU3VjY2VzcyApIHtcblx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBzdWNjZXNzLCBzdGF0dXNUZXh0LCBqcVhIUiBdICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZWZlcnJlZC5yZWplY3RXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsganFYSFIsIHN0YXR1c1RleHQsIGVycm9yIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdGpxWEhSLnN0YXR1c0NvZGUoIHN0YXR1c0NvZGUgKTtcblx0XHRcdHN0YXR1c0NvZGUgPSB1bmRlZmluZWQ7XG5cblx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBpc1N1Y2Nlc3MgPyBcImFqYXhTdWNjZXNzXCIgOiBcImFqYXhFcnJvclwiLFxuXHRcdFx0XHRcdFsganFYSFIsIHMsIGlzU3VjY2VzcyA/IHN1Y2Nlc3MgOiBlcnJvciBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbXBsZXRlXG5cdFx0XHRjb21wbGV0ZURlZmVycmVkLmZpcmVXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsganFYSFIsIHN0YXR1c1RleHQgXSApO1xuXG5cdFx0XHRpZiAoIGZpcmVHbG9iYWxzICkge1xuXHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggXCJhamF4Q29tcGxldGVcIiwgWyBqcVhIUiwgcyBdICk7XG5cdFx0XHRcdC8vIEhhbmRsZSB0aGUgZ2xvYmFsIEFKQVggY291bnRlclxuXHRcdFx0XHRpZiAoICEoIC0talF1ZXJ5LmFjdGl2ZSApICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKFwiYWpheFN0b3BcIik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ganFYSFI7XG5cdH0sXG5cblx0Z2V0SlNPTjogZnVuY3Rpb24oIHVybCwgZGF0YSwgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5nZXQoIHVybCwgZGF0YSwgY2FsbGJhY2ssIFwianNvblwiICk7XG5cdH0sXG5cblx0Z2V0U2NyaXB0OiBmdW5jdGlvbiggdXJsLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdldCggdXJsLCB1bmRlZmluZWQsIGNhbGxiYWNrLCBcInNjcmlwdFwiICk7XG5cdH1cbn0pO1xuXG5qUXVlcnkuZWFjaCggWyBcImdldFwiLCBcInBvc3RcIiBdLCBmdW5jdGlvbiggaSwgbWV0aG9kICkge1xuXHRqUXVlcnlbIG1ldGhvZCBdID0gZnVuY3Rpb24oIHVybCwgZGF0YSwgY2FsbGJhY2ssIHR5cGUgKSB7XG5cdFx0Ly8gU2hpZnQgYXJndW1lbnRzIGlmIGRhdGEgYXJndW1lbnQgd2FzIG9taXR0ZWRcblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBkYXRhICkgKSB7XG5cdFx0XHR0eXBlID0gdHlwZSB8fCBjYWxsYmFjaztcblx0XHRcdGNhbGxiYWNrID0gZGF0YTtcblx0XHRcdGRhdGEgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGpRdWVyeS5hamF4KHtcblx0XHRcdHVybDogdXJsLFxuXHRcdFx0dHlwZTogbWV0aG9kLFxuXHRcdFx0ZGF0YVR5cGU6IHR5cGUsXG5cdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0c3VjY2VzczogY2FsbGJhY2tcblx0XHR9KTtcblx0fTtcbn0pO1xuXG5cbmpRdWVyeS5fZXZhbFVybCA9IGZ1bmN0aW9uKCB1cmwgKSB7XG5cdHJldHVybiBqUXVlcnkuYWpheCh7XG5cdFx0dXJsOiB1cmwsXG5cdFx0dHlwZTogXCJHRVRcIixcblx0XHRkYXRhVHlwZTogXCJzY3JpcHRcIixcblx0XHRhc3luYzogZmFsc2UsXG5cdFx0Z2xvYmFsOiBmYWxzZSxcblx0XHRcInRocm93c1wiOiB0cnVlXG5cdH0pO1xufTtcblxuXG5qUXVlcnkuZm4uZXh0ZW5kKHtcblx0d3JhcEFsbDogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0dmFyIHdyYXA7XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBodG1sICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS53cmFwQWxsKCBodG1sLmNhbGwodGhpcywgaSkgKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGlmICggdGhpc1sgMCBdICkge1xuXG5cdFx0XHQvLyBUaGUgZWxlbWVudHMgdG8gd3JhcCB0aGUgdGFyZ2V0IGFyb3VuZFxuXHRcdFx0d3JhcCA9IGpRdWVyeSggaHRtbCwgdGhpc1sgMCBdLm93bmVyRG9jdW1lbnQgKS5lcSggMCApLmNsb25lKCB0cnVlICk7XG5cblx0XHRcdGlmICggdGhpc1sgMCBdLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHdyYXAuaW5zZXJ0QmVmb3JlKCB0aGlzWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0d3JhcC5tYXAoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBlbGVtID0gdGhpcztcblxuXHRcdFx0XHR3aGlsZSAoIGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQgKSB7XG5cdFx0XHRcdFx0ZWxlbSA9IGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gZWxlbTtcblx0XHRcdH0pLmFwcGVuZCggdGhpcyApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9LFxuXG5cdHdyYXBJbm5lcjogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggaHRtbCApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkud3JhcElubmVyKCBodG1sLmNhbGwodGhpcywgaSkgKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IGpRdWVyeSggdGhpcyApLFxuXHRcdFx0XHRjb250ZW50cyA9IHNlbGYuY29udGVudHMoKTtcblxuXHRcdFx0aWYgKCBjb250ZW50cy5sZW5ndGggKSB7XG5cdFx0XHRcdGNvbnRlbnRzLndyYXBBbGwoIGh0bWwgKTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2VsZi5hcHBlbmQoIGh0bWwgKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSxcblxuXHR3cmFwOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHR2YXIgaXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCBodG1sICk7XG5cblx0XHRyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0alF1ZXJ5KCB0aGlzICkud3JhcEFsbCggaXNGdW5jdGlvbiA/IGh0bWwuY2FsbCh0aGlzLCBpKSA6IGh0bWwgKTtcblx0XHR9KTtcblx0fSxcblxuXHR1bndyYXA6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICFqUXVlcnkubm9kZU5hbWUoIHRoaXMsIFwiYm9keVwiICkgKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnJlcGxhY2VXaXRoKCB0aGlzLmNoaWxkTm9kZXMgKTtcblx0XHRcdH1cblx0XHR9KS5lbmQoKTtcblx0fVxufSk7XG5cblxualF1ZXJ5LmV4cHIuZmlsdGVycy5oaWRkZW4gPSBmdW5jdGlvbiggZWxlbSApIHtcblx0Ly8gU3VwcG9ydDogT3BlcmEgPD0gMTIuMTJcblx0Ly8gT3BlcmEgcmVwb3J0cyBvZmZzZXRXaWR0aHMgYW5kIG9mZnNldEhlaWdodHMgbGVzcyB0aGFuIHplcm8gb24gc29tZSBlbGVtZW50c1xuXHRyZXR1cm4gZWxlbS5vZmZzZXRXaWR0aCA8PSAwICYmIGVsZW0ub2Zmc2V0SGVpZ2h0IDw9IDA7XG59O1xualF1ZXJ5LmV4cHIuZmlsdGVycy52aXNpYmxlID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdHJldHVybiAhalF1ZXJ5LmV4cHIuZmlsdGVycy5oaWRkZW4oIGVsZW0gKTtcbn07XG5cblxuXG5cbnZhciByMjAgPSAvJTIwL2csXG5cdHJicmFja2V0ID0gL1xcW1xcXSQvLFxuXHRyQ1JMRiA9IC9cXHI/XFxuL2csXG5cdHJzdWJtaXR0ZXJUeXBlcyA9IC9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxcblx0cnN1Ym1pdHRhYmxlID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO1xuXG5mdW5jdGlvbiBidWlsZFBhcmFtcyggcHJlZml4LCBvYmosIHRyYWRpdGlvbmFsLCBhZGQgKSB7XG5cdHZhciBuYW1lO1xuXG5cdGlmICggalF1ZXJ5LmlzQXJyYXkoIG9iaiApICkge1xuXHRcdC8vIFNlcmlhbGl6ZSBhcnJheSBpdGVtLlxuXHRcdGpRdWVyeS5lYWNoKCBvYmosIGZ1bmN0aW9uKCBpLCB2ICkge1xuXHRcdFx0aWYgKCB0cmFkaXRpb25hbCB8fCByYnJhY2tldC50ZXN0KCBwcmVmaXggKSApIHtcblx0XHRcdFx0Ly8gVHJlYXQgZWFjaCBhcnJheSBpdGVtIGFzIGEgc2NhbGFyLlxuXHRcdFx0XHRhZGQoIHByZWZpeCwgdiApO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBJdGVtIGlzIG5vbi1zY2FsYXIgKGFycmF5IG9yIG9iamVjdCksIGVuY29kZSBpdHMgbnVtZXJpYyBpbmRleC5cblx0XHRcdFx0YnVpbGRQYXJhbXMoIHByZWZpeCArIFwiW1wiICsgKCB0eXBlb2YgdiA9PT0gXCJvYmplY3RcIiA/IGkgOiBcIlwiICkgKyBcIl1cIiwgdiwgdHJhZGl0aW9uYWwsIGFkZCApO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdH0gZWxzZSBpZiAoICF0cmFkaXRpb25hbCAmJiBqUXVlcnkudHlwZSggb2JqICkgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0Ly8gU2VyaWFsaXplIG9iamVjdCBpdGVtLlxuXHRcdGZvciAoIG5hbWUgaW4gb2JqICkge1xuXHRcdFx0YnVpbGRQYXJhbXMoIHByZWZpeCArIFwiW1wiICsgbmFtZSArIFwiXVwiLCBvYmpbIG5hbWUgXSwgdHJhZGl0aW9uYWwsIGFkZCApO1xuXHRcdH1cblxuXHR9IGVsc2Uge1xuXHRcdC8vIFNlcmlhbGl6ZSBzY2FsYXIgaXRlbS5cblx0XHRhZGQoIHByZWZpeCwgb2JqICk7XG5cdH1cbn1cblxuLy8gU2VyaWFsaXplIGFuIGFycmF5IG9mIGZvcm0gZWxlbWVudHMgb3IgYSBzZXQgb2Zcbi8vIGtleS92YWx1ZXMgaW50byBhIHF1ZXJ5IHN0cmluZ1xualF1ZXJ5LnBhcmFtID0gZnVuY3Rpb24oIGEsIHRyYWRpdGlvbmFsICkge1xuXHR2YXIgcHJlZml4LFxuXHRcdHMgPSBbXSxcblx0XHRhZGQgPSBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRcdC8vIElmIHZhbHVlIGlzIGEgZnVuY3Rpb24sIGludm9rZSBpdCBhbmQgcmV0dXJuIGl0cyB2YWx1ZVxuXHRcdFx0dmFsdWUgPSBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSA/IHZhbHVlKCkgOiAoIHZhbHVlID09IG51bGwgPyBcIlwiIDogdmFsdWUgKTtcblx0XHRcdHNbIHMubGVuZ3RoIF0gPSBlbmNvZGVVUklDb21wb25lbnQoIGtleSApICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoIHZhbHVlICk7XG5cdFx0fTtcblxuXHQvLyBTZXQgdHJhZGl0aW9uYWwgdG8gdHJ1ZSBmb3IgalF1ZXJ5IDw9IDEuMy4yIGJlaGF2aW9yLlxuXHRpZiAoIHRyYWRpdGlvbmFsID09PSB1bmRlZmluZWQgKSB7XG5cdFx0dHJhZGl0aW9uYWwgPSBqUXVlcnkuYWpheFNldHRpbmdzICYmIGpRdWVyeS5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWw7XG5cdH1cblxuXHQvLyBJZiBhbiBhcnJheSB3YXMgcGFzc2VkIGluLCBhc3N1bWUgdGhhdCBpdCBpcyBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzLlxuXHRpZiAoIGpRdWVyeS5pc0FycmF5KCBhICkgfHwgKCBhLmpxdWVyeSAmJiAhalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGEgKSApICkge1xuXHRcdC8vIFNlcmlhbGl6ZSB0aGUgZm9ybSBlbGVtZW50c1xuXHRcdGpRdWVyeS5lYWNoKCBhLCBmdW5jdGlvbigpIHtcblx0XHRcdGFkZCggdGhpcy5uYW1lLCB0aGlzLnZhbHVlICk7XG5cdFx0fSk7XG5cblx0fSBlbHNlIHtcblx0XHQvLyBJZiB0cmFkaXRpb25hbCwgZW5jb2RlIHRoZSBcIm9sZFwiIHdheSAodGhlIHdheSAxLjMuMiBvciBvbGRlclxuXHRcdC8vIGRpZCBpdCksIG90aGVyd2lzZSBlbmNvZGUgcGFyYW1zIHJlY3Vyc2l2ZWx5LlxuXHRcdGZvciAoIHByZWZpeCBpbiBhICkge1xuXHRcdFx0YnVpbGRQYXJhbXMoIHByZWZpeCwgYVsgcHJlZml4IF0sIHRyYWRpdGlvbmFsLCBhZGQgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBSZXR1cm4gdGhlIHJlc3VsdGluZyBzZXJpYWxpemF0aW9uXG5cdHJldHVybiBzLmpvaW4oIFwiJlwiICkucmVwbGFjZSggcjIwLCBcIitcIiApO1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCh7XG5cdHNlcmlhbGl6ZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5wYXJhbSggdGhpcy5zZXJpYWxpemVBcnJheSgpICk7XG5cdH0sXG5cdHNlcmlhbGl6ZUFycmF5OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKSB7XG5cdFx0XHQvLyBDYW4gYWRkIHByb3BIb29rIGZvciBcImVsZW1lbnRzXCIgdG8gZmlsdGVyIG9yIGFkZCBmb3JtIGVsZW1lbnRzXG5cdFx0XHR2YXIgZWxlbWVudHMgPSBqUXVlcnkucHJvcCggdGhpcywgXCJlbGVtZW50c1wiICk7XG5cdFx0XHRyZXR1cm4gZWxlbWVudHMgPyBqUXVlcnkubWFrZUFycmF5KCBlbGVtZW50cyApIDogdGhpcztcblx0XHR9KVxuXHRcdC5maWx0ZXIoZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgdHlwZSA9IHRoaXMudHlwZTtcblxuXHRcdFx0Ly8gVXNlIC5pcyggXCI6ZGlzYWJsZWRcIiApIHNvIHRoYXQgZmllbGRzZXRbZGlzYWJsZWRdIHdvcmtzXG5cdFx0XHRyZXR1cm4gdGhpcy5uYW1lICYmICFqUXVlcnkoIHRoaXMgKS5pcyggXCI6ZGlzYWJsZWRcIiApICYmXG5cdFx0XHRcdHJzdWJtaXR0YWJsZS50ZXN0KCB0aGlzLm5vZGVOYW1lICkgJiYgIXJzdWJtaXR0ZXJUeXBlcy50ZXN0KCB0eXBlICkgJiZcblx0XHRcdFx0KCB0aGlzLmNoZWNrZWQgfHwgIXJjaGVja2FibGVUeXBlLnRlc3QoIHR5cGUgKSApO1xuXHRcdH0pXG5cdFx0Lm1hcChmdW5jdGlvbiggaSwgZWxlbSApIHtcblx0XHRcdHZhciB2YWwgPSBqUXVlcnkoIHRoaXMgKS52YWwoKTtcblxuXHRcdFx0cmV0dXJuIHZhbCA9PSBudWxsID9cblx0XHRcdFx0bnVsbCA6XG5cdFx0XHRcdGpRdWVyeS5pc0FycmF5KCB2YWwgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcIlxcclxcblwiICkgfTtcblx0XHRcdFx0XHR9KSA6XG5cdFx0XHRcdFx0eyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZSggckNSTEYsIFwiXFxyXFxuXCIgKSB9O1xuXHRcdH0pLmdldCgpO1xuXHR9XG59KTtcblxuXG5qUXVlcnkuYWpheFNldHRpbmdzLnhociA9IGZ1bmN0aW9uKCkge1xuXHR0cnkge1xuXHRcdHJldHVybiBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0fSBjYXRjaCggZSApIHt9XG59O1xuXG52YXIgeGhySWQgPSAwLFxuXHR4aHJDYWxsYmFja3MgPSB7fSxcblx0eGhyU3VjY2Vzc1N0YXR1cyA9IHtcblx0XHQvLyBmaWxlIHByb3RvY29sIGFsd2F5cyB5aWVsZHMgc3RhdHVzIGNvZGUgMCwgYXNzdW1lIDIwMFxuXHRcdDA6IDIwMCxcblx0XHQvLyBTdXBwb3J0OiBJRTlcblx0XHQvLyAjMTQ1MDogc29tZXRpbWVzIElFIHJldHVybnMgMTIyMyB3aGVuIGl0IHNob3VsZCBiZSAyMDRcblx0XHQxMjIzOiAyMDRcblx0fSxcblx0eGhyU3VwcG9ydGVkID0galF1ZXJ5LmFqYXhTZXR0aW5ncy54aHIoKTtcblxuLy8gU3VwcG9ydDogSUU5XG4vLyBPcGVuIHJlcXVlc3RzIG11c3QgYmUgbWFudWFsbHkgYWJvcnRlZCBvbiB1bmxvYWQgKCM1MjgwKVxuLy8gU2VlIGh0dHBzOi8vc3VwcG9ydC5taWNyb3NvZnQuY29tL2tiLzI4NTY3NDYgZm9yIG1vcmUgaW5mb1xuaWYgKCB3aW5kb3cuYXR0YWNoRXZlbnQgKSB7XG5cdHdpbmRvdy5hdHRhY2hFdmVudCggXCJvbnVubG9hZFwiLCBmdW5jdGlvbigpIHtcblx0XHRmb3IgKCB2YXIga2V5IGluIHhockNhbGxiYWNrcyApIHtcblx0XHRcdHhockNhbGxiYWNrc1sga2V5IF0oKTtcblx0XHR9XG5cdH0pO1xufVxuXG5zdXBwb3J0LmNvcnMgPSAhIXhoclN1cHBvcnRlZCAmJiAoIFwid2l0aENyZWRlbnRpYWxzXCIgaW4geGhyU3VwcG9ydGVkICk7XG5zdXBwb3J0LmFqYXggPSB4aHJTdXBwb3J0ZWQgPSAhIXhoclN1cHBvcnRlZDtcblxualF1ZXJ5LmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdHZhciBjYWxsYmFjaztcblxuXHQvLyBDcm9zcyBkb21haW4gb25seSBhbGxvd2VkIGlmIHN1cHBvcnRlZCB0aHJvdWdoIFhNTEh0dHBSZXF1ZXN0XG5cdGlmICggc3VwcG9ydC5jb3JzIHx8IHhoclN1cHBvcnRlZCAmJiAhb3B0aW9ucy5jcm9zc0RvbWFpbiApIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c2VuZDogZnVuY3Rpb24oIGhlYWRlcnMsIGNvbXBsZXRlICkge1xuXHRcdFx0XHR2YXIgaSxcblx0XHRcdFx0XHR4aHIgPSBvcHRpb25zLnhocigpLFxuXHRcdFx0XHRcdGlkID0gKyt4aHJJZDtcblxuXHRcdFx0XHR4aHIub3Blbiggb3B0aW9ucy50eXBlLCBvcHRpb25zLnVybCwgb3B0aW9ucy5hc3luYywgb3B0aW9ucy51c2VybmFtZSwgb3B0aW9ucy5wYXNzd29yZCApO1xuXG5cdFx0XHRcdC8vIEFwcGx5IGN1c3RvbSBmaWVsZHMgaWYgcHJvdmlkZWRcblx0XHRcdFx0aWYgKCBvcHRpb25zLnhockZpZWxkcyApIHtcblx0XHRcdFx0XHRmb3IgKCBpIGluIG9wdGlvbnMueGhyRmllbGRzICkge1xuXHRcdFx0XHRcdFx0eGhyWyBpIF0gPSBvcHRpb25zLnhockZpZWxkc1sgaSBdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIE92ZXJyaWRlIG1pbWUgdHlwZSBpZiBuZWVkZWRcblx0XHRcdFx0aWYgKCBvcHRpb25zLm1pbWVUeXBlICYmIHhoci5vdmVycmlkZU1pbWVUeXBlICkge1xuXHRcdFx0XHRcdHhoci5vdmVycmlkZU1pbWVUeXBlKCBvcHRpb25zLm1pbWVUeXBlICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBYLVJlcXVlc3RlZC1XaXRoIGhlYWRlclxuXHRcdFx0XHQvLyBGb3IgY3Jvc3MtZG9tYWluIHJlcXVlc3RzLCBzZWVpbmcgYXMgY29uZGl0aW9ucyBmb3IgYSBwcmVmbGlnaHQgYXJlXG5cdFx0XHRcdC8vIGFraW4gdG8gYSBqaWdzYXcgcHV6emxlLCB3ZSBzaW1wbHkgbmV2ZXIgc2V0IGl0IHRvIGJlIHN1cmUuXG5cdFx0XHRcdC8vIChpdCBjYW4gYWx3YXlzIGJlIHNldCBvbiBhIHBlci1yZXF1ZXN0IGJhc2lzIG9yIGV2ZW4gdXNpbmcgYWpheFNldHVwKVxuXHRcdFx0XHQvLyBGb3Igc2FtZS1kb21haW4gcmVxdWVzdHMsIHdvbid0IGNoYW5nZSBoZWFkZXIgaWYgYWxyZWFkeSBwcm92aWRlZC5cblx0XHRcdFx0aWYgKCAhb3B0aW9ucy5jcm9zc0RvbWFpbiAmJiAhaGVhZGVyc1tcIlgtUmVxdWVzdGVkLVdpdGhcIl0gKSB7XG5cdFx0XHRcdFx0aGVhZGVyc1tcIlgtUmVxdWVzdGVkLVdpdGhcIl0gPSBcIlhNTEh0dHBSZXF1ZXN0XCI7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTZXQgaGVhZGVyc1xuXHRcdFx0XHRmb3IgKCBpIGluIGhlYWRlcnMgKSB7XG5cdFx0XHRcdFx0eGhyLnNldFJlcXVlc3RIZWFkZXIoIGksIGhlYWRlcnNbIGkgXSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ2FsbGJhY2tcblx0XHRcdFx0Y2FsbGJhY2sgPSBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdFx0XHRkZWxldGUgeGhyQ2FsbGJhY2tzWyBpZCBdO1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjayA9IHhoci5vbmxvYWQgPSB4aHIub25lcnJvciA9IG51bGw7XG5cblx0XHRcdFx0XHRcdFx0aWYgKCB0eXBlID09PSBcImFib3J0XCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0eGhyLmFib3J0KCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIHR5cGUgPT09IFwiZXJyb3JcIiApIHtcblx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZShcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGZpbGU6IHByb3RvY29sIGFsd2F5cyB5aWVsZHMgc3RhdHVzIDA7IHNlZSAjODYwNSwgIzE0MjA3XG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzLFxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyLnN0YXR1c1RleHRcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlKFxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyU3VjY2Vzc1N0YXR1c1sgeGhyLnN0YXR1cyBdIHx8IHhoci5zdGF0dXMsXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzVGV4dCxcblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFOVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gQWNjZXNzaW5nIGJpbmFyeS1kYXRhIHJlc3BvbnNlVGV4dCB0aHJvd3MgYW4gZXhjZXB0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyAoIzExNDI2KVxuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZW9mIHhoci5yZXNwb25zZVRleHQgPT09IFwic3RyaW5nXCIgPyB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRleHQ6IHhoci5yZXNwb25zZVRleHRcblx0XHRcdFx0XHRcdFx0XHRcdH0gOiB1bmRlZmluZWQsXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcblx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvLyBMaXN0ZW4gdG8gZXZlbnRzXG5cdFx0XHRcdHhoci5vbmxvYWQgPSBjYWxsYmFjaygpO1xuXHRcdFx0XHR4aHIub25lcnJvciA9IGNhbGxiYWNrKFwiZXJyb3JcIik7XG5cblx0XHRcdFx0Ly8gQ3JlYXRlIHRoZSBhYm9ydCBjYWxsYmFja1xuXHRcdFx0XHRjYWxsYmFjayA9IHhockNhbGxiYWNrc1sgaWQgXSA9IGNhbGxiYWNrKFwiYWJvcnRcIik7XG5cblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBEbyBzZW5kIHRoZSByZXF1ZXN0ICh0aGlzIG1heSByYWlzZSBhbiBleGNlcHRpb24pXG5cdFx0XHRcdFx0eGhyLnNlbmQoIG9wdGlvbnMuaGFzQ29udGVudCAmJiBvcHRpb25zLmRhdGEgfHwgbnVsbCApO1xuXHRcdFx0XHR9IGNhdGNoICggZSApIHtcblx0XHRcdFx0XHQvLyAjMTQ2ODM6IE9ubHkgcmV0aHJvdyBpZiB0aGlzIGhhc24ndCBiZWVuIG5vdGlmaWVkIGFzIGFuIGVycm9yIHlldFxuXHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSxcblxuXHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9XG59KTtcblxuXG5cblxuLy8gSW5zdGFsbCBzY3JpcHQgZGF0YVR5cGVcbmpRdWVyeS5hamF4U2V0dXAoe1xuXHRhY2NlcHRzOiB7XG5cdFx0c2NyaXB0OiBcInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0XCJcblx0fSxcblx0Y29udGVudHM6IHtcblx0XHRzY3JpcHQ6IC8oPzpqYXZhfGVjbWEpc2NyaXB0L1xuXHR9LFxuXHRjb252ZXJ0ZXJzOiB7XG5cdFx0XCJ0ZXh0IHNjcmlwdFwiOiBmdW5jdGlvbiggdGV4dCApIHtcblx0XHRcdGpRdWVyeS5nbG9iYWxFdmFsKCB0ZXh0ICk7XG5cdFx0XHRyZXR1cm4gdGV4dDtcblx0XHR9XG5cdH1cbn0pO1xuXG4vLyBIYW5kbGUgY2FjaGUncyBzcGVjaWFsIGNhc2UgYW5kIGNyb3NzRG9tYWluXG5qUXVlcnkuYWpheFByZWZpbHRlciggXCJzY3JpcHRcIiwgZnVuY3Rpb24oIHMgKSB7XG5cdGlmICggcy5jYWNoZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdHMuY2FjaGUgPSBmYWxzZTtcblx0fVxuXHRpZiAoIHMuY3Jvc3NEb21haW4gKSB7XG5cdFx0cy50eXBlID0gXCJHRVRcIjtcblx0fVxufSk7XG5cbi8vIEJpbmQgc2NyaXB0IHRhZyBoYWNrIHRyYW5zcG9ydFxualF1ZXJ5LmFqYXhUcmFuc3BvcnQoIFwic2NyaXB0XCIsIGZ1bmN0aW9uKCBzICkge1xuXHQvLyBUaGlzIHRyYW5zcG9ydCBvbmx5IGRlYWxzIHdpdGggY3Jvc3MgZG9tYWluIHJlcXVlc3RzXG5cdGlmICggcy5jcm9zc0RvbWFpbiApIHtcblx0XHR2YXIgc2NyaXB0LCBjYWxsYmFjaztcblx0XHRyZXR1cm4ge1xuXHRcdFx0c2VuZDogZnVuY3Rpb24oIF8sIGNvbXBsZXRlICkge1xuXHRcdFx0XHRzY3JpcHQgPSBqUXVlcnkoXCI8c2NyaXB0PlwiKS5wcm9wKHtcblx0XHRcdFx0XHRhc3luYzogdHJ1ZSxcblx0XHRcdFx0XHRjaGFyc2V0OiBzLnNjcmlwdENoYXJzZXQsXG5cdFx0XHRcdFx0c3JjOiBzLnVybFxuXHRcdFx0XHR9KS5vbihcblx0XHRcdFx0XHRcImxvYWQgZXJyb3JcIixcblx0XHRcdFx0XHRjYWxsYmFjayA9IGZ1bmN0aW9uKCBldnQgKSB7XG5cdFx0XHRcdFx0XHRzY3JpcHQucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRjYWxsYmFjayA9IG51bGw7XG5cdFx0XHRcdFx0XHRpZiAoIGV2dCApIHtcblx0XHRcdFx0XHRcdFx0Y29tcGxldGUoIGV2dC50eXBlID09PSBcImVycm9yXCIgPyA0MDQgOiAyMDAsIGV2dC50eXBlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQpO1xuXHRcdFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKCBzY3JpcHRbIDAgXSApO1xuXHRcdFx0fSxcblx0XHRcdGFib3J0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxufSk7XG5cblxuXG5cbnZhciBvbGRDYWxsYmFja3MgPSBbXSxcblx0cmpzb25wID0gLyg9KVxcPyg/PSZ8JCl8XFw/XFw/LztcblxuLy8gRGVmYXVsdCBqc29ucCBzZXR0aW5nc1xualF1ZXJ5LmFqYXhTZXR1cCh7XG5cdGpzb25wOiBcImNhbGxiYWNrXCIsXG5cdGpzb25wQ2FsbGJhY2s6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBjYWxsYmFjayA9IG9sZENhbGxiYWNrcy5wb3AoKSB8fCAoIGpRdWVyeS5leHBhbmRvICsgXCJfXCIgKyAoIG5vbmNlKysgKSApO1xuXHRcdHRoaXNbIGNhbGxiYWNrIF0gPSB0cnVlO1xuXHRcdHJldHVybiBjYWxsYmFjaztcblx0fVxufSk7XG5cbi8vIERldGVjdCwgbm9ybWFsaXplIG9wdGlvbnMgYW5kIGluc3RhbGwgY2FsbGJhY2tzIGZvciBqc29ucCByZXF1ZXN0c1xualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwianNvbiBqc29ucFwiLCBmdW5jdGlvbiggcywgb3JpZ2luYWxTZXR0aW5ncywganFYSFIgKSB7XG5cblx0dmFyIGNhbGxiYWNrTmFtZSwgb3ZlcndyaXR0ZW4sIHJlc3BvbnNlQ29udGFpbmVyLFxuXHRcdGpzb25Qcm9wID0gcy5qc29ucCAhPT0gZmFsc2UgJiYgKCByanNvbnAudGVzdCggcy51cmwgKSA/XG5cdFx0XHRcInVybFwiIDpcblx0XHRcdHR5cGVvZiBzLmRhdGEgPT09IFwic3RyaW5nXCIgJiYgISggcy5jb250ZW50VHlwZSB8fCBcIlwiICkuaW5kZXhPZihcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKSAmJiByanNvbnAudGVzdCggcy5kYXRhICkgJiYgXCJkYXRhXCJcblx0XHQpO1xuXG5cdC8vIEhhbmRsZSBpZmYgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZSBpcyBcImpzb25wXCIgb3Igd2UgaGF2ZSBhIHBhcmFtZXRlciB0byBzZXRcblx0aWYgKCBqc29uUHJvcCB8fCBzLmRhdGFUeXBlc1sgMCBdID09PSBcImpzb25wXCIgKSB7XG5cblx0XHQvLyBHZXQgY2FsbGJhY2sgbmFtZSwgcmVtZW1iZXJpbmcgcHJlZXhpc3RpbmcgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIGl0XG5cdFx0Y2FsbGJhY2tOYW1lID0gcy5qc29ucENhbGxiYWNrID0galF1ZXJ5LmlzRnVuY3Rpb24oIHMuanNvbnBDYWxsYmFjayApID9cblx0XHRcdHMuanNvbnBDYWxsYmFjaygpIDpcblx0XHRcdHMuanNvbnBDYWxsYmFjaztcblxuXHRcdC8vIEluc2VydCBjYWxsYmFjayBpbnRvIHVybCBvciBmb3JtIGRhdGFcblx0XHRpZiAoIGpzb25Qcm9wICkge1xuXHRcdFx0c1sganNvblByb3AgXSA9IHNbIGpzb25Qcm9wIF0ucmVwbGFjZSggcmpzb25wLCBcIiQxXCIgKyBjYWxsYmFja05hbWUgKTtcblx0XHR9IGVsc2UgaWYgKCBzLmpzb25wICE9PSBmYWxzZSApIHtcblx0XHRcdHMudXJsICs9ICggcnF1ZXJ5LnRlc3QoIHMudXJsICkgPyBcIiZcIiA6IFwiP1wiICkgKyBzLmpzb25wICsgXCI9XCIgKyBjYWxsYmFja05hbWU7XG5cdFx0fVxuXG5cdFx0Ly8gVXNlIGRhdGEgY29udmVydGVyIHRvIHJldHJpZXZlIGpzb24gYWZ0ZXIgc2NyaXB0IGV4ZWN1dGlvblxuXHRcdHMuY29udmVydGVyc1tcInNjcmlwdCBqc29uXCJdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICFyZXNwb25zZUNvbnRhaW5lciApIHtcblx0XHRcdFx0alF1ZXJ5LmVycm9yKCBjYWxsYmFja05hbWUgKyBcIiB3YXMgbm90IGNhbGxlZFwiICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzcG9uc2VDb250YWluZXJbIDAgXTtcblx0XHR9O1xuXG5cdFx0Ly8gZm9yY2UganNvbiBkYXRhVHlwZVxuXHRcdHMuZGF0YVR5cGVzWyAwIF0gPSBcImpzb25cIjtcblxuXHRcdC8vIEluc3RhbGwgY2FsbGJhY2tcblx0XHRvdmVyd3JpdHRlbiA9IHdpbmRvd1sgY2FsbGJhY2tOYW1lIF07XG5cdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmVzcG9uc2VDb250YWluZXIgPSBhcmd1bWVudHM7XG5cdFx0fTtcblxuXHRcdC8vIENsZWFuLXVwIGZ1bmN0aW9uIChmaXJlcyBhZnRlciBjb252ZXJ0ZXJzKVxuXHRcdGpxWEhSLmFsd2F5cyhmdW5jdGlvbigpIHtcblx0XHRcdC8vIFJlc3RvcmUgcHJlZXhpc3RpbmcgdmFsdWVcblx0XHRcdHdpbmRvd1sgY2FsbGJhY2tOYW1lIF0gPSBvdmVyd3JpdHRlbjtcblxuXHRcdFx0Ly8gU2F2ZSBiYWNrIGFzIGZyZWVcblx0XHRcdGlmICggc1sgY2FsbGJhY2tOYW1lIF0gKSB7XG5cdFx0XHRcdC8vIG1ha2Ugc3VyZSB0aGF0IHJlLXVzaW5nIHRoZSBvcHRpb25zIGRvZXNuJ3Qgc2NyZXcgdGhpbmdzIGFyb3VuZFxuXHRcdFx0XHRzLmpzb25wQ2FsbGJhY2sgPSBvcmlnaW5hbFNldHRpbmdzLmpzb25wQ2FsbGJhY2s7XG5cblx0XHRcdFx0Ly8gc2F2ZSB0aGUgY2FsbGJhY2sgbmFtZSBmb3IgZnV0dXJlIHVzZVxuXHRcdFx0XHRvbGRDYWxsYmFja3MucHVzaCggY2FsbGJhY2tOYW1lICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENhbGwgaWYgaXQgd2FzIGEgZnVuY3Rpb24gYW5kIHdlIGhhdmUgYSByZXNwb25zZVxuXHRcdFx0aWYgKCByZXNwb25zZUNvbnRhaW5lciAmJiBqUXVlcnkuaXNGdW5jdGlvbiggb3ZlcndyaXR0ZW4gKSApIHtcblx0XHRcdFx0b3ZlcndyaXR0ZW4oIHJlc3BvbnNlQ29udGFpbmVyWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0cmVzcG9uc2VDb250YWluZXIgPSBvdmVyd3JpdHRlbiA9IHVuZGVmaW5lZDtcblx0XHR9KTtcblxuXHRcdC8vIERlbGVnYXRlIHRvIHNjcmlwdFxuXHRcdHJldHVybiBcInNjcmlwdFwiO1xuXHR9XG59KTtcblxuXG5cblxuLy8gZGF0YTogc3RyaW5nIG9mIGh0bWxcbi8vIGNvbnRleHQgKG9wdGlvbmFsKTogSWYgc3BlY2lmaWVkLCB0aGUgZnJhZ21lbnQgd2lsbCBiZSBjcmVhdGVkIGluIHRoaXMgY29udGV4dCwgZGVmYXVsdHMgdG8gZG9jdW1lbnRcbi8vIGtlZXBTY3JpcHRzIChvcHRpb25hbCk6IElmIHRydWUsIHdpbGwgaW5jbHVkZSBzY3JpcHRzIHBhc3NlZCBpbiB0aGUgaHRtbCBzdHJpbmdcbmpRdWVyeS5wYXJzZUhUTUwgPSBmdW5jdGlvbiggZGF0YSwgY29udGV4dCwga2VlcFNjcmlwdHMgKSB7XG5cdGlmICggIWRhdGEgfHwgdHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblx0aWYgKCB0eXBlb2YgY29udGV4dCA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0a2VlcFNjcmlwdHMgPSBjb250ZXh0O1xuXHRcdGNvbnRleHQgPSBmYWxzZTtcblx0fVxuXHRjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDtcblxuXHR2YXIgcGFyc2VkID0gcnNpbmdsZVRhZy5leGVjKCBkYXRhICksXG5cdFx0c2NyaXB0cyA9ICFrZWVwU2NyaXB0cyAmJiBbXTtcblxuXHQvLyBTaW5nbGUgdGFnXG5cdGlmICggcGFyc2VkICkge1xuXHRcdHJldHVybiBbIGNvbnRleHQuY3JlYXRlRWxlbWVudCggcGFyc2VkWzFdICkgXTtcblx0fVxuXG5cdHBhcnNlZCA9IGpRdWVyeS5idWlsZEZyYWdtZW50KCBbIGRhdGEgXSwgY29udGV4dCwgc2NyaXB0cyApO1xuXG5cdGlmICggc2NyaXB0cyAmJiBzY3JpcHRzLmxlbmd0aCApIHtcblx0XHRqUXVlcnkoIHNjcmlwdHMgKS5yZW1vdmUoKTtcblx0fVxuXG5cdHJldHVybiBqUXVlcnkubWVyZ2UoIFtdLCBwYXJzZWQuY2hpbGROb2RlcyApO1xufTtcblxuXG4vLyBLZWVwIGEgY29weSBvZiB0aGUgb2xkIGxvYWQgbWV0aG9kXG52YXIgX2xvYWQgPSBqUXVlcnkuZm4ubG9hZDtcblxuLyoqXG4gKiBMb2FkIGEgdXJsIGludG8gYSBwYWdlXG4gKi9cbmpRdWVyeS5mbi5sb2FkID0gZnVuY3Rpb24oIHVybCwgcGFyYW1zLCBjYWxsYmFjayApIHtcblx0aWYgKCB0eXBlb2YgdXJsICE9PSBcInN0cmluZ1wiICYmIF9sb2FkICkge1xuXHRcdHJldHVybiBfbG9hZC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdH1cblxuXHR2YXIgc2VsZWN0b3IsIHR5cGUsIHJlc3BvbnNlLFxuXHRcdHNlbGYgPSB0aGlzLFxuXHRcdG9mZiA9IHVybC5pbmRleE9mKFwiIFwiKTtcblxuXHRpZiAoIG9mZiA+PSAwICkge1xuXHRcdHNlbGVjdG9yID0galF1ZXJ5LnRyaW0oIHVybC5zbGljZSggb2ZmICkgKTtcblx0XHR1cmwgPSB1cmwuc2xpY2UoIDAsIG9mZiApO1xuXHR9XG5cblx0Ly8gSWYgaXQncyBhIGZ1bmN0aW9uXG5cdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHBhcmFtcyApICkge1xuXG5cdFx0Ly8gV2UgYXNzdW1lIHRoYXQgaXQncyB0aGUgY2FsbGJhY2tcblx0XHRjYWxsYmFjayA9IHBhcmFtcztcblx0XHRwYXJhbXMgPSB1bmRlZmluZWQ7XG5cblx0Ly8gT3RoZXJ3aXNlLCBidWlsZCBhIHBhcmFtIHN0cmluZ1xuXHR9IGVsc2UgaWYgKCBwYXJhbXMgJiYgdHlwZW9mIHBhcmFtcyA9PT0gXCJvYmplY3RcIiApIHtcblx0XHR0eXBlID0gXCJQT1NUXCI7XG5cdH1cblxuXHQvLyBJZiB3ZSBoYXZlIGVsZW1lbnRzIHRvIG1vZGlmeSwgbWFrZSB0aGUgcmVxdWVzdFxuXHRpZiAoIHNlbGYubGVuZ3RoID4gMCApIHtcblx0XHRqUXVlcnkuYWpheCh7XG5cdFx0XHR1cmw6IHVybCxcblxuXHRcdFx0Ly8gaWYgXCJ0eXBlXCIgdmFyaWFibGUgaXMgdW5kZWZpbmVkLCB0aGVuIFwiR0VUXCIgbWV0aG9kIHdpbGwgYmUgdXNlZFxuXHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdGRhdGFUeXBlOiBcImh0bWxcIixcblx0XHRcdGRhdGE6IHBhcmFtc1xuXHRcdH0pLmRvbmUoZnVuY3Rpb24oIHJlc3BvbnNlVGV4dCApIHtcblxuXHRcdFx0Ly8gU2F2ZSByZXNwb25zZSBmb3IgdXNlIGluIGNvbXBsZXRlIGNhbGxiYWNrXG5cdFx0XHRyZXNwb25zZSA9IGFyZ3VtZW50cztcblxuXHRcdFx0c2VsZi5odG1sKCBzZWxlY3RvciA/XG5cblx0XHRcdFx0Ly8gSWYgYSBzZWxlY3RvciB3YXMgc3BlY2lmaWVkLCBsb2NhdGUgdGhlIHJpZ2h0IGVsZW1lbnRzIGluIGEgZHVtbXkgZGl2XG5cdFx0XHRcdC8vIEV4Y2x1ZGUgc2NyaXB0cyB0byBhdm9pZCBJRSAnUGVybWlzc2lvbiBEZW5pZWQnIGVycm9yc1xuXHRcdFx0XHRqUXVlcnkoXCI8ZGl2PlwiKS5hcHBlbmQoIGpRdWVyeS5wYXJzZUhUTUwoIHJlc3BvbnNlVGV4dCApICkuZmluZCggc2VsZWN0b3IgKSA6XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIHVzZSB0aGUgZnVsbCByZXN1bHRcblx0XHRcdFx0cmVzcG9uc2VUZXh0ICk7XG5cblx0XHR9KS5jb21wbGV0ZSggY2FsbGJhY2sgJiYgZnVuY3Rpb24oIGpxWEhSLCBzdGF0dXMgKSB7XG5cdFx0XHRzZWxmLmVhY2goIGNhbGxiYWNrLCByZXNwb25zZSB8fCBbIGpxWEhSLnJlc3BvbnNlVGV4dCwgc3RhdHVzLCBqcVhIUiBdICk7XG5cdFx0fSk7XG5cdH1cblxuXHRyZXR1cm4gdGhpcztcbn07XG5cblxuXG5cbi8vIEF0dGFjaCBhIGJ1bmNoIG9mIGZ1bmN0aW9ucyBmb3IgaGFuZGxpbmcgY29tbW9uIEFKQVggZXZlbnRzXG5qUXVlcnkuZWFjaCggWyBcImFqYXhTdGFydFwiLCBcImFqYXhTdG9wXCIsIFwiYWpheENvbXBsZXRlXCIsIFwiYWpheEVycm9yXCIsIFwiYWpheFN1Y2Nlc3NcIiwgXCJhamF4U2VuZFwiIF0sIGZ1bmN0aW9uKCBpLCB0eXBlICkge1xuXHRqUXVlcnkuZm5bIHR5cGUgXSA9IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZSwgZm4gKTtcblx0fTtcbn0pO1xuXG5cblxuXG5qUXVlcnkuZXhwci5maWx0ZXJzLmFuaW1hdGVkID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdHJldHVybiBqUXVlcnkuZ3JlcChqUXVlcnkudGltZXJzLCBmdW5jdGlvbiggZm4gKSB7XG5cdFx0cmV0dXJuIGVsZW0gPT09IGZuLmVsZW07XG5cdH0pLmxlbmd0aDtcbn07XG5cblxuXG5cbnZhciBkb2NFbGVtID0gd2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuLyoqXG4gKiBHZXRzIGEgd2luZG93IGZyb20gYW4gZWxlbWVudFxuICovXG5mdW5jdGlvbiBnZXRXaW5kb3coIGVsZW0gKSB7XG5cdHJldHVybiBqUXVlcnkuaXNXaW5kb3coIGVsZW0gKSA/IGVsZW0gOiBlbGVtLm5vZGVUeXBlID09PSA5ICYmIGVsZW0uZGVmYXVsdFZpZXc7XG59XG5cbmpRdWVyeS5vZmZzZXQgPSB7XG5cdHNldE9mZnNldDogZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIGkgKSB7XG5cdFx0dmFyIGN1clBvc2l0aW9uLCBjdXJMZWZ0LCBjdXJDU1NUb3AsIGN1clRvcCwgY3VyT2Zmc2V0LCBjdXJDU1NMZWZ0LCBjYWxjdWxhdGVQb3NpdGlvbixcblx0XHRcdHBvc2l0aW9uID0galF1ZXJ5LmNzcyggZWxlbSwgXCJwb3NpdGlvblwiICksXG5cdFx0XHRjdXJFbGVtID0galF1ZXJ5KCBlbGVtICksXG5cdFx0XHRwcm9wcyA9IHt9O1xuXG5cdFx0Ly8gU2V0IHBvc2l0aW9uIGZpcnN0LCBpbi1jYXNlIHRvcC9sZWZ0IGFyZSBzZXQgZXZlbiBvbiBzdGF0aWMgZWxlbVxuXHRcdGlmICggcG9zaXRpb24gPT09IFwic3RhdGljXCIgKSB7XG5cdFx0XHRlbGVtLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuXHRcdH1cblxuXHRcdGN1ck9mZnNldCA9IGN1ckVsZW0ub2Zmc2V0KCk7XG5cdFx0Y3VyQ1NTVG9wID0galF1ZXJ5LmNzcyggZWxlbSwgXCJ0b3BcIiApO1xuXHRcdGN1ckNTU0xlZnQgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImxlZnRcIiApO1xuXHRcdGNhbGN1bGF0ZVBvc2l0aW9uID0gKCBwb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiIHx8IHBvc2l0aW9uID09PSBcImZpeGVkXCIgKSAmJlxuXHRcdFx0KCBjdXJDU1NUb3AgKyBjdXJDU1NMZWZ0ICkuaW5kZXhPZihcImF1dG9cIikgPiAtMTtcblxuXHRcdC8vIE5lZWQgdG8gYmUgYWJsZSB0byBjYWxjdWxhdGUgcG9zaXRpb24gaWYgZWl0aGVyXG5cdFx0Ly8gdG9wIG9yIGxlZnQgaXMgYXV0byBhbmQgcG9zaXRpb24gaXMgZWl0aGVyIGFic29sdXRlIG9yIGZpeGVkXG5cdFx0aWYgKCBjYWxjdWxhdGVQb3NpdGlvbiApIHtcblx0XHRcdGN1clBvc2l0aW9uID0gY3VyRWxlbS5wb3NpdGlvbigpO1xuXHRcdFx0Y3VyVG9wID0gY3VyUG9zaXRpb24udG9wO1xuXHRcdFx0Y3VyTGVmdCA9IGN1clBvc2l0aW9uLmxlZnQ7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y3VyVG9wID0gcGFyc2VGbG9hdCggY3VyQ1NTVG9wICkgfHwgMDtcblx0XHRcdGN1ckxlZnQgPSBwYXJzZUZsb2F0KCBjdXJDU1NMZWZ0ICkgfHwgMDtcblx0XHR9XG5cblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBvcHRpb25zICkgKSB7XG5cdFx0XHRvcHRpb25zID0gb3B0aW9ucy5jYWxsKCBlbGVtLCBpLCBjdXJPZmZzZXQgKTtcblx0XHR9XG5cblx0XHRpZiAoIG9wdGlvbnMudG9wICE9IG51bGwgKSB7XG5cdFx0XHRwcm9wcy50b3AgPSAoIG9wdGlvbnMudG9wIC0gY3VyT2Zmc2V0LnRvcCApICsgY3VyVG9wO1xuXHRcdH1cblx0XHRpZiAoIG9wdGlvbnMubGVmdCAhPSBudWxsICkge1xuXHRcdFx0cHJvcHMubGVmdCA9ICggb3B0aW9ucy5sZWZ0IC0gY3VyT2Zmc2V0LmxlZnQgKSArIGN1ckxlZnQ7XG5cdFx0fVxuXG5cdFx0aWYgKCBcInVzaW5nXCIgaW4gb3B0aW9ucyApIHtcblx0XHRcdG9wdGlvbnMudXNpbmcuY2FsbCggZWxlbSwgcHJvcHMgKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjdXJFbGVtLmNzcyggcHJvcHMgKTtcblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5mbi5leHRlbmQoe1xuXHRvZmZzZXQ6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiBvcHRpb25zID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHR0aGlzIDpcblx0XHRcdFx0dGhpcy5lYWNoKGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRcdGpRdWVyeS5vZmZzZXQuc2V0T2Zmc2V0KCB0aGlzLCBvcHRpb25zLCBpICk7XG5cdFx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHZhciBkb2NFbGVtLCB3aW4sXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdLFxuXHRcdFx0Ym94ID0geyB0b3A6IDAsIGxlZnQ6IDAgfSxcblx0XHRcdGRvYyA9IGVsZW0gJiYgZWxlbS5vd25lckRvY3VtZW50O1xuXG5cdFx0aWYgKCAhZG9jICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuXG5cdFx0Ly8gTWFrZSBzdXJlIGl0J3Mgbm90IGEgZGlzY29ubmVjdGVkIERPTSBub2RlXG5cdFx0aWYgKCAhalF1ZXJ5LmNvbnRhaW5zKCBkb2NFbGVtLCBlbGVtICkgKSB7XG5cdFx0XHRyZXR1cm4gYm94O1xuXHRcdH1cblxuXHRcdC8vIFN1cHBvcnQ6IEJsYWNrQmVycnkgNSwgaU9TIDMgKG9yaWdpbmFsIGlQaG9uZSlcblx0XHQvLyBJZiB3ZSBkb24ndCBoYXZlIGdCQ1IsIGp1c3QgdXNlIDAsMCByYXRoZXIgdGhhbiBlcnJvclxuXHRcdGlmICggdHlwZW9mIGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0ICE9PSBzdHJ1bmRlZmluZWQgKSB7XG5cdFx0XHRib3ggPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdH1cblx0XHR3aW4gPSBnZXRXaW5kb3coIGRvYyApO1xuXHRcdHJldHVybiB7XG5cdFx0XHR0b3A6IGJveC50b3AgKyB3aW4ucGFnZVlPZmZzZXQgLSBkb2NFbGVtLmNsaWVudFRvcCxcblx0XHRcdGxlZnQ6IGJveC5sZWZ0ICsgd2luLnBhZ2VYT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRMZWZ0XG5cdFx0fTtcblx0fSxcblxuXHRwb3NpdGlvbjogZnVuY3Rpb24oKSB7XG5cdFx0aWYgKCAhdGhpc1sgMCBdICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBvZmZzZXRQYXJlbnQsIG9mZnNldCxcblx0XHRcdGVsZW0gPSB0aGlzWyAwIF0sXG5cdFx0XHRwYXJlbnRPZmZzZXQgPSB7IHRvcDogMCwgbGVmdDogMCB9O1xuXG5cdFx0Ly8gRml4ZWQgZWxlbWVudHMgYXJlIG9mZnNldCBmcm9tIHdpbmRvdyAocGFyZW50T2Zmc2V0ID0ge3RvcDowLCBsZWZ0OiAwfSwgYmVjYXVzZSBpdCBpcyBpdHMgb25seSBvZmZzZXQgcGFyZW50XG5cdFx0aWYgKCBqUXVlcnkuY3NzKCBlbGVtLCBcInBvc2l0aW9uXCIgKSA9PT0gXCJmaXhlZFwiICkge1xuXHRcdFx0Ly8gQXNzdW1lIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBpcyB0aGVyZSB3aGVuIGNvbXB1dGVkIHBvc2l0aW9uIGlzIGZpeGVkXG5cdFx0XHRvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEdldCAqcmVhbCogb2Zmc2V0UGFyZW50XG5cdFx0XHRvZmZzZXRQYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudCgpO1xuXG5cdFx0XHQvLyBHZXQgY29ycmVjdCBvZmZzZXRzXG5cdFx0XHRvZmZzZXQgPSB0aGlzLm9mZnNldCgpO1xuXHRcdFx0aWYgKCAhalF1ZXJ5Lm5vZGVOYW1lKCBvZmZzZXRQYXJlbnRbIDAgXSwgXCJodG1sXCIgKSApIHtcblx0XHRcdFx0cGFyZW50T2Zmc2V0ID0gb2Zmc2V0UGFyZW50Lm9mZnNldCgpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBZGQgb2Zmc2V0UGFyZW50IGJvcmRlcnNcblx0XHRcdHBhcmVudE9mZnNldC50b3AgKz0galF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50WyAwIF0sIFwiYm9yZGVyVG9wV2lkdGhcIiwgdHJ1ZSApO1xuXHRcdFx0cGFyZW50T2Zmc2V0LmxlZnQgKz0galF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50WyAwIF0sIFwiYm9yZGVyTGVmdFdpZHRoXCIsIHRydWUgKTtcblx0XHR9XG5cblx0XHQvLyBTdWJ0cmFjdCBwYXJlbnQgb2Zmc2V0cyBhbmQgZWxlbWVudCBtYXJnaW5zXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogb2Zmc2V0LnRvcCAtIHBhcmVudE9mZnNldC50b3AgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpblRvcFwiLCB0cnVlICksXG5cdFx0XHRsZWZ0OiBvZmZzZXQubGVmdCAtIHBhcmVudE9mZnNldC5sZWZ0IC0galF1ZXJ5LmNzcyggZWxlbSwgXCJtYXJnaW5MZWZ0XCIsIHRydWUgKVxuXHRcdH07XG5cdH0sXG5cblx0b2Zmc2V0UGFyZW50OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgb2Zmc2V0UGFyZW50ID0gdGhpcy5vZmZzZXRQYXJlbnQgfHwgZG9jRWxlbTtcblxuXHRcdFx0d2hpbGUgKCBvZmZzZXRQYXJlbnQgJiYgKCAhalF1ZXJ5Lm5vZGVOYW1lKCBvZmZzZXRQYXJlbnQsIFwiaHRtbFwiICkgJiYgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcInBvc2l0aW9uXCIgKSA9PT0gXCJzdGF0aWNcIiApICkge1xuXHRcdFx0XHRvZmZzZXRQYXJlbnQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0UGFyZW50O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGRvY0VsZW07XG5cdFx0fSk7XG5cdH1cbn0pO1xuXG4vLyBDcmVhdGUgc2Nyb2xsTGVmdCBhbmQgc2Nyb2xsVG9wIG1ldGhvZHNcbmpRdWVyeS5lYWNoKCB7IHNjcm9sbExlZnQ6IFwicGFnZVhPZmZzZXRcIiwgc2Nyb2xsVG9wOiBcInBhZ2VZT2Zmc2V0XCIgfSwgZnVuY3Rpb24oIG1ldGhvZCwgcHJvcCApIHtcblx0dmFyIHRvcCA9IFwicGFnZVlPZmZzZXRcIiA9PT0gcHJvcDtcblxuXHRqUXVlcnkuZm5bIG1ldGhvZCBdID0gZnVuY3Rpb24oIHZhbCApIHtcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgbWV0aG9kLCB2YWwgKSB7XG5cdFx0XHR2YXIgd2luID0gZ2V0V2luZG93KCBlbGVtICk7XG5cblx0XHRcdGlmICggdmFsID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiB3aW4gPyB3aW5bIHByb3AgXSA6IGVsZW1bIG1ldGhvZCBdO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHdpbiApIHtcblx0XHRcdFx0d2luLnNjcm9sbFRvKFxuXHRcdFx0XHRcdCF0b3AgPyB2YWwgOiB3aW5kb3cucGFnZVhPZmZzZXQsXG5cdFx0XHRcdFx0dG9wID8gdmFsIDogd2luZG93LnBhZ2VZT2Zmc2V0XG5cdFx0XHRcdCk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW1bIG1ldGhvZCBdID0gdmFsO1xuXHRcdFx0fVxuXHRcdH0sIG1ldGhvZCwgdmFsLCBhcmd1bWVudHMubGVuZ3RoLCBudWxsICk7XG5cdH07XG59KTtcblxuLy8gU3VwcG9ydDogU2FmYXJpPDcrLCBDaHJvbWU8MzcrXG4vLyBBZGQgdGhlIHRvcC9sZWZ0IGNzc0hvb2tzIHVzaW5nIGpRdWVyeS5mbi5wb3NpdGlvblxuLy8gV2Via2l0IGJ1ZzogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTI5MDg0XG4vLyBCbGluayBidWc6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yMjkyODBcbi8vIGdldENvbXB1dGVkU3R5bGUgcmV0dXJucyBwZXJjZW50IHdoZW4gc3BlY2lmaWVkIGZvciB0b3AvbGVmdC9ib3R0b20vcmlnaHQ7XG4vLyByYXRoZXIgdGhhbiBtYWtlIHRoZSBjc3MgbW9kdWxlIGRlcGVuZCBvbiB0aGUgb2Zmc2V0IG1vZHVsZSwganVzdCBjaGVjayBmb3IgaXQgaGVyZVxualF1ZXJ5LmVhY2goIFsgXCJ0b3BcIiwgXCJsZWZ0XCIgXSwgZnVuY3Rpb24oIGksIHByb3AgKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgcHJvcCBdID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnBpeGVsUG9zaXRpb24sXG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRcdFx0Y29tcHV0ZWQgPSBjdXJDU1MoIGVsZW0sIHByb3AgKTtcblx0XHRcdFx0Ly8gSWYgY3VyQ1NTIHJldHVybnMgcGVyY2VudGFnZSwgZmFsbGJhY2sgdG8gb2Zmc2V0XG5cdFx0XHRcdHJldHVybiBybnVtbm9ucHgudGVzdCggY29tcHV0ZWQgKSA/XG5cdFx0XHRcdFx0alF1ZXJ5KCBlbGVtICkucG9zaXRpb24oKVsgcHJvcCBdICsgXCJweFwiIDpcblx0XHRcdFx0XHRjb21wdXRlZDtcblx0XHRcdH1cblx0XHR9XG5cdCk7XG59KTtcblxuXG4vLyBDcmVhdGUgaW5uZXJIZWlnaHQsIGlubmVyV2lkdGgsIGhlaWdodCwgd2lkdGgsIG91dGVySGVpZ2h0IGFuZCBvdXRlcldpZHRoIG1ldGhvZHNcbmpRdWVyeS5lYWNoKCB7IEhlaWdodDogXCJoZWlnaHRcIiwgV2lkdGg6IFwid2lkdGhcIiB9LCBmdW5jdGlvbiggbmFtZSwgdHlwZSApIHtcblx0alF1ZXJ5LmVhY2goIHsgcGFkZGluZzogXCJpbm5lclwiICsgbmFtZSwgY29udGVudDogdHlwZSwgXCJcIjogXCJvdXRlclwiICsgbmFtZSB9LCBmdW5jdGlvbiggZGVmYXVsdEV4dHJhLCBmdW5jTmFtZSApIHtcblx0XHQvLyBNYXJnaW4gaXMgb25seSBmb3Igb3V0ZXJIZWlnaHQsIG91dGVyV2lkdGhcblx0XHRqUXVlcnkuZm5bIGZ1bmNOYW1lIF0gPSBmdW5jdGlvbiggbWFyZ2luLCB2YWx1ZSApIHtcblx0XHRcdHZhciBjaGFpbmFibGUgPSBhcmd1bWVudHMubGVuZ3RoICYmICggZGVmYXVsdEV4dHJhIHx8IHR5cGVvZiBtYXJnaW4gIT09IFwiYm9vbGVhblwiICksXG5cdFx0XHRcdGV4dHJhID0gZGVmYXVsdEV4dHJhIHx8ICggbWFyZ2luID09PSB0cnVlIHx8IHZhbHVlID09PSB0cnVlID8gXCJtYXJnaW5cIiA6IFwiYm9yZGVyXCIgKTtcblxuXHRcdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIHR5cGUsIHZhbHVlICkge1xuXHRcdFx0XHR2YXIgZG9jO1xuXG5cdFx0XHRcdGlmICggalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XG5cdFx0XHRcdFx0Ly8gQXMgb2YgNS84LzIwMTIgdGhpcyB3aWxsIHlpZWxkIGluY29ycmVjdCByZXN1bHRzIGZvciBNb2JpbGUgU2FmYXJpLCBidXQgdGhlcmVcblx0XHRcdFx0XHQvLyBpc24ndCBhIHdob2xlIGxvdCB3ZSBjYW4gZG8uIFNlZSBwdWxsIHJlcXVlc3QgYXQgdGhpcyBVUkwgZm9yIGRpc2N1c3Npb246XG5cdFx0XHRcdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnkvcHVsbC83NjRcblx0XHRcdFx0XHRyZXR1cm4gZWxlbS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbIFwiY2xpZW50XCIgKyBuYW1lIF07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBHZXQgZG9jdW1lbnQgd2lkdGggb3IgaGVpZ2h0XG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHRkb2MgPSBlbGVtLmRvY3VtZW50RWxlbWVudDtcblxuXHRcdFx0XHRcdC8vIEVpdGhlciBzY3JvbGxbV2lkdGgvSGVpZ2h0XSBvciBvZmZzZXRbV2lkdGgvSGVpZ2h0XSBvciBjbGllbnRbV2lkdGgvSGVpZ2h0XSxcblx0XHRcdFx0XHQvLyB3aGljaGV2ZXIgaXMgZ3JlYXRlc3Rcblx0XHRcdFx0XHRyZXR1cm4gTWF0aC5tYXgoXG5cdFx0XHRcdFx0XHRlbGVtLmJvZHlbIFwic2Nyb2xsXCIgKyBuYW1lIF0sIGRvY1sgXCJzY3JvbGxcIiArIG5hbWUgXSxcblx0XHRcdFx0XHRcdGVsZW0uYm9keVsgXCJvZmZzZXRcIiArIG5hbWUgXSwgZG9jWyBcIm9mZnNldFwiICsgbmFtZSBdLFxuXHRcdFx0XHRcdFx0ZG9jWyBcImNsaWVudFwiICsgbmFtZSBdXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdFx0XHQvLyBHZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50LCByZXF1ZXN0aW5nIGJ1dCBub3QgZm9yY2luZyBwYXJzZUZsb2F0XG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgdHlwZSwgZXh0cmEgKSA6XG5cblx0XHRcdFx0XHQvLyBTZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50XG5cdFx0XHRcdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCB0eXBlLCB2YWx1ZSwgZXh0cmEgKTtcblx0XHRcdH0sIHR5cGUsIGNoYWluYWJsZSA/IG1hcmdpbiA6IHVuZGVmaW5lZCwgY2hhaW5hYmxlLCBudWxsICk7XG5cdFx0fTtcblx0fSk7XG59KTtcblxuXG4vLyBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIGNvbnRhaW5lZCBpbiB0aGUgbWF0Y2hlZCBlbGVtZW50IHNldFxualF1ZXJ5LmZuLnNpemUgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXMubGVuZ3RoO1xufTtcblxualF1ZXJ5LmZuLmFuZFNlbGYgPSBqUXVlcnkuZm4uYWRkQmFjaztcblxuXG5cblxuLy8gUmVnaXN0ZXIgYXMgYSBuYW1lZCBBTUQgbW9kdWxlLCBzaW5jZSBqUXVlcnkgY2FuIGJlIGNvbmNhdGVuYXRlZCB3aXRoIG90aGVyXG4vLyBmaWxlcyB0aGF0IG1heSB1c2UgZGVmaW5lLCBidXQgbm90IHZpYSBhIHByb3BlciBjb25jYXRlbmF0aW9uIHNjcmlwdCB0aGF0XG4vLyB1bmRlcnN0YW5kcyBhbm9ueW1vdXMgQU1EIG1vZHVsZXMuIEEgbmFtZWQgQU1EIGlzIHNhZmVzdCBhbmQgbW9zdCByb2J1c3Rcbi8vIHdheSB0byByZWdpc3Rlci4gTG93ZXJjYXNlIGpxdWVyeSBpcyB1c2VkIGJlY2F1c2UgQU1EIG1vZHVsZSBuYW1lcyBhcmVcbi8vIGRlcml2ZWQgZnJvbSBmaWxlIG5hbWVzLCBhbmQgalF1ZXJ5IGlzIG5vcm1hbGx5IGRlbGl2ZXJlZCBpbiBhIGxvd2VyY2FzZVxuLy8gZmlsZSBuYW1lLiBEbyB0aGlzIGFmdGVyIGNyZWF0aW5nIHRoZSBnbG9iYWwgc28gdGhhdCBpZiBhbiBBTUQgbW9kdWxlIHdhbnRzXG4vLyB0byBjYWxsIG5vQ29uZmxpY3QgdG8gaGlkZSB0aGlzIHZlcnNpb24gb2YgalF1ZXJ5LCBpdCB3aWxsIHdvcmsuXG5cbi8vIE5vdGUgdGhhdCBmb3IgbWF4aW11bSBwb3J0YWJpbGl0eSwgbGlicmFyaWVzIHRoYXQgYXJlIG5vdCBqUXVlcnkgc2hvdWxkXG4vLyBkZWNsYXJlIHRoZW1zZWx2ZXMgYXMgYW5vbnltb3VzIG1vZHVsZXMsIGFuZCBhdm9pZCBzZXR0aW5nIGEgZ2xvYmFsIGlmIGFuXG4vLyBBTUQgbG9hZGVyIGlzIHByZXNlbnQuIGpRdWVyeSBpcyBhIHNwZWNpYWwgY2FzZS4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2pyYnVya2UvcmVxdWlyZWpzL3dpa2kvVXBkYXRpbmctZXhpc3RpbmctbGlicmFyaWVzI3dpa2ktYW5vblxuXG5pZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xuXHRkZWZpbmUoIFwianF1ZXJ5XCIsIFtdLCBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4galF1ZXJ5O1xuXHR9KTtcbn1cblxuXG5cblxudmFyXG5cdC8vIE1hcCBvdmVyIGpRdWVyeSBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuXHRfalF1ZXJ5ID0gd2luZG93LmpRdWVyeSxcblxuXHQvLyBNYXAgb3ZlciB0aGUgJCBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxuXHRfJCA9IHdpbmRvdy4kO1xuXG5qUXVlcnkubm9Db25mbGljdCA9IGZ1bmN0aW9uKCBkZWVwICkge1xuXHRpZiAoIHdpbmRvdy4kID09PSBqUXVlcnkgKSB7XG5cdFx0d2luZG93LiQgPSBfJDtcblx0fVxuXG5cdGlmICggZGVlcCAmJiB3aW5kb3cualF1ZXJ5ID09PSBqUXVlcnkgKSB7XG5cdFx0d2luZG93LmpRdWVyeSA9IF9qUXVlcnk7XG5cdH1cblxuXHRyZXR1cm4galF1ZXJ5O1xufTtcblxuLy8gRXhwb3NlIGpRdWVyeSBhbmQgJCBpZGVudGlmaWVycywgZXZlbiBpbiBBTURcbi8vICgjNzEwMiNjb21tZW50OjEwLCBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS9wdWxsLzU1Nylcbi8vIGFuZCBDb21tb25KUyBmb3IgYnJvd3NlciBlbXVsYXRvcnMgKCMxMzU2NilcbmlmICggdHlwZW9mIG5vR2xvYmFsID09PSBzdHJ1bmRlZmluZWQgKSB7XG5cdHdpbmRvdy5qUXVlcnkgPSB3aW5kb3cuJCA9IGpRdWVyeTtcbn1cblxuXG5cblxucmV0dXJuIGpRdWVyeTtcblxufSkpO1xuIiwiLyohXG4gICAgbG9jYWxGb3JhZ2UgLS0gT2ZmbGluZSBTdG9yYWdlLCBJbXByb3ZlZFxuICAgIFZlcnNpb24gMS41LjBcbiAgICBodHRwczovL2xvY2FsZm9yYWdlLmdpdGh1Yi5pby9sb2NhbEZvcmFnZVxuICAgIChjKSAyMDEzLTIwMTcgTW96aWxsYSwgQXBhY2hlIExpY2Vuc2UgMi4wXG4qL1xuKGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09XCJvYmplY3RcIiYmdHlwZW9mIG1vZHVsZSE9PVwidW5kZWZpbmVkXCIpe21vZHVsZS5leHBvcnRzPWYoKX1lbHNlIGlmKHR5cGVvZiBkZWZpbmU9PT1cImZ1bmN0aW9uXCImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT1cInVuZGVmaW5lZFwiKXtnPXdpbmRvd31lbHNlIGlmKHR5cGVvZiBnbG9iYWwhPT1cInVuZGVmaW5lZFwiKXtnPWdsb2JhbH1lbHNlIGlmKHR5cGVvZiBzZWxmIT09XCJ1bmRlZmluZWRcIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcubG9jYWxmb3JhZ2UgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgKGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIiwgZil9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4oZnVuY3Rpb24gKGdsb2JhbCl7XG4ndXNlIHN0cmljdCc7XG52YXIgTXV0YXRpb24gPSBnbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBnbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcblxudmFyIHNjaGVkdWxlRHJhaW47XG5cbntcbiAgaWYgKE11dGF0aW9uKSB7XG4gICAgdmFyIGNhbGxlZCA9IDA7XG4gICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uKG5leHRUaWNrKTtcbiAgICB2YXIgZWxlbWVudCA9IGdsb2JhbC5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50LCB7XG4gICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlXG4gICAgfSk7XG4gICAgc2NoZWR1bGVEcmFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGVsZW1lbnQuZGF0YSA9IChjYWxsZWQgPSArK2NhbGxlZCAlIDIpO1xuICAgIH07XG4gIH0gZWxzZSBpZiAoIWdsb2JhbC5zZXRJbW1lZGlhdGUgJiYgdHlwZW9mIGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgY2hhbm5lbCA9IG5ldyBnbG9iYWwuTWVzc2FnZUNoYW5uZWwoKTtcbiAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IG5leHRUaWNrO1xuICAgIHNjaGVkdWxlRHJhaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApO1xuICAgIH07XG4gIH0gZWxzZSBpZiAoJ2RvY3VtZW50JyBpbiBnbG9iYWwgJiYgJ29ucmVhZHlzdGF0ZWNoYW5nZScgaW4gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpKSB7XG4gICAgc2NoZWR1bGVEcmFpbiA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgLy8gQ3JlYXRlIGEgPHNjcmlwdD4gZWxlbWVudDsgaXRzIHJlYWR5c3RhdGVjaGFuZ2UgZXZlbnQgd2lsbCBiZSBmaXJlZCBhc3luY2hyb25vdXNseSBvbmNlIGl0IGlzIGluc2VydGVkXG4gICAgICAvLyBpbnRvIHRoZSBkb2N1bWVudC4gRG8gc28sIHRodXMgcXVldWluZyB1cCB0aGUgdGFzay4gUmVtZW1iZXIgdG8gY2xlYW4gdXAgb25jZSBpdCdzIGJlZW4gY2FsbGVkLlxuICAgICAgdmFyIHNjcmlwdEVsID0gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgc2NyaXB0RWwub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBuZXh0VGljaygpO1xuXG4gICAgICAgIHNjcmlwdEVsLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgIHNjcmlwdEVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0RWwpO1xuICAgICAgICBzY3JpcHRFbCA9IG51bGw7XG4gICAgICB9O1xuICAgICAgZ2xvYmFsLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChzY3JpcHRFbCk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBzY2hlZHVsZURyYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgc2V0VGltZW91dChuZXh0VGljaywgMCk7XG4gICAgfTtcbiAgfVxufVxuXG52YXIgZHJhaW5pbmc7XG52YXIgcXVldWUgPSBbXTtcbi8vbmFtZWQgbmV4dFRpY2sgZm9yIGxlc3MgY29uZnVzaW5nIHN0YWNrIHRyYWNlc1xuZnVuY3Rpb24gbmV4dFRpY2soKSB7XG4gIGRyYWluaW5nID0gdHJ1ZTtcbiAgdmFyIGksIG9sZFF1ZXVlO1xuICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICB3aGlsZSAobGVuKSB7XG4gICAgb2xkUXVldWUgPSBxdWV1ZTtcbiAgICBxdWV1ZSA9IFtdO1xuICAgIGkgPSAtMTtcbiAgICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgICBvbGRRdWV1ZVtpXSgpO1xuICAgIH1cbiAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gIH1cbiAgZHJhaW5pbmcgPSBmYWxzZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbW1lZGlhdGU7XG5mdW5jdGlvbiBpbW1lZGlhdGUodGFzaykge1xuICBpZiAocXVldWUucHVzaCh0YXNrKSA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICBzY2hlZHVsZURyYWluKCk7XG4gIH1cbn1cblxufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG59LHt9XSwyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcbnZhciBpbW1lZGlhdGUgPSBfZGVyZXFfKDEpO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gSU5URVJOQUwoKSB7fVxuXG52YXIgaGFuZGxlcnMgPSB7fTtcblxudmFyIFJFSkVDVEVEID0gWydSRUpFQ1RFRCddO1xudmFyIEZVTEZJTExFRCA9IFsnRlVMRklMTEVEJ107XG52YXIgUEVORElORyA9IFsnUEVORElORyddO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBQcm9taXNlO1xuXG5mdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKSB7XG4gIGlmICh0eXBlb2YgcmVzb2x2ZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdyZXNvbHZlciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuICB0aGlzLnN0YXRlID0gUEVORElORztcbiAgdGhpcy5xdWV1ZSA9IFtdO1xuICB0aGlzLm91dGNvbWUgPSB2b2lkIDA7XG4gIGlmIChyZXNvbHZlciAhPT0gSU5URVJOQUwpIHtcbiAgICBzYWZlbHlSZXNvbHZlVGhlbmFibGUodGhpcywgcmVzb2x2ZXIpO1xuICB9XG59XG5cblByb21pc2UucHJvdG90eXBlW1wiY2F0Y2hcIl0gPSBmdW5jdGlvbiAob25SZWplY3RlZCkge1xuICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0ZWQpO1xufTtcblByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbiAob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgaWYgKHR5cGVvZiBvbkZ1bGZpbGxlZCAhPT0gJ2Z1bmN0aW9uJyAmJiB0aGlzLnN0YXRlID09PSBGVUxGSUxMRUQgfHxcbiAgICB0eXBlb2Ygb25SZWplY3RlZCAhPT0gJ2Z1bmN0aW9uJyAmJiB0aGlzLnN0YXRlID09PSBSRUpFQ1RFRCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHZhciBwcm9taXNlID0gbmV3IHRoaXMuY29uc3RydWN0b3IoSU5URVJOQUwpO1xuICBpZiAodGhpcy5zdGF0ZSAhPT0gUEVORElORykge1xuICAgIHZhciByZXNvbHZlciA9IHRoaXMuc3RhdGUgPT09IEZVTEZJTExFRCA/IG9uRnVsZmlsbGVkIDogb25SZWplY3RlZDtcbiAgICB1bndyYXAocHJvbWlzZSwgcmVzb2x2ZXIsIHRoaXMub3V0Y29tZSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5xdWV1ZS5wdXNoKG5ldyBRdWV1ZUl0ZW0ocHJvbWlzZSwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpKTtcbiAgfVxuXG4gIHJldHVybiBwcm9taXNlO1xufTtcbmZ1bmN0aW9uIFF1ZXVlSXRlbShwcm9taXNlLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xuICBpZiAodHlwZW9mIG9uRnVsZmlsbGVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhpcy5vbkZ1bGZpbGxlZCA9IG9uRnVsZmlsbGVkO1xuICAgIHRoaXMuY2FsbEZ1bGZpbGxlZCA9IHRoaXMub3RoZXJDYWxsRnVsZmlsbGVkO1xuICB9XG4gIGlmICh0eXBlb2Ygb25SZWplY3RlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHRoaXMub25SZWplY3RlZCA9IG9uUmVqZWN0ZWQ7XG4gICAgdGhpcy5jYWxsUmVqZWN0ZWQgPSB0aGlzLm90aGVyQ2FsbFJlamVjdGVkO1xuICB9XG59XG5RdWV1ZUl0ZW0ucHJvdG90eXBlLmNhbGxGdWxmaWxsZWQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgaGFuZGxlcnMucmVzb2x2ZSh0aGlzLnByb21pc2UsIHZhbHVlKTtcbn07XG5RdWV1ZUl0ZW0ucHJvdG90eXBlLm90aGVyQ2FsbEZ1bGZpbGxlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICB1bndyYXAodGhpcy5wcm9taXNlLCB0aGlzLm9uRnVsZmlsbGVkLCB2YWx1ZSk7XG59O1xuUXVldWVJdGVtLnByb3RvdHlwZS5jYWxsUmVqZWN0ZWQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgaGFuZGxlcnMucmVqZWN0KHRoaXMucHJvbWlzZSwgdmFsdWUpO1xufTtcblF1ZXVlSXRlbS5wcm90b3R5cGUub3RoZXJDYWxsUmVqZWN0ZWQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgdW53cmFwKHRoaXMucHJvbWlzZSwgdGhpcy5vblJlamVjdGVkLCB2YWx1ZSk7XG59O1xuXG5mdW5jdGlvbiB1bndyYXAocHJvbWlzZSwgZnVuYywgdmFsdWUpIHtcbiAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmV0dXJuVmFsdWU7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVyblZhbHVlID0gZnVuYyh2YWx1ZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGhhbmRsZXJzLnJlamVjdChwcm9taXNlLCBlKTtcbiAgICB9XG4gICAgaWYgKHJldHVyblZhbHVlID09PSBwcm9taXNlKSB7XG4gICAgICBoYW5kbGVycy5yZWplY3QocHJvbWlzZSwgbmV3IFR5cGVFcnJvcignQ2Fubm90IHJlc29sdmUgcHJvbWlzZSB3aXRoIGl0c2VsZicpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGFuZGxlcnMucmVzb2x2ZShwcm9taXNlLCByZXR1cm5WYWx1ZSk7XG4gICAgfVxuICB9KTtcbn1cblxuaGFuZGxlcnMucmVzb2x2ZSA9IGZ1bmN0aW9uIChzZWxmLCB2YWx1ZSkge1xuICB2YXIgcmVzdWx0ID0gdHJ5Q2F0Y2goZ2V0VGhlbiwgdmFsdWUpO1xuICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gJ2Vycm9yJykge1xuICAgIHJldHVybiBoYW5kbGVycy5yZWplY3Qoc2VsZiwgcmVzdWx0LnZhbHVlKTtcbiAgfVxuICB2YXIgdGhlbmFibGUgPSByZXN1bHQudmFsdWU7XG5cbiAgaWYgKHRoZW5hYmxlKSB7XG4gICAgc2FmZWx5UmVzb2x2ZVRoZW5hYmxlKHNlbGYsIHRoZW5hYmxlKTtcbiAgfSBlbHNlIHtcbiAgICBzZWxmLnN0YXRlID0gRlVMRklMTEVEO1xuICAgIHNlbGYub3V0Y29tZSA9IHZhbHVlO1xuICAgIHZhciBpID0gLTE7XG4gICAgdmFyIGxlbiA9IHNlbGYucXVldWUubGVuZ3RoO1xuICAgIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICAgIHNlbGYucXVldWVbaV0uY2FsbEZ1bGZpbGxlZCh2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzZWxmO1xufTtcbmhhbmRsZXJzLnJlamVjdCA9IGZ1bmN0aW9uIChzZWxmLCBlcnJvcikge1xuICBzZWxmLnN0YXRlID0gUkVKRUNURUQ7XG4gIHNlbGYub3V0Y29tZSA9IGVycm9yO1xuICB2YXIgaSA9IC0xO1xuICB2YXIgbGVuID0gc2VsZi5xdWV1ZS5sZW5ndGg7XG4gIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICBzZWxmLnF1ZXVlW2ldLmNhbGxSZWplY3RlZChlcnJvcik7XG4gIH1cbiAgcmV0dXJuIHNlbGY7XG59O1xuXG5mdW5jdGlvbiBnZXRUaGVuKG9iaikge1xuICAvLyBNYWtlIHN1cmUgd2Ugb25seSBhY2Nlc3MgdGhlIGFjY2Vzc29yIG9uY2UgYXMgcmVxdWlyZWQgYnkgdGhlIHNwZWNcbiAgdmFyIHRoZW4gPSBvYmogJiYgb2JqLnRoZW47XG4gIGlmIChvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYXBweVRoZW4oKSB7XG4gICAgICB0aGVuLmFwcGx5KG9iaiwgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIHNhZmVseVJlc29sdmVUaGVuYWJsZShzZWxmLCB0aGVuYWJsZSkge1xuICAvLyBFaXRoZXIgZnVsZmlsbCwgcmVqZWN0IG9yIHJlamVjdCB3aXRoIGVycm9yXG4gIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gb25FcnJvcih2YWx1ZSkge1xuICAgIGlmIChjYWxsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2FsbGVkID0gdHJ1ZTtcbiAgICBoYW5kbGVycy5yZWplY3Qoc2VsZiwgdmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25TdWNjZXNzKHZhbHVlKSB7XG4gICAgaWYgKGNhbGxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjYWxsZWQgPSB0cnVlO1xuICAgIGhhbmRsZXJzLnJlc29sdmUoc2VsZiwgdmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJ5VG9VbndyYXAoKSB7XG4gICAgdGhlbmFibGUob25TdWNjZXNzLCBvbkVycm9yKTtcbiAgfVxuXG4gIHZhciByZXN1bHQgPSB0cnlDYXRjaCh0cnlUb1Vud3JhcCk7XG4gIGlmIChyZXN1bHQuc3RhdHVzID09PSAnZXJyb3InKSB7XG4gICAgb25FcnJvcihyZXN1bHQudmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRyeUNhdGNoKGZ1bmMsIHZhbHVlKSB7XG4gIHZhciBvdXQgPSB7fTtcbiAgdHJ5IHtcbiAgICBvdXQudmFsdWUgPSBmdW5jKHZhbHVlKTtcbiAgICBvdXQuc3RhdHVzID0gJ3N1Y2Nlc3MnO1xuICB9IGNhdGNoIChlKSB7XG4gICAgb3V0LnN0YXR1cyA9ICdlcnJvcic7XG4gICAgb3V0LnZhbHVlID0gZTtcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuXG5leHBvcnRzLnJlc29sdmUgPSByZXNvbHZlO1xuZnVuY3Rpb24gcmVzb2x2ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUgaW5zdGFuY2VvZiB0aGlzKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHJldHVybiBoYW5kbGVycy5yZXNvbHZlKG5ldyB0aGlzKElOVEVSTkFMKSwgdmFsdWUpO1xufVxuXG5leHBvcnRzLnJlamVjdCA9IHJlamVjdDtcbmZ1bmN0aW9uIHJlamVjdChyZWFzb24pIHtcbiAgdmFyIHByb21pc2UgPSBuZXcgdGhpcyhJTlRFUk5BTCk7XG4gIHJldHVybiBoYW5kbGVycy5yZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbn1cblxuZXhwb3J0cy5hbGwgPSBhbGw7XG5mdW5jdGlvbiBhbGwoaXRlcmFibGUpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXJhYmxlKSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgIHJldHVybiB0aGlzLnJlamVjdChuZXcgVHlwZUVycm9yKCdtdXN0IGJlIGFuIGFycmF5JykpO1xuICB9XG5cbiAgdmFyIGxlbiA9IGl0ZXJhYmxlLmxlbmd0aDtcbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICBpZiAoIWxlbikge1xuICAgIHJldHVybiB0aGlzLnJlc29sdmUoW10pO1xuICB9XG5cbiAgdmFyIHZhbHVlcyA9IG5ldyBBcnJheShsZW4pO1xuICB2YXIgcmVzb2x2ZWQgPSAwO1xuICB2YXIgaSA9IC0xO1xuICB2YXIgcHJvbWlzZSA9IG5ldyB0aGlzKElOVEVSTkFMKTtcblxuICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgYWxsUmVzb2x2ZXIoaXRlcmFibGVbaV0sIGkpO1xuICB9XG4gIHJldHVybiBwcm9taXNlO1xuICBmdW5jdGlvbiBhbGxSZXNvbHZlcih2YWx1ZSwgaSkge1xuICAgIHNlbGYucmVzb2x2ZSh2YWx1ZSkudGhlbihyZXNvbHZlRnJvbUFsbCwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICBoYW5kbGVycy5yZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGZ1bmN0aW9uIHJlc29sdmVGcm9tQWxsKG91dFZhbHVlKSB7XG4gICAgICB2YWx1ZXNbaV0gPSBvdXRWYWx1ZTtcbiAgICAgIGlmICgrK3Jlc29sdmVkID09PSBsZW4gJiYgIWNhbGxlZCkge1xuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICBoYW5kbGVycy5yZXNvbHZlKHByb21pc2UsIHZhbHVlcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydHMucmFjZSA9IHJhY2U7XG5mdW5jdGlvbiByYWNlKGl0ZXJhYmxlKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpdGVyYWJsZSkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICByZXR1cm4gdGhpcy5yZWplY3QobmV3IFR5cGVFcnJvcignbXVzdCBiZSBhbiBhcnJheScpKTtcbiAgfVxuXG4gIHZhciBsZW4gPSBpdGVyYWJsZS5sZW5ndGg7XG4gIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgaWYgKCFsZW4pIHtcbiAgICByZXR1cm4gdGhpcy5yZXNvbHZlKFtdKTtcbiAgfVxuXG4gIHZhciBpID0gLTE7XG4gIHZhciBwcm9taXNlID0gbmV3IHRoaXMoSU5URVJOQUwpO1xuXG4gIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICByZXNvbHZlcihpdGVyYWJsZVtpXSk7XG4gIH1cbiAgcmV0dXJuIHByb21pc2U7XG4gIGZ1bmN0aW9uIHJlc29sdmVyKHZhbHVlKSB7XG4gICAgc2VsZi5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgaGFuZGxlcnMucmVzb2x2ZShwcm9taXNlLCByZXNwb25zZSk7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICBoYW5kbGVycy5yZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbn0se1wiMVwiOjF9XSwzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbid1c2Ugc3RyaWN0JztcbmlmICh0eXBlb2YgZ2xvYmFsLlByb21pc2UgIT09ICdmdW5jdGlvbicpIHtcbiAgZ2xvYmFsLlByb21pc2UgPSBfZGVyZXFfKDIpO1xufVxuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcbn0se1wiMlwiOjJ9XSw0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbid1c2Ugc3RyaWN0JztcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBnZXRJREIoKSB7XG4gICAgLyogZ2xvYmFsIGluZGV4ZWREQix3ZWJraXRJbmRleGVkREIsbW96SW5kZXhlZERCLE9JbmRleGVkREIsbXNJbmRleGVkREIgKi9cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGluZGV4ZWREQiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBpbmRleGVkREI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB3ZWJraXRJbmRleGVkREIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gd2Via2l0SW5kZXhlZERCO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgbW96SW5kZXhlZERCICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIG1vekluZGV4ZWREQjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIE9JbmRleGVkREIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gT0luZGV4ZWREQjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG1zSW5kZXhlZERCICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIG1zSW5kZXhlZERCO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge31cbn1cblxudmFyIGlkYiA9IGdldElEQigpO1xuXG5mdW5jdGlvbiBpc0luZGV4ZWREQlZhbGlkKCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIEluaXRpYWxpemUgSW5kZXhlZERCOyBmYWxsIGJhY2sgdG8gdmVuZG9yLXByZWZpeGVkIHZlcnNpb25zXG4gICAgICAgIC8vIGlmIG5lZWRlZC5cbiAgICAgICAgaWYgKCFpZGIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBtaW1pYyBQb3VjaERCIGhlcmU7XG4gICAgICAgIC8vXG4gICAgICAgIC8vIFdlIHRlc3QgZm9yIG9wZW5EYXRhYmFzZSBiZWNhdXNlIElFIE1vYmlsZSBpZGVudGlmaWVzIGl0c2VsZlxuICAgICAgICAvLyBhcyBTYWZhcmkuIE9oIHRoZSBsdWx6Li4uXG4gICAgICAgIHZhciBpc1NhZmFyaSA9IHR5cGVvZiBvcGVuRGF0YWJhc2UgIT09ICd1bmRlZmluZWQnICYmIC8oU2FmYXJpfGlQaG9uZXxpUGFkfGlQb2QpLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmICEvQ2hyb21lLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmICEvQmxhY2tCZXJyeS8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pO1xuXG4gICAgICAgIHZhciBoYXNGZXRjaCA9IHR5cGVvZiBmZXRjaCA9PT0gJ2Z1bmN0aW9uJyAmJiBmZXRjaC50b1N0cmluZygpLmluZGV4T2YoJ1tuYXRpdmUgY29kZScpICE9PSAtMTtcblxuICAgICAgICAvLyBTYWZhcmkgPDEwLjEgZG9lcyBub3QgbWVldCBvdXIgcmVxdWlyZW1lbnRzIGZvciBJREIgc3VwcG9ydCAoIzU1NzIpXG4gICAgICAgIC8vIHNpbmNlIFNhZmFyaSAxMC4xIHNoaXBwZWQgd2l0aCBmZXRjaCwgd2UgY2FuIHVzZSB0aGF0IHRvIGRldGVjdCBpdFxuICAgICAgICByZXR1cm4gKCFpc1NhZmFyaSB8fCBoYXNGZXRjaCkgJiYgdHlwZW9mIGluZGV4ZWREQiAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgLy8gc29tZSBvdXRkYXRlZCBpbXBsZW1lbnRhdGlvbnMgb2YgSURCIHRoYXQgYXBwZWFyIG9uIFNhbXN1bmdcbiAgICAgICAgLy8gYW5kIEhUQyBBbmRyb2lkIGRldmljZXMgPDQuNCBhcmUgbWlzc2luZyBJREJLZXlSYW5nZVxuICAgICAgICB0eXBlb2YgSURCS2V5UmFuZ2UgIT09ICd1bmRlZmluZWQnO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaXNXZWJTUUxWYWxpZCgpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9wZW5EYXRhYmFzZSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNMb2NhbFN0b3JhZ2VWYWxpZCgpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGxvY2FsU3RvcmFnZSAhPT0gJ3VuZGVmaW5lZCcgJiYgJ3NldEl0ZW0nIGluIGxvY2FsU3RvcmFnZSAmJiBsb2NhbFN0b3JhZ2Uuc2V0SXRlbTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbi8vIEFic3RyYWN0cyBjb25zdHJ1Y3RpbmcgYSBCbG9iIG9iamVjdCwgc28gaXQgYWxzbyB3b3JrcyBpbiBvbGRlclxuLy8gYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHRoZSBuYXRpdmUgQmxvYiBjb25zdHJ1Y3Rvci4gKGkuZS5cbi8vIG9sZCBRdFdlYktpdCB2ZXJzaW9ucywgYXQgbGVhc3QpLlxuLy8gQWJzdHJhY3RzIGNvbnN0cnVjdGluZyBhIEJsb2Igb2JqZWN0LCBzbyBpdCBhbHNvIHdvcmtzIGluIG9sZGVyXG4vLyBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgdGhlIG5hdGl2ZSBCbG9iIGNvbnN0cnVjdG9yLiAoaS5lLlxuLy8gb2xkIFF0V2ViS2l0IHZlcnNpb25zLCBhdCBsZWFzdCkuXG5mdW5jdGlvbiBjcmVhdGVCbG9iKHBhcnRzLCBwcm9wZXJ0aWVzKSB7XG4gICAgLyogZ2xvYmFsIEJsb2JCdWlsZGVyLE1TQmxvYkJ1aWxkZXIsTW96QmxvYkJ1aWxkZXIsV2ViS2l0QmxvYkJ1aWxkZXIgKi9cbiAgICBwYXJ0cyA9IHBhcnRzIHx8IFtdO1xuICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IHt9O1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBuZXcgQmxvYihwYXJ0cywgcHJvcGVydGllcyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZS5uYW1lICE9PSAnVHlwZUVycm9yJykge1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgQnVpbGRlciA9IHR5cGVvZiBCbG9iQnVpbGRlciAhPT0gJ3VuZGVmaW5lZCcgPyBCbG9iQnVpbGRlciA6IHR5cGVvZiBNU0Jsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJyA/IE1TQmxvYkJ1aWxkZXIgOiB0eXBlb2YgTW96QmxvYkJ1aWxkZXIgIT09ICd1bmRlZmluZWQnID8gTW96QmxvYkJ1aWxkZXIgOiBXZWJLaXRCbG9iQnVpbGRlcjtcbiAgICAgICAgdmFyIGJ1aWxkZXIgPSBuZXcgQnVpbGRlcigpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBidWlsZGVyLmFwcGVuZChwYXJ0c1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1aWxkZXIuZ2V0QmxvYihwcm9wZXJ0aWVzLnR5cGUpO1xuICAgIH1cbn1cblxuLy8gVGhpcyBpcyBDb21tb25KUyBiZWNhdXNlIGxpZSBpcyBhbiBleHRlcm5hbCBkZXBlbmRlbmN5LCBzbyBSb2xsdXBcbi8vIGNhbiBqdXN0IGlnbm9yZSBpdC5cbmlmICh0eXBlb2YgUHJvbWlzZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBJbiB0aGUgXCJub3Byb21pc2VzXCIgYnVpbGQgdGhpcyB3aWxsIGp1c3QgdGhyb3cgaWYgeW91IGRvbid0IGhhdmVcbiAgICAvLyBhIGdsb2JhbCBwcm9taXNlIG9iamVjdCwgYnV0IGl0IHdvdWxkIHRocm93IGFueXdheSBsYXRlci5cbiAgICBfZGVyZXFfKDMpO1xufVxudmFyIFByb21pc2UkMSA9IFByb21pc2U7XG5cbmZ1bmN0aW9uIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjaykge1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhlcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZXhlY3V0ZVR3b0NhbGxiYWNrcyhwcm9taXNlLCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcHJvbWlzZS50aGVuKGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGVycm9yQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcHJvbWlzZVtcImNhdGNoXCJdKGVycm9yQ2FsbGJhY2spO1xuICAgIH1cbn1cblxuLy8gU29tZSBjb2RlIG9yaWdpbmFsbHkgZnJvbSBhc3luY19zdG9yYWdlLmpzIGluXG4vLyBbR2FpYV0oaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEtYjJnL2dhaWEpLlxuXG52YXIgREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSA9ICdsb2NhbC1mb3JhZ2UtZGV0ZWN0LWJsb2Itc3VwcG9ydCc7XG52YXIgc3VwcG9ydHNCbG9icztcbnZhciBkYkNvbnRleHRzO1xudmFyIHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLy8gVHJhbnNmb3JtIGEgYmluYXJ5IHN0cmluZyB0byBhbiBhcnJheSBidWZmZXIsIGJlY2F1c2Ugb3RoZXJ3aXNlXG4vLyB3ZWlyZCBzdHVmZiBoYXBwZW5zIHdoZW4geW91IHRyeSB0byB3b3JrIHdpdGggdGhlIGJpbmFyeSBzdHJpbmcgZGlyZWN0bHkuXG4vLyBJdCBpcyBrbm93bi5cbi8vIEZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNDk2NzY0Ny8gKGNvbnRpbnVlcyBvbiBuZXh0IGxpbmUpXG4vLyBlbmNvZGUtZGVjb2RlLWltYWdlLXdpdGgtYmFzZTY0LWJyZWFrcy1pbWFnZSAoMjAxMy0wNC0yMSlcbmZ1bmN0aW9uIF9iaW5TdHJpbmdUb0FycmF5QnVmZmVyKGJpbikge1xuICAgIHZhciBsZW5ndGggPSBiaW4ubGVuZ3RoO1xuICAgIHZhciBidWYgPSBuZXcgQXJyYXlCdWZmZXIobGVuZ3RoKTtcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYnVmKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycltpXSA9IGJpbi5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgICByZXR1cm4gYnVmO1xufVxuXG4vL1xuLy8gQmxvYnMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gYWxsIHZlcnNpb25zIG9mIEluZGV4ZWREQiwgbm90YWJseVxuLy8gQ2hyb21lIDwzNyBhbmQgQW5kcm9pZCA8NS4gSW4gdGhvc2UgdmVyc2lvbnMsIHN0b3JpbmcgYSBibG9iIHdpbGwgdGhyb3cuXG4vL1xuLy8gVmFyaW91cyBvdGhlciBibG9iIGJ1Z3MgZXhpc3QgaW4gQ2hyb21lIHYzNy00MiAoaW5jbHVzaXZlKS5cbi8vIERldGVjdGluZyB0aGVtIGlzIGV4cGVuc2l2ZSBhbmQgY29uZnVzaW5nIHRvIHVzZXJzLCBhbmQgQ2hyb21lIDM3LTQyXG4vLyBpcyBhdCB2ZXJ5IGxvdyB1c2FnZSB3b3JsZHdpZGUsIHNvIHdlIGRvIGEgaGFja3kgdXNlckFnZW50IGNoZWNrIGluc3RlYWQuXG4vL1xuLy8gY29udGVudC10eXBlIGJ1ZzogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQwODEyMFxuLy8gNDA0IGJ1ZzogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0NzkxNlxuLy8gRmlsZVJlYWRlciBidWc6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NDc4MzZcbi8vXG4vLyBDb2RlIGJvcnJvd2VkIGZyb20gUG91Y2hEQi4gU2VlOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3BvdWNoZGIvcG91Y2hkYi9ibG9iL21hc3Rlci9wYWNrYWdlcy9ub2RlX21vZHVsZXMvcG91Y2hkYi1hZGFwdGVyLWlkYi9zcmMvYmxvYlN1cHBvcnQuanNcbi8vXG5mdW5jdGlvbiBfY2hlY2tCbG9iU3VwcG9ydFdpdGhvdXRDYWNoaW5nKGlkYikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIHZhciB0eG4gPSBpZGIudHJhbnNhY3Rpb24oREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSwgJ3JlYWR3cml0ZScpO1xuICAgICAgICB2YXIgYmxvYiA9IGNyZWF0ZUJsb2IoWycnXSk7XG4gICAgICAgIHR4bi5vYmplY3RTdG9yZShERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFKS5wdXQoYmxvYiwgJ2tleScpO1xuXG4gICAgICAgIHR4bi5vbmFib3J0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSB0cmFuc2FjdGlvbiBhYm9ydHMgbm93IGl0cyBkdWUgdG8gbm90IGJlaW5nIGFibGUgdG9cbiAgICAgICAgICAgIC8vIHdyaXRlIHRvIHRoZSBkYXRhYmFzZSwgbGlrZWx5IGR1ZSB0byB0aGUgZGlzayBiZWluZyBmdWxsXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdHhuLm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2hlZENocm9tZSA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0Nocm9tZVxcLyhcXGQrKS8pO1xuICAgICAgICAgICAgdmFyIG1hdGNoZWRFZGdlID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRWRnZVxcLy8pO1xuICAgICAgICAgICAgLy8gTVMgRWRnZSBwcmV0ZW5kcyB0byBiZSBDaHJvbWUgNDI6XG4gICAgICAgICAgICAvLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2hoODY5MzAxJTI4dj12cy44NSUyOS5hc3B4XG4gICAgICAgICAgICByZXNvbHZlKG1hdGNoZWRFZGdlIHx8ICFtYXRjaGVkQ2hyb21lIHx8IHBhcnNlSW50KG1hdGNoZWRDaHJvbWVbMV0sIDEwKSA+PSA0Myk7XG4gICAgICAgIH07XG4gICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gZXJyb3IsIHNvIGFzc3VtZSB1bnN1cHBvcnRlZFxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBfY2hlY2tCbG9iU3VwcG9ydChpZGIpIHtcbiAgICBpZiAodHlwZW9mIHN1cHBvcnRzQmxvYnMgPT09ICdib29sZWFuJykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZSQxLnJlc29sdmUoc3VwcG9ydHNCbG9icyk7XG4gICAgfVxuICAgIHJldHVybiBfY2hlY2tCbG9iU3VwcG9ydFdpdGhvdXRDYWNoaW5nKGlkYikudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgc3VwcG9ydHNCbG9icyA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gc3VwcG9ydHNCbG9icztcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gX2RlZmVyUmVhZGluZXNzKGRiSW5mbykge1xuICAgIHZhciBkYkNvbnRleHQgPSBkYkNvbnRleHRzW2RiSW5mby5uYW1lXTtcblxuICAgIC8vIENyZWF0ZSBhIGRlZmVycmVkIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgZGF0YWJhc2Ugb3BlcmF0aW9uLlxuICAgIHZhciBkZWZlcnJlZE9wZXJhdGlvbiA9IHt9O1xuXG4gICAgZGVmZXJyZWRPcGVyYXRpb24ucHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgZGVmZXJyZWRPcGVyYXRpb24ucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgfSk7XG5cbiAgICAvLyBFbnF1ZXVlIHRoZSBkZWZlcnJlZCBvcGVyYXRpb24uXG4gICAgZGJDb250ZXh0LmRlZmVycmVkT3BlcmF0aW9ucy5wdXNoKGRlZmVycmVkT3BlcmF0aW9uKTtcblxuICAgIC8vIENoYWluIGl0cyBwcm9taXNlIHRvIHRoZSBkYXRhYmFzZSByZWFkaW5lc3MuXG4gICAgaWYgKCFkYkNvbnRleHQuZGJSZWFkeSkge1xuICAgICAgICBkYkNvbnRleHQuZGJSZWFkeSA9IGRlZmVycmVkT3BlcmF0aW9uLnByb21pc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZGJDb250ZXh0LmRiUmVhZHkgPSBkYkNvbnRleHQuZGJSZWFkeS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZE9wZXJhdGlvbi5wcm9taXNlO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9hZHZhbmNlUmVhZGluZXNzKGRiSW5mbykge1xuICAgIHZhciBkYkNvbnRleHQgPSBkYkNvbnRleHRzW2RiSW5mby5uYW1lXTtcblxuICAgIC8vIERlcXVldWUgYSBkZWZlcnJlZCBvcGVyYXRpb24uXG4gICAgdmFyIGRlZmVycmVkT3BlcmF0aW9uID0gZGJDb250ZXh0LmRlZmVycmVkT3BlcmF0aW9ucy5wb3AoKTtcblxuICAgIC8vIFJlc29sdmUgaXRzIHByb21pc2UgKHdoaWNoIGlzIHBhcnQgb2YgdGhlIGRhdGFiYXNlIHJlYWRpbmVzc1xuICAgIC8vIGNoYWluIG9mIHByb21pc2VzKS5cbiAgICBpZiAoZGVmZXJyZWRPcGVyYXRpb24pIHtcbiAgICAgICAgZGVmZXJyZWRPcGVyYXRpb24ucmVzb2x2ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX2dldENvbm5lY3Rpb24oZGJJbmZvLCB1cGdyYWRlTmVlZGVkKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXG4gICAgICAgIGlmIChkYkluZm8uZGIpIHtcbiAgICAgICAgICAgIGlmICh1cGdyYWRlTmVlZGVkKSB7XG4gICAgICAgICAgICAgICAgX2RlZmVyUmVhZGluZXNzKGRiSW5mbyk7XG4gICAgICAgICAgICAgICAgZGJJbmZvLmRiLmNsb3NlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKGRiSW5mby5kYik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGJBcmdzID0gW2RiSW5mby5uYW1lXTtcblxuICAgICAgICBpZiAodXBncmFkZU5lZWRlZCkge1xuICAgICAgICAgICAgZGJBcmdzLnB1c2goZGJJbmZvLnZlcnNpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG9wZW5yZXEgPSBpZGIub3Blbi5hcHBseShpZGIsIGRiQXJncyk7XG5cbiAgICAgICAgaWYgKHVwZ3JhZGVOZWVkZWQpIHtcbiAgICAgICAgICAgIG9wZW5yZXEub251cGdyYWRlbmVlZGVkID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGIgPSBvcGVucmVxLnJlc3VsdDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShkYkluZm8uc3RvcmVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUub2xkVmVyc2lvbiA8PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGRlZCB3aGVuIHN1cHBvcnQgZm9yIGJsb2Igc2hpbXMgd2FzIGFkZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChleC5uYW1lID09PSAnQ29uc3RyYWludEVycm9yJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdUaGUgZGF0YWJhc2UgXCInICsgZGJJbmZvLm5hbWUgKyAnXCInICsgJyBoYXMgYmVlbiB1cGdyYWRlZCBmcm9tIHZlcnNpb24gJyArIGUub2xkVmVyc2lvbiArICcgdG8gdmVyc2lvbiAnICsgZS5uZXdWZXJzaW9uICsgJywgYnV0IHRoZSBzdG9yYWdlIFwiJyArIGRiSW5mby5zdG9yZU5hbWUgKyAnXCIgYWxyZWFkeSBleGlzdHMuJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBleDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBvcGVucmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmVqZWN0KG9wZW5yZXEuZXJyb3IpO1xuICAgICAgICB9O1xuXG4gICAgICAgIG9wZW5yZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVzb2x2ZShvcGVucmVxLnJlc3VsdCk7XG4gICAgICAgICAgICBfYWR2YW5jZVJlYWRpbmVzcyhkYkluZm8pO1xuICAgICAgICB9O1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBfZ2V0T3JpZ2luYWxDb25uZWN0aW9uKGRiSW5mbykge1xuICAgIHJldHVybiBfZ2V0Q29ubmVjdGlvbihkYkluZm8sIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gX2dldFVwZ3JhZGVkQ29ubmVjdGlvbihkYkluZm8pIHtcbiAgICByZXR1cm4gX2dldENvbm5lY3Rpb24oZGJJbmZvLCB0cnVlKTtcbn1cblxuZnVuY3Rpb24gX2lzVXBncmFkZU5lZWRlZChkYkluZm8sIGRlZmF1bHRWZXJzaW9uKSB7XG4gICAgaWYgKCFkYkluZm8uZGIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFyIGlzTmV3U3RvcmUgPSAhZGJJbmZvLmRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMoZGJJbmZvLnN0b3JlTmFtZSk7XG4gICAgdmFyIGlzRG93bmdyYWRlID0gZGJJbmZvLnZlcnNpb24gPCBkYkluZm8uZGIudmVyc2lvbjtcbiAgICB2YXIgaXNVcGdyYWRlID0gZGJJbmZvLnZlcnNpb24gPiBkYkluZm8uZGIudmVyc2lvbjtcblxuICAgIGlmIChpc0Rvd25ncmFkZSkge1xuICAgICAgICAvLyBJZiB0aGUgdmVyc2lvbiBpcyBub3QgdGhlIGRlZmF1bHQgb25lXG4gICAgICAgIC8vIHRoZW4gd2FybiBmb3IgaW1wb3NzaWJsZSBkb3duZ3JhZGUuXG4gICAgICAgIGlmIChkYkluZm8udmVyc2lvbiAhPT0gZGVmYXVsdFZlcnNpb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignVGhlIGRhdGFiYXNlIFwiJyArIGRiSW5mby5uYW1lICsgJ1wiJyArICcgY2FuXFwndCBiZSBkb3duZ3JhZGVkIGZyb20gdmVyc2lvbiAnICsgZGJJbmZvLmRiLnZlcnNpb24gKyAnIHRvIHZlcnNpb24gJyArIGRiSW5mby52ZXJzaW9uICsgJy4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBbGlnbiB0aGUgdmVyc2lvbnMgdG8gcHJldmVudCBlcnJvcnMuXG4gICAgICAgIGRiSW5mby52ZXJzaW9uID0gZGJJbmZvLmRiLnZlcnNpb247XG4gICAgfVxuXG4gICAgaWYgKGlzVXBncmFkZSB8fCBpc05ld1N0b3JlKSB7XG4gICAgICAgIC8vIElmIHRoZSBzdG9yZSBpcyBuZXcgdGhlbiBpbmNyZW1lbnQgdGhlIHZlcnNpb24gKGlmIG5lZWRlZCkuXG4gICAgICAgIC8vIFRoaXMgd2lsbCB0cmlnZ2VyIGFuIFwidXBncmFkZW5lZWRlZFwiIGV2ZW50IHdoaWNoIGlzIHJlcXVpcmVkXG4gICAgICAgIC8vIGZvciBjcmVhdGluZyBhIHN0b3JlLlxuICAgICAgICBpZiAoaXNOZXdTdG9yZSkge1xuICAgICAgICAgICAgdmFyIGluY1ZlcnNpb24gPSBkYkluZm8uZGIudmVyc2lvbiArIDE7XG4gICAgICAgICAgICBpZiAoaW5jVmVyc2lvbiA+IGRiSW5mby52ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgZGJJbmZvLnZlcnNpb24gPSBpbmNWZXJzaW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBlbmNvZGUgYSBibG9iIGZvciBpbmRleGVkZGIgZW5naW5lcyB0aGF0IGRvbid0IHN1cHBvcnQgYmxvYnNcbmZ1bmN0aW9uIF9lbmNvZGVCbG9iKGJsb2IpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25lcnJvciA9IHJlamVjdDtcbiAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgYmFzZTY0ID0gYnRvYShlLnRhcmdldC5yZXN1bHQgfHwgJycpO1xuICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgX19sb2NhbF9mb3JhZ2VfZW5jb2RlZF9ibG9iOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRhdGE6IGJhc2U2NCxcbiAgICAgICAgICAgICAgICB0eXBlOiBibG9iLnR5cGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICByZWFkZXIucmVhZEFzQmluYXJ5U3RyaW5nKGJsb2IpO1xuICAgIH0pO1xufVxuXG4vLyBkZWNvZGUgYW4gZW5jb2RlZCBibG9iXG5mdW5jdGlvbiBfZGVjb2RlQmxvYihlbmNvZGVkQmxvYikge1xuICAgIHZhciBhcnJheUJ1ZmYgPSBfYmluU3RyaW5nVG9BcnJheUJ1ZmZlcihhdG9iKGVuY29kZWRCbG9iLmRhdGEpKTtcbiAgICByZXR1cm4gY3JlYXRlQmxvYihbYXJyYXlCdWZmXSwgeyB0eXBlOiBlbmNvZGVkQmxvYi50eXBlIH0pO1xufVxuXG4vLyBpcyB0aGlzIG9uZSBvZiBvdXIgZmFuY3kgZW5jb2RlZCBibG9icz9cbmZ1bmN0aW9uIF9pc0VuY29kZWRCbG9iKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIHZhbHVlLl9fbG9jYWxfZm9yYWdlX2VuY29kZWRfYmxvYjtcbn1cblxuLy8gU3BlY2lhbGl6ZSB0aGUgZGVmYXVsdCBgcmVhZHkoKWAgZnVuY3Rpb24gYnkgbWFraW5nIGl0IGRlcGVuZGVudFxuLy8gb24gdGhlIGN1cnJlbnQgZGF0YWJhc2Ugb3BlcmF0aW9ucy4gVGh1cywgdGhlIGRyaXZlciB3aWxsIGJlIGFjdHVhbGx5XG4vLyByZWFkeSB3aGVuIGl0J3MgYmVlbiBpbml0aWFsaXplZCAoZGVmYXVsdCkgKmFuZCogdGhlcmUgYXJlIG5vIHBlbmRpbmdcbi8vIG9wZXJhdGlvbnMgb24gdGhlIGRhdGFiYXNlIChpbml0aWF0ZWQgYnkgc29tZSBvdGhlciBpbnN0YW5jZXMpLlxuZnVuY3Rpb24gX2Z1bGx5UmVhZHkoY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgcHJvbWlzZSA9IHNlbGYuX2luaXRSZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGJDb250ZXh0ID0gZGJDb250ZXh0c1tzZWxmLl9kYkluZm8ubmFtZV07XG5cbiAgICAgICAgaWYgKGRiQ29udGV4dCAmJiBkYkNvbnRleHQuZGJSZWFkeSkge1xuICAgICAgICAgICAgcmV0dXJuIGRiQ29udGV4dC5kYlJlYWR5O1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBleGVjdXRlVHdvQ2FsbGJhY2tzKHByb21pc2UsIGNhbGxiYWNrLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbi8vIE9wZW4gdGhlIEluZGV4ZWREQiBkYXRhYmFzZSAoYXV0b21hdGljYWxseSBjcmVhdGVzIG9uZSBpZiBvbmUgZGlkbid0XG4vLyBwcmV2aW91c2x5IGV4aXN0KSwgdXNpbmcgYW55IG9wdGlvbnMgc2V0IGluIHRoZSBjb25maWcuXG5mdW5jdGlvbiBfaW5pdFN0b3JhZ2Uob3B0aW9ucykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgZGJJbmZvID0ge1xuICAgICAgICBkYjogbnVsbFxuICAgIH07XG5cbiAgICBpZiAob3B0aW9ucykge1xuICAgICAgICBmb3IgKHZhciBpIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGRiSW5mb1tpXSA9IG9wdGlvbnNbaV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJbml0aWFsaXplIGEgc2luZ2xldG9uIGNvbnRhaW5lciBmb3IgYWxsIHJ1bm5pbmcgbG9jYWxGb3JhZ2VzLlxuICAgIGlmICghZGJDb250ZXh0cykge1xuICAgICAgICBkYkNvbnRleHRzID0ge307XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBjdXJyZW50IGNvbnRleHQgb2YgdGhlIGRhdGFiYXNlO1xuICAgIHZhciBkYkNvbnRleHQgPSBkYkNvbnRleHRzW2RiSW5mby5uYW1lXTtcblxuICAgIC8vIC4uLm9yIGNyZWF0ZSBhIG5ldyBjb250ZXh0LlxuICAgIGlmICghZGJDb250ZXh0KSB7XG4gICAgICAgIGRiQ29udGV4dCA9IHtcbiAgICAgICAgICAgIC8vIFJ1bm5pbmcgbG9jYWxGb3JhZ2VzIHNoYXJpbmcgYSBkYXRhYmFzZS5cbiAgICAgICAgICAgIGZvcmFnZXM6IFtdLFxuICAgICAgICAgICAgLy8gU2hhcmVkIGRhdGFiYXNlLlxuICAgICAgICAgICAgZGI6IG51bGwsXG4gICAgICAgICAgICAvLyBEYXRhYmFzZSByZWFkaW5lc3MgKHByb21pc2UpLlxuICAgICAgICAgICAgZGJSZWFkeTogbnVsbCxcbiAgICAgICAgICAgIC8vIERlZmVycmVkIG9wZXJhdGlvbnMgb24gdGhlIGRhdGFiYXNlLlxuICAgICAgICAgICAgZGVmZXJyZWRPcGVyYXRpb25zOiBbXVxuICAgICAgICB9O1xuICAgICAgICAvLyBSZWdpc3RlciB0aGUgbmV3IGNvbnRleHQgaW4gdGhlIGdsb2JhbCBjb250YWluZXIuXG4gICAgICAgIGRiQ29udGV4dHNbZGJJbmZvLm5hbWVdID0gZGJDb250ZXh0O1xuICAgIH1cblxuICAgIC8vIFJlZ2lzdGVyIGl0c2VsZiBhcyBhIHJ1bm5pbmcgbG9jYWxGb3JhZ2UgaW4gdGhlIGN1cnJlbnQgY29udGV4dC5cbiAgICBkYkNvbnRleHQuZm9yYWdlcy5wdXNoKHNlbGYpO1xuXG4gICAgLy8gUmVwbGFjZSB0aGUgZGVmYXVsdCBgcmVhZHkoKWAgZnVuY3Rpb24gd2l0aCB0aGUgc3BlY2lhbGl6ZWQgb25lLlxuICAgIGlmICghc2VsZi5faW5pdFJlYWR5KSB7XG4gICAgICAgIHNlbGYuX2luaXRSZWFkeSA9IHNlbGYucmVhZHk7XG4gICAgICAgIHNlbGYucmVhZHkgPSBfZnVsbHlSZWFkeTtcbiAgICB9XG5cbiAgICAvLyBDcmVhdGUgYW4gYXJyYXkgb2YgaW5pdGlhbGl6YXRpb24gc3RhdGVzIG9mIHRoZSByZWxhdGVkIGxvY2FsRm9yYWdlcy5cbiAgICB2YXIgaW5pdFByb21pc2VzID0gW107XG5cbiAgICBmdW5jdGlvbiBpZ25vcmVFcnJvcnMoKSB7XG4gICAgICAgIC8vIERvbid0IGhhbmRsZSBlcnJvcnMgaGVyZSxcbiAgICAgICAgLy8ganVzdCBtYWtlcyBzdXJlIHJlbGF0ZWQgbG9jYWxGb3JhZ2VzIGFyZW4ndCBwZW5kaW5nLlxuICAgICAgICByZXR1cm4gUHJvbWlzZSQxLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRiQ29udGV4dC5mb3JhZ2VzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBmb3JhZ2UgPSBkYkNvbnRleHQuZm9yYWdlc1tqXTtcbiAgICAgICAgaWYgKGZvcmFnZSAhPT0gc2VsZikge1xuICAgICAgICAgICAgLy8gRG9uJ3Qgd2FpdCBmb3IgaXRzZWxmLi4uXG4gICAgICAgICAgICBpbml0UHJvbWlzZXMucHVzaChmb3JhZ2UuX2luaXRSZWFkeSgpW1wiY2F0Y2hcIl0oaWdub3JlRXJyb3JzKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUYWtlIGEgc25hcHNob3Qgb2YgdGhlIHJlbGF0ZWQgbG9jYWxGb3JhZ2VzLlxuICAgIHZhciBmb3JhZ2VzID0gZGJDb250ZXh0LmZvcmFnZXMuc2xpY2UoMCk7XG5cbiAgICAvLyBJbml0aWFsaXplIHRoZSBjb25uZWN0aW9uIHByb2Nlc3Mgb25seSB3aGVuXG4gICAgLy8gYWxsIHRoZSByZWxhdGVkIGxvY2FsRm9yYWdlcyBhcmVuJ3QgcGVuZGluZy5cbiAgICByZXR1cm4gUHJvbWlzZSQxLmFsbChpbml0UHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBkYkluZm8uZGIgPSBkYkNvbnRleHQuZGI7XG4gICAgICAgIC8vIEdldCB0aGUgY29ubmVjdGlvbiBvciBvcGVuIGEgbmV3IG9uZSB3aXRob3V0IHVwZ3JhZGUuXG4gICAgICAgIHJldHVybiBfZ2V0T3JpZ2luYWxDb25uZWN0aW9uKGRiSW5mbyk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoZGIpIHtcbiAgICAgICAgZGJJbmZvLmRiID0gZGI7XG4gICAgICAgIGlmIChfaXNVcGdyYWRlTmVlZGVkKGRiSW5mbywgc2VsZi5fZGVmYXVsdENvbmZpZy52ZXJzaW9uKSkge1xuICAgICAgICAgICAgLy8gUmVvcGVuIHRoZSBkYXRhYmFzZSBmb3IgdXBncmFkaW5nLlxuICAgICAgICAgICAgcmV0dXJuIF9nZXRVcGdyYWRlZENvbm5lY3Rpb24oZGJJbmZvKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGI7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoZGIpIHtcbiAgICAgICAgZGJJbmZvLmRiID0gZGJDb250ZXh0LmRiID0gZGI7XG4gICAgICAgIHNlbGYuX2RiSW5mbyA9IGRiSW5mbztcbiAgICAgICAgLy8gU2hhcmUgdGhlIGZpbmFsIGNvbm5lY3Rpb24gYW1vbmdzdCByZWxhdGVkIGxvY2FsRm9yYWdlcy5cbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBmb3JhZ2VzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICB2YXIgZm9yYWdlID0gZm9yYWdlc1trXTtcbiAgICAgICAgICAgIGlmIChmb3JhZ2UgIT09IHNlbGYpIHtcbiAgICAgICAgICAgICAgICAvLyBTZWxmIGlzIGFscmVhZHkgdXAtdG8tZGF0ZS5cbiAgICAgICAgICAgICAgICBmb3JhZ2UuX2RiSW5mby5kYiA9IGRiSW5mby5kYjtcbiAgICAgICAgICAgICAgICBmb3JhZ2UuX2RiSW5mby52ZXJzaW9uID0gZGJJbmZvLnZlcnNpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0SXRlbShrZXksIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gQ2FzdCB0aGUga2V5IHRvIGEgc3RyaW5nLCBhcyB0aGF0J3MgYWxsIHdlIGNhbiBzZXQgYXMgYSBrZXkuXG4gICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihrZXkgKyAnIHVzZWQgYXMgYSBrZXksIGJ1dCBpdCBpcyBub3QgYSBzdHJpbmcuJyk7XG4gICAgICAgIGtleSA9IFN0cmluZyhrZXkpO1xuICAgIH1cblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgICAgICB2YXIgc3RvcmUgPSBkYkluZm8uZGIudHJhbnNhY3Rpb24oZGJJbmZvLnN0b3JlTmFtZSwgJ3JlYWRvbmx5Jykub2JqZWN0U3RvcmUoZGJJbmZvLnN0b3JlTmFtZSk7XG4gICAgICAgICAgICB2YXIgcmVxID0gc3RvcmUuZ2V0KGtleSk7XG5cbiAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcmVxLnJlc3VsdDtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfaXNFbmNvZGVkQmxvYih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBfZGVjb2RlQmxvYih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHJlcS5lcnJvcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG4vLyBJdGVyYXRlIG92ZXIgYWxsIGl0ZW1zIHN0b3JlZCBpbiBkYXRhYmFzZS5cbmZ1bmN0aW9uIGl0ZXJhdGUoaXRlcmF0b3IsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcbiAgICAgICAgICAgIHZhciBzdG9yZSA9IGRiSW5mby5kYi50cmFuc2FjdGlvbihkYkluZm8uc3RvcmVOYW1lLCAncmVhZG9ubHknKS5vYmplY3RTdG9yZShkYkluZm8uc3RvcmVOYW1lKTtcblxuICAgICAgICAgICAgdmFyIHJlcSA9IHN0b3JlLm9wZW5DdXJzb3IoKTtcbiAgICAgICAgICAgIHZhciBpdGVyYXRpb25OdW1iZXIgPSAxO1xuXG4gICAgICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJzb3IgPSByZXEucmVzdWx0O1xuXG4gICAgICAgICAgICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBjdXJzb3IudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfaXNFbmNvZGVkQmxvYih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gX2RlY29kZUJsb2IodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBpdGVyYXRvcih2YWx1ZSwgY3Vyc29yLmtleSwgaXRlcmF0aW9uTnVtYmVyKyspO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yW1wiY29udGludWVcIl0oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZWplY3QocmVxLmVycm9yKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pW1wiY2F0Y2hcIl0ocmVqZWN0KTtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gc2V0SXRlbShrZXksIHZhbHVlLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIENhc3QgdGhlIGtleSB0byBhIHN0cmluZywgYXMgdGhhdCdzIGFsbCB3ZSBjYW4gc2V0IGFzIGEga2V5LlxuICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zb2xlLndhcm4oa2V5ICsgJyB1c2VkIGFzIGEga2V5LCBidXQgaXQgaXMgbm90IGEgc3RyaW5nLicpO1xuICAgICAgICBrZXkgPSBTdHJpbmcoa2V5KTtcbiAgICB9XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgZGJJbmZvO1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgICAgICBpZiAodG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEJsb2JdJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfY2hlY2tCbG9iU3VwcG9ydChkYkluZm8uZGIpLnRoZW4oZnVuY3Rpb24gKGJsb2JTdXBwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChibG9iU3VwcG9ydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfZW5jb2RlQmxvYih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgdHJhbnNhY3Rpb24gPSBkYkluZm8uZGIudHJhbnNhY3Rpb24oZGJJbmZvLnN0b3JlTmFtZSwgJ3JlYWR3cml0ZScpO1xuICAgICAgICAgICAgdmFyIHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoZGJJbmZvLnN0b3JlTmFtZSk7XG4gICAgICAgICAgICB2YXIgcmVxID0gc3RvcmUucHV0KHZhbHVlLCBrZXkpO1xuXG4gICAgICAgICAgICAvLyBUaGUgcmVhc29uIHdlIGRvbid0IF9zYXZlXyBudWxsIGlzIGJlY2F1c2UgSUUgMTAgZG9lc1xuICAgICAgICAgICAgLy8gbm90IHN1cHBvcnQgc2F2aW5nIHRoZSBgbnVsbGAgdHlwZSBpbiBJbmRleGVkREIuIEhvd1xuICAgICAgICAgICAgLy8gaXJvbmljLCBnaXZlbiB0aGUgYnVnIGJlbG93IVxuICAgICAgICAgICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9sb2NhbEZvcmFnZS9pc3N1ZXMvMTYxXG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBDYXN0IHRvIHVuZGVmaW5lZCBzbyB0aGUgdmFsdWUgcGFzc2VkIHRvXG4gICAgICAgICAgICAgICAgLy8gY2FsbGJhY2svcHJvbWlzZSBpcyB0aGUgc2FtZSBhcyB3aGF0IG9uZSB3b3VsZCBnZXQgb3V0XG4gICAgICAgICAgICAgICAgLy8gb2YgYGdldEl0ZW0oKWAgbGF0ZXIuIFRoaXMgbGVhZHMgdG8gc29tZSB3ZWlyZG5lc3NcbiAgICAgICAgICAgICAgICAvLyAoc2V0SXRlbSgnZm9vJywgdW5kZWZpbmVkKSB3aWxsIHJldHVybiBgbnVsbGApLCBidXRcbiAgICAgICAgICAgICAgICAvLyBpdCdzIG5vdCBteSBmYXVsdCBsb2NhbFN0b3JhZ2UgaXMgb3VyIGJhc2VsaW5lIGFuZCB0aGF0XG4gICAgICAgICAgICAgICAgLy8gaXQncyB3ZWlyZC5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24ub25hYm9ydCA9IHRyYW5zYWN0aW9uLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVyciA9IHJlcS5lcnJvciA/IHJlcS5lcnJvciA6IHJlcS50cmFuc2FjdGlvbi5lcnJvcjtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pW1wiY2F0Y2hcIl0ocmVqZWN0KTtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUl0ZW0oa2V5LCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIENhc3QgdGhlIGtleSB0byBhIHN0cmluZywgYXMgdGhhdCdzIGFsbCB3ZSBjYW4gc2V0IGFzIGEga2V5LlxuICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zb2xlLndhcm4oa2V5ICsgJyB1c2VkIGFzIGEga2V5LCBidXQgaXQgaXMgbm90IGEgc3RyaW5nLicpO1xuICAgICAgICBrZXkgPSBTdHJpbmcoa2V5KTtcbiAgICB9XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uID0gZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGRiSW5mby5zdG9yZU5hbWUsICdyZWFkd3JpdGUnKTtcbiAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKGRiSW5mby5zdG9yZU5hbWUpO1xuXG4gICAgICAgICAgICAvLyBXZSB1c2UgYSBHcnVudCB0YXNrIHRvIG1ha2UgdGhpcyBzYWZlIGZvciBJRSBhbmQgc29tZVxuICAgICAgICAgICAgLy8gdmVyc2lvbnMgb2YgQW5kcm9pZCAoaW5jbHVkaW5nIHRob3NlIHVzZWQgYnkgQ29yZG92YSkuXG4gICAgICAgICAgICAvLyBOb3JtYWxseSBJRSB3b24ndCBsaWtlIGAuZGVsZXRlKClgIGFuZCB3aWxsIGluc2lzdCBvblxuICAgICAgICAgICAgLy8gdXNpbmcgYFsnZGVsZXRlJ10oKWAsIGJ1dCB3ZSBoYXZlIGEgYnVpbGQgc3RlcCB0aGF0XG4gICAgICAgICAgICAvLyBmaXhlcyB0aGlzIGZvciB1cyBub3cuXG4gICAgICAgICAgICB2YXIgcmVxID0gc3RvcmVbXCJkZWxldGVcIl0oa2V5KTtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdHJhbnNhY3Rpb24ub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZWplY3QocmVxLmVycm9yKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFRoZSByZXF1ZXN0IHdpbGwgYmUgYWxzbyBiZSBhYm9ydGVkIGlmIHdlJ3ZlIGV4Y2VlZGVkIG91ciBzdG9yYWdlXG4gICAgICAgICAgICAvLyBzcGFjZS5cbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9uYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVyciA9IHJlcS5lcnJvciA/IHJlcS5lcnJvciA6IHJlcS50cmFuc2FjdGlvbi5lcnJvcjtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pW1wiY2F0Y2hcIl0ocmVqZWN0KTtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbmZ1bmN0aW9uIGNsZWFyKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcbiAgICAgICAgICAgIHZhciB0cmFuc2FjdGlvbiA9IGRiSW5mby5kYi50cmFuc2FjdGlvbihkYkluZm8uc3RvcmVOYW1lLCAncmVhZHdyaXRlJyk7XG4gICAgICAgICAgICB2YXIgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShkYkluZm8uc3RvcmVOYW1lKTtcbiAgICAgICAgICAgIHZhciByZXEgPSBzdG9yZS5jbGVhcigpO1xuXG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9uYWJvcnQgPSB0cmFuc2FjdGlvbi5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBlcnIgPSByZXEuZXJyb3IgPyByZXEuZXJyb3IgOiByZXEudHJhbnNhY3Rpb24uZXJyb3I7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBsZW5ndGgoY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICAgICAgdmFyIHN0b3JlID0gZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGRiSW5mby5zdG9yZU5hbWUsICdyZWFkb25seScpLm9iamVjdFN0b3JlKGRiSW5mby5zdG9yZU5hbWUpO1xuICAgICAgICAgICAgdmFyIHJlcSA9IHN0b3JlLmNvdW50KCk7XG5cbiAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXEucmVzdWx0KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlamVjdChyZXEuZXJyb3IpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24ga2V5KG4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgaWYgKG4gPCAwKSB7XG4gICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICAgICAgdmFyIHN0b3JlID0gZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGRiSW5mby5zdG9yZU5hbWUsICdyZWFkb25seScpLm9iamVjdFN0b3JlKGRiSW5mby5zdG9yZU5hbWUpO1xuXG4gICAgICAgICAgICB2YXIgYWR2YW5jZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciByZXEgPSBzdG9yZS5vcGVuQ3Vyc29yKCk7XG4gICAgICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJzb3IgPSByZXEucmVzdWx0O1xuICAgICAgICAgICAgICAgIGlmICghY3Vyc29yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbWVhbnMgdGhlcmUgd2VyZW4ndCBlbm91Z2gga2V5c1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAobiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIHRoZSBmaXJzdCBrZXksIHJldHVybiBpdCBpZiB0aGF0J3Mgd2hhdCB0aGV5XG4gICAgICAgICAgICAgICAgICAgIC8vIHdhbnRlZC5cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjdXJzb3Iua2V5KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWFkdmFuY2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIGFzayB0aGUgY3Vyc29yIHRvIHNraXAgYWhlYWQgblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVjb3Jkcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5hZHZhbmNlKG4pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiB3ZSBnZXQgaGVyZSwgd2UndmUgZ290IHRoZSBudGgga2V5LlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjdXJzb3Iua2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlamVjdChyZXEuZXJyb3IpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24ga2V5cyhjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgICAgICB2YXIgc3RvcmUgPSBkYkluZm8uZGIudHJhbnNhY3Rpb24oZGJJbmZvLnN0b3JlTmFtZSwgJ3JlYWRvbmx5Jykub2JqZWN0U3RvcmUoZGJJbmZvLnN0b3JlTmFtZSk7XG5cbiAgICAgICAgICAgIHZhciByZXEgPSBzdG9yZS5vcGVuQ3Vyc29yKCk7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuXG4gICAgICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJzb3IgPSByZXEucmVzdWx0O1xuXG4gICAgICAgICAgICAgICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShrZXlzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGtleXMucHVzaChjdXJzb3Iua2V5KTtcbiAgICAgICAgICAgICAgICBjdXJzb3JbXCJjb250aW51ZVwiXSgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHJlcS5lcnJvcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG52YXIgYXN5bmNTdG9yYWdlID0ge1xuICAgIF9kcml2ZXI6ICdhc3luY1N0b3JhZ2UnLFxuICAgIF9pbml0U3RvcmFnZTogX2luaXRTdG9yYWdlLFxuICAgIGl0ZXJhdGU6IGl0ZXJhdGUsXG4gICAgZ2V0SXRlbTogZ2V0SXRlbSxcbiAgICBzZXRJdGVtOiBzZXRJdGVtLFxuICAgIHJlbW92ZUl0ZW06IHJlbW92ZUl0ZW0sXG4gICAgY2xlYXI6IGNsZWFyLFxuICAgIGxlbmd0aDogbGVuZ3RoLFxuICAgIGtleToga2V5LFxuICAgIGtleXM6IGtleXNcbn07XG5cbi8vIFNhZGx5LCB0aGUgYmVzdCB3YXkgdG8gc2F2ZSBiaW5hcnkgZGF0YSBpbiBXZWJTUUwvbG9jYWxTdG9yYWdlIGlzIHNlcmlhbGl6aW5nXG4vLyBpdCB0byBCYXNlNjQsIHNvIHRoaXMgaXMgaG93IHdlIHN0b3JlIGl0IHRvIHByZXZlbnQgdmVyeSBzdHJhbmdlIGVycm9ycyB3aXRoIGxlc3Ncbi8vIHZlcmJvc2Ugd2F5cyBvZiBiaW5hcnkgPC0+IHN0cmluZyBkYXRhIHN0b3JhZ2UuXG52YXIgQkFTRV9DSEFSUyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJztcblxudmFyIEJMT0JfVFlQRV9QUkVGSVggPSAnfn5sb2NhbF9mb3JhZ2VfdHlwZX4nO1xudmFyIEJMT0JfVFlQRV9QUkVGSVhfUkVHRVggPSAvXn5+bG9jYWxfZm9yYWdlX3R5cGV+KFtefl0rKX4vO1xuXG52YXIgU0VSSUFMSVpFRF9NQVJLRVIgPSAnX19sZnNjX186JztcbnZhciBTRVJJQUxJWkVEX01BUktFUl9MRU5HVEggPSBTRVJJQUxJWkVEX01BUktFUi5sZW5ndGg7XG5cbi8vIE9NRyB0aGUgc2VyaWFsaXphdGlvbnMhXG52YXIgVFlQRV9BUlJBWUJVRkZFUiA9ICdhcmJmJztcbnZhciBUWVBFX0JMT0IgPSAnYmxvYic7XG52YXIgVFlQRV9JTlQ4QVJSQVkgPSAnc2kwOCc7XG52YXIgVFlQRV9VSU5UOEFSUkFZID0gJ3VpMDgnO1xudmFyIFRZUEVfVUlOVDhDTEFNUEVEQVJSQVkgPSAndWljOCc7XG52YXIgVFlQRV9JTlQxNkFSUkFZID0gJ3NpMTYnO1xudmFyIFRZUEVfSU5UMzJBUlJBWSA9ICdzaTMyJztcbnZhciBUWVBFX1VJTlQxNkFSUkFZID0gJ3VyMTYnO1xudmFyIFRZUEVfVUlOVDMyQVJSQVkgPSAndWkzMic7XG52YXIgVFlQRV9GTE9BVDMyQVJSQVkgPSAnZmwzMic7XG52YXIgVFlQRV9GTE9BVDY0QVJSQVkgPSAnZmw2NCc7XG52YXIgVFlQRV9TRVJJQUxJWkVEX01BUktFUl9MRU5HVEggPSBTRVJJQUxJWkVEX01BUktFUl9MRU5HVEggKyBUWVBFX0FSUkFZQlVGRkVSLmxlbmd0aDtcblxudmFyIHRvU3RyaW5nJDEgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG5mdW5jdGlvbiBzdHJpbmdUb0J1ZmZlcihzZXJpYWxpemVkU3RyaW5nKSB7XG4gICAgLy8gRmlsbCB0aGUgc3RyaW5nIGludG8gYSBBcnJheUJ1ZmZlci5cbiAgICB2YXIgYnVmZmVyTGVuZ3RoID0gc2VyaWFsaXplZFN0cmluZy5sZW5ndGggKiAwLjc1O1xuICAgIHZhciBsZW4gPSBzZXJpYWxpemVkU3RyaW5nLmxlbmd0aDtcbiAgICB2YXIgaTtcbiAgICB2YXIgcCA9IDA7XG4gICAgdmFyIGVuY29kZWQxLCBlbmNvZGVkMiwgZW5jb2RlZDMsIGVuY29kZWQ0O1xuXG4gICAgaWYgKHNlcmlhbGl6ZWRTdHJpbmdbc2VyaWFsaXplZFN0cmluZy5sZW5ndGggLSAxXSA9PT0gJz0nKSB7XG4gICAgICAgIGJ1ZmZlckxlbmd0aC0tO1xuICAgICAgICBpZiAoc2VyaWFsaXplZFN0cmluZ1tzZXJpYWxpemVkU3RyaW5nLmxlbmd0aCAtIDJdID09PSAnPScpIHtcbiAgICAgICAgICAgIGJ1ZmZlckxlbmd0aC0tO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihidWZmZXJMZW5ndGgpO1xuICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgZW5jb2RlZDEgPSBCQVNFX0NIQVJTLmluZGV4T2Yoc2VyaWFsaXplZFN0cmluZ1tpXSk7XG4gICAgICAgIGVuY29kZWQyID0gQkFTRV9DSEFSUy5pbmRleE9mKHNlcmlhbGl6ZWRTdHJpbmdbaSArIDFdKTtcbiAgICAgICAgZW5jb2RlZDMgPSBCQVNFX0NIQVJTLmluZGV4T2Yoc2VyaWFsaXplZFN0cmluZ1tpICsgMl0pO1xuICAgICAgICBlbmNvZGVkNCA9IEJBU0VfQ0hBUlMuaW5kZXhPZihzZXJpYWxpemVkU3RyaW5nW2kgKyAzXSk7XG5cbiAgICAgICAgLypqc2xpbnQgYml0d2lzZTogdHJ1ZSAqL1xuICAgICAgICBieXRlc1twKytdID0gZW5jb2RlZDEgPDwgMiB8IGVuY29kZWQyID4+IDQ7XG4gICAgICAgIGJ5dGVzW3ArK10gPSAoZW5jb2RlZDIgJiAxNSkgPDwgNCB8IGVuY29kZWQzID4+IDI7XG4gICAgICAgIGJ5dGVzW3ArK10gPSAoZW5jb2RlZDMgJiAzKSA8PCA2IHwgZW5jb2RlZDQgJiA2MztcbiAgICB9XG4gICAgcmV0dXJuIGJ1ZmZlcjtcbn1cblxuLy8gQ29udmVydHMgYSBidWZmZXIgdG8gYSBzdHJpbmcgdG8gc3RvcmUsIHNlcmlhbGl6ZWQsIGluIHRoZSBiYWNrZW5kXG4vLyBzdG9yYWdlIGxpYnJhcnkuXG5mdW5jdGlvbiBidWZmZXJUb1N0cmluZyhidWZmZXIpIHtcbiAgICAvLyBiYXNlNjQtYXJyYXlidWZmZXJcbiAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgIHZhciBiYXNlNjRTdHJpbmcgPSAnJztcbiAgICB2YXIgaTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICAvKmpzbGludCBiaXR3aXNlOiB0cnVlICovXG4gICAgICAgIGJhc2U2NFN0cmluZyArPSBCQVNFX0NIQVJTW2J5dGVzW2ldID4+IDJdO1xuICAgICAgICBiYXNlNjRTdHJpbmcgKz0gQkFTRV9DSEFSU1soYnl0ZXNbaV0gJiAzKSA8PCA0IHwgYnl0ZXNbaSArIDFdID4+IDRdO1xuICAgICAgICBiYXNlNjRTdHJpbmcgKz0gQkFTRV9DSEFSU1soYnl0ZXNbaSArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpICsgMl0gPj4gNl07XG4gICAgICAgIGJhc2U2NFN0cmluZyArPSBCQVNFX0NIQVJTW2J5dGVzW2kgKyAyXSAmIDYzXTtcbiAgICB9XG5cbiAgICBpZiAoYnl0ZXMubGVuZ3RoICUgMyA9PT0gMikge1xuICAgICAgICBiYXNlNjRTdHJpbmcgPSBiYXNlNjRTdHJpbmcuc3Vic3RyaW5nKDAsIGJhc2U2NFN0cmluZy5sZW5ndGggLSAxKSArICc9JztcbiAgICB9IGVsc2UgaWYgKGJ5dGVzLmxlbmd0aCAlIDMgPT09IDEpIHtcbiAgICAgICAgYmFzZTY0U3RyaW5nID0gYmFzZTY0U3RyaW5nLnN1YnN0cmluZygwLCBiYXNlNjRTdHJpbmcubGVuZ3RoIC0gMikgKyAnPT0nO1xuICAgIH1cblxuICAgIHJldHVybiBiYXNlNjRTdHJpbmc7XG59XG5cbi8vIFNlcmlhbGl6ZSBhIHZhbHVlLCBhZnRlcndhcmRzIGV4ZWN1dGluZyBhIGNhbGxiYWNrICh3aGljaCB1c3VhbGx5XG4vLyBpbnN0cnVjdHMgdGhlIGBzZXRJdGVtKClgIGNhbGxiYWNrL3Byb21pc2UgdG8gYmUgZXhlY3V0ZWQpLiBUaGlzIGlzIGhvd1xuLy8gd2Ugc3RvcmUgYmluYXJ5IGRhdGEgd2l0aCBsb2NhbFN0b3JhZ2UuXG5mdW5jdGlvbiBzZXJpYWxpemUodmFsdWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHZhbHVlVHlwZSA9ICcnO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB2YWx1ZVR5cGUgPSB0b1N0cmluZyQxLmNhbGwodmFsdWUpO1xuICAgIH1cblxuICAgIC8vIENhbm5vdCB1c2UgYHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJgIG9yIHN1Y2ggaGVyZSwgYXMgdGhlc2VcbiAgICAvLyBjaGVja3MgZmFpbCB3aGVuIHJ1bm5pbmcgdGhlIHRlc3RzIHVzaW5nIGNhc3Blci5qcy4uLlxuICAgIC8vXG4gICAgLy8gVE9ETzogU2VlIHdoeSB0aG9zZSB0ZXN0cyBmYWlsIGFuZCB1c2UgYSBiZXR0ZXIgc29sdXRpb24uXG4gICAgaWYgKHZhbHVlICYmICh2YWx1ZVR5cGUgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXScgfHwgdmFsdWUuYnVmZmVyICYmIHRvU3RyaW5nJDEuY2FsbCh2YWx1ZS5idWZmZXIpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nKSkge1xuICAgICAgICAvLyBDb252ZXJ0IGJpbmFyeSBhcnJheXMgdG8gYSBzdHJpbmcgYW5kIHByZWZpeCB0aGUgc3RyaW5nIHdpdGhcbiAgICAgICAgLy8gYSBzcGVjaWFsIG1hcmtlci5cbiAgICAgICAgdmFyIGJ1ZmZlcjtcbiAgICAgICAgdmFyIG1hcmtlciA9IFNFUklBTElaRURfTUFSS0VSO1xuXG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgICBidWZmZXIgPSB2YWx1ZTtcbiAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX0FSUkFZQlVGRkVSO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnVmZmVyID0gdmFsdWUuYnVmZmVyO1xuXG4gICAgICAgICAgICBpZiAodmFsdWVUeXBlID09PSAnW29iamVjdCBJbnQ4QXJyYXldJykge1xuICAgICAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX0lOVDhBUlJBWTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVUeXBlID09PSAnW29iamVjdCBVaW50OEFycmF5XScpIHtcbiAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9VSU5UOEFSUkFZO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVR5cGUgPT09ICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XScpIHtcbiAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9VSU5UOENMQU1QRURBUlJBWTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVUeXBlID09PSAnW29iamVjdCBJbnQxNkFycmF5XScpIHtcbiAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9JTlQxNkFSUkFZO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVR5cGUgPT09ICdbb2JqZWN0IFVpbnQxNkFycmF5XScpIHtcbiAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9VSU5UMTZBUlJBWTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVUeXBlID09PSAnW29iamVjdCBJbnQzMkFycmF5XScpIHtcbiAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9JTlQzMkFSUkFZO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVR5cGUgPT09ICdbb2JqZWN0IFVpbnQzMkFycmF5XScpIHtcbiAgICAgICAgICAgICAgICBtYXJrZXIgKz0gVFlQRV9VSU5UMzJBUlJBWTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVUeXBlID09PSAnW29iamVjdCBGbG9hdDMyQXJyYXldJykge1xuICAgICAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX0ZMT0FUMzJBUlJBWTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWVUeXBlID09PSAnW29iamVjdCBGbG9hdDY0QXJyYXldJykge1xuICAgICAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX0ZMT0FUNjRBUlJBWTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdGYWlsZWQgdG8gZ2V0IHR5cGUgZm9yIEJpbmFyeUFycmF5JykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2FsbGJhY2sobWFya2VyICsgYnVmZmVyVG9TdHJpbmcoYnVmZmVyKSk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZVR5cGUgPT09ICdbb2JqZWN0IEJsb2JdJykge1xuICAgICAgICAvLyBDb252ZXIgdGhlIGJsb2IgdG8gYSBiaW5hcnlBcnJheSBhbmQgdGhlbiB0byBhIHN0cmluZy5cbiAgICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXG4gICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gQmFja3dhcmRzLWNvbXBhdGlibGUgcHJlZml4IGZvciB0aGUgYmxvYiB0eXBlLlxuICAgICAgICAgICAgdmFyIHN0ciA9IEJMT0JfVFlQRV9QUkVGSVggKyB2YWx1ZS50eXBlICsgJ34nICsgYnVmZmVyVG9TdHJpbmcodGhpcy5yZXN1bHQpO1xuXG4gICAgICAgICAgICBjYWxsYmFjayhTRVJJQUxJWkVEX01BUktFUiArIFRZUEVfQkxPQiArIHN0cik7XG4gICAgICAgIH07XG5cbiAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcih2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNhbGxiYWNrKEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDb3VsZG4ndCBjb252ZXJ0IHZhbHVlIGludG8gYSBKU09OIHN0cmluZzogXCIsIHZhbHVlKTtcblxuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIERlc2VyaWFsaXplIGRhdGEgd2UndmUgaW5zZXJ0ZWQgaW50byBhIHZhbHVlIGNvbHVtbi9maWVsZC4gV2UgcGxhY2Vcbi8vIHNwZWNpYWwgbWFya2VycyBpbnRvIG91ciBzdHJpbmdzIHRvIG1hcmsgdGhlbSBhcyBlbmNvZGVkOyB0aGlzIGlzbid0XG4vLyBhcyBuaWNlIGFzIGEgbWV0YSBmaWVsZCwgYnV0IGl0J3MgdGhlIG9ubHkgc2FuZSB0aGluZyB3ZSBjYW4gZG8gd2hpbHN0XG4vLyBrZWVwaW5nIGxvY2FsU3RvcmFnZSBzdXBwb3J0IGludGFjdC5cbi8vXG4vLyBPZnRlbnRpbWVzIHRoaXMgd2lsbCBqdXN0IGRlc2VyaWFsaXplIEpTT04gY29udGVudCwgYnV0IGlmIHdlIGhhdmUgYVxuLy8gc3BlY2lhbCBtYXJrZXIgKFNFUklBTElaRURfTUFSS0VSLCBkZWZpbmVkIGFib3ZlKSwgd2Ugd2lsbCBleHRyYWN0XG4vLyBzb21lIGtpbmQgb2YgYXJyYXlidWZmZXIvYmluYXJ5IGRhdGEvdHlwZWQgYXJyYXkgb3V0IG9mIHRoZSBzdHJpbmcuXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZSh2YWx1ZSkge1xuICAgIC8vIElmIHdlIGhhdmVuJ3QgbWFya2VkIHRoaXMgc3RyaW5nIGFzIGJlaW5nIHNwZWNpYWxseSBzZXJpYWxpemVkIChpLmUuXG4gICAgLy8gc29tZXRoaW5nIG90aGVyIHRoYW4gc2VyaWFsaXplZCBKU09OKSwgd2UgY2FuIGp1c3QgcmV0dXJuIGl0IGFuZCBiZVxuICAgIC8vIGRvbmUgd2l0aCBpdC5cbiAgICBpZiAodmFsdWUuc3Vic3RyaW5nKDAsIFNFUklBTElaRURfTUFSS0VSX0xFTkdUSCkgIT09IFNFUklBTElaRURfTUFSS0VSKSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBUaGUgZm9sbG93aW5nIGNvZGUgZGVhbHMgd2l0aCBkZXNlcmlhbGl6aW5nIHNvbWUga2luZCBvZiBCbG9iIG9yXG4gICAgLy8gVHlwZWRBcnJheS4gRmlyc3Qgd2Ugc2VwYXJhdGUgb3V0IHRoZSB0eXBlIG9mIGRhdGEgd2UncmUgZGVhbGluZ1xuICAgIC8vIHdpdGggZnJvbSB0aGUgZGF0YSBpdHNlbGYuXG4gICAgdmFyIHNlcmlhbGl6ZWRTdHJpbmcgPSB2YWx1ZS5zdWJzdHJpbmcoVFlQRV9TRVJJQUxJWkVEX01BUktFUl9MRU5HVEgpO1xuICAgIHZhciB0eXBlID0gdmFsdWUuc3Vic3RyaW5nKFNFUklBTElaRURfTUFSS0VSX0xFTkdUSCwgVFlQRV9TRVJJQUxJWkVEX01BUktFUl9MRU5HVEgpO1xuXG4gICAgdmFyIGJsb2JUeXBlO1xuICAgIC8vIEJhY2t3YXJkcy1jb21wYXRpYmxlIGJsb2IgdHlwZSBzZXJpYWxpemF0aW9uIHN0cmF0ZWd5LlxuICAgIC8vIERCcyBjcmVhdGVkIHdpdGggb2xkZXIgdmVyc2lvbnMgb2YgbG9jYWxGb3JhZ2Ugd2lsbCBzaW1wbHkgbm90IGhhdmUgdGhlIGJsb2IgdHlwZS5cbiAgICBpZiAodHlwZSA9PT0gVFlQRV9CTE9CICYmIEJMT0JfVFlQRV9QUkVGSVhfUkVHRVgudGVzdChzZXJpYWxpemVkU3RyaW5nKSkge1xuICAgICAgICB2YXIgbWF0Y2hlciA9IHNlcmlhbGl6ZWRTdHJpbmcubWF0Y2goQkxPQl9UWVBFX1BSRUZJWF9SRUdFWCk7XG4gICAgICAgIGJsb2JUeXBlID0gbWF0Y2hlclsxXTtcbiAgICAgICAgc2VyaWFsaXplZFN0cmluZyA9IHNlcmlhbGl6ZWRTdHJpbmcuc3Vic3RyaW5nKG1hdGNoZXJbMF0ubGVuZ3RoKTtcbiAgICB9XG4gICAgdmFyIGJ1ZmZlciA9IHN0cmluZ1RvQnVmZmVyKHNlcmlhbGl6ZWRTdHJpbmcpO1xuXG4gICAgLy8gUmV0dXJuIHRoZSByaWdodCB0eXBlIGJhc2VkIG9uIHRoZSBjb2RlL3R5cGUgc2V0IGR1cmluZ1xuICAgIC8vIHNlcmlhbGl6YXRpb24uXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgVFlQRV9BUlJBWUJVRkZFUjpcbiAgICAgICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgICAgIGNhc2UgVFlQRV9CTE9COlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUJsb2IoW2J1ZmZlcl0sIHsgdHlwZTogYmxvYlR5cGUgfSk7XG4gICAgICAgIGNhc2UgVFlQRV9JTlQ4QVJSQVk6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDhBcnJheShidWZmZXIpO1xuICAgICAgICBjYXNlIFRZUEVfVUlOVDhBUlJBWTpcbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgICAgICBjYXNlIFRZUEVfVUlOVDhDTEFNUEVEQVJSQVk6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGJ1ZmZlcik7XG4gICAgICAgIGNhc2UgVFlQRV9JTlQxNkFSUkFZOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQxNkFycmF5KGJ1ZmZlcik7XG4gICAgICAgIGNhc2UgVFlQRV9VSU5UMTZBUlJBWTpcbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDE2QXJyYXkoYnVmZmVyKTtcbiAgICAgICAgY2FzZSBUWVBFX0lOVDMyQVJSQVk6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoYnVmZmVyKTtcbiAgICAgICAgY2FzZSBUWVBFX1VJTlQzMkFSUkFZOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50MzJBcnJheShidWZmZXIpO1xuICAgICAgICBjYXNlIFRZUEVfRkxPQVQzMkFSUkFZOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtcbiAgICAgICAgY2FzZSBUWVBFX0ZMT0FUNjRBUlJBWTpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQ2NEFycmF5KGJ1ZmZlcik7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua293biB0eXBlOiAnICsgdHlwZSk7XG4gICAgfVxufVxuXG52YXIgbG9jYWxmb3JhZ2VTZXJpYWxpemVyID0ge1xuICAgIHNlcmlhbGl6ZTogc2VyaWFsaXplLFxuICAgIGRlc2VyaWFsaXplOiBkZXNlcmlhbGl6ZSxcbiAgICBzdHJpbmdUb0J1ZmZlcjogc3RyaW5nVG9CdWZmZXIsXG4gICAgYnVmZmVyVG9TdHJpbmc6IGJ1ZmZlclRvU3RyaW5nXG59O1xuXG4vKlxuICogSW5jbHVkZXMgY29kZSBmcm9tOlxuICpcbiAqIGJhc2U2NC1hcnJheWJ1ZmZlclxuICogaHR0cHM6Ly9naXRodWIuY29tL25pa2xhc3ZoL2Jhc2U2NC1hcnJheWJ1ZmZlclxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxMiBOaWtsYXMgdm9uIEhlcnR6ZW5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cbiAqL1xuLy8gT3BlbiB0aGUgV2ViU1FMIGRhdGFiYXNlIChhdXRvbWF0aWNhbGx5IGNyZWF0ZXMgb25lIGlmIG9uZSBkaWRuJ3Rcbi8vIHByZXZpb3VzbHkgZXhpc3QpLCB1c2luZyBhbnkgb3B0aW9ucyBzZXQgaW4gdGhlIGNvbmZpZy5cbmZ1bmN0aW9uIF9pbml0U3RvcmFnZSQxKG9wdGlvbnMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGRiSW5mbyA9IHtcbiAgICAgICAgZGI6IG51bGxcbiAgICB9O1xuXG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICBkYkluZm9baV0gPSB0eXBlb2Ygb3B0aW9uc1tpXSAhPT0gJ3N0cmluZycgPyBvcHRpb25zW2ldLnRvU3RyaW5nKCkgOiBvcHRpb25zW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGRiSW5mb1Byb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgLy8gT3BlbiB0aGUgZGF0YWJhc2U7IHRoZSBvcGVuRGF0YWJhc2UgQVBJIHdpbGwgYXV0b21hdGljYWxseVxuICAgICAgICAvLyBjcmVhdGUgaXQgZm9yIHVzIGlmIGl0IGRvZXNuJ3QgZXhpc3QuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkYkluZm8uZGIgPSBvcGVuRGF0YWJhc2UoZGJJbmZvLm5hbWUsIFN0cmluZyhkYkluZm8udmVyc2lvbiksIGRiSW5mby5kZXNjcmlwdGlvbiwgZGJJbmZvLnNpemUpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVqZWN0KGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIG91ciBrZXkvdmFsdWUgdGFibGUgaWYgaXQgZG9lc24ndCBleGlzdC5cbiAgICAgICAgZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICB0LmV4ZWN1dGVTcWwoJ0NSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTICcgKyBkYkluZm8uc3RvcmVOYW1lICsgJyAoaWQgSU5URUdFUiBQUklNQVJZIEtFWSwga2V5IHVuaXF1ZSwgdmFsdWUpJywgW10sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9kYkluZm8gPSBkYkluZm87XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRiSW5mby5zZXJpYWxpemVyID0gbG9jYWxmb3JhZ2VTZXJpYWxpemVyO1xuICAgIHJldHVybiBkYkluZm9Qcm9taXNlO1xufVxuXG5mdW5jdGlvbiBnZXRJdGVtJDEoa2V5LCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIENhc3QgdGhlIGtleSB0byBhIHN0cmluZywgYXMgdGhhdCdzIGFsbCB3ZSBjYW4gc2V0IGFzIGEga2V5LlxuICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zb2xlLndhcm4oa2V5ICsgJyB1c2VkIGFzIGEga2V5LCBidXQgaXQgaXMgbm90IGEgc3RyaW5nLicpO1xuICAgICAgICBrZXkgPSBTdHJpbmcoa2V5KTtcbiAgICB9XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICAgICAgZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgdC5leGVjdXRlU3FsKCdTRUxFQ1QgKiBGUk9NICcgKyBkYkluZm8uc3RvcmVOYW1lICsgJyBXSEVSRSBrZXkgPSA/IExJTUlUIDEnLCBba2V5XSwgZnVuY3Rpb24gKHQsIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3VsdHMucm93cy5sZW5ndGggPyByZXN1bHRzLnJvd3MuaXRlbSgwKS52YWx1ZSA6IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoaXMgaXMgc2VyaWFsaXplZCBjb250ZW50IHdlIG5lZWQgdG9cbiAgICAgICAgICAgICAgICAgICAgLy8gdW5wYWNrLlxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkYkluZm8uc2VyaWFsaXplci5kZXNlcmlhbGl6ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0LCBlcnJvcikge1xuXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gaXRlcmF0ZSQxKGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG5cbiAgICAgICAgICAgIGRiSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgIHQuZXhlY3V0ZVNxbCgnU0VMRUNUICogRlJPTSAnICsgZGJJbmZvLnN0b3JlTmFtZSwgW10sIGZ1bmN0aW9uICh0LCByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByb3dzID0gcmVzdWx0cy5yb3dzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gcm93cy5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSByb3dzLml0ZW0oaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlbS52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoaXMgaXMgc2VyaWFsaXplZCBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIHVucGFjay5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkYkluZm8uc2VyaWFsaXplci5kZXNlcmlhbGl6ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBpdGVyYXRvcihyZXN1bHQsIGl0ZW0ua2V5LCBpICsgMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZvaWQoMCkgcHJldmVudHMgcHJvYmxlbXMgd2l0aCByZWRlZmluaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mIGB1bmRlZmluZWRgLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodCwgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBfc2V0SXRlbShrZXksIHZhbHVlLCBjYWxsYmFjaywgcmV0cmllc0xlZnQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBDYXN0IHRoZSBrZXkgdG8gYSBzdHJpbmcsIGFzIHRoYXQncyBhbGwgd2UgY2FuIHNldCBhcyBhIGtleS5cbiAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGtleSArICcgdXNlZCBhcyBhIGtleSwgYnV0IGl0IGlzIG5vdCBhIHN0cmluZy4nKTtcbiAgICAgICAga2V5ID0gU3RyaW5nKGtleSk7XG4gICAgfVxuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gVGhlIGxvY2FsU3RvcmFnZSBBUEkgZG9lc24ndCByZXR1cm4gdW5kZWZpbmVkIHZhbHVlcyBpbiBhblxuICAgICAgICAgICAgLy8gXCJleHBlY3RlZFwiIHdheSwgc28gdW5kZWZpbmVkIGlzIGFsd2F5cyBjYXN0IHRvIG51bGwgaW4gYWxsXG4gICAgICAgICAgICAvLyBkcml2ZXJzLiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL2xvY2FsRm9yYWdlL3B1bGwvNDJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTYXZlIHRoZSBvcmlnaW5hbCB2YWx1ZSB0byBwYXNzIHRvIHRoZSBjYWxsYmFjay5cbiAgICAgICAgICAgIHZhciBvcmlnaW5hbFZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgICAgICBkYkluZm8uc2VyaWFsaXplci5zZXJpYWxpemUodmFsdWUsIGZ1bmN0aW9uICh2YWx1ZSwgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkYkluZm8uZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQuZXhlY3V0ZVNxbCgnSU5TRVJUIE9SIFJFUExBQ0UgSU5UTyAnICsgZGJJbmZvLnN0b3JlTmFtZSArICcgKGtleSwgdmFsdWUpIFZBTFVFUyAoPywgPyknLCBba2V5LCB2YWx1ZV0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG9yaWdpbmFsVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoc3FsRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSB0cmFuc2FjdGlvbiBmYWlsZWQ7IGNoZWNrXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0byBzZWUgaWYgaXQncyBhIHF1b3RhIGVycm9yLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNxbEVycm9yLmNvZGUgPT09IHNxbEVycm9yLlFVT1RBX0VSUikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIHJlamVjdCB0aGUgY2FsbGJhY2sgb3V0cmlnaHQgZm9yIG5vdywgYnV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXQncyB3b3J0aCB0cnlpbmcgdG8gcmUtcnVuIHRoZSB0cmFuc2FjdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFdmVuIGlmIHRoZSB1c2VyIGFjY2VwdHMgdGhlIHByb21wdCB0byB1c2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBtb3JlIHN0b3JhZ2Ugb24gU2FmYXJpLCB0aGlzIGVycm9yIHdpbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBiZSBjYWxsZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUcnkgdG8gcmUtcnVuIHRoZSB0cmFuc2FjdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0cmllc0xlZnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoX3NldEl0ZW0uYXBwbHkoc2VsZiwgW2tleSwgb3JpZ2luYWxWYWx1ZSwgY2FsbGJhY2ssIHJldHJpZXNMZWZ0IC0gMV0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3Qoc3FsRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gc2V0SXRlbSQxKGtleSwgdmFsdWUsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIF9zZXRJdGVtLmFwcGx5KHRoaXMsIFtrZXksIHZhbHVlLCBjYWxsYmFjaywgMV0pO1xufVxuXG5mdW5jdGlvbiByZW1vdmVJdGVtJDEoa2V5LCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8vIENhc3QgdGhlIGtleSB0byBhIHN0cmluZywgYXMgdGhhdCdzIGFsbCB3ZSBjYW4gc2V0IGFzIGEga2V5LlxuICAgIGlmICh0eXBlb2Yga2V5ICE9PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zb2xlLndhcm4oa2V5ICsgJyB1c2VkIGFzIGEga2V5LCBidXQgaXQgaXMgbm90IGEgc3RyaW5nLicpO1xuICAgICAgICBrZXkgPSBTdHJpbmcoa2V5KTtcbiAgICB9XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICAgICAgZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgdC5leGVjdXRlU3FsKCdERUxFVEUgRlJPTSAnICsgZGJJbmZvLnN0b3JlTmFtZSArICcgV0hFUkUga2V5ID0gPycsIFtrZXldLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodCwgZXJyb3IpIHtcblxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pW1wiY2F0Y2hcIl0ocmVqZWN0KTtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbi8vIERlbGV0ZXMgZXZlcnkgaXRlbSBpbiB0aGUgdGFibGUuXG4vLyBUT0RPOiBGaW5kIG91dCBpZiB0aGlzIHJlc2V0cyB0aGUgQVVUT19JTkNSRU1FTlQgbnVtYmVyLlxuZnVuY3Rpb24gY2xlYXIkMShjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgICAgICBkYkluZm8uZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICB0LmV4ZWN1dGVTcWwoJ0RFTEVURSBGUk9NICcgKyBkYkluZm8uc3RvcmVOYW1lLCBbXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLy8gRG9lcyBhIHNpbXBsZSBgQ09VTlQoa2V5KWAgdG8gZ2V0IHRoZSBudW1iZXIgb2YgaXRlbXMgc3RvcmVkIGluXG4vLyBsb2NhbEZvcmFnZS5cbmZ1bmN0aW9uIGxlbmd0aCQxKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcbiAgICAgICAgICAgIGRiSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgIC8vIEFoaGgsIFNRTCBtYWtlcyB0aGlzIG9uZSBzb29vb29vIGVhc3kuXG4gICAgICAgICAgICAgICAgdC5leGVjdXRlU3FsKCdTRUxFQ1QgQ09VTlQoa2V5KSBhcyBjIEZST00gJyArIGRiSW5mby5zdG9yZU5hbWUsIFtdLCBmdW5jdGlvbiAodCwgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzdWx0cy5yb3dzLml0ZW0oMCkuYztcblxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG4vLyBSZXR1cm4gdGhlIGtleSBsb2NhdGVkIGF0IGtleSBpbmRleCBYOyBlc3NlbnRpYWxseSBnZXRzIHRoZSBrZXkgZnJvbSBhXG4vLyBgV0hFUkUgaWQgPSA/YC4gVGhpcyBpcyB0aGUgbW9zdCBlZmZpY2llbnQgd2F5IEkgY2FuIHRoaW5rIHRvIGltcGxlbWVudFxuLy8gdGhpcyByYXJlbHktdXNlZCAoaW4gbXkgZXhwZXJpZW5jZSkgcGFydCBvZiB0aGUgQVBJLCBidXQgaXQgY2FuIHNlZW1cbi8vIGluY29uc2lzdGVudCwgYmVjYXVzZSB3ZSBkbyBgSU5TRVJUIE9SIFJFUExBQ0UgSU5UT2Agb24gYHNldEl0ZW0oKWAsIHNvXG4vLyB0aGUgSUQgb2YgZWFjaCBrZXkgd2lsbCBjaGFuZ2UgZXZlcnkgdGltZSBpdCdzIHVwZGF0ZWQuIFBlcmhhcHMgYSBzdG9yZWRcbi8vIHByb2NlZHVyZSBmb3IgdGhlIGBzZXRJdGVtKClgIFNRTCB3b3VsZCBzb2x2ZSB0aGlzIHByb2JsZW0/XG4vLyBUT0RPOiBEb24ndCBjaGFuZ2UgSUQgb24gYHNldEl0ZW0oKWAuXG5mdW5jdGlvbiBrZXkkMShuLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgICAgICBkYkluZm8uZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICB0LmV4ZWN1dGVTcWwoJ1NFTEVDVCBrZXkgRlJPTSAnICsgZGJJbmZvLnN0b3JlTmFtZSArICcgV0hFUkUgaWQgPSA/IExJTUlUIDEnLCBbbiArIDFdLCBmdW5jdGlvbiAodCwgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzdWx0cy5yb3dzLmxlbmd0aCA/IHJlc3VsdHMucm93cy5pdGVtKDApLmtleSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodCwgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBrZXlzJDEoY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICAgICAgZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgdC5leGVjdXRlU3FsKCdTRUxFQ1Qga2V5IEZST00gJyArIGRiSW5mby5zdG9yZU5hbWUsIFtdLCBmdW5jdGlvbiAodCwgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0cy5yb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2gocmVzdWx0cy5yb3dzLml0ZW0oaSkua2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoa2V5cyk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG52YXIgd2ViU1FMU3RvcmFnZSA9IHtcbiAgICBfZHJpdmVyOiAnd2ViU1FMU3RvcmFnZScsXG4gICAgX2luaXRTdG9yYWdlOiBfaW5pdFN0b3JhZ2UkMSxcbiAgICBpdGVyYXRlOiBpdGVyYXRlJDEsXG4gICAgZ2V0SXRlbTogZ2V0SXRlbSQxLFxuICAgIHNldEl0ZW06IHNldEl0ZW0kMSxcbiAgICByZW1vdmVJdGVtOiByZW1vdmVJdGVtJDEsXG4gICAgY2xlYXI6IGNsZWFyJDEsXG4gICAgbGVuZ3RoOiBsZW5ndGgkMSxcbiAgICBrZXk6IGtleSQxLFxuICAgIGtleXM6IGtleXMkMVxufTtcblxuLy8gQ29uZmlnIHRoZSBsb2NhbFN0b3JhZ2UgYmFja2VuZCwgdXNpbmcgb3B0aW9ucyBzZXQgaW4gdGhlIGNvbmZpZy5cbmZ1bmN0aW9uIF9pbml0U3RvcmFnZSQyKG9wdGlvbnMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGRiSW5mbyA9IHt9O1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgZGJJbmZvW2ldID0gb3B0aW9uc1tpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRiSW5mby5rZXlQcmVmaXggPSBkYkluZm8ubmFtZSArICcvJztcblxuICAgIGlmIChkYkluZm8uc3RvcmVOYW1lICE9PSBzZWxmLl9kZWZhdWx0Q29uZmlnLnN0b3JlTmFtZSkge1xuICAgICAgICBkYkluZm8ua2V5UHJlZml4ICs9IGRiSW5mby5zdG9yZU5hbWUgKyAnLyc7XG4gICAgfVxuXG4gICAgc2VsZi5fZGJJbmZvID0gZGJJbmZvO1xuICAgIGRiSW5mby5zZXJpYWxpemVyID0gbG9jYWxmb3JhZ2VTZXJpYWxpemVyO1xuXG4gICAgcmV0dXJuIFByb21pc2UkMS5yZXNvbHZlKCk7XG59XG5cbi8vIFJlbW92ZSBhbGwga2V5cyBmcm9tIHRoZSBkYXRhc3RvcmUsIGVmZmVjdGl2ZWx5IGRlc3Ryb3lpbmcgYWxsIGRhdGEgaW5cbi8vIHRoZSBhcHAncyBrZXkvdmFsdWUgc3RvcmUhXG5mdW5jdGlvbiBjbGVhciQyKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBwcm9taXNlID0gc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIga2V5UHJlZml4ID0gc2VsZi5fZGJJbmZvLmtleVByZWZpeDtcblxuICAgICAgICBmb3IgKHZhciBpID0gbG9jYWxTdG9yYWdlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gbG9jYWxTdG9yYWdlLmtleShpKTtcblxuICAgICAgICAgICAgaWYgKGtleS5pbmRleE9mKGtleVByZWZpeCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG4vLyBSZXRyaWV2ZSBhbiBpdGVtIGZyb20gdGhlIHN0b3JlLiBVbmxpa2UgdGhlIG9yaWdpbmFsIGFzeW5jX3N0b3JhZ2Vcbi8vIGxpYnJhcnkgaW4gR2FpYSwgd2UgZG9uJ3QgbW9kaWZ5IHJldHVybiB2YWx1ZXMgYXQgYWxsLiBJZiBhIGtleSdzIHZhbHVlXG4vLyBpcyBgdW5kZWZpbmVkYCwgd2UgcGFzcyB0aGF0IHZhbHVlIHRvIHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbmZ1bmN0aW9uIGdldEl0ZW0kMihrZXksIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gQ2FzdCB0aGUga2V5IHRvIGEgc3RyaW5nLCBhcyB0aGF0J3MgYWxsIHdlIGNhbiBzZXQgYXMgYSBrZXkuXG4gICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihrZXkgKyAnIHVzZWQgYXMgYSBrZXksIGJ1dCBpdCBpcyBub3QgYSBzdHJpbmcuJyk7XG4gICAgICAgIGtleSA9IFN0cmluZyhrZXkpO1xuICAgIH1cblxuICAgIHZhciBwcm9taXNlID0gc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICB2YXIgcmVzdWx0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZGJJbmZvLmtleVByZWZpeCArIGtleSk7XG5cbiAgICAgICAgLy8gSWYgYSByZXN1bHQgd2FzIGZvdW5kLCBwYXJzZSBpdCBmcm9tIHRoZSBzZXJpYWxpemVkXG4gICAgICAgIC8vIHN0cmluZyBpbnRvIGEgSlMgb2JqZWN0LiBJZiByZXN1bHQgaXNuJ3QgdHJ1dGh5LCB0aGUga2V5XG4gICAgICAgIC8vIGlzIGxpa2VseSB1bmRlZmluZWQgYW5kIHdlJ2xsIHBhc3MgaXQgc3RyYWlnaHQgdG8gdGhlXG4gICAgICAgIC8vIGNhbGxiYWNrLlxuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHQgPSBkYkluZm8uc2VyaWFsaXplci5kZXNlcmlhbGl6ZShyZXN1bHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbi8vIEl0ZXJhdGUgb3ZlciBhbGwgaXRlbXMgaW4gdGhlIHN0b3JlLlxuZnVuY3Rpb24gaXRlcmF0ZSQyKGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBwcm9taXNlID0gc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICB2YXIga2V5UHJlZml4ID0gZGJJbmZvLmtleVByZWZpeDtcbiAgICAgICAgdmFyIGtleVByZWZpeExlbmd0aCA9IGtleVByZWZpeC5sZW5ndGg7XG4gICAgICAgIHZhciBsZW5ndGggPSBsb2NhbFN0b3JhZ2UubGVuZ3RoO1xuXG4gICAgICAgIC8vIFdlIHVzZSBhIGRlZGljYXRlZCBpdGVyYXRvciBpbnN0ZWFkIG9mIHRoZSBgaWAgdmFyaWFibGUgYmVsb3dcbiAgICAgICAgLy8gc28gb3RoZXIga2V5cyB3ZSBmZXRjaCBpbiBsb2NhbFN0b3JhZ2UgYXJlbid0IGNvdW50ZWQgaW5cbiAgICAgICAgLy8gdGhlIGBpdGVyYXRpb25OdW1iZXJgIGFyZ3VtZW50IHBhc3NlZCB0byB0aGUgYGl0ZXJhdGUoKWBcbiAgICAgICAgLy8gY2FsbGJhY2suXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFNlZTogZ2l0aHViLmNvbS9tb3ppbGxhL2xvY2FsRm9yYWdlL3B1bGwvNDM1I2Rpc2N1c3Npb25fcjM4MDYxNTMwXG4gICAgICAgIHZhciBpdGVyYXRpb25OdW1iZXIgPSAxO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBsb2NhbFN0b3JhZ2Uua2V5KGkpO1xuICAgICAgICAgICAgaWYgKGtleS5pbmRleE9mKGtleVByZWZpeCkgIT09IDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG5cbiAgICAgICAgICAgIC8vIElmIGEgcmVzdWx0IHdhcyBmb3VuZCwgcGFyc2UgaXQgZnJvbSB0aGUgc2VyaWFsaXplZFxuICAgICAgICAgICAgLy8gc3RyaW5nIGludG8gYSBKUyBvYmplY3QuIElmIHJlc3VsdCBpc24ndCB0cnV0aHksIHRoZVxuICAgICAgICAgICAgLy8ga2V5IGlzIGxpa2VseSB1bmRlZmluZWQgYW5kIHdlJ2xsIHBhc3MgaXQgc3RyYWlnaHRcbiAgICAgICAgICAgIC8vIHRvIHRoZSBpdGVyYXRvci5cbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gZGJJbmZvLnNlcmlhbGl6ZXIuZGVzZXJpYWxpemUodmFsdWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWx1ZSA9IGl0ZXJhdG9yKHZhbHVlLCBrZXkuc3Vic3RyaW5nKGtleVByZWZpeExlbmd0aCksIGl0ZXJhdGlvbk51bWJlcisrKTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbi8vIFNhbWUgYXMgbG9jYWxTdG9yYWdlJ3Mga2V5KCkgbWV0aG9kLCBleGNlcHQgdGFrZXMgYSBjYWxsYmFjay5cbmZ1bmN0aW9uIGtleSQyKG4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBwcm9taXNlID0gc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gbG9jYWxTdG9yYWdlLmtleShuKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgdGhlIHByZWZpeCBmcm9tIHRoZSBrZXksIGlmIGEga2V5IGlzIGZvdW5kLlxuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc3Vic3RyaW5nKGRiSW5mby5rZXlQcmVmaXgubGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBrZXlzJDIoY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHByb21pc2UgPSBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgIHZhciBsZW5ndGggPSBsb2NhbFN0b3JhZ2UubGVuZ3RoO1xuICAgICAgICB2YXIga2V5cyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChsb2NhbFN0b3JhZ2Uua2V5KGkpLmluZGV4T2YoZGJJbmZvLmtleVByZWZpeCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBrZXlzLnB1c2gobG9jYWxTdG9yYWdlLmtleShpKS5zdWJzdHJpbmcoZGJJbmZvLmtleVByZWZpeC5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBrZXlzO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLy8gU3VwcGx5IHRoZSBudW1iZXIgb2Yga2V5cyBpbiB0aGUgZGF0YXN0b3JlIHRvIHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbmZ1bmN0aW9uIGxlbmd0aCQyKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBwcm9taXNlID0gc2VsZi5rZXlzKCkudGhlbihmdW5jdGlvbiAoa2V5cykge1xuICAgICAgICByZXR1cm4ga2V5cy5sZW5ndGg7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG4vLyBSZW1vdmUgYW4gaXRlbSBmcm9tIHRoZSBzdG9yZSwgbmljZSBhbmQgc2ltcGxlLlxuZnVuY3Rpb24gcmVtb3ZlSXRlbSQyKGtleSwgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBDYXN0IHRoZSBrZXkgdG8gYSBzdHJpbmcsIGFzIHRoYXQncyBhbGwgd2UgY2FuIHNldCBhcyBhIGtleS5cbiAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGtleSArICcgdXNlZCBhcyBhIGtleSwgYnV0IGl0IGlzIG5vdCBhIHN0cmluZy4nKTtcbiAgICAgICAga2V5ID0gU3RyaW5nKGtleSk7XG4gICAgfVxuXG4gICAgdmFyIHByb21pc2UgPSBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGRiSW5mby5rZXlQcmVmaXggKyBrZXkpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLy8gU2V0IGEga2V5J3MgdmFsdWUgYW5kIHJ1biBhbiBvcHRpb25hbCBjYWxsYmFjayBvbmNlIHRoZSB2YWx1ZSBpcyBzZXQuXG4vLyBVbmxpa2UgR2FpYSdzIGltcGxlbWVudGF0aW9uLCB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gaXMgcGFzc2VkIHRoZSB2YWx1ZSxcbi8vIGluIGNhc2UgeW91IHdhbnQgdG8gb3BlcmF0ZSBvbiB0aGF0IHZhbHVlIG9ubHkgYWZ0ZXIgeW91J3JlIHN1cmUgaXRcbi8vIHNhdmVkLCBvciBzb21ldGhpbmcgbGlrZSB0aGF0LlxuZnVuY3Rpb24gc2V0SXRlbSQyKGtleSwgdmFsdWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gQ2FzdCB0aGUga2V5IHRvIGEgc3RyaW5nLCBhcyB0aGF0J3MgYWxsIHdlIGNhbiBzZXQgYXMgYSBrZXkuXG4gICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihrZXkgKyAnIHVzZWQgYXMgYSBrZXksIGJ1dCBpdCBpcyBub3QgYSBzdHJpbmcuJyk7XG4gICAgICAgIGtleSA9IFN0cmluZyhrZXkpO1xuICAgIH1cblxuICAgIHZhciBwcm9taXNlID0gc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBDb252ZXJ0IHVuZGVmaW5lZCB2YWx1ZXMgdG8gbnVsbC5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvbG9jYWxGb3JhZ2UvcHVsbC80MlxuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFsdWUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2F2ZSB0aGUgb3JpZ2luYWwgdmFsdWUgdG8gcGFzcyB0byB0aGUgY2FsbGJhY2suXG4gICAgICAgIHZhciBvcmlnaW5hbFZhbHVlID0gdmFsdWU7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcbiAgICAgICAgICAgIGRiSW5mby5zZXJpYWxpemVyLnNlcmlhbGl6ZSh2YWx1ZSwgZnVuY3Rpb24gKHZhbHVlLCBlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShkYkluZm8ua2V5UHJlZml4ICsga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG9yaWdpbmFsVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsb2NhbFN0b3JhZ2UgY2FwYWNpdHkgZXhjZWVkZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBNYWtlIHRoaXMgYSBzcGVjaWZpYyBlcnJvci9ldmVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLm5hbWUgPT09ICdRdW90YUV4Y2VlZGVkRXJyb3InIHx8IGUubmFtZSA9PT0gJ05TX0VSUk9SX0RPTV9RVU9UQV9SRUFDSEVEJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbnZhciBsb2NhbFN0b3JhZ2VXcmFwcGVyID0ge1xuICAgIF9kcml2ZXI6ICdsb2NhbFN0b3JhZ2VXcmFwcGVyJyxcbiAgICBfaW5pdFN0b3JhZ2U6IF9pbml0U3RvcmFnZSQyLFxuICAgIC8vIERlZmF1bHQgQVBJLCBmcm9tIEdhaWEvbG9jYWxTdG9yYWdlLlxuICAgIGl0ZXJhdGU6IGl0ZXJhdGUkMixcbiAgICBnZXRJdGVtOiBnZXRJdGVtJDIsXG4gICAgc2V0SXRlbTogc2V0SXRlbSQyLFxuICAgIHJlbW92ZUl0ZW06IHJlbW92ZUl0ZW0kMixcbiAgICBjbGVhcjogY2xlYXIkMixcbiAgICBsZW5ndGg6IGxlbmd0aCQyLFxuICAgIGtleToga2V5JDIsXG4gICAga2V5czoga2V5cyQyXG59O1xuXG4vLyBDdXN0b20gZHJpdmVycyBhcmUgc3RvcmVkIGhlcmUgd2hlbiBgZGVmaW5lRHJpdmVyKClgIGlzIGNhbGxlZC5cbi8vIFRoZXkgYXJlIHNoYXJlZCBhY3Jvc3MgYWxsIGluc3RhbmNlcyBvZiBsb2NhbEZvcmFnZS5cbnZhciBDdXN0b21Ecml2ZXJzID0ge307XG5cbnZhciBEcml2ZXJUeXBlID0ge1xuICAgIElOREVYRUREQjogJ2FzeW5jU3RvcmFnZScsXG4gICAgTE9DQUxTVE9SQUdFOiAnbG9jYWxTdG9yYWdlV3JhcHBlcicsXG4gICAgV0VCU1FMOiAnd2ViU1FMU3RvcmFnZSdcbn07XG5cbnZhciBEZWZhdWx0RHJpdmVyT3JkZXIgPSBbRHJpdmVyVHlwZS5JTkRFWEVEREIsIERyaXZlclR5cGUuV0VCU1FMLCBEcml2ZXJUeXBlLkxPQ0FMU1RPUkFHRV07XG5cbnZhciBMaWJyYXJ5TWV0aG9kcyA9IFsnY2xlYXInLCAnZ2V0SXRlbScsICdpdGVyYXRlJywgJ2tleScsICdrZXlzJywgJ2xlbmd0aCcsICdyZW1vdmVJdGVtJywgJ3NldEl0ZW0nXTtcblxudmFyIERlZmF1bHRDb25maWcgPSB7XG4gICAgZGVzY3JpcHRpb246ICcnLFxuICAgIGRyaXZlcjogRGVmYXVsdERyaXZlck9yZGVyLnNsaWNlKCksXG4gICAgbmFtZTogJ2xvY2FsZm9yYWdlJyxcbiAgICAvLyBEZWZhdWx0IERCIHNpemUgaXMgX0pVU1QgVU5ERVJfIDVNQiwgYXMgaXQncyB0aGUgaGlnaGVzdCBzaXplXG4gICAgLy8gd2UgY2FuIHVzZSB3aXRob3V0IGEgcHJvbXB0LlxuICAgIHNpemU6IDQ5ODA3MzYsXG4gICAgc3RvcmVOYW1lOiAna2V5dmFsdWVwYWlycycsXG4gICAgdmVyc2lvbjogMS4wXG59O1xuXG52YXIgZHJpdmVyU3VwcG9ydCA9IHt9O1xuLy8gQ2hlY2sgdG8gc2VlIGlmIEluZGV4ZWREQiBpcyBhdmFpbGFibGUgYW5kIGlmIGl0IGlzIHRoZSBsYXRlc3Rcbi8vIGltcGxlbWVudGF0aW9uOyBpdCdzIG91ciBwcmVmZXJyZWQgYmFja2VuZCBsaWJyYXJ5LiBXZSB1c2UgXCJfc3BlY190ZXN0XCJcbi8vIGFzIHRoZSBuYW1lIG9mIHRoZSBkYXRhYmFzZSBiZWNhdXNlIGl0J3Mgbm90IHRoZSBvbmUgd2UnbGwgb3BlcmF0ZSBvbixcbi8vIGJ1dCBpdCdzIHVzZWZ1bCB0byBtYWtlIHN1cmUgaXRzIHVzaW5nIHRoZSByaWdodCBzcGVjLlxuLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9sb2NhbEZvcmFnZS9pc3N1ZXMvMTI4XG5kcml2ZXJTdXBwb3J0W0RyaXZlclR5cGUuSU5ERVhFRERCXSA9IGlzSW5kZXhlZERCVmFsaWQoKTtcblxuZHJpdmVyU3VwcG9ydFtEcml2ZXJUeXBlLldFQlNRTF0gPSBpc1dlYlNRTFZhbGlkKCk7XG5cbmRyaXZlclN1cHBvcnRbRHJpdmVyVHlwZS5MT0NBTFNUT1JBR0VdID0gaXNMb2NhbFN0b3JhZ2VWYWxpZCgpO1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFyZykge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJnKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG5cbmZ1bmN0aW9uIGNhbGxXaGVuUmVhZHkobG9jYWxGb3JhZ2VJbnN0YW5jZSwgbGlicmFyeU1ldGhvZCkge1xuICAgIGxvY2FsRm9yYWdlSW5zdGFuY2VbbGlicmFyeU1ldGhvZF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIGxvY2FsRm9yYWdlSW5zdGFuY2UucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbEZvcmFnZUluc3RhbmNlW2xpYnJhcnlNZXRob2RdLmFwcGx5KGxvY2FsRm9yYWdlSW5zdGFuY2UsIF9hcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZXh0ZW5kKCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgICAgaWYgKGFyZykge1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGFyZykge1xuICAgICAgICAgICAgICAgIGlmIChhcmcuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBcnJheShhcmdba2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1swXVtrZXldID0gYXJnW2tleV0uc2xpY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1swXVtrZXldID0gYXJnW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYXJndW1lbnRzWzBdO1xufVxuXG5mdW5jdGlvbiBpc0xpYnJhcnlEcml2ZXIoZHJpdmVyTmFtZSkge1xuICAgIGZvciAodmFyIGRyaXZlciBpbiBEcml2ZXJUeXBlKSB7XG4gICAgICAgIGlmIChEcml2ZXJUeXBlLmhhc093blByb3BlcnR5KGRyaXZlcikgJiYgRHJpdmVyVHlwZVtkcml2ZXJdID09PSBkcml2ZXJOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxudmFyIExvY2FsRm9yYWdlID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExvY2FsRm9yYWdlKG9wdGlvbnMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvY2FsRm9yYWdlKTtcblxuICAgICAgICB0aGlzLklOREVYRUREQiA9IERyaXZlclR5cGUuSU5ERVhFRERCO1xuICAgICAgICB0aGlzLkxPQ0FMU1RPUkFHRSA9IERyaXZlclR5cGUuTE9DQUxTVE9SQUdFO1xuICAgICAgICB0aGlzLldFQlNRTCA9IERyaXZlclR5cGUuV0VCU1FMO1xuXG4gICAgICAgIHRoaXMuX2RlZmF1bHRDb25maWcgPSBleHRlbmQoe30sIERlZmF1bHRDb25maWcpO1xuICAgICAgICB0aGlzLl9jb25maWcgPSBleHRlbmQoe30sIHRoaXMuX2RlZmF1bHRDb25maWcsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9kcml2ZXJTZXQgPSBudWxsO1xuICAgICAgICB0aGlzLl9pbml0RHJpdmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVhZHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZGJJbmZvID0gbnVsbDtcblxuICAgICAgICB0aGlzLl93cmFwTGlicmFyeU1ldGhvZHNXaXRoUmVhZHkoKTtcbiAgICAgICAgdGhpcy5zZXREcml2ZXIodGhpcy5fY29uZmlnLmRyaXZlcilbXCJjYXRjaFwiXShmdW5jdGlvbiAoKSB7fSk7XG4gICAgfVxuXG4gICAgLy8gU2V0IGFueSBjb25maWcgdmFsdWVzIGZvciBsb2NhbEZvcmFnZTsgY2FuIGJlIGNhbGxlZCBhbnl0aW1lIGJlZm9yZVxuICAgIC8vIHRoZSBmaXJzdCBBUEkgY2FsbCAoZS5nLiBgZ2V0SXRlbWAsIGBzZXRJdGVtYCkuXG4gICAgLy8gV2UgbG9vcCB0aHJvdWdoIG9wdGlvbnMgc28gd2UgZG9uJ3Qgb3ZlcndyaXRlIGV4aXN0aW5nIGNvbmZpZ1xuICAgIC8vIHZhbHVlcy5cblxuXG4gICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLmNvbmZpZyA9IGZ1bmN0aW9uIGNvbmZpZyhvcHRpb25zKSB7XG4gICAgICAgIC8vIElmIHRoZSBvcHRpb25zIGFyZ3VtZW50IGlzIGFuIG9iamVjdCwgd2UgdXNlIGl0IHRvIHNldCB2YWx1ZXMuXG4gICAgICAgIC8vIE90aGVyd2lzZSwgd2UgcmV0dXJuIGVpdGhlciBhIHNwZWNpZmllZCBjb25maWcgdmFsdWUgb3IgYWxsXG4gICAgICAgIC8vIGNvbmZpZyB2YWx1ZXMuXG4gICAgICAgIGlmICgodHlwZW9mIG9wdGlvbnMgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG9wdGlvbnMpKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIC8vIElmIGxvY2FsZm9yYWdlIGlzIHJlYWR5IGFuZCBmdWxseSBpbml0aWFsaXplZCwgd2UgY2FuJ3Qgc2V0XG4gICAgICAgICAgICAvLyBhbnkgbmV3IGNvbmZpZ3VyYXRpb24gdmFsdWVzLiBJbnN0ZWFkLCB3ZSByZXR1cm4gYW4gZXJyb3IuXG4gICAgICAgICAgICBpZiAodGhpcy5fcmVhZHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKFwiQ2FuJ3QgY2FsbCBjb25maWcoKSBhZnRlciBsb2NhbGZvcmFnZSBcIiArICdoYXMgYmVlbiB1c2VkLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gJ3N0b3JlTmFtZScpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1tpXSA9IG9wdGlvbnNbaV0ucmVwbGFjZSgvXFxXL2csICdfJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09ICd2ZXJzaW9uJyAmJiB0eXBlb2Ygb3B0aW9uc1tpXSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignRGF0YWJhc2UgdmVyc2lvbiBtdXN0IGJlIGEgbnVtYmVyLicpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbmZpZ1tpXSA9IG9wdGlvbnNbaV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFmdGVyIGFsbCBjb25maWcgb3B0aW9ucyBhcmUgc2V0IGFuZFxuICAgICAgICAgICAgLy8gdGhlIGRyaXZlciBvcHRpb24gaXMgdXNlZCwgdHJ5IHNldHRpbmcgaXRcbiAgICAgICAgICAgIGlmICgnZHJpdmVyJyBpbiBvcHRpb25zICYmIG9wdGlvbnMuZHJpdmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0RHJpdmVyKHRoaXMuX2NvbmZpZy5kcml2ZXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25maWdbb3B0aW9uc107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIFVzZWQgdG8gZGVmaW5lIGEgY3VzdG9tIGRyaXZlciwgc2hhcmVkIGFjcm9zcyBhbGwgaW5zdGFuY2VzIG9mXG4gICAgLy8gbG9jYWxGb3JhZ2UuXG5cblxuICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5kZWZpbmVEcml2ZXIgPSBmdW5jdGlvbiBkZWZpbmVEcml2ZXIoZHJpdmVyT2JqZWN0LCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xuICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgZHJpdmVyTmFtZSA9IGRyaXZlck9iamVjdC5fZHJpdmVyO1xuICAgICAgICAgICAgICAgIHZhciBjb21wbGlhbmNlRXJyb3IgPSBuZXcgRXJyb3IoJ0N1c3RvbSBkcml2ZXIgbm90IGNvbXBsaWFudDsgc2VlICcgKyAnaHR0cHM6Ly9tb3ppbGxhLmdpdGh1Yi5pby9sb2NhbEZvcmFnZS8jZGVmaW5lZHJpdmVyJyk7XG4gICAgICAgICAgICAgICAgdmFyIG5hbWluZ0Vycm9yID0gbmV3IEVycm9yKCdDdXN0b20gZHJpdmVyIG5hbWUgYWxyZWFkeSBpbiB1c2U6ICcgKyBkcml2ZXJPYmplY3QuX2RyaXZlcik7XG5cbiAgICAgICAgICAgICAgICAvLyBBIGRyaXZlciBuYW1lIHNob3VsZCBiZSBkZWZpbmVkIGFuZCBub3Qgb3ZlcmxhcCB3aXRoIHRoZVxuICAgICAgICAgICAgICAgIC8vIGxpYnJhcnktZGVmaW5lZCwgZGVmYXVsdCBkcml2ZXJzLlxuICAgICAgICAgICAgICAgIGlmICghZHJpdmVyT2JqZWN0Ll9kcml2ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGNvbXBsaWFuY2VFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzTGlicmFyeURyaXZlcihkcml2ZXJPYmplY3QuX2RyaXZlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5hbWluZ0Vycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBjdXN0b21Ecml2ZXJNZXRob2RzID0gTGlicmFyeU1ldGhvZHMuY29uY2F0KCdfaW5pdFN0b3JhZ2UnKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1c3RvbURyaXZlck1ldGhvZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1c3RvbURyaXZlck1ldGhvZCA9IGN1c3RvbURyaXZlck1ldGhvZHNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmICghY3VzdG9tRHJpdmVyTWV0aG9kIHx8ICFkcml2ZXJPYmplY3RbY3VzdG9tRHJpdmVyTWV0aG9kXSB8fCB0eXBlb2YgZHJpdmVyT2JqZWN0W2N1c3RvbURyaXZlck1ldGhvZF0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChjb21wbGlhbmNlRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHN1cHBvcnRQcm9taXNlID0gUHJvbWlzZSQxLnJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKCdfc3VwcG9ydCcgaW4gZHJpdmVyT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkcml2ZXJPYmplY3QuX3N1cHBvcnQgJiYgdHlwZW9mIGRyaXZlck9iamVjdC5fc3VwcG9ydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VwcG9ydFByb21pc2UgPSBkcml2ZXJPYmplY3QuX3N1cHBvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1cHBvcnRQcm9taXNlID0gUHJvbWlzZSQxLnJlc29sdmUoISFkcml2ZXJPYmplY3QuX3N1cHBvcnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc3VwcG9ydFByb21pc2UudGhlbihmdW5jdGlvbiAoc3VwcG9ydFJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBkcml2ZXJTdXBwb3J0W2RyaXZlck5hbWVdID0gc3VwcG9ydFJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgQ3VzdG9tRHJpdmVyc1tkcml2ZXJOYW1lXSA9IGRyaXZlck9iamVjdDtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBleGVjdXRlVHdvQ2FsbGJhY2tzKHByb21pc2UsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfTtcblxuICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5kcml2ZXIgPSBmdW5jdGlvbiBkcml2ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kcml2ZXIgfHwgbnVsbDtcbiAgICB9O1xuXG4gICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLmdldERyaXZlciA9IGZ1bmN0aW9uIGdldERyaXZlcihkcml2ZXJOYW1lLCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBnZXREcml2ZXJQcm9taXNlID0gUHJvbWlzZSQxLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChpc0xpYnJhcnlEcml2ZXIoZHJpdmVyTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRyaXZlck5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBzZWxmLklOREVYRUREQjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhc3luY1N0b3JhZ2U7XG4gICAgICAgICAgICAgICAgICAgIGNhc2Ugc2VsZi5MT0NBTFNUT1JBR0U6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlV3JhcHBlcjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBzZWxmLldFQlNRTDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3ZWJTUUxTdG9yYWdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoQ3VzdG9tRHJpdmVyc1tkcml2ZXJOYW1lXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBDdXN0b21Ecml2ZXJzW2RyaXZlck5hbWVdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RyaXZlciBub3QgZm91bmQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBleGVjdXRlVHdvQ2FsbGJhY2tzKGdldERyaXZlclByb21pc2UsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIGdldERyaXZlclByb21pc2U7XG4gICAgfTtcblxuICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5nZXRTZXJpYWxpemVyID0gZnVuY3Rpb24gZ2V0U2VyaWFsaXplcihjYWxsYmFjaykge1xuICAgICAgICB2YXIgc2VyaWFsaXplclByb21pc2UgPSBQcm9taXNlJDEucmVzb2x2ZShsb2NhbGZvcmFnZVNlcmlhbGl6ZXIpO1xuICAgICAgICBleGVjdXRlVHdvQ2FsbGJhY2tzKHNlcmlhbGl6ZXJQcm9taXNlLCBjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiBzZXJpYWxpemVyUHJvbWlzZTtcbiAgICB9O1xuXG4gICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLnJlYWR5ID0gZnVuY3Rpb24gcmVhZHkoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHZhciBwcm9taXNlID0gc2VsZi5fZHJpdmVyU2V0LnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHNlbGYuX3JlYWR5ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fcmVhZHkgPSBzZWxmLl9pbml0RHJpdmVyKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzZWxmLl9yZWFkeTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXhlY3V0ZVR3b0NhbGxiYWNrcyhwcm9taXNlLCBjYWxsYmFjaywgY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9O1xuXG4gICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLnNldERyaXZlciA9IGZ1bmN0aW9uIHNldERyaXZlcihkcml2ZXJzLCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCFpc0FycmF5KGRyaXZlcnMpKSB7XG4gICAgICAgICAgICBkcml2ZXJzID0gW2RyaXZlcnNdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN1cHBvcnRlZERyaXZlcnMgPSB0aGlzLl9nZXRTdXBwb3J0ZWREcml2ZXJzKGRyaXZlcnMpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHNldERyaXZlclRvQ29uZmlnKCkge1xuICAgICAgICAgICAgc2VsZi5fY29uZmlnLmRyaXZlciA9IHNlbGYuZHJpdmVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBleHRlbmRTZWxmV2l0aERyaXZlcihkcml2ZXIpIHtcbiAgICAgICAgICAgIHNlbGYuX2V4dGVuZChkcml2ZXIpO1xuICAgICAgICAgICAgc2V0RHJpdmVyVG9Db25maWcoKTtcblxuICAgICAgICAgICAgc2VsZi5fcmVhZHkgPSBzZWxmLl9pbml0U3RvcmFnZShzZWxmLl9jb25maWcpO1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3JlYWR5O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaW5pdERyaXZlcihzdXBwb3J0ZWREcml2ZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50RHJpdmVySW5kZXggPSAwO1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZHJpdmVyUHJvbWlzZUxvb3AoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50RHJpdmVySW5kZXggPCBzdXBwb3J0ZWREcml2ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRyaXZlck5hbWUgPSBzdXBwb3J0ZWREcml2ZXJzW2N1cnJlbnREcml2ZXJJbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RHJpdmVySW5kZXgrKztcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fZGJJbmZvID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3JlYWR5ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuZ2V0RHJpdmVyKGRyaXZlck5hbWUpLnRoZW4oZXh0ZW5kU2VsZldpdGhEcml2ZXIpW1wiY2F0Y2hcIl0oZHJpdmVyUHJvbWlzZUxvb3ApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0RHJpdmVyVG9Db25maWcoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKCdObyBhdmFpbGFibGUgc3RvcmFnZSBtZXRob2QgZm91bmQuJyk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2RyaXZlclNldCA9IFByb21pc2UkMS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5fZHJpdmVyU2V0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBkcml2ZXJQcm9taXNlTG9vcCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZXJlIG1pZ2h0IGJlIGEgZHJpdmVyIGluaXRpYWxpemF0aW9uIGluIHByb2dyZXNzXG4gICAgICAgIC8vIHNvIHdhaXQgZm9yIGl0IHRvIGZpbmlzaCBpbiBvcmRlciB0byBhdm9pZCBhIHBvc3NpYmxlXG4gICAgICAgIC8vIHJhY2UgY29uZGl0aW9uIHRvIHNldCBfZGJJbmZvXG4gICAgICAgIHZhciBvbGREcml2ZXJTZXREb25lID0gdGhpcy5fZHJpdmVyU2V0ICE9PSBudWxsID8gdGhpcy5fZHJpdmVyU2V0W1wiY2F0Y2hcIl0oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UkMS5yZXNvbHZlKCk7XG4gICAgICAgIH0pIDogUHJvbWlzZSQxLnJlc29sdmUoKTtcblxuICAgICAgICB0aGlzLl9kcml2ZXJTZXQgPSBvbGREcml2ZXJTZXREb25lLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRyaXZlck5hbWUgPSBzdXBwb3J0ZWREcml2ZXJzWzBdO1xuICAgICAgICAgICAgc2VsZi5fZGJJbmZvID0gbnVsbDtcbiAgICAgICAgICAgIHNlbGYuX3JlYWR5ID0gbnVsbDtcblxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuZ2V0RHJpdmVyKGRyaXZlck5hbWUpLnRoZW4oZnVuY3Rpb24gKGRyaXZlcikge1xuICAgICAgICAgICAgICAgIHNlbGYuX2RyaXZlciA9IGRyaXZlci5fZHJpdmVyO1xuICAgICAgICAgICAgICAgIHNldERyaXZlclRvQ29uZmlnKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5fd3JhcExpYnJhcnlNZXRob2RzV2l0aFJlYWR5KCk7XG4gICAgICAgICAgICAgICAgc2VsZi5faW5pdERyaXZlciA9IGluaXREcml2ZXIoc3VwcG9ydGVkRHJpdmVycyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXREcml2ZXJUb0NvbmZpZygpO1xuICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKCdObyBhdmFpbGFibGUgc3RvcmFnZSBtZXRob2QgZm91bmQuJyk7XG4gICAgICAgICAgICBzZWxmLl9kcml2ZXJTZXQgPSBQcm9taXNlJDEucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLl9kcml2ZXJTZXQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4ZWN1dGVUd29DYWxsYmFja3ModGhpcy5fZHJpdmVyU2V0LCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XG4gICAgICAgIHJldHVybiB0aGlzLl9kcml2ZXJTZXQ7XG4gICAgfTtcblxuICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5zdXBwb3J0cyA9IGZ1bmN0aW9uIHN1cHBvcnRzKGRyaXZlck5hbWUpIHtcbiAgICAgICAgcmV0dXJuICEhZHJpdmVyU3VwcG9ydFtkcml2ZXJOYW1lXTtcbiAgICB9O1xuXG4gICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLl9leHRlbmQgPSBmdW5jdGlvbiBfZXh0ZW5kKGxpYnJhcnlNZXRob2RzQW5kUHJvcGVydGllcykge1xuICAgICAgICBleHRlbmQodGhpcywgbGlicmFyeU1ldGhvZHNBbmRQcm9wZXJ0aWVzKTtcbiAgICB9O1xuXG4gICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLl9nZXRTdXBwb3J0ZWREcml2ZXJzID0gZnVuY3Rpb24gX2dldFN1cHBvcnRlZERyaXZlcnMoZHJpdmVycykge1xuICAgICAgICB2YXIgc3VwcG9ydGVkRHJpdmVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZHJpdmVycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGRyaXZlck5hbWUgPSBkcml2ZXJzW2ldO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHMoZHJpdmVyTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBzdXBwb3J0ZWREcml2ZXJzLnB1c2goZHJpdmVyTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1cHBvcnRlZERyaXZlcnM7XG4gICAgfTtcblxuICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5fd3JhcExpYnJhcnlNZXRob2RzV2l0aFJlYWR5ID0gZnVuY3Rpb24gX3dyYXBMaWJyYXJ5TWV0aG9kc1dpdGhSZWFkeSgpIHtcbiAgICAgICAgLy8gQWRkIGEgc3R1YiBmb3IgZWFjaCBkcml2ZXIgQVBJIG1ldGhvZCB0aGF0IGRlbGF5cyB0aGUgY2FsbCB0byB0aGVcbiAgICAgICAgLy8gY29ycmVzcG9uZGluZyBkcml2ZXIgbWV0aG9kIHVudGlsIGxvY2FsRm9yYWdlIGlzIHJlYWR5LiBUaGVzZSBzdHVic1xuICAgICAgICAvLyB3aWxsIGJlIHJlcGxhY2VkIGJ5IHRoZSBkcml2ZXIgbWV0aG9kcyBhcyBzb29uIGFzIHRoZSBkcml2ZXIgaXNcbiAgICAgICAgLy8gbG9hZGVkLCBzbyB0aGVyZSBpcyBubyBwZXJmb3JtYW5jZSBpbXBhY3QuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTGlicmFyeU1ldGhvZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNhbGxXaGVuUmVhZHkodGhpcywgTGlicmFyeU1ldGhvZHNbaV0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5jcmVhdGVJbnN0YW5jZSA9IGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMb2NhbEZvcmFnZShvcHRpb25zKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIExvY2FsRm9yYWdlO1xufSgpO1xuXG4vLyBUaGUgYWN0dWFsIGxvY2FsRm9yYWdlIG9iamVjdCB0aGF0IHdlIGV4cG9zZSBhcyBhIG1vZHVsZSBvciB2aWEgYVxuLy8gZ2xvYmFsLiBJdCdzIGV4dGVuZGVkIGJ5IHB1bGxpbmcgaW4gb25lIG9mIG91ciBvdGhlciBsaWJyYXJpZXMuXG5cblxudmFyIGxvY2FsZm9yYWdlX2pzID0gbmV3IExvY2FsRm9yYWdlKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gbG9jYWxmb3JhZ2VfanM7XG5cbn0se1wiM1wiOjN9XX0se30sWzRdKSg0KVxufSk7IiwiXG5cblxuLyoqXG4gKiBVVE0gem9uZXMgYXJlIGdyb3VwZWQsIGFuZCBhc3NpZ25lZCB0byBvbmUgb2YgYSBncm91cCBvZiA2XG4gKiBzZXRzLlxuICpcbiAqIHtpbnR9IEBwcml2YXRlXG4gKi9cbnZhciBOVU1fMTAwS19TRVRTID0gNjtcblxuLyoqXG4gKiBUaGUgY29sdW1uIGxldHRlcnMgKGZvciBlYXN0aW5nKSBvZiB0aGUgbG93ZXIgbGVmdCB2YWx1ZSwgcGVyXG4gKiBzZXQuXG4gKlxuICoge3N0cmluZ30gQHByaXZhdGVcbiAqL1xudmFyIFNFVF9PUklHSU5fQ09MVU1OX0xFVFRFUlMgPSAnQUpTQUpTJztcblxuLyoqXG4gKiBUaGUgcm93IGxldHRlcnMgKGZvciBub3J0aGluZykgb2YgdGhlIGxvd2VyIGxlZnQgdmFsdWUsIHBlclxuICogc2V0LlxuICpcbiAqIHtzdHJpbmd9IEBwcml2YXRlXG4gKi9cbnZhciBTRVRfT1JJR0lOX1JPV19MRVRURVJTID0gJ0FGQUZBRic7XG5cbnZhciBBID0gNjU7IC8vIEFcbnZhciBJID0gNzM7IC8vIElcbnZhciBPID0gNzk7IC8vIE9cbnZhciBWID0gODY7IC8vIFZcbnZhciBaID0gOTA7IC8vIFpcblxuLyoqXG4gKiBDb252ZXJzaW9uIG9mIGxhdC9sb24gdG8gTUdSUy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gbGwgT2JqZWN0IGxpdGVyYWwgd2l0aCBsYXQgYW5kIGxvbiBwcm9wZXJ0aWVzIG9uIGFcbiAqICAgICBXR1M4NCBlbGxpcHNvaWQuXG4gKiBAcGFyYW0ge2ludH0gYWNjdXJhY3kgQWNjdXJhY3kgaW4gZGlnaXRzICg1IGZvciAxIG0sIDQgZm9yIDEwIG0sIDMgZm9yXG4gKiAgICAgIDEwMCBtLCAyIGZvciAxMDAwIG0gb3IgMSBmb3IgMTAwMDAgbSkuIE9wdGlvbmFsLCBkZWZhdWx0IGlzIDUuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBNR1JTIHN0cmluZyBmb3IgdGhlIGdpdmVuIGxvY2F0aW9uIGFuZCBhY2N1cmFjeS5cbiAqL1xuZXhwb3J0cy5mb3J3YXJkID0gZnVuY3Rpb24obGwsIGFjY3VyYWN5KSB7XG4gIGFjY3VyYWN5ID0gYWNjdXJhY3kgfHwgNTsgLy8gZGVmYXVsdCBhY2N1cmFjeSAxbVxuICByZXR1cm4gZW5jb2RlKExMdG9VVE0oe1xuICAgIGxhdDogbGxbMV0sXG4gICAgbG9uOiBsbFswXVxuICB9KSwgYWNjdXJhY3kpO1xufTtcblxuLyoqXG4gKiBDb252ZXJzaW9uIG9mIE1HUlMgdG8gbGF0L2xvbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWdycyBNR1JTIHN0cmluZy5cbiAqIEByZXR1cm4ge2FycmF5fSBBbiBhcnJheSB3aXRoIGxlZnQgKGxvbmdpdHVkZSksIGJvdHRvbSAobGF0aXR1ZGUpLCByaWdodFxuICogICAgIChsb25naXR1ZGUpIGFuZCB0b3AgKGxhdGl0dWRlKSB2YWx1ZXMgaW4gV0dTODQsIHJlcHJlc2VudGluZyB0aGVcbiAqICAgICBib3VuZGluZyBib3ggZm9yIHRoZSBwcm92aWRlZCBNR1JTIHJlZmVyZW5jZS5cbiAqL1xuZXhwb3J0cy5pbnZlcnNlID0gZnVuY3Rpb24obWdycykge1xuICB2YXIgYmJveCA9IFVUTXRvTEwoZGVjb2RlKG1ncnMudG9VcHBlckNhc2UoKSkpO1xuICBpZiAoYmJveC5sYXQgJiYgYmJveC5sb24pIHtcbiAgICByZXR1cm4gW2Jib3gubG9uLCBiYm94LmxhdCwgYmJveC5sb24sIGJib3gubGF0XTtcbiAgfVxuICByZXR1cm4gW2Jib3gubGVmdCwgYmJveC5ib3R0b20sIGJib3gucmlnaHQsIGJib3gudG9wXTtcbn07XG5cbmV4cG9ydHMudG9Qb2ludCA9IGZ1bmN0aW9uKG1ncnMpIHtcbiAgdmFyIGJib3ggPSBVVE10b0xMKGRlY29kZShtZ3JzLnRvVXBwZXJDYXNlKCkpKTtcbiAgaWYgKGJib3gubGF0ICYmIGJib3gubG9uKSB7XG4gICAgcmV0dXJuIFtiYm94LmxvbiwgYmJveC5sYXRdO1xuICB9XG4gIHJldHVybiBbKGJib3gubGVmdCArIGJib3gucmlnaHQpIC8gMiwgKGJib3gudG9wICsgYmJveC5ib3R0b20pIC8gMl07XG59O1xuLyoqXG4gKiBDb252ZXJzaW9uIGZyb20gZGVncmVlcyB0byByYWRpYW5zLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gZGVnIHRoZSBhbmdsZSBpbiBkZWdyZWVzLlxuICogQHJldHVybiB7bnVtYmVyfSB0aGUgYW5nbGUgaW4gcmFkaWFucy5cbiAqL1xuZnVuY3Rpb24gZGVnVG9SYWQoZGVnKSB7XG4gIHJldHVybiAoZGVnICogKE1hdGguUEkgLyAxODAuMCkpO1xufVxuXG4vKipcbiAqIENvbnZlcnNpb24gZnJvbSByYWRpYW5zIHRvIGRlZ3JlZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSByYWQgdGhlIGFuZ2xlIGluIHJhZGlhbnMuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSBhbmdsZSBpbiBkZWdyZWVzLlxuICovXG5mdW5jdGlvbiByYWRUb0RlZyhyYWQpIHtcbiAgcmV0dXJuICgxODAuMCAqIChyYWQgLyBNYXRoLlBJKSk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBzZXQgb2YgTG9uZ2l0dWRlIGFuZCBMYXRpdHVkZSBjby1vcmRpbmF0ZXMgdG8gVVRNXG4gKiB1c2luZyB0aGUgV0dTODQgZWxsaXBzb2lkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdH0gbGwgT2JqZWN0IGxpdGVyYWwgd2l0aCBsYXQgYW5kIGxvbiBwcm9wZXJ0aWVzXG4gKiAgICAgcmVwcmVzZW50aW5nIHRoZSBXR1M4NCBjb29yZGluYXRlIHRvIGJlIGNvbnZlcnRlZC5cbiAqIEByZXR1cm4ge29iamVjdH0gT2JqZWN0IGxpdGVyYWwgY29udGFpbmluZyB0aGUgVVRNIHZhbHVlIHdpdGggZWFzdGluZyxcbiAqICAgICBub3J0aGluZywgem9uZU51bWJlciBhbmQgem9uZUxldHRlciBwcm9wZXJ0aWVzLCBhbmQgYW4gb3B0aW9uYWxcbiAqICAgICBhY2N1cmFjeSBwcm9wZXJ0eSBpbiBkaWdpdHMuIFJldHVybnMgbnVsbCBpZiB0aGUgY29udmVyc2lvbiBmYWlsZWQuXG4gKi9cbmZ1bmN0aW9uIExMdG9VVE0obGwpIHtcbiAgdmFyIExhdCA9IGxsLmxhdDtcbiAgdmFyIExvbmcgPSBsbC5sb247XG4gIHZhciBhID0gNjM3ODEzNy4wOyAvL2VsbGlwLnJhZGl1cztcbiAgdmFyIGVjY1NxdWFyZWQgPSAwLjAwNjY5NDM4OyAvL2VsbGlwLmVjY3NxO1xuICB2YXIgazAgPSAwLjk5OTY7XG4gIHZhciBMb25nT3JpZ2luO1xuICB2YXIgZWNjUHJpbWVTcXVhcmVkO1xuICB2YXIgTiwgVCwgQywgQSwgTTtcbiAgdmFyIExhdFJhZCA9IGRlZ1RvUmFkKExhdCk7XG4gIHZhciBMb25nUmFkID0gZGVnVG9SYWQoTG9uZyk7XG4gIHZhciBMb25nT3JpZ2luUmFkO1xuICB2YXIgWm9uZU51bWJlcjtcbiAgLy8gKGludClcbiAgWm9uZU51bWJlciA9IE1hdGguZmxvb3IoKExvbmcgKyAxODApIC8gNikgKyAxO1xuXG4gIC8vTWFrZSBzdXJlIHRoZSBsb25naXR1ZGUgMTgwLjAwIGlzIGluIFpvbmUgNjBcbiAgaWYgKExvbmcgPT09IDE4MCkge1xuICAgIFpvbmVOdW1iZXIgPSA2MDtcbiAgfVxuXG4gIC8vIFNwZWNpYWwgem9uZSBmb3IgTm9yd2F5XG4gIGlmIChMYXQgPj0gNTYuMCAmJiBMYXQgPCA2NC4wICYmIExvbmcgPj0gMy4wICYmIExvbmcgPCAxMi4wKSB7XG4gICAgWm9uZU51bWJlciA9IDMyO1xuICB9XG5cbiAgLy8gU3BlY2lhbCB6b25lcyBmb3IgU3ZhbGJhcmRcbiAgaWYgKExhdCA+PSA3Mi4wICYmIExhdCA8IDg0LjApIHtcbiAgICBpZiAoTG9uZyA+PSAwLjAgJiYgTG9uZyA8IDkuMCkge1xuICAgICAgWm9uZU51bWJlciA9IDMxO1xuICAgIH1cbiAgICBlbHNlIGlmIChMb25nID49IDkuMCAmJiBMb25nIDwgMjEuMCkge1xuICAgICAgWm9uZU51bWJlciA9IDMzO1xuICAgIH1cbiAgICBlbHNlIGlmIChMb25nID49IDIxLjAgJiYgTG9uZyA8IDMzLjApIHtcbiAgICAgIFpvbmVOdW1iZXIgPSAzNTtcbiAgICB9XG4gICAgZWxzZSBpZiAoTG9uZyA+PSAzMy4wICYmIExvbmcgPCA0Mi4wKSB7XG4gICAgICBab25lTnVtYmVyID0gMzc7XG4gICAgfVxuICB9XG5cbiAgTG9uZ09yaWdpbiA9IChab25lTnVtYmVyIC0gMSkgKiA2IC0gMTgwICsgMzsgLy8rMyBwdXRzIG9yaWdpblxuICAvLyBpbiBtaWRkbGUgb2ZcbiAgLy8gem9uZVxuICBMb25nT3JpZ2luUmFkID0gZGVnVG9SYWQoTG9uZ09yaWdpbik7XG5cbiAgZWNjUHJpbWVTcXVhcmVkID0gKGVjY1NxdWFyZWQpIC8gKDEgLSBlY2NTcXVhcmVkKTtcblxuICBOID0gYSAvIE1hdGguc3FydCgxIC0gZWNjU3F1YXJlZCAqIE1hdGguc2luKExhdFJhZCkgKiBNYXRoLnNpbihMYXRSYWQpKTtcbiAgVCA9IE1hdGgudGFuKExhdFJhZCkgKiBNYXRoLnRhbihMYXRSYWQpO1xuICBDID0gZWNjUHJpbWVTcXVhcmVkICogTWF0aC5jb3MoTGF0UmFkKSAqIE1hdGguY29zKExhdFJhZCk7XG4gIEEgPSBNYXRoLmNvcyhMYXRSYWQpICogKExvbmdSYWQgLSBMb25nT3JpZ2luUmFkKTtcblxuICBNID0gYSAqICgoMSAtIGVjY1NxdWFyZWQgLyA0IC0gMyAqIGVjY1NxdWFyZWQgKiBlY2NTcXVhcmVkIC8gNjQgLSA1ICogZWNjU3F1YXJlZCAqIGVjY1NxdWFyZWQgKiBlY2NTcXVhcmVkIC8gMjU2KSAqIExhdFJhZCAtICgzICogZWNjU3F1YXJlZCAvIDggKyAzICogZWNjU3F1YXJlZCAqIGVjY1NxdWFyZWQgLyAzMiArIDQ1ICogZWNjU3F1YXJlZCAqIGVjY1NxdWFyZWQgKiBlY2NTcXVhcmVkIC8gMTAyNCkgKiBNYXRoLnNpbigyICogTGF0UmFkKSArICgxNSAqIGVjY1NxdWFyZWQgKiBlY2NTcXVhcmVkIC8gMjU2ICsgNDUgKiBlY2NTcXVhcmVkICogZWNjU3F1YXJlZCAqIGVjY1NxdWFyZWQgLyAxMDI0KSAqIE1hdGguc2luKDQgKiBMYXRSYWQpIC0gKDM1ICogZWNjU3F1YXJlZCAqIGVjY1NxdWFyZWQgKiBlY2NTcXVhcmVkIC8gMzA3MikgKiBNYXRoLnNpbig2ICogTGF0UmFkKSk7XG5cbiAgdmFyIFVUTUVhc3RpbmcgPSAoazAgKiBOICogKEEgKyAoMSAtIFQgKyBDKSAqIEEgKiBBICogQSAvIDYuMCArICg1IC0gMTggKiBUICsgVCAqIFQgKyA3MiAqIEMgLSA1OCAqIGVjY1ByaW1lU3F1YXJlZCkgKiBBICogQSAqIEEgKiBBICogQSAvIDEyMC4wKSArIDUwMDAwMC4wKTtcblxuICB2YXIgVVRNTm9ydGhpbmcgPSAoazAgKiAoTSArIE4gKiBNYXRoLnRhbihMYXRSYWQpICogKEEgKiBBIC8gMiArICg1IC0gVCArIDkgKiBDICsgNCAqIEMgKiBDKSAqIEEgKiBBICogQSAqIEEgLyAyNC4wICsgKDYxIC0gNTggKiBUICsgVCAqIFQgKyA2MDAgKiBDIC0gMzMwICogZWNjUHJpbWVTcXVhcmVkKSAqIEEgKiBBICogQSAqIEEgKiBBICogQSAvIDcyMC4wKSkpO1xuICBpZiAoTGF0IDwgMC4wKSB7XG4gICAgVVRNTm9ydGhpbmcgKz0gMTAwMDAwMDAuMDsgLy8xMDAwMDAwMCBtZXRlciBvZmZzZXQgZm9yXG4gICAgLy8gc291dGhlcm4gaGVtaXNwaGVyZVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBub3J0aGluZzogTWF0aC5yb3VuZChVVE1Ob3J0aGluZyksXG4gICAgZWFzdGluZzogTWF0aC5yb3VuZChVVE1FYXN0aW5nKSxcbiAgICB6b25lTnVtYmVyOiBab25lTnVtYmVyLFxuICAgIHpvbmVMZXR0ZXI6IGdldExldHRlckRlc2lnbmF0b3IoTGF0KVxuICB9O1xufVxuXG4vKipcbiAqIENvbnZlcnRzIFVUTSBjb29yZHMgdG8gbGF0L2xvbmcsIHVzaW5nIHRoZSBXR1M4NCBlbGxpcHNvaWQuIFRoaXMgaXMgYSBjb252ZW5pZW5jZVxuICogY2xhc3Mgd2hlcmUgdGhlIFpvbmUgY2FuIGJlIHNwZWNpZmllZCBhcyBhIHNpbmdsZSBzdHJpbmcgZWcuXCI2ME5cIiB3aGljaFxuICogaXMgdGhlbiBicm9rZW4gZG93biBpbnRvIHRoZSBab25lTnVtYmVyIGFuZCBab25lTGV0dGVyLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdH0gdXRtIEFuIG9iamVjdCBsaXRlcmFsIHdpdGggbm9ydGhpbmcsIGVhc3RpbmcsIHpvbmVOdW1iZXJcbiAqICAgICBhbmQgem9uZUxldHRlciBwcm9wZXJ0aWVzLiBJZiBhbiBvcHRpb25hbCBhY2N1cmFjeSBwcm9wZXJ0eSBpc1xuICogICAgIHByb3ZpZGVkIChpbiBtZXRlcnMpLCBhIGJvdW5kaW5nIGJveCB3aWxsIGJlIHJldHVybmVkIGluc3RlYWQgb2ZcbiAqICAgICBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlLlxuICogQHJldHVybiB7b2JqZWN0fSBBbiBvYmplY3QgbGl0ZXJhbCBjb250YWluaW5nIGVpdGhlciBsYXQgYW5kIGxvbiB2YWx1ZXNcbiAqICAgICAoaWYgbm8gYWNjdXJhY3kgd2FzIHByb3ZpZGVkKSwgb3IgdG9wLCByaWdodCwgYm90dG9tIGFuZCBsZWZ0IHZhbHVlc1xuICogICAgIGZvciB0aGUgYm91bmRpbmcgYm94IGNhbGN1bGF0ZWQgYWNjb3JkaW5nIHRvIHRoZSBwcm92aWRlZCBhY2N1cmFjeS5cbiAqICAgICBSZXR1cm5zIG51bGwgaWYgdGhlIGNvbnZlcnNpb24gZmFpbGVkLlxuICovXG5mdW5jdGlvbiBVVE10b0xMKHV0bSkge1xuXG4gIHZhciBVVE1Ob3J0aGluZyA9IHV0bS5ub3J0aGluZztcbiAgdmFyIFVUTUVhc3RpbmcgPSB1dG0uZWFzdGluZztcbiAgdmFyIHpvbmVMZXR0ZXIgPSB1dG0uem9uZUxldHRlcjtcbiAgdmFyIHpvbmVOdW1iZXIgPSB1dG0uem9uZU51bWJlcjtcbiAgLy8gY2hlY2sgdGhlIFpvbmVOdW1tYmVyIGlzIHZhbGlkXG4gIGlmICh6b25lTnVtYmVyIDwgMCB8fCB6b25lTnVtYmVyID4gNjApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBrMCA9IDAuOTk5NjtcbiAgdmFyIGEgPSA2Mzc4MTM3LjA7IC8vZWxsaXAucmFkaXVzO1xuICB2YXIgZWNjU3F1YXJlZCA9IDAuMDA2Njk0Mzg7IC8vZWxsaXAuZWNjc3E7XG4gIHZhciBlY2NQcmltZVNxdWFyZWQ7XG4gIHZhciBlMSA9ICgxIC0gTWF0aC5zcXJ0KDEgLSBlY2NTcXVhcmVkKSkgLyAoMSArIE1hdGguc3FydCgxIC0gZWNjU3F1YXJlZCkpO1xuICB2YXIgTjEsIFQxLCBDMSwgUjEsIEQsIE07XG4gIHZhciBMb25nT3JpZ2luO1xuICB2YXIgbXUsIHBoaTFSYWQ7XG5cbiAgLy8gcmVtb3ZlIDUwMCwwMDAgbWV0ZXIgb2Zmc2V0IGZvciBsb25naXR1ZGVcbiAgdmFyIHggPSBVVE1FYXN0aW5nIC0gNTAwMDAwLjA7XG4gIHZhciB5ID0gVVRNTm9ydGhpbmc7XG5cbiAgLy8gV2UgbXVzdCBrbm93IHNvbWVob3cgaWYgd2UgYXJlIGluIHRoZSBOb3J0aGVybiBvciBTb3V0aGVyblxuICAvLyBoZW1pc3BoZXJlLCB0aGlzIGlzIHRoZSBvbmx5IHRpbWUgd2UgdXNlIHRoZSBsZXR0ZXIgU28gZXZlblxuICAvLyBpZiB0aGUgWm9uZSBsZXR0ZXIgaXNuJ3QgZXhhY3RseSBjb3JyZWN0IGl0IHNob3VsZCBpbmRpY2F0ZVxuICAvLyB0aGUgaGVtaXNwaGVyZSBjb3JyZWN0bHlcbiAgaWYgKHpvbmVMZXR0ZXIgPCAnTicpIHtcbiAgICB5IC09IDEwMDAwMDAwLjA7IC8vIHJlbW92ZSAxMCwwMDAsMDAwIG1ldGVyIG9mZnNldCB1c2VkXG4gICAgLy8gZm9yIHNvdXRoZXJuIGhlbWlzcGhlcmVcbiAgfVxuXG4gIC8vIFRoZXJlIGFyZSA2MCB6b25lcyB3aXRoIHpvbmUgMSBiZWluZyBhdCBXZXN0IC0xODAgdG8gLTE3NFxuICBMb25nT3JpZ2luID0gKHpvbmVOdW1iZXIgLSAxKSAqIDYgLSAxODAgKyAzOyAvLyArMyBwdXRzIG9yaWdpblxuICAvLyBpbiBtaWRkbGUgb2ZcbiAgLy8gem9uZVxuXG4gIGVjY1ByaW1lU3F1YXJlZCA9IChlY2NTcXVhcmVkKSAvICgxIC0gZWNjU3F1YXJlZCk7XG5cbiAgTSA9IHkgLyBrMDtcbiAgbXUgPSBNIC8gKGEgKiAoMSAtIGVjY1NxdWFyZWQgLyA0IC0gMyAqIGVjY1NxdWFyZWQgKiBlY2NTcXVhcmVkIC8gNjQgLSA1ICogZWNjU3F1YXJlZCAqIGVjY1NxdWFyZWQgKiBlY2NTcXVhcmVkIC8gMjU2KSk7XG5cbiAgcGhpMVJhZCA9IG11ICsgKDMgKiBlMSAvIDIgLSAyNyAqIGUxICogZTEgKiBlMSAvIDMyKSAqIE1hdGguc2luKDIgKiBtdSkgKyAoMjEgKiBlMSAqIGUxIC8gMTYgLSA1NSAqIGUxICogZTEgKiBlMSAqIGUxIC8gMzIpICogTWF0aC5zaW4oNCAqIG11KSArICgxNTEgKiBlMSAqIGUxICogZTEgLyA5NikgKiBNYXRoLnNpbig2ICogbXUpO1xuICAvLyBkb3VibGUgcGhpMSA9IFByb2pNYXRoLnJhZFRvRGVnKHBoaTFSYWQpO1xuXG4gIE4xID0gYSAvIE1hdGguc3FydCgxIC0gZWNjU3F1YXJlZCAqIE1hdGguc2luKHBoaTFSYWQpICogTWF0aC5zaW4ocGhpMVJhZCkpO1xuICBUMSA9IE1hdGgudGFuKHBoaTFSYWQpICogTWF0aC50YW4ocGhpMVJhZCk7XG4gIEMxID0gZWNjUHJpbWVTcXVhcmVkICogTWF0aC5jb3MocGhpMVJhZCkgKiBNYXRoLmNvcyhwaGkxUmFkKTtcbiAgUjEgPSBhICogKDEgLSBlY2NTcXVhcmVkKSAvIE1hdGgucG93KDEgLSBlY2NTcXVhcmVkICogTWF0aC5zaW4ocGhpMVJhZCkgKiBNYXRoLnNpbihwaGkxUmFkKSwgMS41KTtcbiAgRCA9IHggLyAoTjEgKiBrMCk7XG5cbiAgdmFyIGxhdCA9IHBoaTFSYWQgLSAoTjEgKiBNYXRoLnRhbihwaGkxUmFkKSAvIFIxKSAqIChEICogRCAvIDIgLSAoNSArIDMgKiBUMSArIDEwICogQzEgLSA0ICogQzEgKiBDMSAtIDkgKiBlY2NQcmltZVNxdWFyZWQpICogRCAqIEQgKiBEICogRCAvIDI0ICsgKDYxICsgOTAgKiBUMSArIDI5OCAqIEMxICsgNDUgKiBUMSAqIFQxIC0gMjUyICogZWNjUHJpbWVTcXVhcmVkIC0gMyAqIEMxICogQzEpICogRCAqIEQgKiBEICogRCAqIEQgKiBEIC8gNzIwKTtcbiAgbGF0ID0gcmFkVG9EZWcobGF0KTtcblxuICB2YXIgbG9uID0gKEQgLSAoMSArIDIgKiBUMSArIEMxKSAqIEQgKiBEICogRCAvIDYgKyAoNSAtIDIgKiBDMSArIDI4ICogVDEgLSAzICogQzEgKiBDMSArIDggKiBlY2NQcmltZVNxdWFyZWQgKyAyNCAqIFQxICogVDEpICogRCAqIEQgKiBEICogRCAqIEQgLyAxMjApIC8gTWF0aC5jb3MocGhpMVJhZCk7XG4gIGxvbiA9IExvbmdPcmlnaW4gKyByYWRUb0RlZyhsb24pO1xuXG4gIHZhciByZXN1bHQ7XG4gIGlmICh1dG0uYWNjdXJhY3kpIHtcbiAgICB2YXIgdG9wUmlnaHQgPSBVVE10b0xMKHtcbiAgICAgIG5vcnRoaW5nOiB1dG0ubm9ydGhpbmcgKyB1dG0uYWNjdXJhY3ksXG4gICAgICBlYXN0aW5nOiB1dG0uZWFzdGluZyArIHV0bS5hY2N1cmFjeSxcbiAgICAgIHpvbmVMZXR0ZXI6IHV0bS56b25lTGV0dGVyLFxuICAgICAgem9uZU51bWJlcjogdXRtLnpvbmVOdW1iZXJcbiAgICB9KTtcbiAgICByZXN1bHQgPSB7XG4gICAgICB0b3A6IHRvcFJpZ2h0LmxhdCxcbiAgICAgIHJpZ2h0OiB0b3BSaWdodC5sb24sXG4gICAgICBib3R0b206IGxhdCxcbiAgICAgIGxlZnQ6IGxvblxuICAgIH07XG4gIH1cbiAgZWxzZSB7XG4gICAgcmVzdWx0ID0ge1xuICAgICAgbGF0OiBsYXQsXG4gICAgICBsb246IGxvblxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBNR1JTIGxldHRlciBkZXNpZ25hdG9yIGZvciB0aGUgZ2l2ZW4gbGF0aXR1ZGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBsYXQgVGhlIGxhdGl0dWRlIGluIFdHUzg0IHRvIGdldCB0aGUgbGV0dGVyIGRlc2lnbmF0b3JcbiAqICAgICBmb3IuXG4gKiBAcmV0dXJuIHtjaGFyfSBUaGUgbGV0dGVyIGRlc2lnbmF0b3IuXG4gKi9cbmZ1bmN0aW9uIGdldExldHRlckRlc2lnbmF0b3IobGF0KSB7XG4gIC8vVGhpcyBpcyBoZXJlIGFzIGFuIGVycm9yIGZsYWcgdG8gc2hvdyB0aGF0IHRoZSBMYXRpdHVkZSBpc1xuICAvL291dHNpZGUgTUdSUyBsaW1pdHNcbiAgdmFyIExldHRlckRlc2lnbmF0b3IgPSAnWic7XG5cbiAgaWYgKCg4NCA+PSBsYXQpICYmIChsYXQgPj0gNzIpKSB7XG4gICAgTGV0dGVyRGVzaWduYXRvciA9ICdYJztcbiAgfVxuICBlbHNlIGlmICgoNzIgPiBsYXQpICYmIChsYXQgPj0gNjQpKSB7XG4gICAgTGV0dGVyRGVzaWduYXRvciA9ICdXJztcbiAgfVxuICBlbHNlIGlmICgoNjQgPiBsYXQpICYmIChsYXQgPj0gNTYpKSB7XG4gICAgTGV0dGVyRGVzaWduYXRvciA9ICdWJztcbiAgfVxuICBlbHNlIGlmICgoNTYgPiBsYXQpICYmIChsYXQgPj0gNDgpKSB7XG4gICAgTGV0dGVyRGVzaWduYXRvciA9ICdVJztcbiAgfVxuICBlbHNlIGlmICgoNDggPiBsYXQpICYmIChsYXQgPj0gNDApKSB7XG4gICAgTGV0dGVyRGVzaWduYXRvciA9ICdUJztcbiAgfVxuICBlbHNlIGlmICgoNDAgPiBsYXQpICYmIChsYXQgPj0gMzIpKSB7XG4gICAgTGV0dGVyRGVzaWduYXRvciA9ICdTJztcbiAgfVxuICBlbHNlIGlmICgoMzIgPiBsYXQpICYmIChsYXQgPj0gMjQpKSB7XG4gICAgTGV0dGVyRGVzaWduYXRvciA9ICdSJztcbiAgfVxuICBlbHNlIGlmICgoMjQgPiBsYXQpICYmIChsYXQgPj0gMTYpKSB7XG4gICAgTGV0dGVyRGVzaWduYXRvciA9ICdRJztcbiAgfVxuICBlbHNlIGlmICgoMTYgPiBsYXQpICYmIChsYXQgPj0gOCkpIHtcbiAgICBMZXR0ZXJEZXNpZ25hdG9yID0gJ1AnO1xuICB9XG4gIGVsc2UgaWYgKCg4ID4gbGF0KSAmJiAobGF0ID49IDApKSB7XG4gICAgTGV0dGVyRGVzaWduYXRvciA9ICdOJztcbiAgfVxuICBlbHNlIGlmICgoMCA+IGxhdCkgJiYgKGxhdCA+PSAtOCkpIHtcbiAgICBMZXR0ZXJEZXNpZ25hdG9yID0gJ00nO1xuICB9XG4gIGVsc2UgaWYgKCgtOCA+IGxhdCkgJiYgKGxhdCA+PSAtMTYpKSB7XG4gICAgTGV0dGVyRGVzaWduYXRvciA9ICdMJztcbiAgfVxuICBlbHNlIGlmICgoLTE2ID4gbGF0KSAmJiAobGF0ID49IC0yNCkpIHtcbiAgICBMZXR0ZXJEZXNpZ25hdG9yID0gJ0snO1xuICB9XG4gIGVsc2UgaWYgKCgtMjQgPiBsYXQpICYmIChsYXQgPj0gLTMyKSkge1xuICAgIExldHRlckRlc2lnbmF0b3IgPSAnSic7XG4gIH1cbiAgZWxzZSBpZiAoKC0zMiA+IGxhdCkgJiYgKGxhdCA+PSAtNDApKSB7XG4gICAgTGV0dGVyRGVzaWduYXRvciA9ICdIJztcbiAgfVxuICBlbHNlIGlmICgoLTQwID4gbGF0KSAmJiAobGF0ID49IC00OCkpIHtcbiAgICBMZXR0ZXJEZXNpZ25hdG9yID0gJ0cnO1xuICB9XG4gIGVsc2UgaWYgKCgtNDggPiBsYXQpICYmIChsYXQgPj0gLTU2KSkge1xuICAgIExldHRlckRlc2lnbmF0b3IgPSAnRic7XG4gIH1cbiAgZWxzZSBpZiAoKC01NiA+IGxhdCkgJiYgKGxhdCA+PSAtNjQpKSB7XG4gICAgTGV0dGVyRGVzaWduYXRvciA9ICdFJztcbiAgfVxuICBlbHNlIGlmICgoLTY0ID4gbGF0KSAmJiAobGF0ID49IC03MikpIHtcbiAgICBMZXR0ZXJEZXNpZ25hdG9yID0gJ0QnO1xuICB9XG4gIGVsc2UgaWYgKCgtNzIgPiBsYXQpICYmIChsYXQgPj0gLTgwKSkge1xuICAgIExldHRlckRlc2lnbmF0b3IgPSAnQyc7XG4gIH1cbiAgcmV0dXJuIExldHRlckRlc2lnbmF0b3I7XG59XG5cbi8qKlxuICogRW5jb2RlcyBhIFVUTSBsb2NhdGlvbiBhcyBNR1JTIHN0cmluZy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtvYmplY3R9IHV0bSBBbiBvYmplY3QgbGl0ZXJhbCB3aXRoIGVhc3RpbmcsIG5vcnRoaW5nLFxuICogICAgIHpvbmVMZXR0ZXIsIHpvbmVOdW1iZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBhY2N1cmFjeSBBY2N1cmFjeSBpbiBkaWdpdHMgKDEtNSkuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IE1HUlMgc3RyaW5nIGZvciB0aGUgZ2l2ZW4gVVRNIGxvY2F0aW9uLlxuICovXG5mdW5jdGlvbiBlbmNvZGUodXRtLCBhY2N1cmFjeSkge1xuICAvLyBwcmVwZW5kIHdpdGggbGVhZGluZyB6ZXJvZXNcbiAgdmFyIHNlYXN0aW5nID0gXCIwMDAwMFwiICsgdXRtLmVhc3RpbmcsXG4gICAgc25vcnRoaW5nID0gXCIwMDAwMFwiICsgdXRtLm5vcnRoaW5nO1xuXG4gIHJldHVybiB1dG0uem9uZU51bWJlciArIHV0bS56b25lTGV0dGVyICsgZ2V0MTAwa0lEKHV0bS5lYXN0aW5nLCB1dG0ubm9ydGhpbmcsIHV0bS56b25lTnVtYmVyKSArIHNlYXN0aW5nLnN1YnN0cihzZWFzdGluZy5sZW5ndGggLSA1LCBhY2N1cmFjeSkgKyBzbm9ydGhpbmcuc3Vic3RyKHNub3J0aGluZy5sZW5ndGggLSA1LCBhY2N1cmFjeSk7XG59XG5cbi8qKlxuICogR2V0IHRoZSB0d28gbGV0dGVyIDEwMGsgZGVzaWduYXRvciBmb3IgYSBnaXZlbiBVVE0gZWFzdGluZyxcbiAqIG5vcnRoaW5nIGFuZCB6b25lIG51bWJlciB2YWx1ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGVhc3RpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSBub3J0aGluZ1xuICogQHBhcmFtIHtudW1iZXJ9IHpvbmVOdW1iZXJcbiAqIEByZXR1cm4gdGhlIHR3byBsZXR0ZXIgMTAwayBkZXNpZ25hdG9yIGZvciB0aGUgZ2l2ZW4gVVRNIGxvY2F0aW9uLlxuICovXG5mdW5jdGlvbiBnZXQxMDBrSUQoZWFzdGluZywgbm9ydGhpbmcsIHpvbmVOdW1iZXIpIHtcbiAgdmFyIHNldFBhcm0gPSBnZXQxMDBrU2V0Rm9yWm9uZSh6b25lTnVtYmVyKTtcbiAgdmFyIHNldENvbHVtbiA9IE1hdGguZmxvb3IoZWFzdGluZyAvIDEwMDAwMCk7XG4gIHZhciBzZXRSb3cgPSBNYXRoLmZsb29yKG5vcnRoaW5nIC8gMTAwMDAwKSAlIDIwO1xuICByZXR1cm4gZ2V0TGV0dGVyMTAwa0lEKHNldENvbHVtbiwgc2V0Um93LCBzZXRQYXJtKTtcbn1cblxuLyoqXG4gKiBHaXZlbiBhIFVUTSB6b25lIG51bWJlciwgZmlndXJlIG91dCB0aGUgTUdSUyAxMDBLIHNldCBpdCBpcyBpbi5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGkgQW4gVVRNIHpvbmUgbnVtYmVyLlxuICogQHJldHVybiB7bnVtYmVyfSB0aGUgMTAwayBzZXQgdGhlIFVUTSB6b25lIGlzIGluLlxuICovXG5mdW5jdGlvbiBnZXQxMDBrU2V0Rm9yWm9uZShpKSB7XG4gIHZhciBzZXRQYXJtID0gaSAlIE5VTV8xMDBLX1NFVFM7XG4gIGlmIChzZXRQYXJtID09PSAwKSB7XG4gICAgc2V0UGFybSA9IE5VTV8xMDBLX1NFVFM7XG4gIH1cblxuICByZXR1cm4gc2V0UGFybTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHR3by1sZXR0ZXIgTUdSUyAxMDBrIGRlc2lnbmF0b3IgZ2l2ZW4gaW5mb3JtYXRpb25cbiAqIHRyYW5zbGF0ZWQgZnJvbSB0aGUgVVRNIG5vcnRoaW5nLCBlYXN0aW5nIGFuZCB6b25lIG51bWJlci5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbiB0aGUgY29sdW1uIGluZGV4IGFzIGl0IHJlbGF0ZXMgdG8gdGhlIE1HUlNcbiAqICAgICAgICAxMDBrIHNldCBzcHJlYWRzaGVldCwgY3JlYXRlZCBmcm9tIHRoZSBVVE0gZWFzdGluZy5cbiAqICAgICAgICBWYWx1ZXMgYXJlIDEtOC5cbiAqIEBwYXJhbSB7bnVtYmVyfSByb3cgdGhlIHJvdyBpbmRleCBhcyBpdCByZWxhdGVzIHRvIHRoZSBNR1JTIDEwMGsgc2V0XG4gKiAgICAgICAgc3ByZWFkc2hlZXQsIGNyZWF0ZWQgZnJvbSB0aGUgVVRNIG5vcnRoaW5nIHZhbHVlLiBWYWx1ZXNcbiAqICAgICAgICBhcmUgZnJvbSAwLTE5LlxuICogQHBhcmFtIHtudW1iZXJ9IHBhcm0gdGhlIHNldCBibG9jaywgYXMgaXQgcmVsYXRlcyB0byB0aGUgTUdSUyAxMDBrIHNldFxuICogICAgICAgIHNwcmVhZHNoZWV0LCBjcmVhdGVkIGZyb20gdGhlIFVUTSB6b25lLiBWYWx1ZXMgYXJlIGZyb21cbiAqICAgICAgICAxLTYwLlxuICogQHJldHVybiB0d28gbGV0dGVyIE1HUlMgMTAwayBjb2RlLlxuICovXG5mdW5jdGlvbiBnZXRMZXR0ZXIxMDBrSUQoY29sdW1uLCByb3csIHBhcm0pIHtcbiAgLy8gY29sT3JpZ2luIGFuZCByb3dPcmlnaW4gYXJlIHRoZSBsZXR0ZXJzIGF0IHRoZSBvcmlnaW4gb2YgdGhlIHNldFxuICB2YXIgaW5kZXggPSBwYXJtIC0gMTtcbiAgdmFyIGNvbE9yaWdpbiA9IFNFVF9PUklHSU5fQ09MVU1OX0xFVFRFUlMuY2hhckNvZGVBdChpbmRleCk7XG4gIHZhciByb3dPcmlnaW4gPSBTRVRfT1JJR0lOX1JPV19MRVRURVJTLmNoYXJDb2RlQXQoaW5kZXgpO1xuXG4gIC8vIGNvbEludCBhbmQgcm93SW50IGFyZSB0aGUgbGV0dGVycyB0byBidWlsZCB0byByZXR1cm5cbiAgdmFyIGNvbEludCA9IGNvbE9yaWdpbiArIGNvbHVtbiAtIDE7XG4gIHZhciByb3dJbnQgPSByb3dPcmlnaW4gKyByb3c7XG4gIHZhciByb2xsb3ZlciA9IGZhbHNlO1xuXG4gIGlmIChjb2xJbnQgPiBaKSB7XG4gICAgY29sSW50ID0gY29sSW50IC0gWiArIEEgLSAxO1xuICAgIHJvbGxvdmVyID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChjb2xJbnQgPT09IEkgfHwgKGNvbE9yaWdpbiA8IEkgJiYgY29sSW50ID4gSSkgfHwgKChjb2xJbnQgPiBJIHx8IGNvbE9yaWdpbiA8IEkpICYmIHJvbGxvdmVyKSkge1xuICAgIGNvbEludCsrO1xuICB9XG5cbiAgaWYgKGNvbEludCA9PT0gTyB8fCAoY29sT3JpZ2luIDwgTyAmJiBjb2xJbnQgPiBPKSB8fCAoKGNvbEludCA+IE8gfHwgY29sT3JpZ2luIDwgTykgJiYgcm9sbG92ZXIpKSB7XG4gICAgY29sSW50Kys7XG5cbiAgICBpZiAoY29sSW50ID09PSBJKSB7XG4gICAgICBjb2xJbnQrKztcbiAgICB9XG4gIH1cblxuICBpZiAoY29sSW50ID4gWikge1xuICAgIGNvbEludCA9IGNvbEludCAtIFogKyBBIC0gMTtcbiAgfVxuXG4gIGlmIChyb3dJbnQgPiBWKSB7XG4gICAgcm93SW50ID0gcm93SW50IC0gViArIEEgLSAxO1xuICAgIHJvbGxvdmVyID0gdHJ1ZTtcbiAgfVxuICBlbHNlIHtcbiAgICByb2xsb3ZlciA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKCgocm93SW50ID09PSBJKSB8fCAoKHJvd09yaWdpbiA8IEkpICYmIChyb3dJbnQgPiBJKSkpIHx8ICgoKHJvd0ludCA+IEkpIHx8IChyb3dPcmlnaW4gPCBJKSkgJiYgcm9sbG92ZXIpKSB7XG4gICAgcm93SW50Kys7XG4gIH1cblxuICBpZiAoKChyb3dJbnQgPT09IE8pIHx8ICgocm93T3JpZ2luIDwgTykgJiYgKHJvd0ludCA+IE8pKSkgfHwgKCgocm93SW50ID4gTykgfHwgKHJvd09yaWdpbiA8IE8pKSAmJiByb2xsb3ZlcikpIHtcbiAgICByb3dJbnQrKztcblxuICAgIGlmIChyb3dJbnQgPT09IEkpIHtcbiAgICAgIHJvd0ludCsrO1xuICAgIH1cbiAgfVxuXG4gIGlmIChyb3dJbnQgPiBWKSB7XG4gICAgcm93SW50ID0gcm93SW50IC0gViArIEEgLSAxO1xuICB9XG5cbiAgdmFyIHR3b0xldHRlciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29sSW50KSArIFN0cmluZy5mcm9tQ2hhckNvZGUocm93SW50KTtcbiAgcmV0dXJuIHR3b0xldHRlcjtcbn1cblxuLyoqXG4gKiBEZWNvZGUgdGhlIFVUTSBwYXJhbWV0ZXJzIGZyb20gYSBNR1JTIHN0cmluZy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IG1ncnNTdHJpbmcgYW4gVVBQRVJDQVNFIGNvb3JkaW5hdGUgc3RyaW5nIGlzIGV4cGVjdGVkLlxuICogQHJldHVybiB7b2JqZWN0fSBBbiBvYmplY3QgbGl0ZXJhbCB3aXRoIGVhc3RpbmcsIG5vcnRoaW5nLCB6b25lTGV0dGVyLFxuICogICAgIHpvbmVOdW1iZXIgYW5kIGFjY3VyYWN5IChpbiBtZXRlcnMpIHByb3BlcnRpZXMuXG4gKi9cbmZ1bmN0aW9uIGRlY29kZShtZ3JzU3RyaW5nKSB7XG5cbiAgaWYgKG1ncnNTdHJpbmcgJiYgbWdyc1N0cmluZy5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyAoXCJNR1JTUG9pbnQgY292ZXJ0aW5nIGZyb20gbm90aGluZ1wiKTtcbiAgfVxuXG4gIHZhciBsZW5ndGggPSBtZ3JzU3RyaW5nLmxlbmd0aDtcblxuICB2YXIgaHVuSyA9IG51bGw7XG4gIHZhciBzYiA9IFwiXCI7XG4gIHZhciB0ZXN0Q2hhcjtcbiAgdmFyIGkgPSAwO1xuXG4gIC8vIGdldCBab25lIG51bWJlclxuICB3aGlsZSAoISgvW0EtWl0vKS50ZXN0KHRlc3RDaGFyID0gbWdyc1N0cmluZy5jaGFyQXQoaSkpKSB7XG4gICAgaWYgKGkgPj0gMikge1xuICAgICAgdGhyb3cgKFwiTUdSU1BvaW50IGJhZCBjb252ZXJzaW9uIGZyb206IFwiICsgbWdyc1N0cmluZyk7XG4gICAgfVxuICAgIHNiICs9IHRlc3RDaGFyO1xuICAgIGkrKztcbiAgfVxuXG4gIHZhciB6b25lTnVtYmVyID0gcGFyc2VJbnQoc2IsIDEwKTtcblxuICBpZiAoaSA9PT0gMCB8fCBpICsgMyA+IGxlbmd0aCkge1xuICAgIC8vIEEgZ29vZCBNR1JTIHN0cmluZyBoYXMgdG8gYmUgNC01IGRpZ2l0cyBsb25nLFxuICAgIC8vICMjQUFBLyNBQUEgYXQgbGVhc3QuXG4gICAgdGhyb3cgKFwiTUdSU1BvaW50IGJhZCBjb252ZXJzaW9uIGZyb206IFwiICsgbWdyc1N0cmluZyk7XG4gIH1cblxuICB2YXIgem9uZUxldHRlciA9IG1ncnNTdHJpbmcuY2hhckF0KGkrKyk7XG5cbiAgLy8gU2hvdWxkIHdlIGNoZWNrIHRoZSB6b25lIGxldHRlciBoZXJlPyBXaHkgbm90LlxuICBpZiAoem9uZUxldHRlciA8PSAnQScgfHwgem9uZUxldHRlciA9PT0gJ0InIHx8IHpvbmVMZXR0ZXIgPT09ICdZJyB8fCB6b25lTGV0dGVyID49ICdaJyB8fCB6b25lTGV0dGVyID09PSAnSScgfHwgem9uZUxldHRlciA9PT0gJ08nKSB7XG4gICAgdGhyb3cgKFwiTUdSU1BvaW50IHpvbmUgbGV0dGVyIFwiICsgem9uZUxldHRlciArIFwiIG5vdCBoYW5kbGVkOiBcIiArIG1ncnNTdHJpbmcpO1xuICB9XG5cbiAgaHVuSyA9IG1ncnNTdHJpbmcuc3Vic3RyaW5nKGksIGkgKz0gMik7XG5cbiAgdmFyIHNldCA9IGdldDEwMGtTZXRGb3Jab25lKHpvbmVOdW1iZXIpO1xuXG4gIHZhciBlYXN0MTAwayA9IGdldEVhc3RpbmdGcm9tQ2hhcihodW5LLmNoYXJBdCgwKSwgc2V0KTtcbiAgdmFyIG5vcnRoMTAwayA9IGdldE5vcnRoaW5nRnJvbUNoYXIoaHVuSy5jaGFyQXQoMSksIHNldCk7XG5cbiAgLy8gV2UgaGF2ZSBhIGJ1ZyB3aGVyZSB0aGUgbm9ydGhpbmcgbWF5IGJlIDIwMDAwMDAgdG9vIGxvdy5cbiAgLy8gSG93XG4gIC8vIGRvIHdlIGtub3cgd2hlbiB0byByb2xsIG92ZXI/XG5cbiAgd2hpbGUgKG5vcnRoMTAwayA8IGdldE1pbk5vcnRoaW5nKHpvbmVMZXR0ZXIpKSB7XG4gICAgbm9ydGgxMDBrICs9IDIwMDAwMDA7XG4gIH1cblxuICAvLyBjYWxjdWxhdGUgdGhlIGNoYXIgaW5kZXggZm9yIGVhc3Rpbmcvbm9ydGhpbmcgc2VwYXJhdG9yXG4gIHZhciByZW1haW5kZXIgPSBsZW5ndGggLSBpO1xuXG4gIGlmIChyZW1haW5kZXIgJSAyICE9PSAwKSB7XG4gICAgdGhyb3cgKFwiTUdSU1BvaW50IGhhcyB0byBoYXZlIGFuIGV2ZW4gbnVtYmVyIFxcbm9mIGRpZ2l0cyBhZnRlciB0aGUgem9uZSBsZXR0ZXIgYW5kIHR3byAxMDBrbSBsZXR0ZXJzIC0gZnJvbnQgXFxuaGFsZiBmb3IgZWFzdGluZyBtZXRlcnMsIHNlY29uZCBoYWxmIGZvciBcXG5ub3J0aGluZyBtZXRlcnNcIiArIG1ncnNTdHJpbmcpO1xuICB9XG5cbiAgdmFyIHNlcCA9IHJlbWFpbmRlciAvIDI7XG5cbiAgdmFyIHNlcEVhc3RpbmcgPSAwLjA7XG4gIHZhciBzZXBOb3J0aGluZyA9IDAuMDtcbiAgdmFyIGFjY3VyYWN5Qm9udXMsIHNlcEVhc3RpbmdTdHJpbmcsIHNlcE5vcnRoaW5nU3RyaW5nLCBlYXN0aW5nLCBub3J0aGluZztcbiAgaWYgKHNlcCA+IDApIHtcbiAgICBhY2N1cmFjeUJvbnVzID0gMTAwMDAwLjAgLyBNYXRoLnBvdygxMCwgc2VwKTtcbiAgICBzZXBFYXN0aW5nU3RyaW5nID0gbWdyc1N0cmluZy5zdWJzdHJpbmcoaSwgaSArIHNlcCk7XG4gICAgc2VwRWFzdGluZyA9IHBhcnNlRmxvYXQoc2VwRWFzdGluZ1N0cmluZykgKiBhY2N1cmFjeUJvbnVzO1xuICAgIHNlcE5vcnRoaW5nU3RyaW5nID0gbWdyc1N0cmluZy5zdWJzdHJpbmcoaSArIHNlcCk7XG4gICAgc2VwTm9ydGhpbmcgPSBwYXJzZUZsb2F0KHNlcE5vcnRoaW5nU3RyaW5nKSAqIGFjY3VyYWN5Qm9udXM7XG4gIH1cblxuICBlYXN0aW5nID0gc2VwRWFzdGluZyArIGVhc3QxMDBrO1xuICBub3J0aGluZyA9IHNlcE5vcnRoaW5nICsgbm9ydGgxMDBrO1xuXG4gIHJldHVybiB7XG4gICAgZWFzdGluZzogZWFzdGluZyxcbiAgICBub3J0aGluZzogbm9ydGhpbmcsXG4gICAgem9uZUxldHRlcjogem9uZUxldHRlcixcbiAgICB6b25lTnVtYmVyOiB6b25lTnVtYmVyLFxuICAgIGFjY3VyYWN5OiBhY2N1cmFjeUJvbnVzXG4gIH07XG59XG5cbi8qKlxuICogR2l2ZW4gdGhlIGZpcnN0IGxldHRlciBmcm9tIGEgdHdvLWxldHRlciBNR1JTIDEwMGsgem9uZSwgYW5kIGdpdmVuIHRoZVxuICogTUdSUyB0YWJsZSBzZXQgZm9yIHRoZSB6b25lIG51bWJlciwgZmlndXJlIG91dCB0aGUgZWFzdGluZyB2YWx1ZSB0aGF0XG4gKiBzaG91bGQgYmUgYWRkZWQgdG8gdGhlIG90aGVyLCBzZWNvbmRhcnkgZWFzdGluZyB2YWx1ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtjaGFyfSBlIFRoZSBmaXJzdCBsZXR0ZXIgZnJvbSBhIHR3by1sZXR0ZXIgTUdSUyAxMDDCtGsgem9uZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzZXQgVGhlIE1HUlMgdGFibGUgc2V0IGZvciB0aGUgem9uZSBudW1iZXIuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBlYXN0aW5nIHZhbHVlIGZvciB0aGUgZ2l2ZW4gbGV0dGVyIGFuZCBzZXQuXG4gKi9cbmZ1bmN0aW9uIGdldEVhc3RpbmdGcm9tQ2hhcihlLCBzZXQpIHtcbiAgLy8gY29sT3JpZ2luIGlzIHRoZSBsZXR0ZXIgYXQgdGhlIG9yaWdpbiBvZiB0aGUgc2V0IGZvciB0aGVcbiAgLy8gY29sdW1uXG4gIHZhciBjdXJDb2wgPSBTRVRfT1JJR0lOX0NPTFVNTl9MRVRURVJTLmNoYXJDb2RlQXQoc2V0IC0gMSk7XG4gIHZhciBlYXN0aW5nVmFsdWUgPSAxMDAwMDAuMDtcbiAgdmFyIHJld2luZE1hcmtlciA9IGZhbHNlO1xuXG4gIHdoaWxlIChjdXJDb2wgIT09IGUuY2hhckNvZGVBdCgwKSkge1xuICAgIGN1ckNvbCsrO1xuICAgIGlmIChjdXJDb2wgPT09IEkpIHtcbiAgICAgIGN1ckNvbCsrO1xuICAgIH1cbiAgICBpZiAoY3VyQ29sID09PSBPKSB7XG4gICAgICBjdXJDb2wrKztcbiAgICB9XG4gICAgaWYgKGN1ckNvbCA+IFopIHtcbiAgICAgIGlmIChyZXdpbmRNYXJrZXIpIHtcbiAgICAgICAgdGhyb3cgKFwiQmFkIGNoYXJhY3RlcjogXCIgKyBlKTtcbiAgICAgIH1cbiAgICAgIGN1ckNvbCA9IEE7XG4gICAgICByZXdpbmRNYXJrZXIgPSB0cnVlO1xuICAgIH1cbiAgICBlYXN0aW5nVmFsdWUgKz0gMTAwMDAwLjA7XG4gIH1cblxuICByZXR1cm4gZWFzdGluZ1ZhbHVlO1xufVxuXG4vKipcbiAqIEdpdmVuIHRoZSBzZWNvbmQgbGV0dGVyIGZyb20gYSB0d28tbGV0dGVyIE1HUlMgMTAwayB6b25lLCBhbmQgZ2l2ZW4gdGhlXG4gKiBNR1JTIHRhYmxlIHNldCBmb3IgdGhlIHpvbmUgbnVtYmVyLCBmaWd1cmUgb3V0IHRoZSBub3J0aGluZyB2YWx1ZSB0aGF0XG4gKiBzaG91bGQgYmUgYWRkZWQgdG8gdGhlIG90aGVyLCBzZWNvbmRhcnkgbm9ydGhpbmcgdmFsdWUuIFlvdSBoYXZlIHRvXG4gKiByZW1lbWJlciB0aGF0IE5vcnRoaW5ncyBhcmUgZGV0ZXJtaW5lZCBmcm9tIHRoZSBlcXVhdG9yLCBhbmQgdGhlIHZlcnRpY2FsXG4gKiBjeWNsZSBvZiBsZXR0ZXJzIG1lYW4gYSAyMDAwMDAwIGFkZGl0aW9uYWwgbm9ydGhpbmcgbWV0ZXJzLiBUaGlzIGhhcHBlbnNcbiAqIGFwcHJveC4gZXZlcnkgMTggZGVncmVlcyBvZiBsYXRpdHVkZS4gVGhpcyBtZXRob2QgZG9lcyAqTk9UKiBjb3VudCBhbnlcbiAqIGFkZGl0aW9uYWwgbm9ydGhpbmdzLiBZb3UgaGF2ZSB0byBmaWd1cmUgb3V0IGhvdyBtYW55IDIwMDAwMDAgbWV0ZXJzIG5lZWRcbiAqIHRvIGJlIGFkZGVkIGZvciB0aGUgem9uZSBsZXR0ZXIgb2YgdGhlIE1HUlMgY29vcmRpbmF0ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtjaGFyfSBuIFNlY29uZCBsZXR0ZXIgb2YgdGhlIE1HUlMgMTAwayB6b25lXG4gKiBAcGFyYW0ge251bWJlcn0gc2V0IFRoZSBNR1JTIHRhYmxlIHNldCBudW1iZXIsIHdoaWNoIGlzIGRlcGVuZGVudCBvbiB0aGVcbiAqICAgICBVVE0gem9uZSBudW1iZXIuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBub3J0aGluZyB2YWx1ZSBmb3IgdGhlIGdpdmVuIGxldHRlciBhbmQgc2V0LlxuICovXG5mdW5jdGlvbiBnZXROb3J0aGluZ0Zyb21DaGFyKG4sIHNldCkge1xuXG4gIGlmIChuID4gJ1YnKSB7XG4gICAgdGhyb3cgKFwiTUdSU1BvaW50IGdpdmVuIGludmFsaWQgTm9ydGhpbmcgXCIgKyBuKTtcbiAgfVxuXG4gIC8vIHJvd09yaWdpbiBpcyB0aGUgbGV0dGVyIGF0IHRoZSBvcmlnaW4gb2YgdGhlIHNldCBmb3IgdGhlXG4gIC8vIGNvbHVtblxuICB2YXIgY3VyUm93ID0gU0VUX09SSUdJTl9ST1dfTEVUVEVSUy5jaGFyQ29kZUF0KHNldCAtIDEpO1xuICB2YXIgbm9ydGhpbmdWYWx1ZSA9IDAuMDtcbiAgdmFyIHJld2luZE1hcmtlciA9IGZhbHNlO1xuXG4gIHdoaWxlIChjdXJSb3cgIT09IG4uY2hhckNvZGVBdCgwKSkge1xuICAgIGN1clJvdysrO1xuICAgIGlmIChjdXJSb3cgPT09IEkpIHtcbiAgICAgIGN1clJvdysrO1xuICAgIH1cbiAgICBpZiAoY3VyUm93ID09PSBPKSB7XG4gICAgICBjdXJSb3crKztcbiAgICB9XG4gICAgLy8gZml4aW5nIGEgYnVnIG1ha2luZyB3aG9sZSBhcHBsaWNhdGlvbiBoYW5nIGluIHRoaXMgbG9vcFxuICAgIC8vIHdoZW4gJ24nIGlzIGEgd3JvbmcgY2hhcmFjdGVyXG4gICAgaWYgKGN1clJvdyA+IFYpIHtcbiAgICAgIGlmIChyZXdpbmRNYXJrZXIpIHsgLy8gbWFraW5nIHN1cmUgdGhhdCB0aGlzIGxvb3AgZW5kc1xuICAgICAgICB0aHJvdyAoXCJCYWQgY2hhcmFjdGVyOiBcIiArIG4pO1xuICAgICAgfVxuICAgICAgY3VyUm93ID0gQTtcbiAgICAgIHJld2luZE1hcmtlciA9IHRydWU7XG4gICAgfVxuICAgIG5vcnRoaW5nVmFsdWUgKz0gMTAwMDAwLjA7XG4gIH1cblxuICByZXR1cm4gbm9ydGhpbmdWYWx1ZTtcbn1cblxuLyoqXG4gKiBUaGUgZnVuY3Rpb24gZ2V0TWluTm9ydGhpbmcgcmV0dXJucyB0aGUgbWluaW11bSBub3J0aGluZyB2YWx1ZSBvZiBhIE1HUlNcbiAqIHpvbmUuXG4gKlxuICogUG9ydGVkIGZyb20gR2VvdHJhbnMnIGMgTGF0dGl0dWRlX0JhbmRfVmFsdWUgc3RydWN0dXJlIHRhYmxlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge2NoYXJ9IHpvbmVMZXR0ZXIgVGhlIE1HUlMgem9uZSB0byBnZXQgdGhlIG1pbiBub3J0aGluZyBmb3IuXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIGdldE1pbk5vcnRoaW5nKHpvbmVMZXR0ZXIpIHtcbiAgdmFyIG5vcnRoaW5nO1xuICBzd2l0Y2ggKHpvbmVMZXR0ZXIpIHtcbiAgY2FzZSAnQyc6XG4gICAgbm9ydGhpbmcgPSAxMTAwMDAwLjA7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ0QnOlxuICAgIG5vcnRoaW5nID0gMjAwMDAwMC4wO1xuICAgIGJyZWFrO1xuICBjYXNlICdFJzpcbiAgICBub3J0aGluZyA9IDI4MDAwMDAuMDtcbiAgICBicmVhaztcbiAgY2FzZSAnRic6XG4gICAgbm9ydGhpbmcgPSAzNzAwMDAwLjA7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ0cnOlxuICAgIG5vcnRoaW5nID0gNDYwMDAwMC4wO1xuICAgIGJyZWFrO1xuICBjYXNlICdIJzpcbiAgICBub3J0aGluZyA9IDU1MDAwMDAuMDtcbiAgICBicmVhaztcbiAgY2FzZSAnSic6XG4gICAgbm9ydGhpbmcgPSA2NDAwMDAwLjA7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ0snOlxuICAgIG5vcnRoaW5nID0gNzMwMDAwMC4wO1xuICAgIGJyZWFrO1xuICBjYXNlICdMJzpcbiAgICBub3J0aGluZyA9IDgyMDAwMDAuMDtcbiAgICBicmVhaztcbiAgY2FzZSAnTSc6XG4gICAgbm9ydGhpbmcgPSA5MTAwMDAwLjA7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ04nOlxuICAgIG5vcnRoaW5nID0gMC4wO1xuICAgIGJyZWFrO1xuICBjYXNlICdQJzpcbiAgICBub3J0aGluZyA9IDgwMDAwMC4wO1xuICAgIGJyZWFrO1xuICBjYXNlICdRJzpcbiAgICBub3J0aGluZyA9IDE3MDAwMDAuMDtcbiAgICBicmVhaztcbiAgY2FzZSAnUic6XG4gICAgbm9ydGhpbmcgPSAyNjAwMDAwLjA7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ1MnOlxuICAgIG5vcnRoaW5nID0gMzUwMDAwMC4wO1xuICAgIGJyZWFrO1xuICBjYXNlICdUJzpcbiAgICBub3J0aGluZyA9IDQ0MDAwMDAuMDtcbiAgICBicmVhaztcbiAgY2FzZSAnVSc6XG4gICAgbm9ydGhpbmcgPSA1MzAwMDAwLjA7XG4gICAgYnJlYWs7XG4gIGNhc2UgJ1YnOlxuICAgIG5vcnRoaW5nID0gNjIwMDAwMC4wO1xuICAgIGJyZWFrO1xuICBjYXNlICdXJzpcbiAgICBub3J0aGluZyA9IDcwMDAwMDAuMDtcbiAgICBicmVhaztcbiAgY2FzZSAnWCc6XG4gICAgbm9ydGhpbmcgPSA3OTAwMDAwLjA7XG4gICAgYnJlYWs7XG4gIGRlZmF1bHQ6XG4gICAgbm9ydGhpbmcgPSAtMS4wO1xuICB9XG4gIGlmIChub3J0aGluZyA+PSAwLjApIHtcbiAgICByZXR1cm4gbm9ydGhpbmc7XG4gIH1cbiAgZWxzZSB7XG4gICAgdGhyb3cgKFwiSW52YWxpZCB6b25lIGxldHRlcjogXCIgKyB6b25lTGV0dGVyKTtcbiAgfVxuXG59XG4iLCIvLyBPcGVuTGF5ZXJzLiBTZWUgaHR0cHM6Ly9vcGVubGF5ZXJzLm9yZy9cbi8vIExpY2Vuc2U6IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9vcGVubGF5ZXJzL29wZW5sYXllcnMvbWFzdGVyL0xJQ0VOU0UubWRcbi8vIFZlcnNpb246IHY0LjYuNFxuOyhmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSB7XG4gICAgcm9vdC5vbCA9IGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbiAoKSB7XG4gIHZhciBPUEVOTEFZRVJTID0ge307XG4gIHZhciBrLGFhPXRoaXM7ZnVuY3Rpb24gdChhLGIpe3ZhciBjPU9QRU5MQVlFUlM7YT1hLnNwbGl0KFwiLlwiKTtjPWN8fGFhO2FbMF1pbiBjfHwhYy5leGVjU2NyaXB0fHxjLmV4ZWNTY3JpcHQoXCJ2YXIgXCIrYVswXSk7Zm9yKHZhciBkO2EubGVuZ3RoJiYoZD1hLnNoaWZ0KCkpOylhLmxlbmd0aHx8dm9pZCAwPT09Yj9jW2RdJiZjW2RdIT09T2JqZWN0LnByb3RvdHlwZVtkXT9jPWNbZF06Yz1jW2RdPXt9OmNbZF09Yn07dmFyIGJhLGRhO2Z1bmN0aW9uIHcoYSxiKXthLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGIucHJvdG90eXBlKTthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hfWZ1bmN0aW9uIGVhKCl7fWZ1bmN0aW9uIHgoYSl7cmV0dXJuIGEueHB8fChhLnhwPSsrZmEpfXZhciBmYT0wO2Z1bmN0aW9uIGhhKGEpe3RoaXMubWVzc2FnZT1cIkFzc2VydGlvbiBmYWlsZWQuIFNlZSBodHRwczovL29wZW5sYXllcnMub3JnL2VuL3Y0LjYuNC9kb2MvZXJyb3JzLyNcIithK1wiIGZvciBkZXRhaWxzLlwiO3RoaXMuY29kZT1hO3RoaXMubmFtZT1cIkFzc2VydGlvbkVycm9yXCJ9dyhoYSxFcnJvcik7ZnVuY3Rpb24gamEoYSxiLGMsZCl7dGhpcy5mYT1hO3RoaXMubGE9Yjt0aGlzLmVhPWM7dGhpcy5rYT1kfWZ1bmN0aW9uIGthKGEsYixjLGQsZSl7cmV0dXJuIHZvaWQgMCE9PWU/KGUuZmE9YSxlLmxhPWIsZS5lYT1jLGUua2E9ZCxlKTpuZXcgamEoYSxiLGMsZCl9ZnVuY3Rpb24gbWEoYSxiLGMpe3JldHVybiBhLmZhPD1iJiZiPD1hLmxhJiZhLmVhPD1jJiZjPD1hLmthfWZ1bmN0aW9uIG5hKGEsYil7cmV0dXJuIGEuZmE9PWIuZmEmJmEuZWE9PWIuZWEmJmEubGE9PWIubGEmJmEua2E9PWIua2F9O2Z1bmN0aW9uIG9hKGEsYil7aWYoIWEpdGhyb3cgbmV3IGhhKGIpO307ZnVuY3Rpb24gcGEoYSxiLGMpe3JldHVybiBNYXRoLm1pbihNYXRoLm1heChhLGIpLGMpfXZhciBxYT1mdW5jdGlvbigpe3ZhciBhO1wiY29zaFwiaW4gTWF0aD9hPU1hdGguY29zaDphPWZ1bmN0aW9uKGEpe2E9TWF0aC5leHAoYSk7cmV0dXJuKGErMS9hKS8yfTtyZXR1cm4gYX0oKTtmdW5jdGlvbiByYShhKXtvYSgwPGEsMjkpO3JldHVybiBNYXRoLnBvdygyLE1hdGguY2VpbChNYXRoLmxvZyhhKS9NYXRoLkxOMikpfWZ1bmN0aW9uIHNhKGEsYixjLGQsZSxmKXt2YXIgZz1lLWMsaD1mLWQ7aWYoMCE9PWd8fDAhPT1oKXt2YXIgbD0oKGEtYykqZysoYi1kKSpoKS8oZypnK2gqaCk7MTxsPyhjPWUsZD1mKTowPGwmJihjKz1nKmwsZCs9aCpsKX1yZXR1cm4gdWEoYSxiLGMsZCl9ZnVuY3Rpb24gdWEoYSxiLGMsZCl7YT1jLWE7Yj1kLWI7cmV0dXJuIGEqYStiKmJ9ZnVuY3Rpb24gdmEoYSl7cmV0dXJuIGEqTWF0aC5QSS8xODB9XG5mdW5jdGlvbiB3YShhLGIpe2ElPWI7cmV0dXJuIDA+YSpiP2ErYjphfWZ1bmN0aW9uIHlhKGEsYixjKXtyZXR1cm4gYStjKihiLWEpfTtmdW5jdGlvbiB6YShhLGIsYyl7dm9pZCAwPT09YyYmKGM9WzAsMF0pO2NbMF09YVswXSsyKmI7Y1sxXT1hWzFdKzIqYjtyZXR1cm4gY31mdW5jdGlvbiBBYShhLGIsYyl7dm9pZCAwPT09YyYmKGM9WzAsMF0pO2NbMF09YVswXSpiKy41fDA7Y1sxXT1hWzFdKmIrLjV8MDtyZXR1cm4gY31mdW5jdGlvbiBCYShhLGIpe2lmKEFycmF5LmlzQXJyYXkoYSkpcmV0dXJuIGE7dm9pZCAwPT09Yj9iPVthLGFdOmJbMF09YlsxXT1hO3JldHVybiBifTtmdW5jdGlvbiBDYShhKXtmb3IodmFyIGI9RGEoKSxjPTAsZD1hLmxlbmd0aDtjPGQ7KytjKUVhKGIsYVtjXSk7cmV0dXJuIGJ9ZnVuY3Rpb24gRmEoYSxiLGMpe3JldHVybiBjPyhjWzBdPWFbMF0tYixjWzFdPWFbMV0tYixjWzJdPWFbMl0rYixjWzNdPWFbM10rYixjKTpbYVswXS1iLGFbMV0tYixhWzJdK2IsYVszXStiXX1mdW5jdGlvbiBHYShhLGIpe3JldHVybiBiPyhiWzBdPWFbMF0sYlsxXT1hWzFdLGJbMl09YVsyXSxiWzNdPWFbM10sYik6YS5zbGljZSgpfWZ1bmN0aW9uIEhhKGEsYixjKXtiPWI8YVswXT9hWzBdLWI6YVsyXTxiP2ItYVsyXTowO2E9YzxhWzFdP2FbMV0tYzphWzNdPGM/Yy1hWzNdOjA7cmV0dXJuIGIqYithKmF9ZnVuY3Rpb24gSmEoYSxiKXtyZXR1cm4gS2EoYSxiWzBdLGJbMV0pfWZ1bmN0aW9uIExhKGEsYil7cmV0dXJuIGFbMF08PWJbMF0mJmJbMl08PWFbMl0mJmFbMV08PWJbMV0mJmJbM108PWFbM119XG5mdW5jdGlvbiBLYShhLGIsYyl7cmV0dXJuIGFbMF08PWImJmI8PWFbMl0mJmFbMV08PWMmJmM8PWFbM119ZnVuY3Rpb24gTWEoYSxiKXt2YXIgYz1hWzFdLGQ9YVsyXSxlPWFbM10sZj1iWzBdO2I9YlsxXTt2YXIgZz0wO2Y8YVswXT9nfD0xNjpmPmQmJihnfD00KTtiPGM/Z3w9ODpiPmUmJihnfD0yKTswPT09ZyYmKGc9MSk7cmV0dXJuIGd9ZnVuY3Rpb24gRGEoKXtyZXR1cm5bSW5maW5pdHksSW5maW5pdHksLUluZmluaXR5LC1JbmZpbml0eV19ZnVuY3Rpb24gTmEoYSxiLGMsZCxlKXtyZXR1cm4gZT8oZVswXT1hLGVbMV09YixlWzJdPWMsZVszXT1kLGUpOlthLGIsYyxkXX1mdW5jdGlvbiBPYShhKXtyZXR1cm4gTmEoSW5maW5pdHksSW5maW5pdHksLUluZmluaXR5LC1JbmZpbml0eSxhKX1mdW5jdGlvbiBQYShhLGIpe3ZhciBjPWFbMF07YT1hWzFdO3JldHVybiBOYShjLGEsYyxhLGIpfVxuZnVuY3Rpb24gUWEoYSxiLGMsZCxlKXtlPU9hKGUpO3JldHVybiBSYShlLGEsYixjLGQpfWZ1bmN0aW9uIFNhKGEsYil7cmV0dXJuIGFbMF09PWJbMF0mJmFbMl09PWJbMl0mJmFbMV09PWJbMV0mJmFbM109PWJbM119ZnVuY3Rpb24gVGEoYSxiKXtiWzBdPGFbMF0mJihhWzBdPWJbMF0pO2JbMl0+YVsyXSYmKGFbMl09YlsyXSk7YlsxXTxhWzFdJiYoYVsxXT1iWzFdKTtiWzNdPmFbM10mJihhWzNdPWJbM10pO3JldHVybiBhfWZ1bmN0aW9uIEVhKGEsYil7YlswXTxhWzBdJiYoYVswXT1iWzBdKTtiWzBdPmFbMl0mJihhWzJdPWJbMF0pO2JbMV08YVsxXSYmKGFbMV09YlsxXSk7YlsxXT5hWzNdJiYoYVszXT1iWzFdKX1cbmZ1bmN0aW9uIFJhKGEsYixjLGQsZSl7Zm9yKDtjPGQ7Yys9ZSl7dmFyIGY9YSxnPWJbY10saD1iW2MrMV07ZlswXT1NYXRoLm1pbihmWzBdLGcpO2ZbMV09TWF0aC5taW4oZlsxXSxoKTtmWzJdPU1hdGgubWF4KGZbMl0sZyk7ZlszXT1NYXRoLm1heChmWzNdLGgpfXJldHVybiBhfWZ1bmN0aW9uIFVhKGEsYixjKXt2YXIgZDtyZXR1cm4oZD1iLmNhbGwoYyxXYShhKSkpfHwoZD1iLmNhbGwoYyxZYShhKSkpfHwoZD1iLmNhbGwoYyxaYShhKSkpP2Q6KGQ9Yi5jYWxsKGMsJGEoYSkpKT9kOiExfWZ1bmN0aW9uIGFiKGEpe3ZhciBiPTA7YmIoYSl8fChiPWNiKGEpKmRiKGEpKTtyZXR1cm4gYn1mdW5jdGlvbiBXYShhKXtyZXR1cm5bYVswXSxhWzFdXX1mdW5jdGlvbiBZYShhKXtyZXR1cm5bYVsyXSxhWzFdXX1mdW5jdGlvbiBlYihhKXtyZXR1cm5bKGFbMF0rYVsyXSkvMiwoYVsxXSthWzNdKS8yXX1cbmZ1bmN0aW9uIGZiKGEsYixjLGQsZSl7dmFyIGY9YipkWzBdLzI7ZD1iKmRbMV0vMjtiPU1hdGguY29zKGMpO3ZhciBnPU1hdGguc2luKGMpO2M9ZipiO2YqPWc7Yio9ZDt2YXIgaD1kKmcsbD1hWzBdLG09YVsxXTthPWwtYytoO2Q9bC1jLWg7Zz1sK2MtaDtjPWwrYytoO2g9bS1mLWI7bD1tLWYrYjt2YXIgbj1tK2YrYjtmPW0rZi1iO3JldHVybiBOYShNYXRoLm1pbihhLGQsZyxjKSxNYXRoLm1pbihoLGwsbixmKSxNYXRoLm1heChhLGQsZyxjKSxNYXRoLm1heChoLGwsbixmKSxlKX1mdW5jdGlvbiBkYihhKXtyZXR1cm4gYVszXS1hWzFdfWZ1bmN0aW9uIGdiKGEsYixjKXtjPWM/YzpEYSgpO2hiKGEsYikmJihjWzBdPWFbMF0+YlswXT9hWzBdOmJbMF0sY1sxXT1hWzFdPmJbMV0/YVsxXTpiWzFdLGNbMl09YVsyXTxiWzJdP2FbMl06YlsyXSxjWzNdPWFbM108YlszXT9hWzNdOmJbM10pO3JldHVybiBjfWZ1bmN0aW9uICRhKGEpe3JldHVyblthWzBdLGFbM11dfVxuZnVuY3Rpb24gWmEoYSl7cmV0dXJuW2FbMl0sYVszXV19ZnVuY3Rpb24gY2IoYSl7cmV0dXJuIGFbMl0tYVswXX1mdW5jdGlvbiBoYihhLGIpe3JldHVybiBhWzBdPD1iWzJdJiZhWzJdPj1iWzBdJiZhWzFdPD1iWzNdJiZhWzNdPj1iWzFdfWZ1bmN0aW9uIGJiKGEpe3JldHVybiBhWzJdPGFbMF18fGFbM108YVsxXX1mdW5jdGlvbiBpYihhLGIpe3ZhciBjPShhWzJdLWFbMF0pLzIqKGItMSk7Yj0oYVszXS1hWzFdKS8yKihiLTEpO2FbMF0tPWM7YVsyXSs9YzthWzFdLT1iO2FbM10rPWJ9XG5mdW5jdGlvbiBqYihhLGIsYyl7YT1bYVswXSxhWzFdLGFbMF0sYVszXSxhWzJdLGFbMV0sYVsyXSxhWzNdXTtiKGEsYSwyKTt2YXIgZD1bYVswXSxhWzJdLGFbNF0sYVs2XV0sZT1bYVsxXSxhWzNdLGFbNV0sYVs3XV07Yj1NYXRoLm1pbi5hcHBseShudWxsLGQpO2E9TWF0aC5taW4uYXBwbHkobnVsbCxlKTtkPU1hdGgubWF4LmFwcGx5KG51bGwsZCk7ZT1NYXRoLm1heC5hcHBseShudWxsLGUpO3JldHVybiBOYShiLGEsZCxlLGMpfTt2YXIga2I9XCJmdW5jdGlvblwiPT09dHlwZW9mIE9iamVjdC5hc3NpZ24/T2JqZWN0LmFzc2lnbjpmdW5jdGlvbihhLGIpe2lmKHZvaWQgMD09PWF8fG51bGw9PT1hKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3RcIik7Zm9yKHZhciBjPU9iamVjdChhKSxkPTEsZT1hcmd1bWVudHMubGVuZ3RoO2Q8ZTsrK2Qpe3ZhciBmPWFyZ3VtZW50c1tkXTtpZih2b2lkIDAhPT1mJiZudWxsIT09Zilmb3IodmFyIGcgaW4gZilmLmhhc093blByb3BlcnR5KGcpJiYoY1tnXT1mW2ddKX1yZXR1cm4gY307ZnVuY3Rpb24gbGIoYSl7Zm9yKHZhciBiIGluIGEpZGVsZXRlIGFbYl19ZnVuY3Rpb24gbWIoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhKWIucHVzaChhW2NdKTtyZXR1cm4gYn1mdW5jdGlvbiBuYihhKXtmb3IodmFyIGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hYn07LypcblxuIExhdGl0dWRlL2xvbmdpdHVkZSBzcGhlcmljYWwgZ2VvZGVzeSBmb3JtdWxhZSB0YWtlbiBmcm9tXG4gaHR0cDovL3d3dy5tb3ZhYmxlLXR5cGUuY28udWsvc2NyaXB0cy9sYXRsb25nLmh0bWxcbiBMaWNlbnNlZCB1bmRlciBDQy1CWS0zLjAuXG4qL1xuZnVuY3Rpb24gb2IoYSl7dGhpcy5yYWRpdXM9YX1vYi5wcm90b3R5cGUuYT1mdW5jdGlvbihhKXtyZXR1cm4gcGIoYSx0aGlzLnJhZGl1cyl9O29iLnByb3RvdHlwZS5iPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHFiKGEsYix0aGlzLnJhZGl1cyl9O29iLnByb3RvdHlwZS5vZmZzZXQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXZhKGFbMV0pO2IvPXRoaXMucmFkaXVzO3ZhciBlPU1hdGguYXNpbihNYXRoLnNpbihkKSpNYXRoLmNvcyhiKStNYXRoLmNvcyhkKSpNYXRoLnNpbihiKSpNYXRoLmNvcyhjKSk7cmV0dXJuWzE4MCoodmEoYVswXSkrTWF0aC5hdGFuMihNYXRoLnNpbihjKSpNYXRoLnNpbihiKSpNYXRoLmNvcyhkKSxNYXRoLmNvcyhiKS1NYXRoLnNpbihkKSpNYXRoLnNpbihlKSkpL01hdGguUEksMTgwKmUvTWF0aC5QSV19O1xuZnVuY3Rpb24gcmIoYSxiKXt2YXIgYz1ifHx7fSxkPWMucmFkaXVzfHw2MzcxMDA4Ljg7Yz1jLnByb2plY3Rpb258fFwiRVBTRzozODU3XCI7YT1hLmNsb25lKCkubWIoYyxcIkVQU0c6NDMyNlwiKTt2YXIgZT1hLlMoKTtjPTA7dmFyIGY7c3dpdGNoKGUpe2Nhc2UgXCJQb2ludFwiOmNhc2UgXCJNdWx0aVBvaW50XCI6YnJlYWs7Y2FzZSBcIkxpbmVTdHJpbmdcIjpjYXNlIFwiTGluZWFyUmluZ1wiOmI9YS5XKCk7Yz1zYihiLGQpO2JyZWFrO2Nhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpjYXNlIFwiUG9seWdvblwiOmI9YS5XKCk7YT0wO2ZvcihlPWIubGVuZ3RoO2E8ZTsrK2EpYys9c2IoYlthXSxkKTticmVhaztjYXNlIFwiTXVsdGlQb2x5Z29uXCI6Yj1hLlcoKTthPTA7Zm9yKGU9Yi5sZW5ndGg7YTxlOysrYSl7dmFyIGc9YlthXTt2YXIgaD0wO2ZvcihmPWcubGVuZ3RoO2g8ZjsrK2gpYys9c2IoZ1toXSxkKX1icmVhaztjYXNlIFwiR2VvbWV0cnlDb2xsZWN0aW9uXCI6ZD1hLnZkKCk7YT0wO2ZvcihlPWQubGVuZ3RoO2E8XG5lOysrYSljKz1yYihkW2FdLGIpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbnN1cHBvcnRlZCBnZW9tZXRyeSB0eXBlOiBcIitlKTt9cmV0dXJuIGN9ZnVuY3Rpb24gc2IoYSxiKXtmb3IodmFyIGM9MCxkPTAsZT1hLmxlbmd0aDtkPGUtMTsrK2QpYys9cWIoYVtkXSxhW2QrMV0sYik7cmV0dXJuIGN9ZnVuY3Rpb24gcWIoYSxiLGMpe3ZhciBkPXZhKGFbMV0pLGU9dmEoYlsxXSksZj0oZS1kKS8yO2E9dmEoYlswXS1hWzBdKS8yO2Q9TWF0aC5zaW4oZikqTWF0aC5zaW4oZikrTWF0aC5zaW4oYSkqTWF0aC5zaW4oYSkqTWF0aC5jb3MoZCkqTWF0aC5jb3MoZSk7cmV0dXJuIDIqYypNYXRoLmF0YW4yKE1hdGguc3FydChkKSxNYXRoLnNxcnQoMS1kKSl9XG5mdW5jdGlvbiB0YihhLGIpe3ZhciBjPWJ8fHt9LGQ9Yy5yYWRpdXN8fDYzNzEwMDguODtjPWMucHJvamVjdGlvbnx8XCJFUFNHOjM4NTdcIjthPWEuY2xvbmUoKS5tYihjLFwiRVBTRzo0MzI2XCIpO3ZhciBlPWEuUygpO2M9MDt2YXIgZjtzd2l0Y2goZSl7Y2FzZSBcIlBvaW50XCI6Y2FzZSBcIk11bHRpUG9pbnRcIjpjYXNlIFwiTGluZVN0cmluZ1wiOmNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpjYXNlIFwiTGluZWFyUmluZ1wiOmJyZWFrO2Nhc2UgXCJQb2x5Z29uXCI6Yj1hLlcoKTtjPU1hdGguYWJzKHBiKGJbMF0sZCkpO2E9MTtmb3IoZT1iLmxlbmd0aDthPGU7KythKWMtPU1hdGguYWJzKHBiKGJbYV0sZCkpO2JyZWFrO2Nhc2UgXCJNdWx0aVBvbHlnb25cIjpiPWEuVygpO2E9MDtmb3IoZT1iLmxlbmd0aDthPGU7KythKXt2YXIgZz1iW2FdO2MrPU1hdGguYWJzKHBiKGdbMF0sZCkpO3ZhciBoPTE7Zm9yKGY9Zy5sZW5ndGg7aDxmOysraCljLT1NYXRoLmFicyhwYihnW2hdLGQpKX1icmVhaztjYXNlIFwiR2VvbWV0cnlDb2xsZWN0aW9uXCI6ZD1cbmEudmQoKTthPTA7Zm9yKGU9ZC5sZW5ndGg7YTxlOysrYSljKz10YihkW2FdLGIpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbnN1cHBvcnRlZCBnZW9tZXRyeSB0eXBlOiBcIitlKTt9cmV0dXJuIGN9ZnVuY3Rpb24gcGIoYSxiKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoLGU9YVtkLTFdWzBdLGY9YVtkLTFdWzFdLGc9MDtnPGQ7ZysrKXt2YXIgaD1hW2ddWzBdLGw9YVtnXVsxXTtjKz12YShoLWUpKigyK01hdGguc2luKHZhKGYpKStNYXRoLnNpbih2YShsKSkpO2U9aDtmPWx9cmV0dXJuIGMqYipiLzJ9O3ZhciB1Yj17fTt1Yi5kZWdyZWVzPTEyNzQxOTk0Kk1hdGguUEkvMzYwO3ViLmZ0PS4zMDQ4O3ViLm09MTt1YltcInVzLWZ0XCJdPTEyMDAvMzkzNzt2YXIgdmI9bnVsbDtmdW5jdGlvbiB3YihhKXt0aGlzLndiPWEuY29kZTt0aGlzLmE9YS51bml0czt0aGlzLmk9dm9pZCAwIT09YS5leHRlbnQ/YS5leHRlbnQ6bnVsbDt0aGlzLm9lPXZvaWQgMCE9PWEud29ybGRFeHRlbnQ/YS53b3JsZEV4dGVudDpudWxsO3RoaXMuYj12b2lkIDAhPT1hLmF4aXNPcmllbnRhdGlvbj9hLmF4aXNPcmllbnRhdGlvbjpcImVudVwiO3RoaXMuYz12b2lkIDAhPT1hLmdsb2JhbD9hLmdsb2JhbDohMTt0aGlzLmc9ISghdGhpcy5jfHwhdGhpcy5pKTt0aGlzLmo9YS5nZXRQb2ludFJlc29sdXRpb247dGhpcy5mPW51bGw7dGhpcy5sPWEubWV0ZXJzUGVyVW5pdDt2YXIgYj1hLmNvZGUsYz12Ynx8d2luZG93LnByb2o0O1wiZnVuY3Rpb25cIj09dHlwZW9mIGMmJihiPWMuZGVmcyhiKSx2b2lkIDAhPT1iJiYodm9pZCAwIT09Yi5heGlzJiZ2b2lkIDA9PT1hLmF4aXNPcmllbnRhdGlvbiYmKHRoaXMuYj1iLmF4aXMpLHZvaWQgMD09PWEubWV0ZXJzUGVyVW5pdCYmKHRoaXMubD1iLnRvX21ldGVyKSxcbnZvaWQgMD09PWEudW5pdHMmJih0aGlzLmE9Yi51bml0cykpKX1rPXdiLnByb3RvdHlwZTtrLm1sPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2J9O2suRz1mdW5jdGlvbigpe3JldHVybiB0aGlzLml9O2suem89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtrLkJjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubHx8dWJbdGhpcy5hXX07ay5WbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9lfTtrLmlsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07ay5HbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O2sueHE9ZnVuY3Rpb24oYSl7dGhpcy5jPWE7dGhpcy5nPSEoIWF8fCF0aGlzLmkpfTtrLlNpPWZ1bmN0aW9uKGEpe3RoaXMuaT1hO3RoaXMuZz0hKCF0aGlzLmN8fCFhKX07ay5Taj1mdW5jdGlvbihhKXt0aGlzLm9lPWF9O2sud3E9ZnVuY3Rpb24oYSl7dGhpcy5qPWF9O2Z1bmN0aW9uIHhiKGEpe3diLmNhbGwodGhpcyx7Y29kZTphLHVuaXRzOlwibVwiLGV4dGVudDp5YixnbG9iYWw6ITAsd29ybGRFeHRlbnQ6emIsZ2V0UG9pbnRSZXNvbHV0aW9uOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGEvcWEoY1sxXS82Mzc4MTM3KX19KX13KHhiLHdiKTt2YXIgQWI9NjM3ODEzNypNYXRoLlBJLHliPVstQWIsLUFiLEFiLEFiXSx6Yj1bLTE4MCwtODUsMTgwLDg1XSxCYj1bbmV3IHhiKFwiRVBTRzozODU3XCIpLG5ldyB4YihcIkVQU0c6MTAyMTAwXCIpLG5ldyB4YihcIkVQU0c6MTAyMTEzXCIpLG5ldyB4YihcIkVQU0c6OTAwOTEzXCIpLG5ldyB4YihcInVybjpvZ2M6ZGVmOmNyczpFUFNHOjYuMTg6MzozODU3XCIpLG5ldyB4YihcInVybjpvZ2M6ZGVmOmNyczpFUFNHOjozODU3XCIpLG5ldyB4YihcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sL3Nycy9lcHNnLnhtbCMzODU3XCIpXTtcbmZ1bmN0aW9uIENiKGEsYixjKXt2YXIgZD1hLmxlbmd0aDtjPTE8Yz9jOjI7dm9pZCAwPT09YiYmKDI8Yz9iPWEuc2xpY2UoKTpiPUFycmF5KGQpKTtmb3IodmFyIGU9MDtlPGQ7ZSs9Yyl7YltlXT1BYiphW2VdLzE4MDt2YXIgZj02Mzc4MTM3Kk1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkqKGFbZSsxXSs5MCkvMzYwKSk7Zj5BYj9mPUFiOmY8LUFiJiYoZj0tQWIpO2JbZSsxXT1mfXJldHVybiBifWZ1bmN0aW9uIERiKGEsYixjKXt2YXIgZD1hLmxlbmd0aDtjPTE8Yz9jOjI7dm9pZCAwPT09YiYmKDI8Yz9iPWEuc2xpY2UoKTpiPUFycmF5KGQpKTtmb3IodmFyIGU9MDtlPGQ7ZSs9YyliW2VdPTE4MCphW2VdL0FiLGJbZSsxXT0zNjAqTWF0aC5hdGFuKE1hdGguZXhwKGFbZSsxXS82Mzc4MTM3KSkvTWF0aC5QSS05MDtyZXR1cm4gYn07ZnVuY3Rpb24gRWIoYSxiKXt3Yi5jYWxsKHRoaXMse2NvZGU6YSx1bml0czpcImRlZ3JlZXNcIixleHRlbnQ6RmIsYXhpc09yaWVudGF0aW9uOmIsZ2xvYmFsOiEwLG1ldGVyc1BlclVuaXQ6R2Isd29ybGRFeHRlbnQ6RmJ9KX13KEViLHdiKTt2YXIgRmI9Wy0xODAsLTkwLDE4MCw5MF0sR2I9NjM3ODEzNypNYXRoLlBJLzE4MCxIYj1bbmV3IEViKFwiQ1JTOjg0XCIpLG5ldyBFYihcIkVQU0c6NDMyNlwiLFwibmV1XCIpLG5ldyBFYihcInVybjpvZ2M6ZGVmOmNyczpFUFNHOjo0MzI2XCIsXCJuZXVcIiksbmV3IEViKFwidXJuOm9nYzpkZWY6Y3JzOkVQU0c6Ni42OjQzMjZcIixcIm5ldVwiKSxuZXcgRWIoXCJ1cm46b2djOmRlZjpjcnM6T0dDOjEuMzpDUlM4NFwiKSxuZXcgRWIoXCJ1cm46b2djOmRlZjpjcnM6T0dDOjI6ODRcIiksbmV3IEViKFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWwvc3JzL2Vwc2cueG1sIzQzMjZcIixcIm5ldVwiKSxuZXcgRWIoXCJ1cm46eC1vZ2M6ZGVmOmNyczpFUFNHOjQzMjZcIixcIm5ldVwiKV07dmFyIEliPXt9O3ZhciBKYj17fTtmdW5jdGlvbiBLYihhLGIsYyl7YT1hLndiO2I9Yi53YjthIGluIEpifHwoSmJbYV09e30pO0piW2FdW2JdPWN9ZnVuY3Rpb24gTGIoYSxiKXt2YXIgYzthIGluIEpiJiZiIGluIEpiW2FdJiYoYz1KYlthXVtiXSk7cmV0dXJuIGN9O3ZhciBNYj1uZXcgb2IoNjM3MTAwOC44KTtmdW5jdGlvbiBOYihhLGIsYyxkKXthPU9iKGEpO3ZhciBlPWEuajtlP2I9ZShiLGMpOlwiZGVncmVlc1wiPT1hLmEmJiFkfHxcImRlZ3JlZXNcIj09ZHx8KGU9UGIoYSxPYihcIkVQU0c6NDMyNlwiKSksYj1bY1swXS1iLzIsY1sxXSxjWzBdK2IvMixjWzFdLGNbMF0sY1sxXS1iLzIsY1swXSxjWzFdK2IvMl0sYj1lKGIsYiwyKSxiPShNYi5iKGIuc2xpY2UoMCwyKSxiLnNsaWNlKDIsNCkpK01iLmIoYi5zbGljZSg0LDYpLGIuc2xpY2UoNiw4KSkpLzIsYT1kP3ViW2RdOmEuQmMoKSx2b2lkIDAhPT1hJiYoYi89YSkpO3JldHVybiBifWZ1bmN0aW9uIFFiKGEpe2EuZm9yRWFjaChSYik7YS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2EuZm9yRWFjaChmdW5jdGlvbihhKXtiIT09YSYmS2IoYixhLFNiKX0pfSl9XG5mdW5jdGlvbiBUYigpe0hiLmZvckVhY2goZnVuY3Rpb24oYSl7QmIuZm9yRWFjaChmdW5jdGlvbihiKXtLYihhLGIsQ2IpO0tiKGIsYSxEYil9KX0pfWZ1bmN0aW9uIFJiKGEpe0liW2Eud2JdPWE7S2IoYSxhLFNiKX1mdW5jdGlvbiBVYihhKXtyZXR1cm4gYT9cInN0cmluZ1wiPT09dHlwZW9mIGE/T2IoYSk6YTpPYihcIkVQU0c6Mzg1N1wiKX1mdW5jdGlvbiBWYihhLGIsYyxkKXthPU9iKGEpO2I9T2IoYik7S2IoYSxiLFdiKGMpKTtLYihiLGEsV2IoZCkpfWZ1bmN0aW9uIFdiKGEpe3JldHVybiBmdW5jdGlvbihiLGMsZCl7dmFyIGU9Yi5sZW5ndGg7ZD12b2lkIDAhPT1kP2Q6MjtjPXZvaWQgMCE9PWM/YzpBcnJheShlKTt2YXIgZjtmb3IoZj0wO2Y8ZTtmKz1kKXt2YXIgZz1hKFtiW2ZdLGJbZisxXV0pO2NbZl09Z1swXTtjW2YrMV09Z1sxXTtmb3IoZz1kLTE7Mjw9ZzstLWcpY1tmK2ddPWJbZitnXX1yZXR1cm4gY319XG5mdW5jdGlvbiBPYihhKXt2YXIgYj1udWxsO2lmKGEgaW5zdGFuY2VvZiB3YiliPWE7ZWxzZSBpZihcInN0cmluZ1wiPT09dHlwZW9mIGEmJihiPUliW2FdfHxudWxsLCFiKSl7dmFyIGM9dmJ8fHdpbmRvdy5wcm9qNDtcImZ1bmN0aW9uXCI9PXR5cGVvZiBjJiZ2b2lkIDAhPT1jLmRlZnMoYSkmJihiPW5ldyB3Yih7Y29kZTphfSksUmIoYikpfXJldHVybiBifWZ1bmN0aW9uIFhiKGEsYil7aWYoYT09PWIpcmV0dXJuITA7dmFyIGM9YS5hPT09Yi5hO3JldHVybiBhLndiPT09Yi53Yj9jOlBiKGEsYik9PT1TYiYmY31mdW5jdGlvbiBZYihhLGIpe2E9T2IoYSk7Yj1PYihiKTtyZXR1cm4gUGIoYSxiKX1cbmZ1bmN0aW9uIFBiKGEsYil7dmFyIGM9YS53YixkPWIud2IsZT1MYihjLGQpO2lmKCFlKXt2YXIgZj12Ynx8d2luZG93LnByb2o0O2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGYpe3ZhciBnPWYuZGVmcyhjKSxoPWYuZGVmcyhkKTt2b2lkIDAhPT1nJiZ2b2lkIDAhPT1oJiYoZz09PWg/UWIoW2IsYV0pOihlPWYoZCxjKSxWYihiLGEsZS5mb3J3YXJkLGUuaW52ZXJzZSkpLGU9TGIoYyxkKSl9fWV8fChlPSRiKTtyZXR1cm4gZX1mdW5jdGlvbiAkYihhLGIpe2lmKHZvaWQgMCE9PWImJmEhPT1iKXtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2M8ZDsrK2MpYltjXT1hW2NdO2E9Yn1yZXR1cm4gYX1mdW5jdGlvbiBTYihhLGIpe2lmKHZvaWQgMCE9PWIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7YzxkOysrYyliW2NdPWFbY107YT1ifWVsc2UgYT1hLnNsaWNlKCk7cmV0dXJuIGF9ZnVuY3Rpb24gYWMoYSxiLGMpe3JldHVybiBZYihiLGMpKGEsdm9pZCAwLGEubGVuZ3RoKX1cbmZ1bmN0aW9uIGJjKGEsYixjKXtiPVliKGIsYyk7cmV0dXJuIGpiKGEsYil9ZnVuY3Rpb24gY2MoKXtRYihCYik7UWIoSGIpO1RiKCl9Y2MoKTtmdW5jdGlvbiBkYyhhLGIpe3JldHVybiBhPmI/MTphPGI/LTE6MH1mdW5jdGlvbiBlYyhhLGIpe3JldHVybiAwPD1hLmluZGV4T2YoYil9ZnVuY3Rpb24gZmMoYSxiLGMpe3ZhciBkPWEubGVuZ3RoO2lmKGFbMF08PWIpcmV0dXJuIDA7aWYoIShiPD1hW2QtMV0pKWlmKDA8Yylmb3IoYz0xO2M8ZDsrK2Mpe2lmKGFbY108YilyZXR1cm4gYy0xfWVsc2UgaWYoMD5jKWZvcihjPTE7YzxkOysrYyl7aWYoYVtjXTw9YilyZXR1cm4gY31lbHNlIGZvcihjPTE7YzxkOysrYyl7aWYoYVtjXT09YilyZXR1cm4gYztpZihhW2NdPGIpcmV0dXJuIGFbYy0xXS1iPGItYVtjXT9jLTE6Y31yZXR1cm4gZC0xfWZ1bmN0aW9uIGdjKGEsYil7dmFyIGM9QXJyYXkuaXNBcnJheShiKT9iOltiXSxkPWMubGVuZ3RoO2ZvcihiPTA7YjxkO2IrKylhW2EubGVuZ3RoXT1jW2JdfVxuZnVuY3Rpb24gaGMoYSxiKXtmb3IodmFyIGM9YS5sZW5ndGg+Pj4wLGQsZT0wO2U8YztlKyspaWYoZD1hW2VdLGIoZCxlLGEpKXJldHVybiBkO3JldHVybiBudWxsfWZ1bmN0aW9uIGpjKGEsYil7dmFyIGM9YS5sZW5ndGg7aWYoYyE9PWIubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgZD0wO2Q8YztkKyspaWYoYVtkXSE9PWJbZF0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24ga2MoYSl7dmFyIGI9bGMsYz1hLmxlbmd0aCxkPUFycmF5KGEubGVuZ3RoKSxlO2ZvcihlPTA7ZTxjO2UrKylkW2VdPXtpbmRleDplLHZhbHVlOmFbZV19O2Quc29ydChmdW5jdGlvbihhLGMpe3JldHVybiBiKGEudmFsdWUsYy52YWx1ZSl8fGEuaW5kZXgtYy5pbmRleH0pO2ZvcihlPTA7ZTxhLmxlbmd0aDtlKyspYVtlXT1kW2VdLnZhbHVlfWZ1bmN0aW9uIG1jKGEsYil7dmFyIGM7cmV0dXJuIGEuZXZlcnkoZnVuY3Rpb24oZCxlKXtjPWU7cmV0dXJuIWIoZCxlLGEpfSk/LTE6Y31cbmZ1bmN0aW9uIG5jKGEsYil7dmFyIGM9Ynx8ZGM7cmV0dXJuIGEuZXZlcnkoZnVuY3Rpb24oYixlKXtpZigwPT09ZSlyZXR1cm4hMDtiPWMoYVtlLTFdLGIpO3JldHVybiEoMDxifHwwPT09Yil9KX07ZnVuY3Rpb24gb2MoYSxiLGMsZCl7cmV0dXJuIHZvaWQgMCE9PWQ/KGRbMF09YSxkWzFdPWIsZFsyXT1jLGQpOlthLGIsY119ZnVuY3Rpb24gcGMoYSl7dmFyIGI9YVswXSxjPUFycmF5KGIpLGQ9MTw8Yi0xLGU7Zm9yKGU9MDtlPGI7KytlKXt2YXIgZj00ODthWzFdJmQmJihmKz0xKTthWzJdJmQmJihmKz0yKTtjW2VdPVN0cmluZy5mcm9tQ2hhckNvZGUoZik7ZD4+PTF9cmV0dXJuIGMuam9pbihcIlwiKX07ZnVuY3Rpb24gcWMoYSl7dGhpcy5taW5ab29tPXZvaWQgMCE9PWEubWluWm9vbT9hLm1pblpvb206MDt0aGlzLmI9YS5yZXNvbHV0aW9ucztvYShuYyh0aGlzLmIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi1hfSksMTcpO2lmKCFhLm9yaWdpbnMpZm9yKHZhciBiPTAsYz10aGlzLmIubGVuZ3RoLTE7YjxjOysrYilpZighZCl2YXIgZD10aGlzLmJbYl0vdGhpcy5iW2IrMV07ZWxzZSBpZih0aGlzLmJbYl0vdGhpcy5iW2IrMV0hPT1kKXtkPXZvaWQgMDticmVha310aGlzLmw9ZDt0aGlzLm1heFpvb209dGhpcy5iLmxlbmd0aC0xO3RoaXMuZz12b2lkIDAhPT1hLm9yaWdpbj9hLm9yaWdpbjpudWxsO3RoaXMuYz1udWxsO3ZvaWQgMCE9PWEub3JpZ2lucyYmKHRoaXMuYz1hLm9yaWdpbnMsb2EodGhpcy5jLmxlbmd0aD09dGhpcy5iLmxlbmd0aCwyMCkpO2Q9YS5leHRlbnQ7dm9pZCAwPT09ZHx8dGhpcy5nfHx0aGlzLmN8fCh0aGlzLmc9JGEoZCkpO29hKCF0aGlzLmcmJnRoaXMuY3x8dGhpcy5nJiZcbiF0aGlzLmMsMTgpO3RoaXMuaT1udWxsO3ZvaWQgMCE9PWEudGlsZVNpemVzJiYodGhpcy5pPWEudGlsZVNpemVzLG9hKHRoaXMuaS5sZW5ndGg9PXRoaXMuYi5sZW5ndGgsMTkpKTt0aGlzLmo9dm9pZCAwIT09YS50aWxlU2l6ZT9hLnRpbGVTaXplOnRoaXMuaT9udWxsOjI1NjtvYSghdGhpcy5qJiZ0aGlzLml8fHRoaXMuaiYmIXRoaXMuaSwyMik7dGhpcy5vPXZvaWQgMCE9PWQ/ZDpudWxsO3RoaXMuYT1udWxsO3RoaXMuZj1bMCwwXTt2b2lkIDAhPT1hLnNpemVzP3RoaXMuYT1hLnNpemVzLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gbmV3IGphKE1hdGgubWluKDAsYVswXSksTWF0aC5tYXgoYVswXS0xLC0xKSxNYXRoLm1pbigwLGFbMV0pLE1hdGgubWF4KGFbMV0tMSwtMSkpfSx0aGlzKTpkJiZyYyh0aGlzLGQpfXZhciBzYz1bMCwwLDBdO2s9cWMucHJvdG90eXBlO1xuay5WZj1mdW5jdGlvbihhLGIsYyl7YT10Yyh0aGlzLGEsYik7Zm9yKHZhciBkPWEuZmEsZT1hLmxhO2Q8PWU7KytkKWZvcih2YXIgZj1hLmVhLGc9YS5rYTtmPD1nOysrZiljKFtiLGQsZl0pfTtmdW5jdGlvbiB1YyhhLGIsYyxkLGUpe3ZhciBmPW51bGwsZz1iWzBdLTE7aWYoMj09PWEubCl7dmFyIGg9YlsxXTt2YXIgbD1iWzJdfWVsc2UgZj1hLk1hKGIsZSk7Zm9yKDtnPj1hLm1pblpvb207KXsyPT09YS5sPyhoPU1hdGguZmxvb3IoaC8yKSxsPU1hdGguZmxvb3IobC8yKSxiPWthKGgsaCxsLGwsZCkpOmI9dGMoYSxmLGcsZCk7aWYoYy5jYWxsKG51bGwsZyxiKSlyZXR1cm4hMDstLWd9cmV0dXJuITF9ay5HPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub307ay5taj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1heFpvb219O2submo9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5taW5ab29tfTtrLkljPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmc/dGhpcy5nOnRoaXMuY1thXX07ay5UYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5iW2FdfTtcbmsub2o9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ifTtmdW5jdGlvbiB2YyhhLGIsYyxkKXtpZihiWzBdPGEubWF4Wm9vbSl7aWYoMj09PWEubClyZXR1cm4gYT0yKmJbMV0sYj0yKmJbMl0sa2EoYSxhKzEsYixiKzEsYyk7ZD1hLk1hKGIsZCk7cmV0dXJuIHRjKGEsZCxiWzBdKzEsYyl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gd2MoYSxiLGMpe3ZhciBkPWEuSWMoYiksZT1hLlRhKGIpO2E9QmEoYS5aYShiKSxhLmYpO3JldHVybiBOYShkWzBdK2MuZmEqYVswXSplLGRbMV0rYy5lYSphWzFdKmUsZFswXSsoYy5sYSsxKSphWzBdKmUsZFsxXSsoYy5rYSsxKSphWzFdKmUsdm9pZCAwKX1mdW5jdGlvbiB0YyhhLGIsYyxkKXt4YyhhLGJbMF0sYlsxXSxjLCExLHNjKTt2YXIgZT1zY1sxXSxmPXNjWzJdO3hjKGEsYlsyXSxiWzNdLGMsITAsc2MpO3JldHVybiBrYShlLHNjWzFdLGYsc2NbMl0sZCl9XG5mdW5jdGlvbiB5YyhhLGIpe3ZhciBjPWEuSWMoYlswXSksZD1hLlRhKGJbMF0pO2E9QmEoYS5aYShiWzBdKSxhLmYpO3JldHVybltjWzBdKyhiWzFdKy41KSphWzBdKmQsY1sxXSsoYlsyXSsuNSkqYVsxXSpkXX1rLk1hPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5JYyhhWzBdKSxkPXRoaXMuVGEoYVswXSksZT1CYSh0aGlzLlphKGFbMF0pLHRoaXMuZiksZj1jWzBdK2FbMV0qZVswXSpkO2E9Y1sxXSthWzJdKmVbMV0qZDtyZXR1cm4gTmEoZixhLGYrZVswXSpkLGErZVsxXSpkLGIpfTtcbmsuTGU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWFbMF0sZT1hWzFdO2E9dGhpcy5EYyhiKTt2YXIgZj1iL3RoaXMuVGEoYSksZz10aGlzLkljKGEpLGg9QmEodGhpcy5aYShhKSx0aGlzLmYpO2Q9ZipNYXRoLmZsb29yKChkLWdbMF0pL2IrMCkvaFswXTtiPWYqTWF0aC5mbG9vcigoZS1nWzFdKS9iKy41KS9oWzFdO2Q9TWF0aC5mbG9vcihkKTtiPU1hdGguZmxvb3IoYik7cmV0dXJuIG9jKGEsZCxiLGMpfTtmdW5jdGlvbiB4YyhhLGIsYyxkLGUsZil7dmFyIGc9YS5JYyhkKSxoPWEuVGEoZCk7YT1CYShhLlphKGQpLGEuZik7Yj1NYXRoLmZsb29yKChiLWdbMF0pL2grKGU/LjU6MCkpL2FbMF07Yz1NYXRoLmZsb29yKChjLWdbMV0pL2grKGU/MDouNSkpL2FbMV07ZT8oYj1NYXRoLmNlaWwoYiktMSxjPU1hdGguY2VpbChjKS0xKTooYj1NYXRoLmZsb29yKGIpLGM9TWF0aC5mbG9vcihjKSk7cmV0dXJuIG9jKGQsYixjLGYpfVxuay5qZz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHhjKHRoaXMsYVswXSxhWzFdLGIsITEsYyl9O2suWmE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaj90aGlzLmo6dGhpcy5pW2FdfTtrLkRjPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHBhKGZjKHRoaXMuYixhLGJ8fDApLHRoaXMubWluWm9vbSx0aGlzLm1heFpvb20pfTtmdW5jdGlvbiByYyhhLGIpe2Zvcih2YXIgYz1hLmIubGVuZ3RoLGQ9QXJyYXkoYyksZT1hLm1pblpvb207ZTxjOysrZSlkW2VdPXRjKGEsYixlKTthLmE9ZH07ZnVuY3Rpb24gemMoYSl7dmFyIGI9YS5mO2J8fChiPUFjKGEpLGEuZj1iKTtyZXR1cm4gYn1mdW5jdGlvbiBCYyhhKXt2YXIgYj17fTtrYihiLHZvaWQgMCE9PWE/YTp7fSk7dm9pZCAwPT09Yi5leHRlbnQmJihiLmV4dGVudD1PYihcIkVQU0c6Mzg1N1wiKS5HKCkpO2IucmVzb2x1dGlvbnM9Q2MoYi5leHRlbnQsYi5tYXhab29tLGIudGlsZVNpemUpO2RlbGV0ZSBiLm1heFpvb207cmV0dXJuIG5ldyBxYyhiKX1mdW5jdGlvbiBDYyhhLGIsYyl7Yj12b2lkIDAhPT1iP2I6NDI7dmFyIGQ9ZGIoYSk7YT1jYihhKTtjPUJhKHZvaWQgMCE9PWM/YzoyNTYpO2M9TWF0aC5tYXgoYS9jWzBdLGQvY1sxXSk7Yis9MTtkPUFycmF5KGIpO2ZvcihhPTA7YTxiOysrYSlkW2FdPWMvTWF0aC5wb3coMixhKTtyZXR1cm4gZH1cbmZ1bmN0aW9uIEFjKGEsYixjKXthPURjKGEpO2I9Q2MoYSxiLGMpO3JldHVybiBuZXcgcWMoe2V4dGVudDphLG9yaWdpbjokYShhKSxyZXNvbHV0aW9uczpiLHRpbGVTaXplOmN9KX1mdW5jdGlvbiBEYyhhKXthPU9iKGEpO3ZhciBiPWEuRygpO2J8fChhPTE4MCp1Yi5kZWdyZWVzL2EuQmMoKSxiPU5hKC1hLC1hLGEsYSkpO3JldHVybiBifTtmdW5jdGlvbiBFYyhhKXt0aGlzLm9nPWEuaHRtbH1FYy5wcm90b3R5cGUuYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9nfTtmdW5jdGlvbiBGYyhhKXtmdW5jdGlvbiBiKGIpe3ZhciBjPWEubGlzdGVuZXIsZT1hLkNofHxhLnRhcmdldDthLkVoJiZHYyhhKTtyZXR1cm4gYy5jYWxsKGUsYil9cmV0dXJuIGEuRGg9Yn1mdW5jdGlvbiBIYyhhLGIsYyxkKXtmb3IodmFyIGUsZj0wLGc9YS5sZW5ndGg7ZjxnOysrZilpZihlPWFbZl0sZS5saXN0ZW5lcj09PWImJmUuQ2g9PT1jKXJldHVybiBkJiYoZS5kZWxldGVJbmRleD1mKSxlfWZ1bmN0aW9uIEljKGEsYil7cmV0dXJuKGE9YS5hYik/YVtiXTp2b2lkIDB9ZnVuY3Rpb24gSmMoYSl7dmFyIGI9YS5hYjtifHwoYj1hLmFiPXt9KTtyZXR1cm4gYn1cbmZ1bmN0aW9uIEtjKGEsYil7dmFyIGM9SWMoYSxiKTtpZihjKXtmb3IodmFyIGQ9MCxlPWMubGVuZ3RoO2Q8ZTsrK2QpYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsY1tkXS5EaCksbGIoY1tkXSk7Yy5sZW5ndGg9MDtpZihjPWEuYWIpZGVsZXRlIGNbYl0sMD09PU9iamVjdC5rZXlzKGMpLmxlbmd0aCYmZGVsZXRlIGEuYWJ9fWZ1bmN0aW9uIHkoYSxiLGMsZCxlKXt2YXIgZj1KYyhhKSxnPWZbYl07Z3x8KGc9ZltiXT1bXSk7KGY9SGMoZyxjLGQsITEpKT9lfHwoZi5FaD0hMSk6KGY9e0NoOmQsRWg6ISFlLGxpc3RlbmVyOmMsdGFyZ2V0OmEsdHlwZTpifSxhLmFkZEV2ZW50TGlzdGVuZXIoYixGYyhmKSksZy5wdXNoKGYpKTtyZXR1cm4gZn1mdW5jdGlvbiBMYyhhLGIsYyxkKXtyZXR1cm4geShhLGIsYyxkLCEwKX1mdW5jdGlvbiBNYyhhLGIsYyxkKXsoYT1JYyhhLGIpKSYmKGM9SGMoYSxjLGQsITApKSYmR2MoYyl9XG5mdW5jdGlvbiBHYyhhKXtpZihhJiZhLnRhcmdldCl7YS50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLnR5cGUsYS5EaCk7dmFyIGI9SWMoYS50YXJnZXQsYS50eXBlKTtpZihiKXt2YXIgYz1cImRlbGV0ZUluZGV4XCJpbiBhP2EuZGVsZXRlSW5kZXg6Yi5pbmRleE9mKGEpOy0xIT09YyYmYi5zcGxpY2UoYywxKTswPT09Yi5sZW5ndGgmJktjKGEudGFyZ2V0LGEudHlwZSl9bGIoYSl9fWZ1bmN0aW9uIE5jKGEpe3ZhciBiPUpjKGEpLGM7Zm9yKGMgaW4gYilLYyhhLGMpfTtmdW5jdGlvbiBPYygpe31PYy5wcm90b3R5cGUuVWI9ITE7ZnVuY3Rpb24gUGMoYSl7YS5VYnx8KGEuVWI9ITAsYS5pYSgpKX1PYy5wcm90b3R5cGUuaWE9ZWE7ZnVuY3Rpb24gUWMoYSl7dGhpcy50eXBlPWE7dGhpcy50YXJnZXQ9bnVsbH1RYy5wcm90b3R5cGUucHJldmVudERlZmF1bHQ9UWMucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbj1mdW5jdGlvbigpe3RoaXMuc2o9ITB9O2Z1bmN0aW9uIFJjKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCl9O2Z1bmN0aW9uIFNjKCl7dGhpcy5XYT17fTt0aGlzLnFhPXt9O3RoaXMub2E9e319dyhTYyxPYyk7U2MucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLm9hW2FdO2N8fChjPXRoaXMub2FbYV09W10pOy0xPT09Yy5pbmRleE9mKGIpJiZjLnB1c2goYil9O1xuU2MucHJvdG90eXBlLmI9ZnVuY3Rpb24oYSl7dmFyIGI9XCJzdHJpbmdcIj09PXR5cGVvZiBhP25ldyBRYyhhKTphO2E9Yi50eXBlO2IudGFyZ2V0PXRoaXM7dmFyIGM9dGhpcy5vYVthXTtpZihjKXthIGluIHRoaXMucWF8fCh0aGlzLnFhW2FdPTAsdGhpcy5XYVthXT0wKTsrK3RoaXMucWFbYV07Zm9yKHZhciBkPTAsZT1jLmxlbmd0aDtkPGU7KytkKWlmKCExPT09Y1tkXS5jYWxsKHRoaXMsYil8fGIuc2ope3ZhciBmPSExO2JyZWFrfS0tdGhpcy5xYVthXTtpZigwPT09dGhpcy5xYVthXSl7Yj10aGlzLldhW2FdO2ZvcihkZWxldGUgdGhpcy5XYVthXTtiLS07KXRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGVhKTtkZWxldGUgdGhpcy5xYVthXX1yZXR1cm4gZn19O1NjLnByb3RvdHlwZS5pYT1mdW5jdGlvbigpe05jKHRoaXMpfTtmdW5jdGlvbiBUYyhhLGIpe3JldHVybiBiP2IgaW4gYS5vYTowPE9iamVjdC5rZXlzKGEub2EpLmxlbmd0aH1cblNjLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5vYVthXTtjJiYoYj1jLmluZGV4T2YoYiksYSBpbiB0aGlzLldhPyhjW2JdPWVhLCsrdGhpcy5XYVthXSk6KGMuc3BsaWNlKGIsMSksMD09PWMubGVuZ3RoJiZkZWxldGUgdGhpcy5vYVthXSkpfTtmdW5jdGlvbiBVYygpe1NjLmNhbGwodGhpcyk7dGhpcy5nPTB9dyhVYyxTYyk7az1VYy5wcm90b3R5cGU7ay51PWZ1bmN0aW9uKCl7Kyt0aGlzLmc7dGhpcy5iKFwiY2hhbmdlXCIpfTtrLks9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nfTtrLkk9ZnVuY3Rpb24oYSxiLGMpe2lmKEFycmF5LmlzQXJyYXkoYSkpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPUFycmF5KGQpLGY9MDtmPGQ7KytmKWVbZl09eSh0aGlzLGFbZl0sYixjKTtyZXR1cm4gZX1yZXR1cm4geSh0aGlzLGEsYixjKX07ay5vbmNlPWZ1bmN0aW9uKGEsYixjKXtpZihBcnJheS5pc0FycmF5KGEpKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1BcnJheShkKSxmPTA7ZjxkOysrZillW2ZdPUxjKHRoaXMsYVtmXSxiLGMpO3JldHVybiBlfXJldHVybiBMYyh0aGlzLGEsYixjKX07XG5rLko9ZnVuY3Rpb24oYSxiLGMpe2lmKEFycmF5LmlzQXJyYXkoYSkpZm9yKHZhciBkPTAsZT1hLmxlbmd0aDtkPGU7KytkKU1jKHRoaXMsYVtkXSxiLGMpO2Vsc2UgTWModGhpcyxhLGIsYyl9O2Z1bmN0aW9uIFZjKGEpe1VjLmNhbGwodGhpcyk7eCh0aGlzKTt0aGlzLk49e307dm9pZCAwIT09YSYmdGhpcy5IKGEpfXcoVmMsVWMpO3ZhciBXYz17fTtmdW5jdGlvbiBYYyhhKXtyZXR1cm4gV2MuaGFzT3duUHJvcGVydHkoYSk/V2NbYV06V2NbYV09XCJjaGFuZ2U6XCIrYX1rPVZjLnByb3RvdHlwZTtrLmdldD1mdW5jdGlvbihhKXt2YXIgYjt0aGlzLk4uaGFzT3duUHJvcGVydHkoYSkmJihiPXRoaXMuTlthXSk7cmV0dXJuIGJ9O2suUD1mdW5jdGlvbigpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLk4pfTtrLkw9ZnVuY3Rpb24oKXtyZXR1cm4ga2Ioe30sdGhpcy5OKX07ZnVuY3Rpb24gWWMoYSxiLGMpe3ZhciBkPVhjKGIpO2EuYihuZXcgWmMoZCxiLGMpKTthLmIobmV3IFpjKFwicHJvcGVydHljaGFuZ2VcIixiLGMpKX1rLnNldD1mdW5jdGlvbihhLGIsYyl7Yz90aGlzLk5bYV09YjooYz10aGlzLk5bYV0sdGhpcy5OW2FdPWIsYyE9PWImJlljKHRoaXMsYSxjKSl9O1xuay5IPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjIGluIGEpdGhpcy5zZXQoYyxhW2NdLGIpfTtrLlI9ZnVuY3Rpb24oYSxiKXtpZihhIGluIHRoaXMuTil7dmFyIGM9dGhpcy5OW2FdO2RlbGV0ZSB0aGlzLk5bYV07Ynx8WWModGhpcyxhLGMpfX07ZnVuY3Rpb24gWmMoYSxiLGMpe1FjLmNhbGwodGhpcyxhKTt0aGlzLmtleT1iO3RoaXMub2xkVmFsdWU9Y313KFpjLFFjKTtmdW5jdGlvbiBCKGEsYil7VmMuY2FsbCh0aGlzKTt0aGlzLmM9ISEoYnx8e30pLnVuaXF1ZTt0aGlzLmE9YT9hOltdO2lmKHRoaXMuYylmb3IoYT0wLGI9dGhpcy5hLmxlbmd0aDthPGI7KythKSRjKHRoaXMsdGhpcy5hW2FdLGEpO2FkKHRoaXMpfXcoQixWYyk7az1CLnByb3RvdHlwZTtrLmNsZWFyPWZ1bmN0aW9uKCl7Zm9yKDswPHRoaXMua2MoKTspdGhpcy5wb3AoKX07ay5xZz1mdW5jdGlvbihhKXt2YXIgYjt2YXIgYz0wO2ZvcihiPWEubGVuZ3RoO2M8YjsrK2MpdGhpcy5wdXNoKGFbY10pO3JldHVybiB0aGlzfTtrLmZvckVhY2g9ZnVuY3Rpb24oYSxiKXthPWI/YS5iaW5kKGIpOmE7Yj10aGlzLmE7Zm9yKHZhciBjPTAsZD1iLmxlbmd0aDtjPGQ7KytjKWEoYltjXSxjLGIpfTtrLlhtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07ay5pdGVtPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFbYV19O2sua2M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoYmQpfTtcbmsuUmU9ZnVuY3Rpb24oYSxiKXt0aGlzLmMmJiRjKHRoaXMsYik7dGhpcy5hLnNwbGljZShhLDAsYik7YWQodGhpcyk7dGhpcy5iKG5ldyBjZChcImFkZFwiLGIpKX07ay5wb3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5XZyh0aGlzLmtjKCktMSl9O2sucHVzaD1mdW5jdGlvbihhKXt0aGlzLmMmJiRjKHRoaXMsYSk7dmFyIGI9dGhpcy5rYygpO3RoaXMuUmUoYixhKTtyZXR1cm4gdGhpcy5rYygpfTtrLnJlbW92ZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmEsYzt2YXIgZD0wO2ZvcihjPWIubGVuZ3RoO2Q8YzsrK2QpaWYoYltkXT09PWEpcmV0dXJuIHRoaXMuV2coZCl9O2suV2c9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hW2FdO3RoaXMuYS5zcGxpY2UoYSwxKTthZCh0aGlzKTt0aGlzLmIobmV3IGNkKFwicmVtb3ZlXCIsYikpO3JldHVybiBifTtcbmsucnE9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmtjKCk7aWYoYTxjKXRoaXMuYyYmJGModGhpcyxiLGEpLGM9dGhpcy5hW2FdLHRoaXMuYVthXT1iLHRoaXMuYihuZXcgY2QoXCJyZW1vdmVcIixjKSksdGhpcy5iKG5ldyBjZChcImFkZFwiLGIpKTtlbHNle2Zvcig7YzxhOysrYyl0aGlzLlJlKGMsdm9pZCAwKTt0aGlzLlJlKGEsYil9fTtmdW5jdGlvbiBhZChhKXthLnNldChiZCxhLmEubGVuZ3RoKX1mdW5jdGlvbiAkYyhhLGIsYyl7Zm9yKHZhciBkPTAsZT1hLmEubGVuZ3RoO2Q8ZTsrK2QpaWYoYS5hW2RdPT09YiYmZCE9PWMpdGhyb3cgbmV3IGhhKDU4KTt9dmFyIGJkPVwibGVuZ3RoXCI7ZnVuY3Rpb24gY2QoYSxiKXtRYy5jYWxsKHRoaXMsYSk7dGhpcy5lbGVtZW50PWJ9dyhjZCxRYyk7ZnVuY3Rpb24gZGQoYSxiLGMpe1FjLmNhbGwodGhpcyxhKTt0aGlzLm1hcD1iO3RoaXMuZnJhbWVTdGF0ZT12b2lkIDAhPT1jP2M6bnVsbH13KGRkLFFjKTtmdW5jdGlvbiBlZChhLGIsYyxkLGUpe2RkLmNhbGwodGhpcyxhLGIsZSk7dGhpcy5vcmlnaW5hbEV2ZW50PWM7dGhpcy5waXhlbD1iLnVkKGMpO3RoaXMuY29vcmRpbmF0ZT1iLlJhKHRoaXMucGl4ZWwpO3RoaXMuZHJhZ2dpbmc9dm9pZCAwIT09ZD9kOiExfXcoZWQsZGQpO2VkLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe2RkLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdC5jYWxsKHRoaXMpO3RoaXMub3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpfTtlZC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uPWZ1bmN0aW9uKCl7ZGQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbi5jYWxsKHRoaXMpO3RoaXMub3JpZ2luYWxFdmVudC5zdG9wUHJvcGFnYXRpb24oKX07dmFyIGZkPVtcImV4cGVyaW1lbnRhbC13ZWJnbFwiLFwid2ViZ2xcIixcIndlYmtpdC0zZFwiLFwibW96LXdlYmdsXCJdO2Z1bmN0aW9uIGdkKGEsYil7dmFyIGMsZCxlPWZkLmxlbmd0aDtmb3IoZD0wO2Q8ZTsrK2QpdHJ5e2lmKGM9YS5nZXRDb250ZXh0KGZkW2RdLGIpKXJldHVybiBjfWNhdGNoKGYpe31yZXR1cm4gbnVsbH07dmFyIGhkLGlkPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgbmF2aWdhdG9yP25hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTpcIlwiLGpkPS0xIT09aWQuaW5kZXhPZihcImZpcmVmb3hcIiksa2Q9LTEhPT1pZC5pbmRleE9mKFwic2FmYXJpXCIpJiYtMT09aWQuaW5kZXhPZihcImNocm9tXCIpLGxkPS0xIT09aWQuaW5kZXhPZihcIndlYmtpdFwiKSYmLTE9PWlkLmluZGV4T2YoXCJlZGdlXCIpLG1kPS0xIT09aWQuaW5kZXhPZihcIm1hY2ludG9zaFwiKSxuZD13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSxvZD0hMSxwZD1mdW5jdGlvbigpe2lmKCEoXCJIVE1MQ2FudmFzRWxlbWVudFwiaW4gd2luZG93KSlyZXR1cm4hMTt0cnl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkNBTlZBU1wiKS5nZXRDb250ZXh0KFwiMmRcIik7cmV0dXJuIGE/KHZvaWQgMCE9PWEuc2V0TGluZURhc2gmJihvZD0hMCksITApOiExfWNhdGNoKGIpe3JldHVybiExfX0oKSxxZD1cIkRldmljZU9yaWVudGF0aW9uRXZlbnRcImluXG53aW5kb3cscmQ9XCJnZW9sb2NhdGlvblwiaW4gbmF2aWdhdG9yLHNkPVwib250b3VjaHN0YXJ0XCJpbiB3aW5kb3csdGQ9XCJQb2ludGVyRXZlbnRcImluIHdpbmRvdyx1ZD0hIW5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkLHZkPSExLHdkLHhkPVtdO2lmKFwiV2ViR0xSZW5kZXJpbmdDb250ZXh0XCJpbiB3aW5kb3cpdHJ5e3ZhciB5ZD1nZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiQ0FOVkFTXCIpLHtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiEwfSk7eWQmJih2ZD0hMCx3ZD15ZC5nZXRQYXJhbWV0ZXIoeWQuTUFYX1RFWFRVUkVfU0laRSkseGQ9eWQuZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucygpKX1jYXRjaChhKXt9aGQ9dmQ7ZGE9eGQ7YmE9d2Q7dmFyIHpkPXtncjpcInNpbmdsZWNsaWNrXCIsV3E6XCJjbGlja1wiLFhxOlwiZGJsY2xpY2tcIiwkcTpcInBvaW50ZXJkcmFnXCIsY3I6XCJwb2ludGVybW92ZVwiLFpxOlwicG9pbnRlcmRvd25cIixmcjpcInBvaW50ZXJ1cFwiLGVyOlwicG9pbnRlcm92ZXJcIixkcjpcInBvaW50ZXJvdXRcIixhcjpcInBvaW50ZXJlbnRlclwiLGJyOlwicG9pbnRlcmxlYXZlXCIsWXE6XCJwb2ludGVyY2FuY2VsXCJ9O2Z1bmN0aW9uIEFkKGEsYixjLGQsZSl7ZWQuY2FsbCh0aGlzLGEsYixjLmIsZCxlKTt0aGlzLmI9Y313KEFkLGVkKTtmdW5jdGlvbiBCZChhLGIpe3RoaXMuYj1hO3RoaXMuaT1ifTtmdW5jdGlvbiBDZChhKXtCZC5jYWxsKHRoaXMsYSx7bW91c2Vkb3duOnRoaXMuSm0sbW91c2Vtb3ZlOnRoaXMuS20sbW91c2V1cDp0aGlzLk5tLG1vdXNlb3Zlcjp0aGlzLk1tLG1vdXNlb3V0OnRoaXMuTG19KTt0aGlzLmE9YS5nO3RoaXMuZz1bXX13KENkLEJkKTtmdW5jdGlvbiBEZChhLGIpe2E9YS5nO3ZhciBjPWIuY2xpZW50WDtiPWIuY2xpZW50WTtmb3IodmFyIGQ9MCxlPWEubGVuZ3RoLGY7ZDxlJiYoZj1hW2RdKTtkKyspe3ZhciBnPU1hdGguYWJzKGItZlsxXSk7aWYoMjU+PU1hdGguYWJzKGMtZlswXSkmJjI1Pj1nKXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIEVkKGEpe3ZhciBiPUZkKGEsYSksYz1iLnByZXZlbnREZWZhdWx0O2IucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXthLnByZXZlbnREZWZhdWx0KCk7YygpfTtiLnBvaW50ZXJJZD0xO2IuaXNQcmltYXJ5PSEwO2IucG9pbnRlclR5cGU9XCJtb3VzZVwiO3JldHVybiBifWs9Q2QucHJvdG90eXBlO1xuay5KbT1mdW5jdGlvbihhKXtpZighRGQodGhpcyxhKSl7KDEpLnRvU3RyaW5nKClpbiB0aGlzLmEmJnRoaXMuY2FuY2VsKGEpO3ZhciBiPUVkKGEpO3RoaXMuYVsoMSkudG9TdHJpbmcoKV09YTtHZCh0aGlzLmIsXCJwb2ludGVyZG93blwiLGIsYSl9fTtrLkttPWZ1bmN0aW9uKGEpe2lmKCFEZCh0aGlzLGEpKXt2YXIgYj1FZChhKTtHZCh0aGlzLmIsXCJwb2ludGVybW92ZVwiLGIsYSl9fTtrLk5tPWZ1bmN0aW9uKGEpe2lmKCFEZCh0aGlzLGEpKXt2YXIgYj10aGlzLmFbKDEpLnRvU3RyaW5nKCldO2ImJmIuYnV0dG9uPT09YS5idXR0b24mJihiPUVkKGEpLEdkKHRoaXMuYixcInBvaW50ZXJ1cFwiLGIsYSksZGVsZXRlIHRoaXMuYVsoMSkudG9TdHJpbmcoKV0pfX07ay5NbT1mdW5jdGlvbihhKXtpZighRGQodGhpcyxhKSl7dmFyIGI9RWQoYSk7SGQodGhpcy5iLGIsYSl9fTtrLkxtPWZ1bmN0aW9uKGEpe2lmKCFEZCh0aGlzLGEpKXt2YXIgYj1FZChhKTtKZCh0aGlzLmIsYixhKX19O1xuay5jYW5jZWw9ZnVuY3Rpb24oYSl7dmFyIGI9RWQoYSk7dGhpcy5iLmNhbmNlbChiLGEpO2RlbGV0ZSB0aGlzLmFbKDEpLnRvU3RyaW5nKCldfTtmdW5jdGlvbiBLZChhKXtCZC5jYWxsKHRoaXMsYSx7TVNQb2ludGVyRG93bjp0aGlzLlNtLE1TUG9pbnRlck1vdmU6dGhpcy5UbSxNU1BvaW50ZXJVcDp0aGlzLldtLE1TUG9pbnRlck91dDp0aGlzLlVtLE1TUG9pbnRlck92ZXI6dGhpcy5WbSxNU1BvaW50ZXJDYW5jZWw6dGhpcy5SbSxNU0dvdFBvaW50ZXJDYXB0dXJlOnRoaXMuUG0sTVNMb3N0UG9pbnRlckNhcHR1cmU6dGhpcy5RbX0pO3RoaXMuYT1hLmc7dGhpcy5nPVtcIlwiLFwidW5hdmFpbGFibGVcIixcInRvdWNoXCIsXCJwZW5cIixcIm1vdXNlXCJdfXcoS2QsQmQpO2Z1bmN0aW9uIExkKGEsYil7dmFyIGM9YjtcIm51bWJlclwiPT09dHlwZW9mIGIucG9pbnRlclR5cGUmJihjPUZkKGIsYiksYy5wb2ludGVyVHlwZT1hLmdbYi5wb2ludGVyVHlwZV0pO3JldHVybiBjfWs9S2QucHJvdG90eXBlO1xuay5TbT1mdW5jdGlvbihhKXt0aGlzLmFbYS5wb2ludGVySWQudG9TdHJpbmcoKV09YTt2YXIgYj1MZCh0aGlzLGEpO0dkKHRoaXMuYixcInBvaW50ZXJkb3duXCIsYixhKX07ay5UbT1mdW5jdGlvbihhKXt2YXIgYj1MZCh0aGlzLGEpO0dkKHRoaXMuYixcInBvaW50ZXJtb3ZlXCIsYixhKX07ay5XbT1mdW5jdGlvbihhKXt2YXIgYj1MZCh0aGlzLGEpO0dkKHRoaXMuYixcInBvaW50ZXJ1cFwiLGIsYSk7ZGVsZXRlIHRoaXMuYVthLnBvaW50ZXJJZC50b1N0cmluZygpXX07ay5VbT1mdW5jdGlvbihhKXt2YXIgYj1MZCh0aGlzLGEpO0pkKHRoaXMuYixiLGEpfTtrLlZtPWZ1bmN0aW9uKGEpe3ZhciBiPUxkKHRoaXMsYSk7SGQodGhpcy5iLGIsYSl9O2suUm09ZnVuY3Rpb24oYSl7dmFyIGI9TGQodGhpcyxhKTt0aGlzLmIuY2FuY2VsKGIsYSk7ZGVsZXRlIHRoaXMuYVthLnBvaW50ZXJJZC50b1N0cmluZygpXX07XG5rLlFtPWZ1bmN0aW9uKGEpe3RoaXMuYi5iKG5ldyBNZChcImxvc3Rwb2ludGVyY2FwdHVyZVwiLGEsYSkpfTtrLlBtPWZ1bmN0aW9uKGEpe3RoaXMuYi5iKG5ldyBNZChcImdvdHBvaW50ZXJjYXB0dXJlXCIsYSxhKSl9O2Z1bmN0aW9uIE5kKGEpe0JkLmNhbGwodGhpcyxhLHtwb2ludGVyZG93bjp0aGlzLktwLHBvaW50ZXJtb3ZlOnRoaXMuTHAscG9pbnRlcnVwOnRoaXMuT3AscG9pbnRlcm91dDp0aGlzLk1wLHBvaW50ZXJvdmVyOnRoaXMuTnAscG9pbnRlcmNhbmNlbDp0aGlzLkpwLGdvdHBvaW50ZXJjYXB0dXJlOnRoaXMuV2wsbG9zdHBvaW50ZXJjYXB0dXJlOnRoaXMuSG19KX13KE5kLEJkKTtrPU5kLnByb3RvdHlwZTtrLktwPWZ1bmN0aW9uKGEpe09kKHRoaXMuYixhKX07ay5McD1mdW5jdGlvbihhKXtPZCh0aGlzLmIsYSl9O2suT3A9ZnVuY3Rpb24oYSl7T2QodGhpcy5iLGEpfTtrLk1wPWZ1bmN0aW9uKGEpe09kKHRoaXMuYixhKX07ay5OcD1mdW5jdGlvbihhKXtPZCh0aGlzLmIsYSl9O2suSnA9ZnVuY3Rpb24oYSl7T2QodGhpcy5iLGEpfTtrLkhtPWZ1bmN0aW9uKGEpe09kKHRoaXMuYixhKX07ay5XbD1mdW5jdGlvbihhKXtPZCh0aGlzLmIsYSl9O2Z1bmN0aW9uIE1kKGEsYixjKXtRYy5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7YT1jP2M6e307dGhpcy5idXR0b25zPVBkKGEpO3RoaXMucHJlc3N1cmU9UWQoYSx0aGlzLmJ1dHRvbnMpO3RoaXMuYnViYmxlcz1cImJ1YmJsZXNcImluIGE/YS5idWJibGVzOiExO3RoaXMuY2FuY2VsYWJsZT1cImNhbmNlbGFibGVcImluIGE/YS5jYW5jZWxhYmxlOiExO3RoaXMudmlldz1cInZpZXdcImluIGE/YS52aWV3Om51bGw7dGhpcy5kZXRhaWw9XCJkZXRhaWxcImluIGE/YS5kZXRhaWw6bnVsbDt0aGlzLnNjcmVlblg9XCJzY3JlZW5YXCJpbiBhP2Euc2NyZWVuWDowO3RoaXMuc2NyZWVuWT1cInNjcmVlbllcImluIGE/YS5zY3JlZW5ZOjA7dGhpcy5jbGllbnRYPVwiY2xpZW50WFwiaW4gYT9hLmNsaWVudFg6MDt0aGlzLmNsaWVudFk9XCJjbGllbnRZXCJpbiBhP2EuY2xpZW50WTowO3RoaXMuY3RybEtleT1cImN0cmxLZXlcImluIGE/YS5jdHJsS2V5OiExO3RoaXMuYWx0S2V5PVwiYWx0S2V5XCJpbiBhP2EuYWx0S2V5OiExO3RoaXMuc2hpZnRLZXk9XG5cInNoaWZ0S2V5XCJpbiBhP2Euc2hpZnRLZXk6ITE7dGhpcy5tZXRhS2V5PVwibWV0YUtleVwiaW4gYT9hLm1ldGFLZXk6ITE7dGhpcy5idXR0b249XCJidXR0b25cImluIGE/YS5idXR0b246MDt0aGlzLnJlbGF0ZWRUYXJnZXQ9XCJyZWxhdGVkVGFyZ2V0XCJpbiBhP2EucmVsYXRlZFRhcmdldDpudWxsO3RoaXMucG9pbnRlcklkPVwicG9pbnRlcklkXCJpbiBhP2EucG9pbnRlcklkOjA7dGhpcy53aWR0aD1cIndpZHRoXCJpbiBhP2Eud2lkdGg6MDt0aGlzLmhlaWdodD1cImhlaWdodFwiaW4gYT9hLmhlaWdodDowO3RoaXMudGlsdFg9XCJ0aWx0WFwiaW4gYT9hLnRpbHRYOjA7dGhpcy50aWx0WT1cInRpbHRZXCJpbiBhP2EudGlsdFk6MDt0aGlzLnBvaW50ZXJUeXBlPVwicG9pbnRlclR5cGVcImluIGE/YS5wb2ludGVyVHlwZTpcIlwiO3RoaXMuaXNQcmltYXJ5PVwiaXNQcmltYXJ5XCJpbiBhP2EuaXNQcmltYXJ5OiExO2IucHJldmVudERlZmF1bHQmJih0aGlzLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7Yi5wcmV2ZW50RGVmYXVsdCgpfSl9XG53KE1kLFFjKTtmdW5jdGlvbiBQZChhKXtpZihhLmJ1dHRvbnN8fFJkKWE9YS5idXR0b25zO2Vsc2Ugc3dpdGNoKGEud2hpY2gpe2Nhc2UgMTphPTE7YnJlYWs7Y2FzZSAyOmE9NDticmVhaztjYXNlIDM6YT0yO2JyZWFrO2RlZmF1bHQ6YT0wfXJldHVybiBhfWZ1bmN0aW9uIFFkKGEsYil7dmFyIGM9MDthLnByZXNzdXJlP2M9YS5wcmVzc3VyZTpjPWI/LjU6MDtyZXR1cm4gY312YXIgUmQ9ITE7dHJ5e1JkPTE9PT0obmV3IE1vdXNlRXZlbnQoXCJjbGlja1wiLHtidXR0b25zOjF9KSkuYnV0dG9uc31jYXRjaChhKXt9O2Z1bmN0aW9uIFNkKGEsYil7QmQuY2FsbCh0aGlzLGEse3RvdWNoc3RhcnQ6dGhpcy5RcSx0b3VjaG1vdmU6dGhpcy5QcSx0b3VjaGVuZDp0aGlzLk9xLHRvdWNoY2FuY2VsOnRoaXMuTnF9KTt0aGlzLmE9YS5nO3RoaXMuaj1iO3RoaXMuZz12b2lkIDA7dGhpcy5mPTA7dGhpcy5jPXZvaWQgMH13KFNkLEJkKTtrPVNkLnByb3RvdHlwZTtrLkVqPWZ1bmN0aW9uKCl7dGhpcy5mPTA7dGhpcy5jPXZvaWQgMH07XG5mdW5jdGlvbiBUZChhLGIsYyl7Yj1GZChiLGMpO2IucG9pbnRlcklkPWMuaWRlbnRpZmllcisyO2IuYnViYmxlcz0hMDtiLmNhbmNlbGFibGU9ITA7Yi5kZXRhaWw9YS5mO2IuYnV0dG9uPTA7Yi5idXR0b25zPTE7Yi53aWR0aD1jLndlYmtpdFJhZGl1c1h8fGMucmFkaXVzWHx8MDtiLmhlaWdodD1jLndlYmtpdFJhZGl1c1l8fGMucmFkaXVzWXx8MDtiLnByZXNzdXJlPWMud2Via2l0Rm9yY2V8fGMuZm9yY2V8fC41O2IuaXNQcmltYXJ5PWEuZz09PWMuaWRlbnRpZmllcjtiLnBvaW50ZXJUeXBlPVwidG91Y2hcIjtiLmNsaWVudFg9Yy5jbGllbnRYO2IuY2xpZW50WT1jLmNsaWVudFk7Yi5zY3JlZW5YPWMuc2NyZWVuWDtiLnNjcmVlblk9Yy5zY3JlZW5ZO3JldHVybiBifVxuZnVuY3Rpb24gVWQoYSxiLGMpe2Z1bmN0aW9uIGQoKXtiLnByZXZlbnREZWZhdWx0KCl9dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYi5jaGFuZ2VkVG91Y2hlcyksZj1lLmxlbmd0aCxnO2ZvcihnPTA7ZzxmOysrZyl7dmFyIGg9VGQoYSxiLGVbZ10pO2gucHJldmVudERlZmF1bHQ9ZDtjLmNhbGwoYSxiLGgpfX1cbmsuUXE9ZnVuY3Rpb24oYSl7dmFyIGI9YS50b3VjaGVzLGM9T2JqZWN0LmtleXModGhpcy5hKSxkPWMubGVuZ3RoO2lmKGQ+PWIubGVuZ3RoKXt2YXIgZT1bXSxmO2ZvcihmPTA7ZjxkOysrZil7dmFyIGc9Y1tmXTt2YXIgaD10aGlzLmFbZ107dmFyIGw7aWYoIShsPTE9PWcpKWE6e2Zvcih2YXIgbT1iLmxlbmd0aCxuPTA7bjxtO24rKylpZihsPWJbbl0sbC5pZGVudGlmaWVyPT09Zy0yKXtsPSEwO2JyZWFrIGF9bD0hMX1sfHxlLnB1c2goaC5vdXQpfWZvcihmPTA7ZjxlLmxlbmd0aDsrK2YpdGhpcy5PZihhLGVbZl0pfWI9YS5jaGFuZ2VkVG91Y2hlc1swXTtjPU9iamVjdC5rZXlzKHRoaXMuYSkubGVuZ3RoO2lmKDA9PT1jfHwxPT09YyYmKDEpLnRvU3RyaW5nKClpbiB0aGlzLmEpdGhpcy5nPWIuaWRlbnRpZmllcix2b2lkIDAhPT10aGlzLmMmJmNsZWFyVGltZW91dCh0aGlzLmMpO1ZkKHRoaXMsYSk7dGhpcy5mKys7VWQodGhpcyxhLHRoaXMuRnApfTtcbmsuRnA9ZnVuY3Rpb24oYSxiKXt0aGlzLmFbYi5wb2ludGVySWRdPXt0YXJnZXQ6Yi50YXJnZXQsb3V0OmIscGo6Yi50YXJnZXR9O3ZhciBjPXRoaXMuYjtiLmJ1YmJsZXM9ITA7R2QoYyxcInBvaW50ZXJvdmVyXCIsYixhKTtjPXRoaXMuYjtiLmJ1YmJsZXM9ITE7R2QoYyxcInBvaW50ZXJlbnRlclwiLGIsYSk7R2QodGhpcy5iLFwicG9pbnRlcmRvd25cIixiLGEpfTtrLlBxPWZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKTtVZCh0aGlzLGEsdGhpcy5PbSl9O1xuay5PbT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuYVtiLnBvaW50ZXJJZF07aWYoYyl7dmFyIGQ9Yy5vdXQsZT1jLnBqO0dkKHRoaXMuYixcInBvaW50ZXJtb3ZlXCIsYixhKTtkJiZlIT09Yi50YXJnZXQmJihkLnJlbGF0ZWRUYXJnZXQ9Yi50YXJnZXQsYi5yZWxhdGVkVGFyZ2V0PWUsZC50YXJnZXQ9ZSxiLnRhcmdldD8oSmQodGhpcy5iLGQsYSksSGQodGhpcy5iLGIsYSkpOihiLnRhcmdldD1lLGIucmVsYXRlZFRhcmdldD1udWxsLHRoaXMuT2YoYSxiKSkpO2Mub3V0PWI7Yy5waj1iLnRhcmdldH19O2suT3E9ZnVuY3Rpb24oYSl7VmQodGhpcyxhKTtVZCh0aGlzLGEsdGhpcy5ScSl9O1xuay5ScT1mdW5jdGlvbihhLGIpe0dkKHRoaXMuYixcInBvaW50ZXJ1cFwiLGIsYSk7dGhpcy5iLm91dChiLGEpO1dkKHRoaXMuYixiLGEpO2RlbGV0ZSB0aGlzLmFbYi5wb2ludGVySWRdO2IuaXNQcmltYXJ5JiYodGhpcy5nPXZvaWQgMCx0aGlzLmM9c2V0VGltZW91dCh0aGlzLkVqLmJpbmQodGhpcyksMjAwKSl9O2suTnE9ZnVuY3Rpb24oYSl7VWQodGhpcyxhLHRoaXMuT2YpfTtrLk9mPWZ1bmN0aW9uKGEsYil7dGhpcy5iLmNhbmNlbChiLGEpO3RoaXMuYi5vdXQoYixhKTtXZCh0aGlzLmIsYixhKTtkZWxldGUgdGhpcy5hW2IucG9pbnRlcklkXTtiLmlzUHJpbWFyeSYmKHRoaXMuZz12b2lkIDAsdGhpcy5jPXNldFRpbWVvdXQodGhpcy5Fai5iaW5kKHRoaXMpLDIwMCkpfTtcbmZ1bmN0aW9uIFZkKGEsYil7dmFyIGM9YS5qLmc7Yj1iLmNoYW5nZWRUb3VjaGVzWzBdO2lmKGEuZz09PWIuaWRlbnRpZmllcil7dmFyIGQ9W2IuY2xpZW50WCxiLmNsaWVudFldO2MucHVzaChkKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGE9Yy5pbmRleE9mKGQpOy0xPGEmJmMuc3BsaWNlKGEsMSl9LDI1MDApfX07ZnVuY3Rpb24gWGQoYSl7U2MuY2FsbCh0aGlzKTt0aGlzLmY9YTt0aGlzLmc9e307dGhpcy5pPXt9O3RoaXMuYT1bXTt0ZD9ZZCh0aGlzLG5ldyBOZCh0aGlzKSk6dWQ/WWQodGhpcyxuZXcgS2QodGhpcykpOihhPW5ldyBDZCh0aGlzKSxZZCh0aGlzLGEpLHNkJiZZZCh0aGlzLG5ldyBTZCh0aGlzLGEpKSk7YT10aGlzLmEubGVuZ3RoO2Zvcih2YXIgYixjPTA7YzxhO2MrKyliPXRoaXMuYVtjXSxaZCh0aGlzLE9iamVjdC5rZXlzKGIuaSkpfXcoWGQsU2MpO2Z1bmN0aW9uIFlkKGEsYil7dmFyIGM9T2JqZWN0LmtleXMoYi5pKTtjJiYoYy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBjPWIuaVthXTtjJiYodGhpcy5pW2FdPWMuYmluZChiKSl9LGEpLGEuYS5wdXNoKGIpKX1YZC5wcm90b3R5cGUuYz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmlbYS50eXBlXTtiJiZiKGEpfTtcbmZ1bmN0aW9uIFpkKGEsYil7Yi5mb3JFYWNoKGZ1bmN0aW9uKGEpe3kodGhpcy5mLGEsdGhpcy5jLHRoaXMpfSxhKX1mdW5jdGlvbiAkZChhLGIpe2IuZm9yRWFjaChmdW5jdGlvbihhKXtNYyh0aGlzLmYsYSx0aGlzLmMsdGhpcyl9LGEpfWZ1bmN0aW9uIEZkKGEsYil7Zm9yKHZhciBjPXt9LGQsZT0wLGY9YWUubGVuZ3RoO2U8ZjtlKyspZD1hZVtlXVswXSxjW2RdPWFbZF18fGJbZF18fGFlW2VdWzFdO3JldHVybiBjfWZ1bmN0aW9uIFdkKGEsYixjKXtiLmJ1YmJsZXM9ITE7R2QoYSxcInBvaW50ZXJsZWF2ZVwiLGIsYyl9WGQucHJvdG90eXBlLm91dD1mdW5jdGlvbihhLGIpe2EuYnViYmxlcz0hMDtHZCh0aGlzLFwicG9pbnRlcm91dFwiLGEsYil9O1hkLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oYSxiKXtHZCh0aGlzLFwicG9pbnRlcmNhbmNlbFwiLGEsYil9O1xuZnVuY3Rpb24gSmQoYSxiLGMpe2Eub3V0KGIsYyk7dmFyIGQ9Yi50YXJnZXQsZT1iLnJlbGF0ZWRUYXJnZXQ7ZCYmZSYmZC5jb250YWlucyhlKXx8V2QoYSxiLGMpfWZ1bmN0aW9uIEhkKGEsYixjKXtiLmJ1YmJsZXM9ITA7R2QoYSxcInBvaW50ZXJvdmVyXCIsYixjKTt2YXIgZD1iLnRhcmdldCxlPWIucmVsYXRlZFRhcmdldDtkJiZlJiZkLmNvbnRhaW5zKGUpfHwoYi5idWJibGVzPSExLEdkKGEsXCJwb2ludGVyZW50ZXJcIixiLGMpKX1mdW5jdGlvbiBHZChhLGIsYyxkKXthLmIobmV3IE1kKGIsZCxjKSl9ZnVuY3Rpb24gT2QoYSxiKXthLmIobmV3IE1kKGIudHlwZSxiLGIpKX1YZC5wcm90b3R5cGUuaWE9ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5hLmxlbmd0aCxiLGM9MDtjPGE7YysrKWI9dGhpcy5hW2NdLCRkKHRoaXMsT2JqZWN0LmtleXMoYi5pKSk7U2MucHJvdG90eXBlLmlhLmNhbGwodGhpcyl9O1xudmFyIGFlPVtbXCJidWJibGVzXCIsITFdLFtcImNhbmNlbGFibGVcIiwhMV0sW1widmlld1wiLG51bGxdLFtcImRldGFpbFwiLG51bGxdLFtcInNjcmVlblhcIiwwXSxbXCJzY3JlZW5ZXCIsMF0sW1wiY2xpZW50WFwiLDBdLFtcImNsaWVudFlcIiwwXSxbXCJjdHJsS2V5XCIsITFdLFtcImFsdEtleVwiLCExXSxbXCJzaGlmdEtleVwiLCExXSxbXCJtZXRhS2V5XCIsITFdLFtcImJ1dHRvblwiLDBdLFtcInJlbGF0ZWRUYXJnZXRcIixudWxsXSxbXCJidXR0b25zXCIsMF0sW1wicG9pbnRlcklkXCIsMF0sW1wid2lkdGhcIiwwXSxbXCJoZWlnaHRcIiwwXSxbXCJwcmVzc3VyZVwiLDBdLFtcInRpbHRYXCIsMF0sW1widGlsdFlcIiwwXSxbXCJwb2ludGVyVHlwZVwiLFwiXCJdLFtcImh3VGltZXN0YW1wXCIsMF0sW1wiaXNQcmltYXJ5XCIsITFdLFtcInR5cGVcIixcIlwiXSxbXCJ0YXJnZXRcIixudWxsXSxbXCJjdXJyZW50VGFyZ2V0XCIsbnVsbF0sW1wid2hpY2hcIiwwXV07ZnVuY3Rpb24gYmUoYSxiKXtTYy5jYWxsKHRoaXMpO3RoaXMuZz1hO3RoaXMuaj0wO3RoaXMubD0hMTt0aGlzLmk9W107dGhpcy5EPWI/YipuZDpuZDt0aGlzLmM9bnVsbDthPXRoaXMuZy5hO3RoaXMuTj0wO3RoaXMubz17fTt0aGlzLmY9bmV3IFhkKGEpO3RoaXMuYT1udWxsO3RoaXMucz15KHRoaXMuZixcInBvaW50ZXJkb3duXCIsdGhpcy5wbSx0aGlzKTt0aGlzLnY9eSh0aGlzLmYsXCJwb2ludGVybW92ZVwiLHRoaXMubXEsdGhpcyl9dyhiZSxTYyk7ZnVuY3Rpb24gY2UoYSxiKXt2YXIgYz1uZXcgQWQoXCJjbGlja1wiLGEuZyxiKTthLmIoYyk7MCE9PWEuaj8oY2xlYXJUaW1lb3V0KGEuaiksYS5qPTAsYz1uZXcgQWQoXCJkYmxjbGlja1wiLGEuZyxiKSxhLmIoYykpOmEuaj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5qPTA7dmFyIGE9bmV3IEFkKFwic2luZ2xlY2xpY2tcIix0aGlzLmcsYik7dGhpcy5iKGEpfS5iaW5kKGEpLDI1MCl9XG5mdW5jdGlvbiBkZShhLGIpe1wicG9pbnRlcnVwXCI9PWIudHlwZXx8XCJwb2ludGVyY2FuY2VsXCI9PWIudHlwZT9kZWxldGUgYS5vW2IucG9pbnRlcklkXTpcInBvaW50ZXJkb3duXCI9PWIudHlwZSYmKGEub1tiLnBvaW50ZXJJZF09ITApO2EuTj1PYmplY3Qua2V5cyhhLm8pLmxlbmd0aH1rPWJlLnByb3RvdHlwZTtrLmNpPWZ1bmN0aW9uKGEpe2RlKHRoaXMsYSk7dmFyIGI9bmV3IEFkKFwicG9pbnRlcnVwXCIsdGhpcy5nLGEpO3RoaXMuYihiKTtiLnNqfHx0aGlzLmx8fDAhPT1hLmJ1dHRvbnx8Y2UodGhpcyx0aGlzLmMpOzA9PT10aGlzLk4mJih0aGlzLmkuZm9yRWFjaChHYyksdGhpcy5pLmxlbmd0aD0wLHRoaXMubD0hMSx0aGlzLmM9bnVsbCxQYyh0aGlzLmEpLHRoaXMuYT1udWxsKX07XG5rLnBtPWZ1bmN0aW9uKGEpe2RlKHRoaXMsYSk7dmFyIGI9bmV3IEFkKFwicG9pbnRlcmRvd25cIix0aGlzLmcsYSk7dGhpcy5iKGIpO3RoaXMuYz1hOzA9PT10aGlzLmkubGVuZ3RoJiYodGhpcy5hPW5ldyBYZChkb2N1bWVudCksdGhpcy5pLnB1c2goeSh0aGlzLmEsXCJwb2ludGVybW92ZVwiLHRoaXMubW4sdGhpcykseSh0aGlzLmEsXCJwb2ludGVydXBcIix0aGlzLmNpLHRoaXMpLHkodGhpcy5mLFwicG9pbnRlcmNhbmNlbFwiLHRoaXMuY2ksdGhpcykpKX07ay5tbj1mdW5jdGlvbihhKXtpZihmZSh0aGlzLGEpKXt0aGlzLmw9ITA7dmFyIGI9bmV3IEFkKFwicG9pbnRlcmRyYWdcIix0aGlzLmcsYSx0aGlzLmwpO3RoaXMuYihiKX1hLnByZXZlbnREZWZhdWx0KCl9O2subXE9ZnVuY3Rpb24oYSl7dGhpcy5iKG5ldyBBZChhLnR5cGUsdGhpcy5nLGEsISghdGhpcy5jfHwhZmUodGhpcyxhKSkpKX07XG5mdW5jdGlvbiBmZShhLGIpe3JldHVybiBNYXRoLmFicyhiLmNsaWVudFgtYS5jLmNsaWVudFgpPmEuRHx8TWF0aC5hYnMoYi5jbGllbnRZLWEuYy5jbGllbnRZKT5hLkR9ay5pYT1mdW5jdGlvbigpe3RoaXMudiYmKEdjKHRoaXMudiksdGhpcy52PW51bGwpO3RoaXMucyYmKEdjKHRoaXMucyksdGhpcy5zPW51bGwpO3RoaXMuaS5mb3JFYWNoKEdjKTt0aGlzLmkubGVuZ3RoPTA7dGhpcy5hJiYoUGModGhpcy5hKSx0aGlzLmE9bnVsbCk7dGhpcy5mJiYoUGModGhpcy5mKSx0aGlzLmY9bnVsbCk7U2MucHJvdG90eXBlLmlhLmNhbGwodGhpcyl9O2Z1bmN0aW9uIGdlKGEsYil7dGhpcy5zPWE7dGhpcy5jPWI7dGhpcy5iPVtdO3RoaXMuZz1bXTt0aGlzLmE9e319Z2UucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5iLmxlbmd0aD0wO3RoaXMuZy5sZW5ndGg9MDtsYih0aGlzLmEpfTtmdW5jdGlvbiBoZShhKXt2YXIgYj1hLmIsYz1hLmcsZD1iWzBdOzE9PWIubGVuZ3RoPyhiLmxlbmd0aD0wLGMubGVuZ3RoPTApOihiWzBdPWIucG9wKCksY1swXT1jLnBvcCgpLGllKGEsMCkpO2I9YS5jKGQpO2RlbGV0ZSBhLmFbYl07cmV0dXJuIGR9Z2UucHJvdG90eXBlLmk9ZnVuY3Rpb24oYSl7b2EoISh0aGlzLmMoYSlpbiB0aGlzLmEpLDMxKTt2YXIgYj10aGlzLnMoYSk7cmV0dXJuIEluZmluaXR5IT1iPyh0aGlzLmIucHVzaChhKSx0aGlzLmcucHVzaChiKSx0aGlzLmFbdGhpcy5jKGEpXT0hMCxqZSh0aGlzLDAsdGhpcy5iLmxlbmd0aC0xKSwhMCk6ITF9O1xuZnVuY3Rpb24gaWUoYSxiKXtmb3IodmFyIGM9YS5iLGQ9YS5nLGU9Yy5sZW5ndGgsZj1jW2JdLGc9ZFtiXSxoPWI7YjxlPj4xOyl7dmFyIGw9MipiKzEsbT0yKmIrMjtsPW08ZSYmZFttXTxkW2xdP206bDtjW2JdPWNbbF07ZFtiXT1kW2xdO2I9bH1jW2JdPWY7ZFtiXT1nO2plKGEsaCxiKX1mdW5jdGlvbiBqZShhLGIsYyl7dmFyIGQ9YS5iO2E9YS5nO2Zvcih2YXIgZT1kW2NdLGY9YVtjXTtjPmI7KXt2YXIgZz1jLTE+PjE7aWYoYVtnXT5mKWRbY109ZFtnXSxhW2NdPWFbZ10sYz1nO2Vsc2UgYnJlYWt9ZFtjXT1lO2FbY109Zn1cbmZ1bmN0aW9uIGtlKGEpe3ZhciBiPWEucyxjPWEuYixkPWEuZyxlPTAsZj1jLmxlbmd0aCxnO2ZvcihnPTA7ZzxmOysrZyl7dmFyIGg9Y1tnXTt2YXIgbD1iKGgpO0luZmluaXR5PT1sP2RlbGV0ZSBhLmFbYS5jKGgpXTooZFtlXT1sLGNbZSsrXT1oKX1jLmxlbmd0aD1lO2QubGVuZ3RoPWU7Zm9yKGI9KGEuYi5sZW5ndGg+PjEpLTE7MDw9YjtiLS0paWUoYSxiKX07ZnVuY3Rpb24gbGUoYSxiKXtnZS5jYWxsKHRoaXMsZnVuY3Rpb24oYil7cmV0dXJuIGEuYXBwbHkobnVsbCxiKX0sZnVuY3Rpb24oYSl7cmV0dXJuIGFbMF0ubGIoKX0pO3RoaXMudj1iO3RoaXMuaj0wO3RoaXMuZj17fX13KGxlLGdlKTtsZS5wcm90b3R5cGUuaT1mdW5jdGlvbihhKXt2YXIgYj1nZS5wcm90b3R5cGUuaS5jYWxsKHRoaXMsYSk7YiYmeShhWzBdLFwiY2hhbmdlXCIsdGhpcy5sLHRoaXMpO3JldHVybiBifTtsZS5wcm90b3R5cGUubD1mdW5jdGlvbihhKXthPWEudGFyZ2V0O3ZhciBiPWEuZ2V0U3RhdGUoKTtpZigyPT09Ynx8Mz09PWJ8fDQ9PT1ifHw1PT09YilNYyhhLFwiY2hhbmdlXCIsdGhpcy5sLHRoaXMpLGE9YS5sYigpLGEgaW4gdGhpcy5mJiYoZGVsZXRlIHRoaXMuZlthXSwtLXRoaXMuaiksdGhpcy52KCl9O1xuZnVuY3Rpb24gbWUoYSxiLGMpe2Zvcih2YXIgZD0wLGU9ITEsZixnLGg7YS5qPGImJmQ8YyYmMDxhLmIubGVuZ3RoOylnPWhlKGEpWzBdLGg9Zy5sYigpLGY9Zy5nZXRTdGF0ZSgpLDU9PT1mP2U9ITA6MCE9PWZ8fGggaW4gYS5mfHwoYS5mW2hdPSEwLCsrYS5qLCsrZCxnLmxvYWQoKSk7MD09PWQmJmUmJmEudigpfTtmdW5jdGlvbiBuZShhKXtyZXR1cm4gZnVuY3Rpb24oYil7aWYoYilyZXR1cm5bcGEoYlswXSxhWzBdLGFbMl0pLHBhKGJbMV0sYVsxXSxhWzNdKV19fWZ1bmN0aW9uIG9lKGEpe3JldHVybiBhfTtmdW5jdGlvbiBwZShhKXtyZXR1cm4gZnVuY3Rpb24oYixjLGQpe2lmKHZvaWQgMCE9PWIpcmV0dXJuIGI9ZmMoYSxiLGQpLGI9cGEoYitjLDAsYS5sZW5ndGgtMSksYz1NYXRoLmZsb29yKGIpLGIhPWMmJmM8YS5sZW5ndGgtMT9hW2NdL01hdGgucG93KGFbY10vYVtjKzFdLGItYyk6YVtjXX19ZnVuY3Rpb24gcWUoYSxiLGMpe3JldHVybiBmdW5jdGlvbihkLGUsZil7aWYodm9pZCAwIT09ZClyZXR1cm4gZD1NYXRoLm1heChNYXRoLmZsb29yKE1hdGgubG9nKGIvZCkvTWF0aC5sb2coYSkrKC1mLzIrLjUpKStlLDApLHZvaWQgMCE9PWMmJihkPU1hdGgubWluKGQsYykpLGIvTWF0aC5wb3coYSxkKX19O2Z1bmN0aW9uIHJlKGEpe2lmKHZvaWQgMCE9PWEpcmV0dXJuIDB9ZnVuY3Rpb24gc2UoYSxiKXtpZih2b2lkIDAhPT1hKXJldHVybiBhK2J9ZnVuY3Rpb24gdWUoYSl7dmFyIGI9MipNYXRoLlBJL2E7cmV0dXJuIGZ1bmN0aW9uKGEsZCl7aWYodm9pZCAwIT09YSlyZXR1cm4gYT1NYXRoLmZsb29yKChhK2QpL2IrLjUpKmJ9fWZ1bmN0aW9uIHdlKCl7dmFyIGE9dmEoNSk7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7aWYodm9pZCAwIT09YilyZXR1cm4gTWF0aC5hYnMoYitjKTw9YT8wOmIrY319O2Z1bmN0aW9uIHhlKGEsYil7YT12b2lkIDAhPT1iP2EudG9GaXhlZChiKTpcIlwiK2E7Yj1hLmluZGV4T2YoXCIuXCIpO2I9LTE9PT1iP2EubGVuZ3RoOmI7cmV0dXJuIDI8Yj9hOkFycmF5KDMtYikuam9pbihcIjBcIikrYX1mdW5jdGlvbiB5ZShhKXthPShcIlwiK2EpLnNwbGl0KFwiLlwiKTtmb3IodmFyIGI9W1wiMVwiLFwiM1wiXSxjPTA7YzxNYXRoLm1heChhLmxlbmd0aCxiLmxlbmd0aCk7YysrKXt2YXIgZD1wYXJzZUludChhW2NdfHxcIjBcIiwxMCksZT1wYXJzZUludChiW2NdfHxcIjBcIiwxMCk7aWYoZD5lKXJldHVybiAxO2lmKGU+ZClyZXR1cm4tMX1yZXR1cm4gMH07ZnVuY3Rpb24gemUoYSxiKXthWzBdKz1iWzBdO2FbMV0rPWJbMV07cmV0dXJuIGF9ZnVuY3Rpb24gQWUoYSxiKXt2YXIgYz1iLkJkKCksZD1iLnhhKCk7Yj1kWzBdO2Q9ZFsxXTt2YXIgZT1hWzBdLWI7YT1hWzFdLWQ7MD09PWUmJjA9PT1hJiYoZT0xKTt2YXIgZj1NYXRoLnNxcnQoZSplK2EqYSk7cmV0dXJuW2IrYyplL2YsZCtjKmEvZl19ZnVuY3Rpb24gQmUoYSxiKXt2YXIgYz1hWzBdO2E9YVsxXTt2YXIgZD1iWzBdLGU9YlsxXTtiPWRbMF07ZD1kWzFdO3ZhciBmPWVbMF07ZT1lWzFdO3ZhciBnPWYtYixoPWUtZDtjPTA9PT1nJiYwPT09aD8wOihnKihjLWIpK2gqKGEtZCkpLyhnKmcraCpofHwwKTswPj1jPyhhPWIsYz1kKToxPD1jPyhhPWYsYz1lKTooYT1iK2MqZyxjPWQrYypoKTtyZXR1cm5bYSxjXX1cbmZ1bmN0aW9uIENlKGEsYixjKXtiPXdhKGIrMTgwLDM2MCktMTgwO3ZhciBkPU1hdGguYWJzKDM2MDAqYik7Yz1jfHwwO3ZhciBlPU1hdGgucG93KDEwLGMpLGY9TWF0aC5mbG9vcihkLzM2MDApLGc9TWF0aC5mbG9vcigoZC0zNjAwKmYpLzYwKTtkPU1hdGguY2VpbCgoZC0zNjAwKmYtNjAqZykqZSkvZTs2MDw9ZCYmKGQ9MCxnKz0xKTs2MDw9ZyYmKGc9MCxmKz0xKTtyZXR1cm4gZitcIlxcdTAwYjAgXCIreGUoZykrXCJcXHUyMDMyIFwiK3hlKGQsYykrXCJcXHUyMDMzXCIrKDA9PWI/XCJcIjpcIiBcIithLmNoYXJBdCgwPmI/MTowKSl9ZnVuY3Rpb24gRGUoYSxiLGMpe3JldHVybiBhP2IucmVwbGFjZShcInt4fVwiLGFbMF0udG9GaXhlZChjKSkucmVwbGFjZShcInt5fVwiLGFbMV0udG9GaXhlZChjKSk6XCJcIn1mdW5jdGlvbiBFZShhLGIpe2Zvcih2YXIgYz0hMCxkPWEubGVuZ3RoLTE7MDw9ZDstLWQpaWYoYVtkXSE9YltkXSl7Yz0hMTticmVha31yZXR1cm4gY31cbmZ1bmN0aW9uIEZlKGEsYil7dmFyIGM9TWF0aC5jb3MoYik7Yj1NYXRoLnNpbihiKTt2YXIgZD1hWzFdKmMrYVswXSpiO2FbMF09YVswXSpjLWFbMV0qYjthWzFdPWQ7cmV0dXJuIGF9ZnVuY3Rpb24gR2UoYSxiKXthWzBdKj1iO2FbMV0qPWJ9ZnVuY3Rpb24gSGUoYSxiKXt2YXIgYz1hWzBdLWJbMF07YT1hWzFdLWJbMV07cmV0dXJuIGMqYythKmF9ZnVuY3Rpb24gSWUoYSxiKXtyZXR1cm4gTWF0aC5zcXJ0KEhlKGEsYikpfWZ1bmN0aW9uIEplKGEsYil7cmV0dXJuIEhlKGEsQmUoYSxiKSl9ZnVuY3Rpb24gS2UoYSxiKXtyZXR1cm4gRGUoYSxcInt4fSwge3l9XCIsYil9O2Z1bmN0aW9uIE1lKGEpe3JldHVybiBNYXRoLnBvdyhhLDMpfWZ1bmN0aW9uIE9lKGEpe3JldHVybiAxLU1lKDEtYSl9ZnVuY3Rpb24gUGUoYSl7cmV0dXJuIDMqYSphLTIqYSphKmF9ZnVuY3Rpb24gUWUoYSl7cmV0dXJuIGF9O2Z1bmN0aW9uIFJlKCl7cmV0dXJuITB9ZnVuY3Rpb24gU2UoKXtyZXR1cm4hMX07ZnVuY3Rpb24gVGUoYSxiLGMsZCxlLGYpe2Zvcih2YXIgZz1mP2Y6W10saD0wO2I8YztiKz1kKXt2YXIgbD1hW2JdLG09YVtiKzFdO2dbaCsrXT1lWzBdKmwrZVsyXSptK2VbNF07Z1toKytdPWVbMV0qbCtlWzNdKm0rZVs1XX1mJiZnLmxlbmd0aCE9aCYmKGcubGVuZ3RoPWgpO3JldHVybiBnfWZ1bmN0aW9uIFVlKGEsYixjLGQsZSxmLGcpe2Zvcih2YXIgaD1nP2c6W10sbD0wLG07YjxjO2IrPWQpZm9yKGhbbCsrXT1hW2JdK2UsaFtsKytdPWFbYisxXStmLG09YisyO208YitkOysrbSloW2wrK109YVttXTtnJiZoLmxlbmd0aCE9bCYmKGgubGVuZ3RoPWwpO3JldHVybiBofTt2YXIgVmU9QXJyYXkoNik7ZnVuY3Rpb24gV2UoKXtyZXR1cm5bMSwwLDAsMSwwLDBdfWZ1bmN0aW9uIFhlKGEpe3JldHVybiBZZShhLDEsMCwwLDEsMCwwKX1mdW5jdGlvbiBaZShhLGIpe3ZhciBjPWFbMF0sZD1hWzFdLGU9YVsyXSxmPWFbM10sZz1hWzRdLGg9YVs1XSxsPWJbMF0sbT1iWzFdLG49YlsyXSxwPWJbM10scT1iWzRdO2I9Yls1XTthWzBdPWMqbCtlKm07YVsxXT1kKmwrZiptO2FbMl09YypuK2UqcDthWzNdPWQqbitmKnA7YVs0XT1jKnErZSpiK2c7YVs1XT1kKnErZipiK2g7cmV0dXJuIGF9ZnVuY3Rpb24gWWUoYSxiLGMsZCxlLGYsZyl7YVswXT1iO2FbMV09YzthWzJdPWQ7YVszXT1lO2FbNF09ZjthWzVdPWc7cmV0dXJuIGF9ZnVuY3Rpb24gJGUoYSxiKXthWzBdPWJbMF07YVsxXT1iWzFdO2FbMl09YlsyXTthWzNdPWJbM107YVs0XT1iWzRdO2FbNV09Yls1XTtyZXR1cm4gYX1cbmZ1bmN0aW9uIGFmKGEsYil7dmFyIGM9YlswXSxkPWJbMV07YlswXT1hWzBdKmMrYVsyXSpkK2FbNF07YlsxXT1hWzFdKmMrYVszXSpkK2FbNV07cmV0dXJuIGJ9ZnVuY3Rpb24gYmYoYSxiKXt2YXIgYz1NYXRoLmNvcyhiKTtiPU1hdGguc2luKGIpO1plKGEsWWUoVmUsYyxiLC1iLGMsMCwwKSl9ZnVuY3Rpb24gY2YoYSxiLGMpe3JldHVybiBaZShhLFllKFZlLGIsMCwwLGMsMCwwKSl9ZnVuY3Rpb24gZGYoYSxiLGMpe1plKGEsWWUoVmUsMSwwLDAsMSxiLGMpKX1mdW5jdGlvbiBlZihhLGIsYyxkLGUsZixnLGgpe3ZhciBsPU1hdGguc2luKGYpO2Y9TWF0aC5jb3MoZik7YVswXT1kKmY7YVsxXT1lKmw7YVsyXT0tZCpsO2FbM109ZSpmO2FbNF09ZypkKmYtaCpkKmwrYjthWzVdPWcqZSpsK2gqZSpmK2M7cmV0dXJuIGF9XG5mdW5jdGlvbiBmZihhKXt2YXIgYj1hWzBdKmFbM10tYVsxXSphWzJdO29hKDAhPT1iLDMyKTt2YXIgYz1hWzBdLGQ9YVsxXSxlPWFbMl0sZj1hWzNdLGc9YVs0XSxoPWFbNV07YVswXT1mL2I7YVsxXT0tZC9iO2FbMl09LWUvYjthWzNdPWMvYjthWzRdPShlKmgtZipnKS9iO2FbNV09LShjKmgtZCpnKS9iO3JldHVybiBhfTtmdW5jdGlvbiBnZigpe1ZjLmNhbGwodGhpcyk7dGhpcy5zPURhKCk7dGhpcy52PS0xO3RoaXMuaT17fTt0aGlzLmw9dGhpcy5mPTA7dGhpcy5PPVdlKCl9dyhnZixWYyk7az1nZi5wcm90b3R5cGU7ay5JYj1mdW5jdGlvbihhLGIpe2I9Yj9iOltOYU4sTmFOXTt0aGlzLk5iKGFbMF0sYVsxXSxiLEluZmluaXR5KTtyZXR1cm4gYn07ay5CYj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5aYyhhWzBdLGFbMV0pfTtrLlpjPVNlO2suRz1mdW5jdGlvbihhKXt0aGlzLnYhPXRoaXMuZyYmKHRoaXMucz10aGlzLkFlKHRoaXMucyksdGhpcy52PXRoaXMuZyk7dmFyIGI9dGhpcy5zO2E/KGFbMF09YlswXSxhWzFdPWJbMV0sYVsyXT1iWzJdLGFbM109YlszXSk6YT1iO3JldHVybiBhfTtrLlNiPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLldkKGEqYSl9O1xuay5tYj1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuTzthPU9iKGEpO3ZhciBkPVwidGlsZS1waXhlbHNcIj09YS5hP2Z1bmN0aW9uKGQsZixnKXt2YXIgZT1hLkcoKSxsPWEub2U7ZT1kYihsKS9kYihlKTtlZihjLGxbMF0sbFszXSxlLC1lLDAsMCwwKTtUZShkLDAsZC5sZW5ndGgsZyxjLGYpO3JldHVybiBZYihhLGIpKGQsZixnKX06WWIoYSxiKTt0aGlzLlJjKGQpO3JldHVybiB0aGlzfTtmdW5jdGlvbiBoZigpe2dmLmNhbGwodGhpcyk7dGhpcy5qYT1cIlhZXCI7dGhpcy5hPTI7dGhpcy5BPW51bGx9dyhoZixnZik7ZnVuY3Rpb24gamYoYSl7dmFyIGI7XCJYWVwiPT1hP2I9MjpcIlhZWlwiPT1hfHxcIlhZTVwiPT1hP2I9MzpcIlhZWk1cIj09YSYmKGI9NCk7cmV0dXJuIGJ9az1oZi5wcm90b3R5cGU7ay5aYz1TZTtrLkFlPWZ1bmN0aW9uKGEpe3JldHVybiBRYSh0aGlzLkEsMCx0aGlzLkEubGVuZ3RoLHRoaXMuYSxhKX07ay5mYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkEuc2xpY2UoMCx0aGlzLmEpfTtrLmRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQX07ay5nYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkEuc2xpY2UodGhpcy5BLmxlbmd0aC10aGlzLmEpfTtrLmljPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuamF9O1xuay5XZD1mdW5jdGlvbihhKXt0aGlzLmwhPXRoaXMuZyYmKGxiKHRoaXMuaSksdGhpcy5mPTAsdGhpcy5sPXRoaXMuZyk7aWYoMD5hfHwwIT09dGhpcy5mJiZhPD10aGlzLmYpcmV0dXJuIHRoaXM7dmFyIGI9YS50b1N0cmluZygpO2lmKHRoaXMuaS5oYXNPd25Qcm9wZXJ0eShiKSlyZXR1cm4gdGhpcy5pW2JdO3ZhciBjPXRoaXMueGQoYSk7aWYoYy5kYSgpLmxlbmd0aDx0aGlzLkEubGVuZ3RoKXJldHVybiB0aGlzLmlbYl09Yzt0aGlzLmY9YTtyZXR1cm4gdGhpc307ay54ZD1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtrLnBhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07ZnVuY3Rpb24ga2YoYSxiLGMpe2EuYT1qZihiKTthLmphPWI7YS5BPWN9XG5mdW5jdGlvbiBsZihhLGIsYyxkKXtpZihiKWM9amYoYik7ZWxzZXtmb3IoYj0wO2I8ZDsrK2Ipe2lmKDA9PT1jLmxlbmd0aCl7YS5qYT1cIlhZXCI7YS5hPTI7cmV0dXJufWM9Y1swXX1jPWMubGVuZ3RoO3ZhciBlOzI9PWM/ZT1cIlhZXCI6Mz09Yz9lPVwiWFlaXCI6ND09YyYmKGU9XCJYWVpNXCIpO2I9ZX1hLmphPWI7YS5hPWN9ay5SYz1mdW5jdGlvbihhKXt0aGlzLkEmJihhKHRoaXMuQSx0aGlzLkEsdGhpcy5hKSx0aGlzLnUoKSl9O1xuay5yb3RhdGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmRhKCk7aWYoYyl7dmFyIGQ9Yy5sZW5ndGgsZT10aGlzLnBhKCksZj1jP2M6W10sZz1NYXRoLmNvcyhhKTthPU1hdGguc2luKGEpO3ZhciBoPWJbMF07Yj1iWzFdO2Zvcih2YXIgbD0wLG09MDttPGQ7bSs9ZSl7dmFyIG49Y1ttXS1oLHA9Y1ttKzFdLWI7ZltsKytdPWgrbipnLXAqYTtmW2wrK109YituKmErcCpnO2ZvcihuPW0rMjtuPG0rZTsrK24pZltsKytdPWNbbl19YyYmZi5sZW5ndGghPWwmJihmLmxlbmd0aD1sKTt0aGlzLnUoKX19O1xuay5zY2FsZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Yjt2b2lkIDA9PT1kJiYoZD1hKTt2YXIgZT1jO2V8fChlPWViKHRoaXMuRygpKSk7aWYoYz10aGlzLmRhKCkpe2I9Yy5sZW5ndGg7dmFyIGY9dGhpcy5wYSgpLGc9Yz9jOltdLGg9ZVswXTtlPWVbMV07Zm9yKHZhciBsPTAsbT0wO208YjttKz1mKXt2YXIgbj1jW21dLWgscD1jW20rMV0tZTtnW2wrK109aCthKm47Z1tsKytdPWUrZCpwO2ZvcihuPW0rMjtuPG0rZjsrK24pZ1tsKytdPWNbbl19YyYmZy5sZW5ndGghPWwmJihnLmxlbmd0aD1sKTt0aGlzLnUoKX19O2sudHJhbnNsYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5kYSgpO2MmJihVZShjLDAsYy5sZW5ndGgsdGhpcy5wYSgpLGEsYixjKSx0aGlzLnUoKSl9O2Z1bmN0aW9uIG1mKGEsYixjLGQpe2Zvcih2YXIgZT0wLGY9YVtjLWRdLGc9YVtjLWQrMV07YjxjO2IrPWQpe3ZhciBoPWFbYl0sbD1hW2IrMV07ZSs9ZypoLWYqbDtmPWg7Zz1sfXJldHVybiBlLzJ9ZnVuY3Rpb24gbmYoYSxiLGMsZCl7dmFyIGU9MCxmO3ZhciBnPTA7Zm9yKGY9Yy5sZW5ndGg7ZzxmOysrZyl7dmFyIGg9Y1tnXTtlKz1tZihhLGIsaCxkKTtiPWh9cmV0dXJuIGV9O2Z1bmN0aW9uIG9mKGEsYixjLGQsZSxmLGcpe3ZhciBoPWFbYl0sbD1hW2IrMV0sbT1hW2NdLWgsbj1hW2MrMV0tbDtpZigwIT09bXx8MCE9PW4paWYoZj0oKGUtaCkqbSsoZi1sKSpuKS8obSptK24qbiksMTxmKWI9YztlbHNlIGlmKDA8Zil7Zm9yKGU9MDtlPGQ7KytlKWdbZV09eWEoYVtiK2VdLGFbYytlXSxmKTtnLmxlbmd0aD1kO3JldHVybn1mb3IoZT0wO2U8ZDsrK2UpZ1tlXT1hW2IrZV07Zy5sZW5ndGg9ZH1mdW5jdGlvbiBwZihhLGIsYyxkLGUpe3ZhciBmPWFbYl0sZz1hW2IrMV07Zm9yKGIrPWQ7YjxjO2IrPWQpe3ZhciBoPWFbYl0sbD1hW2IrMV07Zj11YShmLGcsaCxsKTtmPmUmJihlPWYpO2Y9aDtnPWx9cmV0dXJuIGV9ZnVuY3Rpb24gcWYoYSxiLGMsZCxlKXt2YXIgZjt2YXIgZz0wO2ZvcihmPWMubGVuZ3RoO2c8ZjsrK2cpe3ZhciBoPWNbZ107ZT1wZihhLGIsaCxkLGUpO2I9aH1yZXR1cm4gZX1cbmZ1bmN0aW9uIHRmKGEsYixjLGQsZSxmLGcsaCxsLG0sbil7aWYoYj09YylyZXR1cm4gbTtpZigwPT09ZSl7dmFyIHA9dWEoZyxoLGFbYl0sYVtiKzFdKTtpZihwPG0pe2ZvcihuPTA7bjxkOysrbilsW25dPWFbYituXTtsLmxlbmd0aD1kO3JldHVybiBwfXJldHVybiBtfWZvcih2YXIgcT1uP246W05hTixOYU5dLHI9YitkO3I8YzspaWYob2YoYSxyLWQscixkLGcsaCxxKSxwPXVhKGcsaCxxWzBdLHFbMV0pLHA8bSl7bT1wO2ZvcihuPTA7bjxkOysrbilsW25dPXFbbl07bC5sZW5ndGg9ZDtyKz1kfWVsc2Ugcis9ZCpNYXRoLm1heCgoTWF0aC5zcXJ0KHApLU1hdGguc3FydChtKSkvZXwwLDEpO2lmKGYmJihvZihhLGMtZCxiLGQsZyxoLHEpLHA9dWEoZyxoLHFbMF0scVsxXSkscDxtKSl7bT1wO2ZvcihuPTA7bjxkOysrbilsW25dPXFbbl07bC5sZW5ndGg9ZH1yZXR1cm4gbX1cbmZ1bmN0aW9uIHVmKGEsYixjLGQsZSxmLGcsaCxsLG0sbil7bj1uP246W05hTixOYU5dO3ZhciBwO3ZhciBxPTA7Zm9yKHA9Yy5sZW5ndGg7cTxwOysrcSl7dmFyIHI9Y1txXTttPXRmKGEsYixyLGQsZSxmLGcsaCxsLG0sbik7Yj1yfXJldHVybiBtfTtmdW5jdGlvbiB2ZihhLGIpe3ZhciBjPTAsZDt2YXIgZT0wO2ZvcihkPWIubGVuZ3RoO2U8ZDsrK2UpYVtjKytdPWJbZV07cmV0dXJuIGN9ZnVuY3Rpb24gd2YoYSxiLGMsZCl7dmFyIGU7dmFyIGY9MDtmb3IoZT1jLmxlbmd0aDtmPGU7KytmKXt2YXIgZz1jW2ZdLGg7Zm9yKGg9MDtoPGQ7KytoKWFbYisrXT1nW2hdfXJldHVybiBifWZ1bmN0aW9uIHhmKGEsYixjLGQsZSl7ZT1lP2U6W107dmFyIGY9MCxnO3ZhciBoPTA7Zm9yKGc9Yy5sZW5ndGg7aDxnOysraCliPXdmKGEsYixjW2hdLGQpLGVbZisrXT1iO2UubGVuZ3RoPWY7cmV0dXJuIGV9O2Z1bmN0aW9uIHlmKGEsYixjLGQsZSl7ZT12b2lkIDAhPT1lP2U6W107Zm9yKHZhciBmPTA7YjxjO2IrPWQpZVtmKytdPWEuc2xpY2UoYixiK2QpO2UubGVuZ3RoPWY7cmV0dXJuIGV9ZnVuY3Rpb24gemYoYSxiLGMsZCxlKXtlPXZvaWQgMCE9PWU/ZTpbXTt2YXIgZj0wLGc7dmFyIGg9MDtmb3IoZz1jLmxlbmd0aDtoPGc7KytoKXt2YXIgbD1jW2hdO2VbZisrXT15ZihhLGIsbCxkLGVbZl0pO2I9bH1lLmxlbmd0aD1mO3JldHVybiBlfWZ1bmN0aW9uIEFmKGEsYixjLGQsZSl7ZT12b2lkIDAhPT1lP2U6W107dmFyIGY9MCxnO3ZhciBoPTA7Zm9yKGc9Yy5sZW5ndGg7aDxnOysraCl7dmFyIGw9Y1toXTtlW2YrK109emYoYSxiLGwsZCxlW2ZdKTtiPWxbbC5sZW5ndGgtMV19ZS5sZW5ndGg9ZjtyZXR1cm4gZX07ZnVuY3Rpb24gQmYoYSxiLGMsZCxlLGYsZyl7dmFyIGg9KGMtYikvZDtpZigzPmgpe2Zvcig7YjxjO2IrPWQpZltnKytdPWFbYl0sZltnKytdPWFbYisxXTtyZXR1cm4gZ312YXIgbD1BcnJheShoKTtsWzBdPTE7bFtoLTFdPTE7Yz1bYixjLWRdO2Zvcih2YXIgbT0wLG47MDxjLmxlbmd0aDspe3ZhciBwPWMucG9wKCkscT1jLnBvcCgpLHI9MCx1PWFbcV0sdj1hW3ErMV0sej1hW3BdLEE9YVtwKzFdO2ZvcihuPXErZDtuPHA7bis9ZCl7dmFyIEU9c2EoYVtuXSxhW24rMV0sdSx2LHosQSk7RT5yJiYobT1uLHI9RSl9cj5lJiYobFsobS1iKS9kXT0xLHErZDxtJiZjLnB1c2gocSxtKSxtK2Q8cCYmYy5wdXNoKG0scCkpfWZvcihuPTA7bjxoOysrbilsW25dJiYoZltnKytdPWFbYituKmRdLGZbZysrXT1hW2IrbipkKzFdKTtyZXR1cm4gZ31cbmZ1bmN0aW9uIENmKGEsYixjLGQsZSxmLGcsaCl7dmFyIGw7dmFyIG09MDtmb3IobD1jLmxlbmd0aDttPGw7KyttKXt2YXIgbj1jW21dO2E6e3ZhciBwPWEscT1uLHI9ZCx1PWUsdj1mLHo9ZztpZihiIT1xKXt2YXIgQT11Kk1hdGgucm91bmQocFtiXS91KSxFPXUqTWF0aC5yb3VuZChwW2IrMV0vdSk7Yis9cjt2W3orK109QTt2W3orK109RTtkb3t2YXIgUz11Kk1hdGgucm91bmQocFtiXS91KTtnPXUqTWF0aC5yb3VuZChwW2IrMV0vdSk7Yis9cjtpZihiPT1xKXt2W3orK109Uzt2W3orK109ZztnPXo7YnJlYWsgYX19d2hpbGUoUz09QSYmZz09RSk7Zm9yKDtiPHE7KXt2YXIgSWE9dSpNYXRoLnJvdW5kKHBbYl0vdSk7dmFyIHRhPXUqTWF0aC5yb3VuZChwW2IrMV0vdSk7Yis9cjtpZihJYSE9U3x8dGEhPWcpe3ZhciBsYT1TLUEsY2E9Zy1FLGlhPUlhLUEseGE9dGEtRTtsYSp4YT09Y2EqaWEmJigwPmxhJiZpYTxsYXx8bGE9PWlhfHwwPGxhJiZpYT5sYSkmJigwPmNhJiZ4YTxjYXx8Y2E9PVxueGF8fDA8Y2EmJnhhPmNhKXx8KHZbeisrXT1TLHZbeisrXT1nLEE9UyxFPWcpO1M9SWE7Zz10YX19dlt6KytdPVM7dlt6KytdPWd9Zz16fWgucHVzaChnKTtiPW59cmV0dXJuIGd9O2Z1bmN0aW9uIERmKGEsYil7aGYuY2FsbCh0aGlzKTt0aGlzLmM9dGhpcy5qPS0xO3RoaXMubmEoYSxiKX13KERmLGhmKTtrPURmLnByb3RvdHlwZTtrLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IERmKG51bGwpO0VmKGEsdGhpcy5qYSx0aGlzLkEuc2xpY2UoKSk7cmV0dXJuIGF9O2suTmI9ZnVuY3Rpb24oYSxiLGMsZCl7aWYoZDxIYSh0aGlzLkcoKSxhLGIpKXJldHVybiBkO3RoaXMuYyE9dGhpcy5nJiYodGhpcy5qPU1hdGguc3FydChwZih0aGlzLkEsMCx0aGlzLkEubGVuZ3RoLHRoaXMuYSwwKSksdGhpcy5jPXRoaXMuZyk7cmV0dXJuIHRmKHRoaXMuQSwwLHRoaXMuQS5sZW5ndGgsdGhpcy5hLHRoaXMuaiwhMCxhLGIsYyxkKX07ay5Wbj1mdW5jdGlvbigpe3JldHVybiBtZih0aGlzLkEsMCx0aGlzLkEubGVuZ3RoLHRoaXMuYSl9O2suVz1mdW5jdGlvbigpe3JldHVybiB5Zih0aGlzLkEsMCx0aGlzLkEubGVuZ3RoLHRoaXMuYSl9O1xuay54ZD1mdW5jdGlvbihhKXt2YXIgYj1bXTtiLmxlbmd0aD1CZih0aGlzLkEsMCx0aGlzLkEubGVuZ3RoLHRoaXMuYSxhLGIsMCk7YT1uZXcgRGYobnVsbCk7RWYoYSxcIlhZXCIsYik7cmV0dXJuIGF9O2suUz1mdW5jdGlvbigpe3JldHVyblwiTGluZWFyUmluZ1wifTtrLiRhPWZ1bmN0aW9uKCl7fTtrLm5hPWZ1bmN0aW9uKGEsYil7YT8obGYodGhpcyxiLGEsMSksdGhpcy5BfHwodGhpcy5BPVtdKSx0aGlzLkEubGVuZ3RoPXdmKHRoaXMuQSwwLGEsdGhpcy5hKSx0aGlzLnUoKSk6RWYodGhpcyxcIlhZXCIsbnVsbCl9O2Z1bmN0aW9uIEVmKGEsYixjKXtrZihhLGIsYyk7YS51KCl9O2Z1bmN0aW9uIEMoYSxiKXtoZi5jYWxsKHRoaXMpO3RoaXMubmEoYSxiKX13KEMsaGYpO2s9Qy5wcm90b3R5cGU7ay5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBDKG51bGwpO2EuYmEodGhpcy5qYSx0aGlzLkEuc2xpY2UoKSk7cmV0dXJuIGF9O2suTmI9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5BO2E9dWEoYSxiLGVbMF0sZVsxXSk7aWYoYTxkKXtkPXRoaXMuYTtmb3IoYj0wO2I8ZDsrK2IpY1tiXT1lW2JdO2MubGVuZ3RoPWQ7cmV0dXJuIGF9cmV0dXJuIGR9O2suVz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkE/dGhpcy5BLnNsaWNlKCk6W119O2suQWU9ZnVuY3Rpb24oYSl7cmV0dXJuIFBhKHRoaXMuQSxhKX07ay5TPWZ1bmN0aW9uKCl7cmV0dXJuXCJQb2ludFwifTtrLiRhPWZ1bmN0aW9uKGEpe3JldHVybiBLYShhLHRoaXMuQVswXSx0aGlzLkFbMV0pfTtcbmsubmE9ZnVuY3Rpb24oYSxiKXthPyhsZih0aGlzLGIsYSwwKSx0aGlzLkF8fCh0aGlzLkE9W10pLHRoaXMuQS5sZW5ndGg9dmYodGhpcy5BLGEpLHRoaXMudSgpKTp0aGlzLmJhKFwiWFlcIixudWxsKX07ay5iYT1mdW5jdGlvbihhLGIpe2tmKHRoaXMsYSxiKTt0aGlzLnUoKX07ZnVuY3Rpb24gRmYoYSxiLGMsZCxlKXtyZXR1cm4hVWEoZSxmdW5jdGlvbihlKXtyZXR1cm4hR2YoYSxiLGMsZCxlWzBdLGVbMV0pfSl9ZnVuY3Rpb24gR2YoYSxiLGMsZCxlLGYpe2Zvcih2YXIgZz0wLGg9YVtjLWRdLGw9YVtjLWQrMV07YjxjO2IrPWQpe3ZhciBtPWFbYl0sbj1hW2IrMV07bDw9Zj9uPmYmJjA8KG0taCkqKGYtbCktKGUtaCkqKG4tbCkmJmcrKzpuPD1mJiYwPihtLWgpKihmLWwpLShlLWgpKihuLWwpJiZnLS07aD1tO2w9bn1yZXR1cm4gMCE9PWd9ZnVuY3Rpb24gSGYoYSxiLGMsZCxlLGYpe2lmKDA9PT1jLmxlbmd0aHx8IUdmKGEsYixjWzBdLGQsZSxmKSlyZXR1cm4hMTt2YXIgZztiPTE7Zm9yKGc9Yy5sZW5ndGg7YjxnOysrYilpZihHZihhLGNbYi0xXSxjW2JdLGQsZSxmKSlyZXR1cm4hMTtyZXR1cm4hMH07ZnVuY3Rpb24gSWYoYSxiLGMsZCxlLGYsZyl7Zm9yKHZhciBoLGwsbSxuLHAscT1lW2YrMV0scj1bXSx1PTAsdj1jLmxlbmd0aDt1PHY7Kyt1KXt2YXIgej1jW3VdO209YVt6LWRdO3A9YVt6LWQrMV07Zm9yKGg9YjtoPHo7aCs9ZCl7bj1hW2hdO2w9YVtoKzFdO2lmKHE8PXAmJmw8PXF8fHA8PXEmJnE8PWwpbT0ocS1wKS8obC1wKSoobi1tKSttLHIucHVzaChtKTttPW47cD1sfX11PU5hTjt2PS1JbmZpbml0eTtyLnNvcnQoZGMpO209clswXTtoPTE7Zm9yKGw9ci5sZW5ndGg7aDxsOysraCluPXJbaF0sej1NYXRoLmFicyhuLW0pLHo+diYmKG09KG0rbikvMixIZihhLGIsYyxkLG0scSkmJih1PW0sdj16KSksbT1uO2lzTmFOKHUpJiYodT1lW2ZdKTtyZXR1cm4gZz8oZy5wdXNoKHUscSx2KSxnKTpbdSxxLHZdfTtmdW5jdGlvbiBKZihhLGIsYyxkLGUsZil7Zm9yKHZhciBnPVthW2JdLGFbYisxXV0saD1bXSxsO2IrZDxjO2IrPWQpe2hbMF09YVtiK2RdO2hbMV09YVtiK2QrMV07aWYobD1lLmNhbGwoZixnLGgpKXJldHVybiBsO2dbMF09aFswXTtnWzFdPWhbMV19cmV0dXJuITF9O2Z1bmN0aW9uIEtmKGEsYixjLGQsZSl7dmFyIGY9UmEoRGEoKSxhLGIsYyxkKTtyZXR1cm4gaGIoZSxmKT9MYShlLGYpfHxmWzBdPj1lWzBdJiZmWzJdPD1lWzJdfHxmWzFdPj1lWzFdJiZmWzNdPD1lWzNdPyEwOkpmKGEsYixjLGQsZnVuY3Rpb24oYSxiKXt2YXIgYz0hMSxkPU1hKGUsYSksZj1NYShlLGIpO2lmKDE9PT1kfHwxPT09ZiljPSEwO2Vsc2V7dmFyIGc9ZVswXSxoPWVbMV0scj1lWzJdLHU9ZVszXSx2PWJbMF07Yj1iWzFdO2E9KGItYVsxXSkvKHYtYVswXSk7ZiYyJiYhKGQmMikmJihjPXYtKGItdSkvYSxjPWM+PWcmJmM8PXIpO2N8fCEoZiY0KXx8ZCY0fHwoYz1iLSh2LXIpKmEsYz1jPj1oJiZjPD11KTtjfHwhKGYmOCl8fGQmOHx8KGM9di0oYi1oKS9hLGM9Yz49ZyYmYzw9cik7Y3x8IShmJjE2KXx8ZCYxNnx8KGM9Yi0odi1nKSphLGM9Yz49aCYmYzw9dSl9cmV0dXJuIGN9KTohMX1cbmZ1bmN0aW9uIExmKGEsYixjLGQsZSl7dmFyIGY9Y1swXTtpZighKEtmKGEsYixmLGQsZSl8fEdmKGEsYixmLGQsZVswXSxlWzFdKXx8R2YoYSxiLGYsZCxlWzBdLGVbM10pfHxHZihhLGIsZixkLGVbMl0sZVsxXSl8fEdmKGEsYixmLGQsZVsyXSxlWzNdKSkpcmV0dXJuITE7aWYoMT09PWMubGVuZ3RoKXJldHVybiEwO2I9MTtmb3IoZj1jLmxlbmd0aDtiPGY7KytiKWlmKEZmKGEsY1tiLTFdLGNbYl0sZCxlKSlyZXR1cm4hMTtyZXR1cm4hMH07ZnVuY3Rpb24gTWYoYSxiLGMsZCl7Zm9yKHZhciBlPTAsZj1hW2MtZF0sZz1hW2MtZCsxXTtiPGM7Yis9ZCl7dmFyIGg9YVtiXSxsPWFbYisxXTtlKz0oaC1mKSoobCtnKTtmPWg7Zz1sfXJldHVybiAwPGV9ZnVuY3Rpb24gTmYoYSxiLGMsZCl7dmFyIGU9MDtkPXZvaWQgMCE9PWQ/ZDohMTt2YXIgZjt2YXIgZz0wO2ZvcihmPWIubGVuZ3RoO2c8ZjsrK2cpe3ZhciBoPWJbZ107ZT1NZihhLGUsaCxjKTtpZigwPT09Zyl7aWYoZCYmZXx8IWQmJiFlKXJldHVybiExfWVsc2UgaWYoZCYmIWV8fCFkJiZlKXJldHVybiExO2U9aH1yZXR1cm4hMH1cbmZ1bmN0aW9uIE9mKGEsYixjLGQsZSl7ZT12b2lkIDAhPT1lP2U6ITE7dmFyIGY7dmFyIGc9MDtmb3IoZj1jLmxlbmd0aDtnPGY7KytnKXt2YXIgaD1jW2ddLGw9TWYoYSxiLGgsZCk7aWYoMD09PWc/ZSYmbHx8IWUmJiFsOmUmJiFsfHwhZSYmbCl7bD1hO2Zvcih2YXIgbT1oLG49ZDtiPG0tbjspe3ZhciBwO2ZvcihwPTA7cDxuOysrcCl7dmFyIHE9bFtiK3BdO2xbYitwXT1sW20tbitwXTtsW20tbitwXT1xfWIrPW47bS09bn19Yj1ofXJldHVybiBifWZ1bmN0aW9uIFBmKGEsYixjLGQpe3ZhciBlPTAsZjt2YXIgZz0wO2ZvcihmPWIubGVuZ3RoO2c8ZjsrK2cpZT1PZihhLGUsYltnXSxjLGQpO3JldHVybiBlfTtmdW5jdGlvbiBEKGEsYil7aGYuY2FsbCh0aGlzKTt0aGlzLmM9W107dGhpcy5vPS0xO3RoaXMuRD1udWxsO3RoaXMuVD10aGlzLkM9dGhpcy5CPS0xO3RoaXMuaj1udWxsO3RoaXMubmEoYSxiKX13KEQsaGYpO2s9RC5wcm90b3R5cGU7ay5Iaz1mdW5jdGlvbihhKXt0aGlzLkE/Z2ModGhpcy5BLGEuZGEoKSk6dGhpcy5BPWEuZGEoKS5zbGljZSgpO3RoaXMuYy5wdXNoKHRoaXMuQS5sZW5ndGgpO3RoaXMudSgpfTtrLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IEQobnVsbCk7YS5iYSh0aGlzLmphLHRoaXMuQS5zbGljZSgpLHRoaXMuYy5zbGljZSgpKTtyZXR1cm4gYX07XG5rLk5iPWZ1bmN0aW9uKGEsYixjLGQpe2lmKGQ8SGEodGhpcy5HKCksYSxiKSlyZXR1cm4gZDt0aGlzLkMhPXRoaXMuZyYmKHRoaXMuQj1NYXRoLnNxcnQocWYodGhpcy5BLDAsdGhpcy5jLHRoaXMuYSwwKSksdGhpcy5DPXRoaXMuZyk7cmV0dXJuIHVmKHRoaXMuQSwwLHRoaXMuYyx0aGlzLmEsdGhpcy5CLCEwLGEsYixjLGQpfTtrLlpjPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEhmKHRoaXMuWGIoKSwwLHRoaXMuYyx0aGlzLmEsYSxiKX07ay5Zbj1mdW5jdGlvbigpe3JldHVybiBuZih0aGlzLlhiKCksMCx0aGlzLmMsdGhpcy5hKX07ay5XPWZ1bmN0aW9uKGEpe2lmKHZvaWQgMCE9PWEpe3ZhciBiPXRoaXMuWGIoKS5zbGljZSgpO09mKGIsMCx0aGlzLmMsdGhpcy5hLGEpfWVsc2UgYj10aGlzLkE7cmV0dXJuIHpmKGIsMCx0aGlzLmMsdGhpcy5hKX07ay5wYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O1xuay5UZD1mdW5jdGlvbigpe2lmKHRoaXMubyE9dGhpcy5nKXt2YXIgYT1lYih0aGlzLkcoKSk7dGhpcy5EPUlmKHRoaXMuWGIoKSwwLHRoaXMuYyx0aGlzLmEsYSwwKTt0aGlzLm89dGhpcy5nfXJldHVybiB0aGlzLkR9O2sudGw9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEModGhpcy5UZCgpLFwiWFlNXCIpfTtrLnpsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy5sZW5ndGh9O2suV2g9ZnVuY3Rpb24oYSl7aWYoMD5hfHx0aGlzLmMubGVuZ3RoPD1hKXJldHVybiBudWxsO3ZhciBiPW5ldyBEZihudWxsKTtFZihiLHRoaXMuamEsdGhpcy5BLnNsaWNlKDA9PT1hPzA6dGhpcy5jW2EtMV0sdGhpcy5jW2FdKSk7cmV0dXJuIGJ9O2suVWQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmphLGI9dGhpcy5BLGM9dGhpcy5jLGQ9W10sZT0wLGY7dmFyIGc9MDtmb3IoZj1jLmxlbmd0aDtnPGY7KytnKXt2YXIgaD1jW2ddLGw9bmV3IERmKG51bGwpO0VmKGwsYSxiLnNsaWNlKGUsaCkpO2QucHVzaChsKTtlPWh9cmV0dXJuIGR9O1xuay5YYj1mdW5jdGlvbigpe2lmKHRoaXMuVCE9dGhpcy5nKXt2YXIgYT10aGlzLkE7TmYoYSx0aGlzLmMsdGhpcy5hKT90aGlzLmo9YToodGhpcy5qPWEuc2xpY2UoKSx0aGlzLmoubGVuZ3RoPU9mKHRoaXMuaiwwLHRoaXMuYyx0aGlzLmEpKTt0aGlzLlQ9dGhpcy5nfXJldHVybiB0aGlzLmp9O2sueGQ9ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz1bXTtiLmxlbmd0aD1DZih0aGlzLkEsMCx0aGlzLmMsdGhpcy5hLE1hdGguc3FydChhKSxiLDAsYyk7YT1uZXcgRChudWxsKTthLmJhKFwiWFlcIixiLGMpO3JldHVybiBhfTtrLlM9ZnVuY3Rpb24oKXtyZXR1cm5cIlBvbHlnb25cIn07ay4kYT1mdW5jdGlvbihhKXtyZXR1cm4gTGYodGhpcy5YYigpLDAsdGhpcy5jLHRoaXMuYSxhKX07XG5rLm5hPWZ1bmN0aW9uKGEsYil7YT8obGYodGhpcyxiLGEsMiksdGhpcy5BfHwodGhpcy5BPVtdKSxhPXhmKHRoaXMuQSwwLGEsdGhpcy5hLHRoaXMuYyksdGhpcy5BLmxlbmd0aD0wPT09YS5sZW5ndGg/MDphW2EubGVuZ3RoLTFdLHRoaXMudSgpKTp0aGlzLmJhKFwiWFlcIixudWxsLHRoaXMuYyl9O2suYmE9ZnVuY3Rpb24oYSxiLGMpe2tmKHRoaXMsYSxiKTt0aGlzLmM9Yzt0aGlzLnUoKX07ZnVuY3Rpb24gUWYoYSxiLGMsZCl7dmFyIGU9ZD9kOjMyO2Q9W107dmFyIGY7Zm9yKGY9MDtmPGU7KytmKWdjKGQsYS5vZmZzZXQoYixjLDIqTWF0aC5QSSpmL2UpKTtkLnB1c2goZFswXSxkWzFdKTthPW5ldyBEKG51bGwpO2EuYmEoXCJYWVwiLGQsW2QubGVuZ3RoXSk7cmV0dXJuIGF9ZnVuY3Rpb24gUmYoYSl7dmFyIGI9YVswXSxjPWFbMV0sZD1hWzJdO2E9YVszXTtiPVtiLGMsYixhLGQsYSxkLGMsYixjXTtjPW5ldyBEKG51bGwpO2MuYmEoXCJYWVwiLGIsW2IubGVuZ3RoXSk7cmV0dXJuIGN9XG5mdW5jdGlvbiBTZihhLGIsYyl7dmFyIGQ9Yj9iOjMyLGU9YS5wYSgpO2I9YS5qYTt2YXIgZj1uZXcgRChudWxsLGIpO2Q9ZSooZCsxKTtlPUFycmF5KGQpO2Zvcih2YXIgZz0wO2c8ZDtnKyspZVtnXT0wO2YuYmEoYixlLFtlLmxlbmd0aF0pO1RmKGYsYS54YSgpLGEuQmQoKSxjKTtyZXR1cm4gZn1mdW5jdGlvbiBUZihhLGIsYyxkKXt2YXIgZT1hLmRhKCksZj1hLmphLGc9YS5wYSgpLGg9YS5wYigpLGw9ZS5sZW5ndGgvZy0xO2Q9ZD9kOjA7Zm9yKHZhciBtLG4scD0wO3A8PWw7KytwKW49cCpnLG09ZCsyKndhKHAsbCkqTWF0aC5QSS9sLGVbbl09YlswXStjKk1hdGguY29zKG0pLGVbbisxXT1iWzFdK2MqTWF0aC5zaW4obSk7YS5iYShmLGUsaCl9O2Z1bmN0aW9uIEYoYSl7VmMuY2FsbCh0aGlzKTthPWtiKHt9LGEpO3RoaXMuZj1bMCwwXTt0aGlzLmM9W107dGhpcy5GZj10aGlzLkZmLmJpbmQodGhpcyk7dGhpcy52PVViKGEucHJvamVjdGlvbik7VmYodGhpcyxhKX13KEYsVmMpO1xuZnVuY3Rpb24gVmYoYSxiKXt2YXIgYz17fTtjLmNlbnRlcj12b2lkIDAhPT1iLmNlbnRlcj9iLmNlbnRlcjpudWxsO3ZhciBkPXZvaWQgMCE9PWIubWluWm9vbT9iLm1pblpvb206MDt2YXIgZT12b2lkIDAhPT1iLm1heFpvb20/Yi5tYXhab29tOjI4O3ZhciBmPXZvaWQgMCE9PWIuem9vbUZhY3Rvcj9iLnpvb21GYWN0b3I6MjtpZih2b2lkIDAhPT1iLnJlc29sdXRpb25zKXt2YXIgZz1iLnJlc29sdXRpb25zO3ZhciBoPWdbZF07dmFyIGw9dm9pZCAwIT09Z1tlXT9nW2VdOmdbZy5sZW5ndGgtMV07ZT1wZShnKX1lbHNle2g9VWIoYi5wcm9qZWN0aW9uKTtsPWguRygpO2c9KGw/TWF0aC5tYXgoY2IobCksZGIobCkpOjM2MCp1Yi5kZWdyZWVzL2guQmMoKSkvMjU2L01hdGgucG93KDIsMCk7dmFyIG09Zy9NYXRoLnBvdygyLDI4KTtoPWIubWF4UmVzb2x1dGlvbjt2b2lkIDAhPT1oP2Q9MDpoPWcvTWF0aC5wb3coZixkKTtsPWIubWluUmVzb2x1dGlvbjt2b2lkIDA9PT1sJiYobD12b2lkIDAhPT1cbmIubWF4Wm9vbT92b2lkIDAhPT1iLm1heFJlc29sdXRpb24/aC9NYXRoLnBvdyhmLGUpOmcvTWF0aC5wb3coZixlKTptKTtlPWQrTWF0aC5mbG9vcihNYXRoLmxvZyhoL2wpL01hdGgubG9nKGYpKTtsPWgvTWF0aC5wb3coZixlLWQpO2U9cWUoZixoLGUtZCl9YS5hPWg7YS5pPWw7YS5EPWY7YS5qPWIucmVzb2x1dGlvbnM7YS5zPWQ7KHZvaWQgMCE9PWIuZW5hYmxlUm90YXRpb24/Yi5lbmFibGVSb3RhdGlvbjoxKT8oZD1iLmNvbnN0cmFpblJvdGF0aW9uLGQ9dm9pZCAwPT09ZHx8ITA9PT1kP3dlKCk6ITE9PT1kP3NlOlwibnVtYmVyXCI9PT10eXBlb2YgZD91ZShkKTpzZSk6ZD1yZTthLmw9e2NlbnRlcjp2b2lkIDAhPT1iLmV4dGVudD9uZShiLmV4dGVudCk6b2UscmVzb2x1dGlvbjplLHJvdGF0aW9uOmR9O3ZvaWQgMCE9PWIucmVzb2x1dGlvbj9jLnJlc29sdXRpb249Yi5yZXNvbHV0aW9uOnZvaWQgMCE9PWIuem9vbSYmKGMucmVzb2x1dGlvbj1hLmNvbnN0cmFpblJlc29sdXRpb24oYS5hLFxuYi56b29tLWEucyksYS5qJiYoYy5yZXNvbHV0aW9uPXBhKE51bWJlcihhLlBhKCl8fGMucmVzb2x1dGlvbiksYS5pLGEuYSkpKTtjLnJvdGF0aW9uPXZvaWQgMCE9PWIucm90YXRpb24/Yi5yb3RhdGlvbjowO2EuSChjKTthLkM9Yn1mdW5jdGlvbiAkZihhLGIpe3ZhciBjPWtiKHt9LGEuQyk7dm9pZCAwIT09Yy5yZXNvbHV0aW9uP2MucmVzb2x1dGlvbj1hLlBhKCk6Yy56b29tPWEubGcoKTtjLmNlbnRlcj1hLnhhKCk7Yy5yb3RhdGlvbj1hLlNhKCk7cmV0dXJuIGtiKHt9LGMsYil9az1GLnByb3RvdHlwZTtcbmsuYW5pbWF0ZT1mdW5jdGlvbihhKXt2YXIgYj1hcmd1bWVudHMubGVuZ3RoO2lmKDE8YiYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGFyZ3VtZW50c1tiLTFdKXt2YXIgYz1hcmd1bWVudHNbYi0xXTstLWJ9aWYoYWcodGhpcykpe2Zvcih2YXIgZD1EYXRlLm5vdygpLGU9dGhpcy54YSgpLnNsaWNlKCksZj10aGlzLlBhKCksZz10aGlzLlNhKCksaD1bXSxsPTA7bDxiOysrbCl7dmFyIG09YXJndW1lbnRzW2xdLG49e3N0YXJ0OmQsY29tcGxldGU6ITEsYW5jaG9yOm0uYW5jaG9yLGR1cmF0aW9uOnZvaWQgMCE9PW0uZHVyYXRpb24/bS5kdXJhdGlvbjoxRTMsZWFzaW5nOm0uZWFzaW5nfHxQZX07bS5jZW50ZXImJihuLmllPWUsbi5tZT1tLmNlbnRlcixlPW4ubWUpO3ZvaWQgMCE9PW0uem9vbT8obi5rZT1mLG4ua2Q9dGhpcy5jb25zdHJhaW5SZXNvbHV0aW9uKHRoaXMuYSxtLnpvb20tdGhpcy5zLDApLGY9bi5rZCk6bS5yZXNvbHV0aW9uJiYobi5rZT1mLG4ua2Q9bS5yZXNvbHV0aW9uLGY9XG5uLmtkKTt2b2lkIDAhPT1tLnJvdGF0aW9uJiYobi5EZj1nLG4ubmU9Zysod2EobS5yb3RhdGlvbi1nK01hdGguUEksMipNYXRoLlBJKS1NYXRoLlBJKSxnPW4ubmUpO24uY2FsbGJhY2s9YztuLmllJiZuLm1lJiYhRWUobi5pZSxuLm1lKXx8bi5rZSE9PW4ua2R8fG4uRGYhPT1uLm5lP2QrPW4uZHVyYXRpb246bi5jb21wbGV0ZT0hMDtoLnB1c2gobil9dGhpcy5jLnB1c2goaCk7YmcodGhpcywwLDEpO3RoaXMuRmYoKX1lbHNlIGI9YXJndW1lbnRzW2ItMV0sYi5jZW50ZXImJnRoaXMudWIoYi5jZW50ZXIpLHZvaWQgMCE9PWIuem9vbSYmdGhpcy5UaihiLnpvb20pLHZvaWQgMCE9PWIucm90YXRpb24mJnRoaXMuY2UoYi5yb3RhdGlvbiksYyYmYyghMCl9O2suQWM9ZnVuY3Rpb24oKXtyZXR1cm4gMDx0aGlzLmZbMF19O2suVmg9ZnVuY3Rpb24oKXtyZXR1cm4gMDx0aGlzLmZbMV19O1xuay5yZD1mdW5jdGlvbigpe2JnKHRoaXMsMCwtdGhpcy5mWzBdKTtmb3IodmFyIGE9MCxiPXRoaXMuYy5sZW5ndGg7YTxiOysrYSl7dmFyIGM9dGhpcy5jW2FdO2NbMF0uY2FsbGJhY2smJmNbMF0uY2FsbGJhY2soITEpfXRoaXMuYy5sZW5ndGg9MH07XG5rLkZmPWZ1bmN0aW9uKCl7dm9pZCAwIT09dGhpcy5vJiYoY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5vKSx0aGlzLm89dm9pZCAwKTtpZih0aGlzLkFjKCkpe2Zvcih2YXIgYT1EYXRlLm5vdygpLGI9ITEsYz10aGlzLmMubGVuZ3RoLTE7MDw9YzstLWMpe2Zvcih2YXIgZD10aGlzLmNbY10sZT0hMCxmPTAsZz1kLmxlbmd0aDtmPGc7KytmKXt2YXIgaD1kW2ZdO2lmKCFoLmNvbXBsZXRlKXtiPWEtaC5zdGFydDtiPTA8aC5kdXJhdGlvbj9iL2guZHVyYXRpb246MTsxPD1iPyhoLmNvbXBsZXRlPSEwLGI9MSk6ZT0hMTtiPWguZWFzaW5nKGIpO2lmKGguaWUpe3ZhciBsPWguaWVbMF0sbT1oLmllWzFdO3RoaXMuc2V0KFwiY2VudGVyXCIsW2wrYiooaC5tZVswXS1sKSxtK2IqKGgubWVbMV0tbSldKX1oLmtlJiZoLmtkJiYobD0xPT09Yj9oLmtkOmgua2UrYiooaC5rZC1oLmtlKSxoLmFuY2hvciYmdGhpcy5zZXQoXCJjZW50ZXJcIixjZyh0aGlzLGwsaC5hbmNob3IpKSx0aGlzLnNldChcInJlc29sdXRpb25cIixcbmwpKTt2b2lkIDAhPT1oLkRmJiZ2b2lkIDAhPT1oLm5lJiYoYj0xPT09Yj93YShoLm5lK01hdGguUEksMipNYXRoLlBJKS1NYXRoLlBJOmguRGYrYiooaC5uZS1oLkRmKSxoLmFuY2hvciYmdGhpcy5zZXQoXCJjZW50ZXJcIixkZyh0aGlzLGIsaC5hbmNob3IpKSx0aGlzLnNldChcInJvdGF0aW9uXCIsYikpO2I9ITA7aWYoIWguY29tcGxldGUpYnJlYWt9fWUmJih0aGlzLmNbY109bnVsbCxiZyh0aGlzLDAsLTEpLChkPWRbMF0uY2FsbGJhY2spJiZkKCEwKSl9dGhpcy5jPXRoaXMuYy5maWx0ZXIoQm9vbGVhbik7YiYmdm9pZCAwPT09dGhpcy5vJiYodGhpcy5vPXJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLkZmKSl9fTtmdW5jdGlvbiBkZyhhLGIsYyl7dmFyIGQ9YS54YSgpO2lmKHZvaWQgMCE9PWQpe3ZhciBlPVtkWzBdLWNbMF0sZFsxXS1jWzFdXTtGZShlLGItYS5TYSgpKTt6ZShlLGMpfXJldHVybiBlfVxuZnVuY3Rpb24gY2coYSxiLGMpe3ZhciBkLGU9YS54YSgpO2E9YS5QYSgpO3ZvaWQgMCE9PWUmJnZvaWQgMCE9PWEmJihkPVtjWzBdLWIqKGNbMF0tZVswXSkvYSxjWzFdLWIqKGNbMV0tZVsxXSkvYV0pO3JldHVybiBkfWZ1bmN0aW9uIGVnKGEpe3ZhciBiPVsxMDAsMTAwXTthPScub2wtdmlld3BvcnRbZGF0YS12aWV3PVwiJyt4KGEpKydcIl0nO2lmKGE9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhKSlhPWdldENvbXB1dGVkU3R5bGUoYSksYlswXT1wYXJzZUludChhLndpZHRoLDEwKSxiWzFdPXBhcnNlSW50KGEuaGVpZ2h0LDEwKTtyZXR1cm4gYn1rLlNjPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmwuY2VudGVyKGEpfTtrLmNvbnN0cmFpblJlc29sdXRpb249ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLmwucmVzb2x1dGlvbihhLGJ8fDAsY3x8MCl9O2suY29uc3RyYWluUm90YXRpb249ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5sLnJvdGF0aW9uKGEsYnx8MCl9O2sueGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJjZW50ZXJcIil9O1xuay5xZD1mdW5jdGlvbihhKXthPWF8fGVnKHRoaXMpO3ZhciBiPXRoaXMueGEoKTtvYShiLDEpO3ZhciBjPXRoaXMuUGEoKTtvYSh2b2lkIDAhPT1jLDIpO3ZhciBkPXRoaXMuU2EoKTtvYSh2b2lkIDAhPT1kLDMpO3JldHVybiBmYihiLGMsZCxhKX07ay5zbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2sudm49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtrLnRuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTWUodGhpcy5pKX07ay5DcT1mdW5jdGlvbihhKXtWZih0aGlzLCRmKHRoaXMse21heFpvb206YX0pKX07ay53bj1mdW5jdGlvbigpe3JldHVybiB0aGlzLk1lKHRoaXMuYSl9O2suRHE9ZnVuY3Rpb24oYSl7VmYodGhpcywkZih0aGlzLHttaW5ab29tOmF9KSl9O2sueG49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52fTtrLlBhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KFwicmVzb2x1dGlvblwiKX07ay55bj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmp9O1xuay5KZT1mdW5jdGlvbihhLGIpe2I9Ynx8ZWcodGhpcyk7cmV0dXJuIE1hdGgubWF4KGNiKGEpL2JbMF0sZGIoYSkvYlsxXSl9O2Z1bmN0aW9uIGZnKGEpe3ZhciBiPWEuYSxjPU1hdGgubG9nKGIvYS5pKS9NYXRoLmxvZygyKTtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGIvTWF0aC5wb3coMixhKmMpfX1rLlNhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KFwicm90YXRpb25cIil9O2Z1bmN0aW9uIGdnKGEpe3ZhciBiPWEuYSxjPU1hdGgubG9nKGIvYS5pKS9NYXRoLmxvZygyKTtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGgubG9nKGIvYSkvTWF0aC5sb2coMikvY319ay5nZXRTdGF0ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMueGEoKSxiPXRoaXMudixjPXRoaXMuUGEoKSxkPXRoaXMuU2EoKTtyZXR1cm57Y2VudGVyOmEuc2xpY2UoKSxwcm9qZWN0aW9uOnZvaWQgMCE9PWI/YjpudWxsLHJlc29sdXRpb246Yyxyb3RhdGlvbjpkLHpvb206dGhpcy5sZygpfX07XG5rLmxnPWZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLlBhKCk7dm9pZCAwIT09YiYmKGE9dGhpcy5NZShiKSk7cmV0dXJuIGF9O2suTWU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zfHwwLGM7aWYodGhpcy5qKXtiPWM9ZmModGhpcy5qLGEsMSk7dmFyIGQ9dGhpcy5qW2NdO2M9Yz09dGhpcy5qLmxlbmd0aC0xPzI6ZC90aGlzLmpbYysxXX1lbHNlIGQ9dGhpcy5hLGM9dGhpcy5EO3JldHVybiBiK01hdGgubG9nKGQvYSkvTWF0aC5sb2coYyl9O2suJGg9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY29uc3RyYWluUmVzb2x1dGlvbih0aGlzLmEsYS10aGlzLnMsMCl9O1xuay5VZj1mdW5jdGlvbihhLGIpe2I9Ynx8e307dmFyIGM9Yi5zaXplO2N8fChjPWVnKHRoaXMpKTtpZihhIGluc3RhbmNlb2YgaGYpaWYoXCJDaXJjbGVcIj09PWEuUygpKXthPWEuRygpO3ZhciBkPVJmKGEpO2Qucm90YXRlKHRoaXMuU2EoKSxlYihhKSl9ZWxzZSBkPWE7ZWxzZSBvYShBcnJheS5pc0FycmF5KGEpLDI0KSxvYSghYmIoYSksMjUpLGQ9UmYoYSk7dmFyIGU9dm9pZCAwIT09Yi5wYWRkaW5nP2IucGFkZGluZzpbMCwwLDAsMF0sZj12b2lkIDAhPT1iLmNvbnN0cmFpblJlc29sdXRpb24/Yi5jb25zdHJhaW5SZXNvbHV0aW9uOiEwLGc9dm9pZCAwIT09Yi5uZWFyZXN0P2IubmVhcmVzdDohMSxoO3ZvaWQgMCE9PWIubWluUmVzb2x1dGlvbj9oPWIubWluUmVzb2x1dGlvbjp2b2lkIDAhPT1iLm1heFpvb20/aD10aGlzLmNvbnN0cmFpblJlc29sdXRpb24odGhpcy5hLGIubWF4Wm9vbS10aGlzLnMsMCk6aD0wO3ZhciBsPWQuZGEoKSxtPXRoaXMuU2EoKTthPU1hdGguY29zKC1tKTtcbm09TWF0aC5zaW4oLW0pO3ZhciBuPUluZmluaXR5LHA9SW5maW5pdHkscT0tSW5maW5pdHkscj0tSW5maW5pdHk7ZD1kLnBhKCk7Zm9yKHZhciB1PTAsdj1sLmxlbmd0aDt1PHY7dSs9ZCl7dmFyIHo9bFt1XSphLWxbdSsxXSptLEE9bFt1XSptK2xbdSsxXSphO249TWF0aC5taW4obix6KTtwPU1hdGgubWluKHAsQSk7cT1NYXRoLm1heChxLHopO3I9TWF0aC5tYXgocixBKX1jPXRoaXMuSmUoW24scCxxLHJdLFtjWzBdLWVbMV0tZVszXSxjWzFdLWVbMF0tZVsyXV0pO2M9aXNOYU4oYyk/aDpNYXRoLm1heChjLGgpO2YmJihoPXRoaXMuY29uc3RyYWluUmVzb2x1dGlvbihjLDAsMCksIWcmJmg8YyYmKGg9dGhpcy5jb25zdHJhaW5SZXNvbHV0aW9uKGgsLTEsMCkpLGM9aCk7bT0tbTtoPShuK3EpLzIrKGVbMV0tZVszXSkvMipjO2U9KHArcikvMisoZVswXS1lWzJdKS8yKmM7YT1baCphLWUqbSxlKmEraCptXTtlPWIuY2FsbGJhY2s/Yi5jYWxsYmFjazplYTt2b2lkIDAhPT1iLmR1cmF0aW9uP1xudGhpcy5hbmltYXRlKHtyZXNvbHV0aW9uOmMsY2VudGVyOmEsZHVyYXRpb246Yi5kdXJhdGlvbixlYXNpbmc6Yi5lYXNpbmd9LGUpOih0aGlzLmdkKGMpLHRoaXMudWIoYSksc2V0VGltZW91dChlLmJpbmQodm9pZCAwLCEwKSwwKSl9O2suTms9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuU2EoKSxlPU1hdGguY29zKC1kKTtkPU1hdGguc2luKC1kKTt2YXIgZj1hWzBdKmUtYVsxXSpkO2E9YVsxXSplK2FbMF0qZDt2YXIgZz10aGlzLlBhKCk7Zis9KGJbMF0vMi1jWzBdKSpnO2ErPShjWzFdLWJbMV0vMikqZztkPS1kO3RoaXMudWIoW2YqZS1hKmQsYSplK2YqZF0pfTtmdW5jdGlvbiBhZyhhKXtyZXR1cm4hIWEueGEoKSYmdm9pZCAwIT09YS5QYSgpfWsucm90YXRlPWZ1bmN0aW9uKGEsYil7dm9pZCAwIT09YiYmKGI9ZGcodGhpcyxhLGIpLHRoaXMudWIoYikpO3RoaXMuY2UoYSl9O2sudWI9ZnVuY3Rpb24oYSl7dGhpcy5zZXQoXCJjZW50ZXJcIixhKTt0aGlzLkFjKCkmJnRoaXMucmQoKX07XG5mdW5jdGlvbiBiZyhhLGIsYyl7YS5mW2JdKz1jO2EudSgpfWsuZ2Q9ZnVuY3Rpb24oYSl7dGhpcy5zZXQoXCJyZXNvbHV0aW9uXCIsYSk7dGhpcy5BYygpJiZ0aGlzLnJkKCl9O2suY2U9ZnVuY3Rpb24oYSl7dGhpcy5zZXQoXCJyb3RhdGlvblwiLGEpO3RoaXMuQWMoKSYmdGhpcy5yZCgpfTtrLlRqPWZ1bmN0aW9uKGEpe3RoaXMuZ2QodGhpcy4kaChhKSl9O2Z1bmN0aW9uIGhnKGEsYil7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkNBTlZBU1wiKTthJiYoYy53aWR0aD1hKTtiJiYoYy5oZWlnaHQ9Yik7cmV0dXJuIGMuZ2V0Q29udGV4dChcIjJkXCIpfWZ1bmN0aW9uIGlnKGEsYil7dmFyIGM9Yi5wYXJlbnROb2RlO2MmJmMucmVwbGFjZUNoaWxkKGEsYil9ZnVuY3Rpb24gamcoYSl7YSYmYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSl9O2Z1bmN0aW9uIGtnKGEpe1ZjLmNhbGwodGhpcyk7dmFyIGI9a2Ioe30sYSk7Yi5vcGFjaXR5PXZvaWQgMCE9PWEub3BhY2l0eT9hLm9wYWNpdHk6MTtiLnZpc2libGU9dm9pZCAwIT09YS52aXNpYmxlP2EudmlzaWJsZTohMDtiLnpJbmRleD12b2lkIDAhPT1hLnpJbmRleD9hLnpJbmRleDowO2IubWF4UmVzb2x1dGlvbj12b2lkIDAhPT1hLm1heFJlc29sdXRpb24/YS5tYXhSZXNvbHV0aW9uOkluZmluaXR5O2IubWluUmVzb2x1dGlvbj12b2lkIDAhPT1hLm1pblJlc29sdXRpb24/YS5taW5SZXNvbHV0aW9uOjA7dGhpcy5IKGIpO3RoaXMuYT17bGF5ZXI6dGhpcyxUZTohMH19dyhrZyxWYyk7az1rZy5wcm90b3R5cGU7ay5TPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZX07XG5mdW5jdGlvbiBsZyhhKXthLmEub3BhY2l0eT1wYShhLm5jKCksMCwxKTthLmEuVmo9YS5oZygpO2EuYS52aXNpYmxlPWEuSmIoKTthLmEuZXh0ZW50PWEuRygpO2EuYS56SW5kZXg9YS5CYSgpO2EuYS5tYXhSZXNvbHV0aW9uPWEubGMoKTthLmEubWluUmVzb2x1dGlvbj1NYXRoLm1heChhLm1jKCksMCk7cmV0dXJuIGEuYX1rLkc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJleHRlbnRcIil9O2subGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJtYXhSZXNvbHV0aW9uXCIpfTtrLm1jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KFwibWluUmVzb2x1dGlvblwiKX07ay5uYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChcIm9wYWNpdHlcIil9O2suSmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJ2aXNpYmxlXCIpfTtrLkJhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KFwiekluZGV4XCIpfTtrLkZjPWZ1bmN0aW9uKGEpe3RoaXMuc2V0KFwiZXh0ZW50XCIsYSl9O1xuay5NYz1mdW5jdGlvbihhKXt0aGlzLnNldChcIm1heFJlc29sdXRpb25cIixhKX07ay5OYz1mdW5jdGlvbihhKXt0aGlzLnNldChcIm1pblJlc29sdXRpb25cIixhKX07ay5HYz1mdW5jdGlvbihhKXt0aGlzLnNldChcIm9wYWNpdHlcIixhKX07ay5IYz1mdW5jdGlvbihhKXt0aGlzLnNldChcInZpc2libGVcIixhKX07ay4kYj1mdW5jdGlvbihhKXt0aGlzLnNldChcInpJbmRleFwiLGEpfTtmdW5jdGlvbiBtZyhhKXt2YXIgYj1hfHx7fTthPWtiKHt9LGIpO2RlbGV0ZSBhLmxheWVycztiPWIubGF5ZXJzO2tnLmNhbGwodGhpcyxhKTt0aGlzLmk9W107dGhpcy5jPXt9O3kodGhpcyxYYyhuZyksdGhpcy5pbSx0aGlzKTtiP0FycmF5LmlzQXJyYXkoYik/Yj1uZXcgQihiLnNsaWNlKCkse3VuaXF1ZTohMH0pOm9hKGIgaW5zdGFuY2VvZiBCLDQzKTpiPW5ldyBCKHZvaWQgMCx7dW5pcXVlOiEwfSk7dGhpcy5RaShiKX13KG1nLGtnKTtrPW1nLnByb3RvdHlwZTtrLlBlPWZ1bmN0aW9uKCl7dGhpcy51KCl9O1xuay5pbT1mdW5jdGlvbigpe3RoaXMuaS5mb3JFYWNoKEdjKTt0aGlzLmkubGVuZ3RoPTA7dmFyIGE9dGhpcy5DZCgpO3RoaXMuaS5wdXNoKHkoYSxcImFkZFwiLHRoaXMuaG0sdGhpcykseShhLFwicmVtb3ZlXCIsdGhpcy5qbSx0aGlzKSk7Zm9yKHZhciBiIGluIHRoaXMuYyl0aGlzLmNbYl0uZm9yRWFjaChHYyk7bGIodGhpcy5jKTthPWEuYTt2YXIgYztiPTA7Zm9yKGM9YS5sZW5ndGg7YjxjO2IrKyl7dmFyIGQ9YVtiXTt0aGlzLmNbeChkKS50b1N0cmluZygpXT1beShkLFwicHJvcGVydHljaGFuZ2VcIix0aGlzLlBlLHRoaXMpLHkoZCxcImNoYW5nZVwiLHRoaXMuUGUsdGhpcyldfXRoaXMudSgpfTtrLmhtPWZ1bmN0aW9uKGEpe2E9YS5lbGVtZW50O3ZhciBiPXgoYSkudG9TdHJpbmcoKTt0aGlzLmNbYl09W3koYSxcInByb3BlcnR5Y2hhbmdlXCIsdGhpcy5QZSx0aGlzKSx5KGEsXCJjaGFuZ2VcIix0aGlzLlBlLHRoaXMpXTt0aGlzLnUoKX07XG5rLmptPWZ1bmN0aW9uKGEpe2E9eChhLmVsZW1lbnQpLnRvU3RyaW5nKCk7dGhpcy5jW2FdLmZvckVhY2goR2MpO2RlbGV0ZSB0aGlzLmNbYV07dGhpcy51KCl9O2suQ2Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQobmcpfTtrLlFpPWZ1bmN0aW9uKGEpe3RoaXMuc2V0KG5nLGEpfTtcbmsuZGc9ZnVuY3Rpb24oYSl7dmFyIGI9dm9pZCAwIT09YT9hOltdLGM9Yi5sZW5ndGg7dGhpcy5DZCgpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZyhiKX0pO2E9bGcodGhpcyk7dmFyIGQ7Zm9yKGQ9Yi5sZW5ndGg7YzxkO2MrKyl7dmFyIGU9YltjXTtlLm9wYWNpdHkqPWEub3BhY2l0eTtlLnZpc2libGU9ZS52aXNpYmxlJiZhLnZpc2libGU7ZS5tYXhSZXNvbHV0aW9uPU1hdGgubWluKGUubWF4UmVzb2x1dGlvbixhLm1heFJlc29sdXRpb24pO2UubWluUmVzb2x1dGlvbj1NYXRoLm1heChlLm1pblJlc29sdXRpb24sYS5taW5SZXNvbHV0aW9uKTt2b2lkIDAhPT1hLmV4dGVudCYmKGUuZXh0ZW50PXZvaWQgMCE9PWUuZXh0ZW50P2diKGUuZXh0ZW50LGEuZXh0ZW50KTphLmV4dGVudCl9cmV0dXJuIGJ9O2suaGc9ZnVuY3Rpb24oKXtyZXR1cm5cInJlYWR5XCJ9O3ZhciBuZz1cImxheWVyc1wiO3ZhciBvZz1bXSxwZz1bXTtmdW5jdGlvbiBxZyhhLGIpe3N3aXRjaChhKXtjYXNlIFwiTUFQX1JFTkRFUkVSXCI6YT1vZzthLnB1c2goYik7YnJlYWs7Y2FzZSBcIkxBWUVSX1JFTkRFUkVSXCI6YT1wZzthLnB1c2goYik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVuc3VwcG9ydGVkIHBsdWdpbiB0eXBlOiBcIithKTt9fWZ1bmN0aW9uIHJnKGEpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGg7YjxjOysrYilxZyhcIkxBWUVSX1JFTkRFUkVSXCIsYVtiXSl9O2Z1bmN0aW9uIEcoYSl7VmMuY2FsbCh0aGlzKTt2YXIgYj1zZyhhKTt0aGlzLm9iPXZvaWQgMCE9PWEubG9hZFRpbGVzV2hpbGVBbmltYXRpbmc/YS5sb2FkVGlsZXNXaGlsZUFuaW1hdGluZzohMTt0aGlzLnNjPXZvaWQgMCE9PWEubG9hZFRpbGVzV2hpbGVJbnRlcmFjdGluZz9hLmxvYWRUaWxlc1doaWxlSW50ZXJhY3Rpbmc6ITE7dGhpcy5yYT12b2lkIDAhPT1hLnBpeGVsUmF0aW8/YS5waXhlbFJhdGlvOm5kO3RoaXMuTWQ9Yi5sb2dvczt0aGlzLlY9ZnVuY3Rpb24oKXt0aGlzLmo9dm9pZCAwO3RoaXMucHEuY2FsbCh0aGlzKX0uYmluZCh0aGlzKTt0aGlzLkxhPVdlKCk7dGhpcy5JZj1XZSgpO3RoaXMuYmI9MDt0aGlzLkQ9dGhpcy5DPXRoaXMuQj10aGlzLmY9dGhpcy5jPW51bGw7dGhpcy5hPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7dGhpcy5hLmNsYXNzTmFtZT1cIm9sLXZpZXdwb3J0XCIrKHNkP1wiIG9sLXRvdWNoXCI6XCJcIik7dGhpcy5hLnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIjtcbnRoaXMuYS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiO3RoaXMuYS5zdHlsZS53aWR0aD1cIjEwMCVcIjt0aGlzLmEuc3R5bGUuaGVpZ2h0PVwiMTAwJVwiO3RoaXMuYS5zdHlsZS5tc1RvdWNoQWN0aW9uPVwibm9uZVwiO3RoaXMuYS5zdHlsZS50b3VjaEFjdGlvbj1cIm5vbmVcIjt0aGlzLm89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTt0aGlzLm8uY2xhc3NOYW1lPVwib2wtb3ZlcmxheWNvbnRhaW5lclwiO3RoaXMuYS5hcHBlbmRDaGlsZCh0aGlzLm8pO3RoaXMudj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO3RoaXMudi5jbGFzc05hbWU9XCJvbC1vdmVybGF5Y29udGFpbmVyLXN0b3BldmVudFwiO2Zvcih2YXIgYz1cImNsaWNrIGRibGNsaWNrIG1vdXNlZG93biB0b3VjaHN0YXJ0IE1TUG9pbnRlckRvd24gcG9pbnRlcmRvd24gbW91c2V3aGVlbCB3aGVlbFwiLnNwbGl0KFwiIFwiKSxkPTAsZT1jLmxlbmd0aDtkPGU7KytkKXkodGhpcy52LGNbZF0sUmMpO3RoaXMuYS5hcHBlbmRDaGlsZCh0aGlzLnYpO1xudGhpcy5jYT1uZXcgYmUodGhpcyxhLm1vdmVUb2xlcmFuY2UpO2Zvcih2YXIgZiBpbiB6ZCl5KHRoaXMuY2EsemRbZl0sdGhpcy5iaSx0aGlzKTt0aGlzLiQ9Yi5rZXlib2FyZEV2ZW50VGFyZ2V0O3RoaXMucz1udWxsO3kodGhpcy5hLFwid2hlZWxcIix0aGlzLnlkLHRoaXMpO3kodGhpcy5hLFwibW91c2V3aGVlbFwiLHRoaXMueWQsdGhpcyk7dGhpcy5jb250cm9scz1iLmNvbnRyb2xzfHxuZXcgQjt0aGlzLmludGVyYWN0aW9ucz1iLmludGVyYWN0aW9uc3x8bmV3IEI7dGhpcy5sPWIub3ZlcmxheXM7dGhpcy5GZz17fTt0aGlzLnBjPWIuSW0uY3JlYXRlKHRoaXMuYSx0aGlzKTt0aGlzLlQ9bnVsbDt0aGlzLkVhPVtdO3RoaXMudWE9bmV3IGxlKHRoaXMuVGwuYmluZCh0aGlzKSx0aGlzLnptLmJpbmQodGhpcykpO3RoaXMuTz17fTt5KHRoaXMsWGMoXCJsYXllcmdyb3VwXCIpLHRoaXMuZm0sdGhpcyk7eSh0aGlzLFhjKFwidmlld1wiKSx0aGlzLkFtLHRoaXMpO3kodGhpcyxYYyhcInNpemVcIiksdGhpcy51bSxcbnRoaXMpO3kodGhpcyxYYyhcInRhcmdldFwiKSx0aGlzLnltLHRoaXMpO3RoaXMuSChiLnZhbHVlcyk7dGhpcy5jb250cm9scy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Euc2V0TWFwKHRoaXMpfSx0aGlzKTt5KHRoaXMuY29udHJvbHMsXCJhZGRcIixmdW5jdGlvbihhKXthLmVsZW1lbnQuc2V0TWFwKHRoaXMpfSx0aGlzKTt5KHRoaXMuY29udHJvbHMsXCJyZW1vdmVcIixmdW5jdGlvbihhKXthLmVsZW1lbnQuc2V0TWFwKG51bGwpfSx0aGlzKTt0aGlzLmludGVyYWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Euc2V0TWFwKHRoaXMpfSx0aGlzKTt5KHRoaXMuaW50ZXJhY3Rpb25zLFwiYWRkXCIsZnVuY3Rpb24oYSl7YS5lbGVtZW50LnNldE1hcCh0aGlzKX0sdGhpcyk7eSh0aGlzLmludGVyYWN0aW9ucyxcInJlbW92ZVwiLGZ1bmN0aW9uKGEpe2EuZWxlbWVudC5zZXRNYXAobnVsbCl9LHRoaXMpO3RoaXMubC5mb3JFYWNoKHRoaXMuemgsdGhpcyk7eSh0aGlzLmwsXCJhZGRcIixmdW5jdGlvbihhKXt0aGlzLnpoKGEuZWxlbWVudCl9LFxudGhpcyk7eSh0aGlzLmwsXCJyZW1vdmVcIixmdW5jdGlvbihhKXt2YXIgYj1hLmVsZW1lbnQuaWQ7dm9pZCAwIT09YiYmZGVsZXRlIHRoaXMuRmdbYi50b1N0cmluZygpXTthLmVsZW1lbnQuc2V0TWFwKG51bGwpfSx0aGlzKX13KEcsVmMpO2s9Ry5wcm90b3R5cGU7ay5NZj1mdW5jdGlvbihhKXt0aGlzLmNvbnRyb2xzLnB1c2goYSl9O2suTmY9ZnVuY3Rpb24oYSl7dGhpcy5pbnRlcmFjdGlvbnMucHVzaChhKX07ay54ZT1mdW5jdGlvbihhKXt0aGlzLmhjKCkuQ2QoKS5wdXNoKGEpfTtrLnllPWZ1bmN0aW9uKGEpe3RoaXMubC5wdXNoKGEpfTtrLnpoPWZ1bmN0aW9uKGEpe3ZhciBiPWEuaWQ7dm9pZCAwIT09YiYmKHRoaXMuRmdbYi50b1N0cmluZygpXT1hKTthLnNldE1hcCh0aGlzKX07XG5rLmlhPWZ1bmN0aW9uKCl7UGModGhpcy5jYSk7TWModGhpcy5hLFwid2hlZWxcIix0aGlzLnlkLHRoaXMpO01jKHRoaXMuYSxcIm1vdXNld2hlZWxcIix0aGlzLnlkLHRoaXMpO3ZvaWQgMCE9PXRoaXMuaSYmKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5pLCExKSx0aGlzLmk9dm9pZCAwKTt0aGlzLmomJihjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmopLHRoaXMuaj12b2lkIDApO3RoaXMuQWQobnVsbCk7VmMucHJvdG90eXBlLmlhLmNhbGwodGhpcyl9O2suVGM9ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMuYylyZXR1cm4gYT10aGlzLlJhKGEpLGM9dm9pZCAwIT09Yz9jOnt9LHRoaXMucGMud2EoYSx0aGlzLmMsdm9pZCAwIT09Yy5oaXRUb2xlcmFuY2U/Yy5oaXRUb2xlcmFuY2UqdGhpcy5jLnBpeGVsUmF0aW86MCxiLG51bGwsdm9pZCAwIT09Yy5sYXllckZpbHRlcj9jLmxheWVyRmlsdGVyOlJlLG51bGwpfTtcbmsuWGY9ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsO3RoaXMuVGMoYSxmdW5jdGlvbihhKXtjfHwoYz1bXSk7Yy5wdXNoKGEpfSxiKTtyZXR1cm4gY307ay50Zz1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKHRoaXMuYylyZXR1cm4gdGhpcy5wYy5UaShhLHRoaXMuYyxiLHZvaWQgMCE9PWM/YzpudWxsLHZvaWQgMCE9PWQ/ZDpSZSx2b2lkIDAhPT1lP2U6bnVsbCl9O2submc9ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5jKXJldHVybiExO2E9dGhpcy5SYShhKTtiPXZvaWQgMCE9PWI/Yjp7fTtyZXR1cm4gdGhpcy5wYy5VaShhLHRoaXMuYyx2b2lkIDAhPT1iLmhpdFRvbGVyYW5jZT9iLmhpdFRvbGVyYW5jZSp0aGlzLmMucGl4ZWxSYXRpbzowLHZvaWQgMCE9PWIubGF5ZXJGaWx0ZXI/Yi5sYXllckZpbHRlcjpSZSxudWxsKX07ay5TZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5SYSh0aGlzLnVkKGEpKX07XG5rLnVkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTthPWEuY2hhbmdlZFRvdWNoZXM/YS5jaGFuZ2VkVG91Y2hlc1swXTphO3JldHVyblthLmNsaWVudFgtYi5sZWZ0LGEuY2xpZW50WS1iLnRvcF19O2suWGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJ0YXJnZXRcIil9O2suQ2M9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLlhkKCk7cmV0dXJuIHZvaWQgMCE9PWE/XCJzdHJpbmdcIj09PXR5cGVvZiBhP2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpOmE6bnVsbH07ay5SYT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmM7cmV0dXJuIGI/YWYoYi5waXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybSxhLnNsaWNlKCkpOm51bGx9O2suV2Y9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250cm9sc307ay5nZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmx9O1xuay5mZz1mdW5jdGlvbihhKXthPXRoaXMuRmdbYS50b1N0cmluZygpXTtyZXR1cm4gdm9pZCAwIT09YT9hOm51bGx9O2suYmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnRlcmFjdGlvbnN9O2suaGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJsYXllcmdyb3VwXCIpfTtrLlhlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGMoKS5DZCgpfTtrLklhPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYztyZXR1cm4gYj9hZihiLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLGEuc2xpY2UoMCwyKSk6bnVsbH07ay5JZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBjfTtrLkNiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KFwic2l6ZVwiKX07ay5hYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChcInZpZXdcIil9O2sua2c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtcbmsuVGw9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5jO2lmKCEoZSYmYiBpbiBlLndhbnRlZFRpbGVzJiZlLndhbnRlZFRpbGVzW2JdW2EubGIoKV0pKXJldHVybiBJbmZpbml0eTthPWNbMF0tZS5mb2N1c1swXTtjPWNbMV0tZS5mb2N1c1sxXTtyZXR1cm4gNjU1MzYqTWF0aC5sb2coZCkrTWF0aC5zcXJ0KGEqYStjKmMpL2R9O2sueWQ9ZnVuY3Rpb24oYSxiKXthPW5ldyBlZChifHxhLnR5cGUsdGhpcyxhKTt0aGlzLmJpKGEpfTtrLmJpPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYyl7dGhpcy5UPWEuY29vcmRpbmF0ZTthLmZyYW1lU3RhdGU9dGhpcy5jO3ZhciBiPXRoaXMuaW50ZXJhY3Rpb25zLmEsYztpZighMSE9PXRoaXMuYihhKSlmb3IoYz1iLmxlbmd0aC0xOzA8PWM7Yy0tKXt2YXIgZD1iW2NdO2lmKGQuYygpJiYhZC5oYW5kbGVFdmVudChhKSlicmVha319fTtcbmsuc209ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmMsYj10aGlzLnVhO2lmKDAhPT1iLmIubGVuZ3RoKXt2YXIgYz0xNixkPWM7aWYoYSl7dmFyIGU9YS52aWV3SGludHM7ZVswXSYmKGM9dGhpcy5vYj84OjAsZD0yKTtlWzFdJiYoYz10aGlzLnNjPzg6MCxkPTIpfWIuajxjJiYoa2UoYiksbWUoYixjLGQpKX1iPXRoaXMuRWE7Yz0wO2ZvcihkPWIubGVuZ3RoO2M8ZDsrK2MpYltjXSh0aGlzLGEpO2IubGVuZ3RoPTB9O2sudW09ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcigpfTtcbmsueW09ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLlhkKCkmJihhPXRoaXMuQ2MoKSk7aWYodGhpcy5zKXtmb3IodmFyIGI9MCxjPXRoaXMucy5sZW5ndGg7YjxjOysrYilHYyh0aGlzLnNbYl0pO3RoaXMucz1udWxsfWlmKGEpe2EuYXBwZW5kQ2hpbGQodGhpcy5hKTt2YXIgZD10aGlzLiQ/dGhpcy4kOmE7dGhpcy5zPVt5KGQsXCJrZXlkb3duXCIsdGhpcy55ZCx0aGlzKSx5KGQsXCJrZXlwcmVzc1wiLHRoaXMueWQsdGhpcyldO3RoaXMuaXx8KHRoaXMuaT10aGlzLk9jLmJpbmQodGhpcyksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLmksITEpKX1lbHNle2E9dGhpcy5wYztmb3IoZCBpbiBhLmMpUGModGcoYSxkKSk7amcodGhpcy5hKTt2b2lkIDAhPT10aGlzLmkmJih3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHRoaXMuaSwhMSksdGhpcy5pPXZvaWQgMCl9dGhpcy5PYygpfTtrLnptPWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXIoKX07ay5laT1mdW5jdGlvbigpe3RoaXMucmVuZGVyKCl9O1xuay5BbT1mdW5jdGlvbigpe3RoaXMuQiYmKEdjKHRoaXMuQiksdGhpcy5CPW51bGwpO3RoaXMuQyYmKEdjKHRoaXMuQyksdGhpcy5DPW51bGwpO3ZhciBhPXRoaXMuYWEoKTthJiYodGhpcy5hLnNldEF0dHJpYnV0ZShcImRhdGEtdmlld1wiLHgoYSkpLHRoaXMuQj15KGEsXCJwcm9wZXJ0eWNoYW5nZVwiLHRoaXMuZWksdGhpcyksdGhpcy5DPXkoYSxcImNoYW5nZVwiLHRoaXMuZWksdGhpcykpO3RoaXMucmVuZGVyKCl9O2suZm09ZnVuY3Rpb24oKXt0aGlzLkQmJih0aGlzLkQuZm9yRWFjaChHYyksdGhpcy5EPW51bGwpO3ZhciBhPXRoaXMuaGMoKTthJiYodGhpcy5EPVt5KGEsXCJwcm9wZXJ0eWNoYW5nZVwiLHRoaXMucmVuZGVyLHRoaXMpLHkoYSxcImNoYW5nZVwiLHRoaXMucmVuZGVyLHRoaXMpXSk7dGhpcy5yZW5kZXIoKX07ay5kaD1mdW5jdGlvbigpe3RoaXMuaiYmY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5qKTt0aGlzLlYoKX07XG5rLnJlbmRlcj1mdW5jdGlvbigpe3ZvaWQgMD09PXRoaXMuaiYmKHRoaXMuaj1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5WKSl9O2suWGc9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY29udHJvbHMucmVtb3ZlKGEpfTtrLlpnPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmludGVyYWN0aW9ucy5yZW1vdmUoYSl9O2suJGc9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGMoKS5DZCgpLnJlbW92ZShhKX07ay5haD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5sLnJlbW92ZShhKX07XG5rLnBxPWZ1bmN0aW9uKCl7dmFyIGE9RGF0ZS5ub3coKSxiLGM9dGhpcy5DYigpLGQ9dGhpcy5hYSgpLGU9RGEoKSxmPXRoaXMuYyxnPW51bGw7aWYodm9pZCAwIT09YyYmMDxjWzBdJiYwPGNbMV0mJmQmJmFnKGQpKXtnPXRoaXMuYz90aGlzLmMudmlld0hpbnRzOnZvaWQgMDt2b2lkIDAhPT1nPyhnWzBdPWQuZlswXSxnWzFdPWQuZlsxXSk6Zz1kLmYuc2xpY2UoKTt2YXIgaD10aGlzLmhjKCkuZGcoKSxsPXt9O3ZhciBtPTA7Zm9yKGI9aC5sZW5ndGg7bTxiOysrbSlsW3goaFttXS5sYXllcildPWhbbV07bT1kLmdldFN0YXRlKCk7ZD1tLmNlbnRlcjtiPW0ucmVzb2x1dGlvbi90aGlzLnJhO2RbMF09TWF0aC5yb3VuZChkWzBdL2IpKmI7ZFsxXT1NYXRoLnJvdW5kKGRbMV0vYikqYjtnPXthbmltYXRlOiExLGNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtOnRoaXMuTGEsZXh0ZW50OmUsZm9jdXM6dGhpcy5UP3RoaXMuVDpkLGluZGV4OnRoaXMuYmIrKyxsYXllclN0YXRlczpsLGxheWVyU3RhdGVzQXJyYXk6aCxcbmxvZ29zOmtiKHt9LHRoaXMuTWQpLHBpeGVsUmF0aW86dGhpcy5yYSxwaXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybTp0aGlzLklmLHBvc3RSZW5kZXJGdW5jdGlvbnM6W10sc2l6ZTpjLHNraXBwZWRGZWF0dXJlVWlkczp0aGlzLk8sdGlsZVF1ZXVlOnRoaXMudWEsdGltZTphLHVzZWRUaWxlczp7fSx2aWV3U3RhdGU6bSx2aWV3SGludHM6Zyx3YW50ZWRUaWxlczp7fX19ZyYmKGcuZXh0ZW50PWZiKG0uY2VudGVyLG0ucmVzb2x1dGlvbixtLnJvdGF0aW9uLGcuc2l6ZSxlKSk7dGhpcy5jPWc7dGhpcy5wYy5iaChnKTtnJiYoZy5hbmltYXRlJiZ0aGlzLnJlbmRlcigpLEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRoaXMuRWEsZy5wb3N0UmVuZGVyRnVuY3Rpb25zKSwhZnx8dGhpcy5mJiYoYmIodGhpcy5mKXx8U2EoZy5leHRlbnQsdGhpcy5mKSl8fCh0aGlzLmIobmV3IGRkKFwibW92ZXN0YXJ0XCIsdGhpcyxmKSksdGhpcy5mPU9hKHRoaXMuZikpLCF0aGlzLmZ8fGcudmlld0hpbnRzWzBdfHxcbmcudmlld0hpbnRzWzFdfHxTYShnLmV4dGVudCx0aGlzLmYpfHwodGhpcy5iKG5ldyBkZChcIm1vdmVlbmRcIix0aGlzLGcpKSxHYShnLmV4dGVudCx0aGlzLmYpKSk7dGhpcy5iKG5ldyBkZChcInBvc3RyZW5kZXJcIix0aGlzLGcpKTtzZXRUaW1lb3V0KHRoaXMuc20uYmluZCh0aGlzKSwwKX07ay56Zj1mdW5jdGlvbihhKXt0aGlzLnNldChcImxheWVyZ3JvdXBcIixhKX07ay5iZT1mdW5jdGlvbihhKXt0aGlzLnNldChcInNpemVcIixhKX07ay5BZD1mdW5jdGlvbihhKXt0aGlzLnNldChcInRhcmdldFwiLGEpfTtrLmpoPWZ1bmN0aW9uKGEpe3RoaXMuc2V0KFwidmlld1wiLGEpfTtrLlVqPWZ1bmN0aW9uKGEpe2E9eChhKS50b1N0cmluZygpO3RoaXMuT1thXT0hMDt0aGlzLnJlbmRlcigpfTtcbmsuT2M9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLkNjKCk7aWYoYSl7dmFyIGI9Z2V0Q29tcHV0ZWRTdHlsZShhKTt0aGlzLmJlKFthLm9mZnNldFdpZHRoLXBhcnNlRmxvYXQoYi5ib3JkZXJMZWZ0V2lkdGgpLXBhcnNlRmxvYXQoYi5wYWRkaW5nTGVmdCktcGFyc2VGbG9hdChiLnBhZGRpbmdSaWdodCktcGFyc2VGbG9hdChiLmJvcmRlclJpZ2h0V2lkdGgpLGEub2Zmc2V0SGVpZ2h0LXBhcnNlRmxvYXQoYi5ib3JkZXJUb3BXaWR0aCktcGFyc2VGbG9hdChiLnBhZGRpbmdUb3ApLXBhcnNlRmxvYXQoYi5wYWRkaW5nQm90dG9tKS1wYXJzZUZsb2F0KGIuYm9yZGVyQm90dG9tV2lkdGgpXSl9ZWxzZSB0aGlzLmJlKHZvaWQgMCl9O2suWmo9ZnVuY3Rpb24oYSl7YT14KGEpLnRvU3RyaW5nKCk7ZGVsZXRlIHRoaXMuT1thXTt0aGlzLnJlbmRlcigpfTt2YXIgdWc9W1wiY2FudmFzXCIsXCJ3ZWJnbFwiXTtcbmZ1bmN0aW9uIHNnKGEpe3ZhciBiPW51bGw7dm9pZCAwIT09YS5rZXlib2FyZEV2ZW50VGFyZ2V0JiYoYj1cInN0cmluZ1wiPT09dHlwZW9mIGEua2V5Ym9hcmRFdmVudFRhcmdldD9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhLmtleWJvYXJkRXZlbnRUYXJnZXQpOmEua2V5Ym9hcmRFdmVudFRhcmdldCk7dmFyIGM9e30sZD17fTtpZih2b2lkIDA9PT1hLmxvZ298fFwiYm9vbGVhblwiPT09dHlwZW9mIGEubG9nbyYmYS5sb2dvKWRbXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUNBQUFBQWdDQU1BQUFCRXBJckdBQUFBQTNOQ1NWUUlDQWpiNFUvZ0FBQUFDWEJJV1hNQUFBSEdBQUFCeGdFWHdmcEdBQUFBR1hSRldIUlRiMlowZDJGeVpRQjNkM2N1YVc1cmMyTmhjR1V1YjNKbm0rNDhHZ0FBQWhOUVRGUkYvLy8vQVAvL0FJQ0FnUC8vQUZWVlFFQ0EvLy8vSzFWVlNiYmJZTC9mSjA1aWRzVFlKRnRiYmNqYkpsbG1ac3pXV01UT0lGaG9IbE5pWnN6VGE5RGRVY0hOSGxObFY4WFJJVmRpYXNyVUhsWmpJVlpqYU1uVkgxUmxJRlJrSDFSa0gxWmxhc3ZZYXN2WFZzUFFIMVZrYWNuVmE4dldJVlpqSUZSalZNUFFhOHJYSVZWa1hzWFJzTnZlSUZWa0lGWmxJVlZqM2VEZWg2R21iTXZYSDFaa0lGUmthOHJXYk12WElGVmtJRlZqSUZWa2JNdldIMVZqYk12V0lGVmxiY3ZXSUZWbGE4dlZJRlZrYk12V2JNdlZIMVZrYk12V0lGVmxiY3ZXSUZWa2JjdlZiTXZXak5QYklGVmtVOExQd016TklGVmtiY3pXSUZWa2JzdldiTXZYSUZWa1JuQjhiY3ZXMitUa1c4WFJJRlZrSWxabEpWbG9KbHBvS2x4ckxsOXRNbUp3T1dkME9taDFSWEY4VG5lQ1QzaURVSGlEVThMUFZNTFBWY0xQVmNQUVZzUFBWc1BRVjhQUVdNVFFXc1RRVzhUUVhNWFNYc1hSWDRTTlg4YlNZTWZUWWNmVFlzZlRZOGpVWmNmU1pzblVhSXFUYWNyVmFzclZhOGpUYThyV2JJMlZiTXZXYmN2V2RKT2JkY3ZVZHN6VWQ4dlZlSmFlZTg3WWZjM1dnSnlqaHFHbml0RFlqYWFybGRQWm5ySzJvTmJib3JXNW85YmJvOWZicExhNnE5bmRyTDNBcnRuZHNjRER1dHpmdThmSndON2d3dDdneGMvUXl1SGh5K0hpemVIaTBOZlgwK1BqMTl6YjErVGoydVhrMjkvZTN1TGczK0xoMytibDR1WGo0dWZsNCtmbDVPZmw1dWZsNXVqbTUram15U0RuQkFBQUFGcDBVazVUQUFFQ0FnTUVCQVlIQ0EwTkRnNFVHUm9nSWlNbUtTc3NMelU3UGtKSlQxSlRWRmxpWTJocmRIWjNmb1NGaFllSmpZMlFrcHVncWJHMXRyZTV3OHpRMDlYWTN1WG42K3p4OHZUMDl2ZjQrUGo1K2ZyNi9QMzkvZjMrZ3o3U3NBQUFBVlZKUkVGVU9NdGpZS0E3RUJEbndDUExyT2JTMUJSaUxvSkxudGU2Q1F5OEZMSExDenMyUVVHNEZqWjVHYmNtQkREanhKQlhEV3hDQnJiOGFNNHpia0lEenBMWW5BY0U5VlhsSlNXbFpSVTEza29JZVc1N21HeDVYam9NWkVVcXd4V1lRYVFiU3pMU2tZR2ZLRlNlMFFNc1g1V2JqZ1kwWVM0TUJwbGVtSTRCZEdCVytEUTExZVppeW1mcVF1WFpJanF3eWFkUE5vU1o0TCswRlZNNmUrb0dJNmc4YTlpS05UM284a1Z6Tmt6Umc1bGdsN3A0d3lSVUw5WXQyakF4Vmg2bVFDb2dhZTZHbWZsSThwMHIxM1ZGV1RIQlEwcldQVzdhaGdXVmNQbSs5Y3VMb3l5NGtDSkR6Q202ZDhQU0ZvaDB6dlFOQzVPakRKaFFvcFBQSnFwaDFkb0pCVUQ1dG5rYlppVUVxYUNuQjNiVHFMVEZHMWJQbjcxa3c0YitHRmRwTEVsS0l6Unh4Z1lnV05ZYzVTQ0VOVkhLZVVhbHRIZFh4MGRaOHVCSTFoSjJVVURncTgyQ00yTXdLZWlicUF2U083TUNBQnEwd1hFUGlxV0VBQUFBQUVsRlRrU3VRbUNDXCJdPVxuXCJodHRwczovL29wZW5sYXllcnMub3JnL1wiO2Vsc2V7dmFyIGU9YS5sb2dvO1wic3RyaW5nXCI9PT10eXBlb2YgZT9kW2VdPVwiXCI6ZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50P2RbeChlKS50b1N0cmluZygpXT1lOmUmJihvYShcInN0cmluZ1wiPT10eXBlb2YgZS5ocmVmLDQ0KSxvYShcInN0cmluZ1wiPT10eXBlb2YgZS5zcmMsNDUpLGRbZS5zcmNdPWUuaHJlZil9ZT1hLmxheWVycyBpbnN0YW5jZW9mIG1nP2EubGF5ZXJzOm5ldyBtZyh7bGF5ZXJzOmEubGF5ZXJzfSk7Yy5sYXllcmdyb3VwPWU7Yy50YXJnZXQ9YS50YXJnZXQ7Yy52aWV3PXZvaWQgMCE9PWEudmlldz9hLnZpZXc6bmV3IEY7dmFyIGY7dm9pZCAwIT09YS5yZW5kZXJlcj8oQXJyYXkuaXNBcnJheShhLnJlbmRlcmVyKT9mPWEucmVuZGVyZXI6XCJzdHJpbmdcIj09PXR5cGVvZiBhLnJlbmRlcmVyP2Y9W2EucmVuZGVyZXJdOm9hKCExLDQ2KSwwPD1mLmluZGV4T2YoXCJkb21cIikmJihmPWYuY29uY2F0KHVnKSkpOmY9dWc7ZT0wO3ZhciBnPVxuZi5sZW5ndGg7YTpmb3IoO2U8ZzsrK2UpZm9yKHZhciBoPWZbZV0sbD0wLG09b2cubGVuZ3RoO2w8bTsrK2wpe3ZhciBuPW9nW2xdO2lmKG4uaGFuZGxlcyhoKSl7dmFyIHA9bjticmVhayBhfX1pZighcCl0aHJvdyBFcnJvcihcIlVuYWJsZSB0byBjcmVhdGUgYSBtYXAgcmVuZGVyZXIgZm9yIHR5cGVzOiBcIitmLmpvaW4oXCIsIFwiKSk7aWYodm9pZCAwIT09YS5jb250cm9scylpZihBcnJheS5pc0FycmF5KGEuY29udHJvbHMpKXZhciBxPW5ldyBCKGEuY29udHJvbHMuc2xpY2UoKSk7ZWxzZSBvYShhLmNvbnRyb2xzIGluc3RhbmNlb2YgQiw0NykscT1hLmNvbnRyb2xzO2lmKHZvaWQgMCE9PWEuaW50ZXJhY3Rpb25zKWlmKEFycmF5LmlzQXJyYXkoYS5pbnRlcmFjdGlvbnMpKXZhciByPW5ldyBCKGEuaW50ZXJhY3Rpb25zLnNsaWNlKCkpO2Vsc2Ugb2EoYS5pbnRlcmFjdGlvbnMgaW5zdGFuY2VvZiBCLDQ4KSxyPWEuaW50ZXJhY3Rpb25zO3ZvaWQgMCE9PWEub3ZlcmxheXM/QXJyYXkuaXNBcnJheShhLm92ZXJsYXlzKT9cbmE9bmV3IEIoYS5vdmVybGF5cy5zbGljZSgpKToob2EoYS5vdmVybGF5cyBpbnN0YW5jZW9mIEIsNDkpLGE9YS5vdmVybGF5cyk6YT1uZXcgQjtyZXR1cm57Y29udHJvbHM6cSxpbnRlcmFjdGlvbnM6cixrZXlib2FyZEV2ZW50VGFyZ2V0OmIsbG9nb3M6ZCxvdmVybGF5czphLEltOnAsdmFsdWVzOmN9fTtmdW5jdGlvbiB2ZyhhKXtWYy5jYWxsKHRoaXMpO3RoaXMuZWxlbWVudD1hLmVsZW1lbnQ/YS5lbGVtZW50Om51bGw7dGhpcy5hPXRoaXMuVD1udWxsO3RoaXMucz1bXTt0aGlzLnJlbmRlcj1hLnJlbmRlcj9hLnJlbmRlcjplYTthLnRhcmdldCYmdGhpcy5pKGEudGFyZ2V0KX13KHZnLFZjKTt2Zy5wcm90b3R5cGUuaWE9ZnVuY3Rpb24oKXtqZyh0aGlzLmVsZW1lbnQpO1ZjLnByb3RvdHlwZS5pYS5jYWxsKHRoaXMpfTt2Zy5wcm90b3R5cGUuZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O1xudmcucHJvdG90eXBlLnNldE1hcD1mdW5jdGlvbihhKXt0aGlzLmEmJmpnKHRoaXMuZWxlbWVudCk7Zm9yKHZhciBiPTAsYz10aGlzLnMubGVuZ3RoO2I8YzsrK2IpR2ModGhpcy5zW2JdKTt0aGlzLnMubGVuZ3RoPTA7aWYodGhpcy5hPWEpKHRoaXMuVD90aGlzLlQ6YS52KS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpLHRoaXMucmVuZGVyIT09ZWEmJnRoaXMucy5wdXNoKHkoYSxcInBvc3RyZW5kZXJcIix0aGlzLnJlbmRlcix0aGlzKSksYS5yZW5kZXIoKX07dmcucHJvdG90eXBlLmk9ZnVuY3Rpb24oYSl7dGhpcy5UPVwic3RyaW5nXCI9PT10eXBlb2YgYT9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKTphfTt2YXIgd2c9ZnVuY3Rpb24oKXt2YXIgYSxiPXt9O3JldHVybiBmdW5jdGlvbihjKXthfHwoYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLnN0eWxlKTtpZighKGMgaW4gYikpe2EuZm9udD1jO3ZhciBkPWEuZm9udEZhbWlseTthLmZvbnQ9XCJcIjtpZighZClyZXR1cm4gbnVsbDtiW2NdPWQuc3BsaXQoLyxcXHM/Lyl9cmV0dXJuIGJbY119fSgpO2Z1bmN0aW9uIHhnKGEpe3ZhciBiPWtiKHt9LGEpO2RlbGV0ZSBiLnNvdXJjZTtrZy5jYWxsKHRoaXMsYik7dGhpcy5vPXRoaXMudj10aGlzLnM9bnVsbDthLm1hcCYmdGhpcy5zZXRNYXAoYS5tYXApO3kodGhpcyxYYyhcInNvdXJjZVwiKSx0aGlzLndtLHRoaXMpO3RoaXMuaGQoYS5zb3VyY2U/YS5zb3VyY2U6bnVsbCl9dyh4ZyxrZyk7ZnVuY3Rpb24geWcoYSxiKXtyZXR1cm4gYS52aXNpYmxlJiZiPj1hLm1pblJlc29sdXRpb24mJmI8YS5tYXhSZXNvbHV0aW9ufWs9eGcucHJvdG90eXBlO2suZGc9ZnVuY3Rpb24oYSl7YT1hP2E6W107YS5wdXNoKGxnKHRoaXMpKTtyZXR1cm4gYX07ay5oYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChcInNvdXJjZVwiKXx8bnVsbH07ay5oZz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaGEoKTtyZXR1cm4gYT9hLmdldFN0YXRlKCk6XCJ1bmRlZmluZWRcIn07ay55bz1mdW5jdGlvbigpe3RoaXMudSgpfTtcbmsud209ZnVuY3Rpb24oKXt0aGlzLm8mJihHYyh0aGlzLm8pLHRoaXMubz1udWxsKTt2YXIgYT10aGlzLmhhKCk7YSYmKHRoaXMubz15KGEsXCJjaGFuZ2VcIix0aGlzLnlvLHRoaXMpKTt0aGlzLnUoKX07ay5zZXRNYXA9ZnVuY3Rpb24oYSl7dGhpcy5zJiYoR2ModGhpcy5zKSx0aGlzLnM9bnVsbCk7YXx8dGhpcy51KCk7dGhpcy52JiYoR2ModGhpcy52KSx0aGlzLnY9bnVsbCk7YSYmKHRoaXMucz15KGEsXCJwcmVjb21wb3NlXCIsZnVuY3Rpb24oYSl7dmFyIGI9bGcodGhpcyk7Yi5UZT0hMTtiLnpJbmRleD1JbmZpbml0eTthLmZyYW1lU3RhdGUubGF5ZXJTdGF0ZXNBcnJheS5wdXNoKGIpO2EuZnJhbWVTdGF0ZS5sYXllclN0YXRlc1t4KHRoaXMpXT1ifSx0aGlzKSx0aGlzLnY9eSh0aGlzLFwiY2hhbmdlXCIsYS5yZW5kZXIsYSksdGhpcy51KCkpfTtrLmhkPWZ1bmN0aW9uKGEpe3RoaXMuc2V0KFwic291cmNlXCIsYSl9O2Z1bmN0aW9uIHpnKGEpe2E9YT9hOnt9O3RoaXMudj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiVUxcIik7dGhpcy5sPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJMSVwiKTt0aGlzLnYuYXBwZW5kQ2hpbGQodGhpcy5sKTt0aGlzLmwuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjt0aGlzLmM9dm9pZCAwIT09YS5jb2xsYXBzZWQ/YS5jb2xsYXBzZWQ6ITA7dGhpcy5qPXZvaWQgMCE9PWEuY29sbGFwc2libGU/YS5jb2xsYXBzaWJsZTohMDt0aGlzLmp8fCh0aGlzLmM9ITEpO3ZhciBiPXZvaWQgMCE9PWEuY2xhc3NOYW1lP2EuY2xhc3NOYW1lOlwib2wtYXR0cmlidXRpb25cIixjPXZvaWQgMCE9PWEudGlwTGFiZWw/YS50aXBMYWJlbDpcIkF0dHJpYnV0aW9uc1wiLGQ9dm9pZCAwIT09YS5jb2xsYXBzZUxhYmVsP2EuY29sbGFwc2VMYWJlbDpcIlxcdTAwYmJcIjtcInN0cmluZ1wiPT09dHlwZW9mIGQ/KHRoaXMubz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSx0aGlzLm8udGV4dENvbnRlbnQ9ZCk6dGhpcy5vPVxuZDtkPXZvaWQgMCE9PWEubGFiZWw/YS5sYWJlbDpcImlcIjtcInN0cmluZ1wiPT09dHlwZW9mIGQ/KHRoaXMuRD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSx0aGlzLkQudGV4dENvbnRlbnQ9ZCk6dGhpcy5EPWQ7dmFyIGU9dGhpcy5qJiYhdGhpcy5jP3RoaXMubzp0aGlzLkQ7ZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO2Quc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiYnV0dG9uXCIpO2QudGl0bGU9YztkLmFwcGVuZENoaWxkKGUpO3koZCxcImNsaWNrXCIsdGhpcy5Cbix0aGlzKTtjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yy5jbGFzc05hbWU9YitcIiBvbC11bnNlbGVjdGFibGUgb2wtY29udHJvbFwiKyh0aGlzLmMmJnRoaXMuaj9cIiBvbC1jb2xsYXBzZWRcIjpcIlwiKSsodGhpcy5qP1wiXCI6XCIgb2wtdW5jb2xsYXBzaWJsZVwiKTtjLmFwcGVuZENoaWxkKHRoaXMudik7Yy5hcHBlbmRDaGlsZChkKTt2Zy5jYWxsKHRoaXMse2VsZW1lbnQ6YyxyZW5kZXI6YS5yZW5kZXI/XG5hLnJlbmRlcjpBZyx0YXJnZXQ6YS50YXJnZXR9KTt0aGlzLkI9W107dGhpcy5DPSEwO3RoaXMuTz17fX13KHpnLHZnKTtcbmZ1bmN0aW9uIEFnKGEpe2lmKGE9YS5mcmFtZVN0YXRlKXtmb3IodmFyIGI9e30sYz1bXSxkPWEubGF5ZXJTdGF0ZXNBcnJheSxlPWEudmlld1N0YXRlLnJlc29sdXRpb24sZj0wLGc9ZC5sZW5ndGg7ZjxnOysrZil7dmFyIGg9ZFtmXTtpZih5ZyhoLGUpJiYoaD1oLmxheWVyLmhhKCkpJiYoaD1oLkMpJiYoaD1oKGEpKSlpZihBcnJheS5pc0FycmF5KGgpKWZvcih2YXIgbD0wLG09aC5sZW5ndGg7bDxtOysrbCloW2xdaW4gYnx8KGMucHVzaChoW2xdKSxiW2hbbF1dPSEwKTtlbHNlIGggaW4gYnx8KGMucHVzaChoKSxiW2hdPSEwKX1pZighamMoYyx0aGlzLkIpKXtmb3IoO3RoaXMudi5sYXN0Q2hpbGQhPT10aGlzLmw7KXRoaXMudi5yZW1vdmVDaGlsZCh0aGlzLnYubGFzdENoaWxkKTtiPTA7Zm9yKGQ9Yy5sZW5ndGg7YjxkOysrYillPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJMSVwiKSxlLmlubmVySFRNTD1jW2JdLHRoaXMudi5hcHBlbmRDaGlsZChlKTswPT09Yy5sZW5ndGgmJjA8XG50aGlzLkIubGVuZ3RoP3RoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwib2wtbG9nby1vbmx5XCIpOjA9PT10aGlzLkIubGVuZ3RoJiYwPGMubGVuZ3RoJiZ0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm9sLWxvZ28tb25seVwiKTtiPTA8Yy5sZW5ndGh8fCFuYihhLmxvZ29zKTt0aGlzLkMhPWImJih0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheT1iP1wiXCI6XCJub25lXCIsdGhpcy5DPWIpO3RoaXMuQj1jO2E9YS5sb2dvcztjPXRoaXMuTztmb3IocCBpbiBjKXAgaW4gYXx8KGpnKGNbcF0pLGRlbGV0ZSBjW3BdKTtmb3IodmFyIG4gaW4gYSlpZihkPWFbbl0sZCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50JiYodGhpcy5sLmFwcGVuZENoaWxkKGQpLGNbbl09ZCksIShuIGluIGMpKXt2YXIgcD1uZXcgSW1hZ2U7cC5zcmM9bjtcIlwiPT09ZD9iPXA6KGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIiksYi5ocmVmPWQsYi5hcHBlbmRDaGlsZChwKSk7dGhpcy5sLmFwcGVuZENoaWxkKGIpO2Nbbl09XG5ifXRoaXMubC5zdHlsZS5kaXNwbGF5PW5iKGEpP1wibm9uZVwiOlwiXCJ9fWVsc2UgdGhpcy5DJiYodGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdGhpcy5DPSExKX1rPXpnLnByb3RvdHlwZTtrLkJuPWZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKTtCZyh0aGlzKX07ZnVuY3Rpb24gQmcoYSl7YS5lbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoXCJvbC1jb2xsYXBzZWRcIik7YS5jP2lnKGEubyxhLkQpOmlnKGEuRCxhLm8pO2EuYz0hYS5jfWsuQW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qfTtrLkRuPWZ1bmN0aW9uKGEpe3RoaXMuaiE9PWEmJih0aGlzLmo9YSx0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShcIm9sLXVuY29sbGFwc2libGVcIiksIWEmJnRoaXMuYyYmQmcodGhpcykpfTtrLkNuPWZ1bmN0aW9uKGEpe3RoaXMuaiYmdGhpcy5jIT09YSYmQmcodGhpcyl9O2suem49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTtmdW5jdGlvbiBDZyhhKXthPWE/YTp7fTt2YXIgYj12b2lkIDAhPT1hLmNsYXNzTmFtZT9hLmNsYXNzTmFtZTpcIm9sLXJvdGF0ZVwiLGM9dm9pZCAwIT09YS5sYWJlbD9hLmxhYmVsOlwiXFx1MjFlN1wiO3RoaXMuYz1udWxsO1wic3RyaW5nXCI9PT10eXBlb2YgYz8odGhpcy5jPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLHRoaXMuYy5jbGFzc05hbWU9XCJvbC1jb21wYXNzXCIsdGhpcy5jLnRleHRDb250ZW50PWMpOih0aGlzLmM9Yyx0aGlzLmMuY2xhc3NMaXN0LmFkZChcIm9sLWNvbXBhc3NcIikpO3ZhciBkPWEudGlwTGFiZWw/YS50aXBMYWJlbDpcIlJlc2V0IHJvdGF0aW9uXCI7Yz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO2MuY2xhc3NOYW1lPWIrXCItcmVzZXRcIjtjLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImJ1dHRvblwiKTtjLnRpdGxlPWQ7Yy5hcHBlbmRDaGlsZCh0aGlzLmMpO3koYyxcImNsaWNrXCIsQ2cucHJvdG90eXBlLkQsdGhpcyk7ZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuZC5jbGFzc05hbWU9YitcIiBvbC11bnNlbGVjdGFibGUgb2wtY29udHJvbFwiO2QuYXBwZW5kQ2hpbGQoYyk7Yj1hLnJlbmRlcj9hLnJlbmRlcjpEZzt0aGlzLmw9YS5yZXNldE5vcnRoP2EucmVzZXROb3J0aDp2b2lkIDA7dmcuY2FsbCh0aGlzLHtlbGVtZW50OmQscmVuZGVyOmIsdGFyZ2V0OmEudGFyZ2V0fSk7dGhpcy52PXZvaWQgMCE9PWEuZHVyYXRpb24/YS5kdXJhdGlvbjoyNTA7dGhpcy5qPXZvaWQgMCE9PWEuYXV0b0hpZGU/YS5hdXRvSGlkZTohMDt0aGlzLm89dm9pZCAwO3RoaXMuaiYmdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJvbC1oaWRkZW5cIil9dyhDZyx2Zyk7Q2cucHJvdG90eXBlLkQ9ZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpO3ZvaWQgMCE9PXRoaXMubD90aGlzLmwoKTooYT10aGlzLmEuYWEoKSkmJnZvaWQgMCE9PWEuU2EoKSYmKDA8dGhpcy52P2EuYW5pbWF0ZSh7cm90YXRpb246MCxkdXJhdGlvbjp0aGlzLnYsZWFzaW5nOk9lfSk6YS5jZSgwKSl9O1xuZnVuY3Rpb24gRGcoYSl7aWYoYT1hLmZyYW1lU3RhdGUpe2E9YS52aWV3U3RhdGUucm90YXRpb247aWYoYSE9dGhpcy5vKXt2YXIgYj1cInJvdGF0ZShcIithK1wicmFkKVwiO2lmKHRoaXMuail7dmFyIGM9dGhpcy5lbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcIm9sLWhpZGRlblwiKTtjfHwwIT09YT9jJiYwIT09YSYmdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJvbC1oaWRkZW5cIik6dGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJvbC1oaWRkZW5cIil9dGhpcy5jLnN0eWxlLm1zVHJhbnNmb3JtPWI7dGhpcy5jLnN0eWxlLndlYmtpdFRyYW5zZm9ybT1iO3RoaXMuYy5zdHlsZS50cmFuc2Zvcm09Yn10aGlzLm89YX19O2Z1bmN0aW9uIEVnKGEpe2E9YT9hOnt9O3ZhciBiPXZvaWQgMCE9PWEuY2xhc3NOYW1lP2EuY2xhc3NOYW1lOlwib2wtem9vbVwiLGM9dm9pZCAwIT09YS5kZWx0YT9hLmRlbHRhOjEsZD12b2lkIDAhPT1hLnpvb21JbkxhYmVsP2Euem9vbUluTGFiZWw6XCIrXCIsZT12b2lkIDAhPT1hLnpvb21PdXRMYWJlbD9hLnpvb21PdXRMYWJlbDpcIlxcdTIyMTJcIixmPXZvaWQgMCE9PWEuem9vbUluVGlwTGFiZWw/YS56b29tSW5UaXBMYWJlbDpcIlpvb20gaW5cIixnPXZvaWQgMCE9PWEuem9vbU91dFRpcExhYmVsP2Euem9vbU91dFRpcExhYmVsOlwiWm9vbSBvdXRcIixoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7aC5jbGFzc05hbWU9YitcIi1pblwiO2guc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiYnV0dG9uXCIpO2gudGl0bGU9ZjtoLmFwcGVuZENoaWxkKFwic3RyaW5nXCI9PT10eXBlb2YgZD9kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkKTpkKTt5KGgsXCJjbGlja1wiLEVnLnByb3RvdHlwZS5qLmJpbmQodGhpcyxcbmMpKTtkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7ZC5jbGFzc05hbWU9YitcIi1vdXRcIjtkLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImJ1dHRvblwiKTtkLnRpdGxlPWc7ZC5hcHBlbmRDaGlsZChcInN0cmluZ1wiPT09dHlwZW9mIGU/ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZSk6ZSk7eShkLFwiY2xpY2tcIixFZy5wcm90b3R5cGUuai5iaW5kKHRoaXMsLWMpKTtjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yy5jbGFzc05hbWU9YitcIiBvbC11bnNlbGVjdGFibGUgb2wtY29udHJvbFwiO2MuYXBwZW5kQ2hpbGQoaCk7Yy5hcHBlbmRDaGlsZChkKTt2Zy5jYWxsKHRoaXMse2VsZW1lbnQ6Yyx0YXJnZXQ6YS50YXJnZXR9KTt0aGlzLmM9dm9pZCAwIT09YS5kdXJhdGlvbj9hLmR1cmF0aW9uOjI1MH13KEVnLHZnKTtcbkVnLnByb3RvdHlwZS5qPWZ1bmN0aW9uKGEsYil7Yi5wcmV2ZW50RGVmYXVsdCgpO2lmKGI9dGhpcy5hLmFhKCkpe3ZhciBjPWIuUGEoKTtjJiYoYT1iLmNvbnN0cmFpblJlc29sdXRpb24oYyxhKSwwPHRoaXMuYz8oYi5BYygpJiZiLnJkKCksYi5hbmltYXRlKHtyZXNvbHV0aW9uOmEsZHVyYXRpb246dGhpcy5jLGVhc2luZzpPZX0pKTpiLmdkKGEpKX19O2Z1bmN0aW9uIEZnKGEpe2E9YT9hOnt9O3ZhciBiPW5ldyBCOyh2b2lkIDAhPT1hLnpvb20/YS56b29tOjEpJiZiLnB1c2gobmV3IEVnKGEuem9vbU9wdGlvbnMpKTsodm9pZCAwIT09YS5yb3RhdGU/YS5yb3RhdGU6MSkmJmIucHVzaChuZXcgQ2coYS5yb3RhdGVPcHRpb25zKSk7KHZvaWQgMCE9PWEuYXR0cmlidXRpb24/YS5hdHRyaWJ1dGlvbjoxKSYmYi5wdXNoKG5ldyB6ZyhhLmF0dHJpYnV0aW9uT3B0aW9ucykpO3JldHVybiBifTtmdW5jdGlvbiBHZyhhLGIsYyl7dGhpcy5pPWE7dGhpcy5jPWI7dGhpcy5mPWM7dGhpcy5iPVtdO3RoaXMuYT10aGlzLmc9MH1mdW5jdGlvbiBIZyhhKXthLmIubGVuZ3RoPTA7YS5nPTA7YS5hPTB9ZnVuY3Rpb24gSWcoYSl7aWYoNj5hLmIubGVuZ3RoKXJldHVybiExO3ZhciBiPURhdGUubm93KCktYS5mLGM9YS5iLmxlbmd0aC0zO2lmKGEuYltjKzJdPGIpcmV0dXJuITE7Zm9yKHZhciBkPWMtMzswPGQmJmEuYltkKzJdPmI7KWQtPTM7Yj1hLmJbYysyXS1hLmJbZCsyXTtpZihiPDFFMy82MClyZXR1cm4hMTt2YXIgZT1hLmJbY10tYS5iW2RdO2M9YS5iW2MrMV0tYS5iW2QrMV07YS5nPU1hdGguYXRhbjIoYyxlKTthLmE9TWF0aC5zcXJ0KGUqZStjKmMpL2I7cmV0dXJuIGEuYT5hLmN9O2Z1bmN0aW9uIEpnKGEpe1ZjLmNhbGwodGhpcyk7dGhpcy52PW51bGw7dGhpcy5IYSghMCk7dGhpcy5oYW5kbGVFdmVudD1hLmhhbmRsZUV2ZW50fXcoSmcsVmMpO0pnLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KFwiYWN0aXZlXCIpfTtKZy5wcm90b3R5cGUuaT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZ9O0pnLnByb3RvdHlwZS5IYT1mdW5jdGlvbihhKXt0aGlzLnNldChcImFjdGl2ZVwiLGEpfTtKZy5wcm90b3R5cGUuc2V0TWFwPWZ1bmN0aW9uKGEpe3RoaXMudj1hfTtmdW5jdGlvbiBLZyhhLGIsYyxkKXtpZih2b2lkIDAhPT1iKXt2YXIgZT1hLlNhKCksZj1hLnhhKCk7dm9pZCAwIT09ZSYmZiYmMDxkP2EuYW5pbWF0ZSh7cm90YXRpb246YixhbmNob3I6YyxkdXJhdGlvbjpkLGVhc2luZzpPZX0pOmEucm90YXRlKGIsYyl9fVxuZnVuY3Rpb24gTGcoYSxiLGMsZCl7dmFyIGU9YS5QYSgpO2I9YS5jb25zdHJhaW5SZXNvbHV0aW9uKGUsYiwwKTtpZih2b2lkIDAhPT1iKXt2YXIgZj1hLmo7Yj1wYShiLGEuaXx8ZltmLmxlbmd0aC0xXSxhLmF8fGZbMF0pfWMmJnZvaWQgMCE9PWImJmIhPT1lJiYoZj1hLnhhKCksYz1jZyhhLGIsYyksYz1hLlNjKGMpLGM9WyhiKmZbMF0tZSpjWzBdKS8oYi1lKSwoYipmWzFdLWUqY1sxXSkvKGItZSldKTtUZyhhLGIsYyxkKX1mdW5jdGlvbiBUZyhhLGIsYyxkKXtpZihiKXt2YXIgZT1hLlBhKCksZj1hLnhhKCk7dm9pZCAwIT09ZSYmZiYmYiE9PWUmJmQ/YS5hbmltYXRlKHtyZXNvbHV0aW9uOmIsYW5jaG9yOmMsZHVyYXRpb246ZCxlYXNpbmc6T2V9KTooYyYmKGM9Y2coYSxiLGMpLGEudWIoYykpLGEuZ2QoYikpfX07ZnVuY3Rpb24gVWcoYSl7YT1hP2E6e307dGhpcy5hPWEuZGVsdGE/YS5kZWx0YToxO0pnLmNhbGwodGhpcyx7aGFuZGxlRXZlbnQ6Vmd9KTt0aGlzLmY9dm9pZCAwIT09YS5kdXJhdGlvbj9hLmR1cmF0aW9uOjI1MH13KFVnLEpnKTtmdW5jdGlvbiBWZyhhKXt2YXIgYj0hMSxjPWEub3JpZ2luYWxFdmVudDtpZihcImRibGNsaWNrXCI9PWEudHlwZSl7Yj1hLmNvb3JkaW5hdGU7Yz1jLnNoaWZ0S2V5Py10aGlzLmE6dGhpcy5hO3ZhciBkPWEubWFwLmFhKCk7TGcoZCxjLGIsdGhpcy5mKTthLnByZXZlbnREZWZhdWx0KCk7Yj0hMH1yZXR1cm4hYn07ZnVuY3Rpb24gV2coYSl7YT1hLm9yaWdpbmFsRXZlbnQ7cmV0dXJuIGEuYWx0S2V5JiYhKGEubWV0YUtleXx8YS5jdHJsS2V5KSYmIWEuc2hpZnRLZXl9ZnVuY3Rpb24gWGcoYSl7YT1hLm9yaWdpbmFsRXZlbnQ7cmV0dXJuIGEuYWx0S2V5JiYhKGEubWV0YUtleXx8YS5jdHJsS2V5KSYmYS5zaGlmdEtleX1mdW5jdGlvbiBZZyhhKXthPWEub3JpZ2luYWxFdmVudDtyZXR1cm4gMD09YS5idXR0b24mJiEobGQmJm1kJiZhLmN0cmxLZXkpfWZ1bmN0aW9uIFpnKGEpe3JldHVyblwicG9pbnRlcm1vdmVcIj09YS50eXBlfWZ1bmN0aW9uICRnKGEpe3JldHVyblwic2luZ2xlY2xpY2tcIj09YS50eXBlfWZ1bmN0aW9uIGFoKGEpe2E9YS5vcmlnaW5hbEV2ZW50O3JldHVybiFhLmFsdEtleSYmIShhLm1ldGFLZXl8fGEuY3RybEtleSkmJiFhLnNoaWZ0S2V5fVxuZnVuY3Rpb24gYmgoYSl7YT1hLm9yaWdpbmFsRXZlbnQ7cmV0dXJuIWEuYWx0S2V5JiYhKGEubWV0YUtleXx8YS5jdHJsS2V5KSYmYS5zaGlmdEtleX1mdW5jdGlvbiBjaChhKXthPWEub3JpZ2luYWxFdmVudC50YXJnZXQudGFnTmFtZTtyZXR1cm5cIklOUFVUXCIhPT1hJiZcIlNFTEVDVFwiIT09YSYmXCJURVhUQVJFQVwiIT09YX1mdW5jdGlvbiBkaChhKXtvYShhLmIsNTYpO3JldHVyblwibW91c2VcIj09YS5iLnBvaW50ZXJUeXBlfWZ1bmN0aW9uIGVoKGEpe2E9YS5iO3JldHVybiBhLmlzUHJpbWFyeSYmMD09PWEuYnV0dG9ufTtmdW5jdGlvbiBmaChhKXthPWE/YTp7fTtKZy5jYWxsKHRoaXMse2hhbmRsZUV2ZW50OmEuaGFuZGxlRXZlbnQ/YS5oYW5kbGVFdmVudDpnaH0pO3RoaXMuY2s9YS5oYW5kbGVEb3duRXZlbnQ/YS5oYW5kbGVEb3duRXZlbnQ6U2U7dGhpcy5Faz1hLmhhbmRsZURyYWdFdmVudD9hLmhhbmRsZURyYWdFdmVudDplYTt0aGlzLktrPWEuaGFuZGxlTW92ZUV2ZW50P2EuaGFuZGxlTW92ZUV2ZW50OmVhO3RoaXMuTGs9YS5oYW5kbGVVcEV2ZW50P2EuaGFuZGxlVXBFdmVudDpTZTt0aGlzLkQ9ITE7dGhpcy4kPXt9O3RoaXMubD1bXX13KGZoLEpnKTtmdW5jdGlvbiBoaChhKXtmb3IodmFyIGI9YS5sZW5ndGgsYz0wLGQ9MCxlPTA7ZTxiO2UrKyljKz1hW2VdLmNsaWVudFgsZCs9YVtlXS5jbGllbnRZO3JldHVybltjL2IsZC9iXX1cbmZ1bmN0aW9uIGdoKGEpe2lmKCEoYSBpbnN0YW5jZW9mIEFkKSlyZXR1cm4hMDt2YXIgYj0hMSxjPWEudHlwZTtpZihcInBvaW50ZXJkb3duXCI9PT1jfHxcInBvaW50ZXJkcmFnXCI9PT1jfHxcInBvaW50ZXJ1cFwiPT09Yyl7Yz1hLmI7dmFyIGQ9Yy5wb2ludGVySWQudG9TdHJpbmcoKTtcInBvaW50ZXJ1cFwiPT1hLnR5cGU/ZGVsZXRlIHRoaXMuJFtkXTpcInBvaW50ZXJkb3duXCI9PWEudHlwZT90aGlzLiRbZF09YzpkIGluIHRoaXMuJCYmKHRoaXMuJFtkXT1jKTt0aGlzLmw9bWIodGhpcy4kKX10aGlzLkQ/XCJwb2ludGVyZHJhZ1wiPT1hLnR5cGU/dGhpcy5FayhhKTpcInBvaW50ZXJ1cFwiPT1hLnR5cGUmJih0aGlzLkQ9dGhpcy5MayhhKSYmMDx0aGlzLmwubGVuZ3RoKTpcInBvaW50ZXJkb3duXCI9PWEudHlwZT8odGhpcy5EPWE9dGhpcy5jayhhKSxiPXRoaXMuamQoYSkpOlwicG9pbnRlcm1vdmVcIj09YS50eXBlJiZ0aGlzLktrKGEpO3JldHVybiFifWZoLnByb3RvdHlwZS5qZD1mdW5jdGlvbihhKXtyZXR1cm4gYX07ZnVuY3Rpb24gaWgoYSl7ZmguY2FsbCh0aGlzLHtoYW5kbGVEb3duRXZlbnQ6amgsaGFuZGxlRHJhZ0V2ZW50OmtoLGhhbmRsZVVwRXZlbnQ6bGh9KTthPWE/YTp7fTt0aGlzLmE9YS5raW5ldGljO3RoaXMuZj1udWxsO3RoaXMubz1hLmNvbmRpdGlvbj9hLmNvbmRpdGlvbjphaDt0aGlzLmo9ITF9dyhpaCxmaCk7ZnVuY3Rpb24ga2goYSl7dmFyIGI9dGhpcy5sLGM9aGgoYik7aWYoYi5sZW5ndGg9PXRoaXMucyl7aWYodGhpcy5hJiZ0aGlzLmEuYi5wdXNoKGNbMF0sY1sxXSxEYXRlLm5vdygpKSx0aGlzLmYpe3ZhciBkPXRoaXMuZlswXS1jWzBdLGU9Y1sxXS10aGlzLmZbMV07YT1hLm1hcC5hYSgpO3ZhciBmPWEuZ2V0U3RhdGUoKTtkPVtkLGVdO0dlKGQsZi5yZXNvbHV0aW9uKTtGZShkLGYucm90YXRpb24pO3plKGQsZi5jZW50ZXIpO2Q9YS5TYyhkKTthLnViKGQpfX1lbHNlIHRoaXMuYSYmSGcodGhpcy5hKTt0aGlzLmY9Yzt0aGlzLnM9Yi5sZW5ndGh9XG5mdW5jdGlvbiBsaChhKXt2YXIgYj1hLm1hcDthPWIuYWEoKTtpZigwPT09dGhpcy5sLmxlbmd0aCl7aWYoIXRoaXMuaiYmdGhpcy5hJiZJZyh0aGlzLmEpKXt2YXIgYz10aGlzLmE7Yz0oYy5jLWMuYSkvYy5pO3ZhciBkPXRoaXMuYS5nLGU9YS54YSgpO2U9Yi5JYShlKTtiPWIuUmEoW2VbMF0tYypNYXRoLmNvcyhkKSxlWzFdLWMqTWF0aC5zaW4oZCldKTthLmFuaW1hdGUoe2NlbnRlcjphLlNjKGIpLGR1cmF0aW9uOjUwMCxlYXNpbmc6T2V9KX1iZyhhLDEsLTEpO3JldHVybiExfXRoaXMuYSYmSGcodGhpcy5hKTt0aGlzLmY9bnVsbDtyZXR1cm4hMH1cbmZ1bmN0aW9uIGpoKGEpe2lmKDA8dGhpcy5sLmxlbmd0aCYmdGhpcy5vKGEpKXt2YXIgYj1hLm1hcC5hYSgpO3RoaXMuZj1udWxsO3RoaXMuRHx8YmcoYiwxLDEpO2IuQWMoKSYmYi51YihhLmZyYW1lU3RhdGUudmlld1N0YXRlLmNlbnRlcik7dGhpcy5hJiZIZyh0aGlzLmEpO3RoaXMuaj0xPHRoaXMubC5sZW5ndGg7cmV0dXJuITB9cmV0dXJuITF9aWgucHJvdG90eXBlLmpkPVNlO2Z1bmN0aW9uIG1oKGEpe2E9YT9hOnt9O2ZoLmNhbGwodGhpcyx7aGFuZGxlRG93bkV2ZW50Om5oLGhhbmRsZURyYWdFdmVudDpvaCxoYW5kbGVVcEV2ZW50OnBofSk7dGhpcy5mPWEuY29uZGl0aW9uP2EuY29uZGl0aW9uOlhnO3RoaXMuYT12b2lkIDA7dGhpcy5qPXZvaWQgMCE9PWEuZHVyYXRpb24/YS5kdXJhdGlvbjoyNTB9dyhtaCxmaCk7ZnVuY3Rpb24gb2goYSl7aWYoZGgoYSkpe3ZhciBiPWEubWFwLGM9Yi5hYSgpO2lmKGMubC5yb3RhdGlvbiE9PXJlKXtiPWIuQ2IoKTthPWEucGl4ZWw7YT1NYXRoLmF0YW4yKGJbMV0vMi1hWzFdLGFbMF0tYlswXS8yKTtpZih2b2lkIDAhPT10aGlzLmEpe2I9YS10aGlzLmE7dmFyIGQ9Yy5TYSgpO0tnKGMsZC1iKX10aGlzLmE9YX19fVxuZnVuY3Rpb24gcGgoYSl7aWYoIWRoKGEpKXJldHVybiEwO2E9YS5tYXAuYWEoKTtiZyhhLDEsLTEpO3ZhciBiPWEuU2EoKSxjPXRoaXMuajtiPWEuY29uc3RyYWluUm90YXRpb24oYiwwKTtLZyhhLGIsdm9pZCAwLGMpO3JldHVybiExfWZ1bmN0aW9uIG5oKGEpe3JldHVybiBkaChhKSYmWWcoYSkmJnRoaXMuZihhKT8oYmcoYS5tYXAuYWEoKSwxLDEpLHRoaXMuYT12b2lkIDAsITApOiExfW1oLnByb3RvdHlwZS5qZD1TZTtmdW5jdGlvbiBxaChhKXt0aGlzLlVjPW51bGw7dGhpcy5hPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dGhpcy5hLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIjt0aGlzLmEuY2xhc3NOYW1lPVwib2wtYm94IFwiK2E7dGhpcy5nPXRoaXMuYz10aGlzLmI9bnVsbH13KHFoLE9jKTtxaC5wcm90b3R5cGUuaWE9ZnVuY3Rpb24oKXt0aGlzLnNldE1hcChudWxsKX07ZnVuY3Rpb24gcmgoYSl7dmFyIGI9YS5jLGM9YS5nO2E9YS5hLnN0eWxlO2EubGVmdD1NYXRoLm1pbihiWzBdLGNbMF0pK1wicHhcIjthLnRvcD1NYXRoLm1pbihiWzFdLGNbMV0pK1wicHhcIjthLndpZHRoPU1hdGguYWJzKGNbMF0tYlswXSkrXCJweFwiO2EuaGVpZ2h0PU1hdGguYWJzKGNbMV0tYlsxXSkrXCJweFwifVxucWgucHJvdG90eXBlLnNldE1hcD1mdW5jdGlvbihhKXtpZih0aGlzLmIpe3RoaXMuYi5vLnJlbW92ZUNoaWxkKHRoaXMuYSk7dmFyIGI9dGhpcy5hLnN0eWxlO2IubGVmdD1iLnRvcD1iLndpZHRoPWIuaGVpZ2h0PVwiaW5oZXJpdFwifSh0aGlzLmI9YSkmJnRoaXMuYi5vLmFwcGVuZENoaWxkKHRoaXMuYSl9O2Z1bmN0aW9uIHNoKGEpe3ZhciBiPWEuYyxjPWEuZztiPVtiLFtiWzBdLGNbMV1dLGMsW2NbMF0sYlsxXV1dLm1hcChhLmIuUmEsYS5iKTtiWzRdPWJbMF0uc2xpY2UoKTthLlVjP2EuVWMubmEoW2JdKTphLlVjPW5ldyBEKFtiXSl9cWgucHJvdG90eXBlLlU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5VY307ZnVuY3Rpb24gdGgoYSl7ZmguY2FsbCh0aGlzLHtoYW5kbGVEb3duRXZlbnQ6dWgsaGFuZGxlRHJhZ0V2ZW50OnZoLGhhbmRsZVVwRXZlbnQ6d2h9KTthPWE/YTp7fTt0aGlzLmE9bmV3IHFoKGEuY2xhc3NOYW1lfHxcIm9sLWRyYWdib3hcIik7dGhpcy5vPXZvaWQgMCE9PWEubWluQXJlYT9hLm1pbkFyZWE6NjQ7dGhpcy5mPW51bGw7dGhpcy5DPWEuY29uZGl0aW9uP2EuY29uZGl0aW9uOlJlO3RoaXMucz1hLmJveEVuZENvbmRpdGlvbj9hLmJveEVuZENvbmRpdGlvbjp4aH13KHRoLGZoKTtmdW5jdGlvbiB4aChhLGIsYyl7YT1jWzBdLWJbMF07Yj1jWzFdLWJbMV07cmV0dXJuIGEqYStiKmI+PXRoaXMub31mdW5jdGlvbiB2aChhKXtpZihkaChhKSl7dmFyIGI9dGhpcy5hLGM9YS5waXhlbDtiLmM9dGhpcy5mO2IuZz1jO3NoKGIpO3JoKGIpO3RoaXMuYihuZXcgeWgoemgsYS5jb29yZGluYXRlLGEpKX19dGgucHJvdG90eXBlLlU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLlUoKX07XG50aC5wcm90b3R5cGUuaj1lYTtmdW5jdGlvbiB3aChhKXtpZighZGgoYSkpcmV0dXJuITA7dGhpcy5hLnNldE1hcChudWxsKTt0aGlzLnMoYSx0aGlzLmYsYS5waXhlbCkmJih0aGlzLmooYSksdGhpcy5iKG5ldyB5aChBaCxhLmNvb3JkaW5hdGUsYSkpKTtyZXR1cm4hMX1mdW5jdGlvbiB1aChhKXtpZihkaChhKSYmWWcoYSkmJnRoaXMuQyhhKSl7dGhpcy5mPWEucGl4ZWw7dGhpcy5hLnNldE1hcChhLm1hcCk7dmFyIGI9dGhpcy5hLGM9dGhpcy5mO2IuYz10aGlzLmY7Yi5nPWM7c2goYik7cmgoYik7dGhpcy5iKG5ldyB5aChCaCxhLmNvb3JkaW5hdGUsYSkpO3JldHVybiEwfXJldHVybiExfXZhciBCaD1cImJveHN0YXJ0XCIsemg9XCJib3hkcmFnXCIsQWg9XCJib3hlbmRcIjtmdW5jdGlvbiB5aChhLGIsYyl7UWMuY2FsbCh0aGlzLGEpO3RoaXMuY29vcmRpbmF0ZT1iO3RoaXMubWFwQnJvd3NlckV2ZW50PWN9dyh5aCxRYyk7ZnVuY3Rpb24gQ2goYSl7YT1hP2E6e307dmFyIGI9YS5jb25kaXRpb24/YS5jb25kaXRpb246Ymg7dGhpcy5CPXZvaWQgMCE9PWEuZHVyYXRpb24/YS5kdXJhdGlvbjoyMDA7dGhpcy5UPXZvaWQgMCE9PWEub3V0P2Eub3V0OiExO3RoLmNhbGwodGhpcyx7Y29uZGl0aW9uOmIsY2xhc3NOYW1lOmEuY2xhc3NOYW1lfHxcIm9sLWRyYWd6b29tXCJ9KX13KENoLHRoKTtcbkNoLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52LGI9YS5hYSgpLGM9YS5DYigpLGQ9dGhpcy5VKCkuRygpO2lmKHRoaXMuVCl7dmFyIGU9Yi5xZChjKTtkPVthLklhKFdhKGQpKSxhLklhKFphKGQpKV07YT1PYSh2b2lkIDApO3ZhciBmO3ZhciBnPTA7Zm9yKGY9ZC5sZW5ndGg7ZzxmOysrZylFYShhLGRbZ10pO2Q9Yi5KZShhLGMpO2liKGUsMS9kKTtkPWV9Yz1iLmNvbnN0cmFpblJlc29sdXRpb24oYi5KZShkLGMpKTtlPWViKGQpO2U9Yi5TYyhlKTtiLmFuaW1hdGUoe3Jlc29sdXRpb246YyxjZW50ZXI6ZSxkdXJhdGlvbjp0aGlzLkIsZWFzaW5nOk9lfSl9O2Z1bmN0aW9uIERoKGEpe0pnLmNhbGwodGhpcyx7aGFuZGxlRXZlbnQ6RWh9KTthPWF8fHt9O3RoaXMuYT1mdW5jdGlvbihhKXtyZXR1cm4gYWgoYSkmJmNoKGEpfTt0aGlzLmY9dm9pZCAwIT09YS5jb25kaXRpb24/YS5jb25kaXRpb246dGhpcy5hO3RoaXMuaj12b2lkIDAhPT1hLmR1cmF0aW9uP2EuZHVyYXRpb246MTAwO3RoaXMubD12b2lkIDAhPT1hLnBpeGVsRGVsdGE/YS5waXhlbERlbHRhOjEyOH13KERoLEpnKTtcbmZ1bmN0aW9uIEVoKGEpe3ZhciBiPSExO2lmKFwia2V5ZG93blwiPT1hLnR5cGUpe3ZhciBjPWEub3JpZ2luYWxFdmVudC5rZXlDb2RlO2lmKHRoaXMuZihhKSYmKDQwPT1jfHwzNz09Y3x8Mzk9PWN8fDM4PT1jKSl7Yj1hLm1hcC5hYSgpO3ZhciBkPWIuUGEoKSp0aGlzLmwsZT0wLGY9MDs0MD09Yz9mPS1kOjM3PT1jP2U9LWQ6Mzk9PWM/ZT1kOmY9ZDtkPVtlLGZdO0ZlKGQsYi5TYSgpKTtjPXRoaXMuajtpZihlPWIueGEoKSlkPWIuU2MoW2VbMF0rZFswXSxlWzFdK2RbMV1dKSxjP2IuYW5pbWF0ZSh7ZHVyYXRpb246YyxlYXNpbmc6UWUsY2VudGVyOmR9KTpiLnViKGQpO2EucHJldmVudERlZmF1bHQoKTtiPSEwfX1yZXR1cm4hYn07ZnVuY3Rpb24gRmgoYSl7SmcuY2FsbCh0aGlzLHtoYW5kbGVFdmVudDpHaH0pO2E9YT9hOnt9O3RoaXMuZj1hLmNvbmRpdGlvbj9hLmNvbmRpdGlvbjpjaDt0aGlzLmE9YS5kZWx0YT9hLmRlbHRhOjE7dGhpcy5qPXZvaWQgMCE9PWEuZHVyYXRpb24/YS5kdXJhdGlvbjoxMDB9dyhGaCxKZyk7ZnVuY3Rpb24gR2goYSl7dmFyIGI9ITE7aWYoXCJrZXlkb3duXCI9PWEudHlwZXx8XCJrZXlwcmVzc1wiPT1hLnR5cGUpe3ZhciBjPWEub3JpZ2luYWxFdmVudC5jaGFyQ29kZTshdGhpcy5mKGEpfHw0MyE9YyYmNDUhPWN8fChiPTQzPT1jP3RoaXMuYTotdGhpcy5hLGM9YS5tYXAuYWEoKSxMZyhjLGIsdm9pZCAwLHRoaXMuaiksYS5wcmV2ZW50RGVmYXVsdCgpLGI9ITApfXJldHVybiFifTtmdW5jdGlvbiBIaChhKXtKZy5jYWxsKHRoaXMse2hhbmRsZUV2ZW50OklofSk7YT1hfHx7fTt0aGlzLmo9MDt0aGlzLkQ9dm9pZCAwIT09YS5kdXJhdGlvbj9hLmR1cmF0aW9uOjI1MDt0aGlzLiQ9dm9pZCAwIT09YS50aW1lb3V0P2EudGltZW91dDo4MDt0aGlzLkM9dm9pZCAwIT09YS51c2VBbmNob3I/YS51c2VBbmNob3I6ITA7dGhpcy5PPWEuY29uc3RyYWluUmVzb2x1dGlvbnx8ITE7dGhpcy5hPW51bGw7dGhpcy5zPXRoaXMubD10aGlzLm89dGhpcy5mPXZvaWQgMH13KEhoLEpnKTtcbmZ1bmN0aW9uIEloKGEpe3ZhciBiPWEudHlwZTtpZihcIndoZWVsXCIhPT1iJiZcIm1vdXNld2hlZWxcIiE9PWIpcmV0dXJuITA7YS5wcmV2ZW50RGVmYXVsdCgpO2I9YS5tYXA7dmFyIGM9YS5vcmlnaW5hbEV2ZW50O3RoaXMuQyYmKHRoaXMuYT1hLmNvb3JkaW5hdGUpO2lmKFwid2hlZWxcIj09YS50eXBlKXt2YXIgZD1jLmRlbHRhWTtqZCYmYy5kZWx0YU1vZGU9PT1XaGVlbEV2ZW50LkRPTV9ERUxUQV9QSVhFTCYmKGQvPW5kKTtjLmRlbHRhTW9kZT09PVdoZWVsRXZlbnQuRE9NX0RFTFRBX0xJTkUmJihkKj00MCl9ZWxzZVwibW91c2V3aGVlbFwiPT1hLnR5cGUmJihkPS1jLndoZWVsRGVsdGFZLGtkJiYoZC89MykpO2lmKDA9PT1kKXJldHVybiExO2E9RGF0ZS5ub3coKTt2b2lkIDA9PT10aGlzLmYmJih0aGlzLmY9YSk7aWYoIXRoaXMubHx8NDAwPGEtdGhpcy5mKXRoaXMubD00Pk1hdGguYWJzKGQpP1BoOlFoO2lmKHRoaXMubD09PVBoKXtiPWIuYWEoKTt0aGlzLnM/Y2xlYXJUaW1lb3V0KHRoaXMucyk6XG5iZyhiLDEsMSk7dGhpcy5zPXNldFRpbWVvdXQodGhpcy5CLmJpbmQodGhpcyksNDAwKTtjPWIuUGEoKSpNYXRoLnBvdygyLGQvMzAwKTt2YXIgZT1iLmksZj1iLmEsZz0wO2M8ZT8oYz1NYXRoLm1heChjLGUvMS41KSxnPTEpOmM+ZiYmKGM9TWF0aC5taW4oYywxLjUqZiksZz0tMSk7aWYodGhpcy5hKXt2YXIgaD1jZyhiLGMsdGhpcy5hKTtiLnViKGIuU2MoaCkpfWIuZ2QoYyk7MD09PWcmJnRoaXMuTyYmYi5hbmltYXRlKHtyZXNvbHV0aW9uOmIuY29uc3RyYWluUmVzb2x1dGlvbihjLDA8ZD8tMToxKSxlYXNpbmc6T2UsYW5jaG9yOnRoaXMuYSxkdXJhdGlvbjp0aGlzLkR9KTswPGc/Yi5hbmltYXRlKHtyZXNvbHV0aW9uOmUsZWFzaW5nOk9lLGFuY2hvcjp0aGlzLmEsZHVyYXRpb246NTAwfSk6MD5nJiZiLmFuaW1hdGUoe3Jlc29sdXRpb246ZixlYXNpbmc6T2UsYW5jaG9yOnRoaXMuYSxkdXJhdGlvbjo1MDB9KTt0aGlzLmY9YTtyZXR1cm4hMX10aGlzLmorPWQ7ZD1NYXRoLm1heCh0aGlzLiQtXG4oYS10aGlzLmYpLDApO2NsZWFyVGltZW91dCh0aGlzLm8pO3RoaXMubz1zZXRUaW1lb3V0KHRoaXMuVC5iaW5kKHRoaXMsYiksZCk7cmV0dXJuITF9SGgucHJvdG90eXBlLkI9ZnVuY3Rpb24oKXt0aGlzLnM9dm9pZCAwO2JnKHRoaXMudi5hYSgpLDEsLTEpfTtIaC5wcm90b3R5cGUuVD1mdW5jdGlvbihhKXthPWEuYWEoKTthLkFjKCkmJmEucmQoKTtMZyhhLC1wYSh0aGlzLmosLTEsMSksdGhpcy5hLHRoaXMuRCk7dGhpcy5sPXZvaWQgMDt0aGlzLmo9MDt0aGlzLmE9bnVsbDt0aGlzLm89dGhpcy5mPXZvaWQgMH07SGgucHJvdG90eXBlLlY9ZnVuY3Rpb24oYSl7dGhpcy5DPWE7YXx8KHRoaXMuYT1udWxsKX07dmFyIFBoPVwidHJhY2twYWRcIixRaD1cIndoZWVsXCI7ZnVuY3Rpb24gUmgoYSl7ZmguY2FsbCh0aGlzLHtoYW5kbGVEb3duRXZlbnQ6U2gsaGFuZGxlRHJhZ0V2ZW50OlRoLGhhbmRsZVVwRXZlbnQ6VWh9KTthPWF8fHt9O3RoaXMuZj1udWxsO3RoaXMuaj12b2lkIDA7dGhpcy5hPSExO3RoaXMucz0wO3RoaXMuQz12b2lkIDAhPT1hLnRocmVzaG9sZD9hLnRocmVzaG9sZDouMzt0aGlzLm89dm9pZCAwIT09YS5kdXJhdGlvbj9hLmR1cmF0aW9uOjI1MH13KFJoLGZoKTtcbmZ1bmN0aW9uIFRoKGEpe3ZhciBiPTAsYz10aGlzLmxbMF0sZD10aGlzLmxbMV07Yz1NYXRoLmF0YW4yKGQuY2xpZW50WS1jLmNsaWVudFksZC5jbGllbnRYLWMuY2xpZW50WCk7dm9pZCAwIT09dGhpcy5qJiYoYj1jLXRoaXMuaix0aGlzLnMrPWIsIXRoaXMuYSYmTWF0aC5hYnModGhpcy5zKT50aGlzLkMmJih0aGlzLmE9ITApKTt0aGlzLmo9YzthPWEubWFwO2M9YS5hYSgpO2lmKGMubC5yb3RhdGlvbiE9PXJlKXtkPWEuYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt2YXIgZT1oaCh0aGlzLmwpO2VbMF0tPWQubGVmdDtlWzFdLT1kLnRvcDt0aGlzLmY9YS5SYShlKTt0aGlzLmEmJihkPWMuU2EoKSxhLnJlbmRlcigpLEtnKGMsZCtiLHRoaXMuZikpfX1cbmZ1bmN0aW9uIFVoKGEpe2lmKDI+dGhpcy5sLmxlbmd0aCl7YT1hLm1hcC5hYSgpO2JnKGEsMSwtMSk7aWYodGhpcy5hKXt2YXIgYj1hLlNhKCksYz10aGlzLmYsZD10aGlzLm87Yj1hLmNvbnN0cmFpblJvdGF0aW9uKGIsMCk7S2coYSxiLGMsZCl9cmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gU2goYSl7cmV0dXJuIDI8PXRoaXMubC5sZW5ndGg/KGE9YS5tYXAsdGhpcy5mPW51bGwsdGhpcy5qPXZvaWQgMCx0aGlzLmE9ITEsdGhpcy5zPTAsdGhpcy5EfHxiZyhhLmFhKCksMSwxKSwhMCk6ITF9UmgucHJvdG90eXBlLmpkPVNlO2Z1bmN0aW9uIFZoKGEpe2ZoLmNhbGwodGhpcyx7aGFuZGxlRG93bkV2ZW50OldoLGhhbmRsZURyYWdFdmVudDpYaCxoYW5kbGVVcEV2ZW50OllofSk7YT1hP2E6e307dGhpcy5zPWEuY29uc3RyYWluUmVzb2x1dGlvbnx8ITE7dGhpcy5mPW51bGw7dGhpcy5vPXZvaWQgMCE9PWEuZHVyYXRpb24/YS5kdXJhdGlvbjo0MDA7dGhpcy5hPXZvaWQgMDt0aGlzLmo9MX13KFZoLGZoKTtcbmZ1bmN0aW9uIFhoKGEpe3ZhciBiPTEsYz10aGlzLmxbMF0sZD10aGlzLmxbMV0sZT1jLmNsaWVudFgtZC5jbGllbnRYO2M9Yy5jbGllbnRZLWQuY2xpZW50WTtlPU1hdGguc3FydChlKmUrYypjKTt2b2lkIDAhPT10aGlzLmEmJihiPXRoaXMuYS9lKTt0aGlzLmE9ZTthPWEubWFwO2U9YS5hYSgpO2Q9ZS5QYSgpO3ZhciBmPWUuYSxnPWUuaTtjPWQqYjtjPmY/KGI9Zi9kLGM9Zik6YzxnJiYoYj1nL2QsYz1nKTsxIT1iJiYodGhpcy5qPWIpO2I9YS5hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2Q9aGgodGhpcy5sKTtkWzBdLT1iLmxlZnQ7ZFsxXS09Yi50b3A7dGhpcy5mPWEuUmEoZCk7YS5yZW5kZXIoKTtUZyhlLGMsdGhpcy5mKX1cbmZ1bmN0aW9uIFloKGEpe2lmKDI+dGhpcy5sLmxlbmd0aCl7YT1hLm1hcC5hYSgpO2JnKGEsMSwtMSk7dmFyIGI9YS5QYSgpO2lmKHRoaXMuc3x8YjxhLml8fGI+YS5hKXt2YXIgYz10aGlzLmYsZD10aGlzLm87Yj1hLmNvbnN0cmFpblJlc29sdXRpb24oYiwwLHRoaXMuai0xKTtUZyhhLGIsYyxkKX1yZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBXaChhKXtyZXR1cm4gMjw9dGhpcy5sLmxlbmd0aD8oYT1hLm1hcCx0aGlzLmY9bnVsbCx0aGlzLmE9dm9pZCAwLHRoaXMuaj0xLHRoaXMuRHx8YmcoYS5hYSgpLDEsMSksITApOiExfVZoLnByb3RvdHlwZS5qZD1TZTtmdW5jdGlvbiBaaChhKXthPWE/YTp7fTt2YXIgYj1uZXcgQixjPW5ldyBHZygtLjAwNSwuMDUsMTAwKTsodm9pZCAwIT09YS5hbHRTaGlmdERyYWdSb3RhdGU/YS5hbHRTaGlmdERyYWdSb3RhdGU6MSkmJmIucHVzaChuZXcgbWgpOyh2b2lkIDAhPT1hLmRvdWJsZUNsaWNrWm9vbT9hLmRvdWJsZUNsaWNrWm9vbToxKSYmYi5wdXNoKG5ldyBVZyh7ZGVsdGE6YS56b29tRGVsdGEsZHVyYXRpb246YS56b29tRHVyYXRpb259KSk7KHZvaWQgMCE9PWEuZHJhZ1Bhbj9hLmRyYWdQYW46MSkmJmIucHVzaChuZXcgaWgoe2tpbmV0aWM6Y30pKTsodm9pZCAwIT09YS5waW5jaFJvdGF0ZT9hLnBpbmNoUm90YXRlOjEpJiZiLnB1c2gobmV3IFJoKTsodm9pZCAwIT09YS5waW5jaFpvb20/YS5waW5jaFpvb206MSkmJmIucHVzaChuZXcgVmgoe2NvbnN0cmFpblJlc29sdXRpb246YS5jb25zdHJhaW5SZXNvbHV0aW9uLGR1cmF0aW9uOmEuem9vbUR1cmF0aW9ufSkpO2lmKHZvaWQgMCE9PWEua2V5Ym9hcmQ/XG5hLmtleWJvYXJkOjEpYi5wdXNoKG5ldyBEaCksYi5wdXNoKG5ldyBGaCh7ZGVsdGE6YS56b29tRGVsdGEsZHVyYXRpb246YS56b29tRHVyYXRpb259KSk7KHZvaWQgMCE9PWEubW91c2VXaGVlbFpvb20/YS5tb3VzZVdoZWVsWm9vbToxKSYmYi5wdXNoKG5ldyBIaCh7Y29uc3RyYWluUmVzb2x1dGlvbjphLmNvbnN0cmFpblJlc29sdXRpb24sZHVyYXRpb246YS56b29tRHVyYXRpb259KSk7KHZvaWQgMCE9PWEuc2hpZnREcmFnWm9vbT9hLnNoaWZ0RHJhZ1pvb206MSkmJmIucHVzaChuZXcgQ2goe2R1cmF0aW9uOmEuem9vbUR1cmF0aW9ufSkpO3JldHVybiBifTtmdW5jdGlvbiAkaChhLGIsYyxkKXtTYy5jYWxsKHRoaXMpO3RoaXMuZXh0ZW50PWE7dGhpcy5hPWM7dGhpcy5yZXNvbHV0aW9uPWI7dGhpcy5zdGF0ZT1kfXcoJGgsU2MpOyRoLnByb3RvdHlwZS51PWZ1bmN0aW9uKCl7dGhpcy5iKFwiY2hhbmdlXCIpfTskaC5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmV4dGVudH07JGgucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGV9O2Z1bmN0aW9uIGFpKGEsYixjLGQsZSl7dGhpcy5jPXZvaWQgMCE9PWU/ZTpudWxsOyRoLmNhbGwodGhpcyxhLGIsYyx2b2lkIDAhPT1lPzA6Mik7dGhpcy5nPWR9dyhhaSwkaCk7YWkucHJvdG90eXBlLmk9ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZT1hPzM6Mjt0aGlzLnUoKX07YWkucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXswPT10aGlzLnN0YXRlJiYodGhpcy5zdGF0ZT0xLHRoaXMudSgpLHRoaXMuYyh0aGlzLmkuYmluZCh0aGlzKSkpfTthaS5wcm90b3R5cGUuWT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O2Z1bmN0aW9uIGJpKGEsYixjLGQsZSl7UWMuY2FsbCh0aGlzLGEpO3RoaXMudmVjdG9yQ29udGV4dD1iO3RoaXMuZnJhbWVTdGF0ZT1jO3RoaXMuY29udGV4dD1kO3RoaXMuZ2xDb250ZXh0PWV9dyhiaSxRYyk7ZnVuY3Rpb24gY2koYSl7U2MuY2FsbCh0aGlzKTt0aGlzLmhpZ2hXYXRlck1hcms9dm9pZCAwIT09YT9hOjIwNDg7dGhpcy5pPTA7dGhpcy5hPXt9O3RoaXMuYz10aGlzLmc9bnVsbH13KGNpLFNjKTtmdW5jdGlvbiBkaShhKXtyZXR1cm4gYS5pPmEuaGlnaFdhdGVyTWFya31rPWNpLnByb3RvdHlwZTtrLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5pPTA7dGhpcy5hPXt9O3RoaXMuYz10aGlzLmc9bnVsbDt0aGlzLmIoXCJjbGVhclwiKX07ay5mb3JFYWNoPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuZztjOylhLmNhbGwoYixjLlBjLGMuamMsdGhpcyksYz1jLmtifTtcbmsuZ2V0PWZ1bmN0aW9uKGEpe2E9dGhpcy5hW2FdO29hKHZvaWQgMCE9PWEsMTUpO2lmKGE9PT10aGlzLmMpcmV0dXJuIGEuUGM7YT09PXRoaXMuZz8odGhpcy5nPXRoaXMuZy5rYix0aGlzLmcuUGI9bnVsbCk6KGEua2IuUGI9YS5QYixhLlBiLmtiPWEua2IpO2Eua2I9bnVsbDthLlBiPXRoaXMuYzt0aGlzLmM9dGhpcy5jLmtiPWE7cmV0dXJuIGEuUGN9O2sucmVtb3ZlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYVthXTtvYSh2b2lkIDAhPT1iLDE1KTtpZihiPT09dGhpcy5jKXtpZih0aGlzLmM9Yi5QYil0aGlzLmMua2I9bnVsbH1lbHNlIGlmKGI9PT10aGlzLmcpe2lmKHRoaXMuZz1iLmtiKXRoaXMuZy5QYj1udWxsfWVsc2UgYi5rYi5QYj1iLlBiLGIuUGIua2I9Yi5rYjtkZWxldGUgdGhpcy5hW2FdOy0tdGhpcy5pO3JldHVybiBiLlBjfTtcbmsucG9wPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nO2RlbGV0ZSB0aGlzLmFbYS5qY107YS5rYiYmKGEua2IuUGI9bnVsbCk7dGhpcy5nPWEua2I7dGhpcy5nfHwodGhpcy5jPW51bGwpOy0tdGhpcy5pO3JldHVybiBhLlBjfTtrLnJlcGxhY2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmdldChhKTt0aGlzLmFbYV0uUGM9Yn07ay5zZXQ9ZnVuY3Rpb24oYSxiKXtvYSghKGEgaW4gdGhpcy5hKSwxNik7Yj17amM6YSxrYjpudWxsLFBiOnRoaXMuYyxQYzpifTt0aGlzLmM/dGhpcy5jLmtiPWI6dGhpcy5nPWI7dGhpcy5jPWI7dGhpcy5hW2FdPWI7Kyt0aGlzLml9O3ZhciBlaT1bMCwwLDAsMV0sZmk9W10sZ2k9WzAsMCwwLDFdLGhpPVswLDAsMCwwXSxpaT1uZXcgY2ksamk9e30sa2k9bnVsbCxsaT17fSxuaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dmFyIGI9bWkoKTtiLmZvbnQ9XCIzMnB4IG1vbm9zcGFjZVwiO2Y9Yi5tZWFzdXJlVGV4dChcIndteXR6aWxXTVlUWklMQCMvJj8kJTEwXCIpLndpZHRoO3ZhciBjPSEwO1wibW9ub3NwYWNlXCIhPWEmJihiLmZvbnQ9XCIzMnB4IFwiK2ErXCIsbW9ub3NwYWNlXCIsYz1iLm1lYXN1cmVUZXh0KFwid215dHppbFdNWVRaSUxAIy8mPyQlMTBcIikud2lkdGghPWYpO3JldHVybiBjfWZ1bmN0aW9uIGIoKXt2YXIgYj0hMCxmO2ZvcihmIGluIGMpNjA+Y1tmXSYmKGEoZik/KGNbZl09NjAsbGIobGkpLGtpPW51bGwsZC5jbGVhcigpKTooKytjW2ZdLGI9ITEpKTtiJiYod2luZG93LmNsZWFySW50ZXJ2YWwoZSksZT12b2lkIDApfXZhciBjPWppLGQ9aWksZSxmO3JldHVybiBmdW5jdGlvbihkKXtpZihkPXdnKGQpKWZvcih2YXIgZj1cbjAsZz1kLmxlbmd0aDtmPGc7KytmKXt2YXIgbT1kW2ZdO20gaW4gY3x8KGNbbV09NjAsYShtKXx8KGNbbV09MCx2b2lkIDA9PT1lJiYoZT13aW5kb3cuc2V0SW50ZXJ2YWwoYiwzMikpKSl9fX0oKTtmdW5jdGlvbiBtaSgpe3ZhciBhPWtpO2F8fChhPWtpPWhnKDEsMSkpO3JldHVybiBhfVxudmFyIG9pPWZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWxpW2JdO3ZvaWQgMD09YyYmKGF8fChhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLGEudGV4dENvbnRlbnQ9XCJNXCIsYS5zdHlsZS5tYXJnaW49YS5zdHlsZS5wYWRkaW5nPVwiMCAhaW1wb3J0YW50XCIsYS5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlICFpbXBvcnRhbnRcIixhLnN0eWxlLmxlZnQ9XCItOTk5OTlweCAhaW1wb3J0YW50XCIpLGEuc3R5bGUuZm9udD1iLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSksYz1saVtiXT1hLm9mZnNldEhlaWdodCxkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpKTtyZXR1cm4gY319KCk7ZnVuY3Rpb24gcGkoYSxiKXt2YXIgYz1taSgpO2EhPWMuZm9udCYmKGMuZm9udD1hKTtyZXR1cm4gYy5tZWFzdXJlVGV4dChiKS53aWR0aH1cbmZ1bmN0aW9uIHFpKGEsYixjLGQpezAhPT1iJiYoYS50cmFuc2xhdGUoYyxkKSxhLnJvdGF0ZShiKSxhLnRyYW5zbGF0ZSgtYywtZCkpfXZhciByaT1XZSgpO2Z1bmN0aW9uIHNpKGEsYixjLGQsZSxmLGcsaCxsLG0sbil7aWYoMSE9Yyl7dmFyIHA9YS5nbG9iYWxBbHBoYTthLmdsb2JhbEFscGhhPXAqY31iJiZhLnNldFRyYW5zZm9ybS5hcHBseShhLGIpO2EuZHJhd0ltYWdlKGQsZSxmLGcsaCxsLG0sZypuLGgqbik7cCYmKGEuZ2xvYmFsQWxwaGE9cCk7YiYmYS5zZXRUcmFuc2Zvcm0uYXBwbHkoYSxyaSl9O3ZhciB0aT0vXiMoPzpbMC05YS1mXXszLDR9KXsxLDJ9JC9pLHVpPS9eKFthLXpdKikkL2k7ZnVuY3Rpb24gdmkoYSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoYSk/YTp3aShhKX1mdW5jdGlvbiB4aShhKXtpZihcInN0cmluZ1wiIT09dHlwZW9mIGEpe3ZhciBiPWFbMF07YiE9KGJ8MCkmJihiPWIrLjV8MCk7dmFyIGM9YVsxXTtjIT0oY3wwKSYmKGM9YysuNXwwKTt2YXIgZD1hWzJdO2QhPShkfDApJiYoZD1kKy41fDApO2E9XCJyZ2JhKFwiK2IrXCIsXCIrYytcIixcIitkK1wiLFwiKyh2b2lkIDA9PT1hWzNdPzE6YVszXSkrXCIpXCJ9cmV0dXJuIGF9XG52YXIgd2k9ZnVuY3Rpb24oKXt2YXIgYT17fSxiPTA7cmV0dXJuIGZ1bmN0aW9uKGMpe2lmKGEuaGFzT3duUHJvcGVydHkoYykpdmFyIGQ9YVtjXTtlbHNle2lmKDEwMjQ8PWIpe2Q9MDtmb3IodmFyIGUgaW4gYSkwPT09KGQrKyYzKSYmKGRlbGV0ZSBhW2VdLC0tYil9ZD1jO3VpLmV4ZWMoZCkmJihlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZS5zdHlsZS5jb2xvcj1kLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZSksZD1nZXRDb21wdXRlZFN0eWxlKGUpLmNvbG9yLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZSkpO2lmKHRpLmV4ZWMoZCkpe2U9ZC5sZW5ndGgtMTt2YXIgZj00Pj1lPzE6Mjt2YXIgZz00PT09ZXx8OD09PWU7ZT1wYXJzZUludChkLnN1YnN0cigxKzAqZixmKSwxNik7dmFyIGg9cGFyc2VJbnQoZC5zdWJzdHIoMSsxKmYsZiksMTYpO3ZhciBsPXBhcnNlSW50KGQuc3Vic3RyKDErMipmLGYpLDE2KTtkPWc/cGFyc2VJbnQoZC5zdWJzdHIoMSszKmYsZiksXG4xNik6MjU1OzE9PWYmJihlPShlPDw0KStlLGg9KGg8PDQpK2gsbD0obDw8NCkrbCxnJiYoZD0oZDw8NCkrZCkpO2Y9W2UsaCxsLGQvMjU1XX1lbHNlIDA9PWQuaW5kZXhPZihcInJnYmEoXCIpPyhkPWQuc2xpY2UoNSwtMSkuc3BsaXQoXCIsXCIpLm1hcChOdW1iZXIpLGY9eWkoZCkpOjA9PWQuaW5kZXhPZihcInJnYihcIik/KGQ9ZC5zbGljZSg0LC0xKS5zcGxpdChcIixcIikubWFwKE51bWJlciksZC5wdXNoKDEpLGY9eWkoZCkpOm9hKCExLDE0KTtkPWY7YVtjXT1kOysrYn1yZXR1cm4gZH19KCk7ZnVuY3Rpb24geWkoYSl7dmFyIGI9W107YlswXT1wYShhWzBdKy41fDAsMCwyNTUpO2JbMV09cGEoYVsxXSsuNXwwLDAsMjU1KTtiWzJdPXBhKGFbMl0rLjV8MCwwLDI1NSk7YlszXT1wYShhWzNdLDAsMSk7cmV0dXJuIGJ9O2Z1bmN0aW9uIHppKGEpe3JldHVyblwic3RyaW5nXCI9PT10eXBlb2YgYXx8YSBpbnN0YW5jZW9mIENhbnZhc1BhdHRlcm58fGEgaW5zdGFuY2VvZiBDYW52YXNHcmFkaWVudD9hOnhpKGEpfTtmdW5jdGlvbiBBaSgpe31rPUFpLnByb3RvdHlwZTtrLkhoPWZ1bmN0aW9uKCl7fTtrLkhiPWZ1bmN0aW9uKCl7fTtrLkRkPWZ1bmN0aW9uKCl7fTtrLmNjPWZ1bmN0aW9uKCl7fTtrLkNlPWZ1bmN0aW9uKCl7fTtrLkRlPWZ1bmN0aW9uKCl7fTtrLnVjPWZ1bmN0aW9uKCl7fTtrLnZjPWZ1bmN0aW9uKCl7fTtrLndjPWZ1bmN0aW9uKCl7fTtrLnhjPWZ1bmN0aW9uKCl7fTtrLnljPWZ1bmN0aW9uKCl7fTtrLnpjPWZ1bmN0aW9uKCl7fTtrLldiPWZ1bmN0aW9uKCl7fTtrLk9hPWZ1bmN0aW9uKCl7fTtrLlpiPWZ1bmN0aW9uKCl7fTtrLm5iPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiBCaShhLGIsYyxkLGUpe3RoaXMuZz1hO3RoaXMuZj1iO3RoaXMuYz1jO3RoaXMuTj1kO3RoaXMub2I9ZTt0aGlzLk09dGhpcy5iPXRoaXMuYT10aGlzLldhPXRoaXMuTz10aGlzLlQ9bnVsbDt0aGlzLiQ9dGhpcy5WPXRoaXMudj10aGlzLkI9dGhpcy5DPXRoaXMuRD0wO3RoaXMuY2E9ITE7dGhpcy5pPXRoaXMuYWI9MDt0aGlzLnJhPSExO3RoaXMub2E9MDt0aGlzLnRhPVwiXCI7dGhpcy5VYj10aGlzLnVhPTA7dGhpcy5FYT0hMTt0aGlzLnM9dGhpcy5MYT0wO3RoaXMucWE9dGhpcy5sPXRoaXMuaj1udWxsO3RoaXMubz1bXTt0aGlzLmJiPVdlKCl9dyhCaSxBaSk7XG5mdW5jdGlvbiBDaShhLGIsYyl7aWYoYS5NKXtiPVRlKGIsMCxjLDIsYS5OLGEubyk7Yz1hLmc7dmFyIGQ9YS5iYixlPWMuZ2xvYmFsQWxwaGE7MSE9YS52JiYoYy5nbG9iYWxBbHBoYT1lKmEudik7dmFyIGY9YS5hYjthLmNhJiYoZis9YS5vYik7dmFyIGc7dmFyIGg9MDtmb3IoZz1iLmxlbmd0aDtoPGc7aCs9Mil7dmFyIGw9YltoXS1hLkQsbT1iW2grMV0tYS5DO2EucmEmJihsPU1hdGgucm91bmQobCksbT1NYXRoLnJvdW5kKG0pKTtpZigwIT09Znx8MSE9YS5pKXt2YXIgbj1sK2EuRCxwPW0rYS5DO2VmKGQsbixwLGEuaSxhLmksZiwtbiwtcCk7Yy5zZXRUcmFuc2Zvcm0uYXBwbHkoYyxkKX1jLmRyYXdJbWFnZShhLk0sYS5WLGEuJCxhLm9hLGEuQixsLG0sYS5vYSxhLkIpfTA9PT1mJiYxPT1hLml8fGMuc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKTsxIT1hLnYmJihjLmdsb2JhbEFscGhhPWUpfX1cbmZ1bmN0aW9uIERpKGEsYixjLGQpe3ZhciBlPTA7aWYoYS5xYSYmXCJcIiE9PWEudGEpe2EuaiYmRWkoYSxhLmopO2EubCYmRmkoYSxhLmwpO3ZhciBmPWEucWEsZz1hLmcsaD1hLldhLGw9Zi50ZXh0QWxpZ24/Zi50ZXh0QWxpZ246XCJjZW50ZXJcIjtoPyhoLmZvbnQhPWYuZm9udCYmKGguZm9udD1nLmZvbnQ9Zi5mb250KSxoLnRleHRBbGlnbiE9bCYmKGgudGV4dEFsaWduPWwpLGgudGV4dEJhc2VsaW5lIT1mLnRleHRCYXNlbGluZSYmKGgudGV4dEJhc2VsaW5lPWcudGV4dEJhc2VsaW5lPWYudGV4dEJhc2VsaW5lKSk6KGcuZm9udD1mLmZvbnQsZy50ZXh0QWxpZ249bCxnLnRleHRCYXNlbGluZT1mLnRleHRCYXNlbGluZSxhLldhPXtmb250OmYuZm9udCx0ZXh0QWxpZ246bCx0ZXh0QmFzZWxpbmU6Zi50ZXh0QmFzZWxpbmV9KTtiPVRlKGIsZSxjLGQsYS5OLGEubyk7Zj1hLmc7Zz1hLkxhO2ZvcihhLkVhJiYoZys9YS5vYik7ZTxjO2UrPWQpe2g9YltlXSthLnVhO2w9YltlKzFdK2EuVWI7XG5pZigwIT09Z3x8MSE9YS5zKXt2YXIgbT1lZihhLmJiLGgsbCxhLnMsYS5zLGcsLWgsLWwpO2Yuc2V0VHJhbnNmb3JtLmFwcGx5KGYsbSl9YS5sJiZmLnN0cm9rZVRleHQoYS50YSxoLGwpO2EuaiYmZi5maWxsVGV4dChhLnRhLGgsbCl9MD09PWcmJjE9PWEuc3x8Zi5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApfX1mdW5jdGlvbiBHaShhLGIsYyxkLGUsZil7dmFyIGc9YS5nO2E9VGUoYixjLGQsZSxhLk4sYS5vKTtnLm1vdmVUbyhhWzBdLGFbMV0pO2I9YS5sZW5ndGg7ZiYmKGItPTIpO2ZvcihjPTI7YzxiO2MrPTIpZy5saW5lVG8oYVtjXSxhW2MrMV0pO2YmJmcuY2xvc2VQYXRoKCk7cmV0dXJuIGR9ZnVuY3Rpb24gSGkoYSxiLGMsZCxlKXt2YXIgZjt2YXIgZz0wO2ZvcihmPWQubGVuZ3RoO2c8ZjsrK2cpYz1HaShhLGIsYyxkW2ddLGUsITApO3JldHVybiBjfWs9QmkucHJvdG90eXBlO1xuay5jYz1mdW5jdGlvbihhKXtpZihoYih0aGlzLmMsYS5HKCkpKXtpZih0aGlzLmF8fHRoaXMuYil7dGhpcy5hJiZFaSh0aGlzLHRoaXMuYSk7dGhpcy5iJiZGaSh0aGlzLHRoaXMuYik7dmFyIGI9dGhpcy5OO3ZhciBjPXRoaXMubyxkPWEuZGEoKTtiPWQ/VGUoZCwwLGQubGVuZ3RoLGEucGEoKSxiLGMpOm51bGw7Yz1iWzJdLWJbMF07ZD1iWzNdLWJbMV07Yz1NYXRoLnNxcnQoYypjK2QqZCk7ZD10aGlzLmc7ZC5iZWdpblBhdGgoKTtkLmFyYyhiWzBdLGJbMV0sYywwLDIqTWF0aC5QSSk7dGhpcy5hJiZkLmZpbGwoKTt0aGlzLmImJmQuc3Ryb2tlKCl9XCJcIiE9PXRoaXMudGEmJkRpKHRoaXMsYS54YSgpLDIsMil9fTtrLkRkPWZ1bmN0aW9uKGEpe3RoaXMuT2EoYS5GYSgpLGEuR2EoKSk7dGhpcy5aYihhLlkoKSk7dGhpcy5uYihhLkthKCkpfTtcbmsuSGI9ZnVuY3Rpb24oYSl7c3dpdGNoKGEuUygpKXtjYXNlIFwiUG9pbnRcIjp0aGlzLnljKGEpO2JyZWFrO2Nhc2UgXCJMaW5lU3RyaW5nXCI6dGhpcy51YyhhKTticmVhaztjYXNlIFwiUG9seWdvblwiOnRoaXMuemMoYSk7YnJlYWs7Y2FzZSBcIk11bHRpUG9pbnRcIjp0aGlzLndjKGEpO2JyZWFrO2Nhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjp0aGlzLnZjKGEpO2JyZWFrO2Nhc2UgXCJNdWx0aVBvbHlnb25cIjp0aGlzLnhjKGEpO2JyZWFrO2Nhc2UgXCJHZW9tZXRyeUNvbGxlY3Rpb25cIjp0aGlzLkRlKGEpO2JyZWFrO2Nhc2UgXCJDaXJjbGVcIjp0aGlzLmNjKGEpfX07ay5DZT1mdW5jdGlvbihhLGIpeyhhPSgwLGIuY2IpKGEpKSYmaGIodGhpcy5jLGEuRygpKSYmKHRoaXMuRGQoYiksdGhpcy5IYihhKSl9O2suRGU9ZnVuY3Rpb24oYSl7YT1hLmE7dmFyIGI7dmFyIGM9MDtmb3IoYj1hLmxlbmd0aDtjPGI7KytjKXRoaXMuSGIoYVtjXSl9O1xuay55Yz1mdW5jdGlvbihhKXt2YXIgYj1hLmRhKCk7YT1hLnBhKCk7dGhpcy5NJiZDaSh0aGlzLGIsYi5sZW5ndGgpO1wiXCIhPT10aGlzLnRhJiZEaSh0aGlzLGIsYi5sZW5ndGgsYSl9O2sud2M9ZnVuY3Rpb24oYSl7dmFyIGI9YS5kYSgpO2E9YS5wYSgpO3RoaXMuTSYmQ2kodGhpcyxiLGIubGVuZ3RoKTtcIlwiIT09dGhpcy50YSYmRGkodGhpcyxiLGIubGVuZ3RoLGEpfTtrLnVjPWZ1bmN0aW9uKGEpe2lmKGhiKHRoaXMuYyxhLkcoKSkpe2lmKHRoaXMuYil7RmkodGhpcyx0aGlzLmIpO3ZhciBiPXRoaXMuZyxjPWEuZGEoKTtiLmJlZ2luUGF0aCgpO0dpKHRoaXMsYywwLGMubGVuZ3RoLGEucGEoKSwhMSk7Yi5zdHJva2UoKX1cIlwiIT09dGhpcy50YSYmKGE9YS5GZSgpLERpKHRoaXMsYSwyLDIpKX19O1xuay52Yz1mdW5jdGlvbihhKXt2YXIgYj1hLkcoKTtpZihoYih0aGlzLmMsYikpe2lmKHRoaXMuYil7RmkodGhpcyx0aGlzLmIpO2I9dGhpcy5nO3ZhciBjPWEuZGEoKSxkPTAsZT1hLnBiKCksZj1hLnBhKCk7Yi5iZWdpblBhdGgoKTt2YXIgZzt2YXIgaD0wO2ZvcihnPWUubGVuZ3RoO2g8ZzsrK2gpZD1HaSh0aGlzLGMsZCxlW2hdLGYsITEpO2Iuc3Ryb2tlKCl9XCJcIiE9PXRoaXMudGEmJihhPWEuR2UoKSxEaSh0aGlzLGEsYS5sZW5ndGgsMikpfX07ay56Yz1mdW5jdGlvbihhKXtpZihoYih0aGlzLmMsYS5HKCkpKXtpZih0aGlzLmJ8fHRoaXMuYSl7dGhpcy5hJiZFaSh0aGlzLHRoaXMuYSk7dGhpcy5iJiZGaSh0aGlzLHRoaXMuYik7dmFyIGI9dGhpcy5nO2IuYmVnaW5QYXRoKCk7SGkodGhpcyxhLlhiKCksMCxhLnBiKCksYS5wYSgpKTt0aGlzLmEmJmIuZmlsbCgpO3RoaXMuYiYmYi5zdHJva2UoKX1cIlwiIT09dGhpcy50YSYmKGE9YS5UZCgpLERpKHRoaXMsYSwyLDIpKX19O1xuay54Yz1mdW5jdGlvbihhKXtpZihoYih0aGlzLmMsYS5HKCkpKXtpZih0aGlzLmJ8fHRoaXMuYSl7dGhpcy5hJiZFaSh0aGlzLHRoaXMuYSk7dGhpcy5iJiZGaSh0aGlzLHRoaXMuYik7dmFyIGI9dGhpcy5nLGM9SWkoYSksZD0wLGU9YS50ZCgpLGY9YS5wYSgpLGc7Yi5iZWdpblBhdGgoKTt2YXIgaD0wO2ZvcihnPWUubGVuZ3RoO2g8ZzsrK2gpZD1IaSh0aGlzLGMsZCxlW2hdLGYpO3RoaXMuYSYmYi5maWxsKCk7dGhpcy5iJiZiLnN0cm9rZSgpfVwiXCIhPT10aGlzLnRhJiYoYT1KaShhKSxEaSh0aGlzLGEsYS5sZW5ndGgsMikpfX07ZnVuY3Rpb24gRWkoYSxiKXt2YXIgYz1hLmcsZD1hLlQ7ZD9kLmZpbGxTdHlsZSE9Yi5maWxsU3R5bGUmJihkLmZpbGxTdHlsZT1jLmZpbGxTdHlsZT1iLmZpbGxTdHlsZSk6KGMuZmlsbFN0eWxlPWIuZmlsbFN0eWxlLGEuVD17ZmlsbFN0eWxlOmIuZmlsbFN0eWxlfSl9XG5mdW5jdGlvbiBGaShhLGIpe3ZhciBjPWEuZyxkPWEuTztkPyhkLmxpbmVDYXAhPWIubGluZUNhcCYmKGQubGluZUNhcD1jLmxpbmVDYXA9Yi5saW5lQ2FwKSxvZCYmKGpjKGQubGluZURhc2gsYi5saW5lRGFzaCl8fGMuc2V0TGluZURhc2goZC5saW5lRGFzaD1iLmxpbmVEYXNoKSxkLmxpbmVEYXNoT2Zmc2V0IT1iLmxpbmVEYXNoT2Zmc2V0JiYoZC5saW5lRGFzaE9mZnNldD1jLmxpbmVEYXNoT2Zmc2V0PWIubGluZURhc2hPZmZzZXQpKSxkLmxpbmVKb2luIT1iLmxpbmVKb2luJiYoZC5saW5lSm9pbj1jLmxpbmVKb2luPWIubGluZUpvaW4pLGQubGluZVdpZHRoIT1iLmxpbmVXaWR0aCYmKGQubGluZVdpZHRoPWMubGluZVdpZHRoPWIubGluZVdpZHRoKSxkLm1pdGVyTGltaXQhPWIubWl0ZXJMaW1pdCYmKGQubWl0ZXJMaW1pdD1jLm1pdGVyTGltaXQ9Yi5taXRlckxpbWl0KSxkLnN0cm9rZVN0eWxlIT1iLnN0cm9rZVN0eWxlJiYoZC5zdHJva2VTdHlsZT1jLnN0cm9rZVN0eWxlPWIuc3Ryb2tlU3R5bGUpKTpcbihjLmxpbmVDYXA9Yi5saW5lQ2FwLG9kJiYoYy5zZXRMaW5lRGFzaChiLmxpbmVEYXNoKSxjLmxpbmVEYXNoT2Zmc2V0PWIubGluZURhc2hPZmZzZXQpLGMubGluZUpvaW49Yi5saW5lSm9pbixjLmxpbmVXaWR0aD1iLmxpbmVXaWR0aCxjLm1pdGVyTGltaXQ9Yi5taXRlckxpbWl0LGMuc3Ryb2tlU3R5bGU9Yi5zdHJva2VTdHlsZSxhLk89e2xpbmVDYXA6Yi5saW5lQ2FwLGxpbmVEYXNoOmIubGluZURhc2gsbGluZURhc2hPZmZzZXQ6Yi5saW5lRGFzaE9mZnNldCxsaW5lSm9pbjpiLmxpbmVKb2luLGxpbmVXaWR0aDpiLmxpbmVXaWR0aCxtaXRlckxpbWl0OmIubWl0ZXJMaW1pdCxzdHJva2VTdHlsZTpiLnN0cm9rZVN0eWxlfSl9XG5rLk9hPWZ1bmN0aW9uKGEsYil7YT8oYT1hLmIsdGhpcy5hPXtmaWxsU3R5bGU6emkoYT9hOmVpKX0pOnRoaXMuYT1udWxsO2lmKGIpe2E9Yi5hO3ZhciBjPWIuZixkPWIuZyxlPWIuaSxmPWIuaixnPWIuYztiPWIubDt0aGlzLmI9e2xpbmVDYXA6dm9pZCAwIT09Yz9jOlwicm91bmRcIixsaW5lRGFzaDpkP2Q6ZmksbGluZURhc2hPZmZzZXQ6ZT9lOjAsbGluZUpvaW46dm9pZCAwIT09Zj9mOlwicm91bmRcIixsaW5lV2lkdGg6dGhpcy5mKih2b2lkIDAhPT1nP2c6MSksbWl0ZXJMaW1pdDp2b2lkIDAhPT1iP2I6MTAsc3Ryb2tlU3R5bGU6emkoYT9hOmdpKX19ZWxzZSB0aGlzLmI9bnVsbH07XG5rLlpiPWZ1bmN0aW9uKGEpe2lmKGEpe3ZhciBiPWEuVmMoKSxjPWEuWSgxKSxkPWEuYmQoKSxlPWEub2MoKTt0aGlzLkQ9YlswXTt0aGlzLkM9YlsxXTt0aGlzLkI9ZVsxXTt0aGlzLk09Yzt0aGlzLnY9YS5pO3RoaXMuVj1kWzBdO3RoaXMuJD1kWzFdO3RoaXMuY2E9YS5zO3RoaXMuYWI9YS5mO3RoaXMuaT1hLmEqdGhpcy5mO3RoaXMucmE9YS52O3RoaXMub2E9ZVswXX1lbHNlIHRoaXMuTT1udWxsfTtcbmsubmI9ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9YS5GYSgpO2I/KGI9Yi5iLHRoaXMuaj17ZmlsbFN0eWxlOnppKGI/YjplaSl9KTp0aGlzLmo9bnVsbDt2YXIgYz1hLkdhKCk7aWYoYyl7Yj1jLmE7dmFyIGQ9Yy5mLGU9Yy5nLGY9Yy5pLGc9Yy5qLGg9Yy5jO2M9Yy5sO3RoaXMubD17bGluZUNhcDp2b2lkIDAhPT1kP2Q6XCJyb3VuZFwiLGxpbmVEYXNoOmU/ZTpmaSxsaW5lRGFzaE9mZnNldDpmP2Y6MCxsaW5lSm9pbjp2b2lkIDAhPT1nP2c6XCJyb3VuZFwiLGxpbmVXaWR0aDp2b2lkIDAhPT1oP2g6MSxtaXRlckxpbWl0OnZvaWQgMCE9PWM/YzoxMCxzdHJva2VTdHlsZTp6aShiP2I6Z2kpfX1lbHNlIHRoaXMubD1udWxsO2I9YS5hO2Q9YS5nO2U9YS5jO2Y9YS5sO2c9YS5pO2g9YS5iO2M9YS5LYSgpO3ZhciBsPWEuZjthPWEuajt0aGlzLnFhPXtmb250OnZvaWQgMCE9PWI/YjpcIjEwcHggc2Fucy1zZXJpZlwiLHRleHRBbGlnbjp2b2lkIDAhPT1sP2w6XCJjZW50ZXJcIix0ZXh0QmFzZWxpbmU6dm9pZCAwIT09XG5hP2E6XCJtaWRkbGVcIn07dGhpcy50YT12b2lkIDAhPT1jP2M6XCJcIjt0aGlzLnVhPXZvaWQgMCE9PWQ/dGhpcy5mKmQ6MDt0aGlzLlViPXZvaWQgMCE9PWU/dGhpcy5mKmU6MDt0aGlzLkVhPXZvaWQgMCE9PWY/ZjohMTt0aGlzLkxhPXZvaWQgMCE9PWc/ZzowO3RoaXMucz10aGlzLmYqKHZvaWQgMCE9PWg/aDoxKX1lbHNlIHRoaXMudGE9XCJcIn07ZnVuY3Rpb24gS2koYSl7VWMuY2FsbCh0aGlzKTt0aGlzLmE9YX13KEtpLFVjKTtLaS5wcm90b3R5cGUud2E9ZWE7S2kucHJvdG90eXBlLmNmPVNlO0tpLnByb3RvdHlwZS5SZj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQsZSl7cmV0dXJuIExpKGEsYixkLGUsZnVuY3Rpb24oYSl7Y1tkXXx8KGNbZF09e30pO2NbZF1bYS55YS50b1N0cmluZygpXT1hfSl9fTtLaS5wcm90b3R5cGUuJD1mdW5jdGlvbihhKXsyPT09YS50YXJnZXQuZ2V0U3RhdGUoKSYmTWkodGhpcyl9O2Z1bmN0aW9uIFNpKGEsYil7dmFyIGM9Yi5nZXRTdGF0ZSgpOzIhPWMmJjMhPWMmJnkoYixcImNoYW5nZVwiLGEuJCxhKTswPT1jJiYoYi5sb2FkKCksYz1iLmdldFN0YXRlKCkpO3JldHVybiAyPT1jfWZ1bmN0aW9uIE1pKGEpe3ZhciBiPWEuYTtiLkpiKCkmJlwicmVhZHlcIj09Yi5oZygpJiZhLnUoKX1cbmZ1bmN0aW9uIFRpKGEsYil7Yi5jaigpJiZhLnBvc3RSZW5kZXJGdW5jdGlvbnMucHVzaChmdW5jdGlvbihhLGIsZSl7Yj14KGEpLnRvU3RyaW5nKCk7YiBpbiBlLnVzZWRUaWxlcyYmYS5zZChlLnZpZXdTdGF0ZS5wcm9qZWN0aW9uLGUudXNlZFRpbGVzW2JdKX0uYmluZChudWxsLGIpKX1mdW5jdGlvbiBVaShhLGIpe2I9Yi5UO3ZvaWQgMCE9PWImJihcInN0cmluZ1wiPT09dHlwZW9mIGI/YS5sb2dvc1tiXT1cIlwiOmImJihvYShcInN0cmluZ1wiPT10eXBlb2YgYi5ocmVmLDQ0KSxvYShcInN0cmluZ1wiPT10eXBlb2YgYi5zcmMsNDUpLGEubG9nb3NbYi5zcmNdPWIuaHJlZikpfVxuZnVuY3Rpb24gVmkoYSxiLGMsZCl7Yj14KGIpLnRvU3RyaW5nKCk7Yz1jLnRvU3RyaW5nKCk7YiBpbiBhP2MgaW4gYVtiXT8oYT1hW2JdW2NdLGQuZmE8YS5mYSYmKGEuZmE9ZC5mYSksZC5sYT5hLmxhJiYoYS5sYT1kLmxhKSxkLmVhPGEuZWEmJihhLmVhPWQuZWEpLGQua2E+YS5rYSYmKGEua2E9ZC5rYSkpOmFbYl1bY109ZDooYVtiXT17fSxhW2JdW2NdPWQpfVxuZnVuY3Rpb24gV2koYSxiLGMsZCxlLGYsZyxoLGwsbSl7dmFyIG49eChiKS50b1N0cmluZygpO24gaW4gYS53YW50ZWRUaWxlc3x8KGEud2FudGVkVGlsZXNbbl09e30pO3ZhciBwPWEud2FudGVkVGlsZXNbbl07YT1hLnRpbGVRdWV1ZTt2YXIgcSxyLHU7Zm9yKHU9Yy5taW5ab29tO3U8PWc7Kyt1KXt2YXIgdj10YyhjLGYsdSx2KTt2YXIgej1jLlRhKHUpO2ZvcihxPXYuZmE7cTw9di5sYTsrK3EpZm9yKHI9di5lYTtyPD12LmthOysrcilpZihnLXU8PWgpe3ZhciBBPWIuYWQodSxxLHIsZCxlKTswPT1BLmdldFN0YXRlKCkmJihwW0EubGIoKV09ITAsQS5sYigpaW4gYS5hfHxhLmkoW0Esbix5YyhjLEEueWEpLHpdKSk7dm9pZCAwIT09bCYmbC5jYWxsKG0sQSl9ZWxzZSBiLmtoKHUscSxyLGUpfX07ZnVuY3Rpb24gWGkoYSl7S2kuY2FsbCh0aGlzLGEpO3RoaXMuVj1XZSgpfXcoWGksS2kpO2Z1bmN0aW9uIFlpKGEsYixjKXt2YXIgZD1iLnBpeGVsUmF0aW8sZT1iLnNpemVbMF0qZCxmPWIuc2l6ZVsxXSpkLGc9Yi52aWV3U3RhdGUucm90YXRpb24saD0kYShjKSxsPVphKGMpLG09WWEoYyk7Yz1XYShjKTthZihiLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLGgpO2FmKGIuY29vcmRpbmF0ZVRvUGl4ZWxUcmFuc2Zvcm0sbCk7YWYoYi5jb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybSxtKTthZihiLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLGMpO2Euc2F2ZSgpO3FpKGEsLWcsZS8yLGYvMik7YS5iZWdpblBhdGgoKTthLm1vdmVUbyhoWzBdKmQsaFsxXSpkKTthLmxpbmVUbyhsWzBdKmQsbFsxXSpkKTthLmxpbmVUbyhtWzBdKmQsbVsxXSpkKTthLmxpbmVUbyhjWzBdKmQsY1sxXSpkKTthLmNsaXAoKTtxaShhLGcsZS8yLGYvMil9XG5mdW5jdGlvbiBaaShhLGIsYyxkLGUpe3ZhciBmPWEuYTtpZihUYyhmLGIpKXt2YXIgZz1kLnNpemVbMF0qZC5waXhlbFJhdGlvLGg9ZC5zaXplWzFdKmQucGl4ZWxSYXRpbyxsPWQudmlld1N0YXRlLnJvdGF0aW9uO3FpKGMsLWwsZy8yLGgvMik7YT12b2lkIDAhPT1lP2U6JGkoYSxkLDApO2YuYihuZXcgYmkoYixuZXcgQmkoYyxkLnBpeGVsUmF0aW8sZC5leHRlbnQsYSxkLnZpZXdTdGF0ZS5yb3RhdGlvbiksZCxjLG51bGwpKTtxaShjLGwsZy8yLGgvMil9fVhpLnByb3RvdHlwZS5zPWZ1bmN0aW9uKGEsYixjLGQpe2lmKHRoaXMud2EoYSxiLDAsUmUsdGhpcykpcmV0dXJuIGMuY2FsbChkLHRoaXMuYSxudWxsKX07WGkucHJvdG90eXBlLnBmPWZ1bmN0aW9uKGEsYixjLGQpe1ppKHRoaXMsXCJwb3N0Y29tcG9zZVwiLGEsYixkKX07XG5mdW5jdGlvbiAkaShhLGIsYyl7dmFyIGQ9Yi52aWV3U3RhdGUsZT1iLnBpeGVsUmF0aW8sZj1lL2QucmVzb2x1dGlvbjtyZXR1cm4gZWYoYS5WLGUqYi5zaXplWzBdLzIsZSpiLnNpemVbMV0vMixmLC1mLC1kLnJvdGF0aW9uLC1kLmNlbnRlclswXStjLC1kLmNlbnRlclsxXSl9O2Z1bmN0aW9uIGFqKGEpe1hpLmNhbGwodGhpcyxhKTt0aGlzLmw9V2UoKTt0aGlzLmo9bnVsbH13KGFqLFhpKTthai5wcm90b3R5cGUuZGY9ZnVuY3Rpb24oYSxiLGMpe1ppKHRoaXMsXCJwcmVjb21wb3NlXCIsYyxhLHZvaWQgMCk7dmFyIGQ9dGhpcy5ZKCk7aWYoZCl7dmFyIGU9Yi5leHRlbnQsZj12b2lkIDAhPT1lJiYhTGEoZSxhLmV4dGVudCkmJmhiKGUsYS5leHRlbnQpO2YmJllpKGMsYSxlKTtlPXRoaXMudigpO3ZhciBnPWMuZ2xvYmFsQWxwaGE7Yy5nbG9iYWxBbHBoYT1iLm9wYWNpdHk7Yy5kcmF3SW1hZ2UoZCwwLDAsK2Qud2lkdGgsK2QuaGVpZ2h0LE1hdGgucm91bmQoZVs0XSksTWF0aC5yb3VuZChlWzVdKSxNYXRoLnJvdW5kKGQud2lkdGgqZVswXSksTWF0aC5yb3VuZChkLmhlaWdodCplWzNdKSk7Yy5nbG9iYWxBbHBoYT1nO2YmJmMucmVzdG9yZSgpfXRoaXMucGYoYyxhLGIpfTtcbmFqLnByb3RvdHlwZS53YT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPXRoaXMuYTtyZXR1cm4gZi5oYSgpLndhKGEsYi52aWV3U3RhdGUucmVzb2x1dGlvbixiLnZpZXdTdGF0ZS5yb3RhdGlvbixjLGIuc2tpcHBlZEZlYXR1cmVVaWRzLGZ1bmN0aW9uKGEpe3JldHVybiBkLmNhbGwoZSxhLGYpfSl9O1xuYWoucHJvdG90eXBlLnM9ZnVuY3Rpb24oYSxiLGMsZCl7aWYodGhpcy5ZKCkpe2lmKHRoaXMuYS5oYSgpLndhIT09ZWEpcmV0dXJuIFhpLnByb3RvdHlwZS5zLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt2YXIgZT1hZih0aGlzLmwsYS5zbGljZSgpKTtHZShlLGIudmlld1N0YXRlLnJlc29sdXRpb24vdGhpcy5pKTt0aGlzLmp8fCh0aGlzLmo9aGcoMSwxKSk7dGhpcy5qLmNsZWFyUmVjdCgwLDAsMSwxKTt0aGlzLmouZHJhd0ltYWdlKHRoaXMuWSgpLGVbMF0sZVsxXSwxLDEsMCwwLDEsMSk7ZT10aGlzLmouZ2V0SW1hZ2VEYXRhKDAsMCwxLDEpLmRhdGE7aWYoMDxlWzNdKXJldHVybiBjLmNhbGwoZCx0aGlzLmEsZSl9fTtmdW5jdGlvbiBiaihhKXthai5jYWxsKHRoaXMsYSk7dGhpcy5NPW51bGw7dGhpcy5mPVdlKCk7dGhpcy5vPVtdO3RoaXMuYz1udWxsfXcoYmosYWopO2JqLmhhbmRsZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm5cImNhbnZhc1wiPT09YSYmKFwiSU1BR0VcIj09PWIuUygpfHxcIlZFQ1RPUlwiPT09Yi5TKCkmJlwiaW1hZ2VcIj09PWIubCl9O2JqLmNyZWF0ZT1mdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBiaihiKTtpZihcIlZFQ1RPUlwiPT09Yi5TKCkpZm9yKHZhciBkPTAsZT1wZy5sZW5ndGg7ZDxlOysrZCl7dmFyIGY9cGdbZF07ZiE9PWJqJiZmLmhhbmRsZXMoXCJjYW52YXNcIixiKSYmKGY9Zi5jcmVhdGUoYSxiKSxjLmM9Zil9cmV0dXJuIGN9O2JqLnByb3RvdHlwZS5ZPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTT90aGlzLk0uWSgpOm51bGx9O2JqLnByb3RvdHlwZS52PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07XG5iai5wcm90b3R5cGUuJGM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnBpeGVsUmF0aW8sZD1hLnNpemUsZT1hLnZpZXdTdGF0ZSxmPWUuY2VudGVyLGc9ZS5yZXNvbHV0aW9uLGg9dGhpcy5hLmhhKCksbD1hLnZpZXdIaW50cyxtPWEuZXh0ZW50O3ZvaWQgMCE9PWIuZXh0ZW50JiYobT1nYihtLGIuZXh0ZW50KSk7aWYoIWxbMF0mJiFsWzFdJiYhYmIobSkpaWYobD1lLnByb2plY3Rpb24sZT10aGlzLmMpe2w9ZS5jb250ZXh0O3ZhciBuPWtiKHt9LGEse3NpemU6W2NiKG0pL2csZGIobSkvZ10sdmlld1N0YXRlOmtiKHt9LGEudmlld1N0YXRlLHtyb3RhdGlvbjowfSl9KSxwPU9iamVjdC5rZXlzKG4uc2tpcHBlZEZlYXR1cmVVaWRzKS5zb3J0KCk7IWUuJGMobixiKXx8IWUuaiYmamMocCx0aGlzLm8pfHwobC5jYW52YXMud2lkdGg9bi5zaXplWzBdKmMsbC5jYW52YXMuaGVpZ2h0PW4uc2l6ZVsxXSpjLGUuZGYobixiLGwpLHRoaXMuTT1uZXcgYWkobSxnLGMsbC5jYW52YXMpLHRoaXMubz1cbnApfWVsc2UoZT1oLlkobSxnLGMsbCkpJiZTaSh0aGlzLGUpJiYodGhpcy5NPWUpO3RoaXMuTSYmKGU9dGhpcy5NLG09ZS5HKCksYj1lLnJlc29sdXRpb24sZT1lLmEsbD1jKmIvKGcqZSksbT1lZih0aGlzLmYsYypkWzBdLzIsYypkWzFdLzIsbCxsLDAsZSoobVswXS1mWzBdKS9iLGUqKGZbMV0tbVszXSkvYiksZWYodGhpcy5sLGMqZFswXS8yLW1bNF0sYypkWzFdLzItbVs1XSxjL2csLWMvZywwLC1mWzBdLC1mWzFdKSxVaShhLGgpLHRoaXMuaT1iKmMvZSk7cmV0dXJuISF0aGlzLk19O2JqLnByb3RvdHlwZS53YT1mdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiB0aGlzLmM/dGhpcy5jLndhKGEsYixjLGQsZSk6YWoucHJvdG90eXBlLndhLmNhbGwodGhpcyxhLGIsYyxkLGUpfTtmdW5jdGlvbiBjaigpe3RoaXMuYj17fTt0aGlzLmE9MDt0aGlzLmc9MzJ9Y2oucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5iPXt9O3RoaXMuYT0wfTtmdW5jdGlvbiBkaihhKXtpZihhLmE+YS5nKXt2YXIgYj0wLGM7Zm9yKGMgaW4gYS5iKXt2YXIgZD1hLmJbY107MCE9PShiKysmMyl8fFRjKGQpfHwoZGVsZXRlIGEuYltjXSwtLWEuYSl9fX1jai5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEsYixjKXthPWIrXCI6XCIrYStcIjpcIisoYz94aShjKTpcIm51bGxcIik7cmV0dXJuIGEgaW4gdGhpcy5iP3RoaXMuYlthXTpudWxsfTtjai5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuYltiK1wiOlwiK2ErXCI6XCIrKGM/eGkoYyk6XCJudWxsXCIpXT1kOysrdGhpcy5hfTtjai5wcm90b3R5cGUuYz1mdW5jdGlvbihhKXt0aGlzLmc9YTtkaih0aGlzKX07dmFyIGVqPW5ldyBjajtmdW5jdGlvbiBmaihhLGIpe3RoaXMubD1iO3RoaXMuYz17fTt0aGlzLnY9e319dyhmaixPYyk7ZnVuY3Rpb24gZ2ooYSl7dmFyIGI9YS52aWV3U3RhdGUsYz1hLmNvb3JkaW5hdGVUb1BpeGVsVHJhbnNmb3JtLGQ9YS5waXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybTtlZihjLGEuc2l6ZVswXS8yLGEuc2l6ZVsxXS8yLDEvYi5yZXNvbHV0aW9uLC0xL2IucmVzb2x1dGlvbiwtYi5yb3RhdGlvbiwtYi5jZW50ZXJbMF0sLWIuY2VudGVyWzFdKTtmZigkZShkLGMpKX1mdW5jdGlvbiBoaigpe2RqKGVqKX1rPWZqLnByb3RvdHlwZTtcbmsud2E9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7ZnVuY3Rpb24gaChhLGMpe3ZhciBmPXgoYSkudG9TdHJpbmcoKSxnPWIubGF5ZXJTdGF0ZXNbeChjKV0uVGU7aWYoIShmIGluIGIuc2tpcHBlZEZlYXR1cmVVaWRzKXx8ZylyZXR1cm4gZC5jYWxsKGUsYSxnP2M6bnVsbCl9dmFyIGwsbT1iLnZpZXdTdGF0ZSxuPW0ucmVzb2x1dGlvbixwPW0ucHJvamVjdGlvbjttPWE7aWYocC5nKXtwPXAuRygpO3ZhciBxPWNiKHApLHI9YVswXTtpZihyPHBbMF18fHI+cFsyXSltPVtyK3EqTWF0aC5jZWlsKChwWzBdLXIpL3EpLGFbMV1dfXA9Yi5sYXllclN0YXRlc0FycmF5O2ZvcihxPXAubGVuZ3RoLTE7MDw9cTstLXEpe3ZhciB1PXBbcV07cj11LmxheWVyO2lmKHlnKHUsbikmJmYuY2FsbChnLHIpJiYodT1paih0aGlzLHIpLHIuaGEoKSYmKGw9dS53YShyLmhhKCkuRD9tOmEsYixjLGgsZSkpLGwpKXJldHVybiBsfX07XG5rLlVpPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIHZvaWQgMCE9PXRoaXMud2EoYSxiLGMsUmUsdGhpcyxkLGUpfTtmdW5jdGlvbiBpaihhLGIpe3ZhciBjPXgoYikudG9TdHJpbmcoKTtpZihjIGluIGEuYylyZXR1cm4gYS5jW2NdO2Zvcih2YXIgZCxlPWEuUygpLGY9MCxnPXBnLmxlbmd0aDtmPGc7KytmKXt2YXIgaD1wZ1tmXTtpZihoLmhhbmRsZXMoZSxiKSl7ZD1oLmNyZWF0ZShhLGIpO2JyZWFrfX1pZihkKWEuY1tjXT1kLGEudltjXT15KGQsXCJjaGFuZ2VcIixhLmdtLGEpO2Vsc2UgdGhyb3cgRXJyb3IoXCJVbmFibGUgdG8gY3JlYXRlIHJlbmRlcmVyIGZvciBsYXllcjogXCIrYi5TKCkpO3JldHVybiBkfWsuZ209ZnVuY3Rpb24oKXt0aGlzLmwucmVuZGVyKCl9O2Z1bmN0aW9uIHRnKGEsYil7dmFyIGM9YS5jW2JdO2RlbGV0ZSBhLmNbYl07R2MoYS52W2JdKTtkZWxldGUgYS52W2JdO3JldHVybiBjfWsuYmg9ZWE7XG5rLm9xPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjIGluIHRoaXMuYyliJiZjIGluIGIubGF5ZXJTdGF0ZXN8fFBjKHRnKHRoaXMsYykpfTtmdW5jdGlvbiBqaihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIShjIGluIGIubGF5ZXJTdGF0ZXMpKXtiLnBvc3RSZW5kZXJGdW5jdGlvbnMucHVzaChhLm9xLmJpbmQoYSkpO2JyZWFrfX1mdW5jdGlvbiBsYyhhLGIpe3JldHVybiBhLnpJbmRleC1iLnpJbmRleH07ZnVuY3Rpb24ga2ooYSxiKXtmai5jYWxsKHRoaXMsYSxiKTt0aGlzLmc9aGcoKTt0aGlzLmI9dGhpcy5nLmNhbnZhczt0aGlzLmIuc3R5bGUud2lkdGg9XCIxMDAlXCI7dGhpcy5iLnN0eWxlLmhlaWdodD1cIjEwMCVcIjt0aGlzLmIuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7dGhpcy5iLmNsYXNzTmFtZT1cIm9sLXVuc2VsZWN0YWJsZVwiO2EuaW5zZXJ0QmVmb3JlKHRoaXMuYixhLmNoaWxkTm9kZXNbMF18fG51bGwpO3RoaXMuYT0hMDt0aGlzLmk9V2UoKX13KGtqLGZqKTtrai5oYW5kbGVzPWZ1bmN0aW9uKGEpe3JldHVyblwiY2FudmFzXCI9PT1hfTtrai5jcmVhdGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IGtqKGEsYil9O1xuZnVuY3Rpb24gbGooYSxiLGMpe3ZhciBkPWEubCxlPWEuZztpZihUYyhkLGIpKXt2YXIgZj1jLmV4dGVudCxnPWMucGl4ZWxSYXRpbyxoPWMudmlld1N0YXRlLnJvdGF0aW9uLGw9Yy52aWV3U3RhdGUsbT1jLnBpeGVsUmF0aW8vbC5yZXNvbHV0aW9uO2E9ZWYoYS5pLGEuYi53aWR0aC8yLGEuYi5oZWlnaHQvMixtLC1tLC1sLnJvdGF0aW9uLC1sLmNlbnRlclswXSwtbC5jZW50ZXJbMV0pO2QuYihuZXcgYmkoYixuZXcgQmkoZSxnLGYsYSxoKSxjLGUsbnVsbCkpfX1rai5wcm90b3R5cGUuUz1mdW5jdGlvbigpe3JldHVyblwiY2FudmFzXCJ9O1xua2oucHJvdG90eXBlLmJoPWZ1bmN0aW9uKGEpe2lmKGEpe3ZhciBiPXRoaXMuZyxjPWEucGl4ZWxSYXRpbyxkPU1hdGgucm91bmQoYS5zaXplWzBdKmMpLGU9TWF0aC5yb3VuZChhLnNpemVbMV0qYyk7dGhpcy5iLndpZHRoIT1kfHx0aGlzLmIuaGVpZ2h0IT1lPyh0aGlzLmIud2lkdGg9ZCx0aGlzLmIuaGVpZ2h0PWUpOmIuY2xlYXJSZWN0KDAsMCxkLGUpO2M9YS52aWV3U3RhdGUucm90YXRpb247Z2ooYSk7bGoodGhpcyxcInByZWNvbXBvc2VcIixhKTt2YXIgZj1hLmxheWVyU3RhdGVzQXJyYXk7a2MoZik7YyYmKGIuc2F2ZSgpLHFpKGIsYyxkLzIsZS8yKSk7ZD1hLnZpZXdTdGF0ZS5yZXNvbHV0aW9uO3ZhciBnO2U9MDtmb3IoZz1mLmxlbmd0aDtlPGc7KytlKXt2YXIgaD1mW2VdO3ZhciBsPWgubGF5ZXI7bD1paih0aGlzLGwpO3lnKGgsZCkmJlwicmVhZHlcIj09aC5WaiYmbC4kYyhhLGgpJiZsLmRmKGEsaCxiKX1jJiZiLnJlc3RvcmUoKTtsaih0aGlzLFwicG9zdGNvbXBvc2VcIixhKTt0aGlzLmF8fFxuKHRoaXMuYi5zdHlsZS5kaXNwbGF5PVwiXCIsdGhpcy5hPSEwKTtqaih0aGlzLGEpO2EucG9zdFJlbmRlckZ1bmN0aW9ucy5wdXNoKGhqKX1lbHNlIHRoaXMuYSYmKHRoaXMuYi5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHRoaXMuYT0hMSl9O2tqLnByb3RvdHlwZS5UaT1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9Yi52aWV3U3RhdGUucmVzb2x1dGlvbixoPWIubGF5ZXJTdGF0ZXNBcnJheSxsPWgubGVuZ3RoO2E9YWYoYi5waXhlbFRvQ29vcmRpbmF0ZVRyYW5zZm9ybSxhLnNsaWNlKCkpO2ZvcigtLWw7MDw9bDstLWwpe3ZhciBtPWhbbF07dmFyIG49bS5sYXllcjtpZih5ZyhtLGcpJiZlLmNhbGwoZixuKSYmKG09aWoodGhpcyxuKS5zKGEsYixjLGQpKSlyZXR1cm4gbX19O2Z1bmN0aW9uIG1qKGEpe2FqLmNhbGwodGhpcyxhKTt0aGlzLmNvbnRleHQ9bnVsbD09PXRoaXMuY29udGV4dD9udWxsOmhnKCk7dGhpcy5jPW51bGw7dGhpcy5mPVtdO3RoaXMuVD1EYSgpO3RoaXMucmE9bmV3IGphKDAsMCwwLDApO3RoaXMubz1XZSgpO3RoaXMuTz0wfXcobWosYWopO21qLmhhbmRsZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm5cImNhbnZhc1wiPT09YSYmXCJUSUxFXCI9PT1iLlMoKX07bWouY3JlYXRlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBtaihiKX07ZnVuY3Rpb24gbmooYSxiKXtiPWIuZ2V0U3RhdGUoKTthPWEuYS5pKCk7cmV0dXJuIDI9PWJ8fDQ9PWJ8fDM9PWImJiFhfVxubWoucHJvdG90eXBlLiRjPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5waXhlbFJhdGlvLGQ9YS5zaXplLGU9YS52aWV3U3RhdGUsZj1lLnByb2plY3Rpb24sZz1lLnJlc29sdXRpb247ZT1lLmNlbnRlcjt2YXIgaD10aGlzLmEsbD1oLmhhKCksbT1sLmcsbj1sLmViKGYpLHA9bi5EYyhnLHRoaXMuTykscT1uLlRhKHApLHI9TWF0aC5yb3VuZChnL3EpfHwxLHU9YS5leHRlbnQ7dm9pZCAwIT09Yi5leHRlbnQmJih1PWdiKHUsYi5leHRlbnQpKTtpZihiYih1KSlyZXR1cm4hMTt2YXIgdj10YyhuLHUscCksej13YyhuLHAsdiksQT1sLlhjKGMpLEU9e307RVtwXT17fTt2YXIgUz10aGlzLlJmKGwsZixFKSxJYT10aGlzLlQsdGE9dGhpcy5yYSxsYT0hMSxjYSxpYTtmb3IoY2E9di5mYTtjYTw9di5sYTsrK2NhKWZvcihpYT12LmVhO2lhPD12LmthOysraWEpe3ZhciB4YT1sLmFkKHAsY2EsaWEsYyxmKTszPT14YS5nZXRTdGF0ZSgpJiYoaC5pKCk/MDxoLmMoKSYmKGxhPSEwKTpvaih4YSwyKSk7XG5uaih0aGlzLHhhKXx8KHhhPXBqKHhhKSk7aWYobmoodGhpcyx4YSkpe3ZhciBWYT14KHRoaXMpO2lmKDI9PXhhLmdldFN0YXRlKCkpe0VbcF1beGEueWEudG9TdHJpbmcoKV09eGE7dmFyIGljPXhhLmo/LTEhPT14YS5zW1ZhXTohMTtsYXx8IWljJiYtMSE9PXRoaXMuZi5pbmRleE9mKHhhKXx8KGxhPSEwKX1pZigxPT09cWooeGEsVmEsYS50aW1lKSljb250aW51ZX1WYT12YyhuLHhhLnlhLHRhLElhKTtpYz0hMTtWYSYmKGljPVMocCsxLFZhKSk7aWN8fHVjKG4seGEueWEsUyx0YSxJYSl9eGE9YS52aWV3SGludHM7eGE9eGFbMF18fHhhWzFdO2lmKCEodGhpcy5pJiYxNjxEYXRlLm5vdygpLWEudGltZSYmeGF8fCFsYSYmdGhpcy5jJiZMYSh0aGlzLmMsdSkmJnRoaXMud2Y9PW0mJnI9PXRoaXMuQyYmKHhhfHxxKmMvQSpyPT10aGlzLmkpKSl7aWYoeGE9dGhpcy5jb250ZXh0KWlhPWwuWmQocCxjLGYpLGNhPU1hdGgucm91bmQoKHYubGEtdi5mYSsxKSppYVswXS9yKSxpYT1NYXRoLnJvdW5kKCh2LmthLVxudi5lYSsxKSppYVsxXS9yKSxsYT14YS5jYW52YXMsbGEud2lkdGghPWNhfHxsYS5oZWlnaHQhPWlhPyh0aGlzLkM9cixsYS53aWR0aD1jYSxsYS5oZWlnaHQ9aWEpOih0aGlzLmMmJiFTYSh6LHRoaXMuYykmJnhhLmNsZWFyUmVjdCgwLDAsY2EsaWEpLHI9dGhpcy5DKTt0aGlzLmYubGVuZ3RoPTA7bGE9T2JqZWN0LmtleXMoRSkubWFwKE51bWJlcik7bGEuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhPT09cD8xOmI9PT1wPy0xOmE+Yj8xOmE8Yj8tMTowfSk7VmE9MDtmb3IoaWM9bGEubGVuZ3RoO1ZhPGljOysrVmEpe3RhPWxhW1ZhXTtTPWwuWmQodGEsYyxmKTt4YT1uLlRhKHRhKTt2YXIgWGE9eGEvcTt2YXIgWj1BKmwuWmYoZik7dmFyIFpiPUVbdGFdO2Zvcih2YXIgTGUgaW4gWmIpe3hhPVpiW0xlXTtpYT1uLk1hKHhhLnlhLElhKTtjYT0oaWFbMF0telswXSkvcSpBL3I7aWE9KHpbM10taWFbM10pL3EqQS9yO3ZhciBVZj1TWzBdKlhhL3I7dmFyIElkPVNbMV0qWGEvcjt0aGlzLlNmKHhhLFxuYSxiLGNhLGlhLFVmLElkLFoscD09PXRhKTt0aGlzLmYucHVzaCh4YSl9fXRoaXMud2Y9bTt0aGlzLmk9cSpjL0Eqcjt0aGlzLmM9en1iPXRoaXMuaS9nO2I9ZWYodGhpcy5vLGMqZFswXS8yLGMqZFsxXS8yLGIsYiwwLCh0aGlzLmNbMF0tZVswXSkvdGhpcy5pKmMsKGVbMV0tdGhpcy5jWzNdKS90aGlzLmkqYyk7ZWYodGhpcy5sLGMqZFswXS8yLWJbNF0sYypkWzFdLzItYls1XSxjL2csLWMvZywwLC1lWzBdLC1lWzFdKTtWaShhLnVzZWRUaWxlcyxsLHAsdik7V2koYSxsLG4sYyxmLHUscCxoLmMoKSk7VGkoYSxsKTtVaShhLGwpO3JldHVybiAwPHRoaXMuZi5sZW5ndGh9O1xubWoucHJvdG90eXBlLlNmPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCxsKXtpZihjPWEuWSh0aGlzLmEpKXt2YXIgbT14KHRoaXMpLG49bD9xaihhLG0sYi50aW1lKToxOzEhPT1ufHx0aGlzLmEuaGEoKS5lZyhiLnZpZXdTdGF0ZS5wcm9qZWN0aW9uKXx8dGhpcy5jb250ZXh0LmNsZWFyUmVjdChkLGUsZixnKTt2YXIgcD1uIT09dGhpcy5jb250ZXh0Lmdsb2JhbEFscGhhO3AmJih0aGlzLmNvbnRleHQuc2F2ZSgpLHRoaXMuY29udGV4dC5nbG9iYWxBbHBoYT1uKTt0aGlzLmNvbnRleHQuZHJhd0ltYWdlKGMsaCxoLGMud2lkdGgtMipoLGMuaGVpZ2h0LTIqaCxkLGUsZixnKTtwJiZ0aGlzLmNvbnRleHQucmVzdG9yZSgpOzEhPT1uP2IuYW5pbWF0ZT0hMDpsJiZhLmomJihhLnNbbV09LTEpfX07bWoucHJvdG90eXBlLlk9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbnRleHQ7cmV0dXJuIGE/YS5jYW52YXM6bnVsbH07bWoucHJvdG90eXBlLnY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vfTt2YXIgcmo9e0pjOmZ1bmN0aW9uKCl7fX07XG4oZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGUsZixnLGgpe2Y9Znx8MDtnPWd8fGEubGVuZ3RoLTE7Zm9yKGg9aHx8ZDtnPmY7KXtpZig2MDA8Zy1mKXt2YXIgbD1nLWYrMSxtPWUtZisxLG49TWF0aC5sb2cobCkscD0uNSpNYXRoLmV4cCgyKm4vMyk7bj0uNSpNYXRoLnNxcnQobipwKihsLXApL2wpKigwPm0tbC8yPy0xOjEpO2IoYSxlLE1hdGgubWF4KGYsTWF0aC5mbG9vcihlLW0qcC9sK24pKSxNYXRoLm1pbihnLE1hdGguZmxvb3IoZSsobC1tKSpwL2wrbikpLGgpfWw9YVtlXTttPWY7cD1nO2MoYSxmLGUpO2ZvcigwPGgoYVtnXSxsKSYmYyhhLGYsZyk7bTxwOyl7YyhhLG0scCk7bSsrO2ZvcihwLS07MD5oKGFbbV0sbCk7KW0rKztmb3IoOzA8aChhW3BdLGwpOylwLS19MD09PWgoYVtmXSxsKT9jKGEsZixwKToocCsrLGMoYSxwLGcpKTtwPD1lJiYoZj1wKzEpO2U8PXAmJihnPXAtMSl9fWZ1bmN0aW9uIGMoYSxiLGMpe3ZhciBkPWFbYl07YVtiXT1hW2NdO2FbY109ZH1mdW5jdGlvbiBkKGEsXG5iKXtyZXR1cm4gYTxiPy0xOmE+Yj8xOjB9ZnVuY3Rpb24gZShhLGIpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGUpKXJldHVybiBuZXcgZShhLGIpO3RoaXMuTGY9TWF0aC5tYXgoNCxhfHw5KTt0aGlzLndoPU1hdGgubWF4KDIsTWF0aC5jZWlsKC40KnRoaXMuTGYpKTtiJiZ0aGlzLkFrKGIpO3RoaXMuY2xlYXIoKX1mdW5jdGlvbiBmKGEsYil7ZyhhLDAsYS5jaGlsZHJlbi5sZW5ndGgsYixhKX1mdW5jdGlvbiBnKGEsYixjLGQsZSl7ZXx8KGU9dShudWxsKSk7ZS5mYT1JbmZpbml0eTtlLmVhPUluZmluaXR5O2UubGE9LUluZmluaXR5O2Uua2E9LUluZmluaXR5O2Zvcih2YXIgZjtiPGM7YisrKWY9YS5jaGlsZHJlbltiXSxoKGUsYS5mYj9kKGYpOmYpO3JldHVybiBlfWZ1bmN0aW9uIGgoYSxiKXthLmZhPU1hdGgubWluKGEuZmEsYi5mYSk7YS5lYT1NYXRoLm1pbihhLmVhLGIuZWEpO2EubGE9TWF0aC5tYXgoYS5sYSxiLmxhKTthLmthPU1hdGgubWF4KGEua2EsYi5rYSk7cmV0dXJuIGF9XG5mdW5jdGlvbiBsKGEsYil7cmV0dXJuIGEuZmEtYi5mYX1mdW5jdGlvbiBtKGEsYil7cmV0dXJuIGEuZWEtYi5lYX1mdW5jdGlvbiBuKGEpe3JldHVybihhLmxhLWEuZmEpKihhLmthLWEuZWEpfWZ1bmN0aW9uIHAoYSl7cmV0dXJuIGEubGEtYS5mYSsoYS5rYS1hLmVhKX1mdW5jdGlvbiBxKGEsYil7cmV0dXJuIGEuZmE8PWIuZmEmJmEuZWE8PWIuZWEmJmIubGE8PWEubGEmJmIua2E8PWEua2F9ZnVuY3Rpb24gcihhLGIpe3JldHVybiBiLmZhPD1hLmxhJiZiLmVhPD1hLmthJiZiLmxhPj1hLmZhJiZiLmthPj1hLmVhfWZ1bmN0aW9uIHUoYSl7cmV0dXJue2NoaWxkcmVuOmEsaGVpZ2h0OjEsZmI6ITAsZmE6SW5maW5pdHksZWE6SW5maW5pdHksbGE6LUluZmluaXR5LGthOi1JbmZpbml0eX19ZnVuY3Rpb24gdihhLGIsYyxkLGUpe2Zvcih2YXIgZj1bYixjXSxnO2YubGVuZ3RoOyljPWYucG9wKCksYj1mLnBvcCgpLGMtYjw9ZHx8KGc9YitNYXRoLmNlaWwoKGMtYikvZC8yKSpkLHooYSxcbmcsYixjLGUpLGYucHVzaChiLGcsZyxjKSl9dmFyIHo9YjtlLnByb3RvdHlwZT17YWxsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmgodGhpcy5kYXRhLFtdKX0sc2VhcmNoOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZGF0YSxjPVtdLGQ9dGhpcy54YjtpZighcihhLGIpKXJldHVybiBjO2Zvcih2YXIgZT1bXSxmLGcsaCxsO2I7KXtmPTA7Zm9yKGc9Yi5jaGlsZHJlbi5sZW5ndGg7ZjxnO2YrKyloPWIuY2hpbGRyZW5bZl0sbD1iLmZiP2QoaCk6aCxyKGEsbCkmJihiLmZiP2MucHVzaChoKTpxKGEsbCk/dGhpcy5yaChoLGMpOmUucHVzaChoKSk7Yj1lLnBvcCgpfXJldHVybiBjfSxPazpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmRhdGEsYz10aGlzLnhiO2lmKCFyKGEsYikpcmV0dXJuITE7Zm9yKHZhciBkPVtdLGUsZixnLGg7Yjspe2U9MDtmb3IoZj1iLmNoaWxkcmVuLmxlbmd0aDtlPGY7ZSsrKWlmKGc9Yi5jaGlsZHJlbltlXSxoPWIuZmI/YyhnKTpnLHIoYSxoKSl7aWYoYi5mYnx8cShhLFxuaCkpcmV0dXJuITA7ZC5wdXNoKGcpfWI9ZC5wb3AoKX1yZXR1cm4hMX0sbG9hZDpmdW5jdGlvbihhKXtpZighYXx8IWEubGVuZ3RoKXJldHVybiB0aGlzO2lmKGEubGVuZ3RoPHRoaXMud2gpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGg7YjxjO2IrKyl0aGlzLkNhKGFbYl0pO3JldHVybiB0aGlzfWE9dGhpcy50aChhLnNsaWNlKCksMCxhLmxlbmd0aC0xLDApO3RoaXMuZGF0YS5jaGlsZHJlbi5sZW5ndGg/dGhpcy5kYXRhLmhlaWdodD09PWEuaGVpZ2h0P3RoaXMueWgodGhpcy5kYXRhLGEpOih0aGlzLmRhdGEuaGVpZ2h0PGEuaGVpZ2h0JiYoYj10aGlzLmRhdGEsdGhpcy5kYXRhPWEsYT1iKSx0aGlzLnZoKGEsdGhpcy5kYXRhLmhlaWdodC1hLmhlaWdodC0xLCEwKSk6dGhpcy5kYXRhPWE7cmV0dXJuIHRoaXN9LENhOmZ1bmN0aW9uKGEpe2EmJnRoaXMudmgoYSx0aGlzLmRhdGEuaGVpZ2h0LTEpO3JldHVybiB0aGlzfSxjbGVhcjpmdW5jdGlvbigpe3RoaXMuZGF0YT11KFtdKTtyZXR1cm4gdGhpc30sXG5yZW1vdmU6ZnVuY3Rpb24oYSxiKXtpZighYSlyZXR1cm4gdGhpcztmb3IodmFyIGM9dGhpcy5kYXRhLGQ9dGhpcy54YihhKSxlPVtdLGY9W10sZyxoLGwsbTtjfHxlLmxlbmd0aDspe2N8fChjPWUucG9wKCksaD1lW2UubGVuZ3RoLTFdLGc9Zi5wb3AoKSxtPSEwKTtpZihjLmZiKXthOntsPWE7dmFyIG49Yy5jaGlsZHJlbixwPWI7aWYocCl7Zm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspaWYocChsLG5bcl0pKXtsPXI7YnJlYWsgYX1sPS0xfWVsc2UgbD1uLmluZGV4T2YobCl9aWYoLTEhPT1sKXtjLmNoaWxkcmVuLnNwbGljZShsLDEpO2UucHVzaChjKTt0aGlzLnlrKGUpO2JyZWFrfX1tfHxjLmZifHwhcShjLGQpP2g/KGcrKyxjPWguY2hpbGRyZW5bZ10sbT0hMSk6Yz1udWxsOihlLnB1c2goYyksZi5wdXNoKGcpLGc9MCxoPWMsYz1jLmNoaWxkcmVuWzBdKX1yZXR1cm4gdGhpc30seGI6ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LFBmOmwsUWY6bSx0b0pTT046ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhfSxcbnJoOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPVtdO2E7KWEuZmI/Yi5wdXNoLmFwcGx5KGIsYS5jaGlsZHJlbik6Yy5wdXNoLmFwcGx5KGMsYS5jaGlsZHJlbiksYT1jLnBvcCgpO3JldHVybiBifSx0aDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1jLWIrMSxnPXRoaXMuTGY7aWYoZTw9Zyl7dmFyIGg9dShhLnNsaWNlKGIsYysxKSk7ZihoLHRoaXMueGIpO3JldHVybiBofWR8fChkPU1hdGguY2VpbChNYXRoLmxvZyhlKS9NYXRoLmxvZyhnKSksZz1NYXRoLmNlaWwoZS9NYXRoLnBvdyhnLGQtMSkpKTtoPXUoW10pO2guZmI9ITE7aC5oZWlnaHQ9ZDtlPU1hdGguY2VpbChlL2cpO2c9ZSpNYXRoLmNlaWwoTWF0aC5zcXJ0KGcpKTt2YXIgbDtmb3IodihhLGIsYyxnLHRoaXMuUGYpO2I8PWM7Yis9Zyl7dmFyIG09TWF0aC5taW4oYitnLTEsYyk7dihhLGIsbSxlLHRoaXMuUWYpO2ZvcihsPWI7bDw9bTtsKz1lKXt2YXIgbj1NYXRoLm1pbihsK2UtMSxtKTtoLmNoaWxkcmVuLnB1c2godGhpcy50aChhLFxubCxuLGQtMSkpfX1mKGgsdGhpcy54Yik7cmV0dXJuIGh9LHhrOmZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZSxmLGcsaCxsLG0scCxxOzspe2QucHVzaChiKTtpZihiLmZifHxkLmxlbmd0aC0xPT09YylicmVhaztwPXE9SW5maW5pdHk7ZT0wO2ZvcihmPWIuY2hpbGRyZW4ubGVuZ3RoO2U8ZjtlKyspZz1iLmNoaWxkcmVuW2VdLGw9bihnKSxtPShNYXRoLm1heChnLmxhLGEubGEpLU1hdGgubWluKGcuZmEsYS5mYSkpKihNYXRoLm1heChnLmthLGEua2EpLU1hdGgubWluKGcuZWEsYS5lYSkpLWwsbTxxPyhxPW0scD1sPHA/bDpwLGg9Zyk6bT09PXEmJmw8cCYmKHA9bCxoPWcpO2I9aHx8Yi5jaGlsZHJlblswXX1yZXR1cm4gYn0sdmg6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMueGI7Yz1jP2E6ZChhKTtkPVtdO3ZhciBlPXRoaXMueGsoYyx0aGlzLmRhdGEsYixkKTtlLmNoaWxkcmVuLnB1c2goYSk7Zm9yKGgoZSxjKTswPD1iOylpZihkW2JdLmNoaWxkcmVuLmxlbmd0aD50aGlzLkxmKXRoaXMuRGsoZCxcbmIpLGItLTtlbHNlIGJyZWFrO3RoaXMudWsoYyxkLGIpfSxEazpmdW5jdGlvbihhLGIpe3ZhciBjPWFbYl0sZD1jLmNoaWxkcmVuLmxlbmd0aCxlPXRoaXMud2g7dGhpcy52ayhjLGUsZCk7ZD10aGlzLndrKGMsZSxkKTtkPXUoYy5jaGlsZHJlbi5zcGxpY2UoZCxjLmNoaWxkcmVuLmxlbmd0aC1kKSk7ZC5oZWlnaHQ9Yy5oZWlnaHQ7ZC5mYj1jLmZiO2YoYyx0aGlzLnhiKTtmKGQsdGhpcy54Yik7Yj9hW2ItMV0uY2hpbGRyZW4ucHVzaChkKTp0aGlzLnloKGMsZCl9LHloOmZ1bmN0aW9uKGEsYil7dGhpcy5kYXRhPXUoW2EsYl0pO3RoaXMuZGF0YS5oZWlnaHQ9YS5oZWlnaHQrMTt0aGlzLmRhdGEuZmI9ITE7Zih0aGlzLmRhdGEsdGhpcy54Yil9LHdrOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlO3ZhciBmPWU9SW5maW5pdHk7Zm9yKGQ9YjtkPD1jLWI7ZCsrKXt2YXIgaD1nKGEsMCxkLHRoaXMueGIpO3ZhciBsPWcoYSxkLGMsdGhpcy54Yik7dmFyIG09TWF0aC5tYXgoMCxNYXRoLm1pbihoLmxhLFxubC5sYSktTWF0aC5tYXgoaC5mYSxsLmZhKSkqTWF0aC5tYXgoMCxNYXRoLm1pbihoLmthLGwua2EpLU1hdGgubWF4KGguZWEsbC5lYSkpO2g9bihoKStuKGwpO2lmKG08Zil7Zj1tO3ZhciBwPWQ7ZT1oPGU/aDplfWVsc2UgbT09PWYmJmg8ZSYmKGU9aCxwPWQpfXJldHVybiBwfSx2azpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5mYj90aGlzLlBmOmwsZT1hLmZiP3RoaXMuUWY6bSxmPXRoaXMuc2goYSxiLGMsZCk7Yj10aGlzLnNoKGEsYixjLGUpO2Y8YiYmYS5jaGlsZHJlbi5zb3J0KGQpfSxzaDpmdW5jdGlvbihhLGIsYyxkKXthLmNoaWxkcmVuLnNvcnQoZCk7ZD10aGlzLnhiO3ZhciBlPWcoYSwwLGIsZCksZj1nKGEsYy1iLGMsZCksbD1wKGUpK3AoZiksbTtmb3IobT1iO208Yy1iO20rKyl7dmFyIG49YS5jaGlsZHJlblttXTtoKGUsYS5mYj9kKG4pOm4pO2wrPXAoZSl9Zm9yKG09Yy1iLTE7bT49YjttLS0pbj1hLmNoaWxkcmVuW21dLGgoZixhLmZiP2Qobik6biksbCs9cChmKTtyZXR1cm4gbH0sXG51azpmdW5jdGlvbihhLGIsYyl7Zm9yKDswPD1jO2MtLSloKGJbY10sYSl9LHlrOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmxlbmd0aC0xLGM7MDw9YjtiLS0pMD09PWFbYl0uY2hpbGRyZW4ubGVuZ3RoPzA8Yj8oYz1hW2ItMV0uY2hpbGRyZW4sYy5zcGxpY2UoYy5pbmRleE9mKGFbYl0pLDEpKTp0aGlzLmNsZWFyKCk6ZihhW2JdLHRoaXMueGIpfSxBazpmdW5jdGlvbihhKXt2YXIgYj1bXCJyZXR1cm4gYVwiLFwiIC0gYlwiLFwiO1wiXTt0aGlzLlBmPW5ldyBGdW5jdGlvbihcImFcIixcImJcIixiLmpvaW4oYVswXSkpO3RoaXMuUWY9bmV3IEZ1bmN0aW9uKFwiYVwiLFwiYlwiLGIuam9pbihhWzFdKSk7dGhpcy54Yj1uZXcgRnVuY3Rpb24oXCJhXCIsXCJyZXR1cm4ge21pblg6IGFcIithWzBdK1wiLCBtaW5ZOiBhXCIrYVsxXStcIiwgbWF4WDogYVwiK2FbMl0rXCIsIG1heFk6IGFcIithWzNdK1wifTtcIil9fTthW1wiZGVmYXVsdFwiXT1lfSkocmouSmM9cmouSmN8fHt9KTtyai5KYz1yai5KYy5kZWZhdWx0O2Z1bmN0aW9uIHNqKCl7fTtmdW5jdGlvbiB0aihhLGIsYyxkKXt2YXIgZT1hW2JdLGY9YVtiKzFdLGc9MDtmb3IoYis9ZDtiPGM7Yis9ZCl7dmFyIGg9YVtiXSxsPWFbYisxXTtnKz1NYXRoLnNxcnQoKGgtZSkqKGgtZSkrKGwtZikqKGwtZikpO2U9aDtmPWx9cmV0dXJuIGd9O3ZhciB1aj1cIlBvbHlnb24gQ2lyY2xlIExpbmVTdHJpbmcgSW1hZ2UgVGV4dCBEZWZhdWx0XCIuc3BsaXQoXCIgXCIpLHZqPXtsZWZ0OjAsZW5kOjAsY2VudGVyOi41LHJpZ2h0OjEsc3RhcnQ6MSx0b3A6MCxtaWRkbGU6LjUsaGFuZ2luZzouMixhbHBoYWJldGljOi44LGlkZW9ncmFwaGljOi44LGJvdHRvbToxfTtmdW5jdGlvbiB3aihhLGIsYyxkLGUsZil7dGhpcy5yYT1mO3RoaXMuTGE9RGEoKTt0aGlzLm9iPWE7dGhpcy5FYT1iO3RoaXMub3ZlcmxhcHM9ZTt0aGlzLnBpeGVsUmF0aW89ZDt0aGlzLldhPTA7dGhpcy5yZXNvbHV0aW9uPWM7dGhpcy5pPXRoaXMuVD10aGlzLnFhPW51bGw7dGhpcy5hPVtdO3RoaXMuY29vcmRpbmF0ZXM9W107dGhpcy5VYj17fTt0aGlzLmNhPVdlKCk7dGhpcy5iPVtdO3RoaXMub2E9bnVsbDt0aGlzLnN0YXRlPXt9O3RoaXMuJD0wO3RoaXMuYmI9V2UoKX13KHdqLEFpKTtmdW5jdGlvbiB4aihhLGIsYyxkLGUsZixnLGgpe2IuYmVnaW5QYXRoKCk7Yi5tb3ZlVG8uYXBwbHkoYixjKTtiLmxpbmVUby5hcHBseShiLGQpO2IubGluZVRvLmFwcGx5KGIsZSk7Yi5saW5lVG8uYXBwbHkoYixmKTtiLmxpbmVUby5hcHBseShiLGMpO2cmJihhLk89Z1syXSxhLlhhKGIpKTtoJiYoeWooYixoKSxiLnN0cm9rZSgpKX1cbmZ1bmN0aW9uIHpqKGEsYixjLGQsZSxmLGcsaCxsLG0sbixwLHEscix1LHYseixBLEUpe3ZhciBTPUF8fEUsSWE9YS5iYjtmKj1yO2cqPXI7Yy09ZjtkLT1nO3UmJihjPU1hdGgucm91bmQoYyksZD1NYXRoLnJvdW5kKGQpKTt1PXYrbj5lLndpZHRoP2Uud2lkdGgtbjp2O2w9bCtwPmUuaGVpZ2h0P2UuaGVpZ2h0LXA6bDt2PWEuTGE7dmFyIHRhPXpbM10rdSpyK3pbMV0sbGE9elswXStsKnIrelsyXSxjYT1jLXpbM10saWE9ZC16WzBdO2lmKFN8fDAhPT1xKXt2YXIgeGE9W2NhLGlhXTt2YXIgVmE9W2NhK3RhLGlhXTt2YXIgaWM9W2NhK3RhLGlhK2xhXTt2YXIgWGE9W2NhLGlhK2xhXX16PW51bGw7MCE9PXE/KGY9YytmLGc9ZCtnLHo9ZWYoSWEsZixnLDEsMSxxLC1mLC1nKSxPYSh2KSxFYSh2LGFmKElhLHhhKSksRWEodixhZihJYSxWYSkpLEVhKHYsYWYoSWEsaWMpKSxFYSh2LGFmKElhLFhhKSkpOk5hKGNhLGlhLGNhK3RhLGlhK2xhLHYpO3E9Yi5jYW52YXM7cT12WzBdPD1xLndpZHRoJiZcbjA8PXZbMl0mJnZbMV08PXEuaGVpZ2h0JiYwPD12WzNdO2lmKGgpe2lmKHF8fDEhPWhbNF0pVGEoaCx2KSwoYT1xP1tiLHo/ei5zbGljZSgwKTpudWxsLG0sZSxuLHAsdSxsLGMsZCxyXTpudWxsKSYmUyYmYS5wdXNoKEEsRSx4YSxWYSxpYyxYYSksaC5wdXNoKGEpfWVsc2UgcSYmKFMmJnhqKGEsYix4YSxWYSxpYyxYYSxBLEUpLHNpKGIseixtLGUsbixwLHUsbCxjLGQscikpfWZ1bmN0aW9uIEFqKGEsYil7dmFyIGM9YS5waXhlbFJhdGlvO3JldHVybiAxPT1jP2I6Yi5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEqY30pfVxuZnVuY3Rpb24gQmooYSxiLGMsZCxlLGYsZyl7dmFyIGg9YS5jb29yZGluYXRlcy5sZW5ndGgsbD1DaihhKTtnJiYoYys9ZSk7Zz1bYltjXSxiW2MrMV1dO3ZhciBtPVtOYU4sTmFOXSxuPSEwLHA7Zm9yKHA9YytlO3A8ZDtwKz1lKXttWzBdPWJbcF07bVsxXT1iW3ArMV07dmFyIHE9TWEobCxtKTtxIT09cj8obiYmKGEuY29vcmRpbmF0ZXNbaCsrXT1nWzBdLGEuY29vcmRpbmF0ZXNbaCsrXT1nWzFdKSxhLmNvb3JkaW5hdGVzW2grK109bVswXSxhLmNvb3JkaW5hdGVzW2grK109bVsxXSxuPSExKToxPT09cT8oYS5jb29yZGluYXRlc1toKytdPW1bMF0sYS5jb29yZGluYXRlc1toKytdPW1bMV0sbj0hMSk6bj0hMDtnWzBdPW1bMF07Z1sxXT1tWzFdO3ZhciByPXF9aWYoZiYmbnx8cD09PWMrZSlhLmNvb3JkaW5hdGVzW2grK109Z1swXSxhLmNvb3JkaW5hdGVzW2grK109Z1sxXTtyZXR1cm4gaH1cbmZ1bmN0aW9uIERqKGEsYixjLGQsZSxmKXtmb3IodmFyIGc9MCxoPWQubGVuZ3RoO2c8aDsrK2cpe3ZhciBsPWRbZ107Yz1CaihhLGIsYyxsLGUsITEsITEpO2YucHVzaChjKTtjPWx9cmV0dXJuIGN9az13ai5wcm90b3R5cGU7XG5rLkhoPWZ1bmN0aW9uKGEsYixjKXtFaih0aGlzLGIpO3ZhciBkPWEuUygpLGU9YS5wYSgpLGY9dGhpcy5jb29yZGluYXRlcy5sZW5ndGgsZztpZihcIk11bHRpUG9seWdvblwiPT1kKXtkPUlpKGEpO3ZhciBoPVtdO2Zvcih2YXIgbD1hLnRkKCksbT1nPTAsbj1sLmxlbmd0aDttPG47KyttKXt2YXIgcD1bXTtnPURqKHRoaXMsZCxnLGxbbV0sZSxwKTtoLnB1c2gocCl9dGhpcy5hLnB1c2goWzQsZixoLGEsYyxBZl0pfWVsc2VcIlBvbHlnb25cIj09ZHx8XCJNdWx0aUxpbmVTdHJpbmdcIj09ZD8oaD1bXSxkPVwiUG9seWdvblwiPT1kP2EuWGIoKTphLmRhKCksRGoodGhpcyxkLDAsYS5wYigpLGUsaCksdGhpcy5hLnB1c2goWzQsZixoLGEsYyx6Zl0pKTpcIkxpbmVTdHJpbmdcIj09ZHx8XCJNdWx0aVBvaW50XCI9PWQ/KGQ9YS5kYSgpLGU9QmoodGhpcyxkLDAsZC5sZW5ndGgsZSwhMSwhMSksdGhpcy5hLnB1c2goWzQsZixlLGEsYyx5Zl0pKTpcIlBvaW50XCI9PWQmJihkPWEuZGEoKSx0aGlzLmNvb3JkaW5hdGVzLnB1c2goZFswXSxcbmRbMV0pLGU9dGhpcy5jb29yZGluYXRlcy5sZW5ndGgsdGhpcy5hLnB1c2goWzQsZixlLGEsY10pKTtGaih0aGlzLGIpfTtmdW5jdGlvbiBFaihhLGIpe2EucWE9WzAsYiwwXTthLmEucHVzaChhLnFhKTthLlQ9WzAsYiwwXTthLmIucHVzaChhLlQpfWsuWGE9ZnVuY3Rpb24oYSl7aWYodGhpcy5PKXt2YXIgYj1hZih0aGlzLmNhLHRoaXMuTy5zbGljZSgpKTthLnRyYW5zbGF0ZShiWzBdLGJbMV0pO2Eucm90YXRlKHRoaXMuJCl9YS5maWxsKCk7dGhpcy5PJiZhLnNldFRyYW5zZm9ybS5hcHBseShhLHJpKX07ZnVuY3Rpb24geWooYSxiKXthLnN0cm9rZVN0eWxlPWJbMV07YS5saW5lV2lkdGg9YlsyXTthLmxpbmVDYXA9YlszXTthLmxpbmVKb2luPWJbNF07YS5taXRlckxpbWl0PWJbNV07b2QmJihhLmxpbmVEYXNoT2Zmc2V0PWJbN10sYS5zZXRMaW5lRGFzaChiWzZdKSl9XG5mdW5jdGlvbiBHaihhLGIsYyl7aWYoYiYmNTxiLmxlbmd0aCl7dmFyIGQ9Yls0XTtpZigxPT1kfHxkPT1iLmxlbmd0aC01KXtjPXtmYTpiWzBdLGVhOmJbMV0sbGE6YlsyXSxrYTpiWzNdLHZhbHVlOmN9O2lmKCFhLnJhLk9rKGMpKWZvcihhLnJhLkNhKGMpLGM9NSxkPWIubGVuZ3RoO2M8ZDsrK2Mpe3ZhciBlPWJbY107ZSYmKDExPGUubGVuZ3RoJiZ4aihhLGVbMF0sZVsxM10sZVsxNF0sZVsxNV0sZVsxNl0sZVsxMV0sZVsxMl0pLHNpLmFwcGx5KHZvaWQgMCxlKSl9Yi5sZW5ndGg9NTtPYShiKX19fVxuZnVuY3Rpb24gSGooYSxiLGMsZCxlLGYsZyl7aWYoYS5vYSYmamMoYyxhLmNhKSl2YXIgaD1hLm9hO2Vsc2UgYS5vYXx8KGEub2E9W10pLGg9VGUoYS5jb29yZGluYXRlcywwLGEuY29vcmRpbmF0ZXMubGVuZ3RoLDIsYyxhLm9hKSwkZShhLmNhLGMpO2Zvcih2YXIgbD0hbmIoZCksbT0wLG49ZS5sZW5ndGgscD0wLHEscix1LHYseixBLEUsUyxJYSx0YT0wLGxhPTAsY2E9bnVsbCxpYT1udWxsLHhhPWEuVWIsVmE9YS4kLGljPXtjb250ZXh0OmIscGl4ZWxSYXRpbzphLnBpeGVsUmF0aW8scmVzb2x1dGlvbjphLnJlc29sdXRpb24scm90YXRpb246VmF9LFhhPWEuYSE9ZXx8YS5vdmVybGFwcz8wOjIwMDttPG47KXt2YXIgWj1lW21dO3N3aXRjaChaWzBdKXtjYXNlIDA6dmFyIFpiPVpbMV07bCYmZFt4KFpiKS50b1N0cmluZygpXXx8IVpiLlUoKT9tPVpbMl06dm9pZCAwPT09Z3x8aGIoZyxaYi5VKCkuRygpKT8rK206bT1aWzJdKzE7YnJlYWs7Y2FzZSAxOnRhPlhhJiYoYS5YYShiKSx0YT1cbjApO2xhPlhhJiYoYi5zdHJva2UoKSxsYT0wKTt0YXx8bGF8fChiLmJlZ2luUGF0aCgpLHY9ej1OYU4pOysrbTticmVhaztjYXNlIDI6cD1aWzFdO3ZhciBMZT1oW3BdLFVmPWhbcCsxXSxJZD1oW3ArMl0tTGUsdGU9aFtwKzNdLVVmLEpoPU1hdGguc3FydChJZCpJZCt0ZSp0ZSk7Yi5tb3ZlVG8oTGUrSmgsVWYpO2IuYXJjKExlLFVmLEpoLDAsMipNYXRoLlBJLCEwKTsrK207YnJlYWs7Y2FzZSAzOmIuY2xvc2VQYXRoKCk7KyttO2JyZWFrO2Nhc2UgNDpwPVpbMV07cT1aWzJdO3ZhciBNZz1aWzRdLE5nPTY9PVoubGVuZ3RoP1pbNV06dm9pZCAwO2ljLmdlb21ldHJ5PVpbM107aWMuZmVhdHVyZT1aYjttIGluIHhhfHwoeGFbbV09W10pO3ZhciBXZj14YVttXTtOZz9OZyhoLHAscSwyLFdmKTooV2ZbMF09aFtwXSxXZlsxXT1oW3ArMV0sV2YubGVuZ3RoPTIpO01nKFdmLGljKTsrK207YnJlYWs7Y2FzZSA2OnA9WlsxXTtxPVpbMl07SWE9WlszXTtyPVpbNF07dT1aWzVdO1M9Zj9udWxsOlxuWls2XTt2YXIgcmY9Wls3XSx5dT1aWzhdLHp1PVpbOV0sQXU9WlsxMF0sQnU9WlsxMV0sanA9WlsxMl0sQ3U9WlsxM10sRHU9WlsxNF0sRXU9WlsxNV07aWYoMTY8Wi5sZW5ndGgpe3ZhciBrcD1aWzE2XTt2YXIgbHA9WlsxN107dmFyIG1wPVpbMThdfWVsc2Uga3A9aGksbHA9bXA9ITE7Zm9yKEJ1JiYoanArPVZhKTtwPHE7cCs9Mil6aihhLGIsaFtwXSxoW3ArMV0sSWEscix1LFMscmYseXUsenUsQXUsanAsQ3UsRHUsRXUsa3AsbHA/Y2E6bnVsbCxtcD9pYTpudWxsKTtHaihhLFMsWmIpOysrbTticmVhaztjYXNlIDU6dmFyIG5wPVpbMV0sb3A9WlsyXSxMaz1aWzNdO1M9Zj9udWxsOlpbNF07dmFyIEZ1PVpbNV0scHA9Wls2XSxHdT1aWzddLHFwPVpbOF0scnA9Wls5XSxzcD1aWzEwXSx0cD1aWzExXSx1cD1aWzEyXSxNaz1aWzEzXSx2cD1aWzE0XSx3cD10aihoLG5wLG9wLDIpLHhwPXFwKHVwKTtpZihGdXx8eHA8PXdwKXthOnt2YXIgTmk9dm9pZCAwLHlwPXZvaWQgMCxYZj12b2lkIDAsXG5zZj1oLHZlPW5wLHpwPW9wLEFwPXVwLEh1PXFwLEJwPSh3cC14cCkqdmpbYS5zW01rXS50ZXh0QWxpZ25dLEl1PUd1LE5rPVtdLEtoPXNmW3ZlXT5zZlt6cC0yXSxDcD1BcC5sZW5ndGgsTGg9c2ZbdmVdLE1oPXNmW3ZlKzFdO3ZlKz0yO2Zvcih2YXIgT2c9c2ZbdmVdLFBnPXNmW3ZlKzFdLE9rPTAsT2k9TWF0aC5zcXJ0KE1hdGgucG93KE9nLUxoLDIpK01hdGgucG93KFBnLU1oLDIpKSxZZj1cIlwiLFBrPTAsUGk9MDtQaTxDcDsrK1BpKXt5cD1LaD9DcC1QaS0xOlBpO3ZhciBRaz1BcC5jaGFyQXQoeXApO1lmPUtoP1FrK1lmOllmK1FrO3ZhciBRZz1IdShZZiktUGs7UGsrPVFnO2Zvcih2YXIgRHA9QnArUWcvMjt2ZTx6cC0yJiZPaytPaTxEcDspTGg9T2csTWg9UGcsdmUrPTIsT2c9c2ZbdmVdLFBnPXNmW3ZlKzFdLE9rKz1PaSxPaT1NYXRoLnNxcnQoTWF0aC5wb3coT2ctTGgsMikrTWF0aC5wb3coUGctTWgsMikpO3ZhciBKdT1EcC1PayxSZz1NYXRoLmF0YW4yKFBnLU1oLE9nLUxoKTtcbktoJiYoUmcrPTA8Umc/LU1hdGguUEk6TWF0aC5QSSk7aWYodm9pZCAwIT09Tmkpe3ZhciBRaT1SZy1OaTtRaSs9UWk+TWF0aC5QST8tMipNYXRoLlBJOlFpPC1NYXRoLlBJPzIqTWF0aC5QSTowO2lmKE1hdGguYWJzKFFpKT5JdSl7dmFyIFNnPW51bGw7YnJlYWsgYX19dmFyIEVwPUp1L09pLEZwPXlhKExoLE9nLEVwKSxHcD15YShNaCxQZyxFcCk7Tmk9PVJnPyhLaCYmKFhmWzBdPUZwLFhmWzFdPUdwLFhmWzJdPVFnLzIpLFhmWzRdPVlmKTooWWY9UWssUGs9UWcsWGY9W0ZwLEdwLFFnLzIsUmcsWWZdLEtoP05rLnVuc2hpZnQoWGYpOk5rLnB1c2goWGYpLE5pPVJnKTtCcCs9UWd9U2c9Tmt9aWYoU2cpe3ZhciBSaTtpZihzcCl7dmFyIFpmPTA7Zm9yKFJpPVNnLmxlbmd0aDtaZjxSaTsrK1pmKXt2YXIgZWU9U2dbWmZdO3ZhciBSaz1lZVs0XTt2YXIgTmU9YS5ZKFJrLE1rLFwiXCIsc3ApO3I9ZWVbMl0rdHA7dT1MaypOZS5oZWlnaHQrMiooLjUtTGspKnRwLXJwO3pqKGEsYixlZVswXSxlZVsxXSxcbk5lLHIsdSxTLE5lLmhlaWdodCwxLDAsMCxlZVszXSx2cCwhMSxOZS53aWR0aCxoaSxudWxsLG51bGwpfX1pZihwcClmb3IoWmY9MCxSaT1TZy5sZW5ndGg7WmY8Umk7KytaZillZT1TZ1taZl0sUms9ZWVbNF0sTmU9YS5ZKFJrLE1rLHBwLFwiXCIpLHI9ZWVbMl0sdT1MaypOZS5oZWlnaHQtcnAsemooYSxiLGVlWzBdLGVlWzFdLE5lLHIsdSxTLE5lLmhlaWdodCwxLDAsMCxlZVszXSx2cCwhMSxOZS53aWR0aCxoaSxudWxsLG51bGwpfX1HaihhLFMsWmIpOysrbTticmVhaztjYXNlIDc6aWYodm9pZCAwIT09Zil7WmI9WlsxXTt2YXIgSHA9ZihaYik7aWYoSHApcmV0dXJuIEhwfSsrbTticmVhaztjYXNlIDg6WGE/dGErKzphLlhhKGIpOysrbTticmVhaztjYXNlIDk6cD1aWzFdO3E9WlsyXTt2YXIgTmg9aFtwXTt2YXIgT2g9aFtwKzFdO0E9TmgrLjV8MDtFPU9oKy41fDA7aWYoQSE9PXZ8fEUhPT16KWIubW92ZVRvKE5oLE9oKSx2PUEsej1FO2ZvcihwKz0yO3A8cTtwKz0yKWlmKE5oPWhbcF0sXG5PaD1oW3ArMV0sQT1OaCsuNXwwLEU9T2grLjV8MCxwPT1xLTJ8fEEhPT12fHxFIT09eiliLmxpbmVUbyhOaCxPaCksdj1BLHo9RTsrK207YnJlYWs7Y2FzZSAxMDpjYT1aO2EuTz1aWzJdO3RhJiYoYS5YYShiKSx0YT0wLGxhJiYoYi5zdHJva2UoKSxsYT0wKSk7Yi5maWxsU3R5bGU9WlsxXTsrK207YnJlYWs7Y2FzZSAxMTppYT1aO2xhJiYoYi5zdHJva2UoKSxsYT0wKTt5aihiLFopOysrbTticmVhaztjYXNlIDEyOlhhP2xhKys6Yi5zdHJva2UoKTsrK207YnJlYWs7ZGVmYXVsdDorK219fXRhJiZhLlhhKGIpO2xhJiZiLnN0cm9rZSgpfWsuTmE9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy4kPWM7SGoodGhpcyxhLGIsZCx0aGlzLmEsdm9pZCAwLHZvaWQgMCl9O1xuZnVuY3Rpb24gSWooYSl7dmFyIGI9YS5iO2IucmV2ZXJzZSgpO3ZhciBjLGQ9Yi5sZW5ndGgsZT0tMTtmb3IoYz0wO2M8ZDsrK2Mpe3ZhciBmPWJbY107dmFyIGc9ZlswXTtpZig3PT1nKWU9YztlbHNlIGlmKDA9PWcpe2ZbMl09YztmPWEuYjtmb3IoZz1jO2U8Zzspe3ZhciBoPWZbZV07ZltlXT1mW2ddO2ZbZ109aDsrK2U7LS1nfWU9LTF9fX1cbmsuT2E9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnN0YXRlO2E/KGE9YS5iLGMuZmlsbFN0eWxlPXppKGE/YTplaSkpOmMuZmlsbFN0eWxlPXZvaWQgMDtiPyhhPWIuYSxjLnN0cm9rZVN0eWxlPXppKGE/YTpnaSksYT1iLmYsYy5saW5lQ2FwPXZvaWQgMCE9PWE/YTpcInJvdW5kXCIsYT1iLmcsYy5saW5lRGFzaD1hP2Euc2xpY2UoKTpmaSxhPWIuaSxjLmxpbmVEYXNoT2Zmc2V0PWE/YTowLGE9Yi5qLGMubGluZUpvaW49dm9pZCAwIT09YT9hOlwicm91bmRcIixhPWIuYyxjLmxpbmVXaWR0aD12b2lkIDAhPT1hP2E6MSxiPWIubCxjLm1pdGVyTGltaXQ9dm9pZCAwIT09Yj9iOjEwLGMubGluZVdpZHRoPnRoaXMuV2EmJih0aGlzLldhPWMubGluZVdpZHRoLHRoaXMuaT1udWxsKSk6KGMuc3Ryb2tlU3R5bGU9dm9pZCAwLGMubGluZUNhcD12b2lkIDAsYy5saW5lRGFzaD1udWxsLGMubGluZURhc2hPZmZzZXQ9dm9pZCAwLGMubGluZUpvaW49dm9pZCAwLGMubGluZVdpZHRoPXZvaWQgMCxjLm1pdGVyTGltaXQ9XG52b2lkIDApfTtrLkFoPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5maWxsU3R5bGU7YT1bMTAsY107XCJzdHJpbmdcIiE9PXR5cGVvZiBjJiYoYj1iLkcoKSxhLnB1c2goW2JbMF0sYlszXV0pKTt0aGlzLmEucHVzaChhKX07ay5wZD1mdW5jdGlvbihhKXt0aGlzLmEucHVzaChbMTEsYS5zdHJva2VTdHlsZSxhLmxpbmVXaWR0aCp0aGlzLnBpeGVsUmF0aW8sYS5saW5lQ2FwLGEubGluZUpvaW4sYS5taXRlckxpbWl0LEFqKHRoaXMsYS5saW5lRGFzaCksYS5saW5lRGFzaE9mZnNldCp0aGlzLnBpeGVsUmF0aW9dKX07ZnVuY3Rpb24gSmooYSxiLGMsZCl7dmFyIGU9Yi5maWxsU3R5bGU7aWYoXCJzdHJpbmdcIiE9PXR5cGVvZiBlfHxiLlBrIT1lKWMuY2FsbChhLGIsZCksYi5Qaz1lfVxuZnVuY3Rpb24gS2ooYSxiLGMpe3ZhciBkPWIuc3Ryb2tlU3R5bGUsZT1iLmxpbmVDYXAsZj1iLmxpbmVEYXNoLGc9Yi5saW5lRGFzaE9mZnNldCxoPWIubGluZUpvaW4sbD1iLmxpbmVXaWR0aCxtPWIubWl0ZXJMaW1pdDtpZihiLlZrIT1kfHxiLlFrIT1lfHxmIT1iLkZoJiYhamMoYi5GaCxmKXx8Yi5SayE9Z3x8Yi5TayE9aHx8Yi5UayE9bHx8Yi5VayE9bSljLmNhbGwoYSxiKSxiLlZrPWQsYi5Raz1lLGIuRmg9ZixiLlJrPWcsYi5Taz1oLGIuVGs9bCxiLlVrPW19ZnVuY3Rpb24gRmooYSxiKXthLnFhWzJdPWEuYS5sZW5ndGg7YS5xYT1udWxsO2EuVFsyXT1hLmIubGVuZ3RoO2EuVD1udWxsO2I9WzcsYl07YS5hLnB1c2goYik7YS5iLnB1c2goYil9ay5iZj1lYTtmdW5jdGlvbiBDaihhKXthLml8fChhLmk9R2EoYS5FYSksMDxhLldhJiZGYShhLmksYS5yZXNvbHV0aW9uKihhLldhKzEpLzIsYS5pKSk7cmV0dXJuIGEuaX07ZnVuY3Rpb24gTGooYSxiLGMsZCxlLGYpe3dqLmNhbGwodGhpcyxhLGIsYyxkLGUsZik7dGhpcy5NPXRoaXMuVj10aGlzLkI9bnVsbDt0aGlzLk49dGhpcy5vPXRoaXMudj10aGlzLnM9dGhpcy5sPXRoaXMuQz10aGlzLkQ9dGhpcy5qPXRoaXMuZj10aGlzLmM9dGhpcy5nPXZvaWQgMH13KExqLHdqKTtcbkxqLnByb3RvdHlwZS55Yz1mdW5jdGlvbihhLGIpe2lmKHRoaXMuTSl7RWoodGhpcyxiKTt2YXIgYz1hLmRhKCksZD10aGlzLmNvb3JkaW5hdGVzLmxlbmd0aDthPUJqKHRoaXMsYywwLGMubGVuZ3RoLGEucGEoKSwhMSwhMSk7dGhpcy5hLnB1c2goWzYsZCxhLHRoaXMuTSx0aGlzLmcsdGhpcy5jLHRoaXMuQix0aGlzLmYsdGhpcy5qLHRoaXMuRCx0aGlzLkMsdGhpcy5sLHRoaXMucyx0aGlzLnYqdGhpcy5waXhlbFJhdGlvLHRoaXMubyx0aGlzLk5dKTt0aGlzLmIucHVzaChbNixkLGEsdGhpcy5WLHRoaXMuZyx0aGlzLmMsdGhpcy5CLHRoaXMuZix0aGlzLmosdGhpcy5ELHRoaXMuQyx0aGlzLmwsdGhpcy5zLHRoaXMudix0aGlzLm8sdGhpcy5OXSk7RmoodGhpcyxiKX19O1xuTGoucHJvdG90eXBlLndjPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5NKXtFaih0aGlzLGIpO3ZhciBjPWEuZGEoKSxkPXRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO2E9QmoodGhpcyxjLDAsYy5sZW5ndGgsYS5wYSgpLCExLCExKTt0aGlzLmEucHVzaChbNixkLGEsdGhpcy5NLHRoaXMuZyx0aGlzLmMsdGhpcy5CLHRoaXMuZix0aGlzLmosdGhpcy5ELHRoaXMuQyx0aGlzLmwsdGhpcy5zLHRoaXMudip0aGlzLnBpeGVsUmF0aW8sdGhpcy5vLHRoaXMuTl0pO3RoaXMuYi5wdXNoKFs2LGQsYSx0aGlzLlYsdGhpcy5nLHRoaXMuYyx0aGlzLkIsdGhpcy5mLHRoaXMuaix0aGlzLkQsdGhpcy5DLHRoaXMubCx0aGlzLnMsdGhpcy52LHRoaXMubyx0aGlzLk5dKTtGaih0aGlzLGIpfX07XG5Mai5wcm90b3R5cGUuYmY9ZnVuY3Rpb24oKXtJaih0aGlzKTt0aGlzLmM9dGhpcy5nPXZvaWQgMDt0aGlzLk09dGhpcy5WPW51bGw7dGhpcy5OPXRoaXMubz10aGlzLnM9dGhpcy5sPXRoaXMuQz10aGlzLkQ9dGhpcy5qPXRoaXMudj10aGlzLmY9dm9pZCAwfTtMai5wcm90b3R5cGUuWmI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLlZjKCksZD1hLm9jKCksZT1hLkVnKCksZj1hLlkoMSksZz1hLmJkKCk7dGhpcy5nPWNbMF07dGhpcy5jPWNbMV07dGhpcy5CPWI7dGhpcy5WPWU7dGhpcy5NPWY7dGhpcy5mPWRbMV07dGhpcy5qPWEuaTt0aGlzLkQ9Z1swXTt0aGlzLkM9Z1sxXTt0aGlzLmw9YS5zO3RoaXMucz1hLmY7dGhpcy52PWEuYTt0aGlzLm89YS52O3RoaXMuTj1kWzBdfTtmdW5jdGlvbiBNaihhLGIsYyxkLGUsZil7d2ouY2FsbCh0aGlzLGEsYixjLGQsZSxmKX13KE1qLHdqKTtmdW5jdGlvbiBOaihhLGIsYyxkLGUpe3ZhciBmPWEuY29vcmRpbmF0ZXMubGVuZ3RoO2I9QmooYSxiLGMsZCxlLCExLCExKTtmPVs5LGYsYl07YS5hLnB1c2goZik7YS5iLnB1c2goZik7cmV0dXJuIGR9TWoucHJvdG90eXBlLnVjPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5zdGF0ZSxkPWMubGluZVdpZHRoO3ZvaWQgMCE9PWMuc3Ryb2tlU3R5bGUmJnZvaWQgMCE9PWQmJihLaih0aGlzLGMsdGhpcy5wZCksRWoodGhpcyxiKSx0aGlzLmIucHVzaChbMTEsYy5zdHJva2VTdHlsZSxjLmxpbmVXaWR0aCxjLmxpbmVDYXAsYy5saW5lSm9pbixjLm1pdGVyTGltaXQsYy5saW5lRGFzaCxjLmxpbmVEYXNoT2Zmc2V0XSxbMV0pLGM9YS5kYSgpLE5qKHRoaXMsYywwLGMubGVuZ3RoLGEucGEoKSksdGhpcy5iLnB1c2goWzEyXSksRmoodGhpcyxiKSl9O1xuTWoucHJvdG90eXBlLnZjPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5zdGF0ZSxkPWMubGluZVdpZHRoO2lmKHZvaWQgMCE9PWMuc3Ryb2tlU3R5bGUmJnZvaWQgMCE9PWQpe0tqKHRoaXMsYyx0aGlzLnBkKTtFaih0aGlzLGIpO3RoaXMuYi5wdXNoKFsxMSxjLnN0cm9rZVN0eWxlLGMubGluZVdpZHRoLGMubGluZUNhcCxjLmxpbmVKb2luLGMubWl0ZXJMaW1pdCxjLmxpbmVEYXNoLGMubGluZURhc2hPZmZzZXRdLFsxXSk7Yz1hLnBiKCk7ZD1hLmRhKCk7YT1hLnBhKCk7dmFyIGU9MCxmO3ZhciBnPTA7Zm9yKGY9Yy5sZW5ndGg7ZzxmOysrZyllPU5qKHRoaXMsZCxlLGNbZ10sYSk7dGhpcy5iLnB1c2goWzEyXSk7RmoodGhpcyxiKX19O01qLnByb3RvdHlwZS5iZj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhdGU7dm9pZCAwIT1hLiRkJiZhLiRkIT10aGlzLmNvb3JkaW5hdGVzLmxlbmd0aCYmdGhpcy5hLnB1c2goWzEyXSk7SWoodGhpcyk7dGhpcy5zdGF0ZT1udWxsfTtcbk1qLnByb3RvdHlwZS5wZD1mdW5jdGlvbihhKXt2b2lkIDAhPWEuJGQmJmEuJGQhPXRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoJiYodGhpcy5hLnB1c2goWzEyXSksYS4kZD10aGlzLmNvb3JkaW5hdGVzLmxlbmd0aCk7YS4kZD0wO3dqLnByb3RvdHlwZS5wZC5jYWxsKHRoaXMsYSk7dGhpcy5hLnB1c2goWzFdKX07ZnVuY3Rpb24gT2ooYSxiLGMsZCxlLGYpe3dqLmNhbGwodGhpcyxhLGIsYyxkLGUsZil9dyhPaix3aik7ZnVuY3Rpb24gUGooYSxiLGMsZCxlKXt2YXIgZj1hLnN0YXRlLGc9dm9pZCAwIT09Zi5maWxsU3R5bGU7Zj12b2lkIDAhPWYuc3Ryb2tlU3R5bGU7dmFyIGg9ZC5sZW5ndGgsbD1bMV07YS5hLnB1c2gobCk7YS5iLnB1c2gobCk7Zm9yKGw9MDtsPGg7KytsKXt2YXIgbT1kW2xdLG49YS5jb29yZGluYXRlcy5sZW5ndGg7Yz1CaihhLGIsYyxtLGUsITAsIWYpO2M9WzksbixjXTthLmEucHVzaChjKTthLmIucHVzaChjKTtmJiYoYz1bM10sYS5hLnB1c2goYyksYS5iLnB1c2goYykpO2M9bX1iPVs4XTthLmIucHVzaChiKTtnJiZhLmEucHVzaChiKTtmJiYoZz1bMTJdLGEuYS5wdXNoKGcpLGEuYi5wdXNoKGcpKTtyZXR1cm4gY31cbk9qLnByb3RvdHlwZS5jYz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc3RhdGUsZD1jLnN0cm9rZVN0eWxlO2lmKHZvaWQgMCE9PWMuZmlsbFN0eWxlfHx2b2lkIDAhPT1kKXtRaih0aGlzLGEpO0VqKHRoaXMsYik7dGhpcy5iLnB1c2goWzEwLHhpKGVpKV0pO3ZvaWQgMCE9PWMuc3Ryb2tlU3R5bGUmJnRoaXMuYi5wdXNoKFsxMSxjLnN0cm9rZVN0eWxlLGMubGluZVdpZHRoLGMubGluZUNhcCxjLmxpbmVKb2luLGMubWl0ZXJMaW1pdCxjLmxpbmVEYXNoLGMubGluZURhc2hPZmZzZXRdKTt2YXIgZT1hLmRhKCk7ZD10aGlzLmNvb3JkaW5hdGVzLmxlbmd0aDtCaih0aGlzLGUsMCxlLmxlbmd0aCxhLnBhKCksITEsITEpO2E9WzFdO2Q9WzIsZF07dGhpcy5hLnB1c2goYSxkKTt0aGlzLmIucHVzaChhLGQpO2E9WzhdO3RoaXMuYi5wdXNoKGEpO3ZvaWQgMCE9PWMuZmlsbFN0eWxlJiZ0aGlzLmEucHVzaChhKTt2b2lkIDAhPT1jLnN0cm9rZVN0eWxlJiYoYz1bMTJdLHRoaXMuYS5wdXNoKGMpLFxudGhpcy5iLnB1c2goYykpO0ZqKHRoaXMsYil9fTtPai5wcm90b3R5cGUuemM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnN0YXRlO1FqKHRoaXMsYSk7RWoodGhpcyxiKTt0aGlzLmIucHVzaChbMTAseGkoZWkpXSk7dm9pZCAwIT09Yy5zdHJva2VTdHlsZSYmdGhpcy5iLnB1c2goWzExLGMuc3Ryb2tlU3R5bGUsYy5saW5lV2lkdGgsYy5saW5lQ2FwLGMubGluZUpvaW4sYy5taXRlckxpbWl0LGMubGluZURhc2gsYy5saW5lRGFzaE9mZnNldF0pO2M9YS5wYigpO3ZhciBkPWEuWGIoKTtQaih0aGlzLGQsMCxjLGEucGEoKSk7RmoodGhpcyxiKX07XG5Pai5wcm90b3R5cGUueGM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnN0YXRlLGQ9Yy5zdHJva2VTdHlsZTtpZih2b2lkIDAhPT1jLmZpbGxTdHlsZXx8dm9pZCAwIT09ZCl7UWoodGhpcyxhKTtFaih0aGlzLGIpO3RoaXMuYi5wdXNoKFsxMCx4aShlaSldKTt2b2lkIDAhPT1jLnN0cm9rZVN0eWxlJiZ0aGlzLmIucHVzaChbMTEsYy5zdHJva2VTdHlsZSxjLmxpbmVXaWR0aCxjLmxpbmVDYXAsYy5saW5lSm9pbixjLm1pdGVyTGltaXQsYy5saW5lRGFzaCxjLmxpbmVEYXNoT2Zmc2V0XSk7Yz1hLnRkKCk7ZD1JaShhKTthPWEucGEoKTt2YXIgZT0wLGY7dmFyIGc9MDtmb3IoZj1jLmxlbmd0aDtnPGY7KytnKWU9UGoodGhpcyxkLGUsY1tnXSxhKTtGaih0aGlzLGIpfX07XG5Pai5wcm90b3R5cGUuYmY9ZnVuY3Rpb24oKXtJaih0aGlzKTt0aGlzLnN0YXRlPW51bGw7dmFyIGE9dGhpcy5vYjtpZigwIT09YSl7dmFyIGI9dGhpcy5jb29yZGluYXRlcyxjO3ZhciBkPTA7Zm9yKGM9Yi5sZW5ndGg7ZDxjOysrZCliW2RdPWEqTWF0aC5yb3VuZChiW2RdL2EpfX07ZnVuY3Rpb24gUWooYSxiKXt2YXIgYz1hLnN0YXRlO3ZvaWQgMCE9PWMuZmlsbFN0eWxlJiZKaihhLGMsYS5BaCxiKTt2b2lkIDAhPT1jLnN0cm9rZVN0eWxlJiZLaihhLGMsYS5wZCl9O2Z1bmN0aW9uIFJqKGEsYixjLGQsZSxmKXt3ai5jYWxsKHRoaXMsYSxiLGMsZCxlLGYpO3RoaXMudGE9XCJcIjt0aGlzLmw9dGhpcy5EPTA7dGhpcy5DPXZvaWQgMDt0aGlzLkI9MDt0aGlzLmM9bnVsbDt0aGlzLm89e307dGhpcy5nPW51bGw7dGhpcy5hYj17fTt0aGlzLmY9e307dGhpcy5zPXt9O3RoaXMuVj10aGlzLnY9dGhpcy5qPVwiXCI7Zm9yKHRoaXMudWE9e307ZGkoaWkpOylpaS5wb3AoKX13KFJqLHdqKTtcblJqLnByb3RvdHlwZS5XYj1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuYyxkPXRoaXMuZyxlPXRoaXMuZjtpZihcIlwiIT09dGhpcy50YSYmZSYmKGN8fGQpKXtjPXRoaXMuY29vcmRpbmF0ZXMubGVuZ3RoO3ZhciBmPWEuUygpO2Q9bnVsbDt2YXIgZz0yLGg9MjtpZihcImxpbmVcIj09PWUucGxhY2VtZW50KXtpZighaGIoQ2oodGhpcyksYS5HKCkpKXJldHVybjtkPWEuZGEoKTtoPWEucGEoKTtpZihcIkxpbmVTdHJpbmdcIj09Zil2YXIgbD1bZC5sZW5ndGhdO2Vsc2UgaWYoXCJNdWx0aUxpbmVTdHJpbmdcIj09ZilsPWEucGIoKTtlbHNlIGlmKFwiUG9seWdvblwiPT1mKWw9YS5wYigpLnNsaWNlKDAsMSk7ZWxzZSBpZihcIk11bHRpUG9seWdvblwiPT1mKWZvcihhPWEudGQoKSxsPVtdLGc9MCxmPWEubGVuZ3RoO2c8ZjsrK2cpbC5wdXNoKGFbZ11bMF0pO0VqKHRoaXMsYik7YT1lLnRleHRBbGlnbjt2YXIgbT0wLG47Zj0wO2Zvcih2YXIgcD1sLmxlbmd0aDtmPHA7KytmKXtpZih2b2lkIDA9PWEpe2Zvcih2YXIgcSxcbnIsdT12b2lkIDAsdj12b2lkIDAsej1nPXI9cT12b2lkIDAsQT1uPW0sRT0wLFM9MCxJYT1tO208bFtmXTttKz1oKXt2YXIgdGE9ZFttXSxsYT1kW20rMV07dm9pZCAwIT09ciYmKHI9dGEtcixxPWxhLXEsZz1NYXRoLnNxcnQocipyK3EqcSksdm9pZCAwIT09diYmKFMrPXosdT1NYXRoLmFjb3MoKHYqcit1KnEpLyh6KmcpKSx1PmUubWF4QW5nbGUmJihTPkUmJihFPVMsbj1JYSxBPW0pLFM9MCxJYT1tLWgpKSx6PWcsdj1yLHU9cSk7cj10YTtxPWxhfWc9UytnPkU/W0lhLG1dOltuLEFdO209Z1swXTtuPWdbMV19ZWxzZSBuPWxbZl07Zm9yKGc9bTtnPG47Zys9aCl0aGlzLmNvb3JkaW5hdGVzLnB1c2goZFtnXSxkW2crMV0pO2c9dGhpcy5jb29yZGluYXRlcy5sZW5ndGg7bT1sW2ZdO1NqKHRoaXMsYyxnLHRoaXMuTik7Yz1nfX1lbHNle2w9dGhpcy5ZKHRoaXMudGEsdGhpcy5qLHRoaXMudix0aGlzLlYpO3A9bC53aWR0aC90aGlzLnBpeGVsUmF0aW87c3dpdGNoKGYpe2Nhc2UgXCJQb2ludFwiOmNhc2UgXCJNdWx0aVBvaW50XCI6ZD1cbmEuZGEoKTtnPWQubGVuZ3RoO2JyZWFrO2Nhc2UgXCJMaW5lU3RyaW5nXCI6ZD1hLkZlKCk7YnJlYWs7Y2FzZSBcIkNpcmNsZVwiOmQ9YS54YSgpO2JyZWFrO2Nhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpkPWEuR2UoKTtnPWQubGVuZ3RoO2JyZWFrO2Nhc2UgXCJQb2x5Z29uXCI6ZD1hLlRkKCk7aWYoIWUub3ZlcmZsb3cmJmRbMl0vdGhpcy5yZXNvbHV0aW9uPHApcmV0dXJuO2g9MzticmVhaztjYXNlIFwiTXVsdGlQb2x5Z29uXCI6bj1KaShhKTtkPVtdO2c9MDtmb3IoZj1uLmxlbmd0aDtnPGY7Zys9MykoZS5vdmVyZmxvd3x8bltnKzJdL3RoaXMucmVzb2x1dGlvbj49cCkmJmQucHVzaChuW2ddLG5bZysxXSk7Zz1kLmxlbmd0aDtpZigwPT1nKXJldHVybn1nPUJqKHRoaXMsZCwwLGcsaCwhMSwhMSk7RWoodGhpcyxiKTtpZihlLmJhY2tncm91bmRGaWxsfHxlLmJhY2tncm91bmRTdHJva2UpdGhpcy5PYShlLmJhY2tncm91bmRGaWxsLGUuYmFja2dyb3VuZFN0cm9rZSksSmoodGhpcyx0aGlzLnN0YXRlLFxudGhpcy5BaCxhKSxLaih0aGlzLHRoaXMuc3RhdGUsdGhpcy5wZCk7VGoodGhpcyxsLGMsZyl9RmoodGhpcyxiKX19O1xuUmoucHJvdG90eXBlLlk9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9ZCtiK2ErYyt0aGlzLnBpeGVsUmF0aW87aWYoIWlpLmEuaGFzT3duUHJvcGVydHkoZSkpe3ZhciBmPWQ/dGhpcy5hYltkXXx8dGhpcy5nOm51bGwsZz1jP3RoaXMub1tjXXx8dGhpcy5jOm51bGwsaD10aGlzLnNbYl18fHRoaXMuZixsPWguc2NhbGUqdGhpcy5waXhlbFJhdGlvLG09dmpbaC50ZXh0QWxpZ258fFwiY2VudGVyXCJdO2I9ZCYmZi5saW5lV2lkdGg/Zi5saW5lV2lkdGg6MDthPWEuc3BsaXQoXCJcXG5cIik7dmFyIG49YS5sZW5ndGgscD1bXSxxPWguZm9udDt2YXIgcj1hLmxlbmd0aDt2YXIgdT0wO3ZhciB2O2Zvcih2PTA7djxyOysrdil7dmFyIHo9cGkocSxhW3ZdKTt1PU1hdGgubWF4KHUseik7cC5wdXNoKHopfXI9dTtxPW9pKGguZm9udCk7cj1oZyhNYXRoLmNlaWwoKHIrYikqbCksTWF0aC5jZWlsKChxKm4rYikqbCkpO3U9ci5jYW52YXM7aWkuc2V0KGUsdSk7MSE9bCYmci5zY2FsZShsLGwpO3IuZm9udD1cbmguZm9udDtkJiYoci5zdHJva2VTdHlsZT1mLnN0cm9rZVN0eWxlLHIubGluZVdpZHRoPWIqKGtkP2w6MSksci5saW5lQ2FwPWYubGluZUNhcCxyLmxpbmVKb2luPWYubGluZUpvaW4sci5taXRlckxpbWl0PWYubWl0ZXJMaW1pdCxvZCYmZi5saW5lRGFzaC5sZW5ndGgmJihyLnNldExpbmVEYXNoKGYubGluZURhc2gpLHIubGluZURhc2hPZmZzZXQ9Zi5saW5lRGFzaE9mZnNldCkpO2MmJihyLmZpbGxTdHlsZT1nLmZpbGxTdHlsZSk7ci50ZXh0QmFzZWxpbmU9XCJtaWRkbGVcIjtyLnRleHRBbGlnbj1cImNlbnRlclwiO2Y9LjUtbTtnPW0qdS53aWR0aC9sK2YqYjtpZihkKWZvcihkPTA7ZDxuOysrZClyLnN0cm9rZVRleHQoYVtkXSxnK2YqcFtkXSwuNSooYitxKStkKnEpO2lmKGMpZm9yKGQ9MDtkPG47KytkKXIuZmlsbFRleHQoYVtkXSxnK2YqcFtkXSwuNSooYitxKStkKnEpfXJldHVybiBpaS5nZXQoZSl9O1xuZnVuY3Rpb24gVGooYSxiLGMsZCl7dmFyIGU9YS5mLGY9YS5nLGc9YS5waXhlbFJhdGlvLGg9dmpbZS50ZXh0QWxpZ258fFwiY2VudGVyXCJdLGw9dmpbZS50ZXh0QmFzZWxpbmVdO2Y9ZiYmZi5saW5lV2lkdGg/Zi5saW5lV2lkdGg6MDtoPWgqYi53aWR0aC9nKzIqKC41LWgpKmY7bD1sKmIuaGVpZ2h0L2crMiooLjUtbCkqZjthLmEucHVzaChbNixjLGQsYiwoaC1hLkQpKmcsKGwtYS5sKSpnLGEuTixiLmhlaWdodCwxLDAsMCxhLkMsYS5CLDEsITAsYi53aWR0aCxlLnBhZGRpbmc9PWhpP2hpOmUucGFkZGluZy5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEqZ30pLCEhZS5iYWNrZ3JvdW5kRmlsbCwhIWUuYmFja2dyb3VuZFN0cm9rZV0pO2EuYi5wdXNoKFs2LGMsZCxiLChoLWEuRCkqZywobC1hLmwpKmcsYS5OLGIuaGVpZ2h0LDEsMCwwLGEuQyxhLkIsMS9nLCEwLGIud2lkdGgsZS5wYWRkaW5nLCEhZS5iYWNrZ3JvdW5kRmlsbCwhIWUuYmFja2dyb3VuZFN0cm9rZV0pfVxuZnVuY3Rpb24gU2ooYSxiLGMsZCl7dmFyIGU9YS5nLGY9YS5mLGc9YS5jLGg9YS5WO2UmJihoIGluIGEuYWJ8fChhLmFiW2hdPXtzdHJva2VTdHlsZTplLnN0cm9rZVN0eWxlLGxpbmVDYXA6ZS5saW5lQ2FwLGxpbmVEYXNoT2Zmc2V0OmUubGluZURhc2hPZmZzZXQsbGluZVdpZHRoOmUubGluZVdpZHRoLGxpbmVKb2luOmUubGluZUpvaW4sbWl0ZXJMaW1pdDplLm1pdGVyTGltaXQsbGluZURhc2g6ZS5saW5lRGFzaH0pKTt2YXIgbD1hLmo7YS5qIGluIGEuc3x8KGEuc1thLmpdPXtmb250OmYuZm9udCx0ZXh0QWxpZ246Zi50ZXh0QWxpZ258fFwiY2VudGVyXCIsc2NhbGU6Zi5zY2FsZX0pO3ZhciBtPWEudjtnJiYobSBpbiBhLm98fChhLm9bbV09e2ZpbGxTdHlsZTpnLmZpbGxTdHlsZX0pKTt2YXIgbj1hLnBpeGVsUmF0aW87Zz12altmLnRleHRCYXNlbGluZV07dmFyIHA9YS5sKm4scT1hLnRhLHI9Zi5mb250LHU9Zi5zY2FsZTtlPWU/ZS5saW5lV2lkdGgqdS8yOjA7dmFyIHY9YS51YVtyXTtcbnZ8fChhLnVhW3JdPXY9e30pO2EuYS5wdXNoKFs1LGIsYyxnLGQsZi5vdmVyZmxvdyxtLGYubWF4QW5nbGUsZnVuY3Rpb24oYSl7dmFyIGI9dlthXTtifHwoYj12W2FdPXBpKHIsYSkpO3JldHVybiBiKnUqbn0scCxoLGUqbixxLGwsMV0pO2EuYi5wdXNoKFs1LGIsYyxnLGQsZi5vdmVyZmxvdyxtLGYubWF4QW5nbGUsZnVuY3Rpb24oYSl7dmFyIGI9dlthXTtifHwoYj12W2FdPXBpKHIsYSkpO3JldHVybiBiKnV9LHAsaCxlLHEsbCwxL25dKX1cblJqLnByb3RvdHlwZS5uYj1mdW5jdGlvbihhLGIpe3ZhciBjLGQ7aWYoYSl7dGhpcy5OPWI7KGQ9YS5GYSgpKT8oYj10aGlzLmMsYnx8KGI9dGhpcy5jPXt9KSxiLmZpbGxTdHlsZT16aShkLmJ8fGVpKSk6Yj10aGlzLmM9bnVsbDtpZihjPWEuR2EoKSl7ZD10aGlzLmc7ZHx8KGQ9dGhpcy5nPXt9KTt2YXIgZT1jLmcsZj1jLmksZz1jLmMsaD1jLmw7ZC5saW5lQ2FwPWMuZnx8XCJyb3VuZFwiO2QubGluZURhc2g9ZT9lLnNsaWNlKCk6Zmk7ZC5saW5lRGFzaE9mZnNldD12b2lkIDA9PT1mPzA6ZjtkLmxpbmVKb2luPWMuanx8XCJyb3VuZFwiO2QubGluZVdpZHRoPXZvaWQgMD09PWc/MTpnO2QubWl0ZXJMaW1pdD12b2lkIDA9PT1oPzEwOmg7ZC5zdHJva2VTdHlsZT16aShjLmF8fGdpKX1lbHNlIGQ9dGhpcy5nPW51bGw7Yz10aGlzLmY7ZT1hLmF8fFwiMTBweCBzYW5zLXNlcmlmXCI7bmkoZSk7Zj1hLmI7Yy5vdmVyZmxvdz1hLnY7Yy5mb250PWU7Yy5tYXhBbmdsZT1hLnM7Yy5wbGFjZW1lbnQ9YS5vO1xuYy50ZXh0QWxpZ249YS5mO2MudGV4dEJhc2VsaW5lPWEuanx8XCJtaWRkbGVcIjtjLmJhY2tncm91bmRGaWxsPWEuTjtjLmJhY2tncm91bmRTdHJva2U9YS5EO2MucGFkZGluZz1hLkN8fGhpO2Muc2NhbGU9dm9pZCAwPT09Zj8xOmY7ZT1hLmc7Zj1hLmM7Zz1hLmw7aD1hLmk7dGhpcy50YT1hLkthKCl8fFwiXCI7dGhpcy5EPXZvaWQgMD09PWU/MDplO3RoaXMubD12b2lkIDA9PT1mPzA6Zjt0aGlzLkM9dm9pZCAwPT09Zz8hMTpnO3RoaXMuQj12b2lkIDA9PT1oPzA6aDt0aGlzLlY9ZD8oXCJzdHJpbmdcIj09dHlwZW9mIGQuc3Ryb2tlU3R5bGU/ZC5zdHJva2VTdHlsZTp4KGQuc3Ryb2tlU3R5bGUpKStkLmxpbmVDYXArZC5saW5lRGFzaE9mZnNldCtcInxcIitkLmxpbmVXaWR0aCtkLmxpbmVKb2luK2QubWl0ZXJMaW1pdCtcIltcIitkLmxpbmVEYXNoLmpvaW4oKStcIl1cIjpcIlwiO3RoaXMuaj1jLmZvbnQrYy5zY2FsZSsoYy50ZXh0QWxpZ258fFwiP1wiKTt0aGlzLnY9Yj9cInN0cmluZ1wiPT10eXBlb2YgYi5maWxsU3R5bGU/XG5iLmZpbGxTdHlsZTpcInxcIit4KGIuZmlsbFN0eWxlKTpcIlwifWVsc2UgdGhpcy50YT1cIlwifTtmdW5jdGlvbiBVaihhLGIsYyxkLGUsZixnKXt0aGlzLmE9Zjt0aGlzLmc9bnVsbDt0aGlzLm89YTt0aGlzLmM9Yjt0aGlzLmw9ZTt0aGlzLnM9ZDt0aGlzLnY9Yzt0aGlzLmk9Zzt0aGlzLmI9e307dGhpcy5mPWhnKDEsMSk7dGhpcy5qPVdlKCl9dyhVaixzaik7dmFyIFZqPXswOltbITBdXX07ZnVuY3Rpb24gV2ooYSxiLGMpe3ZhciBkLGU9TWF0aC5mbG9vcihhLmxlbmd0aC8yKTtpZihiPj1lKWZvcihkPWU7ZDxiO2QrKylhW2RdW2NdPSEwO2Vsc2UgaWYoYjxlKWZvcihkPWIrMTtkPGU7ZCsrKWFbZF1bY109ITB9XG5mdW5jdGlvbiBYaihhKXtpZih2b2lkIDAhPT1WalthXSlyZXR1cm4gVmpbYV07Zm9yKHZhciBiPTIqYSsxLGM9QXJyYXkoYiksZD0wO2Q8YjtkKyspY1tkXT1BcnJheShiKTtiPWE7Zm9yKHZhciBlPWQ9MDtiPj1kOylXaihjLGErYixhK2QpLFdqKGMsYStkLGErYiksV2ooYyxhLWQsYStiKSxXaihjLGEtYixhK2QpLFdqKGMsYS1iLGEtZCksV2ooYyxhLWQsYS1iKSxXaihjLGErZCxhLWIpLFdqKGMsYStiLGEtZCksZCsrLGUrPTErMipkLDA8MiooZS1iKSsxJiYoLS1iLGUrPTEtMipiKTtyZXR1cm4gVmpbYV09Y31rPVVqLnByb3RvdHlwZTtrLlZiPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7dGhpcy5hJiYoYT8oYj10aGlzLmcsYls0XSsrKTooYj10aGlzLmc9RGEoKSxiLnB1c2goMSkpKTtyZXR1cm4gYn07ZnVuY3Rpb24gWWooYSl7Zm9yKHZhciBiIGluIGEuYil7dmFyIGM9YS5iW2JdLGQ7Zm9yKGQgaW4gYyljW2RdLmJmKCl9fVxuay53YT1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXtkPU1hdGgucm91bmQoZCk7dmFyIGg9MipkKzEsbD1lZih0aGlzLmosZCsuNSxkKy41LDEvYiwtMS9iLC1jLC1hWzBdLC1hWzFdKSxtPXRoaXMuZjttLmNhbnZhcy53aWR0aCE9PWh8fG0uY2FudmFzLmhlaWdodCE9PWg/KG0uY2FudmFzLndpZHRoPWgsbS5jYW52YXMuaGVpZ2h0PWgpOm0uY2xlYXJSZWN0KDAsMCxoLGgpO2lmKHZvaWQgMCE9PXRoaXMuaSl7dmFyIG49RGEoKTtFYShuLGEpO0ZhKG4sYioodGhpcy5pK2QpLG4pfXZhciBwPVhqKGQpLHE7dGhpcy5hJiYocT10aGlzLmEuYWxsKCkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZhbHVlfSkpO3JldHVybiBaaih0aGlzLG0sbCxjLGUsZnVuY3Rpb24oYSl7Zm9yKHZhciBiPW0uZ2V0SW1hZ2VEYXRhKDAsMCxoLGgpLmRhdGEsYz0wO2M8aDtjKyspZm9yKHZhciBkPTA7ZDxoO2QrKylpZihwW2NdW2RdJiYwPGJbNCooZCpoK2MpKzNdKXt2YXIgZTtxJiYtMT09PXEuaW5kZXhPZihhKXx8XG4oZT1mKGEpKTtpZihlKXJldHVybiBlO20uY2xlYXJSZWN0KDAsMCxoLGgpO3JldHVybn19LG4sZyl9O2Z1bmN0aW9uIGFrKGEsYil7dmFyIGM9YS5jO2E9Y1swXTt2YXIgZD1jWzFdLGU9Y1syXTtjPWNbM107YT1bYSxkLGEsYyxlLGMsZSxkXTtUZShhLDAsOCwyLGIsYSk7cmV0dXJuIGF9ay5KYT1mdW5jdGlvbihhLGIpe3ZhciBjPXZvaWQgMCE9PWE/YS50b1N0cmluZygpOlwiMFwiO2E9dGhpcy5iW2NdO3ZvaWQgMD09PWEmJihhPXt9LHRoaXMuYltjXT1hKTtjPWFbYl07dm9pZCAwPT09YyYmKGM9bmV3IGJrW2JdKHRoaXMubyx0aGlzLmMsdGhpcy52LHRoaXMucyx0aGlzLmwsdGhpcy5hKSxhW2JdPWMpO3JldHVybiBjfTtrLnlnPWZ1bmN0aW9uKCl7cmV0dXJuIG5iKHRoaXMuYil9O1xuay5OYT1mdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9T2JqZWN0LmtleXModGhpcy5iKS5tYXAoTnVtYmVyKTtnLnNvcnQoZGMpO2Euc2F2ZSgpO3ZhciBoPWFrKHRoaXMsYik7YS5iZWdpblBhdGgoKTthLm1vdmVUbyhoWzBdLGhbMV0pO2EubGluZVRvKGhbMl0saFszXSk7YS5saW5lVG8oaFs0XSxoWzVdKTthLmxpbmVUbyhoWzZdLGhbN10pO2EuY2xpcCgpO2U9ZT9lOnVqO3ZhciBsLG07aD0wO2ZvcihsPWcubGVuZ3RoO2g8bDsrK2gpe3ZhciBuPWdbaF0udG9TdHJpbmcoKTt2YXIgcD10aGlzLmJbbl07dmFyIHE9MDtmb3IobT1lLmxlbmd0aDtxPG07KytxKXt2YXIgcj1lW3FdO3ZhciB1PXBbcl07dm9pZCAwIT09dSYmKCFmfHxcIkltYWdlXCIhPXImJlwiVGV4dFwiIT1yP3UuTmEoYSxiLGMsZCk6KHI9ZltuXSk/ci5wdXNoKHUsYi5zbGljZSgwKSk6ZltuXT1bdSxiLnNsaWNlKDApXSl9fWEucmVzdG9yZSgpfTtcbmZ1bmN0aW9uIFpqKGEsYixjLGQsZSxmLGcsaCl7dmFyIGw9T2JqZWN0LmtleXMoYS5iKS5tYXAoTnVtYmVyKTtsLnNvcnQoZGMpO3ZhciBtLG47Zm9yKG09bC5sZW5ndGgtMTswPD1tOy0tbSl7dmFyIHA9bFttXS50b1N0cmluZygpO3ZhciBxPWEuYltwXTtmb3Iobj11ai5sZW5ndGgtMTswPD1uOy0tbil7dmFyIHI9dWpbbl07dmFyIHU9cVtyXTtpZih2b2lkIDAhPT11KWlmKCFofHxcIkltYWdlXCIhPXImJlwiVGV4dFwiIT1yKXtyPWI7dmFyIHY9Yyx6PWUsQT1mLEU9Zzt1LiQ9ZDtpZih1PUhqKHUscix2LHosdS5iLEEsRSkpcmV0dXJuIHV9ZWxzZShyPWhbcF0pP3IucHVzaCh1LGMuc2xpY2UoMCkpOmhbcF09W3UsYy5zbGljZSgwKV19fX12YXIgYms9e0NpcmNsZTpPaixEZWZhdWx0OndqLEltYWdlOkxqLExpbmVTdHJpbmc6TWosUG9seWdvbjpPaixUZXh0OlJqfTtmdW5jdGlvbiBjayhhLGIpe3JldHVybiB4KGEpLXgoYil9ZnVuY3Rpb24gZGsoYSxiKXthPS41KmEvYjtyZXR1cm4gYSphfWZ1bmN0aW9uIGVrKGEsYixjLGQsZSxmKXt2YXIgZz0hMSxoO2lmKGg9Yy5ZKCkpe3ZhciBsPWguZ2YoKTsyPT1sfHwzPT1sP2guWWooZSxmKTooMD09bCYmaC5sb2FkKCksaC5naShlLGYpLGc9ITApfWlmKGU9KDAsYy5jYikoYikpaWYoZD1lLldkKGQpLGMuSWUoKSlmayhhLGQsYyxiKTtlbHNlKDAsZ2tbZC5TKCldKShhLGQsYyxiKTtyZXR1cm4gZ31mdW5jdGlvbiBmayhhLGIsYyxkKXtpZihcIkdlb21ldHJ5Q29sbGVjdGlvblwiPT1iLlMoKSl7Yj1iLnZkKCk7Zm9yKHZhciBlPTAsZj1iLmxlbmd0aDtlPGY7KytlKWZrKGEsYltlXSxjLGQpfWVsc2UgYS5KYShjLkJhKCksXCJEZWZhdWx0XCIpLkhoKGIsZCxjLkllKCkpfVxudmFyIGdrPXtQb2ludDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1jLlkoKTtpZihlKXtpZigyIT1lLmdmKCkpcmV0dXJuO3ZhciBmPWEuSmEoYy5CYSgpLFwiSW1hZ2VcIik7Zi5aYihlLGEuVmIoITEpKTtmLnljKGIsZCl9aWYoZj1jLkthKCkpYz1hLkphKGMuQmEoKSxcIlRleHRcIiksYy5uYihmLGEuVmIoISFlKSksYy5XYihiLGQpfSxMaW5lU3RyaW5nOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWMuR2EoKTtpZihlKXt2YXIgZj1hLkphKGMuQmEoKSxcIkxpbmVTdHJpbmdcIik7Zi5PYShudWxsLGUpO2YudWMoYixkKX1pZihlPWMuS2EoKSljPWEuSmEoYy5CYSgpLFwiVGV4dFwiKSxjLm5iKGUsYS5WYighMSkpLGMuV2IoYixkKX0sUG9seWdvbjpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1jLkZhKCksZj1jLkdhKCk7aWYoZXx8Zil7dmFyIGc9YS5KYShjLkJhKCksXCJQb2x5Z29uXCIpO2cuT2EoZSxmKTtnLnpjKGIsZCl9aWYoZT1jLkthKCkpYz1hLkphKGMuQmEoKSxcIlRleHRcIiksYy5uYihlLGEuVmIoITEpKSxcbmMuV2IoYixkKX0sTXVsdGlQb2ludDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1jLlkoKTtpZihlKXtpZigyIT1lLmdmKCkpcmV0dXJuO3ZhciBmPWEuSmEoYy5CYSgpLFwiSW1hZ2VcIik7Zi5aYihlLGEuVmIoITEpKTtmLndjKGIsZCl9aWYoZj1jLkthKCkpYz1hLkphKGMuQmEoKSxcIlRleHRcIiksYy5uYihmLGEuVmIoISFlKSksYy5XYihiLGQpfSxNdWx0aUxpbmVTdHJpbmc6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9Yy5HYSgpO2lmKGUpe3ZhciBmPWEuSmEoYy5CYSgpLFwiTGluZVN0cmluZ1wiKTtmLk9hKG51bGwsZSk7Zi52YyhiLGQpfWlmKGU9Yy5LYSgpKWM9YS5KYShjLkJhKCksXCJUZXh0XCIpLGMubmIoZSxhLlZiKCExKSksYy5XYihiLGQpfSxNdWx0aVBvbHlnb246ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9Yy5GYSgpLGY9Yy5HYSgpO2lmKGZ8fGUpe3ZhciBnPWEuSmEoYy5CYSgpLFwiUG9seWdvblwiKTtnLk9hKGUsZik7Zy54YyhiLGQpfWlmKGU9Yy5LYSgpKWM9YS5KYShjLkJhKCksXG5cIlRleHRcIiksYy5uYihlLGEuVmIoITEpKSxjLldiKGIsZCl9LEdlb21ldHJ5Q29sbGVjdGlvbjpmdW5jdGlvbihhLGIsYyxkKXtiPWIuYTt2YXIgZTt2YXIgZj0wO2ZvcihlPWIubGVuZ3RoO2Y8ZTsrK2YpKDAsZ2tbYltmXS5TKCldKShhLGJbZl0sYyxkKX0sQ2lyY2xlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWMuRmEoKSxmPWMuR2EoKTtpZihlfHxmKXt2YXIgZz1hLkphKGMuQmEoKSxcIkNpcmNsZVwiKTtnLk9hKGUsZik7Zy5jYyhiLGQpfWlmKGU9Yy5LYSgpKWM9YS5KYShjLkJhKCksXCJUZXh0XCIpLGMubmIoZSxhLlZiKCExKSksYy5XYihiLGQpfX07ZnVuY3Rpb24gaGsoYSl7WGkuY2FsbCh0aGlzLGEpO3RoaXMuZj1hLkQ/cmouSmMoOSk6bnVsbDt0aGlzLmk9ITE7dGhpcy5OPS0xO3RoaXMubz1OYU47dGhpcy5sPURhKCk7dGhpcy5jPXRoaXMudj1udWxsO3RoaXMuaj0hMDt0aGlzLmNvbnRleHQ9aGcoKTt5KGlpLFwiY2xlYXJcIix0aGlzLlZpLHRoaXMpfXcoaGssWGkpO2hrLmhhbmRsZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm5cImNhbnZhc1wiPT09YSYmXCJWRUNUT1JcIj09PWIuUygpfTtoay5jcmVhdGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IGhrKGIpfTtrPWhrLnByb3RvdHlwZTtrLmlhPWZ1bmN0aW9uKCl7TWMoaWksXCJjbGVhclwiLHRoaXMuVmksdGhpcyk7WGkucHJvdG90eXBlLmlhLmNhbGwodGhpcyl9O1xuay5kZj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5leHRlbnQsZT1hLnBpeGVsUmF0aW8sZj1iLlRlP2Euc2tpcHBlZEZlYXR1cmVVaWRzOnt9LGc9YS52aWV3U3RhdGUsaD1nLnByb2plY3Rpb24sbD1nLnJvdGF0aW9uLG09aC5HKCksbj10aGlzLmEuaGEoKSxwPSRpKHRoaXMsYSwwKTtaaSh0aGlzLFwicHJlY29tcG9zZVwiLGMsYSxwKTt2YXIgcT1iLmV4dGVudDsoZz12b2lkIDAhPT1xKSYmWWkoYyxhLHEpO3ZhciByPXRoaXMuYztpZihyJiYhci55ZygpKXt0aGlzLmYmJnRoaXMuZi5jbGVhcigpO3ZhciB1PXE9MCx2PTEhPT1iLm9wYWNpdHksej1UYyh0aGlzLmEsXCJyZW5kZXJcIik7aWYodnx8eil7dmFyIEE9Yy5jYW52YXMud2lkdGg7dmFyIEU9Yy5jYW52YXMuaGVpZ2h0O2lmKGwpe3ZhciBTPU1hdGgucm91bmQoTWF0aC5zcXJ0KEEqQStFKkUpKTtxPShTLUEpLzI7dT0oUy1FKS8yO0E9RT1TfXRoaXMuY29udGV4dC5jYW52YXMud2lkdGg9QTt0aGlzLmNvbnRleHQuY2FudmFzLmhlaWdodD1cbkU7QT10aGlzLmNvbnRleHR9ZWxzZSBBPWM7RT1BLmdsb2JhbEFscGhhO3Z8fChBLmdsb2JhbEFscGhhPWIub3BhY2l0eSk7QSE9YyYmQS50cmFuc2xhdGUocSx1KTtTPWEuc2l6ZVswXSplO2UqPWEuc2l6ZVsxXTtxaShBLC1sLFMvMixlLzIpO3IuTmEoQSxwLGwsZik7aWYobi5EJiZoLmcmJiFMYShtLGQpKXtoPWRbMF07bj1jYihtKTtmb3IodmFyIElhPTA7aDxtWzBdOyktLUlhLHA9bipJYSxwPSRpKHRoaXMsYSxwKSxyLk5hKEEscCxsLGYpLGgrPW47SWE9MDtmb3IoaD1kWzJdO2g+bVsyXTspKytJYSxwPW4qSWEscD0kaSh0aGlzLGEscCksci5OYShBLHAsbCxmKSxoLT1uO3A9JGkodGhpcyxhLDApfXFpKEEsbCxTLzIsZS8yKTtBIT1jJiYoeiYmWmkodGhpcyxcInJlbmRlclwiLEEsYSxwKSx2PyhkPWMuZ2xvYmFsQWxwaGEsYy5nbG9iYWxBbHBoYT1iLm9wYWNpdHksYy5kcmF3SW1hZ2UoQS5jYW52YXMsLXEsLXUpLGMuZ2xvYmFsQWxwaGE9ZCk6Yy5kcmF3SW1hZ2UoQS5jYW52YXMsXG4tcSwtdSksQS50cmFuc2xhdGUoLXEsLXUpKTt2fHwoQS5nbG9iYWxBbHBoYT1FKX1nJiZjLnJlc3RvcmUoKTt0aGlzLnBmKGMsYSxiLHApfTtrLndhPWZ1bmN0aW9uKGEsYixjLGQsZSl7aWYodGhpcy5jKXt2YXIgZj10aGlzLmEsZz17fTtyZXR1cm4gdGhpcy5jLndhKGEsYi52aWV3U3RhdGUucmVzb2x1dGlvbixiLnZpZXdTdGF0ZS5yb3RhdGlvbixjLHt9LGZ1bmN0aW9uKGEpe3ZhciBiPXgoYSkudG9TdHJpbmcoKTtpZighKGIgaW4gZykpcmV0dXJuIGdbYl09ITAsZC5jYWxsKGUsYSxmKX0sbnVsbCl9fTtrLlZpPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5hO2EuSmIoKSYmdGhpcy5jJiZhLnUoKX07ay5XaT1mdW5jdGlvbigpe01pKHRoaXMpfTtcbmsuJGM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hLGM9Yi5oYSgpO1VpKGEsYyk7dmFyIGQ9YS52aWV3SGludHNbMF0sZT1hLnZpZXdIaW50c1sxXSxmPWIuY2EsZz1iLnJhO2lmKCF0aGlzLmkmJiFmJiZkfHwhZyYmZSlyZXR1cm4hMDtmPWEuZXh0ZW50O3ZhciBoPWEudmlld1N0YXRlO2c9aC5wcm9qZWN0aW9uO3ZhciBsPWgucmVzb2x1dGlvbixtPWEucGl4ZWxSYXRpbztkPWIuZzt2YXIgbj1iLmY7ZT1iLmdldChpayk7dm9pZCAwPT09ZSYmKGU9Y2spO2Y9RmEoZixuKmwpO249aC5wcm9qZWN0aW9uLkcoKTtjLkQmJmgucHJvamVjdGlvbi5nJiYhTGEobixhLmV4dGVudCkmJihhPU1hdGgubWF4KGNiKGYpLzIsY2IobikpLGZbMF09blswXS1hLGZbMl09blsyXSthKTtpZighdGhpcy5pJiZ0aGlzLm89PWwmJnRoaXMuTj09ZCYmdGhpcy52PT1lJiZMYSh0aGlzLmwsZikpcmV0dXJuIHRoaXMuaj0hMSwhMDt0aGlzLmM9bnVsbDt0aGlzLmk9ITE7dmFyIHA9bmV3IFVqKC41KmwvbSxmLFxubCxtLGMuJCx0aGlzLmYsYi5mKTtjLmFlKGYsbCxnKTthPWZ1bmN0aW9uKGEpe3ZhciBjPWEuaWIoKTtpZihjKXZhciBkPWMuY2FsbChhLGwpO2Vsc2UoYz1iLmliKCkpJiYoZD1jKGEsbCkpO2lmKGQpe2lmKGQpe2M9ITE7aWYoQXJyYXkuaXNBcnJheShkKSlmb3IodmFyIGU9MCxmPWQubGVuZ3RoO2U8ZjsrK2UpYz1layhwLGEsZFtlXSxkayhsLG0pLHRoaXMuV2ksdGhpcyl8fGM7ZWxzZSBjPWVrKHAsYSxkLGRrKGwsbSksdGhpcy5XaSx0aGlzKTthPWN9ZWxzZSBhPSExO3RoaXMuaT10aGlzLml8fGF9fS5iaW5kKHRoaXMpO2lmKGUpe3ZhciBxPVtdO2MuZWMoZixmdW5jdGlvbihhKXtxLnB1c2goYSl9LHRoaXMpO3Euc29ydChlKTtjPTA7Zm9yKGc9cS5sZW5ndGg7YzxnOysrYylhKHFbY10pfWVsc2UgYy5lYyhmLGEsdGhpcyk7WWoocCk7dGhpcy5vPWw7dGhpcy5OPWQ7dGhpcy52PWU7dGhpcy5sPWY7dGhpcy5jPXA7cmV0dXJuIHRoaXMuaj0hMH07ZnVuY3Rpb24gamsoYSl7dGhpcy5jb250ZXh0PW51bGw7bWouY2FsbCh0aGlzLGEpO3RoaXMuTj1hLkQ/cmouSmMoOSk6bnVsbDt0aGlzLkQ9ITE7dGhpcy5jYT1XZSgpO3RoaXMuTz1cInZlY3RvclwiPT1hLmw/MTowO3koaWksXCJjbGVhclwiLHRoaXMuWGksdGhpcyl9dyhqayxtaik7amsuaGFuZGxlcz1mdW5jdGlvbihhLGIpe3JldHVyblwiY2FudmFzXCI9PT1hJiZcIlZFQ1RPUl9USUxFXCI9PT1iLlMoKX07amsuY3JlYXRlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBqayhiKX07dmFyIGtrPXtpbWFnZTpbXCJQb2x5Z29uXCIsXCJDaXJjbGVcIixcIkxpbmVTdHJpbmdcIixcIkltYWdlXCIsXCJUZXh0XCJdLGh5YnJpZDpbXCJQb2x5Z29uXCIsXCJMaW5lU3RyaW5nXCJdfSxsaz17aW1hZ2U6W1wiRGVmYXVsdFwiXSxoeWJyaWQ6W1wiSW1hZ2VcIixcIlRleHRcIixcIkRlZmF1bHRcIl0sdmVjdG9yOnVqfTtrPWprLnByb3RvdHlwZTtrLmlhPWZ1bmN0aW9uKCl7TWMoaWksXCJjbGVhclwiLHRoaXMuWGksdGhpcyk7bWoucHJvdG90eXBlLmlhLmNhbGwodGhpcyl9O1xuay4kYz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuYSxkPWMuZzt0aGlzLkIhPWQmJih0aGlzLmYubGVuZ3RoPTAsYz1jLmwsdGhpcy5jb250ZXh0fHxcInZlY3RvclwiPT1jfHwodGhpcy5jb250ZXh0PWhnKCkpLHRoaXMuY29udGV4dCYmXCJ2ZWN0b3JcIj09YyYmKHRoaXMuY29udGV4dD1udWxsKSk7dGhpcy5CPWQ7cmV0dXJuIG1qLnByb3RvdHlwZS4kYy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O1xuay5TZj1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsbCl7dmFyIG09YSxuPXRoaXMuYSxwPWIucGl4ZWxSYXRpbyxxPWIudmlld1N0YXRlLnByb2plY3Rpb24scj1uLmcsdT1uLmdldChpayl8fG51bGwsdj1tayhtLG4pO2lmKHYuQmV8fHYud2YhPXJ8fHYuZWghPXUpe3ZhciB6PW4uaGEoKSxBPXoudGlsZUdyaWQsRT16LmViKHEpLFM9RS5UYShtLnlhWzBdKTtFPUUuTWEobS5sKTtmb3IodmFyIElhPTAsdGE9bS5hLmxlbmd0aDtJYTx0YTsrK0lhKXt2YXIgbGE9bS5jW20uYVtJYV1dO2lmKDMhPWxhLmdldFN0YXRlKCkpe3ZhciBjYT1BLk1hKGxhLnlhKSxpYT1nYihFLGNhKSx4YT1TYShjYSxpYSk/bnVsbDpGYShpYSxuLmYqUyksVmE9bGEubyxpYz0hMTtYYihxLFZhKXx8KGljPSEwLGxhLnZnKHEpKTt2LkJlPSExO2lhPW5ldyBVaigwLGlhLFMscCx6LnMsdGhpcy5OLG4uZik7dmFyIFhhPWRrKFMscCksWj1sYS5hO3UmJnUhPT12LmVoJiZaLnNvcnQodSk7Zm9yKHZhciBaYixMZT0wLFxuVWY9Wi5sZW5ndGg7TGU8VWY7KytMZSlpZihaYj1aW0xlXSxpYyYmKFwidGlsZS1waXhlbHNcIj09VmEuYSYmKFZhLlNqKGNhKSxWYS5TaShsYS5HKCkpKSxaYi5VKCkubWIoVmEscSkpLCF4YXx8aGIoeGEsWmIuVSgpLkcoKSkpe3ZhciBJZD12b2lkIDAsdGU9WmIuaWIoKTt0ZT9JZD10ZS5jYWxsKFpiLFMpOih0ZT1uLmliKCkpJiYoSWQ9dGUoWmIsUykpO2lmKElkKXt0ZT1YYTt2YXIgSmg9aWE7aWYoSWQpe3ZhciBNZz0hMTtpZihBcnJheS5pc0FycmF5KElkKSlmb3IodmFyIE5nPTAsV2Y9SWQubGVuZ3RoO05nPFdmOysrTmcpTWc9ZWsoSmgsWmIsSWRbTmddLHRlLHRoaXMuWWksdGhpcyl8fE1nO2Vsc2UgTWc9ZWsoSmgsWmIsSWQsdGUsdGhpcy5ZaSx0aGlzKTtaYj1NZ31lbHNlIFpiPSExO3RoaXMuRD10aGlzLkR8fFpiO3YuQmU9di5CZXx8WmJ9fVlqKGlhKTtmb3IodmFyIHJmIGluIGlhLmIpO2NhPW0ueWEudG9TdHJpbmcoKTt4YT1pYTtsYS5mW3gobikrXCIsXCIrY2FdPXhhfX12LndmPVxucjt2LmVoPXV9aWYodGhpcy5jb250ZXh0KXt2PWI7bj10aGlzLmE7cT1tayhtLG4pO3I9bi5nO2lmKChwPWtrW24ubF0pJiZxLmZoIT09cilmb3IocS5maD1yLHo9bS5sLFM9elswXSxxPXYucGl4ZWxSYXRpbyxyZj1uLmhhKCksQT1yZi5lYih2LnZpZXdTdGF0ZS5wcm9qZWN0aW9uKSxyPUEuVGEoUyksdT1uayhtLG4pLHY9cmYuWmQoUyxxLHYudmlld1N0YXRlLnByb2plY3Rpb24pLHUuY2FudmFzLndpZHRoPXZbMF0sdS5jYW52YXMuaGVpZ2h0PXZbMV0sdj1BLk1hKHopLHo9MCxBPW0uYS5sZW5ndGg7ejxBOysreilTPW0uY1ttLmFbel1dLDMhPVMuZ2V0U3RhdGUoKSYmKHJmPXEvcixFPVhlKHRoaXMuY2EpLGNmKEUscmYsLXJmKSxkZihFLC12WzBdLC12WzNdKSxvayhTLG4sbS55YS50b1N0cmluZygpKS5OYSh1LEUsMCx7fSxwKSk7bWoucHJvdG90eXBlLlNmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19O1xuay53YT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWIudmlld1N0YXRlLnJlc29sdXRpb24sZz1iLnZpZXdTdGF0ZS5yb3RhdGlvbjtjPXZvaWQgMD09Yz8wOmM7dmFyIGg9dGhpcy5hLGw9e30sbT10aGlzLmY7Yj1oLmhhKCkuZWIoYi52aWV3U3RhdGUucHJvamVjdGlvbik7dmFyIG47dmFyIHA9MDtmb3Iobj1tLmxlbmd0aDtwPG47KytwKXt2YXIgcT1tW3BdO3ZhciByPXEubDtyPWIuTWEocix0aGlzLlQpO3ZhciB1PUZhKHIsYypmLHUpO2lmKEphKHUsYSkpe3I9MDtmb3IodmFyIHY9cS5hLmxlbmd0aDtyPHY7KytyKXt2YXIgej1xLmNbcS5hW3JdXTtpZigzIT16LmdldFN0YXRlKCkpe3o9b2soeixoLHEueWEudG9TdHJpbmcoKSk7dmFyIEE9QXx8ei53YShhLGYsZyxjLHt9LGZ1bmN0aW9uKGEpe3ZhciBiPXgoYSkudG9TdHJpbmcoKTtpZighKGIgaW4gbCkpcmV0dXJuIGxbYl09ITAsZC5jYWxsKGUsYSxoKX0sbnVsbCl9fX19cmV0dXJuIEF9O1xuay5YaT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYTthLkpiKCkmJnZvaWQgMCE9PXRoaXMuQiYmYS51KCl9O2suWWk9ZnVuY3Rpb24oKXtNaSh0aGlzKX07XG5rLnBmPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmEsZT1kLkQ/e306bnVsbCxmPWQuaGEoKSxnPWQubCxoPWxrW2ddLGw9Yi5waXhlbFJhdGlvLG09Yi52aWV3U3RhdGUucm90YXRpb24sbj1iLnNpemU7aWYobSl7dmFyIHA9TWF0aC5yb3VuZChsKm5bMF0vMik7dmFyIHE9TWF0aC5yb3VuZChsKm5bMV0vMik7cWkoYSwtbSxwLHEpfWUmJnRoaXMuTi5jbGVhcigpO2w9dGhpcy5mO2Y9Zi5lYihiLnZpZXdTdGF0ZS5wcm9qZWN0aW9uKTtuPVtdO2Zvcih2YXIgcj1bXSx1PWwubGVuZ3RoLTE7MDw9dTstLXUpe3ZhciB2PWxbdV07aWYoNSE9di5nZXRTdGF0ZSgpKWZvcih2YXIgej12LnlhLEE9Zi5NYSh6KVswXS1mLk1hKHYubClbMF0sRT12b2lkIDAsUz0wLElhPXYuYS5sZW5ndGg7UzxJYTsrK1Mpe3ZhciB0YT12LmNbdi5hW1NdXTtpZigzIT10YS5nZXRTdGF0ZSgpKXt2YXIgbGE9b2sodGEsZCx6LnRvU3RyaW5nKCkpLGNhO2lmKCEoY2E9XCJ2ZWN0b3JcIj09ZykpYTp7Y2E9dm9pZCAwO1xuZm9yKGNhIGluIGxhLmIpZm9yKHZhciBpYT1sYS5iW2NhXSx4YT0wLFZhPWgubGVuZ3RoO3hhPFZhOysreGEpaWYoaFt4YV1pbiBpYSl7Y2E9ITA7YnJlYWsgYX1jYT0hMX1pZihjYSl7RXx8KEU9JGkodGhpcyxiLEEpKTt0YT10YS55YVswXTtjYT1hayhsYSxFKTthLnNhdmUoKTthLmdsb2JhbEFscGhhPWMub3BhY2l0eTtpYT0wO2Zvcih4YT1uLmxlbmd0aDtpYTx4YTsrK2lhKVZhPW5baWFdLHRhPHJbaWFdJiYoYS5iZWdpblBhdGgoKSxhLm1vdmVUbyhjYVswXSxjYVsxXSksYS5saW5lVG8oY2FbMl0sY2FbM10pLGEubGluZVRvKGNhWzRdLGNhWzVdKSxhLmxpbmVUbyhjYVs2XSxjYVs3XSksYS5tb3ZlVG8oVmFbNl0sVmFbN10pLGEubGluZVRvKFZhWzRdLFZhWzVdKSxhLmxpbmVUbyhWYVsyXSxWYVszXSksYS5saW5lVG8oVmFbMF0sVmFbMV0pLGEuY2xpcCgpKTtsYS5OYShhLEUsbSx7fSxoLGUpO2EucmVzdG9yZSgpO24ucHVzaChjYSk7ci5wdXNoKHRhKX19fX1pZihlKWZvcihkPVxuYSxnPU9iamVjdC5rZXlzKGUpLm1hcChOdW1iZXIpLnNvcnQoZGMpLGg9e30sbD0wLGY9Zy5sZW5ndGg7bDxmOysrbClmb3Iobj1lW2dbbF0udG9TdHJpbmcoKV0scj0wLHU9bi5sZW5ndGg7cjx1Oyl2PW5bcisrXSx6PW5bcisrXSx2Lk5hKGQseixtLGgpO20mJnFpKGEsbSxwLHEpO21qLnByb3RvdHlwZS5wZi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3FnKFwiTUFQX1JFTkRFUkVSXCIsa2opO3JnKFtiaixtaixoayxqa10pO2Z1bmN0aW9uIEgoYSl7YT1rYih7fSxhKTtkZWxldGUgYS5yZW5kZXJlcjthLmNvbnRyb2xzfHwoYS5jb250cm9scz1GZygpKTthLmludGVyYWN0aW9uc3x8KGEuaW50ZXJhY3Rpb25zPVpoKCkpO0cuY2FsbCh0aGlzLGEpfXcoSCxHKTtmdW5jdGlvbiBwayhhKXtWYy5jYWxsKHRoaXMpO2E9YT9hOnt9O3RoaXMuYT1udWxsO3kodGhpcyxYYyhxayksdGhpcy4kbSx0aGlzKTt0aGlzLnJnKHZvaWQgMCE9PWEudHJhY2tpbmc/YS50cmFja2luZzohMSl9dyhwayxWYyk7az1way5wcm90b3R5cGU7ay5pYT1mdW5jdGlvbigpe3RoaXMucmcoITEpO1ZjLnByb3RvdHlwZS5pYS5jYWxsKHRoaXMpfTtcbmsuRHA9ZnVuY3Rpb24oYSl7aWYobnVsbCE9PWEuYWxwaGEpe3ZhciBiPXZhKGEuYWxwaGEpO3RoaXMuc2V0KHJrLGIpO1wiYm9vbGVhblwiPT09dHlwZW9mIGEuYWJzb2x1dGUmJmEuYWJzb2x1dGU/dGhpcy5zZXQoc2ssYik6XCJudW1iZXJcIj09PXR5cGVvZiBhLndlYmtpdENvbXBhc3NIZWFkaW5nJiYtMSE9YS53ZWJraXRDb21wYXNzQWNjdXJhY3kmJnRoaXMuc2V0KHNrLHZhKGEud2Via2l0Q29tcGFzc0hlYWRpbmcpKX1udWxsIT09YS5iZXRhJiZ0aGlzLnNldCh0ayx2YShhLmJldGEpKTtudWxsIT09YS5nYW1tYSYmdGhpcy5zZXQodWssdmEoYS5nYW1tYSkpO3RoaXMudSgpfTtrLlltPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KHJrKX07ay5sbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCh0ayl9O2sucWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQodWspfTtrLlptPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KHNrKX07ay5saT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChxayl9O1xuay4kbT1mdW5jdGlvbigpe2lmKHFkKXt2YXIgYT10aGlzLmxpKCk7YSYmIXRoaXMuYT90aGlzLmE9eSh3aW5kb3csXCJkZXZpY2VvcmllbnRhdGlvblwiLHRoaXMuRHAsdGhpcyk6YXx8bnVsbD09PXRoaXMuYXx8KEdjKHRoaXMuYSksdGhpcy5hPW51bGwpfX07ay5yZz1mdW5jdGlvbihhKXt0aGlzLnNldChxayxhKX07dmFyIHJrPVwiYWxwaGFcIix0az1cImJldGFcIix1az1cImdhbW1hXCIsc2s9XCJoZWFkaW5nXCIscWs9XCJ0cmFja2luZ1wiO2Z1bmN0aW9uIHZrKGEpe3RoaXMuaT1hLm9wYWNpdHk7dGhpcy5zPWEucm90YXRlV2l0aFZpZXc7dGhpcy5mPWEucm90YXRpb247dGhpcy5hPWEuc2NhbGU7dGhpcy52PWEuc25hcFRvUGl4ZWx9az12ay5wcm90b3R5cGU7ay5oZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLml9O2suamY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zfTtrLmtmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07ay5sZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2suS2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52fTtrLkVkPWZ1bmN0aW9uKGEpe3RoaXMuaT1hfTtrLm1mPWZ1bmN0aW9uKGEpe3RoaXMuZj1hfTtrLkZkPWZ1bmN0aW9uKGEpe3RoaXMuYT1hfTtmdW5jdGlvbiB3ayhhKXt0aGlzLkQ9dGhpcy5vPXRoaXMuYz1udWxsO3RoaXMuWGE9dm9pZCAwIT09YS5maWxsP2EuZmlsbDpudWxsO3RoaXMub2E9WzAsMF07dGhpcy5sPWEucG9pbnRzO3RoaXMuYj12b2lkIDAhPT1hLnJhZGl1cz9hLnJhZGl1czphLnJhZGl1czE7dGhpcy5nPWEucmFkaXVzMjt0aGlzLmo9dm9pZCAwIT09YS5hbmdsZT9hLmFuZ2xlOjA7dGhpcy5ZYT12b2lkIDAhPT1hLnN0cm9rZT9hLnN0cm9rZTpudWxsO3RoaXMuQj10aGlzLnFhPXRoaXMuQz1udWxsO3RoaXMuTj1hLmF0bGFzTWFuYWdlcjt4ayh0aGlzLHRoaXMuTik7dmsuY2FsbCh0aGlzLHtvcGFjaXR5OjEscm90YXRlV2l0aFZpZXc6dm9pZCAwIT09YS5yb3RhdGVXaXRoVmlldz9hLnJvdGF0ZVdpdGhWaWV3OiExLHJvdGF0aW9uOnZvaWQgMCE9PWEucm90YXRpb24/YS5yb3RhdGlvbjowLHNjYWxlOjEsc25hcFRvUGl4ZWw6dm9pZCAwIT09YS5zbmFwVG9QaXhlbD9hLnNuYXBUb1BpeGVsOiEwfSl9XG53KHdrLHZrKTtrPXdrLnByb3RvdHlwZTtrLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHdrKHtmaWxsOnRoaXMuRmEoKT90aGlzLkZhKCkuY2xvbmUoKTp2b2lkIDAscG9pbnRzOnRoaXMubCxyYWRpdXM6dGhpcy5iLHJhZGl1czI6dGhpcy5nLGFuZ2xlOnRoaXMuaixzbmFwVG9QaXhlbDp0aGlzLnYsc3Ryb2tlOnRoaXMuR2EoKT90aGlzLkdhKCkuY2xvbmUoKTp2b2lkIDAscm90YXRpb246dGhpcy5mLHJvdGF0ZVdpdGhWaWV3OnRoaXMucyxhdGxhc01hbmFnZXI6dGhpcy5OfSk7YS5FZCh0aGlzLmkpO2EuRmQodGhpcy5hKTtyZXR1cm4gYX07ay5WYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkN9O2suaWo9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qfTtrLkZhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWGF9O2suRWc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5EfTtrLlk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vfTtrLkhlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQn07XG5rLmdmPWZ1bmN0aW9uKCl7cmV0dXJuIDJ9O2suYmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYX07ay5qaj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmx9O2sua2o9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ifTtrLlpoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307ay5vYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnFhfTtrLkdhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWWF9O2suZ2k9ZnVuY3Rpb24oKXt9O2subG9hZD1mdW5jdGlvbigpe307ay5Zaj1mdW5jdGlvbigpe307XG5mdW5jdGlvbiB4ayhhLGIpe3ZhciBjPVwiXCIsZD1cIlwiLGU9MCxmPW51bGwsZz0wLGg9MDtpZihhLllhKXt2YXIgbD1hLllhLmE7bnVsbD09PWwmJihsPWdpKTtsPXppKGwpO2g9YS5ZYS5jO3ZvaWQgMD09PWgmJihoPTEpO2Y9YS5ZYS5nO2c9YS5ZYS5pO29kfHwoZj1udWxsLGc9MCk7ZD1hLllhLmo7dm9pZCAwPT09ZCYmKGQ9XCJyb3VuZFwiKTtjPWEuWWEuZjt2b2lkIDA9PT1jJiYoYz1cInJvdW5kXCIpO2U9YS5ZYS5sO3ZvaWQgMD09PWUmJihlPTEwKX12YXIgbT0yKihhLmIraCkrMTtjPXtzdHJva2VTdHlsZTpsLFdqOmgsc2l6ZTptLGxpbmVDYXA6YyxsaW5lRGFzaDpmLGxpbmVEYXNoT2Zmc2V0OmcsbGluZUpvaW46ZCxtaXRlckxpbWl0OmV9O2lmKHZvaWQgMD09PWIpe3ZhciBuPWhnKG0sbSk7YS5vPW4uY2FudmFzO2I9bT1hLm8ud2lkdGg7YS5KaChjLG4sMCwwKTthLlhhP2EuRD1hLm86KG49aGcoYy5zaXplLGMuc2l6ZSksYS5EPW4uY2FudmFzLGEuSWgoYyxuLDAsMCkpfWVsc2UgbT1cbk1hdGgucm91bmQobSksKGQ9IWEuWGEpJiYobj1hLkloLmJpbmQoYSxjKSksYS5ZYT8oZT1hLllhLHZvaWQgMD09PWUuYiYmKGUuYj1cInNcIixlLmI9ZS5hP1wic3RyaW5nXCI9PT10eXBlb2YgZS5hP2UuYitlLmE6ZS5iK3goZS5hKS50b1N0cmluZygpOmUuYitcIi1cIixlLmIrPVwiLFwiKyh2b2lkIDAhPT1lLmY/ZS5mLnRvU3RyaW5nKCk6XCItXCIpK1wiLFwiKyhlLmc/ZS5nLnRvU3RyaW5nKCk6XCItXCIpK1wiLFwiKyh2b2lkIDAhPT1lLmk/ZS5pOlwiLVwiKStcIixcIisodm9pZCAwIT09ZS5qP2UuajpcIi1cIikrXCIsXCIrKHZvaWQgMCE9PWUubD9lLmwudG9TdHJpbmcoKTpcIi1cIikrXCIsXCIrKHZvaWQgMCE9PWUuYz9lLmMudG9TdHJpbmcoKTpcIi1cIikpLGU9ZS5iKTplPVwiLVwiLGEuWGE/KGY9YS5YYSx2b2lkIDA9PT1mLmEmJihmLmE9Zi5iIGluc3RhbmNlb2YgQ2FudmFzUGF0dGVybnx8Zi5iIGluc3RhbmNlb2YgQ2FudmFzR3JhZGllbnQ/eChmLmIpLnRvU3RyaW5nKCk6XCJmXCIrKGYuYj94aShmLmIpOlwiLVwiKSksZj1mLmEpOlxuZj1cIi1cIixhLmMmJmU9PWEuY1sxXSYmZj09YS5jWzJdJiZhLmI9PWEuY1szXSYmYS5nPT1hLmNbNF0mJmEuaj09YS5jWzVdJiZhLmw9PWEuY1s2XXx8KGEuYz1bXCJyXCIrZStmKyh2b2lkIDAhPT1hLmI/YS5iLnRvU3RyaW5nKCk6XCItXCIpKyh2b2lkIDAhPT1hLmc/YS5nLnRvU3RyaW5nKCk6XCItXCIpKyh2b2lkIDAhPT1hLmo/YS5qLnRvU3RyaW5nKCk6XCItXCIpKyh2b2lkIDAhPT1hLmw/YS5sLnRvU3RyaW5nKCk6XCItXCIpLGUsZixhLmIsYS5nLGEuaixhLmxdKSxuPWIuYWRkKGEuY1swXSxtLG0sYS5KaC5iaW5kKGEsYyksbiksYS5vPW4uaW1hZ2UsYS5vYT1bbi5vZmZzZXRYLG4ub2Zmc2V0WV0sYj1uLmltYWdlLndpZHRoLGEuRD1kP24uQm06YS5vO2EuQz1bbS8yLG0vMl07YS5xYT1bbSxtXTthLkI9W2IsYl19XG5rLkpoPWZ1bmN0aW9uKGEsYixjLGQpe2Iuc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKTtiLnRyYW5zbGF0ZShjLGQpO2IuYmVnaW5QYXRoKCk7dmFyIGU9dGhpcy5sO2lmKEluZmluaXR5PT09ZSliLmFyYyhhLnNpemUvMixhLnNpemUvMix0aGlzLmIsMCwyKk1hdGguUEksITApO2Vsc2V7dmFyIGY9dm9pZCAwIT09dGhpcy5nP3RoaXMuZzp0aGlzLmI7ZiE9PXRoaXMuYiYmKGUqPTIpO2ZvcihjPTA7Yzw9ZTtjKyspe2Q9MipjKk1hdGguUEkvZS1NYXRoLlBJLzIrdGhpcy5qO3ZhciBnPTA9PT1jJTI/dGhpcy5iOmY7Yi5saW5lVG8oYS5zaXplLzIrZypNYXRoLmNvcyhkKSxhLnNpemUvMitnKk1hdGguc2luKGQpKX19dGhpcy5YYSYmKGM9dGhpcy5YYS5iLG51bGw9PT1jJiYoYz1laSksYi5maWxsU3R5bGU9emkoYyksYi5maWxsKCkpO3RoaXMuWWEmJihiLnN0cm9rZVN0eWxlPWEuc3Ryb2tlU3R5bGUsYi5saW5lV2lkdGg9YS5XaixhLmxpbmVEYXNoJiYoYi5zZXRMaW5lRGFzaChhLmxpbmVEYXNoKSxcbmIubGluZURhc2hPZmZzZXQ9YS5saW5lRGFzaE9mZnNldCksYi5saW5lQ2FwPWEubGluZUNhcCxiLmxpbmVKb2luPWEubGluZUpvaW4sYi5taXRlckxpbWl0PWEubWl0ZXJMaW1pdCxiLnN0cm9rZSgpKTtiLmNsb3NlUGF0aCgpfTtcbmsuSWg9ZnVuY3Rpb24oYSxiLGMsZCl7Yi5zZXRUcmFuc2Zvcm0oMSwwLDAsMSwwLDApO2IudHJhbnNsYXRlKGMsZCk7Yi5iZWdpblBhdGgoKTtjPXRoaXMubDtpZihJbmZpbml0eT09PWMpYi5hcmMoYS5zaXplLzIsYS5zaXplLzIsdGhpcy5iLDAsMipNYXRoLlBJLCEwKTtlbHNle2Q9dm9pZCAwIT09dGhpcy5nP3RoaXMuZzp0aGlzLmI7ZCE9PXRoaXMuYiYmKGMqPTIpO3ZhciBlO2ZvcihlPTA7ZTw9YztlKyspe3ZhciBmPTIqZSpNYXRoLlBJL2MtTWF0aC5QSS8yK3RoaXMuajt2YXIgZz0wPT09ZSUyP3RoaXMuYjpkO2IubGluZVRvKGEuc2l6ZS8yK2cqTWF0aC5jb3MoZiksYS5zaXplLzIrZypNYXRoLnNpbihmKSl9fWIuZmlsbFN0eWxlPWVpO2IuZmlsbCgpO3RoaXMuWWEmJihiLnN0cm9rZVN0eWxlPWEuc3Ryb2tlU3R5bGUsYi5saW5lV2lkdGg9YS5XaixhLmxpbmVEYXNoJiYoYi5zZXRMaW5lRGFzaChhLmxpbmVEYXNoKSxiLmxpbmVEYXNoT2Zmc2V0PWEubGluZURhc2hPZmZzZXQpLFxuYi5zdHJva2UoKSk7Yi5jbG9zZVBhdGgoKX07ZnVuY3Rpb24geWsoYSl7YT1hfHx7fTt3ay5jYWxsKHRoaXMse3BvaW50czpJbmZpbml0eSxmaWxsOmEuZmlsbCxyYWRpdXM6YS5yYWRpdXMsc25hcFRvUGl4ZWw6YS5zbmFwVG9QaXhlbCxzdHJva2U6YS5zdHJva2UsYXRsYXNNYW5hZ2VyOmEuYXRsYXNNYW5hZ2VyfSl9dyh5ayx3ayk7eWsucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHlrKHtmaWxsOnRoaXMuRmEoKT90aGlzLkZhKCkuY2xvbmUoKTp2b2lkIDAsc3Ryb2tlOnRoaXMuR2EoKT90aGlzLkdhKCkuY2xvbmUoKTp2b2lkIDAscmFkaXVzOnRoaXMuYixzbmFwVG9QaXhlbDp0aGlzLnYsYXRsYXNNYW5hZ2VyOnRoaXMuTn0pO2EuRWQodGhpcy5pKTthLkZkKHRoaXMuYSk7cmV0dXJuIGF9O3lrLnByb3RvdHlwZS5mZD1mdW5jdGlvbihhKXt0aGlzLmI9YTt4ayh0aGlzLHRoaXMuTil9O2Z1bmN0aW9uIHprKGEpe2E9YXx8e307dGhpcy5iPXZvaWQgMCE9PWEuY29sb3I/YS5jb2xvcjpudWxsO3RoaXMuYT12b2lkIDB9emsucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5iO3JldHVybiBuZXcgemsoe2NvbG9yOmEmJmEuc2xpY2U/YS5zbGljZSgpOmF8fHZvaWQgMH0pfTt6ay5wcm90b3R5cGUuZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O3prLnByb3RvdHlwZS5jPWZ1bmN0aW9uKGEpe3RoaXMuYj1hO3RoaXMuYT12b2lkIDB9O2Z1bmN0aW9uIEFrKGEpe2E9YXx8e307dGhpcy5hPXZvaWQgMCE9PWEuY29sb3I/YS5jb2xvcjpudWxsO3RoaXMuZj1hLmxpbmVDYXA7dGhpcy5nPXZvaWQgMCE9PWEubGluZURhc2g/YS5saW5lRGFzaDpudWxsO3RoaXMuaT1hLmxpbmVEYXNoT2Zmc2V0O3RoaXMuaj1hLmxpbmVKb2luO3RoaXMubD1hLm1pdGVyTGltaXQ7dGhpcy5jPWEud2lkdGg7dGhpcy5iPXZvaWQgMH1rPUFrLnByb3RvdHlwZTtrLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5hO3JldHVybiBuZXcgQWsoe2NvbG9yOmEmJmEuc2xpY2U/YS5zbGljZSgpOmF8fHZvaWQgMCxsaW5lQ2FwOnRoaXMuZixsaW5lRGFzaDp0aGlzLmc/dGhpcy5nLnNsaWNlKCk6dm9pZCAwLGxpbmVEYXNoT2Zmc2V0OnRoaXMuaSxsaW5lSm9pbjp0aGlzLmosbWl0ZXJMaW1pdDp0aGlzLmwsd2lkdGg6dGhpcy5jfSl9O2sucHA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtrLnZsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07XG5rLnFwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307ay53bD1mdW5jdGlvbigpe3JldHVybiB0aGlzLml9O2sueGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qfTtrLkRsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubH07ay5ycD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9O2suc3A9ZnVuY3Rpb24oYSl7dGhpcy5hPWE7dGhpcy5iPXZvaWQgMH07ay55cT1mdW5jdGlvbihhKXt0aGlzLmY9YTt0aGlzLmI9dm9pZCAwfTtrLnNldExpbmVEYXNoPWZ1bmN0aW9uKGEpe3RoaXMuZz1hO3RoaXMuYj12b2lkIDB9O2suenE9ZnVuY3Rpb24oYSl7dGhpcy5pPWE7dGhpcy5iPXZvaWQgMH07ay5BcT1mdW5jdGlvbihhKXt0aGlzLmo9YTt0aGlzLmI9dm9pZCAwfTtrLkVxPWZ1bmN0aW9uKGEpe3RoaXMubD1hO3RoaXMuYj12b2lkIDB9O2suS3E9ZnVuY3Rpb24oYSl7dGhpcy5jPWE7dGhpcy5iPXZvaWQgMH07ZnVuY3Rpb24gQmsoYSl7YT1hfHx7fTt0aGlzLlVjPW51bGw7dGhpcy5jYj1Dazt2b2lkIDAhPT1hLmdlb21ldHJ5JiZ0aGlzLlZhKGEuZ2VvbWV0cnkpO3RoaXMuWGE9dm9pZCAwIT09YS5maWxsP2EuZmlsbDpudWxsO3RoaXMuTT12b2lkIDAhPT1hLmltYWdlP2EuaW1hZ2U6bnVsbDt0aGlzLnBjPXZvaWQgMCE9PWEucmVuZGVyZXI/YS5yZW5kZXJlcjpudWxsO3RoaXMuWWE9dm9pZCAwIT09YS5zdHJva2U/YS5zdHJva2U6bnVsbDt0aGlzLnRhPXZvaWQgMCE9PWEudGV4dD9hLnRleHQ6bnVsbDt0aGlzLmJrPWEuekluZGV4fWs9QmsucHJvdG90eXBlO1xuay5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuVSgpO2EmJmEuY2xvbmUmJihhPWEuY2xvbmUoKSk7cmV0dXJuIG5ldyBCayh7Z2VvbWV0cnk6YSxmaWxsOnRoaXMuRmEoKT90aGlzLkZhKCkuY2xvbmUoKTp2b2lkIDAsaW1hZ2U6dGhpcy5ZKCk/dGhpcy5ZKCkuY2xvbmUoKTp2b2lkIDAsc3Ryb2tlOnRoaXMuR2EoKT90aGlzLkdhKCkuY2xvbmUoKTp2b2lkIDAsdGV4dDp0aGlzLkthKCk/dGhpcy5LYSgpLmNsb25lKCk6dm9pZCAwLHpJbmRleDp0aGlzLkJhKCl9KX07ay5JZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBjfTtrLklxPWZ1bmN0aW9uKGEpe3RoaXMucGM9YX07ay5VPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVWN9O2sucmw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYn07ay5GYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlhhfTtrLnlmPWZ1bmN0aW9uKGEpe3RoaXMuWGE9YX07ay5ZPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTX07XG5rLmloPWZ1bmN0aW9uKGEpe3RoaXMuTT1hfTtrLkdhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWWF9O2suQWY9ZnVuY3Rpb24oYSl7dGhpcy5ZYT1hfTtrLkthPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGF9O2suSGQ9ZnVuY3Rpb24oYSl7dGhpcy50YT1hfTtrLkJhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmt9O2suVmE9ZnVuY3Rpb24oYSl7XCJmdW5jdGlvblwiPT09dHlwZW9mIGE/dGhpcy5jYj1hOlwic3RyaW5nXCI9PT10eXBlb2YgYT90aGlzLmNiPWZ1bmN0aW9uKGIpe3JldHVybiBiLmdldChhKX06YT92b2lkIDAhPT1hJiYodGhpcy5jYj1mdW5jdGlvbigpe3JldHVybiBhfSk6dGhpcy5jYj1Dazt0aGlzLlVjPWF9O2suJGI9ZnVuY3Rpb24oYSl7dGhpcy5iaz1hfTtcbmZ1bmN0aW9uIERrKGEpe2lmKFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBhKXtpZihBcnJheS5pc0FycmF5KGEpKXZhciBiPWE7ZWxzZSBvYShhIGluc3RhbmNlb2YgQmssNDEpLGI9W2FdO2E9ZnVuY3Rpb24oKXtyZXR1cm4gYn19cmV0dXJuIGF9dmFyIEVrPW51bGw7ZnVuY3Rpb24gRmsoKXtpZighRWspe3ZhciBhPW5ldyB6ayh7Y29sb3I6XCJyZ2JhKDI1NSwyNTUsMjU1LDAuNClcIn0pLGI9bmV3IEFrKHtjb2xvcjpcIiMzMzk5Q0NcIix3aWR0aDoxLjI1fSk7RWs9W25ldyBCayh7aW1hZ2U6bmV3IHlrKHtmaWxsOmEsc3Ryb2tlOmIscmFkaXVzOjV9KSxmaWxsOmEsc3Ryb2tlOmJ9KV19cmV0dXJuIEVrfVxuZnVuY3Rpb24gR2soKXt2YXIgYT17fSxiPVsyNTUsMjU1LDI1NSwxXSxjPVswLDE1MywyNTUsMV07YS5Qb2x5Z29uPVtuZXcgQmsoe2ZpbGw6bmV3IHprKHtjb2xvcjpbMjU1LDI1NSwyNTUsLjVdfSl9KV07YS5NdWx0aVBvbHlnb249YS5Qb2x5Z29uO2EuTGluZVN0cmluZz1bbmV3IEJrKHtzdHJva2U6bmV3IEFrKHtjb2xvcjpiLHdpZHRoOjV9KX0pLG5ldyBCayh7c3Ryb2tlOm5ldyBBayh7Y29sb3I6Yyx3aWR0aDozfSl9KV07YS5NdWx0aUxpbmVTdHJpbmc9YS5MaW5lU3RyaW5nO2EuQ2lyY2xlPWEuUG9seWdvbi5jb25jYXQoYS5MaW5lU3RyaW5nKTthLlBvaW50PVtuZXcgQmsoe2ltYWdlOm5ldyB5ayh7cmFkaXVzOjYsZmlsbDpuZXcgemsoe2NvbG9yOmN9KSxzdHJva2U6bmV3IEFrKHtjb2xvcjpiLHdpZHRoOjEuNX0pfSksekluZGV4OkluZmluaXR5fSldO2EuTXVsdGlQb2ludD1hLlBvaW50O2EuR2VvbWV0cnlDb2xsZWN0aW9uPWEuUG9seWdvbi5jb25jYXQoYS5MaW5lU3RyaW5nLFxuYS5Qb2ludCk7cmV0dXJuIGF9ZnVuY3Rpb24gQ2soYSl7cmV0dXJuIGEuVSgpfTtmdW5jdGlvbiBIayhhKXtWYy5jYWxsKHRoaXMpO3RoaXMuYz12b2lkIDA7dGhpcy5hPVwiZ2VvbWV0cnlcIjt0aGlzLmY9bnVsbDt0aGlzLmo9dm9pZCAwO3RoaXMuaT1udWxsO3kodGhpcyxYYyh0aGlzLmEpLHRoaXMuT2UsdGhpcyk7dm9pZCAwIT09YSYmKGEgaW5zdGFuY2VvZiBnZnx8IWE/dGhpcy5WYShhKTp0aGlzLkgoYSkpfXcoSGssVmMpO2s9SGsucHJvdG90eXBlO2suY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgSGsodGhpcy5MKCkpO2EuTGModGhpcy5hKTt2YXIgYj10aGlzLlUoKTtiJiZhLlZhKGIuY2xvbmUoKSk7KGI9dGhpcy5mKSYmYS5zZyhiKTtyZXR1cm4gYX07ay5VPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KHRoaXMuYSl9O2suYW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTtrLnNsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07ay5ibj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9O2suaWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qfTtrLmJtPWZ1bmN0aW9uKCl7dGhpcy51KCl9O1xuay5PZT1mdW5jdGlvbigpe3RoaXMuaSYmKEdjKHRoaXMuaSksdGhpcy5pPW51bGwpO3ZhciBhPXRoaXMuVSgpO2EmJih0aGlzLmk9eShhLFwiY2hhbmdlXCIsdGhpcy5ibSx0aGlzKSk7dGhpcy51KCl9O2suVmE9ZnVuY3Rpb24oYSl7dGhpcy5zZXQodGhpcy5hLGEpfTtrLnNnPWZ1bmN0aW9uKGEpe3RoaXMuaj0odGhpcy5mPWEpP0lrKGEpOnZvaWQgMDt0aGlzLnUoKX07ay5xYz1mdW5jdGlvbihhKXt0aGlzLmM9YTt0aGlzLnUoKX07ay5MYz1mdW5jdGlvbihhKXtNYyh0aGlzLFhjKHRoaXMuYSksdGhpcy5PZSx0aGlzKTt0aGlzLmE9YTt5KHRoaXMsWGModGhpcy5hKSx0aGlzLk9lLHRoaXMpO3RoaXMuT2UoKX07XG5mdW5jdGlvbiBJayhhKXt2YXIgYjtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYSkyPT1hLmxlbmd0aD9iPWZ1bmN0aW9uKGIpe3JldHVybiBhKHRoaXMsYil9OmI9YTtlbHNle2lmKEFycmF5LmlzQXJyYXkoYSkpdmFyIGM9YTtlbHNlIG9hKGEgaW5zdGFuY2VvZiBCayw0MSksYz1bYV07Yj1mdW5jdGlvbigpe3JldHVybiBjfX1yZXR1cm4gYn07ZnVuY3Rpb24gSmsoYSl7VmMuY2FsbCh0aGlzKTthPWF8fHt9O3RoaXMuYT1udWxsO3RoaXMuaT0kYjt0aGlzLmY9bmV3IG9iKDYzNzgxMzcpO3RoaXMuYz12b2lkIDA7eSh0aGlzLFhjKFwicHJvamVjdGlvblwiKSx0aGlzLmVuLHRoaXMpO3kodGhpcyxYYyhcInRyYWNraW5nXCIpLHRoaXMuZm4sdGhpcyk7dm9pZCAwIT09YS5wcm9qZWN0aW9uJiZ0aGlzLm9pKGEucHJvamVjdGlvbik7dm9pZCAwIT09YS50cmFja2luZ09wdGlvbnMmJnRoaXMuUmooYS50cmFja2luZ09wdGlvbnMpO3RoaXMuVWUodm9pZCAwIT09YS50cmFja2luZz9hLnRyYWNraW5nOiExKX13KEprLFZjKTtrPUprLnByb3RvdHlwZTtrLmlhPWZ1bmN0aW9uKCl7dGhpcy5VZSghMSk7VmMucHJvdG90eXBlLmlhLmNhbGwodGhpcyl9O2suZW49ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1pKCk7YSYmKHRoaXMuaT1QYihPYihcIkVQU0c6NDMyNlwiKSxhKSx0aGlzLmEmJnRoaXMuc2V0KFwicG9zaXRpb25cIix0aGlzLmkodGhpcy5hKSkpfTtcbmsuZm49ZnVuY3Rpb24oKXtpZihyZCl7dmFyIGE9dGhpcy5uaSgpO2EmJnZvaWQgMD09PXRoaXMuYz90aGlzLmM9bmF2aWdhdG9yLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24odGhpcy5QcC5iaW5kKHRoaXMpLHRoaXMuUXAuYmluZCh0aGlzKSx0aGlzLmFpKCkpOmF8fHZvaWQgMD09PXRoaXMuY3x8KG5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHRoaXMuYyksdGhpcy5jPXZvaWQgMCl9fTtcbmsuUHA9ZnVuY3Rpb24oYSl7YT1hLmNvb3Jkczt0aGlzLnNldChcImFjY3VyYWN5XCIsYS5hY2N1cmFjeSk7dGhpcy5zZXQoXCJhbHRpdHVkZVwiLG51bGw9PT1hLmFsdGl0dWRlP3ZvaWQgMDphLmFsdGl0dWRlKTt0aGlzLnNldChcImFsdGl0dWRlQWNjdXJhY3lcIixudWxsPT09YS5hbHRpdHVkZUFjY3VyYWN5P3ZvaWQgMDphLmFsdGl0dWRlQWNjdXJhY3kpO3RoaXMuc2V0KFwiaGVhZGluZ1wiLG51bGw9PT1hLmhlYWRpbmc/dm9pZCAwOnZhKGEuaGVhZGluZykpO3RoaXMuYT8odGhpcy5hWzBdPWEubG9uZ2l0dWRlLHRoaXMuYVsxXT1hLmxhdGl0dWRlKTp0aGlzLmE9W2EubG9uZ2l0dWRlLGEubGF0aXR1ZGVdO3ZhciBiPXRoaXMuaSh0aGlzLmEpO3RoaXMuc2V0KFwicG9zaXRpb25cIixiKTt0aGlzLnNldChcInNwZWVkXCIsbnVsbD09PWEuc3BlZWQ/dm9pZCAwOmEuc3BlZWQpO2E9UWYodGhpcy5mLHRoaXMuYSxhLmFjY3VyYWN5KTthLlJjKHRoaXMuaSk7dGhpcy5zZXQoXCJhY2N1cmFjeUdlb21ldHJ5XCIsXG5hKTt0aGlzLnUoKX07ay5RcD1mdW5jdGlvbihhKXthLnR5cGU9XCJlcnJvclwiO3RoaXMuVWUoITEpO3RoaXMuYihhKX07ay5lbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChcImFjY3VyYWN5XCIpfTtrLmZsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KFwiYWNjdXJhY3lHZW9tZXRyeVwiKXx8bnVsbH07ay5nbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChcImFsdGl0dWRlXCIpfTtrLmhsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KFwiYWx0aXR1ZGVBY2N1cmFjeVwiKX07ay5jbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChcImhlYWRpbmdcIil9O2suZG49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJwb3NpdGlvblwiKX07ay5taT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChcInByb2plY3Rpb25cIil9O2suT2w9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJzcGVlZFwiKX07ay5uaT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChcInRyYWNraW5nXCIpfTtrLmFpPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KFwidHJhY2tpbmdPcHRpb25zXCIpfTtcbmsub2k9ZnVuY3Rpb24oYSl7dGhpcy5zZXQoXCJwcm9qZWN0aW9uXCIsT2IoYSkpfTtrLlVlPWZ1bmN0aW9uKGEpe3RoaXMuc2V0KFwidHJhY2tpbmdcIixhKX07ay5Saj1mdW5jdGlvbihhKXt0aGlzLnNldChcInRyYWNraW5nT3B0aW9uc1wiLGEpfTtmdW5jdGlvbiBLayhhLGIsYyxkLGUsZil7dmFyIGc9TmFOLGg9TmFOLGw9KGMtYikvZDtpZigxPT09bClnPWFbYl0saD1hW2IrMV07ZWxzZSBpZigyPT1sKWc9KDEtZSkqYVtiXStlKmFbYitkXSxoPSgxLWUpKmFbYisxXStlKmFbYitkKzFdO2Vsc2UgaWYoMCE9PWwpe2g9YVtiXTtsPWFbYisxXTt2YXIgbT0wO2c9WzBdO3ZhciBuO2ZvcihuPWIrZDtuPGM7bis9ZCl7dmFyIHA9YVtuXSxxPWFbbisxXTttKz1NYXRoLnNxcnQoKHAtaCkqKHAtaCkrKHEtbCkqKHEtbCkpO2cucHVzaChtKTtoPXA7bD1xfWM9ZSptO2w9MDttPWcubGVuZ3RoO2ZvcihuPSExO2w8bTspZT1sKyhtLWw+PjEpLGg9K2RjKGdbZV0sYyksMD5oP2w9ZSsxOihtPWUsbj0haCk7ZT1uP2w6fmw7MD5lPyhjPShjLWdbLWUtMl0pLyhnWy1lLTFdLWdbLWUtMl0pLGIrPSgtZS0yKSpkLGc9eWEoYVtiXSxhW2IrZF0sYyksaD15YShhW2IrMV0sYVtiK2QrMV0sYykpOihnPWFbYitlKmRdLGg9YVtiK2UqZCsxXSl9cmV0dXJuIGY/XG4oZlswXT1nLGZbMV09aCxmKTpbZyxoXX1mdW5jdGlvbiBTayhhLGIsYyxkLGUsZil7aWYoYz09YilyZXR1cm4gbnVsbDtpZihlPGFbYitkLTFdKXJldHVybiBmPyhjPWEuc2xpY2UoYixiK2QpLGNbZC0xXT1lLGMpOm51bGw7aWYoYVtjLTFdPGUpcmV0dXJuIGY/KGM9YS5zbGljZShjLWQsYyksY1tkLTFdPWUsYyk6bnVsbDtpZihlPT1hW2IrZC0xXSlyZXR1cm4gYS5zbGljZShiLGIrZCk7Yi89ZDtmb3IoYy89ZDtiPGM7KWY9YitjPj4xLGU8YVsoZisxKSpkLTFdP2M9ZjpiPWYrMTtjPWFbYipkLTFdO2lmKGU9PWMpcmV0dXJuIGEuc2xpY2UoKGItMSkqZCwoYi0xKSpkK2QpO2Y9KGUtYykvKGFbKGIrMSkqZC0xXS1jKTtjPVtdO3ZhciBnO2ZvcihnPTA7ZzxkLTE7KytnKWMucHVzaCh5YShhWyhiLTEpKmQrZ10sYVtiKmQrZ10sZikpO2MucHVzaChlKTtyZXR1cm4gY31cbmZ1bmN0aW9uIFRrKGEsYixjLGQsZSxmKXt2YXIgZz0wO2lmKGYpcmV0dXJuIFNrKGEsZyxiW2IubGVuZ3RoLTFdLGMsZCxlKTtpZihkPGFbYy0xXSlyZXR1cm4gZT8oYT1hLnNsaWNlKDAsYyksYVtjLTFdPWQsYSk6bnVsbDtpZihhW2EubGVuZ3RoLTFdPGQpcmV0dXJuIGU/KGE9YS5zbGljZShhLmxlbmd0aC1jKSxhW2MtMV09ZCxhKTpudWxsO2U9MDtmb3IoZj1iLmxlbmd0aDtlPGY7KytlKXt2YXIgaD1iW2VdO2lmKGchPWgpe2lmKGQ8YVtnK2MtMV0pYnJlYWs7ZWxzZSBpZihkPD1hW2gtMV0pcmV0dXJuIFNrKGEsZyxoLGMsZCwhMSk7Zz1ofX1yZXR1cm4gbnVsbH07ZnVuY3Rpb24gSShhLGIpe2hmLmNhbGwodGhpcyk7dGhpcy5jPW51bGw7dGhpcy5vPXRoaXMuRD10aGlzLmo9LTE7dGhpcy5uYShhLGIpfXcoSSxoZik7az1JLnByb3RvdHlwZTtrLkZrPWZ1bmN0aW9uKGEpe3RoaXMuQT9nYyh0aGlzLkEsYSk6dGhpcy5BPWEuc2xpY2UoKTt0aGlzLnUoKX07ay5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBJKG51bGwpO2EuYmEodGhpcy5qYSx0aGlzLkEuc2xpY2UoKSk7cmV0dXJuIGF9O2suTmI9ZnVuY3Rpb24oYSxiLGMsZCl7aWYoZDxIYSh0aGlzLkcoKSxhLGIpKXJldHVybiBkO3RoaXMubyE9dGhpcy5nJiYodGhpcy5EPU1hdGguc3FydChwZih0aGlzLkEsMCx0aGlzLkEubGVuZ3RoLHRoaXMuYSwwKSksdGhpcy5vPXRoaXMuZyk7cmV0dXJuIHRmKHRoaXMuQSwwLHRoaXMuQS5sZW5ndGgsdGhpcy5hLHRoaXMuRCwhMSxhLGIsYyxkKX07XG5rLmRsPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEpmKHRoaXMuQSwwLHRoaXMuQS5sZW5ndGgsdGhpcy5hLGEsYil9O2suVG49ZnVuY3Rpb24oYSxiKXtyZXR1cm5cIlhZTVwiIT10aGlzLmphJiZcIlhZWk1cIiE9dGhpcy5qYT9udWxsOlNrKHRoaXMuQSwwLHRoaXMuQS5sZW5ndGgsdGhpcy5hLGEsdm9pZCAwIT09Yj9iOiExKX07ay5XPWZ1bmN0aW9uKCl7cmV0dXJuIHlmKHRoaXMuQSwwLHRoaXMuQS5sZW5ndGgsdGhpcy5hKX07ay5QaD1mdW5jdGlvbihhLGIpe3JldHVybiBLayh0aGlzLkEsMCx0aGlzLkEubGVuZ3RoLHRoaXMuYSxhLGIpfTtrLlVuPWZ1bmN0aW9uKCl7cmV0dXJuIHRqKHRoaXMuQSwwLHRoaXMuQS5sZW5ndGgsdGhpcy5hKX07ay5GZT1mdW5jdGlvbigpe3RoaXMuaiE9dGhpcy5nJiYodGhpcy5jPXRoaXMuUGgoLjUsdGhpcy5jKSx0aGlzLmo9dGhpcy5nKTtyZXR1cm4gdGhpcy5jfTtcbmsueGQ9ZnVuY3Rpb24oYSl7dmFyIGI9W107Yi5sZW5ndGg9QmYodGhpcy5BLDAsdGhpcy5BLmxlbmd0aCx0aGlzLmEsYSxiLDApO2E9bmV3IEkobnVsbCk7YS5iYShcIlhZXCIsYik7cmV0dXJuIGF9O2suUz1mdW5jdGlvbigpe3JldHVyblwiTGluZVN0cmluZ1wifTtrLiRhPWZ1bmN0aW9uKGEpe3JldHVybiBLZih0aGlzLkEsMCx0aGlzLkEubGVuZ3RoLHRoaXMuYSxhKX07ay5uYT1mdW5jdGlvbihhLGIpe2E/KGxmKHRoaXMsYixhLDEpLHRoaXMuQXx8KHRoaXMuQT1bXSksdGhpcy5BLmxlbmd0aD13Zih0aGlzLkEsMCxhLHRoaXMuYSksdGhpcy51KCkpOnRoaXMuYmEoXCJYWVwiLG51bGwpfTtrLmJhPWZ1bmN0aW9uKGEsYil7a2YodGhpcyxhLGIpO3RoaXMudSgpfTtmdW5jdGlvbiBVayhhLGIsYyl7Zm9yKHZhciBkPVtdLGU9YSgwKSxmPWEoMSksZz1iKGUpLGg9YihmKSxsPVtmLGVdLG09W2gsZ10sbj1bMSwwXSxwPXt9LHE9MUU1LHIsdSx2LHosQTswPC0tcSYmMDxuLmxlbmd0aDspdj1uLnBvcCgpLGU9bC5wb3AoKSxnPW0ucG9wKCksZj12LnRvU3RyaW5nKCksZiBpbiBwfHwoZC5wdXNoKGdbMF0sZ1sxXSkscFtmXT0hMCksej1uLnBvcCgpLGY9bC5wb3AoKSxoPW0ucG9wKCksQT0odit6KS8yLHI9YShBKSx1PWIociksc2EodVswXSx1WzFdLGdbMF0sZ1sxXSxoWzBdLGhbMV0pPGM/KGQucHVzaChoWzBdLGhbMV0pLGY9ei50b1N0cmluZygpLHBbZl09ITApOihuLnB1c2goeixBLEEsdiksbS5wdXNoKGgsdSx1LGcpLGwucHVzaChmLHIscixlKSk7cmV0dXJuIGR9ZnVuY3Rpb24gVmsoYSxiLGMsZCxlKXt2YXIgZj1PYihcIkVQU0c6NDMyNlwiKTtyZXR1cm4gVWsoZnVuY3Rpb24oZCl7cmV0dXJuW2EsYisoYy1iKSpkXX0sWWIoZixkKSxlKX1cbmZ1bmN0aW9uIFdrKGEsYixjLGQsZSl7dmFyIGY9T2IoXCJFUFNHOjQzMjZcIik7cmV0dXJuIFVrKGZ1bmN0aW9uKGQpe3JldHVybltiKyhjLWIpKmQsYV19LFliKGYsZCksZSl9O2Z1bmN0aW9uIEooYSl7YT1hfHx7fTt0aGlzLmE9YS5mb250O3RoaXMuaT1hLnJvdGF0aW9uO3RoaXMubD1hLnJvdGF0ZVdpdGhWaWV3O3RoaXMuYj1hLnNjYWxlO3RoaXMudGE9YS50ZXh0O3RoaXMuZj1hLnRleHRBbGlnbjt0aGlzLmo9YS50ZXh0QmFzZWxpbmU7dGhpcy5YYT12b2lkIDAhPT1hLmZpbGw/YS5maWxsOm5ldyB6ayh7Y29sb3I6XCIjMzMzXCJ9KTt0aGlzLnM9dm9pZCAwIT09YS5tYXhBbmdsZT9hLm1heEFuZ2xlOk1hdGguUEkvNDt0aGlzLm89dm9pZCAwIT09YS5wbGFjZW1lbnQ/YS5wbGFjZW1lbnQ6XCJwb2ludFwiO3ZhciBiPXZvaWQgMD09PWEub3ZlcmZsb3c/YS5leGNlZWRMZW5ndGg6YS5vdmVyZmxvdzt0aGlzLnY9dm9pZCAwIT09Yj9iOiExO3RoaXMuWWE9dm9pZCAwIT09YS5zdHJva2U/YS5zdHJva2U6bnVsbDt0aGlzLmc9dm9pZCAwIT09YS5vZmZzZXRYP2Eub2Zmc2V0WDowO3RoaXMuYz12b2lkIDAhPT1hLm9mZnNldFk/YS5vZmZzZXRZOjA7dGhpcy5OPWEuYmFja2dyb3VuZEZpbGw/XG5hLmJhY2tncm91bmRGaWxsOm51bGw7dGhpcy5EPWEuYmFja2dyb3VuZFN0cm9rZT9hLmJhY2tncm91bmRTdHJva2U6bnVsbDt0aGlzLkM9dm9pZCAwPT09YS5wYWRkaW5nP251bGw6YS5wYWRkaW5nfWs9Si5wcm90b3R5cGU7ay5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgSih7Zm9udDp0aGlzLmEscGxhY2VtZW50OnRoaXMubyxtYXhBbmdsZTp0aGlzLnMsb3ZlcmZsb3c6dGhpcy52LHJvdGF0aW9uOnRoaXMuaSxyb3RhdGVXaXRoVmlldzp0aGlzLmwsc2NhbGU6dGhpcy5iLHRleHQ6dGhpcy5LYSgpLHRleHRBbGlnbjp0aGlzLmYsdGV4dEJhc2VsaW5lOnRoaXMuaixmaWxsOnRoaXMuRmEoKT90aGlzLkZhKCkuY2xvbmUoKTp2b2lkIDAsc3Ryb2tlOnRoaXMuR2EoKT90aGlzLkdhKCkuY2xvbmUoKTp2b2lkIDAsb2Zmc2V0WDp0aGlzLmcsb2Zmc2V0WTp0aGlzLmN9KX07ay5HbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZ9O2sucGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtcbmsuQmw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zfTtrLktsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub307ay5FbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O2suRmw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTtrLkZhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuWGF9O2sudHA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sfTtrLnVwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaX07ay52cD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ9O2suR2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ZYX07ay5LYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRhfTtrLlFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07ay5SbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmp9O2suamw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5OfTtrLmtsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRH07ay5JbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkN9O2suRnE9ZnVuY3Rpb24oYSl7dGhpcy52PWF9O1xuay5Kaj1mdW5jdGlvbihhKXt0aGlzLmE9YX07ay5CcT1mdW5jdGlvbihhKXt0aGlzLnM9YX07ay5Oaj1mdW5jdGlvbihhKXt0aGlzLmc9YX07ay5Paj1mdW5jdGlvbihhKXt0aGlzLmM9YX07ay5IcT1mdW5jdGlvbihhKXt0aGlzLm89YX07ay55Zj1mdW5jdGlvbihhKXt0aGlzLlhhPWF9O2sud3A9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O2subGo9ZnVuY3Rpb24oYSl7dGhpcy5iPWF9O2suQWY9ZnVuY3Rpb24oYSl7dGhpcy5ZYT1hfTtrLkhkPWZ1bmN0aW9uKGEpe3RoaXMudGE9YX07ay5Raj1mdW5jdGlvbihhKXt0aGlzLmY9YX07ay5KcT1mdW5jdGlvbihhKXt0aGlzLmo9YX07ay5zcT1mdW5jdGlvbihhKXt0aGlzLk49YX07ay50cT1mdW5jdGlvbihhKXt0aGlzLkQ9YX07ay5HcT1mdW5jdGlvbihhKXt0aGlzLkM9YX07ZnVuY3Rpb24gWGsoYSl7YT1hfHx7fTt0aGlzLmk9dGhpcy52PW51bGw7dGhpcy5qPXRoaXMuZj1JbmZpbml0eTt0aGlzLnM9dGhpcy5sPS1JbmZpbml0eTt0aGlzLnFhPXRoaXMub2E9SW5maW5pdHk7dGhpcy5PPXRoaXMuVD0tSW5maW5pdHk7dGhpcy51YT12b2lkIDAhPT1hLnRhcmdldFNpemU/YS50YXJnZXRTaXplOjEwMDt0aGlzLmFiPXZvaWQgMCE9PWEubWF4TGluZXM/YS5tYXhMaW5lczoxMDA7dGhpcy5nPVtdO3RoaXMuYz1bXTt0aGlzLnJhPXZvaWQgMCE9PWEuc3Ryb2tlU3R5bGU/YS5zdHJva2VTdHlsZTpZazt0aGlzLkQ9dGhpcy5vPXZvaWQgMDt0aGlzLmE9dGhpcy5iPXRoaXMuTj1udWxsOzE9PWEuc2hvd0xhYmVscyYmKHRoaXMuJD12b2lkIDA9PWEubG9uTGFiZWxGb3JtYXR0ZXI/Q2UuYmluZCh0aGlzLFwiRVdcIik6YS5sb25MYWJlbEZvcm1hdHRlcix0aGlzLldhPXZvaWQgMD09YS5sYXRMYWJlbEZvcm1hdHRlcj9DZS5iaW5kKHRoaXMsXCJOU1wiKTphLmxhdExhYmVsRm9ybWF0dGVyLFxudGhpcy5jYT12b2lkIDA9PWEubG9uTGFiZWxQb3NpdGlvbj8wOmEubG9uTGFiZWxQb3NpdGlvbix0aGlzLlY9dm9pZCAwPT1hLmxhdExhYmVsUG9zaXRpb24/MTphLmxhdExhYmVsUG9zaXRpb24sdGhpcy5CPXZvaWQgMCE9PWEubG9uTGFiZWxTdHlsZT9hLmxvbkxhYmVsU3R5bGU6bmV3IEooe2ZvbnQ6XCIxMnB4IENhbGlicmksc2Fucy1zZXJpZlwiLHRleHRCYXNlbGluZTpcImJvdHRvbVwiLGZpbGw6bmV3IHprKHtjb2xvcjpcInJnYmEoMCwwLDAsMSlcIn0pLHN0cm9rZTpuZXcgQWsoe2NvbG9yOlwicmdiYSgyNTUsMjU1LDI1NSwxKVwiLHdpZHRoOjN9KX0pLHRoaXMuQz12b2lkIDAhPT1hLmxhdExhYmVsU3R5bGU/YS5sYXRMYWJlbFN0eWxlOm5ldyBKKHtmb250OlwiMTJweCBDYWxpYnJpLHNhbnMtc2VyaWZcIix0ZXh0QWxpZ246XCJlbmRcIixmaWxsOm5ldyB6ayh7Y29sb3I6XCJyZ2JhKDAsMCwwLDEpXCJ9KSxzdHJva2U6bmV3IEFrKHtjb2xvcjpcInJnYmEoMjU1LDI1NSwyNTUsMSlcIix3aWR0aDozfSl9KSxcbnRoaXMuYj1bXSx0aGlzLmE9W10pO3RoaXMuc2V0TWFwKHZvaWQgMCE9PWEubWFwP2EubWFwOm51bGwpfXZhciBZaz1uZXcgQWsoe2NvbG9yOlwicmdiYSgwLDAsMCwwLjIpXCJ9KSxaaz1bOTAsNDUsMzAsMjAsMTAsNSwyLDEsLjUsLjIsLjEsLjA1LC4wMSwuMDA1LC4wMDIsLjAwMV07ZnVuY3Rpb24gJGsoYSxiLGMsZCxlLGYsZyl7dmFyIGg9ZztjPVZrKGIsYyxkLGEuaSxlKTtoPXZvaWQgMCE9PWEuZ1toXT9hLmdbaF06bmV3IEkobnVsbCk7aC5iYShcIlhZXCIsYyk7aGIoaC5HKCksZikmJihhLmImJihjPWcsZD1oLmRhKCksZj1bZFswXSxwYShmWzFdK01hdGguYWJzKGZbMV0tZlszXSkqYS5jYSxNYXRoLm1heChmWzFdLGRbMV0pLE1hdGgubWluKGZbM10sZFtkLmxlbmd0aC0xXSkpXSxjPXZvaWQgMCE9PWEuYltjXT9hLmJbY10uUWQ6bmV3IEMobnVsbCksYy5uYShmKSxhLmJbZ109e1FkOmMsdGV4dDphLiQoYil9KSxhLmdbZysrXT1oKTtyZXR1cm4gZ31cbmZ1bmN0aW9uIGFsKGEsYixjLGQsZSxmLGcpe3ZhciBoPWc7Yz1XayhiLGMsZCxhLmksZSk7aD12b2lkIDAhPT1hLmNbaF0/YS5jW2hdOm5ldyBJKG51bGwpO2guYmEoXCJYWVwiLGMpO2hiKGguRygpLGYpJiYoYS5hJiYoYz1nLGQ9aC5kYSgpLGY9W3BhKGZbMF0rTWF0aC5hYnMoZlswXS1mWzJdKSphLlYsTWF0aC5tYXgoZlswXSxkWzBdKSxNYXRoLm1pbihmWzJdLGRbZC5sZW5ndGgtMl0pKSxkWzFdXSxjPXZvaWQgMCE9PWEuYVtjXT9hLmFbY10uUWQ6bmV3IEMobnVsbCksYy5uYShmKSxhLmFbZ109e1FkOmMsdGV4dDphLldhKGIpfSksYS5jW2crK109aCk7cmV0dXJuIGd9az1Yay5wcm90b3R5cGU7ay5nbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZ9O2suQ2w9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nfTtrLkpsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY307XG5rLmRpPWZ1bmN0aW9uKGEpe3ZhciBiPWEudmVjdG9yQ29udGV4dCxjPWEuZnJhbWVTdGF0ZTthPWMuZXh0ZW50O3ZhciBkPWMudmlld1N0YXRlLGU9ZC5jZW50ZXIsZj1kLnByb2plY3Rpb247ZD1kLnJlc29sdXRpb247Yz1jLnBpeGVsUmF0aW87Yz1kKmQvKDQqYypjKTtpZighdGhpcy5pfHwhWGIodGhpcy5pLGYpKXt2YXIgZz1PYihcIkVQU0c6NDMyNlwiKSxoPWYuRygpLGw9Zi5vZSxtPWJjKGwsZyxmKSxuPWxbMl0scD1sWzFdLHE9bFswXSxyPW1bM10sdT1tWzJdLHY9bVsxXTttPW1bMF07dGhpcy5mPWxbM107dGhpcy5qPW47dGhpcy5sPXA7dGhpcy5zPXE7dGhpcy5vYT1yO3RoaXMucWE9dTt0aGlzLlQ9djt0aGlzLk89bTt0aGlzLm89WWIoZyxmKTt0aGlzLkQ9WWIoZixnKTt0aGlzLk49dGhpcy5EKGViKGgpKTt0aGlzLmk9Zn1mPXRoaXMuTlswXTtnPXRoaXMuTlsxXTtoPS0xO249TWF0aC5wb3codGhpcy51YSpkLDIpO3A9W107cT1bXTtkPTA7Zm9yKGw9WmsubGVuZ3RoO2Q8bDsrK2Qpe3I9XG5aa1tkXS8yO3BbMF09Zi1yO3BbMV09Zy1yO3FbMF09ZityO3FbMV09ZytyO3RoaXMubyhwLHApO3RoaXMubyhxLHEpO3I9TWF0aC5wb3cocVswXS1wWzBdLDIpK01hdGgucG93KHFbMV0tcFsxXSwyKTtpZihyPD1uKWJyZWFrO2g9WmtbZF19ZD1oO2lmKC0xPT1kKXRoaXMuZy5sZW5ndGg9dGhpcy5jLmxlbmd0aD0wLHRoaXMuYiYmKHRoaXMuYi5sZW5ndGg9MCksdGhpcy5hJiYodGhpcy5hLmxlbmd0aD0wKTtlbHNle2Y9dGhpcy5EKGUpO2U9ZlswXTtmPWZbMV07Zz10aGlzLmFiO2w9W01hdGgubWF4KGFbMF0sdGhpcy5PKSxNYXRoLm1heChhWzFdLHRoaXMuVCksTWF0aC5taW4oYVsyXSx0aGlzLnFhKSxNYXRoLm1pbihhWzNdLHRoaXMub2EpXTtsPWJjKGwsdGhpcy5pLFwiRVBTRzo0MzI2XCIpO3A9bFszXTtoPWxbMl07cT1sWzFdO3I9bFswXTtlPU1hdGguZmxvb3IoZS9kKSpkO3U9cGEoZSx0aGlzLnMsdGhpcy5qKTtuPSRrKHRoaXMsdSxxLHAsYyxhLDApO2ZvcihsPTA7dSE9dGhpcy5zJiZcbmwrKzxnOyl1PU1hdGgubWF4KHUtZCx0aGlzLnMpLG49JGsodGhpcyx1LHEscCxjLGEsbik7dT1wYShlLHRoaXMucyx0aGlzLmopO2ZvcihsPTA7dSE9dGhpcy5qJiZsKys8ZzspdT1NYXRoLm1pbih1K2QsdGhpcy5qKSxuPSRrKHRoaXMsdSxxLHAsYyxhLG4pO3RoaXMuZy5sZW5ndGg9bjt0aGlzLmImJih0aGlzLmIubGVuZ3RoPW4pO2Y9TWF0aC5mbG9vcihmL2QpKmQ7ZT1wYShmLHRoaXMubCx0aGlzLmYpO249YWwodGhpcyxlLHIsaCxjLGEsMCk7Zm9yKGw9MDtlIT10aGlzLmwmJmwrKzxnOyllPU1hdGgubWF4KGUtZCx0aGlzLmwpLG49YWwodGhpcyxlLHIsaCxjLGEsbik7ZT1wYShmLHRoaXMubCx0aGlzLmYpO2ZvcihsPTA7ZSE9dGhpcy5mJiZsKys8ZzspZT1NYXRoLm1pbihlK2QsdGhpcy5mKSxuPWFsKHRoaXMsZSxyLGgsYyxhLG4pO3RoaXMuYy5sZW5ndGg9bjt0aGlzLmEmJih0aGlzLmEubGVuZ3RoPW4pfWIuT2EobnVsbCx0aGlzLnJhKTthPTA7Zm9yKGM9dGhpcy5nLmxlbmd0aDthPFxuYzsrK2EpZT10aGlzLmdbYV0sYi5IYihlKTthPTA7Zm9yKGM9dGhpcy5jLmxlbmd0aDthPGM7KythKWU9dGhpcy5jW2FdLGIuSGIoZSk7aWYodGhpcy5iKWZvcihhPTAsYz10aGlzLmIubGVuZ3RoO2E8YzsrK2EpZT10aGlzLmJbYV0sdGhpcy5CLkhkKGUudGV4dCksYi5uYih0aGlzLkIpLGIuSGIoZS5RZCk7aWYodGhpcy5hKWZvcihhPTAsYz10aGlzLmEubGVuZ3RoO2E8YzsrK2EpZT10aGlzLmFbYV0sdGhpcy5DLkhkKGUudGV4dCksYi5uYih0aGlzLkMpLGIuSGIoZS5RZCl9O2suc2V0TWFwPWZ1bmN0aW9uKGEpe3RoaXMudiYmKHRoaXMudi5KKFwicG9zdGNvbXBvc2VcIix0aGlzLmRpLHRoaXMpLHRoaXMudi5yZW5kZXIoKSk7YSYmKGEuSShcInBvc3Rjb21wb3NlXCIsdGhpcy5kaSx0aGlzKSxhLnJlbmRlcigpKTt0aGlzLnY9YX07ZnVuY3Rpb24gYmwoYSxiLGMsZCxlLGYpeyRoLmNhbGwodGhpcyxhLGIsYywwKTt0aGlzLmk9ZDt0aGlzLk09bmV3IEltYWdlO251bGwhPT1lJiYodGhpcy5NLmNyb3NzT3JpZ2luPWUpO3RoaXMuZz1udWxsO3RoaXMuc3RhdGU9MDt0aGlzLmM9Zn13KGJsLCRoKTtrPWJsLnByb3RvdHlwZTtrLlk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5NfTtrLmtuPWZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT0zO3RoaXMuZy5mb3JFYWNoKEdjKTt0aGlzLmc9bnVsbDt0aGlzLnUoKX07ay5sbj1mdW5jdGlvbigpe3ZvaWQgMD09PXRoaXMucmVzb2x1dGlvbiYmKHRoaXMucmVzb2x1dGlvbj1kYih0aGlzLmV4dGVudCkvdGhpcy5NLmhlaWdodCk7dGhpcy5zdGF0ZT0yO3RoaXMuZy5mb3JFYWNoKEdjKTt0aGlzLmc9bnVsbDt0aGlzLnUoKX07XG5rLmxvYWQ9ZnVuY3Rpb24oKXtpZigwPT10aGlzLnN0YXRlfHwzPT10aGlzLnN0YXRlKXRoaXMuc3RhdGU9MSx0aGlzLnUoKSx0aGlzLmc9W0xjKHRoaXMuTSxcImVycm9yXCIsdGhpcy5rbix0aGlzKSxMYyh0aGlzLk0sXCJsb2FkXCIsdGhpcy5sbix0aGlzKV0sdGhpcy5jKHRoaXMsdGhpcy5pKX07ay5paD1mdW5jdGlvbihhKXt0aGlzLk09YX07ZnVuY3Rpb24gY2woYSxiLGMpe1NjLmNhbGwodGhpcyk7Yz1jP2M6e307dGhpcy55YT1hO3RoaXMuc3RhdGU9Yjt0aGlzLmc9bnVsbDt0aGlzLmtleT1cIlwiO3RoaXMuaj12b2lkIDA9PT1jLnRyYW5zaXRpb24/MjUwOmMudHJhbnNpdGlvbjt0aGlzLnM9e319dyhjbCxTYyk7Y2wucHJvdG90eXBlLnU9ZnVuY3Rpb24oKXt0aGlzLmIoXCJjaGFuZ2VcIil9O2NsLnByb3RvdHlwZS5sYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtleStcIi9cIit0aGlzLnlhfTtmdW5jdGlvbiBwaihhKXtpZighYS5nKXJldHVybiBhO3ZhciBiPWEuZztkb3tpZigyPT1iLmdldFN0YXRlKCkpcmV0dXJuIGI7Yj1iLmd9d2hpbGUoYik7cmV0dXJuIGF9ZnVuY3Rpb24gZGwoYSl7aWYoYS5nKXt2YXIgYj1hLmc7ZG97aWYoMj09Yi5nZXRTdGF0ZSgpKXtiLmc9bnVsbDticmVha31lbHNlIDE9PWIuZ2V0U3RhdGUoKT9hPWI6MD09Yi5nZXRTdGF0ZSgpP2EuZz1iLmc6YT1iO2I9YS5nfXdoaWxlKGIpfX1cbmNsLnByb3RvdHlwZS5pPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueWF9O2NsLnByb3RvdHlwZS5nZXRTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlfTtmdW5jdGlvbiBvaihhLGIpe2Euc3RhdGU9YjthLnUoKX1mdW5jdGlvbiBxaihhLGIsYyl7aWYoIWEuailyZXR1cm4gMTt2YXIgZD1hLnNbYl07aWYoIWQpZD1jLGEuc1tiXT1kO2Vsc2UgaWYoLTE9PT1kKXJldHVybiAxO2I9Yy1kKzFFMy82MDtyZXR1cm4gYj49YS5qPzE6TWUoYi9hLmopfTtmdW5jdGlvbiBlbChhLGIsYyxkLGUsZil7Y2wuY2FsbCh0aGlzLGEsYixmKTt0aGlzLmY9ZDt0aGlzLmw9Yzt0aGlzLk09bmV3IEltYWdlO251bGwhPT1kJiYodGhpcy5NLmNyb3NzT3JpZ2luPWQpO3RoaXMuYz1udWxsO3RoaXMudj1lfXcoZWwsY2wpO2s9ZWwucHJvdG90eXBlO2suaWE9ZnVuY3Rpb24oKXsxPT10aGlzLnN0YXRlJiYoZmwodGhpcyksdGhpcy5NPWdsKCkpO3RoaXMuZyYmUGModGhpcy5nKTt0aGlzLnN0YXRlPTU7dGhpcy51KCk7Y2wucHJvdG90eXBlLmlhLmNhbGwodGhpcyl9O2suWT1mdW5jdGlvbigpe3JldHVybiB0aGlzLk19O2subGI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sfTtrLmhuPWZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT0zO2ZsKHRoaXMpO3RoaXMuTT1nbCgpO3RoaXMudSgpfTtrLmpuPWZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT10aGlzLk0ubmF0dXJhbFdpZHRoJiZ0aGlzLk0ubmF0dXJhbEhlaWdodD8yOjQ7ZmwodGhpcyk7dGhpcy51KCl9O1xuay5sb2FkPWZ1bmN0aW9uKCl7Mz09dGhpcy5zdGF0ZSYmKHRoaXMuc3RhdGU9MCx0aGlzLk09bmV3IEltYWdlLG51bGwhPT10aGlzLmYmJih0aGlzLk0uY3Jvc3NPcmlnaW49dGhpcy5mKSk7MD09dGhpcy5zdGF0ZSYmKHRoaXMuc3RhdGU9MSx0aGlzLnUoKSx0aGlzLmM9W0xjKHRoaXMuTSxcImVycm9yXCIsdGhpcy5obix0aGlzKSxMYyh0aGlzLk0sXCJsb2FkXCIsdGhpcy5qbix0aGlzKV0sdGhpcy52KHRoaXMsdGhpcy5sKSl9O2Z1bmN0aW9uIGZsKGEpe2EuYy5mb3JFYWNoKEdjKTthLmM9bnVsbH1mdW5jdGlvbiBnbCgpe3ZhciBhPWhnKDEsMSk7YS5maWxsU3R5bGU9XCJyZ2JhKDAsMCwwLDApXCI7YS5maWxsUmVjdCgwLDAsMSwxKTtyZXR1cm4gYS5jYW52YXN9O2Z1bmN0aW9uIGhsKGEpe3RoaXMuYj1hfTtmdW5jdGlvbiBpbChhKXt0aGlzLmI9YX13KGlsLGhsKTtpbC5wcm90b3R5cGUuUz1mdW5jdGlvbigpe3JldHVybiAzNTYzMn07ZnVuY3Rpb24gamwoYSl7dGhpcy5iPWF9dyhqbCxobCk7amwucHJvdG90eXBlLlM9ZnVuY3Rpb24oKXtyZXR1cm4gMzU2MzN9O3ZhciBrbD1uZXcgaWwoXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDt2YXJ5aW5nIHZlYzIgYTt2YXJ5aW5nIHZlYzIgYjt2YXJ5aW5nIGZsb2F0IGM7dmFyeWluZyBmbG9hdCBkO3VuaWZvcm0gZmxvYXQgbTt1bmlmb3JtIHZlYzQgbjt1bmlmb3JtIHZlYzQgbzt1bmlmb3JtIHZlYzIgcDt2b2lkIG1haW4odm9pZCl7dmVjMiB3aW5kb3dDZW50ZXI9dmVjMigoYS54KzEuMCkvMi4wKnAueCpkLChhLnkrMS4wKS8yLjAqcC55KmQpO3ZlYzIgd2luZG93T2Zmc2V0PXZlYzIoKGIueCsxLjApLzIuMCpwLngqZCwoYi55KzEuMCkvMi4wKnAueSpkKTtmbG9hdCByYWRpdXM9bGVuZ3RoKHdpbmRvd0NlbnRlci13aW5kb3dPZmZzZXQpO2Zsb2F0IGRpc3Q9bGVuZ3RoKHdpbmRvd0NlbnRlci1nbF9GcmFnQ29vcmQueHkpO2lmKGRpc3Q+cmFkaXVzK2Mpe2lmKG8uYT09MC4wKXtnbF9GcmFnQ29sb3I9bjt9ZWxzZXtnbF9GcmFnQ29sb3I9bzt9Z2xfRnJhZ0NvbG9yLmE9Z2xfRnJhZ0NvbG9yLmEtKGRpc3QtKHJhZGl1cytjKSk7fWVsc2UgaWYobi5hPT0wLjApe2dsX0ZyYWdDb2xvcj1vO2lmKGRpc3Q8cmFkaXVzLWMpe2dsX0ZyYWdDb2xvci5hPWdsX0ZyYWdDb2xvci5hLShyYWRpdXMtYy1kaXN0KTt9fSBlbHNle2dsX0ZyYWdDb2xvcj1uO2Zsb2F0IHN0cm9rZURpc3Q9cmFkaXVzLWM7ZmxvYXQgYW50aWFsaWFzPTIuMCpkO2lmKGRpc3Q+c3Ryb2tlRGlzdCl7Z2xfRnJhZ0NvbG9yPW87fWVsc2UgaWYoZGlzdD49c3Ryb2tlRGlzdC1hbnRpYWxpYXMpe2Zsb2F0IHN0ZXA9c21vb3Roc3RlcChzdHJva2VEaXN0LWFudGlhbGlhcyxzdHJva2VEaXN0LGRpc3QpO2dsX0ZyYWdDb2xvcj1taXgobixvLHN0ZXApO319IGdsX0ZyYWdDb2xvci5hPWdsX0ZyYWdDb2xvci5hKm07aWYoZ2xfRnJhZ0NvbG9yLmE8PTAuMCl7ZGlzY2FyZDt9fVwiKSxcbmxsPW5ldyBqbChcInZhcnlpbmcgdmVjMiBhO3ZhcnlpbmcgdmVjMiBiO3ZhcnlpbmcgZmxvYXQgYzt2YXJ5aW5nIGZsb2F0IGQ7YXR0cmlidXRlIHZlYzIgZTthdHRyaWJ1dGUgZmxvYXQgZjthdHRyaWJ1dGUgZmxvYXQgZzt1bmlmb3JtIG1hdDQgaDt1bmlmb3JtIG1hdDQgaTt1bmlmb3JtIG1hdDQgajt1bmlmb3JtIGZsb2F0IGs7dW5pZm9ybSBmbG9hdCBsO3ZvaWQgbWFpbih2b2lkKXttYXQ0IG9mZnNldE1hdHJpeD1pKmo7YT12ZWM0KGgqdmVjNChlLDAuMCwxLjApKS54eTtkPWw7ZmxvYXQgbGluZVdpZHRoPWsqbDtjPWxpbmVXaWR0aC8yLjA7aWYobGluZVdpZHRoPT0wLjApe2xpbmVXaWR0aD0yLjAqbDt9dmVjMiBvZmZzZXQ7ZmxvYXQgcmFkaXVzPWcrMy4wKmw7Ly9VbnRpbCB3ZSBnZXQgZ2xfVmVydGV4SUQgaW4gV2ViR0wsd2Ugc3RvcmUgYW4gaW5zdHJ1Y3Rpb24uaWYoZj09MC4wKXsvL09mZnNldHRpbmcgdGhlIGVkZ2VzIG9mIHRoZSB0cmlhbmdsZSBieSBsaW5lV2lkdGgvMiBpcyBuZWNlc3NhcnksaG93ZXZlci8vd2Ugc2hvdWxkIGFsc28gbGVhdmUgc29tZSBzcGFjZSBmb3IgdGhlIGFudGlhbGlhc2luZyx0aHVzIHdlIG9mZnNldCBieSBsaW5lV2lkdGgub2Zmc2V0PXZlYzIoLTEuMCwxLjApO31lbHNlIGlmKGY9PTEuMCl7b2Zmc2V0PXZlYzIoLTEuMCwtMS4wKTt9ZWxzZSBpZihmPT0yLjApe29mZnNldD12ZWMyKDEuMCwtMS4wKTt9ZWxzZXtvZmZzZXQ9dmVjMigxLjAsMS4wKTt9Z2xfUG9zaXRpb249aCp2ZWM0KGUrb2Zmc2V0KnJhZGl1cywwLjAsMS4wKStvZmZzZXRNYXRyaXgqdmVjNChvZmZzZXQqbGluZVdpZHRoLDAuMCwwLjApO2I9dmVjNChoKnZlYzQoZS54K2csZS55LDAuMCwxLjApKS54eTtpZihkaXN0YW5jZShhLGIpPjIwMDAwLjApe2dsX1Bvc2l0aW9uPXZlYzQoYSwwLjAsMS4wKTt9fVwiKTtmdW5jdGlvbiBtbChhLGIpe3RoaXMuZz1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwiaFwiKTt0aGlzLmk9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcImlcIik7dGhpcy5jPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJqXCIpO3RoaXMub2E9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcImtcIik7dGhpcy5xYT1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwibFwiKTt0aGlzLmE9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcIm1cIik7dGhpcy5DPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJuXCIpO3RoaXMuTz1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwib1wiKTt0aGlzLlQ9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcInBcIik7dGhpcy5iPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImVcIik7dGhpcy5qPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImZcIik7dGhpcy5OPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImdcIil9O2Z1bmN0aW9uIG5sKCl7cmV0dXJuWzEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDFdfWZ1bmN0aW9uIHBsKGEsYil7YVswXT1iWzBdO2FbMV09YlsxXTthWzRdPWJbMl07YVs1XT1iWzNdO2FbMTJdPWJbNF07YVsxM109Yls1XTtyZXR1cm4gYX07ZnVuY3Rpb24gcWwoYSxiKXt0aGlzLm9yaWdpbj1lYihiKTt0aGlzLmJiPVdlKCk7dGhpcy5FYT1XZSgpO3RoaXMuTGE9V2UoKTt0aGlzLlY9bmwoKTt0aGlzLmI9W107dGhpcy5qPW51bGw7dGhpcy5nPVtdO3RoaXMuaT1bXTt0aGlzLmE9W107dGhpcy5zPW51bGw7dGhpcy5mPXZvaWQgMH13KHFsLEFpKTtcbnFsLnByb3RvdHlwZS5OYT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsbCxtLG4pe3ZhciBwPWEuYjtpZih0aGlzLmYpe3ZhciBxPXAuaXNFbmFibGVkKHAuU1RFTkNJTF9URVNUKTt2YXIgcj1wLmdldFBhcmFtZXRlcihwLlNURU5DSUxfRlVOQyk7dmFyIHU9cC5nZXRQYXJhbWV0ZXIocC5TVEVOQ0lMX1ZBTFVFX01BU0spO3ZhciB2PXAuZ2V0UGFyYW1ldGVyKHAuU1RFTkNJTF9SRUYpO3ZhciB6PXAuZ2V0UGFyYW1ldGVyKHAuU1RFTkNJTF9XUklURU1BU0spO3ZhciBBPXAuZ2V0UGFyYW1ldGVyKHAuU1RFTkNJTF9GQUlMKTt2YXIgRT1wLmdldFBhcmFtZXRlcihwLlNURU5DSUxfUEFTU19ERVBUSF9QQVNTKTt2YXIgUz1wLmdldFBhcmFtZXRlcihwLlNURU5DSUxfUEFTU19ERVBUSF9GQUlMKTtwLmVuYWJsZShwLlNURU5DSUxfVEVTVCk7cC5jbGVhcihwLlNURU5DSUxfQlVGRkVSX0JJVCk7cC5zdGVuY2lsTWFzaygyNTUpO3Auc3RlbmNpbEZ1bmMocC5BTFdBWVMsMSwyNTUpO3Auc3RlbmNpbE9wKHAuS0VFUCxcbnAuS0VFUCxwLlJFUExBQ0UpO3RoaXMuZi5OYShhLGIsYyxkLGUsZixnLGgsbCxtLG4pO3Auc3RlbmNpbE1hc2soMCk7cC5zdGVuY2lsRnVuYyhwLk5PVEVRVUFMLDEsMjU1KX1ybChhLDM0OTYyLHRoaXMucyk7cmwoYSwzNDk2Myx0aGlzLmopO2Y9dGhpcy5CZihwLGEsZSxmKTt2YXIgSWE9WGUodGhpcy5iYik7Y2YoSWEsMi8oYyplWzBdKSwyLyhjKmVbMV0pKTtiZihJYSwtZCk7ZGYoSWEsLShiWzBdLXRoaXMub3JpZ2luWzBdKSwtKGJbMV0tdGhpcy5vcmlnaW5bMV0pKTtiPVhlKHRoaXMuTGEpO2NmKGIsMi9lWzBdLDIvZVsxXSk7ZT1YZSh0aGlzLkVhKTswIT09ZCYmYmYoZSwtZCk7cC51bmlmb3JtTWF0cml4NGZ2KGYuZywhMSxwbCh0aGlzLlYsSWEpKTtwLnVuaWZvcm1NYXRyaXg0ZnYoZi5pLCExLHBsKHRoaXMuVixiKSk7cC51bmlmb3JtTWF0cml4NGZ2KGYuYywhMSxwbCh0aGlzLlYsZSkpO3AudW5pZm9ybTFmKGYuYSxnKTtpZih2b2lkIDA9PT1sKXRoaXMuT2QocCxhLGgsITEpO1xuZWxzZXttP2E9dGhpcy5FZShwLGEsaCxsLG4pOihwLmNsZWFyKHAuQ09MT1JfQlVGRkVSX0JJVHxwLkRFUFRIX0JVRkZFUl9CSVQpLHRoaXMuT2QocCxhLGgsITApLGE9KGE9bChudWxsKSk/YTp2b2lkIDApO3ZhciB0YT1hfXRoaXMuQ2YocCxmKTt0aGlzLmYmJihxfHxwLmRpc2FibGUocC5TVEVOQ0lMX1RFU1QpLHAuY2xlYXIocC5TVEVOQ0lMX0JVRkZFUl9CSVQpLHAuc3RlbmNpbEZ1bmMocix2LHUpLHAuc3RlbmNpbE1hc2soeikscC5zdGVuY2lsT3AoQSxTLEUpKTtyZXR1cm4gdGF9O2Z1bmN0aW9uIHNsKGEsYixjLGQpe2EuZHJhd0VsZW1lbnRzKDQsZC1jLGIuZj81MTI1OjUxMjMsYyooYi5mPzQ6MikpfTt2YXIgdGw9WzAsMCwwLDFdLHVsPVtdLHZsPVswLDAsMCwxXTtmdW5jdGlvbiB3bChhLGIsYyxkLGUsZil7YT0oYy1hKSooZi1iKS0oZS1hKSooZC1iKTtyZXR1cm4gYTw9eGwmJmE+PS14bD92b2lkIDA6MDxhfXZhciB4bD1OdW1iZXIuRVBTSUxPTnx8Mi4yMjA0NDYwNDkyNTAzMTNFLTE2O2Z1bmN0aW9uIHlsKGEpe3RoaXMuYj12b2lkIDAhPT1hP2E6W107dGhpcy5hPXpsfXZhciB6bD0zNTA0NDtmdW5jdGlvbiBBbChhLGIpe3FsLmNhbGwodGhpcyxhLGIpO3RoaXMudj1udWxsO3RoaXMubD1bXTt0aGlzLm89W107dGhpcy5OPTA7dGhpcy5jPXtmaWxsQ29sb3I6bnVsbCxzdHJva2VDb2xvcjpudWxsLGxpbmVEYXNoOm51bGwsbGluZURhc2hPZmZzZXQ6dm9pZCAwLGxpbmVXaWR0aDp2b2lkIDAsdTohMX19dyhBbCxxbCk7az1BbC5wcm90b3R5cGU7XG5rLmNjPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5CZCgpLGQ9YS5wYSgpO2lmKGMpe3RoaXMuZy5wdXNoKHRoaXMuYi5sZW5ndGgpO3RoaXMuaS5wdXNoKGIpO3RoaXMuYy51JiYodGhpcy5vLnB1c2godGhpcy5iLmxlbmd0aCksdGhpcy5jLnU9ITEpO3RoaXMuTj1jO2E9YS5kYSgpO2E9VWUoYSwwLDIsZCwtdGhpcy5vcmlnaW5bMF0sLXRoaXMub3JpZ2luWzFdKTtiPXRoaXMuYS5sZW5ndGg7Yz10aGlzLmIubGVuZ3RoO3ZhciBlPWIvNCxmO2ZvcihmPTA7Mj5mO2YrPWQpdGhpcy5hW2IrK109YVtmXSx0aGlzLmFbYisrXT1hW2YrMV0sdGhpcy5hW2IrK109MCx0aGlzLmFbYisrXT10aGlzLk4sdGhpcy5hW2IrK109YVtmXSx0aGlzLmFbYisrXT1hW2YrMV0sdGhpcy5hW2IrK109MSx0aGlzLmFbYisrXT10aGlzLk4sdGhpcy5hW2IrK109YVtmXSx0aGlzLmFbYisrXT1hW2YrMV0sdGhpcy5hW2IrK109Mix0aGlzLmFbYisrXT10aGlzLk4sdGhpcy5hW2IrK109YVtmXSx0aGlzLmFbYisrXT1cbmFbZisxXSx0aGlzLmFbYisrXT0zLHRoaXMuYVtiKytdPXRoaXMuTix0aGlzLmJbYysrXT1lLHRoaXMuYltjKytdPWUrMSx0aGlzLmJbYysrXT1lKzIsdGhpcy5iW2MrK109ZSsyLHRoaXMuYltjKytdPWUrMyx0aGlzLmJbYysrXT1lLGUrPTR9ZWxzZSB0aGlzLmMudSYmKHRoaXMubC5wb3AoKSx0aGlzLmwubGVuZ3RoJiYoZD10aGlzLmxbdGhpcy5sLmxlbmd0aC0xXSx0aGlzLmMuZmlsbENvbG9yPWRbMF0sdGhpcy5jLnN0cm9rZUNvbG9yPWRbMV0sdGhpcy5jLmxpbmVXaWR0aD1kWzJdLHRoaXMuYy51PSExKSl9O2suZ2I9ZnVuY3Rpb24oKXt0aGlzLnM9bmV3IHlsKHRoaXMuYSk7dGhpcy5qPW5ldyB5bCh0aGlzLmIpO3RoaXMuZy5wdXNoKHRoaXMuYi5sZW5ndGgpOzA9PT10aGlzLm8ubGVuZ3RoJiYwPHRoaXMubC5sZW5ndGgmJih0aGlzLmw9W10pO3RoaXMuYj10aGlzLmE9bnVsbH07XG5rLkRiPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucyxjPXRoaXMuajtyZXR1cm4gZnVuY3Rpb24oKXtCbChhLGIpO0JsKGEsYyl9fTtrLkJmPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPUNsKGIsa2wsbGwpO2lmKHRoaXMudil2YXIgZj10aGlzLnY7ZWxzZSB0aGlzLnY9Zj1uZXcgbWwoYSxlKTtiLmNkKGUpO2EuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZi5iKTthLnZlcnRleEF0dHJpYlBvaW50ZXIoZi5iLDIsNTEyNiwhMSwxNiwwKTthLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGYuaik7YS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGYuaiwxLDUxMjYsITEsMTYsOCk7YS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShmLk4pO2EudmVydGV4QXR0cmliUG9pbnRlcihmLk4sMSw1MTI2LCExLDE2LDEyKTthLnVuaWZvcm0yZnYoZi5ULGMpO2EudW5pZm9ybTFmKGYucWEsZCk7cmV0dXJuIGZ9O1xuay5DZj1mdW5jdGlvbihhLGIpe2EuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGIuYik7YS5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoYi5qKTthLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShiLk4pfTtcbmsuT2Q9ZnVuY3Rpb24oYSxiLGMpe2lmKG5iKGMpKXt2YXIgZD10aGlzLmdbdGhpcy5nLmxlbmd0aC0xXTtmb3IoYz10aGlzLm8ubGVuZ3RoLTE7MDw9YzstLWMpe3ZhciBlPXRoaXMub1tjXTt2YXIgZj10aGlzLmxbY107YS51bmlmb3JtNGZ2KHRoaXMudi5DLGZbMF0pO0RsKHRoaXMsYSxmWzFdLGZbMl0pO3NsKGEsYixlLGQpO2Q9ZX19ZWxzZXt2YXIgZz10aGlzLmcubGVuZ3RoLTI7Zj1kPXRoaXMuZ1tnKzFdO2ZvcihlPXRoaXMuby5sZW5ndGgtMTswPD1lOy0tZSl7dmFyIGg9dGhpcy5sW2VdO2EudW5pZm9ybTRmdih0aGlzLnYuQyxoWzBdKTtEbCh0aGlzLGEsaFsxXSxoWzJdKTtmb3IoaD10aGlzLm9bZV07MDw9ZyYmdGhpcy5nW2ddPj1oOyl7dmFyIGw9dGhpcy5nW2ddO3ZhciBtPXRoaXMuaVtnXTttPXgobSkudG9TdHJpbmcoKTtjW21dJiYoZCE9PWYmJnNsKGEsYixkLGYpLGY9bCk7Zy0tO2Q9bH1kIT09ZiYmc2woYSxiLGQsZik7ZD1mPWh9fX07XG5rLkVlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZzt2YXIgaD10aGlzLmcubGVuZ3RoLTI7dmFyIGw9dGhpcy5nW2grMV07Zm9yKGY9dGhpcy5vLmxlbmd0aC0xOzA8PWY7LS1mKXt2YXIgbT10aGlzLmxbZl07YS51bmlmb3JtNGZ2KHRoaXMudi5DLG1bMF0pO0RsKHRoaXMsYSxtWzFdLG1bMl0pO2ZvcihnPXRoaXMub1tmXTswPD1oJiZ0aGlzLmdbaF0+PWc7KXttPXRoaXMuZ1toXTt2YXIgbj10aGlzLmlbaF07dmFyIHA9eChuKS50b1N0cmluZygpO2lmKHZvaWQgMD09PWNbcF0mJm4uVSgpJiYodm9pZCAwPT09ZXx8aGIoZSxuLlUoKS5HKCkpKSYmKGEuY2xlYXIoYS5DT0xPUl9CVUZGRVJfQklUfGEuREVQVEhfQlVGRkVSX0JJVCksc2woYSxiLG0sbCksbD1kKG4pKSlyZXR1cm4gbDtoLS07bD1tfX19O2Z1bmN0aW9uIERsKGEsYixjLGQpe2IudW5pZm9ybTRmdihhLnYuTyxjKTtiLnVuaWZvcm0xZihhLnYub2EsZCl9XG5rLk9hPWZ1bmN0aW9uKGEsYil7aWYoYil7dmFyIGM9Yi5nO3RoaXMuYy5saW5lRGFzaD1jP2M6dWw7Yz1iLmk7dGhpcy5jLmxpbmVEYXNoT2Zmc2V0PWM/YzowO2M9Yi5hO2MgaW5zdGFuY2VvZiBDYW52YXNHcmFkaWVudHx8YyBpbnN0YW5jZW9mIENhbnZhc1BhdHRlcm4/Yz12bDpjPXZpKGMpLm1hcChmdW5jdGlvbihhLGIpe3JldHVybiAzIT1iP2EvMjU1OmF9KXx8dmw7Yj1iLmM7Yj12b2lkIDAhPT1iP2I6MX1lbHNlIGM9WzAsMCwwLDBdLGI9MDthPWE/YS5iOlswLDAsMCwwXTthIGluc3RhbmNlb2YgQ2FudmFzR3JhZGllbnR8fGEgaW5zdGFuY2VvZiBDYW52YXNQYXR0ZXJuP2E9dGw6YT12aShhKS5tYXAoZnVuY3Rpb24oYSxiKXtyZXR1cm4gMyE9Yj9hLzI1NTphfSl8fHRsO3RoaXMuYy5zdHJva2VDb2xvciYmamModGhpcy5jLnN0cm9rZUNvbG9yLGMpJiZ0aGlzLmMuZmlsbENvbG9yJiZqYyh0aGlzLmMuZmlsbENvbG9yLGEpJiZ0aGlzLmMubGluZVdpZHRoPT09Ynx8KHRoaXMuYy51PVxuITAsdGhpcy5jLmZpbGxDb2xvcj1hLHRoaXMuYy5zdHJva2VDb2xvcj1jLHRoaXMuYy5saW5lV2lkdGg9Yix0aGlzLmwucHVzaChbYSxjLGJdKSl9O3ZhciBFbD1uZXcgaWwoXCJwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDt2YXJ5aW5nIHZlYzIgYTt2YXJ5aW5nIGZsb2F0IGI7dW5pZm9ybSBmbG9hdCBrO3VuaWZvcm0gc2FtcGxlcjJEIGw7dm9pZCBtYWluKHZvaWQpe3ZlYzQgdGV4Q29sb3I9dGV4dHVyZTJEKGwsYSk7Z2xfRnJhZ0NvbG9yLnJnYj10ZXhDb2xvci5yZ2I7ZmxvYXQgYWxwaGE9dGV4Q29sb3IuYSpiKms7aWYoYWxwaGE9PTAuMCl7ZGlzY2FyZDt9Z2xfRnJhZ0NvbG9yLmE9YWxwaGE7fVwiKSxGbD1uZXcgamwoXCJ2YXJ5aW5nIHZlYzIgYTt2YXJ5aW5nIGZsb2F0IGI7YXR0cmlidXRlIHZlYzIgYzthdHRyaWJ1dGUgdmVjMiBkO2F0dHJpYnV0ZSB2ZWMyIGU7YXR0cmlidXRlIGZsb2F0IGY7YXR0cmlidXRlIGZsb2F0IGc7dW5pZm9ybSBtYXQ0IGg7dW5pZm9ybSBtYXQ0IGk7dW5pZm9ybSBtYXQ0IGo7dm9pZCBtYWluKHZvaWQpe21hdDQgb2Zmc2V0TWF0cml4PWk7aWYoZz09MS4wKXtvZmZzZXRNYXRyaXg9aSpqO312ZWM0IG9mZnNldHM9b2Zmc2V0TWF0cml4KnZlYzQoZSwwLjAsMC4wKTtnbF9Qb3NpdGlvbj1oKnZlYzQoYywwLjAsMS4wKStvZmZzZXRzO2E9ZDtiPWY7fVwiKTtmdW5jdGlvbiBHbChhLGIpe3RoaXMuZz1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwiaFwiKTt0aGlzLmk9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcImlcIik7dGhpcy5jPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJqXCIpO3RoaXMuYT1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwia1wiKTt0aGlzLmI9YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiY1wiKTt0aGlzLkI9YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiZFwiKTt0aGlzLnY9YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiZVwiKTt0aGlzLm89YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiZlwiKTt0aGlzLkQ9YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiZ1wiKX07ZnVuY3Rpb24gSGwoYSxiKXt0aGlzLmo9YTt0aGlzLmI9Yjt0aGlzLmE9e307dGhpcy5jPXt9O3RoaXMuZz17fTt0aGlzLnM9dGhpcy52PXRoaXMuaT10aGlzLmw9bnVsbDsodGhpcy5mPWVjKGRhLFwiT0VTX2VsZW1lbnRfaW5kZXhfdWludFwiKSkmJmIuZ2V0RXh0ZW5zaW9uKFwiT0VTX2VsZW1lbnRfaW5kZXhfdWludFwiKTt5KHRoaXMuaixcIndlYmdsY29udGV4dGxvc3RcIix0aGlzLnpwLHRoaXMpO3kodGhpcy5qLFwid2ViZ2xjb250ZXh0cmVzdG9yZWRcIix0aGlzLkFwLHRoaXMpfXcoSGwsT2MpO1xuZnVuY3Rpb24gcmwoYSxiLGMpe3ZhciBkPWEuYixlPWMuYixmPVN0cmluZyh4KGMpKTtpZihmIGluIGEuYSlkLmJpbmRCdWZmZXIoYixhLmFbZl0uYnVmZmVyKTtlbHNle3ZhciBnPWQuY3JlYXRlQnVmZmVyKCk7ZC5iaW5kQnVmZmVyKGIsZyk7dmFyIGg7MzQ5NjI9PWI/aD1uZXcgRmxvYXQzMkFycmF5KGUpOjM0OTYzPT1iJiYoaD1hLmY/bmV3IFVpbnQzMkFycmF5KGUpOm5ldyBVaW50MTZBcnJheShlKSk7ZC5idWZmZXJEYXRhKGIsaCxjLmEpO2EuYVtmXT17dGM6YyxidWZmZXI6Z319fWZ1bmN0aW9uIEJsKGEsYil7dmFyIGM9YS5iO2I9U3RyaW5nKHgoYikpO3ZhciBkPWEuYVtiXTtjLmlzQ29udGV4dExvc3QoKXx8Yy5kZWxldGVCdWZmZXIoZC5idWZmZXIpO2RlbGV0ZSBhLmFbYl19az1IbC5wcm90b3R5cGU7XG5rLmlhPWZ1bmN0aW9uKCl7TmModGhpcy5qKTt2YXIgYT10aGlzLmI7aWYoIWEuaXNDb250ZXh0TG9zdCgpKXtmb3IodmFyIGIgaW4gdGhpcy5hKWEuZGVsZXRlQnVmZmVyKHRoaXMuYVtiXS5idWZmZXIpO2ZvcihiIGluIHRoaXMuZylhLmRlbGV0ZVByb2dyYW0odGhpcy5nW2JdKTtmb3IoYiBpbiB0aGlzLmMpYS5kZWxldGVTaGFkZXIodGhpcy5jW2JdKTthLmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuaSk7YS5kZWxldGVSZW5kZXJidWZmZXIodGhpcy5zKTthLmRlbGV0ZVRleHR1cmUodGhpcy52KX19O2sueXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ifTtcbmZ1bmN0aW9uIElsKGEpe2lmKCFhLmkpe3ZhciBiPWEuYixjPWIuY3JlYXRlRnJhbWVidWZmZXIoKTtiLmJpbmRGcmFtZWJ1ZmZlcihiLkZSQU1FQlVGRkVSLGMpO3ZhciBkPUpsKGIsMSwxKSxlPWIuY3JlYXRlUmVuZGVyYnVmZmVyKCk7Yi5iaW5kUmVuZGVyYnVmZmVyKGIuUkVOREVSQlVGRkVSLGUpO2IucmVuZGVyYnVmZmVyU3RvcmFnZShiLlJFTkRFUkJVRkZFUixiLkRFUFRIX0NPTVBPTkVOVDE2LDEsMSk7Yi5mcmFtZWJ1ZmZlclRleHR1cmUyRChiLkZSQU1FQlVGRkVSLGIuQ09MT1JfQVRUQUNITUVOVDAsYi5URVhUVVJFXzJELGQsMCk7Yi5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihiLkZSQU1FQlVGRkVSLGIuREVQVEhfQVRUQUNITUVOVCxiLlJFTkRFUkJVRkZFUixlKTtiLmJpbmRUZXh0dXJlKGIuVEVYVFVSRV8yRCxudWxsKTtiLmJpbmRSZW5kZXJidWZmZXIoYi5SRU5ERVJCVUZGRVIsbnVsbCk7Yi5iaW5kRnJhbWVidWZmZXIoYi5GUkFNRUJVRkZFUixudWxsKTthLmk9YztcbmEudj1kO2Eucz1lfXJldHVybiBhLml9ZnVuY3Rpb24gS2woYSxiKXt2YXIgYz1TdHJpbmcoeChiKSk7aWYoYyBpbiBhLmMpcmV0dXJuIGEuY1tjXTt2YXIgZD1hLmIsZT1kLmNyZWF0ZVNoYWRlcihiLlMoKSk7ZC5zaGFkZXJTb3VyY2UoZSxiLmIpO2QuY29tcGlsZVNoYWRlcihlKTtyZXR1cm4gYS5jW2NdPWV9ZnVuY3Rpb24gQ2woYSxiLGMpe3ZhciBkPXgoYikrXCIvXCIreChjKTtpZihkIGluIGEuZylyZXR1cm4gYS5nW2RdO3ZhciBlPWEuYixmPWUuY3JlYXRlUHJvZ3JhbSgpO2UuYXR0YWNoU2hhZGVyKGYsS2woYSxiKSk7ZS5hdHRhY2hTaGFkZXIoZixLbChhLGMpKTtlLmxpbmtQcm9ncmFtKGYpO3JldHVybiBhLmdbZF09Zn1rLnpwPWZ1bmN0aW9uKCl7bGIodGhpcy5hKTtsYih0aGlzLmMpO2xiKHRoaXMuZyk7dGhpcy5zPXRoaXMudj10aGlzLmk9dGhpcy5sPW51bGx9O2suQXA9ZnVuY3Rpb24oKXt9O1xuay5jZD1mdW5jdGlvbihhKXtpZihhPT10aGlzLmwpcmV0dXJuITE7dGhpcy5iLnVzZVByb2dyYW0oYSk7dGhpcy5sPWE7cmV0dXJuITB9O2Z1bmN0aW9uIExsKGEsYixjKXt2YXIgZD1hLmNyZWF0ZVRleHR1cmUoKTthLmJpbmRUZXh0dXJlKGEuVEVYVFVSRV8yRCxkKTthLnRleFBhcmFtZXRlcmkoYS5URVhUVVJFXzJELGEuVEVYVFVSRV9NQUdfRklMVEVSLGEuTElORUFSKTthLnRleFBhcmFtZXRlcmkoYS5URVhUVVJFXzJELGEuVEVYVFVSRV9NSU5fRklMVEVSLGEuTElORUFSKTt2b2lkIDAhPT1iJiZhLnRleFBhcmFtZXRlcmkoMzU1MywxMDI0MixiKTt2b2lkIDAhPT1jJiZhLnRleFBhcmFtZXRlcmkoMzU1MywxMDI0MyxjKTtyZXR1cm4gZH1mdW5jdGlvbiBKbChhLGIsYyl7dmFyIGQ9TGwoYSx2b2lkIDAsdm9pZCAwKTthLnRleEltYWdlMkQoYS5URVhUVVJFXzJELDAsYS5SR0JBLGIsYywwLGEuUkdCQSxhLlVOU0lHTkVEX0JZVEUsbnVsbCk7cmV0dXJuIGR9XG5mdW5jdGlvbiBNbChhLGIpe3ZhciBjPUxsKGEsMzMwNzEsMzMwNzEpO2EudGV4SW1hZ2UyRChhLlRFWFRVUkVfMkQsMCxhLlJHQkEsYS5SR0JBLGEuVU5TSUdORURfQllURSxiKTtyZXR1cm4gY307ZnVuY3Rpb24gTmwoYSxiKXtxbC5jYWxsKHRoaXMsYSxiKTt0aGlzLkM9dGhpcy5EPXZvaWQgMDt0aGlzLnY9W107dGhpcy5vPVtdO3RoaXMucWE9dGhpcy5vYT10aGlzLmhlaWdodD12b2lkIDA7dGhpcy5XYT1udWxsO3RoaXMud2lkdGg9dGhpcy5zY2FsZT10aGlzLnJvdGF0aW9uPXRoaXMucm90YXRlV2l0aFZpZXc9dGhpcy5PPXRoaXMuVD10aGlzLm9wYWNpdHk9dm9pZCAwfXcoTmwscWwpO2s9TmwucHJvdG90eXBlO2suRGI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zLGM9dGhpcy5qLGQ9dGhpcy5pZyghMCksZT1hLmI7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIWUuaXNDb250ZXh0TG9zdCgpKXt2YXIgZjt2YXIgZz0wO2ZvcihmPWQubGVuZ3RoO2c8ZjsrK2cpZS5kZWxldGVUZXh0dXJlKGRbZ10pfUJsKGEsYik7QmwoYSxjKX19O1xuZnVuY3Rpb24gT2woYSxiLGMsZCl7dmFyIGU9YS5ELGY9YS5DLGc9YS5oZWlnaHQsaD1hLm9hLGw9YS5xYSxtPWEub3BhY2l0eSxuPWEuVCxwPWEuTyxxPWEucm90YXRlV2l0aFZpZXc/MTowLHI9LWEucm90YXRpb24sdT1hLnNjYWxlLHY9YS53aWR0aCx6PU1hdGguY29zKHIpO3I9TWF0aC5zaW4ocik7dmFyIEE9YS5iLmxlbmd0aCxFPWEuYS5sZW5ndGgsUztmb3IoUz0wO1M8YztTKz1kKXt2YXIgSWE9YltTXS1hLm9yaWdpblswXTt2YXIgdGE9YltTKzFdLWEub3JpZ2luWzFdO3ZhciBsYT1FLzg7dmFyIGNhPS11KmU7dmFyIGlhPS11KihnLWYpO2EuYVtFKytdPUlhO2EuYVtFKytdPXRhO2EuYVtFKytdPWNhKnotaWEqcjthLmFbRSsrXT1jYSpyK2lhKno7YS5hW0UrK109bi9sO2EuYVtFKytdPShwK2cpL2g7YS5hW0UrK109bTthLmFbRSsrXT1xO2NhPXUqKHYtZSk7aWE9LXUqKGctZik7YS5hW0UrK109SWE7YS5hW0UrK109dGE7YS5hW0UrK109Y2Eqei1pYSpyO2EuYVtFKytdPWNhKlxucitpYSp6O2EuYVtFKytdPShuK3YpL2w7YS5hW0UrK109KHArZykvaDthLmFbRSsrXT1tO2EuYVtFKytdPXE7Y2E9dSoodi1lKTtpYT11KmY7YS5hW0UrK109SWE7YS5hW0UrK109dGE7YS5hW0UrK109Y2Eqei1pYSpyO2EuYVtFKytdPWNhKnIraWEqejthLmFbRSsrXT0obit2KS9sO2EuYVtFKytdPXAvaDthLmFbRSsrXT1tO2EuYVtFKytdPXE7Y2E9LXUqZTtpYT11KmY7YS5hW0UrK109SWE7YS5hW0UrK109dGE7YS5hW0UrK109Y2Eqei1pYSpyO2EuYVtFKytdPWNhKnIraWEqejthLmFbRSsrXT1uL2w7YS5hW0UrK109cC9oO2EuYVtFKytdPW07YS5hW0UrK109cTthLmJbQSsrXT1sYTthLmJbQSsrXT1sYSsxO2EuYltBKytdPWxhKzI7YS5iW0ErK109bGE7YS5iW0ErK109bGErMjthLmJbQSsrXT1sYSszfX1cbmZ1bmN0aW9uIFBsKGEsYixjLGQpe3ZhciBlLGY9Yi5sZW5ndGg7Zm9yKGU9MDtlPGY7KytlKXt2YXIgZz1iW2VdO3ZhciBoPXgoZykudG9TdHJpbmcoKTtoIGluIGM/Zz1jW2hdOihnPU1sKGQsZyksY1toXT1nKTthW2VdPWd9fVxuay5CZj1mdW5jdGlvbihhLGIpe3ZhciBjPUNsKGIsRWwsRmwpO2lmKHRoaXMuV2EpdmFyIGQ9dGhpcy5XYTtlbHNlIHRoaXMuV2E9ZD1uZXcgR2woYSxjKTtiLmNkKGMpO2EuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZC5iKTthLnZlcnRleEF0dHJpYlBvaW50ZXIoZC5iLDIsNTEyNiwhMSwzMiwwKTthLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGQudik7YS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGQudiwyLDUxMjYsITEsMzIsOCk7YS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShkLkIpO2EudmVydGV4QXR0cmliUG9pbnRlcihkLkIsMiw1MTI2LCExLDMyLDE2KTthLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGQubyk7YS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGQubywxLDUxMjYsITEsMzIsMjQpO2EuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZC5EKTthLnZlcnRleEF0dHJpYlBvaW50ZXIoZC5ELDEsNTEyNiwhMSwzMiwyOCk7cmV0dXJuIGR9O1xuay5DZj1mdW5jdGlvbihhLGIpe2EuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGIuYik7YS5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoYi52KTthLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShiLkIpO2EuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGIubyk7YS5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoYi5EKX07XG5rLk9kPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWQ/dGhpcy5hZygpOnRoaXMuaWcoKTtkPWQ/dGhpcy5vOnRoaXMudjtpZihuYihjKSl7dmFyIGY7Yz0wO3ZhciBnPWUubGVuZ3RoO2ZvcihmPTA7YzxnOysrYyl7YS5iaW5kVGV4dHVyZSgzNTUzLGVbY10pO3ZhciBoPWRbY107c2woYSxiLGYsaCk7Zj1ofX1lbHNlIGZvcihmPWc9MCxoPWUubGVuZ3RoO2Y8aDsrK2Ype2EuYmluZFRleHR1cmUoMzU1MyxlW2ZdKTtmb3IodmFyIGw9MDxmP2RbZi0xXTowLG09ZFtmXSxuPWw7Zzx0aGlzLmcubGVuZ3RoJiZ0aGlzLmdbZ108PW07KXt2YXIgcD14KHRoaXMuaVtnXSkudG9TdHJpbmcoKTt2b2lkIDAhPT1jW3BdPyhuIT09bCYmc2woYSxiLG4sbCksbD1uPWc9PT10aGlzLmcubGVuZ3RoLTE/bTp0aGlzLmdbZysxXSk6bD1nPT09dGhpcy5nLmxlbmd0aC0xP206dGhpcy5nW2crMV07ZysrfW4hPT1sJiZzbChhLGIsbixsKX19O1xuay5FZT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGcsaD10aGlzLmcubGVuZ3RoLTEsbD10aGlzLmFnKCk7Zm9yKGY9bC5sZW5ndGgtMTswPD1mOy0tZil7YS5iaW5kVGV4dHVyZSgzNTUzLGxbZl0pO3ZhciBtPTA8Zj90aGlzLm9bZi0xXTowO2ZvcihnPXRoaXMub1tmXTswPD1oJiZ0aGlzLmdbaF0+PW07KXt2YXIgbj10aGlzLmdbaF07dmFyIHA9dGhpcy5pW2hdO3ZhciBxPXgocCkudG9TdHJpbmcoKTtpZih2b2lkIDA9PT1jW3FdJiZwLlUoKSYmKHZvaWQgMD09PWV8fGhiKGUscC5VKCkuRygpKSkmJihhLmNsZWFyKGEuQ09MT1JfQlVGRkVSX0JJVHxhLkRFUFRIX0JVRkZFUl9CSVQpLHNsKGEsYixuLGcpLGc9ZChwKSkpcmV0dXJuIGc7Zz1uO2gtLX19fTtcbmsuZ2I9ZnVuY3Rpb24oKXt0aGlzLnFhPXRoaXMub2E9dGhpcy5oZWlnaHQ9dGhpcy5DPXRoaXMuRD12b2lkIDA7dGhpcy5iPW51bGw7dGhpcy5zY2FsZT10aGlzLnJvdGF0aW9uPXRoaXMucm90YXRlV2l0aFZpZXc9dGhpcy5PPXRoaXMuVD10aGlzLm9wYWNpdHk9dm9pZCAwO3RoaXMuYT1udWxsO3RoaXMud2lkdGg9dm9pZCAwfTtmdW5jdGlvbiBRbChhLGIpe05sLmNhbGwodGhpcyxhLGIpO3RoaXMubD1bXTt0aGlzLmM9W107dGhpcy5CPVtdO3RoaXMuTj1bXX13KFFsLE5sKTtrPVFsLnByb3RvdHlwZTtrLndjPWZ1bmN0aW9uKGEsYil7dGhpcy5nLnB1c2godGhpcy5iLmxlbmd0aCk7dGhpcy5pLnB1c2goYik7Yj1hLmRhKCk7T2wodGhpcyxiLGIubGVuZ3RoLGEucGEoKSl9O2sueWM9ZnVuY3Rpb24oYSxiKXt0aGlzLmcucHVzaCh0aGlzLmIubGVuZ3RoKTt0aGlzLmkucHVzaChiKTtiPWEuZGEoKTtPbCh0aGlzLGIsYi5sZW5ndGgsYS5wYSgpKX07XG5rLmdiPWZ1bmN0aW9uKGEpe3ZhciBiPWEuYjt0aGlzLnYucHVzaCh0aGlzLmIubGVuZ3RoKTt0aGlzLm8ucHVzaCh0aGlzLmIubGVuZ3RoKTt0aGlzLnM9bmV3IHlsKHRoaXMuYSk7dGhpcy5qPW5ldyB5bCh0aGlzLmIpO3ZhciBjPXt9O1BsKHRoaXMuQix0aGlzLmwsYyxiKTtQbCh0aGlzLk4sdGhpcy5jLGMsYik7dGhpcy5jPXRoaXMubD1udWxsO05sLnByb3RvdHlwZS5nYi5jYWxsKHRoaXMsYSl9O1xuay5aYj1mdW5jdGlvbihhKXt2YXIgYj1hLlZjKCksYz1hLlkoMSksZD1hLkhlKCksZT1hLkVnKCksZj1hLmksZz1hLmJkKCksaD1hLnMsbD1hLmYsbT1hLm9jKCk7YT1hLmE7aWYoMD09PXRoaXMubC5sZW5ndGgpdGhpcy5sLnB1c2goYyk7ZWxzZXt2YXIgbj10aGlzLmxbdGhpcy5sLmxlbmd0aC0xXTt4KG4pIT14KGMpJiYodGhpcy52LnB1c2godGhpcy5iLmxlbmd0aCksdGhpcy5sLnB1c2goYykpfTA9PT10aGlzLmMubGVuZ3RoP3RoaXMuYy5wdXNoKGUpOihuPXRoaXMuY1t0aGlzLmMubGVuZ3RoLTFdLHgobikhPXgoZSkmJih0aGlzLm8ucHVzaCh0aGlzLmIubGVuZ3RoKSx0aGlzLmMucHVzaChlKSkpO3RoaXMuRD1iWzBdO3RoaXMuQz1iWzFdO3RoaXMuaGVpZ2h0PW1bMV07dGhpcy5vYT1kWzFdO3RoaXMucWE9ZFswXTt0aGlzLm9wYWNpdHk9Zjt0aGlzLlQ9Z1swXTt0aGlzLk89Z1sxXTt0aGlzLnJvdGF0aW9uPWw7dGhpcy5yb3RhdGVXaXRoVmlldz1oO3RoaXMuc2NhbGU9YTt0aGlzLndpZHRoPVxubVswXX07ay5pZz1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLkIuY29uY2F0KHRoaXMuTik6dGhpcy5CfTtrLmFnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTn07ZnVuY3Rpb24gUmwoYSxiLGMpe3ZhciBkPWItYztyZXR1cm4gYVswXT09PWFbZF0mJmFbMV09PT1hW2QrMV0mJjM8KGItMCkvYz8hIW1mKGEsMCxiLGMpOiExfTt2YXIgU2w9bmV3IGlsKFwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7dmFyeWluZyBmbG9hdCBhO3ZhcnlpbmcgdmVjMiBhVmVydGV4O3ZhcnlpbmcgZmxvYXQgYzt1bmlmb3JtIGZsb2F0IG07dW5pZm9ybSB2ZWM0IG47dW5pZm9ybSB2ZWMyIG87dW5pZm9ybSBmbG9hdCBwO3ZvaWQgbWFpbih2b2lkKXtpZihhPjAuMCl7dmVjMiB3aW5kb3dDb29yZHM9dmVjMigoYVZlcnRleC54KzEuMCkvMi4wKm8ueCpwLChhVmVydGV4LnkrMS4wKS8yLjAqby55KnApO2lmKGxlbmd0aCh3aW5kb3dDb29yZHMtZ2xfRnJhZ0Nvb3JkLnh5KT5jKnApe2Rpc2NhcmQ7fX0gZ2xfRnJhZ0NvbG9yPW47ZmxvYXQgYWxwaGE9bi5hKm07aWYoYWxwaGE9PTAuMCl7ZGlzY2FyZDt9Z2xfRnJhZ0NvbG9yLmE9YWxwaGE7fVwiKSxUbD1uZXcgamwoXCJ2YXJ5aW5nIGZsb2F0IGE7dmFyeWluZyB2ZWMyIGFWZXJ0ZXg7dmFyeWluZyBmbG9hdCBjO2F0dHJpYnV0ZSB2ZWMyIGQ7YXR0cmlidXRlIHZlYzIgZTthdHRyaWJ1dGUgdmVjMiBmO2F0dHJpYnV0ZSBmbG9hdCBnO3VuaWZvcm0gbWF0NCBoO3VuaWZvcm0gbWF0NCBpO3VuaWZvcm0gbWF0NCBqO3VuaWZvcm0gZmxvYXQgazt1bmlmb3JtIGZsb2F0IGw7Ym9vbCBuZWFybHlFcXVhbHMoaW4gZmxvYXQgdmFsdWUsaW4gZmxvYXQgcmVmKXtmbG9hdCBlcHNpbG9uPTAuMDAwMDAwMDAwMDAxO3JldHVybiB2YWx1ZT49cmVmLWVwc2lsb24mJnZhbHVlPD1yZWYrZXBzaWxvbjt9dm9pZCBhbG9uZ05vcm1hbChvdXQgdmVjMiBvZmZzZXQsaW4gdmVjMiBuZXh0UCxpbiBmbG9hdCB0dXJuRGlyLGluIGZsb2F0IGRpcmVjdGlvbil7dmVjMiBkaXJWZWN0PW5leHRQLWU7dmVjMiBub3JtYWw9bm9ybWFsaXplKHZlYzIoLXR1cm5EaXIqZGlyVmVjdC55LHR1cm5EaXIqZGlyVmVjdC54KSk7b2Zmc2V0PWsvMi4wKm5vcm1hbCpkaXJlY3Rpb247fXZvaWQgbWl0ZXJVcChvdXQgdmVjMiBvZmZzZXQsb3V0IGZsb2F0IHJvdW5kLGluIGJvb2wgaXNSb3VuZCxpbiBmbG9hdCBkaXJlY3Rpb24pe2Zsb2F0IGhhbGZXaWR0aD1rLzIuMDt2ZWMyIHRhbmdlbnQ9bm9ybWFsaXplKG5vcm1hbGl6ZShmLWUpK25vcm1hbGl6ZShlLWQpKTt2ZWMyIG5vcm1hbD12ZWMyKC10YW5nZW50LnksdGFuZ2VudC54KTt2ZWMyIGRpclZlY3Q9Zi1lO3ZlYzIgdG1wTm9ybWFsPW5vcm1hbGl6ZSh2ZWMyKC1kaXJWZWN0LnksZGlyVmVjdC54KSk7ZmxvYXQgbWl0ZXJMZW5ndGg9YWJzKGhhbGZXaWR0aC9kb3Qobm9ybWFsLHRtcE5vcm1hbCkpO29mZnNldD1ub3JtYWwqZGlyZWN0aW9uKm1pdGVyTGVuZ3RoO3JvdW5kPTAuMDtpZihpc1JvdW5kKXtyb3VuZD0xLjA7fWVsc2UgaWYobWl0ZXJMZW5ndGg+bCtrKXtvZmZzZXQ9aGFsZldpZHRoKnRtcE5vcm1hbCpkaXJlY3Rpb247fX0gYm9vbCBtaXRlckRvd24ob3V0IHZlYzIgb2Zmc2V0LGluIHZlYzQgcHJvalBvcyxpbiBtYXQ0IG9mZnNldE1hdHJpeCxpbiBmbG9hdCBkaXJlY3Rpb24pe2Jvb2wgZGVnZW5lcmF0ZT1mYWxzZTt2ZWMyIHRhbmdlbnQ9bm9ybWFsaXplKG5vcm1hbGl6ZShmLWUpK25vcm1hbGl6ZShlLWQpKTt2ZWMyIG5vcm1hbD12ZWMyKC10YW5nZW50LnksdGFuZ2VudC54KTt2ZWMyIGRpclZlY3Q9ZC1lO3ZlYzIgdG1wTm9ybWFsPW5vcm1hbGl6ZSh2ZWMyKC1kaXJWZWN0LnksZGlyVmVjdC54KSk7dmVjMiBsb25nT2Zmc2V0LHNob3J0T2Zmc2V0LGxvbmdWZXJ0ZXg7dmVjNCBzaG9ydFByb2pWZXJ0ZXg7ZmxvYXQgaGFsZldpZHRoPWsvMi4wO2lmKGxlbmd0aChmLWUpPmxlbmd0aChkLWUpKXtsb25nT2Zmc2V0PXRtcE5vcm1hbCpkaXJlY3Rpb24qaGFsZldpZHRoO3Nob3J0T2Zmc2V0PW5vcm1hbGl6ZSh2ZWMyKGRpclZlY3QueSwtZGlyVmVjdC54KSkqZGlyZWN0aW9uKmhhbGZXaWR0aDtsb25nVmVydGV4PWY7c2hvcnRQcm9qVmVydGV4PWgqdmVjNChkLDAuMCwxLjApO31lbHNle3Nob3J0T2Zmc2V0PXRtcE5vcm1hbCpkaXJlY3Rpb24qaGFsZldpZHRoO2xvbmdPZmZzZXQ9bm9ybWFsaXplKHZlYzIoZGlyVmVjdC55LC1kaXJWZWN0LngpKSpkaXJlY3Rpb24qaGFsZldpZHRoO2xvbmdWZXJ0ZXg9ZDtzaG9ydFByb2pWZXJ0ZXg9aCp2ZWM0KGYsMC4wLDEuMCk7fXZlYzQgcDE9aCp2ZWM0KGxvbmdWZXJ0ZXgsMC4wLDEuMCkrb2Zmc2V0TWF0cml4KnZlYzQobG9uZ09mZnNldCwwLjAsMC4wKTt2ZWM0IHAyPXByb2pQb3Mrb2Zmc2V0TWF0cml4KnZlYzQobG9uZ09mZnNldCwwLjAsMC4wKTt2ZWM0IHAzPXNob3J0UHJvalZlcnRleCtvZmZzZXRNYXRyaXgqdmVjNCgtc2hvcnRPZmZzZXQsMC4wLDAuMCk7dmVjNCBwND1zaG9ydFByb2pWZXJ0ZXgrb2Zmc2V0TWF0cml4KnZlYzQoc2hvcnRPZmZzZXQsMC4wLDAuMCk7ZmxvYXQgZGVub209KHA0LnktcDMueSkqKHAyLngtcDEueCktKHA0LngtcDMueCkqKHAyLnktcDEueSk7ZmxvYXQgZmlyc3RVPSgocDQueC1wMy54KSoocDEueS1wMy55KS0ocDQueS1wMy55KSoocDEueC1wMy54KSkvZGVub207ZmxvYXQgc2Vjb25kVT0oKHAyLngtcDEueCkqKHAxLnktcDMueSktKHAyLnktcDEueSkqKHAxLngtcDMueCkpL2Rlbm9tO2Zsb2F0IGVwc2lsb249MC4wMDAwMDAwMDAwMDE7aWYoZmlyc3RVPmVwc2lsb24mJmZpcnN0VTwxLjAtZXBzaWxvbiYmc2Vjb25kVT5lcHNpbG9uJiZzZWNvbmRVPDEuMC1lcHNpbG9uKXtzaG9ydFByb2pWZXJ0ZXgueD1wMS54K2ZpcnN0VSoocDIueC1wMS54KTtzaG9ydFByb2pWZXJ0ZXgueT1wMS55K2ZpcnN0VSoocDIueS1wMS55KTtvZmZzZXQ9c2hvcnRQcm9qVmVydGV4Lnh5O2RlZ2VuZXJhdGU9dHJ1ZTt9ZWxzZXtmbG9hdCBtaXRlckxlbmd0aD1hYnMoaGFsZldpZHRoL2RvdChub3JtYWwsdG1wTm9ybWFsKSk7b2Zmc2V0PW5vcm1hbCpkaXJlY3Rpb24qbWl0ZXJMZW5ndGg7fXJldHVybiBkZWdlbmVyYXRlO312b2lkIHNxdWFyZUNhcChvdXQgdmVjMiBvZmZzZXQsb3V0IGZsb2F0IHJvdW5kLGluIGJvb2wgaXNSb3VuZCxpbiB2ZWMyIG5leHRQLGluIGZsb2F0IHR1cm5EaXIsaW4gZmxvYXQgZGlyZWN0aW9uKXtyb3VuZD0wLjA7dmVjMiBkaXJWZWN0PWUtbmV4dFA7dmVjMiBmaXJzdE5vcm1hbD1ub3JtYWxpemUoZGlyVmVjdCk7dmVjMiBzZWNvbmROb3JtYWw9dmVjMih0dXJuRGlyKmZpcnN0Tm9ybWFsLnkqZGlyZWN0aW9uLC10dXJuRGlyKmZpcnN0Tm9ybWFsLngqZGlyZWN0aW9uKTt2ZWMyIGh5cG90ZW51c2U9bm9ybWFsaXplKGZpcnN0Tm9ybWFsLXNlY29uZE5vcm1hbCk7dmVjMiBub3JtYWw9dmVjMih0dXJuRGlyKmh5cG90ZW51c2UueSpkaXJlY3Rpb24sLXR1cm5EaXIqaHlwb3RlbnVzZS54KmRpcmVjdGlvbik7ZmxvYXQgbGVuZ3RoPXNxcnQoYypjKjIuMCk7b2Zmc2V0PW5vcm1hbCpsZW5ndGg7aWYoaXNSb3VuZCl7cm91bmQ9MS4wO319IHZvaWQgbWFpbih2b2lkKXtib29sIGRlZ2VuZXJhdGU9ZmFsc2U7ZmxvYXQgZGlyZWN0aW9uPWZsb2F0KHNpZ24oZykpO21hdDQgb2Zmc2V0TWF0cml4PWkqajt2ZWMyIG9mZnNldDt2ZWM0IHByb2pQb3M9aCp2ZWM0KGUsMC4wLDEuMCk7Ym9vbCByb3VuZD1uZWFybHlFcXVhbHMobW9kKGcsMi4wKSwwLjApO2E9MC4wO2M9ay8yLjA7YVZlcnRleD1wcm9qUG9zLnh5O2lmKG5lYXJseUVxdWFscyhtb2QoZywzLjApLDAuMCl8fG5lYXJseUVxdWFscyhtb2QoZywxNy4wKSwwLjApKXthbG9uZ05vcm1hbChvZmZzZXQsZiwxLjAsZGlyZWN0aW9uKTt9ZWxzZSBpZihuZWFybHlFcXVhbHMobW9kKGcsNS4wKSwwLjApfHxuZWFybHlFcXVhbHMobW9kKGcsMTMuMCksMC4wKSl7YWxvbmdOb3JtYWwob2Zmc2V0LGQsLTEuMCxkaXJlY3Rpb24pO31lbHNlIGlmKG5lYXJseUVxdWFscyhtb2QoZywyMy4wKSwwLjApKXttaXRlclVwKG9mZnNldCxhLHJvdW5kLGRpcmVjdGlvbik7fWVsc2UgaWYobmVhcmx5RXF1YWxzKG1vZChnLDE5LjApLDAuMCkpe2RlZ2VuZXJhdGU9bWl0ZXJEb3duKG9mZnNldCxwcm9qUG9zLG9mZnNldE1hdHJpeCxkaXJlY3Rpb24pO31lbHNlIGlmKG5lYXJseUVxdWFscyhtb2QoZyw3LjApLDAuMCkpe3NxdWFyZUNhcChvZmZzZXQsYSxyb3VuZCxmLDEuMCxkaXJlY3Rpb24pO31lbHNlIGlmKG5lYXJseUVxdWFscyhtb2QoZywxMS4wKSwwLjApKXtzcXVhcmVDYXAob2Zmc2V0LGEscm91bmQsZCwtMS4wLGRpcmVjdGlvbik7fWlmKCFkZWdlbmVyYXRlKXt2ZWM0IG9mZnNldHM9b2Zmc2V0TWF0cml4KnZlYzQob2Zmc2V0LDAuMCwwLjApO2dsX1Bvc2l0aW9uPXByb2pQb3Mrb2Zmc2V0czt9ZWxzZXtnbF9Qb3NpdGlvbj12ZWM0KG9mZnNldCwwLjAsMS4wKTt9fVwiKTtmdW5jdGlvbiBVbChhLGIpe3RoaXMuZz1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwiaFwiKTt0aGlzLmk9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcImlcIik7dGhpcy5jPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJqXCIpO3RoaXMub2E9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcImtcIik7dGhpcy5PPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJsXCIpO3RoaXMuYT1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwibVwiKTt0aGlzLkM9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcIm5cIik7dGhpcy5UPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJvXCIpO3RoaXMucWE9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcInBcIik7dGhpcy5sPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImRcIik7dGhpcy5iPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImVcIik7dGhpcy5zPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImZcIik7dGhpcy5mPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImdcIil9O2Z1bmN0aW9uIFZsKGEsYil7cWwuY2FsbCh0aGlzLGEsYik7dGhpcy52PW51bGw7dGhpcy5vPVtdO3RoaXMubD1bXTt0aGlzLmM9e3N0cm9rZUNvbG9yOm51bGwsbGluZUNhcDp2b2lkIDAsbGluZURhc2g6bnVsbCxsaW5lRGFzaE9mZnNldDp2b2lkIDAsbGluZUpvaW46dm9pZCAwLGxpbmVXaWR0aDp2b2lkIDAsbWl0ZXJMaW1pdDp2b2lkIDAsdTohMX19dyhWbCxxbCk7XG5mdW5jdGlvbiBXbChhLGIsYyxkKXt2YXIgZSxmPWEuYS5sZW5ndGgsZz1hLmIubGVuZ3RoLGg9XCJiZXZlbFwiPT09YS5jLmxpbmVKb2luPzA6XCJtaXRlclwiPT09YS5jLmxpbmVKb2luPzE6MixsPVwiYnV0dFwiPT09YS5jLmxpbmVDYXA/MDpcInNxdWFyZVwiPT09YS5jLmxpbmVDYXA/MToyLG09UmwoYixjLGQpLG49ZyxwPTE7Zm9yKGU9MDtlPGM7ZSs9ZCl7dmFyIHE9Zi83O3ZhciByPXU7dmFyIHU9dnx8W2JbZV0sYltlKzFdXTtpZigwPT09ZSl7dmFyIHY9W2JbZStkXSxiW2UrZCsxXV07aWYoYy0wPT09MipkJiZqYyh1LHYpKWJyZWFrO2lmKG0pe3I9W2JbYy0yKmRdLGJbYy0yKmQrMV1dO3ZhciB6PXZ9ZWxzZXtsJiYoZj1YbChhLFswLDBdLHUsdixwKllsKmwsZiksZj1YbChhLFswLDBdLHUsdiwtcCpZbCpsLGYpLGEuYltnKytdPXErMixhLmJbZysrXT1xLGEuYltnKytdPXErMSxhLmJbZysrXT1xKzEsYS5iW2crK109cSszLGEuYltnKytdPXErMik7Zj1YbChhLFswLDBdLHUsdixwKlpsKlxuKGx8fDEpLGYpO2Y9WGwoYSxbMCwwXSx1LHYsLXAqWmwqKGx8fDEpLGYpO249Zi83LTE7Y29udGludWV9fWVsc2UgaWYoZT09PWMtZCl7bT92PXo6KHI9cnx8WzAsMF0sZj1YbChhLHIsdSxbMCwwXSxwKiRsKihsfHwxKSxmKSxmPVhsKGEscix1LFswLDBdLC1wKiRsKihsfHwxKSxmKSxhLmJbZysrXT1xLGEuYltnKytdPW4tMSxhLmJbZysrXT1uLGEuYltnKytdPW4sYS5iW2crK109cSsxLGEuYltnKytdPXEsbCYmKGY9WGwoYSxyLHUsWzAsMF0scCphbSpsLGYpLGY9WGwoYSxyLHUsWzAsMF0sLXAqYW0qbCxmKSxhLmJbZysrXT1xKzIsYS5iW2crK109cSxhLmJbZysrXT1xKzEsYS5iW2crK109cSsxLGEuYltnKytdPXErMyxhLmJbZysrXT1xKzIpKTticmVha31lbHNlIHY9W2JbZStkXSxiW2UrZCsxXV07dmFyIEE9d2woclswXSxyWzFdLHVbMF0sdVsxXSx2WzBdLHZbMV0pPy0xOjE7Zj1YbChhLHIsdSx2LEEqYm0qKGh8fDEpLGYpO2Y9WGwoYSxyLHUsdixBKmNtKihofHwxKSxmKTtmPVxuWGwoYSxyLHUsdiwtQSpkbSooaHx8MSksZik7MDxlJiYoYS5iW2crK109cSxhLmJbZysrXT1uLTEsYS5iW2crK109bixhLmJbZysrXT1xKzIsYS5iW2crK109cSxhLmJbZysrXT0wPHAqQT9uOm4tMSk7YS5iW2crK109cTthLmJbZysrXT1xKzI7YS5iW2crK109cSsxO249cSsyO3A9QTtoJiYoZj1YbChhLHIsdSx2LEEqZW0qaCxmKSxhLmJbZysrXT1xKzEsYS5iW2crK109cSszLGEuYltnKytdPXEpfW0mJihxPXF8fGYvNyxBPU1mKFtyWzBdLHJbMV0sdVswXSx1WzFdLHZbMF0sdlsxXV0sMCw2LDIpPzE6LTEsZj1YbChhLHIsdSx2LEEqYm0qKGh8fDEpLGYpLFhsKGEscix1LHYsLUEqZG0qKGh8fDEpLGYpLGEuYltnKytdPXEsYS5iW2crK109bi0xLGEuYltnKytdPW4sYS5iW2crK109cSsxLGEuYltnKytdPXEsYS5iW2crK109MDxwKkE/bjpuLTEpfVxuZnVuY3Rpb24gWGwoYSxiLGMsZCxlLGYpe2EuYVtmKytdPWJbMF07YS5hW2YrK109YlsxXTthLmFbZisrXT1jWzBdO2EuYVtmKytdPWNbMV07YS5hW2YrK109ZFswXTthLmFbZisrXT1kWzFdO2EuYVtmKytdPWU7cmV0dXJuIGZ9ZnVuY3Rpb24gZm0oYSxiLGMsZCl7Yy09YjtyZXR1cm4gYzwyKmQ/ITE6Yz09PTIqZD8hamMoW2FbYl0sYVtiKzFdXSxbYVtiK2RdLGFbYitkKzFdXSk6ITB9az1WbC5wcm90b3R5cGU7ay51Yz1mdW5jdGlvbihhLGIpe3ZhciBjPWEuZGEoKTthPWEucGEoKTtmbShjLDAsYy5sZW5ndGgsYSkmJihjPVVlKGMsMCxjLmxlbmd0aCxhLC10aGlzLm9yaWdpblswXSwtdGhpcy5vcmlnaW5bMV0pLHRoaXMuYy51JiYodGhpcy5sLnB1c2godGhpcy5iLmxlbmd0aCksdGhpcy5jLnU9ITEpLHRoaXMuZy5wdXNoKHRoaXMuYi5sZW5ndGgpLHRoaXMuaS5wdXNoKGIpLFdsKHRoaXMsYyxjLmxlbmd0aCxhKSl9O1xuay52Yz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuYi5sZW5ndGgsZD1hLnBiKCk7ZC51bnNoaWZ0KDApO3ZhciBlPWEuZGEoKTthPWEucGEoKTt2YXIgZjtpZigxPGQubGVuZ3RoKXt2YXIgZz0xO2ZvcihmPWQubGVuZ3RoO2c8ZjsrK2cpaWYoZm0oZSxkW2ctMV0sZFtnXSxhKSl7dmFyIGg9VWUoZSxkW2ctMV0sZFtnXSxhLC10aGlzLm9yaWdpblswXSwtdGhpcy5vcmlnaW5bMV0pO1dsKHRoaXMsaCxoLmxlbmd0aCxhKX19dGhpcy5iLmxlbmd0aD5jJiYodGhpcy5nLnB1c2goYyksdGhpcy5pLnB1c2goYiksdGhpcy5jLnUmJih0aGlzLmwucHVzaChjKSx0aGlzLmMudT0hMSkpfTtcbmZ1bmN0aW9uIGdtKGEsYixjLGQpe1JsKGIsYi5sZW5ndGgsZCl8fChiLnB1c2goYlswXSksYi5wdXNoKGJbMV0pKTtXbChhLGIsYi5sZW5ndGgsZCk7aWYoYy5sZW5ndGgpe3ZhciBlO2I9MDtmb3IoZT1jLmxlbmd0aDtiPGU7KytiKVJsKGNbYl0sY1tiXS5sZW5ndGgsZCl8fChjW2JdLnB1c2goY1tiXVswXSksY1tiXS5wdXNoKGNbYl1bMV0pKSxXbChhLGNbYl0sY1tiXS5sZW5ndGgsZCl9fWZ1bmN0aW9uIGhtKGEsYixjKXtjPXZvaWQgMD09PWM/YS5iLmxlbmd0aDpjO2EuZy5wdXNoKGMpO2EuaS5wdXNoKGIpO2EuYy51JiYoYS5sLnB1c2goYyksYS5jLnU9ITEpfWsuZ2I9ZnVuY3Rpb24oKXt0aGlzLnM9bmV3IHlsKHRoaXMuYSk7dGhpcy5qPW5ldyB5bCh0aGlzLmIpO3RoaXMuZy5wdXNoKHRoaXMuYi5sZW5ndGgpOzA9PT10aGlzLmwubGVuZ3RoJiYwPHRoaXMuby5sZW5ndGgmJih0aGlzLm89W10pO3RoaXMuYj10aGlzLmE9bnVsbH07XG5rLkRiPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucyxjPXRoaXMuajtyZXR1cm4gZnVuY3Rpb24oKXtCbChhLGIpO0JsKGEsYyl9fTtcbmsuQmY9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9Q2woYixTbCxUbCk7aWYodGhpcy52KXZhciBmPXRoaXMudjtlbHNlIHRoaXMudj1mPW5ldyBVbChhLGUpO2IuY2QoZSk7YS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShmLmwpO2EudmVydGV4QXR0cmliUG9pbnRlcihmLmwsMiw1MTI2LCExLDI4LDApO2EuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZi5iKTthLnZlcnRleEF0dHJpYlBvaW50ZXIoZi5iLDIsNTEyNiwhMSwyOCw4KTthLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGYucyk7YS52ZXJ0ZXhBdHRyaWJQb2ludGVyKGYucywyLDUxMjYsITEsMjgsMTYpO2EuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZi5mKTthLnZlcnRleEF0dHJpYlBvaW50ZXIoZi5mLDEsNTEyNiwhMSwyOCwyNCk7YS51bmlmb3JtMmZ2KGYuVCxjKTthLnVuaWZvcm0xZihmLnFhLGQpO3JldHVybiBmfTtcbmsuQ2Y9ZnVuY3Rpb24oYSxiKXthLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShiLmwpO2EuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGIuYik7YS5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoYi5zKTthLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShiLmYpfTtcbmsuT2Q9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS5nZXRQYXJhbWV0ZXIoYS5ERVBUSF9GVU5DKSxmPWEuZ2V0UGFyYW1ldGVyKGEuREVQVEhfV1JJVEVNQVNLKTtkfHwoYS5lbmFibGUoYS5ERVBUSF9URVNUKSxhLmRlcHRoTWFzayghMCksYS5kZXB0aEZ1bmMoYS5OT1RFUVVBTCkpO2lmKG5iKGMpKXt2YXIgZz10aGlzLmdbdGhpcy5nLmxlbmd0aC0xXTtmb3IoYz10aGlzLmwubGVuZ3RoLTE7MDw9YzstLWMpe3ZhciBoPXRoaXMubFtjXTt2YXIgbD10aGlzLm9bY107aW0odGhpcyxhLGxbMF0sbFsxXSxsWzJdKTtzbChhLGIsaCxnKTthLmNsZWFyKGEuREVQVEhfQlVGRkVSX0JJVCk7Zz1ofX1lbHNle3ZhciBtPXRoaXMuZy5sZW5ndGgtMjtsPWc9dGhpcy5nW20rMV07Zm9yKGg9dGhpcy5sLmxlbmd0aC0xOzA8PWg7LS1oKXt2YXIgbj10aGlzLm9baF07aW0odGhpcyxhLG5bMF0sblsxXSxuWzJdKTtmb3Iobj10aGlzLmxbaF07MDw9bSYmdGhpcy5nW21dPj1uOyl7dmFyIHA9dGhpcy5nW21dO1xudmFyIHE9dGhpcy5pW21dO3E9eChxKS50b1N0cmluZygpO2NbcV0mJihnIT09bCYmKHNsKGEsYixnLGwpLGEuY2xlYXIoYS5ERVBUSF9CVUZGRVJfQklUKSksbD1wKTttLS07Zz1wfWchPT1sJiYoc2woYSxiLGcsbCksYS5jbGVhcihhLkRFUFRIX0JVRkZFUl9CSVQpKTtnPWw9bn19ZHx8KGEuZGlzYWJsZShhLkRFUFRIX1RFU1QpLGEuY2xlYXIoYS5ERVBUSF9CVUZGRVJfQklUKSxhLmRlcHRoTWFzayhmKSxhLmRlcHRoRnVuYyhlKSl9O1xuay5FZT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGc7dmFyIGg9dGhpcy5nLmxlbmd0aC0yO3ZhciBsPXRoaXMuZ1toKzFdO2ZvcihmPXRoaXMubC5sZW5ndGgtMTswPD1mOy0tZil7dmFyIG09dGhpcy5vW2ZdO2ltKHRoaXMsYSxtWzBdLG1bMV0sbVsyXSk7Zm9yKGc9dGhpcy5sW2ZdOzA8PWgmJnRoaXMuZ1toXT49Zzspe209dGhpcy5nW2hdO3ZhciBuPXRoaXMuaVtoXTt2YXIgcD14KG4pLnRvU3RyaW5nKCk7aWYodm9pZCAwPT09Y1twXSYmbi5VKCkmJih2b2lkIDA9PT1lfHxoYihlLG4uVSgpLkcoKSkpJiYoYS5jbGVhcihhLkNPTE9SX0JVRkZFUl9CSVR8YS5ERVBUSF9CVUZGRVJfQklUKSxzbChhLGIsbSxsKSxsPWQobikpKXJldHVybiBsO2gtLTtsPW19fX07ZnVuY3Rpb24gaW0oYSxiLGMsZCxlKXtiLnVuaWZvcm00ZnYoYS52LkMsYyk7Yi51bmlmb3JtMWYoYS52Lm9hLGQpO2IudW5pZm9ybTFmKGEudi5PLGUpfVxuay5PYT1mdW5jdGlvbihhLGIpe2E9Yi5mO3RoaXMuYy5saW5lQ2FwPXZvaWQgMCE9PWE/YTpcInJvdW5kXCI7YT1iLmc7dGhpcy5jLmxpbmVEYXNoPWE/YTp1bDthPWIuaTt0aGlzLmMubGluZURhc2hPZmZzZXQ9YT9hOjA7YT1iLmo7dGhpcy5jLmxpbmVKb2luPXZvaWQgMCE9PWE/YTpcInJvdW5kXCI7YT1iLmE7YSBpbnN0YW5jZW9mIENhbnZhc0dyYWRpZW50fHxhIGluc3RhbmNlb2YgQ2FudmFzUGF0dGVybj9hPXZsOmE9dmkoYSkubWFwKGZ1bmN0aW9uKGEsYil7cmV0dXJuIDMhPWI/YS8yNTU6YX0pfHx2bDt2YXIgYz1iLmM7Yz12b2lkIDAhPT1jP2M6MTtiPWIubDtiPXZvaWQgMCE9PWI/YjoxMDt0aGlzLmMuc3Ryb2tlQ29sb3ImJmpjKHRoaXMuYy5zdHJva2VDb2xvcixhKSYmdGhpcy5jLmxpbmVXaWR0aD09PWMmJnRoaXMuYy5taXRlckxpbWl0PT09Ynx8KHRoaXMuYy51PSEwLHRoaXMuYy5zdHJva2VDb2xvcj1hLHRoaXMuYy5saW5lV2lkdGg9Yyx0aGlzLmMubWl0ZXJMaW1pdD1iLFxudGhpcy5vLnB1c2goW2EsYyxiXSkpfTt2YXIgWmw9MywkbD01LFlsPTcsYW09MTEsYm09MTMsY209MTcsZG09MTksZW09MjM7dmFyIGptPW5ldyBpbChcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O3VuaWZvcm0gdmVjNCBlO3VuaWZvcm0gZmxvYXQgZjt2b2lkIG1haW4odm9pZCl7Z2xfRnJhZ0NvbG9yPWU7ZmxvYXQgYWxwaGE9ZS5hKmY7aWYoYWxwaGE9PTAuMCl7ZGlzY2FyZDt9Z2xfRnJhZ0NvbG9yLmE9YWxwaGE7fVwiKSxrbT1uZXcgamwoXCJhdHRyaWJ1dGUgdmVjMiBhO3VuaWZvcm0gbWF0NCBiO3VuaWZvcm0gbWF0NCBjO3VuaWZvcm0gbWF0NCBkO3ZvaWQgbWFpbih2b2lkKXtnbF9Qb3NpdGlvbj1iKnZlYzQoYSwwLjAsMS4wKTt9XCIpO2Z1bmN0aW9uIGxtKGEsYil7dGhpcy5nPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJiXCIpO3RoaXMuaT1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwiY1wiKTt0aGlzLmM9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcImRcIik7dGhpcy5DPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJlXCIpO3RoaXMuYT1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwiZlwiKTt0aGlzLmI9YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiYVwiKX07ZnVuY3Rpb24gbW0oKXt0aGlzLmI9dGhpcy5hPXRoaXMuZz12b2lkIDA7dGhpcy5jPTB9ZnVuY3Rpb24gbm0oYSl7dmFyIGI9YS5iO2lmKGIpe3ZhciBjPWIubmV4dCxkPWIuRWI7YyYmKGMuRWI9ZCk7ZCYmKGQubmV4dD1jKTthLmI9Y3x8ZDthLmc9PT1hLmE/KGEuYj12b2lkIDAsYS5nPXZvaWQgMCxhLmE9dm9pZCAwKTphLmc9PT1iP2EuZz1hLmI6YS5hPT09YiYmKGEuYT1kP2EuYi5FYjphLmIpO2EuYy0tfX1mdW5jdGlvbiBvbShhKXthLmI9YS5nO2lmKGEuYilyZXR1cm4gYS5iLmRhdGF9ZnVuY3Rpb24gcG0oYSl7aWYoYS5iJiZhLmIubmV4dClyZXR1cm4gYS5iPWEuYi5uZXh0LGEuYi5kYXRhfWZ1bmN0aW9uIHFtKGEpe2lmKGEuYiYmYS5iLm5leHQpcmV0dXJuIGEuYi5uZXh0LmRhdGF9ZnVuY3Rpb24gcm0oYSl7aWYoYS5iJiZhLmIuRWIpcmV0dXJuIGEuYj1hLmIuRWIsYS5iLmRhdGF9ZnVuY3Rpb24gc20oYSl7aWYoYS5iJiZhLmIuRWIpcmV0dXJuIGEuYi5FYi5kYXRhfVxuZnVuY3Rpb24gdG0oYSl7aWYoYS5iKXJldHVybiBhLmIuZGF0YX1tbS5wcm90b3R5cGUuY29uY2F0PWZ1bmN0aW9uKGEpe2lmKGEuYil7aWYodGhpcy5iKXt2YXIgYj10aGlzLmIubmV4dDt0aGlzLmIubmV4dD1hLmc7YS5nLkViPXRoaXMuYjtiLkViPWEuYTthLmEubmV4dD1iO3RoaXMuYys9YS5jfWVsc2UgdGhpcy5iPWEuYix0aGlzLmc9YS5nLHRoaXMuYT1hLmEsdGhpcy5jPWEuYzthLmI9dm9pZCAwO2EuZz12b2lkIDA7YS5hPXZvaWQgMDthLmM9MH19O2Z1bmN0aW9uIHVtKCl7dGhpcy5hPXJqLkpjKHZvaWQgMCk7dGhpcy5iPXt9fWs9dW0ucHJvdG90eXBlO2suQ2E9ZnVuY3Rpb24oYSxiKXthPXtmYTphWzBdLGVhOmFbMV0sbGE6YVsyXSxrYTphWzNdLHZhbHVlOmJ9O3RoaXMuYS5DYShhKTt0aGlzLmJbeChiKV09YX07ay5sb2FkPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPUFycmF5KGIubGVuZ3RoKSxkPTAsZT1iLmxlbmd0aDtkPGU7ZCsrKXt2YXIgZj1hW2RdLGc9YltkXTtmPXtmYTpmWzBdLGVhOmZbMV0sbGE6ZlsyXSxrYTpmWzNdLHZhbHVlOmd9O2NbZF09Zjt0aGlzLmJbeChnKV09Zn10aGlzLmEubG9hZChjKX07ay5yZW1vdmU9ZnVuY3Rpb24oYSl7YT14KGEpO3ZhciBiPXRoaXMuYlthXTtkZWxldGUgdGhpcy5iW2FdO3JldHVybiBudWxsIT09dGhpcy5hLnJlbW92ZShiKX07XG5mdW5jdGlvbiB2bShhLGIsYyl7dmFyIGQ9YS5iW3goYyldO1NhKFtkLmZhLGQuZWEsZC5sYSxkLmthXSxiKXx8KGEucmVtb3ZlKGMpLGEuQ2EoYixjKSl9ZnVuY3Rpb24gd20oYSl7cmV0dXJuIGEuYS5hbGwoKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudmFsdWV9KX1mdW5jdGlvbiB4bShhLGIpe3JldHVybiBhLmEuc2VhcmNoKHtmYTpiWzBdLGVhOmJbMV0sbGE6YlsyXSxrYTpiWzNdfSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZhbHVlfSl9ay5mb3JFYWNoPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHltKHdtKHRoaXMpLGEsYil9O2Z1bmN0aW9uIHptKGEsYixjLGQpe3JldHVybiB5bSh4bShhLGIpLGMsZCl9ZnVuY3Rpb24geW0oYSxiLGMpe2Zvcih2YXIgZCxlPTAsZj1hLmxlbmd0aDtlPGYmJiEoZD1iLmNhbGwoYyxhW2VdKSk7ZSsrKTtyZXR1cm4gZH1rLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5hLmNsZWFyKCk7dGhpcy5iPXt9fTtcbmsuRz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmEuZGF0YTtyZXR1cm4gTmEoYi5mYSxiLmVhLGIubGEsYi5rYSxhKX07ay5jb25jYXQ9ZnVuY3Rpb24oYSl7dGhpcy5hLmxvYWQoYS5hLmFsbCgpKTtmb3IodmFyIGIgaW4gYS5iKXRoaXMuYltifDBdPWEuYltifDBdfTtmdW5jdGlvbiBBbShhLGIpe3FsLmNhbGwodGhpcyxhLGIpO3RoaXMuZj1uZXcgVmwoYSxiKTt0aGlzLnY9bnVsbDt0aGlzLm89W107dGhpcy5jPVtdO3RoaXMubD17ZmlsbENvbG9yOm51bGwsdTohMX19dyhBbSxxbCk7XG5mdW5jdGlvbiBCbShhLGIsYyxkKXt2YXIgZT1uZXcgbW0sZj1uZXcgdW07Q20oYSxiLGQsZSxmLCEwKTtiPURtKGUpO2lmKGMubGVuZ3RoKXt2YXIgZyxoPVtdO3ZhciBsPTA7Zm9yKGc9Yy5sZW5ndGg7bDxnOysrbCl7dmFyIG09e2xpc3Q6bmV3IG1tLEVjOnZvaWQgMCxnaDpuZXcgdW19O2gucHVzaChtKTtDbShhLGNbbF0sZCxtLmxpc3QsbS5naCwhMSk7RW0obS5saXN0LG0uZ2gsITApO20uRWM9RG0obS5saXN0KX1oLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5FY1swXT09PWEuRWNbMF0/YS5FY1sxXS1iLkVjWzFdOmIuRWNbMF0tYS5FY1swXX0pO2ZvcihsPTA7bDxoLmxlbmd0aDsrK2wpe2M9aFtsXS5saXN0O2c9ZD1vbShjKTtkb3tpZihGbShnLGYpLmxlbmd0aCl7dmFyIG49ITA7YnJlYWt9Zz1wbShjKX13aGlsZShkIT09Zyk7IW4mJkdtKGMsaFtsXS5FY1swXSxlLGJbMF0sZikmJihmLmNvbmNhdChoW2xdLmdoKSxFbShlLGYsITEpKX19ZWxzZSBFbShlLGYsITEpO0htKGEsXG5lLGYpfVxuZnVuY3Rpb24gQ20oYSxiLGMsZCxlLGYpe3ZhciBnLGg9YS5hLmxlbmd0aC8yLGw9W10sbT1bXTtpZihmPT09TWYoYiwwLGIubGVuZ3RoLGMpKXt2YXIgbj1mPUltKGEsYlswXSxiWzFdLGgrKyk7dmFyIHA9Yztmb3IoZz1iLmxlbmd0aDtwPGc7cCs9Yyl7dmFyIHE9SW0oYSxiW3BdLGJbcCsxXSxoKyspO20ucHVzaChKbShuLHEsZCkpO2wucHVzaChbTWF0aC5taW4obi54LHEueCksTWF0aC5taW4obi55LHEueSksTWF0aC5tYXgobi54LHEueCksTWF0aC5tYXgobi55LHEueSldKTtuPXF9fWVsc2UgZm9yKHA9Yi5sZW5ndGgtYyxuPWY9SW0oYSxiW3BdLGJbcCsxXSxoKyspLHAtPWMsZz0wO3A+PWc7cC09YylxPUltKGEsYltwXSxiW3ArMV0saCsrKSxtLnB1c2goSm0obixxLGQpKSxsLnB1c2goW01hdGgubWluKG4ueCxxLngpLE1hdGgubWluKG4ueSxxLnkpLE1hdGgubWF4KG4ueCxxLngpLE1hdGgubWF4KG4ueSxxLnkpXSksbj1xO20ucHVzaChKbShxLGYsZCkpO2wucHVzaChbTWF0aC5taW4obi54LHEueCksXG5NYXRoLm1pbihuLnkscS55KSxNYXRoLm1heChuLngscS54KSxNYXRoLm1heChuLnkscS55KV0pO2UubG9hZChsLG0pfWZ1bmN0aW9uIERtKGEpe3ZhciBiPW9tKGEpLGM9YixkPVtjLloueCxjLloueV07ZG8gYz1wbShhKSxjLloueD5kWzBdJiYoZD1bYy5aLngsYy5aLnldKTt3aGlsZShjIT09Yik7cmV0dXJuIGR9ZnVuY3Rpb24gRW0oYSxiLGMpe3ZhciBkPW9tKGEpLGU9ZCxmPXBtKGEpLGc9ITE7ZG97dmFyIGg9Yz93bChmLlgueCxmLlgueSxlLlgueCxlLlgueSxlLloueCxlLloueSk6d2woZS5aLngsZS5aLnksZS5YLngsZS5YLnksZi5YLngsZi5YLnkpO3ZvaWQgMD09PWg/KEttKGUsZixhLGIpLGc9ITAsZj09PWQmJihkPXFtKGEpKSxmPWUscm0oYSkpOmUuWC5LYiE9PWgmJihlLlguS2I9aCxnPSEwKTtlPWY7Zj1wbShhKX13aGlsZShlIT09ZCk7cmV0dXJuIGd9XG5mdW5jdGlvbiBHbShhLGIsYyxkLGUpe2Zvcih2YXIgZj1vbShhKTtmLlgueCE9PWI7KWY9cG0oYSk7Yj1mLlg7ZD17eDpkLHk6Yi55LHFiOi0xfTt2YXIgZz1JbmZpbml0eSxoO3ZhciBsPUZtKHtaOmIsWDpkfSxlLCEwKTt2YXIgbT0wO2ZvcihoPWwubGVuZ3RoO208aDsrK20pe3ZhciBuPWxbbV0scD1MbShiLGQsbi5aLG4uWCwhMCkscT1NYXRoLmFicyhiLngtcFswXSk7aWYocTxnJiZ2b2lkIDAhPT13bChiLngsYi55LG4uWi54LG4uWi55LG4uWC54LG4uWC55KSl7Zz1xO3ZhciByPXt4OnBbMF0seTpwWzFdLHFiOi0xfTtmPW59fWlmKEluZmluaXR5PT09ZylyZXR1cm4hMTtsPWYuWDtpZigwPGcmJihmPU1tKGIscixmLlgsZSksZi5sZW5ndGgpKWZvcihyPUluZmluaXR5LG09MCxoPWYubGVuZ3RoO208aDsrK20paWYoZz1mW21dLG49TWF0aC5hdGFuMihiLnktZy55LGQueC1nLngpLG48cnx8bj09PXImJmcueDxsLngpcj1uLGw9Zztmb3IoZj1vbShjKTtmLlgueCE9PWwueHx8Zi5YLnkhPT1cbmwueTspZj1wbShjKTtkPXt4OmIueCx5OmIueSxxYjpiLnFiLEtiOnZvaWQgMH07bT17eDpmLlgueCx5OmYuWC55LHFiOmYuWC5xYixLYjp2b2lkIDB9O3FtKGEpLlo9ZDtKbShiLGYuWCxhLGUpO0ptKG0sZCxhLGUpO2YuWD1tO2EuYiYmKGEuZz1hLmIsYS5hPWEuYi5FYik7Yy5jb25jYXQoYSk7cmV0dXJuITB9XG5mdW5jdGlvbiBIbShhLGIsYyl7Zm9yKHZhciBkPSExLGU9Tm0oYixjKTszPGIuYzspaWYoZSl7aWYoIU9tKGEsYixjLGUsZCkmJiFFbShiLGMsZCkmJiFQbShhLGIsYywhMCkpYnJlYWt9ZWxzZSBpZighT20oYSxiLGMsZSxkKSYmIUVtKGIsYyxkKSYmIVBtKGEsYixjKSlpZihlPU5tKGIsYykpe2Q9Yjt2YXIgZj0yKmQuYyxnPUFycmF5KGYpLGg9b20oZCksbD1oLG09MDtkbyBnW20rK109bC5aLngsZ1ttKytdPWwuWi55LGw9cG0oZCk7d2hpbGUobCE9PWgpO2Q9IU1mKGcsMCxmLDIpO0VtKGIsYyxkKX1lbHNle2U9YTtkPWI7Zj1nPW9tKGQpO2Rve2g9Rm0oZixjKTtpZihoLmxlbmd0aCl7Zz1oWzBdO2g9TG0oZi5aLGYuWCxnLlosZy5YKTtoPUltKGUsaFswXSxoWzFdLGUuYS5sZW5ndGgvMik7bD1uZXcgbW07bT1uZXcgdW07Sm0oaCxmLlgsbCxtKTtmLlg9aDt2bShjLFtNYXRoLm1pbihmLloueCxoLngpLE1hdGgubWluKGYuWi55LGgueSksTWF0aC5tYXgoZi5aLngsaC54KSxNYXRoLm1heChmLloueSxcbmgueSldLGYpO2ZvcihmPXBtKGQpO2YhPT1nOylKbShmLlosZi5YLGwsbSksYy5yZW1vdmUoZiksbm0oZCksZj10bShkKTtKbShnLlosaCxsLG0pO2cuWj1oO3ZtKGMsW01hdGgubWluKGcuWC54LGgueCksTWF0aC5taW4oZy5YLnksaC55KSxNYXRoLm1heChnLlgueCxoLngpLE1hdGgubWF4KGcuWC55LGgueSldLGcpO0VtKGQsYywhMSk7SG0oZSxkLGMpO0VtKGwsbSwhMSk7SG0oZSxsLG0pO2JyZWFrfWY9cG0oZCl9d2hpbGUoZiE9PWcpO2JyZWFrfTM9PT1iLmMmJihlPWEuYi5sZW5ndGgsYS5iW2UrK109c20oYikuWi5xYixhLmJbZSsrXT10bShiKS5aLnFiLGEuYltlKytdPXFtKGIpLloucWIpfVxuZnVuY3Rpb24gT20oYSxiLGMsZCxlKXt2YXIgZj1hLmIubGVuZ3RoLGc9b20oYiksaD1zbShiKSxsPWcsbT1wbShiKSxuPXFtKGIpLHA9ITE7ZG97dmFyIHE9bC5aO3ZhciByPWwuWDt2YXIgdT1tLlg7aWYoITE9PT1yLktiKXt2YXIgdj1kPzA9PT1NbShxLHIsdSxjLCEwKS5sZW5ndGg6ZT9RbShuLlgsdSxyLHEsaC5aKTpRbShoLloscSxyLHUsbi5YKTshZCYmMCE9PUZtKHtaOnEsWDp1fSxjKS5sZW5ndGh8fCF2fHwhZCYmITEhPT1xLktiJiYhMSE9PXUuS2ImJk1mKFtoLloueCxoLloueSxxLngscS55LHIueCxyLnksdS54LHUueSxuLlgueCxuLlgueV0sMCwxMCwyKSE9PSFlfHwoYS5iW2YrK109cS5xYixhLmJbZisrXT1yLnFiLGEuYltmKytdPXUucWIsS20obCxtLGIsYyksbT09PWcmJihnPW4pLHA9ITApfWg9c20oYik7bD10bShiKTttPXBtKGIpO249cW0oYil9d2hpbGUobCE9PWcmJjM8Yi5jKTtyZXR1cm4gcH1cbmZ1bmN0aW9uIFBtKGEsYixjLGQpe3ZhciBlPW9tKGIpO3BtKGIpO3ZhciBmPWUsZz1wbShiKSxoPSExO2Rve3ZhciBsPUxtKGYuWixmLlgsZy5aLGcuWCxkKTtpZihsKXtoPWEuYi5sZW5ndGg7dmFyIG09YS5hLmxlbmd0aC8yLG49cm0oYik7bm0oYik7Yy5yZW1vdmUobik7dmFyIHA9bj09PWU7ZD8obFswXT09PWYuWi54JiZsWzFdPT09Zi5aLnk/KHJtKGIpLGw9Zi5aLGcuWj1sLGMucmVtb3ZlKGYpLHA9cHx8Zj09PWUpOihsPWcuWCxmLlg9bCxjLnJlbW92ZShnKSxwPXB8fGc9PT1lKSxubShiKSk6KGw9SW0oYSxsWzBdLGxbMV0sbSksZi5YPWwsZy5aPWwsdm0oYyxbTWF0aC5taW4oZi5aLngsZi5YLngpLE1hdGgubWluKGYuWi55LGYuWC55KSxNYXRoLm1heChmLloueCxmLlgueCksTWF0aC5tYXgoZi5aLnksZi5YLnkpXSxmKSx2bShjLFtNYXRoLm1pbihnLloueCxnLlgueCksTWF0aC5taW4oZy5aLnksZy5YLnkpLE1hdGgubWF4KGcuWi54LGcuWC54KSxNYXRoLm1heChnLloueSxcbmcuWC55KV0sZykpO2EuYltoKytdPW4uWi5xYjthLmJbaCsrXT1uLlgucWI7YS5iW2grK109bC5xYjtoPSEwO2lmKHApYnJlYWt9Zj1zbShiKTtnPXBtKGIpfXdoaWxlKGYhPT1lKTtyZXR1cm4gaH1mdW5jdGlvbiBObShhLGIpe3ZhciBjPW9tKGEpLGQ9Yztkb3tpZihGbShkLGIpLmxlbmd0aClyZXR1cm4hMTtkPXBtKGEpfXdoaWxlKGQhPT1jKTtyZXR1cm4hMH1mdW5jdGlvbiBJbShhLGIsYyxkKXt2YXIgZT1hLmEubGVuZ3RoO2EuYVtlKytdPWI7YS5hW2UrK109YztyZXR1cm57eDpiLHk6YyxxYjpkLEtiOnZvaWQgMH19XG5mdW5jdGlvbiBKbShhLGIsYyxkKXt2YXIgZT17WjphLFg6Yn0sZj17RWI6dm9pZCAwLG5leHQ6dm9pZCAwLGRhdGE6ZX0sZz1jLmI7aWYoZyl7dmFyIGg9Zy5uZXh0O2YuRWI9ZztmLm5leHQ9aDtnLm5leHQ9ZjtoJiYoaC5FYj1mKTtnPT09Yy5hJiYoYy5hPWYpfWVsc2UgYy5nPWYsYy5hPWYsZi5uZXh0PWYsZi5FYj1mO2MuYj1mO2MuYysrO2QmJmQuQ2EoW01hdGgubWluKGEueCxiLngpLE1hdGgubWluKGEueSxiLnkpLE1hdGgubWF4KGEueCxiLngpLE1hdGgubWF4KGEueSxiLnkpXSxlKTtyZXR1cm4gZX1mdW5jdGlvbiBLbShhLGIsYyxkKXt0bShjKT09PWImJihubShjKSxhLlg9Yi5YLGQucmVtb3ZlKGIpLHZtKGQsW01hdGgubWluKGEuWi54LGEuWC54KSxNYXRoLm1pbihhLloueSxhLlgueSksTWF0aC5tYXgoYS5aLngsYS5YLngpLE1hdGgubWF4KGEuWi55LGEuWC55KV0sYSkpfVxuZnVuY3Rpb24gTW0oYSxiLGMsZCxlKXt2YXIgZixnLGg9W10sbD14bShkLFtNYXRoLm1pbihhLngsYi54LGMueCksTWF0aC5taW4oYS55LGIueSxjLnkpLE1hdGgubWF4KGEueCxiLngsYy54KSxNYXRoLm1heChhLnksYi55LGMueSldKTtkPTA7Zm9yKGY9bC5sZW5ndGg7ZDxmOysrZClmb3IoZyBpbiBsW2RdKXt2YXIgbT1sW2RdW2ddO1wib2JqZWN0XCIhPT10eXBlb2YgbXx8ZSYmIW0uS2J8fG0ueD09PWEueCYmbS55PT09YS55fHxtLng9PT1iLngmJm0ueT09PWIueXx8bS54PT09Yy54JiZtLnk9PT1jLnl8fC0xIT09aC5pbmRleE9mKG0pfHwhR2YoW2EueCxhLnksYi54LGIueSxjLngsYy55XSwwLDYsMixtLngsbS55KXx8aC5wdXNoKG0pfXJldHVybiBofVxuZnVuY3Rpb24gRm0oYSxiLGMpe3ZhciBkPWEuWixlPWEuWDtiPXhtKGIsW01hdGgubWluKGQueCxlLngpLE1hdGgubWluKGQueSxlLnkpLE1hdGgubWF4KGQueCxlLngpLE1hdGgubWF4KGQueSxlLnkpXSk7dmFyIGY9W10sZzt2YXIgaD0wO2ZvcihnPWIubGVuZ3RoO2g8ZzsrK2gpe3ZhciBsPWJbaF07YSE9PWwmJihjfHxsLlohPT1lfHxsLlghPT1kKSYmTG0oZCxlLGwuWixsLlgsYykmJmYucHVzaChsKX1yZXR1cm4gZn1cbmZ1bmN0aW9uIExtKGEsYixjLGQsZSl7dmFyIGY9KGQueS1jLnkpKihiLngtYS54KS0oZC54LWMueCkqKGIueS1hLnkpO2lmKDAhPT1mJiYoZD0oKGQueC1jLngpKihhLnktYy55KS0oZC55LWMueSkqKGEueC1jLngpKS9mLGM9KChiLngtYS54KSooYS55LWMueSktKGIueS1hLnkpKihhLngtYy54KSkvZiwhZSYmZD54bCYmZDwxLXhsJiZjPnhsJiZjPDEteGx8fGUmJjA8PWQmJjE+PWQmJjA8PWMmJjE+PWMpKXJldHVyblthLngrZCooYi54LWEueCksYS55K2QqKGIueS1hLnkpXX1cbmZ1bmN0aW9uIFFtKGEsYixjLGQsZSl7aWYodm9pZCAwPT09Yi5LYnx8dm9pZCAwPT09ZC5LYilyZXR1cm4hMTt2YXIgZj0oYy54LWQueCkqKGIueS1kLnkpPihjLnktZC55KSooYi54LWQueCk7ZT0oZS54LWQueCkqKGIueS1kLnkpPChlLnktZC55KSooYi54LWQueCk7YT0oYS54LWIueCkqKGQueS1iLnkpPihhLnktYi55KSooZC54LWIueCk7Yz0oYy54LWIueCkqKGQueS1iLnkpPChjLnktYi55KSooZC54LWIueCk7Yj1iLktiP2N8fGE6YyYmYTtyZXR1cm4oZC5LYj9lfHxmOmUmJmYpJiZifWs9QW0ucHJvdG90eXBlO1xuay54Yz1mdW5jdGlvbihhLGIpe3ZhciBjPWEudGQoKSxkPWEucGEoKSxlPXRoaXMuYi5sZW5ndGgsZj10aGlzLmYuYi5sZW5ndGg7YT1hLmRhKCk7dmFyIGcsaCxsO3ZhciBtPWg9MDtmb3IoZz1jLmxlbmd0aDttPGc7KyttKXt2YXIgbj1jW21dO2lmKDA8bi5sZW5ndGgpe3ZhciBwPVVlKGEsaCxuWzBdLGQsLXRoaXMub3JpZ2luWzBdLC10aGlzLm9yaWdpblsxXSk7aWYocC5sZW5ndGgpe3ZhciBxPVtdO2g9MTtmb3IobD1uLmxlbmd0aDtoPGw7KytoKWlmKG5baF0hPT1uW2gtMV0pe3ZhciByPVVlKGEsbltoLTFdLG5baF0sZCwtdGhpcy5vcmlnaW5bMF0sLXRoaXMub3JpZ2luWzFdKTtxLnB1c2gocil9Z20odGhpcy5mLHAscSxkKTtCbSh0aGlzLHAscSxkKX19aD1uW24ubGVuZ3RoLTFdfXRoaXMuYi5sZW5ndGg+ZSYmKHRoaXMuZy5wdXNoKGUpLHRoaXMuaS5wdXNoKGIpLHRoaXMubC51JiYodGhpcy5jLnB1c2goZSksdGhpcy5sLnU9ITEpKTt0aGlzLmYuYi5sZW5ndGg+ZiYmaG0odGhpcy5mLFxuYixmKX07ay56Yz1mdW5jdGlvbihhLGIpe3ZhciBjPWEucGIoKSxkPWEucGEoKTtpZigwPGMubGVuZ3RoKXthPWEuZGEoKS5tYXAoTnVtYmVyKTt2YXIgZT1VZShhLDAsY1swXSxkLC10aGlzLm9yaWdpblswXSwtdGhpcy5vcmlnaW5bMV0pO2lmKGUubGVuZ3RoKXt2YXIgZj1bXSxnO3ZhciBoPTE7Zm9yKGc9Yy5sZW5ndGg7aDxnOysraClpZihjW2hdIT09Y1toLTFdKXt2YXIgbD1VZShhLGNbaC0xXSxjW2hdLGQsLXRoaXMub3JpZ2luWzBdLC10aGlzLm9yaWdpblsxXSk7Zi5wdXNoKGwpfXRoaXMuZy5wdXNoKHRoaXMuYi5sZW5ndGgpO3RoaXMuaS5wdXNoKGIpO3RoaXMubC51JiYodGhpcy5jLnB1c2godGhpcy5iLmxlbmd0aCksdGhpcy5sLnU9ITEpO2htKHRoaXMuZixiKTtnbSh0aGlzLmYsZSxmLGQpO0JtKHRoaXMsZSxmLGQpfX19O1xuay5nYj1mdW5jdGlvbihhKXt0aGlzLnM9bmV3IHlsKHRoaXMuYSk7dGhpcy5qPW5ldyB5bCh0aGlzLmIpO3RoaXMuZy5wdXNoKHRoaXMuYi5sZW5ndGgpO3RoaXMuZi5nYihhKTswPT09dGhpcy5jLmxlbmd0aCYmMDx0aGlzLm8ubGVuZ3RoJiYodGhpcy5vPVtdKTt0aGlzLmI9dGhpcy5hPW51bGx9O2suRGI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zLGM9dGhpcy5qLGQ9dGhpcy5mLkRiKGEpO3JldHVybiBmdW5jdGlvbigpe0JsKGEsYik7QmwoYSxjKTtkKCl9fTtrLkJmPWZ1bmN0aW9uKGEsYil7dmFyIGM9Q2woYixqbSxrbSk7aWYodGhpcy52KXZhciBkPXRoaXMudjtlbHNlIHRoaXMudj1kPW5ldyBsbShhLGMpO2IuY2QoYyk7YS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShkLmIpO2EudmVydGV4QXR0cmliUG9pbnRlcihkLmIsMiw1MTI2LCExLDgsMCk7cmV0dXJuIGR9O2suQ2Y9ZnVuY3Rpb24oYSxiKXthLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShiLmIpfTtcbmsuT2Q9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS5nZXRQYXJhbWV0ZXIoYS5ERVBUSF9GVU5DKSxmPWEuZ2V0UGFyYW1ldGVyKGEuREVQVEhfV1JJVEVNQVNLKTtkfHwoYS5lbmFibGUoYS5ERVBUSF9URVNUKSxhLmRlcHRoTWFzayghMCksYS5kZXB0aEZ1bmMoYS5OT1RFUVVBTCkpO2lmKG5iKGMpKXt2YXIgZz10aGlzLmdbdGhpcy5nLmxlbmd0aC0xXTtmb3IoYz10aGlzLmMubGVuZ3RoLTE7MDw9YzstLWMpe3ZhciBoPXRoaXMuY1tjXTt2YXIgbD10aGlzLm9bY107YS51bmlmb3JtNGZ2KHRoaXMudi5DLGwpO3NsKGEsYixoLGcpO2c9aH19ZWxzZXt2YXIgbT10aGlzLmcubGVuZ3RoLTI7bD1nPXRoaXMuZ1ttKzFdO2ZvcihoPXRoaXMuYy5sZW5ndGgtMTswPD1oOy0taCl7dmFyIG49dGhpcy5vW2hdO2EudW5pZm9ybTRmdih0aGlzLnYuQyxuKTtmb3Iobj10aGlzLmNbaF07MDw9bSYmdGhpcy5nW21dPj1uOyl7dmFyIHA9dGhpcy5nW21dO3ZhciBxPXRoaXMuaVttXTtxPXgocSkudG9TdHJpbmcoKTtcbmNbcV0mJihnIT09bCYmKHNsKGEsYixnLGwpLGEuY2xlYXIoYS5ERVBUSF9CVUZGRVJfQklUKSksbD1wKTttLS07Zz1wfWchPT1sJiYoc2woYSxiLGcsbCksYS5jbGVhcihhLkRFUFRIX0JVRkZFUl9CSVQpKTtnPWw9bn19ZHx8KGEuZGlzYWJsZShhLkRFUFRIX1RFU1QpLGEuY2xlYXIoYS5ERVBUSF9CVUZGRVJfQklUKSxhLmRlcHRoTWFzayhmKSxhLmRlcHRoRnVuYyhlKSl9O1xuay5FZT1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGc7dmFyIGg9dGhpcy5nLmxlbmd0aC0yO3ZhciBsPXRoaXMuZ1toKzFdO2ZvcihmPXRoaXMuYy5sZW5ndGgtMTswPD1mOy0tZil7dmFyIG09dGhpcy5vW2ZdO2EudW5pZm9ybTRmdih0aGlzLnYuQyxtKTtmb3IoZz10aGlzLmNbZl07MDw9aCYmdGhpcy5nW2hdPj1nOyl7bT10aGlzLmdbaF07dmFyIG49dGhpcy5pW2hdO3ZhciBwPXgobikudG9TdHJpbmcoKTtpZih2b2lkIDA9PT1jW3BdJiZuLlUoKSYmKHZvaWQgMD09PWV8fGhiKGUsbi5VKCkuRygpKSkmJihhLmNsZWFyKGEuQ09MT1JfQlVGRkVSX0JJVHxhLkRFUFRIX0JVRkZFUl9CSVQpLHNsKGEsYixtLGwpLGw9ZChuKSkpcmV0dXJuIGw7aC0tO2w9bX19fTtcbmsuT2E9ZnVuY3Rpb24oYSxiKXthPWE/YS5iOlswLDAsMCwwXTthIGluc3RhbmNlb2YgQ2FudmFzR3JhZGllbnR8fGEgaW5zdGFuY2VvZiBDYW52YXNQYXR0ZXJuP2E9dGw6YT12aShhKS5tYXAoZnVuY3Rpb24oYSxiKXtyZXR1cm4gMyE9Yj9hLzI1NTphfSl8fHRsO3RoaXMubC5maWxsQ29sb3ImJmpjKGEsdGhpcy5sLmZpbGxDb2xvcil8fCh0aGlzLmwuZmlsbENvbG9yPWEsdGhpcy5sLnU9ITAsdGhpcy5vLnB1c2goYSkpO2I/dGhpcy5mLk9hKG51bGwsYik6dGhpcy5mLk9hKG51bGwsbmV3IEFrKHtjb2xvcjpbMCwwLDAsMF0sbGluZVdpZHRoOjB9KSl9O2Z1bmN0aW9uIFJtKGEsYil7dGhpcy5iPWI7dGhpcy5hPVt7eDowLHk6MCx3aWR0aDphLGhlaWdodDphfV07dGhpcy5jPXt9O3RoaXMuZz1oZyhhLGEpO3RoaXMuaT10aGlzLmcuY2FudmFzfVJtLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY1thXXx8bnVsbH07XG5SbS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY7dmFyIGc9MDtmb3IoZj10aGlzLmEubGVuZ3RoO2c8ZjsrK2cpe3ZhciBoPXRoaXMuYVtnXTtpZihoLndpZHRoPj1iK3RoaXMuYiYmaC5oZWlnaHQ+PWMrdGhpcy5iKXJldHVybiBmPXtvZmZzZXRYOmgueCt0aGlzLmIsb2Zmc2V0WTpoLnkrdGhpcy5iLGltYWdlOnRoaXMuaX0sdGhpcy5jW2FdPWYsZC5jYWxsKGUsdGhpcy5nLGgueCt0aGlzLmIsaC55K3RoaXMuYiksYT1nLGIrPXRoaXMuYixkPWMrdGhpcy5iLGgud2lkdGgtYj5oLmhlaWdodC1kPyhjPXt4OmgueCtiLHk6aC55LHdpZHRoOmgud2lkdGgtYixoZWlnaHQ6aC5oZWlnaHR9LGI9e3g6aC54LHk6aC55K2Qsd2lkdGg6YixoZWlnaHQ6aC5oZWlnaHQtZH0sU20odGhpcyxhLGMsYikpOihjPXt4OmgueCtiLHk6aC55LHdpZHRoOmgud2lkdGgtYixoZWlnaHQ6ZH0sYj17eDpoLngseTpoLnkrZCx3aWR0aDpoLndpZHRoLGhlaWdodDpoLmhlaWdodC1kfSxcblNtKHRoaXMsYSxjLGIpKSxmfXJldHVybiBudWxsfTtmdW5jdGlvbiBTbShhLGIsYyxkKXtiPVtiLDFdOzA8Yy53aWR0aCYmMDxjLmhlaWdodCYmYi5wdXNoKGMpOzA8ZC53aWR0aCYmMDxkLmhlaWdodCYmYi5wdXNoKGQpO2EuYS5zcGxpY2UuYXBwbHkoYS5hLGIpfTtmdW5jdGlvbiBUbShhKXthPWF8fHt9O3RoaXMuYT12b2lkIDAhPT1hLmluaXRpYWxTaXplP2EuaW5pdGlhbFNpemU6MjU2O3RoaXMuZz12b2lkIDAhPT1hLm1heFNpemU/YS5tYXhTaXplOnZvaWQgMCE9PWJhP2JhOjIwNDg7dGhpcy5iPXZvaWQgMCE9PWEuc3BhY2U/YS5zcGFjZToxO3RoaXMuZj1bbmV3IFJtKHRoaXMuYSx0aGlzLmIpXTt0aGlzLmM9dGhpcy5hO3RoaXMuaT1bbmV3IFJtKHRoaXMuYyx0aGlzLmIpXX1mdW5jdGlvbiBVbShhLGIpe3ZhciBjO3ZhciBkPTA7Zm9yKGM9YS5sZW5ndGg7ZDxjOysrZCl7dmFyIGU9YVtkXTtpZihlPWUuZ2V0KGIpKXJldHVybiBlfXJldHVybiBudWxsfWZ1bmN0aW9uIFZtKGEsYil7cmV0dXJue29mZnNldFg6YS5vZmZzZXRYLG9mZnNldFk6YS5vZmZzZXRZLGltYWdlOmEuaW1hZ2UsQm06Yi5pbWFnZX19XG5UbS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtpZihiK3RoaXMuYj50aGlzLmd8fGMrdGhpcy5iPnRoaXMuZylyZXR1cm4gbnVsbDtkPVdtKHRoaXMsITEsYSxiLGMsZCxmKTtpZighZClyZXR1cm4gbnVsbDthPVdtKHRoaXMsITAsYSxiLGMsdm9pZCAwIT09ZT9lOmVhLGYpO3JldHVybiBWbShkLGEpfTtmdW5jdGlvbiBXbShhLGIsYyxkLGUsZixnKXt2YXIgaD1iP2EuaTphLmYsbDt2YXIgbT0wO2ZvcihsPWgubGVuZ3RoO208bDsrK20pe3ZhciBuPWhbbV07aWYobj1uLmFkZChjLGQsZSxmLGcpKXJldHVybiBuO258fG0hPT1sLTF8fChiPyhuPU1hdGgubWluKDIqYS5jLGEuZyksYS5jPW4pOihuPU1hdGgubWluKDIqYS5hLGEuZyksYS5hPW4pLG49bmV3IFJtKG4sYS5iKSxoLnB1c2gobiksKytsKX1yZXR1cm4gbnVsbH07ZnVuY3Rpb24gWG0oYSxiKXtObC5jYWxsKHRoaXMsYSxiKTt0aGlzLmM9W107dGhpcy51YT1bXTt0aGlzLlViPWhnKDAsMCkuY2FudmFzO3RoaXMuTj17c3Ryb2tlQ29sb3I6bnVsbCxsaW5lQ2FwOnZvaWQgMCxsaW5lRGFzaDpudWxsLGxpbmVEYXNoT2Zmc2V0OnZvaWQgMCxsaW5lSm9pbjp2b2lkIDAsbGluZVdpZHRoOjAsbWl0ZXJMaW1pdDp2b2lkIDAsZmlsbENvbG9yOm51bGwsZm9udDp2b2lkIDAsc2NhbGU6dm9pZCAwfTt0aGlzLnRhPVwiXCI7dGhpcy5jYT10aGlzLiQ9dGhpcy5yYT10aGlzLmFiPXZvaWQgMDt0aGlzLkI9e307dGhpcy5sPXZvaWQgMDt0aGlzLm9wYWNpdHk9dGhpcy5zY2FsZT0xfXcoWG0sTmwpO2s9WG0ucHJvdG90eXBlO1xuay5XYj1mdW5jdGlvbihhLGIpe2lmKHRoaXMudGEpe3ZhciBjPW51bGwsZD0yLGU9Mjtzd2l0Y2goYS5TKCkpe2Nhc2UgXCJQb2ludFwiOmNhc2UgXCJNdWx0aVBvaW50XCI6Yz1hLmRhKCk7ZD1jLmxlbmd0aDtlPWEucGEoKTticmVhaztjYXNlIFwiQ2lyY2xlXCI6Yz1hLnhhKCk7YnJlYWs7Y2FzZSBcIkxpbmVTdHJpbmdcIjpjPWEuRmUoKTticmVhaztjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6Yz1hLkdlKCk7ZD1jLmxlbmd0aDticmVhaztjYXNlIFwiUG9seWdvblwiOmM9YS5UZCgpO2JyZWFrO2Nhc2UgXCJNdWx0aVBvbHlnb25cIjpjPUppKGEpLGQ9Yy5sZW5ndGh9dGhpcy5nLnB1c2godGhpcy5iLmxlbmd0aCk7dGhpcy5pLnB1c2goYik7YT10aGlzLmw7Yj10aGlzLnRhLnNwbGl0KFwiXFxuXCIpO3ZhciBmPVltKHRoaXMsYiksZyxoLGw9TWF0aC5yb3VuZChmWzBdKnRoaXMuYWItdGhpcy4kKSxtPU1hdGgucm91bmQoZlsxXSp0aGlzLnJhLXRoaXMuY2EpLG49dGhpcy5OLmxpbmVXaWR0aC8yKnRoaXMuTi5zY2FsZTtcbmY9MDtmb3IoZz1iLmxlbmd0aDtmPGc7KytmKXt2YXIgcD0wO3ZhciBxPWEuaGVpZ2h0KmY7dmFyIHI9YltmXS5zcGxpdChcIlwiKTt2YXIgdT0wO2ZvcihoPXIubGVuZ3RoO3U8aDsrK3Upe3ZhciB2PWEuQmg7dmFyIHo9clt1XSxBPVVtKHYuZix6KTtBPyh2PVVtKHYuaSx6KSx2PVZtKEEsdikpOnY9bnVsbDtpZih2KXtBPXYuaW1hZ2U7dGhpcy5EPWwtcDt0aGlzLkM9bS1xO3RoaXMuVD0wPT09dT92Lm9mZnNldFgtbjp2Lm9mZnNldFg7dGhpcy5PPXYub2Zmc2V0WTt0aGlzLmhlaWdodD1hLmhlaWdodDt0aGlzLndpZHRoPTA9PT11fHx1PT09ci5sZW5ndGgtMT9hLndpZHRoW3JbdV1dK246YS53aWR0aFtyW3VdXTt0aGlzLm9hPUEuaGVpZ2h0O3RoaXMucWE9QS53aWR0aDswPT09dGhpcy5jLmxlbmd0aD90aGlzLmMucHVzaChBKToodj10aGlzLmNbdGhpcy5jLmxlbmd0aC0xXSx4KHYpIT14KEEpJiYodGhpcy52LnB1c2godGhpcy5iLmxlbmd0aCksdGhpcy5jLnB1c2goQSkpKTt2PWM7XG56PWQ7dmFyIEU9ZTtmb3IoQT0wO0E8ejtBKz1FKU9sKHRoaXMsdix6LEUpfXArPXRoaXMud2lkdGh9fX19O2Z1bmN0aW9uIFltKGEsYil7dmFyIGM9YS5sLGQ9Yi5sZW5ndGgqYy5oZWlnaHQ7cmV0dXJuW2IubWFwKGZ1bmN0aW9uKGIpe3ZhciBkPTAsZTt2YXIgaD0wO2ZvcihlPWIubGVuZ3RoO2g8ZTsrK2gpe3ZhciBsPWJbaF07Yy53aWR0aFtsXXx8Wm0oYSxsKTtkKz1jLndpZHRoW2xdP2Mud2lkdGhbbF06MH1yZXR1cm4gZH0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBNYXRoLm1heChhLGIpfSksZF19XG5mdW5jdGlvbiBabShhLGIpe2lmKDE9PT1iLmxlbmd0aCl7dmFyIGM9YS5sLGQ9YS5OO2E9YS5VYi5nZXRDb250ZXh0KFwiMmRcIik7YS5mb250PWQuZm9udDthPU1hdGguY2VpbChhLm1lYXN1cmVUZXh0KGIpLndpZHRoKmQuc2NhbGUpO2MuQmguYWRkKGIsYSxjLmhlaWdodCxmdW5jdGlvbihhLGMsZyl7YS5mb250PWQuZm9udDthLmZpbGxTdHlsZT1kLmZpbGxDb2xvcjthLnN0cm9rZVN0eWxlPWQuc3Ryb2tlQ29sb3I7YS5saW5lV2lkdGg9ZC5saW5lV2lkdGg7YS5saW5lQ2FwPWQubGluZUNhcDthLmxpbmVKb2luPWQubGluZUpvaW47YS5taXRlckxpbWl0PWQubWl0ZXJMaW1pdDthLnRleHRBbGlnbj1cImxlZnRcIjthLnRleHRCYXNlbGluZT1cInRvcFwiO29kJiZkLmxpbmVEYXNoJiYoYS5zZXRMaW5lRGFzaChkLmxpbmVEYXNoKSxhLmxpbmVEYXNoT2Zmc2V0PWQubGluZURhc2hPZmZzZXQpOzEhPT1kLnNjYWxlJiZhLnNldFRyYW5zZm9ybShkLnNjYWxlLDAsMCxkLnNjYWxlLDAsMCk7ZC5zdHJva2VDb2xvciYmXG5hLnN0cm9rZVRleHQoYixjLGcpO2QuZmlsbENvbG9yJiZhLmZpbGxUZXh0KGIsYyxnKX0pJiYoYy53aWR0aFtiXT1hKX19ay5nYj1mdW5jdGlvbihhKXt2YXIgYj1hLmI7dGhpcy52LnB1c2godGhpcy5iLmxlbmd0aCk7dGhpcy5vPXRoaXMudjt0aGlzLnM9bmV3IHlsKHRoaXMuYSk7dGhpcy5qPW5ldyB5bCh0aGlzLmIpO1BsKHRoaXMudWEsdGhpcy5jLHt9LGIpO3RoaXMuTj17c3Ryb2tlQ29sb3I6bnVsbCxsaW5lQ2FwOnZvaWQgMCxsaW5lRGFzaDpudWxsLGxpbmVEYXNoT2Zmc2V0OnZvaWQgMCxsaW5lSm9pbjp2b2lkIDAsbGluZVdpZHRoOjAsbWl0ZXJMaW1pdDp2b2lkIDAsZmlsbENvbG9yOm51bGwsZm9udDp2b2lkIDAsc2NhbGU6dm9pZCAwfTt0aGlzLnRhPVwiXCI7dGhpcy5jYT10aGlzLiQ9dGhpcy5yYT10aGlzLmFiPXZvaWQgMDt0aGlzLmM9bnVsbDt0aGlzLkI9e307dGhpcy5sPXZvaWQgMDtObC5wcm90b3R5cGUuZ2IuY2FsbCh0aGlzLGEpfTtcbmsubmI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5OLGM9YS5GYSgpLGQ9YS5HYSgpO2lmKGEmJmEuS2EoKSYmKGN8fGQpKXtjPyhjPWMuYixiLmZpbGxDb2xvcj16aShjP2M6dGwpKTpiLmZpbGxDb2xvcj1udWxsO2Q/KGM9ZC5hLGIuc3Ryb2tlQ29sb3I9emkoYz9jOnZsKSxiLmxpbmVXaWR0aD1kLmN8fDEsYi5saW5lQ2FwPWQuZnx8XCJyb3VuZFwiLGIubGluZURhc2hPZmZzZXQ9ZC5pfHwwLGIubGluZUpvaW49ZC5qfHxcInJvdW5kXCIsYi5taXRlckxpbWl0PWQubHx8MTAsZD1kLmcsYi5saW5lRGFzaD1kP2Quc2xpY2UoKTp1bCk6KGIuc3Ryb2tlQ29sb3I9bnVsbCxiLmxpbmVXaWR0aD0wKTtiLmZvbnQ9YS5hfHxcIjEwcHggc2Fucy1zZXJpZlwiO2Iuc2NhbGU9YS5ifHwxO3RoaXMudGE9YS5LYSgpO2Q9dmpbYS5mXTtjPXZqW2Eual07dGhpcy5hYj12b2lkIDA9PT1kPy41OmQ7dGhpcy5yYT12b2lkIDA9PT1jPy41OmM7dGhpcy4kPWEuZ3x8MDt0aGlzLmNhPWEuY3x8MDt0aGlzLnJvdGF0ZVdpdGhWaWV3PVxuISFhLmw7dGhpcy5yb3RhdGlvbj1hLml8fDA7YT1bXTtmb3IodmFyIGUgaW4gYilpZihiW2VdfHwwPT09YltlXSlBcnJheS5pc0FycmF5KGJbZV0pP2E9YS5jb25jYXQoYltlXSk6YS5wdXNoKGJbZV0pO2M9XCJcIjtlPTA7Zm9yKGQ9YS5sZW5ndGg7ZTxkOysrZSljKz1hW2VdO2U9Yzt0aGlzLkJbZV18fChhPXRoaXMuVWIuZ2V0Q29udGV4dChcIjJkXCIpLGEuZm9udD1iLmZvbnQsYT1NYXRoLmNlaWwoKDEuNSphLm1lYXN1cmVUZXh0KFwiTVwiKS53aWR0aCtiLmxpbmVXaWR0aC8yKSpiLnNjYWxlKSx0aGlzLkJbZV09e0JoOm5ldyBUbSh7c3BhY2U6Yi5saW5lV2lkdGgrMX0pLHdpZHRoOnt9LGhlaWdodDphfSk7dGhpcy5sPXRoaXMuQltlXX1lbHNlIHRoaXMudGE9XCJcIn07ay5pZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVhfTtrLmFnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudWF9O2Z1bmN0aW9uICRtKGEsYixjKXt0aGlzLmM9Yjt0aGlzLmk9YTt0aGlzLmc9Yzt0aGlzLmE9e319dygkbSxzaik7az0kbS5wcm90b3R5cGU7ay5WYj1mdW5jdGlvbigpe307ZnVuY3Rpb24gYW4oYSxiKXt2YXIgYz1bXSxkO2ZvcihkIGluIGEuYSl7dmFyIGU9YS5hW2RdLGY7Zm9yKGYgaW4gZSljLnB1c2goZVtmXS5EYihiKSl9cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBhPWMubGVuZ3RoLGIsZD0wO2Q8YTtkKyspYj1jW2RdLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gYn19ZnVuY3Rpb24gYm4oYSxiKXtmb3IodmFyIGMgaW4gYS5hKXt2YXIgZD1hLmFbY10sZTtmb3IoZSBpbiBkKWRbZV0uZ2IoYil9fWsuSmE9ZnVuY3Rpb24oYSxiKXt2YXIgYz12b2lkIDAhPT1hP2EudG9TdHJpbmcoKTpcIjBcIjthPXRoaXMuYVtjXTt2b2lkIDA9PT1hJiYoYT17fSx0aGlzLmFbY109YSk7Yz1hW2JdO3ZvaWQgMD09PWMmJihjPW5ldyBjbltiXSh0aGlzLmksdGhpcy5jKSxhW2JdPWMpO3JldHVybiBjfTtcbmsueWc9ZnVuY3Rpb24oKXtyZXR1cm4gbmIodGhpcy5hKX07ay5OYT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBsPU9iamVjdC5rZXlzKHRoaXMuYSkubWFwKE51bWJlcik7bC5zb3J0KGRjKTt2YXIgbSxuO3ZhciBwPTA7Zm9yKG09bC5sZW5ndGg7cDxtOysrcCl7dmFyIHE9dGhpcy5hW2xbcF0udG9TdHJpbmcoKV07dmFyIHI9MDtmb3Iobj11ai5sZW5ndGg7cjxuOysrcil7dmFyIHU9cVt1altyXV07dm9pZCAwIT09dSYmdS5OYShhLGIsYyxkLGUsZixnLGgsdm9pZCAwLCExKX19fTtcbmZ1bmN0aW9uIGRuKGEsYixjLGQsZSxmLGcsaCxsLG0sbil7dmFyIHA9ZW4scT1PYmplY3Qua2V5cyhhLmEpLm1hcChOdW1iZXIpO3Euc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBiLWF9KTt2YXIgcix1O3ZhciB2PTA7Zm9yKHI9cS5sZW5ndGg7djxyOysrdil7dmFyIHo9YS5hW3Fbdl0udG9TdHJpbmcoKV07Zm9yKHU9dWoubGVuZ3RoLTE7MDw9dTstLXUpe3ZhciBBPXpbdWpbdV1dO2lmKHZvaWQgMCE9PUEmJihBPUEuTmEoYixjLGQsZSxwLGYsZyxoLGwsbSxuKSkpcmV0dXJuIEF9fX1cbmsud2E9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyxoLGwsbSl7dmFyIG49Yi5iO24uYmluZEZyYW1lYnVmZmVyKG4uRlJBTUVCVUZGRVIsSWwoYikpO3ZhciBwO3ZvaWQgMCE9PXRoaXMuZyYmKHA9RmEoUGEoYSksZCp0aGlzLmcpKTtyZXR1cm4gZG4odGhpcyxiLGEsZCxlLGcsaCxsLGZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBVaW50OEFycmF5KDQpO24ucmVhZFBpeGVscygwLDAsMSwxLG4uUkdCQSxuLlVOU0lHTkVEX0JZVEUsYik7aWYoMDxiWzNdJiYoYT1tKGEpKSlyZXR1cm4gYX0sITAscCl9O2Z1bmN0aW9uIGZuKGEsYixjLGQsZSxmLGcsaCl7dmFyIGw9Yy5iO2wuYmluZEZyYW1lYnVmZmVyKGwuRlJBTUVCVUZGRVIsSWwoYykpO3JldHVybiB2b2lkIDAhPT1kbihhLGMsYixkLGUsZixnLGgsZnVuY3Rpb24oKXt2YXIgYT1uZXcgVWludDhBcnJheSg0KTtsLnJlYWRQaXhlbHMoMCwwLDEsMSxsLlJHQkEsbC5VTlNJR05FRF9CWVRFLGEpO3JldHVybiAwPGFbM119LCExKX1cbnZhciBlbj1bMSwxXSxjbj17Q2lyY2xlOkFsLEltYWdlOlFsLExpbmVTdHJpbmc6VmwsUG9seWdvbjpBbSxUZXh0OlhtfTtmdW5jdGlvbiBnbihhLGIsYyxkLGUsZixnKXt0aGlzLmI9YTt0aGlzLmc9Yjt0aGlzLmM9Zjt0aGlzLmk9Zzt0aGlzLmw9ZTt0aGlzLmo9ZDt0aGlzLmY9Yzt0aGlzLmE9dGhpcy5zPXRoaXMudj10aGlzLm89bnVsbH13KGduLEFpKTtmdW5jdGlvbiBobihhLGIsYyl7dmFyIGQ9YS5iO2I9Yi5KYSgwLFwiVGV4dFwiKTtiLm5iKGEuYSk7Yi5XYihjLG51bGwpO2IuZ2IoZCk7Yi5OYShhLmIsYS5nLGEuZixhLmosYS5sLGEuaSwxLHt9LHZvaWQgMCwhMSk7Yi5EYihkKSgpfWs9Z24ucHJvdG90eXBlO2suRGQ9ZnVuY3Rpb24oYSl7dGhpcy5PYShhLkZhKCksYS5HYSgpKTt0aGlzLlpiKGEuWSgpKTt0aGlzLm5iKGEuS2EoKSl9O1xuay5IYj1mdW5jdGlvbihhKXtzd2l0Y2goYS5TKCkpe2Nhc2UgXCJQb2ludFwiOnRoaXMueWMoYSxudWxsKTticmVhaztjYXNlIFwiTGluZVN0cmluZ1wiOnRoaXMudWMoYSxudWxsKTticmVhaztjYXNlIFwiUG9seWdvblwiOnRoaXMuemMoYSxudWxsKTticmVhaztjYXNlIFwiTXVsdGlQb2ludFwiOnRoaXMud2MoYSxudWxsKTticmVhaztjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6dGhpcy52YyhhLG51bGwpO2JyZWFrO2Nhc2UgXCJNdWx0aVBvbHlnb25cIjp0aGlzLnhjKGEsbnVsbCk7YnJlYWs7Y2FzZSBcIkdlb21ldHJ5Q29sbGVjdGlvblwiOnRoaXMuRGUoYSk7YnJlYWs7Y2FzZSBcIkNpcmNsZVwiOnRoaXMuY2MoYSxudWxsKX19O2suQ2U9ZnVuY3Rpb24oYSxiKXsoYT0oMCxiLmNiKShhKSkmJmhiKHRoaXMuYyxhLkcoKSkmJih0aGlzLkRkKGIpLHRoaXMuSGIoYSkpfTtrLkRlPWZ1bmN0aW9uKGEpe2E9YS5hO3ZhciBiO3ZhciBjPTA7Zm9yKGI9YS5sZW5ndGg7YzxiOysrYyl0aGlzLkhiKGFbY10pfTtcbmsueWM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmIsZD1uZXcgJG0oMSx0aGlzLmMpLGU9ZC5KYSgwLFwiSW1hZ2VcIik7ZS5aYih0aGlzLm8pO2UueWMoYSxiKTtlLmdiKGMpO2UuTmEodGhpcy5iLHRoaXMuZyx0aGlzLmYsdGhpcy5qLHRoaXMubCx0aGlzLmksMSx7fSx2b2lkIDAsITEpO2UuRGIoYykoKTt0aGlzLmEmJmhuKHRoaXMsZCxhKX07ay53Yz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuYixkPW5ldyAkbSgxLHRoaXMuYyksZT1kLkphKDAsXCJJbWFnZVwiKTtlLlpiKHRoaXMubyk7ZS53YyhhLGIpO2UuZ2IoYyk7ZS5OYSh0aGlzLmIsdGhpcy5nLHRoaXMuZix0aGlzLmosdGhpcy5sLHRoaXMuaSwxLHt9LHZvaWQgMCwhMSk7ZS5EYihjKSgpO3RoaXMuYSYmaG4odGhpcyxkLGEpfTtcbmsudWM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmIsZD1uZXcgJG0oMSx0aGlzLmMpLGU9ZC5KYSgwLFwiTGluZVN0cmluZ1wiKTtlLk9hKG51bGwsdGhpcy5zKTtlLnVjKGEsYik7ZS5nYihjKTtlLk5hKHRoaXMuYix0aGlzLmcsdGhpcy5mLHRoaXMuaix0aGlzLmwsdGhpcy5pLDEse30sdm9pZCAwLCExKTtlLkRiKGMpKCk7dGhpcy5hJiZobih0aGlzLGQsYSl9O2sudmM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmIsZD1uZXcgJG0oMSx0aGlzLmMpLGU9ZC5KYSgwLFwiTGluZVN0cmluZ1wiKTtlLk9hKG51bGwsdGhpcy5zKTtlLnZjKGEsYik7ZS5nYihjKTtlLk5hKHRoaXMuYix0aGlzLmcsdGhpcy5mLHRoaXMuaix0aGlzLmwsdGhpcy5pLDEse30sdm9pZCAwLCExKTtlLkRiKGMpKCk7dGhpcy5hJiZobih0aGlzLGQsYSl9O1xuay56Yz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuYixkPW5ldyAkbSgxLHRoaXMuYyksZT1kLkphKDAsXCJQb2x5Z29uXCIpO2UuT2EodGhpcy52LHRoaXMucyk7ZS56YyhhLGIpO2UuZ2IoYyk7ZS5OYSh0aGlzLmIsdGhpcy5nLHRoaXMuZix0aGlzLmosdGhpcy5sLHRoaXMuaSwxLHt9LHZvaWQgMCwhMSk7ZS5EYihjKSgpO3RoaXMuYSYmaG4odGhpcyxkLGEpfTtrLnhjPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5iLGQ9bmV3ICRtKDEsdGhpcy5jKSxlPWQuSmEoMCxcIlBvbHlnb25cIik7ZS5PYSh0aGlzLnYsdGhpcy5zKTtlLnhjKGEsYik7ZS5nYihjKTtlLk5hKHRoaXMuYix0aGlzLmcsdGhpcy5mLHRoaXMuaix0aGlzLmwsdGhpcy5pLDEse30sdm9pZCAwLCExKTtlLkRiKGMpKCk7dGhpcy5hJiZobih0aGlzLGQsYSl9O1xuay5jYz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuYixkPW5ldyAkbSgxLHRoaXMuYyksZT1kLkphKDAsXCJDaXJjbGVcIik7ZS5PYSh0aGlzLnYsdGhpcy5zKTtlLmNjKGEsYik7ZS5nYihjKTtlLk5hKHRoaXMuYix0aGlzLmcsdGhpcy5mLHRoaXMuaix0aGlzLmwsdGhpcy5pLDEse30sdm9pZCAwLCExKTtlLkRiKGMpKCk7dGhpcy5hJiZobih0aGlzLGQsYSl9O2suWmI9ZnVuY3Rpb24oYSl7dGhpcy5vPWF9O2suT2E9ZnVuY3Rpb24oYSxiKXt0aGlzLnY9YTt0aGlzLnM9Yn07ay5uYj1mdW5jdGlvbihhKXt0aGlzLmE9YX07dmFyIGpuPW5ldyBpbChcInByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O3ZhcnlpbmcgdmVjMiBhO3VuaWZvcm0gZmxvYXQgZjt1bmlmb3JtIHNhbXBsZXIyRCBnO3ZvaWQgbWFpbih2b2lkKXt2ZWM0IHRleENvbG9yPXRleHR1cmUyRChnLGEpO2dsX0ZyYWdDb2xvci5yZ2I9dGV4Q29sb3IucmdiO2dsX0ZyYWdDb2xvci5hPXRleENvbG9yLmEqZjt9XCIpLGtuPW5ldyBqbChcInZhcnlpbmcgdmVjMiBhO2F0dHJpYnV0ZSB2ZWMyIGI7YXR0cmlidXRlIHZlYzIgYzt1bmlmb3JtIG1hdDQgZDt1bmlmb3JtIG1hdDQgZTt2b2lkIG1haW4odm9pZCl7Z2xfUG9zaXRpb249ZSp2ZWM0KGIsMC4sMS4pO2E9KGQqdmVjNChjLDAuLDEuKSkuc3Q7fVwiKTtmdW5jdGlvbiBsbihhLGIpe3RoaXMuZj1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwiZFwiKTt0aGlzLmM9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcImVcIik7dGhpcy5nPWEuZ2V0VW5pZm9ybUxvY2F0aW9uKGIsXCJmXCIpO3RoaXMuaT1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwiZ1wiKTt0aGlzLmI9YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiYlwiKTt0aGlzLmE9YS5nZXRBdHRyaWJMb2NhdGlvbihiLFwiY1wiKX07ZnVuY3Rpb24gbW4oYSxiKXtLaS5jYWxsKHRoaXMsYik7dGhpcy5jPWE7dGhpcy5WPW5ldyB5bChbLTEsLTEsMCwwLDEsLTEsMSwwLC0xLDEsMCwxLDEsMSwxLDFdKTt0aGlzLmY9dGhpcy5NYj1udWxsO3RoaXMuaj12b2lkIDA7dGhpcy52PVdlKCk7dGhpcy5OPVdlKCk7dGhpcy5DPW5sKCk7dGhpcy5vPW51bGx9dyhtbixLaSk7XG5mdW5jdGlvbiBubihhLGIsYyl7dmFyIGQ9YS5jLmc7aWYodm9pZCAwPT09YS5qfHxhLmohPWMpe2IucG9zdFJlbmRlckZ1bmN0aW9ucy5wdXNoKGZ1bmN0aW9uKGEsYixjKXthLmlzQ29udGV4dExvc3QoKXx8KGEuZGVsZXRlRnJhbWVidWZmZXIoYiksYS5kZWxldGVUZXh0dXJlKGMpKX0uYmluZChudWxsLGQsYS5mLGEuTWIpKTtiPUpsKGQsYyxjKTt2YXIgZT1kLmNyZWF0ZUZyYW1lYnVmZmVyKCk7ZC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsZSk7ZC5mcmFtZWJ1ZmZlclRleHR1cmUyRCgzNjE2MCwzNjA2NCwzNTUzLGIsMCk7YS5NYj1iO2EuZj1lO2Euaj1jfWVsc2UgZC5iaW5kRnJhbWVidWZmZXIoMzYxNjAsYS5mKX1cbm1uLnByb3RvdHlwZS5aaT1mdW5jdGlvbihhLGIsYyl7b24odGhpcyxcInByZWNvbXBvc2VcIixjLGEpO3JsKGMsMzQ5NjIsdGhpcy5WKTt2YXIgZD1jLmIsZT1DbChjLGpuLGtuKTtpZih0aGlzLm8pdmFyIGY9dGhpcy5vO2Vsc2UgdGhpcy5vPWY9bmV3IGxuKGQsZSk7Yy5jZChlKSYmKGQuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZi5iKSxkLnZlcnRleEF0dHJpYlBvaW50ZXIoZi5iLDIsNTEyNiwhMSwxNiwwKSxkLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGYuYSksZC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGYuYSwyLDUxMjYsITEsMTYsOCksZC51bmlmb3JtMWkoZi5pLDApKTtkLnVuaWZvcm1NYXRyaXg0ZnYoZi5mLCExLHBsKHRoaXMuQyx0aGlzLnYpKTtkLnVuaWZvcm1NYXRyaXg0ZnYoZi5jLCExLHBsKHRoaXMuQyx0aGlzLk4pKTtkLnVuaWZvcm0xZihmLmcsYi5vcGFjaXR5KTtkLmJpbmRUZXh0dXJlKDM1NTMsdGhpcy5NYik7ZC5kcmF3QXJyYXlzKDUsMCw0KTtvbih0aGlzLFwicG9zdGNvbXBvc2VcIixcbmMsYSl9O2Z1bmN0aW9uIG9uKGEsYixjLGQpe2E9YS5hO2lmKFRjKGEsYikpe3ZhciBlPWQudmlld1N0YXRlO2EuYihuZXcgYmkoYixuZXcgZ24oYyxlLmNlbnRlcixlLnJlc29sdXRpb24sZS5yb3RhdGlvbixkLnNpemUsZC5leHRlbnQsZC5waXhlbFJhdGlvKSxkLG51bGwsYykpfX1tbi5wcm90b3R5cGUuQWc9ZnVuY3Rpb24oKXt0aGlzLmY9dGhpcy5NYj1udWxsO3RoaXMuaj12b2lkIDB9O2Z1bmN0aW9uIHBuKGEsYil7bW4uY2FsbCh0aGlzLGEsYik7dGhpcy5sPXRoaXMuaT10aGlzLk09bnVsbH13KHBuLG1uKTtwbi5oYW5kbGVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuXCJ3ZWJnbFwiPT09YSYmXCJJTUFHRVwiPT09Yi5TKCl9O3BuLmNyZWF0ZT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgcG4oYSxiKX07ZnVuY3Rpb24gcW4oYSxiKXtiPWIuWSgpO3JldHVybiBNbChhLmMuZyxiKX1wbi5wcm90b3R5cGUud2E9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj10aGlzLmE7cmV0dXJuIGYuaGEoKS53YShhLGIudmlld1N0YXRlLnJlc29sdXRpb24sYi52aWV3U3RhdGUucm90YXRpb24sYyxiLnNraXBwZWRGZWF0dXJlVWlkcyxmdW5jdGlvbihhKXtyZXR1cm4gZC5jYWxsKGUsYSxmKX0pfTtcbnBuLnByb3RvdHlwZS5CZz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuYy5nLGQ9YS5waXhlbFJhdGlvLGU9YS52aWV3U3RhdGUsZj1lLmNlbnRlcixnPWUucmVzb2x1dGlvbixoPWUucm90YXRpb24sbD10aGlzLk0sbT10aGlzLk1iLG49dGhpcy5hLmhhKCkscD1hLnZpZXdIaW50cyxxPWEuZXh0ZW50O3ZvaWQgMCE9PWIuZXh0ZW50JiYocT1nYihxLGIuZXh0ZW50KSk7cFswXXx8cFsxXXx8YmIocSl8fChiPW4uWShxLGcsZCxlLnByb2plY3Rpb24pKSYmU2kodGhpcyxiKSYmKGw9YixtPXFuKHRoaXMsYiksdGhpcy5NYiYmYS5wb3N0UmVuZGVyRnVuY3Rpb25zLnB1c2goZnVuY3Rpb24oYSxiKXthLmlzQ29udGV4dExvc3QoKXx8YS5kZWxldGVUZXh0dXJlKGIpfS5iaW5kKG51bGwsYyx0aGlzLk1iKSkpO2wmJihjPXRoaXMuYy5pLmoscm4odGhpcyxjLndpZHRoLGMuaGVpZ2h0LGQsZixnLGgsbC5HKCkpLHRoaXMubD1udWxsLGQ9dGhpcy52LFhlKGQpLGNmKGQsMSwtMSksZGYoZCwwLFxuLTEpLHRoaXMuTT1sLHRoaXMuTWI9bSxVaShhLG4pKTtyZXR1cm4hIWx9O2Z1bmN0aW9uIHJuKGEsYixjLGQsZSxmLGcsaCl7Yio9ZjtjKj1mO2E9YS5OO1hlKGEpO2NmKGEsMipkL2IsMipkL2MpO2JmKGEsLWcpO2RmKGEsaFswXS1lWzBdLGhbMV0tZVsxXSk7Y2YoYSwoaFsyXS1oWzBdKS8yLChoWzNdLWhbMV0pLzIpO2RmKGEsMSwxKX1wbi5wcm90b3R5cGUuY2Y9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdm9pZCAwIT09dGhpcy53YShhLGIsMCxSZSx0aGlzKX07XG5wbi5wcm90b3R5cGUuemc9ZnVuY3Rpb24oYSxiLGMsZCl7aWYodGhpcy5NJiZ0aGlzLk0uWSgpKWlmKHRoaXMuYS5oYSgpLndhIT09ZWEpe3ZhciBlPWFmKGIucGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0sYS5zbGljZSgpKTtpZih0aGlzLndhKGUsYiwwLFJlLHRoaXMpKXJldHVybiBjLmNhbGwoZCx0aGlzLmEsbnVsbCl9ZWxzZXtlPVt0aGlzLk0uWSgpLndpZHRoLHRoaXMuTS5ZKCkuaGVpZ2h0XTtpZighdGhpcy5sKXt2YXIgZj1iLnNpemU7Yj1XZSgpO2RmKGIsLTEsLTEpO2NmKGIsMi9mWzBdLDIvZlsxXSk7ZGYoYiwwLGZbMV0pO2NmKGIsMSwtMSk7Zj1mZih0aGlzLk4uc2xpY2UoKSk7dmFyIGc9V2UoKTtkZihnLDAsZVsxXSk7Y2YoZywxLC0xKTtjZihnLGVbMF0vMixlWzFdLzIpO2RmKGcsMSwxKTtaZShnLGYpO1plKGcsYik7dGhpcy5sPWd9YT1hZih0aGlzLmwsYS5zbGljZSgpKTtpZighKDA+YVswXXx8YVswXT5lWzBdfHwwPmFbMV18fGFbMV0+ZVsxXSkmJih0aGlzLml8fFxuKHRoaXMuaT1oZygxLDEpKSx0aGlzLmkuY2xlYXJSZWN0KDAsMCwxLDEpLHRoaXMuaS5kcmF3SW1hZ2UodGhpcy5NLlkoKSxhWzBdLGFbMV0sMSwxLDAsMCwxLDEpLGU9dGhpcy5pLmdldEltYWdlRGF0YSgwLDAsMSwxKS5kYXRhLDA8ZVszXSkpcmV0dXJuIGMuY2FsbChkLHRoaXMuYSxlKX19O2Z1bmN0aW9uIHNuKGEsYil7ZmouY2FsbCh0aGlzLGEsYik7dGhpcy5iPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJDQU5WQVNcIik7dGhpcy5iLnN0eWxlLndpZHRoPVwiMTAwJVwiO3RoaXMuYi5zdHlsZS5oZWlnaHQ9XCIxMDAlXCI7dGhpcy5iLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO3RoaXMuYi5jbGFzc05hbWU9XCJvbC11bnNlbGVjdGFibGVcIjthLmluc2VydEJlZm9yZSh0aGlzLmIsYS5jaGlsZE5vZGVzWzBdfHxudWxsKTt0aGlzLk49dGhpcy5EPTA7dGhpcy5DPWhnKCk7dGhpcy5zPSEwO3RoaXMuZz1nZCh0aGlzLmIse2FudGlhbGlhczohMCxkZXB0aDohMCxmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiEwLHByZXNlcnZlRHJhd2luZ0J1ZmZlcjohMSxzdGVuY2lsOiEwfSk7dGhpcy5pPW5ldyBIbCh0aGlzLmIsdGhpcy5nKTt5KHRoaXMuYixcIndlYmdsY29udGV4dGxvc3RcIix0aGlzLkNvLHRoaXMpO3kodGhpcy5iLFwid2ViZ2xjb250ZXh0cmVzdG9yZWRcIix0aGlzLkRvLHRoaXMpO1xudGhpcy5hPW5ldyBjaTt0aGlzLm89bnVsbDt0aGlzLmo9bmV3IGdlKGZ1bmN0aW9uKGEpe3ZhciBiPWFbMV07YT1hWzJdO3ZhciBjPWJbMF0tdGhpcy5vWzBdO2I9YlsxXS10aGlzLm9bMV07cmV0dXJuIDY1NTM2Kk1hdGgubG9nKGEpK01hdGguc3FydChjKmMrYipiKS9hfS5iaW5kKHRoaXMpLGZ1bmN0aW9uKGEpe3JldHVybiBhWzBdLmxiKCl9KTt0aGlzLkI9ZnVuY3Rpb24oKXtpZigwIT09dGhpcy5qLmIubGVuZ3RoKXtrZSh0aGlzLmopO3ZhciBhPWhlKHRoaXMuaik7dG4odGhpcyxhWzBdLGFbM10sYVs0XSl9cmV0dXJuITF9LmJpbmQodGhpcyk7dGhpcy5mPTA7dW4odGhpcyl9dyhzbixmaik7c24uaGFuZGxlcz1mdW5jdGlvbihhKXtyZXR1cm4gaGQmJlwid2ViZ2xcIj09PWF9O3NuLmNyZWF0ZT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgc24oYSxiKX07XG5mdW5jdGlvbiB0bihhLGIsYyxkKXt2YXIgZT1hLmcsZj1iLmxiKCk7aWYoYS5hLmEuaGFzT3duUHJvcGVydHkoZikpYT1hLmEuZ2V0KGYpLGUuYmluZFRleHR1cmUoMzU1MyxhLk1iKSw5NzI5IT1hLmhpJiYoZS50ZXhQYXJhbWV0ZXJpKDM1NTMsMTAyNDAsOTcyOSksYS5oaT05NzI5KSw5NzI5IT1hLmppJiYoZS50ZXhQYXJhbWV0ZXJpKDM1NTMsMTAyNDEsOTcyOSksYS5qaT05NzI5KTtlbHNle3ZhciBnPWUuY3JlYXRlVGV4dHVyZSgpO2UuYmluZFRleHR1cmUoMzU1MyxnKTtpZigwPGQpe3ZhciBoPWEuQy5jYW52YXMsbD1hLkM7YS5EIT09Y1swXXx8YS5OIT09Y1sxXT8oaC53aWR0aD1jWzBdLGguaGVpZ2h0PWNbMV0sYS5EPWNbMF0sYS5OPWNbMV0pOmwuY2xlYXJSZWN0KDAsMCxjWzBdLGNbMV0pO2wuZHJhd0ltYWdlKGIuWSgpLGQsZCxjWzBdLGNbMV0sMCwwLGNbMF0sY1sxXSk7ZS50ZXhJbWFnZTJEKDM1NTMsMCw2NDA4LDY0MDgsNTEyMSxoKX1lbHNlIGUudGV4SW1hZ2UyRCgzNTUzLFxuMCw2NDA4LDY0MDgsNTEyMSxiLlkoKSk7ZS50ZXhQYXJhbWV0ZXJpKDM1NTMsMTAyNDAsOTcyOSk7ZS50ZXhQYXJhbWV0ZXJpKDM1NTMsMTAyNDEsOTcyOSk7ZS50ZXhQYXJhbWV0ZXJpKDM1NTMsMTAyNDIsMzMwNzEpO2UudGV4UGFyYW1ldGVyaSgzNTUzLDEwMjQzLDMzMDcxKTthLmEuc2V0KGYse01iOmcsaGk6OTcyOSxqaTo5NzI5fSl9fWZ1bmN0aW9uIHZuKGEsYixjKXt2YXIgZD1hLmw7aWYoVGMoZCxiKSl7YT1hLmk7dmFyIGU9Yy52aWV3U3RhdGU7ZC5iKG5ldyBiaShiLG5ldyBnbihhLGUuY2VudGVyLGUucmVzb2x1dGlvbixlLnJvdGF0aW9uLGMuc2l6ZSxjLmV4dGVudCxjLnBpeGVsUmF0aW8pLGMsbnVsbCxhKSl9fWs9c24ucHJvdG90eXBlO2suaWE9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmc7YS5pc0NvbnRleHRMb3N0KCl8fHRoaXMuYS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2ImJmEuZGVsZXRlVGV4dHVyZShiLk1iKX0pO1BjKHRoaXMuaSk7ZmoucHJvdG90eXBlLmlhLmNhbGwodGhpcyl9O1xuay5Zaz1mdW5jdGlvbihhLGIpe2E9dGhpcy5nO2Zvcih2YXIgYzsxMDI0PHRoaXMuYS5pLXRoaXMuZjspe2lmKGM9dGhpcy5hLmcuUGMpYS5kZWxldGVUZXh0dXJlKGMuTWIpO2Vsc2UgaWYoK3RoaXMuYS5nLmpjPT1iLmluZGV4KWJyZWFrO2Vsc2UtLXRoaXMuZjt0aGlzLmEucG9wKCl9fTtrLlM9ZnVuY3Rpb24oKXtyZXR1cm5cIndlYmdsXCJ9O2suQ289ZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpO3RoaXMuYS5jbGVhcigpO3RoaXMuZj0wO2E9dGhpcy5jO2Zvcih2YXIgYiBpbiBhKWFbYl0uQWcoKX07ay5Ebz1mdW5jdGlvbigpe3VuKHRoaXMpO3RoaXMubC5yZW5kZXIoKX07ZnVuY3Rpb24gdW4oYSl7YT1hLmc7YS5hY3RpdmVUZXh0dXJlKDMzOTg0KTthLmJsZW5kRnVuY1NlcGFyYXRlKDc3MCw3NzEsMSw3NzEpO2EuZGlzYWJsZSgyODg0KTthLmRpc2FibGUoMjkyOSk7YS5kaXNhYmxlKDMwODkpO2EuZGlzYWJsZSgyOTYwKX1cbmsuYmg9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pLGM9dGhpcy5nO2lmKGMuaXNDb250ZXh0TG9zdCgpKXJldHVybiExO2lmKCFhKXJldHVybiB0aGlzLnMmJih0aGlzLmIuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLnM9ITEpLCExO3RoaXMubz1hLmZvY3VzO3RoaXMuYS5zZXQoKC1hLmluZGV4KS50b1N0cmluZygpLG51bGwpOysrdGhpcy5mO3ZuKHRoaXMsXCJwcmVjb21wb3NlXCIsYSk7dmFyIGQ9W10sZT1hLmxheWVyU3RhdGVzQXJyYXk7a2MoZSk7dmFyIGY9YS52aWV3U3RhdGUucmVzb2x1dGlvbixnO3ZhciBoPTA7Zm9yKGc9ZS5sZW5ndGg7aDxnOysraCl7dmFyIGw9ZVtoXTtpZih5ZyhsLGYpJiZcInJlYWR5XCI9PWwuVmope3ZhciBtPWlqKHRoaXMsbC5sYXllcik7bS5CZyhhLGwsYikmJmQucHVzaChsKX19ZT1hLnNpemVbMF0qYS5waXhlbFJhdGlvO2Y9YS5zaXplWzFdKmEucGl4ZWxSYXRpbztpZih0aGlzLmIud2lkdGghPWV8fHRoaXMuYi5oZWlnaHQhPWYpdGhpcy5iLndpZHRoPVxuZSx0aGlzLmIuaGVpZ2h0PWY7Yy5iaW5kRnJhbWVidWZmZXIoMzYxNjAsbnVsbCk7Yy5jbGVhckNvbG9yKDAsMCwwLDApO2MuY2xlYXIoMTYzODQpO2MuZW5hYmxlKDMwNDIpO2Mudmlld3BvcnQoMCwwLHRoaXMuYi53aWR0aCx0aGlzLmIuaGVpZ2h0KTtoPTA7Zm9yKGc9ZC5sZW5ndGg7aDxnOysraClsPWRbaF0sbT1paih0aGlzLGwubGF5ZXIpLG0uWmkoYSxsLGIpO3RoaXMuc3x8KHRoaXMuYi5zdHlsZS5kaXNwbGF5PVwiXCIsdGhpcy5zPSEwKTtnaihhKTsxMDI0PHRoaXMuYS5pLXRoaXMuZiYmYS5wb3N0UmVuZGVyRnVuY3Rpb25zLnB1c2godGhpcy5Zay5iaW5kKHRoaXMpKTswIT09dGhpcy5qLmIubGVuZ3RoJiYoYS5wb3N0UmVuZGVyRnVuY3Rpb25zLnB1c2godGhpcy5CKSxhLmFuaW1hdGU9ITApO3ZuKHRoaXMsXCJwb3N0Y29tcG9zZVwiLGEpO2pqKHRoaXMsYSk7YS5wb3N0UmVuZGVyRnVuY3Rpb25zLnB1c2goaGopfTtcbmsud2E9ZnVuY3Rpb24oYSxiLGMsZCxlLGYsZyl7aWYodGhpcy5nLmlzQ29udGV4dExvc3QoKSlyZXR1cm4hMTt2YXIgaD1iLnZpZXdTdGF0ZSxsPWIubGF5ZXJTdGF0ZXNBcnJheSxtO2ZvcihtPWwubGVuZ3RoLTE7MDw9bTstLW0pe3ZhciBuPWxbbV07dmFyIHA9bi5sYXllcjtpZih5ZyhuLGgucmVzb2x1dGlvbikmJmYuY2FsbChnLHApJiYobj1paih0aGlzLHApLndhKGEsYixjLGQsZSkpKXJldHVybiBufX07ay5VaT1mdW5jdGlvbihhLGIsYyxkLGUpe2M9ITE7aWYodGhpcy5nLmlzQ29udGV4dExvc3QoKSlyZXR1cm4hMTt2YXIgZj1iLnZpZXdTdGF0ZSxnPWIubGF5ZXJTdGF0ZXNBcnJheSxoO2ZvcihoPWcubGVuZ3RoLTE7MDw9aDstLWgpe3ZhciBsPWdbaF0sbT1sLmxheWVyO2lmKHlnKGwsZi5yZXNvbHV0aW9uKSYmZC5jYWxsKGUsbSkmJihjPWlqKHRoaXMsbSkuY2YoYSxiKSkpcmV0dXJuITB9cmV0dXJuIGN9O1xuay5UaT1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKHRoaXMuZy5pc0NvbnRleHRMb3N0KCkpcmV0dXJuITE7dmFyIGY9Yi52aWV3U3RhdGUsZz1iLmxheWVyU3RhdGVzQXJyYXksaDtmb3IoaD1nLmxlbmd0aC0xOzA8PWg7LS1oKXt2YXIgbD1nW2hdO3ZhciBtPWwubGF5ZXI7aWYoeWcobCxmLnJlc29sdXRpb24pJiZlLmNhbGwoZCxtKSYmKGw9aWoodGhpcyxtKS56ZyhhLGIsYyxkKSkpcmV0dXJuIGx9fTt2YXIgd249bmV3IGlsKFwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7dmFyeWluZyB2ZWMyIGE7dW5pZm9ybSBzYW1wbGVyMkQgZTt2b2lkIG1haW4odm9pZCl7Z2xfRnJhZ0NvbG9yPXRleHR1cmUyRChlLGEpO31cIikseG49bmV3IGpsKFwidmFyeWluZyB2ZWMyIGE7YXR0cmlidXRlIHZlYzIgYjthdHRyaWJ1dGUgdmVjMiBjO3VuaWZvcm0gdmVjNCBkO3ZvaWQgbWFpbih2b2lkKXtnbF9Qb3NpdGlvbj12ZWM0KGIqZC54eStkLnp3LDAuLDEuKTthPWM7fVwiKTtmdW5jdGlvbiB5bihhLGIpe3RoaXMuYz1hLmdldFVuaWZvcm1Mb2NhdGlvbihiLFwiZFwiKTt0aGlzLmc9YS5nZXRVbmlmb3JtTG9jYXRpb24oYixcImVcIik7dGhpcy5iPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImJcIik7dGhpcy5hPWEuZ2V0QXR0cmliTG9jYXRpb24oYixcImNcIil9O2Z1bmN0aW9uIHpuKGEsYil7bW4uY2FsbCh0aGlzLGEsYik7dGhpcy5UPXduO3RoaXMuY2E9eG47dGhpcy5pPW51bGw7dGhpcy5CPW5ldyB5bChbMCwwLDAsMSwxLDAsMSwxLDAsMSwwLDAsMSwxLDEsMF0pO3RoaXMuRD10aGlzLmw9bnVsbDt0aGlzLnM9LTE7dGhpcy5PPVswLDBdfXcoem4sbW4pO3puLmhhbmRsZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm5cIndlYmdsXCI9PT1hJiZcIlRJTEVcIj09PWIuUygpfTt6bi5jcmVhdGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IHpuKGEsYil9O2s9em4ucHJvdG90eXBlO2suaWE9ZnVuY3Rpb24oKXtCbCh0aGlzLmMuaSx0aGlzLkIpO21uLnByb3RvdHlwZS5pYS5jYWxsKHRoaXMpfTtcbmsuUmY9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuYztyZXR1cm4gZnVuY3Rpb24oZSxmKXtyZXR1cm4gTGkoYSxiLGUsZixmdW5jdGlvbihhKXt2YXIgYj1kLmEuYS5oYXNPd25Qcm9wZXJ0eShhLmxiKCkpO2ImJihjW2VdfHwoY1tlXT17fSksY1tlXVthLnlhLnRvU3RyaW5nKCldPWEpO3JldHVybiBifSl9fTtrLkFnPWZ1bmN0aW9uKCl7bW4ucHJvdG90eXBlLkFnLmNhbGwodGhpcyk7dGhpcy5pPW51bGx9O1xuay5CZz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5jLGU9Yy5iLGY9YS52aWV3U3RhdGUsZz1mLnByb2plY3Rpb24saD10aGlzLmEsbD1oLmhhKCksbT1sLmViKGcpLG49bS5EYyhmLnJlc29sdXRpb24pLHA9bS5UYShuKSxxPWwuWmQobixhLnBpeGVsUmF0aW8sZykscj1xWzBdL0JhKG0uWmEobiksdGhpcy5PKVswXSx1PXAvcix2PWwuWGMocikqbC5aZihnKSx6PWYuY2VudGVyLEE9YS5leHRlbnQsRT10YyhtLEEsbik7aWYodGhpcy5sJiZuYSh0aGlzLmwsRSkmJnRoaXMucz09bC5nKXU9dGhpcy5EO2Vsc2V7dmFyIFM9W0UubGEtRS5mYSsxLEUua2EtRS5lYSsxXSxJYT1yYShNYXRoLm1heChTWzBdKnFbMF0sU1sxXSpxWzFdKSk7Uz11KklhO3ZhciB0YT1tLkljKG4pLGxhPXRhWzBdK0UuZmEqcVswXSp1O3U9dGFbMV0rRS5lYSpxWzFdKnU7dT1bbGEsdSxsYStTLHUrU107bm4odGhpcyxhLElhKTtlLnZpZXdwb3J0KDAsMCxJYSxJYSk7ZS5jbGVhckNvbG9yKDAsMCwwLDApO2UuY2xlYXIoMTYzODQpO1xuZS5kaXNhYmxlKDMwNDIpO0lhPUNsKGMsdGhpcy5ULHRoaXMuY2EpO2MuY2QoSWEpO3RoaXMuaXx8KHRoaXMuaT1uZXcgeW4oZSxJYSkpO3JsKGMsMzQ5NjIsdGhpcy5CKTtlLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHRoaXMuaS5iKTtlLnZlcnRleEF0dHJpYlBvaW50ZXIodGhpcy5pLmIsMiw1MTI2LCExLDE2LDApO2UuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGhpcy5pLmEpO2UudmVydGV4QXR0cmliUG9pbnRlcih0aGlzLmkuYSwyLDUxMjYsITEsMTYsOCk7ZS51bmlmb3JtMWkodGhpcy5pLmcsMCk7Yz17fTtjW25dPXt9O3ZhciBjYT10aGlzLlJmKGwsZyxjKSxpYT1oLmkoKTtJYT0hMDtsYT1EYSgpO3ZhciB4YT1uZXcgamEoMCwwLDAsMCksVmEsaWM7Zm9yKFZhPUUuZmE7VmE8PUUubGE7KytWYSlmb3IoaWM9RS5lYTtpYzw9RS5rYTsrK2ljKXt0YT1sLmFkKG4sVmEsaWMscixnKTtpZih2b2lkIDAhPT1iLmV4dGVudCl7dmFyIFhhPW0uTWEodGEueWEsbGEpO2lmKCFoYihYYSxcbmIuZXh0ZW50KSljb250aW51ZX1YYT10YS5nZXRTdGF0ZSgpOyhYYT0yPT1YYXx8ND09WGF8fDM9PVhhJiYhaWEpfHwodGE9cGoodGEpKTtYYT10YS5nZXRTdGF0ZSgpO2lmKDI9PVhhKXtpZihkLmEuYS5oYXNPd25Qcm9wZXJ0eSh0YS5sYigpKSl7Y1tuXVt0YS55YS50b1N0cmluZygpXT10YTtjb250aW51ZX19ZWxzZSBpZig0PT1YYXx8Mz09WGEmJiFpYSljb250aW51ZTtJYT0hMTtYYT11YyhtLHRhLnlhLGNhLHhhLGxhKTtYYXx8KHRhPXZjKG0sdGEueWEseGEsbGEpKSYmY2EobisxLHRhKX1iPU9iamVjdC5rZXlzKGMpLm1hcChOdW1iZXIpO2Iuc29ydChkYyk7Y2E9bmV3IEZsb2F0MzJBcnJheSg0KTt2YXIgWjtpYT0wO2Zvcih4YT1iLmxlbmd0aDtpYTx4YTsrK2lhKWZvcihaIGluIFZhPWNbYltpYV1dLFZhKXRhPVZhW1pdLFhhPW0uTWEodGEueWEsbGEpLGNhWzBdPTIqKFhhWzJdLVhhWzBdKS9TLGNhWzFdPTIqKFhhWzNdLVhhWzFdKS9TLGNhWzJdPTIqKFhhWzBdLXVbMF0pL1xuUy0xLGNhWzNdPTIqKFhhWzFdLXVbMV0pL1MtMSxlLnVuaWZvcm00ZnYodGhpcy5pLmMsY2EpLHRuKGQsdGEscSx2KnIpLGUuZHJhd0FycmF5cyg1LDAsNCk7SWE/KHRoaXMubD1FLHRoaXMuRD11LHRoaXMucz1sLmcpOih0aGlzLkQ9dGhpcy5sPW51bGwsdGhpcy5zPS0xLGEuYW5pbWF0ZT0hMCl9VmkoYS51c2VkVGlsZXMsbCxuLEUpO3ZhciBaYj1kLmo7V2koYSxsLG0scixnLEEsbixoLmMoKSxmdW5jdGlvbihhKXsyIT1hLmdldFN0YXRlKCl8fGQuYS5hLmhhc093blByb3BlcnR5KGEubGIoKSl8fGEubGIoKWluIFpiLmF8fFpiLmkoW2EseWMobSxhLnlhKSxtLlRhKGEueWFbMF0pLHEsdipyXSl9LHRoaXMpO1RpKGEsbCk7VWkoYSxsKTtlPXRoaXMudjtYZShlKTtkZihlLChNYXRoLnJvdW5kKHpbMF0vcCkqcC11WzBdKS8odVsyXS11WzBdKSwoTWF0aC5yb3VuZCh6WzFdL3ApKnAtdVsxXSkvKHVbM10tdVsxXSkpOzAhPT1mLnJvdGF0aW9uJiZiZihlLGYucm90YXRpb24pO2NmKGUsXG5hLnNpemVbMF0qZi5yZXNvbHV0aW9uLyh1WzJdLXVbMF0pLGEuc2l6ZVsxXSpmLnJlc29sdXRpb24vKHVbM10tdVsxXSkpO2RmKGUsLS41LC0uNSk7cmV0dXJuITB9O2suemc9ZnVuY3Rpb24oYSxiLGMsZCl7aWYodGhpcy5mKXthPWFmKHRoaXMudixbYVswXS9iLnNpemVbMF0sKGIuc2l6ZVsxXS1hWzFdKS9iLnNpemVbMV1dLnNsaWNlKCkpO2E9W2FbMF0qdGhpcy5qLGFbMV0qdGhpcy5qXTtiPXRoaXMuYy5pLmI7Yi5iaW5kRnJhbWVidWZmZXIoYi5GUkFNRUJVRkZFUix0aGlzLmYpO3ZhciBlPW5ldyBVaW50OEFycmF5KDQpO2IucmVhZFBpeGVscyhhWzBdLGFbMV0sMSwxLGIuUkdCQSxiLlVOU0lHTkVEX0JZVEUsZSk7aWYoMDxlWzNdKXJldHVybiBjLmNhbGwoZCx0aGlzLmEsZSl9fTtmdW5jdGlvbiBBbihhLGIpe21uLmNhbGwodGhpcyxhLGIpO3RoaXMucz0hMTt0aGlzLk89LTE7dGhpcy5UPU5hTjt0aGlzLkQ9RGEoKTt0aGlzLmw9dGhpcy5pPXRoaXMuQj1udWxsfXcoQW4sbW4pO0FuLmhhbmRsZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm5cIndlYmdsXCI9PT1hJiZcIlZFQ1RPUlwiPT09Yi5TKCl9O0FuLmNyZWF0ZT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgQW4oYSxiKX07az1Bbi5wcm90b3R5cGU7ay5aaT1mdW5jdGlvbihhLGIsYyl7dGhpcy5sPWI7dmFyIGQ9YS52aWV3U3RhdGUsZT10aGlzLmksZj1hLnNpemUsZz1hLnBpeGVsUmF0aW8saD10aGlzLmMuZztlJiYhZS55ZygpJiYoaC5lbmFibGUoaC5TQ0lTU09SX1RFU1QpLGguc2Npc3NvcigwLDAsZlswXSpnLGZbMV0qZyksZS5OYShjLGQuY2VudGVyLGQucmVzb2x1dGlvbixkLnJvdGF0aW9uLGYsZyxiLm9wYWNpdHksYi5UZT9hLnNraXBwZWRGZWF0dXJlVWlkczp7fSksaC5kaXNhYmxlKGguU0NJU1NPUl9URVNUKSl9O1xuay5pYT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaTthJiYoYW4oYSx0aGlzLmMuaSkoKSx0aGlzLmk9bnVsbCk7bW4ucHJvdG90eXBlLmlhLmNhbGwodGhpcyl9O2sud2E9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZih0aGlzLmkmJnRoaXMubCl7Yz1iLnZpZXdTdGF0ZTt2YXIgZj10aGlzLmEsZz17fTtyZXR1cm4gdGhpcy5pLndhKGEsdGhpcy5jLmksYy5jZW50ZXIsYy5yZXNvbHV0aW9uLGMucm90YXRpb24sYi5zaXplLGIucGl4ZWxSYXRpbyx0aGlzLmwub3BhY2l0eSx7fSxmdW5jdGlvbihhKXt2YXIgYj14KGEpLnRvU3RyaW5nKCk7aWYoIShiIGluIGcpKXJldHVybiBnW2JdPSEwLGQuY2FsbChlLGEsZil9KX19O2suY2Y9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmkmJnRoaXMubCl7dmFyIGM9Yi52aWV3U3RhdGU7cmV0dXJuIGZuKHRoaXMuaSxhLHRoaXMuYy5pLGMucmVzb2x1dGlvbixjLnJvdGF0aW9uLGIucGl4ZWxSYXRpbyx0aGlzLmwub3BhY2l0eSxiLnNraXBwZWRGZWF0dXJlVWlkcyl9cmV0dXJuITF9O1xuay56Zz1mdW5jdGlvbihhLGIsYyxkKXthPWFmKGIucGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm0sYS5zbGljZSgpKTtpZih0aGlzLmNmKGEsYikpcmV0dXJuIGMuY2FsbChkLHRoaXMuYSxudWxsKX07ay4kaT1mdW5jdGlvbigpe01pKHRoaXMpfTtcbmsuQmc9ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSl7dmFyIGI9YS5pYigpO2lmKGIpdmFyIGM9Yi5jYWxsKGEsbSk7ZWxzZShiPWUuaWIoKSkmJihjPWIoYSxtKSk7aWYoYyl7aWYoYyl7Yj0hMTtpZihBcnJheS5pc0FycmF5KGMpKWZvcih2YXIgZD1jLmxlbmd0aC0xOzA8PWQ7LS1kKWI9ZWsocSxhLGNbZF0sZGsobSxuKSx0aGlzLiRpLHRoaXMpfHxiO2Vsc2UgYj1layhxLGEsYyxkayhtLG4pLHRoaXMuJGksdGhpcyl8fGI7YT1ifWVsc2UgYT0hMTt0aGlzLnM9dGhpcy5zfHxhfX12YXIgZT10aGlzLmE7Yj1lLmhhKCk7VWkoYSxiKTt2YXIgZj1hLnZpZXdIaW50c1swXSxnPWEudmlld0hpbnRzWzFdLGg9ZS5jYSxsPWUucmE7aWYoIXRoaXMucyYmIWgmJmZ8fCFsJiZnKXJldHVybiEwO2c9YS5leHRlbnQ7aD1hLnZpZXdTdGF0ZTtmPWgucHJvamVjdGlvbjt2YXIgbT1oLnJlc29sdXRpb24sbj1hLnBpeGVsUmF0aW87aD1lLmc7dmFyIHA9ZS5mO2w9ZS5nZXQoaWspO3ZvaWQgMD09PVxubCYmKGw9Y2spO2c9RmEoZyxwKm0pO2lmKCF0aGlzLnMmJnRoaXMuVD09bSYmdGhpcy5PPT1oJiZ0aGlzLkI9PWwmJkxhKHRoaXMuRCxnKSlyZXR1cm4hMDt0aGlzLmkmJmEucG9zdFJlbmRlckZ1bmN0aW9ucy5wdXNoKGFuKHRoaXMuaSxjKSk7dGhpcy5zPSExO3ZhciBxPW5ldyAkbSguNSptL24sZyxlLmYpO2IuYWUoZyxtLGYpO2lmKGwpe3ZhciByPVtdO2IuZWMoZyxmdW5jdGlvbihhKXtyLnB1c2goYSl9LHRoaXMpO3Iuc29ydChsKTtyLmZvckVhY2goZCx0aGlzKX1lbHNlIGIuZWMoZyxkLHRoaXMpO2JuKHEsYyk7dGhpcy5UPW07dGhpcy5PPWg7dGhpcy5CPWw7dGhpcy5EPWc7dGhpcy5pPXE7cmV0dXJuITB9O3FnKFwiTUFQX1JFTkRFUkVSXCIsa2opO3JnKFtiaixtaixoayxqa10pO3FnKFwiTUFQX1JFTkRFUkVSXCIsc24pO3JnKFtwbix6bixBbl0pO2Z1bmN0aW9uIEsoYSl7YT1rYih7fSxhKTthLmNvbnRyb2xzfHwoYS5jb250cm9scz1GZygpKTthLmludGVyYWN0aW9uc3x8KGEuaW50ZXJhY3Rpb25zPVpoKCkpO0cuY2FsbCh0aGlzLGEpfXcoSyxHKTtmdW5jdGlvbiBCbihhKXtWYy5jYWxsKHRoaXMpO3RoaXMuaWQ9YS5pZDt0aGlzLmluc2VydEZpcnN0PXZvaWQgMCE9PWEuaW5zZXJ0Rmlyc3Q/YS5pbnNlcnRGaXJzdDohMDt0aGlzLnN0b3BFdmVudD12b2lkIDAhPT1hLnN0b3BFdmVudD9hLnN0b3BFdmVudDohMDt0aGlzLmVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTt0aGlzLmVsZW1lbnQuY2xhc3NOYW1lPXZvaWQgMCE9PWEuY2xhc3NOYW1lP2EuY2xhc3NOYW1lOlwib2wtb3ZlcmxheS1jb250YWluZXIgb2wtc2VsZWN0YWJsZVwiO3RoaXMuZWxlbWVudC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCI7dGhpcy5hdXRvUGFuPXZvaWQgMCE9PWEuYXV0b1Bhbj9hLmF1dG9QYW46ITE7dGhpcy5hdXRvUGFuQW5pbWF0aW9uPWEuYXV0b1BhbkFuaW1hdGlvbnx8e307dGhpcy5hdXRvUGFuTWFyZ2luPXZvaWQgMCE9PWEuYXV0b1Bhbk1hcmdpbj9hLmF1dG9QYW5NYXJnaW46MjA7dGhpcy5hPXt6ZTpcIlwiLFNlOlwiXCIseGY6XCJcIixcbkVmOlwiXCIsdmlzaWJsZTohMH07dGhpcy5jPW51bGw7eSh0aGlzLFhjKENuKSx0aGlzLmFtLHRoaXMpO3kodGhpcyxYYyhEbiksdGhpcy5rbSx0aGlzKTt5KHRoaXMsWGMoRW4pLHRoaXMub20sdGhpcyk7eSh0aGlzLFhjKEZuKSx0aGlzLnFtLHRoaXMpO3kodGhpcyxYYyhHbiksdGhpcy5ybSx0aGlzKTt2b2lkIDAhPT1hLmVsZW1lbnQmJnRoaXMuSGooYS5lbGVtZW50KTt0aGlzLk1qKHZvaWQgMCE9PWEub2Zmc2V0P2Eub2Zmc2V0OlswLDBdKTt0aGlzLlBqKHZvaWQgMCE9PWEucG9zaXRpb25pbmc/YS5wb3NpdGlvbmluZzpcInRvcC1sZWZ0XCIpO3ZvaWQgMCE9PWEucG9zaXRpb24mJnRoaXMuV2UoYS5wb3NpdGlvbil9dyhCbixWYyk7az1Cbi5wcm90b3R5cGU7ay5SZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChDbil9O2subm49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZH07ay5WZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChEbil9O2suWGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoRW4pfTtcbmsucGk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoRm4pfTtrLlloPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KEduKX07ay5hbT1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmVsZW1lbnQ7YS5sYXN0Q2hpbGQ7KWEucmVtb3ZlQ2hpbGQoYS5sYXN0Q2hpbGQpOyhhPXRoaXMuUmQoKSkmJnRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChhKX07ay5rbT1mdW5jdGlvbigpe3RoaXMuYyYmKGpnKHRoaXMuZWxlbWVudCksR2ModGhpcy5jKSx0aGlzLmM9bnVsbCk7dmFyIGE9dGhpcy5WZSgpO2EmJih0aGlzLmM9eShhLFwicG9zdHJlbmRlclwiLHRoaXMucmVuZGVyLHRoaXMpLEhuKHRoaXMpLGE9dGhpcy5zdG9wRXZlbnQ/YS52OmEubyx0aGlzLmluc2VydEZpcnN0P2EuaW5zZXJ0QmVmb3JlKHRoaXMuZWxlbWVudCxhLmNoaWxkTm9kZXNbMF18fG51bGwpOmEuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KSl9O2sucmVuZGVyPWZ1bmN0aW9uKCl7SG4odGhpcyl9O2sub209ZnVuY3Rpb24oKXtIbih0aGlzKX07XG5rLnFtPWZ1bmN0aW9uKCl7SG4odGhpcyk7aWYodGhpcy5nZXQoRm4pJiZ0aGlzLmF1dG9QYW4pe3ZhciBhPXRoaXMuVmUoKTtpZihhJiZhLkNjKCkpe3ZhciBiPUluKGEuQ2MoKSxhLkNiKCkpLGM9dGhpcy5SZCgpLGQ9Yy5vZmZzZXRXaWR0aCxlPWdldENvbXB1dGVkU3R5bGUoYyk7ZCs9cGFyc2VJbnQoZS5tYXJnaW5MZWZ0LDEwKStwYXJzZUludChlLm1hcmdpblJpZ2h0LDEwKTtlPWMub2Zmc2V0SGVpZ2h0O3ZhciBmPWdldENvbXB1dGVkU3R5bGUoYyk7ZSs9cGFyc2VJbnQoZi5tYXJnaW5Ub3AsMTApK3BhcnNlSW50KGYubWFyZ2luQm90dG9tLDEwKTt2YXIgZz1JbihjLFtkLGVdKTtjPXRoaXMuYXV0b1Bhbk1hcmdpbjtMYShiLGcpfHwoZD1nWzBdLWJbMF0sZT1iWzJdLWdbMl0sZj1nWzFdLWJbMV0sZz1iWzNdLWdbM10sYj1bMCwwXSwwPmQ/YlswXT1kLWM6MD5lJiYoYlswXT1NYXRoLmFicyhlKStjKSwwPmY/YlsxXT1mLWM6MD5nJiYoYlsxXT1NYXRoLmFicyhnKStjKSwwPT09XG5iWzBdJiYwPT09YlsxXSl8fChjPWEuYWEoKS54YSgpLGM9YS5JYShjKSxiPVtjWzBdK2JbMF0sY1sxXStiWzFdXSxhLmFhKCkuYW5pbWF0ZSh7Y2VudGVyOmEuUmEoYiksZHVyYXRpb246dGhpcy5hdXRvUGFuQW5pbWF0aW9uLmR1cmF0aW9uLGVhc2luZzp0aGlzLmF1dG9QYW5BbmltYXRpb24uZWFzaW5nfSkpfX19O2sucm09ZnVuY3Rpb24oKXtIbih0aGlzKX07ay5Iaj1mdW5jdGlvbihhKXt0aGlzLnNldChDbixhKX07ay5zZXRNYXA9ZnVuY3Rpb24oYSl7dGhpcy5zZXQoRG4sYSl9O2suTWo9ZnVuY3Rpb24oYSl7dGhpcy5zZXQoRW4sYSl9O2suV2U9ZnVuY3Rpb24oYSl7dGhpcy5zZXQoRm4sYSl9O2Z1bmN0aW9uIEluKGEsYil7dmFyIGM9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTthPWMubGVmdCt3aW5kb3cucGFnZVhPZmZzZXQ7Yz1jLnRvcCt3aW5kb3cucGFnZVlPZmZzZXQ7cmV0dXJuW2EsYyxhK2JbMF0sYytiWzFdXX1rLlBqPWZ1bmN0aW9uKGEpe3RoaXMuc2V0KEduLGEpfTtcbmZ1bmN0aW9uIEpuKGEsYil7YS5hLnZpc2libGUhPT1iJiYoYS5lbGVtZW50LnN0eWxlLmRpc3BsYXk9Yj9cIlwiOlwibm9uZVwiLGEuYS52aXNpYmxlPWIpfVxuZnVuY3Rpb24gSG4oYSl7dmFyIGI9YS5WZSgpLGM9YS5waSgpO2lmKGImJmIuYyYmYyl7Yz1iLklhKGMpO3ZhciBkPWIuQ2IoKTtiPWEuZWxlbWVudC5zdHlsZTt2YXIgZT1hLlhoKCksZj1hLlloKCk7Sm4oYSwhMCk7dmFyIGc9ZVswXTtlPWVbMV07aWYoXCJib3R0b20tcmlnaHRcIj09Znx8XCJjZW50ZXItcmlnaHRcIj09Znx8XCJ0b3AtcmlnaHRcIj09ZilcIlwiIT09YS5hLlNlJiYoYS5hLlNlPWIubGVmdD1cIlwiKSxnPU1hdGgucm91bmQoZFswXS1jWzBdLWcpK1wicHhcIixhLmEueGYhPWcmJihhLmEueGY9Yi5yaWdodD1nKTtlbHNle1wiXCIhPT1hLmEueGYmJihhLmEueGY9Yi5yaWdodD1cIlwiKTtpZihcImJvdHRvbS1jZW50ZXJcIj09Znx8XCJjZW50ZXItY2VudGVyXCI9PWZ8fFwidG9wLWNlbnRlclwiPT1mKWctPWEuZWxlbWVudC5vZmZzZXRXaWR0aC8yO2c9TWF0aC5yb3VuZChjWzBdK2cpK1wicHhcIjthLmEuU2UhPWcmJihhLmEuU2U9Yi5sZWZ0PWcpfWlmKFwiYm90dG9tLWxlZnRcIj09Znx8XCJib3R0b20tY2VudGVyXCI9PVxuZnx8XCJib3R0b20tcmlnaHRcIj09ZilcIlwiIT09YS5hLkVmJiYoYS5hLkVmPWIudG9wPVwiXCIpLGM9TWF0aC5yb3VuZChkWzFdLWNbMV0tZSkrXCJweFwiLGEuYS56ZSE9YyYmKGEuYS56ZT1iLmJvdHRvbT1jKTtlbHNle1wiXCIhPT1hLmEuemUmJihhLmEuemU9Yi5ib3R0b209XCJcIik7aWYoXCJjZW50ZXItbGVmdFwiPT1mfHxcImNlbnRlci1jZW50ZXJcIj09Znx8XCJjZW50ZXItcmlnaHRcIj09ZillLT1hLmVsZW1lbnQub2Zmc2V0SGVpZ2h0LzI7Yz1NYXRoLnJvdW5kKGNbMV0rZSkrXCJweFwiO2EuYS5FZiE9YyYmKGEuYS5FZj1iLnRvcD1jKX19ZWxzZSBKbihhLCExKX12YXIgQ249XCJlbGVtZW50XCIsRG49XCJtYXBcIixFbj1cIm9mZnNldFwiLEZuPVwicG9zaXRpb25cIixHbj1cInBvc2l0aW9uaW5nXCI7ZnVuY3Rpb24gS24oYSxiLGMsZCxlLGYpe2NsLmNhbGwodGhpcyxhLGIsZik7dGhpcy5jPTA7dGhpcy5sPW51bGw7dGhpcy52PWQ7dGhpcy5hPW51bGw7dGhpcy5mPXt9O3RoaXMuQz1lO3RoaXMuTj1jfXcoS24sY2wpO2s9S24ucHJvdG90eXBlO2suaWE9ZnVuY3Rpb24oKXt0aGlzLmE9bnVsbDt0aGlzLmY9e307dGhpcy5zdGF0ZT01O3RoaXMudSgpO2NsLnByb3RvdHlwZS5pYS5jYWxsKHRoaXMpfTtrLkc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sfHxMbn07ay5xbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZ9O2sucG49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtrLmxiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTn07ay5ybj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm99O2Z1bmN0aW9uIG9rKGEsYixjKXtyZXR1cm4gYS5mW3goYikrXCIsXCIrY119XG5rLmxvYWQ9ZnVuY3Rpb24oKXswPT10aGlzLnN0YXRlJiYob2oodGhpcywxKSx0aGlzLkModGhpcyx0aGlzLk4pLHRoaXMuRChudWxsLE5hTixudWxsKSl9O2suQ3A9ZnVuY3Rpb24oYSxiLGMpe3RoaXMudmcoYik7dGhpcy5JaihhKTt0aGlzLnJpKGMpfTtrLkJwPWZ1bmN0aW9uKCl7b2oodGhpcywzKX07ay5yaT1mdW5jdGlvbihhKXt0aGlzLmw9YX07ay5Jaj1mdW5jdGlvbihhKXt0aGlzLmE9YTtvaih0aGlzLDIpfTtrLnZnPWZ1bmN0aW9uKGEpe3RoaXMubz1hfTtrLnVnPWZ1bmN0aW9uKGEpe3RoaXMuRD1hfTt2YXIgTG49WzAsMCw0MDk2LDQwOTZdO2Z1bmN0aW9uIE1uKGEpe2E9YT9hOnt9O3RoaXMuYz12b2lkIDAhPT1hLmNsYXNzTmFtZT9hLmNsYXNzTmFtZTpcIm9sLWZ1bGwtc2NyZWVuXCI7dmFyIGI9dm9pZCAwIT09YS5sYWJlbD9hLmxhYmVsOlwiXFx1MjkyMlwiO3RoaXMubD1cInN0cmluZ1wiPT09dHlwZW9mIGI/ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYik6YjtiPXZvaWQgMCE9PWEubGFiZWxBY3RpdmU/YS5sYWJlbEFjdGl2ZTpcIlxcdTAwZDdcIjt0aGlzLnY9XCJzdHJpbmdcIj09PXR5cGVvZiBiP2RvY3VtZW50LmNyZWF0ZVRleHROb2RlKGIpOmI7dmFyIGM9YS50aXBMYWJlbD9hLnRpcExhYmVsOlwiVG9nZ2xlIGZ1bGwtc2NyZWVuXCI7Yj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO2IuY2xhc3NOYW1lPXRoaXMuYytcIi1cIitObigpO2Iuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiYnV0dG9uXCIpO2IudGl0bGU9YztiLmFwcGVuZENoaWxkKHRoaXMubCk7eShiLFwiY2xpY2tcIix0aGlzLkMsdGhpcyk7Yz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuYy5jbGFzc05hbWU9dGhpcy5jK1wiIG9sLXVuc2VsZWN0YWJsZSBvbC1jb250cm9sIFwiKyhPbigpP1wiXCI6XCJvbC11bnN1cHBvcnRlZFwiKTtjLmFwcGVuZENoaWxkKGIpO3ZnLmNhbGwodGhpcyx7ZWxlbWVudDpjLHRhcmdldDphLnRhcmdldH0pO3RoaXMuRD12b2lkIDAhPT1hLmtleXM/YS5rZXlzOiExO3RoaXMuaj1hLnNvdXJjZX13KE1uLHZnKTtcbk1uLnByb3RvdHlwZS5DPWZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKTtPbigpJiYoYT10aGlzLmEpJiYoTm4oKT9kb2N1bWVudC5leGl0RnVsbHNjcmVlbj9kb2N1bWVudC5leGl0RnVsbHNjcmVlbigpOmRvY3VtZW50Lm1zRXhpdEZ1bGxzY3JlZW4/ZG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbigpOmRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4/ZG9jdW1lbnQubW96Q2FuY2VsRnVsbFNjcmVlbigpOmRvY3VtZW50LndlYmtpdEV4aXRGdWxsc2NyZWVuJiZkb2N1bWVudC53ZWJraXRFeGl0RnVsbHNjcmVlbigpOihhPXRoaXMuaj9cInN0cmluZ1wiPT09dHlwZW9mIHRoaXMuaj9kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmopOnRoaXMuajphLkNjKCksdGhpcy5EP2EubW96UmVxdWVzdEZ1bGxTY3JlZW5XaXRoS2V5cz9hLm1velJlcXVlc3RGdWxsU2NyZWVuV2l0aEtleXMoKTphLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuP2Eud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oRWxlbWVudC5BTExPV19LRVlCT0FSRF9JTlBVVCk6XG5QbihhKTpQbihhKSkpfTtNbi5wcm90b3R5cGUubz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZCxiPXRoaXMuYTtObigpPyhhLmNsYXNzTmFtZT10aGlzLmMrXCItdHJ1ZVwiLGlnKHRoaXMudix0aGlzLmwpKTooYS5jbGFzc05hbWU9dGhpcy5jK1wiLWZhbHNlXCIsaWcodGhpcy5sLHRoaXMudikpO2ImJmIuT2MoKX07TW4ucHJvdG90eXBlLnNldE1hcD1mdW5jdGlvbihhKXt2Zy5wcm90b3R5cGUuc2V0TWFwLmNhbGwodGhpcyxhKTthJiZ0aGlzLnMucHVzaCh5KGRvY3VtZW50LFFuKCksdGhpcy5vLHRoaXMpKX07XG5mdW5jdGlvbiBPbigpe3ZhciBhPWRvY3VtZW50LmJvZHk7cmV0dXJuISEoYS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbnx8YS5tb3pSZXF1ZXN0RnVsbFNjcmVlbiYmZG9jdW1lbnQubW96RnVsbFNjcmVlbkVuYWJsZWR8fGEubXNSZXF1ZXN0RnVsbHNjcmVlbiYmZG9jdW1lbnQubXNGdWxsc2NyZWVuRW5hYmxlZHx8YS5yZXF1ZXN0RnVsbHNjcmVlbiYmZG9jdW1lbnQuZnVsbHNjcmVlbkVuYWJsZWQpfWZ1bmN0aW9uIE5uKCl7cmV0dXJuISEoZG9jdW1lbnQud2Via2l0SXNGdWxsU2NyZWVufHxkb2N1bWVudC5tb3pGdWxsU2NyZWVufHxkb2N1bWVudC5tc0Z1bGxzY3JlZW5FbGVtZW50fHxkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCl9XG5mdW5jdGlvbiBQbihhKXthLnJlcXVlc3RGdWxsc2NyZWVuP2EucmVxdWVzdEZ1bGxzY3JlZW4oKTphLm1zUmVxdWVzdEZ1bGxzY3JlZW4/YS5tc1JlcXVlc3RGdWxsc2NyZWVuKCk6YS5tb3pSZXF1ZXN0RnVsbFNjcmVlbj9hLm1velJlcXVlc3RGdWxsU2NyZWVuKCk6YS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbiYmYS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbigpfXZhciBRbj1mdW5jdGlvbigpe3ZhciBhO3JldHVybiBmdW5jdGlvbigpe2lmKCFhKXt2YXIgYj1kb2N1bWVudC5ib2R5O2Iud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4/YT1cIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIjpiLm1velJlcXVlc3RGdWxsU2NyZWVuP2E9XCJtb3pmdWxsc2NyZWVuY2hhbmdlXCI6Yi5tc1JlcXVlc3RGdWxsc2NyZWVuP2E9XCJNU0Z1bGxzY3JlZW5DaGFuZ2VcIjpiLnJlcXVlc3RGdWxsc2NyZWVuJiYoYT1cImZ1bGxzY3JlZW5jaGFuZ2VcIil9cmV0dXJuIGF9fSgpO2Z1bmN0aW9uIFJuKGEpe2E9YT9hOnt9O3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7Yi5jbGFzc05hbWU9dm9pZCAwIT09YS5jbGFzc05hbWU/YS5jbGFzc05hbWU6XCJvbC1tb3VzZS1wb3NpdGlvblwiO3ZnLmNhbGwodGhpcyx7ZWxlbWVudDpiLHJlbmRlcjphLnJlbmRlcj9hLnJlbmRlcjpTbix0YXJnZXQ6YS50YXJnZXR9KTt5KHRoaXMsWGMoVG4pLHRoaXMuRW4sdGhpcyk7YS5jb29yZGluYXRlRm9ybWF0JiZ0aGlzLkdqKGEuY29vcmRpbmF0ZUZvcm1hdCk7YS5wcm9qZWN0aW9uJiZ0aGlzLnRpKGEucHJvamVjdGlvbik7dGhpcy5vPXZvaWQgMCE9PWEudW5kZWZpbmVkSFRNTD9hLnVuZGVmaW5lZEhUTUw6XCJcIjt0aGlzLnY9Yi5pbm5lckhUTUw7dGhpcy5sPXRoaXMuaj10aGlzLmM9bnVsbH13KFJuLHZnKTtcbmZ1bmN0aW9uIFNuKGEpe2E9YS5mcmFtZVN0YXRlO2E/dGhpcy5jIT1hLnZpZXdTdGF0ZS5wcm9qZWN0aW9uJiYodGhpcy5jPWEudmlld1N0YXRlLnByb2plY3Rpb24sdGhpcy5qPW51bGwpOnRoaXMuYz1udWxsO1VuKHRoaXMsdGhpcy5sKX1rPVJuLnByb3RvdHlwZTtrLkVuPWZ1bmN0aW9uKCl7dGhpcy5qPW51bGx9O2suUWg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoVm4pfTtrLnNpPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KFRuKX07ay5tbT1mdW5jdGlvbihhKXt0aGlzLmw9dGhpcy5hLnVkKGEpO1VuKHRoaXMsdGhpcy5sKX07ay5ubT1mdW5jdGlvbigpe1VuKHRoaXMsbnVsbCk7dGhpcy5sPW51bGx9O2suc2V0TWFwPWZ1bmN0aW9uKGEpe3ZnLnByb3RvdHlwZS5zZXRNYXAuY2FsbCh0aGlzLGEpO2EmJihhPWEuYSx0aGlzLnMucHVzaCh5KGEsXCJtb3VzZW1vdmVcIix0aGlzLm1tLHRoaXMpLHkoYSxcIm1vdXNlb3V0XCIsdGhpcy5ubSx0aGlzKSkpfTtcbmsuR2o9ZnVuY3Rpb24oYSl7dGhpcy5zZXQoVm4sYSl9O2sudGk9ZnVuY3Rpb24oYSl7dGhpcy5zZXQoVG4sT2IoYSkpfTtmdW5jdGlvbiBVbihhLGIpe3ZhciBjPWEubztpZihiJiZhLmMpe2lmKCFhLmope3ZhciBkPWEuc2koKTthLmo9ZD9QYihhLmMsZCk6JGJ9aWYoYj1hLmEuUmEoYikpYS5qKGIsYiksYz0oYz1hLlFoKCkpP2MoYik6Yi50b1N0cmluZygpfWEudiYmYz09YS52fHwoYS5lbGVtZW50LmlubmVySFRNTD1jLGEudj1jKX12YXIgVG49XCJwcm9qZWN0aW9uXCIsVm49XCJjb29yZGluYXRlRm9ybWF0XCI7ZnVuY3Rpb24gV24oYSl7ZnVuY3Rpb24gYihhKXthPWguU2QoYSk7bC5hLmFhKCkudWIoYSk7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixjKTt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIixiKX1mdW5jdGlvbiBjKGEpe2E9aC5TZCh7Y2xpZW50WDphLmNsaWVudFgtbi5vZmZzZXRXaWR0aC8yLGNsaWVudFk6YS5jbGllbnRZK24ub2Zmc2V0SGVpZ2h0LzJ9KTttLldlKGEpfWE9YT9hOnt9O3RoaXMuaj12b2lkIDAhPT1hLmNvbGxhcHNlZD9hLmNvbGxhcHNlZDohMDt0aGlzLmw9dm9pZCAwIT09YS5jb2xsYXBzaWJsZT9hLmNvbGxhcHNpYmxlOiEwO3RoaXMubHx8KHRoaXMuaj0hMSk7dmFyIGQ9dm9pZCAwIT09YS5jbGFzc05hbWU/YS5jbGFzc05hbWU6XCJvbC1vdmVydmlld21hcFwiLGU9dm9pZCAwIT09YS50aXBMYWJlbD9hLnRpcExhYmVsOlwiT3ZlcnZpZXcgbWFwXCIsZj12b2lkIDAhPT1hLmNvbGxhcHNlTGFiZWw/YS5jb2xsYXBzZUxhYmVsOlxuXCJcXHUwMGFiXCI7XCJzdHJpbmdcIj09PXR5cGVvZiBmPyh0aGlzLm89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIiksdGhpcy5vLnRleHRDb250ZW50PWYpOnRoaXMubz1mO2Y9dm9pZCAwIT09YS5sYWJlbD9hLmxhYmVsOlwiXFx1MDBiYlwiO1wic3RyaW5nXCI9PT10eXBlb2YgZj8odGhpcy5EPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLHRoaXMuRC50ZXh0Q29udGVudD1mKTp0aGlzLkQ9Zjt2YXIgZz10aGlzLmwmJiF0aGlzLmo/dGhpcy5vOnRoaXMuRDtmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7Zi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJidXR0b25cIik7Zi50aXRsZT1lO2YuYXBwZW5kQ2hpbGQoZyk7eShmLFwiY2xpY2tcIix0aGlzLkhuLHRoaXMpO3RoaXMuQz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO3RoaXMuQy5jbGFzc05hbWU9XCJvbC1vdmVydmlld21hcC1tYXBcIjt2YXIgaD10aGlzLmM9bmV3IEcoe2NvbnRyb2xzOm5ldyBCLGludGVyYWN0aW9uczpuZXcgQixcbnZpZXc6YS52aWV3fSk7YS5sYXllcnMmJmEubGF5ZXJzLmZvckVhY2goZnVuY3Rpb24oYSl7aC54ZShhKX0sdGhpcyk7ZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO2UuY2xhc3NOYW1lPVwib2wtb3ZlcnZpZXdtYXAtYm94XCI7ZS5zdHlsZS5ib3hTaXppbmc9XCJib3JkZXItYm94XCI7dGhpcy52PW5ldyBCbih7cG9zaXRpb246WzAsMF0scG9zaXRpb25pbmc6XCJib3R0b20tbGVmdFwiLGVsZW1lbnQ6ZX0pO3RoaXMuYy55ZSh0aGlzLnYpO2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtlLmNsYXNzTmFtZT1kK1wiIG9sLXVuc2VsZWN0YWJsZSBvbC1jb250cm9sXCIrKHRoaXMuaiYmdGhpcy5sP1wiIG9sLWNvbGxhcHNlZFwiOlwiXCIpKyh0aGlzLmw/XCJcIjpcIiBvbC11bmNvbGxhcHNpYmxlXCIpO2UuYXBwZW5kQ2hpbGQodGhpcy5DKTtlLmFwcGVuZENoaWxkKGYpO3ZnLmNhbGwodGhpcyx7ZWxlbWVudDplLHJlbmRlcjphLnJlbmRlcj9hLnJlbmRlcjpYbix0YXJnZXQ6YS50YXJnZXR9KTtcbnZhciBsPXRoaXMsbT10aGlzLnYsbj10aGlzLnYuUmQoKTtuLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIixmdW5jdGlvbigpe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsYyk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsYil9KX13KFduLHZnKTtrPVduLnByb3RvdHlwZTtrLnNldE1hcD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmE7YSE9PWImJihiJiYoKGI9Yi5hYSgpKSYmTWMoYixYYyhcInJvdGF0aW9uXCIpLHRoaXMuUWUsdGhpcyksdGhpcy5jLkFkKG51bGwpKSx2Zy5wcm90b3R5cGUuc2V0TWFwLmNhbGwodGhpcyxhKSxhJiYodGhpcy5jLkFkKHRoaXMuQyksdGhpcy5zLnB1c2goeShhLFwicHJvcGVydHljaGFuZ2VcIix0aGlzLmxtLHRoaXMpKSwwPT09dGhpcy5jLlhlKCkua2MoKSYmdGhpcy5jLnpmKGEuaGMoKSksYT1hLmFhKCkpKSYmKHkoYSxYYyhcInJvdGF0aW9uXCIpLHRoaXMuUWUsdGhpcyksYWcoYSkmJih0aGlzLmMuT2MoKSxZbih0aGlzKSkpfTtcbmsubG09ZnVuY3Rpb24oYSl7XCJ2aWV3XCI9PT1hLmtleSYmKChhPWEub2xkVmFsdWUpJiZNYyhhLFhjKFwicm90YXRpb25cIiksdGhpcy5RZSx0aGlzKSxhPXRoaXMuYS5hYSgpLHkoYSxYYyhcInJvdGF0aW9uXCIpLHRoaXMuUWUsdGhpcykpfTtrLlFlPWZ1bmN0aW9uKCl7dGhpcy5jLmFhKCkuY2UodGhpcy5hLmFhKCkuU2EoKSl9O2Z1bmN0aW9uIFhuKCl7dmFyIGE9dGhpcy5hLGI9dGhpcy5jO2lmKGEuYyYmYi5jKXt2YXIgYz1hLkNiKCk7YT1hLmFhKCkucWQoYyk7dmFyIGQ9Yi5DYigpO2M9Yi5hYSgpLnFkKGQpO3ZhciBlPWIuSWEoJGEoYSkpLGY9Yi5JYShZYShhKSk7Yj1NYXRoLmFicyhlWzBdLWZbMF0pO2U9TWF0aC5hYnMoZVsxXS1mWzFdKTtmPWRbMF07ZD1kWzFdO2I8LjEqZnx8ZTwuMSpkfHxiPi43NSpmfHxlPi43NSpkP1luKHRoaXMpOkxhKGMsYSl8fChhPXRoaXMuYyxjPXRoaXMuYS5hYSgpLGEuYWEoKS51YihjLnhhKCkpKX1abih0aGlzKX1cbmZ1bmN0aW9uIFluKGEpe3ZhciBiPWEuYTthPWEuYzt2YXIgYz1iLkNiKCk7Yj1iLmFhKCkucWQoYyk7YT1hLmFhKCk7aWIoYiwxLyguMSpNYXRoLnBvdygyLE1hdGgubG9nKDcuNSkvTWF0aC5MTjIvMikpKTthLlVmKGIpfWZ1bmN0aW9uIFpuKGEpe3ZhciBiPWEuYSxjPWEuYztpZihiLmMmJmMuYyl7dmFyIGQ9Yi5DYigpLGU9Yi5hYSgpLGY9Yy5hYSgpO2M9ZS5TYSgpO2I9YS52O3ZhciBnPWEudi5SZCgpLGg9ZS5xZChkKTtkPWYuUGEoKTtlPVdhKGgpO2Y9WmEoaCk7aWYoYT1hLmEuYWEoKS54YSgpKXt2YXIgbD1bZVswXS1hWzBdLGVbMV0tYVsxXV07RmUobCxjKTt6ZShsLGEpfWIuV2UobCk7ZyYmKGcuc3R5bGUud2lkdGg9TWF0aC5hYnMoKGVbMF0tZlswXSkvZCkrXCJweFwiLGcuc3R5bGUuaGVpZ2h0PU1hdGguYWJzKChmWzFdLWVbMV0pL2QpK1wicHhcIil9fWsuSG49ZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpOyRuKHRoaXMpfTtcbmZ1bmN0aW9uICRuKGEpe2EuZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKFwib2wtY29sbGFwc2VkXCIpO2Euaj9pZyhhLm8sYS5EKTppZyhhLkQsYS5vKTthLmo9IWEuajt2YXIgYj1hLmM7YS5qfHxiLmN8fChiLk9jKCksWW4oYSksTGMoYixcInBvc3RyZW5kZXJcIixmdW5jdGlvbigpe1puKHRoaXMpfSxhKSl9ay5Hbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmx9O2suSm49ZnVuY3Rpb24oYSl7dGhpcy5sIT09YSYmKHRoaXMubD1hLHRoaXMuZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKFwib2wtdW5jb2xsYXBzaWJsZVwiKSwhYSYmdGhpcy5qJiYkbih0aGlzKSl9O2suSW49ZnVuY3Rpb24oYSl7dGhpcy5sJiZ0aGlzLmohPT1hJiYkbih0aGlzKX07ay5Gbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmp9O2suSGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTtmdW5jdGlvbiBhbyhhKXthPWE/YTp7fTt2YXIgYj12b2lkIDAhPT1hLmNsYXNzTmFtZT9hLmNsYXNzTmFtZTpcIm9sLXNjYWxlLWxpbmVcIjt0aGlzLmw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTt0aGlzLmwuY2xhc3NOYW1lPWIrXCItaW5uZXJcIjt0aGlzLmM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTt0aGlzLmMuY2xhc3NOYW1lPWIrXCIgb2wtdW5zZWxlY3RhYmxlXCI7dGhpcy5jLmFwcGVuZENoaWxkKHRoaXMubCk7dGhpcy5vPW51bGw7dGhpcy52PXZvaWQgMCE9PWEubWluV2lkdGg/YS5taW5XaWR0aDo2NDt0aGlzLmo9ITE7dGhpcy5CPXZvaWQgMDt0aGlzLkQ9XCJcIjt2Zy5jYWxsKHRoaXMse2VsZW1lbnQ6dGhpcy5jLHJlbmRlcjphLnJlbmRlcj9hLnJlbmRlcjpibyx0YXJnZXQ6YS50YXJnZXR9KTt5KHRoaXMsWGMoY28pLHRoaXMuVix0aGlzKTt0aGlzLk8oYS51bml0c3x8XCJtZXRyaWNcIil9dyhhbyx2Zyk7dmFyIGVvPVsxLDIsNV07YW8ucHJvdG90eXBlLkM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoY28pfTtcbmZ1bmN0aW9uIGJvKGEpeyhhPWEuZnJhbWVTdGF0ZSk/dGhpcy5vPWEudmlld1N0YXRlOnRoaXMubz1udWxsO2ZvKHRoaXMpfWFvLnByb3RvdHlwZS5WPWZ1bmN0aW9uKCl7Zm8odGhpcyl9O2FvLnByb3RvdHlwZS5PPWZ1bmN0aW9uKGEpe3RoaXMuc2V0KGNvLGEpfTtcbmZ1bmN0aW9uIGZvKGEpe3ZhciBiPWEubztpZihiKXt2YXIgYz1iLmNlbnRlcixkPWIucHJvamVjdGlvbixlPWEuQygpO2I9TmIoZCxiLnJlc29sdXRpb24sYyxcImRlZ3JlZXNcIj09ZT9cImRlZ3JlZXNcIjpcIm1cIik7XCJkZWdyZWVzXCIhPWUmJihiKj1kLkJjKCkpO3ZhciBmPWEudipiO2M9XCJcIjtcImRlZ3JlZXNcIj09ZT8oYz11Yi5kZWdyZWVzLFwiZGVncmVlc1wiPT1kLmE/Zio9YzpiLz1jLGY8Yy82MD8oYz1cIlxcdTIwMzNcIixiKj0zNjAwKTpmPGM/KGM9XCJcXHUyMDMyXCIsYio9NjApOmM9XCJcXHUwMGIwXCIpOlwiaW1wZXJpYWxcIj09ZT8uOTE0ND5mPyhjPVwiaW5cIixiLz0uMDI1NCk6MTYwOS4zNDQ+Zj8oYz1cImZ0XCIsYi89LjMwNDgpOihjPVwibWlcIixiLz0xNjA5LjM0NCk6XCJuYXV0aWNhbFwiPT1lPyhiLz0xODUyLGM9XCJubVwiKTpcIm1ldHJpY1wiPT1lPy4wMDE+Zj8oYz1cIlxcdTAzYmNtXCIsYio9MUU2KToxPmY/KGM9XCJtbVwiLGIqPTFFMyk6MUUzPmY/Yz1cIm1cIjooYz1cImttXCIsYi89MUUzKTpcInVzXCI9PWU/LjkxNDQ+Zj9cbihjPVwiaW5cIixiKj0zOS4zNyk6MTYwOS4zNDQ+Zj8oYz1cImZ0XCIsYi89LjMwNDgwMDYxKTooYz1cIm1pXCIsYi89MTYwOS4zNDcyKTpvYSghMSwzMyk7Zm9yKGU9MypNYXRoLmZsb29yKE1hdGgubG9nKGEudipiKS9NYXRoLmxvZygxMCkpOzspe2Y9ZW9bKGUlMyszKSUzXSpNYXRoLnBvdygxMCxNYXRoLmZsb29yKGUvMykpO2Q9TWF0aC5yb3VuZChmL2IpO2lmKGlzTmFOKGQpKXthLmMuc3R5bGUuZGlzcGxheT1cIm5vbmVcIjthLmo9ITE7cmV0dXJufWlmKGQ+PWEudilicmVhazsrK2V9Yj1mK1wiIFwiK2M7YS5EIT1iJiYoYS5sLmlubmVySFRNTD1iLGEuRD1iKTthLkIhPWQmJihhLmwuc3R5bGUud2lkdGg9ZCtcInB4XCIsYS5CPWQpO2Euanx8KGEuYy5zdHlsZS5kaXNwbGF5PVwiXCIsYS5qPSEwKX1lbHNlIGEuaiYmKGEuYy5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGEuaj0hMSl9dmFyIGNvPVwidW5pdHNcIjtmdW5jdGlvbiBnbyhhKXthPWE/YTp7fTt0aGlzLmM9dm9pZCAwO3RoaXMuaj1obzt0aGlzLkQ9dGhpcy52PTA7dGhpcy5PPW51bGw7dGhpcy4kPSExO3RoaXMuVj12b2lkIDAhPT1hLmR1cmF0aW9uP2EuZHVyYXRpb246MjAwO3ZhciBiPXZvaWQgMCE9PWEuY2xhc3NOYW1lP2EuY2xhc3NOYW1lOlwib2wtem9vbXNsaWRlclwiLGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtjLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImJ1dHRvblwiKTtjLmNsYXNzTmFtZT1iK1wiLXRodW1iIG9sLXVuc2VsZWN0YWJsZVwiO3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZC5jbGFzc05hbWU9YitcIiBvbC11bnNlbGVjdGFibGUgb2wtY29udHJvbFwiO2QuYXBwZW5kQ2hpbGQoYyk7dGhpcy5sPW5ldyBYZChkKTt5KHRoaXMubCxcInBvaW50ZXJkb3duXCIsdGhpcy4kbCx0aGlzKTt5KHRoaXMubCxcInBvaW50ZXJtb3ZlXCIsdGhpcy5ZbCx0aGlzKTt5KHRoaXMubCxcInBvaW50ZXJ1cFwiLHRoaXMuWmwsXG50aGlzKTt5KGQsXCJjbGlja1wiLHRoaXMuWGwsdGhpcyk7eShjLFwiY2xpY2tcIixSYyk7dmcuY2FsbCh0aGlzLHtlbGVtZW50OmQscmVuZGVyOmEucmVuZGVyP2EucmVuZGVyOmlvfSl9dyhnbyx2Zyk7Z28ucHJvdG90eXBlLmlhPWZ1bmN0aW9uKCl7UGModGhpcy5sKTt2Zy5wcm90b3R5cGUuaWEuY2FsbCh0aGlzKX07dmFyIGhvPTA7az1nby5wcm90b3R5cGU7ay5zZXRNYXA9ZnVuY3Rpb24oYSl7dmcucHJvdG90eXBlLnNldE1hcC5jYWxsKHRoaXMsYSk7YSYmYS5yZW5kZXIoKX07XG5mdW5jdGlvbiBpbyhhKXtpZihhLmZyYW1lU3RhdGUpe2lmKCF0aGlzLiQpe3ZhciBiPXRoaXMuZWxlbWVudCxjPWIub2Zmc2V0V2lkdGgsZD1iLm9mZnNldEhlaWdodCxlPWIuZmlyc3RFbGVtZW50Q2hpbGQsZj1nZXRDb21wdXRlZFN0eWxlKGUpO2I9ZS5vZmZzZXRXaWR0aCtwYXJzZUZsb2F0KGYubWFyZ2luUmlnaHQpK3BhcnNlRmxvYXQoZi5tYXJnaW5MZWZ0KTtlPWUub2Zmc2V0SGVpZ2h0K3BhcnNlRmxvYXQoZi5tYXJnaW5Ub3ApK3BhcnNlRmxvYXQoZi5tYXJnaW5Cb3R0b20pO3RoaXMuTz1bYixlXTtjPmQ/KHRoaXMuaj0xLHRoaXMuRD1jLWIpOih0aGlzLmo9aG8sdGhpcy52PWQtZSk7dGhpcy4kPSEwfWE9YS5mcmFtZVN0YXRlLnZpZXdTdGF0ZS5yZXNvbHV0aW9uO2EhPT10aGlzLmMmJih0aGlzLmM9YSxqbyh0aGlzLGEpKX19XG5rLlhsPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYS5hYSgpO2E9a28odGhpcyxwYSgxPT09dGhpcy5qPyhhLm9mZnNldFgtdGhpcy5PWzBdLzIpL3RoaXMuRDooYS5vZmZzZXRZLXRoaXMuT1sxXS8yKS90aGlzLnYsMCwxKSk7Yi5hbmltYXRlKHtyZXNvbHV0aW9uOmIuY29uc3RyYWluUmVzb2x1dGlvbihhKSxkdXJhdGlvbjp0aGlzLlYsZWFzaW5nOk9lfSl9O2suJGw9ZnVuY3Rpb24oYSl7dGhpcy5vfHxhLmIudGFyZ2V0IT09dGhpcy5lbGVtZW50LmZpcnN0RWxlbWVudENoaWxkfHwoYmcodGhpcy5hLmFhKCksMSwxKSx0aGlzLkM9YS5jbGllbnRYLHRoaXMuQj1hLmNsaWVudFksdGhpcy5vPSEwKX07XG5rLllsPWZ1bmN0aW9uKGEpe2lmKHRoaXMubyl7dmFyIGI9dGhpcy5lbGVtZW50LmZpcnN0RWxlbWVudENoaWxkO3RoaXMuYz1rbyh0aGlzLHBhKDE9PT10aGlzLmo/KGEuY2xpZW50WC10aGlzLkMrcGFyc2VJbnQoYi5zdHlsZS5sZWZ0LDEwKSkvdGhpcy5EOihhLmNsaWVudFktdGhpcy5CK3BhcnNlSW50KGIuc3R5bGUudG9wLDEwKSkvdGhpcy52LDAsMSkpO3RoaXMuYS5hYSgpLmdkKHRoaXMuYyk7am8odGhpcyx0aGlzLmMpO3RoaXMuQz1hLmNsaWVudFg7dGhpcy5CPWEuY2xpZW50WX19O2suWmw9ZnVuY3Rpb24oKXtpZih0aGlzLm8pe3ZhciBhPXRoaXMuYS5hYSgpO2JnKGEsMSwtMSk7YS5hbmltYXRlKHtyZXNvbHV0aW9uOmEuY29uc3RyYWluUmVzb2x1dGlvbih0aGlzLmMpLGR1cmF0aW9uOnRoaXMuVixlYXNpbmc6T2V9KTt0aGlzLm89ITE7dGhpcy5CPXRoaXMuQz12b2lkIDB9fTtcbmZ1bmN0aW9uIGpvKGEsYil7Yj0xLWdnKGEuYS5hYSgpKShiKTt2YXIgYz1hLmVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQ7MT09YS5qP2Muc3R5bGUubGVmdD1hLkQqYitcInB4XCI6Yy5zdHlsZS50b3A9YS52KmIrXCJweFwifWZ1bmN0aW9uIGtvKGEsYil7cmV0dXJuIGZnKGEuYS5hYSgpKSgxLWIpfTtmdW5jdGlvbiBsbyhhKXthPWE/YTp7fTt0aGlzLmV4dGVudD1hLmV4dGVudD9hLmV4dGVudDpudWxsO3ZhciBiPXZvaWQgMCE9PWEuY2xhc3NOYW1lP2EuY2xhc3NOYW1lOlwib2wtem9vbS1leHRlbnRcIixjPXZvaWQgMCE9PWEubGFiZWw/YS5sYWJlbDpcIkVcIixkPXZvaWQgMCE9PWEudGlwTGFiZWw/YS50aXBMYWJlbDpcIkZpdCB0byBleHRlbnRcIixlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7ZS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJidXR0b25cIik7ZS50aXRsZT1kO2UuYXBwZW5kQ2hpbGQoXCJzdHJpbmdcIj09PXR5cGVvZiBjP2RvY3VtZW50LmNyZWF0ZVRleHROb2RlKGMpOmMpO3koZSxcImNsaWNrXCIsdGhpcy5jLHRoaXMpO2M9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtjLmNsYXNzTmFtZT1iK1wiIG9sLXVuc2VsZWN0YWJsZSBvbC1jb250cm9sXCI7Yy5hcHBlbmRDaGlsZChlKTt2Zy5jYWxsKHRoaXMse2VsZW1lbnQ6Yyx0YXJnZXQ6YS50YXJnZXR9KX1cbncobG8sdmcpO2xvLnByb3RvdHlwZS5jPWZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKTthPXRoaXMuYS5hYSgpO3ZhciBiPXRoaXMuZXh0ZW50P3RoaXMuZXh0ZW50OmEudi5HKCk7YS5VZihiKX07dmFyIG1vPWRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZURvY3VtZW50KFwiXCIsXCJcIixudWxsKTtmdW5jdGlvbiBubyhhLGIpe3JldHVybiBtby5jcmVhdGVFbGVtZW50TlMoYSxiKX1mdW5jdGlvbiBvbyhhLGIpe3JldHVybiBwbyhhLGIsW10pLmpvaW4oXCJcIil9ZnVuY3Rpb24gcG8oYSxiLGMpe2lmKGEubm9kZVR5cGU9PU5vZGUuQ0RBVEFfU0VDVElPTl9OT0RFfHxhLm5vZGVUeXBlPT1Ob2RlLlRFWFRfTk9ERSliP2MucHVzaChTdHJpbmcoYS5ub2RlVmFsdWUpLnJlcGxhY2UoLyhcXHJcXG58XFxyfFxcbikvZyxcIlwiKSk6Yy5wdXNoKGEubm9kZVZhbHVlKTtlbHNlIGZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylwbyhhLGIsYyk7cmV0dXJuIGN9ZnVuY3Rpb24gcW8oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBEb2N1bWVudH1mdW5jdGlvbiBybyhhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIE5vZGV9XG5mdW5jdGlvbiBzbyhhKXtyZXR1cm4obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGEsXCJhcHBsaWNhdGlvbi94bWxcIil9ZnVuY3Rpb24gdG8oYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXtjPWEuY2FsbChiLGMsZCk7dm9pZCAwIT09YyYmZ2MoZFtkLmxlbmd0aC0xXSxjKX19ZnVuY3Rpb24gdW8oYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXtjPWEuY2FsbCh2b2lkIDAhPT1iP2I6dGhpcyxjLGQpO3ZvaWQgMCE9PWMmJmRbZC5sZW5ndGgtMV0ucHVzaChjKX19ZnVuY3Rpb24gdm8oYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXtjPWEuY2FsbCh2b2lkIDAhPT1iP2I6dGhpcyxjLGQpO3ZvaWQgMCE9PWMmJihkW2QubGVuZ3RoLTFdPWMpfX1cbmZ1bmN0aW9uIHdvKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3ZhciBkPWEuY2FsbCh0aGlzLGIsYyk7aWYodm9pZCAwIT09ZCl7Yz1jW2MubGVuZ3RoLTFdO2I9Yi5sb2NhbE5hbWU7dmFyIGU7YiBpbiBjP2U9Y1tiXTplPWNbYl09W107ZS5wdXNoKGQpfX19ZnVuY3Rpb24gTChhLGIpe3JldHVybiBmdW5jdGlvbihjLGQpe3ZhciBlPWEuY2FsbCh0aGlzLGMsZCk7dm9pZCAwIT09ZSYmKGRbZC5sZW5ndGgtMV1bdm9pZCAwIT09Yj9iOmMubG9jYWxOYW1lXT1lKX19ZnVuY3Rpb24gTShhLGIpe3JldHVybiBmdW5jdGlvbihjLGQsZSl7YS5jYWxsKHZvaWQgMCE9PWI/Yjp0aGlzLGMsZCxlKTtlW2UubGVuZ3RoLTFdLm5vZGUuYXBwZW5kQ2hpbGQoYyl9fVxuZnVuY3Rpb24geG8oYSl7dmFyIGIsYztyZXR1cm4gZnVuY3Rpb24oZCxlLGYpe2lmKHZvaWQgMD09PWIpe2I9e307dmFyIGc9e307Z1tkLmxvY2FsTmFtZV09YTtiW2QubmFtZXNwYWNlVVJJXT1nO2M9eW8oZC5sb2NhbE5hbWUpfXpvKGIsYyxlLGYpfX1mdW5jdGlvbiB5byhhLGIpe3JldHVybiBmdW5jdGlvbihjLGQsZSl7Yz1kW2QubGVuZ3RoLTFdLm5vZGU7ZD1hO3ZvaWQgMD09PWQmJihkPWUpO2U9Yjt2b2lkIDA9PT1iJiYoZT1jLm5hbWVzcGFjZVVSSSk7cmV0dXJuIG5vKGUsZCl9fXZhciBBbz15bygpO2Z1bmN0aW9uIEJvKGEsYil7Zm9yKHZhciBjPWIubGVuZ3RoLGQ9QXJyYXkoYyksZT0wO2U8YzsrK2UpZFtlXT1hW2JbZV1dO3JldHVybiBkfWZ1bmN0aW9uIE4oYSxiLGMpe2M9dm9pZCAwIT09Yz9jOnt9O3ZhciBkO3ZhciBlPTA7Zm9yKGQ9YS5sZW5ndGg7ZTxkOysrZSljW2FbZV1dPWI7cmV0dXJuIGN9XG5mdW5jdGlvbiBDbyhhLGIsYyxkKXtmb3IoYj1iLmZpcnN0RWxlbWVudENoaWxkO2I7Yj1iLm5leHRFbGVtZW50U2libGluZyl7dmFyIGU9YVtiLm5hbWVzcGFjZVVSSV07dm9pZCAwIT09ZSYmKGU9ZVtiLmxvY2FsTmFtZV0sdm9pZCAwIT09ZSYmZS5jYWxsKGQsYixjKSl9fWZ1bmN0aW9uIE8oYSxiLGMsZCxlKXtkLnB1c2goYSk7Q28oYixjLGQsZSk7cmV0dXJuIGQucG9wKCl9ZnVuY3Rpb24gem8oYSxiLGMsZCxlLGYpe2Zvcih2YXIgZz0odm9pZCAwIT09ZT9lOmMpLmxlbmd0aCxoLGwsbT0wO208ZzsrK20paD1jW21dLHZvaWQgMCE9PWgmJihsPWIuY2FsbChmLGgsZCx2b2lkIDAhPT1lP2VbbV06dm9pZCAwKSx2b2lkIDAhPT1sJiZhW2wubmFtZXNwYWNlVVJJXVtsLmxvY2FsTmFtZV0uY2FsbChmLGwsaCxkKSl9ZnVuY3Rpb24gRG8oYSxiLGMsZCxlLGYsZyl7ZS5wdXNoKGEpO3pvKGIsYyxkLGUsZixnKTtlLnBvcCgpfTtmdW5jdGlvbiBFbyhhLGIsYyxkKXtyZXR1cm4gZnVuY3Rpb24oZSxmLGcpe3ZhciBoPW5ldyBYTUxIdHRwUmVxdWVzdDtoLm9wZW4oXCJHRVRcIixcImZ1bmN0aW9uXCI9PT10eXBlb2YgYT9hKGUsZixnKTphLCEwKTtcImFycmF5YnVmZmVyXCI9PWIuUygpJiYoaC5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiKTtoLm9ubG9hZD1mdW5jdGlvbigpe2lmKCFoLnN0YXR1c3x8MjAwPD1oLnN0YXR1cyYmMzAwPmguc3RhdHVzKXt2YXIgYT1iLlMoKTtpZihcImpzb25cIj09YXx8XCJ0ZXh0XCI9PWEpdmFyIGU9aC5yZXNwb25zZVRleHQ7ZWxzZVwieG1sXCI9PWE/KGU9aC5yZXNwb25zZVhNTCl8fChlPXNvKGgucmVzcG9uc2VUZXh0KSk6XCJhcnJheWJ1ZmZlclwiPT1hJiYoZT1oLnJlc3BvbnNlKTtlP2MuY2FsbCh0aGlzLGIuUWEoZSx7ZmVhdHVyZVByb2plY3Rpb246Z30pLGIuc2IoZSksYi5jZygpKTpkLmNhbGwodGhpcyl9ZWxzZSBkLmNhbGwodGhpcyl9LmJpbmQodGhpcyk7aC5vbmVycm9yPWZ1bmN0aW9uKCl7ZC5jYWxsKHRoaXMpfS5iaW5kKHRoaXMpO1xuaC5zZW5kKCl9fWZ1bmN0aW9uIEZvKGEsYil7cmV0dXJuIEVvKGEsYixmdW5jdGlvbihhKXt0aGlzLlFjKGEpfSxlYSl9O2Z1bmN0aW9uIEdvKCl7dGhpcy5pPXRoaXMuZGVmYXVsdERhdGFQcm9qZWN0aW9uPW51bGx9ZnVuY3Rpb24gSG8oYSxiLGMpe3ZhciBkO2MmJihkPXtkYXRhUHJvamVjdGlvbjpjLmRhdGFQcm9qZWN0aW9uP2MuZGF0YVByb2plY3Rpb246YS5zYihiKSxmZWF0dXJlUHJvamVjdGlvbjpjLmZlYXR1cmVQcm9qZWN0aW9ufSk7cmV0dXJuIElvKGEsZCl9ZnVuY3Rpb24gSW8oYSxiKXtyZXR1cm4ga2Ioe2RhdGFQcm9qZWN0aW9uOmEuZGVmYXVsdERhdGFQcm9qZWN0aW9uLGZlYXR1cmVQcm9qZWN0aW9uOmEuaX0sYil9R28ucHJvdG90eXBlLmNnPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O1xuZnVuY3Rpb24gSm8oYSxiLGMpe3ZhciBkPWM/T2IoYy5mZWF0dXJlUHJvamVjdGlvbik6bnVsbCxlPWM/T2IoYy5kYXRhUHJvamVjdGlvbik6bnVsbCxmO2QmJmUmJiFYYihkLGUpP2EgaW5zdGFuY2VvZiBnZj9mPShiP2EuY2xvbmUoKTphKS5tYihiP2Q6ZSxiP2U6ZCk6Zj1iYyhhLGUsZCk6Zj1hO2lmKGImJmMmJnZvaWQgMCE9PWMuZGVjaW1hbHMpe3ZhciBnPU1hdGgucG93KDEwLGMuZGVjaW1hbHMpO2Y9PT1hJiYoZj1mLmNsb25lKCkpO2YuUmMoZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz1hLmxlbmd0aDtiPGM7KytiKWFbYl09TWF0aC5yb3VuZChhW2JdKmcpL2c7cmV0dXJuIGF9KX1yZXR1cm4gZn07ZnVuY3Rpb24gS28oKXtHby5jYWxsKHRoaXMpfXcoS28sR28pO2Z1bmN0aW9uIExvKGEpe3JldHVyblwic3RyaW5nXCI9PT10eXBlb2YgYT8oYT1KU09OLnBhcnNlKGEpKT9hOm51bGw6bnVsbCE9PWE/YTpudWxsfWs9S28ucHJvdG90eXBlO2suUz1mdW5jdGlvbigpe3JldHVyblwianNvblwifTtrLlliPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZGQoTG8oYSksSG8odGhpcyxhLGIpKX07ay5RYT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLk1nKExvKGEpLEhvKHRoaXMsYSxiKSl9O2suZWQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5RZyhMbyhhKSxIbyh0aGlzLGEsYikpfTtrLnNiPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLlRnKExvKGEpKX07ay5KZD1mdW5jdGlvbihhLGIpe3JldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLmxkKGEsYikpfTtrLmFjPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMucWUoYSxiKSl9O1xuay5tZD1mdW5jdGlvbihhLGIpe3JldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnNlKGEsYikpfTtmdW5jdGlvbiBQKGEsYil7aGYuY2FsbCh0aGlzKTt0aGlzLmM9W107dGhpcy5qPXRoaXMubz0tMTt0aGlzLm5hKGEsYil9dyhQLGhmKTtrPVAucHJvdG90eXBlO2suR2s9ZnVuY3Rpb24oYSl7dGhpcy5BP2djKHRoaXMuQSxhLmRhKCkuc2xpY2UoKSk6dGhpcy5BPWEuZGEoKS5zbGljZSgpO3RoaXMuYy5wdXNoKHRoaXMuQS5sZW5ndGgpO3RoaXMudSgpfTtrLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IFAobnVsbCk7YS5iYSh0aGlzLmphLHRoaXMuQS5zbGljZSgpLHRoaXMuYy5zbGljZSgpKTtyZXR1cm4gYX07ay5OYj1mdW5jdGlvbihhLGIsYyxkKXtpZihkPEhhKHRoaXMuRygpLGEsYikpcmV0dXJuIGQ7dGhpcy5qIT10aGlzLmcmJih0aGlzLm89TWF0aC5zcXJ0KHFmKHRoaXMuQSwwLHRoaXMuYyx0aGlzLmEsMCkpLHRoaXMuaj10aGlzLmcpO3JldHVybiB1Zih0aGlzLkEsMCx0aGlzLmMsdGhpcy5hLHRoaXMubywhMSxhLGIsYyxkKX07XG5rLlduPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm5cIlhZTVwiIT10aGlzLmphJiZcIlhZWk1cIiE9dGhpcy5qYXx8MD09PXRoaXMuQS5sZW5ndGg/bnVsbDpUayh0aGlzLkEsdGhpcy5jLHRoaXMuYSxhLHZvaWQgMCE9PWI/YjohMSx2b2lkIDAhPT1jP2M6ITEpfTtrLlc9ZnVuY3Rpb24oKXtyZXR1cm4gemYodGhpcy5BLDAsdGhpcy5jLHRoaXMuYSl9O2sucGI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTtrLnlsPWZ1bmN0aW9uKGEpe2lmKDA+YXx8dGhpcy5jLmxlbmd0aDw9YSlyZXR1cm4gbnVsbDt2YXIgYj1uZXcgSShudWxsKTtiLmJhKHRoaXMuamEsdGhpcy5BLnNsaWNlKDA9PT1hPzA6dGhpcy5jW2EtMV0sdGhpcy5jW2FdKSk7cmV0dXJuIGJ9O1xuay53ZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuQSxiPXRoaXMuYyxjPXRoaXMuamEsZD1bXSxlPTAsZjt2YXIgZz0wO2ZvcihmPWIubGVuZ3RoO2c8ZjsrK2cpe3ZhciBoPWJbZ10sbD1uZXcgSShudWxsKTtsLmJhKGMsYS5zbGljZShlLGgpKTtkLnB1c2gobCk7ZT1ofXJldHVybiBkfTtrLkdlPWZ1bmN0aW9uKCl7dmFyIGE9W10sYj10aGlzLkEsYz0wLGQ9dGhpcy5jLGU9dGhpcy5hLGY7dmFyIGc9MDtmb3IoZj1kLmxlbmd0aDtnPGY7KytnKXt2YXIgaD1kW2ddO2M9S2soYixjLGgsZSwuNSk7Z2MoYSxjKTtjPWh9cmV0dXJuIGF9O2sueGQ9ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz1bXSxkPXRoaXMuQSxlPXRoaXMuYyxmPXRoaXMuYSxnPTAsaD0wLGw7dmFyIG09MDtmb3IobD1lLmxlbmd0aDttPGw7KyttKXt2YXIgbj1lW21dO2g9QmYoZCxnLG4sZixhLGIsaCk7Yy5wdXNoKGgpO2c9bn1iLmxlbmd0aD1oO2E9bmV3IFAobnVsbCk7YS5iYShcIlhZXCIsYixjKTtyZXR1cm4gYX07ay5TPWZ1bmN0aW9uKCl7cmV0dXJuXCJNdWx0aUxpbmVTdHJpbmdcIn07XG5rLiRhPWZ1bmN0aW9uKGEpe2E6e3ZhciBiPXRoaXMuQSxjPXRoaXMuYyxkPXRoaXMuYSxlPTAsZjt2YXIgZz0wO2ZvcihmPWMubGVuZ3RoO2c8ZjsrK2cpe2lmKEtmKGIsZSxjW2ddLGQsYSkpe2E9ITA7YnJlYWsgYX1lPWNbZ119YT0hMX1yZXR1cm4gYX07ay5uYT1mdW5jdGlvbihhLGIpe2E/KGxmKHRoaXMsYixhLDIpLHRoaXMuQXx8KHRoaXMuQT1bXSksYT14Zih0aGlzLkEsMCxhLHRoaXMuYSx0aGlzLmMpLHRoaXMuQS5sZW5ndGg9MD09PWEubGVuZ3RoPzA6YVthLmxlbmd0aC0xXSx0aGlzLnUoKSk6dGhpcy5iYShcIlhZXCIsbnVsbCx0aGlzLmMpfTtrLmJhPWZ1bmN0aW9uKGEsYixjKXtrZih0aGlzLGEsYik7dGhpcy5jPWM7dGhpcy51KCl9O1xuZnVuY3Rpb24gTW8oYSxiKXt2YXIgYz1hLmphLGQ9W10sZT1bXSxmO3ZhciBnPTA7Zm9yKGY9Yi5sZW5ndGg7ZzxmOysrZyl7dmFyIGg9YltnXTswPT09ZyYmKGM9aC5qYSk7Z2MoZCxoLmRhKCkpO2UucHVzaChkLmxlbmd0aCl9YS5iYShjLGQsZSl9O2Z1bmN0aW9uIE5vKGEsYil7aGYuY2FsbCh0aGlzKTt0aGlzLm5hKGEsYil9dyhObyxoZik7az1Oby5wcm90b3R5cGU7ay5Jaz1mdW5jdGlvbihhKXt0aGlzLkE/Z2ModGhpcy5BLGEuZGEoKSk6dGhpcy5BPWEuZGEoKS5zbGljZSgpO3RoaXMudSgpfTtrLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IE5vKG51bGwpO2EuYmEodGhpcy5qYSx0aGlzLkEuc2xpY2UoKSk7cmV0dXJuIGF9O2suTmI9ZnVuY3Rpb24oYSxiLGMsZCl7aWYoZDxIYSh0aGlzLkcoKSxhLGIpKXJldHVybiBkO3ZhciBlPXRoaXMuQSxmPXRoaXMuYSxnO3ZhciBoPTA7Zm9yKGc9ZS5sZW5ndGg7aDxnO2grPWYpe3ZhciBsPXVhKGEsYixlW2hdLGVbaCsxXSk7aWYobDxkKXtkPWw7Zm9yKGw9MDtsPGY7KytsKWNbbF09ZVtoK2xdO2MubGVuZ3RoPWZ9fXJldHVybiBkfTtrLlc9ZnVuY3Rpb24oKXtyZXR1cm4geWYodGhpcy5BLDAsdGhpcy5BLmxlbmd0aCx0aGlzLmEpfTtcbmsuTGw9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5BP3RoaXMuQS5sZW5ndGgvdGhpcy5hOjA7aWYoMD5hfHxiPD1hKXJldHVybiBudWxsO2I9bmV3IEMobnVsbCk7Yi5iYSh0aGlzLmphLHRoaXMuQS5zbGljZShhKnRoaXMuYSwoYSsxKSp0aGlzLmEpKTtyZXR1cm4gYn07ay5kZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuQSxiPXRoaXMuamEsYz10aGlzLmEsZD1bXSxlO3ZhciBmPTA7Zm9yKGU9YS5sZW5ndGg7ZjxlO2YrPWMpe3ZhciBnPW5ldyBDKG51bGwpO2cuYmEoYixhLnNsaWNlKGYsZitjKSk7ZC5wdXNoKGcpfXJldHVybiBkfTtrLlM9ZnVuY3Rpb24oKXtyZXR1cm5cIk11bHRpUG9pbnRcIn07ay4kYT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLkEsYz10aGlzLmEsZDt2YXIgZT0wO2ZvcihkPWIubGVuZ3RoO2U8ZDtlKz1jKXt2YXIgZj1iW2VdO3ZhciBnPWJbZSsxXTtpZihLYShhLGYsZykpcmV0dXJuITB9cmV0dXJuITF9O1xuay5uYT1mdW5jdGlvbihhLGIpe2E/KGxmKHRoaXMsYixhLDEpLHRoaXMuQXx8KHRoaXMuQT1bXSksdGhpcy5BLmxlbmd0aD13Zih0aGlzLkEsMCxhLHRoaXMuYSksdGhpcy51KCkpOnRoaXMuYmEoXCJYWVwiLG51bGwpfTtrLmJhPWZ1bmN0aW9uKGEsYil7a2YodGhpcyxhLGIpO3RoaXMudSgpfTtmdW5jdGlvbiBRKGEsYil7aGYuY2FsbCh0aGlzKTt0aGlzLmM9W107dGhpcy5vPS0xO3RoaXMuRD1udWxsO3RoaXMuVD10aGlzLkM9dGhpcy5CPS0xO3RoaXMuaj1udWxsO3RoaXMubmEoYSxiKX13KFEsaGYpO2s9US5wcm90b3R5cGU7ay5Kaz1mdW5jdGlvbihhKXtpZih0aGlzLkEpe3ZhciBiPXRoaXMuQS5sZW5ndGg7Z2ModGhpcy5BLGEuZGEoKSk7YT1hLnBiKCkuc2xpY2UoKTt2YXIgYzt2YXIgZD0wO2ZvcihjPWEubGVuZ3RoO2Q8YzsrK2QpYVtkXSs9Yn1lbHNlIHRoaXMuQT1hLmRhKCkuc2xpY2UoKSxhPWEucGIoKS5zbGljZSgpLHRoaXMuYy5wdXNoKCk7dGhpcy5jLnB1c2goYSk7dGhpcy51KCl9O2suY2xvbmU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9bmV3IFEobnVsbCksYj10aGlzLmMubGVuZ3RoLGM9QXJyYXkoYiksZD0wO2Q8YjsrK2QpY1tkXT10aGlzLmNbZF0uc2xpY2UoKTthLmJhKHRoaXMuamEsdGhpcy5BLnNsaWNlKCksYyk7cmV0dXJuIGF9O1xuay5OYj1mdW5jdGlvbihhLGIsYyxkKXtpZihkPEhhKHRoaXMuRygpLGEsYikpcmV0dXJuIGQ7aWYodGhpcy5DIT10aGlzLmcpe3ZhciBlPXRoaXMuYyxmPTAsZz0wLGg7dmFyIGw9MDtmb3IoaD1lLmxlbmd0aDtsPGg7KytsKXt2YXIgbT1lW2xdO2c9cWYodGhpcy5BLGYsbSx0aGlzLmEsZyk7Zj1tW20ubGVuZ3RoLTFdfXRoaXMuQj1NYXRoLnNxcnQoZyk7dGhpcy5DPXRoaXMuZ31lPUlpKHRoaXMpO2Y9dGhpcy5jO2c9dGhpcy5hO2w9dGhpcy5CO2g9MDttPVtOYU4sTmFOXTt2YXIgbjt2YXIgcD0wO2ZvcihuPWYubGVuZ3RoO3A8bjsrK3Ape3ZhciBxPWZbcF07ZD11ZihlLGgscSxnLGwsITAsYSxiLGMsZCxtKTtoPXFbcS5sZW5ndGgtMV19cmV0dXJuIGR9O1xuay5aYz1mdW5jdGlvbihhLGIpe2E6e3ZhciBjPUlpKHRoaXMpLGQ9dGhpcy5jLGU9MDtpZigwIT09ZC5sZW5ndGgpe3ZhciBmO3ZhciBnPTA7Zm9yKGY9ZC5sZW5ndGg7ZzxmOysrZyl7dmFyIGg9ZFtnXTtpZihIZihjLGUsaCx0aGlzLmEsYSxiKSl7YT0hMDticmVhayBhfWU9aFtoLmxlbmd0aC0xXX19YT0hMX1yZXR1cm4gYX07ay5Ybj1mdW5jdGlvbigpe3ZhciBhPUlpKHRoaXMpLGI9dGhpcy5jLGM9MCxkPTAsZTt2YXIgZj0wO2ZvcihlPWIubGVuZ3RoO2Y8ZTsrK2Ype3ZhciBnPWJbZl07ZCs9bmYoYSxjLGcsdGhpcy5hKTtjPWdbZy5sZW5ndGgtMV19cmV0dXJuIGR9O2suVz1mdW5jdGlvbihhKXtpZih2b2lkIDAhPT1hKXt2YXIgYj1JaSh0aGlzKS5zbGljZSgpO1BmKGIsdGhpcy5jLHRoaXMuYSxhKX1lbHNlIGI9dGhpcy5BO3JldHVybiBBZihiLDAsdGhpcy5jLHRoaXMuYSl9O2sudGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTtcbmZ1bmN0aW9uIEppKGEpe2lmKGEubyE9YS5nKXt2YXIgYj1hLkEsYz1hLmMsZD1hLmEsZT0wLGY9W10sZzt2YXIgaD0wO2ZvcihnPWMubGVuZ3RoO2g8ZzsrK2gpe3ZhciBsPWNbaF07ZT1RYShiLGUsbFswXSxkKTtmLnB1c2goKGVbMF0rZVsyXSkvMiwoZVsxXStlWzNdKS8yKTtlPWxbbC5sZW5ndGgtMV19Yj1JaShhKTtjPWEuYztkPWEuYTtoPTA7Zz1bXTtsPTA7Zm9yKGU9Yy5sZW5ndGg7bDxlOysrbCl7dmFyIG09Y1tsXTtnPUlmKGIsaCxtLGQsZiwyKmwsZyk7aD1tW20ubGVuZ3RoLTFdfWEuRD1nO2Eubz1hLmd9cmV0dXJuIGEuRH1rLnVsPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IE5vKG51bGwpO2EuYmEoXCJYWU1cIixKaSh0aGlzKS5zbGljZSgpKTtyZXR1cm4gYX07XG5mdW5jdGlvbiBJaShhKXtpZihhLlQhPWEuZyl7dmFyIGI9YS5BO2E6e3ZhciBjPWEuYzt2YXIgZDt2YXIgZT0wO2ZvcihkPWMubGVuZ3RoO2U8ZDsrK2UpaWYoIU5mKGIsY1tlXSxhLmEsdm9pZCAwKSl7Yz0hMTticmVhayBhfWM9ITB9Yz9hLmo9YjooYS5qPWIuc2xpY2UoKSxhLmoubGVuZ3RoPVBmKGEuaixhLmMsYS5hKSk7YS5UPWEuZ31yZXR1cm4gYS5qfWsueGQ9ZnVuY3Rpb24oYSl7dmFyIGI9W10sYz1bXSxkPXRoaXMuQSxlPXRoaXMuYyxmPXRoaXMuYTthPU1hdGguc3FydChhKTt2YXIgZz0wLGg9MCxsO3ZhciBtPTA7Zm9yKGw9ZS5sZW5ndGg7bTxsOysrbSl7dmFyIG49ZVttXSxwPVtdO2g9Q2YoZCxnLG4sZixhLGIsaCxwKTtjLnB1c2gocCk7Zz1uW24ubGVuZ3RoLTFdfWIubGVuZ3RoPWg7ZD1uZXcgUShudWxsKTtkLmJhKFwiWFlcIixiLGMpO3JldHVybiBkfTtcbmsuTWw9ZnVuY3Rpb24oYSl7aWYoMD5hfHx0aGlzLmMubGVuZ3RoPD1hKXJldHVybiBudWxsO2lmKDA9PT1hKXZhciBiPTA7ZWxzZSBiPXRoaXMuY1thLTFdLGI9YltiLmxlbmd0aC0xXTthPXRoaXMuY1thXS5zbGljZSgpO3ZhciBjPWFbYS5sZW5ndGgtMV07aWYoMCE9PWIpe3ZhciBkO3ZhciBlPTA7Zm9yKGQ9YS5sZW5ndGg7ZTxkOysrZSlhW2VdLT1ifWU9bmV3IEQobnVsbCk7ZS5iYSh0aGlzLmphLHRoaXMuQS5zbGljZShiLGMpLGEpO3JldHVybiBlfTtrLlZkPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5qYSxiPXRoaXMuQSxjPXRoaXMuYyxkPVtdLGU9MCxmLGc7dmFyIGg9MDtmb3IoZj1jLmxlbmd0aDtoPGY7KytoKXt2YXIgbD1jW2hdLnNsaWNlKCksbT1sW2wubGVuZ3RoLTFdO2lmKDAhPT1lKXt2YXIgbj0wO2ZvcihnPWwubGVuZ3RoO248ZzsrK24pbFtuXS09ZX1uPW5ldyBEKG51bGwpO24uYmEoYSxiLnNsaWNlKGUsbSksbCk7ZC5wdXNoKG4pO2U9bX1yZXR1cm4gZH07XG5rLlM9ZnVuY3Rpb24oKXtyZXR1cm5cIk11bHRpUG9seWdvblwifTtrLiRhPWZ1bmN0aW9uKGEpe2E6e3ZhciBiPUlpKHRoaXMpLGM9dGhpcy5jLGQ9dGhpcy5hLGU9MCxmO3ZhciBnPTA7Zm9yKGY9Yy5sZW5ndGg7ZzxmOysrZyl7dmFyIGg9Y1tnXTtpZihMZihiLGUsaCxkLGEpKXthPSEwO2JyZWFrIGF9ZT1oW2gubGVuZ3RoLTFdfWE9ITF9cmV0dXJuIGF9O1xuay5uYT1mdW5jdGlvbihhLGIpe2lmKGEpe2xmKHRoaXMsYixhLDMpO3RoaXMuQXx8KHRoaXMuQT1bXSk7Yj10aGlzLkE7dmFyIGM9dGhpcy5hLGQ9dGhpcy5jLGU9MDtkPWQ/ZDpbXTt2YXIgZj0wLGc7dmFyIGg9MDtmb3IoZz1hLmxlbmd0aDtoPGc7KytoKWU9eGYoYixlLGFbaF0sYyxkW2ZdKSxkW2YrK109ZSxlPWVbZS5sZW5ndGgtMV07ZC5sZW5ndGg9ZjswPT09ZC5sZW5ndGg/dGhpcy5BLmxlbmd0aD0wOihhPWRbZC5sZW5ndGgtMV0sdGhpcy5BLmxlbmd0aD0wPT09YS5sZW5ndGg/MDphW2EubGVuZ3RoLTFdKTt0aGlzLnUoKX1lbHNlIHRoaXMuYmEoXCJYWVwiLG51bGwsdGhpcy5jKX07ay5iYT1mdW5jdGlvbihhLGIsYyl7a2YodGhpcyxhLGIpO3RoaXMuYz1jO3RoaXMudSgpfTtcbmZ1bmN0aW9uIE9vKGEsYil7dmFyIGM9YS5qYSxkPVtdLGU9W10sZjt2YXIgZz0wO2ZvcihmPWIubGVuZ3RoO2c8ZjsrK2cpe3ZhciBoPWJbZ107MD09PWcmJihjPWguamEpO3ZhciBsPWQubGVuZ3RoO3ZhciBtPWgucGIoKTt2YXIgbjt2YXIgcD0wO2ZvcihuPW0ubGVuZ3RoO3A8bjsrK3ApbVtwXSs9bDtnYyhkLGguZGEoKSk7ZS5wdXNoKG0pfWEuYmEoYyxkLGUpfTtmdW5jdGlvbiBQbyhhKXthPWE/YTp7fTtHby5jYWxsKHRoaXMpO3RoaXMuYj1hLmdlb21ldHJ5TmFtZX13KFBvLEtvKTtcbmZ1bmN0aW9uIFFvKGEsYil7aWYoIWEpcmV0dXJuIG51bGw7aWYoXCJudW1iZXJcIj09PXR5cGVvZiBhLngmJlwibnVtYmVyXCI9PT10eXBlb2YgYS55KXZhciBjPVwiUG9pbnRcIjtlbHNlIGlmKGEucG9pbnRzKWM9XCJNdWx0aVBvaW50XCI7ZWxzZSBpZihhLnBhdGhzKWM9MT09PWEucGF0aHMubGVuZ3RoP1wiTGluZVN0cmluZ1wiOlwiTXVsdGlMaW5lU3RyaW5nXCI7ZWxzZSBpZihhLnJpbmdzKXt2YXIgZD1hLnJpbmdzLGU9Um8oYSksZj1bXSxnPVtdO2M9W107dmFyIGg7dmFyIGw9MDtmb3IoaD1kLmxlbmd0aDtsPGg7KytsKWYubGVuZ3RoPTAsd2YoZiwwLGRbbF0sZS5sZW5ndGgpLE1mKGYsMCxmLmxlbmd0aCxlLmxlbmd0aCk/Zy5wdXNoKFtkW2xdXSk6Yy5wdXNoKGRbbF0pO2Zvcig7Yy5sZW5ndGg7KXtkPWMuc2hpZnQoKTtlPSExO2ZvcihsPWcubGVuZ3RoLTE7MDw9bDtsLS0paWYoTGEoKG5ldyBEZihnW2xdWzBdKSkuRygpLChuZXcgRGYoZCkpLkcoKSkpe2dbbF0ucHVzaChkKTtlPSEwO2JyZWFrfWV8fFxuZy5wdXNoKFtkLnJldmVyc2UoKV0pfWE9a2Ioe30sYSk7MT09PWcubGVuZ3RoPyhjPVwiUG9seWdvblwiLGEucmluZ3M9Z1swXSk6KGM9XCJNdWx0aVBvbHlnb25cIixhLnJpbmdzPWcpfXJldHVybiBKbygoMCxTb1tjXSkoYSksITEsYil9ZnVuY3Rpb24gUm8oYSl7dmFyIGI9XCJYWVwiOyEwPT09YS5oYXNaJiYhMD09PWEuaGFzTT9iPVwiWFlaTVwiOiEwPT09YS5oYXNaP2I9XCJYWVpcIjohMD09PWEuaGFzTSYmKGI9XCJYWU1cIik7cmV0dXJuIGJ9ZnVuY3Rpb24gVG8oYSl7YT1hLmphO3JldHVybntoYXNaOlwiWFlaXCI9PT1hfHxcIlhZWk1cIj09PWEsaGFzTTpcIlhZTVwiPT09YXx8XCJYWVpNXCI9PT1hfX1cbnZhciBTbz17UG9pbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMCE9PWEubSYmdm9pZCAwIT09YS56P25ldyBDKFthLngsYS55LGEueixhLm1dLFwiWFlaTVwiKTp2b2lkIDAhPT1hLno/bmV3IEMoW2EueCxhLnksYS56XSxcIlhZWlwiKTp2b2lkIDAhPT1hLm0/bmV3IEMoW2EueCxhLnksYS5tXSxcIlhZTVwiKTpuZXcgQyhbYS54LGEueV0pfSxMaW5lU3RyaW5nOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgSShhLnBhdGhzWzBdLFJvKGEpKX0sUG9seWdvbjpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IEQoYS5yaW5ncyxSbyhhKSl9LE11bHRpUG9pbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBObyhhLnBvaW50cyxSbyhhKSl9LE11bHRpTGluZVN0cmluZzpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IFAoYS5wYXRocyxSbyhhKSl9LE11bHRpUG9seWdvbjpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IFEoYS5yaW5ncyxSbyhhKSl9fSxVbz17UG9pbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5XKCksYzthPWEuamE7XG5cIlhZWlwiPT09YT9jPXt4OmJbMF0seTpiWzFdLHo6YlsyXX06XCJYWU1cIj09PWE/Yz17eDpiWzBdLHk6YlsxXSxtOmJbMl19OlwiWFlaTVwiPT09YT9jPXt4OmJbMF0seTpiWzFdLHo6YlsyXSxtOmJbM119OlwiWFlcIj09PWE/Yz17eDpiWzBdLHk6YlsxXX06b2EoITEsMzQpO3JldHVybiBjfSxMaW5lU3RyaW5nOmZ1bmN0aW9uKGEpe3ZhciBiPVRvKGEpO3JldHVybntoYXNaOmIuaGFzWixoYXNNOmIuaGFzTSxwYXRoczpbYS5XKCldfX0sUG9seWdvbjpmdW5jdGlvbihhKXt2YXIgYj1UbyhhKTtyZXR1cm57aGFzWjpiLmhhc1osaGFzTTpiLmhhc00scmluZ3M6YS5XKCExKX19LE11bHRpUG9pbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9VG8oYSk7cmV0dXJue2hhc1o6Yi5oYXNaLGhhc006Yi5oYXNNLHBvaW50czphLlcoKX19LE11bHRpTGluZVN0cmluZzpmdW5jdGlvbihhKXt2YXIgYj1UbyhhKTtyZXR1cm57aGFzWjpiLmhhc1osaGFzTTpiLmhhc00scGF0aHM6YS5XKCl9fSxNdWx0aVBvbHlnb246ZnVuY3Rpb24oYSl7dmFyIGI9XG5UbyhhKTthPWEuVyghMSk7Zm9yKHZhciBjPVtdLGQ9MDtkPGEubGVuZ3RoO2QrKylmb3IodmFyIGU9YVtkXS5sZW5ndGgtMTswPD1lO2UtLSljLnB1c2goYVtkXVtlXSk7cmV0dXJue2hhc1o6Yi5oYXNaLGhhc006Yi5oYXNNLHJpbmdzOmN9fX07az1Qby5wcm90b3R5cGU7ay5kZD1mdW5jdGlvbihhLGIpe3ZhciBjPVFvKGEuZ2VvbWV0cnksYiksZD1uZXcgSGs7dGhpcy5iJiZkLkxjKHRoaXMuYik7ZC5WYShjKTtiJiZiLnBnJiZhLmF0dHJpYnV0ZXNbYi5wZ10mJmQucWMoYS5hdHRyaWJ1dGVzW2IucGddKTthLmF0dHJpYnV0ZXMmJmQuSChhLmF0dHJpYnV0ZXMpO3JldHVybiBkfTtrLk1nPWZ1bmN0aW9uKGEsYil7Yj1iP2I6e307aWYoYS5mZWF0dXJlcyl7dmFyIGM9W10sZD1hLmZlYXR1cmVzLGU7Yi5wZz1hLm9iamVjdElkRmllbGROYW1lO2E9MDtmb3IoZT1kLmxlbmd0aDthPGU7KythKWMucHVzaCh0aGlzLmRkKGRbYV0sYikpO3JldHVybiBjfXJldHVyblt0aGlzLmRkKGEsYildfTtcbmsuUWc9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUW8oYSxiKX07ay5UZz1mdW5jdGlvbihhKXtyZXR1cm4gYS5zcGF0aWFsUmVmZXJlbmNlJiZhLnNwYXRpYWxSZWZlcmVuY2Uud2tpZD9PYihcIkVQU0c6XCIrYS5zcGF0aWFsUmVmZXJlbmNlLndraWQpOm51bGx9O2Z1bmN0aW9uIFZvKGEsYil7cmV0dXJuKDAsVW9bYS5TKCldKShKbyhhLCEwLGIpLGIpfWsuc2U9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVm8oYSxJbyh0aGlzLGIpKX07ay5sZD1mdW5jdGlvbihhLGIpe2I9SW8odGhpcyxiKTt2YXIgYz17fSxkPWEuVSgpO2QmJihjLmdlb21ldHJ5PVZvKGQsYiksYiYmYi5mZWF0dXJlUHJvamVjdGlvbiYmKGMuZ2VvbWV0cnkuc3BhdGlhbFJlZmVyZW5jZT17d2tpZDpPYihiLmZlYXR1cmVQcm9qZWN0aW9uKS53Yi5zcGxpdChcIjpcIikucG9wKCl9KSk7Yj1hLkwoKTtkZWxldGUgYlthLmFdO2MuYXR0cmlidXRlcz1uYihiKT97fTpiO3JldHVybiBjfTtcbmsucWU9ZnVuY3Rpb24oYSxiKXtiPUlvKHRoaXMsYik7dmFyIGM9W10sZDt2YXIgZT0wO2ZvcihkPWEubGVuZ3RoO2U8ZDsrK2UpYy5wdXNoKHRoaXMubGQoYVtlXSxiKSk7cmV0dXJue2ZlYXR1cmVzOmN9fTtmdW5jdGlvbiBXbygpe3RoaXMuZz1uZXcgWE1MU2VyaWFsaXplcjtHby5jYWxsKHRoaXMpfXcoV28sR28pO2s9V28ucHJvdG90eXBlO2suUz1mdW5jdGlvbigpe3JldHVyblwieG1sXCJ9O2suWWI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcW8oYSk/WG8odGhpcyxhLGIpOnJvKGEpP3RoaXMuTGcoYSxiKTpcInN0cmluZ1wiPT09dHlwZW9mIGE/KGE9c28oYSksWG8odGhpcyxhLGIpKTpudWxsfTtmdW5jdGlvbiBYbyhhLGIsYyl7YT1ZbyhhLGIsYyk7cmV0dXJuIDA8YS5sZW5ndGg/YVswXTpudWxsfWsuTGc9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07ay5RYT1mdW5jdGlvbihhLGIpe3JldHVybiBxbyhhKT9Zbyh0aGlzLGEsYik6cm8oYSk/dGhpcy5LYyhhLGIpOlwic3RyaW5nXCI9PT10eXBlb2YgYT8oYT1zbyhhKSxZbyh0aGlzLGEsYikpOltdfTtcbmZ1bmN0aW9uIFlvKGEsYixjKXt2YXIgZD1bXTtmb3IoYj1iLmZpcnN0Q2hpbGQ7YjtiPWIubmV4dFNpYmxpbmcpYi5ub2RlVHlwZT09Tm9kZS5FTEVNRU5UX05PREUmJmdjKGQsYS5LYyhiLGMpKTtyZXR1cm4gZH1rLmVkPWZ1bmN0aW9uKGEsYil7aWYocW8oYSkpcmV0dXJuIG51bGw7aWYocm8oYSkpcmV0dXJuIHRoaXMudmooYSxiKTtcInN0cmluZ1wiPT09dHlwZW9mIGEmJnNvKGEpO3JldHVybiBudWxsfTtrLnZqPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O2suc2I9ZnVuY3Rpb24oYSl7cmV0dXJuIHFvKGEpP3RoaXMuU2coYSk6cm8oYSk/dGhpcy51ZihhKTpcInN0cmluZ1wiPT09dHlwZW9mIGE/KGE9c28oYSksdGhpcy5TZyhhKSk6bnVsbH07ay5TZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRlZmF1bHREYXRhUHJvamVjdGlvbn07ay51Zj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRlZmF1bHREYXRhUHJvamVjdGlvbn07ay5KZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmcuc2VyaWFsaXplVG9TdHJpbmcodGhpcy5taCgpKX07XG5rLm1oPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O2suYWM9ZnVuY3Rpb24oYSxiKXthPXRoaXMuYmMoYSxiKTtyZXR1cm4gdGhpcy5nLnNlcmlhbGl6ZVRvU3RyaW5nKGEpfTtrLmJjPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O2subWQ9ZnVuY3Rpb24oYSxiKXthPXRoaXMucmUoYSxiKTtyZXR1cm4gdGhpcy5nLnNlcmlhbGl6ZVRvU3RyaW5nKGEpfTtrLnJlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O2Z1bmN0aW9uIFpvKGEpe2E9YT9hOnt9O3RoaXMuZmVhdHVyZVR5cGU9YS5mZWF0dXJlVHlwZTt0aGlzLmZlYXR1cmVOUz1hLmZlYXR1cmVOUzt0aGlzLnNyc05hbWU9YS5zcnNOYW1lO3RoaXMuc2NoZW1hTG9jYXRpb249XCJcIjt0aGlzLmI9e307dGhpcy5iW1wiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcIl09e2ZlYXR1cmVNZW1iZXI6dm8oWm8ucHJvdG90eXBlLmdlKSxmZWF0dXJlTWVtYmVyczp2byhaby5wcm90b3R5cGUuZ2UpfTtXby5jYWxsKHRoaXMpfXcoWm8sV28pO3ZhciAkbz0vXltcXHNcXHhhMF0qJC87az1aby5wcm90b3R5cGU7XG5rLmdlPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5sb2NhbE5hbWUsZD1udWxsO2lmKFwiRmVhdHVyZUNvbGxlY3Rpb25cIj09YylcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvd2ZzXCI9PT1hLm5hbWVzcGFjZVVSST9kPU8oW10sdGhpcy5iLGEsYix0aGlzKTpkPU8obnVsbCx0aGlzLmIsYSxiLHRoaXMpO2Vsc2UgaWYoXCJmZWF0dXJlTWVtYmVyc1wiPT1jfHxcImZlYXR1cmVNZW1iZXJcIj09Yyl7dmFyIGU9YlswXSxmPWUuZmVhdHVyZVR5cGUsZz1lLmZlYXR1cmVOUyxoO2lmKCFmJiZhLmNoaWxkTm9kZXMpe2Y9W107Zz17fTt2YXIgbD0wO2ZvcihoPWEuY2hpbGROb2Rlcy5sZW5ndGg7bDxoOysrbCl7dmFyIG09YS5jaGlsZE5vZGVzW2xdO2lmKDE9PT1tLm5vZGVUeXBlKXt2YXIgbj1tLm5vZGVOYW1lLnNwbGl0KFwiOlwiKS5wb3AoKTtpZigtMT09PWYuaW5kZXhPZihuKSl7dmFyIHA9XCJcIixxPTA7bT1tLm5hbWVzcGFjZVVSSTtmb3IodmFyIHIgaW4gZyl7aWYoZ1tyXT09PW0pe3A9cjticmVha30rK3F9cHx8XG4ocD1cInBcIitxLGdbcF09bSk7Zi5wdXNoKHArXCI6XCIrbil9fX1cImZlYXR1cmVNZW1iZXJcIiE9YyYmKGUuZmVhdHVyZVR5cGU9ZixlLmZlYXR1cmVOUz1nKX1cInN0cmluZ1wiPT09dHlwZW9mIGcmJihsPWcsZz17fSxnLnAwPWwpO2U9e307Zj1BcnJheS5pc0FycmF5KGYpP2Y6W2ZdO2Zvcih2YXIgdSBpbiBnKXtuPXt9O2w9MDtmb3IoaD1mLmxlbmd0aDtsPGg7KytsKSgtMT09PWZbbF0uaW5kZXhPZihcIjpcIik/XCJwMFwiOmZbbF0uc3BsaXQoXCI6XCIpWzBdKT09PXUmJihuW2ZbbF0uc3BsaXQoXCI6XCIpLnBvcCgpXT1cImZlYXR1cmVNZW1iZXJzXCI9PWM/dW8odGhpcy5LZyx0aGlzKTp2byh0aGlzLktnLHRoaXMpKTtlW2dbdV1dPW59XCJmZWF0dXJlTWVtYmVyXCI9PWM/ZD1PKHZvaWQgMCxlLGEsYik6ZD1PKFtdLGUsYSxiKX1udWxsPT09ZCYmKGQ9W10pO3JldHVybiBkfTtcbmsucmY9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iWzBdO2Muc3JzTmFtZT1hLmZpcnN0RWxlbWVudENoaWxkLmdldEF0dHJpYnV0ZShcInNyc05hbWVcIik7Yy5zcnNEaW1lbnNpb249YS5maXJzdEVsZW1lbnRDaGlsZC5nZXRBdHRyaWJ1dGUoXCJzcnNEaW1lbnNpb25cIik7aWYoYT1PKG51bGwsdGhpcy5xaCxhLGIsdGhpcykpcmV0dXJuIEpvKGEsITEsYyl9O1xuay5LZz1mdW5jdGlvbihhLGIpe3ZhciBjOyhjPWEuZ2V0QXR0cmlidXRlKFwiZmlkXCIpKXx8KGM9YS5nZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCIsXCJpZFwiKXx8XCJcIik7dmFyIGQ9e30sZTtmb3IoYT1hLmZpcnN0RWxlbWVudENoaWxkO2E7YT1hLm5leHRFbGVtZW50U2libGluZyl7dmFyIGY9YS5sb2NhbE5hbWU7aWYoMD09PWEuY2hpbGROb2Rlcy5sZW5ndGh8fDE9PT1hLmNoaWxkTm9kZXMubGVuZ3RoJiYoMz09PWEuZmlyc3RDaGlsZC5ub2RlVHlwZXx8ND09PWEuZmlyc3RDaGlsZC5ub2RlVHlwZSkpe3ZhciBnPW9vKGEsITEpOyRvLnRlc3QoZykmJihnPXZvaWQgMCk7ZFtmXT1nfWVsc2VcImJvdW5kZWRCeVwiIT09ZiYmKGU9ZiksZFtmXT10aGlzLnJmKGEsYil9Yj1uZXcgSGsoZCk7ZSYmYi5MYyhlKTtjJiZiLnFjKGMpO3JldHVybiBifTtcbmsuQWo9ZnVuY3Rpb24oYSxiKXtpZihhPXRoaXMucWYoYSxiKSlyZXR1cm4gYj1uZXcgQyhudWxsKSxiLmJhKFwiWFlaXCIsYSksYn07ay55aj1mdW5jdGlvbihhLGIpe2lmKGE9TyhbXSx0aGlzLmtrLGEsYix0aGlzKSlyZXR1cm4gbmV3IE5vKGEpfTtrLnhqPWZ1bmN0aW9uKGEsYil7aWYoYT1PKFtdLHRoaXMuamssYSxiLHRoaXMpKXJldHVybiBiPW5ldyBQKG51bGwpLE1vKGIsYSksYn07ay56aj1mdW5jdGlvbihhLGIpe2lmKGE9TyhbXSx0aGlzLmxrLGEsYix0aGlzKSlyZXR1cm4gYj1uZXcgUShudWxsKSxPbyhiLGEpLGJ9O2sucWo9ZnVuY3Rpb24oYSxiKXtDbyh0aGlzLnBrLGEsYix0aGlzKX07ay5maT1mdW5jdGlvbihhLGIpe0NvKHRoaXMuaGssYSxiLHRoaXMpfTtrLnJqPWZ1bmN0aW9uKGEsYil7Q28odGhpcy5xayxhLGIsdGhpcyl9O2suc2Y9ZnVuY3Rpb24oYSxiKXtpZihhPXRoaXMucWYoYSxiKSlyZXR1cm4gYj1uZXcgSShudWxsKSxiLmJhKFwiWFlaXCIsYSksYn07XG5rLlhwPWZ1bmN0aW9uKGEsYil7aWYoYT1PKG51bGwsdGhpcy50ZSxhLGIsdGhpcykpcmV0dXJuIGF9O2sud2o9ZnVuY3Rpb24oYSxiKXtpZihhPXRoaXMucWYoYSxiKSlyZXR1cm4gYj1uZXcgRGYobnVsbCksRWYoYixcIlhZWlwiLGEpLGJ9O2sudGY9ZnVuY3Rpb24oYSxiKXtpZigoYT1PKFtudWxsXSx0aGlzLkdmLGEsYix0aGlzKSkmJmFbMF0pe2I9bmV3IEQobnVsbCk7dmFyIGM9YVswXSxkPVtjLmxlbmd0aF0sZTt2YXIgZj0xO2ZvcihlPWEubGVuZ3RoO2Y8ZTsrK2YpZ2MoYyxhW2ZdKSxkLnB1c2goYy5sZW5ndGgpO2IuYmEoXCJYWVpcIixjLGQpO3JldHVybiBifX07ay5xZj1mdW5jdGlvbihhLGIpe3JldHVybiBPKG51bGwsdGhpcy50ZSxhLGIsdGhpcyl9O2sua2s9e1wiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcIjp7cG9pbnRNZW1iZXI6dW8oWm8ucHJvdG90eXBlLnFqKSxwb2ludE1lbWJlcnM6dW8oWm8ucHJvdG90eXBlLnFqKX19O1xuay5qaz17XCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbFwiOntsaW5lU3RyaW5nTWVtYmVyOnVvKFpvLnByb3RvdHlwZS5maSksbGluZVN0cmluZ01lbWJlcnM6dW8oWm8ucHJvdG90eXBlLmZpKX19O2subGs9e1wiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcIjp7cG9seWdvbk1lbWJlcjp1byhaby5wcm90b3R5cGUucmopLHBvbHlnb25NZW1iZXJzOnVvKFpvLnByb3RvdHlwZS5yail9fTtrLnBrPXtcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCI6e1BvaW50OnVvKFpvLnByb3RvdHlwZS5xZil9fTtrLmhrPXtcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCI6e0xpbmVTdHJpbmc6dW8oWm8ucHJvdG90eXBlLnNmKX19O2sucWs9e1wiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcIjp7UG9seWdvbjp1byhaby5wcm90b3R5cGUudGYpfX07ay51ZT17XCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbFwiOntMaW5lYXJSaW5nOnZvKFpvLnByb3RvdHlwZS5YcCl9fTtcbmsudmo9ZnVuY3Rpb24oYSxiKXtyZXR1cm4oYT10aGlzLnJmKGEsW0hvKHRoaXMsYSxiP2I6e30pXSkpP2E6bnVsbH07ay5LYz1mdW5jdGlvbihhLGIpe3ZhciBjPXtmZWF0dXJlVHlwZTp0aGlzLmZlYXR1cmVUeXBlLGZlYXR1cmVOUzp0aGlzLmZlYXR1cmVOU307YiYma2IoYyxIbyh0aGlzLGEsYikpO3JldHVybiB0aGlzLmdlKGEsW2NdKXx8W119O2sudWY9ZnVuY3Rpb24oYSl7cmV0dXJuIE9iKHRoaXMuc3JzTmFtZT90aGlzLnNyc05hbWU6YS5maXJzdEVsZW1lbnRDaGlsZC5nZXRBdHRyaWJ1dGUoXCJzcnNOYW1lXCIpKX07ZnVuY3Rpb24gYXAoYSl7YT1vbyhhLCExKTtyZXR1cm4gYnAoYSl9ZnVuY3Rpb24gYnAoYSl7aWYoYT0vXlxccyoodHJ1ZXwxKXwoZmFsc2V8MClcXHMqJC8uZXhlYyhhKSlyZXR1cm4gdm9pZCAwIT09YVsxXXx8ITF9ZnVuY3Rpb24gY3AoYSl7YT1vbyhhLCExKTthPURhdGUucGFyc2UoYSk7cmV0dXJuIGlzTmFOKGEpP3ZvaWQgMDphLzFFM31mdW5jdGlvbiBkcChhKXthPW9vKGEsITEpO3JldHVybiBlcChhKX1mdW5jdGlvbiBlcChhKXtpZihhPS9eXFxzKihbK1xcLV0/XFxkKlxcLj9cXGQrKD86ZVsrXFwtXT9cXGQrKT8pXFxzKiQvaS5leGVjKGEpKXJldHVybiBwYXJzZUZsb2F0KGFbMV0pfWZ1bmN0aW9uIGZwKGEpe2E9b28oYSwhMSk7cmV0dXJuIGdwKGEpfWZ1bmN0aW9uIGdwKGEpe2lmKGE9L15cXHMqKFxcZCspXFxzKiQvLmV4ZWMoYSkpcmV0dXJuIHBhcnNlSW50KGFbMV0sMTApfWZ1bmN0aW9uIFIoYSl7cmV0dXJuIG9vKGEsITEpLnRyaW0oKX1cbmZ1bmN0aW9uIGhwKGEsYil7aXAoYSxiP1wiMVwiOlwiMFwiKX1mdW5jdGlvbiBJcChhLGIpe2EuYXBwZW5kQ2hpbGQobW8uY3JlYXRlVGV4dE5vZGUoYi50b1ByZWNpc2lvbigpKSl9ZnVuY3Rpb24gSnAoYSxiKXthLmFwcGVuZENoaWxkKG1vLmNyZWF0ZVRleHROb2RlKGIudG9TdHJpbmcoKSkpfWZ1bmN0aW9uIGlwKGEsYil7YS5hcHBlbmRDaGlsZChtby5jcmVhdGVUZXh0Tm9kZShiKSl9O2Z1bmN0aW9uIEtwKGEpe2E9YT9hOnt9O1pvLmNhbGwodGhpcyxhKTt0aGlzLnM9dm9pZCAwIT09YS5zdXJmYWNlP2Euc3VyZmFjZTohMTt0aGlzLmM9dm9pZCAwIT09YS5jdXJ2ZT9hLmN1cnZlOiExO3RoaXMuZj12b2lkIDAhPT1hLm11bHRpQ3VydmU/YS5tdWx0aUN1cnZlOiEwO3RoaXMuaj12b2lkIDAhPT1hLm11bHRpU3VyZmFjZT9hLm11bHRpU3VyZmFjZTohMDt0aGlzLnNjaGVtYUxvY2F0aW9uPWEuc2NoZW1hTG9jYXRpb24/YS5zY2hlbWFMb2NhdGlvbjpcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sIGh0dHA6Ly9zY2hlbWFzLm9wZW5naXMubmV0L2dtbC8zLjEuMS9wcm9maWxlcy9nbWxzZlByb2ZpbGUvMS4wLjAvZ21sc2YueHNkXCI7dGhpcy5oYXNaPXZvaWQgMCE9PWEuaGFzWj9hLmhhc1o6ITF9dyhLcCxabyk7az1LcC5wcm90b3R5cGU7XG5rLmFxPWZ1bmN0aW9uKGEsYil7aWYoYT1PKFtdLHRoaXMuaWssYSxiLHRoaXMpKXJldHVybiBiPW5ldyBQKG51bGwpLE1vKGIsYSksYn07ay5icT1mdW5jdGlvbihhLGIpe2lmKGE9TyhbXSx0aGlzLm1rLGEsYix0aGlzKSlyZXR1cm4gYj1uZXcgUShudWxsKSxPbyhiLGEpLGJ9O2suR2g9ZnVuY3Rpb24oYSxiKXtDbyh0aGlzLmVrLGEsYix0aGlzKX07ay5Yaj1mdW5jdGlvbihhLGIpe0NvKHRoaXMuc2ssYSxiLHRoaXMpfTtrLmZxPWZ1bmN0aW9uKGEsYil7cmV0dXJuIE8oW251bGxdLHRoaXMubmssYSxiLHRoaXMpfTtrLmlxPWZ1bmN0aW9uKGEsYil7cmV0dXJuIE8oW251bGxdLHRoaXMucmssYSxiLHRoaXMpfTtrLmdxPWZ1bmN0aW9uKGEsYil7cmV0dXJuIE8oW251bGxdLHRoaXMuR2YsYSxiLHRoaXMpfTtrLiRwPWZ1bmN0aW9uKGEsYil7cmV0dXJuIE8oW251bGxdLHRoaXMudGUsYSxiLHRoaXMpfTtcbmsuRm09ZnVuY3Rpb24oYSxiKXsoYT1PKHZvaWQgMCx0aGlzLnVlLGEsYix0aGlzKSkmJmJbYi5sZW5ndGgtMV0ucHVzaChhKX07ay5aaz1mdW5jdGlvbihhLGIpeyhhPU8odm9pZCAwLHRoaXMudWUsYSxiLHRoaXMpKSYmKGJbYi5sZW5ndGgtMV1bMF09YSl9O2suQmo9ZnVuY3Rpb24oYSxiKXtpZigoYT1PKFtudWxsXSx0aGlzLnRrLGEsYix0aGlzKSkmJmFbMF0pe2I9bmV3IEQobnVsbCk7dmFyIGM9YVswXSxkPVtjLmxlbmd0aF0sZTt2YXIgZj0xO2ZvcihlPWEubGVuZ3RoO2Y8ZTsrK2YpZ2MoYyxhW2ZdKSxkLnB1c2goYy5sZW5ndGgpO2IuYmEoXCJYWVpcIixjLGQpO3JldHVybiBifX07ay50aj1mdW5jdGlvbihhLGIpe2lmKGE9TyhbbnVsbF0sdGhpcy5mayxhLGIsdGhpcykpcmV0dXJuIGI9bmV3IEkobnVsbCksYi5iYShcIlhZWlwiLGEpLGJ9O1xuay5XcD1mdW5jdGlvbihhLGIpe2E9TyhbbnVsbF0sdGhpcy5nayxhLGIsdGhpcyk7cmV0dXJuIE5hKGFbMV1bMF0sYVsxXVsxXSxhWzJdWzBdLGFbMl1bMV0pfTtrLllwPWZ1bmN0aW9uKGEsYil7dmFyIGM9b28oYSwhMSksZD0vXlxccyooWytcXC1dP1xcZCpcXC4/XFxkKyg/OltlRV1bK1xcLV0/XFxkKyk/KVxccyovO2E9W107Zm9yKHZhciBlO2U9ZC5leGVjKGMpOylhLnB1c2gocGFyc2VGbG9hdChlWzFdKSksYz1jLnN1YnN0cihlWzBdLmxlbmd0aCk7aWYoXCJcIj09PWMpe2I9YlswXS5zcnNOYW1lO2M9XCJlbnVcIjtiJiYoYz1PYihiKS5iKTtpZihcIm5ldVwiPT09Yylmb3IoYj0wLGM9YS5sZW5ndGg7YjxjO2IrPTMpZD1hW2JdLGFbYl09YVtiKzFdLGFbYisxXT1kO2I9YS5sZW5ndGg7Mj09YiYmYS5wdXNoKDApO2lmKDAhPT1iKXJldHVybiBhfX07XG5rLlBnPWZ1bmN0aW9uKGEsYil7dmFyIGM9b28oYSwhMSkucmVwbGFjZSgvXlxccyp8XFxzKiQvZyxcIlwiKTtiPWJbMF07dmFyIGQ9Yi5zcnNOYW1lLGU9Yi5zcnNEaW1lbnNpb247Yj1cImVudVwiO2QmJihiPU9iKGQpLmIpO2M9Yy5zcGxpdCgvXFxzKy8pO2Q9MjthLmdldEF0dHJpYnV0ZShcInNyc0RpbWVuc2lvblwiKT9kPWdwKGEuZ2V0QXR0cmlidXRlKFwic3JzRGltZW5zaW9uXCIpKTphLmdldEF0dHJpYnV0ZShcImRpbWVuc2lvblwiKT9kPWdwKGEuZ2V0QXR0cmlidXRlKFwiZGltZW5zaW9uXCIpKTphLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKFwic3JzRGltZW5zaW9uXCIpP2Q9Z3AoYS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZShcInNyc0RpbWVuc2lvblwiKSk6ZSYmKGQ9Z3AoZSkpO2Zvcih2YXIgZixnPVtdLGg9MCxsPWMubGVuZ3RoO2g8bDtoKz1kKWE9cGFyc2VGbG9hdChjW2hdKSxlPXBhcnNlRmxvYXQoY1toKzFdKSxmPTM9PT1kP3BhcnNlRmxvYXQoY1toKzJdKTowLFwiZW5cIj09PWIuc3Vic3RyKDAsXG4yKT9nLnB1c2goYSxlLGYpOmcucHVzaChlLGEsZik7cmV0dXJuIGd9O2sudGU9e1wiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcIjp7cG9zOnZvKEtwLnByb3RvdHlwZS5ZcCkscG9zTGlzdDp2byhLcC5wcm90b3R5cGUuUGcpfX07ay5HZj17XCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbFwiOntpbnRlcmlvcjpLcC5wcm90b3R5cGUuRm0sZXh0ZXJpb3I6S3AucHJvdG90eXBlLlprfX07XG5rLnFoPXtcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCI6e1BvaW50OnZvKFpvLnByb3RvdHlwZS5BaiksTXVsdGlQb2ludDp2byhaby5wcm90b3R5cGUueWopLExpbmVTdHJpbmc6dm8oWm8ucHJvdG90eXBlLnNmKSxNdWx0aUxpbmVTdHJpbmc6dm8oWm8ucHJvdG90eXBlLnhqKSxMaW5lYXJSaW5nOnZvKFpvLnByb3RvdHlwZS53aiksUG9seWdvbjp2byhaby5wcm90b3R5cGUudGYpLE11bHRpUG9seWdvbjp2byhaby5wcm90b3R5cGUuemopLFN1cmZhY2U6dm8oS3AucHJvdG90eXBlLkJqKSxNdWx0aVN1cmZhY2U6dm8oS3AucHJvdG90eXBlLmJxKSxDdXJ2ZTp2byhLcC5wcm90b3R5cGUudGopLE11bHRpQ3VydmU6dm8oS3AucHJvdG90eXBlLmFxKSxFbnZlbG9wZTp2byhLcC5wcm90b3R5cGUuV3ApfX07ay5paz17XCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbFwiOntjdXJ2ZU1lbWJlcjp1byhLcC5wcm90b3R5cGUuR2gpLGN1cnZlTWVtYmVyczp1byhLcC5wcm90b3R5cGUuR2gpfX07XG5rLm1rPXtcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCI6e3N1cmZhY2VNZW1iZXI6dW8oS3AucHJvdG90eXBlLlhqKSxzdXJmYWNlTWVtYmVyczp1byhLcC5wcm90b3R5cGUuWGopfX07ay5laz17XCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbFwiOntMaW5lU3RyaW5nOnVvKFpvLnByb3RvdHlwZS5zZiksQ3VydmU6dW8oS3AucHJvdG90eXBlLnRqKX19O2suc2s9e1wiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcIjp7UG9seWdvbjp1byhaby5wcm90b3R5cGUudGYpLFN1cmZhY2U6dW8oS3AucHJvdG90eXBlLkJqKX19O2sudGs9e1wiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcIjp7cGF0Y2hlczp2byhLcC5wcm90b3R5cGUuZnEpfX07ay5maz17XCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbFwiOntzZWdtZW50czp2byhLcC5wcm90b3R5cGUuaXEpfX07ay5naz17XCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbFwiOntsb3dlckNvcm5lcjp1byhLcC5wcm90b3R5cGUuUGcpLHVwcGVyQ29ybmVyOnVvKEtwLnByb3RvdHlwZS5QZyl9fTtcbmsubms9e1wiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcIjp7UG9seWdvblBhdGNoOnZvKEtwLnByb3RvdHlwZS5ncSl9fTtrLnJrPXtcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCI6e0xpbmVTdHJpbmdTZWdtZW50OnZvKEtwLnByb3RvdHlwZS4kcCl9fTtmdW5jdGlvbiBMcChhLGIsYyl7dmFyIGQ9Y1tjLmxlbmd0aC0xXTtjPWQuaGFzWjthLnNldEF0dHJpYnV0ZShcInNyc0RpbWVuc2lvblwiLGM/MzoyKTtkPWQuc3JzTmFtZTtiPWIuVygpO2Zvcih2YXIgZT1iLmxlbmd0aCxmPUFycmF5KGUpLGcsaD0wO2g8ZTsrK2gpe2c9YltoXTt2YXIgbD1oLG09YyxuPVwiZW51XCI7ZCYmKG49T2IoZCkuYik7bj1cImVuXCI9PT1uLnN1YnN0cigwLDIpP2dbMF0rXCIgXCIrZ1sxXTpnWzFdK1wiIFwiK2dbMF07bSYmKG4rPVwiIFwiKyhnWzJdfHwwKSk7ZltsXT1ufWlwKGEsZi5qb2luKFwiIFwiKSl9XG5rLkhpPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jW2MubGVuZ3RoLTFdLnNyc05hbWU7ZCYmYS5zZXRBdHRyaWJ1dGUoXCJzcnNOYW1lXCIsZCk7ZD1ubyhhLm5hbWVzcGFjZVVSSSxcInBvc1wiKTthLmFwcGVuZENoaWxkKGQpO2M9Y1tjLmxlbmd0aC0xXTthPWMuaGFzWjtkLnNldEF0dHJpYnV0ZShcInNyc0RpbWVuc2lvblwiLGE/MzoyKTt2YXIgZT1jLnNyc05hbWU7Yz1cImVudVwiO2UmJihjPU9iKGUpLmIpO2I9Yi5XKCk7Yz1cImVuXCI9PT1jLnN1YnN0cigwLDIpP2JbMF0rXCIgXCIrYlsxXTpiWzFdK1wiIFwiK2JbMF07YSYmKGMrPVwiIFwiKyhiWzJdfHwwKSk7aXAoZCxjKX07dmFyIE1wPXtcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCI6e2xvd2VyQ29ybmVyOk0oaXApLHVwcGVyQ29ybmVyOk0oaXApfX07az1LcC5wcm90b3R5cGU7XG5rLlBuPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jW2MubGVuZ3RoLTFdLnNyc05hbWU7ZCYmYS5zZXRBdHRyaWJ1dGUoXCJzcnNOYW1lXCIsZCk7RG8oe25vZGU6YX0sTXAsQW8sW2JbMF0rXCIgXCIrYlsxXSxiWzJdK1wiIFwiK2JbM11dLGMsW1wibG93ZXJDb3JuZXJcIixcInVwcGVyQ29ybmVyXCJdLHRoaXMpfTtrLkVpPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jW2MubGVuZ3RoLTFdLnNyc05hbWU7ZCYmYS5zZXRBdHRyaWJ1dGUoXCJzcnNOYW1lXCIsZCk7ZD1ubyhhLm5hbWVzcGFjZVVSSSxcInBvc0xpc3RcIik7YS5hcHBlbmRDaGlsZChkKTtMcChkLGIsYyl9O2suT249ZnVuY3Rpb24oYSxiKXthPWJbYi5sZW5ndGgtMV07Yj1hLm5vZGU7dmFyIGM9YS5leHRlcmlvcldyaXR0ZW47dm9pZCAwPT09YyYmKGEuZXh0ZXJpb3JXcml0dGVuPSEwKTtyZXR1cm4gbm8oYi5uYW1lc3BhY2VVUkksdm9pZCAwIT09Yz9cImludGVyaW9yXCI6XCJleHRlcmlvclwiKX07XG5rLmFmPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jW2MubGVuZ3RoLTFdLGU9ZC5oYXNaO2Q9ZC5zcnNOYW1lO1wiUG9seWdvblBhdGNoXCIhPT1hLm5vZGVOYW1lJiZkJiZhLnNldEF0dHJpYnV0ZShcInNyc05hbWVcIixkKTtcIlBvbHlnb25cIj09PWEubm9kZU5hbWV8fFwiUG9seWdvblBhdGNoXCI9PT1hLm5vZGVOYW1lPyhiPWIuVWQoKSxEbyh7bm9kZTphLGhhc1o6ZSxzcnNOYW1lOmR9LE5wLHRoaXMuT24sYixjLHZvaWQgMCx0aGlzKSk6XCJTdXJmYWNlXCI9PT1hLm5vZGVOYW1lJiYoZT1ubyhhLm5hbWVzcGFjZVVSSSxcInBhdGNoZXNcIiksYS5hcHBlbmRDaGlsZChlKSxhPW5vKGUubmFtZXNwYWNlVVJJLFwiUG9seWdvblBhdGNoXCIpLGUuYXBwZW5kQ2hpbGQoYSksdGhpcy5hZihhLGIsYykpfTtcbmsuJGU9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWNbYy5sZW5ndGgtMV0uc3JzTmFtZTtcIkxpbmVTdHJpbmdTZWdtZW50XCIhPT1hLm5vZGVOYW1lJiZkJiZhLnNldEF0dHJpYnV0ZShcInNyc05hbWVcIixkKTtcIkxpbmVTdHJpbmdcIj09PWEubm9kZU5hbWV8fFwiTGluZVN0cmluZ1NlZ21lbnRcIj09PWEubm9kZU5hbWU/KGQ9bm8oYS5uYW1lc3BhY2VVUkksXCJwb3NMaXN0XCIpLGEuYXBwZW5kQ2hpbGQoZCksTHAoZCxiLGMpKTpcIkN1cnZlXCI9PT1hLm5vZGVOYW1lJiYoZD1ubyhhLm5hbWVzcGFjZVVSSSxcInNlZ21lbnRzXCIpLGEuYXBwZW5kQ2hpbGQoZCksYT1ubyhkLm5hbWVzcGFjZVVSSSxcIkxpbmVTdHJpbmdTZWdtZW50XCIpLGQuYXBwZW5kQ2hpbGQoYSksdGhpcy4kZShhLGIsYykpfTtcbmsuR2k9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWNbYy5sZW5ndGgtMV0sZT1kLmhhc1osZj1kLnNyc05hbWU7ZD1kLnN1cmZhY2U7ZiYmYS5zZXRBdHRyaWJ1dGUoXCJzcnNOYW1lXCIsZik7Yj1iLlZkKCk7RG8oe25vZGU6YSxoYXNaOmUsc3JzTmFtZTpmLHN1cmZhY2U6ZH0sT3AsdGhpcy5sLGIsYyx2b2lkIDAsdGhpcyl9O2suUW49ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWNbYy5sZW5ndGgtMV0sZT1kLnNyc05hbWU7ZD1kLmhhc1o7ZSYmYS5zZXRBdHRyaWJ1dGUoXCJzcnNOYW1lXCIsZSk7Yj1iLmRlKCk7RG8oe25vZGU6YSxoYXNaOmQsc3JzTmFtZTplfSxQcCx5byhcInBvaW50TWVtYmVyXCIpLGIsYyx2b2lkIDAsdGhpcyl9O1xuay5GaT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Y1tjLmxlbmd0aC0xXSxlPWQuaGFzWixmPWQuc3JzTmFtZTtkPWQuY3VydmU7ZiYmYS5zZXRBdHRyaWJ1dGUoXCJzcnNOYW1lXCIsZik7Yj1iLndkKCk7RG8oe25vZGU6YSxoYXNaOmUsc3JzTmFtZTpmLGN1cnZlOmR9LFFwLHRoaXMubCxiLGMsdm9pZCAwLHRoaXMpfTtrLklpPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1ubyhhLm5hbWVzcGFjZVVSSSxcIkxpbmVhclJpbmdcIik7YS5hcHBlbmRDaGlsZChkKTt0aGlzLkVpKGQsYixjKX07ay5KaT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5hKGIsYyk7ZCYmKGEuYXBwZW5kQ2hpbGQoZCksdGhpcy5hZihkLGIsYykpfTtrLlJuPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1ubyhhLm5hbWVzcGFjZVVSSSxcIlBvaW50XCIpO2EuYXBwZW5kQ2hpbGQoZCk7dGhpcy5IaShkLGIsYyl9O1xuay5EaT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5hKGIsYyk7ZCYmKGEuYXBwZW5kQ2hpbGQoZCksdGhpcy4kZShkLGIsYykpfTtrLlljPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jW2MubGVuZ3RoLTFdLGU9a2Ioe30sZCk7ZS5ub2RlPWE7dmFyIGY7QXJyYXkuaXNBcnJheShiKT9kLmRhdGFQcm9qZWN0aW9uP2Y9YmMoYixkLmZlYXR1cmVQcm9qZWN0aW9uLGQuZGF0YVByb2plY3Rpb24pOmY9YjpmPUpvKGIsITAsZCk7RG8oZSxScCx0aGlzLmEsW2ZdLGMsdm9pZCAwLHRoaXMpfTtcbmsuQ2k9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWIuYztkJiZhLnNldEF0dHJpYnV0ZShcImZpZFwiLGQpO2Q9Y1tjLmxlbmd0aC0xXTt2YXIgZT1kLmZlYXR1cmVOUyxmPWIuYTtkLnRifHwoZC50Yj17fSxkLnRiW2VdPXt9KTt2YXIgZz1iLkwoKTtiPVtdO3ZhciBoPVtdO2ZvcihtIGluIGcpe3ZhciBsPWdbbV07bnVsbCE9PWwmJihiLnB1c2gobSksaC5wdXNoKGwpLG09PWZ8fGwgaW5zdGFuY2VvZiBnZj9tIGluIGQudGJbZV18fChkLnRiW2VdW21dPU0odGhpcy5ZYyx0aGlzKSk6bSBpbiBkLnRiW2VdfHwoZC50YltlXVttXT1NKGlwKSkpfXZhciBtPWtiKHt9LGQpO20ubm9kZT1hO0RvKG0sZC50Yix5byh2b2lkIDAsZSksaCxjLGIpfTtcbnZhciBPcD17XCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbFwiOntzdXJmYWNlTWVtYmVyOk0oS3AucHJvdG90eXBlLkppKSxwb2x5Z29uTWVtYmVyOk0oS3AucHJvdG90eXBlLkppKX19LFBwPXtcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCI6e3BvaW50TWVtYmVyOk0oS3AucHJvdG90eXBlLlJuKX19LFFwPXtcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCI6e2xpbmVTdHJpbmdNZW1iZXI6TShLcC5wcm90b3R5cGUuRGkpLGN1cnZlTWVtYmVyOk0oS3AucHJvdG90eXBlLkRpKX19LE5wPXtcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCI6e2V4dGVyaW9yOk0oS3AucHJvdG90eXBlLklpKSxpbnRlcmlvcjpNKEtwLnByb3RvdHlwZS5JaSl9fSxScD17XCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbFwiOntDdXJ2ZTpNKEtwLnByb3RvdHlwZS4kZSksTXVsdGlDdXJ2ZTpNKEtwLnByb3RvdHlwZS5GaSksUG9pbnQ6TShLcC5wcm90b3R5cGUuSGkpLE11bHRpUG9pbnQ6TShLcC5wcm90b3R5cGUuUW4pLFxuTGluZVN0cmluZzpNKEtwLnByb3RvdHlwZS4kZSksTXVsdGlMaW5lU3RyaW5nOk0oS3AucHJvdG90eXBlLkZpKSxMaW5lYXJSaW5nOk0oS3AucHJvdG90eXBlLkVpKSxQb2x5Z29uOk0oS3AucHJvdG90eXBlLmFmKSxNdWx0aVBvbHlnb246TShLcC5wcm90b3R5cGUuR2kpLFN1cmZhY2U6TShLcC5wcm90b3R5cGUuYWYpLE11bHRpU3VyZmFjZTpNKEtwLnByb3RvdHlwZS5HaSksRW52ZWxvcGU6TShLcC5wcm90b3R5cGUuUG4pfX0sU3A9e011bHRpTGluZVN0cmluZzpcImxpbmVTdHJpbmdNZW1iZXJcIixNdWx0aUN1cnZlOlwiY3VydmVNZW1iZXJcIixNdWx0aVBvbHlnb246XCJwb2x5Z29uTWVtYmVyXCIsTXVsdGlTdXJmYWNlOlwic3VyZmFjZU1lbWJlclwifTtLcC5wcm90b3R5cGUubD1mdW5jdGlvbihhLGIpe3JldHVybiBubyhcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCIsU3BbYltiLmxlbmd0aC0xXS5ub2RlLm5vZGVOYW1lXSl9O1xuS3AucHJvdG90eXBlLmE9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iW2IubGVuZ3RoLTFdO2I9Yy5tdWx0aVN1cmZhY2U7dmFyIGQ9Yy5zdXJmYWNlLGU9Yy5jdXJ2ZTtjPWMubXVsdGlDdXJ2ZTtBcnJheS5pc0FycmF5KGEpP2E9XCJFbnZlbG9wZVwiOihhPWEuUygpLFwiTXVsdGlQb2x5Z29uXCI9PT1hJiYhMD09PWI/YT1cIk11bHRpU3VyZmFjZVwiOlwiUG9seWdvblwiPT09YSYmITA9PT1kP2E9XCJTdXJmYWNlXCI6XCJMaW5lU3RyaW5nXCI9PT1hJiYhMD09PWU/YT1cIkN1cnZlXCI6XCJNdWx0aUxpbmVTdHJpbmdcIj09PWEmJiEwPT09YyYmKGE9XCJNdWx0aUN1cnZlXCIpKTtyZXR1cm4gbm8oXCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbFwiLGEpfTtcbktwLnByb3RvdHlwZS5yZT1mdW5jdGlvbihhLGIpe2I9SW8odGhpcyxiKTt2YXIgYz1ubyhcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCIsXCJnZW9tXCIpLGQ9e25vZGU6YyxoYXNaOnRoaXMuaGFzWixzcnNOYW1lOnRoaXMuc3JzTmFtZSxjdXJ2ZTp0aGlzLmMsc3VyZmFjZTp0aGlzLnMsbXVsdGlTdXJmYWNlOnRoaXMuaixtdWx0aUN1cnZlOnRoaXMuZn07YiYma2IoZCxiKTt0aGlzLlljKGMsYSxbZF0pO3JldHVybiBjfTtcbktwLnByb3RvdHlwZS5iYz1mdW5jdGlvbihhLGIpe2I9SW8odGhpcyxiKTt2YXIgYz1ubyhcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCIsXCJmZWF0dXJlTWVtYmVyc1wiKTtjLnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2VcIixcInhzaTpzY2hlbWFMb2NhdGlvblwiLHRoaXMuc2NoZW1hTG9jYXRpb24pO3ZhciBkPXtzcnNOYW1lOnRoaXMuc3JzTmFtZSxoYXNaOnRoaXMuaGFzWixjdXJ2ZTp0aGlzLmMsc3VyZmFjZTp0aGlzLnMsbXVsdGlTdXJmYWNlOnRoaXMuaixtdWx0aUN1cnZlOnRoaXMuZixmZWF0dXJlTlM6dGhpcy5mZWF0dXJlTlMsZmVhdHVyZVR5cGU6dGhpcy5mZWF0dXJlVHlwZX07YiYma2IoZCxiKTtiPVtkXTt2YXIgZT1iW2IubGVuZ3RoLTFdO2Q9ZS5mZWF0dXJlVHlwZTt2YXIgZj1lLmZlYXR1cmVOUyxnPXt9O2dbZl09e307Z1tmXVtkXT1NKHRoaXMuQ2ksdGhpcyk7ZT1rYih7fSxlKTtlLm5vZGU9YztEbyhlLGcsXG55byhkLGYpLGEsYik7cmV0dXJuIGN9O2Z1bmN0aW9uIFRwKGEpe2E9YT9hOnt9O1pvLmNhbGwodGhpcyxhKTt0aGlzLmJbXCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbFwiXS5mZWF0dXJlTWVtYmVyPXVvKFpvLnByb3RvdHlwZS5nZSk7dGhpcy5zY2hlbWFMb2NhdGlvbj1hLnNjaGVtYUxvY2F0aW9uP2Euc2NoZW1hTG9jYXRpb246XCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbCBodHRwOi8vc2NoZW1hcy5vcGVuZ2lzLm5ldC9nbWwvMi4xLjIvZmVhdHVyZS54c2RcIn13KFRwLFpvKTtrPVRwLnByb3RvdHlwZTtcbmsudWo9ZnVuY3Rpb24oYSxiKXthPW9vKGEsITEpLnJlcGxhY2UoL15cXHMqfFxccyokL2csXCJcIik7dmFyIGM9YlswXS5zcnNOYW1lO2I9XCJlbnVcIjtjJiYoYz1PYihjKSkmJihiPWMuYik7YT1hLnRyaW0oKS5zcGxpdCgvXFxzKy8pO2Zvcih2YXIgZCxlLGY9W10sZz0wLGg9YS5sZW5ndGg7ZzxoO2crKyllPWFbZ10uc3BsaXQoLywrLyksYz1wYXJzZUZsb2F0KGVbMF0pLGQ9cGFyc2VGbG9hdChlWzFdKSxlPTM9PT1lLmxlbmd0aD9wYXJzZUZsb2F0KGVbMl0pOjAsXCJlblwiPT09Yi5zdWJzdHIoMCwyKT9mLnB1c2goYyxkLGUpOmYucHVzaChkLGMsZSk7cmV0dXJuIGZ9O2suVXA9ZnVuY3Rpb24oYSxiKXthPU8oW251bGxdLHRoaXMuZGssYSxiLHRoaXMpO3JldHVybiBOYShhWzFdWzBdLGFbMV1bMV0sYVsxXVszXSxhWzFdWzRdKX07ay5EbT1mdW5jdGlvbihhLGIpeyhhPU8odm9pZCAwLHRoaXMudWUsYSxiLHRoaXMpKSYmYltiLmxlbmd0aC0xXS5wdXNoKGEpfTtcbmsuRXA9ZnVuY3Rpb24oYSxiKXsoYT1PKHZvaWQgMCx0aGlzLnVlLGEsYix0aGlzKSkmJihiW2IubGVuZ3RoLTFdWzBdPWEpfTtrLnRlPXtcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCI6e2Nvb3JkaW5hdGVzOnZvKFRwLnByb3RvdHlwZS51ail9fTtrLkdmPXtcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCI6e2lubmVyQm91bmRhcnlJczpUcC5wcm90b3R5cGUuRG0sb3V0ZXJCb3VuZGFyeUlzOlRwLnByb3RvdHlwZS5FcH19O2suZGs9e1wiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcIjp7Y29vcmRpbmF0ZXM6dW8oVHAucHJvdG90eXBlLnVqKX19O1xuay5xaD17XCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbFwiOntQb2ludDp2byhaby5wcm90b3R5cGUuQWopLE11bHRpUG9pbnQ6dm8oWm8ucHJvdG90eXBlLnlqKSxMaW5lU3RyaW5nOnZvKFpvLnByb3RvdHlwZS5zZiksTXVsdGlMaW5lU3RyaW5nOnZvKFpvLnByb3RvdHlwZS54aiksTGluZWFyUmluZzp2byhaby5wcm90b3R5cGUud2opLFBvbHlnb246dm8oWm8ucHJvdG90eXBlLnRmKSxNdWx0aVBvbHlnb246dm8oWm8ucHJvdG90eXBlLnpqKSxCb3g6dm8oVHAucHJvdG90eXBlLlVwKX19O1xuay53Zz1mdW5jdGlvbihhLGIpe3ZhciBjPWJbYi5sZW5ndGgtMV07Yj1jLm11bHRpU3VyZmFjZTt2YXIgZD1jLnN1cmZhY2U7Yz1jLm11bHRpQ3VydmU7QXJyYXkuaXNBcnJheShhKT9hPVwiRW52ZWxvcGVcIjooYT1hLlMoKSxcIk11bHRpUG9seWdvblwiPT09YSYmITA9PT1iP2E9XCJNdWx0aVN1cmZhY2VcIjpcIlBvbHlnb25cIj09PWEmJiEwPT09ZD9hPVwiU3VyZmFjZVwiOlwiTXVsdGlMaW5lU3RyaW5nXCI9PT1hJiYhMD09PWMmJihhPVwiTXVsdGlDdXJ2ZVwiKSk7cmV0dXJuIG5vKFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcIixhKX07ay51aT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Y1tjLmxlbmd0aC0xXSxlPWtiKHt9LGQpO2Uubm9kZT1hO3ZhciBmO0FycmF5LmlzQXJyYXkoYik/ZC5kYXRhUHJvamVjdGlvbj9mPWJjKGIsZC5mZWF0dXJlUHJvamVjdGlvbixkLmRhdGFQcm9qZWN0aW9uKTpmPWI6Zj1KbyhiLCEwLGQpO0RvKGUsVXAsdGhpcy53ZyxbZl0sYyx2b2lkIDAsdGhpcyl9O1xuay5ZZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Y1tjLmxlbmd0aC0xXS5zcnNOYW1lO1wiTGluZVN0cmluZ1NlZ21lbnRcIiE9PWEubm9kZU5hbWUmJmQmJmEuc2V0QXR0cmlidXRlKFwic3JzTmFtZVwiLGQpO1wiTGluZVN0cmluZ1wiPT09YS5ub2RlTmFtZXx8XCJMaW5lU3RyaW5nU2VnbWVudFwiPT09YS5ub2RlTmFtZT8oZD1WcChhLm5hbWVzcGFjZVVSSSksYS5hcHBlbmRDaGlsZChkKSxXcChkLGIsYykpOlwiQ3VydmVcIj09PWEubm9kZU5hbWUmJihkPW5vKGEubmFtZXNwYWNlVVJJLFwic2VnbWVudHNcIiksYS5hcHBlbmRDaGlsZChkKSxhPW5vKGQubmFtZXNwYWNlVVJJLFwiTGluZVN0cmluZ1NlZ21lbnRcIiksZC5hcHBlbmRDaGlsZChhKSx0aGlzLlllKGEsYixjKSl9O2Z1bmN0aW9uIFZwKGEpe2E9bm8oYSxcImNvb3JkaW5hdGVzXCIpO2Euc2V0QXR0cmlidXRlKFwiZGVjaW1hbFwiLFwiLlwiKTthLnNldEF0dHJpYnV0ZShcImNzXCIsXCIsXCIpO2Euc2V0QXR0cmlidXRlKFwidHNcIixcIiBcIik7cmV0dXJuIGF9XG5mdW5jdGlvbiBXcChhLGIsYyl7dmFyIGQ9Y1tjLmxlbmd0aC0xXTtjPWQuaGFzWjtkPWQuc3JzTmFtZTtiPWIuVygpO2Zvcih2YXIgZT1iLmxlbmd0aCxmPUFycmF5KGUpLGcsaD0wO2g8ZTsrK2gpZz1iW2hdLGZbaF09WHAoZyxkLGMpO2lwKGEsZi5qb2luKFwiIFwiKSl9XG5rLlplPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jW2MubGVuZ3RoLTFdLGU9ZC5oYXNaO2Q9ZC5zcnNOYW1lO1wiUG9seWdvblBhdGNoXCIhPT1hLm5vZGVOYW1lJiZkJiZhLnNldEF0dHJpYnV0ZShcInNyc05hbWVcIixkKTtcIlBvbHlnb25cIj09PWEubm9kZU5hbWV8fFwiUG9seWdvblBhdGNoXCI9PT1hLm5vZGVOYW1lPyhiPWIuVWQoKSxEbyh7bm9kZTphLGhhc1o6ZSxzcnNOYW1lOmR9LFlwLHRoaXMuS24sYixjLHZvaWQgMCx0aGlzKSk6XCJTdXJmYWNlXCI9PT1hLm5vZGVOYW1lJiYoZT1ubyhhLm5hbWVzcGFjZVVSSSxcInBhdGNoZXNcIiksYS5hcHBlbmRDaGlsZChlKSxhPW5vKGUubmFtZXNwYWNlVVJJLFwiUG9seWdvblBhdGNoXCIpLGUuYXBwZW5kQ2hpbGQoYSksdGhpcy5aZShhLGIsYykpfTtcbmsuS249ZnVuY3Rpb24oYSxiKXthPWJbYi5sZW5ndGgtMV07Yj1hLm5vZGU7dmFyIGM9YS5leHRlcmlvcldyaXR0ZW47dm9pZCAwPT09YyYmKGEuZXh0ZXJpb3JXcml0dGVuPSEwKTtyZXR1cm4gbm8oYi5uYW1lc3BhY2VVUkksdm9pZCAwIT09Yz9cImlubmVyQm91bmRhcnlJc1wiOlwib3V0ZXJCb3VuZGFyeUlzXCIpfTtrLkFpPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1ubyhhLm5hbWVzcGFjZVVSSSxcIkxpbmVhclJpbmdcIik7YS5hcHBlbmRDaGlsZChkKTt0aGlzLndpKGQsYixjKX07ZnVuY3Rpb24gWHAoYSxiLGMpe3ZhciBkPVwiZW51XCI7YiYmKGQ9T2IoYikuYik7Yj1cImVuXCI9PT1kLnN1YnN0cigwLDIpP2FbMF0rXCIsXCIrYVsxXTphWzFdK1wiLFwiK2FbMF07YyYmKGIrPVwiLFwiKyhhWzJdfHwwKSk7cmV0dXJuIGJ9XG5rLnhpPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jW2MubGVuZ3RoLTFdLGU9ZC5oYXNaLGY9ZC5zcnNOYW1lO2Q9ZC5jdXJ2ZTtmJiZhLnNldEF0dHJpYnV0ZShcInNyc05hbWVcIixmKTtiPWIud2QoKTtEbyh7bm9kZTphLGhhc1o6ZSxzcnNOYW1lOmYsY3VydmU6ZH0sWnAsdGhpcy5hLGIsYyx2b2lkIDAsdGhpcyl9O2suemk9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWNbYy5sZW5ndGgtMV07Yz1kLmhhc1o7dmFyIGU9ZC5zcnNOYW1lO2UmJmEuc2V0QXR0cmlidXRlKFwic3JzTmFtZVwiLGUpO2Q9VnAoYS5uYW1lc3BhY2VVUkkpO2EuYXBwZW5kQ2hpbGQoZCk7YT1iLlcoKTthPVhwKGEsZSxjKTtpcChkLGEpfTtcbmsuTW49ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWNbYy5sZW5ndGgtMV0sZT1kLmhhc1o7KGQ9ZC5zcnNOYW1lKSYmYS5zZXRBdHRyaWJ1dGUoXCJzcnNOYW1lXCIsZCk7Yj1iLmRlKCk7RG8oe25vZGU6YSxoYXNaOmUsc3JzTmFtZTpkfSwkcCx5byhcInBvaW50TWVtYmVyXCIpLGIsYyx2b2lkIDAsdGhpcyl9O2suTm49ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW5vKGEubmFtZXNwYWNlVVJJLFwiUG9pbnRcIik7YS5hcHBlbmRDaGlsZChkKTt0aGlzLnppKGQsYixjKX07ay52aT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy53ZyhiLGMpO2QmJihhLmFwcGVuZENoaWxkKGQpLHRoaXMuWWUoZCxiLGMpKX07ay53aT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Y1tjLmxlbmd0aC0xXS5zcnNOYW1lO2QmJmEuc2V0QXR0cmlidXRlKFwic3JzTmFtZVwiLGQpO2Q9VnAoYS5uYW1lc3BhY2VVUkkpO2EuYXBwZW5kQ2hpbGQoZCk7V3AoZCxiLGMpfTtcbmsueWk9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWNbYy5sZW5ndGgtMV0sZT1kLmhhc1osZj1kLnNyc05hbWU7ZD1kLnN1cmZhY2U7ZiYmYS5zZXRBdHRyaWJ1dGUoXCJzcnNOYW1lXCIsZik7Yj1iLlZkKCk7RG8oe25vZGU6YSxoYXNaOmUsc3JzTmFtZTpmLHN1cmZhY2U6ZH0sYXEsdGhpcy5hLGIsYyx2b2lkIDAsdGhpcyl9O2suQmk9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMud2coYixjKTtkJiYoYS5hcHBlbmRDaGlsZChkKSx0aGlzLlplKGQsYixjKSl9O2suTG49ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWNbYy5sZW5ndGgtMV0uc3JzTmFtZTtkJiZhLnNldEF0dHJpYnV0ZShcInNyc05hbWVcIixkKTtEbyh7bm9kZTphfSxicSxBbyxbYlswXStcIiBcIitiWzFdLGJbMl0rXCIgXCIrYlszXV0sYyxbXCJsb3dlckNvcm5lclwiLFwidXBwZXJDb3JuZXJcIl0sdGhpcyl9O1xudmFyIFVwPXtcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCI6e0N1cnZlOk0oVHAucHJvdG90eXBlLlllKSxNdWx0aUN1cnZlOk0oVHAucHJvdG90eXBlLnhpKSxQb2ludDpNKFRwLnByb3RvdHlwZS56aSksTXVsdGlQb2ludDpNKFRwLnByb3RvdHlwZS5NbiksTGluZVN0cmluZzpNKFRwLnByb3RvdHlwZS5ZZSksTXVsdGlMaW5lU3RyaW5nOk0oVHAucHJvdG90eXBlLnhpKSxMaW5lYXJSaW5nOk0oVHAucHJvdG90eXBlLndpKSxQb2x5Z29uOk0oVHAucHJvdG90eXBlLlplKSxNdWx0aVBvbHlnb246TShUcC5wcm90b3R5cGUueWkpLFN1cmZhY2U6TShUcC5wcm90b3R5cGUuWmUpLE11bHRpU3VyZmFjZTpNKFRwLnByb3RvdHlwZS55aSksRW52ZWxvcGU6TShUcC5wcm90b3R5cGUuTG4pfX0sWXA9e1wiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcIjp7b3V0ZXJCb3VuZGFyeUlzOk0oVHAucHJvdG90eXBlLkFpKSxpbm5lckJvdW5kYXJ5SXM6TShUcC5wcm90b3R5cGUuQWkpfX0sJHA9e1wiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcIjp7cG9pbnRNZW1iZXI6TShUcC5wcm90b3R5cGUuTm4pfX0sXG5acD17XCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbFwiOntsaW5lU3RyaW5nTWVtYmVyOk0oVHAucHJvdG90eXBlLnZpKSxjdXJ2ZU1lbWJlcjpNKFRwLnByb3RvdHlwZS52aSl9fTtUcC5wcm90b3R5cGUuYT1mdW5jdGlvbihhLGIpe3JldHVybiBubyhcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCIsY3FbYltiLmxlbmd0aC0xXS5ub2RlLm5vZGVOYW1lXSl9O3ZhciBjcT17TXVsdGlMaW5lU3RyaW5nOlwibGluZVN0cmluZ01lbWJlclwiLE11bHRpQ3VydmU6XCJjdXJ2ZU1lbWJlclwiLE11bHRpUG9seWdvbjpcInBvbHlnb25NZW1iZXJcIixNdWx0aVN1cmZhY2U6XCJzdXJmYWNlTWVtYmVyXCJ9LGFxPXtcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCI6e3N1cmZhY2VNZW1iZXI6TShUcC5wcm90b3R5cGUuQmkpLHBvbHlnb25NZW1iZXI6TShUcC5wcm90b3R5cGUuQmkpfX0sYnE9e1wiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcIjp7bG93ZXJDb3JuZXI6TShpcCksdXBwZXJDb3JuZXI6TShpcCl9fTtmdW5jdGlvbiBkcShhKXthPWE/YTp7fTtXby5jYWxsKHRoaXMpO3RoaXMuZGVmYXVsdERhdGFQcm9qZWN0aW9uPU9iKFwiRVBTRzo0MzI2XCIpO3RoaXMuYj1hLnJlYWRFeHRlbnNpb25zfXcoZHEsV28pO3ZhciBlcT1bbnVsbCxcImh0dHA6Ly93d3cudG9wb2dyYWZpeC5jb20vR1BYLzEvMFwiLFwiaHR0cDovL3d3dy50b3BvZ3JhZml4LmNvbS9HUFgvMS8xXCJdO2Z1bmN0aW9uIGZxKGEsYixjLGQpe2EucHVzaChwYXJzZUZsb2F0KGMuZ2V0QXR0cmlidXRlKFwibG9uXCIpKSxwYXJzZUZsb2F0KGMuZ2V0QXR0cmlidXRlKFwibGF0XCIpKSk7XCJlbGVcImluIGQ/KGEucHVzaChkLmVsZSksZGVsZXRlIGQuZWxlLGIuaGFzWj0hMCk6YS5wdXNoKDApO1widGltZVwiaW4gZD8oYS5wdXNoKGQudGltZSksZGVsZXRlIGQudGltZSxiLmhhc009ITApOmEucHVzaCgwKTtyZXR1cm4gYX1cbmZ1bmN0aW9uIGdxKGEsYixjKXt2YXIgZD1cIlhZXCIsZT0yO2EuaGFzWiYmYS5oYXNNPyhkPVwiWFlaTVwiLGU9NCk6YS5oYXNaPyhkPVwiWFlaXCIsZT0zKTphLmhhc00mJihkPVwiWFlNXCIsZT0zKTtpZig0IT09ZSl7dmFyIGY7dmFyIGc9MDtmb3IoZj1iLmxlbmd0aC80O2c8ZjtnKyspYltnKmVdPWJbNCpnXSxiW2cqZSsxXT1iWzQqZysxXSxhLmhhc1omJihiW2cqZSsyXT1iWzQqZysyXSksYS5oYXNNJiYoYltnKmUrMl09Yls0KmcrM10pO2IubGVuZ3RoPWIubGVuZ3RoLzQqZTtpZihjKWZvcihnPTAsZj1jLmxlbmd0aDtnPGY7ZysrKWNbZ109Y1tnXS80KmV9cmV0dXJuIGR9ZnVuY3Rpb24gaHEoYSxiKXt2YXIgYz1iW2IubGVuZ3RoLTFdLGQ9YS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO251bGwhPT1kJiYoYy5saW5rPWQpO0NvKGlxLGEsYil9ZnVuY3Rpb24ganEoYSxiKXtiW2IubGVuZ3RoLTFdLmV4dGVuc2lvbnNOb2RlXz1hfVxuZnVuY3Rpb24ga3EoYSxiKXt2YXIgYz1iWzBdO2lmKGE9Tyh7ZmxhdENvb3JkaW5hdGVzOltdLGxheW91dE9wdGlvbnM6e319LGxxLGEsYikpe2I9YS5mbGF0Q29vcmRpbmF0ZXM7ZGVsZXRlIGEuZmxhdENvb3JkaW5hdGVzO3ZhciBkPWEubGF5b3V0T3B0aW9ucztkZWxldGUgYS5sYXlvdXRPcHRpb25zO2Q9Z3EoZCxiKTt2YXIgZT1uZXcgSShudWxsKTtlLmJhKGQsYik7Sm8oZSwhMSxjKTtjPW5ldyBIayhlKTtjLkgoYSk7cmV0dXJuIGN9fVxuZnVuY3Rpb24gbXEoYSxiKXt2YXIgYz1iWzBdO2lmKGE9Tyh7ZmxhdENvb3JkaW5hdGVzOltdLGVuZHM6W10sbGF5b3V0T3B0aW9uczp7fX0sbnEsYSxiKSl7Yj1hLmZsYXRDb29yZGluYXRlcztkZWxldGUgYS5mbGF0Q29vcmRpbmF0ZXM7dmFyIGQ9YS5lbmRzO2RlbGV0ZSBhLmVuZHM7dmFyIGU9YS5sYXlvdXRPcHRpb25zO2RlbGV0ZSBhLmxheW91dE9wdGlvbnM7ZT1ncShlLGIsZCk7dmFyIGY9bmV3IFAobnVsbCk7Zi5iYShlLGIsZCk7Sm8oZiwhMSxjKTtjPW5ldyBIayhmKTtjLkgoYSk7cmV0dXJuIGN9fWZ1bmN0aW9uIG9xKGEsYil7dmFyIGM9YlswXTtpZihiPU8oe30scHEsYSxiKSl7dmFyIGQ9e307YT1mcShbXSxkLGEsYik7ZD1ncShkLGEpO2E9bmV3IEMoYSxkKTtKbyhhLCExLGMpO2M9bmV3IEhrKGEpO2MuSChiKTtyZXR1cm4gY319XG52YXIgcXE9e3J0ZTprcSx0cms6bXEsd3B0Om9xfSxycT1OKGVxLHtydGU6dW8oa3EpLHRyazp1byhtcSksd3B0OnVvKG9xKX0pLGlxPU4oZXEse3RleHQ6TChSLFwibGlua1RleHRcIiksdHlwZTpMKFIsXCJsaW5rVHlwZVwiKX0pLGxxPU4oZXEse25hbWU6TChSKSxjbXQ6TChSKSxkZXNjOkwoUiksc3JjOkwoUiksbGluazpocSxudW1iZXI6TChmcCksZXh0ZW5zaW9uczpqcSx0eXBlOkwoUikscnRlcHQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1PKHt9LHNxLGEsYik7YyYmKGI9YltiLmxlbmd0aC0xXSxmcShiLmZsYXRDb29yZGluYXRlcyxiLmxheW91dE9wdGlvbnMsYSxjKSl9fSksc3E9TihlcSx7ZWxlOkwoZHApLHRpbWU6TChjcCl9KSxucT1OKGVxLHtuYW1lOkwoUiksY210OkwoUiksZGVzYzpMKFIpLHNyYzpMKFIpLGxpbms6aHEsbnVtYmVyOkwoZnApLHR5cGU6TChSKSxleHRlbnNpb25zOmpxLHRya3NlZzpmdW5jdGlvbihhLGIpe3ZhciBjPWJbYi5sZW5ndGgtMV07Q28odHEsYSxiKTtjLmVuZHMucHVzaChjLmZsYXRDb29yZGluYXRlcy5sZW5ndGgpfX0pLFxudHE9TihlcSx7dHJrcHQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1PKHt9LHVxLGEsYik7YyYmKGI9YltiLmxlbmd0aC0xXSxmcShiLmZsYXRDb29yZGluYXRlcyxiLmxheW91dE9wdGlvbnMsYSxjKSl9fSksdXE9TihlcSx7ZWxlOkwoZHApLHRpbWU6TChjcCl9KSxwcT1OKGVxLHtlbGU6TChkcCksdGltZTpMKGNwKSxtYWd2YXI6TChkcCksZ2VvaWRoZWlnaHQ6TChkcCksbmFtZTpMKFIpLGNtdDpMKFIpLGRlc2M6TChSKSxzcmM6TChSKSxsaW5rOmhxLHN5bTpMKFIpLHR5cGU6TChSKSxmaXg6TChSKSxzYXQ6TChmcCksaGRvcDpMKGRwKSx2ZG9wOkwoZHApLHBkb3A6TChkcCksYWdlb2ZkZ3BzZGF0YTpMKGRwKSxkZ3BzaWQ6TChmcCksZXh0ZW5zaW9uczpqcX0pO1xuZnVuY3Rpb24gdnEoYSxiKXtifHwoYj1bXSk7Zm9yKHZhciBjPTAsZD1iLmxlbmd0aDtjPGQ7KytjKXt2YXIgZT1iW2NdO2lmKGEuYil7dmFyIGY9ZS5nZXQoXCJleHRlbnNpb25zTm9kZV9cIil8fG51bGw7YS5iKGUsZil9ZS5zZXQoXCJleHRlbnNpb25zTm9kZV9cIix2b2lkIDApfX1kcS5wcm90b3R5cGUuTGc9ZnVuY3Rpb24oYSxiKXtpZighZWMoZXEsYS5uYW1lc3BhY2VVUkkpKXJldHVybiBudWxsO3ZhciBjPXFxW2EubG9jYWxOYW1lXTtpZighYylyZXR1cm4gbnVsbDthPWMoYSxbSG8odGhpcyxhLGIpXSk7aWYoIWEpcmV0dXJuIG51bGw7dnEodGhpcyxbYV0pO3JldHVybiBhfTtkcS5wcm90b3R5cGUuS2M9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZWMoZXEsYS5uYW1lc3BhY2VVUkkpP1wiZ3B4XCI9PWEubG9jYWxOYW1lJiYoYT1PKFtdLHJxLGEsW0hvKHRoaXMsYSxiKV0pKT8odnEodGhpcyxhKSxhKTpbXTpbXX07XG5mdW5jdGlvbiB3cShhLGIsYyl7YS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsYik7Yj1jW2MubGVuZ3RoLTFdLnByb3BlcnRpZXM7RG8oe25vZGU6YX0seHEsQW8sW2IubGlua1RleHQsYi5saW5rVHlwZV0sYyx5cSl9ZnVuY3Rpb24genEoYSxiLGMpe3ZhciBkPWNbYy5sZW5ndGgtMV0sZT1kLm5vZGUubmFtZXNwYWNlVVJJLGY9ZC5wcm9wZXJ0aWVzO2Euc2V0QXR0cmlidXRlTlMobnVsbCxcImxhdFwiLGJbMV0pO2Euc2V0QXR0cmlidXRlTlMobnVsbCxcImxvblwiLGJbMF0pO3N3aXRjaChkLmdlb21ldHJ5TGF5b3V0KXtjYXNlIFwiWFlaTVwiOjAhPT1iWzNdJiYoZi50aW1lPWJbM10pO2Nhc2UgXCJYWVpcIjowIT09YlsyXSYmKGYuZWxlPWJbMl0pO2JyZWFrO2Nhc2UgXCJYWU1cIjowIT09YlsyXSYmKGYudGltZT1iWzJdKX1iPVwicnRlcHRcIj09YS5ub2RlTmFtZT9BcVtlXTpCcVtlXTtkPUJvKGYsYik7RG8oe25vZGU6YSxwcm9wZXJ0aWVzOmZ9LENxLEFvLGQsYyxiKX1cbnZhciB5cT1bXCJ0ZXh0XCIsXCJ0eXBlXCJdLHhxPU4oZXEse3RleHQ6TShpcCksdHlwZTpNKGlwKX0pLERxPU4oZXEsXCJuYW1lIGNtdCBkZXNjIHNyYyBsaW5rIG51bWJlciB0eXBlIHJ0ZXB0XCIuc3BsaXQoXCIgXCIpKSxFcT1OKGVxLHtuYW1lOk0oaXApLGNtdDpNKGlwKSxkZXNjOk0oaXApLHNyYzpNKGlwKSxsaW5rOk0od3EpLG51bWJlcjpNKEpwKSx0eXBlOk0oaXApLHJ0ZXB0OnhvKE0oenEpKX0pLEFxPU4oZXEsW1wiZWxlXCIsXCJ0aW1lXCJdKSxGcT1OKGVxLFwibmFtZSBjbXQgZGVzYyBzcmMgbGluayBudW1iZXIgdHlwZSB0cmtzZWdcIi5zcGxpdChcIiBcIikpLElxPU4oZXEse25hbWU6TShpcCksY210Ok0oaXApLGRlc2M6TShpcCksc3JjOk0oaXApLGxpbms6TSh3cSksbnVtYmVyOk0oSnApLHR5cGU6TShpcCksdHJrc2VnOnhvKE0oZnVuY3Rpb24oYSxiLGMpe0RvKHtub2RlOmEsZ2VvbWV0cnlMYXlvdXQ6Yi5qYSxwcm9wZXJ0aWVzOnt9fSxHcSxIcSxiLlcoKSxjKX0pKX0pLEhxPXlvKFwidHJrcHRcIiksXG5HcT1OKGVxLHt0cmtwdDpNKHpxKX0pLEJxPU4oZXEsXCJlbGUgdGltZSBtYWd2YXIgZ2VvaWRoZWlnaHQgbmFtZSBjbXQgZGVzYyBzcmMgbGluayBzeW0gdHlwZSBmaXggc2F0IGhkb3AgdmRvcCBwZG9wIGFnZW9mZGdwc2RhdGEgZGdwc2lkXCIuc3BsaXQoXCIgXCIpKSxDcT1OKGVxLHtlbGU6TShJcCksdGltZTpNKGZ1bmN0aW9uKGEsYil7Yj1uZXcgRGF0ZSgxRTMqYik7YS5hcHBlbmRDaGlsZChtby5jcmVhdGVUZXh0Tm9kZShiLmdldFVUQ0Z1bGxZZWFyKCkrXCItXCIreGUoYi5nZXRVVENNb250aCgpKzEpK1wiLVwiK3hlKGIuZ2V0VVRDRGF0ZSgpKStcIlRcIit4ZShiLmdldFVUQ0hvdXJzKCkpK1wiOlwiK3hlKGIuZ2V0VVRDTWludXRlcygpKStcIjpcIit4ZShiLmdldFVUQ1NlY29uZHMoKSkrXCJaXCIpKX0pLG1hZ3ZhcjpNKElwKSxnZW9pZGhlaWdodDpNKElwKSxuYW1lOk0oaXApLGNtdDpNKGlwKSxkZXNjOk0oaXApLHNyYzpNKGlwKSxsaW5rOk0od3EpLHN5bTpNKGlwKSx0eXBlOk0oaXApLGZpeDpNKGlwKSxcbnNhdDpNKEpwKSxoZG9wOk0oSXApLHZkb3A6TShJcCkscGRvcDpNKElwKSxhZ2VvZmRncHNkYXRhOk0oSXApLGRncHNpZDpNKEpwKX0pLEpxPXtQb2ludDpcIndwdFwiLExpbmVTdHJpbmc6XCJydGVcIixNdWx0aUxpbmVTdHJpbmc6XCJ0cmtcIn07ZnVuY3Rpb24gS3EoYSxiKXtpZihhPWEuVSgpKWlmKGE9SnFbYS5TKCldKXJldHVybiBubyhiW2IubGVuZ3RoLTFdLm5vZGUubmFtZXNwYWNlVVJJLGEpfVxudmFyIExxPU4oZXEse3J0ZTpNKGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jWzBdLGU9Yi5MKCk7YT17bm9kZTphLHByb3BlcnRpZXM6ZX07aWYoYj1iLlUoKSliPUpvKGIsITAsZCksYS5nZW9tZXRyeUxheW91dD1iLmphLGUucnRlcHQ9Yi5XKCk7ZD1EcVtjW2MubGVuZ3RoLTFdLm5vZGUubmFtZXNwYWNlVVJJXTtlPUJvKGUsZCk7RG8oYSxFcSxBbyxlLGMsZCl9KSx0cms6TShmdW5jdGlvbihhLGIsYyl7dmFyIGQ9Y1swXSxlPWIuTCgpO2E9e25vZGU6YSxwcm9wZXJ0aWVzOmV9O2lmKGI9Yi5VKCkpYj1KbyhiLCEwLGQpLGUudHJrc2VnPWIud2QoKTtkPUZxW2NbYy5sZW5ndGgtMV0ubm9kZS5uYW1lc3BhY2VVUkldO2U9Qm8oZSxkKTtEbyhhLElxLEFvLGUsYyxkKX0pLHdwdDpNKGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1jWzBdLGU9Y1tjLmxlbmd0aC0xXTtlLnByb3BlcnRpZXM9Yi5MKCk7aWYoYj1iLlUoKSliPUpvKGIsITAsZCksZS5nZW9tZXRyeUxheW91dD1iLmphLHpxKGEsYi5XKCksXG5jKX0pfSk7ZHEucHJvdG90eXBlLmJjPWZ1bmN0aW9uKGEsYil7Yj1Jbyh0aGlzLGIpO3ZhciBjPW5vKFwiaHR0cDovL3d3dy50b3BvZ3JhZml4LmNvbS9HUFgvMS8xXCIsXCJncHhcIik7Yy5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvXCIsXCJ4bWxuczp4c2lcIixcImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlXCIpO2Muc2V0QXR0cmlidXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZVwiLFwieHNpOnNjaGVtYUxvY2F0aW9uXCIsXCJodHRwOi8vd3d3LnRvcG9ncmFmaXguY29tL0dQWC8xLzEgaHR0cDovL3d3dy50b3BvZ3JhZml4LmNvbS9HUFgvMS8xL2dweC54c2RcIik7Yy5zZXRBdHRyaWJ1dGUoXCJ2ZXJzaW9uXCIsXCIxLjFcIik7Yy5zZXRBdHRyaWJ1dGUoXCJjcmVhdG9yXCIsXCJPcGVuTGF5ZXJzXCIpO0RvKHtub2RlOmN9LExxLEtxLGEsW2JdKTtyZXR1cm4gY307ZnVuY3Rpb24gTXEoYSl7Z2YuY2FsbCh0aGlzKTt0aGlzLmE9YT9hOm51bGw7TnEodGhpcyl9dyhNcSxnZik7ZnVuY3Rpb24gT3EoYSl7dmFyIGI9W10sYzt2YXIgZD0wO2ZvcihjPWEubGVuZ3RoO2Q8YzsrK2QpYi5wdXNoKGFbZF0uY2xvbmUoKSk7cmV0dXJuIGJ9ZnVuY3Rpb24gUHEoYSl7dmFyIGI7aWYoYS5hKXt2YXIgYz0wO2ZvcihiPWEuYS5sZW5ndGg7YzxiOysrYylNYyhhLmFbY10sXCJjaGFuZ2VcIixhLnUsYSl9fWZ1bmN0aW9uIE5xKGEpe3ZhciBiO2lmKGEuYSl7dmFyIGM9MDtmb3IoYj1hLmEubGVuZ3RoO2M8YjsrK2MpeShhLmFbY10sXCJjaGFuZ2VcIixhLnUsYSl9fWs9TXEucHJvdG90eXBlO2suY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgTXEobnVsbCk7YS5Laih0aGlzLmEpO3JldHVybiBhfTtcbmsuTmI9ZnVuY3Rpb24oYSxiLGMsZCl7aWYoZDxIYSh0aGlzLkcoKSxhLGIpKXJldHVybiBkO3ZhciBlPXRoaXMuYSxmO3ZhciBnPTA7Zm9yKGY9ZS5sZW5ndGg7ZzxmOysrZylkPWVbZ10uTmIoYSxiLGMsZCk7cmV0dXJuIGR9O2suWmM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmEsZDt2YXIgZT0wO2ZvcihkPWMubGVuZ3RoO2U8ZDsrK2UpaWYoY1tlXS5aYyhhLGIpKXJldHVybiEwO3JldHVybiExfTtrLkFlPWZ1bmN0aW9uKGEpe09hKGEpO2Zvcih2YXIgYj10aGlzLmEsYz0wLGQ9Yi5sZW5ndGg7YzxkOysrYylUYShhLGJbY10uRygpKTtyZXR1cm4gYX07ay52ZD1mdW5jdGlvbigpe3JldHVybiBPcSh0aGlzLmEpfTtcbmsuV2Q9ZnVuY3Rpb24oYSl7dGhpcy5sIT10aGlzLmcmJihsYih0aGlzLmkpLHRoaXMuZj0wLHRoaXMubD10aGlzLmcpO2lmKDA+YXx8MCE9PXRoaXMuZiYmYTx0aGlzLmYpcmV0dXJuIHRoaXM7dmFyIGI9YS50b1N0cmluZygpO2lmKHRoaXMuaS5oYXNPd25Qcm9wZXJ0eShiKSlyZXR1cm4gdGhpcy5pW2JdO3ZhciBjPVtdLGQ9dGhpcy5hLGU9ITEsZjt2YXIgZz0wO2ZvcihmPWQubGVuZ3RoO2c8ZjsrK2cpe3ZhciBoPWRbZ10sbD1oLldkKGEpO2MucHVzaChsKTtsIT09aCYmKGU9ITApfWlmKGUpcmV0dXJuIGE9bmV3IE1xKG51bGwpLFBxKGEpLGEuYT1jLE5xKGEpLGEudSgpLHRoaXMuaVtiXT1hO3RoaXMuZj1hO3JldHVybiB0aGlzfTtrLlM9ZnVuY3Rpb24oKXtyZXR1cm5cIkdlb21ldHJ5Q29sbGVjdGlvblwifTtrLiRhPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYSxjO3ZhciBkPTA7Zm9yKGM9Yi5sZW5ndGg7ZDxjOysrZClpZihiW2RdLiRhKGEpKXJldHVybiEwO3JldHVybiExfTtcbmsucm90YXRlPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuYSxkPTAsZT1jLmxlbmd0aDtkPGU7KytkKWNbZF0ucm90YXRlKGEsYik7dGhpcy51KCl9O2suc2NhbGU9ZnVuY3Rpb24oYSxiLGMpe2N8fChjPWViKHRoaXMuRygpKSk7Zm9yKHZhciBkPXRoaXMuYSxlPTAsZj1kLmxlbmd0aDtlPGY7KytlKWRbZV0uc2NhbGUoYSxiLGMpO3RoaXMudSgpfTtrLktqPWZ1bmN0aW9uKGEpe2E9T3EoYSk7UHEodGhpcyk7dGhpcy5hPWE7TnEodGhpcyk7dGhpcy51KCl9O2suUmM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hLGM7dmFyIGQ9MDtmb3IoYz1iLmxlbmd0aDtkPGM7KytkKWJbZF0uUmMoYSk7dGhpcy51KCl9O2sudHJhbnNsYXRlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5hLGQ7dmFyIGU9MDtmb3IoZD1jLmxlbmd0aDtlPGQ7KytlKWNbZV0udHJhbnNsYXRlKGEsYik7dGhpcy51KCl9O2suaWE9ZnVuY3Rpb24oKXtQcSh0aGlzKTtnZi5wcm90b3R5cGUuaWEuY2FsbCh0aGlzKX07ZnVuY3Rpb24gUXEoYSl7YT1hP2E6e307R28uY2FsbCh0aGlzKTt0aGlzLmRlZmF1bHREYXRhUHJvamVjdGlvbj1PYihhLmRlZmF1bHREYXRhUHJvamVjdGlvbj9hLmRlZmF1bHREYXRhUHJvamVjdGlvbjpcIkVQU0c6NDMyNlwiKTthLmZlYXR1cmVQcm9qZWN0aW9uJiYodGhpcy5pPU9iKGEuZmVhdHVyZVByb2plY3Rpb24pKTt0aGlzLmI9YS5nZW9tZXRyeU5hbWU7dGhpcy5hPWEuZXh0cmFjdEdlb21ldHJ5TmFtZX13KFFxLEtvKTtmdW5jdGlvbiBScShhLGIpe3JldHVybiBhP0pvKCgwLFNxW2EudHlwZV0pKGEpLCExLGIpOm51bGx9ZnVuY3Rpb24gVHEoYSxiKXtyZXR1cm4oMCxVcVthLlMoKV0pKEpvKGEsITAsYiksYil9XG52YXIgU3E9e1BvaW50OmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQyhhLmNvb3JkaW5hdGVzKX0sTGluZVN0cmluZzpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IEkoYS5jb29yZGluYXRlcyl9LFBvbHlnb246ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBEKGEuY29vcmRpbmF0ZXMpfSxNdWx0aVBvaW50OmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgTm8oYS5jb29yZGluYXRlcyl9LE11bHRpTGluZVN0cmluZzpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IFAoYS5jb29yZGluYXRlcyl9LE11bHRpUG9seWdvbjpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IFEoYS5jb29yZGluYXRlcyl9LEdlb21ldHJ5Q29sbGVjdGlvbjpmdW5jdGlvbihhLGIpe2E9YS5nZW9tZXRyaWVzLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gUnEoYSxiKX0pO3JldHVybiBuZXcgTXEoYSl9fSxVcT17UG9pbnQ6ZnVuY3Rpb24oYSl7cmV0dXJue3R5cGU6XCJQb2ludFwiLGNvb3JkaW5hdGVzOmEuVygpfX0sTGluZVN0cmluZzpmdW5jdGlvbihhKXtyZXR1cm57dHlwZTpcIkxpbmVTdHJpbmdcIixcbmNvb3JkaW5hdGVzOmEuVygpfX0sUG9seWdvbjpmdW5jdGlvbihhLGIpe2lmKGIpdmFyIGM9Yi5yaWdodEhhbmRlZDtyZXR1cm57dHlwZTpcIlBvbHlnb25cIixjb29yZGluYXRlczphLlcoYyl9fSxNdWx0aVBvaW50OmZ1bmN0aW9uKGEpe3JldHVybnt0eXBlOlwiTXVsdGlQb2ludFwiLGNvb3JkaW5hdGVzOmEuVygpfX0sTXVsdGlMaW5lU3RyaW5nOmZ1bmN0aW9uKGEpe3JldHVybnt0eXBlOlwiTXVsdGlMaW5lU3RyaW5nXCIsY29vcmRpbmF0ZXM6YS5XKCl9fSxNdWx0aVBvbHlnb246ZnVuY3Rpb24oYSxiKXtpZihiKXZhciBjPWIucmlnaHRIYW5kZWQ7cmV0dXJue3R5cGU6XCJNdWx0aVBvbHlnb25cIixjb29yZGluYXRlczphLlcoYyl9fSxHZW9tZXRyeUNvbGxlY3Rpb246ZnVuY3Rpb24oYSxiKXtyZXR1cm57dHlwZTpcIkdlb21ldHJ5Q29sbGVjdGlvblwiLGdlb21ldHJpZXM6YS5hLm1hcChmdW5jdGlvbihhKXt2YXIgYz1rYih7fSxiKTtkZWxldGUgYy5mZWF0dXJlUHJvamVjdGlvbjtyZXR1cm4gVHEoYSxcbmMpfSl9fSxDaXJjbGU6ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpcIkdlb21ldHJ5Q29sbGVjdGlvblwiLGdlb21ldHJpZXM6W119fX07az1RcS5wcm90b3R5cGU7ay5kZD1mdW5jdGlvbihhLGIpe2E9XCJGZWF0dXJlXCI9PT1hLnR5cGU/YTp7dHlwZTpcIkZlYXR1cmVcIixnZW9tZXRyeTphfTtiPVJxKGEuZ2VvbWV0cnksYik7dmFyIGM9bmV3IEhrO3RoaXMuYj9jLkxjKHRoaXMuYik6dGhpcy5hJiZ2b2lkIDAhPT1hLmdlb21ldHJ5X25hbWUmJmMuTGMoYS5nZW9tZXRyeV9uYW1lKTtjLlZhKGIpO3ZvaWQgMCE9PWEuaWQmJmMucWMoYS5pZCk7YS5wcm9wZXJ0aWVzJiZjLkgoYS5wcm9wZXJ0aWVzKTtyZXR1cm4gY307XG5rLk1nPWZ1bmN0aW9uKGEsYil7aWYoXCJGZWF0dXJlQ29sbGVjdGlvblwiPT09YS50eXBlKXt2YXIgYz1bXTthPWEuZmVhdHVyZXM7dmFyIGQ7dmFyIGU9MDtmb3IoZD1hLmxlbmd0aDtlPGQ7KytlKWMucHVzaCh0aGlzLmRkKGFbZV0sYikpfWVsc2UgYz1bdGhpcy5kZChhLGIpXTtyZXR1cm4gY307ay5RZz1mdW5jdGlvbihhLGIpe3JldHVybiBScShhLGIpfTtrLlRnPWZ1bmN0aW9uKGEpe2E9YS5jcnM7dmFyIGI7YT9cIm5hbWVcIj09YS50eXBlP2I9T2IoYS5wcm9wZXJ0aWVzLm5hbWUpOm9hKCExLDM2KTpiPXRoaXMuZGVmYXVsdERhdGFQcm9qZWN0aW9uO3JldHVybiBifTtcbmsubGQ9ZnVuY3Rpb24oYSxiKXtiPUlvKHRoaXMsYik7dmFyIGM9e3R5cGU6XCJGZWF0dXJlXCJ9LGQ9YS5jO3ZvaWQgMCE9PWQmJihjLmlkPWQpOyhkPWEuVSgpKT9jLmdlb21ldHJ5PVRxKGQsYik6Yy5nZW9tZXRyeT1udWxsO2I9YS5MKCk7ZGVsZXRlIGJbYS5hXTtuYihiKT9jLnByb3BlcnRpZXM9bnVsbDpjLnByb3BlcnRpZXM9YjtyZXR1cm4gY307ay5xZT1mdW5jdGlvbihhLGIpe2I9SW8odGhpcyxiKTt2YXIgYz1bXSxkO3ZhciBlPTA7Zm9yKGQ9YS5sZW5ndGg7ZTxkOysrZSljLnB1c2godGhpcy5sZChhW2VdLGIpKTtyZXR1cm57dHlwZTpcIkZlYXR1cmVDb2xsZWN0aW9uXCIsZmVhdHVyZXM6Y319O2suc2U9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gVHEoYSxJbyh0aGlzLGIpKX07ZnVuY3Rpb24gVnEoKXtHby5jYWxsKHRoaXMpfXcoVnEsR28pO2Z1bmN0aW9uIFdxKGEpe3JldHVyblwic3RyaW5nXCI9PT10eXBlb2YgYT9hOlwiXCJ9az1WcS5wcm90b3R5cGU7ay5TPWZ1bmN0aW9uKCl7cmV0dXJuXCJ0ZXh0XCJ9O2suWWI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5mZShXcShhKSxJbyh0aGlzLGIpKX07ay5RYT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLk5nKFdxKGEpLElvKHRoaXMsYikpfTtrLmVkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuR2QoV3EoYSksSW8odGhpcyxiKSl9O2suc2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWZhdWx0RGF0YVByb2plY3Rpb259O2suSmQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wZShhLElvKHRoaXMsYikpfTtrLmFjPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMubmgoYSxJbyh0aGlzLGIpKX07ay5tZD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLktkKGEsSW8odGhpcyxiKSl9O2Z1bmN0aW9uIFhxKGEpe2E9YT9hOnt9O0dvLmNhbGwodGhpcyk7dGhpcy5kZWZhdWx0RGF0YVByb2plY3Rpb249T2IoXCJFUFNHOjQzMjZcIik7dGhpcy5iPWEuYWx0aXR1ZGVNb2RlP2EuYWx0aXR1ZGVNb2RlOlwibm9uZVwifXcoWHEsVnEpO3ZhciBZcT0vXkIoXFxkezJ9KShcXGR7Mn0pKFxcZHsyfSkoXFxkezJ9KShcXGR7NX0pKFtOU10pKFxcZHszfSkoXFxkezV9KShbRVddKShbQVZdKShcXGR7NX0pKFxcZHs1fSkvLFpxPS9eSC4oW0EtWl17M30pLio/OiguKikvLCRxPS9eSEZEVEUoXFxkezJ9KShcXGR7Mn0pKFxcZHsyfSkvLGFyPS9cXHJcXG58XFxyfFxcbi87az1YcS5wcm90b3R5cGU7XG5rLmZlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5iLGQ9YS5zcGxpdChhcik7YT17fTt2YXIgZT1bXSxmPTJFMyxnPTAsaD0xLGw9LTEsbTt2YXIgbj0wO2ZvcihtPWQubGVuZ3RoO248bTsrK24pe3ZhciBwPWRbbl0scTtpZihcIkJcIj09cC5jaGFyQXQoMCkpe2lmKHE9WXEuZXhlYyhwKSl7cD1wYXJzZUludChxWzFdLDEwKTt2YXIgcj1wYXJzZUludChxWzJdLDEwKSx1PXBhcnNlSW50KHFbM10sMTApLHY9cGFyc2VJbnQocVs0XSwxMCkrcGFyc2VJbnQocVs1XSwxMCkvNkU0O1wiU1wiPT1xWzZdJiYodj0tdik7dmFyIHo9cGFyc2VJbnQocVs3XSwxMCkrcGFyc2VJbnQocVs4XSwxMCkvNkU0O1wiV1wiPT1xWzldJiYoej0teik7ZS5wdXNoKHosdik7XCJub25lXCIhPWMmJmUucHVzaChcImdwc1wiPT1jP3BhcnNlSW50KHFbMTFdLDEwKTpcImJhcm9tZXRyaWNcIj09Yz9wYXJzZUludChxWzEyXSwxMCk6MCk7cT1EYXRlLlVUQyhmLGcsaCxwLHIsdSk7cTxsJiYocT1EYXRlLlVUQyhmLGcsaCsxLHAscixcbnUpKTtlLnB1c2gocS8xRTMpO2w9cX19ZWxzZVwiSFwiPT1wLmNoYXJBdCgwKSYmKChxPSRxLmV4ZWMocCkpPyhoPXBhcnNlSW50KHFbMV0sMTApLGc9cGFyc2VJbnQocVsyXSwxMCktMSxmPTJFMytwYXJzZUludChxWzNdLDEwKSk6KHE9WnEuZXhlYyhwKSkmJihhW3FbMV1dPXFbMl0udHJpbSgpKSl9aWYoMD09PWUubGVuZ3RoKXJldHVybiBudWxsO2Q9bmV3IEkobnVsbCk7ZC5iYShcIm5vbmVcIj09Yz9cIlhZTVwiOlwiWFlaTVwiLGUpO2I9bmV3IEhrKEpvKGQsITEsYikpO2IuSChhKTtyZXR1cm4gYn07ay5OZz1mdW5jdGlvbihhLGIpe3JldHVybihhPXRoaXMuZmUoYSxiKSk/W2FdOltdfTtrLnBlPWZ1bmN0aW9uKCl7fTtrLm5oPWZ1bmN0aW9uKCl7fTtrLktkPWZ1bmN0aW9uKCl7fTtrLkdkPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiBicihhLGIsYyxkLGUsZil7U2MuY2FsbCh0aGlzKTt0aGlzLmo9bnVsbDt0aGlzLk09YT9hOm5ldyBJbWFnZTtudWxsIT09ZCYmKHRoaXMuTS5jcm9zc09yaWdpbj1kKTt0aGlzLmM9Zj9kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiQ0FOVkFTXCIpOm51bGw7dGhpcy5mPWY7dGhpcy5pPW51bGw7dGhpcy5nPWU7dGhpcy5hPWM7dGhpcy5sPWI7dGhpcy5zPSExOzI9PXRoaXMuZyYmY3IodGhpcyl9dyhicixTYyk7ZnVuY3Rpb24gY3IoYSl7dmFyIGI9aGcoMSwxKTt0cnl7Yi5kcmF3SW1hZ2UoYS5NLDAsMCksYi5nZXRJbWFnZURhdGEoMCwwLDEsMSl9Y2F0Y2goYyl7YS5zPSEwfX1ici5wcm90b3R5cGUudj1mdW5jdGlvbigpe3RoaXMuZz0zO3RoaXMuaS5mb3JFYWNoKEdjKTt0aGlzLmk9bnVsbDt0aGlzLmIoXCJjaGFuZ2VcIil9O1xuYnIucHJvdG90eXBlLm89ZnVuY3Rpb24oKXt0aGlzLmc9Mjt0aGlzLmEmJih0aGlzLk0ud2lkdGg9dGhpcy5hWzBdLHRoaXMuTS5oZWlnaHQ9dGhpcy5hWzFdKTt0aGlzLmE9W3RoaXMuTS53aWR0aCx0aGlzLk0uaGVpZ2h0XTt0aGlzLmkuZm9yRWFjaChHYyk7dGhpcy5pPW51bGw7Y3IodGhpcyk7aWYoIXRoaXMucyYmbnVsbCE9PXRoaXMuZil7dGhpcy5jLndpZHRoPXRoaXMuTS53aWR0aDt0aGlzLmMuaGVpZ2h0PXRoaXMuTS5oZWlnaHQ7dmFyIGE9dGhpcy5jLmdldENvbnRleHQoXCIyZFwiKTthLmRyYXdJbWFnZSh0aGlzLk0sMCwwKTtmb3IodmFyIGI9YS5nZXRJbWFnZURhdGEoMCwwLHRoaXMuTS53aWR0aCx0aGlzLk0uaGVpZ2h0KSxjPWIuZGF0YSxkPXRoaXMuZlswXS8yNTUsZT10aGlzLmZbMV0vMjU1LGY9dGhpcy5mWzJdLzI1NSxnPTAsaD1jLmxlbmd0aDtnPGg7Zys9NCljW2ddKj1kLGNbZysxXSo9ZSxjW2crMl0qPWY7YS5wdXRJbWFnZURhdGEoYiwwLDApfXRoaXMuYihcImNoYW5nZVwiKX07XG5ici5wcm90b3R5cGUuWT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmM/dGhpcy5jOnRoaXMuTX07YnIucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXtpZigwPT10aGlzLmcpe3RoaXMuZz0xO3RoaXMuaT1bTGModGhpcy5NLFwiZXJyb3JcIix0aGlzLnYsdGhpcyksTGModGhpcy5NLFwibG9hZFwiLHRoaXMubyx0aGlzKV07dHJ5e3RoaXMuTS5zcmM9dGhpcy5sfWNhdGNoKGEpe3RoaXMudigpfX19O2Z1bmN0aW9uIGRyKGEpe2E9YXx8e307dGhpcy5sPXZvaWQgMCE9PWEuYW5jaG9yP2EuYW5jaG9yOlsuNSwuNV07dGhpcy5vPW51bGw7dGhpcy5nPXZvaWQgMCE9PWEuYW5jaG9yT3JpZ2luP2EuYW5jaG9yT3JpZ2luOlwidG9wLWxlZnRcIjt0aGlzLkM9dm9pZCAwIT09YS5hbmNob3JYVW5pdHM/YS5hbmNob3JYVW5pdHM6XCJmcmFjdGlvblwiO3RoaXMuQj12b2lkIDAhPT1hLmFuY2hvcllVbml0cz9hLmFuY2hvcllVbml0czpcImZyYWN0aW9uXCI7dGhpcy5xYT12b2lkIDAhPT1hLmNyb3NzT3JpZ2luP2EuY3Jvc3NPcmlnaW46bnVsbDt2YXIgYj12b2lkIDAhPT1hLmltZz9hLmltZzpudWxsLGM9dm9pZCAwIT09YS5pbWdTaXplP2EuaW1nU2l6ZTpudWxsLGQ9YS5zcmM7b2EoISh2b2lkIDAhPT1kJiZiKSw0KTtvYSghYnx8YiYmYyw1KTt2b2lkIDAhPT1kJiYwIT09ZC5sZW5ndGh8fCFifHwoZD1iLnNyY3x8eChiKS50b1N0cmluZygpKTtvYSh2b2lkIDAhPT1kJiYwPGQubGVuZ3RoLDYpO3ZhciBlPVxudm9pZCAwIT09YS5zcmM/MDoyO3RoaXMuaj12b2lkIDAhPT1hLmNvbG9yP3ZpKGEuY29sb3IpOm51bGw7dmFyIGY9dGhpcy5xYSxnPXRoaXMuaixoPWVqLmdldChkLGYsZyk7aHx8KGg9bmV3IGJyKGIsZCxjLGYsZSxnKSxlai5zZXQoZCxmLGcsaCkpO3RoaXMuYj1oO3RoaXMub2E9dm9pZCAwIT09YS5vZmZzZXQ/YS5vZmZzZXQ6WzAsMF07dGhpcy5jPXZvaWQgMCE9PWEub2Zmc2V0T3JpZ2luP2Eub2Zmc2V0T3JpZ2luOlwidG9wLWxlZnRcIjt0aGlzLk49bnVsbDt0aGlzLkQ9dm9pZCAwIT09YS5zaXplP2Euc2l6ZTpudWxsO3ZrLmNhbGwodGhpcyx7b3BhY2l0eTp2b2lkIDAhPT1hLm9wYWNpdHk/YS5vcGFjaXR5OjEscm90YXRpb246dm9pZCAwIT09YS5yb3RhdGlvbj9hLnJvdGF0aW9uOjAsc2NhbGU6dm9pZCAwIT09YS5zY2FsZT9hLnNjYWxlOjEsc25hcFRvUGl4ZWw6dm9pZCAwIT09YS5zbmFwVG9QaXhlbD9hLnNuYXBUb1BpeGVsOiEwLHJvdGF0ZVdpdGhWaWV3OnZvaWQgMCE9PWEucm90YXRlV2l0aFZpZXc/XG5hLnJvdGF0ZVdpdGhWaWV3OiExfSl9dyhkcix2ayk7az1kci5wcm90b3R5cGU7ay5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgZHIoe2FuY2hvcjp0aGlzLmwuc2xpY2UoKSxhbmNob3JPcmlnaW46dGhpcy5nLGFuY2hvclhVbml0czp0aGlzLkMsYW5jaG9yWVVuaXRzOnRoaXMuQixjcm9zc09yaWdpbjp0aGlzLnFhLGNvbG9yOnRoaXMuaiYmdGhpcy5qLnNsaWNlP3RoaXMuai5zbGljZSgpOnRoaXMuanx8dm9pZCAwLHNyYzp0aGlzLmIubCxvZmZzZXQ6dGhpcy5vYS5zbGljZSgpLG9mZnNldE9yaWdpbjp0aGlzLmMsc2l6ZTpudWxsIT09dGhpcy5EP3RoaXMuRC5zbGljZSgpOnZvaWQgMCxvcGFjaXR5OnRoaXMuaSxzY2FsZTp0aGlzLmEsc25hcFRvUGl4ZWw6dGhpcy52LHJvdGF0aW9uOnRoaXMuZixyb3RhdGVXaXRoVmlldzp0aGlzLnN9KX07XG5rLlZjPWZ1bmN0aW9uKCl7aWYodGhpcy5vKXJldHVybiB0aGlzLm87dmFyIGE9dGhpcy5sLGI9dGhpcy5vYygpO2lmKFwiZnJhY3Rpb25cIj09dGhpcy5DfHxcImZyYWN0aW9uXCI9PXRoaXMuQil7aWYoIWIpcmV0dXJuIG51bGw7YT10aGlzLmwuc2xpY2UoKTtcImZyYWN0aW9uXCI9PXRoaXMuQyYmKGFbMF0qPWJbMF0pO1wiZnJhY3Rpb25cIj09dGhpcy5CJiYoYVsxXSo9YlsxXSl9aWYoXCJ0b3AtbGVmdFwiIT10aGlzLmcpe2lmKCFiKXJldHVybiBudWxsO2E9PT10aGlzLmwmJihhPXRoaXMubC5zbGljZSgpKTtpZihcInRvcC1yaWdodFwiPT10aGlzLmd8fFwiYm90dG9tLXJpZ2h0XCI9PXRoaXMuZylhWzBdPS1hWzBdK2JbMF07aWYoXCJib3R0b20tbGVmdFwiPT10aGlzLmd8fFwiYm90dG9tLXJpZ2h0XCI9PXRoaXMuZylhWzFdPS1hWzFdK2JbMV19cmV0dXJuIHRoaXMubz1hfTtrLm5wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuan07ay5ZPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmIuWShhKX07ay5IZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIuYX07XG5rLmdmPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYi5nfTtrLkVnPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5iO2lmKCFhLmopaWYoYS5zKXt2YXIgYj1hLmFbMF0sYz1hLmFbMV0sZD1oZyhiLGMpO2QuZmlsbFJlY3QoMCwwLGIsYyk7YS5qPWQuY2FudmFzfWVsc2UgYS5qPWEuTTtyZXR1cm4gYS5qfTtrLmJkPWZ1bmN0aW9uKCl7aWYodGhpcy5OKXJldHVybiB0aGlzLk47dmFyIGE9dGhpcy5vYTtpZihcInRvcC1sZWZ0XCIhPXRoaXMuYyl7dmFyIGI9dGhpcy5vYygpLGM9dGhpcy5iLmE7aWYoIWJ8fCFjKXJldHVybiBudWxsO2E9YS5zbGljZSgpO2lmKFwidG9wLXJpZ2h0XCI9PXRoaXMuY3x8XCJib3R0b20tcmlnaHRcIj09dGhpcy5jKWFbMF09Y1swXS1iWzBdLWFbMF07aWYoXCJib3R0b20tbGVmdFwiPT10aGlzLmN8fFwiYm90dG9tLXJpZ2h0XCI9PXRoaXMuYylhWzFdPWNbMV0tYlsxXS1hWzFdfXJldHVybiB0aGlzLk49YX07ay5vcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmIubH07XG5rLm9jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuRD90aGlzLkQ6dGhpcy5iLmF9O2suZ2k9ZnVuY3Rpb24oYSxiKXt5KHRoaXMuYixcImNoYW5nZVwiLGEsYil9O2subG9hZD1mdW5jdGlvbigpe3RoaXMuYi5sb2FkKCl9O2suWWo9ZnVuY3Rpb24oYSxiKXtNYyh0aGlzLmIsXCJjaGFuZ2VcIixhLGIpfTtmdW5jdGlvbiBlcihhKXthPWE/YTp7fTtXby5jYWxsKHRoaXMpO2ZyfHwoZ3I9WzI1NSwyNTUsMjU1LDFdLGhyPW5ldyB6ayh7Y29sb3I6Z3J9KSxpcj1bMjAsMl0sanI9a3I9XCJwaXhlbHNcIixscj1bNjQsNjRdLG1yPVwiaHR0cHM6Ly9tYXBzLmdvb2dsZS5jb20vbWFwZmlsZXMva21sL3B1c2hwaW4veWx3LXB1c2hwaW4ucG5nXCIsbnI9LjUsb3I9bmV3IGRyKHthbmNob3I6aXIsYW5jaG9yT3JpZ2luOlwiYm90dG9tLWxlZnRcIixhbmNob3JYVW5pdHM6a3IsYW5jaG9yWVVuaXRzOmpyLGNyb3NzT3JpZ2luOlwiYW5vbnltb3VzXCIscm90YXRpb246MCxzY2FsZTpucixzaXplOmxyLHNyYzptcn0pLHByPVwiTk9fSU1BR0VcIixxcj1uZXcgQWsoe2NvbG9yOmdyLHdpZHRoOjF9KSxycj1uZXcgQWsoe2NvbG9yOls1MSw1MSw1MSwxXSx3aWR0aDoyfSksc3I9bmV3IEooe2ZvbnQ6XCJib2xkIDE2cHggSGVsdmV0aWNhXCIsZmlsbDpocixzdHJva2U6cnIsc2NhbGU6Ljh9KSx0cj1uZXcgQmsoe2ZpbGw6aHIsXG5pbWFnZTpvcix0ZXh0OnNyLHN0cm9rZTpxcix6SW5kZXg6MH0pLGZyPVt0cl0pO3RoaXMuZGVmYXVsdERhdGFQcm9qZWN0aW9uPU9iKFwiRVBTRzo0MzI2XCIpO3RoaXMuYT1hLmRlZmF1bHRTdHlsZT9hLmRlZmF1bHRTdHlsZTpmcjt0aGlzLmM9dm9pZCAwIT09YS5leHRyYWN0U3R5bGVzP2EuZXh0cmFjdFN0eWxlczohMDt0aGlzLmo9dm9pZCAwIT09YS53cml0ZVN0eWxlcz9hLndyaXRlU3R5bGVzOiEwO3RoaXMuYj17fTt0aGlzLmY9dm9pZCAwIT09YS5zaG93UG9pbnROYW1lcz9hLnNob3dQb2ludE5hbWVzOiEwfXZhciBmcixncixocixpcixrcixqcixscixtcixucixvcixwcixxcixycixzcix0cjt3KGVyLFdvKTtcbnZhciB1cj1bXCJodHRwOi8vd3d3Lmdvb2dsZS5jb20va21sL2V4dC8yLjJcIl0sdnI9W251bGwsXCJodHRwOi8vZWFydGguZ29vZ2xlLmNvbS9rbWwvMi4wXCIsXCJodHRwOi8vZWFydGguZ29vZ2xlLmNvbS9rbWwvMi4xXCIsXCJodHRwOi8vZWFydGguZ29vZ2xlLmNvbS9rbWwvMi4yXCIsXCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2ttbC8yLjJcIl0sd3I9e2ZyYWN0aW9uOlwiZnJhY3Rpb25cIixwaXhlbHM6XCJwaXhlbHNcIixpbnNldFBpeGVsczpcInBpeGVsc1wifTtcbmZ1bmN0aW9uIHhyKGEsYil7dmFyIGM9WzAsMF0sZD1cInN0YXJ0XCI7aWYoYS5ZKCkpe3ZhciBlPWEuWSgpLkhlKCk7bnVsbD09PWUmJihlPWxyKTsyPT1lLmxlbmd0aCYmKGQ9YS5ZKCkuYSxjWzBdPWQqZVswXS8yLGNbMV09LWQqZVsxXS8yLGQ9XCJsZWZ0XCIpfW51bGwhPT1hLkthKCk/KGU9YS5LYSgpLGE9ZS5jbG9uZSgpLGEuSmooZS5hfHxzci5hKSxhLmxqKGUuYnx8c3IuYiksYS55ZihlLkZhKCl8fHNyLkZhKCkpLGEuQWYoZS5HYSgpfHxycikpOmE9c3IuY2xvbmUoKTthLkhkKGIpO2EuTmooY1swXSk7YS5PaihjWzFdKTthLlFqKGQpO3JldHVybiBuZXcgQmsoe3RleHQ6YX0pfVxuZnVuY3Rpb24geXIoYSxiLGMsZCxlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZj1lLGc9XCJcIjtmJiZ0aGlzLlUoKSYmKGY9XCJQb2ludFwiPT09dGhpcy5VKCkuUygpKTtmJiYoZz10aGlzLmdldChcIm5hbWVcIiksZj1mJiZnKTtpZihhKXJldHVybiBmPyhmPXhyKGFbMF0sZyksYS5jb25jYXQoZikpOmE7aWYoYil7dmFyIGg9enIoYixjLGQpO3JldHVybiBmPyhmPXhyKGhbMF0sZyksaC5jb25jYXQoZikpOmh9cmV0dXJuIGY/KGY9eHIoY1swXSxnKSxjLmNvbmNhdChmKSk6Y319ZnVuY3Rpb24genIoYSxiLGMpe3JldHVybiBBcnJheS5pc0FycmF5KGEpP2E6XCJzdHJpbmdcIj09PXR5cGVvZiBhPyghKGEgaW4gYykmJlwiI1wiK2EgaW4gYyYmKGE9XCIjXCIrYSksenIoY1thXSxiLGMpKTpifVxuZnVuY3Rpb24gQXIoYSl7YT1vbyhhLCExKTtpZihhPS9eXFxzKiM/XFxzKihbMC05QS1GYS1mXXs4fSlcXHMqJC8uZXhlYyhhKSlyZXR1cm4gYT1hWzFdLFtwYXJzZUludChhLnN1YnN0cig2LDIpLDE2KSxwYXJzZUludChhLnN1YnN0cig0LDIpLDE2KSxwYXJzZUludChhLnN1YnN0cigyLDIpLDE2KSxwYXJzZUludChhLnN1YnN0cigwLDIpLDE2KS8yNTVdfWZ1bmN0aW9uIEJyKGEpe2E9b28oYSwhMSk7Zm9yKHZhciBiPVtdLGM9L15cXHMqKFsrXFwtXT9cXGQqXFwuP1xcZCsoPzplWytcXC1dP1xcZCspPylcXHMqLFxccyooWytcXC1dP1xcZCpcXC4/XFxkKyg/OmVbK1xcLV0/XFxkKyk/KSg/OlxccyosXFxzKihbK1xcLV0/XFxkKlxcLj9cXGQrKD86ZVsrXFwtXT9cXGQrKT8pKT9cXHMqL2ksZDtkPWMuZXhlYyhhKTspYi5wdXNoKHBhcnNlRmxvYXQoZFsxXSkscGFyc2VGbG9hdChkWzJdKSxkWzNdP3BhcnNlRmxvYXQoZFszXSk6MCksYT1hLnN1YnN0cihkWzBdLmxlbmd0aCk7aWYoXCJcIj09PWEpcmV0dXJuIGJ9XG5mdW5jdGlvbiBDcihhKXt2YXIgYj1vbyhhLCExKS50cmltKCk7YT1hLmJhc2VVUkk7YSYmXCJhYm91dDpibGFua1wiIT1hfHwoYT13aW5kb3cubG9jYXRpb24uaHJlZik7cmV0dXJuIGE/KG5ldyBVUkwoYixhKSkuaHJlZjpifWZ1bmN0aW9uIERyKGEpe3JldHVybiBkcChhKX1mdW5jdGlvbiBFcihhLGIpe3JldHVybiBPKG51bGwsRnIsYSxiKX1mdW5jdGlvbiBHcihhLGIpe2lmKGI9Tyh7QTpbXSxhazpbXX0sSHIsYSxiKSl7YT1iLkE7Yj1iLmFrO3ZhciBjO3ZhciBkPTA7Zm9yKGM9TWF0aC5taW4oYS5sZW5ndGgsYi5sZW5ndGgpO2Q8YzsrK2QpYVs0KmQrM109YltkXTtiPW5ldyBJKG51bGwpO2IuYmEoXCJYWVpNXCIsYSk7cmV0dXJuIGJ9fWZ1bmN0aW9uIElyKGEsYil7dmFyIGM9Tyh7fSxKcixhLGIpO2lmKGE9TyhudWxsLEtyLGEsYikpcmV0dXJuIGI9bmV3IEkobnVsbCksYi5iYShcIlhZWlwiLGEpLGIuSChjKSxifVxuZnVuY3Rpb24gTHIoYSxiKXt2YXIgYz1PKHt9LEpyLGEsYik7aWYoYT1PKG51bGwsS3IsYSxiKSlyZXR1cm4gYj1uZXcgRChudWxsKSxiLmJhKFwiWFlaXCIsYSxbYS5sZW5ndGhdKSxiLkgoYyksYn1cbmZ1bmN0aW9uIE1yKGEsYil7YT1PKFtdLE5yLGEsYik7aWYoIWEpcmV0dXJuIG51bGw7aWYoMD09PWEubGVuZ3RoKXJldHVybiBuZXcgTXEoYSk7dmFyIGM9ITAsZD1hWzBdLlMoKSxlO3ZhciBmPTE7Zm9yKGU9YS5sZW5ndGg7ZjxlOysrZilpZihiPWFbZl0sYi5TKCkhPWQpe2M9ITE7YnJlYWt9aWYoYylpZihcIlBvaW50XCI9PWQpe3ZhciBnPWFbMF07Yz1nLmphO2Q9Zy5kYSgpO2Y9MTtmb3IoZT1hLmxlbmd0aDtmPGU7KytmKWI9YVtmXSxnYyhkLGIuZGEoKSk7Zz1uZXcgTm8obnVsbCk7Zy5iYShjLGQpO09yKGcsYSl9ZWxzZVwiTGluZVN0cmluZ1wiPT1kPyhnPW5ldyBQKG51bGwpLE1vKGcsYSksT3IoZyxhKSk6XCJQb2x5Z29uXCI9PWQ/KGc9bmV3IFEobnVsbCksT28oZyxhKSxPcihnLGEpKTpcIkdlb21ldHJ5Q29sbGVjdGlvblwiPT1kP2c9bmV3IE1xKGEpOm9hKCExLDM3KTtlbHNlIGc9bmV3IE1xKGEpO3JldHVybiBnfVxuZnVuY3Rpb24gUHIoYSxiKXt2YXIgYz1PKHt9LEpyLGEsYik7aWYoYT1PKG51bGwsS3IsYSxiKSlyZXR1cm4gYj1uZXcgQyhudWxsKSxiLmJhKFwiWFlaXCIsYSksYi5IKGMpLGJ9ZnVuY3Rpb24gUXIoYSxiKXt2YXIgYz1PKHt9LEpyLGEsYik7aWYoKGE9TyhbbnVsbF0sUnIsYSxiKSkmJmFbMF0pe2I9bmV3IEQobnVsbCk7dmFyIGQ9YVswXSxlPVtkLmxlbmd0aF0sZjt2YXIgZz0xO2ZvcihmPWEubGVuZ3RoO2c8ZjsrK2cpZ2MoZCxhW2ddKSxlLnB1c2goZC5sZW5ndGgpO2IuYmEoXCJYWVpcIixkLGUpO2IuSChjKTtyZXR1cm4gYn19XG5mdW5jdGlvbiBTcihhLGIpe2I9Tyh7fSxUcixhLGIpO2lmKCFiKXJldHVybiBudWxsO2E9XCJmaWxsU3R5bGVcImluIGI/Yi5maWxsU3R5bGU6aHI7dmFyIGM9Yi5maWxsO3ZvaWQgMD09PWN8fGN8fChhPW51bGwpO2M9XCJpbWFnZVN0eWxlXCJpbiBiP2IuaW1hZ2VTdHlsZTpvcjtjPT1wciYmKGM9dm9pZCAwKTt2YXIgZD1cInRleHRTdHlsZVwiaW4gYj9iLnRleHRTdHlsZTpzcixlPVwic3Ryb2tlU3R5bGVcImluIGI/Yi5zdHJva2VTdHlsZTpxcjtiPWIub3V0bGluZTt2b2lkIDA9PT1ifHxifHwoZT1udWxsKTtyZXR1cm5bbmV3IEJrKHtmaWxsOmEsaW1hZ2U6YyxzdHJva2U6ZSx0ZXh0OmQsekluZGV4OnZvaWQgMH0pXX1cbmZ1bmN0aW9uIE9yKGEsYil7dmFyIGM9Yi5sZW5ndGgsZD1BcnJheShiLmxlbmd0aCksZT1BcnJheShiLmxlbmd0aCksZj1BcnJheShiLmxlbmd0aCksZyxoLGw7dmFyIG09aD1sPSExO2ZvcihnPTA7ZzxjOysrZyl7dmFyIG49YltnXTtkW2ddPW4uZ2V0KFwiZXh0cnVkZVwiKTtlW2ddPW4uZ2V0KFwidGVzc2VsbGF0ZVwiKTtmW2ddPW4uZ2V0KFwiYWx0aXR1ZGVNb2RlXCIpO209bXx8dm9pZCAwIT09ZFtnXTtoPWh8fHZvaWQgMCE9PWVbZ107bD1sfHxmW2ddfW0mJmEuc2V0KFwiZXh0cnVkZVwiLGQpO2gmJmEuc2V0KFwidGVzc2VsbGF0ZVwiLGUpO2wmJmEuc2V0KFwiYWx0aXR1ZGVNb2RlXCIsZil9ZnVuY3Rpb24gVXIoYSxiKXtDbyhWcixhLGIpfWZ1bmN0aW9uIFdyKGEsYil7Q28oWHIsYSxiKX1cbnZhciBZcj1OKHZyLHtkaXNwbGF5TmFtZTpMKFIpLHZhbHVlOkwoUil9KSxWcj1OKHZyLHtEYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO0NvKFlyLGEsYik7YT1iW2IubGVuZ3RoLTFdO251bGwhPT1jP2FbY109YS52YWx1ZTpudWxsIT09YS5kaXNwbGF5TmFtZSYmKGFbYS5kaXNwbGF5TmFtZV09YS52YWx1ZSk7ZGVsZXRlIGEudmFsdWV9LFNjaGVtYURhdGE6ZnVuY3Rpb24oYSxiKXtDbyhacixhLGIpfX0pLFhyPU4odnIse0xhdExvbkFsdEJveDpmdW5jdGlvbihhLGIpe2lmKGE9Tyh7fSwkcixhLGIpKWI9YltiLmxlbmd0aC0xXSxiLmV4dGVudD1bcGFyc2VGbG9hdChhLndlc3QpLHBhcnNlRmxvYXQoYS5zb3V0aCkscGFyc2VGbG9hdChhLmVhc3QpLHBhcnNlRmxvYXQoYS5ub3J0aCldLGIuYWx0aXR1ZGVNb2RlPWEuYWx0aXR1ZGVNb2RlLGIubWluQWx0aXR1ZGU9cGFyc2VGbG9hdChhLm1pbkFsdGl0dWRlKSxiLm1heEFsdGl0dWRlPXBhcnNlRmxvYXQoYS5tYXhBbHRpdHVkZSl9LFxuTG9kOmZ1bmN0aW9uKGEsYil7aWYoYT1PKHt9LGFzLGEsYikpYj1iW2IubGVuZ3RoLTFdLGIubWluTG9kUGl4ZWxzPXBhcnNlRmxvYXQoYS5taW5Mb2RQaXhlbHMpLGIubWF4TG9kUGl4ZWxzPXBhcnNlRmxvYXQoYS5tYXhMb2RQaXhlbHMpLGIubWluRmFkZUV4dGVudD1wYXJzZUZsb2F0KGEubWluRmFkZUV4dGVudCksYi5tYXhGYWRlRXh0ZW50PXBhcnNlRmxvYXQoYS5tYXhGYWRlRXh0ZW50KX19KSwkcj1OKHZyLHthbHRpdHVkZU1vZGU6TChSKSxtaW5BbHRpdHVkZTpMKGRwKSxtYXhBbHRpdHVkZTpMKGRwKSxub3J0aDpMKGRwKSxzb3V0aDpMKGRwKSxlYXN0OkwoZHApLHdlc3Q6TChkcCl9KSxhcz1OKHZyLHttaW5Mb2RQaXhlbHM6TChkcCksbWF4TG9kUGl4ZWxzOkwoZHApLG1pbkZhZGVFeHRlbnQ6TChkcCksbWF4RmFkZUV4dGVudDpMKGRwKX0pLEpyPU4odnIse2V4dHJ1ZGU6TChhcCksdGVzc2VsbGF0ZTpMKGFwKSxhbHRpdHVkZU1vZGU6TChSKX0pLEZyPU4odnIse2Nvb3JkaW5hdGVzOnZvKEJyKX0pLFxuUnI9Tih2cix7aW5uZXJCb3VuZGFyeUlzOmZ1bmN0aW9uKGEsYil7KGE9Tyh2b2lkIDAsYnMsYSxiKSkmJmJbYi5sZW5ndGgtMV0ucHVzaChhKX0sb3V0ZXJCb3VuZGFyeUlzOmZ1bmN0aW9uKGEsYil7KGE9Tyh2b2lkIDAsY3MsYSxiKSkmJihiW2IubGVuZ3RoLTFdWzBdPWEpfX0pLEhyPU4odnIse3doZW46ZnVuY3Rpb24oYSxiKXtiPWJbYi5sZW5ndGgtMV0uYWs7YT1vbyhhLCExKTthPURhdGUucGFyc2UoYSk7Yi5wdXNoKGlzTmFOKGEpPzA6YSl9fSxOKHVyLHtjb29yZDpmdW5jdGlvbihhLGIpe2I9YltiLmxlbmd0aC0xXS5BO2E9b28oYSwhMSk7KGE9L15cXHMqKFsrXFwtXT9cXGQrKD86XFwuXFxkKik/KD86ZVsrXFwtXT9cXGQqKT8pXFxzKyhbK1xcLV0/XFxkKyg/OlxcLlxcZCopPyg/OmVbK1xcLV0/XFxkKik/KVxccysoWytcXC1dP1xcZCsoPzpcXC5cXGQqKT8oPzplWytcXC1dP1xcZCopPylcXHMqJC9pLmV4ZWMoYSkpP2IucHVzaChwYXJzZUZsb2F0KGFbMV0pLHBhcnNlRmxvYXQoYVsyXSkscGFyc2VGbG9hdChhWzNdKSxcbjApOmIucHVzaCgwLDAsMCwwKX19KSksS3I9Tih2cix7Y29vcmRpbmF0ZXM6dm8oQnIpfSksZHM9Tih2cix7aHJlZjpMKENyKX0sTih1cix7eDpMKGRwKSx5OkwoZHApLHc6TChkcCksaDpMKGRwKX0pKSxlcz1OKHZyLHtJY29uOkwoZnVuY3Rpb24oYSxiKXtyZXR1cm4oYT1PKHt9LGRzLGEsYikpP2E6bnVsbH0pLGhlYWRpbmc6TChkcCksaG90U3BvdDpMKGZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0QXR0cmlidXRlKFwieHVuaXRzXCIpLGM9YS5nZXRBdHRyaWJ1dGUoXCJ5dW5pdHNcIik7dmFyIGQ9XCJpbnNldFBpeGVsc1wiIT09Yj9cImluc2V0UGl4ZWxzXCIhPT1jP1wiYm90dG9tLWxlZnRcIjpcInRvcC1sZWZ0XCI6XCJpbnNldFBpeGVsc1wiIT09Yz9cImJvdHRvbS1yaWdodFwiOlwidG9wLXJpZ2h0XCI7cmV0dXJue3g6cGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZShcInhcIikpLG9oOndyW2JdLHk6cGFyc2VGbG9hdChhLmdldEF0dHJpYnV0ZShcInlcIikpLHBoOndyW2NdLG9yaWdpbjpkfX0pLHNjYWxlOkwoRHIpfSksXG5icz1OKHZyLHtMaW5lYXJSaW5nOnZvKEVyKX0pLGZzPU4odnIse2NvbG9yOkwoQXIpLHNjYWxlOkwoRHIpfSksZ3M9Tih2cix7Y29sb3I6TChBciksd2lkdGg6TChkcCl9KSxOcj1OKHZyLHtMaW5lU3RyaW5nOnVvKElyKSxMaW5lYXJSaW5nOnVvKExyKSxNdWx0aUdlb21ldHJ5OnVvKE1yKSxQb2ludDp1byhQciksUG9seWdvbjp1byhRcil9KSxocz1OKHVyLHtUcmFjazp1byhHcil9KSxqcz1OKHZyLHtFeHRlbmRlZERhdGE6VXIsUmVnaW9uOldyLExpbms6ZnVuY3Rpb24oYSxiKXtDbyhpcyxhLGIpfSxhZGRyZXNzOkwoUiksZGVzY3JpcHRpb246TChSKSxuYW1lOkwoUiksb3BlbjpMKGFwKSxwaG9uZU51bWJlcjpMKFIpLHZpc2liaWxpdHk6TChhcCl9KSxpcz1OKHZyLHtocmVmOkwoQ3IpfSksY3M9Tih2cix7TGluZWFyUmluZzp2byhFcil9KSxrcz1OKHZyLHtTdHlsZTpMKFNyKSxrZXk6TChSKSxzdHlsZVVybDpMKENyKX0pLG1zPU4odnIse0V4dGVuZGVkRGF0YTpVcixSZWdpb246V3IsXG5NdWx0aUdlb21ldHJ5OkwoTXIsXCJnZW9tZXRyeVwiKSxMaW5lU3RyaW5nOkwoSXIsXCJnZW9tZXRyeVwiKSxMaW5lYXJSaW5nOkwoTHIsXCJnZW9tZXRyeVwiKSxQb2ludDpMKFByLFwiZ2VvbWV0cnlcIiksUG9seWdvbjpMKFFyLFwiZ2VvbWV0cnlcIiksU3R5bGU6TChTciksU3R5bGVNYXA6ZnVuY3Rpb24oYSxiKXtpZihhPU8odm9pZCAwLGxzLGEsYikpYj1iW2IubGVuZ3RoLTFdLEFycmF5LmlzQXJyYXkoYSk/Yi5TdHlsZT1hOlwic3RyaW5nXCI9PT10eXBlb2YgYT9iLnN0eWxlVXJsPWE6b2EoITEsMzgpfSxhZGRyZXNzOkwoUiksZGVzY3JpcHRpb246TChSKSxuYW1lOkwoUiksb3BlbjpMKGFwKSxwaG9uZU51bWJlcjpMKFIpLHN0eWxlVXJsOkwoQ3IpLHZpc2liaWxpdHk6TChhcCl9LE4odXIse011bHRpVHJhY2s6TChmdW5jdGlvbihhLGIpe2lmKGE9TyhbXSxocyxhLGIpKXJldHVybiBiPW5ldyBQKG51bGwpLE1vKGIsYSksYn0sXCJnZW9tZXRyeVwiKSxUcmFjazpMKEdyLFwiZ2VvbWV0cnlcIil9KSksXG5ucz1OKHZyLHtjb2xvcjpMKEFyKSxmaWxsOkwoYXApLG91dGxpbmU6TChhcCl9KSxacj1OKHZyLHtTaW1wbGVEYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO251bGwhPT1jJiYoYT1SKGEpLGJbYi5sZW5ndGgtMV1bY109YSl9fSksVHI9Tih2cix7SWNvblN0eWxlOmZ1bmN0aW9uKGEsYil7aWYoYT1PKHt9LGVzLGEsYikpe2I9YltiLmxlbmd0aC0xXTt2YXIgYz1cIkljb25cImluIGE/YS5JY29uOnt9LGQ9IShcIkljb25cImluIGEpfHwwPE9iamVjdC5rZXlzKGMpLmxlbmd0aCxlLGY9Yy5ocmVmO2Y/ZT1mOmQmJihlPW1yKTtmPVwiYm90dG9tLWxlZnRcIjt2YXIgZz1hLmhvdFNwb3Q7aWYoZyl7dmFyIGg9W2cueCxnLnldO3ZhciBsPWcub2g7dmFyIG09Zy5waDtmPWcub3JpZ2lufWVsc2UgZT09PW1yPyhoPWlyLGw9a3IsbT1qcik6L15odHRwOlxcL1xcL21hcHNcXC4oPzpnb29nbGV8Z3N0YXRpYylcXC5jb21cXC8vLnRlc3QoZSkmJihoPVsuNSwwXSxtPWw9XCJmcmFjdGlvblwiKTtcbnZhciBuO2c9Yy54O3ZhciBwPWMueTt2b2lkIDAhPT1nJiZ2b2lkIDAhPT1wJiYobj1bZyxwXSk7dmFyIHE7Zz1jLnc7Yz1jLmg7dm9pZCAwIT09ZyYmdm9pZCAwIT09YyYmKHE9W2csY10pO3ZhciByO2M9YS5oZWFkaW5nO3ZvaWQgMCE9PWMmJihyPXZhKGMpKTthPWEuc2NhbGU7ZD8oZT09bXImJihxPWxyLHZvaWQgMD09PWEmJihhPW5yKSksZT1uZXcgZHIoe2FuY2hvcjpoLGFuY2hvck9yaWdpbjpmLGFuY2hvclhVbml0czpsLGFuY2hvcllVbml0czptLGNyb3NzT3JpZ2luOlwiYW5vbnltb3VzXCIsb2Zmc2V0Om4sb2Zmc2V0T3JpZ2luOlwiYm90dG9tLWxlZnRcIixyb3RhdGlvbjpyLHNjYWxlOmEsc2l6ZTpxLHNyYzplfSksYi5pbWFnZVN0eWxlPWUpOmIuaW1hZ2VTdHlsZT1wcn19LExhYmVsU3R5bGU6ZnVuY3Rpb24oYSxiKXsoYT1PKHt9LGZzLGEsYikpJiYoYltiLmxlbmd0aC0xXS50ZXh0U3R5bGU9bmV3IEooe2ZpbGw6bmV3IHprKHtjb2xvcjpcImNvbG9yXCJpbiBhP2EuY29sb3I6Z3J9KSxcbnNjYWxlOmEuc2NhbGV9KSl9LExpbmVTdHlsZTpmdW5jdGlvbihhLGIpeyhhPU8oe30sZ3MsYSxiKSkmJihiW2IubGVuZ3RoLTFdLnN0cm9rZVN0eWxlPW5ldyBBayh7Y29sb3I6XCJjb2xvclwiaW4gYT9hLmNvbG9yOmdyLHdpZHRoOlwid2lkdGhcImluIGE/YS53aWR0aDoxfSkpfSxQb2x5U3R5bGU6ZnVuY3Rpb24oYSxiKXtpZihhPU8oe30sbnMsYSxiKSl7Yj1iW2IubGVuZ3RoLTFdO2IuZmlsbFN0eWxlPW5ldyB6ayh7Y29sb3I6XCJjb2xvclwiaW4gYT9hLmNvbG9yOmdyfSk7dmFyIGM9YS5maWxsO3ZvaWQgMCE9PWMmJihiLmZpbGw9Yyk7YT1hLm91dGxpbmU7dm9pZCAwIT09YSYmKGIub3V0bGluZT1hKX19fSksbHM9Tih2cix7UGFpcjpmdW5jdGlvbihhLGIpe2lmKGE9Tyh7fSxrcyxhLGIpKXt2YXIgYz1hLmtleTtjJiZcIm5vcm1hbFwiPT1jJiYoKGM9YS5zdHlsZVVybCkmJihiW2IubGVuZ3RoLTFdPWMpLChhPWEuU3R5bGUpJiYoYltiLmxlbmd0aC0xXT1hKSl9fX0pO2s9ZXIucHJvdG90eXBlO1xuay5KZz1mdW5jdGlvbihhLGIpe3ZhciBjPU4odnIse0RvY3VtZW50OnRvKHRoaXMuSmcsdGhpcyksRm9sZGVyOnRvKHRoaXMuSmcsdGhpcyksUGxhY2VtYXJrOnVvKHRoaXMuUmcsdGhpcyksU3R5bGU6dGhpcy5rcS5iaW5kKHRoaXMpLFN0eWxlTWFwOnRoaXMuanEuYmluZCh0aGlzKX0pO2lmKGE9TyhbXSxjLGEsYix0aGlzKSlyZXR1cm4gYX07ay5SZz1mdW5jdGlvbihhLGIpe3ZhciBjPU8oe2dlb21ldHJ5Om51bGx9LG1zLGEsYik7aWYoYyl7dmFyIGQ9bmV3IEhrO2E9YS5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtudWxsIT09YSYmZC5xYyhhKTtiPWJbMF07KGE9Yy5nZW9tZXRyeSkmJkpvKGEsITEsYik7ZC5WYShhKTtkZWxldGUgYy5nZW9tZXRyeTt0aGlzLmMmJmQuc2coeXIoYy5TdHlsZSxjLnN0eWxlVXJsLHRoaXMuYSx0aGlzLmIsdGhpcy5mKSk7ZGVsZXRlIGMuU3R5bGU7ZC5IKGMpO3JldHVybiBkfX07XG5rLmtxPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtudWxsIT09YyYmKGI9U3IoYSxiKSkmJihhPWEuYmFzZVVSSSxhJiZcImFib3V0OmJsYW5rXCIhPWF8fChhPXdpbmRvdy5sb2NhdGlvbi5ocmVmKSxjPWE/KG5ldyBVUkwoXCIjXCIrYyxhKSkuaHJlZjpcIiNcIitjLHRoaXMuYltjXT1iKX07ay5qcT1mdW5jdGlvbihhLGIpe3ZhciBjPWEuZ2V0QXR0cmlidXRlKFwiaWRcIik7bnVsbCE9PWMmJihiPU8odm9pZCAwLGxzLGEsYikpJiYoYT1hLmJhc2VVUkksYSYmXCJhYm91dDpibGFua1wiIT1hfHwoYT13aW5kb3cubG9jYXRpb24uaHJlZiksYz1hPyhuZXcgVVJMKFwiI1wiK2MsYSkpLmhyZWY6XCIjXCIrYyx0aGlzLmJbY109Yil9O2suTGc9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZWModnIsYS5uYW1lc3BhY2VVUkkpPyhhPXRoaXMuUmcoYSxbSG8odGhpcyxhLGIpXSkpP2E6bnVsbDpudWxsfTtcbmsuS2M9ZnVuY3Rpb24oYSxiKXtpZighZWModnIsYS5uYW1lc3BhY2VVUkkpKXJldHVybltdO3ZhciBjPWEubG9jYWxOYW1lO2lmKFwiRG9jdW1lbnRcIj09Y3x8XCJGb2xkZXJcIj09YylyZXR1cm4oYz10aGlzLkpnKGEsW0hvKHRoaXMsYSxiKV0pKT9jOltdO2lmKFwiUGxhY2VtYXJrXCI9PWMpcmV0dXJuKGI9dGhpcy5SZyhhLFtIbyh0aGlzLGEsYildKSk/W2JdOltdO2lmKFwia21sXCI9PWMpe2M9W107Zm9yKGE9YS5maXJzdEVsZW1lbnRDaGlsZDthO2E9YS5uZXh0RWxlbWVudFNpYmxpbmcpe3ZhciBkPXRoaXMuS2MoYSxiKTtkJiZnYyhjLGQpfXJldHVybiBjfXJldHVybltdfTtrLmNxPWZ1bmN0aW9uKGEpe2lmKHFvKGEpKXJldHVybiBvcyh0aGlzLGEpO2lmKHJvKGEpKXJldHVybiBwcyh0aGlzLGEpO2lmKFwic3RyaW5nXCI9PT10eXBlb2YgYSlyZXR1cm4gYT1zbyhhKSxvcyh0aGlzLGEpfTtcbmZ1bmN0aW9uIG9zKGEsYil7Zm9yKGI9Yi5maXJzdENoaWxkO2I7Yj1iLm5leHRTaWJsaW5nKWlmKGIubm9kZVR5cGU9PU5vZGUuRUxFTUVOVF9OT0RFKXt2YXIgYz1wcyhhLGIpO2lmKGMpcmV0dXJuIGN9fWZ1bmN0aW9uIHBzKGEsYil7dmFyIGM7Zm9yKGM9Yi5maXJzdEVsZW1lbnRDaGlsZDtjO2M9Yy5uZXh0RWxlbWVudFNpYmxpbmcpaWYoZWModnIsYy5uYW1lc3BhY2VVUkkpJiZcIm5hbWVcIj09Yy5sb2NhbE5hbWUpcmV0dXJuIFIoYyk7Zm9yKGM9Yi5maXJzdEVsZW1lbnRDaGlsZDtjO2M9Yy5uZXh0RWxlbWVudFNpYmxpbmcpaWYoYj1jLmxvY2FsTmFtZSxlYyh2cixjLm5hbWVzcGFjZVVSSSkmJihcIkRvY3VtZW50XCI9PWJ8fFwiRm9sZGVyXCI9PWJ8fFwiUGxhY2VtYXJrXCI9PWJ8fFwia21sXCI9PWIpJiYoYj1wcyhhLGMpKSlyZXR1cm4gYn1cbmsuZXE9ZnVuY3Rpb24oYSl7dmFyIGI9W107cW8oYSk/Z2MoYixxcyh0aGlzLGEpKTpybyhhKT9nYyhiLHJzKHRoaXMsYSkpOlwic3RyaW5nXCI9PT10eXBlb2YgYSYmKGE9c28oYSksZ2MoYixxcyh0aGlzLGEpKSk7cmV0dXJuIGJ9O2Z1bmN0aW9uIHFzKGEsYil7dmFyIGM9W107Zm9yKGI9Yi5maXJzdENoaWxkO2I7Yj1iLm5leHRTaWJsaW5nKWIubm9kZVR5cGU9PU5vZGUuRUxFTUVOVF9OT0RFJiZnYyhjLHJzKGEsYikpO3JldHVybiBjfVxuZnVuY3Rpb24gcnMoYSxiKXt2YXIgYyxkPVtdO2ZvcihjPWIuZmlyc3RFbGVtZW50Q2hpbGQ7YztjPWMubmV4dEVsZW1lbnRTaWJsaW5nKWlmKGVjKHZyLGMubmFtZXNwYWNlVVJJKSYmXCJOZXR3b3JrTGlua1wiPT1jLmxvY2FsTmFtZSl7dmFyIGU9Tyh7fSxqcyxjLFtdKTtkLnB1c2goZSl9Zm9yKGM9Yi5maXJzdEVsZW1lbnRDaGlsZDtjO2M9Yy5uZXh0RWxlbWVudFNpYmxpbmcpYj1jLmxvY2FsTmFtZSwhZWModnIsYy5uYW1lc3BhY2VVUkkpfHxcIkRvY3VtZW50XCIhPWImJlwiRm9sZGVyXCIhPWImJlwia21sXCIhPWJ8fGdjKGQscnMoYSxjKSk7cmV0dXJuIGR9ay5ocT1mdW5jdGlvbihhKXt2YXIgYj1bXTtxbyhhKT9nYyhiLHNzKHRoaXMsYSkpOnJvKGEpP2djKGIsdGhpcy52ZihhKSk6XCJzdHJpbmdcIj09PXR5cGVvZiBhJiYoYT1zbyhhKSxnYyhiLHNzKHRoaXMsYSkpKTtyZXR1cm4gYn07XG5mdW5jdGlvbiBzcyhhLGIpe3ZhciBjPVtdO2ZvcihiPWIuZmlyc3RDaGlsZDtiO2I9Yi5uZXh0U2libGluZyliLm5vZGVUeXBlPT1Ob2RlLkVMRU1FTlRfTk9ERSYmZ2MoYyxhLnZmKGIpKTtyZXR1cm4gY31rLnZmPWZ1bmN0aW9uKGEpe3ZhciBiLGM9W107Zm9yKGI9YS5maXJzdEVsZW1lbnRDaGlsZDtiO2I9Yi5uZXh0RWxlbWVudFNpYmxpbmcpaWYoZWModnIsYi5uYW1lc3BhY2VVUkkpJiZcIlJlZ2lvblwiPT1iLmxvY2FsTmFtZSl7dmFyIGQ9Tyh7fSxYcixiLFtdKTtjLnB1c2goZCl9Zm9yKGI9YS5maXJzdEVsZW1lbnRDaGlsZDtiO2I9Yi5uZXh0RWxlbWVudFNpYmxpbmcpYT1iLmxvY2FsTmFtZSwhZWModnIsYi5uYW1lc3BhY2VVUkkpfHxcIkRvY3VtZW50XCIhPWEmJlwiRm9sZGVyXCIhPWEmJlwia21sXCIhPWF8fGdjKGMsdGhpcy52ZihiKSk7cmV0dXJuIGN9O1xuZnVuY3Rpb24gdHMoYSxiKXtiPXZpKGIpO2I9WzI1NSooND09Yi5sZW5ndGg/YlszXToxKSxiWzJdLGJbMV0sYlswXV07dmFyIGM7Zm9yKGM9MDs0PmM7KytjKXt2YXIgZD1wYXJzZUludChiW2NdLDEwKS50b1N0cmluZygxNik7YltjXT0xPT1kLmxlbmd0aD9cIjBcIitkOmR9aXAoYSxiLmpvaW4oXCJcIikpfWZ1bmN0aW9uIHVzKGEsYixjKXthPXtub2RlOmF9O3ZhciBkPWIuUygpO2lmKFwiR2VvbWV0cnlDb2xsZWN0aW9uXCI9PWQpe3ZhciBlPWIudmQoKTt2YXIgZj12c31lbHNlXCJNdWx0aVBvaW50XCI9PWQ/KGU9Yi5kZSgpLGY9d3MpOlwiTXVsdGlMaW5lU3RyaW5nXCI9PWQ/KGU9Yi53ZCgpLGY9eHMpOlwiTXVsdGlQb2x5Z29uXCI9PWQ/KGU9Yi5WZCgpLGY9eXMpOm9hKCExLDM5KTtEbyhhLHpzLGYsZSxjKX1mdW5jdGlvbiBBcyhhLGIsYyl7RG8oe25vZGU6YX0sQnMsQ3MsW2JdLGMpfVxuZnVuY3Rpb24gRHMoYSxiLGMpe3ZhciBkPXtub2RlOmF9O2IuYyYmYS5zZXRBdHRyaWJ1dGUoXCJpZFwiLGIuYyk7YT1iLkwoKTt2YXIgZT17YWRkcmVzczoxLGRlc2NyaXB0aW9uOjEsbmFtZToxLG9wZW46MSxwaG9uZU51bWJlcjoxLHN0eWxlVXJsOjEsdmlzaWJpbGl0eToxfTtlW2IuYV09MTt2YXIgZj1PYmplY3Qua2V5cyhhfHx7fSkuc29ydCgpLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4hZVthXX0pO2lmKDA8Zi5sZW5ndGgpe3ZhciBnPUJvKGEsZik7RG8oZCxFcyxGcyxbe25hbWVzOmYsdmFsdWVzOmd9XSxjKX1pZihmPWIuaWIoKSlpZihmPWYuY2FsbChiLDApKWY9QXJyYXkuaXNBcnJheShmKT9mWzBdOmYsdGhpcy5qJiYoYS5TdHlsZT1mKSwoZj1mLkthKCkpJiYoYS5uYW1lPWYuS2EoKSk7Zj1Hc1tjW2MubGVuZ3RoLTFdLm5vZGUubmFtZXNwYWNlVVJJXTthPUJvKGEsZik7RG8oZCxFcyxBbyxhLGMsZik7YT1jWzBdOyhiPWIuVSgpKSYmKGI9Sm8oYiwhMCxhKSk7RG8oZCxcbkVzLHZzLFtiXSxjKX1mdW5jdGlvbiBIcyhhLGIsYyl7dmFyIGQ9Yi5kYSgpO2E9e25vZGU6YX07YS5sYXlvdXQ9Yi5qYTthLnN0cmlkZT1iLnBhKCk7Yj1iLkwoKTtiLmNvb3JkaW5hdGVzPWQ7ZD1Jc1tjW2MubGVuZ3RoLTFdLm5vZGUubmFtZXNwYWNlVVJJXTtiPUJvKGIsZCk7RG8oYSxKcyxBbyxiLGMsZCl9ZnVuY3Rpb24gS3MoYSxiLGMpe2I9Yi5VZCgpO3ZhciBkPWIuc2hpZnQoKTthPXtub2RlOmF9O0RvKGEsTHMsTXMsYixjKTtEbyhhLExzLE5zLFtkXSxjKX1mdW5jdGlvbiBPcyhhLGIpe0lwKGEsTWF0aC5yb3VuZCgxRTYqYikvMUU2KX1cbnZhciBQcz1OKHZyLFtcIkRvY3VtZW50XCIsXCJQbGFjZW1hcmtcIl0pLFNzPU4odnIse0RvY3VtZW50Ok0oZnVuY3Rpb24oYSxiLGMpe0RvKHtub2RlOmF9LFFzLFJzLGIsYyx2b2lkIDAsdGhpcyl9KSxQbGFjZW1hcms6TShEcyl9KSxRcz1OKHZyLHtQbGFjZW1hcms6TShEcyl9KSxUcz1OKHZyLHtEYXRhOk0oZnVuY3Rpb24oYSxiLGMpe2Euc2V0QXR0cmlidXRlKFwibmFtZVwiLGIubmFtZSk7YT17bm9kZTphfTtiPWIudmFsdWU7XCJvYmplY3RcIj09dHlwZW9mIGI/KG51bGwhPT1iJiZiLmRpc3BsYXlOYW1lJiZEbyhhLFRzLEFvLFtiLmRpc3BsYXlOYW1lXSxjLFtcImRpc3BsYXlOYW1lXCJdKSxudWxsIT09YiYmYi52YWx1ZSYmRG8oYSxUcyxBbyxbYi52YWx1ZV0sYyxbXCJ2YWx1ZVwiXSkpOkRvKGEsVHMsQW8sW2JdLGMsW1widmFsdWVcIl0pfSksdmFsdWU6TShmdW5jdGlvbihhLGIpe2lwKGEsYil9KSxkaXNwbGF5TmFtZTpNKGZ1bmN0aW9uKGEsYil7YS5hcHBlbmRDaGlsZChtby5jcmVhdGVDREFUQVNlY3Rpb24oYikpfSl9KSxcblVzPXtQb2ludDpcIlBvaW50XCIsTGluZVN0cmluZzpcIkxpbmVTdHJpbmdcIixMaW5lYXJSaW5nOlwiTGluZWFyUmluZ1wiLFBvbHlnb246XCJQb2x5Z29uXCIsTXVsdGlQb2ludDpcIk11bHRpR2VvbWV0cnlcIixNdWx0aUxpbmVTdHJpbmc6XCJNdWx0aUdlb21ldHJ5XCIsTXVsdGlQb2x5Z29uOlwiTXVsdGlHZW9tZXRyeVwiLEdlb21ldHJ5Q29sbGVjdGlvbjpcIk11bHRpR2VvbWV0cnlcIn0sVnM9Tih2cixbXCJocmVmXCJdLE4odXIsW1wieFwiLFwieVwiLFwid1wiLFwiaFwiXSkpLFdzPU4odnIse2hyZWY6TShpcCl9LE4odXIse3g6TShJcCkseTpNKElwKSx3Ok0oSXApLGg6TShJcCl9KSksWHM9Tih2cixbXCJzY2FsZVwiLFwiaGVhZGluZ1wiLFwiSWNvblwiLFwiaG90U3BvdFwiXSksWnM9Tih2cix7SWNvbjpNKGZ1bmN0aW9uKGEsYixjKXthPXtub2RlOmF9O3ZhciBkPVZzW2NbYy5sZW5ndGgtMV0ubm9kZS5uYW1lc3BhY2VVUkldLGU9Qm8oYixkKTtEbyhhLFdzLEFvLGUsYyxkKTtkPVZzW3VyWzBdXTtlPUJvKGIsZCk7RG8oYSxXcyxcbllzLGUsYyxkKX0pLGhlYWRpbmc6TShJcCksaG90U3BvdDpNKGZ1bmN0aW9uKGEsYil7YS5zZXRBdHRyaWJ1dGUoXCJ4XCIsYi54KTthLnNldEF0dHJpYnV0ZShcInlcIixiLnkpO2Euc2V0QXR0cmlidXRlKFwieHVuaXRzXCIsYi5vaCk7YS5zZXRBdHRyaWJ1dGUoXCJ5dW5pdHNcIixiLnBoKX0pLHNjYWxlOk0oT3MpfSksJHM9Tih2cixbXCJjb2xvclwiLFwic2NhbGVcIl0pLGF0PU4odnIse2NvbG9yOk0odHMpLHNjYWxlOk0oT3MpfSksYnQ9Tih2cixbXCJjb2xvclwiLFwid2lkdGhcIl0pLGN0PU4odnIse2NvbG9yOk0odHMpLHdpZHRoOk0oSXApfSksQnM9Tih2cix7TGluZWFyUmluZzpNKEhzKX0pLHpzPU4odnIse0xpbmVTdHJpbmc6TShIcyksUG9pbnQ6TShIcyksUG9seWdvbjpNKEtzKSxHZW9tZXRyeUNvbGxlY3Rpb246TSh1cyl9KSxHcz1OKHZyLFwibmFtZSBvcGVuIHZpc2liaWxpdHkgYWRkcmVzcyBwaG9uZU51bWJlciBkZXNjcmlwdGlvbiBzdHlsZVVybCBTdHlsZVwiLnNwbGl0KFwiIFwiKSksRXM9Tih2cixcbntFeHRlbmRlZERhdGE6TShmdW5jdGlvbihhLGIsYyl7YT17bm9kZTphfTt2YXIgZD1iLm5hbWVzO2I9Yi52YWx1ZXM7Zm9yKHZhciBlPWQubGVuZ3RoLGY9MDtmPGU7ZisrKURvKGEsVHMsZHQsW3tuYW1lOmRbZl0sdmFsdWU6YltmXX1dLGMpfSksTXVsdGlHZW9tZXRyeTpNKHVzKSxMaW5lU3RyaW5nOk0oSHMpLExpbmVhclJpbmc6TShIcyksUG9pbnQ6TShIcyksUG9seWdvbjpNKEtzKSxTdHlsZTpNKGZ1bmN0aW9uKGEsYixjKXthPXtub2RlOmF9O3ZhciBkPXt9LGU9Yi5GYSgpLGY9Yi5HYSgpLGc9Yi5ZKCk7Yj1iLkthKCk7ZyBpbnN0YW5jZW9mIGRyJiYoZC5JY29uU3R5bGU9Zyk7YiYmKGQuTGFiZWxTdHlsZT1iKTtmJiYoZC5MaW5lU3R5bGU9Zik7ZSYmKGQuUG9seVN0eWxlPWUpO2I9ZXRbY1tjLmxlbmd0aC0xXS5ub2RlLm5hbWVzcGFjZVVSSV07ZD1CbyhkLGIpO0RvKGEsZnQsQW8sZCxjLGIpfSksYWRkcmVzczpNKGlwKSxkZXNjcmlwdGlvbjpNKGlwKSxuYW1lOk0oaXApLFxub3BlbjpNKGhwKSxwaG9uZU51bWJlcjpNKGlwKSxzdHlsZVVybDpNKGlwKSx2aXNpYmlsaXR5Ok0oaHApfSksSXM9Tih2cixbXCJleHRydWRlXCIsXCJ0ZXNzZWxsYXRlXCIsXCJhbHRpdHVkZU1vZGVcIixcImNvb3JkaW5hdGVzXCJdKSxKcz1OKHZyLHtleHRydWRlOk0oaHApLHRlc3NlbGxhdGU6TShocCksYWx0aXR1ZGVNb2RlOk0oaXApLGNvb3JkaW5hdGVzOk0oZnVuY3Rpb24oYSxiLGMpe2M9Y1tjLmxlbmd0aC0xXTt2YXIgZD1jLmxheW91dDtjPWMuc3RyaWRlO3ZhciBlO1wiWFlcIj09ZHx8XCJYWU1cIj09ZD9lPTI6XCJYWVpcIj09ZHx8XCJYWVpNXCI9PWQ/ZT0zOm9hKCExLDM0KTt2YXIgZixnPWIubGVuZ3RoLGg9XCJcIjtpZigwPGcpe2grPWJbMF07Zm9yKGQ9MTtkPGU7KytkKWgrPVwiLFwiK2JbZF07Zm9yKGY9YztmPGc7Zis9Yylmb3IoaCs9XCIgXCIrYltmXSxkPTE7ZDxlOysrZCloKz1cIixcIitiW2YrZF19aXAoYSxoKX0pfSksTHM9Tih2cix7b3V0ZXJCb3VuZGFyeUlzOk0oQXMpLGlubmVyQm91bmRhcnlJczpNKEFzKX0pLFxuZ3Q9Tih2cix7Y29sb3I6TSh0cyl9KSxldD1OKHZyLFtcIkljb25TdHlsZVwiLFwiTGFiZWxTdHlsZVwiLFwiTGluZVN0eWxlXCIsXCJQb2x5U3R5bGVcIl0pLGZ0PU4odnIse0ljb25TdHlsZTpNKGZ1bmN0aW9uKGEsYixjKXthPXtub2RlOmF9O3ZhciBkPXt9LGU9Yi5vYygpLGY9Yi5IZSgpLGc9e2hyZWY6Yi5iLmx9O2lmKGUpe2cudz1lWzBdO2cuaD1lWzFdO3ZhciBoPWIuVmMoKSxsPWIuYmQoKTtsJiZmJiYwIT09bFswXSYmbFsxXSE9PWVbMV0mJihnLng9bFswXSxnLnk9ZlsxXS0obFsxXStlWzFdKSk7IWh8fGhbMF09PT1lWzBdLzImJmhbMV09PT1lWzFdLzJ8fChkLmhvdFNwb3Q9e3g6aFswXSxvaDpcInBpeGVsc1wiLHk6ZVsxXS1oWzFdLHBoOlwicGl4ZWxzXCJ9KX1kLkljb249ZztlPWIuYTsxIT09ZSYmKGQuc2NhbGU9ZSk7Yj1iLmY7MCE9PWImJihkLmhlYWRpbmc9Yik7Yj1Yc1tjW2MubGVuZ3RoLTFdLm5vZGUubmFtZXNwYWNlVVJJXTtkPUJvKGQsYik7RG8oYSxacyxBbyxkLGMsYil9KSxMYWJlbFN0eWxlOk0oZnVuY3Rpb24oYSxcbmIsYyl7YT17bm9kZTphfTt2YXIgZD17fSxlPWIuRmEoKTtlJiYoZC5jb2xvcj1lLmIpOyhiPWIuYikmJjEhPT1iJiYoZC5zY2FsZT1iKTtiPSRzW2NbYy5sZW5ndGgtMV0ubm9kZS5uYW1lc3BhY2VVUkldO2Q9Qm8oZCxiKTtEbyhhLGF0LEFvLGQsYyxiKX0pLExpbmVTdHlsZTpNKGZ1bmN0aW9uKGEsYixjKXthPXtub2RlOmF9O3ZhciBkPWJ0W2NbYy5sZW5ndGgtMV0ubm9kZS5uYW1lc3BhY2VVUkldO2I9Qm8oe2NvbG9yOmIuYSx3aWR0aDpiLmN9LGQpO0RvKGEsY3QsQW8sYixjLGQpfSksUG9seVN0eWxlOk0oZnVuY3Rpb24oYSxiLGMpe0RvKHtub2RlOmF9LGd0LGh0LFtiLmJdLGMpfSl9KTtmdW5jdGlvbiBZcyhhLGIsYyl7cmV0dXJuIG5vKHVyWzBdLFwiZ3g6XCIrYyl9ZnVuY3Rpb24gUnMoYSxiKXtyZXR1cm4gbm8oYltiLmxlbmd0aC0xXS5ub2RlLm5hbWVzcGFjZVVSSSxcIlBsYWNlbWFya1wiKX1cbmZ1bmN0aW9uIHZzKGEsYil7aWYoYSlyZXR1cm4gbm8oYltiLmxlbmd0aC0xXS5ub2RlLm5hbWVzcGFjZVVSSSxVc1thLlMoKV0pfXZhciBodD15byhcImNvbG9yXCIpLGR0PXlvKFwiRGF0YVwiKSxGcz15byhcIkV4dGVuZGVkRGF0YVwiKSxNcz15byhcImlubmVyQm91bmRhcnlJc1wiKSx3cz15byhcIlBvaW50XCIpLHhzPXlvKFwiTGluZVN0cmluZ1wiKSxDcz15byhcIkxpbmVhclJpbmdcIikseXM9eW8oXCJQb2x5Z29uXCIpLE5zPXlvKFwib3V0ZXJCb3VuZGFyeUlzXCIpO1xuZXIucHJvdG90eXBlLmJjPWZ1bmN0aW9uKGEsYil7Yj1Jbyh0aGlzLGIpO3ZhciBjPW5vKHZyWzRdLFwia21sXCIpO2Muc2V0QXR0cmlidXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zL1wiLFwieG1sbnM6Z3hcIix1clswXSk7Yy5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvXCIsXCJ4bWxuczp4c2lcIixcImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlXCIpO2Muc2V0QXR0cmlidXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZVwiLFwieHNpOnNjaGVtYUxvY2F0aW9uXCIsXCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2ttbC8yLjIgaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20va21sL3NjaGVtYS9rbWwyMmd4LnhzZFwiKTt2YXIgZD17bm9kZTpjfSxlPXt9OzE8YS5sZW5ndGg/ZS5Eb2N1bWVudD1hOjE9PWEubGVuZ3RoJiYoZS5QbGFjZW1hcms9YVswXSk7YT1Qc1tjLm5hbWVzcGFjZVVSSV07XG5lPUJvKGUsYSk7RG8oZCxTcyxBbyxlLFtiXSxhLHRoaXMpO3JldHVybiBjfTtyai5MZD1mdW5jdGlvbigpe307XG4oZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXt0aGlzLnRjPUFycmF5QnVmZmVyLmlzVmlldyYmQXJyYXlCdWZmZXIuaXNWaWV3KGEpP2E6bmV3IFVpbnQ4QXJyYXkoYXx8MCk7dGhpcy50eXBlPXRoaXMuZ2E9MDt0aGlzLmxlbmd0aD10aGlzLnRjLmxlbmd0aH1mdW5jdGlvbiBjKGEsYixjKXt2YXIgZT1jLnRjO3ZhciBmPWVbYy5nYSsrXTt2YXIgZz0oZiYxMTIpPj40O2lmKDEyOD5mKXJldHVybiBkKGEsZyxiKTtmPWVbYy5nYSsrXTtnfD0oZiYxMjcpPDwzO2lmKDEyOD5mKXJldHVybiBkKGEsZyxiKTtmPWVbYy5nYSsrXTtnfD0oZiYxMjcpPDwxMDtpZigxMjg+ZilyZXR1cm4gZChhLGcsYik7Zj1lW2MuZ2ErK107Z3w9KGYmMTI3KTw8MTc7aWYoMTI4PmYpcmV0dXJuIGQoYSxnLGIpO2Y9ZVtjLmdhKytdO2d8PShmJjEyNyk8PDI0O2lmKDEyOD5mKXJldHVybiBkKGEsZyxiKTtmPWVbYy5nYSsrXTtpZigxMjg+ZilyZXR1cm4gZChhLGd8KGYmMSk8PDMxLGIpO3Rocm93IEVycm9yKFwiRXhwZWN0ZWQgdmFyaW50IG5vdCBtb3JlIHRoYW4gMTAgYnl0ZXNcIik7XG59ZnVuY3Rpb24gZChhLGIsYyl7cmV0dXJuIGM/NDI5NDk2NzI5NipiKyhhPj4+MCk6NDI5NDk2NzI5NiooYj4+PjApKyhhPj4+MCl9dmFyIGU9e3JlYWQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj04KmUtZC0xO3ZhciBnPSgxPDxmKS0xLGg9Zz4+MSxsPS03O2U9Yz9lLTE6MDt2YXIgbT1jPy0xOjEsdj1hW2IrZV07ZSs9bTtjPXYmKDE8PC1sKS0xO3Y+Pj0tbDtmb3IobCs9ZjswPGw7Yz0yNTYqYythW2IrZV0sZSs9bSxsLT04KTtmPWMmKDE8PC1sKS0xO2M+Pj0tbDtmb3IobCs9ZDswPGw7Zj0yNTYqZithW2IrZV0sZSs9bSxsLT04KTtpZigwPT09YyljPTEtaDtlbHNle2lmKGM9PT1nKXJldHVybiBmP05hTjpJbmZpbml0eSoodj8tMToxKTtmKz1NYXRoLnBvdygyLGQpO2MtPWh9cmV0dXJuKHY/LTE6MSkqZipNYXRoLnBvdygyLGMtZCl9LHdyaXRlOmZ1bmN0aW9uKGEsYixjLGQsZSxuKXt2YXIgZixnPTgqbi1lLTEsaD0oMTw8ZyktMSxsPWg+PjEsbT0yMz09PWU/TWF0aC5wb3coMixcbi0yNCktTWF0aC5wb3coMiwtNzcpOjA7bj1kPzA6bi0xO3ZhciB6PWQ/MTotMSxBPTA+Ynx8MD09PWImJjA+MS9iPzE6MDtiPU1hdGguYWJzKGIpO2lzTmFOKGIpfHxJbmZpbml0eT09PWI/KGI9aXNOYU4oYik/MTowLGQ9aCk6KGQ9TWF0aC5mbG9vcihNYXRoLmxvZyhiKS9NYXRoLkxOMiksMT5iKihmPU1hdGgucG93KDIsLWQpKSYmKGQtLSxmKj0yKSxiPTE8PWQrbD9iK20vZjpiK20qTWF0aC5wb3coMiwxLWwpLDI8PWIqZiYmKGQrKyxmLz0yKSxkK2w+PWg/KGI9MCxkPWgpOjE8PWQrbD8oYj0oYipmLTEpKk1hdGgucG93KDIsZSksZCs9bCk6KGI9YipNYXRoLnBvdygyLGwtMSkqTWF0aC5wb3coMixlKSxkPTApKTtmb3IoOzg8PWU7YVtjK25dPWImMjU1LG4rPXosYi89MjU2LGUtPTgpO2Q9ZDw8ZXxiO2ZvcihnKz1lOzA8ZzthW2Mrbl09ZCYyNTUsbis9eixkLz0yNTYsZy09OCk7YVtjK24tel18PTEyOCpBfX07Yi5jPTA7Yi5nPTE7Yi5iPTI7Yi5hPTU7Yi5wcm90b3R5cGU9e09nOmZ1bmN0aW9uKGEsXG5iLGMpe2ZvcihjPWN8fHRoaXMubGVuZ3RoO3RoaXMuZ2E8Yzspe3ZhciBkPXRoaXMuVWEoKSxlPWQ+PjMsZj10aGlzLmdhO3RoaXMudHlwZT1kJjc7YShlLGIsdGhpcyk7dGhpcy5nYT09PWYmJnRoaXMuTHEoZCl9cmV0dXJuIGJ9LFpwOmZ1bmN0aW9uKCl7dmFyIGE9ZS5yZWFkKHRoaXMudGMsdGhpcy5nYSwhMCwyMyw0KTt0aGlzLmdhKz00O3JldHVybiBhfSxWcDpmdW5jdGlvbigpe3ZhciBhPWUucmVhZCh0aGlzLnRjLHRoaXMuZ2EsITAsNTIsOCk7dGhpcy5nYSs9ODtyZXR1cm4gYX0sVWE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy50Yzt2YXIgZD1iW3RoaXMuZ2ErK107dmFyIGU9ZCYxMjc7aWYoMTI4PmQpcmV0dXJuIGU7ZD1iW3RoaXMuZ2ErK107ZXw9KGQmMTI3KTw8NztpZigxMjg+ZClyZXR1cm4gZTtkPWJbdGhpcy5nYSsrXTtlfD0oZCYxMjcpPDwxNDtpZigxMjg+ZClyZXR1cm4gZTtkPWJbdGhpcy5nYSsrXTtlfD0oZCYxMjcpPDwyMTtpZigxMjg+ZClyZXR1cm4gZTtkPWJbdGhpcy5nYV07XG5yZXR1cm4gYyhlfChkJjE1KTw8MjgsYSx0aGlzKX0sbHE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5VYSghMCl9LFVnOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5VYSgpO3JldHVybiAxPT09YSUyPyhhKzEpLy0yOmEvMn0sVHA6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuVWEoKX0sVmc6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5VYSgpK3RoaXMuZ2EsYj10aGlzLnRjLGM9XCJcIixkPXRoaXMuZ2E7ZDxhOyl7dmFyIGU9YltkXSxuPW51bGwscD0yMzk8ZT80OjIyMzxlPzM6MTkxPGU/MjoxO2lmKGQrcD5hKWJyZWFrO2lmKDE9PT1wKTEyOD5lJiYobj1lKTtlbHNlIGlmKDI9PT1wKXt2YXIgcT1iW2QrMV07MTI4PT09KHEmMTkyKSYmKG49KGUmMzEpPDw2fHEmNjMsMTI3Pj1uJiYobj1udWxsKSl9ZWxzZSBpZigzPT09cCl7cT1iW2QrMV07dmFyIHI9YltkKzJdOzEyOD09PShxJjE5MikmJjEyOD09PShyJjE5MikmJihuPShlJjE1KTw8MTJ8KHEmNjMpPDw2fHImNjMsMjA0Nz49bnx8NTUyOTY8PVxubiYmNTczNDM+PW4pJiYobj1udWxsKX1lbHNlIGlmKDQ9PT1wKXtxPWJbZCsxXTtyPWJbZCsyXTt2YXIgdT1iW2QrM107MTI4PT09KHEmMTkyKSYmMTI4PT09KHImMTkyKSYmMTI4PT09KHUmMTkyKSYmKG49KGUmMTUpPDwxOHwocSY2Myk8PDEyfChyJjYzKTw8Nnx1JjYzLDY1NTM1Pj1ufHwxMTE0MTEyPD1uKSYmKG49bnVsbCl9bnVsbD09PW4/KG49NjU1MzMscD0xKTo2NTUzNTxuJiYobi09NjU1MzYsYys9U3RyaW5nLmZyb21DaGFyQ29kZShuPj4+MTAmMTAyM3w1NTI5Niksbj01NjMyMHxuJjEwMjMpO2MrPVN0cmluZy5mcm9tQ2hhckNvZGUobik7ZCs9cH10aGlzLmdhPWE7cmV0dXJuIGN9LExxOmZ1bmN0aW9uKGEpe2EmPTc7aWYoYT09PWIuYylmb3IoOzEyNzx0aGlzLnRjW3RoaXMuZ2ErK107KTtlbHNlIGlmKGE9PT1iLmIpdGhpcy5nYT10aGlzLlVhKCkrdGhpcy5nYTtlbHNlIGlmKGE9PT1iLmEpdGhpcy5nYSs9NDtlbHNlIGlmKGE9PT1iLmcpdGhpcy5nYSs9ODtlbHNlIHRocm93IEVycm9yKFwiVW5pbXBsZW1lbnRlZCB0eXBlOiBcIitcbmEpO319O2FbXCJkZWZhdWx0XCJdPWJ9KShyai5MZD1yai5MZHx8e30pO3JqLkxkPXJqLkxkLmRlZmF1bHQ7ZnVuY3Rpb24gaXQoYSxiLGMsZCxlKXt0aGlzLmw9ZTt0aGlzLmY9YTt0aGlzLmI9Yjt0aGlzLmE9dGhpcy5jPW51bGw7dGhpcy5nPWM7dGhpcy5qPWQ7dGhpcy5zPVdlKCl9az1pdC5wcm90b3R5cGU7ay5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMualthXX07ay5wYj1pdC5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nfTtrLkc9ZnVuY3Rpb24oKXt0aGlzLml8fCh0aGlzLmk9XCJQb2ludFwiPT09dGhpcy5mP1BhKHRoaXMuYik6UWEodGhpcy5iLDAsdGhpcy5iLmxlbmd0aCwyKSk7cmV0dXJuIHRoaXMuaX07ay5UZD1mdW5jdGlvbigpe2lmKCF0aGlzLmMpe3ZhciBhPWViKHRoaXMuRygpKTt0aGlzLmM9SWYodGhpcy5iLDAsdGhpcy5nLDIsYSwwKX1yZXR1cm4gdGhpcy5jfTtrLkZlPWZ1bmN0aW9uKCl7dGhpcy5hfHwodGhpcy5hPUtrKHRoaXMuYiwwLHRoaXMuYi5sZW5ndGgsMiwuNSkpO3JldHVybiB0aGlzLmF9O1xuay5HZT1mdW5jdGlvbigpe2lmKCF0aGlzLmEpe3RoaXMuYT1bXTtmb3IodmFyIGE9dGhpcy5iLGI9MCxjPXRoaXMuZyxkPTAsZT1jLmxlbmd0aDtkPGU7KytkKXt2YXIgZj1jW2RdO2I9S2soYSxiLGYsMiwuNSk7Z2ModGhpcy5hLGIpO2I9Zn19cmV0dXJuIHRoaXMuYX07ay5Bbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmx9O2suWGI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ifTtrLmRhPWl0LnByb3RvdHlwZS5YYjtrLlU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307ay5Cbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmp9O2suV2Q9aXQucHJvdG90eXBlLlU7ay5wYT1mdW5jdGlvbigpe3JldHVybiAyfTtrLmliPWVhO2suUz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9O2subWI9ZnVuY3Rpb24oYSl7dmFyIGI9YS5HKCk7YT1hLm9lO2I9ZGIoYSkvZGIoYik7dmFyIGM9dGhpcy5zO2VmKGMsYVswXSxhWzNdLGIsLWIsMCwwLDApO1RlKHRoaXMuYiwwLHRoaXMuYi5sZW5ndGgsMixjLHRoaXMuYil9O2Z1bmN0aW9uIGp0KGEpe0dvLmNhbGwodGhpcyk7YT1hP2E6e307dGhpcy5kZWZhdWx0RGF0YVByb2plY3Rpb249bmV3IHdiKHtjb2RlOlwiRVBTRzozODU3XCIsdW5pdHM6XCJ0aWxlLXBpeGVsc1wifSk7dGhpcy5iPWEuZmVhdHVyZUNsYXNzP2EuZmVhdHVyZUNsYXNzOml0O3RoaXMuZz1hLmdlb21ldHJ5TmFtZTt0aGlzLmY9YS5sYXllck5hbWU/YS5sYXllck5hbWU6XCJsYXllclwiO3RoaXMuYz1hLmxheWVycz9hLmxheWVyczpudWxsO3RoaXMuYT1udWxsfXcoanQsR28pO2Z1bmN0aW9uIGt0KGEsYixjKXtpZigzPT09YSl7YT17a2V5czpbXSx2YWx1ZXM6W10sZmVhdHVyZXM6W119O3ZhciBkPWMuVWEoKStjLmdhO2MuT2cobHQsYSxkKTthLmxlbmd0aD1hLmZlYXR1cmVzLmxlbmd0aDthLmxlbmd0aCYmKGJbYS5uYW1lXT1hKX19XG5mdW5jdGlvbiBsdChhLGIsYyl7aWYoMTU9PT1hKWIudmVyc2lvbj1jLlVhKCk7ZWxzZSBpZigxPT09YSliLm5hbWU9Yy5WZygpO2Vsc2UgaWYoNT09PWEpYi5leHRlbnQ9Yy5VYSgpO2Vsc2UgaWYoMj09PWEpYi5mZWF0dXJlcy5wdXNoKGMuZ2EpO2Vsc2UgaWYoMz09PWEpYi5rZXlzLnB1c2goYy5WZygpKTtlbHNlIGlmKDQ9PT1hKXthPW51bGw7Zm9yKHZhciBkPWMuVWEoKStjLmdhO2MuZ2E8ZDspYT1jLlVhKCk+PjMsYT0xPT09YT9jLlZnKCk6Mj09PWE/Yy5acCgpOjM9PT1hP2MuVnAoKTo0PT09YT9jLmxxKCk6NT09PWE/Yy5VYSgpOjY9PT1hP2MuVWcoKTo3PT09YT9jLlRwKCk6bnVsbDtiLnZhbHVlcy5wdXNoKGEpfX1cbmZ1bmN0aW9uIG10KGEsYixjKXtpZigxPT1hKWIuaWQ9Yy5VYSgpO2Vsc2UgaWYoMj09YSlmb3IoYT1jLlVhKCkrYy5nYTtjLmdhPGE7KXt2YXIgZD1iLmxheWVyLmtleXNbYy5VYSgpXSxlPWIubGF5ZXIudmFsdWVzW2MuVWEoKV07Yi5wcm9wZXJ0aWVzW2RdPWV9ZWxzZSAzPT1hP2IudHlwZT1jLlVhKCk6ND09YSYmKGIuZ2VvbWV0cnk9Yy5nYSl9XG5mdW5jdGlvbiBudChhLGIsYyl7dmFyIGQ9Yy50eXBlO2lmKDA9PT1kKXJldHVybiBudWxsO3ZhciBlPWMuaWQsZj1jLnByb3BlcnRpZXM7ZlthLmZdPWMubGF5ZXIubmFtZTt2YXIgZz1bXTt2YXIgaD1bXSxsPWg7Yi5nYT1jLmdlb21ldHJ5O2M9Yi5VYSgpK2IuZ2E7Zm9yKHZhciBtPTEsbj0wLHA9MCxxPTAscj0wLHU9MDtiLmdhPGM7KW58fChuPWIuVWEoKSxtPW4mNyxuPj49Myksbi0tLDE9PT1tfHwyPT09bT8ocCs9Yi5VZygpLHErPWIuVWcoKSwxPT09bSYmcj51JiYobC5wdXNoKHIpLHU9ciksZy5wdXNoKHAscSkscis9Mik6Nz09PW0/cj51JiYoZy5wdXNoKGdbdV0sZ1t1KzFdKSxyKz0yKTpvYSghMSw1OSk7cj51JiZsLnB1c2gocik7Yj1oLmxlbmd0aDt2YXIgdjsxPT09ZD92PTE9PT1iP1wiUG9pbnRcIjpcIk11bHRpUG9pbnRcIjoyPT09ZD92PTE9PT1iP1wiTGluZVN0cmluZ1wiOlwiTXVsdGlMaW5lU3RyaW5nXCI6Mz09PWQmJih2PVwiUG9seWdvblwiKTtkPXY7aWYoYS5iPT09aXQpZz1uZXcgYS5iKGQsXG5nLGgsZixlKTtlbHNle2lmKFwiUG9seWdvblwiPT1kKXtkPVtdO2w9Yj12PTA7Zm9yKGM9aC5sZW5ndGg7bDxjOysrbCltPWhbbF0sTWYoZyx2LG0sMil8fChkLnB1c2goaC5zbGljZShiLGwpKSxiPWwpLHY9bTsxPGQubGVuZ3RoPyhoPWQsZD1uZXcgUShudWxsKSk6ZD1uZXcgRChudWxsKX1lbHNlIGQ9XCJQb2ludFwiPT09ZD9uZXcgQyhudWxsKTpcIkxpbmVTdHJpbmdcIj09PWQ/bmV3IEkobnVsbCk6XCJQb2x5Z29uXCI9PT1kP25ldyBEKG51bGwpOlwiTXVsdGlQb2ludFwiPT09ZD9uZXcgTm8obnVsbCk6XCJNdWx0aUxpbmVTdHJpbmdcIj09PWQ/bmV3IFAobnVsbCk6bnVsbDtkLmJhKFwiWFlcIixnLGgpO2c9bmV3IGEuYjthLmcmJmcuTGMoYS5nKTthPUpvKGQsITEsSW8oYSx2b2lkIDApKTtnLlZhKGEpO2cucWMoZSk7Zy5IKGYpfXJldHVybiBnfWs9anQucHJvdG90eXBlO2suY2c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtrLlM9ZnVuY3Rpb24oKXtyZXR1cm5cImFycmF5YnVmZmVyXCJ9O1xuay5RYT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmM7YT1uZXcgcmouTGQoYSk7dmFyIGM9YS5PZyhrdCx7fSksZD1bXSxlO2ZvcihlIGluIGMpaWYoIWJ8fC0xIT1iLmluZGV4T2YoZSkpe3ZhciBmPWNbZV07Zm9yKHZhciBnLGg9MCxsPWYubGVuZ3RoO2g8bDsrK2gpe2c9YTt2YXIgbT1mO2cuZ2E9bS5mZWF0dXJlc1toXTt2YXIgbj1nLlVhKCkrZy5nYTttPXtsYXllcjptLHR5cGU6MCxwcm9wZXJ0aWVzOnt9fTtnLk9nKG10LG0sbik7Zz1tO2QucHVzaChudCh0aGlzLGEsZykpfXRoaXMuYT1mP1swLDAsZi5leHRlbnQsZi5leHRlbnRdOm51bGx9cmV0dXJuIGR9O2suc2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kZWZhdWx0RGF0YVByb2plY3Rpb259O2suU249ZnVuY3Rpb24oYSl7dGhpcy5jPWF9O2suWWI9ZnVuY3Rpb24oKXt9O2suZWQ9ZnVuY3Rpb24oKXt9O2suSmQ9ZnVuY3Rpb24oKXt9O2subWQ9ZnVuY3Rpb24oKXt9O2suYWM9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIG90KCl7V28uY2FsbCh0aGlzKTt0aGlzLmRlZmF1bHREYXRhUHJvamVjdGlvbj1PYihcIkVQU0c6NDMyNlwiKX13KG90LFdvKTtmdW5jdGlvbiBwdChhLGIpe2JbYi5sZW5ndGgtMV0ubGVbYS5nZXRBdHRyaWJ1dGUoXCJrXCIpXT1hLmdldEF0dHJpYnV0ZShcInZcIil9XG52YXIgcXQ9W251bGxdLHJ0PU4ocXQse25kOmZ1bmN0aW9uKGEsYil7YltiLmxlbmd0aC0xXS56ZC5wdXNoKGEuZ2V0QXR0cmlidXRlKFwicmVmXCIpKX0sdGFnOnB0fSksdHQ9TihxdCx7bm9kZTpmdW5jdGlvbihhLGIpe3ZhciBjPWJbMF0sZD1iW2IubGVuZ3RoLTFdLGU9YS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSxmPVtwYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKFwibG9uXCIpKSxwYXJzZUZsb2F0KGEuZ2V0QXR0cmlidXRlKFwibGF0XCIpKV07ZC5raVtlXT1mO2E9Tyh7bGU6e319LHN0LGEsYik7bmIoYS5sZSl8fChmPW5ldyBDKGYpLEpvKGYsITEsYyksYz1uZXcgSGsoZiksYy5xYyhlKSxjLkgoYS5sZSksZC5mZWF0dXJlcy5wdXNoKGMpKX0sd2F5OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGUoXCJpZFwiKTthPU8oe2lkOmMsemQ6W10sbGU6e319LHJ0LGEsYik7YltiLmxlbmd0aC0xXS5saC5wdXNoKGEpfX0pLHN0PU4ocXQse3RhZzpwdH0pO1xub3QucHJvdG90eXBlLktjPWZ1bmN0aW9uKGEsYil7Yj1Ibyh0aGlzLGEsYik7aWYoXCJvc21cIj09YS5sb2NhbE5hbWUpe2E9Tyh7a2k6e30sbGg6W10sZmVhdHVyZXM6W119LHR0LGEsW2JdKTtmb3IodmFyIGM9MDtjPGEubGgubGVuZ3RoO2MrKyl7Zm9yKHZhciBkPWEubGhbY10sZT1bXSxmPTAsZz1kLnpkLmxlbmd0aDtmPGc7ZisrKWdjKGUsYS5raVtkLnpkW2ZdXSk7ZC56ZFswXT09ZC56ZFtkLnpkLmxlbmd0aC0xXT8oZj1uZXcgRChudWxsKSxmLmJhKFwiWFlcIixlLFtlLmxlbmd0aF0pKTooZj1uZXcgSShudWxsKSxmLmJhKFwiWFlcIixlKSk7Sm8oZiwhMSxiKTtlPW5ldyBIayhmKTtlLnFjKGQuaWQpO2UuSChkLmxlKTthLmZlYXR1cmVzLnB1c2goZSl9aWYoYS5mZWF0dXJlcylyZXR1cm4gYS5mZWF0dXJlc31yZXR1cm5bXX07b3QucHJvdG90eXBlLm1oPWZ1bmN0aW9uKCl7fTtvdC5wcm90b3R5cGUuYmM9ZnVuY3Rpb24oKXt9O290LnByb3RvdHlwZS5yZT1mdW5jdGlvbigpe307ZnVuY3Rpb24gdXQoYSxiLGMsZCl7dmFyIGU7dm9pZCAwIT09ZD9lPWQ6ZT1bXTtmb3IodmFyIGY9ZD0wO2Y8Yjspe3ZhciBnPWFbZisrXTtlW2QrK109YVtmKytdO2VbZCsrXT1nO2ZvcihnPTI7ZzxjOysrZyllW2QrK109YVtmKytdfWUubGVuZ3RoPWR9O2Z1bmN0aW9uIHZ0KGEpe2E9YT9hOnt9O0dvLmNhbGwodGhpcyk7dGhpcy5kZWZhdWx0RGF0YVByb2plY3Rpb249T2IoXCJFUFNHOjQzMjZcIik7dGhpcy5iPWEuZmFjdG9yP2EuZmFjdG9yOjFFNTt0aGlzLmE9YS5nZW9tZXRyeUxheW91dD9hLmdlb21ldHJ5TGF5b3V0OlwiWFlcIn13KHZ0LFZxKTtmdW5jdGlvbiB3dChhLGIsYyl7dmFyIGQsZT1BcnJheShiKTtmb3IoZD0wO2Q8YjsrK2QpZVtkXT0wO3ZhciBmO3ZhciBnPTA7Zm9yKGY9YS5sZW5ndGg7ZzxmOylmb3IoZD0wO2Q8YjsrK2QsKytnKXt2YXIgaD1hW2ddLGw9aC1lW2RdO2VbZF09aDthW2ddPWx9cmV0dXJuIHh0KGEsYz9jOjFFNSl9ZnVuY3Rpb24geXQoYSxiLGMpe3ZhciBkLGU9QXJyYXkoYik7Zm9yKGQ9MDtkPGI7KytkKWVbZF09MDthPXp0KGEsYz9jOjFFNSk7dmFyIGY7Yz0wO2ZvcihmPWEubGVuZ3RoO2M8ZjspZm9yKGQ9MDtkPGI7KytkLCsrYyllW2RdKz1hW2NdLGFbY109ZVtkXTtyZXR1cm4gYX1cbmZ1bmN0aW9uIHh0KGEsYil7Yj1iP2I6MUU1O3ZhciBjO3ZhciBkPTA7Zm9yKGM9YS5sZW5ndGg7ZDxjOysrZClhW2RdPU1hdGgucm91bmQoYVtkXSpiKTtiPTA7Zm9yKGQ9YS5sZW5ndGg7YjxkOysrYiljPWFbYl0sYVtiXT0wPmM/fihjPDwxKTpjPDwxO2I9XCJcIjtkPTA7Zm9yKGM9YS5sZW5ndGg7ZDxjOysrZCl7Zm9yKHZhciBlLGY9YVtkXSxnPVwiXCI7MzI8PWY7KWU9KDMyfGYmMzEpKzYzLGcrPVN0cmluZy5mcm9tQ2hhckNvZGUoZSksZj4+PTU7Zys9U3RyaW5nLmZyb21DaGFyQ29kZShmKzYzKTtiKz1nfXJldHVybiBifVxuZnVuY3Rpb24genQoYSxiKXtiPWI/YjoxRTU7dmFyIGM9W10sZD0wLGU9MCxmO3ZhciBnPTA7Zm9yKGY9YS5sZW5ndGg7ZzxmOysrZyl7dmFyIGg9YS5jaGFyQ29kZUF0KGcpLTYzO2R8PShoJjMxKTw8ZTszMj5oPyhjLnB1c2goZCksZT1kPTApOmUrPTV9YT0wO2ZvcihkPWMubGVuZ3RoO2E8ZDsrK2EpZT1jW2FdLGNbYV09ZSYxP34oZT4+MSk6ZT4+MTthPTA7Zm9yKGQ9Yy5sZW5ndGg7YTxkOysrYSljW2FdLz1iO3JldHVybiBjfWs9dnQucHJvdG90eXBlO2suZmU9ZnVuY3Rpb24oYSxiKXthPXRoaXMuR2QoYSxiKTtyZXR1cm4gbmV3IEhrKGEpfTtrLk5nPWZ1bmN0aW9uKGEsYil7cmV0dXJuW3RoaXMuZmUoYSxiKV19O2suR2Q9ZnVuY3Rpb24oYSxiKXt2YXIgYz1qZih0aGlzLmEpO2E9eXQoYSxjLHRoaXMuYik7dXQoYSxhLmxlbmd0aCxjLGEpO2M9eWYoYSwwLGEubGVuZ3RoLGMpO3JldHVybiBKbyhuZXcgSShjLHRoaXMuYSksITEsSW8odGhpcyxiKSl9O1xuay5wZT1mdW5jdGlvbihhLGIpe2lmKGE9YS5VKCkpcmV0dXJuIHRoaXMuS2QoYSxiKTtvYSghMSw0MCk7cmV0dXJuXCJcIn07ay5uaD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnBlKGFbMF0sYil9O2suS2Q9ZnVuY3Rpb24oYSxiKXthPUpvKGEsITAsSW8odGhpcyxiKSk7Yj1hLmRhKCk7YT1hLnBhKCk7dXQoYixiLmxlbmd0aCxhLGIpO3JldHVybiB3dChiLGEsdGhpcy5iKX07ZnVuY3Rpb24gQXQoYSl7YT1hP2E6e307R28uY2FsbCh0aGlzKTt0aGlzLmE9YS5sYXllck5hbWU7dGhpcy5iPWEubGF5ZXJzP2EubGF5ZXJzOm51bGw7dGhpcy5kZWZhdWx0RGF0YVByb2plY3Rpb249T2IoYS5kZWZhdWx0RGF0YVByb2plY3Rpb24/YS5kZWZhdWx0RGF0YVByb2plY3Rpb246XCJFUFNHOjQzMjZcIil9dyhBdCxLbyk7ZnVuY3Rpb24gQnQoYSxiKXt2YXIgYz1bXSxkLGU7dmFyIGY9MDtmb3IoZT1hLmxlbmd0aDtmPGU7KytmKXt2YXIgZz1hW2ZdOzA8ZiYmYy5wb3AoKTswPD1nP2Q9YltnXTpkPWJbfmddLnNsaWNlKCkucmV2ZXJzZSgpO2MucHVzaC5hcHBseShjLGQpfWE9MDtmb3IoYj1jLmxlbmd0aDthPGI7KythKWNbYV09Y1thXS5zbGljZSgpO3JldHVybiBjfVxuZnVuY3Rpb24gQ3QoYSxiLGMsZCxlLGYsZyl7YT1hLmdlb21ldHJpZXM7dmFyIGg9W10sbDt2YXIgbT0wO2ZvcihsPWEubGVuZ3RoO208bDsrK20paFttXT1EdChhW21dLGIsYyxkLGUsZixnKTtyZXR1cm4gaH1mdW5jdGlvbiBEdChhLGIsYyxkLGUsZixnKXt2YXIgaD1hLnR5cGUsbD1FdFtoXTtjPVwiUG9pbnRcIj09PWh8fFwiTXVsdGlQb2ludFwiPT09aD9sKGEsYyxkKTpsKGEsYik7Yj1uZXcgSGs7Yi5WYShKbyhjLCExLGcpKTt2b2lkIDAhPT1hLmlkJiZiLnFjKGEuaWQpO2E9YS5wcm9wZXJ0aWVzO2UmJihhfHwoYT17fSksYVtlXT1mKTthJiZiLkgoYSk7cmV0dXJuIGJ9XG5BdC5wcm90b3R5cGUuTWc9ZnVuY3Rpb24oYSxiKXtpZihcIlRvcG9sb2d5XCI9PWEudHlwZSl7dmFyIGM9bnVsbCxkPW51bGw7aWYoYS50cmFuc2Zvcm0pe3ZhciBlPWEudHJhbnNmb3JtO2M9ZS5zY2FsZTtkPWUudHJhbnNsYXRlfXZhciBmPWEuYXJjcztpZihlKXtlPWM7dmFyIGc9ZCxoO3ZhciBsPTA7Zm9yKGg9Zi5sZW5ndGg7bDxoOysrbCl7dmFyIG0sbj1mW2xdLHA9ZSxxPWcscj0wLHU9MDt2YXIgdj0wO2ZvcihtPW4ubGVuZ3RoO3Y8bTsrK3Ype3ZhciB6PW5bdl07cis9elswXTt1Kz16WzFdO3pbMF09cjt6WzFdPXU7RnQoeixwLHEpfX19ZT1bXTthPWEub2JqZWN0cztnPXRoaXMuYTtmb3IodmFyIEEgaW4gYSl0aGlzLmImJi0xPT10aGlzLmIuaW5kZXhPZihBKXx8KFwiR2VvbWV0cnlDb2xsZWN0aW9uXCI9PT1hW0FdLnR5cGU/KGw9YVtBXSxlLnB1c2guYXBwbHkoZSxDdChsLGYsYyxkLGcsQSxiKSkpOihsPWFbQV0sZS5wdXNoKER0KGwsZixjLGQsZyxBLGIpKSkpO3JldHVybiBlfXJldHVybltdfTtcbmZ1bmN0aW9uIEZ0KGEsYixjKXthWzBdPWFbMF0qYlswXStjWzBdO2FbMV09YVsxXSpiWzFdK2NbMV19QXQucHJvdG90eXBlLlRnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVmYXVsdERhdGFQcm9qZWN0aW9ufTtcbnZhciBFdD17UG9pbnQ6ZnVuY3Rpb24oYSxiLGMpe2E9YS5jb29yZGluYXRlcztiJiZjJiZGdChhLGIsYyk7cmV0dXJuIG5ldyBDKGEpfSxMaW5lU3RyaW5nOmZ1bmN0aW9uKGEsYil7YT1CdChhLmFyY3MsYik7cmV0dXJuIG5ldyBJKGEpfSxQb2x5Z29uOmZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZDt2YXIgZT0wO2ZvcihkPWEuYXJjcy5sZW5ndGg7ZTxkOysrZSljW2VdPUJ0KGEuYXJjc1tlXSxiKTtyZXR1cm4gbmV3IEQoYyl9LE11bHRpUG9pbnQ6ZnVuY3Rpb24oYSxiLGMpe2E9YS5jb29yZGluYXRlczt2YXIgZDtpZihiJiZjKXt2YXIgZT0wO2ZvcihkPWEubGVuZ3RoO2U8ZDsrK2UpRnQoYVtlXSxiLGMpfXJldHVybiBuZXcgTm8oYSl9LE11bHRpTGluZVN0cmluZzpmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ7dmFyIGU9MDtmb3IoZD1hLmFyY3MubGVuZ3RoO2U8ZDsrK2UpY1tlXT1CdChhLmFyY3NbZV0sYik7cmV0dXJuIG5ldyBQKGMpfSxNdWx0aVBvbHlnb246ZnVuY3Rpb24oYSxcbmIpe3ZhciBjPVtdLGQsZTt2YXIgZj0wO2ZvcihlPWEuYXJjcy5sZW5ndGg7ZjxlOysrZil7dmFyIGc9YS5hcmNzW2ZdO3ZhciBoPVtdO3ZhciBsPTA7Zm9yKGQ9Zy5sZW5ndGg7bDxkOysrbCloW2xdPUJ0KGdbbF0sYik7Y1tmXT1ofXJldHVybiBuZXcgUShjKX19O2s9QXQucHJvdG90eXBlO2subGQ9ZnVuY3Rpb24oKXt9O2sucWU9ZnVuY3Rpb24oKXt9O2suc2U9ZnVuY3Rpb24oKXt9O2suUWc9ZnVuY3Rpb24oKXt9O2suZGQ9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIEd0KGEpe3RoaXMucmM9YX07ZnVuY3Rpb24gSHQoYSxiKXt0aGlzLnJjPWE7dGhpcy5iPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtvYSgyPD10aGlzLmIubGVuZ3RoLDU3KX13KEh0LEd0KTtmdW5jdGlvbiBJdChhKXt2YXIgYj1bXCJBbmRcIl0uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO0h0LmFwcGx5KHRoaXMsYil9dyhJdCxIdCk7ZnVuY3Rpb24gSnQoYSxiLGMpe3RoaXMucmM9XCJCQk9YXCI7dGhpcy5nZW9tZXRyeU5hbWU9YTt0aGlzLmV4dGVudD1iO3RoaXMuc3JzTmFtZT1jfXcoSnQsR3QpO2Z1bmN0aW9uIEt0KGEsYixjLGQpe3RoaXMucmM9YTt0aGlzLmdlb21ldHJ5TmFtZT1ifHxcInRoZV9nZW9tXCI7dGhpcy5nZW9tZXRyeT1jO3RoaXMuc3JzTmFtZT1kfXcoS3QsR3QpO2Z1bmN0aW9uIEx0KGEsYixjKXtLdC5jYWxsKHRoaXMsXCJDb250YWluc1wiLGEsYixjKX13KEx0LEt0KTtmdW5jdGlvbiBNdChhLGIpe3RoaXMucmM9YTt0aGlzLmI9Yn13KE10LEd0KTtmdW5jdGlvbiBOdChhLGIsYyl7TXQuY2FsbCh0aGlzLFwiRHVyaW5nXCIsYSk7dGhpcy5hPWI7dGhpcy5nPWN9dyhOdCxNdCk7ZnVuY3Rpb24gT3QoYSxiLGMsZCl7TXQuY2FsbCh0aGlzLGEsYik7dGhpcy5nPWM7dGhpcy5hPWR9dyhPdCxNdCk7ZnVuY3Rpb24gUHQoYSxiLGMpe090LmNhbGwodGhpcyxcIlByb3BlcnR5SXNFcXVhbFRvXCIsYSxiLGMpfXcoUHQsT3QpO2Z1bmN0aW9uIFF0KGEsYil7T3QuY2FsbCh0aGlzLFwiUHJvcGVydHlJc0dyZWF0ZXJUaGFuXCIsYSxiKX13KFF0LE90KTtmdW5jdGlvbiBSdChhLGIpe090LmNhbGwodGhpcyxcIlByb3BlcnR5SXNHcmVhdGVyVGhhbk9yRXF1YWxUb1wiLGEsYil9dyhSdCxPdCk7ZnVuY3Rpb24gU3QoYSxiLGMpe0t0LmNhbGwodGhpcyxcIkludGVyc2VjdHNcIixhLGIsYyl9dyhTdCxLdCk7ZnVuY3Rpb24gVHQoYSxiLGMpe010LmNhbGwodGhpcyxcIlByb3BlcnR5SXNCZXR3ZWVuXCIsYSk7dGhpcy5hPWI7dGhpcy5nPWN9dyhUdCxNdCk7ZnVuY3Rpb24gVXQoYSxiLGMsZCxlLGYpe010LmNhbGwodGhpcyxcIlByb3BlcnR5SXNMaWtlXCIsYSk7dGhpcy5jPWI7dGhpcy5mPXZvaWQgMCE9PWM/YzpcIipcIjt0aGlzLmk9dm9pZCAwIT09ZD9kOlwiLlwiO3RoaXMuZz12b2lkIDAhPT1lP2U6XCIhXCI7dGhpcy5hPWZ9dyhVdCxNdCk7ZnVuY3Rpb24gVnQoYSl7TXQuY2FsbCh0aGlzLFwiUHJvcGVydHlJc051bGxcIixhKX13KFZ0LE10KTtmdW5jdGlvbiBXdChhLGIpe090LmNhbGwodGhpcyxcIlByb3BlcnR5SXNMZXNzVGhhblwiLGEsYil9dyhXdCxPdCk7ZnVuY3Rpb24gWHQoYSxiKXtPdC5jYWxsKHRoaXMsXCJQcm9wZXJ0eUlzTGVzc1RoYW5PckVxdWFsVG9cIixhLGIpfXcoWHQsT3QpO2Z1bmN0aW9uIFl0KGEpe3RoaXMucmM9XCJOb3RcIjt0aGlzLmNvbmRpdGlvbj1hfXcoWXQsR3QpO2Z1bmN0aW9uIFp0KGEsYixjKXtPdC5jYWxsKHRoaXMsXCJQcm9wZXJ0eUlzTm90RXF1YWxUb1wiLGEsYixjKX13KFp0LE90KTtmdW5jdGlvbiAkdChhKXt2YXIgYj1bXCJPclwiXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7SHQuYXBwbHkodGhpcyxiKX13KCR0LEh0KTtmdW5jdGlvbiBhdShhLGIsYyl7S3QuY2FsbCh0aGlzLFwiV2l0aGluXCIsYSxiLGMpfXcoYXUsS3QpO2Z1bmN0aW9uIGJ1KGEpe3ZhciBiPVtudWxsXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7cmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoSXQsYikpfWZ1bmN0aW9uIGN1KGEsYixjKXtyZXR1cm4gbmV3IEp0KGEsYixjKX07ZnVuY3Rpb24gZHUoYSl7YT1hP2E6e307dGhpcy5jPWEuZmVhdHVyZVR5cGU7dGhpcy5hPWEuZmVhdHVyZU5TO3RoaXMuYj1hLmdtbEZvcm1hdD9hLmdtbEZvcm1hdDpuZXcgS3A7dGhpcy5sPWEuc2NoZW1hTG9jYXRpb24/YS5zY2hlbWFMb2NhdGlvbjpldVtcIjEuMS4wXCJdO1dvLmNhbGwodGhpcyl9dyhkdSxXbyk7dmFyIGV1PXtcIjEuMS4wXCI6XCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3dmcyBodHRwOi8vc2NoZW1hcy5vcGVuZ2lzLm5ldC93ZnMvMS4xLjAvd2ZzLnhzZFwiLFwiMS4wLjBcIjpcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvd2ZzIGh0dHA6Ly9zY2hlbWFzLm9wZW5naXMubmV0L3dmcy8xLjAuMC93ZnMueHNkXCJ9O1xuZHUucHJvdG90eXBlLktjPWZ1bmN0aW9uKGEsYil7dmFyIGM9e2ZlYXR1cmVUeXBlOnRoaXMuYyxmZWF0dXJlTlM6dGhpcy5hfTtrYihjLEhvKHRoaXMsYSxiP2I6e30pKTtiPVtjXTt0aGlzLmIuYltcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCJdLmZlYXR1cmVNZW1iZXI9dW8oWm8ucHJvdG90eXBlLmdlKTsoYT1PKFtdLHRoaXMuYi5iLGEsYix0aGlzLmIpKXx8KGE9W10pO3JldHVybiBhfTtkdS5wcm90b3R5cGUuaj1mdW5jdGlvbihhKXtpZihxbyhhKSlyZXR1cm4gZnUoYSk7aWYocm8oYSkpcmV0dXJuIE8oe30sZ3UsYSxbXSk7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBhKXJldHVybiBhPXNvKGEpLGZ1KGEpfTtkdS5wcm90b3R5cGUuZj1mdW5jdGlvbihhKXtpZihxbyhhKSlyZXR1cm4gaHUodGhpcyxhKTtpZihybyhhKSlyZXR1cm4gaXUodGhpcyxhKTtpZihcInN0cmluZ1wiPT09dHlwZW9mIGEpcmV0dXJuIGE9c28oYSksaHUodGhpcyxhKX07XG5mdW5jdGlvbiBodShhLGIpe2ZvcihiPWIuZmlyc3RDaGlsZDtiO2I9Yi5uZXh0U2libGluZylpZihiLm5vZGVUeXBlPT1Ob2RlLkVMRU1FTlRfTk9ERSlyZXR1cm4gaXUoYSxiKX12YXIganU9e1wiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcIjp7Ym91bmRlZEJ5OkwoWm8ucHJvdG90eXBlLnJmLFwiYm91bmRzXCIpfX07ZnVuY3Rpb24gaXUoYSxiKXt2YXIgYz17fSxkPWdwKGIuZ2V0QXR0cmlidXRlKFwibnVtYmVyT2ZGZWF0dXJlc1wiKSk7Yy5udW1iZXJPZkZlYXR1cmVzPWQ7cmV0dXJuIE8oYyxqdSxiLFtdLGEuYil9XG52YXIga3U9e1wiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC93ZnNcIjp7dG90YWxJbnNlcnRlZDpMKGZwKSx0b3RhbFVwZGF0ZWQ6TChmcCksdG90YWxEZWxldGVkOkwoZnApfX0sbHU9e1wiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vZ2NcIjp7RmVhdHVyZUlkOnVvKGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZShcImZpZFwiKX0pfX0sbXU9e1wiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC93ZnNcIjp7RmVhdHVyZTpmdW5jdGlvbihhLGIpe0NvKGx1LGEsYil9fX0sZ3U9e1wiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC93ZnNcIjp7VHJhbnNhY3Rpb25TdW1tYXJ5OkwoZnVuY3Rpb24oYSxiKXtyZXR1cm4gTyh7fSxrdSxhLGIpfSxcInRyYW5zYWN0aW9uU3VtbWFyeVwiKSxJbnNlcnRSZXN1bHRzOkwoZnVuY3Rpb24oYSxiKXtyZXR1cm4gTyhbXSxtdSxhLGIpfSxcImluc2VydElkc1wiKX19O1xuZnVuY3Rpb24gZnUoYSl7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWlmKGEubm9kZVR5cGU9PU5vZGUuRUxFTUVOVF9OT0RFKXJldHVybiBPKHt9LGd1LGEsW10pfXZhciBudT17XCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L3dmc1wiOntQcm9wZXJ0eU5hbWU6TShpcCl9fTtmdW5jdGlvbiBvdShhLGIpe3ZhciBjPW5vKFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vZ2NcIixcIkZpbHRlclwiKSxkPW5vKFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vZ2NcIixcIkZlYXR1cmVJZFwiKTtjLmFwcGVuZENoaWxkKGQpO2Quc2V0QXR0cmlidXRlKFwiZmlkXCIsYik7YS5hcHBlbmRDaGlsZChjKX1mdW5jdGlvbiBwdShhLGIpe2E9KGE/YTpcImZlYXR1cmVcIikrXCI6XCI7cmV0dXJuIDA9PT1iLmluZGV4T2YoYSk/YjphK2J9XG52YXIgcXU9e1wiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC93ZnNcIjp7SW5zZXJ0Ok0oZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWNbYy5sZW5ndGgtMV0sZT1kLmdtbFZlcnNpb247ZD1ubyhkLmZlYXR1cmVOUyxkLmZlYXR1cmVUeXBlKTthLmFwcGVuZENoaWxkKGQpO2lmKDI9PT1lKXthPVRwLnByb3RvdHlwZTsoZT1iLmMpJiZkLnNldEF0dHJpYnV0ZShcImZpZFwiLGUpO2U9Y1tjLmxlbmd0aC0xXTt2YXIgZj1lLmZlYXR1cmVOUyxnPWIuYTtlLnRifHwoZS50Yj17fSxlLnRiW2ZdPXt9KTt2YXIgaD1iLkwoKTtiPVtdO3ZhciBsPVtdO2ZvcihuIGluIGgpe3ZhciBtPWhbbl07bnVsbCE9PW0mJihiLnB1c2gobiksbC5wdXNoKG0pLG49PWd8fG0gaW5zdGFuY2VvZiBnZj9uIGluIGUudGJbZl18fChlLnRiW2ZdW25dPU0oYS51aSxhKSk6biBpbiBlLnRiW2ZdfHwoZS50YltmXVtuXT1NKGlwKSkpfXZhciBuPWtiKHt9LGUpO24ubm9kZT1kO0RvKG4sZS50Yix5byh2b2lkIDAsZiksbCxjLGIpfWVsc2UgS3AucHJvdG90eXBlLkNpKGQsXG5iLGMpfSksVXBkYXRlOk0oZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWNbYy5sZW5ndGgtMV07b2Eodm9pZCAwIT09Yi5jLDI3KTt2YXIgZT1kLmZlYXR1cmVQcmVmaXgsZj1kLmZlYXR1cmVOUyxnPWIuYTthLnNldEF0dHJpYnV0ZShcInR5cGVOYW1lXCIscHUoZSxkLmZlYXR1cmVUeXBlKSk7YS5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvXCIsXCJ4bWxuczpcIitlLGYpO2U9Yi5jO2lmKHZvaWQgMCE9PWUpe2Y9Yi5QKCk7Zm9yKHZhciBoPVtdLGw9MCxtPWYubGVuZ3RoO2w8bTtsKyspe3ZhciBuPWIuZ2V0KGZbbF0pO2lmKHZvaWQgMCE9PW4pe3ZhciBwPWZbbF07biBpbnN0YW5jZW9mIGdmJiYocD1nKTtoLnB1c2goe25hbWU6cCx2YWx1ZTpufSl9fURvKHtnbWxWZXJzaW9uOmQuZ21sVmVyc2lvbixub2RlOmEsaGFzWjpkLmhhc1osc3JzTmFtZTpkLnNyc05hbWV9LHF1LHlvKFwiUHJvcGVydHlcIiksaCxjKTtvdShhLGUpfX0pLERlbGV0ZTpNKGZ1bmN0aW9uKGEsXG5iLGMpe2M9Y1tjLmxlbmd0aC0xXTtvYSh2b2lkIDAhPT1iLmMsMjYpO3ZhciBkPWMuZmVhdHVyZVByZWZpeCxlPWMuZmVhdHVyZU5TO2Euc2V0QXR0cmlidXRlKFwidHlwZU5hbWVcIixwdShkLGMuZmVhdHVyZVR5cGUpKTthLnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy9cIixcInhtbG5zOlwiK2QsZSk7Yj1iLmM7dm9pZCAwIT09YiYmb3UoYSxiKX0pLFByb3BlcnR5Ok0oZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW5vKFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC93ZnNcIixcIk5hbWVcIiksZT1jW2MubGVuZ3RoLTFdLmdtbFZlcnNpb247YS5hcHBlbmRDaGlsZChkKTtpcChkLGIubmFtZSk7dm9pZCAwIT09Yi52YWx1ZSYmbnVsbCE9PWIudmFsdWUmJihkPW5vKFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC93ZnNcIixcIlZhbHVlXCIpLGEuYXBwZW5kQ2hpbGQoZCksYi52YWx1ZSBpbnN0YW5jZW9mIGdmPzI9PT1lP1RwLnByb3RvdHlwZS51aShkLGIudmFsdWUsYyk6S3AucHJvdG90eXBlLlljKGQsXG5iLnZhbHVlLGMpOmlwKGQsYi52YWx1ZSkpfSksTmF0aXZlOk0oZnVuY3Rpb24oYSxiKXtiLlVxJiZhLnNldEF0dHJpYnV0ZShcInZlbmRvcklkXCIsYi5VcSk7dm9pZCAwIT09Yi5xcSYmYS5zZXRBdHRyaWJ1dGUoXCJzYWZlVG9JZ25vcmVcIixiLnFxKTt2b2lkIDAhPT1iLnZhbHVlJiZpcChhLGIudmFsdWUpfSl9fTtmdW5jdGlvbiBydShhLGIsYyl7YT17bm9kZTphfTtiPWIuYjtmb3IodmFyIGQ9MCxlPWIubGVuZ3RoO2Q8ZTsrK2Qpe3ZhciBmPWJbZF07RG8oYSxzdSx5byhmLnJjKSxbZl0sYyl9fWZ1bmN0aW9uIHR1KGEsYil7dm9pZCAwIT09Yi5hJiZhLnNldEF0dHJpYnV0ZShcIm1hdGNoQ2FzZVwiLGIuYS50b1N0cmluZygpKTt1dShhLGIuYik7dnUoYSxcIlwiK2IuZyl9ZnVuY3Rpb24gd3UoYSxiLGMpe2E9bm8oXCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L29nY1wiLGEpO2lwKGEsYyk7Yi5hcHBlbmRDaGlsZChhKX1mdW5jdGlvbiB1dShhLGIpe3d1KFwiUHJvcGVydHlOYW1lXCIsYSxiKX1cbmZ1bmN0aW9uIHZ1KGEsYil7d3UoXCJMaXRlcmFsXCIsYSxiKX1mdW5jdGlvbiB4dShhLGIpe3ZhciBjPW5vKFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9nbWxcIixcIlRpbWVJbnN0YW50XCIpO2EuYXBwZW5kQ2hpbGQoYyk7YT1ubyhcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCIsXCJ0aW1lUG9zaXRpb25cIik7Yy5hcHBlbmRDaGlsZChhKTtpcChhLGIpfVxudmFyIHN1PXtcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvd2ZzXCI6e1F1ZXJ5Ok0oZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWNbYy5sZW5ndGgtMV0sZT1kLmZlYXR1cmVQcmVmaXgsZj1kLmZlYXR1cmVOUyxnPWQucHJvcGVydHlOYW1lcyxoPWQuc3JzTmFtZTthLnNldEF0dHJpYnV0ZShcInR5cGVOYW1lXCIsZT9wdShlLGIpOmIpO2gmJmEuc2V0QXR0cmlidXRlKFwic3JzTmFtZVwiLGgpO2YmJmEuc2V0QXR0cmlidXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zL1wiLFwieG1sbnM6XCIrZSxmKTtiPWtiKHt9LGQpO2Iubm9kZT1hO0RvKGIsbnUseW8oXCJQcm9wZXJ0eU5hbWVcIiksZyxjKTtpZihkPWQuZmlsdGVyKWc9bm8oXCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L29nY1wiLFwiRmlsdGVyXCIpLGEuYXBwZW5kQ2hpbGQoZyksRG8oe25vZGU6Z30sc3UseW8oZC5yYyksW2RdLGMpfSl9LFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vZ2NcIjp7RHVyaW5nOk0oZnVuY3Rpb24oYSxiKXt2YXIgYz1ubyhcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZmVzXCIsXG5cIlZhbHVlUmVmZXJlbmNlXCIpO2lwKGMsYi5iKTthLmFwcGVuZENoaWxkKGMpO2M9bm8oXCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbFwiLFwiVGltZVBlcmlvZFwiKTthLmFwcGVuZENoaWxkKGMpO2E9bm8oXCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L2dtbFwiLFwiYmVnaW5cIik7Yy5hcHBlbmRDaGlsZChhKTt4dShhLGIuYSk7YT1ubyhcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZ21sXCIsXCJlbmRcIik7Yy5hcHBlbmRDaGlsZChhKTt4dShhLGIuZyl9KSxBbmQ6TShydSksT3I6TShydSksTm90Ok0oZnVuY3Rpb24oYSxiLGMpe2I9Yi5jb25kaXRpb247RG8oe25vZGU6YX0sc3UseW8oYi5yYyksW2JdLGMpfSksQkJPWDpNKGZ1bmN0aW9uKGEsYixjKXtjW2MubGVuZ3RoLTFdLnNyc05hbWU9Yi5zcnNOYW1lO3V1KGEsYi5nZW9tZXRyeU5hbWUpO0twLnByb3RvdHlwZS5ZYyhhLGIuZXh0ZW50LGMpfSksQ29udGFpbnM6TShmdW5jdGlvbihhLGIsYyl7Y1tjLmxlbmd0aC0xXS5zcnNOYW1lPWIuc3JzTmFtZTtcbnV1KGEsYi5nZW9tZXRyeU5hbWUpO0twLnByb3RvdHlwZS5ZYyhhLGIuZ2VvbWV0cnksYyl9KSxJbnRlcnNlY3RzOk0oZnVuY3Rpb24oYSxiLGMpe2NbYy5sZW5ndGgtMV0uc3JzTmFtZT1iLnNyc05hbWU7dXUoYSxiLmdlb21ldHJ5TmFtZSk7S3AucHJvdG90eXBlLlljKGEsYi5nZW9tZXRyeSxjKX0pLFdpdGhpbjpNKGZ1bmN0aW9uKGEsYixjKXtjW2MubGVuZ3RoLTFdLnNyc05hbWU9Yi5zcnNOYW1lO3V1KGEsYi5nZW9tZXRyeU5hbWUpO0twLnByb3RvdHlwZS5ZYyhhLGIuZ2VvbWV0cnksYyl9KSxQcm9wZXJ0eUlzRXF1YWxUbzpNKHR1KSxQcm9wZXJ0eUlzTm90RXF1YWxUbzpNKHR1KSxQcm9wZXJ0eUlzTGVzc1RoYW46TSh0dSksUHJvcGVydHlJc0xlc3NUaGFuT3JFcXVhbFRvOk0odHUpLFByb3BlcnR5SXNHcmVhdGVyVGhhbjpNKHR1KSxQcm9wZXJ0eUlzR3JlYXRlclRoYW5PckVxdWFsVG86TSh0dSksUHJvcGVydHlJc051bGw6TShmdW5jdGlvbihhLGIpe3V1KGEsYi5iKX0pLFxuUHJvcGVydHlJc0JldHdlZW46TShmdW5jdGlvbihhLGIpe3V1KGEsYi5iKTt2YXIgYz1ubyhcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvb2djXCIsXCJMb3dlckJvdW5kYXJ5XCIpO2EuYXBwZW5kQ2hpbGQoYyk7dnUoYyxcIlwiK2IuYSk7Yz1ubyhcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvb2djXCIsXCJVcHBlckJvdW5kYXJ5XCIpO2EuYXBwZW5kQ2hpbGQoYyk7dnUoYyxcIlwiK2IuZyl9KSxQcm9wZXJ0eUlzTGlrZTpNKGZ1bmN0aW9uKGEsYil7YS5zZXRBdHRyaWJ1dGUoXCJ3aWxkQ2FyZFwiLGIuZik7YS5zZXRBdHRyaWJ1dGUoXCJzaW5nbGVDaGFyXCIsYi5pKTthLnNldEF0dHJpYnV0ZShcImVzY2FwZUNoYXJcIixiLmcpO3ZvaWQgMCE9PWIuYSYmYS5zZXRBdHRyaWJ1dGUoXCJtYXRjaENhc2VcIixiLmEudG9TdHJpbmcoKSk7dXUoYSxiLmIpO3Z1KGEsXCJcIitiLmMpfSl9fTtcbmR1LnByb3RvdHlwZS5zPWZ1bmN0aW9uKGEpe3ZhciBiPW5vKFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC93ZnNcIixcIkdldEZlYXR1cmVcIik7Yi5zZXRBdHRyaWJ1dGUoXCJzZXJ2aWNlXCIsXCJXRlNcIik7Yi5zZXRBdHRyaWJ1dGUoXCJ2ZXJzaW9uXCIsXCIxLjEuMFwiKTtpZihhKXthLmhhbmRsZSYmYi5zZXRBdHRyaWJ1dGUoXCJoYW5kbGVcIixhLmhhbmRsZSk7YS5vdXRwdXRGb3JtYXQmJmIuc2V0QXR0cmlidXRlKFwib3V0cHV0Rm9ybWF0XCIsYS5vdXRwdXRGb3JtYXQpO3ZvaWQgMCE9PWEubWF4RmVhdHVyZXMmJmIuc2V0QXR0cmlidXRlKFwibWF4RmVhdHVyZXNcIixhLm1heEZlYXR1cmVzKTthLnJlc3VsdFR5cGUmJmIuc2V0QXR0cmlidXRlKFwicmVzdWx0VHlwZVwiLGEucmVzdWx0VHlwZSk7dm9pZCAwIT09YS5zdGFydEluZGV4JiZiLnNldEF0dHJpYnV0ZShcInN0YXJ0SW5kZXhcIixhLnN0YXJ0SW5kZXgpO3ZvaWQgMCE9PWEuY291bnQmJmIuc2V0QXR0cmlidXRlKFwiY291bnRcIixhLmNvdW50KTt2YXIgYz1cbmEuZmlsdGVyO2lmKGEuYmJveCl7b2EoYS5nZW9tZXRyeU5hbWUsMTIpO3ZhciBkPWN1KGEuZ2VvbWV0cnlOYW1lLGEuYmJveCxhLnNyc05hbWUpO2M/Yz1idShjLGQpOmM9ZH19Yi5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlXCIsXCJ4c2k6c2NoZW1hTG9jYXRpb25cIix0aGlzLmwpO2M9e25vZGU6YixzcnNOYW1lOmEuc3JzTmFtZSxmZWF0dXJlTlM6YS5mZWF0dXJlTlM/YS5mZWF0dXJlTlM6dGhpcy5hLGZlYXR1cmVQcmVmaXg6YS5mZWF0dXJlUHJlZml4LGdlb21ldHJ5TmFtZTphLmdlb21ldHJ5TmFtZSxmaWx0ZXI6Yyxwcm9wZXJ0eU5hbWVzOmEucHJvcGVydHlOYW1lcz9hLnByb3BlcnR5TmFtZXM6W119O29hKEFycmF5LmlzQXJyYXkoYS5mZWF0dXJlVHlwZXMpLDExKTthPWEuZmVhdHVyZVR5cGVzO2M9W2NdO2Q9a2Ioe30sY1tjLmxlbmd0aC0xXSk7ZC5ub2RlPWI7RG8oZCxzdSx5byhcIlF1ZXJ5XCIpLGEsYyk7cmV0dXJuIGJ9O1xuZHUucHJvdG90eXBlLnY9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9W10sZj1ubyhcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvd2ZzXCIsXCJUcmFuc2FjdGlvblwiKSxnPWQudmVyc2lvbj9kLnZlcnNpb246XCIxLjEuMFwiLGg9XCIxLjAuMFwiPT09Zz8yOjM7Zi5zZXRBdHRyaWJ1dGUoXCJzZXJ2aWNlXCIsXCJXRlNcIik7Zi5zZXRBdHRyaWJ1dGUoXCJ2ZXJzaW9uXCIsZyk7aWYoZCl7dmFyIGw9ZC5nbWxPcHRpb25zP2QuZ21sT3B0aW9uczp7fTtkLmhhbmRsZSYmZi5zZXRBdHRyaWJ1dGUoXCJoYW5kbGVcIixkLmhhbmRsZSl9Zi5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hLWluc3RhbmNlXCIsXCJ4c2k6c2NoZW1hTG9jYXRpb25cIixldVtnXSk7dmFyIG09ZC5mZWF0dXJlUHJlZml4P2QuZmVhdHVyZVByZWZpeDpcImZlYXR1cmVcIjthJiYoZz17bm9kZTpmLGZlYXR1cmVOUzpkLmZlYXR1cmVOUyxmZWF0dXJlVHlwZTpkLmZlYXR1cmVUeXBlLGZlYXR1cmVQcmVmaXg6bSxnbWxWZXJzaW9uOmgsXG5oYXNaOmQuaGFzWixzcnNOYW1lOmQuc3JzTmFtZX0sa2IoZyxsKSxEbyhnLHF1LHlvKFwiSW5zZXJ0XCIpLGEsZSkpO2ImJihnPXtub2RlOmYsZmVhdHVyZU5TOmQuZmVhdHVyZU5TLGZlYXR1cmVUeXBlOmQuZmVhdHVyZVR5cGUsZmVhdHVyZVByZWZpeDptLGdtbFZlcnNpb246aCxoYXNaOmQuaGFzWixzcnNOYW1lOmQuc3JzTmFtZX0sa2IoZyxsKSxEbyhnLHF1LHlvKFwiVXBkYXRlXCIpLGIsZSkpO2MmJkRvKHtub2RlOmYsZmVhdHVyZU5TOmQuZmVhdHVyZU5TLGZlYXR1cmVUeXBlOmQuZmVhdHVyZVR5cGUsZmVhdHVyZVByZWZpeDptLGdtbFZlcnNpb246aCxzcnNOYW1lOmQuc3JzTmFtZX0scXUseW8oXCJEZWxldGVcIiksYyxlKTtkLm5hdGl2ZUVsZW1lbnRzJiZEbyh7bm9kZTpmLGZlYXR1cmVOUzpkLmZlYXR1cmVOUyxmZWF0dXJlVHlwZTpkLmZlYXR1cmVUeXBlLGZlYXR1cmVQcmVmaXg6bSxnbWxWZXJzaW9uOmgsc3JzTmFtZTpkLnNyc05hbWV9LHF1LHlvKFwiTmF0aXZlXCIpLGQubmF0aXZlRWxlbWVudHMsXG5lKTtyZXR1cm4gZn07ZHUucHJvdG90eXBlLlNnPWZ1bmN0aW9uKGEpe2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylpZihhLm5vZGVUeXBlPT1Ob2RlLkVMRU1FTlRfTk9ERSlyZXR1cm4gdGhpcy51ZihhKTtyZXR1cm4gbnVsbH07ZHUucHJvdG90eXBlLnVmPWZ1bmN0aW9uKGEpe2lmKGEuZmlyc3RFbGVtZW50Q2hpbGQmJmEuZmlyc3RFbGVtZW50Q2hpbGQuZmlyc3RFbGVtZW50Q2hpbGQpZm9yKGE9YS5maXJzdEVsZW1lbnRDaGlsZC5maXJzdEVsZW1lbnRDaGlsZCxhPWEuZmlyc3RFbGVtZW50Q2hpbGQ7YTthPWEubmV4dEVsZW1lbnRTaWJsaW5nKWlmKDAhPT1hLmNoaWxkTm9kZXMubGVuZ3RoJiYoMSE9PWEuY2hpbGROb2Rlcy5sZW5ndGh8fDMhPT1hLmZpcnN0Q2hpbGQubm9kZVR5cGUpKXt2YXIgYj1be31dO3RoaXMuYi5yZihhLGIpO3JldHVybiBPYihiLnBvcCgpLnNyc05hbWUpfXJldHVybiBudWxsfTtmdW5jdGlvbiBLdShhKXthPWE/YTp7fTtHby5jYWxsKHRoaXMpO3RoaXMuYj12b2lkIDAhPT1hLnNwbGl0Q29sbGVjdGlvbj9hLnNwbGl0Q29sbGVjdGlvbjohMX13KEt1LFZxKTtmdW5jdGlvbiBMdShhKXthPWEuVygpO3JldHVybiAwPT09YS5sZW5ndGg/XCJcIjphLmpvaW4oXCIgXCIpfWZ1bmN0aW9uIE11KGEpe2E9YS5XKCk7Zm9yKHZhciBiPVtdLGM9MCxkPWEubGVuZ3RoO2M8ZDsrK2MpYi5wdXNoKGFbY10uam9pbihcIiBcIikpO3JldHVybiBiLmpvaW4oXCIsXCIpfWZ1bmN0aW9uIE51KGEpe3ZhciBiPVtdO2E9YS5VZCgpO2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7YzxkOysrYyliLnB1c2goXCIoXCIrTXUoYVtjXSkrXCIpXCIpO3JldHVybiBiLmpvaW4oXCIsXCIpfVxuZnVuY3Rpb24gT3UoYSl7dmFyIGI9YS5TKCksYz0oMCxQdVtiXSkoYSk7Yj1iLnRvVXBwZXJDYXNlKCk7aWYoYSBpbnN0YW5jZW9mIGhmKXthPWEuamE7dmFyIGQ9XCJcIjtpZihcIlhZWlwiPT09YXx8XCJYWVpNXCI9PT1hKWQrPVwiWlwiO2lmKFwiWFlNXCI9PT1hfHxcIlhZWk1cIj09PWEpZCs9XCJNXCI7YT1kOzA8YS5sZW5ndGgmJihiKz1cIiBcIithKX1yZXR1cm4gMD09PWMubGVuZ3RoP2IrXCIgRU1QVFlcIjpiK1wiKFwiK2MrXCIpXCJ9XG52YXIgUHU9e1BvaW50Okx1LExpbmVTdHJpbmc6TXUsUG9seWdvbjpOdSxNdWx0aVBvaW50OmZ1bmN0aW9uKGEpe3ZhciBiPVtdO2E9YS5kZSgpO2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7YzxkOysrYyliLnB1c2goXCIoXCIrTHUoYVtjXSkrXCIpXCIpO3JldHVybiBiLmpvaW4oXCIsXCIpfSxNdWx0aUxpbmVTdHJpbmc6ZnVuY3Rpb24oYSl7dmFyIGI9W107YT1hLndkKCk7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtjPGQ7KytjKWIucHVzaChcIihcIitNdShhW2NdKStcIilcIik7cmV0dXJuIGIuam9pbihcIixcIil9LE11bHRpUG9seWdvbjpmdW5jdGlvbihhKXt2YXIgYj1bXTthPWEuVmQoKTtmb3IodmFyIGM9MCxkPWEubGVuZ3RoO2M8ZDsrK2MpYi5wdXNoKFwiKFwiK051KGFbY10pK1wiKVwiKTtyZXR1cm4gYi5qb2luKFwiLFwiKX0sR2VvbWV0cnlDb2xsZWN0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPVtdO2E9YS52ZCgpO2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7YzxkOysrYyliLnB1c2goT3UoYVtjXSkpO3JldHVybiBiLmpvaW4oXCIsXCIpfX07XG5rPUt1LnByb3RvdHlwZTtrLmZlPWZ1bmN0aW9uKGEsYil7cmV0dXJuKGE9dGhpcy5HZChhLGIpKT8oYj1uZXcgSGssYi5WYShhKSxiKTpudWxsfTtrLk5nPWZ1bmN0aW9uKGEsYil7dmFyIGM9W107YT10aGlzLkdkKGEsYik7dGhpcy5iJiZcIkdlb21ldHJ5Q29sbGVjdGlvblwiPT1hLlMoKT9jPWEuYTpjPVthXTtiPVtdO2Zvcih2YXIgZD0wLGU9Yy5sZW5ndGg7ZDxlOysrZClhPW5ldyBIayxhLlZhKGNbZF0pLGIucHVzaChhKTtyZXR1cm4gYn07ay5HZD1mdW5jdGlvbihhLGIpe2E9bmV3IFF1KG5ldyBSdShhKSk7U3UoYSk7cmV0dXJuKGE9VHUoYSkpP0pvKGEsITEsYik6bnVsbH07ay5wZT1mdW5jdGlvbihhLGIpe3JldHVybihhPWEuVSgpKT90aGlzLktkKGEsYik6XCJcIn07XG5rLm5oPWZ1bmN0aW9uKGEsYil7aWYoMT09YS5sZW5ndGgpcmV0dXJuIHRoaXMucGUoYVswXSxiKTtmb3IodmFyIGM9W10sZD0wLGU9YS5sZW5ndGg7ZDxlOysrZCljLnB1c2goYVtkXS5VKCkpO2E9bmV3IE1xKGMpO3JldHVybiB0aGlzLktkKGEsYil9O2suS2Q9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gT3UoSm8oYSwhMCxiKSl9O2Z1bmN0aW9uIFJ1KGEpe3RoaXMuYT1hO3RoaXMuYj0tMX1cbmZ1bmN0aW9uIFV1KGEpe3ZhciBiPWEuYS5jaGFyQXQoKythLmIpLGM9e3Bvc2l0aW9uOmEuYix2YWx1ZTpifTtpZihcIihcIj09YiljLnR5cGU9MjtlbHNlIGlmKFwiLFwiPT1iKWMudHlwZT01O2Vsc2UgaWYoXCIpXCI9PWIpYy50eXBlPTM7ZWxzZSBpZihcIjBcIjw9YiYmXCI5XCI+PWJ8fFwiLlwiPT1ifHxcIi1cIj09Yil7Yy50eXBlPTQ7Yj1hLmI7dmFyIGQ9ITEsZT0hMTtkb3tpZihcIi5cIj09ZilkPSEwO2Vsc2UgaWYoXCJlXCI9PWZ8fFwiRVwiPT1mKWU9ITA7dmFyIGY9YS5hLmNoYXJBdCgrK2EuYil9d2hpbGUoXCIwXCI8PWYmJlwiOVwiPj1mfHxcIi5cIj09ZiYmKHZvaWQgMD09PWR8fCFkKXx8IWUmJihcImVcIj09Znx8XCJFXCI9PWYpfHxlJiYoXCItXCI9PWZ8fFwiK1wiPT1mKSk7YT1wYXJzZUZsb2F0KGEuYS5zdWJzdHJpbmcoYixhLmItLSkpO2MudmFsdWU9YX1lbHNlIGlmKFwiYVwiPD1iJiZcInpcIj49Ynx8XCJBXCI8PWImJlwiWlwiPj1iKXtjLnR5cGU9MTtiPWEuYjtkbyBmPWEuYS5jaGFyQXQoKythLmIpO3doaWxlKFwiYVwiPD1mJiZcInpcIj49XG5mfHxcIkFcIjw9ZiYmXCJaXCI+PWYpO2E9YS5hLnN1YnN0cmluZyhiLGEuYi0tKS50b1VwcGVyQ2FzZSgpO2MudmFsdWU9YX1lbHNle2lmKFwiIFwiPT1ifHxcIlxcdFwiPT1ifHxcIlxcclwiPT1ifHxcIlxcblwiPT1iKXJldHVybiBVdShhKTtpZihcIlwiPT09YiljLnR5cGU9NjtlbHNlIHRocm93IEVycm9yKFwiVW5leHBlY3RlZCBjaGFyYWN0ZXI6IFwiK2IpO31yZXR1cm4gY31mdW5jdGlvbiBRdShhKXt0aGlzLmc9YTt0aGlzLmE9XCJYWVwifWZ1bmN0aW9uIFN1KGEpe2EuYj1VdShhLmcpfWZ1bmN0aW9uIFZ1KGEsYil7KGI9YS5iLnR5cGU9PWIpJiZTdShhKTtyZXR1cm4gYn1cbmZ1bmN0aW9uIFR1KGEpe3ZhciBiPWEuYjtpZihWdShhLDEpKXtiPWIudmFsdWU7dmFyIGM9XCJYWVwiLGQ9YS5iOzE9PWEuYi50eXBlJiYoZD1kLnZhbHVlLFwiWlwiPT09ZD9jPVwiWFlaXCI6XCJNXCI9PT1kP2M9XCJYWU1cIjpcIlpNXCI9PT1kJiYoYz1cIlhZWk1cIiksXCJYWVwiIT09YyYmU3UoYSkpO2EuYT1jO2lmKFwiR0VPTUVUUllDT0xMRUNUSU9OXCI9PWIpe2E6e2lmKFZ1KGEsMikpe2I9W107ZG8gYi5wdXNoKFR1KGEpKTt3aGlsZShWdShhLDUpKTtpZihWdShhLDMpKXthPWI7YnJlYWsgYX19ZWxzZSBpZihXdShhKSl7YT1bXTticmVhayBhfXRocm93IEVycm9yKFh1KGEpKTt9cmV0dXJuIG5ldyBNcShhKX1kPVl1W2JdO2M9WnVbYl07aWYoIWR8fCFjKXRocm93IEVycm9yKFwiSW52YWxpZCBnZW9tZXRyeSB0eXBlOiBcIitiKTtiPWQuY2FsbChhKTtyZXR1cm4gbmV3IGMoYixhLmEpfXRocm93IEVycm9yKFh1KGEpKTt9az1RdS5wcm90b3R5cGU7XG5rLkhnPWZ1bmN0aW9uKCl7aWYoVnUodGhpcywyKSl7dmFyIGE9JHUodGhpcyk7aWYoVnUodGhpcywzKSlyZXR1cm4gYX1lbHNlIGlmKFd1KHRoaXMpKXJldHVybiBudWxsO3Rocm93IEVycm9yKFh1KHRoaXMpKTt9O2suR2c9ZnVuY3Rpb24oKXtpZihWdSh0aGlzLDIpKXt2YXIgYT1hdih0aGlzKTtpZihWdSh0aGlzLDMpKXJldHVybiBhfWVsc2UgaWYoV3UodGhpcykpcmV0dXJuW107dGhyb3cgRXJyb3IoWHUodGhpcykpO307ay5JZz1mdW5jdGlvbigpe2lmKFZ1KHRoaXMsMikpe3ZhciBhPWJ2KHRoaXMpO2lmKFZ1KHRoaXMsMykpcmV0dXJuIGF9ZWxzZSBpZihXdSh0aGlzKSlyZXR1cm5bXTt0aHJvdyBFcnJvcihYdSh0aGlzKSk7fTtcbmsuSHA9ZnVuY3Rpb24oKXtpZihWdSh0aGlzLDIpKXt2YXIgYTtpZigyPT10aGlzLmIudHlwZSlmb3IoYT1bdGhpcy5IZygpXTtWdSh0aGlzLDUpOylhLnB1c2godGhpcy5IZygpKTtlbHNlIGE9YXYodGhpcyk7aWYoVnUodGhpcywzKSlyZXR1cm4gYX1lbHNlIGlmKFd1KHRoaXMpKXJldHVybltdO3Rocm93IEVycm9yKFh1KHRoaXMpKTt9O2suR3A9ZnVuY3Rpb24oKXtpZihWdSh0aGlzLDIpKXt2YXIgYT1idih0aGlzKTtpZihWdSh0aGlzLDMpKXJldHVybiBhfWVsc2UgaWYoV3UodGhpcykpcmV0dXJuW107dGhyb3cgRXJyb3IoWHUodGhpcykpO307ay5JcD1mdW5jdGlvbigpe2lmKFZ1KHRoaXMsMikpe2Zvcih2YXIgYT1bdGhpcy5JZygpXTtWdSh0aGlzLDUpOylhLnB1c2godGhpcy5JZygpKTtpZihWdSh0aGlzLDMpKXJldHVybiBhfWVsc2UgaWYoV3UodGhpcykpcmV0dXJuW107dGhyb3cgRXJyb3IoWHUodGhpcykpO307XG5mdW5jdGlvbiAkdShhKXtmb3IodmFyIGI9W10sYz1hLmEubGVuZ3RoLGQ9MDtkPGM7KytkKXt2YXIgZT1hLmI7aWYoVnUoYSw0KSliLnB1c2goZS52YWx1ZSk7ZWxzZSBicmVha31pZihiLmxlbmd0aD09YylyZXR1cm4gYjt0aHJvdyBFcnJvcihYdShhKSk7fWZ1bmN0aW9uIGF2KGEpe2Zvcih2YXIgYj1bJHUoYSldO1Z1KGEsNSk7KWIucHVzaCgkdShhKSk7cmV0dXJuIGJ9ZnVuY3Rpb24gYnYoYSl7Zm9yKHZhciBiPVthLkdnKCldO1Z1KGEsNSk7KWIucHVzaChhLkdnKCkpO3JldHVybiBifWZ1bmN0aW9uIFd1KGEpe3ZhciBiPTE9PWEuYi50eXBlJiZcIkVNUFRZXCI9PWEuYi52YWx1ZTtiJiZTdShhKTtyZXR1cm4gYn1mdW5jdGlvbiBYdShhKXtyZXR1cm5cIlVuZXhwZWN0ZWQgYFwiK2EuYi52YWx1ZStcImAgYXQgcG9zaXRpb24gXCIrYS5iLnBvc2l0aW9uK1wiIGluIGBcIithLmcuYStcImBcIn1cbnZhciBadT17UE9JTlQ6QyxMSU5FU1RSSU5HOkksUE9MWUdPTjpELE1VTFRJUE9JTlQ6Tm8sTVVMVElMSU5FU1RSSU5HOlAsTVVMVElQT0xZR09OOlF9LFl1PXtQT0lOVDpRdS5wcm90b3R5cGUuSGcsTElORVNUUklORzpRdS5wcm90b3R5cGUuR2csUE9MWUdPTjpRdS5wcm90b3R5cGUuSWcsTVVMVElQT0lOVDpRdS5wcm90b3R5cGUuSHAsTVVMVElMSU5FU1RSSU5HOlF1LnByb3RvdHlwZS5HcCxNVUxUSVBPTFlHT046UXUucHJvdG90eXBlLklwfTtmdW5jdGlvbiBjdihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixcImhyZWZcIil9O2Z1bmN0aW9uIGR2KCl7fWR2LnByb3RvdHlwZS5yZWFkPWZ1bmN0aW9uKGEpe3JldHVybiBxbyhhKT90aGlzLmEoYSk6cm8oYSk/dGhpcy5iKGEpOlwic3RyaW5nXCI9PT10eXBlb2YgYT8oYT1zbyhhKSx0aGlzLmEoYSkpOm51bGx9O2Z1bmN0aW9uIGV2KCl7dGhpcy52ZXJzaW9uPXZvaWQgMH13KGV2LGR2KTtldi5wcm90b3R5cGUuYT1mdW5jdGlvbihhKXtmb3IoYT1hLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpaWYoYS5ub2RlVHlwZT09Tm9kZS5FTEVNRU5UX05PREUpcmV0dXJuIHRoaXMuYihhKTtyZXR1cm4gbnVsbH07ZXYucHJvdG90eXBlLmI9ZnVuY3Rpb24oYSl7dGhpcy52ZXJzaW9uPWEuZ2V0QXR0cmlidXRlKFwidmVyc2lvblwiKS50cmltKCk7cmV0dXJuKGE9Tyh7dmVyc2lvbjp0aGlzLnZlcnNpb259LGZ2LGEsW10pKT9hOm51bGx9O2Z1bmN0aW9uIGd2KGEsYil7cmV0dXJuIE8oe30saHYsYSxiKX1mdW5jdGlvbiBpdihhLGIpe3JldHVybiBPKHt9LGp2LGEsYil9ZnVuY3Rpb24ga3YoYSxiKXtpZihiPWd2KGEsYikpcmV0dXJuIGE9W2dwKGEuZ2V0QXR0cmlidXRlKFwid2lkdGhcIikpLGdwKGEuZ2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIpKV0sYi5zaXplPWEsYn1cbmZ1bmN0aW9uIGx2KGEsYil7cmV0dXJuIE8oW10sbXYsYSxiKX1cbnZhciBudj1bbnVsbCxcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvd21zXCJdLGZ2PU4obnYse1NlcnZpY2U6TChmdW5jdGlvbihhLGIpe3JldHVybiBPKHt9LG92LGEsYil9KSxDYXBhYmlsaXR5OkwoZnVuY3Rpb24oYSxiKXtyZXR1cm4gTyh7fSxwdixhLGIpfSl9KSxwdj1OKG52LHtSZXF1ZXN0OkwoZnVuY3Rpb24oYSxiKXtyZXR1cm4gTyh7fSxxdixhLGIpfSksRXhjZXB0aW9uOkwoZnVuY3Rpb24oYSxiKXtyZXR1cm4gTyhbXSxydixhLGIpfSksTGF5ZXI6TChmdW5jdGlvbihhLGIpe3JldHVybiBPKHt9LHN2LGEsYil9KX0pLG92PU4obnYse05hbWU6TChSKSxUaXRsZTpMKFIpLEFic3RyYWN0OkwoUiksS2V5d29yZExpc3Q6TChsdiksT25saW5lUmVzb3VyY2U6TChjdiksQ29udGFjdEluZm9ybWF0aW9uOkwoZnVuY3Rpb24oYSxiKXtyZXR1cm4gTyh7fSx0dixhLGIpfSksRmVlczpMKFIpLEFjY2Vzc0NvbnN0cmFpbnRzOkwoUiksTGF5ZXJMaW1pdDpMKGZwKSxNYXhXaWR0aDpMKGZwKSxcbk1heEhlaWdodDpMKGZwKX0pLHR2PU4obnYse0NvbnRhY3RQZXJzb25QcmltYXJ5OkwoZnVuY3Rpb24oYSxiKXtyZXR1cm4gTyh7fSx1dixhLGIpfSksQ29udGFjdFBvc2l0aW9uOkwoUiksQ29udGFjdEFkZHJlc3M6TChmdW5jdGlvbihhLGIpe3JldHVybiBPKHt9LHZ2LGEsYil9KSxDb250YWN0Vm9pY2VUZWxlcGhvbmU6TChSKSxDb250YWN0RmFjc2ltaWxlVGVsZXBob25lOkwoUiksQ29udGFjdEVsZWN0cm9uaWNNYWlsQWRkcmVzczpMKFIpfSksdXY9Tihudix7Q29udGFjdFBlcnNvbjpMKFIpLENvbnRhY3RPcmdhbml6YXRpb246TChSKX0pLHZ2PU4obnYse0FkZHJlc3NUeXBlOkwoUiksQWRkcmVzczpMKFIpLENpdHk6TChSKSxTdGF0ZU9yUHJvdmluY2U6TChSKSxQb3N0Q29kZTpMKFIpLENvdW50cnk6TChSKX0pLHJ2PU4obnYse0Zvcm1hdDp1byhSKX0pLHN2PU4obnYse05hbWU6TChSKSxUaXRsZTpMKFIpLEFic3RyYWN0OkwoUiksS2V5d29yZExpc3Q6TChsdiksQ1JTOndvKFIpLFxuRVhfR2VvZ3JhcGhpY0JvdW5kaW5nQm94OkwoZnVuY3Rpb24oYSxiKXt2YXIgYz1PKHt9LHd2LGEsYik7aWYoYyl7YT1jLndlc3RCb3VuZExvbmdpdHVkZTtiPWMuc291dGhCb3VuZExhdGl0dWRlO3ZhciBkPWMuZWFzdEJvdW5kTG9uZ2l0dWRlO2M9Yy5ub3J0aEJvdW5kTGF0aXR1ZGU7aWYodm9pZCAwIT09YSYmdm9pZCAwIT09YiYmdm9pZCAwIT09ZCYmdm9pZCAwIT09YylyZXR1cm5bYSxiLGQsY119fSksQm91bmRpbmdCb3g6d28oZnVuY3Rpb24oYSl7dmFyIGI9W2VwKGEuZ2V0QXR0cmlidXRlKFwibWlueFwiKSksZXAoYS5nZXRBdHRyaWJ1dGUoXCJtaW55XCIpKSxlcChhLmdldEF0dHJpYnV0ZShcIm1heHhcIikpLGVwKGEuZ2V0QXR0cmlidXRlKFwibWF4eVwiKSldLGM9W2VwKGEuZ2V0QXR0cmlidXRlKFwicmVzeFwiKSksZXAoYS5nZXRBdHRyaWJ1dGUoXCJyZXN5XCIpKV07cmV0dXJue2NyczphLmdldEF0dHJpYnV0ZShcIkNSU1wiKSxleHRlbnQ6YixyZXM6Y319KSxEaW1lbnNpb246d28oZnVuY3Rpb24oYSl7cmV0dXJue25hbWU6YS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpLFxudW5pdHM6YS5nZXRBdHRyaWJ1dGUoXCJ1bml0c1wiKSx1bml0U3ltYm9sOmEuZ2V0QXR0cmlidXRlKFwidW5pdFN5bWJvbFwiKSxcImRlZmF1bHRcIjphLmdldEF0dHJpYnV0ZShcImRlZmF1bHRcIiksbXVsdGlwbGVWYWx1ZXM6YnAoYS5nZXRBdHRyaWJ1dGUoXCJtdWx0aXBsZVZhbHVlc1wiKSksbmVhcmVzdFZhbHVlOmJwKGEuZ2V0QXR0cmlidXRlKFwibmVhcmVzdFZhbHVlXCIpKSxjdXJyZW50OmJwKGEuZ2V0QXR0cmlidXRlKFwiY3VycmVudFwiKSksdmFsdWVzOlIoYSl9fSksQXR0cmlidXRpb246TChmdW5jdGlvbihhLGIpe3JldHVybiBPKHt9LHh2LGEsYil9KSxBdXRob3JpdHlVUkw6d28oZnVuY3Rpb24oYSxiKXtpZihiPWd2KGEsYikpcmV0dXJuIGIubmFtZT1hLmdldEF0dHJpYnV0ZShcIm5hbWVcIiksYn0pLElkZW50aWZpZXI6d28oUiksTWV0YWRhdGFVUkw6d28oZnVuY3Rpb24oYSxiKXtpZihiPWd2KGEsYikpcmV0dXJuIGIudHlwZT1hLmdldEF0dHJpYnV0ZShcInR5cGVcIiksYn0pLERhdGFVUkw6d28oZ3YpLFxuRmVhdHVyZUxpc3RVUkw6d28oZ3YpLFN0eWxlOndvKGZ1bmN0aW9uKGEsYil7cmV0dXJuIE8oe30seXYsYSxiKX0pLE1pblNjYWxlRGVub21pbmF0b3I6TChkcCksTWF4U2NhbGVEZW5vbWluYXRvcjpMKGRwKSxMYXllcjp3byhmdW5jdGlvbihhLGIpe3ZhciBjPWJbYi5sZW5ndGgtMV0sZD1PKHt9LHN2LGEsYik7aWYoZClyZXR1cm4gYj1icChhLmdldEF0dHJpYnV0ZShcInF1ZXJ5YWJsZVwiKSksdm9pZCAwPT09YiYmKGI9Yy5xdWVyeWFibGUpLGQucXVlcnlhYmxlPXZvaWQgMCE9PWI/YjohMSxiPWdwKGEuZ2V0QXR0cmlidXRlKFwiY2FzY2FkZWRcIikpLHZvaWQgMD09PWImJihiPWMuY2FzY2FkZWQpLGQuY2FzY2FkZWQ9YixiPWJwKGEuZ2V0QXR0cmlidXRlKFwib3BhcXVlXCIpKSx2b2lkIDA9PT1iJiYoYj1jLm9wYXF1ZSksZC5vcGFxdWU9dm9pZCAwIT09Yj9iOiExLGI9YnAoYS5nZXRBdHRyaWJ1dGUoXCJub1N1YnNldHNcIikpLHZvaWQgMD09PWImJihiPWMubm9TdWJzZXRzKSxkLm5vU3Vic2V0cz1cbnZvaWQgMCE9PWI/YjohMSwoYj1lcChhLmdldEF0dHJpYnV0ZShcImZpeGVkV2lkdGhcIikpKXx8KGI9Yy5maXhlZFdpZHRoKSxkLmZpeGVkV2lkdGg9YiwoYT1lcChhLmdldEF0dHJpYnV0ZShcImZpeGVkSGVpZ2h0XCIpKSl8fChhPWMuZml4ZWRIZWlnaHQpLGQuZml4ZWRIZWlnaHQ9YSxbXCJTdHlsZVwiLFwiQ1JTXCIsXCJBdXRob3JpdHlVUkxcIl0uZm9yRWFjaChmdW5jdGlvbihhKXthIGluIGMmJihkW2FdPShkW2FdfHxbXSkuY29uY2F0KGNbYV0pKX0pLFwiRVhfR2VvZ3JhcGhpY0JvdW5kaW5nQm94IEJvdW5kaW5nQm94IERpbWVuc2lvbiBBdHRyaWJ1dGlvbiBNaW5TY2FsZURlbm9taW5hdG9yIE1heFNjYWxlRGVub21pbmF0b3JcIi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbihhKXthIGluIGR8fChkW2FdPWNbYV0pfSksZH0pfSkseHY9Tihudix7VGl0bGU6TChSKSxPbmxpbmVSZXNvdXJjZTpMKGN2KSxMb2dvVVJMOkwoa3YpfSksd3Y9Tihudix7d2VzdEJvdW5kTG9uZ2l0dWRlOkwoZHApLFxuZWFzdEJvdW5kTG9uZ2l0dWRlOkwoZHApLHNvdXRoQm91bmRMYXRpdHVkZTpMKGRwKSxub3J0aEJvdW5kTGF0aXR1ZGU6TChkcCl9KSxxdj1OKG52LHtHZXRDYXBhYmlsaXRpZXM6TChpdiksR2V0TWFwOkwoaXYpLEdldEZlYXR1cmVJbmZvOkwoaXYpfSksanY9Tihudix7Rm9ybWF0OndvKFIpLERDUFR5cGU6d28oZnVuY3Rpb24oYSxiKXtyZXR1cm4gTyh7fSx6dixhLGIpfSl9KSx6dj1OKG52LHtIVFRQOkwoZnVuY3Rpb24oYSxiKXtyZXR1cm4gTyh7fSxBdixhLGIpfSl9KSxBdj1OKG52LHtHZXQ6TChndiksUG9zdDpMKGd2KX0pLHl2PU4obnYse05hbWU6TChSKSxUaXRsZTpMKFIpLEFic3RyYWN0OkwoUiksTGVnZW5kVVJMOndvKGt2KSxTdHlsZVNoZWV0VVJMOkwoZ3YpLFN0eWxlVVJMOkwoZ3YpfSksaHY9Tihudix7Rm9ybWF0OkwoUiksT25saW5lUmVzb3VyY2U6TChjdil9KSxtdj1OKG52LHtLZXl3b3JkOnVvKFIpfSk7ZnVuY3Rpb24gQnYoYSl7YT1hP2E6e307dGhpcy5hPVwiaHR0cDovL21hcHNlcnZlci5naXMudW1uLmVkdS9tYXBzZXJ2ZXJcIjt0aGlzLmI9bmV3IFRwO3RoaXMuYz1hLmxheWVycz9hLmxheWVyczpudWxsO1dvLmNhbGwodGhpcyl9dyhCdixXbyk7XG5Cdi5wcm90b3R5cGUuS2M9ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTtiJiZrYihjLEhvKHRoaXMsYSxiKSk7Yz1bY107YS5zZXRBdHRyaWJ1dGUoXCJuYW1lc3BhY2VVUklcIix0aGlzLmEpO3ZhciBkPWEubG9jYWxOYW1lO2I9W107aWYoMCE9PWEuY2hpbGROb2Rlcy5sZW5ndGgpe2lmKFwibXNHTUxPdXRwdXRcIj09ZClmb3IodmFyIGU9MCxmPWEuY2hpbGROb2Rlcy5sZW5ndGg7ZTxmO2UrKyl7dmFyIGc9YS5jaGlsZE5vZGVzW2VdO2lmKGcubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIGg9Y1swXSxsPWcubG9jYWxOYW1lLnJlcGxhY2UoXCJfbGF5ZXJcIixcIlwiKTtpZighdGhpcy5jfHxlYyh0aGlzLmMsbCkpe2wrPVwiX2ZlYXR1cmVcIjtoLmZlYXR1cmVUeXBlPWw7aC5mZWF0dXJlTlM9dGhpcy5hO3ZhciBtPXt9O21bbF09dW8odGhpcy5iLktnLHRoaXMuYik7aD1OKFtoLmZlYXR1cmVOUyxudWxsXSxtKTtnLnNldEF0dHJpYnV0ZShcIm5hbWVzcGFjZVVSSVwiLHRoaXMuYSk7KGc9TyhbXSxcbmgsZyxjLHRoaXMuYikpJiZnYyhiLGcpfX19XCJGZWF0dXJlQ29sbGVjdGlvblwiPT1kJiYoYT1PKFtdLHRoaXMuYi5iLGEsW3t9XSx0aGlzLmIpKSYmKGI9YSl9cmV0dXJuIGJ9O0J2LnByb3RvdHlwZS5taD1mdW5jdGlvbigpe307QnYucHJvdG90eXBlLmJjPWZ1bmN0aW9uKCl7fTtCdi5wcm90b3R5cGUucmU9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIEN2KCl7fXcoQ3YsZHYpO0N2LnByb3RvdHlwZS5hPWZ1bmN0aW9uKGEpe2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylpZihhLm5vZGVUeXBlPT1Ob2RlLkVMRU1FTlRfTk9ERSlyZXR1cm4gdGhpcy5iKGEpO3JldHVybiBudWxsfTtDdi5wcm90b3R5cGUuYj1mdW5jdGlvbihhKXtyZXR1cm4oYT1PKHt9LER2LGEsW10pKT9hOm51bGx9O1xudmFyIEV2PVtudWxsLFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vd3MvMS4xXCJdLER2PU4oRXYse1NlcnZpY2VJZGVudGlmaWNhdGlvbjpMKGZ1bmN0aW9uKGEsYil7cmV0dXJuIE8oe30sRnYsYSxiKX0pLFNlcnZpY2VQcm92aWRlcjpMKGZ1bmN0aW9uKGEsYil7cmV0dXJuIE8oe30sR3YsYSxiKX0pLE9wZXJhdGlvbnNNZXRhZGF0YTpMKGZ1bmN0aW9uKGEsYil7cmV0dXJuIE8oe30sSHYsYSxiKX0pfSksSXY9TihFdix7RGVsaXZlcnlQb2ludDpMKFIpLENpdHk6TChSKSxBZG1pbmlzdHJhdGl2ZUFyZWE6TChSKSxQb3N0YWxDb2RlOkwoUiksQ291bnRyeTpMKFIpLEVsZWN0cm9uaWNNYWlsQWRkcmVzczpMKFIpfSksSnY9TihFdix7VmFsdWU6d28oZnVuY3Rpb24oYSl7cmV0dXJuIFIoYSl9KX0pLEt2PU4oRXYse0FsbG93ZWRWYWx1ZXM6TChmdW5jdGlvbihhLGIpe3JldHVybiBPKHt9LEp2LGEsYil9KX0pLE12PU4oRXYse1Bob25lOkwoZnVuY3Rpb24oYSxiKXtyZXR1cm4gTyh7fSxcbkx2LGEsYil9KSxBZGRyZXNzOkwoZnVuY3Rpb24oYSxiKXtyZXR1cm4gTyh7fSxJdixhLGIpfSl9KSxPdj1OKEV2LHtIVFRQOkwoZnVuY3Rpb24oYSxiKXtyZXR1cm4gTyh7fSxOdixhLGIpfSl9KSxOdj1OKEV2LHtHZXQ6d28oZnVuY3Rpb24oYSxiKXt2YXIgYz1jdihhKTtpZihjKXJldHVybiBPKHtocmVmOmN9LFB2LGEsYil9KSxQb3N0OnZvaWQgMH0pLFF2PU4oRXYse0RDUDpMKGZ1bmN0aW9uKGEsYil7cmV0dXJuIE8oe30sT3YsYSxiKX0pfSksSHY9TihFdix7T3BlcmF0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpOyhhPU8oe30sUXYsYSxiKSkmJihiW2IubGVuZ3RoLTFdW2NdPWEpfX0pLEx2PU4oRXYse1ZvaWNlOkwoUiksRmFjc2ltaWxlOkwoUil9KSxQdj1OKEV2LHtDb25zdHJhaW50OndvKGZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO2lmKGMpcmV0dXJuIE8oe25hbWU6Y30sS3YsYSxiKX0pfSksUnY9TihFdixcbntJbmRpdmlkdWFsTmFtZTpMKFIpLFBvc2l0aW9uTmFtZTpMKFIpLENvbnRhY3RJbmZvOkwoZnVuY3Rpb24oYSxiKXtyZXR1cm4gTyh7fSxNdixhLGIpfSl9KSxGdj1OKEV2LHtBYnN0cmFjdDpMKFIpLEFjY2Vzc0NvbnN0cmFpbnRzOkwoUiksRmVlczpMKFIpLFRpdGxlOkwoUiksU2VydmljZVR5cGVWZXJzaW9uOkwoUiksU2VydmljZVR5cGU6TChSKX0pLEd2PU4oRXYse1Byb3ZpZGVyTmFtZTpMKFIpLFByb3ZpZGVyU2l0ZTpMKGN2KSxTZXJ2aWNlQ29udGFjdDpMKGZ1bmN0aW9uKGEsYil7cmV0dXJuIE8oe30sUnYsYSxiKX0pfSk7ZnVuY3Rpb24gU3YoKXt0aGlzLmc9bmV3IEN2fXcoU3YsZHYpO1N2LnByb3RvdHlwZS5hPWZ1bmN0aW9uKGEpe2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylpZihhLm5vZGVUeXBlPT1Ob2RlLkVMRU1FTlRfTk9ERSlyZXR1cm4gdGhpcy5iKGEpO3JldHVybiBudWxsfTtTdi5wcm90b3R5cGUuYj1mdW5jdGlvbihhKXt2YXIgYj1hLmdldEF0dHJpYnV0ZShcInZlcnNpb25cIikudHJpbSgpLGM9dGhpcy5nLmIoYSk7aWYoIWMpcmV0dXJuIG51bGw7Yy52ZXJzaW9uPWI7cmV0dXJuKGM9TyhjLFR2LGEsW10pKT9jOm51bGx9O2Z1bmN0aW9uIFV2KGEpe3ZhciBiPVIoYSkuc3BsaXQoXCIgXCIpO2lmKGImJjI9PWIubGVuZ3RoJiYoYT0rYlswXSxiPStiWzFdLCFpc05hTihhKSYmIWlzTmFOKGIpKSlyZXR1cm5bYSxiXX1cbnZhciBWdj1bbnVsbCxcImh0dHA6Ly93d3cub3Blbmdpcy5uZXQvd210cy8xLjBcIl0sV3Y9W251bGwsXCJodHRwOi8vd3d3Lm9wZW5naXMubmV0L293cy8xLjFcIl0sVHY9TihWdix7Q29udGVudHM6TChmdW5jdGlvbihhLGIpe3JldHVybiBPKHt9LFh2LGEsYil9KX0pLFh2PU4oVnYse0xheWVyOndvKGZ1bmN0aW9uKGEsYil7cmV0dXJuIE8oe30sWXYsYSxiKX0pLFRpbGVNYXRyaXhTZXQ6d28oZnVuY3Rpb24oYSxiKXtyZXR1cm4gTyh7fSxadixhLGIpfSl9KSxZdj1OKFZ2LHtTdHlsZTp3byhmdW5jdGlvbihhLGIpe2lmKGI9Tyh7fSwkdixhLGIpKXJldHVybiBhPVwidHJ1ZVwiPT09YS5nZXRBdHRyaWJ1dGUoXCJpc0RlZmF1bHRcIiksYi5pc0RlZmF1bHQ9YSxifSksRm9ybWF0OndvKFIpLFRpbGVNYXRyaXhTZXRMaW5rOndvKGZ1bmN0aW9uKGEsYil7cmV0dXJuIE8oe30sYXcsYSxiKX0pLERpbWVuc2lvbjp3byhmdW5jdGlvbihhLGIpe3JldHVybiBPKHt9LGJ3LGEsYil9KSxSZXNvdXJjZVVSTDp3byhmdW5jdGlvbihhKXt2YXIgYj1cbmEuZ2V0QXR0cmlidXRlKFwiZm9ybWF0XCIpLGM9YS5nZXRBdHRyaWJ1dGUoXCJ0ZW1wbGF0ZVwiKTthPWEuZ2V0QXR0cmlidXRlKFwicmVzb3VyY2VUeXBlXCIpO3ZhciBkPXt9O2ImJihkLmZvcm1hdD1iKTtjJiYoZC50ZW1wbGF0ZT1jKTthJiYoZC5yZXNvdXJjZVR5cGU9YSk7cmV0dXJuIGR9KX0sTihXdix7VGl0bGU6TChSKSxBYnN0cmFjdDpMKFIpLFdHUzg0Qm91bmRpbmdCb3g6TChmdW5jdGlvbihhLGIpe2E9TyhbXSxjdyxhLGIpO2lmKDI9PWEubGVuZ3RoKXJldHVybiBDYShhKX0pLElkZW50aWZpZXI6TChSKX0pKSwkdj1OKFZ2LHtMZWdlbmRVUkw6d28oZnVuY3Rpb24oYSl7dmFyIGI9e307Yi5mb3JtYXQ9YS5nZXRBdHRyaWJ1dGUoXCJmb3JtYXRcIik7Yi5ocmVmPWN2KGEpO3JldHVybiBifSl9LE4oV3Yse1RpdGxlOkwoUiksSWRlbnRpZmllcjpMKFIpfSkpLGF3PU4oVnYse1RpbGVNYXRyaXhTZXQ6TChSKSxUaWxlTWF0cml4U2V0TGltaXRzOkwoZnVuY3Rpb24oYSxiKXtyZXR1cm4gTyhbXSxcbmR3LGEsYil9KX0pLGR3PU4oVnYse1RpbGVNYXRyaXhMaW1pdHM6dW8oZnVuY3Rpb24oYSxiKXtyZXR1cm4gTyh7fSxldyxhLGIpfSl9KSxldz1OKFZ2LHtUaWxlTWF0cml4OkwoUiksTWluVGlsZVJvdzpMKGZwKSxNYXhUaWxlUm93OkwoZnApLE1pblRpbGVDb2w6TChmcCksTWF4VGlsZUNvbDpMKGZwKX0pLGJ3PU4oVnYse0RlZmF1bHQ6TChSKSxWYWx1ZTp3byhSKX0sTihXdix7SWRlbnRpZmllcjpMKFIpfSkpLGN3PU4oV3Yse0xvd2VyQ29ybmVyOnVvKFV2KSxVcHBlckNvcm5lcjp1byhVdil9KSxadj1OKFZ2LHtXZWxsS25vd25TY2FsZVNldDpMKFIpLFRpbGVNYXRyaXg6d28oZnVuY3Rpb24oYSxiKXtyZXR1cm4gTyh7fSxmdyxhLGIpfSl9LE4oV3Yse1N1cHBvcnRlZENSUzpMKFIpLElkZW50aWZpZXI6TChSKX0pKSxmdz1OKFZ2LHtUb3BMZWZ0Q29ybmVyOkwoVXYpLFNjYWxlRGVub21pbmF0b3I6TChkcCksVGlsZVdpZHRoOkwoZnApLFRpbGVIZWlnaHQ6TChmcCksTWF0cml4V2lkdGg6TChmcCksXG5NYXRyaXhIZWlnaHQ6TChmcCl9LE4oV3Yse0lkZW50aWZpZXI6TChSKX0pKTtmdW5jdGlvbiBndyhhLGIsYyl7aGYuY2FsbCh0aGlzKTt0aGlzLmhoKGEsYj9iOjAsYyl9dyhndyxoZik7az1ndy5wcm90b3R5cGU7ay5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBndyhudWxsKTtrZihhLHRoaXMuamEsdGhpcy5BLnNsaWNlKCkpO2EudSgpO3JldHVybiBhfTtrLk5iPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXMuQTthLT1lWzBdO3ZhciBmPWItZVsxXTtiPWEqYStmKmY7aWYoYjxkKXtpZigwPT09Yilmb3IoZD0wO2Q8dGhpcy5hOysrZCljW2RdPWVbZF07ZWxzZSBmb3IoZD10aGlzLkJkKCkvTWF0aC5zcXJ0KGIpLGNbMF09ZVswXStkKmEsY1sxXT1lWzFdK2QqZixkPTI7ZDx0aGlzLmE7KytkKWNbZF09ZVtkXTtjLmxlbmd0aD10aGlzLmE7cmV0dXJuIGJ9cmV0dXJuIGR9O2suWmM9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLkE7YS09Y1swXTtiLT1jWzFdO3JldHVybiBhKmErYipiPD1odyh0aGlzKX07XG5rLnhhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQS5zbGljZSgwLHRoaXMuYSl9O2suQWU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5BLGM9Ylt0aGlzLmFdLWJbMF07cmV0dXJuIE5hKGJbMF0tYyxiWzFdLWMsYlswXStjLGJbMV0rYyxhKX07ay5CZD1mdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQoaHcodGhpcykpfTtmdW5jdGlvbiBodyhhKXt2YXIgYj1hLkFbYS5hXS1hLkFbMF07YT1hLkFbYS5hKzFdLWEuQVsxXTtyZXR1cm4gYipiK2EqYX1rLlM9ZnVuY3Rpb24oKXtyZXR1cm5cIkNpcmNsZVwifTtrLiRhPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuRygpO3JldHVybiBoYihhLGIpPyhiPXRoaXMueGEoKSxhWzBdPD1iWzBdJiZhWzJdPj1iWzBdfHxhWzFdPD1iWzFdJiZhWzNdPj1iWzFdPyEwOlVhKGEsdGhpcy5CYix0aGlzKSk6ITF9O1xuay51Yj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmEsYz1hLnNsaWNlKCk7Y1tiXT1jWzBdKyh0aGlzLkFbYl0tdGhpcy5BWzBdKTt2YXIgZDtmb3IoZD0xO2Q8YjsrK2QpY1tiK2RdPWFbZF07a2YodGhpcyx0aGlzLmphLGMpO3RoaXMudSgpfTtrLmhoPWZ1bmN0aW9uKGEsYixjKXtpZihhKXtsZih0aGlzLGMsYSwwKTt0aGlzLkF8fCh0aGlzLkE9W10pO2M9dGhpcy5BO2E9dmYoYyxhKTtjW2ErK109Y1swXStiO3ZhciBkO2I9MTtmb3IoZD10aGlzLmE7YjxkOysrYiljW2ErK109Y1tiXTtjLmxlbmd0aD1hfWVsc2Uga2YodGhpcyxcIlhZXCIsbnVsbCk7dGhpcy51KCl9O2suVz1mdW5jdGlvbigpe307ay5uYT1mdW5jdGlvbigpe307ay5mZD1mdW5jdGlvbihhKXt0aGlzLkFbdGhpcy5hXT10aGlzLkFbMF0rYTt0aGlzLnUoKX07ZnVuY3Rpb24gaXcoYSl7YT1hP2E6e307SmcuY2FsbCh0aGlzLHtoYW5kbGVFdmVudDpSZX0pO3RoaXMuaj1hLmZvcm1hdENvbnN0cnVjdG9ycz9hLmZvcm1hdENvbnN0cnVjdG9yczpbXTt0aGlzLnM9YS5wcm9qZWN0aW9uP09iKGEucHJvamVjdGlvbik6bnVsbDt0aGlzLmE9bnVsbDt0aGlzLmY9YS5zb3VyY2V8fG51bGw7dGhpcy50YXJnZXQ9YS50YXJnZXQ/YS50YXJnZXQ6bnVsbH13KGl3LEpnKTtmdW5jdGlvbiBqdyhhKXthPWEuZGF0YVRyYW5zZmVyLmZpbGVzO3ZhciBiO3ZhciBjPTA7Zm9yKGI9YS5sZW5ndGg7YzxiOysrYyl7dmFyIGQ9YS5pdGVtKGMpO3ZhciBlPW5ldyBGaWxlUmVhZGVyO2UuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIix0aGlzLmwuYmluZCh0aGlzLGQpKTtlLnJlYWRBc1RleHQoZCl9fWZ1bmN0aW9uIGt3KGEpe2Euc3RvcFByb3BhZ2F0aW9uKCk7YS5wcmV2ZW50RGVmYXVsdCgpO2EuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3Q9XCJjb3B5XCJ9XG5pdy5wcm90b3R5cGUubD1mdW5jdGlvbihhLGIpe2I9Yi50YXJnZXQucmVzdWx0O3ZhciBjPXRoaXMudixkPXRoaXMucztkfHwoZD1jLmFhKCkudik7Yz10aGlzLmo7dmFyIGU9W10sZjt2YXIgZz0wO2ZvcihmPWMubGVuZ3RoO2c8ZjsrK2cpe3ZhciBoPW5ldyBjW2ddO3ZhciBsPXtmZWF0dXJlUHJvamVjdGlvbjpkfTt0cnl7ZT1oLlFhKGIsbCl9Y2F0Y2gobSl7ZT1udWxsfWlmKGUmJjA8ZS5sZW5ndGgpYnJlYWt9dGhpcy5mJiYodGhpcy5mLmNsZWFyKCksdGhpcy5mLlFjKGUpKTt0aGlzLmIobmV3IGx3KG13LGEsZSxkKSl9O2Z1bmN0aW9uIG53KGEpe3ZhciBiPWEudjtiJiYoYj1hLnRhcmdldD9hLnRhcmdldDpiLmEsYS5hPVt5KGIsXCJkcm9wXCIsancsYSkseShiLFwiZHJhZ2VudGVyXCIsa3csYSkseShiLFwiZHJhZ292ZXJcIixrdyxhKSx5KGIsXCJkcm9wXCIsa3csYSldKX1cbml3LnByb3RvdHlwZS5IYT1mdW5jdGlvbihhKXtKZy5wcm90b3R5cGUuSGEuY2FsbCh0aGlzLGEpO2E/bncodGhpcyk6b3codGhpcyl9O2l3LnByb3RvdHlwZS5zZXRNYXA9ZnVuY3Rpb24oYSl7b3codGhpcyk7SmcucHJvdG90eXBlLnNldE1hcC5jYWxsKHRoaXMsYSk7dGhpcy5jKCkmJm53KHRoaXMpfTtmdW5jdGlvbiBvdyhhKXthLmEmJihhLmEuZm9yRWFjaChHYyksYS5hPW51bGwpfXZhciBtdz1cImFkZGZlYXR1cmVzXCI7ZnVuY3Rpb24gbHcoYSxiLGMsZCl7UWMuY2FsbCh0aGlzLGEpO3RoaXMuZmVhdHVyZXM9Yzt0aGlzLmZpbGU9Yjt0aGlzLnByb2plY3Rpb249ZH13KGx3LFFjKTtmdW5jdGlvbiBwdyhhKXthPWE/YTp7fTtmaC5jYWxsKHRoaXMse2hhbmRsZURvd25FdmVudDpxdyxoYW5kbGVEcmFnRXZlbnQ6cncsaGFuZGxlVXBFdmVudDpzd30pO3RoaXMucz1hLmNvbmRpdGlvbj9hLmNvbmRpdGlvbjpiaDt0aGlzLmE9dGhpcy5mPXZvaWQgMDt0aGlzLmo9MDt0aGlzLm89dm9pZCAwIT09YS5kdXJhdGlvbj9hLmR1cmF0aW9uOjQwMH13KHB3LGZoKTtcbmZ1bmN0aW9uIHJ3KGEpe2lmKGRoKGEpKXt2YXIgYj1hLm1hcCxjPWIuQ2IoKSxkPWEucGl4ZWw7YT1kWzBdLWNbMF0vMjtkPWNbMV0vMi1kWzFdO2M9TWF0aC5hdGFuMihkLGEpO2E9TWF0aC5zcXJ0KGEqYStkKmQpO2I9Yi5hYSgpO2IubC5yb3RhdGlvbiE9PXJlJiZ2b2lkIDAhPT10aGlzLmYmJihkPWMtdGhpcy5mLEtnKGIsYi5TYSgpLWQpKTt0aGlzLmY9Yzt2b2lkIDAhPT10aGlzLmEmJihjPXRoaXMuYSooYi5QYSgpL2EpLFRnKGIsYykpO3ZvaWQgMCE9PXRoaXMuYSYmKHRoaXMuaj10aGlzLmEvYSk7dGhpcy5hPWF9fVxuZnVuY3Rpb24gc3coYSl7aWYoIWRoKGEpKXJldHVybiEwO2E9YS5tYXAuYWEoKTtiZyhhLDEsLTEpO3ZhciBiPXRoaXMuai0xLGM9YS5TYSgpO2M9YS5jb25zdHJhaW5Sb3RhdGlvbihjLDApO0tnKGEsYyx2b2lkIDAsdm9pZCAwKTtjPWEuUGEoKTt2YXIgZD10aGlzLm87Yz1hLmNvbnN0cmFpblJlc29sdXRpb24oYywwLGIpO1RnKGEsYyx2b2lkIDAsZCk7dGhpcy5qPTA7cmV0dXJuITF9ZnVuY3Rpb24gcXcoYSl7cmV0dXJuIGRoKGEpJiZ0aGlzLnMoYSk/KGJnKGEubWFwLmFhKCksMSwxKSx0aGlzLmE9dGhpcy5mPXZvaWQgMCwhMCk6ITF9O2Z1bmN0aW9uIFQoYSl7YT1hP2E6e307dmFyIGI9a2Ioe30sYSk7ZGVsZXRlIGIuc3R5bGU7ZGVsZXRlIGIucmVuZGVyQnVmZmVyO2RlbGV0ZSBiLnVwZGF0ZVdoaWxlQW5pbWF0aW5nO2RlbGV0ZSBiLnVwZGF0ZVdoaWxlSW50ZXJhY3Rpbmc7eGcuY2FsbCh0aGlzLGIpO3RoaXMuRD12b2lkIDAhPT1hLmRlY2x1dHRlcj9hLmRlY2x1dHRlcjohMTt0aGlzLmY9dm9pZCAwIT09YS5yZW5kZXJCdWZmZXI/YS5yZW5kZXJCdWZmZXI6MTAwO3RoaXMuQz1udWxsO3RoaXMuVj12b2lkIDA7dGhpcy5qKGEuc3R5bGUpO3RoaXMuY2E9dm9pZCAwIT09YS51cGRhdGVXaGlsZUFuaW1hdGluZz9hLnVwZGF0ZVdoaWxlQW5pbWF0aW5nOiExO3RoaXMucmE9dm9pZCAwIT09YS51cGRhdGVXaGlsZUludGVyYWN0aW5nP2EudXBkYXRlV2hpbGVJbnRlcmFjdGluZzohMTt0aGlzLmw9YS5yZW5kZXJNb2RlfHxcInZlY3RvclwiO3RoaXMudHlwZT1cIlZFQ1RPUlwifXcoVCx4Zyk7VC5wcm90b3R5cGUuQj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkN9O1xuVC5wcm90b3R5cGUuaWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5WfTtULnByb3RvdHlwZS5qPWZ1bmN0aW9uKGEpe3RoaXMuQz12b2lkIDAhPT1hP2E6Rms7dGhpcy5WPW51bGw9PT1hP3ZvaWQgMDpEayh0aGlzLkMpO3RoaXMudSgpfTt2YXIgaWs9XCJyZW5kZXJPcmRlclwiO2Z1bmN0aW9uIHR3KCl7cmV0dXJuW1stSW5maW5pdHksLUluZmluaXR5LEluZmluaXR5LEluZmluaXR5XV19O2Z1bmN0aW9uIHV3KGEpe1ZjLmNhbGwodGhpcyk7dGhpcy5jPU9iKGEucHJvamVjdGlvbik7dGhpcy52PW51bGw7dGhpcy5DPXZ3KHRoaXMsYS5hdHRyaWJ1dGlvbnMpO3RoaXMuVD1hLmxvZ287dGhpcy5yYT12b2lkIDAhPT1hLnN0YXRlP2Euc3RhdGU6XCJyZWFkeVwiO3RoaXMuRD12b2lkIDAhPT1hLndyYXBYP2Eud3JhcFg6ITF9dyh1dyxWYyk7XG5mdW5jdGlvbiB2dyhhLGIpe2lmKCFiKXJldHVybiBudWxsO2lmKGIgaW5zdGFuY2VvZiBFYylyZXR1cm4gYS52PVtiXSxmdW5jdGlvbigpe3JldHVybltiLm9nXX07aWYoQXJyYXkuaXNBcnJheShiKSl7aWYoYlswXWluc3RhbmNlb2YgRWMpe2Eudj1iO3ZhciBjPWIubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLm9nfSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGN9fWEudj1iLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gbmV3IEVjKHtodG1sOmF9KX0pO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBifX1pZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYilyZXR1cm4gYjthLnY9W25ldyBFYyh7aHRtbDpifSldO3JldHVybiBmdW5jdGlvbigpe3JldHVybltiXX19az11dy5wcm90b3R5cGU7ay53YT1lYTtrLnphPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudn07ay5BYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlR9O2suRGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTtrLmdldFN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmF9O1xuay5zYT1mdW5jdGlvbigpe3RoaXMudSgpfTtrLnZhPWZ1bmN0aW9uKGEpe3RoaXMuQz12dyh0aGlzLGEpO3RoaXMudSgpfTtmdW5jdGlvbiB3dyhhLGIpe2EucmE9YjthLnUoKX07ZnVuY3Rpb24gVShhKXthPWF8fHt9O3V3LmNhbGwodGhpcyx7YXR0cmlidXRpb25zOmEuYXR0cmlidXRpb25zLGxvZ286YS5sb2dvLHByb2plY3Rpb246dm9pZCAwLHN0YXRlOlwicmVhZHlcIix3cmFwWDp2b2lkIDAhPT1hLndyYXBYP2Eud3JhcFg6ITB9KTt0aGlzLm89ZWE7dGhpcy5PPWEuZm9ybWF0O3RoaXMuJD12b2lkIDA9PWEub3ZlcmxhcHM/ITA6YS5vdmVybGFwczt0aGlzLlY9YS51cmw7dm9pZCAwIT09YS5sb2FkZXI/dGhpcy5vPWEubG9hZGVyOnZvaWQgMCE9PXRoaXMuViYmKG9hKHRoaXMuTyw3KSx0aGlzLm89Rm8odGhpcy5WLHRoaXMuTykpO3RoaXMuY2E9dm9pZCAwIT09YS5zdHJhdGVneT9hLnN0cmF0ZWd5OnR3O3ZhciBiPXZvaWQgMCE9PWEudXNlU3BhdGlhbEluZGV4P2EudXNlU3BhdGlhbEluZGV4OiEwO3RoaXMuYT1iP25ldyB1bTpudWxsO3RoaXMuQj1uZXcgdW07dGhpcy5mPXt9O3RoaXMuaj17fTt0aGlzLmw9e307dGhpcy5zPXt9O3RoaXMuaT1udWxsO2lmKGEuZmVhdHVyZXMgaW5zdGFuY2VvZlxuQil7dmFyIGM9YS5mZWF0dXJlczt2YXIgZD1jLmF9ZWxzZSBBcnJheS5pc0FycmF5KGEuZmVhdHVyZXMpJiYoZD1hLmZlYXR1cmVzKTtifHx2b2lkIDAhPT1jfHwoYz1uZXcgQihkKSk7dm9pZCAwIT09ZCYmeHcodGhpcyxkKTt2b2lkIDAhPT1jJiZ5dyh0aGlzLGMpfXcoVSx1dyk7az1VLnByb3RvdHlwZTtrLkdiPWZ1bmN0aW9uKGEpe3ZhciBiPXgoYSkudG9TdHJpbmcoKTtpZih6dyh0aGlzLGIsYSkpe0F3KHRoaXMsYixhKTt2YXIgYz1hLlUoKTtjPyhiPWMuRygpLHRoaXMuYSYmdGhpcy5hLkNhKGIsYSkpOnRoaXMuZltiXT1hO3RoaXMuYihuZXcgQncoXCJhZGRmZWF0dXJlXCIsYSkpfXRoaXMudSgpfTtmdW5jdGlvbiBBdyhhLGIsYyl7YS5zW2JdPVt5KGMsXCJjaGFuZ2VcIixhLmdqLGEpLHkoYyxcInByb3BlcnR5Y2hhbmdlXCIsYS5naixhKV19XG5mdW5jdGlvbiB6dyhhLGIsYyl7dmFyIGQ9ITAsZT1jLmM7dm9pZCAwIT09ZT9lLnRvU3RyaW5nKClpbiBhLmo/ZD0hMTphLmpbZS50b1N0cmluZygpXT1jOihvYSghKGIgaW4gYS5sKSwzMCksYS5sW2JdPWMpO3JldHVybiBkfWsuUWM9ZnVuY3Rpb24oYSl7eHcodGhpcyxhKTt0aGlzLnUoKX07ZnVuY3Rpb24geHcoYSxiKXt2YXIgYyxkPVtdLGU9W10sZj1bXTt2YXIgZz0wO2ZvcihjPWIubGVuZ3RoO2c8YztnKyspe3ZhciBoPWJbZ107dmFyIGw9eChoKS50b1N0cmluZygpO3p3KGEsbCxoKSYmZS5wdXNoKGgpfWc9MDtmb3IoYz1lLmxlbmd0aDtnPGM7ZysrKWg9ZVtnXSxsPXgoaCkudG9TdHJpbmcoKSxBdyhhLGwsaCksKGI9aC5VKCkpPyhsPWIuRygpLGQucHVzaChsKSxmLnB1c2goaCkpOmEuZltsXT1oO2EuYSYmYS5hLmxvYWQoZCxmKTtnPTA7Zm9yKGM9ZS5sZW5ndGg7ZzxjO2crKylhLmIobmV3IEJ3KFwiYWRkZmVhdHVyZVwiLGVbZ10pKX1cbmZ1bmN0aW9uIHl3KGEsYil7dmFyIGM9ITE7eShhLFwiYWRkZmVhdHVyZVwiLGZ1bmN0aW9uKGEpe2N8fChjPSEwLGIucHVzaChhLmZlYXR1cmUpLGM9ITEpfSk7eShhLFwicmVtb3ZlZmVhdHVyZVwiLGZ1bmN0aW9uKGEpe2N8fChjPSEwLGIucmVtb3ZlKGEuZmVhdHVyZSksYz0hMSl9KTt5KGIsXCJhZGRcIixmdW5jdGlvbihhKXtjfHwoYz0hMCx0aGlzLkdiKGEuZWxlbWVudCksYz0hMSl9LGEpO3koYixcInJlbW92ZVwiLGZ1bmN0aW9uKGEpe2N8fChjPSEwLHRoaXMuTGIoYS5lbGVtZW50KSxjPSExKX0sYSk7YS5pPWJ9XG5rLmNsZWFyPWZ1bmN0aW9uKGEpe2lmKGEpe2Zvcih2YXIgYiBpbiB0aGlzLnMpdGhpcy5zW2JdLmZvckVhY2goR2MpO3RoaXMuaXx8KHRoaXMucz17fSx0aGlzLmo9e30sdGhpcy5sPXt9KX1lbHNlIGlmKHRoaXMuYSl7dGhpcy5hLmZvckVhY2godGhpcy5ZZyx0aGlzKTtmb3IodmFyIGMgaW4gdGhpcy5mKXRoaXMuWWcodGhpcy5mW2NdKX10aGlzLmkmJnRoaXMuaS5jbGVhcigpO3RoaXMuYSYmdGhpcy5hLmNsZWFyKCk7dGhpcy5CLmNsZWFyKCk7dGhpcy5mPXt9O3RoaXMuYihuZXcgQncoXCJjbGVhclwiKSk7dGhpcy51KCl9O2suTGg9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmEpcmV0dXJuIHRoaXMuYS5mb3JFYWNoKGEsYik7aWYodGhpcy5pKXJldHVybiB0aGlzLmkuZm9yRWFjaChhLGIpfTtmdW5jdGlvbiBDdyhhLGIsYyl7YS5lYyhbYlswXSxiWzFdLGJbMF0sYlsxXV0sZnVuY3Rpb24oYSl7aWYoYS5VKCkuQmIoYikpcmV0dXJuIGMuY2FsbCh2b2lkIDAsYSl9KX1cbmsuZWM9ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMuYSlyZXR1cm4gem0odGhpcy5hLGEsYixjKTtpZih0aGlzLmkpcmV0dXJuIHRoaXMuaS5mb3JFYWNoKGIsYyl9O2suTWg9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLmVjKGEsZnVuY3Rpb24oZCl7aWYoZC5VKCkuJGEoYSkmJihkPWIuY2FsbChjLGQpKSlyZXR1cm4gZH0pfTtrLlRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaX07ay5lZT1mdW5jdGlvbigpe2lmKHRoaXMuaSl2YXIgYT10aGlzLmkuYTtlbHNlIHRoaXMuYSYmKGE9d20odGhpcy5hKSxuYih0aGlzLmYpfHxnYyhhLG1iKHRoaXMuZikpKTtyZXR1cm4gYX07ay5TaD1mdW5jdGlvbihhKXt2YXIgYj1bXTtDdyh0aGlzLGEsZnVuY3Rpb24oYSl7Yi5wdXNoKGEpfSk7cmV0dXJuIGJ9O2suWWY9ZnVuY3Rpb24oYSl7cmV0dXJuIHhtKHRoaXMuYSxhKX07XG5rLk9oPWZ1bmN0aW9uKGEsYil7dmFyIGM9YVswXSxkPWFbMV0sZT1udWxsLGY9W05hTixOYU5dLGc9SW5maW5pdHksaD1bLUluZmluaXR5LC1JbmZpbml0eSxJbmZpbml0eSxJbmZpbml0eV0sbD1iP2I6UmU7em0odGhpcy5hLGgsZnVuY3Rpb24oYSl7aWYobChhKSl7dmFyIGI9YS5VKCksbT1nO2c9Yi5OYihjLGQsZixnKTtnPG0mJihlPWEsYT1NYXRoLnNxcnQoZyksaFswXT1jLWEsaFsxXT1kLWEsaFsyXT1jK2EsaFszXT1kK2EpfX0pO3JldHVybiBlfTtrLkc9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5HKGEpfTtrLlJoPWZ1bmN0aW9uKGEpe2E9dGhpcy5qW2EudG9TdHJpbmcoKV07cmV0dXJuIHZvaWQgMCE9PWE/YTpudWxsfTtrLmVqPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuT307ay5maj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlZ9O1xuay5naj1mdW5jdGlvbihhKXthPWEudGFyZ2V0O3ZhciBiPXgoYSkudG9TdHJpbmcoKSxjPWEuVSgpO2M/KGM9Yy5HKCksYiBpbiB0aGlzLmY/KGRlbGV0ZSB0aGlzLmZbYl0sdGhpcy5hJiZ0aGlzLmEuQ2EoYyxhKSk6dGhpcy5hJiZ2bSh0aGlzLmEsYyxhKSk6YiBpbiB0aGlzLmZ8fCh0aGlzLmEmJnRoaXMuYS5yZW1vdmUoYSksdGhpcy5mW2JdPWEpO2M9YS5jO3ZvaWQgMCE9PWM/KGM9Yy50b1N0cmluZygpLGIgaW4gdGhpcy5sPyhkZWxldGUgdGhpcy5sW2JdLHRoaXMualtjXT1hKTp0aGlzLmpbY10hPT1hJiYoRHcodGhpcyxhKSx0aGlzLmpbY109YSkpOmIgaW4gdGhpcy5sfHwoRHcodGhpcyxhKSx0aGlzLmxbYl09YSk7dGhpcy51KCk7dGhpcy5iKG5ldyBCdyhcImNoYW5nZWZlYXR1cmVcIixhKSl9O1xuay5hZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5CO2E9dGhpcy5jYShhLGIpO3ZhciBlO3ZhciBmPTA7Zm9yKGU9YS5sZW5ndGg7ZjxlOysrZil7dmFyIGc9YVtmXTt6bShkLGcsZnVuY3Rpb24oYSl7cmV0dXJuIExhKGEuZXh0ZW50LGcpfSl8fCh0aGlzLm8uY2FsbCh0aGlzLGcsYixjKSxkLkNhKGcse2V4dGVudDpnLnNsaWNlKCl9KSl9fTtrLkNqPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuQixjO3ptKGIsYSxmdW5jdGlvbihiKXtpZihTYShiLmV4dGVudCxhKSlyZXR1cm4gYz1iLCEwfSk7YyYmYi5yZW1vdmUoYyl9O2suTGI9ZnVuY3Rpb24oYSl7dmFyIGI9eChhKS50b1N0cmluZygpO2IgaW4gdGhpcy5mP2RlbGV0ZSB0aGlzLmZbYl06dGhpcy5hJiZ0aGlzLmEucmVtb3ZlKGEpO3RoaXMuWWcoYSk7dGhpcy51KCl9O1xuay5ZZz1mdW5jdGlvbihhKXt2YXIgYj14KGEpLnRvU3RyaW5nKCk7dGhpcy5zW2JdLmZvckVhY2goR2MpO2RlbGV0ZSB0aGlzLnNbYl07dmFyIGM9YS5jO3ZvaWQgMCE9PWM/ZGVsZXRlIHRoaXMualtjLnRvU3RyaW5nKCldOmRlbGV0ZSB0aGlzLmxbYl07dGhpcy5iKG5ldyBCdyhcInJlbW92ZWZlYXR1cmVcIixhKSl9O2Z1bmN0aW9uIER3KGEsYil7Zm9yKHZhciBjIGluIGEuailpZihhLmpbY109PT1iKXtkZWxldGUgYS5qW2NdO2JyZWFrfX1rLmhqPWZ1bmN0aW9uKGEpe3RoaXMubz1hfTtmdW5jdGlvbiBCdyhhLGIpe1FjLmNhbGwodGhpcyxhKTt0aGlzLmZlYXR1cmU9Yn13KEJ3LFFjKTtmdW5jdGlvbiBFdyhhKXtmaC5jYWxsKHRoaXMse2hhbmRsZURvd25FdmVudDpGdyxoYW5kbGVFdmVudDpHdyxoYW5kbGVVcEV2ZW50Okh3fSk7dGhpcy5WPSExO3RoaXMuY2E9bnVsbDt0aGlzLm89ITE7dGhpcy5vYj1hLnNvdXJjZT9hLnNvdXJjZTpudWxsO3RoaXMuTGE9YS5mZWF0dXJlcz9hLmZlYXR1cmVzOm51bGw7dGhpcy5Yaz1hLnNuYXBUb2xlcmFuY2U/YS5zbmFwVG9sZXJhbmNlOjEyO3RoaXMuTz1hLnR5cGU7dGhpcy5mPUl3KHRoaXMuTyk7dGhpcy4kaz0hIWEuc3RvcENsaWNrO3RoaXMuRWE9YS5taW5Qb2ludHM/YS5taW5Qb2ludHM6dGhpcy5mPT09Snc/MzoyO3RoaXMudWE9YS5tYXhQb2ludHM/YS5tYXhQb2ludHM6SW5maW5pdHk7dGhpcy5NZD1hLmZpbmlzaENvbmRpdGlvbj9hLmZpbmlzaENvbmRpdGlvbjpSZTt2YXIgYj1hLmdlb21ldHJ5RnVuY3Rpb247aWYoIWIpaWYoXCJDaXJjbGVcIj09PXRoaXMuTyliPWZ1bmN0aW9uKGEsYil7Yj1iP2I6bmV3IGd3KFtOYU4sTmFOXSk7XG5iLmhoKGFbMF0sTWF0aC5zcXJ0KEhlKGFbMF0sYVsxXSkpKTtyZXR1cm4gYn07ZWxzZXt2YXIgYyxkPXRoaXMuZjtkPT09S3c/Yz1DOmQ9PT1Mdz9jPUk6ZD09PUp3JiYoYz1EKTtiPWZ1bmN0aW9uKGEsYil7Yj9kPT09Snc/YVswXS5sZW5ndGg/Yi5uYShbYVswXS5jb25jYXQoW2FbMF1bMF1dKV0pOmIubmEoW10pOmIubmEoYSk6Yj1uZXcgYyhhKTtyZXR1cm4gYn19dGhpcy5jYj1iO3RoaXMuVD10aGlzLkM9dGhpcy5hPXRoaXMuQj10aGlzLmo9dGhpcy5zPW51bGw7dGhpcy5zYz1hLmNsaWNrVG9sZXJhbmNlP2EuY2xpY2tUb2xlcmFuY2UqYS5jbGlja1RvbGVyYW5jZTozNjt0aGlzLnJhPW5ldyBUKHtzb3VyY2U6bmV3IFUoe3VzZVNwYXRpYWxJbmRleDohMSx3cmFwWDphLndyYXBYP2Eud3JhcFg6ITF9KSxzdHlsZTphLnN0eWxlP2Euc3R5bGU6TXcoKX0pO3RoaXMuYmI9YS5nZW9tZXRyeU5hbWU7dGhpcy5Xaz1hLmNvbmRpdGlvbj9hLmNvbmRpdGlvbjphaDt0aGlzLklmPWEuZnJlZWhhbmQ/XG5SZTphLmZyZWVoYW5kQ29uZGl0aW9uP2EuZnJlZWhhbmRDb25kaXRpb246Ymg7eSh0aGlzLFhjKFwiYWN0aXZlXCIpLHRoaXMuS2ksdGhpcyl9dyhFdyxmaCk7ZnVuY3Rpb24gTXcoKXt2YXIgYT1HaygpO3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYVtiLlUoKS5TKCldfX1rPUV3LnByb3RvdHlwZTtrLnNldE1hcD1mdW5jdGlvbihhKXtmaC5wcm90b3R5cGUuc2V0TWFwLmNhbGwodGhpcyxhKTt0aGlzLktpKCl9O2Z1bmN0aW9uIEd3KGEpe3RoaXMubz10aGlzLmYhPT1LdyYmdGhpcy5JZihhKTt2YXIgYj0hMDt0aGlzLm8mJlwicG9pbnRlcmRyYWdcIj09PWEudHlwZSYmbnVsbCE9PXRoaXMuaj8oTncodGhpcyxhKSxiPSExKTp0aGlzLm8mJlwicG9pbnRlcmRvd25cIj09PWEudHlwZT9iPSExOlwicG9pbnRlcm1vdmVcIj09PWEudHlwZT9iPU93KHRoaXMsYSk6XCJkYmxjbGlja1wiPT09YS50eXBlJiYoYj0hMSk7cmV0dXJuIGdoLmNhbGwodGhpcyxhKSYmYn1cbmZ1bmN0aW9uIEZ3KGEpe3RoaXMuVj0hdGhpcy5vO3JldHVybiB0aGlzLm8/KHRoaXMuY2E9YS5waXhlbCx0aGlzLnN8fFB3KHRoaXMsYSksITApOnRoaXMuV2soYSk/KHRoaXMuY2E9YS5waXhlbCwhMCk6ITF9ZnVuY3Rpb24gSHcoYSl7dmFyIGI9ITA7T3codGhpcyxhKTt2YXIgYz10aGlzLmY9PT1Rdzt0aGlzLlY/KHRoaXMucz90aGlzLm98fGM/dGhpcy5QZCgpOlJ3KHRoaXMsYSk/dGhpcy5NZChhKSYmdGhpcy5QZCgpOk53KHRoaXMsYSk6KFB3KHRoaXMsYSksdGhpcy5mPT09S3cmJnRoaXMuUGQoKSksYj0hMSk6dGhpcy5vJiYodGhpcy5zPW51bGwsU3codGhpcykpOyFiJiZ0aGlzLiRrJiZhLnN0b3BQcm9wYWdhdGlvbigpO3JldHVybiBifVxuZnVuY3Rpb24gT3coYSxiKXtpZihhLmNhJiYoIWEubyYmYS5WfHxhLm8mJiFhLlYpKXt2YXIgYz1hLmNhLGQ9Yi5waXhlbCxlPWNbMF0tZFswXTtjPWNbMV0tZFsxXTtlPWUqZStjKmM7YS5WPWEubz9lPmEuc2M6ZTw9YS5zY31hLnM/KGU9Yi5jb29yZGluYXRlLGM9YS5qLlUoKSxhLmY9PT1Ldz9kPWEuYTphLmY9PT1Kdz8oZD1hLmFbMF0sZD1kW2QubGVuZ3RoLTFdLFJ3KGEsYikmJihlPWEucy5zbGljZSgpKSk6KGQ9YS5hLGQ9ZFtkLmxlbmd0aC0xXSksZFswXT1lWzBdLGRbMV09ZVsxXSxhLmNiKGEuYSxjKSxhLkImJmEuQi5VKCkubmEoZSksYyBpbnN0YW5jZW9mIEQmJmEuZiE9PUp3PyhhLkN8fChhLkM9bmV3IEhrKG5ldyBJKG51bGwpKSksZT1jLldoKDApLGI9YS5DLlUoKSxiLmJhKGUuamEsZS5kYSgpKSk6YS5UJiYoYj1hLkMuVSgpLGIubmEoYS5UKSksVHcoYSkpOihiPWIuY29vcmRpbmF0ZS5zbGljZSgpLGEuQj9hLkIuVSgpLm5hKGIpOihhLkI9bmV3IEhrKG5ldyBDKGIpKSxcblR3KGEpKSk7cmV0dXJuITB9ZnVuY3Rpb24gUncoYSxiKXt2YXIgYz0hMTtpZihhLmope3ZhciBkPSExLGU9W2Euc107YS5mPT09THc/ZD1hLmEubGVuZ3RoPmEuRWE6YS5mPT09SncmJihkPWEuYVswXS5sZW5ndGg+YS5FYSxlPVthLmFbMF1bMF0sYS5hWzBdW2EuYVswXS5sZW5ndGgtMl1dKTtpZihkKXtkPWIubWFwO2Zvcih2YXIgZj0wLGc9ZS5sZW5ndGg7ZjxnO2YrKyl7dmFyIGg9ZVtmXSxsPWQuSWEoaCksbT1iLnBpeGVsO2M9bVswXS1sWzBdO2w9bVsxXS1sWzFdO2lmKGM9TWF0aC5zcXJ0KGMqYytsKmwpPD0oYS5vPzE6YS5Yaykpe2Eucz1oO2JyZWFrfX19fXJldHVybiBjfVxuZnVuY3Rpb24gUHcoYSxiKXtiPWIuY29vcmRpbmF0ZTthLnM9YjthLmY9PT1Ldz9hLmE9Yi5zbGljZSgpOmEuZj09PUp3PyhhLmE9W1tiLnNsaWNlKCksYi5zbGljZSgpXV0sYS5UPWEuYVswXSk6KGEuYT1bYi5zbGljZSgpLGIuc2xpY2UoKV0sYS5mPT09UXcmJihhLlQ9YS5hKSk7YS5UJiYoYS5DPW5ldyBIayhuZXcgSShhLlQpKSk7Yj1hLmNiKGEuYSk7YS5qPW5ldyBIazthLmJiJiZhLmouTGMoYS5iYik7YS5qLlZhKGIpO1R3KGEpO2EuYihuZXcgVXcoXCJkcmF3c3RhcnRcIixhLmopKX1cbmZ1bmN0aW9uIE53KGEsYil7Yj1iLmNvb3JkaW5hdGU7dmFyIGM9YS5qLlUoKSxkO2lmKGEuZj09PUx3KXthLnM9Yi5zbGljZSgpO3ZhciBlPWEuYTtlLmxlbmd0aD49YS51YSYmKGEubz9lLnBvcCgpOmQ9ITApO2UucHVzaChiLnNsaWNlKCkpO2EuY2IoZSxjKX1lbHNlIGEuZj09PUp3JiYoZT1hLmFbMF0sZS5sZW5ndGg+PWEudWEmJihhLm8/ZS5wb3AoKTpkPSEwKSxlLnB1c2goYi5zbGljZSgpKSxkJiYoYS5zPWVbMF0pLGEuY2IoYS5hLGMpKTtUdyhhKTtkJiZhLlBkKCl9XG5rLm5xPWZ1bmN0aW9uKCl7aWYodGhpcy5qKXt2YXIgYT10aGlzLmouVSgpO2lmKHRoaXMuZj09PUx3KXt2YXIgYj10aGlzLmE7Yi5zcGxpY2UoLTIsMSk7dGhpcy5jYihiLGEpOzI8PWIubGVuZ3RoJiYodGhpcy5zPWJbYi5sZW5ndGgtMl0uc2xpY2UoKSl9ZWxzZSBpZih0aGlzLmY9PT1Kdyl7Yj10aGlzLmFbMF07Yi5zcGxpY2UoLTIsMSk7dmFyIGM9dGhpcy5DLlUoKTtjLm5hKGIpO3RoaXMuY2IodGhpcy5hLGEpfTA9PT1iLmxlbmd0aCYmKHRoaXMucz1udWxsKTtUdyh0aGlzKX19O1xuay5QZD1mdW5jdGlvbigpe3ZhciBhPVN3KHRoaXMpLGI9dGhpcy5hLGM9YS5VKCk7dGhpcy5mPT09THc/KGIucG9wKCksdGhpcy5jYihiLGMpKTp0aGlzLmY9PT1KdyYmKGJbMF0ucG9wKCksdGhpcy5jYihiLGMpLGI9Yy5XKCkpO1wiTXVsdGlQb2ludFwiPT09dGhpcy5PP2EuVmEobmV3IE5vKFtiXSkpOlwiTXVsdGlMaW5lU3RyaW5nXCI9PT10aGlzLk8/YS5WYShuZXcgUChbYl0pKTpcIk11bHRpUG9seWdvblwiPT09dGhpcy5PJiZhLlZhKG5ldyBRKFtiXSkpO3RoaXMuYihuZXcgVXcoXCJkcmF3ZW5kXCIsYSkpO3RoaXMuTGEmJnRoaXMuTGEucHVzaChhKTt0aGlzLm9iJiZ0aGlzLm9iLkdiKGEpfTtmdW5jdGlvbiBTdyhhKXthLnM9bnVsbDt2YXIgYj1hLmo7YiYmKGEuaj1udWxsLGEuQj1udWxsLGEuQz1udWxsLGEucmEuaGEoKS5jbGVhcighMCkpO3JldHVybiBifVxuay5abj1mdW5jdGlvbihhKXt2YXIgYj1hLlUoKTt0aGlzLmo9YTt0aGlzLmE9Yi5XKCk7YT10aGlzLmFbdGhpcy5hLmxlbmd0aC0xXTt0aGlzLnM9YS5zbGljZSgpO3RoaXMuYS5wdXNoKGEuc2xpY2UoKSk7VHcodGhpcyk7dGhpcy5iKG5ldyBVdyhcImRyYXdzdGFydFwiLHRoaXMuaikpfTtrLmpkPVNlO2Z1bmN0aW9uIFR3KGEpe3ZhciBiPVtdO2EuaiYmYi5wdXNoKGEuaik7YS5DJiZiLnB1c2goYS5DKTthLkImJmIucHVzaChhLkIpO2E9YS5yYS5oYSgpO2EuY2xlYXIoITApO2EuUWMoYil9ay5LaT1mdW5jdGlvbigpe3ZhciBhPXRoaXMudixiPXRoaXMuYygpO2EmJmJ8fFN3KHRoaXMpO3RoaXMucmEuc2V0TWFwKGI/YTpudWxsKX07XG5mdW5jdGlvbiBJdyhhKXt2YXIgYjtcIlBvaW50XCI9PT1hfHxcIk11bHRpUG9pbnRcIj09PWE/Yj1LdzpcIkxpbmVTdHJpbmdcIj09PWF8fFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1hP2I9THc6XCJQb2x5Z29uXCI9PT1hfHxcIk11bHRpUG9seWdvblwiPT09YT9iPUp3OlwiQ2lyY2xlXCI9PT1hJiYoYj1Rdyk7cmV0dXJuIGJ9dmFyIEt3PVwiUG9pbnRcIixMdz1cIkxpbmVTdHJpbmdcIixKdz1cIlBvbHlnb25cIixRdz1cIkNpcmNsZVwiO2Z1bmN0aW9uIFV3KGEsYil7UWMuY2FsbCh0aGlzLGEpO3RoaXMuZmVhdHVyZT1ifXcoVXcsUWMpO2Z1bmN0aW9uIFZ3KGEpe3ZhciBiPWF8fHt9O3RoaXMuYT10aGlzLmo9bnVsbDt0aGlzLkM9dm9pZCAwIT09Yi5waXhlbFRvbGVyYW5jZT9iLnBpeGVsVG9sZXJhbmNlOjEwO3RoaXMuQj0hMTt0aGlzLlQ9dGhpcy5zPW51bGw7YXx8KGE9e30pO2ZoLmNhbGwodGhpcyx7aGFuZGxlRG93bkV2ZW50Old3LGhhbmRsZURyYWdFdmVudDpYdyxoYW5kbGVFdmVudDpZdyxoYW5kbGVVcEV2ZW50Olp3fSk7dGhpcy5vPW5ldyBUKHtzb3VyY2U6bmV3IFUoe3VzZVNwYXRpYWxJbmRleDohMSx3cmFwWDohIWEud3JhcFh9KSxzdHlsZTphLmJveFN0eWxlP2EuYm94U3R5bGU6JHcoKSx1cGRhdGVXaGlsZUFuaW1hdGluZzohMCx1cGRhdGVXaGlsZUludGVyYWN0aW5nOiEwfSk7dGhpcy5PPW5ldyBUKHtzb3VyY2U6bmV3IFUoe3VzZVNwYXRpYWxJbmRleDohMSx3cmFwWDohIWEud3JhcFh9KSxzdHlsZTphLnBvaW50ZXJTdHlsZT9hLnBvaW50ZXJTdHlsZTpheCgpLHVwZGF0ZVdoaWxlQW5pbWF0aW5nOiEwLFxudXBkYXRlV2hpbGVJbnRlcmFjdGluZzohMH0pO2EuZXh0ZW50JiZ0aGlzLmYoYS5leHRlbnQpfXcoVncsZmgpO2Z1bmN0aW9uIFl3KGEpe2lmKCEoYSBpbnN0YW5jZW9mIEFkKSlyZXR1cm4hMDtpZihcInBvaW50ZXJtb3ZlXCI9PWEudHlwZSYmIXRoaXMuRCl7dmFyIGI9YS5waXhlbCxjPWEubWFwLGQ9YngodGhpcyxiLGMpO2R8fChkPWMuUmEoYikpO2N4KHRoaXMsZCl9Z2guY2FsbCh0aGlzLGEpO3JldHVybiExfVxuZnVuY3Rpb24gV3coYSl7ZnVuY3Rpb24gYihhKXt2YXIgYj1udWxsLGM9bnVsbDthWzBdPT1lWzBdP2I9ZVsyXTphWzBdPT1lWzJdJiYoYj1lWzBdKTthWzFdPT1lWzFdP2M9ZVszXTphWzFdPT1lWzNdJiYoYz1lWzFdKTtyZXR1cm4gbnVsbCE9PWImJm51bGwhPT1jP1tiLGNdOm51bGx9dmFyIGM9YS5waXhlbCxkPWEubWFwLGU9dGhpcy5HKCk7KGE9YngodGhpcyxjLGQpKSYmZT8oYz1hWzBdPT1lWzBdfHxhWzBdPT1lWzJdP2FbMF06bnVsbCxkPWFbMV09PWVbMV18fGFbMV09PWVbM10/YVsxXTpudWxsLG51bGwhPT1jJiZudWxsIT09ZD90aGlzLmE9ZHgoYihhKSk6bnVsbCE9PWM/dGhpcy5hPWV4KGIoW2MsZVsxXV0pLGIoW2MsZVszXV0pKTpudWxsIT09ZCYmKHRoaXMuYT1leChiKFtlWzBdLGRdKSxiKFtlWzJdLGRdKSkpKTooYT1kLlJhKGMpLHRoaXMuZihbYVswXSxhWzFdLGFbMF0sYVsxXV0pLHRoaXMuYT1keChhKSk7cmV0dXJuITB9XG5mdW5jdGlvbiBYdyhhKXt0aGlzLmEmJihhPWEuY29vcmRpbmF0ZSx0aGlzLmYodGhpcy5hKGEpKSxjeCh0aGlzLGEpKTtyZXR1cm4hMH1mdW5jdGlvbiBadygpe3RoaXMuYT1udWxsO3ZhciBhPXRoaXMuRygpO2EmJjAhPT1hYihhKXx8dGhpcy5mKG51bGwpO3JldHVybiExfWZ1bmN0aW9uICR3KCl7dmFyIGE9R2soKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5Qb2x5Z29ufX1mdW5jdGlvbiBheCgpe3ZhciBhPUdrKCk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuUG9pbnR9fWZ1bmN0aW9uIGR4KGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gQ2EoW2EsYl0pfX1mdW5jdGlvbiBleChhLGIpe3JldHVybiBhWzBdPT1iWzBdP2Z1bmN0aW9uKGMpe3JldHVybiBDYShbYSxbY1swXSxiWzFdXV0pfTphWzFdPT1iWzFdP2Z1bmN0aW9uKGMpe3JldHVybiBDYShbYSxbYlswXSxjWzFdXV0pfTpudWxsfVxuZnVuY3Rpb24gYngoYSxiLGMpe2Z1bmN0aW9uIGQoYSxiKXtyZXR1cm4gSmUoZSxhKS1KZShlLGIpfXZhciBlPWMuUmEoYiksZj1hLkcoKTtpZihmKXtmPVtbW2ZbMF0sZlsxXV0sW2ZbMF0sZlszXV1dLFtbZlswXSxmWzNdXSxbZlsyXSxmWzNdXV0sW1tmWzJdLGZbM11dLFtmWzJdLGZbMV1dXSxbW2ZbMl0sZlsxXV0sW2ZbMF0sZlsxXV1dXTtmLnNvcnQoZCk7Zj1mWzBdO3ZhciBnPUJlKGUsZiksaD1jLklhKGcpO2lmKEllKGIsaCk8PWEuQylyZXR1cm4gYj1jLklhKGZbMF0pLGM9Yy5JYShmWzFdKSxiPUhlKGgsYiksYz1IZShoLGMpLGEuQj1NYXRoLnNxcnQoTWF0aC5taW4oYixjKSk8PWEuQyxhLkImJihnPWI+Yz9mWzFdOmZbMF0pLGd9cmV0dXJuIG51bGx9ZnVuY3Rpb24gY3goYSxiKXt2YXIgYz1hLlQ7Yz9jLlUoKS5uYShiKTooYz1uZXcgSGsobmV3IEMoYikpLGEuVD1jLGEuTy5oYSgpLkdiKGMpKX1cblZ3LnByb3RvdHlwZS5zZXRNYXA9ZnVuY3Rpb24oYSl7dGhpcy5vLnNldE1hcChhKTt0aGlzLk8uc2V0TWFwKGEpO2ZoLnByb3RvdHlwZS5zZXRNYXAuY2FsbCh0aGlzLGEpfTtWdy5wcm90b3R5cGUuRz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmp9O1Z3LnByb3RvdHlwZS5mPWZ1bmN0aW9uKGEpe3RoaXMuaj1hP2E6bnVsbDt2YXIgYj10aGlzLnM7Yj9hP2IuVmEoUmYoYSkpOmIuVmEodm9pZCAwKToodGhpcy5zPWI9YT9uZXcgSGsoUmYoYSkpOm5ldyBIayh7fSksdGhpcy5vLmhhKCkuR2IoYikpO3RoaXMuYihuZXcgZngodGhpcy5qKSl9O2Z1bmN0aW9uIGZ4KGEpe1FjLmNhbGwodGhpcyxcImV4dGVudGNoYW5nZWRcIik7dGhpcy5leHRlbnQ9YX13KGZ4LFFjKTtmdW5jdGlvbiBneChhKXtmaC5jYWxsKHRoaXMse2hhbmRsZURvd25FdmVudDpoeCxoYW5kbGVEcmFnRXZlbnQ6aXgsaGFuZGxlRXZlbnQ6angsaGFuZGxlVXBFdmVudDpreH0pO3RoaXMuTWQ9YS5jb25kaXRpb24/YS5jb25kaXRpb246ZWg7dGhpcy5iYj1mdW5jdGlvbihhKXtyZXR1cm4gV2coYSkmJiRnKGEpfTt0aGlzLm9iPWEuZGVsZXRlQ29uZGl0aW9uP2EuZGVsZXRlQ29uZGl0aW9uOnRoaXMuYmI7dGhpcy5zYz1hLmluc2VydFZlcnRleENvbmRpdGlvbj9hLmluc2VydFZlcnRleENvbmRpdGlvbjpSZTt0aGlzLkxhPXRoaXMuZj1udWxsO3RoaXMuRWE9WzAsMF07dGhpcy5DPXRoaXMuVD0hMTt0aGlzLmE9bmV3IHVtO3RoaXMucmE9dm9pZCAwIT09YS5waXhlbFRvbGVyYW5jZT9hLnBpeGVsVG9sZXJhbmNlOjEwO3RoaXMucz10aGlzLnVhPSExO3RoaXMuaj1bXTt0aGlzLkI9bmV3IFQoe3NvdXJjZTpuZXcgVSh7dXNlU3BhdGlhbEluZGV4OiExLHdyYXBYOiEhYS53cmFwWH0pLHN0eWxlOmEuc3R5bGU/XG5hLnN0eWxlOmx4KCksdXBkYXRlV2hpbGVBbmltYXRpbmc6ITAsdXBkYXRlV2hpbGVJbnRlcmFjdGluZzohMH0pO3RoaXMuY2E9e1BvaW50OnRoaXMuaW8sTGluZVN0cmluZzp0aGlzLk1pLExpbmVhclJpbmc6dGhpcy5NaSxQb2x5Z29uOnRoaXMuam8sTXVsdGlQb2ludDp0aGlzLmZvLE11bHRpTGluZVN0cmluZzp0aGlzLmVvLE11bHRpUG9seWdvbjp0aGlzLmhvLENpcmNsZTp0aGlzLmJvLEdlb21ldHJ5Q29sbGVjdGlvbjp0aGlzLmNvfTt0aGlzLlY9bnVsbDthLnNvdXJjZT8odGhpcy5WPWEuc291cmNlLGE9bmV3IEIodGhpcy5WLmVlKCkpLHkodGhpcy5WLFwiYWRkZmVhdHVyZVwiLHRoaXMudm0sdGhpcykseSh0aGlzLlYsXCJyZW1vdmVmZWF0dXJlXCIsdGhpcy54bSx0aGlzKSk6YT1hLmZlYXR1cmVzO2lmKCFhKXRocm93IEVycm9yKFwiVGhlIG1vZGlmeSBpbnRlcmFjdGlvbiByZXF1aXJlcyBmZWF0dXJlcyBvciBhIHNvdXJjZVwiKTt0aGlzLm89YTt0aGlzLm8uZm9yRWFjaCh0aGlzLnhnLFxudGhpcyk7eSh0aGlzLm8sXCJhZGRcIix0aGlzLiRuLHRoaXMpO3kodGhpcy5vLFwicmVtb3ZlXCIsdGhpcy5hbyx0aGlzKTt0aGlzLk89bnVsbH13KGd4LGZoKTtrPWd4LnByb3RvdHlwZTtrLnhnPWZ1bmN0aW9uKGEpe3ZhciBiPWEuVSgpO2ImJmIuUygpaW4gdGhpcy5jYSYmdGhpcy5jYVtiLlMoKV0uY2FsbCh0aGlzLGEsYik7KGI9dGhpcy52KSYmYi5jJiZ0aGlzLmMoKSYmbXgodGhpcyx0aGlzLkVhLGIpO3koYSxcImNoYW5nZVwiLHRoaXMuTGksdGhpcyl9O2Z1bmN0aW9uIG54KGEsYil7YS5DfHwoYS5DPSEwLGEuYihuZXcgb3goXCJtb2RpZnlzdGFydFwiLGEubyxiKSkpfWZ1bmN0aW9uIHB4KGEsYil7cXgoYSxiKTthLmYmJjA9PT1hLm8ua2MoKSYmKGEuQi5oYSgpLkxiKGEuZiksYS5mPW51bGwpO01jKGIsXCJjaGFuZ2VcIixhLkxpLGEpfVxuZnVuY3Rpb24gcXgoYSxiKXthPWEuYTt2YXIgYz1bXTthLmZvckVhY2goZnVuY3Rpb24oYSl7Yj09PWEuZmVhdHVyZSYmYy5wdXNoKGEpfSk7Zm9yKHZhciBkPWMubGVuZ3RoLTE7MDw9ZDstLWQpYS5yZW1vdmUoY1tkXSl9ay5IYT1mdW5jdGlvbihhKXt0aGlzLmYmJiFhJiYodGhpcy5CLmhhKCkuTGIodGhpcy5mKSx0aGlzLmY9bnVsbCk7ZmgucHJvdG90eXBlLkhhLmNhbGwodGhpcyxhKX07ay5zZXRNYXA9ZnVuY3Rpb24oYSl7dGhpcy5CLnNldE1hcChhKTtmaC5wcm90b3R5cGUuc2V0TWFwLmNhbGwodGhpcyxhKX07ay52bT1mdW5jdGlvbihhKXthLmZlYXR1cmUmJnRoaXMuby5wdXNoKGEuZmVhdHVyZSl9O2sueG09ZnVuY3Rpb24oYSl7YS5mZWF0dXJlJiZ0aGlzLm8ucmVtb3ZlKGEuZmVhdHVyZSl9O2suJG49ZnVuY3Rpb24oYSl7dGhpcy54ZyhhLmVsZW1lbnQpfTtrLkxpPWZ1bmN0aW9uKGEpe3RoaXMuc3x8KGE9YS50YXJnZXQscHgodGhpcyxhKSx0aGlzLnhnKGEpKX07XG5rLmFvPWZ1bmN0aW9uKGEpe3B4KHRoaXMsYS5lbGVtZW50KX07ay5pbz1mdW5jdGlvbihhLGIpe3ZhciBjPWIuVygpO2E9e2ZlYXR1cmU6YSxnZW9tZXRyeTpiLG1hOltjLGNdfTt0aGlzLmEuQ2EoYi5HKCksYSl9O2suZm89ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLlcoKSxkO3ZhciBlPTA7Zm9yKGQ9Yy5sZW5ndGg7ZTxkOysrZSl7dmFyIGY9Y1tlXTtmPXtmZWF0dXJlOmEsZ2VvbWV0cnk6YixkZXB0aDpbZV0saW5kZXg6ZSxtYTpbZixmXX07dGhpcy5hLkNhKGIuRygpLGYpfX07ay5NaT1mdW5jdGlvbihhLGIpe3ZhciBjPWIuVygpLGQ7dmFyIGU9MDtmb3IoZD1jLmxlbmd0aC0xO2U8ZDsrK2Upe3ZhciBmPWMuc2xpY2UoZSxlKzIpO3ZhciBnPXtmZWF0dXJlOmEsZ2VvbWV0cnk6YixpbmRleDplLG1hOmZ9O3RoaXMuYS5DYShDYShmKSxnKX19O1xuay5lbz1mdW5jdGlvbihhLGIpe3ZhciBjPWIuVygpLGQsZTt2YXIgZj0wO2ZvcihlPWMubGVuZ3RoO2Y8ZTsrK2Ype3ZhciBnPWNbZl07dmFyIGg9MDtmb3IoZD1nLmxlbmd0aC0xO2g8ZDsrK2gpe3ZhciBsPWcuc2xpY2UoaCxoKzIpO3ZhciBtPXtmZWF0dXJlOmEsZ2VvbWV0cnk6YixkZXB0aDpbZl0saW5kZXg6aCxtYTpsfTt0aGlzLmEuQ2EoQ2EobCksbSl9fX07ay5qbz1mdW5jdGlvbihhLGIpe3ZhciBjPWIuVygpLGQsZTt2YXIgZj0wO2ZvcihlPWMubGVuZ3RoO2Y8ZTsrK2Ype3ZhciBnPWNbZl07dmFyIGg9MDtmb3IoZD1nLmxlbmd0aC0xO2g8ZDsrK2gpe3ZhciBsPWcuc2xpY2UoaCxoKzIpO3ZhciBtPXtmZWF0dXJlOmEsZ2VvbWV0cnk6YixkZXB0aDpbZl0saW5kZXg6aCxtYTpsfTt0aGlzLmEuQ2EoQ2EobCksbSl9fX07XG5rLmhvPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5XKCksZCxlLGY7dmFyIGc9MDtmb3IoZj1jLmxlbmd0aDtnPGY7KytnKXt2YXIgaD1jW2ddO3ZhciBsPTA7Zm9yKGU9aC5sZW5ndGg7bDxlOysrbCl7dmFyIG09aFtsXTt2YXIgbj0wO2ZvcihkPW0ubGVuZ3RoLTE7bjxkOysrbil7dmFyIHA9bS5zbGljZShuLG4rMik7dmFyIHE9e2ZlYXR1cmU6YSxnZW9tZXRyeTpiLGRlcHRoOltsLGddLGluZGV4Om4sbWE6cH07dGhpcy5hLkNhKENhKHApLHEpfX19fTtrLmJvPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi54YSgpLGQ9e2ZlYXR1cmU6YSxnZW9tZXRyeTpiLGluZGV4OjAsbWE6W2MsY119O2E9e2ZlYXR1cmU6YSxnZW9tZXRyeTpiLGluZGV4OjEsbWE6W2MsY119O2QuVGY9YS5UZj1bZCxhXTt0aGlzLmEuQ2EoUGEoYyksZCk7dGhpcy5hLkNhKGIuRygpLGEpfTtcbmsuY289ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmE7Zm9yKGI9MDtiPGMubGVuZ3RoOysrYil0aGlzLmNhW2NbYl0uUygpXS5jYWxsKHRoaXMsYSxjW2JdKX07ZnVuY3Rpb24gcngoYSxiKXt2YXIgYz1hLmY7Yz9jLlUoKS5uYShiKTooYz1uZXcgSGsobmV3IEMoYikpLGEuZj1jLGEuQi5oYSgpLkdiKGMpKX1mdW5jdGlvbiBzeChhLGIpe3JldHVybiBhLmluZGV4LWIuaW5kZXh9XG5mdW5jdGlvbiBoeChhKXtpZighdGhpcy5NZChhKSlyZXR1cm4hMTtteCh0aGlzLGEucGl4ZWwsYS5tYXApO3ZhciBiPWEubWFwLlJhKGEucGl4ZWwpO3RoaXMuai5sZW5ndGg9MDt0aGlzLkM9ITE7dmFyIGM9dGhpcy5mO2lmKGMpe3ZhciBkPVtdO2M9Yy5VKCkuVygpO3ZhciBlPUNhKFtjXSk7ZT14bSh0aGlzLmEsZSk7dmFyIGY9e307ZS5zb3J0KHN4KTtmb3IodmFyIGc9MCxoPWUubGVuZ3RoO2c8aDsrK2cpe3ZhciBsPWVbZ10sbT1sLm1hLG49eChsLmZlYXR1cmUpLHA9bC5kZXB0aDtwJiYobis9XCItXCIrcC5qb2luKFwiLVwiKSk7ZltuXXx8KGZbbl09QXJyYXkoMikpO2lmKFwiQ2lyY2xlXCI9PT1sLmdlb21ldHJ5LlMoKSYmMT09PWwuaW5kZXgpbT10eChiLGwpLEVlKG0sYykmJiFmW25dWzBdJiYodGhpcy5qLnB1c2goW2wsMF0pLGZbbl1bMF09bCk7ZWxzZSBpZihFZShtWzBdLGMpJiYhZltuXVswXSl0aGlzLmoucHVzaChbbCwwXSksZltuXVswXT1sO2Vsc2UgaWYoRWUobVsxXSxjKSYmXG4hZltuXVsxXSl7aWYoXCJMaW5lU3RyaW5nXCIhPT1sLmdlb21ldHJ5LlMoKSYmXCJNdWx0aUxpbmVTdHJpbmdcIiE9PWwuZ2VvbWV0cnkuUygpfHwhZltuXVswXXx8MCE9PWZbbl1bMF0uaW5kZXgpdGhpcy5qLnB1c2goW2wsMV0pLGZbbl1bMV09bH1lbHNlIHRoaXMuc2MoYSkmJngobSlpbiB0aGlzLkxhJiYhZltuXVswXSYmIWZbbl1bMV0mJmQucHVzaChbbCxjXSl9ZC5sZW5ndGgmJm54KHRoaXMsYSk7Zm9yKGE9ZC5sZW5ndGgtMTswPD1hOy0tYSl0aGlzLkVtLmFwcGx5KHRoaXMsZFthXSl9cmV0dXJuISF0aGlzLmZ9XG5mdW5jdGlvbiBpeChhKXt0aGlzLlQ9ITE7bngodGhpcyxhKTthPWEuY29vcmRpbmF0ZTtmb3IodmFyIGI9MCxjPXRoaXMuai5sZW5ndGg7YjxjOysrYil7dmFyIGQ9dGhpcy5qW2JdLGU9ZFswXSxmPWUuZGVwdGgsZz1lLmdlb21ldHJ5LGg9ZS5tYTtmb3IoZD1kWzFdO2EubGVuZ3RoPGcucGEoKTspYS5wdXNoKGhbZF1bYS5sZW5ndGhdKTtzd2l0Y2goZy5TKCkpe2Nhc2UgXCJQb2ludFwiOnZhciBsPWE7aFswXT1oWzFdPWE7YnJlYWs7Y2FzZSBcIk11bHRpUG9pbnRcIjpsPWcuVygpO2xbZS5pbmRleF09YTtoWzBdPWhbMV09YTticmVhaztjYXNlIFwiTGluZVN0cmluZ1wiOmw9Zy5XKCk7bFtlLmluZGV4K2RdPWE7aFtkXT1hO2JyZWFrO2Nhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpsPWcuVygpO2xbZlswXV1bZS5pbmRleCtkXT1hO2hbZF09YTticmVhaztjYXNlIFwiUG9seWdvblwiOmw9Zy5XKCk7bFtmWzBdXVtlLmluZGV4K2RdPWE7aFtkXT1hO2JyZWFrO2Nhc2UgXCJNdWx0aVBvbHlnb25cIjpsPWcuVygpO1xubFtmWzFdXVtmWzBdXVtlLmluZGV4K2RdPWE7aFtkXT1hO2JyZWFrO2Nhc2UgXCJDaXJjbGVcIjpoWzBdPWhbMV09YSwwPT09ZS5pbmRleD8odGhpcy5zPSEwLGcudWIoYSkpOih0aGlzLnM9ITAsZy5mZChJZShnLnhhKCksYSkpKSx0aGlzLnM9ITF9bCYmKGU9ZyxmPWwsdGhpcy5zPSEwLGUubmEoZiksdGhpcy5zPSExKX1yeCh0aGlzLGEpfWZ1bmN0aW9uIGt4KGEpe2Zvcih2YXIgYixjLGQ9dGhpcy5qLmxlbmd0aC0xOzA8PWQ7LS1kKWlmKGI9dGhpcy5qW2RdWzBdLGM9Yi5nZW9tZXRyeSxcIkNpcmNsZVwiPT09Yy5TKCkpe3ZhciBlPWMueGEoKSxmPWIuVGZbMF07Yj1iLlRmWzFdO2YubWFbMF09Zi5tYVsxXT1lO2IubWFbMF09Yi5tYVsxXT1lO3ZtKHRoaXMuYSxQYShlKSxmKTt2bSh0aGlzLmEsYy5HKCksYil9ZWxzZSB2bSh0aGlzLmEsQ2EoYi5tYSksYik7dGhpcy5DJiYodGhpcy5iKG5ldyBveChcIm1vZGlmeWVuZFwiLHRoaXMubyxhKSksdGhpcy5DPSExKTtyZXR1cm4hMX1cbmZ1bmN0aW9uIGp4KGEpe2lmKCEoYSBpbnN0YW5jZW9mIEFkKSlyZXR1cm4hMDt0aGlzLk89YTt2YXIgYjthLm1hcC5hYSgpLlZoKCl8fFwicG9pbnRlcm1vdmVcIiE9YS50eXBlfHx0aGlzLkR8fCh0aGlzLkVhPWEucGl4ZWwsbXgodGhpcyxhLnBpeGVsLGEubWFwKSk7dGhpcy5mJiZ0aGlzLm9iKGEpJiYoYj1cInNpbmdsZWNsaWNrXCI9PWEudHlwZSYmdGhpcy5UPyEwOnRoaXMuRGooKSk7XCJzaW5nbGVjbGlja1wiPT1hLnR5cGUmJih0aGlzLlQ9ITEpO3JldHVybiBnaC5jYWxsKHRoaXMsYSkmJiFifVxuZnVuY3Rpb24gbXgoYSxiLGMpe2Z1bmN0aW9uIGQoYSxiKXtyZXR1cm4gdXgoZSxhKS11eChlLGIpfXZhciBlPWMuUmEoYiksZj1GYShQYShlKSxjLmFhKCkuUGEoKSphLnJhKTtmPXhtKGEuYSxmKTtpZigwPGYubGVuZ3RoKXtmLnNvcnQoZCk7dmFyIGc9ZlswXSxoPWcubWEsbD10eChlLGcpLG09Yy5JYShsKSxuPUllKGIsbSk7aWYobjw9YS5yYSl7Yj17fTtpZihcIkNpcmNsZVwiPT09Zy5nZW9tZXRyeS5TKCkmJjE9PT1nLmluZGV4KWEudWE9ITAscngoYSxsKTtlbHNlIGZvcihuPWMuSWEoaFswXSksZz1jLklhKGhbMV0pLGM9SGUobSxuKSxtPUhlKG0sZyksbj1NYXRoLnNxcnQoTWF0aC5taW4oYyxtKSksYS51YT1uPD1hLnJhLGEudWEmJihsPWM+bT9oWzFdOmhbMF0pLHJ4KGEsbCksbT0xLGM9Zi5sZW5ndGg7bTxjOysrbSlpZihsPWZbbV0ubWEsRWUoaFswXSxsWzBdKSYmRWUoaFsxXSxsWzFdKXx8RWUoaFswXSxsWzFdKSYmRWUoaFsxXSxsWzBdKSliW3gobCldPSEwO2Vsc2UgYnJlYWs7XG5iW3goaCldPSEwO2EuTGE9YjtyZXR1cm59fWEuZiYmKGEuQi5oYSgpLkxiKGEuZiksYS5mPW51bGwpfWZ1bmN0aW9uIHV4KGEsYil7dmFyIGM9Yi5nZW9tZXRyeTtyZXR1cm5cIkNpcmNsZVwiPT09Yy5TKCkmJjE9PT1iLmluZGV4PyhhPUhlKGMueGEoKSxhKSxjPU1hdGguc3FydChhKS1jLkJkKCksYypjKTpKZShhLGIubWEpfWZ1bmN0aW9uIHR4KGEsYil7dmFyIGM9Yi5nZW9tZXRyeTtyZXR1cm5cIkNpcmNsZVwiPT09Yy5TKCkmJjE9PT1iLmluZGV4P2MuSWIoYSk6QmUoYSxiLm1hKX1cbmsuRW09ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9YS5tYSxkPWEuZmVhdHVyZSxlPWEuZ2VvbWV0cnksZj1hLmRlcHRoLGc9YS5pbmRleCxoO2IubGVuZ3RoPGUucGEoKTspYi5wdXNoKDApO3N3aXRjaChlLlMoKSl7Y2FzZSBcIk11bHRpTGluZVN0cmluZ1wiOmg9ZS5XKCk7aFtmWzBdXS5zcGxpY2UoZysxLDAsYik7YnJlYWs7Y2FzZSBcIlBvbHlnb25cIjpoPWUuVygpO2hbZlswXV0uc3BsaWNlKGcrMSwwLGIpO2JyZWFrO2Nhc2UgXCJNdWx0aVBvbHlnb25cIjpoPWUuVygpO2hbZlsxXV1bZlswXV0uc3BsaWNlKGcrMSwwLGIpO2JyZWFrO2Nhc2UgXCJMaW5lU3RyaW5nXCI6aD1lLlcoKTtoLnNwbGljZShnKzEsMCxiKTticmVhaztkZWZhdWx0OnJldHVybn10aGlzLnM9ITA7ZS5uYShoKTt0aGlzLnM9ITE7aD10aGlzLmE7aC5yZW1vdmUoYSk7dngodGhpcyxlLGcsZiwxKTthPXttYTpbY1swXSxiXSxmZWF0dXJlOmQsZ2VvbWV0cnk6ZSxkZXB0aDpmLGluZGV4Omd9O2guQ2EoQ2EoYS5tYSksYSk7XG50aGlzLmoucHVzaChbYSwxXSk7Yj17bWE6W2IsY1sxXV0sZmVhdHVyZTpkLGdlb21ldHJ5OmUsZGVwdGg6ZixpbmRleDpnKzF9O2guQ2EoQ2EoYi5tYSksYik7dGhpcy5qLnB1c2goW2IsMF0pO3RoaXMuVD0hMH07XG5rLkRqPWZ1bmN0aW9uKCl7aWYodGhpcy5PJiZcInBvaW50ZXJkcmFnXCIhPXRoaXMuTy50eXBlKXt2YXIgYT10aGlzLk87bngodGhpcyxhKTt2YXIgYj10aGlzLmosYz17fSxkLGU7Zm9yKGU9Yi5sZW5ndGgtMTswPD1lOy0tZSl7dmFyIGY9YltlXTt2YXIgZz1mWzBdO3ZhciBoPXgoZy5mZWF0dXJlKTtnLmRlcHRoJiYoaCs9XCItXCIrZy5kZXB0aC5qb2luKFwiLVwiKSk7aCBpbiBjfHwoY1toXT17fSk7MD09PWZbMV0/KGNbaF0ucmlnaHQ9ZyxjW2hdLmluZGV4PWcuaW5kZXgpOjE9PWZbMV0mJihjW2hdLmxlZnQ9ZyxjW2hdLmluZGV4PWcuaW5kZXgrMSl9Zm9yKGggaW4gYyl7dmFyIGw9Y1toXS5yaWdodDt2YXIgbT1jW2hdLmxlZnQ7ZT1jW2hdLmluZGV4O3ZhciBuPWUtMTtnPXZvaWQgMCE9PW0/bTpsOzA+biYmKG49MCk7Zj1nLmdlb21ldHJ5O3ZhciBwPWQ9Zi5XKCk7dmFyIHE9ITE7c3dpdGNoKGYuUygpKXtjYXNlIFwiTXVsdGlMaW5lU3RyaW5nXCI6MjxkW2cuZGVwdGhbMF1dLmxlbmd0aCYmXG4oZFtnLmRlcHRoWzBdXS5zcGxpY2UoZSwxKSxxPSEwKTticmVhaztjYXNlIFwiTGluZVN0cmluZ1wiOjI8ZC5sZW5ndGgmJihkLnNwbGljZShlLDEpLHE9ITApO2JyZWFrO2Nhc2UgXCJNdWx0aVBvbHlnb25cIjpwPXBbZy5kZXB0aFsxXV07Y2FzZSBcIlBvbHlnb25cIjpwPXBbZy5kZXB0aFswXV0sNDxwLmxlbmd0aCYmKGU9PXAubGVuZ3RoLTEmJihlPTApLHAuc3BsaWNlKGUsMSkscT0hMCwwPT09ZSYmKHAucG9wKCkscC5wdXNoKHBbMF0pLG49cC5sZW5ndGgtMSkpfXEmJihxPWYsdGhpcy5zPSEwLHEubmEoZCksdGhpcy5zPSExLGQ9W10sdm9pZCAwIT09bSYmKHRoaXMuYS5yZW1vdmUobSksZC5wdXNoKG0ubWFbMF0pKSx2b2lkIDAhPT1sJiYodGhpcy5hLnJlbW92ZShsKSxkLnB1c2gobC5tYVsxXSkpLHZvaWQgMCE9PW0mJnZvaWQgMCE9PWwmJihtPXtkZXB0aDpnLmRlcHRoLGZlYXR1cmU6Zy5mZWF0dXJlLGdlb21ldHJ5OmcuZ2VvbWV0cnksaW5kZXg6bixtYTpkfSx0aGlzLmEuQ2EoQ2EobS5tYSksXG5tKSksdngodGhpcyxmLGUsZy5kZXB0aCwtMSksdGhpcy5mJiYodGhpcy5CLmhhKCkuTGIodGhpcy5mKSx0aGlzLmY9bnVsbCksYi5sZW5ndGg9MCl9dGhpcy5iKG5ldyBveChcIm1vZGlmeWVuZFwiLHRoaXMubyxhKSk7dGhpcy5DPSExO3JldHVybiEwfXJldHVybiExfTtmdW5jdGlvbiB2eChhLGIsYyxkLGUpe3ptKGEuYSxiLkcoKSxmdW5jdGlvbihhKXthLmdlb21ldHJ5PT09YiYmKHZvaWQgMD09PWR8fHZvaWQgMD09PWEuZGVwdGh8fGpjKGEuZGVwdGgsZCkpJiZhLmluZGV4PmMmJihhLmluZGV4Kz1lKX0pfWZ1bmN0aW9uIGx4KCl7dmFyIGE9R2soKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5Qb2ludH19ZnVuY3Rpb24gb3goYSxiLGMpe1FjLmNhbGwodGhpcyxhKTt0aGlzLmZlYXR1cmVzPWI7dGhpcy5tYXBCcm93c2VyRXZlbnQ9Y313KG94LFFjKTtmdW5jdGlvbiB3eChhKXtKZy5jYWxsKHRoaXMse2hhbmRsZUV2ZW50Onh4fSk7YT1hP2E6e307dGhpcy5DPWEuY29uZGl0aW9uP2EuY29uZGl0aW9uOiRnO3RoaXMuRD1hLmFkZENvbmRpdGlvbj9hLmFkZENvbmRpdGlvbjpTZTt0aGlzLkI9YS5yZW1vdmVDb25kaXRpb24/YS5yZW1vdmVDb25kaXRpb246U2U7dGhpcy5UPWEudG9nZ2xlQ29uZGl0aW9uP2EudG9nZ2xlQ29uZGl0aW9uOmJoO3RoaXMucz1hLm11bHRpP2EubXVsdGk6ITE7dGhpcy5sPWEuZmlsdGVyP2EuZmlsdGVyOlJlO3RoaXMuaj1hLmhpdFRvbGVyYW5jZT9hLmhpdFRvbGVyYW5jZTowO3RoaXMuZj1uZXcgVCh7c291cmNlOm5ldyBVKHt1c2VTcGF0aWFsSW5kZXg6ITEsZmVhdHVyZXM6YS5mZWF0dXJlcyx3cmFwWDphLndyYXBYfSksc3R5bGU6YS5zdHlsZT9hLnN0eWxlOnl4KCksdXBkYXRlV2hpbGVBbmltYXRpbmc6ITAsdXBkYXRlV2hpbGVJbnRlcmFjdGluZzohMH0pO2lmKGEubGF5ZXJzKWlmKFwiZnVuY3Rpb25cIj09PVxudHlwZW9mIGEubGF5ZXJzKWE9YS5sYXllcnM7ZWxzZXt2YXIgYj1hLmxheWVyczthPWZ1bmN0aW9uKGEpe3JldHVybiBlYyhiLGEpfX1lbHNlIGE9UmU7dGhpcy5vPWE7dGhpcy5hPXt9O2E9dGhpcy5mLmhhKCkuaTt5KGEsXCJhZGRcIix0aGlzLmtvLHRoaXMpO3koYSxcInJlbW92ZVwiLHRoaXMub28sdGhpcyl9dyh3eCxKZyk7az13eC5wcm90b3R5cGU7ay5sbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmYuaGEoKS5pfTtrLm1vPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuan07ay5ubz1mdW5jdGlvbihhKXthPXgoYSk7cmV0dXJuIHRoaXMuYVthXX07XG5mdW5jdGlvbiB4eChhKXtpZighdGhpcy5DKGEpKXJldHVybiEwO3ZhciBiPXRoaXMuRChhKSxjPXRoaXMuQihhKSxkPXRoaXMuVChhKSxlPSFiJiYhYyYmIWQsZj1hLm1hcCxnPXRoaXMuZi5oYSgpLmksaD1bXSxsPVtdO2lmKGUpe2xiKHRoaXMuYSk7Zi5UYyhhLnBpeGVsLGZ1bmN0aW9uKGEsYil7aWYodGhpcy5sKGEsYikpcmV0dXJuIGwucHVzaChhKSxhPXgoYSksdGhpcy5hW2FdPWIsIXRoaXMuc30uYmluZCh0aGlzKSx7bGF5ZXJGaWx0ZXI6dGhpcy5vLGhpdFRvbGVyYW5jZTp0aGlzLmp9KTtmb3IoZT1nLmtjKCktMTswPD1lOy0tZSl7Zj1nLml0ZW0oZSk7dmFyIG09bC5pbmRleE9mKGYpOy0xPG0/bC5zcGxpY2UobSwxKTooZy5yZW1vdmUoZiksaC5wdXNoKGYpKX0wIT09bC5sZW5ndGgmJmcucWcobCl9ZWxzZXtmLlRjKGEucGl4ZWwsZnVuY3Rpb24oYSxlKXtpZih0aGlzLmwoYSxlKSlyZXR1cm4hYiYmIWR8fGVjKGcuYSxhKT8oY3x8ZCkmJmVjKGcuYSxhKSYmKGgucHVzaChhKSxcbmU9eChhKSxkZWxldGUgdGhpcy5hW2VdKToobC5wdXNoKGEpLGE9eChhKSx0aGlzLmFbYV09ZSksIXRoaXMuc30uYmluZCh0aGlzKSx7bGF5ZXJGaWx0ZXI6dGhpcy5vLGhpdFRvbGVyYW5jZTp0aGlzLmp9KTtmb3IoZT1oLmxlbmd0aC0xOzA8PWU7LS1lKWcucmVtb3ZlKGhbZV0pO2cucWcobCl9KDA8bC5sZW5ndGh8fDA8aC5sZW5ndGgpJiZ0aGlzLmIobmV3IHp4KEF4LGwsaCxhKSk7cmV0dXJuIFpnKGEpfWsucG89ZnVuY3Rpb24oYSl7dGhpcy5qPWF9O2suc2V0TWFwPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudixjPXRoaXMuZi5oYSgpLmk7YiYmYy5mb3JFYWNoKGIuWmosYik7SmcucHJvdG90eXBlLnNldE1hcC5jYWxsKHRoaXMsYSk7dGhpcy5mLnNldE1hcChhKTthJiZjLmZvckVhY2goYS5VaixhKX07XG5mdW5jdGlvbiB5eCgpe3ZhciBhPUdrKCk7Z2MoYS5Qb2x5Z29uLGEuTGluZVN0cmluZyk7Z2MoYS5HZW9tZXRyeUNvbGxlY3Rpb24sYS5MaW5lU3RyaW5nKTtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGIuVSgpP2FbYi5VKCkuUygpXTpudWxsfX1rLmtvPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudjtiJiZiLlVqKGEuZWxlbWVudCl9O2sub289ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy52O2ImJmIuWmooYS5lbGVtZW50KX07ZnVuY3Rpb24gengoYSxiLGMsZCl7UWMuY2FsbCh0aGlzLGEpO3RoaXMuc2VsZWN0ZWQ9Yjt0aGlzLmRlc2VsZWN0ZWQ9Yzt0aGlzLm1hcEJyb3dzZXJFdmVudD1kfXcoengsUWMpO3ZhciBBeD1cInNlbGVjdFwiO2Z1bmN0aW9uIEJ4KGEpe2ZoLmNhbGwodGhpcyx7aGFuZGxlRXZlbnQ6Q3gsaGFuZGxlRG93bkV2ZW50OlJlLGhhbmRsZVVwRXZlbnQ6RHh9KTthPWE/YTp7fTt0aGlzLnM9YS5zb3VyY2U/YS5zb3VyY2U6bnVsbDt0aGlzLk89dm9pZCAwIT09YS52ZXJ0ZXg/YS52ZXJ0ZXg6ITA7dGhpcy5DPXZvaWQgMCE9PWEuZWRnZT9hLmVkZ2U6ITA7dGhpcy5qPWEuZmVhdHVyZXM/YS5mZWF0dXJlczpudWxsO3RoaXMucmE9W107dGhpcy5CPXt9O3RoaXMuVj17fTt0aGlzLm89e307dGhpcy5UPW51bGw7dGhpcy5mPXZvaWQgMCE9PWEucGl4ZWxUb2xlcmFuY2U/YS5waXhlbFRvbGVyYW5jZToxMDt0aGlzLnVhPUV4LmJpbmQodGhpcyk7dGhpcy5hPW5ldyB1bTt0aGlzLmNhPXtQb2ludDp0aGlzLndvLExpbmVTdHJpbmc6dGhpcy5QaSxMaW5lYXJSaW5nOnRoaXMuUGksUG9seWdvbjp0aGlzLnhvLE11bHRpUG9pbnQ6dGhpcy51byxNdWx0aUxpbmVTdHJpbmc6dGhpcy50byxNdWx0aVBvbHlnb246dGhpcy52byxcbkdlb21ldHJ5Q29sbGVjdGlvbjp0aGlzLnNvLENpcmNsZTp0aGlzLnJvfX13KEJ4LGZoKTtrPUJ4LnByb3RvdHlwZTtrLkdiPWZ1bmN0aW9uKGEsYil7Yj12b2lkIDAhPT1iP2I6ITA7dmFyIGM9eChhKSxkPWEuVSgpO2lmKGQpe3ZhciBlPXRoaXMuY2FbZC5TKCldO2UmJih0aGlzLlZbY109ZC5HKERhKCkpLGUuY2FsbCh0aGlzLGEsZCkpfWImJih0aGlzLkJbY109eShhLFwiY2hhbmdlXCIsdGhpcy5xbyx0aGlzKSl9O2suYmw9ZnVuY3Rpb24oYSl7dGhpcy5HYihhKX07ay5jbD1mdW5jdGlvbihhKXt0aGlzLkxiKGEpfTtrLk5pPWZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBCdyl2YXIgYj1hLmZlYXR1cmU7ZWxzZSBhIGluc3RhbmNlb2YgY2QmJihiPWEuZWxlbWVudCk7dGhpcy5HYihiKX07ay5PaT1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgQncpdmFyIGI9YS5mZWF0dXJlO2Vsc2UgYSBpbnN0YW5jZW9mIGNkJiYoYj1hLmVsZW1lbnQpO3RoaXMuTGIoYil9O1xuay5xbz1mdW5jdGlvbihhKXthPWEudGFyZ2V0O2lmKHRoaXMuRCl7dmFyIGI9eChhKTtiIGluIHRoaXMub3x8KHRoaXMub1tiXT1hKX1lbHNlIHRoaXMuJGooYSl9O2suTGI9ZnVuY3Rpb24oYSxiKXtiPXZvaWQgMCE9PWI/YjohMDt2YXIgYz14KGEpLGQ9dGhpcy5WW2NdO2lmKGQpe3ZhciBlPXRoaXMuYSxmPVtdO3ptKGUsZCxmdW5jdGlvbihiKXthPT09Yi5mZWF0dXJlJiZmLnB1c2goYil9KTtmb3IoZD1mLmxlbmd0aC0xOzA8PWQ7LS1kKWUucmVtb3ZlKGZbZF0pfWImJihHYyh0aGlzLkJbY10pLGRlbGV0ZSB0aGlzLkJbY10pfTtcbmsuc2V0TWFwPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudixjPXRoaXMucmEsZDt0aGlzLmo/ZD10aGlzLmo6dGhpcy5zJiYoZD10aGlzLnMuZWUoKSk7YiYmKGMuZm9yRWFjaChHYyksYy5sZW5ndGg9MCxkLmZvckVhY2godGhpcy5jbCx0aGlzKSk7ZmgucHJvdG90eXBlLnNldE1hcC5jYWxsKHRoaXMsYSk7YSYmKHRoaXMuaj9jLnB1c2goeSh0aGlzLmosXCJhZGRcIix0aGlzLk5pLHRoaXMpLHkodGhpcy5qLFwicmVtb3ZlXCIsdGhpcy5PaSx0aGlzKSk6dGhpcy5zJiZjLnB1c2goeSh0aGlzLnMsXCJhZGRmZWF0dXJlXCIsdGhpcy5OaSx0aGlzKSx5KHRoaXMucyxcInJlbW92ZWZlYXR1cmVcIix0aGlzLk9pLHRoaXMpKSxkLmZvckVhY2godGhpcy5ibCx0aGlzKSl9O2suamQ9U2U7XG5mdW5jdGlvbiBGeChhLGIsYyxkKXt2YXIgZT1kLlJhKFtiWzBdLWEuZixiWzFdK2EuZl0pLGY9ZC5SYShbYlswXSthLmYsYlsxXS1hLmZdKTtlPUNhKFtlLGZdKTt2YXIgZz14bShhLmEsZSk7YS5PJiYhYS5DJiYoZz1nLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm5cIkNpcmNsZVwiIT09YS5mZWF0dXJlLlUoKS5TKCl9KSk7dmFyIGg9ITE7ZT0hMTt2YXIgbD1mPW51bGw7aWYoMDxnLmxlbmd0aCl7YS5UPWM7Zy5zb3J0KGEudWEpO3ZhciBtPWdbMF0ubWE7aD1cIkNpcmNsZVwiPT09Z1swXS5mZWF0dXJlLlUoKS5TKCk7aWYoYS5PJiYhYS5DKXtpZihjPWQuSWEobVswXSksaD1kLklhKG1bMV0pLGM9SGUoYixjKSxiPUhlKGIsaCksaD1NYXRoLnNxcnQoTWF0aC5taW4oYyxiKSksaD1oPD1hLmYpZT0hMCxmPWM+Yj9tWzFdOm1bMF0sbD1kLklhKGYpfWVsc2UgYS5DJiYoZj1oP0FlKGMsZ1swXS5mZWF0dXJlLlUoKSk6QmUoYyxtKSxsPWQuSWEoZiksSWUoYixsKTw9YS5mJiYoZT0hMCxhLk8mJlxuIWgmJihjPWQuSWEobVswXSksaD1kLklhKG1bMV0pLGM9SGUobCxjKSxiPUhlKGwsaCksaD1NYXRoLnNxcnQoTWF0aC5taW4oYyxiKSksaD1oPD1hLmYpKSkmJihmPWM+Yj9tWzFdOm1bMF0sbD1kLklhKGYpKTtlJiYobD1bTWF0aC5yb3VuZChsWzBdKSxNYXRoLnJvdW5kKGxbMV0pXSl9cmV0dXJue01xOmUsdmVydGV4OmYsVnE6bH19ay4kaj1mdW5jdGlvbihhKXt0aGlzLkxiKGEsITEpO3RoaXMuR2IoYSwhMSl9O2sucm89ZnVuY3Rpb24oYSxiKXtiPVNmKGIpLlcoKVswXTt2YXIgYzt2YXIgZD0wO2ZvcihjPWIubGVuZ3RoLTE7ZDxjOysrZCl7dmFyIGU9Yi5zbGljZShkLGQrMik7dmFyIGY9e2ZlYXR1cmU6YSxtYTplfTt0aGlzLmEuQ2EoQ2EoZSksZil9fTtrLnNvPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5hO2ZvcihiPTA7YjxjLmxlbmd0aDsrK2Ipe3ZhciBkPXRoaXMuY2FbY1tiXS5TKCldO2QmJmQuY2FsbCh0aGlzLGEsY1tiXSl9fTtcbmsuUGk9ZnVuY3Rpb24oYSxiKXtiPWIuVygpO3ZhciBjO3ZhciBkPTA7Zm9yKGM9Yi5sZW5ndGgtMTtkPGM7KytkKXt2YXIgZT1iLnNsaWNlKGQsZCsyKTt2YXIgZj17ZmVhdHVyZTphLG1hOmV9O3RoaXMuYS5DYShDYShlKSxmKX19O2sudG89ZnVuY3Rpb24oYSxiKXtiPWIuVygpO3ZhciBjLGQ7dmFyIGU9MDtmb3IoZD1iLmxlbmd0aDtlPGQ7KytlKXt2YXIgZj1iW2VdO3ZhciBnPTA7Zm9yKGM9Zi5sZW5ndGgtMTtnPGM7KytnKXt2YXIgaD1mLnNsaWNlKGcsZysyKTt2YXIgbD17ZmVhdHVyZTphLG1hOmh9O3RoaXMuYS5DYShDYShoKSxsKX19fTtrLnVvPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5XKCksZDt2YXIgZT0wO2ZvcihkPWMubGVuZ3RoO2U8ZDsrK2Upe3ZhciBmPWNbZV07Zj17ZmVhdHVyZTphLG1hOltmLGZdfTt0aGlzLmEuQ2EoYi5HKCksZil9fTtcbmsudm89ZnVuY3Rpb24oYSxiKXtiPWIuVygpO3ZhciBjLGQsZTt2YXIgZj0wO2ZvcihlPWIubGVuZ3RoO2Y8ZTsrK2Ype3ZhciBnPWJbZl07dmFyIGg9MDtmb3IoZD1nLmxlbmd0aDtoPGQ7KytoKXt2YXIgbD1nW2hdO3ZhciBtPTA7Zm9yKGM9bC5sZW5ndGgtMTttPGM7KyttKXt2YXIgbj1sLnNsaWNlKG0sbSsyKTt2YXIgcD17ZmVhdHVyZTphLG1hOm59O3RoaXMuYS5DYShDYShuKSxwKX19fX07ay53bz1mdW5jdGlvbihhLGIpe3ZhciBjPWIuVygpO2E9e2ZlYXR1cmU6YSxtYTpbYyxjXX07dGhpcy5hLkNhKGIuRygpLGEpfTtrLnhvPWZ1bmN0aW9uKGEsYil7Yj1iLlcoKTt2YXIgYyxkO3ZhciBlPTA7Zm9yKGQ9Yi5sZW5ndGg7ZTxkOysrZSl7dmFyIGY9YltlXTt2YXIgZz0wO2ZvcihjPWYubGVuZ3RoLTE7ZzxjOysrZyl7dmFyIGg9Zi5zbGljZShnLGcrMik7dmFyIGw9e2ZlYXR1cmU6YSxtYTpofTt0aGlzLmEuQ2EoQ2EoaCksbCl9fX07XG5mdW5jdGlvbiBDeChhKXt2YXIgYj1GeCh0aGlzLGEucGl4ZWwsYS5jb29yZGluYXRlLGEubWFwKTtiLk1xJiYoYS5jb29yZGluYXRlPWIudmVydGV4LnNsaWNlKDAsMiksYS5waXhlbD1iLlZxKTtyZXR1cm4gZ2guY2FsbCh0aGlzLGEpfWZ1bmN0aW9uIER4KCl7dmFyIGE9bWIodGhpcy5vKTthLmxlbmd0aCYmKGEuZm9yRWFjaCh0aGlzLiRqLHRoaXMpLHRoaXMubz17fSk7cmV0dXJuITF9ZnVuY3Rpb24gRXgoYSxiKXtyZXR1cm4gSmUodGhpcy5ULGEubWEpLUplKHRoaXMuVCxiLm1hKX07ZnVuY3Rpb24gR3goYSl7ZmguY2FsbCh0aGlzLHtoYW5kbGVEb3duRXZlbnQ6SHgsaGFuZGxlRHJhZ0V2ZW50Okl4LGhhbmRsZU1vdmVFdmVudDpKeCxoYW5kbGVVcEV2ZW50Okt4fSk7YT1hP2E6e307dGhpcy5hPW51bGw7dGhpcy5qPXZvaWQgMCE9PWEuZmVhdHVyZXM/YS5mZWF0dXJlczpudWxsO2lmKGEubGF5ZXJzKWlmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhLmxheWVycyl2YXIgYj1hLmxheWVycztlbHNle3ZhciBjPWEubGF5ZXJzO2I9ZnVuY3Rpb24oYSl7cmV0dXJuIGVjKGMsYSl9fWVsc2UgYj1SZTt0aGlzLkM9Yjt0aGlzLnM9YS5oaXRUb2xlcmFuY2U/YS5oaXRUb2xlcmFuY2U6MDt0aGlzLmY9bnVsbDt5KHRoaXMsWGMoXCJhY3RpdmVcIiksdGhpcy5vLHRoaXMpfXcoR3gsZmgpO1xuZnVuY3Rpb24gSHgoYSl7dGhpcy5mPUx4KHRoaXMsYS5waXhlbCxhLm1hcCk7aWYoIXRoaXMuYSYmdGhpcy5mKXt0aGlzLmE9YS5jb29yZGluYXRlO0p4LmNhbGwodGhpcyxhKTt2YXIgYj10aGlzLmp8fG5ldyBCKFt0aGlzLmZdKTt0aGlzLmIobmV3IE14KFwidHJhbnNsYXRlc3RhcnRcIixiLGEuY29vcmRpbmF0ZSkpO3JldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIEt4KGEpe2lmKHRoaXMuYSl7dGhpcy5hPW51bGw7SnguY2FsbCh0aGlzLGEpO3ZhciBiPXRoaXMuanx8bmV3IEIoW3RoaXMuZl0pO3RoaXMuYihuZXcgTXgoXCJ0cmFuc2xhdGVlbmRcIixiLGEuY29vcmRpbmF0ZSkpO3JldHVybiEwfXJldHVybiExfVxuZnVuY3Rpb24gSXgoYSl7aWYodGhpcy5hKXthPWEuY29vcmRpbmF0ZTt2YXIgYj1hWzBdLXRoaXMuYVswXSxjPWFbMV0tdGhpcy5hWzFdLGQ9dGhpcy5qfHxuZXcgQihbdGhpcy5mXSk7ZC5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBkPWEuVSgpO2QudHJhbnNsYXRlKGIsYyk7YS5WYShkKX0pO3RoaXMuYT1hO3RoaXMuYihuZXcgTXgoXCJ0cmFuc2xhdGluZ1wiLGQsYSkpfX1mdW5jdGlvbiBKeChhKXt2YXIgYj1hLm1hcC5hO0x4KHRoaXMsYS5waXhlbCxhLm1hcCk/KGIuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmE/XCJvbC1ncmFiXCI6XCJvbC1ncmFiYmluZ1wiKSxiLmNsYXNzTGlzdC5hZGQodGhpcy5hP1wib2wtZ3JhYmJpbmdcIjpcIm9sLWdyYWJcIikpOmIuY2xhc3NMaXN0LnJlbW92ZShcIm9sLWdyYWJcIixcIm9sLWdyYWJiaW5nXCIpfVxuZnVuY3Rpb24gTHgoYSxiLGMpe3JldHVybiBjLlRjKGIsZnVuY3Rpb24oYSl7aWYoIXRoaXMuanx8ZWModGhpcy5qLmEsYSkpcmV0dXJuIGF9LmJpbmQoYSkse2xheWVyRmlsdGVyOmEuQyxoaXRUb2xlcmFuY2U6YS5zfSl9R3gucHJvdG90eXBlLkI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zfTtHeC5wcm90b3R5cGUuVD1mdW5jdGlvbihhKXt0aGlzLnM9YX07R3gucHJvdG90eXBlLnNldE1hcD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLnY7ZmgucHJvdG90eXBlLnNldE1hcC5jYWxsKHRoaXMsYSk7TngodGhpcyxiKX07R3gucHJvdG90eXBlLm89ZnVuY3Rpb24oKXtOeCh0aGlzLG51bGwpfTtmdW5jdGlvbiBOeChhLGIpe3ZhciBjPWEudjthPWEuYygpO2MmJmF8fChjPWN8fGIpJiZjLmEuY2xhc3NMaXN0LnJlbW92ZShcIm9sLWdyYWJcIixcIm9sLWdyYWJiaW5nXCIpfVxuZnVuY3Rpb24gTXgoYSxiLGMpe1FjLmNhbGwodGhpcyxhKTt0aGlzLmZlYXR1cmVzPWI7dGhpcy5jb29yZGluYXRlPWN9dyhNeCxRYyk7ZnVuY3Rpb24gVihhKXthPWE/YTp7fTt2YXIgYj1rYih7fSxhKTtkZWxldGUgYi5ncmFkaWVudDtkZWxldGUgYi5yYWRpdXM7ZGVsZXRlIGIuYmx1cjtkZWxldGUgYi5zaGFkb3c7ZGVsZXRlIGIud2VpZ2h0O1QuY2FsbCh0aGlzLGIpO3RoaXMuYz1udWxsO3RoaXMuJD12b2lkIDAhPT1hLnNoYWRvdz9hLnNoYWRvdzoyNTA7dGhpcy5PPXZvaWQgMDt0aGlzLlQ9bnVsbDt5KHRoaXMsWGMoT3gpLHRoaXMuY20sdGhpcyk7dGhpcy5MaihhLmdyYWRpZW50P2EuZ3JhZGllbnQ6UHgpO3RoaXMuRmoodm9pZCAwIT09YS5ibHVyP2EuYmx1cjoxNSk7dGhpcy5mZCh2b2lkIDAhPT1hLnJhZGl1cz9hLnJhZGl1czo4KTt5KHRoaXMsWGMoUXgpLHRoaXMubWcsdGhpcyk7eSh0aGlzLFhjKFJ4KSx0aGlzLm1nLHRoaXMpO3RoaXMubWcoKTt2YXIgYz1hLndlaWdodD9hLndlaWdodDpcIndlaWdodFwiLGQ7XCJzdHJpbmdcIj09PXR5cGVvZiBjP2Q9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0KGMpfTpkPWM7dGhpcy5qKGZ1bmN0aW9uKGEpe2E9XG5kKGEpO2E9dm9pZCAwIT09YT9wYShhLDAsMSk6MTt2YXIgYj0yNTUqYXwwLGM9dGhpcy5UW2JdO2N8fChjPVtuZXcgQmsoe2ltYWdlOm5ldyBkcih7b3BhY2l0eTphLHNyYzp0aGlzLk99KX0pXSx0aGlzLlRbYl09Yyk7cmV0dXJuIGN9LmJpbmQodGhpcykpO3RoaXMuc2V0KGlrLG51bGwpO3kodGhpcyxcInJlbmRlclwiLHRoaXMudG0sdGhpcyl9dyhWLFQpO3ZhciBQeD1bXCIjMDBmXCIsXCIjMGZmXCIsXCIjMGYwXCIsXCIjZmYwXCIsXCIjZjAwXCJdO2s9Vi5wcm90b3R5cGU7ay5OaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChReCl9O2suVWg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoT3gpfTtrLlJpPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KFJ4KX07XG5rLmNtPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuVWgoKSxiPWhnKDEsMjU2KSxjPWIuY3JlYXRlTGluZWFyR3JhZGllbnQoMCwwLDEsMjU2KSxkPTEvKGEubGVuZ3RoLTEpLGU9MCxmPWEubGVuZ3RoO2U8ZjsrK2UpYy5hZGRDb2xvclN0b3AoZSpkLGFbZV0pO2IuZmlsbFN0eWxlPWM7Yi5maWxsUmVjdCgwLDAsMSwyNTYpO3RoaXMuYz1iLmdldEltYWdlRGF0YSgwLDAsMSwyNTYpLmRhdGF9O2subWc9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLlJpKCksYj10aGlzLk5oKCksYz1hK2IrMSxkPTIqYztkPWhnKGQsZCk7ZC5zaGFkb3dPZmZzZXRYPWQuc2hhZG93T2Zmc2V0WT10aGlzLiQ7ZC5zaGFkb3dCbHVyPWI7ZC5zaGFkb3dDb2xvcj1cIiMwMDBcIjtkLmJlZ2luUGF0aCgpO2I9Yy10aGlzLiQ7ZC5hcmMoYixiLGEsMCwyKk1hdGguUEksITApO2QuZmlsbCgpO3RoaXMuTz1kLmNhbnZhcy50b0RhdGFVUkwoKTt0aGlzLlQ9QXJyYXkoMjU2KTt0aGlzLnUoKX07XG5rLnRtPWZ1bmN0aW9uKGEpe2E9YS5jb250ZXh0O3ZhciBiPWEuY2FudmFzO2I9YS5nZXRJbWFnZURhdGEoMCwwLGIud2lkdGgsYi5oZWlnaHQpO3ZhciBjPWIuZGF0YSxkLGU7dmFyIGY9MDtmb3IoZD1jLmxlbmd0aDtmPGQ7Zis9NClpZihlPTQqY1tmKzNdKWNbZl09dGhpcy5jW2VdLGNbZisxXT10aGlzLmNbZSsxXSxjW2YrMl09dGhpcy5jW2UrMl07YS5wdXRJbWFnZURhdGEoYiwwLDApfTtrLkZqPWZ1bmN0aW9uKGEpe3RoaXMuc2V0KFF4LGEpfTtrLkxqPWZ1bmN0aW9uKGEpe3RoaXMuc2V0KE94LGEpfTtrLmZkPWZ1bmN0aW9uKGEpe3RoaXMuc2V0KFJ4LGEpfTt2YXIgUXg9XCJibHVyXCIsT3g9XCJncmFkaWVudFwiLFJ4PVwicmFkaXVzXCI7ZnVuY3Rpb24gU3goYSl7eGcuY2FsbCh0aGlzLGE/YTp7fSk7dGhpcy50eXBlPVwiSU1BR0VcIn13KFN4LHhnKTtmdW5jdGlvbiBUeChhKXthPWE/YTp7fTt2YXIgYj1rYih7fSxhKTtkZWxldGUgYi5wcmVsb2FkO2RlbGV0ZSBiLnVzZUludGVyaW1UaWxlc09uRXJyb3I7eGcuY2FsbCh0aGlzLGIpO3RoaXMuaih2b2lkIDAhPT1hLnByZWxvYWQ/YS5wcmVsb2FkOjApO3RoaXMuQyh2b2lkIDAhPT1hLnVzZUludGVyaW1UaWxlc09uRXJyb3I/YS51c2VJbnRlcmltVGlsZXNPbkVycm9yOiEwKTt0aGlzLnR5cGU9XCJUSUxFXCJ9dyhUeCx4Zyk7VHgucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJwcmVsb2FkXCIpfTtUeC5wcm90b3R5cGUuaj1mdW5jdGlvbihhKXt0aGlzLnNldChcInByZWxvYWRcIixhKX07VHgucHJvdG90eXBlLmk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoXCJ1c2VJbnRlcmltVGlsZXNPbkVycm9yXCIpfTtUeC5wcm90b3R5cGUuQz1mdW5jdGlvbihhKXt0aGlzLnNldChcInVzZUludGVyaW1UaWxlc09uRXJyb3JcIixhKX07ZnVuY3Rpb24gVyhhKXthPWE/YTp7fTt2YXIgYj1hLnJlbmRlck1vZGV8fFwiaHlicmlkXCI7b2Eodm9pZCAwPT1ifHxcImltYWdlXCI9PWJ8fFwiaHlicmlkXCI9PWJ8fFwidmVjdG9yXCI9PWIsMjgpO2EuZGVjbHV0dGVyJiZcImltYWdlXCI9PWImJihiPVwiaHlicmlkXCIpO2EucmVuZGVyTW9kZT1iO2I9a2Ioe30sYSk7ZGVsZXRlIGIucHJlbG9hZDtkZWxldGUgYi51c2VJbnRlcmltVGlsZXNPbkVycm9yO1QuY2FsbCh0aGlzLGIpO3RoaXMuVChhLnByZWxvYWQ/YS5wcmVsb2FkOjApO3RoaXMuTyhhLnVzZUludGVyaW1UaWxlc09uRXJyb3I/YS51c2VJbnRlcmltVGlsZXNPbkVycm9yOiEwKTt0aGlzLnR5cGU9XCJWRUNUT1JfVElMRVwifXcoVyxUKTtXLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KFwicHJlbG9hZFwiKX07Vy5wcm90b3R5cGUuaT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChcInVzZUludGVyaW1UaWxlc09uRXJyb3JcIil9O1xuVy5wcm90b3R5cGUuVD1mdW5jdGlvbihhKXt0aGlzLnNldChcInByZWxvYWRcIixhKX07Vy5wcm90b3R5cGUuTz1mdW5jdGlvbihhKXt0aGlzLnNldChcInVzZUludGVyaW1UaWxlc09uRXJyb3JcIixhKX07ZnVuY3Rpb24gVXgoYSxiKXt2YXIgYz0vXFx7elxcfS9nLGQ9L1xce3hcXH0vZyxlPS9cXHt5XFx9L2csZj0vXFx7LXlcXH0vZztyZXR1cm4gZnVuY3Rpb24oZyl7aWYoZylyZXR1cm4gYS5yZXBsYWNlKGMsZ1swXS50b1N0cmluZygpKS5yZXBsYWNlKGQsZ1sxXS50b1N0cmluZygpKS5yZXBsYWNlKGUsZnVuY3Rpb24oKXtyZXR1cm4oLWdbMl0tMSkudG9TdHJpbmcoKX0pLnJlcGxhY2UoZixmdW5jdGlvbigpe3ZhciBhPWIuYT9iLmFbZ1swXV06bnVsbDtvYShhLDU1KTtyZXR1cm4oYS5rYS1hLmVhKzErZ1syXSkudG9TdHJpbmcoKX0pfX1mdW5jdGlvbiBWeChhLGIpe2Zvcih2YXIgYz1hLmxlbmd0aCxkPUFycmF5KGMpLGU9MDtlPGM7KytlKWRbZV09VXgoYVtlXSxiKTtyZXR1cm4gV3goZCl9ZnVuY3Rpb24gV3goYSl7cmV0dXJuIDE9PT1hLmxlbmd0aD9hWzBdOmZ1bmN0aW9uKGIsYyxkKXtpZihiKXJldHVybiBhW3dhKChiWzFdPDxiWzBdKStiWzJdLGEubGVuZ3RoKV0oYixjLGQpfX1cbmZ1bmN0aW9uIFh4KCl7fWZ1bmN0aW9uIFl4KGEpe3ZhciBiPVtdLGM9L1xceyhbYS16XSktKFthLXpdKVxcfS8uZXhlYyhhKTtpZihjKXt2YXIgZD1jWzJdLmNoYXJDb2RlQXQoMCksZTtmb3IoZT1jWzFdLmNoYXJDb2RlQXQoMCk7ZTw9ZDsrK2UpYi5wdXNoKGEucmVwbGFjZShjWzBdLFN0cmluZy5mcm9tQ2hhckNvZGUoZSkpKTtyZXR1cm4gYn1pZihjPWM9L1xceyhcXGQrKS0oXFxkKylcXH0vLmV4ZWMoYSkpe2Q9cGFyc2VJbnQoY1syXSwxMCk7Zm9yKGU9cGFyc2VJbnQoY1sxXSwxMCk7ZTw9ZDtlKyspYi5wdXNoKGEucmVwbGFjZShjWzBdLGUudG9TdHJpbmcoKSkpO3JldHVybiBifWIucHVzaChhKTtyZXR1cm4gYn07ZnVuY3Rpb24gWngoYSxiLGMsZCl7ZnVuY3Rpb24gZSgpe2RlbGV0ZSB3aW5kb3dbZ107Zi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGYpfXZhciBmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksZz1cIm9sY19cIit4KGIpO2YuYXN5bmM9ITA7Zi5zcmM9YSsoLTE9PWEuaW5kZXhPZihcIj9cIik/XCI/XCI6XCImXCIpKyhkfHxcImNhbGxiYWNrXCIpK1wiPVwiK2c7dmFyIGg9c2V0VGltZW91dChmdW5jdGlvbigpe2UoKTtjJiZjKCl9LDFFNCk7d2luZG93W2ddPWZ1bmN0aW9uKGEpe2NsZWFyVGltZW91dChoKTtlKCk7YihhKX07ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKGYpfTtmdW5jdGlvbiAkeChhKXtjaS5jYWxsKHRoaXMsYSl9dygkeCxjaSk7JHgucHJvdG90eXBlLnNkPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjO2RpKHRoaXMpOyl7Yj10aGlzLmcuUGM7Yz1iLnlhWzBdLnRvU3RyaW5nKCk7dmFyIGQ7aWYoZD1jIGluIGEpYj1iLnlhLGQ9bWEoYVtjXSxiWzFdLGJbMl0pO2lmKGQpYnJlYWs7ZWxzZSBQYyh0aGlzLnBvcCgpKX19O2Z1bmN0aW9uIGF5KGEpe2lmKDAhPT1hLmkpe3ZhciBiPWEuYy5qYy5zcGxpdChcIi9cIikubWFwKE51bWJlcilbMF07YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKGEueWFbMF0hPT1iKXt2YXIgYz1hLnlhO3RoaXMucmVtb3ZlKGNbMF0rXCIvXCIrY1sxXStcIi9cIitjWzJdKTtQYyhhKX19LGEpfX07ZnVuY3Rpb24gYnkoYSxiLGMsZCl7dmFyIGU9YWMoYyxiLGEpO2M9TmIoYixkLGMpO2I9Yi5CYygpO3ZvaWQgMCE9PWImJihjKj1iKTtiPWEuQmMoKTt2b2lkIDAhPT1iJiYoYy89Yik7Yj1hLkcoKTtpZighYnx8SmEoYixlKSlhPU5iKGEsYyxlKS9jLGlzRmluaXRlKGEpJiYwPGEmJihjLz1hKTtyZXR1cm4gY31mdW5jdGlvbiBjeShhLGIsYyxkKXthPWMtYTtiPWQtYjt2YXIgZT1NYXRoLnNxcnQoYSphK2IqYik7cmV0dXJuW01hdGgucm91bmQoYythL2UpLE1hdGgucm91bmQoZCtiL2UpXX1cbmZ1bmN0aW9uIGR5KGEsYixjLGQsZSxmLGcsaCxsLG0sbil7dmFyIHA9aGcoTWF0aC5yb3VuZChjKmEpLE1hdGgucm91bmQoYypiKSk7aWYoMD09PWwubGVuZ3RoKXJldHVybiBwLmNhbnZhcztwLnNjYWxlKGMsYyk7dmFyIHE9RGEoKTtsLmZvckVhY2goZnVuY3Rpb24oYSl7VGEocSxhLmV4dGVudCl9KTt2YXIgcj1oZyhNYXRoLnJvdW5kKGMqY2IocSkvZCksTWF0aC5yb3VuZChjKmRiKHEpL2QpKSx1PWMvZDtsLmZvckVhY2goZnVuY3Rpb24oYSl7ci5kcmF3SW1hZ2UoYS5pbWFnZSxtLG0sYS5pbWFnZS53aWR0aC0yKm0sYS5pbWFnZS5oZWlnaHQtMiptLChhLmV4dGVudFswXS1xWzBdKSp1LC0oYS5leHRlbnRbM10tcVszXSkqdSxjYihhLmV4dGVudCkqdSxkYihhLmV4dGVudCkqdSl9KTt2YXIgdj0kYShnKTtoLmMuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hLnNvdXJjZSxlPWEudGFyZ2V0LGc9YlsxXVswXSxoPWJbMV1bMV0sbD1iWzJdWzBdLG09YlsyXVsxXTthPShlWzBdWzBdLVxudlswXSkvZjt2YXIgbj0tKGVbMF1bMV0tdlsxXSkvZix1PShlWzFdWzBdLXZbMF0pL2Ysej0tKGVbMV1bMV0tdlsxXSkvZixWYT0oZVsyXVswXS12WzBdKS9mLGljPS0oZVsyXVsxXS12WzFdKS9mO2U9YlswXVswXTtiPWJbMF1bMV07Zy09ZTtoLT1iO2wtPWU7bS09YjthOntnPVtbZyxoLDAsMCx1LWFdLFtsLG0sMCwwLFZhLWFdLFswLDAsZyxoLHotbl0sWzAsMCxsLG0saWMtbl1dO2g9Zy5sZW5ndGg7Zm9yKGw9MDtsPGg7bCsrKXttPWw7Zm9yKHZhciBYYT1NYXRoLmFicyhnW2xdW2xdKSxaPWwrMTtaPGg7WisrKXt2YXIgWmI9TWF0aC5hYnMoZ1taXVtsXSk7WmI+WGEmJihYYT1aYixtPVopfWlmKDA9PT1YYSl7Zz1udWxsO2JyZWFrIGF9WGE9Z1ttXTtnW21dPWdbbF07Z1tsXT1YYTtmb3IobT1sKzE7bTxoO20rKylmb3IoWGE9LWdbbV1bbF0vZ1tsXVtsXSxaPWw7WjxoKzE7WisrKWdbbV1bWl09bD09Wj8wOmdbbV1bWl0rWGEqZ1tsXVtaXX1sPUFycmF5KGgpO2ZvcihtPWgtMTswPD1cbm07bS0tKWZvcihsW21dPWdbbV1baF0vZ1ttXVttXSxYYT1tLTE7MDw9WGE7WGEtLSlnW1hhXVtoXS09Z1tYYV1bbV0qbFttXTtnPWx9ZyYmKHAuc2F2ZSgpLHAuYmVnaW5QYXRoKCksbD0oYSt1K1ZhKS8zLG09KG4reitpYykvMyxoPWN5KGwsbSxhLG4pLHU9Y3kobCxtLHUseiksVmE9Y3kobCxtLFZhLGljKSxwLm1vdmVUbyh1WzBdLHVbMV0pLHAubGluZVRvKGhbMF0saFsxXSkscC5saW5lVG8oVmFbMF0sVmFbMV0pLHAuY2xpcCgpLHAudHJhbnNmb3JtKGdbMF0sZ1syXSxnWzFdLGdbM10sYSxuKSxwLnRyYW5zbGF0ZShxWzBdLWUscVszXS1iKSxwLnNjYWxlKGQvYywtZC9jKSxwLmRyYXdJbWFnZShyLmNhbnZhcywwLDApLHAucmVzdG9yZSgpKX0pO24mJihwLnNhdmUoKSxwLnN0cm9rZVN0eWxlPVwiYmxhY2tcIixwLmxpbmVXaWR0aD0xLGguYy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0O2E9KGJbMF1bMF0tdlswXSkvZjt2YXIgYz0tKGJbMF1bMV0tdlsxXSkvZixkPVxuKGJbMV1bMF0tdlswXSkvZixlPS0oYlsxXVsxXS12WzFdKS9mLGc9KGJbMl1bMF0tdlswXSkvZjtiPS0oYlsyXVsxXS12WzFdKS9mO3AuYmVnaW5QYXRoKCk7cC5tb3ZlVG8oZCxlKTtwLmxpbmVUbyhhLGMpO3AubGluZVRvKGcsYik7cC5jbG9zZVBhdGgoKTtwLnN0cm9rZSgpfSkscC5yZXN0b3JlKCkpO3JldHVybiBwLmNhbnZhc307ZnVuY3Rpb24gZXkoYSxiLGMsZCxlKXt0aGlzLmc9YTt0aGlzLmk9Yjt2YXIgZj17fSxnPVliKHRoaXMuaSx0aGlzLmcpO3RoaXMuYT1mdW5jdGlvbihhKXt2YXIgYj1hWzBdK1wiL1wiK2FbMV07ZltiXXx8KGZbYl09ZyhhKSk7cmV0dXJuIGZbYl19O3RoaXMuZj1kO3RoaXMudj1lKmU7dGhpcy5jPVtdO3RoaXMubD0hMTt0aGlzLnM9dGhpcy5nLmcmJiEhZCYmISF0aGlzLmcuRygpJiZjYihkKT09Y2IodGhpcy5nLkcoKSk7dGhpcy5iPXRoaXMuZy5HKCk/Y2IodGhpcy5nLkcoKSk6bnVsbDt0aGlzLmo9dGhpcy5pLkcoKT9jYih0aGlzLmkuRygpKTpudWxsO2E9JGEoYyk7Yj1aYShjKTtkPVlhKGMpO2M9V2EoYyk7ZT10aGlzLmEoYSk7dmFyIGg9dGhpcy5hKGIpLGw9dGhpcy5hKGQpLG09dGhpcy5hKGMpO2Z5KHRoaXMsYSxiLGQsYyxlLGgsbCxtLDEwKTtpZih0aGlzLmwpe3ZhciBuPUluZmluaXR5O3RoaXMuYy5mb3JFYWNoKGZ1bmN0aW9uKGEpe249TWF0aC5taW4obixhLnNvdXJjZVswXVswXSxcbmEuc291cmNlWzFdWzBdLGEuc291cmNlWzJdWzBdKX0pO3RoaXMuYy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKE1hdGgubWF4KGEuc291cmNlWzBdWzBdLGEuc291cmNlWzFdWzBdLGEuc291cmNlWzJdWzBdKS1uPnRoaXMuYi8yKXt2YXIgYj1bW2Euc291cmNlWzBdWzBdLGEuc291cmNlWzBdWzFdXSxbYS5zb3VyY2VbMV1bMF0sYS5zb3VyY2VbMV1bMV1dLFthLnNvdXJjZVsyXVswXSxhLnNvdXJjZVsyXVsxXV1dO2JbMF1bMF0tbj50aGlzLmIvMiYmKGJbMF1bMF0tPXRoaXMuYik7YlsxXVswXS1uPnRoaXMuYi8yJiYoYlsxXVswXS09dGhpcy5iKTtiWzJdWzBdLW4+dGhpcy5iLzImJihiWzJdWzBdLT10aGlzLmIpO01hdGgubWF4KGJbMF1bMF0sYlsxXVswXSxiWzJdWzBdKS1NYXRoLm1pbihiWzBdWzBdLGJbMV1bMF0sYlsyXVswXSk8dGhpcy5iLzImJihhLnNvdXJjZT1iKX19LHRoaXMpfWY9e319XG5mdW5jdGlvbiBmeShhLGIsYyxkLGUsZixnLGgsbCxtKXt2YXIgbj1DYShbZixnLGgsbF0pLHA9YS5iP2NiKG4pL2EuYjpudWxsLHE9YS5iLHI9YS5nLmcmJi41PHAmJjE+cCx1PSExO2lmKDA8bSl7aWYoYS5pLmMmJmEuail7dmFyIHY9Q2EoW2IsYyxkLGVdKTt1fD0uMjU8Y2IodikvYS5qfSFyJiZhLmcuYyYmcCYmKHV8PS4yNTxwKX1pZih1fHwhYS5mfHxoYihuLGEuZikpe2lmKCEodXx8aXNGaW5pdGUoZlswXSkmJmlzRmluaXRlKGZbMV0pJiZpc0Zpbml0ZShnWzBdKSYmaXNGaW5pdGUoZ1sxXSkmJmlzRmluaXRlKGhbMF0pJiZpc0Zpbml0ZShoWzFdKSYmaXNGaW5pdGUobFswXSkmJmlzRmluaXRlKGxbMV0pKSlpZigwPG0pdT0hMDtlbHNlIHJldHVybjtpZigwPG0mJih1fHwobj1hLmEoWyhiWzBdK2RbMF0pLzIsKGJbMV0rZFsxXSkvMl0pLHE9cj8od2EoZlswXSxxKSt3YShoWzBdLHEpKS8yLXdhKG5bMF0scSk6KGZbMF0raFswXSkvMi1uWzBdLG49KGZbMV0raFsxXSkvMi1uWzFdLFxudT1xKnErbipuPmEudiksdSkpe01hdGguYWJzKGJbMF0tZFswXSk8PU1hdGguYWJzKGJbMV0tZFsxXSk/KHI9WyhjWzBdK2RbMF0pLzIsKGNbMV0rZFsxXSkvMl0scT1hLmEociksbj1bKGVbMF0rYlswXSkvMiwoZVsxXStiWzFdKS8yXSxwPWEuYShuKSxmeShhLGIsYyxyLG4sZixnLHEscCxtLTEpLGZ5KGEsbixyLGQsZSxwLHEsaCxsLG0tMSkpOihyPVsoYlswXStjWzBdKS8yLChiWzFdK2NbMV0pLzJdLHE9YS5hKHIpLG49WyhkWzBdK2VbMF0pLzIsKGRbMV0rZVsxXSkvMl0scD1hLmEobiksZnkoYSxiLHIsbixlLGYscSxwLGwsbS0xKSxmeShhLHIsYyxkLG4scSxnLGgscCxtLTEpKTtyZXR1cm59aWYocil7aWYoIWEucylyZXR1cm47YS5sPSEwfWEuYy5wdXNoKHtzb3VyY2U6W2YsaCxsXSx0YXJnZXQ6W2IsZCxlXX0pO2EuYy5wdXNoKHtzb3VyY2U6W2YsZyxoXSx0YXJnZXQ6W2IsYyxkXX0pfX1cbmZ1bmN0aW9uIGd5KGEpe3ZhciBiPURhKCk7YS5jLmZvckVhY2goZnVuY3Rpb24oYSl7YT1hLnNvdXJjZTtFYShiLGFbMF0pO0VhKGIsYVsxXSk7RWEoYixhWzJdKX0pO3JldHVybiBifTtmdW5jdGlvbiBoeShhLGIsYyxkLGUsZixnLGgsbCxtLG4pe2NsLmNhbGwodGhpcyxlLDApO3RoaXMuQj12b2lkIDAhPT1uP246ITE7dGhpcy5DPWc7dGhpcy5EPWg7dGhpcy5OPW51bGw7dGhpcy5jPWI7dGhpcy5sPWQ7dGhpcy52PWY/ZjplO3RoaXMuYT1bXTt0aGlzLklkPW51bGw7dGhpcy5mPTA7Zj1kLk1hKHRoaXMudik7aD10aGlzLmwuRygpO2U9dGhpcy5jLkcoKTtmPWg/Z2IoZixoKTpmO2lmKDA9PT1hYihmKSl0aGlzLnN0YXRlPTQ7ZWxzZSBpZigoaD1hLkcoKSkmJihlP2U9Z2IoZSxoKTplPWgpLGQ9YnkoYSxjLGViKGYpLGQuVGEodGhpcy52WzBdKSksIWlzRmluaXRlKGQpfHwwPj1kKXRoaXMuc3RhdGU9NDtlbHNlIGlmKHRoaXMubz1uZXcgZXkoYSxjLGYsZSxkKih2b2lkIDAhPT1tP206LjUpKSwwPT09dGhpcy5vLmMubGVuZ3RoKXRoaXMuc3RhdGU9NDtlbHNlIGlmKHRoaXMuZj1iLkRjKGQpLGM9Z3kodGhpcy5vKSxlJiYoYS5nPyhjWzFdPXBhKGNbMV0sZVsxXSxlWzNdKSxcbmNbM109cGEoY1szXSxlWzFdLGVbM10pKTpjPWdiKGMsZSkpLGFiKGMpKXthPXRjKGIsYyx0aGlzLmYpO2ZvcihiPWEuZmE7Yjw9YS5sYTtiKyspZm9yKGM9YS5lYTtjPD1hLmthO2MrKykobT1sKHRoaXMuZixiLGMsZykpJiZ0aGlzLmEucHVzaChtKTswPT09dGhpcy5hLmxlbmd0aCYmKHRoaXMuc3RhdGU9NCl9ZWxzZSB0aGlzLnN0YXRlPTR9dyhoeSxjbCk7aHkucHJvdG90eXBlLmlhPWZ1bmN0aW9uKCl7MT09dGhpcy5zdGF0ZSYmKHRoaXMuSWQuZm9yRWFjaChHYyksdGhpcy5JZD1udWxsKTtjbC5wcm90b3R5cGUuaWEuY2FsbCh0aGlzKX07aHkucHJvdG90eXBlLlk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5OfTtcbmh5LnByb3RvdHlwZS5oZT1mdW5jdGlvbigpe3ZhciBhPVtdO3RoaXMuYS5mb3JFYWNoKGZ1bmN0aW9uKGIpe2ImJjI9PWIuZ2V0U3RhdGUoKSYmYS5wdXNoKHtleHRlbnQ6dGhpcy5jLk1hKGIueWEpLGltYWdlOmIuWSgpfSl9LHRoaXMpO3RoaXMuYS5sZW5ndGg9MDtpZigwPT09YS5sZW5ndGgpdGhpcy5zdGF0ZT0zO2Vsc2V7dmFyIGI9dGhpcy52WzBdLGM9dGhpcy5sLlphKGIpLGQ9XCJudW1iZXJcIj09PXR5cGVvZiBjP2M6Y1swXTtjPVwibnVtYmVyXCI9PT10eXBlb2YgYz9jOmNbMV07Yj10aGlzLmwuVGEoYik7dmFyIGU9dGhpcy5jLlRhKHRoaXMuZiksZj10aGlzLmwuTWEodGhpcy52KTt0aGlzLk49ZHkoZCxjLHRoaXMuQyxlLHRoaXMuYy5HKCksYixmLHRoaXMubyxhLHRoaXMuRCx0aGlzLkIpO3RoaXMuc3RhdGU9Mn10aGlzLnUoKX07XG5oeS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe2lmKDA9PXRoaXMuc3RhdGUpe3RoaXMuc3RhdGU9MTt0aGlzLnUoKTt2YXIgYT0wO3RoaXMuSWQ9W107dGhpcy5hLmZvckVhY2goZnVuY3Rpb24oYil7dmFyIGM9Yi5nZXRTdGF0ZSgpO2lmKDA9PWN8fDE9PWMpe2ErKzt2YXIgZD15KGIsXCJjaGFuZ2VcIixmdW5jdGlvbigpe3ZhciBjPWIuZ2V0U3RhdGUoKTtpZigyPT1jfHwzPT1jfHw0PT1jKUdjKGQpLGEtLSwwPT09YSYmKHRoaXMuSWQuZm9yRWFjaChHYyksdGhpcy5JZD1udWxsLHRoaXMuaGUoKSl9LHRoaXMpO3RoaXMuSWQucHVzaChkKX19LHRoaXMpO3RoaXMuYS5mb3JFYWNoKGZ1bmN0aW9uKGEpezA9PWEuZ2V0U3RhdGUoKSYmYS5sb2FkKCl9KTswPT09YSYmc2V0VGltZW91dCh0aGlzLmhlLmJpbmQodGhpcyksMCl9fTtmdW5jdGlvbiBpeShhKXt1dy5jYWxsKHRoaXMse2F0dHJpYnV0aW9uczphLmF0dHJpYnV0aW9ucyxleHRlbnQ6YS5leHRlbnQsbG9nbzphLmxvZ28scHJvamVjdGlvbjphLnByb2plY3Rpb24sc3RhdGU6YS5zdGF0ZSx3cmFwWDphLndyYXBYfSk7dGhpcy5iYj12b2lkIDAhPT1hLm9wYXF1ZT9hLm9wYXF1ZTohMTt0aGlzLnNjPXZvaWQgMCE9PWEudGlsZVBpeGVsUmF0aW8/YS50aWxlUGl4ZWxSYXRpbzoxO3RoaXMudGlsZUdyaWQ9dm9pZCAwIT09YS50aWxlR3JpZD9hLnRpbGVHcmlkOm51bGw7dGhpcy5hPW5ldyAkeChhLmNhY2hlU2l6ZSk7dGhpcy5qPVswLDBdO3RoaXMuamM9XCJcIjt0aGlzLkVhPXt0cmFuc2l0aW9uOmEudHJhbnNpdGlvbn19dyhpeSx1dyk7az1peS5wcm90b3R5cGU7ay5jaj1mdW5jdGlvbigpe3JldHVybiBkaSh0aGlzLmEpfTtrLnNkPWZ1bmN0aW9uKGEsYil7KGE9dGhpcy5ZZChhKSkmJmEuc2QoYil9O1xuZnVuY3Rpb24gTGkoYSxiLGMsZCxlKXthPWEuWWQoYik7aWYoIWEpcmV0dXJuITE7Yj0hMDtmb3IodmFyIGYsZyxoPWQuZmE7aDw9ZC5sYTsrK2gpZm9yKHZhciBsPWQuZWE7bDw9ZC5rYTsrK2wpZj1jK1wiL1wiK2grXCIvXCIrbCxnPSExLGEuYS5oYXNPd25Qcm9wZXJ0eShmKSYmKGY9YS5nZXQoZiksKGc9Mj09PWYuZ2V0U3RhdGUoKSkmJihnPSExIT09ZShmKSkpLGd8fChiPSExKTtyZXR1cm4gYn1rLlpmPWZ1bmN0aW9uKCl7cmV0dXJuIDB9O2Z1bmN0aW9uIGp5KGEsYil7YS5qYyE9PWImJihhLmpjPWIsYS51KCkpfWsuZWc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYn07ay5qYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpbGVHcmlkfTtrLmViPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnRpbGVHcmlkP3RoaXMudGlsZUdyaWQ6emMoYSl9O2suWWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jO3JldHVybiBiJiYhWGIoYixhKT9udWxsOnRoaXMuYX07ay5YYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNjfTtcbmsuWmQ9ZnVuY3Rpb24oYSxiLGMpe2M9dGhpcy5lYihjKTtiPXRoaXMuWGMoYik7YT1CYShjLlphKGEpLHRoaXMuaik7cmV0dXJuIDE9PWI/YTpBYShhLGIsdGhpcy5qKX07ZnVuY3Rpb24ga3koYSxiLGMpe3ZhciBkPXZvaWQgMCE9PWM/YzphLmM7Yz1hLmViKGQpO2lmKGEuRCYmZC5jKXt2YXIgZT1iO2I9ZVswXTthPXljKGMsZSk7ZD1EYyhkKTtKYShkLGEpP2I9ZTooZT1jYihkKSxhWzBdKz1lKk1hdGguY2VpbCgoZFswXS1hWzBdKS9lKSxiPWMuamcoYSxiKSl9ZT1iWzBdO2Q9YlsxXTthPWJbMl07aWYoYy5taW5ab29tPmV8fGU+Yy5tYXhab29tKWM9ITE7ZWxzZXt2YXIgZj1jLkcoKTtjPShjPWY/dGMoYyxmLGUpOmMuYT9jLmFbZV06bnVsbCk/bWEoYyxkLGEpOiEwfXJldHVybiBjP2I6bnVsbH1rLnNhPWZ1bmN0aW9uKCl7dGhpcy5hLmNsZWFyKCk7dGhpcy51KCl9O2sua2g9ZWE7ZnVuY3Rpb24gbHkoYSxiKXtRYy5jYWxsKHRoaXMsYSk7dGhpcy50aWxlPWJ9dyhseSxRYyk7ZnVuY3Rpb24gbXkoYSl7aXkuY2FsbCh0aGlzLHthdHRyaWJ1dGlvbnM6YS5hdHRyaWJ1dGlvbnMsY2FjaGVTaXplOmEuY2FjaGVTaXplLGV4dGVudDphLmV4dGVudCxsb2dvOmEubG9nbyxvcGFxdWU6YS5vcGFxdWUscHJvamVjdGlvbjphLnByb2plY3Rpb24sc3RhdGU6YS5zdGF0ZSx0aWxlR3JpZDphLnRpbGVHcmlkLHRpbGVQaXhlbFJhdGlvOmEudGlsZVBpeGVsUmF0aW8sd3JhcFg6YS53cmFwWCx0cmFuc2l0aW9uOmEudHJhbnNpdGlvbn0pO3RoaXMudGlsZUxvYWRGdW5jdGlvbj1hLnRpbGVMb2FkRnVuY3Rpb247dGhpcy50aWxlVXJsRnVuY3Rpb249dGhpcy5kYz90aGlzLmRjLmJpbmQodGhpcyk6WHg7dGhpcy51cmxzPW51bGw7YS51cmxzP3RoaXMudmIoYS51cmxzKTphLnVybCYmdGhpcy5yYihhLnVybCk7YS50aWxlVXJsRnVuY3Rpb24mJnRoaXMuaGIoYS50aWxlVXJsRnVuY3Rpb24pO3RoaXMuVj17fX13KG15LGl5KTtrPW15LnByb3RvdHlwZTtrLnliPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGlsZUxvYWRGdW5jdGlvbn07XG5rLnpiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGlsZVVybEZ1bmN0aW9ufTtrLkFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsc307ay5kaj1mdW5jdGlvbihhKXthPWEudGFyZ2V0O3ZhciBiPXgoYSksYz1hLmdldFN0YXRlKCk7aWYoMT09Yyl7dGhpcy5WW2JdPSEwO3ZhciBkPVwidGlsZWxvYWRzdGFydFwifWVsc2UgYiBpbiB0aGlzLlYmJihkZWxldGUgdGhpcy5WW2JdLGQ9Mz09Yz9cInRpbGVsb2FkZXJyb3JcIjoyPT1jfHw1PT1jP1widGlsZWxvYWRlbmRcIjp2b2lkIDApO3ZvaWQgMCE9ZCYmdGhpcy5iKG5ldyBseShkLGEpKX07ay5GYj1mdW5jdGlvbihhKXt0aGlzLmEuY2xlYXIoKTt0aGlzLnRpbGVMb2FkRnVuY3Rpb249YTt0aGlzLnUoKX07ay5oYj1mdW5jdGlvbihhLGIpe3RoaXMudGlsZVVybEZ1bmN0aW9uPWE7YXkodGhpcy5hKTtcInVuZGVmaW5lZFwiIT09dHlwZW9mIGI/ankodGhpcyxiKTp0aGlzLnUoKX07XG5rLnJiPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudXJscz1ZeChhKTt0aGlzLmhiKHRoaXMuZGM/dGhpcy5kYy5iaW5kKHRoaXMpOlZ4KGIsdGhpcy50aWxlR3JpZCksYSl9O2sudmI9ZnVuY3Rpb24oYSl7dGhpcy51cmxzPWE7dmFyIGI9YS5qb2luKFwiXFxuXCIpO3RoaXMuaGIodGhpcy5kYz90aGlzLmRjLmJpbmQodGhpcyk6VngoYSx0aGlzLnRpbGVHcmlkKSxiKX07ay5raD1mdW5jdGlvbihhLGIsYyl7YT1hK1wiL1wiK2IrXCIvXCIrYzt0aGlzLmEuYS5oYXNPd25Qcm9wZXJ0eShhKSYmdGhpcy5hLmdldChhKX07ZnVuY3Rpb24gbnkoYSl7bXkuY2FsbCh0aGlzLHthdHRyaWJ1dGlvbnM6YS5hdHRyaWJ1dGlvbnMsY2FjaGVTaXplOmEuY2FjaGVTaXplLGV4dGVudDphLmV4dGVudCxsb2dvOmEubG9nbyxvcGFxdWU6YS5vcGFxdWUscHJvamVjdGlvbjphLnByb2plY3Rpb24sc3RhdGU6YS5zdGF0ZSx0aWxlR3JpZDphLnRpbGVHcmlkLHRpbGVMb2FkRnVuY3Rpb246YS50aWxlTG9hZEZ1bmN0aW9uP2EudGlsZUxvYWRGdW5jdGlvbjpveSx0aWxlUGl4ZWxSYXRpbzphLnRpbGVQaXhlbFJhdGlvLHRpbGVVcmxGdW5jdGlvbjphLnRpbGVVcmxGdW5jdGlvbix1cmw6YS51cmwsdXJsczphLnVybHMsd3JhcFg6YS53cmFwWCx0cmFuc2l0aW9uOmEudHJhbnNpdGlvbn0pO3RoaXMuY3Jvc3NPcmlnaW49dm9pZCAwIT09YS5jcm9zc09yaWdpbj9hLmNyb3NzT3JpZ2luOm51bGw7dGhpcy50aWxlQ2xhc3M9dm9pZCAwIT09YS50aWxlQ2xhc3M/YS50aWxlQ2xhc3M6ZWw7dGhpcy5mPXt9O3RoaXMucz17fTt0aGlzLm9iPVxuYS5yZXByb2plY3Rpb25FcnJvclRocmVzaG9sZDt0aGlzLk89ITF9dyhueSxteSk7az1ueS5wcm90b3R5cGU7ay5jaj1mdW5jdGlvbigpe2lmKGRpKHRoaXMuYSkpcmV0dXJuITA7Zm9yKHZhciBhIGluIHRoaXMuZilpZihkaSh0aGlzLmZbYV0pKXJldHVybiEwO3JldHVybiExfTtrLnNkPWZ1bmN0aW9uKGEsYil7YT10aGlzLllkKGEpO3RoaXMuYS5zZCh0aGlzLmE9PWE/Yjp7fSk7Zm9yKHZhciBjIGluIHRoaXMuZil7dmFyIGQ9dGhpcy5mW2NdO2Quc2QoZD09YT9iOnt9KX19O2suWmY9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYyYmYSYmIVhiKHRoaXMuYyxhKT8wOnRoaXMuJGYoKX07ay4kZj1mdW5jdGlvbigpe3JldHVybiAwfTtrLmVnPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmMmJmEmJiFYYih0aGlzLmMsYSk/ITE6bXkucHJvdG90eXBlLmVnLmNhbGwodGhpcyxhKX07XG5rLmViPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYztyZXR1cm4hdGhpcy50aWxlR3JpZHx8YiYmIVhiKGIsYSk/KGI9eChhKS50b1N0cmluZygpLGIgaW4gdGhpcy5zfHwodGhpcy5zW2JdPXpjKGEpKSx0aGlzLnNbYl0pOnRoaXMudGlsZUdyaWR9O2suWWQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jO2lmKCFifHxYYihiLGEpKXJldHVybiB0aGlzLmE7YT14KGEpLnRvU3RyaW5nKCk7YSBpbiB0aGlzLmZ8fCh0aGlzLmZbYV09bmV3ICR4KHRoaXMuYS5oaWdoV2F0ZXJNYXJrKSk7cmV0dXJuIHRoaXMuZlthXX07XG5mdW5jdGlvbiBweShhLGIsYyxkLGUsZixnKXtiPVtiLGMsZF07ZT0oYz1reShhLGIsZikpP2EudGlsZVVybEZ1bmN0aW9uKGMsZSxmKTp2b2lkIDA7ZT1uZXcgYS50aWxlQ2xhc3MoYix2b2lkIDAhPT1lPzA6NCx2b2lkIDAhPT1lP2U6XCJcIixhLmNyb3NzT3JpZ2luLGEudGlsZUxvYWRGdW5jdGlvbixhLkVhKTtlLmtleT1nO3koZSxcImNoYW5nZVwiLGEuZGosYSk7cmV0dXJuIGV9XG5rLmFkPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9dGhpcy5jO2lmKGYmJmUmJiFYYihmLGUpKXt2YXIgZz10aGlzLllkKGUpO2M9W2EsYixjXTt2YXIgaDthPWNbMF0rXCIvXCIrY1sxXStcIi9cIitjWzJdO2cuYS5oYXNPd25Qcm9wZXJ0eShhKSYmKGg9Zy5nZXQoYSkpO2I9dGhpcy5qYztpZihoJiZoLmtleT09YilyZXR1cm4gaDt2YXIgbD10aGlzLmViKGYpLG09dGhpcy5lYihlKSxuPWt5KHRoaXMsYyxlKTtkPW5ldyBoeShmLGwsZSxtLGMsbix0aGlzLlhjKGQpLHRoaXMuJGYoKSxmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gcXkodGhpcyxhLGIsYyxkLGYpfS5iaW5kKHRoaXMpLHRoaXMub2IsdGhpcy5PKTtkLmtleT1iO2g/KGQuZz1oLGRsKGQpLGcucmVwbGFjZShhLGQpKTpnLnNldChhLGQpO3JldHVybiBkfXJldHVybiBxeSh0aGlzLGEsYixjLGQsZnx8ZSl9O1xuZnVuY3Rpb24gcXkoYSxiLGMsZCxlLGYpe3ZhciBnPWIrXCIvXCIrYytcIi9cIitkLGg9YS5qYztpZihhLmEuYS5oYXNPd25Qcm9wZXJ0eShnKSl7dmFyIGw9YS5hLmdldChnKTtpZihsLmtleSE9aCl7dmFyIG09bDtsPXB5KGEsYixjLGQsZSxmLGgpOzA9PW0uZ2V0U3RhdGUoKT9sLmc9bS5nOmwuZz1tO2RsKGwpO2EuYS5yZXBsYWNlKGcsbCl9fWVsc2UgbD1weShhLGIsYyxkLGUsZixoKSxhLmEuc2V0KGcsbCk7cmV0dXJuIGx9ay5RYj1mdW5jdGlvbihhKXtpZih0aGlzLk8hPWEpe3RoaXMuTz1hO2Zvcih2YXIgYiBpbiB0aGlzLmYpdGhpcy5mW2JdLmNsZWFyKCk7dGhpcy51KCl9fTtrLlJiPWZ1bmN0aW9uKGEsYil7aWYoYT1PYihhKSlhPXgoYSkudG9TdHJpbmcoKSxhIGluIHRoaXMuc3x8KHRoaXMuc1thXT1iKX07ZnVuY3Rpb24gb3koYSxiKXthLlkoKS5zcmM9Yn07ZnVuY3Rpb24gcnkoYSl7dGhpcy5pPXZvaWQgMCE9PWEuaGlkcGk/YS5oaWRwaTohMTtueS5jYWxsKHRoaXMse2NhY2hlU2l6ZTphLmNhY2hlU2l6ZSxjcm9zc09yaWdpbjpcImFub255bW91c1wiLG9wYXF1ZTohMCxwcm9qZWN0aW9uOk9iKFwiRVBTRzozODU3XCIpLHJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkOmEucmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQsc3RhdGU6XCJsb2FkaW5nXCIsdGlsZUxvYWRGdW5jdGlvbjphLnRpbGVMb2FkRnVuY3Rpb24sdGlsZVBpeGVsUmF0aW86dGhpcy5pPzI6MSx3cmFwWDp2b2lkIDAhPT1hLndyYXBYP2Eud3JhcFg6ITAsdHJhbnNpdGlvbjphLnRyYW5zaXRpb259KTt0aGlzLm89dm9pZCAwIT09YS5jdWx0dXJlP2EuY3VsdHVyZTpcImVuLXVzXCI7dGhpcy4kPXZvaWQgMCE9PWEubWF4Wm9vbT9hLm1heFpvb206LTE7dGhpcy5sPWEua2V5O3RoaXMuQj1hLmltYWdlcnlTZXQ7WngoXCJodHRwczovL2Rldi52aXJ0dWFsZWFydGgubmV0L1JFU1QvdjEvSW1hZ2VyeS9NZXRhZGF0YS9cIitcbnRoaXMuQitcIj91cmlTY2hlbWU9aHR0cHMmaW5jbHVkZT1JbWFnZXJ5UHJvdmlkZXJzJmtleT1cIit0aGlzLmwrXCImYz1cIit0aGlzLm8sdGhpcy5MYS5iaW5kKHRoaXMpLHZvaWQgMCxcImpzb25wXCIpfXcocnksbnkpO3J5LnByb3RvdHlwZS5jYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmx9O3J5LnByb3RvdHlwZS51YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJ9O1xucnkucHJvdG90eXBlLkxhPWZ1bmN0aW9uKGEpe2lmKDIwMCE9YS5zdGF0dXNDb2RlfHxcIk9LXCIhPWEuc3RhdHVzRGVzY3JpcHRpb258fFwiVmFsaWRDcmVkZW50aWFsc1wiIT1hLmF1dGhlbnRpY2F0aW9uUmVzdWx0Q29kZXx8MSE9YS5yZXNvdXJjZVNldHMubGVuZ3RofHwxIT1hLnJlc291cmNlU2V0c1swXS5yZXNvdXJjZXMubGVuZ3RoKXd3KHRoaXMsXCJlcnJvclwiKTtlbHNle3ZhciBiPWEuYnJhbmRMb2dvVXJpOy0xPT1iLmluZGV4T2YoXCJodHRwc1wiKSYmKGI9Yi5yZXBsYWNlKFwiaHR0cFwiLFwiaHR0cHNcIikpO3ZhciBjPWEucmVzb3VyY2VTZXRzWzBdLnJlc291cmNlc1swXTthPS0xPT10aGlzLiQ/Yy56b29tTWF4OnRoaXMuJDt2YXIgZD1EYyh0aGlzLmMpO3RoaXMudGlsZUdyaWQ9QmMoe2V4dGVudDpkLG1pblpvb206Yy56b29tTWluLG1heFpvb206YSx0aWxlU2l6ZTooYy5pbWFnZVdpZHRoPT1jLmltYWdlSGVpZ2h0P2MuaW1hZ2VXaWR0aDpbYy5pbWFnZVdpZHRoLGMuaW1hZ2VIZWlnaHRdKS9cbih0aGlzLmk/MjoxKX0pO3ZhciBlPXRoaXMubyxmPXRoaXMuaTt0aGlzLnRpbGVVcmxGdW5jdGlvbj1XeChjLmltYWdlVXJsU3ViZG9tYWlucy5tYXAoZnVuY3Rpb24oYSl7dmFyIGI9WzAsMCwwXSxkPWMuaW1hZ2VVcmwucmVwbGFjZShcIntzdWJkb21haW59XCIsYSkucmVwbGFjZShcIntjdWx0dXJlfVwiLGUpO3JldHVybiBmdW5jdGlvbihhKXtpZihhKXJldHVybiBvYyhhWzBdLGFbMV0sLWFbMl0tMSxiKSxhPWQsZiYmKGErPVwiJmRwaT1kMSZkZXZpY2U9bW9iaWxlXCIpLGEucmVwbGFjZShcIntxdWFka2V5fVwiLHBjKGIpKX19KSk7aWYoYy5pbWFnZXJ5UHJvdmlkZXJzKXt2YXIgZz1QYihPYihcIkVQU0c6NDMyNlwiKSx0aGlzLmMpO3RoaXMudmEoZnVuY3Rpb24oYSl7dmFyIGI9W10sZD1hLnZpZXdTdGF0ZS56b29tO2MuaW1hZ2VyeVByb3ZpZGVycy5tYXAoZnVuY3Rpb24oYyl7Zm9yKHZhciBlPSExLGY9Yy5jb3ZlcmFnZUFyZWFzLGg9MCxsPWYubGVuZ3RoO2g8bDsrK2gpe3ZhciBtPWZbaF07XG5pZihkPj1tLnpvb21NaW4mJmQ8PW0uem9vbU1heCYmKG09bS5iYm94LG09amIoW21bMV0sbVswXSxtWzNdLG1bMl1dLGcpLGhiKG0sYS5leHRlbnQpKSl7ZT0hMDticmVha319ZSYmYi5wdXNoKGMuYXR0cmlidXRpb24pfSk7Yi5wdXNoKCc8YSBjbGFzcz1cIm9sLWF0dHJpYnV0aW9uLWJpbmctdG9zXCIgaHJlZj1cImh0dHBzOi8vd3d3Lm1pY3Jvc29mdC5jb20vbWFwcy9wcm9kdWN0L3Rlcm1zLmh0bWxcIj5UZXJtcyBvZiBVc2U8L2E+Jyk7cmV0dXJuIGJ9KX10aGlzLlQ9Yjt3dyh0aGlzLFwicmVhZHlcIil9fTtmdW5jdGlvbiBzeShhKXthPWF8fHt9O3ZhciBiPXZvaWQgMCE9PWEucHJvamVjdGlvbj9hLnByb2plY3Rpb246XCJFUFNHOjM4NTdcIixjPXZvaWQgMCE9PWEudGlsZUdyaWQ/YS50aWxlR3JpZDpCYyh7ZXh0ZW50OkRjKGIpLG1heFpvb206YS5tYXhab29tLG1pblpvb206YS5taW5ab29tLHRpbGVTaXplOmEudGlsZVNpemV9KTtueS5jYWxsKHRoaXMse2F0dHJpYnV0aW9uczphLmF0dHJpYnV0aW9ucyxjYWNoZVNpemU6YS5jYWNoZVNpemUsY3Jvc3NPcmlnaW46YS5jcm9zc09yaWdpbixsb2dvOmEubG9nbyxvcGFxdWU6YS5vcGFxdWUscHJvamVjdGlvbjpiLHJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkOmEucmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQsdGlsZUdyaWQ6Yyx0aWxlTG9hZEZ1bmN0aW9uOmEudGlsZUxvYWRGdW5jdGlvbix0aWxlUGl4ZWxSYXRpbzphLnRpbGVQaXhlbFJhdGlvLHRpbGVVcmxGdW5jdGlvbjphLnRpbGVVcmxGdW5jdGlvbix1cmw6YS51cmwsdXJsczphLnVybHMsXG53cmFwWDp2b2lkIDAhPT1hLndyYXBYP2Eud3JhcFg6ITAsdHJhbnNpdGlvbjphLnRyYW5zaXRpb259KX13KHN5LG55KTtmdW5jdGlvbiB0eShhKXt0aGlzLm89YS5hY2NvdW50O3RoaXMuQj1hLm1hcHx8XCJcIjt0aGlzLmk9YS5jb25maWd8fHt9O3RoaXMubD17fTtzeS5jYWxsKHRoaXMse2F0dHJpYnV0aW9uczphLmF0dHJpYnV0aW9ucyxjYWNoZVNpemU6YS5jYWNoZVNpemUsY3Jvc3NPcmlnaW46YS5jcm9zc09yaWdpbixsb2dvOmEubG9nbyxtYXhab29tOnZvaWQgMCE9PWEubWF4Wm9vbT9hLm1heFpvb206MTgsbWluWm9vbTphLm1pblpvb20scHJvamVjdGlvbjphLnByb2plY3Rpb24sc3RhdGU6XCJsb2FkaW5nXCIsd3JhcFg6YS53cmFwWH0pO3V5KHRoaXMpfXcodHksc3kpO2s9dHkucHJvdG90eXBlO2submw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtrLlNxPWZ1bmN0aW9uKGEpe2tiKHRoaXMuaSxhKTt1eSh0aGlzKX07ay51cT1mdW5jdGlvbihhKXt0aGlzLmk9YXx8e307dXkodGhpcyl9O1xuZnVuY3Rpb24gdXkoYSl7dmFyIGI9SlNPTi5zdHJpbmdpZnkoYS5pKTtpZihhLmxbYl0pdnkoYSxhLmxbYl0pO2Vsc2V7dmFyIGM9XCJodHRwczovL1wiK2EubytcIi5jYXJ0by5jb20vYXBpL3YxL21hcFwiO2EuQiYmKGMrPVwiL25hbWVkL1wiK2EuQik7dmFyIGQ9bmV3IFhNTEh0dHBSZXF1ZXN0O2QuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixhLmVtLmJpbmQoYSxiKSk7ZC5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIixhLmRtLmJpbmQoYSkpO2Qub3BlbihcIlBPU1RcIixjKTtkLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LXR5cGVcIixcImFwcGxpY2F0aW9uL2pzb25cIik7ZC5zZW5kKEpTT04uc3RyaW5naWZ5KGEuaSkpfX1cbmsuZW09ZnVuY3Rpb24oYSxiKXtiPWIudGFyZ2V0O2lmKCFiLnN0YXR1c3x8MjAwPD1iLnN0YXR1cyYmMzAwPmIuc3RhdHVzKXt0cnl7dmFyIGM9SlNPTi5wYXJzZShiLnJlc3BvbnNlVGV4dCl9Y2F0Y2goZCl7d3codGhpcyxcImVycm9yXCIpO3JldHVybn12eSh0aGlzLGMpO3RoaXMubFthXT1jO3d3KHRoaXMsXCJyZWFkeVwiKX1lbHNlIHd3KHRoaXMsXCJlcnJvclwiKX07ay5kbT1mdW5jdGlvbigpe3d3KHRoaXMsXCJlcnJvclwiKX07ZnVuY3Rpb24gdnkoYSxiKXthLnJiKFwiaHR0cHM6Ly9cIitiLmNkbl91cmwuaHR0cHMrXCIvXCIrYS5vK1wiL2FwaS92MS9tYXAvXCIrYi5sYXllcmdyb3VwaWQrXCIve3p9L3t4fS97eX0ucG5nXCIpfTtmdW5jdGlvbiBYKGEpe1UuY2FsbCh0aGlzLHthdHRyaWJ1dGlvbnM6YS5hdHRyaWJ1dGlvbnMsZXh0ZW50OmEuZXh0ZW50LGxvZ286YS5sb2dvLHByb2plY3Rpb246YS5wcm9qZWN0aW9uLHdyYXBYOmEud3JhcFh9KTt0aGlzLnJlc29sdXRpb249dm9pZCAwO3RoaXMuZGlzdGFuY2U9dm9pZCAwIT09YS5kaXN0YW5jZT9hLmRpc3RhbmNlOjIwO3RoaXMuZmVhdHVyZXM9W107dGhpcy5nZW9tZXRyeUZ1bmN0aW9uPWEuZ2VvbWV0cnlGdW5jdGlvbnx8ZnVuY3Rpb24oYSl7YT1hLlUoKTtvYShhIGluc3RhbmNlb2YgQywxMCk7cmV0dXJuIGF9O3RoaXMuc291cmNlPWEuc291cmNlO3RoaXMuc291cmNlLkkoXCJjaGFuZ2VcIixYLnByb3RvdHlwZS5zYSx0aGlzKX13KFgsVSk7az1YLnByb3RvdHlwZTtrLkVvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzdGFuY2V9O2suRm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb3VyY2V9O1xuay5hZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5zb3VyY2UuYWUoYSxiLGMpO2IhPT10aGlzLnJlc29sdXRpb24mJih0aGlzLmNsZWFyKCksdGhpcy5yZXNvbHV0aW9uPWIsd3kodGhpcyksdGhpcy5RYyh0aGlzLmZlYXR1cmVzKSl9O2sudnE9ZnVuY3Rpb24oYSl7dGhpcy5kaXN0YW5jZT1hO3RoaXMuc2EoKX07ay5zYT1mdW5jdGlvbigpe3RoaXMuY2xlYXIoKTt3eSh0aGlzKTt0aGlzLlFjKHRoaXMuZmVhdHVyZXMpO1UucHJvdG90eXBlLnNhLmNhbGwodGhpcyl9O1xuZnVuY3Rpb24gd3koYSl7aWYodm9pZCAwIT09YS5yZXNvbHV0aW9uKXthLmZlYXR1cmVzLmxlbmd0aD0wO2Zvcih2YXIgYj1EYSgpLGM9YS5kaXN0YW5jZSphLnJlc29sdXRpb24sZD1hLnNvdXJjZS5lZSgpLGU9e30sZj0wLGc9ZC5sZW5ndGg7ZjxnO2YrKyl7dmFyIGg9ZFtmXTt4KGgpLnRvU3RyaW5nKClpbiBlfHwhKGg9YS5nZW9tZXRyeUZ1bmN0aW9uKGgpKXx8KGg9aC5XKCksUGEoaCxiKSxGYShiLGMsYiksaD1hLnNvdXJjZS5ZZihiKSxoPWguZmlsdGVyKGZ1bmN0aW9uKGEpe2E9eChhKS50b1N0cmluZygpO3JldHVybiBhIGluIGU/ITE6ZVthXT0hMH0pLGEuZmVhdHVyZXMucHVzaCh4eShhLGgpKSl9fX1cbmZ1bmN0aW9uIHh5KGEsYil7Zm9yKHZhciBjPVswLDBdLGQ9Yi5sZW5ndGgtMTswPD1kOy0tZCl7dmFyIGU9YS5nZW9tZXRyeUZ1bmN0aW9uKGJbZF0pO2U/emUoYyxlLlcoKSk6Yi5zcGxpY2UoZCwxKX1HZShjLDEvYi5sZW5ndGgpO2E9bmV3IEhrKG5ldyBDKGMpKTthLnNldChcImZlYXR1cmVzXCIsYik7cmV0dXJuIGF9O2Z1bmN0aW9uIHl5KGEsYixjLGQsZSxmKXt0aGlzLnM9Yjt0aGlzLmw9YS5HKCk7dmFyIGc9Yi5HKCksaD1nP2diKGMsZyk6YztnPWJ5KGEsYixlYihoKSxkKTt0aGlzLmY9bmV3IGV5KGEsYixoLHRoaXMubCwuNSpnKTt0aGlzLmM9ZDt0aGlzLmc9YzthPWd5KHRoaXMuZik7dGhpcy5qPSh0aGlzLlRiPWYoYSxnLGUpKT90aGlzLlRiLmE6MTt0aGlzLmplPXRoaXMuaT1udWxsO2U9Mjt0aGlzLlRiJiYoZT0wKTskaC5jYWxsKHRoaXMsYyxkLHRoaXMuaixlKX13KHl5LCRoKTt5eS5wcm90b3R5cGUuaWE9ZnVuY3Rpb24oKXsxPT10aGlzLnN0YXRlJiYoR2ModGhpcy5qZSksdGhpcy5qZT1udWxsKTskaC5wcm90b3R5cGUuaWEuY2FsbCh0aGlzKX07eXkucHJvdG90eXBlLlk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtcbnl5LnByb3RvdHlwZS5oZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuVGIuZ2V0U3RhdGUoKTsyPT1hJiYodGhpcy5pPWR5KGNiKHRoaXMuZykvdGhpcy5jLGRiKHRoaXMuZykvdGhpcy5jLHRoaXMuaix0aGlzLlRiLnJlc29sdXRpb24sMCx0aGlzLmMsdGhpcy5nLHRoaXMuZixbe2V4dGVudDp0aGlzLlRiLkcoKSxpbWFnZTp0aGlzLlRiLlkoKX1dLDApKTt0aGlzLnN0YXRlPWE7dGhpcy51KCl9O3l5LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7aWYoMD09dGhpcy5zdGF0ZSl7dGhpcy5zdGF0ZT0xO3RoaXMudSgpO3ZhciBhPXRoaXMuVGIuZ2V0U3RhdGUoKTsyPT1hfHwzPT1hP3RoaXMuaGUoKToodGhpcy5qZT15KHRoaXMuVGIsXCJjaGFuZ2VcIixmdW5jdGlvbigpe3ZhciBhPXRoaXMuVGIuZ2V0U3RhdGUoKTtpZigyPT1hfHwzPT1hKUdjKHRoaXMuamUpLHRoaXMuamU9bnVsbCx0aGlzLmhlKCl9LHRoaXMpLHRoaXMuVGIubG9hZCgpKX19O2Z1bmN0aW9uIHp5KGEpe3V3LmNhbGwodGhpcyx7YXR0cmlidXRpb25zOmEuYXR0cmlidXRpb25zLGV4dGVudDphLmV4dGVudCxsb2dvOmEubG9nbyxwcm9qZWN0aW9uOmEucHJvamVjdGlvbixzdGF0ZTphLnN0YXRlfSk7dGhpcy5vPXZvaWQgMCE9PWEucmVzb2x1dGlvbnM/YS5yZXNvbHV0aW9uczpudWxsO3RoaXMuaT1udWxsO3RoaXMudWE9MH13KHp5LHV3KTtmdW5jdGlvbiBBeShhLGIpe2EubyYmKGI9YS5vW2ZjKGEubyxiLDApXSk7cmV0dXJuIGJ9XG56eS5wcm90b3R5cGUuWT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmM7aWYoZSYmZCYmIVhiKGUsZCkpe2lmKHRoaXMuaSl7aWYodGhpcy51YT09dGhpcy5nJiZYYih0aGlzLmkucyxkKSYmdGhpcy5pLnJlc29sdXRpb249PWImJlNhKHRoaXMuaS5HKCksYSkpcmV0dXJuIHRoaXMuaTtQYyh0aGlzLmkpO3RoaXMuaT1udWxsfXRoaXMuaT1uZXcgeXkoZSxkLGEsYixjLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5XYyhhLGIsYyxlKX0uYmluZCh0aGlzKSk7dGhpcy51YT10aGlzLmc7cmV0dXJuIHRoaXMuaX1lJiYoZD1lKTtyZXR1cm4gdGhpcy5XYyhhLGIsYyxkKX07enkucHJvdG90eXBlLmo9ZnVuY3Rpb24oYSl7YT1hLnRhcmdldDtzd2l0Y2goYS5nZXRTdGF0ZSgpKXtjYXNlIDE6dGhpcy5iKG5ldyBCeShDeSxhKSk7YnJlYWs7Y2FzZSAyOnRoaXMuYihuZXcgQnkoRHksYSkpO2JyZWFrO2Nhc2UgMzp0aGlzLmIobmV3IEJ5KEV5LGEpKX19O1xuZnVuY3Rpb24gRnkoYSxiKXthLlkoKS5zcmM9Yn1mdW5jdGlvbiBCeShhLGIpe1FjLmNhbGwodGhpcyxhKTt0aGlzLmltYWdlPWJ9dyhCeSxRYyk7dmFyIEN5PVwiaW1hZ2Vsb2Fkc3RhcnRcIixEeT1cImltYWdlbG9hZGVuZFwiLEV5PVwiaW1hZ2Vsb2FkZXJyb3JcIjtmdW5jdGlvbiBHeShhLGIpe3ZhciBjPVtdO09iamVjdC5rZXlzKGIpLmZvckVhY2goZnVuY3Rpb24oYSl7bnVsbCE9PWJbYV0mJnZvaWQgMCE9PWJbYV0mJmMucHVzaChhK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChiW2FdKSl9KTt2YXIgZD1jLmpvaW4oXCImXCIpO2E9YS5yZXBsYWNlKC9bPyZdJC8sXCJcIik7YT0tMT09PWEuaW5kZXhPZihcIj9cIik/YStcIj9cIjphK1wiJlwiO3JldHVybiBhK2R9O2Z1bmN0aW9uIEh5KGEpe2E9YXx8e307enkuY2FsbCh0aGlzLHthdHRyaWJ1dGlvbnM6YS5hdHRyaWJ1dGlvbnMsbG9nbzphLmxvZ28scHJvamVjdGlvbjphLnByb2plY3Rpb24scmVzb2x1dGlvbnM6YS5yZXNvbHV0aW9uc30pO3RoaXMuVj12b2lkIDAhPT1hLmNyb3NzT3JpZ2luP2EuY3Jvc3NPcmlnaW46bnVsbDt0aGlzLiQ9dm9pZCAwIT09YS5oaWRwaT9hLmhpZHBpOiEwO3RoaXMuYT1hLnVybDt0aGlzLmY9dm9pZCAwIT09YS5pbWFnZUxvYWRGdW5jdGlvbj9hLmltYWdlTG9hZEZ1bmN0aW9uOkZ5O3RoaXMucz1hLnBhcmFtc3x8e307dGhpcy5NPW51bGw7dGhpcy5sPVswLDBdO3RoaXMuTz0wO3RoaXMuQj12b2lkIDAhPT1hLnJhdGlvP2EucmF0aW86MS41fXcoSHksenkpO2s9SHkucHJvdG90eXBlO2suSG89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zfTtcbmsuV2M9ZnVuY3Rpb24oYSxiLGMsZCl7aWYodm9pZCAwPT09dGhpcy5hKXJldHVybiBudWxsO2I9QXkodGhpcyxiKTtjPXRoaXMuJD9jOjE7dmFyIGU9dGhpcy5NO2lmKGUmJnRoaXMuTz09dGhpcy5nJiZlLnJlc29sdXRpb249PWImJmUuYT09YyYmTGEoZS5HKCksYSkpcmV0dXJuIGU7ZT17RjpcImltYWdlXCIsRk9STUFUOlwiUE5HMzJcIixUUkFOU1BBUkVOVDohMH07a2IoZSx0aGlzLnMpO2E9YS5zbGljZSgpO3ZhciBmPShhWzBdK2FbMl0pLzIsZz0oYVsxXSthWzNdKS8yO2lmKDEhPXRoaXMuQil7dmFyIGg9dGhpcy5CKmNiKGEpLzIsbD10aGlzLkIqZGIoYSkvMjthWzBdPWYtaDthWzFdPWctbDthWzJdPWYraDthWzNdPWcrbH1oPWIvYztsPU1hdGguY2VpbChjYihhKS9oKTt2YXIgbT1NYXRoLmNlaWwoZGIoYSkvaCk7YVswXT1mLWgqbC8yO2FbMl09ZitoKmwvMjthWzFdPWctaCptLzI7YVszXT1nK2gqbS8yO3RoaXMubFswXT1sO3RoaXMubFsxXT1tO2Y9YTtnPXRoaXMubDtoPWM7ZD1cbmQud2Iuc3BsaXQoXCI6XCIpLnBvcCgpO2UuU0laRT1nWzBdK1wiLFwiK2dbMV07ZS5CQk9YPWYuam9pbihcIixcIik7ZS5CQk9YU1I9ZDtlLklNQUdFU1I9ZDtlLkRQST1NYXRoLnJvdW5kKDkwKmgpO2Q9dGhpcy5hO2Y9ZC5yZXBsYWNlKC9NYXBTZXJ2ZXJcXC8/JC8sXCJNYXBTZXJ2ZXIvZXhwb3J0XCIpLnJlcGxhY2UoL0ltYWdlU2VydmVyXFwvPyQvLFwiSW1hZ2VTZXJ2ZXIvZXhwb3J0SW1hZ2VcIik7Zj09ZCYmb2EoITEsNTApO2U9R3koZixlKTt0aGlzLk09bmV3IGJsKGEsYixjLGUsdGhpcy5WLHRoaXMuZik7dGhpcy5PPXRoaXMuZzt5KHRoaXMuTSxcImNoYW5nZVwiLHRoaXMuaix0aGlzKTtyZXR1cm4gdGhpcy5NfTtrLkdvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07ay5Jbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2suSm89ZnVuY3Rpb24oYSl7dGhpcy5NPW51bGw7dGhpcy5mPWE7dGhpcy51KCl9O1xuay5Lbz1mdW5jdGlvbihhKXthIT10aGlzLmEmJih0aGlzLmE9YSx0aGlzLk09bnVsbCx0aGlzLnUoKSl9O2suTG89ZnVuY3Rpb24oYSl7a2IodGhpcy5zLGEpO3RoaXMuTT1udWxsO3RoaXMudSgpfTtmdW5jdGlvbiBJeShhKXt6eS5jYWxsKHRoaXMse2F0dHJpYnV0aW9uczphLmF0dHJpYnV0aW9ucyxsb2dvOmEubG9nbyxwcm9qZWN0aW9uOmEucHJvamVjdGlvbixyZXNvbHV0aW9uczphLnJlc29sdXRpb25zLHN0YXRlOmEuc3RhdGV9KTt0aGlzLkVhPWEuY2FudmFzRnVuY3Rpb247dGhpcy5WPW51bGw7dGhpcy4kPTA7dGhpcy5MYT12b2lkIDAhPT1hLnJhdGlvP2EucmF0aW86MS41fXcoSXksenkpO0l5LnByb3RvdHlwZS5XYz1mdW5jdGlvbihhLGIsYyxkKXtiPUF5KHRoaXMsYik7dmFyIGU9dGhpcy5WO2lmKGUmJnRoaXMuJD09dGhpcy5nJiZlLnJlc29sdXRpb249PWImJmUuYT09YyYmTGEoZS5HKCksYSkpcmV0dXJuIGU7YT1hLnNsaWNlKCk7aWIoYSx0aGlzLkxhKTsoZD10aGlzLkVhKGEsYixjLFtjYihhKS9iKmMsZGIoYSkvYipjXSxkKSkmJihlPW5ldyBhaShhLGIsYyxkKSk7dGhpcy5WPWU7dGhpcy4kPXRoaXMuZztyZXR1cm4gZX07ZnVuY3Rpb24gSnkoYSl7enkuY2FsbCh0aGlzLHtwcm9qZWN0aW9uOmEucHJvamVjdGlvbixyZXNvbHV0aW9uczphLnJlc29sdXRpb25zfSk7dGhpcy5WPXZvaWQgMCE9PWEuY3Jvc3NPcmlnaW4/YS5jcm9zc09yaWdpbjpudWxsO3RoaXMubD12b2lkIDAhPT1hLmRpc3BsYXlEcGk/YS5kaXNwbGF5RHBpOjk2O3RoaXMuZj1hLnBhcmFtc3x8e307dGhpcy5PPWEudXJsO3RoaXMuYT12b2lkIDAhPT1hLmltYWdlTG9hZEZ1bmN0aW9uP2EuaW1hZ2VMb2FkRnVuY3Rpb246Rnk7dGhpcy4kPXZvaWQgMCE9PWEuaGlkcGk/YS5oaWRwaTohMDt0aGlzLmNhPXZvaWQgMCE9PWEubWV0ZXJzUGVyVW5pdD9hLm1ldGVyc1BlclVuaXQ6MTt0aGlzLnM9dm9pZCAwIT09YS5yYXRpbz9hLnJhdGlvOjE7dGhpcy5FYT12b2lkIDAhPT1hLnVzZU92ZXJsYXk/YS51c2VPdmVybGF5OiExO3RoaXMuTT1udWxsO3RoaXMuQj0wfXcoSnksenkpO2s9SnkucHJvdG90eXBlO2suTm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtcbmsuV2M9ZnVuY3Rpb24oYSxiLGMpe2I9QXkodGhpcyxiKTtjPXRoaXMuJD9jOjE7dmFyIGQ9dGhpcy5NO2lmKGQmJnRoaXMuQj09dGhpcy5nJiZkLnJlc29sdXRpb249PWImJmQuYT09YyYmTGEoZC5HKCksYSkpcmV0dXJuIGQ7MSE9dGhpcy5zJiYoYT1hLnNsaWNlKCksaWIoYSx0aGlzLnMpKTt2YXIgZT1bY2IoYSkvYipjLGRiKGEpL2IqY107aWYodm9pZCAwIT09dGhpcy5PKXtkPXRoaXMuTzt2YXIgZj1lYihhKSxnPXRoaXMuY2EsaD1jYihhKSxsPWRiKGEpLG09ZVswXSxuPWVbMV0scD0uMDI1NC90aGlzLmw7ZT17T1BFUkFUSU9OOnRoaXMuRWE/XCJHRVREWU5BTUlDTUFQT1ZFUkxBWUlNQUdFXCI6XCJHRVRNQVBJTUFHRVwiLFZFUlNJT046XCIyLjAuMFwiLExPQ0FMRTpcImVuXCIsQ0xJRU5UQUdFTlQ6XCJvbC5zb3VyY2UuSW1hZ2VNYXBHdWlkZSBzb3VyY2VcIixDTElQOlwiMVwiLFNFVERJU1BMQVlEUEk6dGhpcy5sLFNFVERJU1BMQVlXSURUSDpNYXRoLnJvdW5kKGVbMF0pLFNFVERJU1BMQVlIRUlHSFQ6TWF0aC5yb3VuZChlWzFdKSxcblNFVFZJRVdTQ0FMRTpuKmg+bSpsP2gqZy8obSpwKTpsKmcvKG4qcCksU0VUVklFV0NFTlRFUlg6ZlswXSxTRVRWSUVXQ0VOVEVSWTpmWzFdfTtrYihlLHRoaXMuZik7ZD1HeShkLGUpO2Q9bmV3IGJsKGEsYixjLGQsdGhpcy5WLHRoaXMuYSk7eShkLFwiY2hhbmdlXCIsdGhpcy5qLHRoaXMpfWVsc2UgZD1udWxsO3RoaXMuTT1kO3RoaXMuQj10aGlzLmc7cmV0dXJuIGR9O2suTW89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtrLlBvPWZ1bmN0aW9uKGEpe2tiKHRoaXMuZixhKTt0aGlzLnUoKX07ay5Pbz1mdW5jdGlvbihhKXt0aGlzLk09bnVsbDt0aGlzLmE9YTt0aGlzLnUoKX07ZnVuY3Rpb24gS3koYSl7dmFyIGI9YS5pbWFnZUV4dGVudCxjPXZvaWQgMCE9PWEuY3Jvc3NPcmlnaW4/YS5jcm9zc09yaWdpbjpudWxsLGQ9dm9pZCAwIT09YS5pbWFnZUxvYWRGdW5jdGlvbj9hLmltYWdlTG9hZEZ1bmN0aW9uOkZ5O3p5LmNhbGwodGhpcyx7YXR0cmlidXRpb25zOmEuYXR0cmlidXRpb25zLGxvZ286YS5sb2dvLHByb2plY3Rpb246T2IoYS5wcm9qZWN0aW9uKX0pO3RoaXMuTT1uZXcgYmwoYix2b2lkIDAsMSxhLnVybCxjLGQpO3RoaXMuYT1hLmltYWdlU2l6ZT9hLmltYWdlU2l6ZTpudWxsO3kodGhpcy5NLFwiY2hhbmdlXCIsdGhpcy5qLHRoaXMpfXcoS3ksenkpO0t5LnByb3RvdHlwZS5XYz1mdW5jdGlvbihhKXtyZXR1cm4gaGIoYSx0aGlzLk0uRygpKT90aGlzLk06bnVsbH07XG5LeS5wcm90b3R5cGUuaj1mdW5jdGlvbihhKXtpZigyPT10aGlzLk0uZ2V0U3RhdGUoKSl7dmFyIGI9dGhpcy5NLkcoKSxjPXRoaXMuTS5ZKCk7aWYodGhpcy5hKXt2YXIgZD10aGlzLmFbMF07dmFyIGU9dGhpcy5hWzFdfWVsc2UgZD1jLndpZHRoLGU9Yy5oZWlnaHQ7Yj1NYXRoLmNlaWwoY2IoYikvKGRiKGIpL2UpKTtpZihiIT1kKXtiPWhnKGIsZSk7dmFyIGY9Yi5jYW52YXM7Yi5kcmF3SW1hZ2UoYywwLDAsZCxlLDAsMCxmLndpZHRoLGYuaGVpZ2h0KTt0aGlzLk0uaWgoZil9fXp5LnByb3RvdHlwZS5qLmNhbGwodGhpcyxhKX07ZnVuY3Rpb24gTHkoYSl7dGhpcy5hPWEuc291cmNlO3RoaXMub2I9V2UoKTt0aGlzLmY9aGcoKTt0aGlzLmw9WzAsMF07dGhpcy5jYT1yai5KYyg5KTt0aGlzLmJiPXZvaWQgMD09YS5yZW5kZXJCdWZmZXI/MTAwOmEucmVuZGVyQnVmZmVyO3RoaXMuQj1udWxsO0l5LmNhbGwodGhpcyx7YXR0cmlidXRpb25zOmEuYXR0cmlidXRpb25zLGNhbnZhc0Z1bmN0aW9uOnRoaXMuTWsuYmluZCh0aGlzKSxsb2dvOmEubG9nbyxwcm9qZWN0aW9uOmEucHJvamVjdGlvbixyYXRpbzphLnJhdGlvLHJlc29sdXRpb25zOmEucmVzb2x1dGlvbnMsc3RhdGU6dGhpcy5hLmdldFN0YXRlKCl9KTt0aGlzLk89bnVsbDt0aGlzLnM9dm9pZCAwO3RoaXMuYWooYS5zdHlsZSk7eSh0aGlzLmEsXCJjaGFuZ2VcIix0aGlzLlRvLHRoaXMpfXcoTHksSXkpO2s9THkucHJvdG90eXBlO1xuay5Naz1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPW5ldyBVaiguNSpiL2MsYSxiLGMsdGhpcy5hLiQsdGhpcy5jYSx0aGlzLmJiKTt0aGlzLmEuYWUoYSxiLGUpO3ZhciBnPSExO3RoaXMuYS5lYyhhLGZ1bmN0aW9uKGEpe3ZhciBkO2lmKCEoZD1nKSl7dmFyIGU7KGQ9YS5pYigpKT9lPWQuY2FsbChhLGIpOnRoaXMucyYmKGU9dGhpcy5zKGEsYikpO2lmKGUpe3ZhciBoLHA9ITE7QXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKTtkPTA7Zm9yKGg9ZS5sZW5ndGg7ZDxoOysrZClwPWVrKGYsYSxlW2RdLGRrKGIsYyksdGhpcy5Tbyx0aGlzKXx8cDtkPXB9ZWxzZSBkPSExfWc9ZH0sdGhpcyk7WWooZik7aWYoZylyZXR1cm4gbnVsbDt0aGlzLmxbMF0hPWRbMF18fHRoaXMubFsxXSE9ZFsxXT8odGhpcy5mLmNhbnZhcy53aWR0aD1kWzBdLHRoaXMuZi5jYW52YXMuaGVpZ2h0PWRbMV0sdGhpcy5sWzBdPWRbMF0sdGhpcy5sWzFdPWRbMV0pOnRoaXMuZi5jbGVhclJlY3QoMCwwLGRbMF0sZFsxXSk7XG50aGlzLmNhLmNsZWFyKCk7YT1NeSh0aGlzLGViKGEpLGIsYyxkKTtmLk5hKHRoaXMuZixhLDAse30pO3RoaXMuQj1mO3JldHVybiB0aGlzLmYuY2FudmFzfTtrLndhPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtpZih0aGlzLkIpe3ZhciBnPXt9O3JldHVybiB0aGlzLkIud2EoYSxiLDAsZCxlLGZ1bmN0aW9uKGEpe3ZhciBiPXgoYSkudG9TdHJpbmcoKTtpZighKGIgaW4gZykpcmV0dXJuIGdbYl09ITAsZihhKX0sbnVsbCl9fTtrLlFvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07ay5Sbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLk99O2suaWI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zfTtmdW5jdGlvbiBNeShhLGIsYyxkLGUpe2M9ZC9jO3JldHVybiBlZihhLm9iLGVbMF0vMixlWzFdLzIsYywtYywwLC1iWzBdLC1iWzFdKX1rLlNvPWZ1bmN0aW9uKCl7dGhpcy51KCl9O2suVG89ZnVuY3Rpb24oKXt3dyh0aGlzLHRoaXMuYS5nZXRTdGF0ZSgpKX07XG5rLmFqPWZ1bmN0aW9uKGEpe3RoaXMuTz12b2lkIDAhPT1hP2E6Rms7dGhpcy5zPWE/RGsodGhpcy5PKTp2b2lkIDA7dGhpcy51KCl9O2Z1bmN0aW9uIE55KGEpe2E9YXx8e307enkuY2FsbCh0aGlzLHthdHRyaWJ1dGlvbnM6YS5hdHRyaWJ1dGlvbnMsbG9nbzphLmxvZ28scHJvamVjdGlvbjphLnByb2plY3Rpb24scmVzb2x1dGlvbnM6YS5yZXNvbHV0aW9uc30pO3RoaXMuY2E9dm9pZCAwIT09YS5jcm9zc09yaWdpbj9hLmNyb3NzT3JpZ2luOm51bGw7dGhpcy5mPWEudXJsO3RoaXMucz12b2lkIDAhPT1hLmltYWdlTG9hZEZ1bmN0aW9uP2EuaW1hZ2VMb2FkRnVuY3Rpb246Rnk7dGhpcy5hPWEucGFyYW1zfHx7fTt0aGlzLmw9ITA7T3kodGhpcyk7dGhpcy4kPWEuc2VydmVyVHlwZTt0aGlzLkVhPXZvaWQgMCE9PWEuaGlkcGk/YS5oaWRwaTohMDt0aGlzLk09bnVsbDt0aGlzLkI9WzAsMF07dGhpcy5WPTA7dGhpcy5PPXZvaWQgMCE9PWEucmF0aW8/YS5yYXRpbzoxLjV9dyhOeSx6eSk7dmFyIFB5PVsxMDEsMTAxXTtrPU55LnByb3RvdHlwZTtcbmsuVW89ZnVuY3Rpb24oYSxiLGMsZCl7aWYodm9pZCAwIT09dGhpcy5mKXtjPU9iKGMpO3ZhciBlPXRoaXMuYztlJiZlIT09YyYmKGI9YnkoZSxjLGEsYiksYT1hYyhhLGMsZSkpO3ZhciBmPWZiKGEsYiwwLFB5KSxnPXtTRVJWSUNFOlwiV01TXCIsVkVSU0lPTjpcIjEuMy4wXCIsUkVRVUVTVDpcIkdldEZlYXR1cmVJbmZvXCIsRk9STUFUOlwiaW1hZ2UvcG5nXCIsVFJBTlNQQVJFTlQ6ITAsUVVFUllfTEFZRVJTOnRoaXMuYS5MQVlFUlN9O2tiKGcsdGhpcy5hLGQpO2Q9TWF0aC5mbG9vcigoZlszXS1hWzFdKS9iKTtnW3RoaXMubD9cIklcIjpcIlhcIl09TWF0aC5mbG9vcigoYVswXS1mWzBdKS9iKTtnW3RoaXMubD9cIkpcIjpcIllcIl09ZDtyZXR1cm4gUXkodGhpcyxmLFB5LDEsZXx8YyxnKX19O2suV289ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hfTtcbmsuV2M9ZnVuY3Rpb24oYSxiLGMsZCl7aWYodm9pZCAwPT09dGhpcy5mKXJldHVybiBudWxsO2I9QXkodGhpcyxiKTsxPT1jfHx0aGlzLkVhJiZ2b2lkIDAhPT10aGlzLiR8fChjPTEpO3ZhciBlPWIvYyxmPWViKGEpLGc9ZmIoZixlLDAsW01hdGguY2VpbChjYihhKS9lKSxNYXRoLmNlaWwoZGIoYSkvZSldKTthPWZiKGYsZSwwLFtNYXRoLmNlaWwodGhpcy5PKmNiKGEpL2UpLE1hdGguY2VpbCh0aGlzLk8qZGIoYSkvZSldKTtpZigoZj10aGlzLk0pJiZ0aGlzLlY9PXRoaXMuZyYmZi5yZXNvbHV0aW9uPT1iJiZmLmE9PWMmJkxhKGYuRygpLGcpKXJldHVybiBmO2c9e1NFUlZJQ0U6XCJXTVNcIixWRVJTSU9OOlwiMS4zLjBcIixSRVFVRVNUOlwiR2V0TWFwXCIsRk9STUFUOlwiaW1hZ2UvcG5nXCIsVFJBTlNQQVJFTlQ6ITB9O2tiKGcsdGhpcy5hKTt0aGlzLkJbMF09TWF0aC5yb3VuZChjYihhKS9lKTt0aGlzLkJbMV09TWF0aC5yb3VuZChkYihhKS9lKTtkPVF5KHRoaXMsYSx0aGlzLkIsYyxkLGcpO1xudGhpcy5NPW5ldyBibChhLGIsYyxkLHRoaXMuY2EsdGhpcy5zKTt0aGlzLlY9dGhpcy5nO3kodGhpcy5NLFwiY2hhbmdlXCIsdGhpcy5qLHRoaXMpO3JldHVybiB0aGlzLk19O2suVm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zfTtcbmZ1bmN0aW9uIFF5KGEsYixjLGQsZSxmKXtvYSh2b2lkIDAhPT1hLmYsOSk7ZlthLmw/XCJDUlNcIjpcIlNSU1wiXT1lLndiO1wiU1RZTEVTXCJpbiBhLmF8fChmLlNUWUxFUz1cIlwiKTtpZigxIT1kKXN3aXRjaChhLiQpe2Nhc2UgXCJnZW9zZXJ2ZXJcIjpkPTkwKmQrLjV8MDtmLkZPUk1BVF9PUFRJT05TPVwiRk9STUFUX09QVElPTlNcImluIGY/Zi5GT1JNQVRfT1BUSU9OUysoXCI7ZHBpOlwiK2QpOlwiZHBpOlwiK2Q7YnJlYWs7Y2FzZSBcIm1hcHNlcnZlclwiOmYuTUFQX1JFU09MVVRJT049OTAqZDticmVhaztjYXNlIFwiY2FybWVudGFzZXJ2ZXJcIjpjYXNlIFwicWdpc1wiOmYuRFBJPTkwKmQ7YnJlYWs7ZGVmYXVsdDpvYSghMSw4KX1mLldJRFRIPWNbMF07Zi5IRUlHSFQ9Y1sxXTtjPWUuYjt2YXIgZzthLmwmJlwibmVcIj09Yy5zdWJzdHIoMCwyKT9nPVtiWzFdLGJbMF0sYlszXSxiWzJdXTpnPWI7Zi5CQk9YPWcuam9pbihcIixcIik7cmV0dXJuIEd5KGEuZixmKX1rLlhvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07XG5rLllvPWZ1bmN0aW9uKGEpe3RoaXMuTT1udWxsO3RoaXMucz1hO3RoaXMudSgpfTtrLlpvPWZ1bmN0aW9uKGEpe2EhPXRoaXMuZiYmKHRoaXMuZj1hLHRoaXMuTT1udWxsLHRoaXMudSgpKX07ay4kbz1mdW5jdGlvbihhKXtrYih0aGlzLmEsYSk7T3kodGhpcyk7dGhpcy5NPW51bGw7dGhpcy51KCl9O2Z1bmN0aW9uIE95KGEpe2EubD0wPD15ZShhLmEuVkVSU0lPTnx8XCIxLjMuMFwiKX07ZnVuY3Rpb24gUnkoYSl7YT1hfHx7fTt2YXIgYjt2b2lkIDAhPT1hLmF0dHJpYnV0aW9ucz9iPWEuYXR0cmlidXRpb25zOmI9WycmY29weTsgPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm9wZW5zdHJlZXRtYXAub3JnL2NvcHlyaWdodFwiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycy4nXTtzeS5jYWxsKHRoaXMse2F0dHJpYnV0aW9uczpiLGNhY2hlU2l6ZTphLmNhY2hlU2l6ZSxjcm9zc09yaWdpbjp2b2lkIDAhPT1hLmNyb3NzT3JpZ2luP2EuY3Jvc3NPcmlnaW46XCJhbm9ueW1vdXNcIixvcGFxdWU6dm9pZCAwIT09YS5vcGFxdWU/YS5vcGFxdWU6ITAsbWF4Wm9vbTp2b2lkIDAhPT1hLm1heFpvb20/YS5tYXhab29tOjE5LHJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkOmEucmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQsdGlsZUxvYWRGdW5jdGlvbjphLnRpbGVMb2FkRnVuY3Rpb24sdXJsOnZvaWQgMCE9PWEudXJsP2EudXJsOlwiaHR0cHM6Ly97YS1jfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZ1wiLFxud3JhcFg6YS53cmFwWH0pfXcoUnksc3kpO3JqLm5mPXt9O3JqLm5mLkhmPWZ1bmN0aW9uKCl7fTtcbihmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEsYixjKXtpZihnKXJldHVybiBuZXcgSW1hZ2VEYXRhKGEsYixjKTtiPWguY3JlYXRlSW1hZ2VEYXRhKGIsYyk7Yi5kYXRhLnNldChhKTtyZXR1cm4gYn1mdW5jdGlvbiBjKGEpe3ZhciBiPSEwO3RyeXtuZXcgSW1hZ2VEYXRhKDEwLDEwKX1jYXRjaChuKXtiPSExfXJldHVybiBmdW5jdGlvbihjKXt2YXIgZD1jLmJ1ZmZlcnMsZT1jLm1ldGEsZj1jLndpZHRoLGc9Yy5oZWlnaHQsaD1kLmxlbmd0aCxsPWRbMF0uYnl0ZUxlbmd0aDtpZihjLmltYWdlT3BzKXtsPUFycmF5KGgpO2ZvcihjPTA7YzxoOysrYyl7dmFyIG09Yzt2YXIgbj1uZXcgVWludDhDbGFtcGVkQXJyYXkoZFtjXSk7dmFyIFM9ZixJYT1nO249Yj9uZXcgSW1hZ2VEYXRhKG4sUyxJYSk6e2RhdGE6bix3aWR0aDpTLGhlaWdodDpJYX07bFttXT1ufWY9YShsLGUpLmRhdGF9ZWxzZXtmPW5ldyBVaW50OENsYW1wZWRBcnJheShsKTtnPUFycmF5KGgpO209QXJyYXkoaCk7Zm9yKGM9MDtjPFxuaDsrK2MpZ1tjXT1uZXcgVWludDhDbGFtcGVkQXJyYXkoZFtjXSksbVtjXT1bMCwwLDAsMF07Zm9yKGQ9MDtkPGw7ZCs9NCl7Zm9yKGM9MDtjPGg7KytjKW49Z1tjXSxtW2NdWzBdPW5bZF0sbVtjXVsxXT1uW2QrMV0sbVtjXVsyXT1uW2QrMl0sbVtjXVszXT1uW2QrM107Yz1hKG0sZSk7ZltkXT1jWzBdO2ZbZCsxXT1jWzFdO2ZbZCsyXT1jWzJdO2ZbZCszXT1jWzNdfX1yZXR1cm4gZi5idWZmZXJ9fWZ1bmN0aW9uIGQoYSxiKXt2YXIgZD1PYmplY3Qua2V5cyhhLmxpYnx8e30pLm1hcChmdW5jdGlvbihiKXtyZXR1cm5cInZhciBcIitiK1wiID0gXCIrYS5saWJbYl0udG9TdHJpbmcoKStcIjtcIn0pLmNvbmNhdChbXCJ2YXIgX19taW5pb25fXyA9IChcIitjLnRvU3RyaW5nKCkrXCIpKFwiLGEub3BlcmF0aW9uLnRvU3RyaW5nKCksXCIpO1wiLCdzZWxmLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGZ1bmN0aW9uKGV2ZW50KSB7JyxcIiAgdmFyIGJ1ZmZlciA9IF9fbWluaW9uX18oZXZlbnQuZGF0YSk7XCIsXG5cIiAgc2VsZi5wb3N0TWVzc2FnZSh7YnVmZmVyOiBidWZmZXIsIG1ldGE6IGV2ZW50LmRhdGEubWV0YX0sIFtidWZmZXJdKTtcIixcIn0pO1wiXSk7ZD1VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKGQse3R5cGU6XCJ0ZXh0L2phdmFzY3JpcHRcIn0pKTtkPW5ldyBXb3JrZXIoZCk7ZC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGIpO3JldHVybiBkfWZ1bmN0aW9uIGUoYSxiKXt2YXIgZD1jKGEub3BlcmF0aW9uKTtyZXR1cm57cG9zdE1lc3NhZ2U6ZnVuY3Rpb24oYSl7c2V0VGltZW91dChmdW5jdGlvbigpe2Ioe2RhdGE6e2J1ZmZlcjpkKGEpLG1ldGE6YS5tZXRhfX0pfSwwKX19fWZ1bmN0aW9uIGYoYSl7dGhpcy5KZj0hIWEuQ207dmFyIGI7MD09PWEudGhyZWFkcz9iPTA6dGhpcy5KZj9iPTE6Yj1hLnRocmVhZHN8fDE7dmFyIGM9W107aWYoYilmb3IodmFyIGY9MDtmPGI7KytmKWNbZl09ZChhLHRoaXMueGguYmluZCh0aGlzLGYpKTtlbHNlIGNbMF09ZShhLHRoaXMueGguYmluZCh0aGlzLFxuMCkpO3RoaXMud2U9Yzt0aGlzLk5kPVtdO3RoaXMuQms9YS5TcHx8SW5maW5pdHk7dGhpcy52ZT0wO3RoaXMub2Q9e307dGhpcy5LZj1udWxsfXZhciBnPSEwO3RyeXtuZXcgSW1hZ2VEYXRhKDEwLDEwKX1jYXRjaChsKXtnPSExfXZhciBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikuZ2V0Q29udGV4dChcIjJkXCIpO2YucHJvdG90eXBlLlJwPWZ1bmN0aW9uKGEsYixjKXt0aGlzLnprKHtpbnB1dHM6YSxpaTpiLGNhbGxiYWNrOmN9KTt0aGlzLnVoKCl9O2YucHJvdG90eXBlLnprPWZ1bmN0aW9uKGEpe2Zvcih0aGlzLk5kLnB1c2goYSk7dGhpcy5OZC5sZW5ndGg+dGhpcy5CazspdGhpcy5OZC5zaGlmdCgpLmNhbGxiYWNrKG51bGwsbnVsbCl9O2YucHJvdG90eXBlLnVoPWZ1bmN0aW9uKCl7aWYoMD09PXRoaXMudmUmJjA8dGhpcy5OZC5sZW5ndGgpe3ZhciBhPXRoaXMuS2Y9dGhpcy5OZC5zaGlmdCgpLGI9YS5pbnB1dHNbMF0ud2lkdGgsYz1hLmlucHV0c1swXS5oZWlnaHQsXG5kPWEuaW5wdXRzLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5kYXRhLmJ1ZmZlcn0pLGU9dGhpcy53ZS5sZW5ndGg7dGhpcy52ZT1lO2lmKDE9PT1lKXRoaXMud2VbMF0ucG9zdE1lc3NhZ2Uoe2J1ZmZlcnM6ZCxtZXRhOmEuaWksaW1hZ2VPcHM6dGhpcy5KZix3aWR0aDpiLGhlaWdodDpjfSxkKTtlbHNlIGZvcih2YXIgZj00Kk1hdGguY2VpbChhLmlucHV0c1swXS5kYXRhLmxlbmd0aC80L2UpLGc9MDtnPGU7KytnKXtmb3IodmFyIGg9ZypmLHo9W10sQT0wLEU9ZC5sZW5ndGg7QTxFOysrQSl6LnB1c2goZFtnXS5zbGljZShoLGgrZikpO3RoaXMud2VbZ10ucG9zdE1lc3NhZ2Uoe2J1ZmZlcnM6eixtZXRhOmEuaWksaW1hZ2VPcHM6dGhpcy5KZix3aWR0aDpiLGhlaWdodDpjfSx6KX19fTtmLnByb3RvdHlwZS54aD1mdW5jdGlvbihhLGIpe3RoaXMuaHJ8fCh0aGlzLm9kW2FdPWIuZGF0YSwtLXRoaXMudmUsMD09PXRoaXMudmUmJnRoaXMuQ2soKSl9O2YucHJvdG90eXBlLkNrPWZ1bmN0aW9uKCl7dmFyIGE9XG50aGlzLktmLGM9dGhpcy53ZS5sZW5ndGg7aWYoMT09PWMpe3ZhciBkPW5ldyBVaW50OENsYW1wZWRBcnJheSh0aGlzLm9kWzBdLmJ1ZmZlcik7dmFyIGU9dGhpcy5vZFswXS5tZXRhfWVsc2V7dmFyIGY9YS5pbnB1dHNbMF0uZGF0YS5sZW5ndGg7ZD1uZXcgVWludDhDbGFtcGVkQXJyYXkoZik7ZT1BcnJheShmKTtmPTQqTWF0aC5jZWlsKGYvNC9jKTtmb3IodmFyIGc9MDtnPGM7KytnKXt2YXIgaD1nKmY7ZC5zZXQobmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRoaXMub2RbZ10uYnVmZmVyKSxoKTtlW2ddPXRoaXMub2RbZ10ubWV0YX19dGhpcy5LZj1udWxsO3RoaXMub2Q9e307YS5jYWxsYmFjayhudWxsLGIoZCxhLmlucHV0c1swXS53aWR0aCxhLmlucHV0c1swXS5oZWlnaHQpLGUpO3RoaXMudWgoKX07YVtcImRlZmF1bHRcIl09e0hmOmZ9O2EuSGY9Zn0pKHJqLm5mPXJqLm5mfHx7fSk7ZnVuY3Rpb24gU3koYSl7dGhpcy5CPW51bGw7dGhpcy5FYT12b2lkIDAhPT1hLm9wZXJhdGlvblR5cGU/YS5vcGVyYXRpb25UeXBlOlwicGl4ZWxcIjt0aGlzLkxhPXZvaWQgMCE9PWEudGhyZWFkcz9hLnRocmVhZHM6MTt0aGlzLmY9VHkoYS5zb3VyY2VzKTtmb3IodmFyIGI9MCxjPXRoaXMuZi5sZW5ndGg7YjxjOysrYil5KHRoaXMuZltiXSxcImNoYW5nZVwiLHRoaXMudSx0aGlzKTt0aGlzLiQ9bmV3IGxlKGZ1bmN0aW9uKCl7cmV0dXJuIDF9LHRoaXMudS5iaW5kKHRoaXMpKTtiPVV5KHRoaXMuZik7Yz17fTtmb3IodmFyIGQ9MCxlPWIubGVuZ3RoO2Q8ZTsrK2QpY1t4KGJbZF0ubGF5ZXIpXT1iW2RdO3RoaXMuYT1udWxsO3RoaXMuTz17YW5pbWF0ZTohMSxjb29yZGluYXRlVG9QaXhlbFRyYW5zZm9ybTpXZSgpLGV4dGVudDpudWxsLGZvY3VzOm51bGwsaW5kZXg6MCxsYXllclN0YXRlczpjLGxheWVyU3RhdGVzQXJyYXk6Yixsb2dvczp7fSxwaXhlbFJhdGlvOjEscGl4ZWxUb0Nvb3JkaW5hdGVUcmFuc2Zvcm06V2UoKSxcbnBvc3RSZW5kZXJGdW5jdGlvbnM6W10sc2l6ZTpbMCwwXSxza2lwcGVkRmVhdHVyZVVpZHM6e30sdGlsZVF1ZXVlOnRoaXMuJCx0aW1lOkRhdGUubm93KCksdXNlZFRpbGVzOnt9LHZpZXdTdGF0ZTp7cm90YXRpb246MH0sdmlld0hpbnRzOltdLHdhbnRlZFRpbGVzOnt9fTt6eS5jYWxsKHRoaXMse30pO3ZvaWQgMCE9PWEub3BlcmF0aW9uJiZ0aGlzLnMoYS5vcGVyYXRpb24sYS5saWIpfXcoU3ksenkpO1N5LnByb3RvdHlwZS5zPWZ1bmN0aW9uKGEsYil7dGhpcy5CPW5ldyByai5uZi5IZih7b3BlcmF0aW9uOmEsQ206XCJpbWFnZVwiPT09dGhpcy5FYSxTcDoxLGxpYjpiLHRocmVhZHM6dGhpcy5MYX0pO3RoaXMudSgpfTtcblN5LnByb3RvdHlwZS5ZPWZ1bmN0aW9uKGEsYixjLGQpe2M9ITA7Zm9yKHZhciBlLGY9MCxnPXRoaXMuZi5sZW5ndGg7ZjxnOysrZilpZihlPXRoaXMuZltmXS5hLmhhKCksXCJyZWFkeVwiIT09ZS5nZXRTdGF0ZSgpKXtjPSExO2JyZWFrfWlmKCFjKXJldHVybiBudWxsO2M9a2Ioe30sdGhpcy5PKTtjLnZpZXdTdGF0ZT1rYih7fSxjLnZpZXdTdGF0ZSk7ZT1lYihhKTtjLmV4dGVudD1hLnNsaWNlKCk7Yy5mb2N1cz1lO2Muc2l6ZVswXT1NYXRoLnJvdW5kKGNiKGEpL2IpO2Muc2l6ZVsxXT1NYXRoLnJvdW5kKGRiKGEpL2IpO2MudGltZT1EYXRlLm5vdygpO2MuYW5pbWF0ZT0hMTtmPWMudmlld1N0YXRlO2YuY2VudGVyPWU7Zi5wcm9qZWN0aW9uPWQ7Zi5yZXNvbHV0aW9uPWI7dGhpcy5sPWM7dGhpcy5hJiYoZD10aGlzLmEucmVzb2x1dGlvbixlPXRoaXMuYS5HKCksYj09PWQmJlNhKGEsZSl8fCh0aGlzLmE9bnVsbCkpO2lmKCF0aGlzLmF8fHRoaXMuZyE9PXRoaXMuVilhOnthPXRoaXMubDtcbmQ9dGhpcy5mLmxlbmd0aDtiPUFycmF5KGQpO2ZvcihlPTA7ZTxkOysrZSl7Zj10aGlzLmZbZV07Zz1hO3ZhciBoPWEubGF5ZXJTdGF0ZXNBcnJheVtlXTtpZihmLiRjKGcsaCkpe3ZhciBsPWcuc2l6ZVswXSxtPWcuc2l6ZVsxXTtpZihWeSl7dmFyIG49VnkuY2FudmFzO24ud2lkdGghPT1sfHxuLmhlaWdodCE9PW0/Vnk9aGcobCxtKTpWeS5jbGVhclJlY3QoMCwwLGwsbSl9ZWxzZSBWeT1oZyhsLG0pO2YuZGYoZyxoLFZ5KTtmPVZ5LmdldEltYWdlRGF0YSgwLDAsbCxtKX1lbHNlIGY9bnVsbDtpZihmKWJbZV09ZjtlbHNlIGJyZWFrIGF9ZD17fTt0aGlzLmIobmV3IFd5KFh5LGEsZCkpO3RoaXMuQi5ScChiLGQsdGhpcy5jYS5iaW5kKHRoaXMsYSkpfW1lKGMudGlsZVF1ZXVlLDE2LDE2KTtjLmFuaW1hdGUmJnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnUuYmluZCh0aGlzKSk7cmV0dXJuIHRoaXMuYX07XG5TeS5wcm90b3R5cGUuY2E9ZnVuY3Rpb24oYSxiLGMsZCl7aWYoIWImJmMpe2I9YS5leHRlbnQ7dmFyIGU9YS52aWV3U3RhdGUucmVzb2x1dGlvbjtpZihlPT09dGhpcy5sLnZpZXdTdGF0ZS5yZXNvbHV0aW9uJiZTYShiLHRoaXMubC5leHRlbnQpKXtpZih0aGlzLmEpdmFyIGY9dGhpcy5hLlkoKS5nZXRDb250ZXh0KFwiMmRcIik7ZWxzZSBmPWhnKE1hdGgucm91bmQoY2IoYikvZSksTWF0aC5yb3VuZChkYihiKS9lKSksdGhpcy5hPW5ldyBhaShiLGUsMSxmLmNhbnZhcyk7Zi5wdXRJbWFnZURhdGEoYywwLDApO3RoaXMudSgpO3RoaXMuVj10aGlzLmc7dGhpcy5iKG5ldyBXeShZeSxhLGQpKX19fTt2YXIgVnk9bnVsbDtmdW5jdGlvbiBVeShhKXtyZXR1cm4gYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGxnKGEuYSl9KX1cbmZ1bmN0aW9uIFR5KGEpe2Zvcih2YXIgYj1hLmxlbmd0aCxjPUFycmF5KGIpLGQ9MDtkPGI7KytkKXt2YXIgZT1kLGY9YVtkXSxnPW51bGw7ZiBpbnN0YW5jZW9mIGl5PyhmPW5ldyBUeCh7c291cmNlOmZ9KSxnPW5ldyBtaihmKSk6ZiBpbnN0YW5jZW9mIHp5JiYoZj1uZXcgU3goe3NvdXJjZTpmfSksZz1uZXcgYmooZikpO2NbZV09Z31yZXR1cm4gY31mdW5jdGlvbiBXeShhLGIsYyl7UWMuY2FsbCh0aGlzLGEpO3RoaXMuZXh0ZW50PWIuZXh0ZW50O3RoaXMucmVzb2x1dGlvbj1iLnZpZXdTdGF0ZS5yZXNvbHV0aW9uL2IucGl4ZWxSYXRpbzt0aGlzLmRhdGE9Y313KFd5LFFjKTtTeS5wcm90b3R5cGUuV2M9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07dmFyIFh5PVwiYmVmb3Jlb3BlcmF0aW9uc1wiLFl5PVwiYWZ0ZXJvcGVyYXRpb25zXCI7ZnVuY3Rpb24gWnkoYSl7dmFyIGI9YS5sYXllci5pbmRleE9mKFwiLVwiKTtiPSR5Wy0xPT1iP2EubGF5ZXI6YS5sYXllci5zbGljZSgwLGIpXTt2YXIgYz1helthLmxheWVyXTtzeS5jYWxsKHRoaXMse2F0dHJpYnV0aW9uczpieixjYWNoZVNpemU6YS5jYWNoZVNpemUsY3Jvc3NPcmlnaW46XCJhbm9ueW1vdXNcIixtYXhab29tOnZvaWQgMCE9YS5tYXhab29tP2EubWF4Wm9vbTpiLm1heFpvb20sbWluWm9vbTp2b2lkIDAhPWEubWluWm9vbT9hLm1pblpvb206Yi5taW5ab29tLG9wYXF1ZTpjLm9wYXF1ZSxyZXByb2plY3Rpb25FcnJvclRocmVzaG9sZDphLnJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkLHRpbGVMb2FkRnVuY3Rpb246YS50aWxlTG9hZEZ1bmN0aW9uLHVybDp2b2lkIDAhPT1hLnVybD9hLnVybDpcImh0dHBzOi8vc3RhbWVuLXRpbGVzLXthLWR9LmEuc3NsLmZhc3RseS5uZXQvXCIrYS5sYXllcitcIi97en0ve3h9L3t5fS5cIitjLk9iLHdyYXBYOmEud3JhcFh9KX13KFp5LHN5KTtcbnZhciBiej1bJ01hcCB0aWxlcyBieSA8YSBocmVmPVwiaHR0cHM6Ly9zdGFtZW4uY29tL1wiPlN0YW1lbiBEZXNpZ248L2E+LCB1bmRlciA8YSBocmVmPVwiaHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LzMuMC9cIj5DQyBCWSAzLjA8L2E+LicsJyZjb3B5OyA8YSBocmVmPVwiaHR0cHM6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzLiddLGF6PXt0ZXJyYWluOntPYjpcImpwZ1wiLG9wYXF1ZTohMH0sXCJ0ZXJyYWluLWJhY2tncm91bmRcIjp7T2I6XCJqcGdcIixvcGFxdWU6ITB9LFwidGVycmFpbi1sYWJlbHNcIjp7T2I6XCJwbmdcIixvcGFxdWU6ITF9LFwidGVycmFpbi1saW5lc1wiOntPYjpcInBuZ1wiLG9wYXF1ZTohMX0sXCJ0b25lci1iYWNrZ3JvdW5kXCI6e09iOlwicG5nXCIsb3BhcXVlOiEwfSx0b25lcjp7T2I6XCJwbmdcIixvcGFxdWU6ITB9LFwidG9uZXItaHlicmlkXCI6e09iOlwicG5nXCIsb3BhcXVlOiExfSxcInRvbmVyLWxhYmVsc1wiOntPYjpcInBuZ1wiLFxub3BhcXVlOiExfSxcInRvbmVyLWxpbmVzXCI6e09iOlwicG5nXCIsb3BhcXVlOiExfSxcInRvbmVyLWxpdGVcIjp7T2I6XCJwbmdcIixvcGFxdWU6ITB9LHdhdGVyY29sb3I6e09iOlwianBnXCIsb3BhcXVlOiEwfX0sJHk9e3RlcnJhaW46e21pblpvb206NCxtYXhab29tOjE4fSx0b25lcjp7bWluWm9vbTowLG1heFpvb206MjB9LHdhdGVyY29sb3I6e21pblpvb206MSxtYXhab29tOjE2fX07ZnVuY3Rpb24gY3ooYSl7YT1hfHx7fTtueS5jYWxsKHRoaXMse2F0dHJpYnV0aW9uczphLmF0dHJpYnV0aW9ucyxjYWNoZVNpemU6YS5jYWNoZVNpemUsY3Jvc3NPcmlnaW46YS5jcm9zc09yaWdpbixsb2dvOmEubG9nbyxwcm9qZWN0aW9uOmEucHJvamVjdGlvbixyZXByb2plY3Rpb25FcnJvclRocmVzaG9sZDphLnJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkLHRpbGVHcmlkOmEudGlsZUdyaWQsdGlsZUxvYWRGdW5jdGlvbjphLnRpbGVMb2FkRnVuY3Rpb24sdXJsOmEudXJsLHVybHM6YS51cmxzLHdyYXBYOnZvaWQgMCE9PWEud3JhcFg/YS53cmFwWDohMCx0cmFuc2l0aW9uOmEudHJhbnNpdGlvbn0pO3RoaXMuaT1hLnBhcmFtc3x8e307dGhpcy5sPURhKCk7ankodGhpcyxkeih0aGlzKSl9dyhjeixueSk7ZnVuY3Rpb24gZHooYSl7dmFyIGI9MCxjPVtdLGQ7Zm9yKGQgaW4gYS5pKWNbYisrXT1kK1wiLVwiK2EuaVtkXTtyZXR1cm4gYy5qb2luKFwiL1wiKX1jei5wcm90b3R5cGUubz1mdW5jdGlvbigpe3JldHVybiB0aGlzLml9O1xuY3oucHJvdG90eXBlLlhjPWZ1bmN0aW9uKGEpe3JldHVybiBhfTtcbmN6LnByb3RvdHlwZS5kYz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy50aWxlR3JpZDtkfHwoZD10aGlzLmViKGMpKTtpZighKGQuYi5sZW5ndGg8PWFbMF0pKXt2YXIgZT1kLk1hKGEsdGhpcy5sKSxmPUJhKGQuWmEoYVswXSksdGhpcy5qKTsxIT1iJiYoZj1BYShmLGIsdGhpcy5qKSk7ZD17RjpcImltYWdlXCIsRk9STUFUOlwiUE5HMzJcIixUUkFOU1BBUkVOVDohMH07a2IoZCx0aGlzLmkpO3ZhciBnPXRoaXMudXJscztnPyhjPWMud2Iuc3BsaXQoXCI6XCIpLnBvcCgpLGQuU0laRT1mWzBdK1wiLFwiK2ZbMV0sZC5CQk9YPWUuam9pbihcIixcIiksZC5CQk9YU1I9YyxkLklNQUdFU1I9YyxkLkRQST1NYXRoLnJvdW5kKGQuRFBJP2QuRFBJKmI6OTAqYiksYT0oMT09Zy5sZW5ndGg/Z1swXTpnW3dhKChhWzFdPDxhWzBdKSthWzJdLGcubGVuZ3RoKV0pLnJlcGxhY2UoL01hcFNlcnZlclxcLz8kLyxcIk1hcFNlcnZlci9leHBvcnRcIikucmVwbGFjZSgvSW1hZ2VTZXJ2ZXJcXC8/JC8sXCJJbWFnZVNlcnZlci9leHBvcnRJbWFnZVwiKSxcbmE9R3koYSxkKSk6YT12b2lkIDA7cmV0dXJuIGF9fTtjei5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtrYih0aGlzLmksYSk7ankodGhpcyxkeih0aGlzKSl9O2Z1bmN0aW9uIGV6KGEpe2l5LmNhbGwodGhpcyx7b3BhcXVlOiExLHByb2plY3Rpb246YS5wcm9qZWN0aW9uLHRpbGVHcmlkOmEudGlsZUdyaWQsd3JhcFg6dm9pZCAwIT09YS53cmFwWD9hLndyYXBYOiEwfSl9dyhleixpeSk7ZXoucHJvdG90eXBlLmFkPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hK1wiL1wiK2IrXCIvXCIrYztpZih0aGlzLmEuYS5oYXNPd25Qcm9wZXJ0eShkKSlyZXR1cm4gdGhpcy5hLmdldChkKTt2YXIgZT1CYSh0aGlzLnRpbGVHcmlkLlphKGEpKTthPVthLGIsY107Yj0oYj1reSh0aGlzLGEpKT9reSh0aGlzLGIpLnRvU3RyaW5nKCk6XCJcIjtlPW5ldyBmeihhLGUsYik7dGhpcy5hLnNldChkLGUpO3JldHVybiBlfTtmdW5jdGlvbiBmeihhLGIsYyl7Y2wuY2FsbCh0aGlzLGEsMik7dGhpcy5jPWI7dGhpcy50YT1jO3RoaXMuYT1udWxsfXcoZnosY2wpO1xuZnoucHJvdG90eXBlLlk9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIHRoaXMuYTt2YXIgYT10aGlzLmMsYj1oZyhhWzBdLGFbMV0pO2Iuc3Ryb2tlU3R5bGU9XCJibGFja1wiO2Iuc3Ryb2tlUmVjdCguNSwuNSxhWzBdKy41LGFbMV0rLjUpO2IuZmlsbFN0eWxlPVwiYmxhY2tcIjtiLnRleHRBbGlnbj1cImNlbnRlclwiO2IudGV4dEJhc2VsaW5lPVwibWlkZGxlXCI7Yi5mb250PVwiMjRweCBzYW5zLXNlcmlmXCI7Yi5maWxsVGV4dCh0aGlzLnRhLGFbMF0vMixhWzFdLzIpO3JldHVybiB0aGlzLmE9Yi5jYW52YXN9O2Z6LnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiBneihhKXt0aGlzLmk9bnVsbDtueS5jYWxsKHRoaXMse2F0dHJpYnV0aW9uczphLmF0dHJpYnV0aW9ucyxjYWNoZVNpemU6YS5jYWNoZVNpemUsY3Jvc3NPcmlnaW46YS5jcm9zc09yaWdpbixwcm9qZWN0aW9uOk9iKFwiRVBTRzozODU3XCIpLHJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkOmEucmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQsc3RhdGU6XCJsb2FkaW5nXCIsdGlsZUxvYWRGdW5jdGlvbjphLnRpbGVMb2FkRnVuY3Rpb24sd3JhcFg6dm9pZCAwIT09YS53cmFwWD9hLndyYXBYOiEwLHRyYW5zaXRpb246YS50cmFuc2l0aW9ufSk7aWYoYS51cmwpaWYoYS5qc29ucClaeChhLnVybCx0aGlzLkNnLmJpbmQodGhpcyksdGhpcy5lZi5iaW5kKHRoaXMpKTtlbHNle3ZhciBiPW5ldyBYTUxIdHRwUmVxdWVzdDtiLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsdGhpcy5icC5iaW5kKHRoaXMpKTtiLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLHRoaXMuYXAuYmluZCh0aGlzKSk7XG5iLm9wZW4oXCJHRVRcIixhLnVybCk7Yi5zZW5kKCl9ZWxzZSBhLnRpbGVKU09OP3RoaXMuQ2coYS50aWxlSlNPTik6b2EoITEsNTEpfXcoZ3osbnkpO2s9Z3oucHJvdG90eXBlO2suYnA9ZnVuY3Rpb24oYSl7YT1hLnRhcmdldDtpZighYS5zdGF0dXN8fDIwMDw9YS5zdGF0dXMmJjMwMD5hLnN0YXR1cyl7dHJ5e3ZhciBiPUpTT04ucGFyc2UoYS5yZXNwb25zZVRleHQpfWNhdGNoKGMpe3RoaXMuZWYoKTtyZXR1cm59dGhpcy5DZyhiKX1lbHNlIHRoaXMuZWYoKX07ay5hcD1mdW5jdGlvbigpe3RoaXMuZWYoKX07ay5TbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLml9O1xuay5DZz1mdW5jdGlvbihhKXt2YXIgYj1PYihcIkVQU0c6NDMyNlwiKSxjPXRoaXMuYztpZih2b2lkIDAhPT1hLmJvdW5kcyl7dmFyIGQ9UGIoYixjKTtkPWpiKGEuYm91bmRzLGQpfXZhciBlPWEubWluem9vbXx8MCxmPWEubWF4em9vbXx8MjI7dGhpcy50aWxlR3JpZD1jPUJjKHtleHRlbnQ6RGMoYyksbWF4Wm9vbTpmLG1pblpvb206ZX0pO3RoaXMudGlsZVVybEZ1bmN0aW9uPVZ4KGEudGlsZXMsYyk7aWYodm9pZCAwIT09YS5hdHRyaWJ1dGlvbiYmIXRoaXMuQyl7dmFyIGc9dm9pZCAwIT09ZD9kOmIuRygpO3RoaXMudmEoZnVuY3Rpb24oYil7cmV0dXJuIGhiKGcsYi5leHRlbnQpP1thLmF0dHJpYnV0aW9uXTpudWxsfSl9dGhpcy5pPWE7d3codGhpcyxcInJlYWR5XCIpfTtrLmVmPWZ1bmN0aW9uKCl7d3codGhpcyxcImVycm9yXCIpfTtmdW5jdGlvbiBoeihhKXtpeS5jYWxsKHRoaXMse3Byb2plY3Rpb246T2IoXCJFUFNHOjM4NTdcIiksc3RhdGU6XCJsb2FkaW5nXCJ9KTt0aGlzLnM9dm9pZCAwIT09YS5wcmVlbXB0aXZlP2EucHJlZW1wdGl2ZTohMDt0aGlzLmw9WHg7dGhpcy5mPXZvaWQgMDt0aGlzLmk9YS5qc29ucHx8ITE7aWYoYS51cmwpaWYodGhpcy5pKVp4KGEudXJsLHRoaXMuRGcuYmluZCh0aGlzKSx0aGlzLmZmLmJpbmQodGhpcykpO2Vsc2V7dmFyIGI9bmV3IFhNTEh0dHBSZXF1ZXN0O2IuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIix0aGlzLmdwLmJpbmQodGhpcykpO2IuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsdGhpcy5mcC5iaW5kKHRoaXMpKTtiLm9wZW4oXCJHRVRcIixhLnVybCk7Yi5zZW5kKCl9ZWxzZSBhLnRpbGVKU09OP3RoaXMuRGcoYS50aWxlSlNPTik6b2EoITEsNTEpfXcoaHosaXkpO2s9aHoucHJvdG90eXBlO1xuay5ncD1mdW5jdGlvbihhKXthPWEudGFyZ2V0O2lmKCFhLnN0YXR1c3x8MjAwPD1hLnN0YXR1cyYmMzAwPmEuc3RhdHVzKXt0cnl7dmFyIGI9SlNPTi5wYXJzZShhLnJlc3BvbnNlVGV4dCl9Y2F0Y2goYyl7dGhpcy5mZigpO3JldHVybn10aGlzLkRnKGIpfWVsc2UgdGhpcy5mZigpfTtrLmZwPWZ1bmN0aW9uKCl7dGhpcy5mZigpfTtrLlBsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZn07ay5hbD1mdW5jdGlvbihhLGIsYyxkLGUpe3RoaXMudGlsZUdyaWQ/KGI9dGhpcy50aWxlR3JpZC5MZShhLGIpLGl6KHRoaXMuYWQoYlswXSxiWzFdLGJbMl0sMSx0aGlzLmMpLGEsYyxkLGUpKTohMD09PWU/c2V0VGltZW91dChmdW5jdGlvbigpe2MuY2FsbChkLG51bGwpfSwwKTpjLmNhbGwoZCxudWxsKX07ay5mZj1mdW5jdGlvbigpe3d3KHRoaXMsXCJlcnJvclwiKX07XG5rLkRnPWZ1bmN0aW9uKGEpe3ZhciBiPU9iKFwiRVBTRzo0MzI2XCIpLGM9dGhpcy5jO2lmKHZvaWQgMCE9PWEuYm91bmRzKXt2YXIgZD1QYihiLGMpO2Q9amIoYS5ib3VuZHMsZCl9dmFyIGU9YS5taW56b29tfHwwLGY9YS5tYXh6b29tfHwyMjt0aGlzLnRpbGVHcmlkPWM9QmMoe2V4dGVudDpEYyhjKSxtYXhab29tOmYsbWluWm9vbTplfSk7dGhpcy5mPWEudGVtcGxhdGU7aWYoZT1hLmdyaWRzKXt0aGlzLmw9VngoZSxjKTtpZih2b2lkIDAhPT1hLmF0dHJpYnV0aW9uKXt2YXIgZz12b2lkIDAhPT1kP2Q6Yi5HKCk7dGhpcy52YShmdW5jdGlvbihiKXtyZXR1cm4gaGIoZyxiLmV4dGVudCk/W2EuYXR0cmlidXRpb25dOm51bGx9KX13dyh0aGlzLFwicmVhZHlcIil9ZWxzZSB3dyh0aGlzLFwiZXJyb3JcIil9O1xuay5hZD1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWErXCIvXCIrYitcIi9cIitjO2lmKHRoaXMuYS5hLmhhc093blByb3BlcnR5KGYpKXJldHVybiB0aGlzLmEuZ2V0KGYpO2E9W2EsYixjXTtiPWt5KHRoaXMsYSxlKTtkPXRoaXMubChiLGQsZSk7ZD1uZXcganooYSx2b2lkIDAhPT1kPzA6NCx2b2lkIDAhPT1kP2Q6XCJcIix0aGlzLnRpbGVHcmlkLk1hKGEpLHRoaXMucyx0aGlzLmkpO3RoaXMuYS5zZXQoZixkKTtyZXR1cm4gZH07ay5raD1mdW5jdGlvbihhLGIsYyl7YT1hK1wiL1wiK2IrXCIvXCIrYzt0aGlzLmEuYS5oYXNPd25Qcm9wZXJ0eShhKSYmdGhpcy5hLmdldChhKX07ZnVuY3Rpb24ganooYSxiLGMsZCxlLGYpe2NsLmNhbGwodGhpcyxhLGIpO3RoaXMudj1jO3RoaXMuYT1kO3RoaXMuTj1lO3RoaXMuYz10aGlzLmw9dGhpcy5mPW51bGw7dGhpcy5vPWZ9dyhqeixjbCk7az1qei5wcm90b3R5cGU7ay5ZPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O1xuay5nZXREYXRhPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmwpcmV0dXJuIG51bGw7dmFyIGI9dGhpcy5mW01hdGguZmxvb3IoKDEtKGFbMV0tdGhpcy5hWzFdKS8odGhpcy5hWzNdLXRoaXMuYVsxXSkpKnRoaXMuZi5sZW5ndGgpXTtpZihcInN0cmluZ1wiIT09dHlwZW9mIGIpcmV0dXJuIG51bGw7Yj1iLmNoYXJDb2RlQXQoTWF0aC5mbG9vcigoYVswXS10aGlzLmFbMF0pLyh0aGlzLmFbMl0tdGhpcy5hWzBdKSpiLmxlbmd0aCkpOzkzPD1iJiZiLS07MzU8PWImJmItLTtiLT0zMjthPW51bGw7YiBpbiB0aGlzLmwmJihiPXRoaXMubFtiXSx0aGlzLmMmJmIgaW4gdGhpcy5jP2E9dGhpcy5jW2JdOmE9Yik7cmV0dXJuIGF9O1xuZnVuY3Rpb24gaXooYSxiLGMsZCxlKXswPT1hLnN0YXRlJiYhMD09PWU/KExjKGEsXCJjaGFuZ2VcIixmdW5jdGlvbigpe2MuY2FsbChkLHRoaXMuZ2V0RGF0YShiKSl9LGEpLGt6KGEpKTohMD09PWU/c2V0VGltZW91dChmdW5jdGlvbigpe2MuY2FsbChkLHRoaXMuZ2V0RGF0YShiKSl9LmJpbmQoYSksMCk6Yy5jYWxsKGQsYS5nZXREYXRhKGIpKX1rLmxiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudn07ay5OZT1mdW5jdGlvbigpe3RoaXMuc3RhdGU9Mzt0aGlzLnUoKX07ay5iaj1mdW5jdGlvbihhKXt0aGlzLmY9YS5ncmlkO3RoaXMubD1hLmtleXM7dGhpcy5jPWEuZGF0YTt0aGlzLnN0YXRlPTQ7dGhpcy51KCl9O1xuZnVuY3Rpb24ga3ooYSl7aWYoMD09YS5zdGF0ZSlpZihhLnN0YXRlPTEsYS5vKVp4KGEudixhLmJqLmJpbmQoYSksYS5OZS5iaW5kKGEpKTtlbHNle3ZhciBiPW5ldyBYTUxIdHRwUmVxdWVzdDtiLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsYS5lcC5iaW5kKGEpKTtiLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLGEuY3AuYmluZChhKSk7Yi5vcGVuKFwiR0VUXCIsYS52KTtiLnNlbmQoKX19ay5lcD1mdW5jdGlvbihhKXthPWEudGFyZ2V0O2lmKCFhLnN0YXR1c3x8MjAwPD1hLnN0YXR1cyYmMzAwPmEuc3RhdHVzKXt0cnl7dmFyIGI9SlNPTi5wYXJzZShhLnJlc3BvbnNlVGV4dCl9Y2F0Y2goYyl7dGhpcy5OZSgpO3JldHVybn10aGlzLmJqKGIpfWVsc2UgdGhpcy5OZSgpfTtrLmNwPWZ1bmN0aW9uKCl7dGhpcy5OZSgpfTtrLmxvYWQ9ZnVuY3Rpb24oKXt0aGlzLk4mJmt6KHRoaXMpfTtmdW5jdGlvbiBseihhKXthPWF8fHt9O3ZhciBiPWEucGFyYW1zfHx7fTtueS5jYWxsKHRoaXMse2F0dHJpYnV0aW9uczphLmF0dHJpYnV0aW9ucyxjYWNoZVNpemU6YS5jYWNoZVNpemUsY3Jvc3NPcmlnaW46YS5jcm9zc09yaWdpbixsb2dvOmEubG9nbyxvcGFxdWU6IShcIlRSQU5TUEFSRU5UXCJpbiBiP2IuVFJBTlNQQVJFTlQ6MSkscHJvamVjdGlvbjphLnByb2plY3Rpb24scmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQ6YS5yZXByb2plY3Rpb25FcnJvclRocmVzaG9sZCx0aWxlQ2xhc3M6YS50aWxlQ2xhc3MsdGlsZUdyaWQ6YS50aWxlR3JpZCx0aWxlTG9hZEZ1bmN0aW9uOmEudGlsZUxvYWRGdW5jdGlvbix1cmw6YS51cmwsdXJsczphLnVybHMsd3JhcFg6dm9pZCAwIT09YS53cmFwWD9hLndyYXBYOiEwLHRyYW5zaXRpb246YS50cmFuc2l0aW9ufSk7dGhpcy5vPXZvaWQgMCE9PWEuZ3V0dGVyP2EuZ3V0dGVyOjA7dGhpcy5pPWI7dGhpcy5sPSEwO3RoaXMuQj1hLnNlcnZlclR5cGU7XG50aGlzLiQ9dm9pZCAwIT09YS5oaWRwaT9hLmhpZHBpOiEwO3RoaXMuY2E9RGEoKTtteih0aGlzKTtqeSh0aGlzLG56KHRoaXMpKX13KGx6LG55KTtrPWx6LnByb3RvdHlwZTtcbmsuaHA9ZnVuY3Rpb24oYSxiLGMsZCl7Yz1PYihjKTt2YXIgZT10aGlzLmMsZj10aGlzLnRpbGVHcmlkO2Z8fChmPXRoaXMuZWIoYykpO2I9Zi5MZShhLGIpO2lmKCEoZi5iLmxlbmd0aDw9YlswXSkpe3ZhciBnPWYuVGEoYlswXSksaD1mLk1hKGIsdGhpcy5jYSk7Zj1CYShmLlphKGJbMF0pLHRoaXMuaik7dmFyIGw9dGhpcy5vOzAhPT1sJiYoZj16YShmLGwsdGhpcy5qKSxoPUZhKGgsZypsLGgpKTtlJiZlIT09YyYmKGc9YnkoZSxjLGEsZyksaD1iYyhoLGMsZSksYT1hYyhhLGMsZSkpO2w9e1NFUlZJQ0U6XCJXTVNcIixWRVJTSU9OOlwiMS4zLjBcIixSRVFVRVNUOlwiR2V0RmVhdHVyZUluZm9cIixGT1JNQVQ6XCJpbWFnZS9wbmdcIixUUkFOU1BBUkVOVDohMCxRVUVSWV9MQVlFUlM6dGhpcy5pLkxBWUVSU307a2IobCx0aGlzLmksZCk7ZD1NYXRoLmZsb29yKChoWzNdLWFbMV0pL2cpO2xbdGhpcy5sP1wiSVwiOlwiWFwiXT1NYXRoLmZsb29yKChhWzBdLWhbMF0pL2cpO2xbdGhpcy5sP1wiSlwiOlwiWVwiXT1cbmQ7cmV0dXJuIG96KHRoaXMsYixmLGgsMSxlfHxjLGwpfX07ay4kZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm99O2suaXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtcbmZ1bmN0aW9uIG96KGEsYixjLGQsZSxmLGcpe3ZhciBoPWEudXJscztpZihoKXtnLldJRFRIPWNbMF07Zy5IRUlHSFQ9Y1sxXTtnW2EubD9cIkNSU1wiOlwiU1JTXCJdPWYud2I7XCJTVFlMRVNcImluIGEuaXx8KGcuU1RZTEVTPVwiXCIpO2lmKDEhPWUpc3dpdGNoKGEuQil7Y2FzZSBcImdlb3NlcnZlclwiOmM9OTAqZSsuNXwwO2cuRk9STUFUX09QVElPTlM9XCJGT1JNQVRfT1BUSU9OU1wiaW4gZz9nLkZPUk1BVF9PUFRJT05TKyhcIjtkcGk6XCIrYyk6XCJkcGk6XCIrYzticmVhaztjYXNlIFwibWFwc2VydmVyXCI6Zy5NQVBfUkVTT0xVVElPTj05MCplO2JyZWFrO2Nhc2UgXCJjYXJtZW50YXNlcnZlclwiOmNhc2UgXCJxZ2lzXCI6Zy5EUEk9OTAqZTticmVhaztkZWZhdWx0Om9hKCExLDUyKX1mPWYuYjthLmwmJlwibmVcIj09Zi5zdWJzdHIoMCwyKSYmKGE9ZFswXSxkWzBdPWRbMV0sZFsxXT1hLGE9ZFsyXSxkWzJdPWRbM10sZFszXT1hKTtnLkJCT1g9ZC5qb2luKFwiLFwiKTtyZXR1cm4gR3koMT09aC5sZW5ndGg/aFswXTpoW3dhKChiWzFdPDxcbmJbMF0pK2JbMl0saC5sZW5ndGgpXSxnKX19ay5YYz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy4kJiZ2b2lkIDAhPT10aGlzLkI/YToxfTtmdW5jdGlvbiBueihhKXt2YXIgYj0wLGM9W10sZDtmb3IoZCBpbiBhLmkpY1tiKytdPWQrXCItXCIrYS5pW2RdO3JldHVybiBjLmpvaW4oXCIvXCIpfVxuay5kYz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy50aWxlR3JpZDtkfHwoZD10aGlzLmViKGMpKTtpZighKGQuYi5sZW5ndGg8PWFbMF0pKXsxPT1ifHx0aGlzLiQmJnZvaWQgMCE9PXRoaXMuQnx8KGI9MSk7dmFyIGU9ZC5UYShhWzBdKSxmPWQuTWEoYSx0aGlzLmNhKTtkPUJhKGQuWmEoYVswXSksdGhpcy5qKTt2YXIgZz10aGlzLm87MCE9PWcmJihkPXphKGQsZyx0aGlzLmopLGY9RmEoZixlKmcsZikpOzEhPWImJihkPUFhKGQsYix0aGlzLmopKTtlPXtTRVJWSUNFOlwiV01TXCIsVkVSU0lPTjpcIjEuMy4wXCIsUkVRVUVTVDpcIkdldE1hcFwiLEZPUk1BVDpcImltYWdlL3BuZ1wiLFRSQU5TUEFSRU5UOiEwfTtrYihlLHRoaXMuaSk7cmV0dXJuIG96KHRoaXMsYSxkLGYsYixjLGUpfX07ay5qcD1mdW5jdGlvbihhKXtrYih0aGlzLmksYSk7bXoodGhpcyk7ankodGhpcyxueih0aGlzKSl9O2Z1bmN0aW9uIG16KGEpe2EubD0wPD15ZShhLmkuVkVSU0lPTnx8XCIxLjMuMFwiKX07ZnVuY3Rpb24gcHooYSxiLGMsZCxlLGYsZyxoLGwsbSxuLHAscSxyLHUpe2NsLmNhbGwodGhpcyxhLGIsdSk7dGhpcy52PXt9O3RoaXMubz17fTt0aGlzLmM9bTt0aGlzLmE9W107dGhpcy5EPWM7dGhpcy5sPWY7dGhpcy5mPVtdO3RoaXMuTj1bXTtpZihmKXt2YXIgdj1sLk1hKGYpLHo9bC5UYShhWzBdKTtoLlZmKHYsaC5EYyh6KSxmdW5jdGlvbihhKXt2YXIgYj1nYih2LGguTWEoYSkpLGM9aC5HKCk7YyYmKGI9Z2IoYixjKSk7LjU8PWNiKGIpL3omJi41PD1kYihiKS96JiYoYj1hLnRvU3RyaW5nKCksYz1tW2JdLGN8fChjPWcoYSxuLHApLGM9bVtiXT1uZXcgcShhLHZvaWQgMD09Yz80OjAsdm9pZCAwPT1jP1wiXCI6YyxkLGUpLHRoaXMuTi5wdXNoKHkoYyxcImNoYW5nZVwiLHIpKSksYy5jKyssdGhpcy5hLnB1c2goYikpfS5iaW5kKHRoaXMpKX19dyhweixjbCk7az1wei5wcm90b3R5cGU7XG5rLmlhPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj10aGlzLmEubGVuZ3RoO2E8YjsrK2Epe3ZhciBjPXRoaXMuYVthXSxkPXRoaXMuY1tjXTtkLmMtLTswPT1kLmMmJihkZWxldGUgdGhpcy5jW2NdLFBjKGQpKX10aGlzLmEubGVuZ3RoPTA7dGhpcy5jPW51bGw7dGhpcy5mLmZvckVhY2goR2MpO3RoaXMuZi5sZW5ndGg9MDt0aGlzLmcmJlBjKHRoaXMuZyk7dGhpcy5zdGF0ZT01O3RoaXMudSgpO3RoaXMuTi5mb3JFYWNoKEdjKTt0aGlzLk4ubGVuZ3RoPTA7Y2wucHJvdG90eXBlLmlhLmNhbGwodGhpcyl9O2Z1bmN0aW9uIG5rKGEsYil7Yj14KGIpLnRvU3RyaW5nKCk7YiBpbiBhLnZ8fChhLnZbYl09aGcoKSk7cmV0dXJuIGEudltiXX1rLlk9ZnVuY3Rpb24oYSl7cmV0dXJuLTE9PW1rKHRoaXMsYSkuZmg/bnVsbDpuayh0aGlzLGEpLmNhbnZhc307XG5mdW5jdGlvbiBtayhhLGIpe2I9eChiKS50b1N0cmluZygpO2IgaW4gYS5vfHwoYS5vW2JdPXtCZTohMSxlaDpudWxsLHdmOi0xLGZoOi0xfSk7cmV0dXJuIGEub1tiXX1rLmxiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5qb2luKFwiL1wiKStcIi1cIit0aGlzLkR9O1xuay5sb2FkPWZ1bmN0aW9uKCl7dmFyIGE9MCxiPXt9OzA9PXRoaXMuc3RhdGUmJm9qKHRoaXMsMSk7MT09dGhpcy5zdGF0ZSYmdGhpcy5hLmZvckVhY2goZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5jW2NdOzA9PWQuc3RhdGUmJihkLnVnKHRoaXMuQyksZC5sb2FkKCkpOzE9PWQuc3RhdGUmJihjPXkoZCxcImNoYW5nZVwiLGZ1bmN0aW9uKCl7dmFyIGM9ZC5nZXRTdGF0ZSgpO2lmKDI9PWN8fDM9PWMpe3ZhciBmPXgoZCk7Mz09Yz9iW2ZdPSEwOigtLWEsZGVsZXRlIGJbZl0pOzA9PWEtT2JqZWN0LmtleXMoYikubGVuZ3RoJiZ0aGlzLktoKCl9fS5iaW5kKHRoaXMpKSx0aGlzLmYucHVzaChjKSwrK2EpfS5iaW5kKHRoaXMpKTswPT1hLU9iamVjdC5rZXlzKGIpLmxlbmd0aCYmc2V0VGltZW91dCh0aGlzLktoLmJpbmQodGhpcyksMCl9O1xuay5LaD1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmEubGVuZ3RoLGI9MCxjPWEtMTswPD1jOy0tYyl7dmFyIGQ9dGhpcy5jW3RoaXMuYVtjXV0uZ2V0U3RhdGUoKTsyIT1kJiYtLWE7ND09ZCYmKytifWE9PXRoaXMuYS5sZW5ndGg/KHRoaXMuZi5mb3JFYWNoKEdjKSx0aGlzLmYubGVuZ3RoPTAsb2oodGhpcywyKSk6b2oodGhpcyxiPT10aGlzLmEubGVuZ3RoPzQ6Myl9O2Z1bmN0aW9uIHF6KGEsYil7YS51ZyhFbyhiLGEudixhLkNwLmJpbmQoYSksYS5CcC5iaW5kKGEpKSl9O2Z1bmN0aW9uIHJ6KGEpe3ZhciBiPWEucHJvamVjdGlvbnx8XCJFUFNHOjM4NTdcIixjPWEuZXh0ZW50fHxEYyhiKSxkPWEudGlsZUdyaWR8fEJjKHtleHRlbnQ6YyxtYXhab29tOmEubWF4Wm9vbXx8MjIsbWluWm9vbTphLm1pblpvb20sdGlsZVNpemU6YS50aWxlU2l6ZXx8NTEyfSk7bXkuY2FsbCh0aGlzLHthdHRyaWJ1dGlvbnM6YS5hdHRyaWJ1dGlvbnMsY2FjaGVTaXplOnZvaWQgMCE9PWEuY2FjaGVTaXplP2EuY2FjaGVTaXplOjEyOCxleHRlbnQ6Yyxsb2dvOmEubG9nbyxvcGFxdWU6ITEscHJvamVjdGlvbjpiLHN0YXRlOmEuc3RhdGUsdGlsZUdyaWQ6ZCx0aWxlTG9hZEZ1bmN0aW9uOmEudGlsZUxvYWRGdW5jdGlvbj9hLnRpbGVMb2FkRnVuY3Rpb246cXosdGlsZVVybEZ1bmN0aW9uOmEudGlsZVVybEZ1bmN0aW9uLHVybDphLnVybCx1cmxzOmEudXJscyx3cmFwWDp2b2lkIDA9PT1hLndyYXBYPyEwOmEud3JhcFgsdHJhbnNpdGlvbjphLnRyYW5zaXRpb259KTt0aGlzLmw9YS5mb3JtYXQ/XG5hLmZvcm1hdDpudWxsO3RoaXMuaT17fTt0aGlzLnM9dm9pZCAwPT1hLm92ZXJsYXBzPyEwOmEub3ZlcmxhcHM7dGhpcy50aWxlQ2xhc3M9YS50aWxlQ2xhc3M/YS50aWxlQ2xhc3M6S247dGhpcy5mPXt9fXcocnosbXkpO2s9cnoucHJvdG90eXBlO2suY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmEuY2xlYXIoKTt0aGlzLmk9e319O2suYWQ9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1hK1wiL1wiK2IrXCIvXCIrYztpZih0aGlzLmEuYS5oYXNPd25Qcm9wZXJ0eShmKSlyZXR1cm4gdGhpcy5hLmdldChmKTthPVthLGIsY107Yj1reSh0aGlzLGEsZSk7ZD1uZXcgcHooYSxudWxsIT09Yj8wOjQsdGhpcy5nLHRoaXMubCx0aGlzLnRpbGVMb2FkRnVuY3Rpb24sYix0aGlzLnRpbGVVcmxGdW5jdGlvbix0aGlzLnRpbGVHcmlkLHRoaXMuZWIoZSksdGhpcy5pLGQsZSx0aGlzLnRpbGVDbGFzcyx0aGlzLmRqLmJpbmQodGhpcyksdGhpcy5FYSk7dGhpcy5hLnNldChmLGQpO3JldHVybiBkfTtcbmsuZWI9ZnVuY3Rpb24oYSl7dmFyIGI9YS53YixjPXRoaXMuZltiXTtjfHwoYz10aGlzLnRpbGVHcmlkLGM9dGhpcy5mW2JdPUFjKGEsdm9pZCAwLGM/Yy5aYShjLm1pblpvb20pOnZvaWQgMCkpO3JldHVybiBjfTtrLlhjPWZ1bmN0aW9uKGEpe3JldHVybiBhfTtrLlpkPWZ1bmN0aW9uKGEsYixjKXthPUJhKHRoaXMuZWIoYykuWmEoYSkpO3JldHVybltNYXRoLnJvdW5kKGFbMF0qYiksTWF0aC5yb3VuZChhWzFdKmIpXX07ZnVuY3Rpb24gc3ooYSl7dGhpcy5zPWEubWF0cml4SWRzO3FjLmNhbGwodGhpcyx7ZXh0ZW50OmEuZXh0ZW50LG9yaWdpbjphLm9yaWdpbixvcmlnaW5zOmEub3JpZ2lucyxyZXNvbHV0aW9uczphLnJlc29sdXRpb25zLHRpbGVTaXplOmEudGlsZVNpemUsdGlsZVNpemVzOmEudGlsZVNpemVzLHNpemVzOmEuc2l6ZXN9KX13KHN6LHFjKTtzei5wcm90b3R5cGUudj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN9O1xuZnVuY3Rpb24gdHooYSxiLGMpe3ZhciBkPVtdLGU9W10sZj1bXSxnPVtdLGg9W10sbD12b2lkIDAhPT1jP2M6W107Yz1hLlN1cHBvcnRlZENSUztjPU9iKGMucmVwbGFjZSgvdXJuOm9nYzpkZWY6Y3JzOihcXHcrKTooLio6KT8oXFx3KykkLyxcIiQxOiQzXCIpKXx8T2IoYyk7dmFyIG09Yy5CYygpLG49XCJuZVwiPT1jLmIuc3Vic3RyKDAsMik7YS5UaWxlTWF0cml4LnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5TY2FsZURlbm9taW5hdG9yLWEuU2NhbGVEZW5vbWluYXRvcn0pO2EuVGlsZU1hdHJpeC5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiOzA8bC5sZW5ndGg/Yj1oYyhsLGZ1bmN0aW9uKGIpe3JldHVybiBhLklkZW50aWZpZXI9PWIuVGlsZU1hdHJpeH0pOmI9ITA7aWYoYil7ZS5wdXNoKGEuSWRlbnRpZmllcik7Yj0yLjhFLTQqYS5TY2FsZURlbm9taW5hdG9yL207dmFyIGM9YS5UaWxlV2lkdGgscD1hLlRpbGVIZWlnaHQ7bj9mLnB1c2goW2EuVG9wTGVmdENvcm5lclsxXSxhLlRvcExlZnRDb3JuZXJbMF1dKTpcbmYucHVzaChhLlRvcExlZnRDb3JuZXIpO2QucHVzaChiKTtnLnB1c2goYz09cD9jOltjLHBdKTtoLnB1c2goW2EuTWF0cml4V2lkdGgsLWEuTWF0cml4SGVpZ2h0XSl9fSk7cmV0dXJuIG5ldyBzeih7ZXh0ZW50OmIsb3JpZ2luczpmLHJlc29sdXRpb25zOmQsbWF0cml4SWRzOmUsdGlsZVNpemVzOmcsc2l6ZXM6aH0pfTtmdW5jdGlvbiBZKGEpe3RoaXMuTGE9dm9pZCAwIT09YS52ZXJzaW9uP2EudmVyc2lvbjpcIjEuMC4wXCI7dGhpcy5CPXZvaWQgMCE9PWEuZm9ybWF0P2EuZm9ybWF0OlwiaW1hZ2UvanBlZ1wiO3RoaXMuaT12b2lkIDAhPT1hLmRpbWVuc2lvbnM/YS5kaW1lbnNpb25zOnt9O3RoaXMuJD1hLmxheWVyO3RoaXMubz1hLm1hdHJpeFNldDt0aGlzLmNhPWEuc3R5bGU7dmFyIGI9YS51cmxzO3ZvaWQgMD09PWImJnZvaWQgMCE9PWEudXJsJiYoYj1ZeChhLnVybCkpO3ZhciBjPXRoaXMudWE9dm9pZCAwIT09YS5yZXF1ZXN0RW5jb2Rpbmc/YS5yZXF1ZXN0RW5jb2Rpbmc6XCJLVlBcIixkPWEudGlsZUdyaWQsZT17bGF5ZXI6dGhpcy4kLHN0eWxlOnRoaXMuY2EsdGlsZW1hdHJpeHNldDp0aGlzLm99O1wiS1ZQXCI9PWMmJmtiKGUse1NlcnZpY2U6XCJXTVRTXCIsUmVxdWVzdDpcIkdldFRpbGVcIixWZXJzaW9uOnRoaXMuTGEsRm9ybWF0OnRoaXMuQn0pO3ZhciBmPXRoaXMuaTt0aGlzLmw9ZnVuY3Rpb24oYSl7YT1cblwiS1ZQXCI9PWM/R3koYSxlKTphLnJlcGxhY2UoL1xceyhcXHcrPylcXH0vZyxmdW5jdGlvbihhLGIpe3JldHVybiBiLnRvTG93ZXJDYXNlKClpbiBlP2VbYi50b0xvd2VyQ2FzZSgpXTphfSk7cmV0dXJuIGZ1bmN0aW9uKGIpe2lmKGIpe3ZhciBlPXtUaWxlTWF0cml4OmQuc1tiWzBdXSxUaWxlQ29sOmJbMV0sVGlsZVJvdzotYlsyXS0xfTtrYihlLGYpO2I9YTtyZXR1cm4gYj1cIktWUFwiPT1jP0d5KGIsZSk6Yi5yZXBsYWNlKC9cXHsoXFx3Kz8pXFx9L2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gZVtiXX0pfX19O3ZhciBnPWImJjA8Yi5sZW5ndGg/V3goYi5tYXAodGhpcy5sKSk6WHg7bnkuY2FsbCh0aGlzLHthdHRyaWJ1dGlvbnM6YS5hdHRyaWJ1dGlvbnMsY2FjaGVTaXplOmEuY2FjaGVTaXplLGNyb3NzT3JpZ2luOmEuY3Jvc3NPcmlnaW4sbG9nbzphLmxvZ28scHJvamVjdGlvbjphLnByb2plY3Rpb24scmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQ6YS5yZXByb2plY3Rpb25FcnJvclRocmVzaG9sZCxcbnRpbGVDbGFzczphLnRpbGVDbGFzcyx0aWxlR3JpZDpkLHRpbGVMb2FkRnVuY3Rpb246YS50aWxlTG9hZEZ1bmN0aW9uLHRpbGVQaXhlbFJhdGlvOmEudGlsZVBpeGVsUmF0aW8sdGlsZVVybEZ1bmN0aW9uOmcsdXJsczpiLHdyYXBYOnZvaWQgMCE9PWEud3JhcFg/YS53cmFwWDohMSx0cmFuc2l0aW9uOmEudHJhbnNpdGlvbn0pO2p5KHRoaXMsdXoodGhpcykpfXcoWSxueSk7az1ZLnByb3RvdHlwZTtrLnZiPWZ1bmN0aW9uKGEpe3RoaXMudXJscz1hO3ZhciBiPWEuam9pbihcIlxcblwiKTt0aGlzLmhiKHRoaXMuZGM/dGhpcy5kYy5iaW5kKHRoaXMpOld4KGEubWFwKHRoaXMubC5iaW5kKHRoaXMpKSksYil9O2sub2w9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtrLmtwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQn07ay5scD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiR9O2suQWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vfTtrLk5sPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudWF9O1xuay5tcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhfTtrLlVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTGF9O2Z1bmN0aW9uIHV6KGEpe3ZhciBiPTAsYz1bXSxkO2ZvcihkIGluIGEuaSljW2IrK109ZCtcIi1cIithLmlbZF07cmV0dXJuIGMuam9pbihcIi9cIil9ay5UcT1mdW5jdGlvbihhKXtrYih0aGlzLmksYSk7ankodGhpcyx1eih0aGlzKSl9O2Z1bmN0aW9uIHZ6KGEpe2E9YXx8e307dmFyIGI9YS5zaXplLGM9YlswXSxkPWJbMV07Yj1hLmV4dGVudHx8WzAsLWJbMV0sYlswXSwwXTt2YXIgZT1bXSxmPWEudGlsZVNpemV8fDI1NixnPWY7c3dpdGNoKHZvaWQgMCE9PWEudGllclNpemVDYWxjdWxhdGlvbj9hLnRpZXJTaXplQ2FsY3VsYXRpb246d3ope2Nhc2Ugd3o6Zm9yKDtjPmd8fGQ+ZzspZS5wdXNoKFtNYXRoLmNlaWwoYy9nKSxNYXRoLmNlaWwoZC9nKV0pLGcrPWc7YnJlYWs7Y2FzZSB4ejpmb3IoO2M+Z3x8ZD5nOyllLnB1c2goW01hdGguY2VpbChjL2cpLE1hdGguY2VpbChkL2cpXSksYz4+PTEsZD4+PTE7YnJlYWs7ZGVmYXVsdDpvYSghMSw1Myl9ZS5wdXNoKFsxLDFdKTtlLnJldmVyc2UoKTtkPVsxXTt2YXIgaD1bMF07Zz0xO2ZvcihjPWUubGVuZ3RoO2c8YztnKyspZC5wdXNoKDE8PGcpLGgucHVzaChlW2ctMV1bMF0qZVtnLTFdWzFdK2hbZy0xXSk7ZC5yZXZlcnNlKCk7dmFyIGw9bmV3IHFjKHt0aWxlU2l6ZTpmLFxuZXh0ZW50OmIsb3JpZ2luOiRhKGIpLHJlc29sdXRpb25zOmR9KTsoYj1hLnVybCkmJi0xPT1iLmluZGV4T2YoXCJ7VGlsZUdyb3VwfVwiKSYmLTE9PWIuaW5kZXhPZihcInt0aWxlSW5kZXh9XCIpJiYoYis9XCJ7VGlsZUdyb3VwfS97en0te3h9LXt5fS5qcGdcIik7Yj1ZeChiKTtiPVd4KGIubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtpZihiKXt2YXIgYz1iWzBdLGQ9YlsxXTtiPS1iWzJdLTE7dmFyIGY9ZCtiKmVbY11bMF0sZz17ejpjLHg6ZCx5OmIsdGlsZUluZGV4OmYsVGlsZUdyb3VwOlwiVGlsZUdyb3VwXCIrKChmK2hbY10pL2wuWmEoYyl8MCl9O3JldHVybiBhLnJlcGxhY2UoL1xceyhcXHcrPylcXH0vZyxmdW5jdGlvbihhLGIpe3JldHVybiBnW2JdfSl9fX0pKTtueS5jYWxsKHRoaXMse2F0dHJpYnV0aW9uczphLmF0dHJpYnV0aW9ucyxjYWNoZVNpemU6YS5jYWNoZVNpemUsY3Jvc3NPcmlnaW46YS5jcm9zc09yaWdpbixsb2dvOmEubG9nbyxwcm9qZWN0aW9uOmEucHJvamVjdGlvbixcbnJlcHJvamVjdGlvbkVycm9yVGhyZXNob2xkOmEucmVwcm9qZWN0aW9uRXJyb3JUaHJlc2hvbGQsdGlsZUNsYXNzOnl6LmJpbmQobnVsbCxsKSx0aWxlR3JpZDpsLHRpbGVVcmxGdW5jdGlvbjpiLHRyYW5zaXRpb246YS50cmFuc2l0aW9ufSl9dyh2eixueSk7ZnVuY3Rpb24geXooYSxiLGMsZCxlLGYsZyl7ZWwuY2FsbCh0aGlzLGIsYyxkLGUsZixnKTt0aGlzLmE9bnVsbDt0aGlzLm89QmEoYS5aYShiWzBdKSl9dyh5eixlbCk7eXoucHJvdG90eXBlLlk9ZnVuY3Rpb24oKXtpZih0aGlzLmEpcmV0dXJuIHRoaXMuYTt2YXIgYT1lbC5wcm90b3R5cGUuWS5jYWxsKHRoaXMpO2lmKDI9PXRoaXMuc3RhdGUpe3ZhciBiPXRoaXMubztpZihhLndpZHRoPT1iWzBdJiZhLmhlaWdodD09YlsxXSlyZXR1cm4gdGhpcy5hPWE7Yj1oZyhiWzBdLGJbMV0pO2IuZHJhd0ltYWdlKGEsMCwwKTtyZXR1cm4gdGhpcy5hPWIuY2FudmFzfXJldHVybiBhfTt2YXIgd3o9XCJkZWZhdWx0XCIseHo9XCJ0cnVuY2F0ZWRcIjtoYS5wcm90b3R5cGUuY29kZT1oYS5wcm90b3R5cGUuY29kZTt0KFwib2wuQXR0cmlidXRpb25cIixFYyk7RWMucHJvdG90eXBlLmdldEhUTUw9RWMucHJvdG90eXBlLmI7dChcIm9sLkNhbnZhc01hcFwiLEgpO3QoXCJvbC5Db2xsZWN0aW9uXCIsQik7Qi5wcm90b3R5cGUuY2xlYXI9Qi5wcm90b3R5cGUuY2xlYXI7Qi5wcm90b3R5cGUuZXh0ZW5kPUIucHJvdG90eXBlLnFnO0IucHJvdG90eXBlLmZvckVhY2g9Qi5wcm90b3R5cGUuZm9yRWFjaDtCLnByb3RvdHlwZS5nZXRBcnJheT1CLnByb3RvdHlwZS5YbTtCLnByb3RvdHlwZS5pdGVtPUIucHJvdG90eXBlLml0ZW07Qi5wcm90b3R5cGUuZ2V0TGVuZ3RoPUIucHJvdG90eXBlLmtjO0IucHJvdG90eXBlLmluc2VydEF0PUIucHJvdG90eXBlLlJlO0IucHJvdG90eXBlLnBvcD1CLnByb3RvdHlwZS5wb3A7Qi5wcm90b3R5cGUucHVzaD1CLnByb3RvdHlwZS5wdXNoO0IucHJvdG90eXBlLnJlbW92ZT1CLnByb3RvdHlwZS5yZW1vdmU7XG5CLnByb3RvdHlwZS5yZW1vdmVBdD1CLnByb3RvdHlwZS5XZztCLnByb3RvdHlwZS5zZXRBdD1CLnByb3RvdHlwZS5ycTtjZC5wcm90b3R5cGUuZWxlbWVudD1jZC5wcm90b3R5cGUuZWxlbWVudDt0KFwib2wuY29sb3IuYXNBcnJheVwiLHZpKTt0KFwib2wuY29sb3IuYXNTdHJpbmdcIix4aSk7dChcIm9sLmNvbG9ybGlrZS5hc0NvbG9yTGlrZVwiLHppKTt0KFwib2wuY29udHJvbC5kZWZhdWx0c1wiLEZnKTt0KFwib2wuY29vcmRpbmF0ZS5hZGRcIix6ZSk7dChcIm9sLmNvb3JkaW5hdGUuY3JlYXRlU3RyaW5nWFlcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIEtlKGIsYSl9fSk7dChcIm9sLmNvb3JkaW5hdGUuZm9ybWF0XCIsRGUpO3QoXCJvbC5jb29yZGluYXRlLnJvdGF0ZVwiLEZlKTt0KFwib2wuY29vcmRpbmF0ZS50b1N0cmluZ0hETVNcIixmdW5jdGlvbihhLGIpe3JldHVybiBhP0NlKFwiTlNcIixhWzFdLGIpK1wiIFwiK0NlKFwiRVdcIixhWzBdLGIpOlwiXCJ9KTtcbnQoXCJvbC5jb29yZGluYXRlLnRvU3RyaW5nWFlcIixLZSk7dChcIm9sLkRldmljZU9yaWVudGF0aW9uXCIscGspO3BrLnByb3RvdHlwZS5nZXRBbHBoYT1way5wcm90b3R5cGUuWW07cGsucHJvdG90eXBlLmdldEJldGE9cGsucHJvdG90eXBlLmxsO3BrLnByb3RvdHlwZS5nZXRHYW1tYT1way5wcm90b3R5cGUucWw7cGsucHJvdG90eXBlLmdldEhlYWRpbmc9cGsucHJvdG90eXBlLlptO3BrLnByb3RvdHlwZS5nZXRUcmFja2luZz1way5wcm90b3R5cGUubGk7cGsucHJvdG90eXBlLnNldFRyYWNraW5nPXBrLnByb3RvdHlwZS5yZzt0KFwib2wuZWFzaW5nLmVhc2VJblwiLE1lKTt0KFwib2wuZWFzaW5nLmVhc2VPdXRcIixPZSk7dChcIm9sLmVhc2luZy5pbkFuZE91dFwiLFBlKTt0KFwib2wuZWFzaW5nLmxpbmVhclwiLFFlKTt0KFwib2wuZWFzaW5nLnVwQW5kRG93blwiLGZ1bmN0aW9uKGEpe3JldHVybi41PmE/UGUoMiphKToxLVBlKDIqKGEtLjUpKX0pO1xudChcIm9sLmV4dGVudC5ib3VuZGluZ0V4dGVudFwiLENhKTt0KFwib2wuZXh0ZW50LmJ1ZmZlclwiLEZhKTt0KFwib2wuZXh0ZW50LmNvbnRhaW5zQ29vcmRpbmF0ZVwiLEphKTt0KFwib2wuZXh0ZW50LmNvbnRhaW5zRXh0ZW50XCIsTGEpO3QoXCJvbC5leHRlbnQuY29udGFpbnNYWVwiLEthKTt0KFwib2wuZXh0ZW50LmNyZWF0ZUVtcHR5XCIsRGEpO3QoXCJvbC5leHRlbnQuZXF1YWxzXCIsU2EpO3QoXCJvbC5leHRlbnQuZXh0ZW5kXCIsVGEpO3QoXCJvbC5leHRlbnQuZ2V0QXJlYVwiLGFiKTt0KFwib2wuZXh0ZW50LmdldEJvdHRvbUxlZnRcIixXYSk7dChcIm9sLmV4dGVudC5nZXRCb3R0b21SaWdodFwiLFlhKTt0KFwib2wuZXh0ZW50LmdldENlbnRlclwiLGViKTt0KFwib2wuZXh0ZW50LmdldEhlaWdodFwiLGRiKTt0KFwib2wuZXh0ZW50LmdldEludGVyc2VjdGlvblwiLGdiKTt0KFwib2wuZXh0ZW50LmdldFNpemVcIixmdW5jdGlvbihhKXtyZXR1cm5bYVsyXS1hWzBdLGFbM10tYVsxXV19KTtcbnQoXCJvbC5leHRlbnQuZ2V0VG9wTGVmdFwiLCRhKTt0KFwib2wuZXh0ZW50LmdldFRvcFJpZ2h0XCIsWmEpO3QoXCJvbC5leHRlbnQuZ2V0V2lkdGhcIixjYik7dChcIm9sLmV4dGVudC5pbnRlcnNlY3RzXCIsaGIpO3QoXCJvbC5leHRlbnQuaXNFbXB0eVwiLGJiKTt0KFwib2wuZXh0ZW50LmFwcGx5VHJhbnNmb3JtXCIsamIpO3QoXCJvbC5GZWF0dXJlXCIsSGspO0hrLnByb3RvdHlwZS5jbG9uZT1Iay5wcm90b3R5cGUuY2xvbmU7SGsucHJvdG90eXBlLmdldEdlb21ldHJ5PUhrLnByb3RvdHlwZS5VO0hrLnByb3RvdHlwZS5nZXRJZD1Iay5wcm90b3R5cGUuYW47SGsucHJvdG90eXBlLmdldEdlb21ldHJ5TmFtZT1Iay5wcm90b3R5cGUuc2w7SGsucHJvdG90eXBlLmdldFN0eWxlPUhrLnByb3RvdHlwZS5ibjtIay5wcm90b3R5cGUuZ2V0U3R5bGVGdW5jdGlvbj1Iay5wcm90b3R5cGUuaWI7SGsucHJvdG90eXBlLnNldEdlb21ldHJ5PUhrLnByb3RvdHlwZS5WYTtIay5wcm90b3R5cGUuc2V0U3R5bGU9SGsucHJvdG90eXBlLnNnO1xuSGsucHJvdG90eXBlLnNldElkPUhrLnByb3RvdHlwZS5xYztIay5wcm90b3R5cGUuc2V0R2VvbWV0cnlOYW1lPUhrLnByb3RvdHlwZS5MYzt0KFwib2wuZmVhdHVyZWxvYWRlci54aHJcIixGbyk7dChcIm9sLkdlb2xvY2F0aW9uXCIsSmspO0prLnByb3RvdHlwZS5nZXRBY2N1cmFjeT1Kay5wcm90b3R5cGUuZWw7SmsucHJvdG90eXBlLmdldEFjY3VyYWN5R2VvbWV0cnk9SmsucHJvdG90eXBlLmZsO0prLnByb3RvdHlwZS5nZXRBbHRpdHVkZT1Kay5wcm90b3R5cGUuZ2w7SmsucHJvdG90eXBlLmdldEFsdGl0dWRlQWNjdXJhY3k9SmsucHJvdG90eXBlLmhsO0prLnByb3RvdHlwZS5nZXRIZWFkaW5nPUprLnByb3RvdHlwZS5jbjtKay5wcm90b3R5cGUuZ2V0UG9zaXRpb249SmsucHJvdG90eXBlLmRuO0prLnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uPUprLnByb3RvdHlwZS5taTtKay5wcm90b3R5cGUuZ2V0U3BlZWQ9SmsucHJvdG90eXBlLk9sO0prLnByb3RvdHlwZS5nZXRUcmFja2luZz1Kay5wcm90b3R5cGUubmk7XG5Kay5wcm90b3R5cGUuZ2V0VHJhY2tpbmdPcHRpb25zPUprLnByb3RvdHlwZS5haTtKay5wcm90b3R5cGUuc2V0UHJvamVjdGlvbj1Kay5wcm90b3R5cGUub2k7SmsucHJvdG90eXBlLnNldFRyYWNraW5nPUprLnByb3RvdHlwZS5VZTtKay5wcm90b3R5cGUuc2V0VHJhY2tpbmdPcHRpb25zPUprLnByb3RvdHlwZS5Sajt0KFwib2wuR3JhdGljdWxlXCIsWGspO1hrLnByb3RvdHlwZS5nZXRNYXA9WGsucHJvdG90eXBlLmduO1hrLnByb3RvdHlwZS5nZXRNZXJpZGlhbnM9WGsucHJvdG90eXBlLkNsO1hrLnByb3RvdHlwZS5nZXRQYXJhbGxlbHM9WGsucHJvdG90eXBlLkpsO1hrLnByb3RvdHlwZS5zZXRNYXA9WGsucHJvdG90eXBlLnNldE1hcDt0KFwib2wuaGFzLkRFVklDRV9QSVhFTF9SQVRJT1wiLG5kKTt0KFwib2wuaGFzLkNBTlZBU1wiLHBkKTt0KFwib2wuaGFzLkRFVklDRV9PUklFTlRBVElPTlwiLHFkKTt0KFwib2wuaGFzLkdFT0xPQ0FUSU9OXCIscmQpO3QoXCJvbC5oYXMuVE9VQ0hcIixzZCk7XG50KFwib2wuaGFzLldFQkdMXCIsaGQpO2JsLnByb3RvdHlwZS5nZXRJbWFnZT1ibC5wcm90b3R5cGUuWTtibC5wcm90b3R5cGUubG9hZD1ibC5wcm90b3R5cGUubG9hZDtlbC5wcm90b3R5cGUuZ2V0SW1hZ2U9ZWwucHJvdG90eXBlLlk7dChcIm9sLmluaGVyaXRzXCIsdyk7dChcIm9sLmludGVyYWN0aW9uLmRlZmF1bHRzXCIsWmgpO3QoXCJvbC5LaW5ldGljXCIsR2cpO3QoXCJvbC5sb2FkaW5nc3RyYXRlZ3kuYWxsXCIsdHcpO3QoXCJvbC5sb2FkaW5nc3RyYXRlZ3kuYmJveFwiLGZ1bmN0aW9uKGEpe3JldHVyblthXX0pO3QoXCJvbC5sb2FkaW5nc3RyYXRlZ3kudGlsZVwiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe2M9YS5EYyhjKTtiPXRjKGEsYixjKTt2YXIgZD1bXTtjPVtjLDAsMF07Zm9yKGNbMV09Yi5mYTtjWzFdPD1iLmxhOysrY1sxXSlmb3IoY1syXT1iLmVhO2NbMl08PWIua2E7KytjWzJdKWQucHVzaChhLk1hKGMpKTtyZXR1cm4gZH19KTt0KFwib2wuTWFwXCIsSyk7XG5lZC5wcm90b3R5cGUub3JpZ2luYWxFdmVudD1lZC5wcm90b3R5cGUub3JpZ2luYWxFdmVudDtlZC5wcm90b3R5cGUucGl4ZWw9ZWQucHJvdG90eXBlLnBpeGVsO2VkLnByb3RvdHlwZS5jb29yZGluYXRlPWVkLnByb3RvdHlwZS5jb29yZGluYXRlO2VkLnByb3RvdHlwZS5kcmFnZ2luZz1lZC5wcm90b3R5cGUuZHJhZ2dpbmc7ZGQucHJvdG90eXBlLm1hcD1kZC5wcm90b3R5cGUubWFwO2RkLnByb3RvdHlwZS5mcmFtZVN0YXRlPWRkLnByb3RvdHlwZS5mcmFtZVN0YXRlO3QoXCJvbC5PYmplY3RcIixWYyk7VmMucHJvdG90eXBlLmdldD1WYy5wcm90b3R5cGUuZ2V0O1ZjLnByb3RvdHlwZS5nZXRLZXlzPVZjLnByb3RvdHlwZS5QO1ZjLnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPVZjLnByb3RvdHlwZS5MO1ZjLnByb3RvdHlwZS5zZXQ9VmMucHJvdG90eXBlLnNldDtWYy5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1WYy5wcm90b3R5cGUuSDtWYy5wcm90b3R5cGUudW5zZXQ9VmMucHJvdG90eXBlLlI7XG5aYy5wcm90b3R5cGUua2V5PVpjLnByb3RvdHlwZS5rZXk7WmMucHJvdG90eXBlLm9sZFZhbHVlPVpjLnByb3RvdHlwZS5vbGRWYWx1ZTt0KFwib2wuT2JzZXJ2YWJsZVwiLFVjKTt0KFwib2wuT2JzZXJ2YWJsZS51bkJ5S2V5XCIsZnVuY3Rpb24oYSl7aWYoQXJyYXkuaXNBcnJheShhKSlmb3IodmFyIGI9MCxjPWEubGVuZ3RoO2I8YzsrK2IpR2MoYVtiXSk7ZWxzZSBHYyhhKX0pO1VjLnByb3RvdHlwZS5jaGFuZ2VkPVVjLnByb3RvdHlwZS51O1VjLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PVVjLnByb3RvdHlwZS5iO1VjLnByb3RvdHlwZS5nZXRSZXZpc2lvbj1VYy5wcm90b3R5cGUuSztVYy5wcm90b3R5cGUub249VWMucHJvdG90eXBlLkk7VWMucHJvdG90eXBlLm9uY2U9VWMucHJvdG90eXBlLm9uY2U7VWMucHJvdG90eXBlLnVuPVVjLnByb3RvdHlwZS5KO3QoXCJvbC5PdmVybGF5XCIsQm4pO0JuLnByb3RvdHlwZS5nZXRFbGVtZW50PUJuLnByb3RvdHlwZS5SZDtcbkJuLnByb3RvdHlwZS5nZXRJZD1Cbi5wcm90b3R5cGUubm47Qm4ucHJvdG90eXBlLmdldE1hcD1Cbi5wcm90b3R5cGUuVmU7Qm4ucHJvdG90eXBlLmdldE9mZnNldD1Cbi5wcm90b3R5cGUuWGg7Qm4ucHJvdG90eXBlLmdldFBvc2l0aW9uPUJuLnByb3RvdHlwZS5waTtCbi5wcm90b3R5cGUuZ2V0UG9zaXRpb25pbmc9Qm4ucHJvdG90eXBlLlloO0JuLnByb3RvdHlwZS5zZXRFbGVtZW50PUJuLnByb3RvdHlwZS5IajtCbi5wcm90b3R5cGUuc2V0TWFwPUJuLnByb3RvdHlwZS5zZXRNYXA7Qm4ucHJvdG90eXBlLnNldE9mZnNldD1Cbi5wcm90b3R5cGUuTWo7Qm4ucHJvdG90eXBlLnNldFBvc2l0aW9uPUJuLnByb3RvdHlwZS5XZTtCbi5wcm90b3R5cGUuc2V0UG9zaXRpb25pbmc9Qm4ucHJvdG90eXBlLlBqO3QoXCJvbC5QbHVnZ2FibGVNYXBcIixHKTtHLnByb3RvdHlwZS5hZGRDb250cm9sPUcucHJvdG90eXBlLk1mO0cucHJvdG90eXBlLmFkZEludGVyYWN0aW9uPUcucHJvdG90eXBlLk5mO1xuRy5wcm90b3R5cGUuYWRkTGF5ZXI9Ry5wcm90b3R5cGUueGU7Ry5wcm90b3R5cGUuYWRkT3ZlcmxheT1HLnByb3RvdHlwZS55ZTtHLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZUF0UGl4ZWw9Ry5wcm90b3R5cGUuVGM7Ry5wcm90b3R5cGUuZ2V0RmVhdHVyZXNBdFBpeGVsPUcucHJvdG90eXBlLlhmO0cucHJvdG90eXBlLmZvckVhY2hMYXllckF0UGl4ZWw9Ry5wcm90b3R5cGUudGc7Ry5wcm90b3R5cGUuaGFzRmVhdHVyZUF0UGl4ZWw9Ry5wcm90b3R5cGUubmc7Ry5wcm90b3R5cGUuZ2V0RXZlbnRDb29yZGluYXRlPUcucHJvdG90eXBlLlNkO0cucHJvdG90eXBlLmdldEV2ZW50UGl4ZWw9Ry5wcm90b3R5cGUudWQ7Ry5wcm90b3R5cGUuZ2V0VGFyZ2V0PUcucHJvdG90eXBlLlhkO0cucHJvdG90eXBlLmdldFRhcmdldEVsZW1lbnQ9Ry5wcm90b3R5cGUuQ2M7Ry5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbD1HLnByb3RvdHlwZS5SYTtcbkcucHJvdG90eXBlLmdldENvbnRyb2xzPUcucHJvdG90eXBlLldmO0cucHJvdG90eXBlLmdldE92ZXJsYXlzPUcucHJvdG90eXBlLmdnO0cucHJvdG90eXBlLmdldE92ZXJsYXlCeUlkPUcucHJvdG90eXBlLmZnO0cucHJvdG90eXBlLmdldEludGVyYWN0aW9ucz1HLnByb3RvdHlwZS5iZztHLnByb3RvdHlwZS5nZXRMYXllckdyb3VwPUcucHJvdG90eXBlLmhjO0cucHJvdG90eXBlLmdldExheWVycz1HLnByb3RvdHlwZS5YZTtHLnByb3RvdHlwZS5nZXRQaXhlbEZyb21Db29yZGluYXRlPUcucHJvdG90eXBlLklhO0cucHJvdG90eXBlLmdldFNpemU9Ry5wcm90b3R5cGUuQ2I7Ry5wcm90b3R5cGUuZ2V0Vmlldz1HLnByb3RvdHlwZS5hYTtHLnByb3RvdHlwZS5nZXRWaWV3cG9ydD1HLnByb3RvdHlwZS5rZztHLnByb3RvdHlwZS5yZW5kZXJTeW5jPUcucHJvdG90eXBlLmRoO0cucHJvdG90eXBlLnJlbmRlcj1HLnByb3RvdHlwZS5yZW5kZXI7XG5HLnByb3RvdHlwZS5yZW1vdmVDb250cm9sPUcucHJvdG90eXBlLlhnO0cucHJvdG90eXBlLnJlbW92ZUludGVyYWN0aW9uPUcucHJvdG90eXBlLlpnO0cucHJvdG90eXBlLnJlbW92ZUxheWVyPUcucHJvdG90eXBlLiRnO0cucHJvdG90eXBlLnJlbW92ZU92ZXJsYXk9Ry5wcm90b3R5cGUuYWg7Ry5wcm90b3R5cGUuc2V0TGF5ZXJHcm91cD1HLnByb3RvdHlwZS56ZjtHLnByb3RvdHlwZS5zZXRTaXplPUcucHJvdG90eXBlLmJlO0cucHJvdG90eXBlLnNldFRhcmdldD1HLnByb3RvdHlwZS5BZDtHLnByb3RvdHlwZS5zZXRWaWV3PUcucHJvdG90eXBlLmpoO0cucHJvdG90eXBlLnVwZGF0ZVNpemU9Ry5wcm90b3R5cGUuT2M7dChcIm9sLnByb2ouTUVURVJTX1BFUl9VTklUXCIsdWIpO3QoXCJvbC5wcm9qLnNldFByb2o0XCIsZnVuY3Rpb24oYSl7dmI9YX0pO3QoXCJvbC5wcm9qLmdldFBvaW50UmVzb2x1dGlvblwiLE5iKTt0KFwib2wucHJvai5hZGRFcXVpdmFsZW50UHJvamVjdGlvbnNcIixRYik7XG50KFwib2wucHJvai5hZGRQcm9qZWN0aW9uXCIsUmIpO3QoXCJvbC5wcm9qLmFkZENvb3JkaW5hdGVUcmFuc2Zvcm1zXCIsVmIpO3QoXCJvbC5wcm9qLmZyb21Mb25MYXRcIixmdW5jdGlvbihhLGIpe3JldHVybiBhYyhhLFwiRVBTRzo0MzI2XCIsdm9pZCAwIT09Yj9iOlwiRVBTRzozODU3XCIpfSk7dChcIm9sLnByb2oudG9Mb25MYXRcIixmdW5jdGlvbihhLGIpe2E9YWMoYSx2b2lkIDAhPT1iP2I6XCJFUFNHOjM4NTdcIixcIkVQU0c6NDMyNlwiKTtiPWFbMF07aWYoLTE4MD5ifHwxODA8YilhWzBdPXdhKGIrMTgwLDM2MCktMTgwO3JldHVybiBhfSk7dChcIm9sLnByb2ouZ2V0XCIsT2IpO3QoXCJvbC5wcm9qLmVxdWl2YWxlbnRcIixYYik7dChcIm9sLnByb2ouZ2V0VHJhbnNmb3JtXCIsWWIpO3QoXCJvbC5wcm9qLnRyYW5zZm9ybVwiLGFjKTt0KFwib2wucHJvai50cmFuc2Zvcm1FeHRlbnRcIixiYyk7XG50KFwib2wucmVuZGVyLnRvQ29udGV4dFwiLGZ1bmN0aW9uKGEsYil7dmFyIGM9YS5jYW52YXMsZD1iP2I6e307Yj1kLnBpeGVsUmF0aW98fG5kO2lmKGQ9ZC5zaXplKWMud2lkdGg9ZFswXSpiLGMuaGVpZ2h0PWRbMV0qYixjLnN0eWxlLndpZHRoPWRbMF0rXCJweFwiLGMuc3R5bGUuaGVpZ2h0PWRbMV0rXCJweFwiO2M9WzAsMCxjLndpZHRoLGMuaGVpZ2h0XTtkPWNmKFdlKCksYixiKTtyZXR1cm4gbmV3IEJpKGEsYixjLGQsMCl9KTt0KFwib2wuc2l6ZS50b1NpemVcIixCYSk7dChcIm9sLlNwaGVyZVwiLG9iKTtvYi5wcm90b3R5cGUuZ2VvZGVzaWNBcmVhPW9iLnByb3RvdHlwZS5hO29iLnByb3RvdHlwZS5oYXZlcnNpbmVEaXN0YW5jZT1vYi5wcm90b3R5cGUuYjt0KFwib2wuU3BoZXJlLmdldExlbmd0aFwiLHJiKTt0KFwib2wuU3BoZXJlLmdldEFyZWFcIix0Yik7dChcIm9sLnN0eWxlLmljb25JbWFnZUNhY2hlXCIsZWopO2NsLnByb3RvdHlwZS5nZXRUaWxlQ29vcmQ9Y2wucHJvdG90eXBlLmk7XG5jbC5wcm90b3R5cGUubG9hZD1jbC5wcm90b3R5cGUubG9hZDt0KFwib2wudGlsZWdyaWQuY3JlYXRlWFlaXCIsQmMpO0tuLnByb3RvdHlwZS5nZXRFeHRlbnQ9S24ucHJvdG90eXBlLkc7S24ucHJvdG90eXBlLmdldEZvcm1hdD1Lbi5wcm90b3R5cGUucW47S24ucHJvdG90eXBlLmdldEZlYXR1cmVzPUtuLnByb3RvdHlwZS5wbjtLbi5wcm90b3R5cGUuZ2V0UHJvamVjdGlvbj1Lbi5wcm90b3R5cGUucm47S24ucHJvdG90eXBlLnNldEV4dGVudD1Lbi5wcm90b3R5cGUucmk7S24ucHJvdG90eXBlLnNldEZlYXR1cmVzPUtuLnByb3RvdHlwZS5JajtLbi5wcm90b3R5cGUuc2V0UHJvamVjdGlvbj1Lbi5wcm90b3R5cGUudmc7S24ucHJvdG90eXBlLnNldExvYWRlcj1Lbi5wcm90b3R5cGUudWc7dChcIm9sLlZpZXdcIixGKTtGLnByb3RvdHlwZS5hbmltYXRlPUYucHJvdG90eXBlLmFuaW1hdGU7Ri5wcm90b3R5cGUuZ2V0QW5pbWF0aW5nPUYucHJvdG90eXBlLkFjO1xuRi5wcm90b3R5cGUuZ2V0SW50ZXJhY3Rpbmc9Ri5wcm90b3R5cGUuVmg7Ri5wcm90b3R5cGUuY2FuY2VsQW5pbWF0aW9ucz1GLnByb3RvdHlwZS5yZDtGLnByb3RvdHlwZS5jb25zdHJhaW5DZW50ZXI9Ri5wcm90b3R5cGUuU2M7Ri5wcm90b3R5cGUuY29uc3RyYWluUmVzb2x1dGlvbj1GLnByb3RvdHlwZS5jb25zdHJhaW5SZXNvbHV0aW9uO0YucHJvdG90eXBlLmNvbnN0cmFpblJvdGF0aW9uPUYucHJvdG90eXBlLmNvbnN0cmFpblJvdGF0aW9uO0YucHJvdG90eXBlLmdldENlbnRlcj1GLnByb3RvdHlwZS54YTtGLnByb3RvdHlwZS5jYWxjdWxhdGVFeHRlbnQ9Ri5wcm90b3R5cGUucWQ7Ri5wcm90b3R5cGUuZ2V0TWF4UmVzb2x1dGlvbj1GLnByb3RvdHlwZS5zbjtGLnByb3RvdHlwZS5nZXRNaW5SZXNvbHV0aW9uPUYucHJvdG90eXBlLnZuO0YucHJvdG90eXBlLmdldE1heFpvb209Ri5wcm90b3R5cGUudG47Ri5wcm90b3R5cGUuc2V0TWF4Wm9vbT1GLnByb3RvdHlwZS5DcTtcbkYucHJvdG90eXBlLmdldE1pblpvb209Ri5wcm90b3R5cGUud247Ri5wcm90b3R5cGUuc2V0TWluWm9vbT1GLnByb3RvdHlwZS5EcTtGLnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uPUYucHJvdG90eXBlLnhuO0YucHJvdG90eXBlLmdldFJlc29sdXRpb249Ri5wcm90b3R5cGUuUGE7Ri5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbnM9Ri5wcm90b3R5cGUueW47Ri5wcm90b3R5cGUuZ2V0UmVzb2x1dGlvbkZvckV4dGVudD1GLnByb3RvdHlwZS5KZTtGLnByb3RvdHlwZS5nZXRSb3RhdGlvbj1GLnByb3RvdHlwZS5TYTtGLnByb3RvdHlwZS5nZXRab29tPUYucHJvdG90eXBlLmxnO0YucHJvdG90eXBlLmdldFpvb21Gb3JSZXNvbHV0aW9uPUYucHJvdG90eXBlLk1lO0YucHJvdG90eXBlLmdldFJlc29sdXRpb25Gb3Jab29tPUYucHJvdG90eXBlLiRoO0YucHJvdG90eXBlLmZpdD1GLnByb3RvdHlwZS5VZjtGLnByb3RvdHlwZS5jZW50ZXJPbj1GLnByb3RvdHlwZS5OaztcbkYucHJvdG90eXBlLnJvdGF0ZT1GLnByb3RvdHlwZS5yb3RhdGU7Ri5wcm90b3R5cGUuc2V0Q2VudGVyPUYucHJvdG90eXBlLnViO0YucHJvdG90eXBlLnNldFJlc29sdXRpb249Ri5wcm90b3R5cGUuZ2Q7Ri5wcm90b3R5cGUuc2V0Um90YXRpb249Ri5wcm90b3R5cGUuY2U7Ri5wcm90b3R5cGUuc2V0Wm9vbT1GLnByb3RvdHlwZS5Uajt0KFwib2wueG1sLmdldEFsbFRleHRDb250ZW50XCIsb28pO3QoXCJvbC54bWwucGFyc2VcIixzbyk7SGwucHJvdG90eXBlLmdldEdMPUhsLnByb3RvdHlwZS55cDtIbC5wcm90b3R5cGUudXNlUHJvZ3JhbT1IbC5wcm90b3R5cGUuY2Q7dChcIm9sLnRpbGVncmlkLlRpbGVHcmlkXCIscWMpO3FjLnByb3RvdHlwZS5mb3JFYWNoVGlsZUNvb3JkPXFjLnByb3RvdHlwZS5WZjtxYy5wcm90b3R5cGUuZ2V0TWF4Wm9vbT1xYy5wcm90b3R5cGUubWo7cWMucHJvdG90eXBlLmdldE1pblpvb209cWMucHJvdG90eXBlLm5qO3FjLnByb3RvdHlwZS5nZXRPcmlnaW49cWMucHJvdG90eXBlLkljO1xucWMucHJvdG90eXBlLmdldFJlc29sdXRpb249cWMucHJvdG90eXBlLlRhO3FjLnByb3RvdHlwZS5nZXRSZXNvbHV0aW9ucz1xYy5wcm90b3R5cGUub2o7cWMucHJvdG90eXBlLmdldFRpbGVDb29yZEV4dGVudD1xYy5wcm90b3R5cGUuTWE7cWMucHJvdG90eXBlLmdldFRpbGVDb29yZEZvckNvb3JkQW5kUmVzb2x1dGlvbj1xYy5wcm90b3R5cGUuTGU7cWMucHJvdG90eXBlLmdldFRpbGVDb29yZEZvckNvb3JkQW5kWj1xYy5wcm90b3R5cGUuamc7cWMucHJvdG90eXBlLmdldFRpbGVTaXplPXFjLnByb3RvdHlwZS5aYTtxYy5wcm90b3R5cGUuZ2V0WkZvclJlc29sdXRpb249cWMucHJvdG90eXBlLkRjO3QoXCJvbC50aWxlZ3JpZC5XTVRTXCIsc3opO3N6LnByb3RvdHlwZS5nZXRNYXRyaXhJZHM9c3oucHJvdG90eXBlLnY7dChcIm9sLnRpbGVncmlkLldNVFMuY3JlYXRlRnJvbUNhcGFiaWxpdGllc01hdHJpeFNldFwiLHR6KTt0KFwib2wuc3R5bGUuQXRsYXNNYW5hZ2VyXCIsVG0pO1xudChcIm9sLnN0eWxlLkNpcmNsZVwiLHlrKTt5ay5wcm90b3R5cGUuc2V0UmFkaXVzPXlrLnByb3RvdHlwZS5mZDt0KFwib2wuc3R5bGUuRmlsbFwiLHprKTt6ay5wcm90b3R5cGUuY2xvbmU9emsucHJvdG90eXBlLmNsb25lO3prLnByb3RvdHlwZS5nZXRDb2xvcj16ay5wcm90b3R5cGUuZzt6ay5wcm90b3R5cGUuc2V0Q29sb3I9emsucHJvdG90eXBlLmM7dChcIm9sLnN0eWxlLkljb25cIixkcik7ZHIucHJvdG90eXBlLmNsb25lPWRyLnByb3RvdHlwZS5jbG9uZTtkci5wcm90b3R5cGUuZ2V0QW5jaG9yPWRyLnByb3RvdHlwZS5WYztkci5wcm90b3R5cGUuZ2V0Q29sb3I9ZHIucHJvdG90eXBlLm5wO2RyLnByb3RvdHlwZS5nZXRJbWFnZT1kci5wcm90b3R5cGUuWTtkci5wcm90b3R5cGUuZ2V0T3JpZ2luPWRyLnByb3RvdHlwZS5iZDtkci5wcm90b3R5cGUuZ2V0U3JjPWRyLnByb3RvdHlwZS5vcDtkci5wcm90b3R5cGUuZ2V0U2l6ZT1kci5wcm90b3R5cGUub2M7XG5kci5wcm90b3R5cGUubG9hZD1kci5wcm90b3R5cGUubG9hZDtjai5wcm90b3R5cGUuc2V0U2l6ZT1jai5wcm90b3R5cGUuYzt0KFwib2wuc3R5bGUuSW1hZ2VcIix2ayk7dmsucHJvdG90eXBlLmdldE9wYWNpdHk9dmsucHJvdG90eXBlLmhmO3ZrLnByb3RvdHlwZS5nZXRSb3RhdGVXaXRoVmlldz12ay5wcm90b3R5cGUuamY7dmsucHJvdG90eXBlLmdldFJvdGF0aW9uPXZrLnByb3RvdHlwZS5rZjt2ay5wcm90b3R5cGUuZ2V0U2NhbGU9dmsucHJvdG90eXBlLmxmO3ZrLnByb3RvdHlwZS5nZXRTbmFwVG9QaXhlbD12ay5wcm90b3R5cGUuS2U7dmsucHJvdG90eXBlLnNldE9wYWNpdHk9dmsucHJvdG90eXBlLkVkO3ZrLnByb3RvdHlwZS5zZXRSb3RhdGlvbj12ay5wcm90b3R5cGUubWY7dmsucHJvdG90eXBlLnNldFNjYWxlPXZrLnByb3RvdHlwZS5GZDt0KFwib2wuc3R5bGUuUmVndWxhclNoYXBlXCIsd2spO3drLnByb3RvdHlwZS5jbG9uZT13ay5wcm90b3R5cGUuY2xvbmU7XG53ay5wcm90b3R5cGUuZ2V0QW5jaG9yPXdrLnByb3RvdHlwZS5WYzt3ay5wcm90b3R5cGUuZ2V0QW5nbGU9d2sucHJvdG90eXBlLmlqO3drLnByb3RvdHlwZS5nZXRGaWxsPXdrLnByb3RvdHlwZS5GYTt3ay5wcm90b3R5cGUuZ2V0SW1hZ2U9d2sucHJvdG90eXBlLlk7d2sucHJvdG90eXBlLmdldE9yaWdpbj13ay5wcm90b3R5cGUuYmQ7d2sucHJvdG90eXBlLmdldFBvaW50cz13ay5wcm90b3R5cGUuamo7d2sucHJvdG90eXBlLmdldFJhZGl1cz13ay5wcm90b3R5cGUua2o7d2sucHJvdG90eXBlLmdldFJhZGl1czI9d2sucHJvdG90eXBlLlpoO3drLnByb3RvdHlwZS5nZXRTaXplPXdrLnByb3RvdHlwZS5vYzt3ay5wcm90b3R5cGUuZ2V0U3Ryb2tlPXdrLnByb3RvdHlwZS5HYTt0KFwib2wuc3R5bGUuU3Ryb2tlXCIsQWspO0FrLnByb3RvdHlwZS5jbG9uZT1Bay5wcm90b3R5cGUuY2xvbmU7QWsucHJvdG90eXBlLmdldENvbG9yPUFrLnByb3RvdHlwZS5wcDtcbkFrLnByb3RvdHlwZS5nZXRMaW5lQ2FwPUFrLnByb3RvdHlwZS52bDtBay5wcm90b3R5cGUuZ2V0TGluZURhc2g9QWsucHJvdG90eXBlLnFwO0FrLnByb3RvdHlwZS5nZXRMaW5lRGFzaE9mZnNldD1Bay5wcm90b3R5cGUud2w7QWsucHJvdG90eXBlLmdldExpbmVKb2luPUFrLnByb3RvdHlwZS54bDtBay5wcm90b3R5cGUuZ2V0TWl0ZXJMaW1pdD1Bay5wcm90b3R5cGUuRGw7QWsucHJvdG90eXBlLmdldFdpZHRoPUFrLnByb3RvdHlwZS5ycDtBay5wcm90b3R5cGUuc2V0Q29sb3I9QWsucHJvdG90eXBlLnNwO0FrLnByb3RvdHlwZS5zZXRMaW5lQ2FwPUFrLnByb3RvdHlwZS55cTtBay5wcm90b3R5cGUuc2V0TGluZURhc2g9QWsucHJvdG90eXBlLnNldExpbmVEYXNoO0FrLnByb3RvdHlwZS5zZXRMaW5lRGFzaE9mZnNldD1Bay5wcm90b3R5cGUuenE7QWsucHJvdG90eXBlLnNldExpbmVKb2luPUFrLnByb3RvdHlwZS5BcTtBay5wcm90b3R5cGUuc2V0TWl0ZXJMaW1pdD1Bay5wcm90b3R5cGUuRXE7XG5Bay5wcm90b3R5cGUuc2V0V2lkdGg9QWsucHJvdG90eXBlLktxO3QoXCJvbC5zdHlsZS5TdHlsZVwiLEJrKTtCay5wcm90b3R5cGUuY2xvbmU9QmsucHJvdG90eXBlLmNsb25lO0JrLnByb3RvdHlwZS5nZXRSZW5kZXJlcj1Cay5wcm90b3R5cGUuSWU7QmsucHJvdG90eXBlLnNldFJlbmRlcmVyPUJrLnByb3RvdHlwZS5JcTtCay5wcm90b3R5cGUuZ2V0R2VvbWV0cnk9QmsucHJvdG90eXBlLlU7QmsucHJvdG90eXBlLmdldEdlb21ldHJ5RnVuY3Rpb249QmsucHJvdG90eXBlLnJsO0JrLnByb3RvdHlwZS5nZXRGaWxsPUJrLnByb3RvdHlwZS5GYTtCay5wcm90b3R5cGUuc2V0RmlsbD1Cay5wcm90b3R5cGUueWY7QmsucHJvdG90eXBlLmdldEltYWdlPUJrLnByb3RvdHlwZS5ZO0JrLnByb3RvdHlwZS5zZXRJbWFnZT1Cay5wcm90b3R5cGUuaWg7QmsucHJvdG90eXBlLmdldFN0cm9rZT1Cay5wcm90b3R5cGUuR2E7QmsucHJvdG90eXBlLnNldFN0cm9rZT1Cay5wcm90b3R5cGUuQWY7XG5Cay5wcm90b3R5cGUuZ2V0VGV4dD1Cay5wcm90b3R5cGUuS2E7QmsucHJvdG90eXBlLnNldFRleHQ9QmsucHJvdG90eXBlLkhkO0JrLnByb3RvdHlwZS5nZXRaSW5kZXg9QmsucHJvdG90eXBlLkJhO0JrLnByb3RvdHlwZS5zZXRHZW9tZXRyeT1Cay5wcm90b3R5cGUuVmE7QmsucHJvdG90eXBlLnNldFpJbmRleD1Cay5wcm90b3R5cGUuJGI7dChcIm9sLnN0eWxlLlRleHRcIixKKTtKLnByb3RvdHlwZS5jbG9uZT1KLnByb3RvdHlwZS5jbG9uZTtKLnByb3RvdHlwZS5nZXRPdmVyZmxvdz1KLnByb3RvdHlwZS5HbDtKLnByb3RvdHlwZS5nZXRGb250PUoucHJvdG90eXBlLnBsO0oucHJvdG90eXBlLmdldE1heEFuZ2xlPUoucHJvdG90eXBlLkJsO0oucHJvdG90eXBlLmdldFBsYWNlbWVudD1KLnByb3RvdHlwZS5LbDtKLnByb3RvdHlwZS5nZXRPZmZzZXRYPUoucHJvdG90eXBlLkVsO0oucHJvdG90eXBlLmdldE9mZnNldFk9Si5wcm90b3R5cGUuRmw7Si5wcm90b3R5cGUuZ2V0RmlsbD1KLnByb3RvdHlwZS5GYTtcbkoucHJvdG90eXBlLmdldFJvdGF0ZVdpdGhWaWV3PUoucHJvdG90eXBlLnRwO0oucHJvdG90eXBlLmdldFJvdGF0aW9uPUoucHJvdG90eXBlLnVwO0oucHJvdG90eXBlLmdldFNjYWxlPUoucHJvdG90eXBlLnZwO0oucHJvdG90eXBlLmdldFN0cm9rZT1KLnByb3RvdHlwZS5HYTtKLnByb3RvdHlwZS5nZXRUZXh0PUoucHJvdG90eXBlLkthO0oucHJvdG90eXBlLmdldFRleHRBbGlnbj1KLnByb3RvdHlwZS5RbDtKLnByb3RvdHlwZS5nZXRUZXh0QmFzZWxpbmU9Si5wcm90b3R5cGUuUmw7Si5wcm90b3R5cGUuZ2V0QmFja2dyb3VuZEZpbGw9Si5wcm90b3R5cGUuamw7Si5wcm90b3R5cGUuZ2V0QmFja2dyb3VuZFN0cm9rZT1KLnByb3RvdHlwZS5rbDtKLnByb3RvdHlwZS5nZXRQYWRkaW5nPUoucHJvdG90eXBlLklsO0oucHJvdG90eXBlLnNldE92ZXJmbG93PUoucHJvdG90eXBlLkZxO0oucHJvdG90eXBlLnNldEZvbnQ9Si5wcm90b3R5cGUuSmo7XG5KLnByb3RvdHlwZS5zZXRNYXhBbmdsZT1KLnByb3RvdHlwZS5CcTtKLnByb3RvdHlwZS5zZXRPZmZzZXRYPUoucHJvdG90eXBlLk5qO0oucHJvdG90eXBlLnNldE9mZnNldFk9Si5wcm90b3R5cGUuT2o7Si5wcm90b3R5cGUuc2V0UGxhY2VtZW50PUoucHJvdG90eXBlLkhxO0oucHJvdG90eXBlLnNldEZpbGw9Si5wcm90b3R5cGUueWY7Si5wcm90b3R5cGUuc2V0Um90YXRpb249Si5wcm90b3R5cGUud3A7Si5wcm90b3R5cGUuc2V0U2NhbGU9Si5wcm90b3R5cGUubGo7Si5wcm90b3R5cGUuc2V0U3Ryb2tlPUoucHJvdG90eXBlLkFmO0oucHJvdG90eXBlLnNldFRleHQ9Si5wcm90b3R5cGUuSGQ7Si5wcm90b3R5cGUuc2V0VGV4dEFsaWduPUoucHJvdG90eXBlLlFqO0oucHJvdG90eXBlLnNldFRleHRCYXNlbGluZT1KLnByb3RvdHlwZS5KcTtKLnByb3RvdHlwZS5zZXRCYWNrZ3JvdW5kRmlsbD1KLnByb3RvdHlwZS5zcTtKLnByb3RvdHlwZS5zZXRCYWNrZ3JvdW5kU3Ryb2tlPUoucHJvdG90eXBlLnRxO1xuSi5wcm90b3R5cGUuc2V0UGFkZGluZz1KLnByb3RvdHlwZS5HcTt0KFwib2wuc291cmNlLkJpbmdNYXBzXCIscnkpO3QoXCJvbC5zb3VyY2UuQmluZ01hcHMuVE9TX0FUVFJJQlVUSU9OXCIsJzxhIGNsYXNzPVwib2wtYXR0cmlidXRpb24tYmluZy10b3NcIiBocmVmPVwiaHR0cHM6Ly93d3cubWljcm9zb2Z0LmNvbS9tYXBzL3Byb2R1Y3QvdGVybXMuaHRtbFwiPlRlcm1zIG9mIFVzZTwvYT4nKTtyeS5wcm90b3R5cGUuZ2V0QXBpS2V5PXJ5LnByb3RvdHlwZS5jYTtyeS5wcm90b3R5cGUuZ2V0SW1hZ2VyeVNldD1yeS5wcm90b3R5cGUudWE7dChcIm9sLnNvdXJjZS5DYXJ0b0RCXCIsdHkpO3R5LnByb3RvdHlwZS5nZXRDb25maWc9dHkucHJvdG90eXBlLm5sO3R5LnByb3RvdHlwZS51cGRhdGVDb25maWc9dHkucHJvdG90eXBlLlNxO3R5LnByb3RvdHlwZS5zZXRDb25maWc9dHkucHJvdG90eXBlLnVxO3QoXCJvbC5zb3VyY2UuQ2x1c3RlclwiLFgpO1gucHJvdG90eXBlLmdldERpc3RhbmNlPVgucHJvdG90eXBlLkVvO1xuWC5wcm90b3R5cGUuZ2V0U291cmNlPVgucHJvdG90eXBlLkZvO1gucHJvdG90eXBlLnNldERpc3RhbmNlPVgucHJvdG90eXBlLnZxO3QoXCJvbC5zb3VyY2UuSW1hZ2VcIix6eSk7QnkucHJvdG90eXBlLmltYWdlPUJ5LnByb3RvdHlwZS5pbWFnZTt0KFwib2wuc291cmNlLkltYWdlQXJjR0lTUmVzdFwiLEh5KTtIeS5wcm90b3R5cGUuZ2V0UGFyYW1zPUh5LnByb3RvdHlwZS5IbztIeS5wcm90b3R5cGUuZ2V0SW1hZ2VMb2FkRnVuY3Rpb249SHkucHJvdG90eXBlLkdvO0h5LnByb3RvdHlwZS5nZXRVcmw9SHkucHJvdG90eXBlLklvO0h5LnByb3RvdHlwZS5zZXRJbWFnZUxvYWRGdW5jdGlvbj1IeS5wcm90b3R5cGUuSm87SHkucHJvdG90eXBlLnNldFVybD1IeS5wcm90b3R5cGUuS287SHkucHJvdG90eXBlLnVwZGF0ZVBhcmFtcz1IeS5wcm90b3R5cGUuTG87dChcIm9sLnNvdXJjZS5JbWFnZUNhbnZhc1wiLEl5KTt0KFwib2wuc291cmNlLkltYWdlTWFwR3VpZGVcIixKeSk7XG5KeS5wcm90b3R5cGUuZ2V0UGFyYW1zPUp5LnByb3RvdHlwZS5ObztKeS5wcm90b3R5cGUuZ2V0SW1hZ2VMb2FkRnVuY3Rpb249SnkucHJvdG90eXBlLk1vO0p5LnByb3RvdHlwZS51cGRhdGVQYXJhbXM9SnkucHJvdG90eXBlLlBvO0p5LnByb3RvdHlwZS5zZXRJbWFnZUxvYWRGdW5jdGlvbj1KeS5wcm90b3R5cGUuT287dChcIm9sLnNvdXJjZS5JbWFnZVN0YXRpY1wiLEt5KTt0KFwib2wuc291cmNlLkltYWdlVmVjdG9yXCIsTHkpO0x5LnByb3RvdHlwZS5nZXRTb3VyY2U9THkucHJvdG90eXBlLlFvO0x5LnByb3RvdHlwZS5nZXRTdHlsZT1MeS5wcm90b3R5cGUuUm87THkucHJvdG90eXBlLmdldFN0eWxlRnVuY3Rpb249THkucHJvdG90eXBlLmliO0x5LnByb3RvdHlwZS5zZXRTdHlsZT1MeS5wcm90b3R5cGUuYWo7dChcIm9sLnNvdXJjZS5JbWFnZVdNU1wiLE55KTtOeS5wcm90b3R5cGUuZ2V0R2V0RmVhdHVyZUluZm9Vcmw9TnkucHJvdG90eXBlLlVvO1xuTnkucHJvdG90eXBlLmdldFBhcmFtcz1OeS5wcm90b3R5cGUuV287TnkucHJvdG90eXBlLmdldEltYWdlTG9hZEZ1bmN0aW9uPU55LnByb3RvdHlwZS5WbztOeS5wcm90b3R5cGUuZ2V0VXJsPU55LnByb3RvdHlwZS5YbztOeS5wcm90b3R5cGUuc2V0SW1hZ2VMb2FkRnVuY3Rpb249TnkucHJvdG90eXBlLllvO055LnByb3RvdHlwZS5zZXRVcmw9TnkucHJvdG90eXBlLlpvO055LnByb3RvdHlwZS51cGRhdGVQYXJhbXM9TnkucHJvdG90eXBlLiRvO3QoXCJvbC5zb3VyY2UuT1NNXCIsUnkpO3QoXCJvbC5zb3VyY2UuT1NNLkFUVFJJQlVUSU9OXCIsJyZjb3B5OyA8YSBocmVmPVwiaHR0cHM6Ly93d3cub3BlbnN0cmVldG1hcC5vcmcvY29weXJpZ2h0XCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzLicpO3QoXCJvbC5zb3VyY2UuUmFzdGVyXCIsU3kpO1N5LnByb3RvdHlwZS5zZXRPcGVyYXRpb249U3kucHJvdG90eXBlLnM7V3kucHJvdG90eXBlLmV4dGVudD1XeS5wcm90b3R5cGUuZXh0ZW50O1xuV3kucHJvdG90eXBlLnJlc29sdXRpb249V3kucHJvdG90eXBlLnJlc29sdXRpb247V3kucHJvdG90eXBlLmRhdGE9V3kucHJvdG90eXBlLmRhdGE7dChcIm9sLnNvdXJjZS5Tb3VyY2VcIix1dyk7dXcucHJvdG90eXBlLmdldEF0dHJpYnV0aW9ucz11dy5wcm90b3R5cGUuemE7dXcucHJvdG90eXBlLmdldExvZ289dXcucHJvdG90eXBlLkFhO3V3LnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uPXV3LnByb3RvdHlwZS5EYTt1dy5wcm90b3R5cGUuZ2V0U3RhdGU9dXcucHJvdG90eXBlLmdldFN0YXRlO3V3LnByb3RvdHlwZS5yZWZyZXNoPXV3LnByb3RvdHlwZS5zYTt1dy5wcm90b3R5cGUuc2V0QXR0cmlidXRpb25zPXV3LnByb3RvdHlwZS52YTt0KFwib2wuc291cmNlLlN0YW1lblwiLFp5KTt0KFwib2wuc291cmNlLlRpbGVcIixpeSk7aXkucHJvdG90eXBlLmdldFRpbGVHcmlkPWl5LnByb3RvdHlwZS5qYjtseS5wcm90b3R5cGUudGlsZT1seS5wcm90b3R5cGUudGlsZTtcbnQoXCJvbC5zb3VyY2UuVGlsZUFyY0dJU1Jlc3RcIixjeik7Y3oucHJvdG90eXBlLmdldFBhcmFtcz1jei5wcm90b3R5cGUubztjei5wcm90b3R5cGUudXBkYXRlUGFyYW1zPWN6LnByb3RvdHlwZS5CO3QoXCJvbC5zb3VyY2UuVGlsZURlYnVnXCIsZXopO3QoXCJvbC5zb3VyY2UuVGlsZUltYWdlXCIsbnkpO255LnByb3RvdHlwZS5zZXRSZW5kZXJSZXByb2plY3Rpb25FZGdlcz1ueS5wcm90b3R5cGUuUWI7bnkucHJvdG90eXBlLnNldFRpbGVHcmlkRm9yUHJvamVjdGlvbj1ueS5wcm90b3R5cGUuUmI7dChcIm9sLnNvdXJjZS5UaWxlSlNPTlwiLGd6KTtnei5wcm90b3R5cGUuZ2V0VGlsZUpTT049Z3oucHJvdG90eXBlLlNsO3QoXCJvbC5zb3VyY2UuVGlsZVVURkdyaWRcIixoeik7aHoucHJvdG90eXBlLmdldFRlbXBsYXRlPWh6LnByb3RvdHlwZS5QbDtoei5wcm90b3R5cGUuZm9yRGF0YUF0Q29vcmRpbmF0ZUFuZFJlc29sdXRpb249aHoucHJvdG90eXBlLmFsO1xudChcIm9sLnNvdXJjZS5UaWxlV01TXCIsbHopO2x6LnByb3RvdHlwZS5nZXRHZXRGZWF0dXJlSW5mb1VybD1sei5wcm90b3R5cGUuaHA7bHoucHJvdG90eXBlLmdldFBhcmFtcz1sei5wcm90b3R5cGUuaXA7bHoucHJvdG90eXBlLnVwZGF0ZVBhcmFtcz1sei5wcm90b3R5cGUuanA7bXkucHJvdG90eXBlLmdldFRpbGVMb2FkRnVuY3Rpb249bXkucHJvdG90eXBlLnliO215LnByb3RvdHlwZS5nZXRUaWxlVXJsRnVuY3Rpb249bXkucHJvdG90eXBlLnpiO215LnByb3RvdHlwZS5nZXRVcmxzPW15LnByb3RvdHlwZS5BYjtteS5wcm90b3R5cGUuc2V0VGlsZUxvYWRGdW5jdGlvbj1teS5wcm90b3R5cGUuRmI7bXkucHJvdG90eXBlLnNldFRpbGVVcmxGdW5jdGlvbj1teS5wcm90b3R5cGUuaGI7bXkucHJvdG90eXBlLnNldFVybD1teS5wcm90b3R5cGUucmI7bXkucHJvdG90eXBlLnNldFVybHM9bXkucHJvdG90eXBlLnZiO3QoXCJvbC5zb3VyY2UuVmVjdG9yXCIsVSk7XG5VLnByb3RvdHlwZS5hZGRGZWF0dXJlPVUucHJvdG90eXBlLkdiO1UucHJvdG90eXBlLmFkZEZlYXR1cmVzPVUucHJvdG90eXBlLlFjO1UucHJvdG90eXBlLmNsZWFyPVUucHJvdG90eXBlLmNsZWFyO1UucHJvdG90eXBlLmZvckVhY2hGZWF0dXJlPVUucHJvdG90eXBlLkxoO1UucHJvdG90eXBlLmZvckVhY2hGZWF0dXJlSW5FeHRlbnQ9VS5wcm90b3R5cGUuZWM7VS5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmVJbnRlcnNlY3RpbmdFeHRlbnQ9VS5wcm90b3R5cGUuTWg7VS5wcm90b3R5cGUuZ2V0RmVhdHVyZXNDb2xsZWN0aW9uPVUucHJvdG90eXBlLlRoO1UucHJvdG90eXBlLmdldEZlYXR1cmVzPVUucHJvdG90eXBlLmVlO1UucHJvdG90eXBlLmdldEZlYXR1cmVzQXRDb29yZGluYXRlPVUucHJvdG90eXBlLlNoO1UucHJvdG90eXBlLmdldEZlYXR1cmVzSW5FeHRlbnQ9VS5wcm90b3R5cGUuWWY7VS5wcm90b3R5cGUuZ2V0Q2xvc2VzdEZlYXR1cmVUb0Nvb3JkaW5hdGU9VS5wcm90b3R5cGUuT2g7XG5VLnByb3RvdHlwZS5nZXRFeHRlbnQ9VS5wcm90b3R5cGUuRztVLnByb3RvdHlwZS5nZXRGZWF0dXJlQnlJZD1VLnByb3RvdHlwZS5SaDtVLnByb3RvdHlwZS5nZXRGb3JtYXQ9VS5wcm90b3R5cGUuZWo7VS5wcm90b3R5cGUuZ2V0VXJsPVUucHJvdG90eXBlLmZqO1UucHJvdG90eXBlLnJlbW92ZUxvYWRlZEV4dGVudD1VLnByb3RvdHlwZS5DajtVLnByb3RvdHlwZS5yZW1vdmVGZWF0dXJlPVUucHJvdG90eXBlLkxiO1UucHJvdG90eXBlLnNldExvYWRlcj1VLnByb3RvdHlwZS5oajtCdy5wcm90b3R5cGUuZmVhdHVyZT1Cdy5wcm90b3R5cGUuZmVhdHVyZTt0KFwib2wuc291cmNlLlZlY3RvclRpbGVcIixyeik7cnoucHJvdG90eXBlLmNsZWFyPXJ6LnByb3RvdHlwZS5jbGVhcjt0KFwib2wuc291cmNlLldNVFNcIixZKTtZLnByb3RvdHlwZS5nZXREaW1lbnNpb25zPVkucHJvdG90eXBlLm9sO1kucHJvdG90eXBlLmdldEZvcm1hdD1ZLnByb3RvdHlwZS5rcDtcblkucHJvdG90eXBlLmdldExheWVyPVkucHJvdG90eXBlLmxwO1kucHJvdG90eXBlLmdldE1hdHJpeFNldD1ZLnByb3RvdHlwZS5BbDtZLnByb3RvdHlwZS5nZXRSZXF1ZXN0RW5jb2Rpbmc9WS5wcm90b3R5cGUuTmw7WS5wcm90b3R5cGUuZ2V0U3R5bGU9WS5wcm90b3R5cGUubXA7WS5wcm90b3R5cGUuZ2V0VmVyc2lvbj1ZLnByb3RvdHlwZS5VbDtZLnByb3RvdHlwZS51cGRhdGVEaW1lbnNpb25zPVkucHJvdG90eXBlLlRxO1xudChcIm9sLnNvdXJjZS5XTVRTLm9wdGlvbnNGcm9tQ2FwYWJpbGl0aWVzXCIsZnVuY3Rpb24oYSxiKXt2YXIgYz1oYyhhLkNvbnRlbnRzLkxheWVyLGZ1bmN0aW9uKGEpe3JldHVybiBhLklkZW50aWZpZXI9PWIubGF5ZXJ9KTtpZihudWxsPT09YylyZXR1cm4gbnVsbDt2YXIgZD1hLkNvbnRlbnRzLlRpbGVNYXRyaXhTZXQ7dmFyIGU9MTxjLlRpbGVNYXRyaXhTZXRMaW5rLmxlbmd0aD9cInByb2plY3Rpb25cImluIGI/bWMoYy5UaWxlTWF0cml4U2V0TGluayxmdW5jdGlvbihhKXt2YXIgYz1oYyhkLGZ1bmN0aW9uKGIpe3JldHVybiBiLklkZW50aWZpZXI9PWEuVGlsZU1hdHJpeFNldH0pLlN1cHBvcnRlZENSUyxlPU9iKGMucmVwbGFjZSgvdXJuOm9nYzpkZWY6Y3JzOihcXHcrKTooLio6KT8oXFx3KykkLyxcIiQxOiQzXCIpKXx8T2IoYyksZj1PYihiLnByb2plY3Rpb24pO3JldHVybiBlJiZmP1hiKGUsZik6Yz09Yi5wcm9qZWN0aW9ufSk6bWMoYy5UaWxlTWF0cml4U2V0TGluayxmdW5jdGlvbihhKXtyZXR1cm4gYS5UaWxlTWF0cml4U2V0PT1cbmIubWF0cml4U2V0fSk6MDswPmUmJihlPTApO3ZhciBmPWMuVGlsZU1hdHJpeFNldExpbmtbZV0uVGlsZU1hdHJpeFNldDt2YXIgZz1jLlRpbGVNYXRyaXhTZXRMaW5rW2VdLlRpbGVNYXRyaXhTZXRMaW1pdHM7dmFyIGg9Yy5Gb3JtYXRbMF07XCJmb3JtYXRcImluIGImJihoPWIuZm9ybWF0KTtlPW1jKGMuU3R5bGUsZnVuY3Rpb24oYSl7cmV0dXJuXCJzdHlsZVwiaW4gYj9hLlRpdGxlPT1iLnN0eWxlOmEuaXNEZWZhdWx0fSk7MD5lJiYoZT0wKTtlPWMuU3R5bGVbZV0uSWRlbnRpZmllcjt2YXIgbD17fTtcIkRpbWVuc2lvblwiaW4gYyYmYy5EaW1lbnNpb24uZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hLklkZW50aWZpZXIsYz1hLkRlZmF1bHQ7dm9pZCAwPT09YyYmKGM9YS5WYWx1ZVswXSk7bFtiXT1jfSk7dmFyIG09aGMoYS5Db250ZW50cy5UaWxlTWF0cml4U2V0LGZ1bmN0aW9uKGEpe3JldHVybiBhLklkZW50aWZpZXI9PWZ9KSxuLHA9bS5TdXBwb3J0ZWRDUlM7cCYmKG49T2IocC5yZXBsYWNlKC91cm46b2djOmRlZjpjcnM6KFxcdyspOiguKjopPyhcXHcrKSQvLFxuXCIkMTokM1wiKSl8fE9iKHApKTtcInByb2plY3Rpb25cImluIGImJihwPU9iKGIucHJvamVjdGlvbiksIXB8fG4mJiFYYihwLG4pfHwobj1wKSk7cD1jLldHUzg0Qm91bmRpbmdCb3g7aWYodm9pZCAwIT09cCl7dmFyIHE9T2IoXCJFUFNHOjQzMjZcIikuRygpO3E9cFswXT09cVswXSYmcFsyXT09cVsyXTt2YXIgcj1iYyhwLFwiRVBTRzo0MzI2XCIsbik7KHA9bi5HKCkpJiYoTGEocCxyKXx8KHI9dm9pZCAwKSl9Zz10eihtLHIsZyk7dmFyIHU9W107bT1iLnJlcXVlc3RFbmNvZGluZzttPXZvaWQgMCE9PW0/bTpcIlwiO2lmKFwiT3BlcmF0aW9uc01ldGFkYXRhXCJpbiBhJiZcIkdldFRpbGVcImluIGEuT3BlcmF0aW9uc01ldGFkYXRhKWZvcihhPWEuT3BlcmF0aW9uc01ldGFkYXRhLkdldFRpbGUuRENQLkhUVFAuR2V0LHI9MCxwPWEubGVuZ3RoO3I8cDsrK3IpaWYoYVtyXS5Db25zdHJhaW50KXt2YXIgdj1oYyhhW3JdLkNvbnN0cmFpbnQsZnVuY3Rpb24oYSl7cmV0dXJuXCJHZXRFbmNvZGluZ1wiPT1hLm5hbWV9KS5BbGxvd2VkVmFsdWVzLlZhbHVlO1xuXCJcIj09PW0mJihtPXZbMF0pO2lmKFwiS1ZQXCI9PT1tKWVjKHYsXCJLVlBcIikmJnUucHVzaChhW3JdLmhyZWYpO2Vsc2UgYnJlYWt9ZWxzZSBhW3JdLmhyZWYmJihtPVwiS1ZQXCIsdS5wdXNoKGFbcl0uaHJlZikpOzA9PT11Lmxlbmd0aCYmKG09XCJSRVNUXCIsYy5SZXNvdXJjZVVSTC5mb3JFYWNoKGZ1bmN0aW9uKGEpe1widGlsZVwiPT09YS5yZXNvdXJjZVR5cGUmJihoPWEuZm9ybWF0LHUucHVzaChhLnRlbXBsYXRlKSl9KSk7cmV0dXJue3VybHM6dSxsYXllcjpiLmxheWVyLG1hdHJpeFNldDpmLGZvcm1hdDpoLHByb2plY3Rpb246bixyZXF1ZXN0RW5jb2Rpbmc6bSx0aWxlR3JpZDpnLHN0eWxlOmUsZGltZW5zaW9uczpsLHdyYXBYOnEsY3Jvc3NPcmlnaW46Yi5jcm9zc09yaWdpbn19KTt0KFwib2wuc291cmNlLlhZWlwiLHN5KTt0KFwib2wuc291cmNlLlpvb21pZnlcIix2eik7dChcIm9sLnJlbmRlcmVyLndlYmdsLkltYWdlTGF5ZXJcIixwbik7dChcIm9sLnJlbmRlcmVyLndlYmdsLk1hcFwiLHNuKTtcbnQoXCJvbC5yZW5kZXJlci53ZWJnbC5UaWxlTGF5ZXJcIix6bik7dChcIm9sLnJlbmRlcmVyLndlYmdsLlZlY3RvckxheWVyXCIsQW4pO3QoXCJvbC5yZW5kZXJlci5jYW52YXMuSW1hZ2VMYXllclwiLGJqKTt0KFwib2wucmVuZGVyZXIuY2FudmFzLk1hcFwiLGtqKTt0KFwib2wucmVuZGVyZXIuY2FudmFzLlRpbGVMYXllclwiLG1qKTt0KFwib2wucmVuZGVyZXIuY2FudmFzLlZlY3RvckxheWVyXCIsaGspO3QoXCJvbC5yZW5kZXJlci5jYW52YXMuVmVjdG9yVGlsZUxheWVyXCIsamspO2JpLnByb3RvdHlwZS52ZWN0b3JDb250ZXh0PWJpLnByb3RvdHlwZS52ZWN0b3JDb250ZXh0O2JpLnByb3RvdHlwZS5mcmFtZVN0YXRlPWJpLnByb3RvdHlwZS5mcmFtZVN0YXRlO2JpLnByb3RvdHlwZS5jb250ZXh0PWJpLnByb3RvdHlwZS5jb250ZXh0O2JpLnByb3RvdHlwZS5nbENvbnRleHQ9YmkucHJvdG90eXBlLmdsQ29udGV4dDtpdC5wcm90b3R5cGUuZ2V0PWl0LnByb3RvdHlwZS5nZXQ7XG5pdC5wcm90b3R5cGUuZ2V0RXh0ZW50PWl0LnByb3RvdHlwZS5HO2l0LnByb3RvdHlwZS5nZXRJZD1pdC5wcm90b3R5cGUuQW87aXQucHJvdG90eXBlLmdldEdlb21ldHJ5PWl0LnByb3RvdHlwZS5VO2l0LnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPWl0LnByb3RvdHlwZS5CbztpdC5wcm90b3R5cGUuZ2V0VHlwZT1pdC5wcm90b3R5cGUuUzt0KFwib2wucmVuZGVyLlZlY3RvckNvbnRleHRcIixBaSk7Z24ucHJvdG90eXBlLnNldFN0eWxlPWduLnByb3RvdHlwZS5EZDtnbi5wcm90b3R5cGUuZHJhd0dlb21ldHJ5PWduLnByb3RvdHlwZS5IYjtnbi5wcm90b3R5cGUuZHJhd0ZlYXR1cmU9Z24ucHJvdG90eXBlLkNlO0JpLnByb3RvdHlwZS5kcmF3Q2lyY2xlPUJpLnByb3RvdHlwZS5jYztCaS5wcm90b3R5cGUuc2V0U3R5bGU9QmkucHJvdG90eXBlLkRkO0JpLnByb3RvdHlwZS5kcmF3R2VvbWV0cnk9QmkucHJvdG90eXBlLkhiO0JpLnByb3RvdHlwZS5kcmF3RmVhdHVyZT1CaS5wcm90b3R5cGUuQ2U7XG50KFwib2wucHJvai5jb21tb24uYWRkXCIsY2MpO3QoXCJvbC5wcm9qLlByb2plY3Rpb25cIix3Yik7d2IucHJvdG90eXBlLmdldENvZGU9d2IucHJvdG90eXBlLm1sO3diLnByb3RvdHlwZS5nZXRFeHRlbnQ9d2IucHJvdG90eXBlLkc7d2IucHJvdG90eXBlLmdldFVuaXRzPXdiLnByb3RvdHlwZS56bzt3Yi5wcm90b3R5cGUuZ2V0TWV0ZXJzUGVyVW5pdD13Yi5wcm90b3R5cGUuQmM7d2IucHJvdG90eXBlLmdldFdvcmxkRXh0ZW50PXdiLnByb3RvdHlwZS5WbDt3Yi5wcm90b3R5cGUuZ2V0QXhpc09yaWVudGF0aW9uPXdiLnByb3RvdHlwZS5pbDt3Yi5wcm90b3R5cGUuaXNHbG9iYWw9d2IucHJvdG90eXBlLkdtO3diLnByb3RvdHlwZS5zZXRHbG9iYWw9d2IucHJvdG90eXBlLnhxO3diLnByb3RvdHlwZS5zZXRFeHRlbnQ9d2IucHJvdG90eXBlLlNpO3diLnByb3RvdHlwZS5zZXRXb3JsZEV4dGVudD13Yi5wcm90b3R5cGUuU2o7d2IucHJvdG90eXBlLnNldEdldFBvaW50UmVzb2x1dGlvbj13Yi5wcm90b3R5cGUud3E7XG50KFwib2wucHJvai5Vbml0cy5NRVRFUlNfUEVSX1VOSVRcIix1Yik7dChcIm9sLmxheWVyLkJhc2VcIixrZyk7a2cucHJvdG90eXBlLmdldEV4dGVudD1rZy5wcm90b3R5cGUuRztrZy5wcm90b3R5cGUuZ2V0TWF4UmVzb2x1dGlvbj1rZy5wcm90b3R5cGUubGM7a2cucHJvdG90eXBlLmdldE1pblJlc29sdXRpb249a2cucHJvdG90eXBlLm1jO2tnLnByb3RvdHlwZS5nZXRPcGFjaXR5PWtnLnByb3RvdHlwZS5uYztrZy5wcm90b3R5cGUuZ2V0VmlzaWJsZT1rZy5wcm90b3R5cGUuSmI7a2cucHJvdG90eXBlLmdldFpJbmRleD1rZy5wcm90b3R5cGUuQmE7a2cucHJvdG90eXBlLnNldEV4dGVudD1rZy5wcm90b3R5cGUuRmM7a2cucHJvdG90eXBlLnNldE1heFJlc29sdXRpb249a2cucHJvdG90eXBlLk1jO2tnLnByb3RvdHlwZS5zZXRNaW5SZXNvbHV0aW9uPWtnLnByb3RvdHlwZS5OYztrZy5wcm90b3R5cGUuc2V0T3BhY2l0eT1rZy5wcm90b3R5cGUuR2M7XG5rZy5wcm90b3R5cGUuc2V0VmlzaWJsZT1rZy5wcm90b3R5cGUuSGM7a2cucHJvdG90eXBlLnNldFpJbmRleD1rZy5wcm90b3R5cGUuJGI7dChcIm9sLmxheWVyLkdyb3VwXCIsbWcpO21nLnByb3RvdHlwZS5nZXRMYXllcnM9bWcucHJvdG90eXBlLkNkO21nLnByb3RvdHlwZS5zZXRMYXllcnM9bWcucHJvdG90eXBlLlFpO3QoXCJvbC5sYXllci5IZWF0bWFwXCIsVik7Vi5wcm90b3R5cGUuZ2V0Qmx1cj1WLnByb3RvdHlwZS5OaDtWLnByb3RvdHlwZS5nZXRHcmFkaWVudD1WLnByb3RvdHlwZS5VaDtWLnByb3RvdHlwZS5nZXRSYWRpdXM9Vi5wcm90b3R5cGUuUmk7Vi5wcm90b3R5cGUuc2V0Qmx1cj1WLnByb3RvdHlwZS5GajtWLnByb3RvdHlwZS5zZXRHcmFkaWVudD1WLnByb3RvdHlwZS5MajtWLnByb3RvdHlwZS5zZXRSYWRpdXM9Vi5wcm90b3R5cGUuZmQ7dChcIm9sLmxheWVyLkltYWdlXCIsU3gpO1N4LnByb3RvdHlwZS5nZXRTb3VyY2U9U3gucHJvdG90eXBlLmhhO1xudChcIm9sLmxheWVyLkxheWVyXCIseGcpO3hnLnByb3RvdHlwZS5nZXRTb3VyY2U9eGcucHJvdG90eXBlLmhhO3hnLnByb3RvdHlwZS5zZXRNYXA9eGcucHJvdG90eXBlLnNldE1hcDt4Zy5wcm90b3R5cGUuc2V0U291cmNlPXhnLnByb3RvdHlwZS5oZDt0KFwib2wubGF5ZXIuVGlsZVwiLFR4KTtUeC5wcm90b3R5cGUuZ2V0UHJlbG9hZD1UeC5wcm90b3R5cGUuYztUeC5wcm90b3R5cGUuZ2V0U291cmNlPVR4LnByb3RvdHlwZS5oYTtUeC5wcm90b3R5cGUuc2V0UHJlbG9hZD1UeC5wcm90b3R5cGUuajtUeC5wcm90b3R5cGUuZ2V0VXNlSW50ZXJpbVRpbGVzT25FcnJvcj1UeC5wcm90b3R5cGUuaTtUeC5wcm90b3R5cGUuc2V0VXNlSW50ZXJpbVRpbGVzT25FcnJvcj1UeC5wcm90b3R5cGUuQzt0KFwib2wubGF5ZXIuVmVjdG9yXCIsVCk7VC5wcm90b3R5cGUuZ2V0U291cmNlPVQucHJvdG90eXBlLmhhO1QucHJvdG90eXBlLmdldFN0eWxlPVQucHJvdG90eXBlLkI7XG5ULnByb3RvdHlwZS5nZXRTdHlsZUZ1bmN0aW9uPVQucHJvdG90eXBlLmliO1QucHJvdG90eXBlLnNldFN0eWxlPVQucHJvdG90eXBlLmo7dChcIm9sLmxheWVyLlZlY3RvclRpbGVcIixXKTtXLnByb3RvdHlwZS5nZXRQcmVsb2FkPVcucHJvdG90eXBlLmM7Vy5wcm90b3R5cGUuZ2V0VXNlSW50ZXJpbVRpbGVzT25FcnJvcj1XLnByb3RvdHlwZS5pO1cucHJvdG90eXBlLnNldFByZWxvYWQ9Vy5wcm90b3R5cGUuVDtXLnByb3RvdHlwZS5zZXRVc2VJbnRlcmltVGlsZXNPbkVycm9yPVcucHJvdG90eXBlLk87Vy5wcm90b3R5cGUuZ2V0U291cmNlPVcucHJvdG90eXBlLmhhO3QoXCJvbC5pbnRlcmFjdGlvbi5Eb3VibGVDbGlja1pvb21cIixVZyk7dChcIm9sLmludGVyYWN0aW9uLkRvdWJsZUNsaWNrWm9vbS5oYW5kbGVFdmVudFwiLFZnKTt0KFwib2wuaW50ZXJhY3Rpb24uRHJhZ0FuZERyb3BcIixpdyk7dChcIm9sLmludGVyYWN0aW9uLkRyYWdBbmREcm9wLmhhbmRsZUV2ZW50XCIsUmUpO1xubHcucHJvdG90eXBlLmZlYXR1cmVzPWx3LnByb3RvdHlwZS5mZWF0dXJlcztsdy5wcm90b3R5cGUuZmlsZT1sdy5wcm90b3R5cGUuZmlsZTtsdy5wcm90b3R5cGUucHJvamVjdGlvbj1sdy5wcm90b3R5cGUucHJvamVjdGlvbjt0KFwib2wuaW50ZXJhY3Rpb24uRHJhZ0JveFwiLHRoKTt0aC5wcm90b3R5cGUuZ2V0R2VvbWV0cnk9dGgucHJvdG90eXBlLlU7eWgucHJvdG90eXBlLmNvb3JkaW5hdGU9eWgucHJvdG90eXBlLmNvb3JkaW5hdGU7eWgucHJvdG90eXBlLm1hcEJyb3dzZXJFdmVudD15aC5wcm90b3R5cGUubWFwQnJvd3NlckV2ZW50O3QoXCJvbC5pbnRlcmFjdGlvbi5EcmFnUGFuXCIsaWgpO3QoXCJvbC5pbnRlcmFjdGlvbi5EcmFnUm90YXRlXCIsbWgpO3QoXCJvbC5pbnRlcmFjdGlvbi5EcmFnUm90YXRlQW5kWm9vbVwiLHB3KTt0KFwib2wuaW50ZXJhY3Rpb24uRHJhZ1pvb21cIixDaCk7dChcIm9sLmludGVyYWN0aW9uLkRyYXdcIixFdyk7XG50KFwib2wuaW50ZXJhY3Rpb24uRHJhdy5oYW5kbGVFdmVudFwiLEd3KTtFdy5wcm90b3R5cGUucmVtb3ZlTGFzdFBvaW50PUV3LnByb3RvdHlwZS5ucTtFdy5wcm90b3R5cGUuZmluaXNoRHJhd2luZz1Fdy5wcm90b3R5cGUuUGQ7RXcucHJvdG90eXBlLmV4dGVuZD1Fdy5wcm90b3R5cGUuWm47dChcIm9sLmludGVyYWN0aW9uLkRyYXcuY3JlYXRlUmVndWxhclBvbHlnb25cIixmdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihjLGQpe3ZhciBlPWNbMF07Yz1jWzFdO3ZhciBmPU1hdGguc3FydChIZShlLGMpKTtkPWQ/ZDpTZihuZXcgZ3coZSksYSk7VGYoZCxlLGYsYj9iOk1hdGguYXRhbigoY1sxXS1lWzFdKS8oY1swXS1lWzBdKSkpO3JldHVybiBkfX0pO1xudChcIm9sLmludGVyYWN0aW9uLkRyYXcuY3JlYXRlQm94XCIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXthPUNhKGEpO2I9Ynx8bmV3IEQobnVsbCk7Yi5uYShbW1dhKGEpLFlhKGEpLFphKGEpLCRhKGEpLFdhKGEpXV0pO3JldHVybiBifX0pO1V3LnByb3RvdHlwZS5mZWF0dXJlPVV3LnByb3RvdHlwZS5mZWF0dXJlO3QoXCJvbC5pbnRlcmFjdGlvbi5FeHRlbnRcIixWdyk7VncucHJvdG90eXBlLmdldEV4dGVudD1Wdy5wcm90b3R5cGUuRztWdy5wcm90b3R5cGUuc2V0RXh0ZW50PVZ3LnByb3RvdHlwZS5mO2Z4LnByb3RvdHlwZS5leHRlbnQ9ZngucHJvdG90eXBlLmV4dGVudDt0KFwib2wuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25cIixKZyk7SmcucHJvdG90eXBlLmdldEFjdGl2ZT1KZy5wcm90b3R5cGUuYztKZy5wcm90b3R5cGUuZ2V0TWFwPUpnLnByb3RvdHlwZS5pO0pnLnByb3RvdHlwZS5zZXRBY3RpdmU9SmcucHJvdG90eXBlLkhhO1xudChcIm9sLmludGVyYWN0aW9uLktleWJvYXJkUGFuXCIsRGgpO3QoXCJvbC5pbnRlcmFjdGlvbi5LZXlib2FyZFBhbi5oYW5kbGVFdmVudFwiLEVoKTt0KFwib2wuaW50ZXJhY3Rpb24uS2V5Ym9hcmRab29tXCIsRmgpO3QoXCJvbC5pbnRlcmFjdGlvbi5LZXlib2FyZFpvb20uaGFuZGxlRXZlbnRcIixHaCk7dChcIm9sLmludGVyYWN0aW9uLk1vZGlmeVwiLGd4KTt0KFwib2wuaW50ZXJhY3Rpb24uTW9kaWZ5LmhhbmRsZUV2ZW50XCIsangpO2d4LnByb3RvdHlwZS5yZW1vdmVQb2ludD1neC5wcm90b3R5cGUuRGo7b3gucHJvdG90eXBlLmZlYXR1cmVzPW94LnByb3RvdHlwZS5mZWF0dXJlcztveC5wcm90b3R5cGUubWFwQnJvd3NlckV2ZW50PW94LnByb3RvdHlwZS5tYXBCcm93c2VyRXZlbnQ7dChcIm9sLmludGVyYWN0aW9uLk1vdXNlV2hlZWxab29tXCIsSGgpO3QoXCJvbC5pbnRlcmFjdGlvbi5Nb3VzZVdoZWVsWm9vbS5oYW5kbGVFdmVudFwiLEloKTtIaC5wcm90b3R5cGUuc2V0TW91c2VBbmNob3I9SGgucHJvdG90eXBlLlY7XG50KFwib2wuaW50ZXJhY3Rpb24uUGluY2hSb3RhdGVcIixSaCk7dChcIm9sLmludGVyYWN0aW9uLlBpbmNoWm9vbVwiLFZoKTt0KFwib2wuaW50ZXJhY3Rpb24uUG9pbnRlclwiLGZoKTt0KFwib2wuaW50ZXJhY3Rpb24uUG9pbnRlci5oYW5kbGVFdmVudFwiLGdoKTt0KFwib2wuaW50ZXJhY3Rpb24uU2VsZWN0XCIsd3gpO3d4LnByb3RvdHlwZS5nZXRGZWF0dXJlcz13eC5wcm90b3R5cGUubG87d3gucHJvdG90eXBlLmdldEhpdFRvbGVyYW5jZT13eC5wcm90b3R5cGUubW87d3gucHJvdG90eXBlLmdldExheWVyPXd4LnByb3RvdHlwZS5ubzt0KFwib2wuaW50ZXJhY3Rpb24uU2VsZWN0LmhhbmRsZUV2ZW50XCIseHgpO3d4LnByb3RvdHlwZS5zZXRIaXRUb2xlcmFuY2U9d3gucHJvdG90eXBlLnBvO3d4LnByb3RvdHlwZS5zZXRNYXA9d3gucHJvdG90eXBlLnNldE1hcDt6eC5wcm90b3R5cGUuc2VsZWN0ZWQ9engucHJvdG90eXBlLnNlbGVjdGVkO3p4LnByb3RvdHlwZS5kZXNlbGVjdGVkPXp4LnByb3RvdHlwZS5kZXNlbGVjdGVkO1xuengucHJvdG90eXBlLm1hcEJyb3dzZXJFdmVudD16eC5wcm90b3R5cGUubWFwQnJvd3NlckV2ZW50O3QoXCJvbC5pbnRlcmFjdGlvbi5TbmFwXCIsQngpO0J4LnByb3RvdHlwZS5hZGRGZWF0dXJlPUJ4LnByb3RvdHlwZS5HYjtCeC5wcm90b3R5cGUucmVtb3ZlRmVhdHVyZT1CeC5wcm90b3R5cGUuTGI7dChcIm9sLmludGVyYWN0aW9uLlRyYW5zbGF0ZVwiLEd4KTtHeC5wcm90b3R5cGUuZ2V0SGl0VG9sZXJhbmNlPUd4LnByb3RvdHlwZS5CO0d4LnByb3RvdHlwZS5zZXRIaXRUb2xlcmFuY2U9R3gucHJvdG90eXBlLlQ7TXgucHJvdG90eXBlLmZlYXR1cmVzPU14LnByb3RvdHlwZS5mZWF0dXJlcztNeC5wcm90b3R5cGUuY29vcmRpbmF0ZT1NeC5wcm90b3R5cGUuY29vcmRpbmF0ZTt0KFwib2wuZ2VvbS5DaXJjbGVcIixndyk7Z3cucHJvdG90eXBlLmNsb25lPWd3LnByb3RvdHlwZS5jbG9uZTtndy5wcm90b3R5cGUuZ2V0Q2VudGVyPWd3LnByb3RvdHlwZS54YTtcbmd3LnByb3RvdHlwZS5nZXRSYWRpdXM9Z3cucHJvdG90eXBlLkJkO2d3LnByb3RvdHlwZS5nZXRUeXBlPWd3LnByb3RvdHlwZS5TO2d3LnByb3RvdHlwZS5pbnRlcnNlY3RzRXh0ZW50PWd3LnByb3RvdHlwZS4kYTtndy5wcm90b3R5cGUuc2V0Q2VudGVyPWd3LnByb3RvdHlwZS51Yjtndy5wcm90b3R5cGUuc2V0Q2VudGVyQW5kUmFkaXVzPWd3LnByb3RvdHlwZS5oaDtndy5wcm90b3R5cGUuc2V0UmFkaXVzPWd3LnByb3RvdHlwZS5mZDtndy5wcm90b3R5cGUudHJhbnNmb3JtPWd3LnByb3RvdHlwZS5tYjt0KFwib2wuZ2VvbS5HZW9tZXRyeVwiLGdmKTtnZi5wcm90b3R5cGUuZ2V0Q2xvc2VzdFBvaW50PWdmLnByb3RvdHlwZS5JYjtnZi5wcm90b3R5cGUuaW50ZXJzZWN0c0Nvb3JkaW5hdGU9Z2YucHJvdG90eXBlLkJiO2dmLnByb3RvdHlwZS5nZXRFeHRlbnQ9Z2YucHJvdG90eXBlLkc7Z2YucHJvdG90eXBlLnJvdGF0ZT1nZi5wcm90b3R5cGUucm90YXRlO1xuZ2YucHJvdG90eXBlLnNjYWxlPWdmLnByb3RvdHlwZS5zY2FsZTtnZi5wcm90b3R5cGUuc2ltcGxpZnk9Z2YucHJvdG90eXBlLlNiO2dmLnByb3RvdHlwZS50cmFuc2Zvcm09Z2YucHJvdG90eXBlLm1iO3QoXCJvbC5nZW9tLkdlb21ldHJ5Q29sbGVjdGlvblwiLE1xKTtNcS5wcm90b3R5cGUuY2xvbmU9TXEucHJvdG90eXBlLmNsb25lO01xLnByb3RvdHlwZS5nZXRHZW9tZXRyaWVzPU1xLnByb3RvdHlwZS52ZDtNcS5wcm90b3R5cGUuZ2V0VHlwZT1NcS5wcm90b3R5cGUuUztNcS5wcm90b3R5cGUuaW50ZXJzZWN0c0V4dGVudD1NcS5wcm90b3R5cGUuJGE7TXEucHJvdG90eXBlLnNldEdlb21ldHJpZXM9TXEucHJvdG90eXBlLktqO01xLnByb3RvdHlwZS5hcHBseVRyYW5zZm9ybT1NcS5wcm90b3R5cGUuUmM7TXEucHJvdG90eXBlLnRyYW5zbGF0ZT1NcS5wcm90b3R5cGUudHJhbnNsYXRlO3QoXCJvbC5nZW9tLkxpbmVhclJpbmdcIixEZik7RGYucHJvdG90eXBlLmNsb25lPURmLnByb3RvdHlwZS5jbG9uZTtcbkRmLnByb3RvdHlwZS5nZXRBcmVhPURmLnByb3RvdHlwZS5WbjtEZi5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXM9RGYucHJvdG90eXBlLlc7RGYucHJvdG90eXBlLmdldFR5cGU9RGYucHJvdG90eXBlLlM7RGYucHJvdG90eXBlLnNldENvb3JkaW5hdGVzPURmLnByb3RvdHlwZS5uYTt0KFwib2wuZ2VvbS5MaW5lU3RyaW5nXCIsSSk7SS5wcm90b3R5cGUuYXBwZW5kQ29vcmRpbmF0ZT1JLnByb3RvdHlwZS5GaztJLnByb3RvdHlwZS5jbG9uZT1JLnByb3RvdHlwZS5jbG9uZTtJLnByb3RvdHlwZS5mb3JFYWNoU2VnbWVudD1JLnByb3RvdHlwZS5kbDtJLnByb3RvdHlwZS5nZXRDb29yZGluYXRlQXRNPUkucHJvdG90eXBlLlRuO0kucHJvdG90eXBlLmdldENvb3JkaW5hdGVzPUkucHJvdG90eXBlLlc7SS5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZUF0PUkucHJvdG90eXBlLlBoO0kucHJvdG90eXBlLmdldExlbmd0aD1JLnByb3RvdHlwZS5VbjtJLnByb3RvdHlwZS5nZXRUeXBlPUkucHJvdG90eXBlLlM7XG5JLnByb3RvdHlwZS5pbnRlcnNlY3RzRXh0ZW50PUkucHJvdG90eXBlLiRhO0kucHJvdG90eXBlLnNldENvb3JkaW5hdGVzPUkucHJvdG90eXBlLm5hO3QoXCJvbC5nZW9tLk11bHRpTGluZVN0cmluZ1wiLFApO1AucHJvdG90eXBlLmFwcGVuZExpbmVTdHJpbmc9UC5wcm90b3R5cGUuR2s7UC5wcm90b3R5cGUuY2xvbmU9UC5wcm90b3R5cGUuY2xvbmU7UC5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZUF0TT1QLnByb3RvdHlwZS5XbjtQLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcz1QLnByb3RvdHlwZS5XO1AucHJvdG90eXBlLmdldExpbmVTdHJpbmc9UC5wcm90b3R5cGUueWw7UC5wcm90b3R5cGUuZ2V0TGluZVN0cmluZ3M9UC5wcm90b3R5cGUud2Q7UC5wcm90b3R5cGUuZ2V0VHlwZT1QLnByb3RvdHlwZS5TO1AucHJvdG90eXBlLmludGVyc2VjdHNFeHRlbnQ9UC5wcm90b3R5cGUuJGE7UC5wcm90b3R5cGUuc2V0Q29vcmRpbmF0ZXM9UC5wcm90b3R5cGUubmE7XG50KFwib2wuZ2VvbS5NdWx0aVBvaW50XCIsTm8pO05vLnByb3RvdHlwZS5hcHBlbmRQb2ludD1Oby5wcm90b3R5cGUuSWs7Tm8ucHJvdG90eXBlLmNsb25lPU5vLnByb3RvdHlwZS5jbG9uZTtOby5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZXM9Tm8ucHJvdG90eXBlLlc7Tm8ucHJvdG90eXBlLmdldFBvaW50PU5vLnByb3RvdHlwZS5MbDtOby5wcm90b3R5cGUuZ2V0UG9pbnRzPU5vLnByb3RvdHlwZS5kZTtOby5wcm90b3R5cGUuZ2V0VHlwZT1Oby5wcm90b3R5cGUuUztOby5wcm90b3R5cGUuaW50ZXJzZWN0c0V4dGVudD1Oby5wcm90b3R5cGUuJGE7Tm8ucHJvdG90eXBlLnNldENvb3JkaW5hdGVzPU5vLnByb3RvdHlwZS5uYTt0KFwib2wuZ2VvbS5NdWx0aVBvbHlnb25cIixRKTtRLnByb3RvdHlwZS5hcHBlbmRQb2x5Z29uPVEucHJvdG90eXBlLkprO1EucHJvdG90eXBlLmNsb25lPVEucHJvdG90eXBlLmNsb25lO1EucHJvdG90eXBlLmdldEFyZWE9US5wcm90b3R5cGUuWG47XG5RLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcz1RLnByb3RvdHlwZS5XO1EucHJvdG90eXBlLmdldEludGVyaW9yUG9pbnRzPVEucHJvdG90eXBlLnVsO1EucHJvdG90eXBlLmdldFBvbHlnb249US5wcm90b3R5cGUuTWw7US5wcm90b3R5cGUuZ2V0UG9seWdvbnM9US5wcm90b3R5cGUuVmQ7US5wcm90b3R5cGUuZ2V0VHlwZT1RLnByb3RvdHlwZS5TO1EucHJvdG90eXBlLmludGVyc2VjdHNFeHRlbnQ9US5wcm90b3R5cGUuJGE7US5wcm90b3R5cGUuc2V0Q29vcmRpbmF0ZXM9US5wcm90b3R5cGUubmE7dChcIm9sLmdlb20uUG9pbnRcIixDKTtDLnByb3RvdHlwZS5jbG9uZT1DLnByb3RvdHlwZS5jbG9uZTtDLnByb3RvdHlwZS5nZXRDb29yZGluYXRlcz1DLnByb3RvdHlwZS5XO0MucHJvdG90eXBlLmdldFR5cGU9Qy5wcm90b3R5cGUuUztDLnByb3RvdHlwZS5pbnRlcnNlY3RzRXh0ZW50PUMucHJvdG90eXBlLiRhO0MucHJvdG90eXBlLnNldENvb3JkaW5hdGVzPUMucHJvdG90eXBlLm5hO1xudChcIm9sLmdlb20uUG9seWdvblwiLEQpO0QucHJvdG90eXBlLmFwcGVuZExpbmVhclJpbmc9RC5wcm90b3R5cGUuSGs7RC5wcm90b3R5cGUuY2xvbmU9RC5wcm90b3R5cGUuY2xvbmU7RC5wcm90b3R5cGUuZ2V0QXJlYT1ELnByb3RvdHlwZS5ZbjtELnByb3RvdHlwZS5nZXRDb29yZGluYXRlcz1ELnByb3RvdHlwZS5XO0QucHJvdG90eXBlLmdldEludGVyaW9yUG9pbnQ9RC5wcm90b3R5cGUudGw7RC5wcm90b3R5cGUuZ2V0TGluZWFyUmluZ0NvdW50PUQucHJvdG90eXBlLnpsO0QucHJvdG90eXBlLmdldExpbmVhclJpbmc9RC5wcm90b3R5cGUuV2g7RC5wcm90b3R5cGUuZ2V0TGluZWFyUmluZ3M9RC5wcm90b3R5cGUuVWQ7RC5wcm90b3R5cGUuZ2V0VHlwZT1ELnByb3RvdHlwZS5TO0QucHJvdG90eXBlLmludGVyc2VjdHNFeHRlbnQ9RC5wcm90b3R5cGUuJGE7RC5wcm90b3R5cGUuc2V0Q29vcmRpbmF0ZXM9RC5wcm90b3R5cGUubmE7XG50KFwib2wuZ2VvbS5Qb2x5Z29uLmNpcmN1bGFyXCIsUWYpO3QoXCJvbC5nZW9tLlBvbHlnb24uZnJvbUV4dGVudFwiLFJmKTt0KFwib2wuZ2VvbS5Qb2x5Z29uLmZyb21DaXJjbGVcIixTZik7dChcIm9sLmdlb20uU2ltcGxlR2VvbWV0cnlcIixoZik7aGYucHJvdG90eXBlLmdldEZpcnN0Q29vcmRpbmF0ZT1oZi5wcm90b3R5cGUuZmM7aGYucHJvdG90eXBlLmdldExhc3RDb29yZGluYXRlPWhmLnByb3RvdHlwZS5nYztoZi5wcm90b3R5cGUuZ2V0TGF5b3V0PWhmLnByb3RvdHlwZS5pYztoZi5wcm90b3R5cGUuYXBwbHlUcmFuc2Zvcm09aGYucHJvdG90eXBlLlJjO2hmLnByb3RvdHlwZS50cmFuc2xhdGU9aGYucHJvdG90eXBlLnRyYW5zbGF0ZTt0KFwib2wuZm9ybWF0LkVzcmlKU09OXCIsUG8pO1BvLnByb3RvdHlwZS5yZWFkRmVhdHVyZT1Qby5wcm90b3R5cGUuWWI7UG8ucHJvdG90eXBlLnJlYWRGZWF0dXJlcz1Qby5wcm90b3R5cGUuUWE7UG8ucHJvdG90eXBlLnJlYWRHZW9tZXRyeT1Qby5wcm90b3R5cGUuZWQ7XG5Qby5wcm90b3R5cGUucmVhZFByb2plY3Rpb249UG8ucHJvdG90eXBlLnNiO1BvLnByb3RvdHlwZS53cml0ZUdlb21ldHJ5PVBvLnByb3RvdHlwZS5tZDtQby5wcm90b3R5cGUud3JpdGVHZW9tZXRyeU9iamVjdD1Qby5wcm90b3R5cGUuc2U7UG8ucHJvdG90eXBlLndyaXRlRmVhdHVyZT1Qby5wcm90b3R5cGUuSmQ7UG8ucHJvdG90eXBlLndyaXRlRmVhdHVyZU9iamVjdD1Qby5wcm90b3R5cGUubGQ7UG8ucHJvdG90eXBlLndyaXRlRmVhdHVyZXM9UG8ucHJvdG90eXBlLmFjO1BvLnByb3RvdHlwZS53cml0ZUZlYXR1cmVzT2JqZWN0PVBvLnByb3RvdHlwZS5xZTt0KFwib2wuZm9ybWF0LkZlYXR1cmVcIixHbyk7dChcIm9sLmZvcm1hdC5maWx0ZXIuYW5kXCIsYnUpO1xudChcIm9sLmZvcm1hdC5maWx0ZXIub3JcIixmdW5jdGlvbihhKXt2YXIgYj1bbnVsbF0uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO3JldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KCR0LGIpKX0pO3QoXCJvbC5mb3JtYXQuZmlsdGVyLm5vdFwiLGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgWXQoYSl9KTt0KFwib2wuZm9ybWF0LmZpbHRlci5iYm94XCIsY3UpO3QoXCJvbC5mb3JtYXQuZmlsdGVyLmNvbnRhaW5zXCIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuZXcgTHQoYSxiLGMpfSk7dChcIm9sLmZvcm1hdC5maWx0ZXIuaW50ZXJzZWN0c1wiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbmV3IFN0KGEsYixjKX0pO3QoXCJvbC5mb3JtYXQuZmlsdGVyLndpdGhpblwiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbmV3IGF1KGEsYixjKX0pO1xudChcIm9sLmZvcm1hdC5maWx0ZXIuZXF1YWxUb1wiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbmV3IFB0KGEsYixjKX0pO3QoXCJvbC5mb3JtYXQuZmlsdGVyLm5vdEVxdWFsVG9cIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG5ldyBadChhLGIsYyl9KTt0KFwib2wuZm9ybWF0LmZpbHRlci5sZXNzVGhhblwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBXdChhLGIpfSk7dChcIm9sLmZvcm1hdC5maWx0ZXIubGVzc1RoYW5PckVxdWFsVG9cIixmdW5jdGlvbihhLGIpe3JldHVybiBuZXcgWHQoYSxiKX0pO3QoXCJvbC5mb3JtYXQuZmlsdGVyLmdyZWF0ZXJUaGFuXCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IFF0KGEsYil9KTt0KFwib2wuZm9ybWF0LmZpbHRlci5ncmVhdGVyVGhhbk9yRXF1YWxUb1wiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBSdChhLGIpfSk7dChcIm9sLmZvcm1hdC5maWx0ZXIuaXNOdWxsXCIsZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBWdChhKX0pO1xudChcIm9sLmZvcm1hdC5maWx0ZXIuYmV0d2VlblwiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbmV3IFR0KGEsYixjKX0pO3QoXCJvbC5mb3JtYXQuZmlsdGVyLmxpa2VcIixmdW5jdGlvbihhLGIsYyxkLGUsZil7cmV0dXJuIG5ldyBVdChhLGIsYyxkLGUsZil9KTt0KFwib2wuZm9ybWF0LmZpbHRlci5kdXJpbmdcIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG5ldyBOdChhLGIsYyl9KTt0KFwib2wuZm9ybWF0Lkdlb0pTT05cIixRcSk7UXEucHJvdG90eXBlLnJlYWRGZWF0dXJlPVFxLnByb3RvdHlwZS5ZYjtRcS5wcm90b3R5cGUucmVhZEZlYXR1cmVzPVFxLnByb3RvdHlwZS5RYTtRcS5wcm90b3R5cGUucmVhZEdlb21ldHJ5PVFxLnByb3RvdHlwZS5lZDtRcS5wcm90b3R5cGUucmVhZFByb2plY3Rpb249UXEucHJvdG90eXBlLnNiO1FxLnByb3RvdHlwZS53cml0ZUZlYXR1cmU9UXEucHJvdG90eXBlLkpkO1FxLnByb3RvdHlwZS53cml0ZUZlYXR1cmVPYmplY3Q9UXEucHJvdG90eXBlLmxkO1xuUXEucHJvdG90eXBlLndyaXRlRmVhdHVyZXM9UXEucHJvdG90eXBlLmFjO1FxLnByb3RvdHlwZS53cml0ZUZlYXR1cmVzT2JqZWN0PVFxLnByb3RvdHlwZS5xZTtRcS5wcm90b3R5cGUud3JpdGVHZW9tZXRyeT1RcS5wcm90b3R5cGUubWQ7UXEucHJvdG90eXBlLndyaXRlR2VvbWV0cnlPYmplY3Q9UXEucHJvdG90eXBlLnNlO3QoXCJvbC5mb3JtYXQuR01MXCIsS3ApO0twLnByb3RvdHlwZS53cml0ZUZlYXR1cmVzPUtwLnByb3RvdHlwZS5hYztLcC5wcm90b3R5cGUud3JpdGVGZWF0dXJlc05vZGU9S3AucHJvdG90eXBlLmJjO3QoXCJvbC5mb3JtYXQuR01MMlwiLFRwKTt0KFwib2wuZm9ybWF0LkdNTDNcIixLcCk7S3AucHJvdG90eXBlLndyaXRlR2VvbWV0cnlOb2RlPUtwLnByb3RvdHlwZS5yZTtLcC5wcm90b3R5cGUud3JpdGVGZWF0dXJlcz1LcC5wcm90b3R5cGUuYWM7S3AucHJvdG90eXBlLndyaXRlRmVhdHVyZXNOb2RlPUtwLnByb3RvdHlwZS5iYztcblpvLnByb3RvdHlwZS5yZWFkRmVhdHVyZXM9Wm8ucHJvdG90eXBlLlFhO3QoXCJvbC5mb3JtYXQuR1BYXCIsZHEpO2RxLnByb3RvdHlwZS5yZWFkRmVhdHVyZT1kcS5wcm90b3R5cGUuWWI7ZHEucHJvdG90eXBlLnJlYWRGZWF0dXJlcz1kcS5wcm90b3R5cGUuUWE7ZHEucHJvdG90eXBlLnJlYWRQcm9qZWN0aW9uPWRxLnByb3RvdHlwZS5zYjtkcS5wcm90b3R5cGUud3JpdGVGZWF0dXJlcz1kcS5wcm90b3R5cGUuYWM7ZHEucHJvdG90eXBlLndyaXRlRmVhdHVyZXNOb2RlPWRxLnByb3RvdHlwZS5iYzt0KFwib2wuZm9ybWF0LklHQ1wiLFhxKTtYcS5wcm90b3R5cGUucmVhZEZlYXR1cmU9WHEucHJvdG90eXBlLlliO1hxLnByb3RvdHlwZS5yZWFkRmVhdHVyZXM9WHEucHJvdG90eXBlLlFhO1hxLnByb3RvdHlwZS5yZWFkUHJvamVjdGlvbj1YcS5wcm90b3R5cGUuc2I7dChcIm9sLmZvcm1hdC5LTUxcIixlcik7ZXIucHJvdG90eXBlLnJlYWRGZWF0dXJlPWVyLnByb3RvdHlwZS5ZYjtcbmVyLnByb3RvdHlwZS5yZWFkRmVhdHVyZXM9ZXIucHJvdG90eXBlLlFhO2VyLnByb3RvdHlwZS5yZWFkTmFtZT1lci5wcm90b3R5cGUuY3E7ZXIucHJvdG90eXBlLnJlYWROZXR3b3JrTGlua3M9ZXIucHJvdG90eXBlLmVxO2VyLnByb3RvdHlwZS5yZWFkUmVnaW9uPWVyLnByb3RvdHlwZS5ocTtlci5wcm90b3R5cGUucmVhZFJlZ2lvbkZyb21Ob2RlPWVyLnByb3RvdHlwZS52Zjtlci5wcm90b3R5cGUucmVhZFByb2plY3Rpb249ZXIucHJvdG90eXBlLnNiO2VyLnByb3RvdHlwZS53cml0ZUZlYXR1cmVzPWVyLnByb3RvdHlwZS5hYztlci5wcm90b3R5cGUud3JpdGVGZWF0dXJlc05vZGU9ZXIucHJvdG90eXBlLmJjO3QoXCJvbC5mb3JtYXQuTVZUXCIsanQpO2p0LnByb3RvdHlwZS5nZXRMYXN0RXh0ZW50PWp0LnByb3RvdHlwZS5jZztqdC5wcm90b3R5cGUucmVhZEZlYXR1cmVzPWp0LnByb3RvdHlwZS5RYTtqdC5wcm90b3R5cGUucmVhZFByb2plY3Rpb249anQucHJvdG90eXBlLnNiO1xuanQucHJvdG90eXBlLnNldExheWVycz1qdC5wcm90b3R5cGUuU247dChcIm9sLmZvcm1hdC5PU01YTUxcIixvdCk7b3QucHJvdG90eXBlLnJlYWRGZWF0dXJlcz1vdC5wcm90b3R5cGUuUWE7b3QucHJvdG90eXBlLnJlYWRQcm9qZWN0aW9uPW90LnByb3RvdHlwZS5zYjt0KFwib2wuZm9ybWF0LlBvbHlsaW5lXCIsdnQpO3QoXCJvbC5mb3JtYXQuUG9seWxpbmUuZW5jb2RlRGVsdGFzXCIsd3QpO3QoXCJvbC5mb3JtYXQuUG9seWxpbmUuZGVjb2RlRGVsdGFzXCIseXQpO3QoXCJvbC5mb3JtYXQuUG9seWxpbmUuZW5jb2RlRmxvYXRzXCIseHQpO3QoXCJvbC5mb3JtYXQuUG9seWxpbmUuZGVjb2RlRmxvYXRzXCIsenQpO3Z0LnByb3RvdHlwZS5yZWFkRmVhdHVyZT12dC5wcm90b3R5cGUuWWI7dnQucHJvdG90eXBlLnJlYWRGZWF0dXJlcz12dC5wcm90b3R5cGUuUWE7dnQucHJvdG90eXBlLnJlYWRHZW9tZXRyeT12dC5wcm90b3R5cGUuZWQ7dnQucHJvdG90eXBlLnJlYWRQcm9qZWN0aW9uPXZ0LnByb3RvdHlwZS5zYjtcbnZ0LnByb3RvdHlwZS53cml0ZUdlb21ldHJ5PXZ0LnByb3RvdHlwZS5tZDt0KFwib2wuZm9ybWF0LlRvcG9KU09OXCIsQXQpO0F0LnByb3RvdHlwZS5yZWFkRmVhdHVyZXM9QXQucHJvdG90eXBlLlFhO0F0LnByb3RvdHlwZS5yZWFkUHJvamVjdGlvbj1BdC5wcm90b3R5cGUuc2I7dChcIm9sLmZvcm1hdC5XRlNcIixkdSk7ZHUucHJvdG90eXBlLnJlYWRGZWF0dXJlcz1kdS5wcm90b3R5cGUuUWE7ZHUucHJvdG90eXBlLnJlYWRUcmFuc2FjdGlvblJlc3BvbnNlPWR1LnByb3RvdHlwZS5qO2R1LnByb3RvdHlwZS5yZWFkRmVhdHVyZUNvbGxlY3Rpb25NZXRhZGF0YT1kdS5wcm90b3R5cGUuZjt0KFwib2wuZm9ybWF0LldGUy53cml0ZUZpbHRlclwiLGZ1bmN0aW9uKGEpe3ZhciBiPW5vKFwiaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vZ2NcIixcIkZpbHRlclwiKTtEbyh7bm9kZTpifSxzdSx5byhhLnJjKSxbYV0sW10pO3JldHVybiBifSk7ZHUucHJvdG90eXBlLndyaXRlR2V0RmVhdHVyZT1kdS5wcm90b3R5cGUucztcbmR1LnByb3RvdHlwZS53cml0ZVRyYW5zYWN0aW9uPWR1LnByb3RvdHlwZS52O2R1LnByb3RvdHlwZS5yZWFkUHJvamVjdGlvbj1kdS5wcm90b3R5cGUuc2I7dChcIm9sLmZvcm1hdC5XS1RcIixLdSk7S3UucHJvdG90eXBlLnJlYWRGZWF0dXJlPUt1LnByb3RvdHlwZS5ZYjtLdS5wcm90b3R5cGUucmVhZEZlYXR1cmVzPUt1LnByb3RvdHlwZS5RYTtLdS5wcm90b3R5cGUucmVhZEdlb21ldHJ5PUt1LnByb3RvdHlwZS5lZDtLdS5wcm90b3R5cGUud3JpdGVGZWF0dXJlPUt1LnByb3RvdHlwZS5KZDtLdS5wcm90b3R5cGUud3JpdGVGZWF0dXJlcz1LdS5wcm90b3R5cGUuYWM7S3UucHJvdG90eXBlLndyaXRlR2VvbWV0cnk9S3UucHJvdG90eXBlLm1kO3QoXCJvbC5mb3JtYXQuV01TQ2FwYWJpbGl0aWVzXCIsZXYpO2V2LnByb3RvdHlwZS5yZWFkPWV2LnByb3RvdHlwZS5yZWFkO3QoXCJvbC5mb3JtYXQuV01TR2V0RmVhdHVyZUluZm9cIixCdik7QnYucHJvdG90eXBlLnJlYWRGZWF0dXJlcz1Cdi5wcm90b3R5cGUuUWE7XG50KFwib2wuZm9ybWF0LldNVFNDYXBhYmlsaXRpZXNcIixTdik7U3YucHJvdG90eXBlLnJlYWQ9U3YucHJvdG90eXBlLnJlYWQ7dChcIm9sLmZvcm1hdC5maWx0ZXIuQW5kXCIsSXQpO3QoXCJvbC5mb3JtYXQuZmlsdGVyLkJib3hcIixKdCk7dChcIm9sLmZvcm1hdC5maWx0ZXIuQ29tcGFyaXNvblwiLE10KTt0KFwib2wuZm9ybWF0LmZpbHRlci5Db21wYXJpc29uQmluYXJ5XCIsT3QpO3QoXCJvbC5mb3JtYXQuZmlsdGVyLkNvbnRhaW5zXCIsTHQpO3QoXCJvbC5mb3JtYXQuZmlsdGVyLkR1cmluZ1wiLE50KTt0KFwib2wuZm9ybWF0LmZpbHRlci5FcXVhbFRvXCIsUHQpO3QoXCJvbC5mb3JtYXQuZmlsdGVyLkZpbHRlclwiLEd0KTt0KFwib2wuZm9ybWF0LmZpbHRlci5HcmVhdGVyVGhhblwiLFF0KTt0KFwib2wuZm9ybWF0LmZpbHRlci5HcmVhdGVyVGhhbk9yRXF1YWxUb1wiLFJ0KTt0KFwib2wuZm9ybWF0LmZpbHRlci5JbnRlcnNlY3RzXCIsU3QpO3QoXCJvbC5mb3JtYXQuZmlsdGVyLklzQmV0d2VlblwiLFR0KTtcbnQoXCJvbC5mb3JtYXQuZmlsdGVyLklzTGlrZVwiLFV0KTt0KFwib2wuZm9ybWF0LmZpbHRlci5Jc051bGxcIixWdCk7dChcIm9sLmZvcm1hdC5maWx0ZXIuTGVzc1RoYW5cIixXdCk7dChcIm9sLmZvcm1hdC5maWx0ZXIuTGVzc1RoYW5PckVxdWFsVG9cIixYdCk7dChcIm9sLmZvcm1hdC5maWx0ZXIuTm90XCIsWXQpO3QoXCJvbC5mb3JtYXQuZmlsdGVyLk5vdEVxdWFsVG9cIixadCk7dChcIm9sLmZvcm1hdC5maWx0ZXIuT3JcIiwkdCk7dChcIm9sLmZvcm1hdC5maWx0ZXIuU3BhdGlhbFwiLEt0KTt0KFwib2wuZm9ybWF0LmZpbHRlci5XaXRoaW5cIixhdSk7dChcIm9sLmV2ZW50cy5jb25kaXRpb24uYWx0S2V5T25seVwiLFdnKTt0KFwib2wuZXZlbnRzLmNvbmRpdGlvbi5hbHRTaGlmdEtleXNPbmx5XCIsWGcpO3QoXCJvbC5ldmVudHMuY29uZGl0aW9uLmFsd2F5c1wiLFJlKTt0KFwib2wuZXZlbnRzLmNvbmRpdGlvbi5jbGlja1wiLGZ1bmN0aW9uKGEpe3JldHVyblwiY2xpY2tcIj09YS50eXBlfSk7XG50KFwib2wuZXZlbnRzLmNvbmRpdGlvbi5uZXZlclwiLFNlKTt0KFwib2wuZXZlbnRzLmNvbmRpdGlvbi5wb2ludGVyTW92ZVwiLFpnKTt0KFwib2wuZXZlbnRzLmNvbmRpdGlvbi5zaW5nbGVDbGlja1wiLCRnKTt0KFwib2wuZXZlbnRzLmNvbmRpdGlvbi5kb3VibGVDbGlja1wiLGZ1bmN0aW9uKGEpe3JldHVyblwiZGJsY2xpY2tcIj09YS50eXBlfSk7dChcIm9sLmV2ZW50cy5jb25kaXRpb24ubm9Nb2RpZmllcktleXNcIixhaCk7dChcIm9sLmV2ZW50cy5jb25kaXRpb24ucGxhdGZvcm1Nb2RpZmllcktleU9ubHlcIixmdW5jdGlvbihhKXthPWEub3JpZ2luYWxFdmVudDtyZXR1cm4hYS5hbHRLZXkmJihtZD9hLm1ldGFLZXk6YS5jdHJsS2V5KSYmIWEuc2hpZnRLZXl9KTt0KFwib2wuZXZlbnRzLmNvbmRpdGlvbi5zaGlmdEtleU9ubHlcIixiaCk7dChcIm9sLmV2ZW50cy5jb25kaXRpb24udGFyZ2V0Tm90RWRpdGFibGVcIixjaCk7dChcIm9sLmV2ZW50cy5jb25kaXRpb24ubW91c2VPbmx5XCIsZGgpO1xudChcIm9sLmV2ZW50cy5jb25kaXRpb24ucHJpbWFyeUFjdGlvblwiLGVoKTtRYy5wcm90b3R5cGUudHlwZT1RYy5wcm90b3R5cGUudHlwZTtRYy5wcm90b3R5cGUudGFyZ2V0PVFjLnByb3RvdHlwZS50YXJnZXQ7UWMucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PVFjLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdDtRYy5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uPVFjLnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb247dChcIm9sLmNvbnRyb2wuQXR0cmlidXRpb25cIix6Zyk7dChcIm9sLmNvbnRyb2wuQXR0cmlidXRpb24ucmVuZGVyXCIsQWcpO3pnLnByb3RvdHlwZS5nZXRDb2xsYXBzaWJsZT16Zy5wcm90b3R5cGUuQW47emcucHJvdG90eXBlLnNldENvbGxhcHNpYmxlPXpnLnByb3RvdHlwZS5Ebjt6Zy5wcm90b3R5cGUuc2V0Q29sbGFwc2VkPXpnLnByb3RvdHlwZS5Dbjt6Zy5wcm90b3R5cGUuZ2V0Q29sbGFwc2VkPXpnLnByb3RvdHlwZS56bjt0KFwib2wuY29udHJvbC5Db250cm9sXCIsdmcpO1xudmcucHJvdG90eXBlLmdldE1hcD12Zy5wcm90b3R5cGUuZjt2Zy5wcm90b3R5cGUuc2V0TWFwPXZnLnByb3RvdHlwZS5zZXRNYXA7dmcucHJvdG90eXBlLnNldFRhcmdldD12Zy5wcm90b3R5cGUuaTt0KFwib2wuY29udHJvbC5GdWxsU2NyZWVuXCIsTW4pO3QoXCJvbC5jb250cm9sLk1vdXNlUG9zaXRpb25cIixSbik7dChcIm9sLmNvbnRyb2wuTW91c2VQb3NpdGlvbi5yZW5kZXJcIixTbik7Um4ucHJvdG90eXBlLmdldENvb3JkaW5hdGVGb3JtYXQ9Um4ucHJvdG90eXBlLlFoO1JuLnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uPVJuLnByb3RvdHlwZS5zaTtSbi5wcm90b3R5cGUuc2V0Q29vcmRpbmF0ZUZvcm1hdD1Sbi5wcm90b3R5cGUuR2o7Um4ucHJvdG90eXBlLnNldFByb2plY3Rpb249Um4ucHJvdG90eXBlLnRpO3QoXCJvbC5jb250cm9sLk92ZXJ2aWV3TWFwXCIsV24pO3QoXCJvbC5jb250cm9sLk92ZXJ2aWV3TWFwLnJlbmRlclwiLFhuKTtXbi5wcm90b3R5cGUuZ2V0Q29sbGFwc2libGU9V24ucHJvdG90eXBlLkduO1xuV24ucHJvdG90eXBlLnNldENvbGxhcHNpYmxlPVduLnByb3RvdHlwZS5KbjtXbi5wcm90b3R5cGUuc2V0Q29sbGFwc2VkPVduLnByb3RvdHlwZS5JbjtXbi5wcm90b3R5cGUuZ2V0Q29sbGFwc2VkPVduLnByb3RvdHlwZS5GbjtXbi5wcm90b3R5cGUuZ2V0T3ZlcnZpZXdNYXA9V24ucHJvdG90eXBlLkhsO3QoXCJvbC5jb250cm9sLlJvdGF0ZVwiLENnKTt0KFwib2wuY29udHJvbC5Sb3RhdGUucmVuZGVyXCIsRGcpO3QoXCJvbC5jb250cm9sLlNjYWxlTGluZVwiLGFvKTthby5wcm90b3R5cGUuZ2V0VW5pdHM9YW8ucHJvdG90eXBlLkM7dChcIm9sLmNvbnRyb2wuU2NhbGVMaW5lLnJlbmRlclwiLGJvKTthby5wcm90b3R5cGUuc2V0VW5pdHM9YW8ucHJvdG90eXBlLk87dChcIm9sLmNvbnRyb2wuWm9vbVwiLEVnKTt0KFwib2wuY29udHJvbC5ab29tU2xpZGVyXCIsZ28pO3QoXCJvbC5jb250cm9sLlpvb21TbGlkZXIucmVuZGVyXCIsaW8pO3QoXCJvbC5jb250cm9sLlpvb21Ub0V4dGVudFwiLGxvKTtcblZjLnByb3RvdHlwZS5jaGFuZ2VkPVZjLnByb3RvdHlwZS51O1ZjLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PVZjLnByb3RvdHlwZS5iO1ZjLnByb3RvdHlwZS5nZXRSZXZpc2lvbj1WYy5wcm90b3R5cGUuSztWYy5wcm90b3R5cGUub249VmMucHJvdG90eXBlLkk7VmMucHJvdG90eXBlLm9uY2U9VmMucHJvdG90eXBlLm9uY2U7VmMucHJvdG90eXBlLnVuPVZjLnByb3RvdHlwZS5KO0cucHJvdG90eXBlLmdldD1HLnByb3RvdHlwZS5nZXQ7Ry5wcm90b3R5cGUuZ2V0S2V5cz1HLnByb3RvdHlwZS5QO0cucHJvdG90eXBlLmdldFByb3BlcnRpZXM9Ry5wcm90b3R5cGUuTDtHLnByb3RvdHlwZS5zZXQ9Ry5wcm90b3R5cGUuc2V0O0cucHJvdG90eXBlLnNldFByb3BlcnRpZXM9Ry5wcm90b3R5cGUuSDtHLnByb3RvdHlwZS51bnNldD1HLnByb3RvdHlwZS5SO0cucHJvdG90eXBlLmNoYW5nZWQ9Ry5wcm90b3R5cGUudTtHLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PUcucHJvdG90eXBlLmI7XG5HLnByb3RvdHlwZS5nZXRSZXZpc2lvbj1HLnByb3RvdHlwZS5LO0cucHJvdG90eXBlLm9uPUcucHJvdG90eXBlLkk7Ry5wcm90b3R5cGUub25jZT1HLnByb3RvdHlwZS5vbmNlO0cucHJvdG90eXBlLnVuPUcucHJvdG90eXBlLko7SC5wcm90b3R5cGUuYWRkQ29udHJvbD1ILnByb3RvdHlwZS5NZjtILnByb3RvdHlwZS5hZGRJbnRlcmFjdGlvbj1ILnByb3RvdHlwZS5OZjtILnByb3RvdHlwZS5hZGRMYXllcj1ILnByb3RvdHlwZS54ZTtILnByb3RvdHlwZS5hZGRPdmVybGF5PUgucHJvdG90eXBlLnllO0gucHJvdG90eXBlLmZvckVhY2hGZWF0dXJlQXRQaXhlbD1ILnByb3RvdHlwZS5UYztILnByb3RvdHlwZS5nZXRGZWF0dXJlc0F0UGl4ZWw9SC5wcm90b3R5cGUuWGY7SC5wcm90b3R5cGUuZm9yRWFjaExheWVyQXRQaXhlbD1ILnByb3RvdHlwZS50ZztILnByb3RvdHlwZS5oYXNGZWF0dXJlQXRQaXhlbD1ILnByb3RvdHlwZS5uZztcbkgucHJvdG90eXBlLmdldEV2ZW50Q29vcmRpbmF0ZT1ILnByb3RvdHlwZS5TZDtILnByb3RvdHlwZS5nZXRFdmVudFBpeGVsPUgucHJvdG90eXBlLnVkO0gucHJvdG90eXBlLmdldFRhcmdldD1ILnByb3RvdHlwZS5YZDtILnByb3RvdHlwZS5nZXRUYXJnZXRFbGVtZW50PUgucHJvdG90eXBlLkNjO0gucHJvdG90eXBlLmdldENvb3JkaW5hdGVGcm9tUGl4ZWw9SC5wcm90b3R5cGUuUmE7SC5wcm90b3R5cGUuZ2V0Q29udHJvbHM9SC5wcm90b3R5cGUuV2Y7SC5wcm90b3R5cGUuZ2V0T3ZlcmxheXM9SC5wcm90b3R5cGUuZ2c7SC5wcm90b3R5cGUuZ2V0T3ZlcmxheUJ5SWQ9SC5wcm90b3R5cGUuZmc7SC5wcm90b3R5cGUuZ2V0SW50ZXJhY3Rpb25zPUgucHJvdG90eXBlLmJnO0gucHJvdG90eXBlLmdldExheWVyR3JvdXA9SC5wcm90b3R5cGUuaGM7SC5wcm90b3R5cGUuZ2V0TGF5ZXJzPUgucHJvdG90eXBlLlhlO0gucHJvdG90eXBlLmdldFBpeGVsRnJvbUNvb3JkaW5hdGU9SC5wcm90b3R5cGUuSWE7XG5ILnByb3RvdHlwZS5nZXRTaXplPUgucHJvdG90eXBlLkNiO0gucHJvdG90eXBlLmdldFZpZXc9SC5wcm90b3R5cGUuYWE7SC5wcm90b3R5cGUuZ2V0Vmlld3BvcnQ9SC5wcm90b3R5cGUua2c7SC5wcm90b3R5cGUucmVuZGVyU3luYz1ILnByb3RvdHlwZS5kaDtILnByb3RvdHlwZS5yZW5kZXI9SC5wcm90b3R5cGUucmVuZGVyO0gucHJvdG90eXBlLnJlbW92ZUNvbnRyb2w9SC5wcm90b3R5cGUuWGc7SC5wcm90b3R5cGUucmVtb3ZlSW50ZXJhY3Rpb249SC5wcm90b3R5cGUuWmc7SC5wcm90b3R5cGUucmVtb3ZlTGF5ZXI9SC5wcm90b3R5cGUuJGc7SC5wcm90b3R5cGUucmVtb3ZlT3ZlcmxheT1ILnByb3RvdHlwZS5haDtILnByb3RvdHlwZS5zZXRMYXllckdyb3VwPUgucHJvdG90eXBlLnpmO0gucHJvdG90eXBlLnNldFNpemU9SC5wcm90b3R5cGUuYmU7SC5wcm90b3R5cGUuc2V0VGFyZ2V0PUgucHJvdG90eXBlLkFkO0gucHJvdG90eXBlLnNldFZpZXc9SC5wcm90b3R5cGUuamg7XG5ILnByb3RvdHlwZS51cGRhdGVTaXplPUgucHJvdG90eXBlLk9jO0gucHJvdG90eXBlLmdldD1ILnByb3RvdHlwZS5nZXQ7SC5wcm90b3R5cGUuZ2V0S2V5cz1ILnByb3RvdHlwZS5QO0gucHJvdG90eXBlLmdldFByb3BlcnRpZXM9SC5wcm90b3R5cGUuTDtILnByb3RvdHlwZS5zZXQ9SC5wcm90b3R5cGUuc2V0O0gucHJvdG90eXBlLnNldFByb3BlcnRpZXM9SC5wcm90b3R5cGUuSDtILnByb3RvdHlwZS51bnNldD1ILnByb3RvdHlwZS5SO0gucHJvdG90eXBlLmNoYW5nZWQ9SC5wcm90b3R5cGUudTtILnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PUgucHJvdG90eXBlLmI7SC5wcm90b3R5cGUuZ2V0UmV2aXNpb249SC5wcm90b3R5cGUuSztILnByb3RvdHlwZS5vbj1ILnByb3RvdHlwZS5JO0gucHJvdG90eXBlLm9uY2U9SC5wcm90b3R5cGUub25jZTtILnByb3RvdHlwZS51bj1ILnByb3RvdHlwZS5KO0IucHJvdG90eXBlLmdldD1CLnByb3RvdHlwZS5nZXQ7XG5CLnByb3RvdHlwZS5nZXRLZXlzPUIucHJvdG90eXBlLlA7Qi5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1CLnByb3RvdHlwZS5MO0IucHJvdG90eXBlLnNldD1CLnByb3RvdHlwZS5zZXQ7Qi5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1CLnByb3RvdHlwZS5IO0IucHJvdG90eXBlLnVuc2V0PUIucHJvdG90eXBlLlI7Qi5wcm90b3R5cGUuY2hhbmdlZD1CLnByb3RvdHlwZS51O0IucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9Qi5wcm90b3R5cGUuYjtCLnByb3RvdHlwZS5nZXRSZXZpc2lvbj1CLnByb3RvdHlwZS5LO0IucHJvdG90eXBlLm9uPUIucHJvdG90eXBlLkk7Qi5wcm90b3R5cGUub25jZT1CLnByb3RvdHlwZS5vbmNlO0IucHJvdG90eXBlLnVuPUIucHJvdG90eXBlLko7Y2QucHJvdG90eXBlLnR5cGU9Y2QucHJvdG90eXBlLnR5cGU7Y2QucHJvdG90eXBlLnRhcmdldD1jZC5wcm90b3R5cGUudGFyZ2V0O2NkLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1jZC5wcm90b3R5cGUucHJldmVudERlZmF1bHQ7XG5jZC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uPWNkLnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb247cGsucHJvdG90eXBlLmdldD1way5wcm90b3R5cGUuZ2V0O3BrLnByb3RvdHlwZS5nZXRLZXlzPXBrLnByb3RvdHlwZS5QO3BrLnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPXBrLnByb3RvdHlwZS5MO3BrLnByb3RvdHlwZS5zZXQ9cGsucHJvdG90eXBlLnNldDtway5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1way5wcm90b3R5cGUuSDtway5wcm90b3R5cGUudW5zZXQ9cGsucHJvdG90eXBlLlI7cGsucHJvdG90eXBlLmNoYW5nZWQ9cGsucHJvdG90eXBlLnU7cGsucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9cGsucHJvdG90eXBlLmI7cGsucHJvdG90eXBlLmdldFJldmlzaW9uPXBrLnByb3RvdHlwZS5LO3BrLnByb3RvdHlwZS5vbj1way5wcm90b3R5cGUuSTtway5wcm90b3R5cGUub25jZT1way5wcm90b3R5cGUub25jZTtway5wcm90b3R5cGUudW49cGsucHJvdG90eXBlLko7XG5Iay5wcm90b3R5cGUuZ2V0PUhrLnByb3RvdHlwZS5nZXQ7SGsucHJvdG90eXBlLmdldEtleXM9SGsucHJvdG90eXBlLlA7SGsucHJvdG90eXBlLmdldFByb3BlcnRpZXM9SGsucHJvdG90eXBlLkw7SGsucHJvdG90eXBlLnNldD1Iay5wcm90b3R5cGUuc2V0O0hrLnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPUhrLnByb3RvdHlwZS5IO0hrLnByb3RvdHlwZS51bnNldD1Iay5wcm90b3R5cGUuUjtIay5wcm90b3R5cGUuY2hhbmdlZD1Iay5wcm90b3R5cGUudTtIay5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1Iay5wcm90b3R5cGUuYjtIay5wcm90b3R5cGUuZ2V0UmV2aXNpb249SGsucHJvdG90eXBlLks7SGsucHJvdG90eXBlLm9uPUhrLnByb3RvdHlwZS5JO0hrLnByb3RvdHlwZS5vbmNlPUhrLnByb3RvdHlwZS5vbmNlO0hrLnByb3RvdHlwZS51bj1Iay5wcm90b3R5cGUuSjtKay5wcm90b3R5cGUuZ2V0PUprLnByb3RvdHlwZS5nZXQ7SmsucHJvdG90eXBlLmdldEtleXM9SmsucHJvdG90eXBlLlA7XG5Kay5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1Kay5wcm90b3R5cGUuTDtKay5wcm90b3R5cGUuc2V0PUprLnByb3RvdHlwZS5zZXQ7SmsucHJvdG90eXBlLnNldFByb3BlcnRpZXM9SmsucHJvdG90eXBlLkg7SmsucHJvdG90eXBlLnVuc2V0PUprLnByb3RvdHlwZS5SO0prLnByb3RvdHlwZS5jaGFuZ2VkPUprLnByb3RvdHlwZS51O0prLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PUprLnByb3RvdHlwZS5iO0prLnByb3RvdHlwZS5nZXRSZXZpc2lvbj1Kay5wcm90b3R5cGUuSztKay5wcm90b3R5cGUub249SmsucHJvdG90eXBlLkk7SmsucHJvdG90eXBlLm9uY2U9SmsucHJvdG90eXBlLm9uY2U7SmsucHJvdG90eXBlLnVuPUprLnByb3RvdHlwZS5KO2VsLnByb3RvdHlwZS5nZXRUaWxlQ29vcmQ9ZWwucHJvdG90eXBlLmk7ZWwucHJvdG90eXBlLmxvYWQ9ZWwucHJvdG90eXBlLmxvYWQ7Sy5wcm90b3R5cGUuYWRkQ29udHJvbD1LLnByb3RvdHlwZS5NZjtcbksucHJvdG90eXBlLmFkZEludGVyYWN0aW9uPUsucHJvdG90eXBlLk5mO0sucHJvdG90eXBlLmFkZExheWVyPUsucHJvdG90eXBlLnhlO0sucHJvdG90eXBlLmFkZE92ZXJsYXk9Sy5wcm90b3R5cGUueWU7Sy5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmVBdFBpeGVsPUsucHJvdG90eXBlLlRjO0sucHJvdG90eXBlLmdldEZlYXR1cmVzQXRQaXhlbD1LLnByb3RvdHlwZS5YZjtLLnByb3RvdHlwZS5mb3JFYWNoTGF5ZXJBdFBpeGVsPUsucHJvdG90eXBlLnRnO0sucHJvdG90eXBlLmhhc0ZlYXR1cmVBdFBpeGVsPUsucHJvdG90eXBlLm5nO0sucHJvdG90eXBlLmdldEV2ZW50Q29vcmRpbmF0ZT1LLnByb3RvdHlwZS5TZDtLLnByb3RvdHlwZS5nZXRFdmVudFBpeGVsPUsucHJvdG90eXBlLnVkO0sucHJvdG90eXBlLmdldFRhcmdldD1LLnByb3RvdHlwZS5YZDtLLnByb3RvdHlwZS5nZXRUYXJnZXRFbGVtZW50PUsucHJvdG90eXBlLkNjO1xuSy5wcm90b3R5cGUuZ2V0Q29vcmRpbmF0ZUZyb21QaXhlbD1LLnByb3RvdHlwZS5SYTtLLnByb3RvdHlwZS5nZXRDb250cm9scz1LLnByb3RvdHlwZS5XZjtLLnByb3RvdHlwZS5nZXRPdmVybGF5cz1LLnByb3RvdHlwZS5nZztLLnByb3RvdHlwZS5nZXRPdmVybGF5QnlJZD1LLnByb3RvdHlwZS5mZztLLnByb3RvdHlwZS5nZXRJbnRlcmFjdGlvbnM9Sy5wcm90b3R5cGUuYmc7Sy5wcm90b3R5cGUuZ2V0TGF5ZXJHcm91cD1LLnByb3RvdHlwZS5oYztLLnByb3RvdHlwZS5nZXRMYXllcnM9Sy5wcm90b3R5cGUuWGU7Sy5wcm90b3R5cGUuZ2V0UGl4ZWxGcm9tQ29vcmRpbmF0ZT1LLnByb3RvdHlwZS5JYTtLLnByb3RvdHlwZS5nZXRTaXplPUsucHJvdG90eXBlLkNiO0sucHJvdG90eXBlLmdldFZpZXc9Sy5wcm90b3R5cGUuYWE7Sy5wcm90b3R5cGUuZ2V0Vmlld3BvcnQ9Sy5wcm90b3R5cGUua2c7Sy5wcm90b3R5cGUucmVuZGVyU3luYz1LLnByb3RvdHlwZS5kaDtcbksucHJvdG90eXBlLnJlbmRlcj1LLnByb3RvdHlwZS5yZW5kZXI7Sy5wcm90b3R5cGUucmVtb3ZlQ29udHJvbD1LLnByb3RvdHlwZS5YZztLLnByb3RvdHlwZS5yZW1vdmVJbnRlcmFjdGlvbj1LLnByb3RvdHlwZS5aZztLLnByb3RvdHlwZS5yZW1vdmVMYXllcj1LLnByb3RvdHlwZS4kZztLLnByb3RvdHlwZS5yZW1vdmVPdmVybGF5PUsucHJvdG90eXBlLmFoO0sucHJvdG90eXBlLnNldExheWVyR3JvdXA9Sy5wcm90b3R5cGUuemY7Sy5wcm90b3R5cGUuc2V0U2l6ZT1LLnByb3RvdHlwZS5iZTtLLnByb3RvdHlwZS5zZXRUYXJnZXQ9Sy5wcm90b3R5cGUuQWQ7Sy5wcm90b3R5cGUuc2V0Vmlldz1LLnByb3RvdHlwZS5qaDtLLnByb3RvdHlwZS51cGRhdGVTaXplPUsucHJvdG90eXBlLk9jO0sucHJvdG90eXBlLmdldD1LLnByb3RvdHlwZS5nZXQ7Sy5wcm90b3R5cGUuZ2V0S2V5cz1LLnByb3RvdHlwZS5QO0sucHJvdG90eXBlLmdldFByb3BlcnRpZXM9Sy5wcm90b3R5cGUuTDtcbksucHJvdG90eXBlLnNldD1LLnByb3RvdHlwZS5zZXQ7Sy5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1LLnByb3RvdHlwZS5IO0sucHJvdG90eXBlLnVuc2V0PUsucHJvdG90eXBlLlI7Sy5wcm90b3R5cGUuY2hhbmdlZD1LLnByb3RvdHlwZS51O0sucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9Sy5wcm90b3R5cGUuYjtLLnByb3RvdHlwZS5nZXRSZXZpc2lvbj1LLnByb3RvdHlwZS5LO0sucHJvdG90eXBlLm9uPUsucHJvdG90eXBlLkk7Sy5wcm90b3R5cGUub25jZT1LLnByb3RvdHlwZS5vbmNlO0sucHJvdG90eXBlLnVuPUsucHJvdG90eXBlLko7ZGQucHJvdG90eXBlLnR5cGU9ZGQucHJvdG90eXBlLnR5cGU7ZGQucHJvdG90eXBlLnRhcmdldD1kZC5wcm90b3R5cGUudGFyZ2V0O2RkLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1kZC5wcm90b3R5cGUucHJldmVudERlZmF1bHQ7ZGQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbj1kZC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uO1xuZWQucHJvdG90eXBlLm1hcD1lZC5wcm90b3R5cGUubWFwO2VkLnByb3RvdHlwZS5mcmFtZVN0YXRlPWVkLnByb3RvdHlwZS5mcmFtZVN0YXRlO2VkLnByb3RvdHlwZS50eXBlPWVkLnByb3RvdHlwZS50eXBlO2VkLnByb3RvdHlwZS50YXJnZXQ9ZWQucHJvdG90eXBlLnRhcmdldDtlZC5wcm90b3R5cGUucHJldmVudERlZmF1bHQ9ZWQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0O2VkLnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb249ZWQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbjtBZC5wcm90b3R5cGUub3JpZ2luYWxFdmVudD1BZC5wcm90b3R5cGUub3JpZ2luYWxFdmVudDtBZC5wcm90b3R5cGUucGl4ZWw9QWQucHJvdG90eXBlLnBpeGVsO0FkLnByb3RvdHlwZS5jb29yZGluYXRlPUFkLnByb3RvdHlwZS5jb29yZGluYXRlO0FkLnByb3RvdHlwZS5kcmFnZ2luZz1BZC5wcm90b3R5cGUuZHJhZ2dpbmc7QWQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PUFkLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdDtcbkFkLnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb249QWQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbjtBZC5wcm90b3R5cGUubWFwPUFkLnByb3RvdHlwZS5tYXA7QWQucHJvdG90eXBlLmZyYW1lU3RhdGU9QWQucHJvdG90eXBlLmZyYW1lU3RhdGU7QWQucHJvdG90eXBlLnR5cGU9QWQucHJvdG90eXBlLnR5cGU7QWQucHJvdG90eXBlLnRhcmdldD1BZC5wcm90b3R5cGUudGFyZ2V0O1pjLnByb3RvdHlwZS50eXBlPVpjLnByb3RvdHlwZS50eXBlO1pjLnByb3RvdHlwZS50YXJnZXQ9WmMucHJvdG90eXBlLnRhcmdldDtaYy5wcm90b3R5cGUucHJldmVudERlZmF1bHQ9WmMucHJvdG90eXBlLnByZXZlbnREZWZhdWx0O1pjLnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb249WmMucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbjtCbi5wcm90b3R5cGUuZ2V0PUJuLnByb3RvdHlwZS5nZXQ7Qm4ucHJvdG90eXBlLmdldEtleXM9Qm4ucHJvdG90eXBlLlA7XG5Cbi5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1Cbi5wcm90b3R5cGUuTDtCbi5wcm90b3R5cGUuc2V0PUJuLnByb3RvdHlwZS5zZXQ7Qm4ucHJvdG90eXBlLnNldFByb3BlcnRpZXM9Qm4ucHJvdG90eXBlLkg7Qm4ucHJvdG90eXBlLnVuc2V0PUJuLnByb3RvdHlwZS5SO0JuLnByb3RvdHlwZS5jaGFuZ2VkPUJuLnByb3RvdHlwZS51O0JuLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PUJuLnByb3RvdHlwZS5iO0JuLnByb3RvdHlwZS5nZXRSZXZpc2lvbj1Cbi5wcm90b3R5cGUuSztCbi5wcm90b3R5cGUub249Qm4ucHJvdG90eXBlLkk7Qm4ucHJvdG90eXBlLm9uY2U9Qm4ucHJvdG90eXBlLm9uY2U7Qm4ucHJvdG90eXBlLnVuPUJuLnByb3RvdHlwZS5KO3B6LnByb3RvdHlwZS5nZXRUaWxlQ29vcmQ9cHoucHJvdG90eXBlLmk7cHoucHJvdG90eXBlLmxvYWQ9cHoucHJvdG90eXBlLmxvYWQ7S24ucHJvdG90eXBlLmdldFRpbGVDb29yZD1Lbi5wcm90b3R5cGUuaTtcbktuLnByb3RvdHlwZS5sb2FkPUtuLnByb3RvdHlwZS5sb2FkO0YucHJvdG90eXBlLmdldD1GLnByb3RvdHlwZS5nZXQ7Ri5wcm90b3R5cGUuZ2V0S2V5cz1GLnByb3RvdHlwZS5QO0YucHJvdG90eXBlLmdldFByb3BlcnRpZXM9Ri5wcm90b3R5cGUuTDtGLnByb3RvdHlwZS5zZXQ9Ri5wcm90b3R5cGUuc2V0O0YucHJvdG90eXBlLnNldFByb3BlcnRpZXM9Ri5wcm90b3R5cGUuSDtGLnByb3RvdHlwZS51bnNldD1GLnByb3RvdHlwZS5SO0YucHJvdG90eXBlLmNoYW5nZWQ9Ri5wcm90b3R5cGUudTtGLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PUYucHJvdG90eXBlLmI7Ri5wcm90b3R5cGUuZ2V0UmV2aXNpb249Ri5wcm90b3R5cGUuSztGLnByb3RvdHlwZS5vbj1GLnByb3RvdHlwZS5JO0YucHJvdG90eXBlLm9uY2U9Ri5wcm90b3R5cGUub25jZTtGLnByb3RvdHlwZS51bj1GLnByb3RvdHlwZS5KO3N6LnByb3RvdHlwZS5mb3JFYWNoVGlsZUNvb3JkPXN6LnByb3RvdHlwZS5WZjtcbnN6LnByb3RvdHlwZS5nZXRNYXhab29tPXN6LnByb3RvdHlwZS5tajtzei5wcm90b3R5cGUuZ2V0TWluWm9vbT1zei5wcm90b3R5cGUubmo7c3oucHJvdG90eXBlLmdldE9yaWdpbj1zei5wcm90b3R5cGUuSWM7c3oucHJvdG90eXBlLmdldFJlc29sdXRpb249c3oucHJvdG90eXBlLlRhO3N6LnByb3RvdHlwZS5nZXRSZXNvbHV0aW9ucz1zei5wcm90b3R5cGUub2o7c3oucHJvdG90eXBlLmdldFRpbGVDb29yZEV4dGVudD1zei5wcm90b3R5cGUuTWE7c3oucHJvdG90eXBlLmdldFRpbGVDb29yZEZvckNvb3JkQW5kUmVzb2x1dGlvbj1zei5wcm90b3R5cGUuTGU7c3oucHJvdG90eXBlLmdldFRpbGVDb29yZEZvckNvb3JkQW5kWj1zei5wcm90b3R5cGUuamc7c3oucHJvdG90eXBlLmdldFRpbGVTaXplPXN6LnByb3RvdHlwZS5aYTtzei5wcm90b3R5cGUuZ2V0WkZvclJlc29sdXRpb249c3oucHJvdG90eXBlLkRjO3drLnByb3RvdHlwZS5nZXRPcGFjaXR5PXdrLnByb3RvdHlwZS5oZjtcbndrLnByb3RvdHlwZS5nZXRSb3RhdGVXaXRoVmlldz13ay5wcm90b3R5cGUuamY7d2sucHJvdG90eXBlLmdldFJvdGF0aW9uPXdrLnByb3RvdHlwZS5rZjt3ay5wcm90b3R5cGUuZ2V0U2NhbGU9d2sucHJvdG90eXBlLmxmO3drLnByb3RvdHlwZS5nZXRTbmFwVG9QaXhlbD13ay5wcm90b3R5cGUuS2U7d2sucHJvdG90eXBlLnNldE9wYWNpdHk9d2sucHJvdG90eXBlLkVkO3drLnByb3RvdHlwZS5zZXRSb3RhdGlvbj13ay5wcm90b3R5cGUubWY7d2sucHJvdG90eXBlLnNldFNjYWxlPXdrLnByb3RvdHlwZS5GZDt5ay5wcm90b3R5cGUuY2xvbmU9eWsucHJvdG90eXBlLmNsb25lO3lrLnByb3RvdHlwZS5nZXRBbmdsZT15ay5wcm90b3R5cGUuaWo7eWsucHJvdG90eXBlLmdldEZpbGw9eWsucHJvdG90eXBlLkZhO3lrLnByb3RvdHlwZS5nZXRQb2ludHM9eWsucHJvdG90eXBlLmpqO3lrLnByb3RvdHlwZS5nZXRSYWRpdXM9eWsucHJvdG90eXBlLmtqO1xueWsucHJvdG90eXBlLmdldFJhZGl1czI9eWsucHJvdG90eXBlLlpoO3lrLnByb3RvdHlwZS5nZXRTdHJva2U9eWsucHJvdG90eXBlLkdhO3lrLnByb3RvdHlwZS5nZXRPcGFjaXR5PXlrLnByb3RvdHlwZS5oZjt5ay5wcm90b3R5cGUuZ2V0Um90YXRlV2l0aFZpZXc9eWsucHJvdG90eXBlLmpmO3lrLnByb3RvdHlwZS5nZXRSb3RhdGlvbj15ay5wcm90b3R5cGUua2Y7eWsucHJvdG90eXBlLmdldFNjYWxlPXlrLnByb3RvdHlwZS5sZjt5ay5wcm90b3R5cGUuZ2V0U25hcFRvUGl4ZWw9eWsucHJvdG90eXBlLktlO3lrLnByb3RvdHlwZS5zZXRPcGFjaXR5PXlrLnByb3RvdHlwZS5FZDt5ay5wcm90b3R5cGUuc2V0Um90YXRpb249eWsucHJvdG90eXBlLm1mO3lrLnByb3RvdHlwZS5zZXRTY2FsZT15ay5wcm90b3R5cGUuRmQ7ZHIucHJvdG90eXBlLmdldE9wYWNpdHk9ZHIucHJvdG90eXBlLmhmO2RyLnByb3RvdHlwZS5nZXRSb3RhdGVXaXRoVmlldz1kci5wcm90b3R5cGUuamY7XG5kci5wcm90b3R5cGUuZ2V0Um90YXRpb249ZHIucHJvdG90eXBlLmtmO2RyLnByb3RvdHlwZS5nZXRTY2FsZT1kci5wcm90b3R5cGUubGY7ZHIucHJvdG90eXBlLmdldFNuYXBUb1BpeGVsPWRyLnByb3RvdHlwZS5LZTtkci5wcm90b3R5cGUuc2V0T3BhY2l0eT1kci5wcm90b3R5cGUuRWQ7ZHIucHJvdG90eXBlLnNldFJvdGF0aW9uPWRyLnByb3RvdHlwZS5tZjtkci5wcm90b3R5cGUuc2V0U2NhbGU9ZHIucHJvdG90eXBlLkZkO3V3LnByb3RvdHlwZS5nZXQ9dXcucHJvdG90eXBlLmdldDt1dy5wcm90b3R5cGUuZ2V0S2V5cz11dy5wcm90b3R5cGUuUDt1dy5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz11dy5wcm90b3R5cGUuTDt1dy5wcm90b3R5cGUuc2V0PXV3LnByb3RvdHlwZS5zZXQ7dXcucHJvdG90eXBlLnNldFByb3BlcnRpZXM9dXcucHJvdG90eXBlLkg7dXcucHJvdG90eXBlLnVuc2V0PXV3LnByb3RvdHlwZS5SO3V3LnByb3RvdHlwZS5jaGFuZ2VkPXV3LnByb3RvdHlwZS51O1xudXcucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9dXcucHJvdG90eXBlLmI7dXcucHJvdG90eXBlLmdldFJldmlzaW9uPXV3LnByb3RvdHlwZS5LO3V3LnByb3RvdHlwZS5vbj11dy5wcm90b3R5cGUuSTt1dy5wcm90b3R5cGUub25jZT11dy5wcm90b3R5cGUub25jZTt1dy5wcm90b3R5cGUudW49dXcucHJvdG90eXBlLko7aXkucHJvdG90eXBlLmdldEF0dHJpYnV0aW9ucz1peS5wcm90b3R5cGUuemE7aXkucHJvdG90eXBlLmdldExvZ289aXkucHJvdG90eXBlLkFhO2l5LnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uPWl5LnByb3RvdHlwZS5EYTtpeS5wcm90b3R5cGUuZ2V0U3RhdGU9aXkucHJvdG90eXBlLmdldFN0YXRlO2l5LnByb3RvdHlwZS5yZWZyZXNoPWl5LnByb3RvdHlwZS5zYTtpeS5wcm90b3R5cGUuc2V0QXR0cmlidXRpb25zPWl5LnByb3RvdHlwZS52YTtpeS5wcm90b3R5cGUuZ2V0PWl5LnByb3RvdHlwZS5nZXQ7aXkucHJvdG90eXBlLmdldEtleXM9aXkucHJvdG90eXBlLlA7XG5peS5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1peS5wcm90b3R5cGUuTDtpeS5wcm90b3R5cGUuc2V0PWl5LnByb3RvdHlwZS5zZXQ7aXkucHJvdG90eXBlLnNldFByb3BlcnRpZXM9aXkucHJvdG90eXBlLkg7aXkucHJvdG90eXBlLnVuc2V0PWl5LnByb3RvdHlwZS5SO2l5LnByb3RvdHlwZS5jaGFuZ2VkPWl5LnByb3RvdHlwZS51O2l5LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PWl5LnByb3RvdHlwZS5iO2l5LnByb3RvdHlwZS5nZXRSZXZpc2lvbj1peS5wcm90b3R5cGUuSztpeS5wcm90b3R5cGUub249aXkucHJvdG90eXBlLkk7aXkucHJvdG90eXBlLm9uY2U9aXkucHJvdG90eXBlLm9uY2U7aXkucHJvdG90eXBlLnVuPWl5LnByb3RvdHlwZS5KO215LnByb3RvdHlwZS5nZXRUaWxlR3JpZD1teS5wcm90b3R5cGUuamI7bXkucHJvdG90eXBlLnJlZnJlc2g9bXkucHJvdG90eXBlLnNhO215LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGlvbnM9bXkucHJvdG90eXBlLnphO1xubXkucHJvdG90eXBlLmdldExvZ289bXkucHJvdG90eXBlLkFhO215LnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uPW15LnByb3RvdHlwZS5EYTtteS5wcm90b3R5cGUuZ2V0U3RhdGU9bXkucHJvdG90eXBlLmdldFN0YXRlO215LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGlvbnM9bXkucHJvdG90eXBlLnZhO215LnByb3RvdHlwZS5nZXQ9bXkucHJvdG90eXBlLmdldDtteS5wcm90b3R5cGUuZ2V0S2V5cz1teS5wcm90b3R5cGUuUDtteS5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1teS5wcm90b3R5cGUuTDtteS5wcm90b3R5cGUuc2V0PW15LnByb3RvdHlwZS5zZXQ7bXkucHJvdG90eXBlLnNldFByb3BlcnRpZXM9bXkucHJvdG90eXBlLkg7bXkucHJvdG90eXBlLnVuc2V0PW15LnByb3RvdHlwZS5SO215LnByb3RvdHlwZS5jaGFuZ2VkPW15LnByb3RvdHlwZS51O215LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PW15LnByb3RvdHlwZS5iO215LnByb3RvdHlwZS5nZXRSZXZpc2lvbj1teS5wcm90b3R5cGUuSztcbm15LnByb3RvdHlwZS5vbj1teS5wcm90b3R5cGUuSTtteS5wcm90b3R5cGUub25jZT1teS5wcm90b3R5cGUub25jZTtteS5wcm90b3R5cGUudW49bXkucHJvdG90eXBlLko7bnkucHJvdG90eXBlLmdldFRpbGVMb2FkRnVuY3Rpb249bnkucHJvdG90eXBlLnliO255LnByb3RvdHlwZS5nZXRUaWxlVXJsRnVuY3Rpb249bnkucHJvdG90eXBlLnpiO255LnByb3RvdHlwZS5nZXRVcmxzPW55LnByb3RvdHlwZS5BYjtueS5wcm90b3R5cGUuc2V0VGlsZUxvYWRGdW5jdGlvbj1ueS5wcm90b3R5cGUuRmI7bnkucHJvdG90eXBlLnNldFRpbGVVcmxGdW5jdGlvbj1ueS5wcm90b3R5cGUuaGI7bnkucHJvdG90eXBlLnNldFVybD1ueS5wcm90b3R5cGUucmI7bnkucHJvdG90eXBlLnNldFVybHM9bnkucHJvdG90eXBlLnZiO255LnByb3RvdHlwZS5nZXRUaWxlR3JpZD1ueS5wcm90b3R5cGUuamI7bnkucHJvdG90eXBlLnJlZnJlc2g9bnkucHJvdG90eXBlLnNhO1xubnkucHJvdG90eXBlLmdldEF0dHJpYnV0aW9ucz1ueS5wcm90b3R5cGUuemE7bnkucHJvdG90eXBlLmdldExvZ289bnkucHJvdG90eXBlLkFhO255LnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uPW55LnByb3RvdHlwZS5EYTtueS5wcm90b3R5cGUuZ2V0U3RhdGU9bnkucHJvdG90eXBlLmdldFN0YXRlO255LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGlvbnM9bnkucHJvdG90eXBlLnZhO255LnByb3RvdHlwZS5nZXQ9bnkucHJvdG90eXBlLmdldDtueS5wcm90b3R5cGUuZ2V0S2V5cz1ueS5wcm90b3R5cGUuUDtueS5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1ueS5wcm90b3R5cGUuTDtueS5wcm90b3R5cGUuc2V0PW55LnByb3RvdHlwZS5zZXQ7bnkucHJvdG90eXBlLnNldFByb3BlcnRpZXM9bnkucHJvdG90eXBlLkg7bnkucHJvdG90eXBlLnVuc2V0PW55LnByb3RvdHlwZS5SO255LnByb3RvdHlwZS5jaGFuZ2VkPW55LnByb3RvdHlwZS51O255LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PW55LnByb3RvdHlwZS5iO1xubnkucHJvdG90eXBlLmdldFJldmlzaW9uPW55LnByb3RvdHlwZS5LO255LnByb3RvdHlwZS5vbj1ueS5wcm90b3R5cGUuSTtueS5wcm90b3R5cGUub25jZT1ueS5wcm90b3R5cGUub25jZTtueS5wcm90b3R5cGUudW49bnkucHJvdG90eXBlLko7cnkucHJvdG90eXBlLnNldFJlbmRlclJlcHJvamVjdGlvbkVkZ2VzPXJ5LnByb3RvdHlwZS5RYjtyeS5wcm90b3R5cGUuc2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uPXJ5LnByb3RvdHlwZS5SYjtyeS5wcm90b3R5cGUuZ2V0VGlsZUxvYWRGdW5jdGlvbj1yeS5wcm90b3R5cGUueWI7cnkucHJvdG90eXBlLmdldFRpbGVVcmxGdW5jdGlvbj1yeS5wcm90b3R5cGUuemI7cnkucHJvdG90eXBlLmdldFVybHM9cnkucHJvdG90eXBlLkFiO3J5LnByb3RvdHlwZS5zZXRUaWxlTG9hZEZ1bmN0aW9uPXJ5LnByb3RvdHlwZS5GYjtyeS5wcm90b3R5cGUuc2V0VGlsZVVybEZ1bmN0aW9uPXJ5LnByb3RvdHlwZS5oYjtyeS5wcm90b3R5cGUuc2V0VXJsPXJ5LnByb3RvdHlwZS5yYjtcbnJ5LnByb3RvdHlwZS5zZXRVcmxzPXJ5LnByb3RvdHlwZS52YjtyeS5wcm90b3R5cGUuZ2V0VGlsZUdyaWQ9cnkucHJvdG90eXBlLmpiO3J5LnByb3RvdHlwZS5yZWZyZXNoPXJ5LnByb3RvdHlwZS5zYTtyeS5wcm90b3R5cGUuZ2V0QXR0cmlidXRpb25zPXJ5LnByb3RvdHlwZS56YTtyeS5wcm90b3R5cGUuZ2V0TG9nbz1yeS5wcm90b3R5cGUuQWE7cnkucHJvdG90eXBlLmdldFByb2plY3Rpb249cnkucHJvdG90eXBlLkRhO3J5LnByb3RvdHlwZS5nZXRTdGF0ZT1yeS5wcm90b3R5cGUuZ2V0U3RhdGU7cnkucHJvdG90eXBlLnNldEF0dHJpYnV0aW9ucz1yeS5wcm90b3R5cGUudmE7cnkucHJvdG90eXBlLmdldD1yeS5wcm90b3R5cGUuZ2V0O3J5LnByb3RvdHlwZS5nZXRLZXlzPXJ5LnByb3RvdHlwZS5QO3J5LnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPXJ5LnByb3RvdHlwZS5MO3J5LnByb3RvdHlwZS5zZXQ9cnkucHJvdG90eXBlLnNldDtcbnJ5LnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPXJ5LnByb3RvdHlwZS5IO3J5LnByb3RvdHlwZS51bnNldD1yeS5wcm90b3R5cGUuUjtyeS5wcm90b3R5cGUuY2hhbmdlZD1yeS5wcm90b3R5cGUudTtyeS5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1yeS5wcm90b3R5cGUuYjtyeS5wcm90b3R5cGUuZ2V0UmV2aXNpb249cnkucHJvdG90eXBlLks7cnkucHJvdG90eXBlLm9uPXJ5LnByb3RvdHlwZS5JO3J5LnByb3RvdHlwZS5vbmNlPXJ5LnByb3RvdHlwZS5vbmNlO3J5LnByb3RvdHlwZS51bj1yeS5wcm90b3R5cGUuSjtzeS5wcm90b3R5cGUuc2V0UmVuZGVyUmVwcm9qZWN0aW9uRWRnZXM9c3kucHJvdG90eXBlLlFiO3N5LnByb3RvdHlwZS5zZXRUaWxlR3JpZEZvclByb2plY3Rpb249c3kucHJvdG90eXBlLlJiO3N5LnByb3RvdHlwZS5nZXRUaWxlTG9hZEZ1bmN0aW9uPXN5LnByb3RvdHlwZS55YjtzeS5wcm90b3R5cGUuZ2V0VGlsZVVybEZ1bmN0aW9uPXN5LnByb3RvdHlwZS56YjtcbnN5LnByb3RvdHlwZS5nZXRVcmxzPXN5LnByb3RvdHlwZS5BYjtzeS5wcm90b3R5cGUuc2V0VGlsZUxvYWRGdW5jdGlvbj1zeS5wcm90b3R5cGUuRmI7c3kucHJvdG90eXBlLnNldFRpbGVVcmxGdW5jdGlvbj1zeS5wcm90b3R5cGUuaGI7c3kucHJvdG90eXBlLnNldFVybD1zeS5wcm90b3R5cGUucmI7c3kucHJvdG90eXBlLnNldFVybHM9c3kucHJvdG90eXBlLnZiO3N5LnByb3RvdHlwZS5nZXRUaWxlR3JpZD1zeS5wcm90b3R5cGUuamI7c3kucHJvdG90eXBlLnJlZnJlc2g9c3kucHJvdG90eXBlLnNhO3N5LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGlvbnM9c3kucHJvdG90eXBlLnphO3N5LnByb3RvdHlwZS5nZXRMb2dvPXN5LnByb3RvdHlwZS5BYTtzeS5wcm90b3R5cGUuZ2V0UHJvamVjdGlvbj1zeS5wcm90b3R5cGUuRGE7c3kucHJvdG90eXBlLmdldFN0YXRlPXN5LnByb3RvdHlwZS5nZXRTdGF0ZTtzeS5wcm90b3R5cGUuc2V0QXR0cmlidXRpb25zPXN5LnByb3RvdHlwZS52YTtcbnN5LnByb3RvdHlwZS5nZXQ9c3kucHJvdG90eXBlLmdldDtzeS5wcm90b3R5cGUuZ2V0S2V5cz1zeS5wcm90b3R5cGUuUDtzeS5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1zeS5wcm90b3R5cGUuTDtzeS5wcm90b3R5cGUuc2V0PXN5LnByb3RvdHlwZS5zZXQ7c3kucHJvdG90eXBlLnNldFByb3BlcnRpZXM9c3kucHJvdG90eXBlLkg7c3kucHJvdG90eXBlLnVuc2V0PXN5LnByb3RvdHlwZS5SO3N5LnByb3RvdHlwZS5jaGFuZ2VkPXN5LnByb3RvdHlwZS51O3N5LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PXN5LnByb3RvdHlwZS5iO3N5LnByb3RvdHlwZS5nZXRSZXZpc2lvbj1zeS5wcm90b3R5cGUuSztzeS5wcm90b3R5cGUub249c3kucHJvdG90eXBlLkk7c3kucHJvdG90eXBlLm9uY2U9c3kucHJvdG90eXBlLm9uY2U7c3kucHJvdG90eXBlLnVuPXN5LnByb3RvdHlwZS5KO3R5LnByb3RvdHlwZS5zZXRSZW5kZXJSZXByb2plY3Rpb25FZGdlcz10eS5wcm90b3R5cGUuUWI7XG50eS5wcm90b3R5cGUuc2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uPXR5LnByb3RvdHlwZS5SYjt0eS5wcm90b3R5cGUuZ2V0VGlsZUxvYWRGdW5jdGlvbj10eS5wcm90b3R5cGUueWI7dHkucHJvdG90eXBlLmdldFRpbGVVcmxGdW5jdGlvbj10eS5wcm90b3R5cGUuemI7dHkucHJvdG90eXBlLmdldFVybHM9dHkucHJvdG90eXBlLkFiO3R5LnByb3RvdHlwZS5zZXRUaWxlTG9hZEZ1bmN0aW9uPXR5LnByb3RvdHlwZS5GYjt0eS5wcm90b3R5cGUuc2V0VGlsZVVybEZ1bmN0aW9uPXR5LnByb3RvdHlwZS5oYjt0eS5wcm90b3R5cGUuc2V0VXJsPXR5LnByb3RvdHlwZS5yYjt0eS5wcm90b3R5cGUuc2V0VXJscz10eS5wcm90b3R5cGUudmI7dHkucHJvdG90eXBlLmdldFRpbGVHcmlkPXR5LnByb3RvdHlwZS5qYjt0eS5wcm90b3R5cGUucmVmcmVzaD10eS5wcm90b3R5cGUuc2E7dHkucHJvdG90eXBlLmdldEF0dHJpYnV0aW9ucz10eS5wcm90b3R5cGUuemE7XG50eS5wcm90b3R5cGUuZ2V0TG9nbz10eS5wcm90b3R5cGUuQWE7dHkucHJvdG90eXBlLmdldFByb2plY3Rpb249dHkucHJvdG90eXBlLkRhO3R5LnByb3RvdHlwZS5nZXRTdGF0ZT10eS5wcm90b3R5cGUuZ2V0U3RhdGU7dHkucHJvdG90eXBlLnNldEF0dHJpYnV0aW9ucz10eS5wcm90b3R5cGUudmE7dHkucHJvdG90eXBlLmdldD10eS5wcm90b3R5cGUuZ2V0O3R5LnByb3RvdHlwZS5nZXRLZXlzPXR5LnByb3RvdHlwZS5QO3R5LnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPXR5LnByb3RvdHlwZS5MO3R5LnByb3RvdHlwZS5zZXQ9dHkucHJvdG90eXBlLnNldDt0eS5wcm90b3R5cGUuc2V0UHJvcGVydGllcz10eS5wcm90b3R5cGUuSDt0eS5wcm90b3R5cGUudW5zZXQ9dHkucHJvdG90eXBlLlI7dHkucHJvdG90eXBlLmNoYW5nZWQ9dHkucHJvdG90eXBlLnU7dHkucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9dHkucHJvdG90eXBlLmI7dHkucHJvdG90eXBlLmdldFJldmlzaW9uPXR5LnByb3RvdHlwZS5LO1xudHkucHJvdG90eXBlLm9uPXR5LnByb3RvdHlwZS5JO3R5LnByb3RvdHlwZS5vbmNlPXR5LnByb3RvdHlwZS5vbmNlO3R5LnByb3RvdHlwZS51bj10eS5wcm90b3R5cGUuSjtVLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGlvbnM9VS5wcm90b3R5cGUuemE7VS5wcm90b3R5cGUuZ2V0TG9nbz1VLnByb3RvdHlwZS5BYTtVLnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uPVUucHJvdG90eXBlLkRhO1UucHJvdG90eXBlLmdldFN0YXRlPVUucHJvdG90eXBlLmdldFN0YXRlO1UucHJvdG90eXBlLnJlZnJlc2g9VS5wcm90b3R5cGUuc2E7VS5wcm90b3R5cGUuc2V0QXR0cmlidXRpb25zPVUucHJvdG90eXBlLnZhO1UucHJvdG90eXBlLmdldD1VLnByb3RvdHlwZS5nZXQ7VS5wcm90b3R5cGUuZ2V0S2V5cz1VLnByb3RvdHlwZS5QO1UucHJvdG90eXBlLmdldFByb3BlcnRpZXM9VS5wcm90b3R5cGUuTDtVLnByb3RvdHlwZS5zZXQ9VS5wcm90b3R5cGUuc2V0O1xuVS5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1VLnByb3RvdHlwZS5IO1UucHJvdG90eXBlLnVuc2V0PVUucHJvdG90eXBlLlI7VS5wcm90b3R5cGUuY2hhbmdlZD1VLnByb3RvdHlwZS51O1UucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9VS5wcm90b3R5cGUuYjtVLnByb3RvdHlwZS5nZXRSZXZpc2lvbj1VLnByb3RvdHlwZS5LO1UucHJvdG90eXBlLm9uPVUucHJvdG90eXBlLkk7VS5wcm90b3R5cGUub25jZT1VLnByb3RvdHlwZS5vbmNlO1UucHJvdG90eXBlLnVuPVUucHJvdG90eXBlLko7WC5wcm90b3R5cGUuYWRkRmVhdHVyZT1YLnByb3RvdHlwZS5HYjtYLnByb3RvdHlwZS5hZGRGZWF0dXJlcz1YLnByb3RvdHlwZS5RYztYLnByb3RvdHlwZS5jbGVhcj1YLnByb3RvdHlwZS5jbGVhcjtYLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZT1YLnByb3RvdHlwZS5MaDtYLnByb3RvdHlwZS5mb3JFYWNoRmVhdHVyZUluRXh0ZW50PVgucHJvdG90eXBlLmVjO1xuWC5wcm90b3R5cGUuZm9yRWFjaEZlYXR1cmVJbnRlcnNlY3RpbmdFeHRlbnQ9WC5wcm90b3R5cGUuTWg7WC5wcm90b3R5cGUuZ2V0RmVhdHVyZXNDb2xsZWN0aW9uPVgucHJvdG90eXBlLlRoO1gucHJvdG90eXBlLmdldEZlYXR1cmVzPVgucHJvdG90eXBlLmVlO1gucHJvdG90eXBlLmdldEZlYXR1cmVzQXRDb29yZGluYXRlPVgucHJvdG90eXBlLlNoO1gucHJvdG90eXBlLmdldEZlYXR1cmVzSW5FeHRlbnQ9WC5wcm90b3R5cGUuWWY7WC5wcm90b3R5cGUuZ2V0Q2xvc2VzdEZlYXR1cmVUb0Nvb3JkaW5hdGU9WC5wcm90b3R5cGUuT2g7WC5wcm90b3R5cGUuZ2V0RXh0ZW50PVgucHJvdG90eXBlLkc7WC5wcm90b3R5cGUuZ2V0RmVhdHVyZUJ5SWQ9WC5wcm90b3R5cGUuUmg7WC5wcm90b3R5cGUuZ2V0Rm9ybWF0PVgucHJvdG90eXBlLmVqO1gucHJvdG90eXBlLmdldFVybD1YLnByb3RvdHlwZS5majtYLnByb3RvdHlwZS5yZW1vdmVMb2FkZWRFeHRlbnQ9WC5wcm90b3R5cGUuQ2o7XG5YLnByb3RvdHlwZS5yZW1vdmVGZWF0dXJlPVgucHJvdG90eXBlLkxiO1gucHJvdG90eXBlLnNldExvYWRlcj1YLnByb3RvdHlwZS5oajtYLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGlvbnM9WC5wcm90b3R5cGUuemE7WC5wcm90b3R5cGUuZ2V0TG9nbz1YLnByb3RvdHlwZS5BYTtYLnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uPVgucHJvdG90eXBlLkRhO1gucHJvdG90eXBlLmdldFN0YXRlPVgucHJvdG90eXBlLmdldFN0YXRlO1gucHJvdG90eXBlLnJlZnJlc2g9WC5wcm90b3R5cGUuc2E7WC5wcm90b3R5cGUuc2V0QXR0cmlidXRpb25zPVgucHJvdG90eXBlLnZhO1gucHJvdG90eXBlLmdldD1YLnByb3RvdHlwZS5nZXQ7WC5wcm90b3R5cGUuZ2V0S2V5cz1YLnByb3RvdHlwZS5QO1gucHJvdG90eXBlLmdldFByb3BlcnRpZXM9WC5wcm90b3R5cGUuTDtYLnByb3RvdHlwZS5zZXQ9WC5wcm90b3R5cGUuc2V0O1gucHJvdG90eXBlLnNldFByb3BlcnRpZXM9WC5wcm90b3R5cGUuSDtcblgucHJvdG90eXBlLnVuc2V0PVgucHJvdG90eXBlLlI7WC5wcm90b3R5cGUuY2hhbmdlZD1YLnByb3RvdHlwZS51O1gucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9WC5wcm90b3R5cGUuYjtYLnByb3RvdHlwZS5nZXRSZXZpc2lvbj1YLnByb3RvdHlwZS5LO1gucHJvdG90eXBlLm9uPVgucHJvdG90eXBlLkk7WC5wcm90b3R5cGUub25jZT1YLnByb3RvdHlwZS5vbmNlO1gucHJvdG90eXBlLnVuPVgucHJvdG90eXBlLko7enkucHJvdG90eXBlLmdldEF0dHJpYnV0aW9ucz16eS5wcm90b3R5cGUuemE7enkucHJvdG90eXBlLmdldExvZ289enkucHJvdG90eXBlLkFhO3p5LnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uPXp5LnByb3RvdHlwZS5EYTt6eS5wcm90b3R5cGUuZ2V0U3RhdGU9enkucHJvdG90eXBlLmdldFN0YXRlO3p5LnByb3RvdHlwZS5yZWZyZXNoPXp5LnByb3RvdHlwZS5zYTt6eS5wcm90b3R5cGUuc2V0QXR0cmlidXRpb25zPXp5LnByb3RvdHlwZS52YTtcbnp5LnByb3RvdHlwZS5nZXQ9enkucHJvdG90eXBlLmdldDt6eS5wcm90b3R5cGUuZ2V0S2V5cz16eS5wcm90b3R5cGUuUDt6eS5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz16eS5wcm90b3R5cGUuTDt6eS5wcm90b3R5cGUuc2V0PXp5LnByb3RvdHlwZS5zZXQ7enkucHJvdG90eXBlLnNldFByb3BlcnRpZXM9enkucHJvdG90eXBlLkg7enkucHJvdG90eXBlLnVuc2V0PXp5LnByb3RvdHlwZS5SO3p5LnByb3RvdHlwZS5jaGFuZ2VkPXp5LnByb3RvdHlwZS51O3p5LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PXp5LnByb3RvdHlwZS5iO3p5LnByb3RvdHlwZS5nZXRSZXZpc2lvbj16eS5wcm90b3R5cGUuSzt6eS5wcm90b3R5cGUub249enkucHJvdG90eXBlLkk7enkucHJvdG90eXBlLm9uY2U9enkucHJvdG90eXBlLm9uY2U7enkucHJvdG90eXBlLnVuPXp5LnByb3RvdHlwZS5KO0J5LnByb3RvdHlwZS50eXBlPUJ5LnByb3RvdHlwZS50eXBlO0J5LnByb3RvdHlwZS50YXJnZXQ9QnkucHJvdG90eXBlLnRhcmdldDtcbkJ5LnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1CeS5wcm90b3R5cGUucHJldmVudERlZmF1bHQ7QnkucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbj1CeS5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uO0h5LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGlvbnM9SHkucHJvdG90eXBlLnphO0h5LnByb3RvdHlwZS5nZXRMb2dvPUh5LnByb3RvdHlwZS5BYTtIeS5wcm90b3R5cGUuZ2V0UHJvamVjdGlvbj1IeS5wcm90b3R5cGUuRGE7SHkucHJvdG90eXBlLmdldFN0YXRlPUh5LnByb3RvdHlwZS5nZXRTdGF0ZTtIeS5wcm90b3R5cGUucmVmcmVzaD1IeS5wcm90b3R5cGUuc2E7SHkucHJvdG90eXBlLnNldEF0dHJpYnV0aW9ucz1IeS5wcm90b3R5cGUudmE7SHkucHJvdG90eXBlLmdldD1IeS5wcm90b3R5cGUuZ2V0O0h5LnByb3RvdHlwZS5nZXRLZXlzPUh5LnByb3RvdHlwZS5QO0h5LnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPUh5LnByb3RvdHlwZS5MO0h5LnByb3RvdHlwZS5zZXQ9SHkucHJvdG90eXBlLnNldDtcbkh5LnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPUh5LnByb3RvdHlwZS5IO0h5LnByb3RvdHlwZS51bnNldD1IeS5wcm90b3R5cGUuUjtIeS5wcm90b3R5cGUuY2hhbmdlZD1IeS5wcm90b3R5cGUudTtIeS5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1IeS5wcm90b3R5cGUuYjtIeS5wcm90b3R5cGUuZ2V0UmV2aXNpb249SHkucHJvdG90eXBlLks7SHkucHJvdG90eXBlLm9uPUh5LnByb3RvdHlwZS5JO0h5LnByb3RvdHlwZS5vbmNlPUh5LnByb3RvdHlwZS5vbmNlO0h5LnByb3RvdHlwZS51bj1IeS5wcm90b3R5cGUuSjtJeS5wcm90b3R5cGUuZ2V0QXR0cmlidXRpb25zPUl5LnByb3RvdHlwZS56YTtJeS5wcm90b3R5cGUuZ2V0TG9nbz1JeS5wcm90b3R5cGUuQWE7SXkucHJvdG90eXBlLmdldFByb2plY3Rpb249SXkucHJvdG90eXBlLkRhO0l5LnByb3RvdHlwZS5nZXRTdGF0ZT1JeS5wcm90b3R5cGUuZ2V0U3RhdGU7SXkucHJvdG90eXBlLnJlZnJlc2g9SXkucHJvdG90eXBlLnNhO1xuSXkucHJvdG90eXBlLnNldEF0dHJpYnV0aW9ucz1JeS5wcm90b3R5cGUudmE7SXkucHJvdG90eXBlLmdldD1JeS5wcm90b3R5cGUuZ2V0O0l5LnByb3RvdHlwZS5nZXRLZXlzPUl5LnByb3RvdHlwZS5QO0l5LnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPUl5LnByb3RvdHlwZS5MO0l5LnByb3RvdHlwZS5zZXQ9SXkucHJvdG90eXBlLnNldDtJeS5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1JeS5wcm90b3R5cGUuSDtJeS5wcm90b3R5cGUudW5zZXQ9SXkucHJvdG90eXBlLlI7SXkucHJvdG90eXBlLmNoYW5nZWQ9SXkucHJvdG90eXBlLnU7SXkucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9SXkucHJvdG90eXBlLmI7SXkucHJvdG90eXBlLmdldFJldmlzaW9uPUl5LnByb3RvdHlwZS5LO0l5LnByb3RvdHlwZS5vbj1JeS5wcm90b3R5cGUuSTtJeS5wcm90b3R5cGUub25jZT1JeS5wcm90b3R5cGUub25jZTtJeS5wcm90b3R5cGUudW49SXkucHJvdG90eXBlLko7XG5KeS5wcm90b3R5cGUuZ2V0QXR0cmlidXRpb25zPUp5LnByb3RvdHlwZS56YTtKeS5wcm90b3R5cGUuZ2V0TG9nbz1KeS5wcm90b3R5cGUuQWE7SnkucHJvdG90eXBlLmdldFByb2plY3Rpb249SnkucHJvdG90eXBlLkRhO0p5LnByb3RvdHlwZS5nZXRTdGF0ZT1KeS5wcm90b3R5cGUuZ2V0U3RhdGU7SnkucHJvdG90eXBlLnJlZnJlc2g9SnkucHJvdG90eXBlLnNhO0p5LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGlvbnM9SnkucHJvdG90eXBlLnZhO0p5LnByb3RvdHlwZS5nZXQ9SnkucHJvdG90eXBlLmdldDtKeS5wcm90b3R5cGUuZ2V0S2V5cz1KeS5wcm90b3R5cGUuUDtKeS5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1KeS5wcm90b3R5cGUuTDtKeS5wcm90b3R5cGUuc2V0PUp5LnByb3RvdHlwZS5zZXQ7SnkucHJvdG90eXBlLnNldFByb3BlcnRpZXM9SnkucHJvdG90eXBlLkg7SnkucHJvdG90eXBlLnVuc2V0PUp5LnByb3RvdHlwZS5SO0p5LnByb3RvdHlwZS5jaGFuZ2VkPUp5LnByb3RvdHlwZS51O1xuSnkucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9SnkucHJvdG90eXBlLmI7SnkucHJvdG90eXBlLmdldFJldmlzaW9uPUp5LnByb3RvdHlwZS5LO0p5LnByb3RvdHlwZS5vbj1KeS5wcm90b3R5cGUuSTtKeS5wcm90b3R5cGUub25jZT1KeS5wcm90b3R5cGUub25jZTtKeS5wcm90b3R5cGUudW49SnkucHJvdG90eXBlLko7S3kucHJvdG90eXBlLmdldEF0dHJpYnV0aW9ucz1LeS5wcm90b3R5cGUuemE7S3kucHJvdG90eXBlLmdldExvZ289S3kucHJvdG90eXBlLkFhO0t5LnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uPUt5LnByb3RvdHlwZS5EYTtLeS5wcm90b3R5cGUuZ2V0U3RhdGU9S3kucHJvdG90eXBlLmdldFN0YXRlO0t5LnByb3RvdHlwZS5yZWZyZXNoPUt5LnByb3RvdHlwZS5zYTtLeS5wcm90b3R5cGUuc2V0QXR0cmlidXRpb25zPUt5LnByb3RvdHlwZS52YTtLeS5wcm90b3R5cGUuZ2V0PUt5LnByb3RvdHlwZS5nZXQ7S3kucHJvdG90eXBlLmdldEtleXM9S3kucHJvdG90eXBlLlA7XG5LeS5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1LeS5wcm90b3R5cGUuTDtLeS5wcm90b3R5cGUuc2V0PUt5LnByb3RvdHlwZS5zZXQ7S3kucHJvdG90eXBlLnNldFByb3BlcnRpZXM9S3kucHJvdG90eXBlLkg7S3kucHJvdG90eXBlLnVuc2V0PUt5LnByb3RvdHlwZS5SO0t5LnByb3RvdHlwZS5jaGFuZ2VkPUt5LnByb3RvdHlwZS51O0t5LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PUt5LnByb3RvdHlwZS5iO0t5LnByb3RvdHlwZS5nZXRSZXZpc2lvbj1LeS5wcm90b3R5cGUuSztLeS5wcm90b3R5cGUub249S3kucHJvdG90eXBlLkk7S3kucHJvdG90eXBlLm9uY2U9S3kucHJvdG90eXBlLm9uY2U7S3kucHJvdG90eXBlLnVuPUt5LnByb3RvdHlwZS5KO0x5LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGlvbnM9THkucHJvdG90eXBlLnphO0x5LnByb3RvdHlwZS5nZXRMb2dvPUx5LnByb3RvdHlwZS5BYTtMeS5wcm90b3R5cGUuZ2V0UHJvamVjdGlvbj1MeS5wcm90b3R5cGUuRGE7XG5MeS5wcm90b3R5cGUuZ2V0U3RhdGU9THkucHJvdG90eXBlLmdldFN0YXRlO0x5LnByb3RvdHlwZS5yZWZyZXNoPUx5LnByb3RvdHlwZS5zYTtMeS5wcm90b3R5cGUuc2V0QXR0cmlidXRpb25zPUx5LnByb3RvdHlwZS52YTtMeS5wcm90b3R5cGUuZ2V0PUx5LnByb3RvdHlwZS5nZXQ7THkucHJvdG90eXBlLmdldEtleXM9THkucHJvdG90eXBlLlA7THkucHJvdG90eXBlLmdldFByb3BlcnRpZXM9THkucHJvdG90eXBlLkw7THkucHJvdG90eXBlLnNldD1MeS5wcm90b3R5cGUuc2V0O0x5LnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPUx5LnByb3RvdHlwZS5IO0x5LnByb3RvdHlwZS51bnNldD1MeS5wcm90b3R5cGUuUjtMeS5wcm90b3R5cGUuY2hhbmdlZD1MeS5wcm90b3R5cGUudTtMeS5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1MeS5wcm90b3R5cGUuYjtMeS5wcm90b3R5cGUuZ2V0UmV2aXNpb249THkucHJvdG90eXBlLks7THkucHJvdG90eXBlLm9uPUx5LnByb3RvdHlwZS5JO1xuTHkucHJvdG90eXBlLm9uY2U9THkucHJvdG90eXBlLm9uY2U7THkucHJvdG90eXBlLnVuPUx5LnByb3RvdHlwZS5KO055LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGlvbnM9TnkucHJvdG90eXBlLnphO055LnByb3RvdHlwZS5nZXRMb2dvPU55LnByb3RvdHlwZS5BYTtOeS5wcm90b3R5cGUuZ2V0UHJvamVjdGlvbj1OeS5wcm90b3R5cGUuRGE7TnkucHJvdG90eXBlLmdldFN0YXRlPU55LnByb3RvdHlwZS5nZXRTdGF0ZTtOeS5wcm90b3R5cGUucmVmcmVzaD1OeS5wcm90b3R5cGUuc2E7TnkucHJvdG90eXBlLnNldEF0dHJpYnV0aW9ucz1OeS5wcm90b3R5cGUudmE7TnkucHJvdG90eXBlLmdldD1OeS5wcm90b3R5cGUuZ2V0O055LnByb3RvdHlwZS5nZXRLZXlzPU55LnByb3RvdHlwZS5QO055LnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPU55LnByb3RvdHlwZS5MO055LnByb3RvdHlwZS5zZXQ9TnkucHJvdG90eXBlLnNldDtOeS5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1OeS5wcm90b3R5cGUuSDtcbk55LnByb3RvdHlwZS51bnNldD1OeS5wcm90b3R5cGUuUjtOeS5wcm90b3R5cGUuY2hhbmdlZD1OeS5wcm90b3R5cGUudTtOeS5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1OeS5wcm90b3R5cGUuYjtOeS5wcm90b3R5cGUuZ2V0UmV2aXNpb249TnkucHJvdG90eXBlLks7TnkucHJvdG90eXBlLm9uPU55LnByb3RvdHlwZS5JO055LnByb3RvdHlwZS5vbmNlPU55LnByb3RvdHlwZS5vbmNlO055LnByb3RvdHlwZS51bj1OeS5wcm90b3R5cGUuSjtSeS5wcm90b3R5cGUuc2V0UmVuZGVyUmVwcm9qZWN0aW9uRWRnZXM9UnkucHJvdG90eXBlLlFiO1J5LnByb3RvdHlwZS5zZXRUaWxlR3JpZEZvclByb2plY3Rpb249UnkucHJvdG90eXBlLlJiO1J5LnByb3RvdHlwZS5nZXRUaWxlTG9hZEZ1bmN0aW9uPVJ5LnByb3RvdHlwZS55YjtSeS5wcm90b3R5cGUuZ2V0VGlsZVVybEZ1bmN0aW9uPVJ5LnByb3RvdHlwZS56YjtSeS5wcm90b3R5cGUuZ2V0VXJscz1SeS5wcm90b3R5cGUuQWI7XG5SeS5wcm90b3R5cGUuc2V0VGlsZUxvYWRGdW5jdGlvbj1SeS5wcm90b3R5cGUuRmI7UnkucHJvdG90eXBlLnNldFRpbGVVcmxGdW5jdGlvbj1SeS5wcm90b3R5cGUuaGI7UnkucHJvdG90eXBlLnNldFVybD1SeS5wcm90b3R5cGUucmI7UnkucHJvdG90eXBlLnNldFVybHM9UnkucHJvdG90eXBlLnZiO1J5LnByb3RvdHlwZS5nZXRUaWxlR3JpZD1SeS5wcm90b3R5cGUuamI7UnkucHJvdG90eXBlLnJlZnJlc2g9UnkucHJvdG90eXBlLnNhO1J5LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGlvbnM9UnkucHJvdG90eXBlLnphO1J5LnByb3RvdHlwZS5nZXRMb2dvPVJ5LnByb3RvdHlwZS5BYTtSeS5wcm90b3R5cGUuZ2V0UHJvamVjdGlvbj1SeS5wcm90b3R5cGUuRGE7UnkucHJvdG90eXBlLmdldFN0YXRlPVJ5LnByb3RvdHlwZS5nZXRTdGF0ZTtSeS5wcm90b3R5cGUuc2V0QXR0cmlidXRpb25zPVJ5LnByb3RvdHlwZS52YTtSeS5wcm90b3R5cGUuZ2V0PVJ5LnByb3RvdHlwZS5nZXQ7XG5SeS5wcm90b3R5cGUuZ2V0S2V5cz1SeS5wcm90b3R5cGUuUDtSeS5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1SeS5wcm90b3R5cGUuTDtSeS5wcm90b3R5cGUuc2V0PVJ5LnByb3RvdHlwZS5zZXQ7UnkucHJvdG90eXBlLnNldFByb3BlcnRpZXM9UnkucHJvdG90eXBlLkg7UnkucHJvdG90eXBlLnVuc2V0PVJ5LnByb3RvdHlwZS5SO1J5LnByb3RvdHlwZS5jaGFuZ2VkPVJ5LnByb3RvdHlwZS51O1J5LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PVJ5LnByb3RvdHlwZS5iO1J5LnByb3RvdHlwZS5nZXRSZXZpc2lvbj1SeS5wcm90b3R5cGUuSztSeS5wcm90b3R5cGUub249UnkucHJvdG90eXBlLkk7UnkucHJvdG90eXBlLm9uY2U9UnkucHJvdG90eXBlLm9uY2U7UnkucHJvdG90eXBlLnVuPVJ5LnByb3RvdHlwZS5KO1N5LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGlvbnM9U3kucHJvdG90eXBlLnphO1N5LnByb3RvdHlwZS5nZXRMb2dvPVN5LnByb3RvdHlwZS5BYTtcblN5LnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uPVN5LnByb3RvdHlwZS5EYTtTeS5wcm90b3R5cGUuZ2V0U3RhdGU9U3kucHJvdG90eXBlLmdldFN0YXRlO1N5LnByb3RvdHlwZS5yZWZyZXNoPVN5LnByb3RvdHlwZS5zYTtTeS5wcm90b3R5cGUuc2V0QXR0cmlidXRpb25zPVN5LnByb3RvdHlwZS52YTtTeS5wcm90b3R5cGUuZ2V0PVN5LnByb3RvdHlwZS5nZXQ7U3kucHJvdG90eXBlLmdldEtleXM9U3kucHJvdG90eXBlLlA7U3kucHJvdG90eXBlLmdldFByb3BlcnRpZXM9U3kucHJvdG90eXBlLkw7U3kucHJvdG90eXBlLnNldD1TeS5wcm90b3R5cGUuc2V0O1N5LnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPVN5LnByb3RvdHlwZS5IO1N5LnByb3RvdHlwZS51bnNldD1TeS5wcm90b3R5cGUuUjtTeS5wcm90b3R5cGUuY2hhbmdlZD1TeS5wcm90b3R5cGUudTtTeS5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1TeS5wcm90b3R5cGUuYjtTeS5wcm90b3R5cGUuZ2V0UmV2aXNpb249U3kucHJvdG90eXBlLks7XG5TeS5wcm90b3R5cGUub249U3kucHJvdG90eXBlLkk7U3kucHJvdG90eXBlLm9uY2U9U3kucHJvdG90eXBlLm9uY2U7U3kucHJvdG90eXBlLnVuPVN5LnByb3RvdHlwZS5KO1d5LnByb3RvdHlwZS50eXBlPVd5LnByb3RvdHlwZS50eXBlO1d5LnByb3RvdHlwZS50YXJnZXQ9V3kucHJvdG90eXBlLnRhcmdldDtXeS5wcm90b3R5cGUucHJldmVudERlZmF1bHQ9V3kucHJvdG90eXBlLnByZXZlbnREZWZhdWx0O1d5LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb249V3kucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbjtaeS5wcm90b3R5cGUuc2V0UmVuZGVyUmVwcm9qZWN0aW9uRWRnZXM9WnkucHJvdG90eXBlLlFiO1p5LnByb3RvdHlwZS5zZXRUaWxlR3JpZEZvclByb2plY3Rpb249WnkucHJvdG90eXBlLlJiO1p5LnByb3RvdHlwZS5nZXRUaWxlTG9hZEZ1bmN0aW9uPVp5LnByb3RvdHlwZS55YjtaeS5wcm90b3R5cGUuZ2V0VGlsZVVybEZ1bmN0aW9uPVp5LnByb3RvdHlwZS56Yjtcblp5LnByb3RvdHlwZS5nZXRVcmxzPVp5LnByb3RvdHlwZS5BYjtaeS5wcm90b3R5cGUuc2V0VGlsZUxvYWRGdW5jdGlvbj1aeS5wcm90b3R5cGUuRmI7WnkucHJvdG90eXBlLnNldFRpbGVVcmxGdW5jdGlvbj1aeS5wcm90b3R5cGUuaGI7WnkucHJvdG90eXBlLnNldFVybD1aeS5wcm90b3R5cGUucmI7WnkucHJvdG90eXBlLnNldFVybHM9WnkucHJvdG90eXBlLnZiO1p5LnByb3RvdHlwZS5nZXRUaWxlR3JpZD1aeS5wcm90b3R5cGUuamI7WnkucHJvdG90eXBlLnJlZnJlc2g9WnkucHJvdG90eXBlLnNhO1p5LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGlvbnM9WnkucHJvdG90eXBlLnphO1p5LnByb3RvdHlwZS5nZXRMb2dvPVp5LnByb3RvdHlwZS5BYTtaeS5wcm90b3R5cGUuZ2V0UHJvamVjdGlvbj1aeS5wcm90b3R5cGUuRGE7WnkucHJvdG90eXBlLmdldFN0YXRlPVp5LnByb3RvdHlwZS5nZXRTdGF0ZTtaeS5wcm90b3R5cGUuc2V0QXR0cmlidXRpb25zPVp5LnByb3RvdHlwZS52YTtcblp5LnByb3RvdHlwZS5nZXQ9WnkucHJvdG90eXBlLmdldDtaeS5wcm90b3R5cGUuZ2V0S2V5cz1aeS5wcm90b3R5cGUuUDtaeS5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1aeS5wcm90b3R5cGUuTDtaeS5wcm90b3R5cGUuc2V0PVp5LnByb3RvdHlwZS5zZXQ7WnkucHJvdG90eXBlLnNldFByb3BlcnRpZXM9WnkucHJvdG90eXBlLkg7WnkucHJvdG90eXBlLnVuc2V0PVp5LnByb3RvdHlwZS5SO1p5LnByb3RvdHlwZS5jaGFuZ2VkPVp5LnByb3RvdHlwZS51O1p5LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PVp5LnByb3RvdHlwZS5iO1p5LnByb3RvdHlwZS5nZXRSZXZpc2lvbj1aeS5wcm90b3R5cGUuSztaeS5wcm90b3R5cGUub249WnkucHJvdG90eXBlLkk7WnkucHJvdG90eXBlLm9uY2U9WnkucHJvdG90eXBlLm9uY2U7WnkucHJvdG90eXBlLnVuPVp5LnByb3RvdHlwZS5KO2x5LnByb3RvdHlwZS50eXBlPWx5LnByb3RvdHlwZS50eXBlO2x5LnByb3RvdHlwZS50YXJnZXQ9bHkucHJvdG90eXBlLnRhcmdldDtcbmx5LnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD1seS5wcm90b3R5cGUucHJldmVudERlZmF1bHQ7bHkucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbj1seS5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uO2N6LnByb3RvdHlwZS5zZXRSZW5kZXJSZXByb2plY3Rpb25FZGdlcz1jei5wcm90b3R5cGUuUWI7Y3oucHJvdG90eXBlLnNldFRpbGVHcmlkRm9yUHJvamVjdGlvbj1jei5wcm90b3R5cGUuUmI7Y3oucHJvdG90eXBlLmdldFRpbGVMb2FkRnVuY3Rpb249Y3oucHJvdG90eXBlLnliO2N6LnByb3RvdHlwZS5nZXRUaWxlVXJsRnVuY3Rpb249Y3oucHJvdG90eXBlLnpiO2N6LnByb3RvdHlwZS5nZXRVcmxzPWN6LnByb3RvdHlwZS5BYjtjei5wcm90b3R5cGUuc2V0VGlsZUxvYWRGdW5jdGlvbj1jei5wcm90b3R5cGUuRmI7Y3oucHJvdG90eXBlLnNldFRpbGVVcmxGdW5jdGlvbj1jei5wcm90b3R5cGUuaGI7Y3oucHJvdG90eXBlLnNldFVybD1jei5wcm90b3R5cGUucmI7XG5jei5wcm90b3R5cGUuc2V0VXJscz1jei5wcm90b3R5cGUudmI7Y3oucHJvdG90eXBlLmdldFRpbGVHcmlkPWN6LnByb3RvdHlwZS5qYjtjei5wcm90b3R5cGUucmVmcmVzaD1jei5wcm90b3R5cGUuc2E7Y3oucHJvdG90eXBlLmdldEF0dHJpYnV0aW9ucz1jei5wcm90b3R5cGUuemE7Y3oucHJvdG90eXBlLmdldExvZ289Y3oucHJvdG90eXBlLkFhO2N6LnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uPWN6LnByb3RvdHlwZS5EYTtjei5wcm90b3R5cGUuZ2V0U3RhdGU9Y3oucHJvdG90eXBlLmdldFN0YXRlO2N6LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGlvbnM9Y3oucHJvdG90eXBlLnZhO2N6LnByb3RvdHlwZS5nZXQ9Y3oucHJvdG90eXBlLmdldDtjei5wcm90b3R5cGUuZ2V0S2V5cz1jei5wcm90b3R5cGUuUDtjei5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1jei5wcm90b3R5cGUuTDtjei5wcm90b3R5cGUuc2V0PWN6LnByb3RvdHlwZS5zZXQ7XG5jei5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1jei5wcm90b3R5cGUuSDtjei5wcm90b3R5cGUudW5zZXQ9Y3oucHJvdG90eXBlLlI7Y3oucHJvdG90eXBlLmNoYW5nZWQ9Y3oucHJvdG90eXBlLnU7Y3oucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9Y3oucHJvdG90eXBlLmI7Y3oucHJvdG90eXBlLmdldFJldmlzaW9uPWN6LnByb3RvdHlwZS5LO2N6LnByb3RvdHlwZS5vbj1jei5wcm90b3R5cGUuSTtjei5wcm90b3R5cGUub25jZT1jei5wcm90b3R5cGUub25jZTtjei5wcm90b3R5cGUudW49Y3oucHJvdG90eXBlLko7ZXoucHJvdG90eXBlLmdldFRpbGVHcmlkPWV6LnByb3RvdHlwZS5qYjtlei5wcm90b3R5cGUucmVmcmVzaD1lei5wcm90b3R5cGUuc2E7ZXoucHJvdG90eXBlLmdldEF0dHJpYnV0aW9ucz1lei5wcm90b3R5cGUuemE7ZXoucHJvdG90eXBlLmdldExvZ289ZXoucHJvdG90eXBlLkFhO2V6LnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uPWV6LnByb3RvdHlwZS5EYTtcbmV6LnByb3RvdHlwZS5nZXRTdGF0ZT1lei5wcm90b3R5cGUuZ2V0U3RhdGU7ZXoucHJvdG90eXBlLnNldEF0dHJpYnV0aW9ucz1lei5wcm90b3R5cGUudmE7ZXoucHJvdG90eXBlLmdldD1lei5wcm90b3R5cGUuZ2V0O2V6LnByb3RvdHlwZS5nZXRLZXlzPWV6LnByb3RvdHlwZS5QO2V6LnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPWV6LnByb3RvdHlwZS5MO2V6LnByb3RvdHlwZS5zZXQ9ZXoucHJvdG90eXBlLnNldDtlei5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1lei5wcm90b3R5cGUuSDtlei5wcm90b3R5cGUudW5zZXQ9ZXoucHJvdG90eXBlLlI7ZXoucHJvdG90eXBlLmNoYW5nZWQ9ZXoucHJvdG90eXBlLnU7ZXoucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9ZXoucHJvdG90eXBlLmI7ZXoucHJvdG90eXBlLmdldFJldmlzaW9uPWV6LnByb3RvdHlwZS5LO2V6LnByb3RvdHlwZS5vbj1lei5wcm90b3R5cGUuSTtlei5wcm90b3R5cGUub25jZT1lei5wcm90b3R5cGUub25jZTtcbmV6LnByb3RvdHlwZS51bj1lei5wcm90b3R5cGUuSjtnei5wcm90b3R5cGUuc2V0UmVuZGVyUmVwcm9qZWN0aW9uRWRnZXM9Z3oucHJvdG90eXBlLlFiO2d6LnByb3RvdHlwZS5zZXRUaWxlR3JpZEZvclByb2plY3Rpb249Z3oucHJvdG90eXBlLlJiO2d6LnByb3RvdHlwZS5nZXRUaWxlTG9hZEZ1bmN0aW9uPWd6LnByb3RvdHlwZS55Yjtnei5wcm90b3R5cGUuZ2V0VGlsZVVybEZ1bmN0aW9uPWd6LnByb3RvdHlwZS56Yjtnei5wcm90b3R5cGUuZ2V0VXJscz1nei5wcm90b3R5cGUuQWI7Z3oucHJvdG90eXBlLnNldFRpbGVMb2FkRnVuY3Rpb249Z3oucHJvdG90eXBlLkZiO2d6LnByb3RvdHlwZS5zZXRUaWxlVXJsRnVuY3Rpb249Z3oucHJvdG90eXBlLmhiO2d6LnByb3RvdHlwZS5zZXRVcmw9Z3oucHJvdG90eXBlLnJiO2d6LnByb3RvdHlwZS5zZXRVcmxzPWd6LnByb3RvdHlwZS52Yjtnei5wcm90b3R5cGUuZ2V0VGlsZUdyaWQ9Z3oucHJvdG90eXBlLmpiO1xuZ3oucHJvdG90eXBlLnJlZnJlc2g9Z3oucHJvdG90eXBlLnNhO2d6LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGlvbnM9Z3oucHJvdG90eXBlLnphO2d6LnByb3RvdHlwZS5nZXRMb2dvPWd6LnByb3RvdHlwZS5BYTtnei5wcm90b3R5cGUuZ2V0UHJvamVjdGlvbj1nei5wcm90b3R5cGUuRGE7Z3oucHJvdG90eXBlLmdldFN0YXRlPWd6LnByb3RvdHlwZS5nZXRTdGF0ZTtnei5wcm90b3R5cGUuc2V0QXR0cmlidXRpb25zPWd6LnByb3RvdHlwZS52YTtnei5wcm90b3R5cGUuZ2V0PWd6LnByb3RvdHlwZS5nZXQ7Z3oucHJvdG90eXBlLmdldEtleXM9Z3oucHJvdG90eXBlLlA7Z3oucHJvdG90eXBlLmdldFByb3BlcnRpZXM9Z3oucHJvdG90eXBlLkw7Z3oucHJvdG90eXBlLnNldD1nei5wcm90b3R5cGUuc2V0O2d6LnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPWd6LnByb3RvdHlwZS5IO2d6LnByb3RvdHlwZS51bnNldD1nei5wcm90b3R5cGUuUjtnei5wcm90b3R5cGUuY2hhbmdlZD1nei5wcm90b3R5cGUudTtcbmd6LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PWd6LnByb3RvdHlwZS5iO2d6LnByb3RvdHlwZS5nZXRSZXZpc2lvbj1nei5wcm90b3R5cGUuSztnei5wcm90b3R5cGUub249Z3oucHJvdG90eXBlLkk7Z3oucHJvdG90eXBlLm9uY2U9Z3oucHJvdG90eXBlLm9uY2U7Z3oucHJvdG90eXBlLnVuPWd6LnByb3RvdHlwZS5KO2h6LnByb3RvdHlwZS5nZXRUaWxlR3JpZD1oei5wcm90b3R5cGUuamI7aHoucHJvdG90eXBlLnJlZnJlc2g9aHoucHJvdG90eXBlLnNhO2h6LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGlvbnM9aHoucHJvdG90eXBlLnphO2h6LnByb3RvdHlwZS5nZXRMb2dvPWh6LnByb3RvdHlwZS5BYTtoei5wcm90b3R5cGUuZ2V0UHJvamVjdGlvbj1oei5wcm90b3R5cGUuRGE7aHoucHJvdG90eXBlLmdldFN0YXRlPWh6LnByb3RvdHlwZS5nZXRTdGF0ZTtoei5wcm90b3R5cGUuc2V0QXR0cmlidXRpb25zPWh6LnByb3RvdHlwZS52YTtoei5wcm90b3R5cGUuZ2V0PWh6LnByb3RvdHlwZS5nZXQ7XG5oei5wcm90b3R5cGUuZ2V0S2V5cz1oei5wcm90b3R5cGUuUDtoei5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1oei5wcm90b3R5cGUuTDtoei5wcm90b3R5cGUuc2V0PWh6LnByb3RvdHlwZS5zZXQ7aHoucHJvdG90eXBlLnNldFByb3BlcnRpZXM9aHoucHJvdG90eXBlLkg7aHoucHJvdG90eXBlLnVuc2V0PWh6LnByb3RvdHlwZS5SO2h6LnByb3RvdHlwZS5jaGFuZ2VkPWh6LnByb3RvdHlwZS51O2h6LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PWh6LnByb3RvdHlwZS5iO2h6LnByb3RvdHlwZS5nZXRSZXZpc2lvbj1oei5wcm90b3R5cGUuSztoei5wcm90b3R5cGUub249aHoucHJvdG90eXBlLkk7aHoucHJvdG90eXBlLm9uY2U9aHoucHJvdG90eXBlLm9uY2U7aHoucHJvdG90eXBlLnVuPWh6LnByb3RvdHlwZS5KO2x6LnByb3RvdHlwZS5zZXRSZW5kZXJSZXByb2plY3Rpb25FZGdlcz1sei5wcm90b3R5cGUuUWI7bHoucHJvdG90eXBlLnNldFRpbGVHcmlkRm9yUHJvamVjdGlvbj1sei5wcm90b3R5cGUuUmI7XG5sei5wcm90b3R5cGUuZ2V0VGlsZUxvYWRGdW5jdGlvbj1sei5wcm90b3R5cGUueWI7bHoucHJvdG90eXBlLmdldFRpbGVVcmxGdW5jdGlvbj1sei5wcm90b3R5cGUuemI7bHoucHJvdG90eXBlLmdldFVybHM9bHoucHJvdG90eXBlLkFiO2x6LnByb3RvdHlwZS5zZXRUaWxlTG9hZEZ1bmN0aW9uPWx6LnByb3RvdHlwZS5GYjtsei5wcm90b3R5cGUuc2V0VGlsZVVybEZ1bmN0aW9uPWx6LnByb3RvdHlwZS5oYjtsei5wcm90b3R5cGUuc2V0VXJsPWx6LnByb3RvdHlwZS5yYjtsei5wcm90b3R5cGUuc2V0VXJscz1sei5wcm90b3R5cGUudmI7bHoucHJvdG90eXBlLmdldFRpbGVHcmlkPWx6LnByb3RvdHlwZS5qYjtsei5wcm90b3R5cGUucmVmcmVzaD1sei5wcm90b3R5cGUuc2E7bHoucHJvdG90eXBlLmdldEF0dHJpYnV0aW9ucz1sei5wcm90b3R5cGUuemE7bHoucHJvdG90eXBlLmdldExvZ289bHoucHJvdG90eXBlLkFhO2x6LnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uPWx6LnByb3RvdHlwZS5EYTtcbmx6LnByb3RvdHlwZS5nZXRTdGF0ZT1sei5wcm90b3R5cGUuZ2V0U3RhdGU7bHoucHJvdG90eXBlLnNldEF0dHJpYnV0aW9ucz1sei5wcm90b3R5cGUudmE7bHoucHJvdG90eXBlLmdldD1sei5wcm90b3R5cGUuZ2V0O2x6LnByb3RvdHlwZS5nZXRLZXlzPWx6LnByb3RvdHlwZS5QO2x6LnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPWx6LnByb3RvdHlwZS5MO2x6LnByb3RvdHlwZS5zZXQ9bHoucHJvdG90eXBlLnNldDtsei5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1sei5wcm90b3R5cGUuSDtsei5wcm90b3R5cGUudW5zZXQ9bHoucHJvdG90eXBlLlI7bHoucHJvdG90eXBlLmNoYW5nZWQ9bHoucHJvdG90eXBlLnU7bHoucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9bHoucHJvdG90eXBlLmI7bHoucHJvdG90eXBlLmdldFJldmlzaW9uPWx6LnByb3RvdHlwZS5LO2x6LnByb3RvdHlwZS5vbj1sei5wcm90b3R5cGUuSTtsei5wcm90b3R5cGUub25jZT1sei5wcm90b3R5cGUub25jZTtcbmx6LnByb3RvdHlwZS51bj1sei5wcm90b3R5cGUuSjtCdy5wcm90b3R5cGUudHlwZT1Cdy5wcm90b3R5cGUudHlwZTtCdy5wcm90b3R5cGUudGFyZ2V0PUJ3LnByb3RvdHlwZS50YXJnZXQ7QncucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PUJ3LnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdDtCdy5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uPUJ3LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb247cnoucHJvdG90eXBlLmdldFRpbGVMb2FkRnVuY3Rpb249cnoucHJvdG90eXBlLnliO3J6LnByb3RvdHlwZS5nZXRUaWxlVXJsRnVuY3Rpb249cnoucHJvdG90eXBlLnpiO3J6LnByb3RvdHlwZS5nZXRVcmxzPXJ6LnByb3RvdHlwZS5BYjtyei5wcm90b3R5cGUuc2V0VGlsZUxvYWRGdW5jdGlvbj1yei5wcm90b3R5cGUuRmI7cnoucHJvdG90eXBlLnNldFRpbGVVcmxGdW5jdGlvbj1yei5wcm90b3R5cGUuaGI7cnoucHJvdG90eXBlLnNldFVybD1yei5wcm90b3R5cGUucmI7XG5yei5wcm90b3R5cGUuc2V0VXJscz1yei5wcm90b3R5cGUudmI7cnoucHJvdG90eXBlLmdldFRpbGVHcmlkPXJ6LnByb3RvdHlwZS5qYjtyei5wcm90b3R5cGUucmVmcmVzaD1yei5wcm90b3R5cGUuc2E7cnoucHJvdG90eXBlLmdldEF0dHJpYnV0aW9ucz1yei5wcm90b3R5cGUuemE7cnoucHJvdG90eXBlLmdldExvZ289cnoucHJvdG90eXBlLkFhO3J6LnByb3RvdHlwZS5nZXRQcm9qZWN0aW9uPXJ6LnByb3RvdHlwZS5EYTtyei5wcm90b3R5cGUuZ2V0U3RhdGU9cnoucHJvdG90eXBlLmdldFN0YXRlO3J6LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGlvbnM9cnoucHJvdG90eXBlLnZhO3J6LnByb3RvdHlwZS5nZXQ9cnoucHJvdG90eXBlLmdldDtyei5wcm90b3R5cGUuZ2V0S2V5cz1yei5wcm90b3R5cGUuUDtyei5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1yei5wcm90b3R5cGUuTDtyei5wcm90b3R5cGUuc2V0PXJ6LnByb3RvdHlwZS5zZXQ7XG5yei5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1yei5wcm90b3R5cGUuSDtyei5wcm90b3R5cGUudW5zZXQ9cnoucHJvdG90eXBlLlI7cnoucHJvdG90eXBlLmNoYW5nZWQ9cnoucHJvdG90eXBlLnU7cnoucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9cnoucHJvdG90eXBlLmI7cnoucHJvdG90eXBlLmdldFJldmlzaW9uPXJ6LnByb3RvdHlwZS5LO3J6LnByb3RvdHlwZS5vbj1yei5wcm90b3R5cGUuSTtyei5wcm90b3R5cGUub25jZT1yei5wcm90b3R5cGUub25jZTtyei5wcm90b3R5cGUudW49cnoucHJvdG90eXBlLko7WS5wcm90b3R5cGUuc2V0UmVuZGVyUmVwcm9qZWN0aW9uRWRnZXM9WS5wcm90b3R5cGUuUWI7WS5wcm90b3R5cGUuc2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uPVkucHJvdG90eXBlLlJiO1kucHJvdG90eXBlLmdldFRpbGVMb2FkRnVuY3Rpb249WS5wcm90b3R5cGUueWI7WS5wcm90b3R5cGUuZ2V0VGlsZVVybEZ1bmN0aW9uPVkucHJvdG90eXBlLnpiO1xuWS5wcm90b3R5cGUuZ2V0VXJscz1ZLnByb3RvdHlwZS5BYjtZLnByb3RvdHlwZS5zZXRUaWxlTG9hZEZ1bmN0aW9uPVkucHJvdG90eXBlLkZiO1kucHJvdG90eXBlLnNldFRpbGVVcmxGdW5jdGlvbj1ZLnByb3RvdHlwZS5oYjtZLnByb3RvdHlwZS5zZXRVcmw9WS5wcm90b3R5cGUucmI7WS5wcm90b3R5cGUuc2V0VXJscz1ZLnByb3RvdHlwZS52YjtZLnByb3RvdHlwZS5nZXRUaWxlR3JpZD1ZLnByb3RvdHlwZS5qYjtZLnByb3RvdHlwZS5yZWZyZXNoPVkucHJvdG90eXBlLnNhO1kucHJvdG90eXBlLmdldEF0dHJpYnV0aW9ucz1ZLnByb3RvdHlwZS56YTtZLnByb3RvdHlwZS5nZXRMb2dvPVkucHJvdG90eXBlLkFhO1kucHJvdG90eXBlLmdldFByb2plY3Rpb249WS5wcm90b3R5cGUuRGE7WS5wcm90b3R5cGUuZ2V0U3RhdGU9WS5wcm90b3R5cGUuZ2V0U3RhdGU7WS5wcm90b3R5cGUuc2V0QXR0cmlidXRpb25zPVkucHJvdG90eXBlLnZhO1kucHJvdG90eXBlLmdldD1ZLnByb3RvdHlwZS5nZXQ7XG5ZLnByb3RvdHlwZS5nZXRLZXlzPVkucHJvdG90eXBlLlA7WS5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1ZLnByb3RvdHlwZS5MO1kucHJvdG90eXBlLnNldD1ZLnByb3RvdHlwZS5zZXQ7WS5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1ZLnByb3RvdHlwZS5IO1kucHJvdG90eXBlLnVuc2V0PVkucHJvdG90eXBlLlI7WS5wcm90b3R5cGUuY2hhbmdlZD1ZLnByb3RvdHlwZS51O1kucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9WS5wcm90b3R5cGUuYjtZLnByb3RvdHlwZS5nZXRSZXZpc2lvbj1ZLnByb3RvdHlwZS5LO1kucHJvdG90eXBlLm9uPVkucHJvdG90eXBlLkk7WS5wcm90b3R5cGUub25jZT1ZLnByb3RvdHlwZS5vbmNlO1kucHJvdG90eXBlLnVuPVkucHJvdG90eXBlLko7dnoucHJvdG90eXBlLnNldFJlbmRlclJlcHJvamVjdGlvbkVkZ2VzPXZ6LnByb3RvdHlwZS5RYjt2ei5wcm90b3R5cGUuc2V0VGlsZUdyaWRGb3JQcm9qZWN0aW9uPXZ6LnByb3RvdHlwZS5SYjtcbnZ6LnByb3RvdHlwZS5nZXRUaWxlTG9hZEZ1bmN0aW9uPXZ6LnByb3RvdHlwZS55Yjt2ei5wcm90b3R5cGUuZ2V0VGlsZVVybEZ1bmN0aW9uPXZ6LnByb3RvdHlwZS56Yjt2ei5wcm90b3R5cGUuZ2V0VXJscz12ei5wcm90b3R5cGUuQWI7dnoucHJvdG90eXBlLnNldFRpbGVMb2FkRnVuY3Rpb249dnoucHJvdG90eXBlLkZiO3Z6LnByb3RvdHlwZS5zZXRUaWxlVXJsRnVuY3Rpb249dnoucHJvdG90eXBlLmhiO3Z6LnByb3RvdHlwZS5zZXRVcmw9dnoucHJvdG90eXBlLnJiO3Z6LnByb3RvdHlwZS5zZXRVcmxzPXZ6LnByb3RvdHlwZS52Yjt2ei5wcm90b3R5cGUuZ2V0VGlsZUdyaWQ9dnoucHJvdG90eXBlLmpiO3Z6LnByb3RvdHlwZS5yZWZyZXNoPXZ6LnByb3RvdHlwZS5zYTt2ei5wcm90b3R5cGUuZ2V0QXR0cmlidXRpb25zPXZ6LnByb3RvdHlwZS56YTt2ei5wcm90b3R5cGUuZ2V0TG9nbz12ei5wcm90b3R5cGUuQWE7dnoucHJvdG90eXBlLmdldFByb2plY3Rpb249dnoucHJvdG90eXBlLkRhO1xudnoucHJvdG90eXBlLmdldFN0YXRlPXZ6LnByb3RvdHlwZS5nZXRTdGF0ZTt2ei5wcm90b3R5cGUuc2V0QXR0cmlidXRpb25zPXZ6LnByb3RvdHlwZS52YTt2ei5wcm90b3R5cGUuZ2V0PXZ6LnByb3RvdHlwZS5nZXQ7dnoucHJvdG90eXBlLmdldEtleXM9dnoucHJvdG90eXBlLlA7dnoucHJvdG90eXBlLmdldFByb3BlcnRpZXM9dnoucHJvdG90eXBlLkw7dnoucHJvdG90eXBlLnNldD12ei5wcm90b3R5cGUuc2V0O3Z6LnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPXZ6LnByb3RvdHlwZS5IO3Z6LnByb3RvdHlwZS51bnNldD12ei5wcm90b3R5cGUuUjt2ei5wcm90b3R5cGUuY2hhbmdlZD12ei5wcm90b3R5cGUudTt2ei5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD12ei5wcm90b3R5cGUuYjt2ei5wcm90b3R5cGUuZ2V0UmV2aXNpb249dnoucHJvdG90eXBlLks7dnoucHJvdG90eXBlLm9uPXZ6LnByb3RvdHlwZS5JO3Z6LnByb3RvdHlwZS5vbmNlPXZ6LnByb3RvdHlwZS5vbmNlO1xudnoucHJvdG90eXBlLnVuPXZ6LnByb3RvdHlwZS5KO2h5LnByb3RvdHlwZS5nZXRUaWxlQ29vcmQ9aHkucHJvdG90eXBlLmk7aHkucHJvdG90eXBlLmxvYWQ9aHkucHJvdG90eXBlLmxvYWQ7S2kucHJvdG90eXBlLmNoYW5nZWQ9S2kucHJvdG90eXBlLnU7S2kucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9S2kucHJvdG90eXBlLmI7S2kucHJvdG90eXBlLmdldFJldmlzaW9uPUtpLnByb3RvdHlwZS5LO0tpLnByb3RvdHlwZS5vbj1LaS5wcm90b3R5cGUuSTtLaS5wcm90b3R5cGUub25jZT1LaS5wcm90b3R5cGUub25jZTtLaS5wcm90b3R5cGUudW49S2kucHJvdG90eXBlLko7bW4ucHJvdG90eXBlLmNoYW5nZWQ9bW4ucHJvdG90eXBlLnU7bW4ucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9bW4ucHJvdG90eXBlLmI7bW4ucHJvdG90eXBlLmdldFJldmlzaW9uPW1uLnByb3RvdHlwZS5LO21uLnByb3RvdHlwZS5vbj1tbi5wcm90b3R5cGUuSTttbi5wcm90b3R5cGUub25jZT1tbi5wcm90b3R5cGUub25jZTtcbm1uLnByb3RvdHlwZS51bj1tbi5wcm90b3R5cGUuSjtwbi5wcm90b3R5cGUuY2hhbmdlZD1wbi5wcm90b3R5cGUudTtwbi5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1wbi5wcm90b3R5cGUuYjtwbi5wcm90b3R5cGUuZ2V0UmV2aXNpb249cG4ucHJvdG90eXBlLks7cG4ucHJvdG90eXBlLm9uPXBuLnByb3RvdHlwZS5JO3BuLnByb3RvdHlwZS5vbmNlPXBuLnByb3RvdHlwZS5vbmNlO3BuLnByb3RvdHlwZS51bj1wbi5wcm90b3R5cGUuSjt6bi5wcm90b3R5cGUuY2hhbmdlZD16bi5wcm90b3R5cGUudTt6bi5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD16bi5wcm90b3R5cGUuYjt6bi5wcm90b3R5cGUuZ2V0UmV2aXNpb249em4ucHJvdG90eXBlLks7em4ucHJvdG90eXBlLm9uPXpuLnByb3RvdHlwZS5JO3puLnByb3RvdHlwZS5vbmNlPXpuLnByb3RvdHlwZS5vbmNlO3puLnByb3RvdHlwZS51bj16bi5wcm90b3R5cGUuSjtBbi5wcm90b3R5cGUuY2hhbmdlZD1Bbi5wcm90b3R5cGUudTtcbkFuLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PUFuLnByb3RvdHlwZS5iO0FuLnByb3RvdHlwZS5nZXRSZXZpc2lvbj1Bbi5wcm90b3R5cGUuSztBbi5wcm90b3R5cGUub249QW4ucHJvdG90eXBlLkk7QW4ucHJvdG90eXBlLm9uY2U9QW4ucHJvdG90eXBlLm9uY2U7QW4ucHJvdG90eXBlLnVuPUFuLnByb3RvdHlwZS5KO1hpLnByb3RvdHlwZS5jaGFuZ2VkPVhpLnByb3RvdHlwZS51O1hpLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PVhpLnByb3RvdHlwZS5iO1hpLnByb3RvdHlwZS5nZXRSZXZpc2lvbj1YaS5wcm90b3R5cGUuSztYaS5wcm90b3R5cGUub249WGkucHJvdG90eXBlLkk7WGkucHJvdG90eXBlLm9uY2U9WGkucHJvdG90eXBlLm9uY2U7WGkucHJvdG90eXBlLnVuPVhpLnByb3RvdHlwZS5KO2FqLnByb3RvdHlwZS5jaGFuZ2VkPWFqLnByb3RvdHlwZS51O2FqLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PWFqLnByb3RvdHlwZS5iO2FqLnByb3RvdHlwZS5nZXRSZXZpc2lvbj1hai5wcm90b3R5cGUuSztcbmFqLnByb3RvdHlwZS5vbj1hai5wcm90b3R5cGUuSTthai5wcm90b3R5cGUub25jZT1hai5wcm90b3R5cGUub25jZTthai5wcm90b3R5cGUudW49YWoucHJvdG90eXBlLko7YmoucHJvdG90eXBlLmNoYW5nZWQ9YmoucHJvdG90eXBlLnU7YmoucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9YmoucHJvdG90eXBlLmI7YmoucHJvdG90eXBlLmdldFJldmlzaW9uPWJqLnByb3RvdHlwZS5LO2JqLnByb3RvdHlwZS5vbj1iai5wcm90b3R5cGUuSTtiai5wcm90b3R5cGUub25jZT1iai5wcm90b3R5cGUub25jZTtiai5wcm90b3R5cGUudW49YmoucHJvdG90eXBlLko7bWoucHJvdG90eXBlLmNoYW5nZWQ9bWoucHJvdG90eXBlLnU7bWoucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9bWoucHJvdG90eXBlLmI7bWoucHJvdG90eXBlLmdldFJldmlzaW9uPW1qLnByb3RvdHlwZS5LO21qLnByb3RvdHlwZS5vbj1tai5wcm90b3R5cGUuSTttai5wcm90b3R5cGUub25jZT1tai5wcm90b3R5cGUub25jZTtcbm1qLnByb3RvdHlwZS51bj1tai5wcm90b3R5cGUuSjtoay5wcm90b3R5cGUuY2hhbmdlZD1oay5wcm90b3R5cGUudTtoay5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1oay5wcm90b3R5cGUuYjtoay5wcm90b3R5cGUuZ2V0UmV2aXNpb249aGsucHJvdG90eXBlLks7aGsucHJvdG90eXBlLm9uPWhrLnByb3RvdHlwZS5JO2hrLnByb3RvdHlwZS5vbmNlPWhrLnByb3RvdHlwZS5vbmNlO2hrLnByb3RvdHlwZS51bj1oay5wcm90b3R5cGUuSjtqay5wcm90b3R5cGUuY2hhbmdlZD1qay5wcm90b3R5cGUudTtqay5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1qay5wcm90b3R5cGUuYjtqay5wcm90b3R5cGUuZ2V0UmV2aXNpb249amsucHJvdG90eXBlLks7amsucHJvdG90eXBlLm9uPWprLnByb3RvdHlwZS5JO2prLnByb3RvdHlwZS5vbmNlPWprLnByb3RvdHlwZS5vbmNlO2prLnByb3RvdHlwZS51bj1qay5wcm90b3R5cGUuSjtiaS5wcm90b3R5cGUudHlwZT1iaS5wcm90b3R5cGUudHlwZTtcbmJpLnByb3RvdHlwZS50YXJnZXQ9YmkucHJvdG90eXBlLnRhcmdldDtiaS5wcm90b3R5cGUucHJldmVudERlZmF1bHQ9YmkucHJvdG90eXBlLnByZXZlbnREZWZhdWx0O2JpLnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb249YmkucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbjtNZC5wcm90b3R5cGUudHlwZT1NZC5wcm90b3R5cGUudHlwZTtNZC5wcm90b3R5cGUudGFyZ2V0PU1kLnByb3RvdHlwZS50YXJnZXQ7TWQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PU1kLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdDtNZC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uPU1kLnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb247a2cucHJvdG90eXBlLmdldD1rZy5wcm90b3R5cGUuZ2V0O2tnLnByb3RvdHlwZS5nZXRLZXlzPWtnLnByb3RvdHlwZS5QO2tnLnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPWtnLnByb3RvdHlwZS5MO2tnLnByb3RvdHlwZS5zZXQ9a2cucHJvdG90eXBlLnNldDtcbmtnLnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPWtnLnByb3RvdHlwZS5IO2tnLnByb3RvdHlwZS51bnNldD1rZy5wcm90b3R5cGUuUjtrZy5wcm90b3R5cGUuY2hhbmdlZD1rZy5wcm90b3R5cGUudTtrZy5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1rZy5wcm90b3R5cGUuYjtrZy5wcm90b3R5cGUuZ2V0UmV2aXNpb249a2cucHJvdG90eXBlLks7a2cucHJvdG90eXBlLm9uPWtnLnByb3RvdHlwZS5JO2tnLnByb3RvdHlwZS5vbmNlPWtnLnByb3RvdHlwZS5vbmNlO2tnLnByb3RvdHlwZS51bj1rZy5wcm90b3R5cGUuSjttZy5wcm90b3R5cGUuZ2V0RXh0ZW50PW1nLnByb3RvdHlwZS5HO21nLnByb3RvdHlwZS5nZXRNYXhSZXNvbHV0aW9uPW1nLnByb3RvdHlwZS5sYzttZy5wcm90b3R5cGUuZ2V0TWluUmVzb2x1dGlvbj1tZy5wcm90b3R5cGUubWM7bWcucHJvdG90eXBlLmdldE9wYWNpdHk9bWcucHJvdG90eXBlLm5jO21nLnByb3RvdHlwZS5nZXRWaXNpYmxlPW1nLnByb3RvdHlwZS5KYjtcbm1nLnByb3RvdHlwZS5nZXRaSW5kZXg9bWcucHJvdG90eXBlLkJhO21nLnByb3RvdHlwZS5zZXRFeHRlbnQ9bWcucHJvdG90eXBlLkZjO21nLnByb3RvdHlwZS5zZXRNYXhSZXNvbHV0aW9uPW1nLnByb3RvdHlwZS5NYzttZy5wcm90b3R5cGUuc2V0TWluUmVzb2x1dGlvbj1tZy5wcm90b3R5cGUuTmM7bWcucHJvdG90eXBlLnNldE9wYWNpdHk9bWcucHJvdG90eXBlLkdjO21nLnByb3RvdHlwZS5zZXRWaXNpYmxlPW1nLnByb3RvdHlwZS5IYzttZy5wcm90b3R5cGUuc2V0WkluZGV4PW1nLnByb3RvdHlwZS4kYjttZy5wcm90b3R5cGUuZ2V0PW1nLnByb3RvdHlwZS5nZXQ7bWcucHJvdG90eXBlLmdldEtleXM9bWcucHJvdG90eXBlLlA7bWcucHJvdG90eXBlLmdldFByb3BlcnRpZXM9bWcucHJvdG90eXBlLkw7bWcucHJvdG90eXBlLnNldD1tZy5wcm90b3R5cGUuc2V0O21nLnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPW1nLnByb3RvdHlwZS5IO21nLnByb3RvdHlwZS51bnNldD1tZy5wcm90b3R5cGUuUjtcbm1nLnByb3RvdHlwZS5jaGFuZ2VkPW1nLnByb3RvdHlwZS51O21nLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PW1nLnByb3RvdHlwZS5iO21nLnByb3RvdHlwZS5nZXRSZXZpc2lvbj1tZy5wcm90b3R5cGUuSzttZy5wcm90b3R5cGUub249bWcucHJvdG90eXBlLkk7bWcucHJvdG90eXBlLm9uY2U9bWcucHJvdG90eXBlLm9uY2U7bWcucHJvdG90eXBlLnVuPW1nLnByb3RvdHlwZS5KO3hnLnByb3RvdHlwZS5nZXRFeHRlbnQ9eGcucHJvdG90eXBlLkc7eGcucHJvdG90eXBlLmdldE1heFJlc29sdXRpb249eGcucHJvdG90eXBlLmxjO3hnLnByb3RvdHlwZS5nZXRNaW5SZXNvbHV0aW9uPXhnLnByb3RvdHlwZS5tYzt4Zy5wcm90b3R5cGUuZ2V0T3BhY2l0eT14Zy5wcm90b3R5cGUubmM7eGcucHJvdG90eXBlLmdldFZpc2libGU9eGcucHJvdG90eXBlLkpiO3hnLnByb3RvdHlwZS5nZXRaSW5kZXg9eGcucHJvdG90eXBlLkJhO3hnLnByb3RvdHlwZS5zZXRFeHRlbnQ9eGcucHJvdG90eXBlLkZjO1xueGcucHJvdG90eXBlLnNldE1heFJlc29sdXRpb249eGcucHJvdG90eXBlLk1jO3hnLnByb3RvdHlwZS5zZXRNaW5SZXNvbHV0aW9uPXhnLnByb3RvdHlwZS5OYzt4Zy5wcm90b3R5cGUuc2V0T3BhY2l0eT14Zy5wcm90b3R5cGUuR2M7eGcucHJvdG90eXBlLnNldFZpc2libGU9eGcucHJvdG90eXBlLkhjO3hnLnByb3RvdHlwZS5zZXRaSW5kZXg9eGcucHJvdG90eXBlLiRiO3hnLnByb3RvdHlwZS5nZXQ9eGcucHJvdG90eXBlLmdldDt4Zy5wcm90b3R5cGUuZ2V0S2V5cz14Zy5wcm90b3R5cGUuUDt4Zy5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz14Zy5wcm90b3R5cGUuTDt4Zy5wcm90b3R5cGUuc2V0PXhnLnByb3RvdHlwZS5zZXQ7eGcucHJvdG90eXBlLnNldFByb3BlcnRpZXM9eGcucHJvdG90eXBlLkg7eGcucHJvdG90eXBlLnVuc2V0PXhnLnByb3RvdHlwZS5SO3hnLnByb3RvdHlwZS5jaGFuZ2VkPXhnLnByb3RvdHlwZS51O3hnLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PXhnLnByb3RvdHlwZS5iO1xueGcucHJvdG90eXBlLmdldFJldmlzaW9uPXhnLnByb3RvdHlwZS5LO3hnLnByb3RvdHlwZS5vbj14Zy5wcm90b3R5cGUuSTt4Zy5wcm90b3R5cGUub25jZT14Zy5wcm90b3R5cGUub25jZTt4Zy5wcm90b3R5cGUudW49eGcucHJvdG90eXBlLko7VC5wcm90b3R5cGUuc2V0TWFwPVQucHJvdG90eXBlLnNldE1hcDtULnByb3RvdHlwZS5zZXRTb3VyY2U9VC5wcm90b3R5cGUuaGQ7VC5wcm90b3R5cGUuZ2V0RXh0ZW50PVQucHJvdG90eXBlLkc7VC5wcm90b3R5cGUuZ2V0TWF4UmVzb2x1dGlvbj1ULnByb3RvdHlwZS5sYztULnByb3RvdHlwZS5nZXRNaW5SZXNvbHV0aW9uPVQucHJvdG90eXBlLm1jO1QucHJvdG90eXBlLmdldE9wYWNpdHk9VC5wcm90b3R5cGUubmM7VC5wcm90b3R5cGUuZ2V0VmlzaWJsZT1ULnByb3RvdHlwZS5KYjtULnByb3RvdHlwZS5nZXRaSW5kZXg9VC5wcm90b3R5cGUuQmE7VC5wcm90b3R5cGUuc2V0RXh0ZW50PVQucHJvdG90eXBlLkZjO1xuVC5wcm90b3R5cGUuc2V0TWF4UmVzb2x1dGlvbj1ULnByb3RvdHlwZS5NYztULnByb3RvdHlwZS5zZXRNaW5SZXNvbHV0aW9uPVQucHJvdG90eXBlLk5jO1QucHJvdG90eXBlLnNldE9wYWNpdHk9VC5wcm90b3R5cGUuR2M7VC5wcm90b3R5cGUuc2V0VmlzaWJsZT1ULnByb3RvdHlwZS5IYztULnByb3RvdHlwZS5zZXRaSW5kZXg9VC5wcm90b3R5cGUuJGI7VC5wcm90b3R5cGUuZ2V0PVQucHJvdG90eXBlLmdldDtULnByb3RvdHlwZS5nZXRLZXlzPVQucHJvdG90eXBlLlA7VC5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1ULnByb3RvdHlwZS5MO1QucHJvdG90eXBlLnNldD1ULnByb3RvdHlwZS5zZXQ7VC5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1ULnByb3RvdHlwZS5IO1QucHJvdG90eXBlLnVuc2V0PVQucHJvdG90eXBlLlI7VC5wcm90b3R5cGUuY2hhbmdlZD1ULnByb3RvdHlwZS51O1QucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9VC5wcm90b3R5cGUuYjtcblQucHJvdG90eXBlLmdldFJldmlzaW9uPVQucHJvdG90eXBlLks7VC5wcm90b3R5cGUub249VC5wcm90b3R5cGUuSTtULnByb3RvdHlwZS5vbmNlPVQucHJvdG90eXBlLm9uY2U7VC5wcm90b3R5cGUudW49VC5wcm90b3R5cGUuSjtWLnByb3RvdHlwZS5nZXRTb3VyY2U9Vi5wcm90b3R5cGUuaGE7Vi5wcm90b3R5cGUuZ2V0U3R5bGU9Vi5wcm90b3R5cGUuQjtWLnByb3RvdHlwZS5nZXRTdHlsZUZ1bmN0aW9uPVYucHJvdG90eXBlLmliO1YucHJvdG90eXBlLnNldFN0eWxlPVYucHJvdG90eXBlLmo7Vi5wcm90b3R5cGUuc2V0TWFwPVYucHJvdG90eXBlLnNldE1hcDtWLnByb3RvdHlwZS5zZXRTb3VyY2U9Vi5wcm90b3R5cGUuaGQ7Vi5wcm90b3R5cGUuZ2V0RXh0ZW50PVYucHJvdG90eXBlLkc7Vi5wcm90b3R5cGUuZ2V0TWF4UmVzb2x1dGlvbj1WLnByb3RvdHlwZS5sYztWLnByb3RvdHlwZS5nZXRNaW5SZXNvbHV0aW9uPVYucHJvdG90eXBlLm1jO1xuVi5wcm90b3R5cGUuZ2V0T3BhY2l0eT1WLnByb3RvdHlwZS5uYztWLnByb3RvdHlwZS5nZXRWaXNpYmxlPVYucHJvdG90eXBlLkpiO1YucHJvdG90eXBlLmdldFpJbmRleD1WLnByb3RvdHlwZS5CYTtWLnByb3RvdHlwZS5zZXRFeHRlbnQ9Vi5wcm90b3R5cGUuRmM7Vi5wcm90b3R5cGUuc2V0TWF4UmVzb2x1dGlvbj1WLnByb3RvdHlwZS5NYztWLnByb3RvdHlwZS5zZXRNaW5SZXNvbHV0aW9uPVYucHJvdG90eXBlLk5jO1YucHJvdG90eXBlLnNldE9wYWNpdHk9Vi5wcm90b3R5cGUuR2M7Vi5wcm90b3R5cGUuc2V0VmlzaWJsZT1WLnByb3RvdHlwZS5IYztWLnByb3RvdHlwZS5zZXRaSW5kZXg9Vi5wcm90b3R5cGUuJGI7Vi5wcm90b3R5cGUuZ2V0PVYucHJvdG90eXBlLmdldDtWLnByb3RvdHlwZS5nZXRLZXlzPVYucHJvdG90eXBlLlA7Vi5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1WLnByb3RvdHlwZS5MO1YucHJvdG90eXBlLnNldD1WLnByb3RvdHlwZS5zZXQ7XG5WLnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPVYucHJvdG90eXBlLkg7Vi5wcm90b3R5cGUudW5zZXQ9Vi5wcm90b3R5cGUuUjtWLnByb3RvdHlwZS5jaGFuZ2VkPVYucHJvdG90eXBlLnU7Vi5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1WLnByb3RvdHlwZS5iO1YucHJvdG90eXBlLmdldFJldmlzaW9uPVYucHJvdG90eXBlLks7Vi5wcm90b3R5cGUub249Vi5wcm90b3R5cGUuSTtWLnByb3RvdHlwZS5vbmNlPVYucHJvdG90eXBlLm9uY2U7Vi5wcm90b3R5cGUudW49Vi5wcm90b3R5cGUuSjtTeC5wcm90b3R5cGUuc2V0TWFwPVN4LnByb3RvdHlwZS5zZXRNYXA7U3gucHJvdG90eXBlLnNldFNvdXJjZT1TeC5wcm90b3R5cGUuaGQ7U3gucHJvdG90eXBlLmdldEV4dGVudD1TeC5wcm90b3R5cGUuRztTeC5wcm90b3R5cGUuZ2V0TWF4UmVzb2x1dGlvbj1TeC5wcm90b3R5cGUubGM7U3gucHJvdG90eXBlLmdldE1pblJlc29sdXRpb249U3gucHJvdG90eXBlLm1jO1xuU3gucHJvdG90eXBlLmdldE9wYWNpdHk9U3gucHJvdG90eXBlLm5jO1N4LnByb3RvdHlwZS5nZXRWaXNpYmxlPVN4LnByb3RvdHlwZS5KYjtTeC5wcm90b3R5cGUuZ2V0WkluZGV4PVN4LnByb3RvdHlwZS5CYTtTeC5wcm90b3R5cGUuc2V0RXh0ZW50PVN4LnByb3RvdHlwZS5GYztTeC5wcm90b3R5cGUuc2V0TWF4UmVzb2x1dGlvbj1TeC5wcm90b3R5cGUuTWM7U3gucHJvdG90eXBlLnNldE1pblJlc29sdXRpb249U3gucHJvdG90eXBlLk5jO1N4LnByb3RvdHlwZS5zZXRPcGFjaXR5PVN4LnByb3RvdHlwZS5HYztTeC5wcm90b3R5cGUuc2V0VmlzaWJsZT1TeC5wcm90b3R5cGUuSGM7U3gucHJvdG90eXBlLnNldFpJbmRleD1TeC5wcm90b3R5cGUuJGI7U3gucHJvdG90eXBlLmdldD1TeC5wcm90b3R5cGUuZ2V0O1N4LnByb3RvdHlwZS5nZXRLZXlzPVN4LnByb3RvdHlwZS5QO1N4LnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPVN4LnByb3RvdHlwZS5MO1N4LnByb3RvdHlwZS5zZXQ9U3gucHJvdG90eXBlLnNldDtcblN4LnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPVN4LnByb3RvdHlwZS5IO1N4LnByb3RvdHlwZS51bnNldD1TeC5wcm90b3R5cGUuUjtTeC5wcm90b3R5cGUuY2hhbmdlZD1TeC5wcm90b3R5cGUudTtTeC5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1TeC5wcm90b3R5cGUuYjtTeC5wcm90b3R5cGUuZ2V0UmV2aXNpb249U3gucHJvdG90eXBlLks7U3gucHJvdG90eXBlLm9uPVN4LnByb3RvdHlwZS5JO1N4LnByb3RvdHlwZS5vbmNlPVN4LnByb3RvdHlwZS5vbmNlO1N4LnByb3RvdHlwZS51bj1TeC5wcm90b3R5cGUuSjtUeC5wcm90b3R5cGUuc2V0TWFwPVR4LnByb3RvdHlwZS5zZXRNYXA7VHgucHJvdG90eXBlLnNldFNvdXJjZT1UeC5wcm90b3R5cGUuaGQ7VHgucHJvdG90eXBlLmdldEV4dGVudD1UeC5wcm90b3R5cGUuRztUeC5wcm90b3R5cGUuZ2V0TWF4UmVzb2x1dGlvbj1UeC5wcm90b3R5cGUubGM7VHgucHJvdG90eXBlLmdldE1pblJlc29sdXRpb249VHgucHJvdG90eXBlLm1jO1xuVHgucHJvdG90eXBlLmdldE9wYWNpdHk9VHgucHJvdG90eXBlLm5jO1R4LnByb3RvdHlwZS5nZXRWaXNpYmxlPVR4LnByb3RvdHlwZS5KYjtUeC5wcm90b3R5cGUuZ2V0WkluZGV4PVR4LnByb3RvdHlwZS5CYTtUeC5wcm90b3R5cGUuc2V0RXh0ZW50PVR4LnByb3RvdHlwZS5GYztUeC5wcm90b3R5cGUuc2V0TWF4UmVzb2x1dGlvbj1UeC5wcm90b3R5cGUuTWM7VHgucHJvdG90eXBlLnNldE1pblJlc29sdXRpb249VHgucHJvdG90eXBlLk5jO1R4LnByb3RvdHlwZS5zZXRPcGFjaXR5PVR4LnByb3RvdHlwZS5HYztUeC5wcm90b3R5cGUuc2V0VmlzaWJsZT1UeC5wcm90b3R5cGUuSGM7VHgucHJvdG90eXBlLnNldFpJbmRleD1UeC5wcm90b3R5cGUuJGI7VHgucHJvdG90eXBlLmdldD1UeC5wcm90b3R5cGUuZ2V0O1R4LnByb3RvdHlwZS5nZXRLZXlzPVR4LnByb3RvdHlwZS5QO1R4LnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPVR4LnByb3RvdHlwZS5MO1R4LnByb3RvdHlwZS5zZXQ9VHgucHJvdG90eXBlLnNldDtcblR4LnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPVR4LnByb3RvdHlwZS5IO1R4LnByb3RvdHlwZS51bnNldD1UeC5wcm90b3R5cGUuUjtUeC5wcm90b3R5cGUuY2hhbmdlZD1UeC5wcm90b3R5cGUudTtUeC5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1UeC5wcm90b3R5cGUuYjtUeC5wcm90b3R5cGUuZ2V0UmV2aXNpb249VHgucHJvdG90eXBlLks7VHgucHJvdG90eXBlLm9uPVR4LnByb3RvdHlwZS5JO1R4LnByb3RvdHlwZS5vbmNlPVR4LnByb3RvdHlwZS5vbmNlO1R4LnByb3RvdHlwZS51bj1UeC5wcm90b3R5cGUuSjtXLnByb3RvdHlwZS5nZXRTdHlsZT1XLnByb3RvdHlwZS5CO1cucHJvdG90eXBlLmdldFN0eWxlRnVuY3Rpb249Vy5wcm90b3R5cGUuaWI7Vy5wcm90b3R5cGUuc2V0U3R5bGU9Vy5wcm90b3R5cGUuajtXLnByb3RvdHlwZS5zZXRNYXA9Vy5wcm90b3R5cGUuc2V0TWFwO1cucHJvdG90eXBlLnNldFNvdXJjZT1XLnByb3RvdHlwZS5oZDtcblcucHJvdG90eXBlLmdldEV4dGVudD1XLnByb3RvdHlwZS5HO1cucHJvdG90eXBlLmdldE1heFJlc29sdXRpb249Vy5wcm90b3R5cGUubGM7Vy5wcm90b3R5cGUuZ2V0TWluUmVzb2x1dGlvbj1XLnByb3RvdHlwZS5tYztXLnByb3RvdHlwZS5nZXRPcGFjaXR5PVcucHJvdG90eXBlLm5jO1cucHJvdG90eXBlLmdldFZpc2libGU9Vy5wcm90b3R5cGUuSmI7Vy5wcm90b3R5cGUuZ2V0WkluZGV4PVcucHJvdG90eXBlLkJhO1cucHJvdG90eXBlLnNldEV4dGVudD1XLnByb3RvdHlwZS5GYztXLnByb3RvdHlwZS5zZXRNYXhSZXNvbHV0aW9uPVcucHJvdG90eXBlLk1jO1cucHJvdG90eXBlLnNldE1pblJlc29sdXRpb249Vy5wcm90b3R5cGUuTmM7Vy5wcm90b3R5cGUuc2V0T3BhY2l0eT1XLnByb3RvdHlwZS5HYztXLnByb3RvdHlwZS5zZXRWaXNpYmxlPVcucHJvdG90eXBlLkhjO1cucHJvdG90eXBlLnNldFpJbmRleD1XLnByb3RvdHlwZS4kYjtXLnByb3RvdHlwZS5nZXQ9Vy5wcm90b3R5cGUuZ2V0O1xuVy5wcm90b3R5cGUuZ2V0S2V5cz1XLnByb3RvdHlwZS5QO1cucHJvdG90eXBlLmdldFByb3BlcnRpZXM9Vy5wcm90b3R5cGUuTDtXLnByb3RvdHlwZS5zZXQ9Vy5wcm90b3R5cGUuc2V0O1cucHJvdG90eXBlLnNldFByb3BlcnRpZXM9Vy5wcm90b3R5cGUuSDtXLnByb3RvdHlwZS51bnNldD1XLnByb3RvdHlwZS5SO1cucHJvdG90eXBlLmNoYW5nZWQ9Vy5wcm90b3R5cGUudTtXLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PVcucHJvdG90eXBlLmI7Vy5wcm90b3R5cGUuZ2V0UmV2aXNpb249Vy5wcm90b3R5cGUuSztXLnByb3RvdHlwZS5vbj1XLnByb3RvdHlwZS5JO1cucHJvdG90eXBlLm9uY2U9Vy5wcm90b3R5cGUub25jZTtXLnByb3RvdHlwZS51bj1XLnByb3RvdHlwZS5KO0pnLnByb3RvdHlwZS5nZXQ9SmcucHJvdG90eXBlLmdldDtKZy5wcm90b3R5cGUuZ2V0S2V5cz1KZy5wcm90b3R5cGUuUDtKZy5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1KZy5wcm90b3R5cGUuTDtcbkpnLnByb3RvdHlwZS5zZXQ9SmcucHJvdG90eXBlLnNldDtKZy5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1KZy5wcm90b3R5cGUuSDtKZy5wcm90b3R5cGUudW5zZXQ9SmcucHJvdG90eXBlLlI7SmcucHJvdG90eXBlLmNoYW5nZWQ9SmcucHJvdG90eXBlLnU7SmcucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9SmcucHJvdG90eXBlLmI7SmcucHJvdG90eXBlLmdldFJldmlzaW9uPUpnLnByb3RvdHlwZS5LO0pnLnByb3RvdHlwZS5vbj1KZy5wcm90b3R5cGUuSTtKZy5wcm90b3R5cGUub25jZT1KZy5wcm90b3R5cGUub25jZTtKZy5wcm90b3R5cGUudW49SmcucHJvdG90eXBlLko7VWcucHJvdG90eXBlLmdldEFjdGl2ZT1VZy5wcm90b3R5cGUuYztVZy5wcm90b3R5cGUuZ2V0TWFwPVVnLnByb3RvdHlwZS5pO1VnLnByb3RvdHlwZS5zZXRBY3RpdmU9VWcucHJvdG90eXBlLkhhO1VnLnByb3RvdHlwZS5nZXQ9VWcucHJvdG90eXBlLmdldDtVZy5wcm90b3R5cGUuZ2V0S2V5cz1VZy5wcm90b3R5cGUuUDtcblVnLnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPVVnLnByb3RvdHlwZS5MO1VnLnByb3RvdHlwZS5zZXQ9VWcucHJvdG90eXBlLnNldDtVZy5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1VZy5wcm90b3R5cGUuSDtVZy5wcm90b3R5cGUudW5zZXQ9VWcucHJvdG90eXBlLlI7VWcucHJvdG90eXBlLmNoYW5nZWQ9VWcucHJvdG90eXBlLnU7VWcucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9VWcucHJvdG90eXBlLmI7VWcucHJvdG90eXBlLmdldFJldmlzaW9uPVVnLnByb3RvdHlwZS5LO1VnLnByb3RvdHlwZS5vbj1VZy5wcm90b3R5cGUuSTtVZy5wcm90b3R5cGUub25jZT1VZy5wcm90b3R5cGUub25jZTtVZy5wcm90b3R5cGUudW49VWcucHJvdG90eXBlLko7aXcucHJvdG90eXBlLmdldEFjdGl2ZT1pdy5wcm90b3R5cGUuYztpdy5wcm90b3R5cGUuZ2V0TWFwPWl3LnByb3RvdHlwZS5pO2l3LnByb3RvdHlwZS5zZXRBY3RpdmU9aXcucHJvdG90eXBlLkhhO2l3LnByb3RvdHlwZS5nZXQ9aXcucHJvdG90eXBlLmdldDtcbml3LnByb3RvdHlwZS5nZXRLZXlzPWl3LnByb3RvdHlwZS5QO2l3LnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPWl3LnByb3RvdHlwZS5MO2l3LnByb3RvdHlwZS5zZXQ9aXcucHJvdG90eXBlLnNldDtpdy5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1pdy5wcm90b3R5cGUuSDtpdy5wcm90b3R5cGUudW5zZXQ9aXcucHJvdG90eXBlLlI7aXcucHJvdG90eXBlLmNoYW5nZWQ9aXcucHJvdG90eXBlLnU7aXcucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9aXcucHJvdG90eXBlLmI7aXcucHJvdG90eXBlLmdldFJldmlzaW9uPWl3LnByb3RvdHlwZS5LO2l3LnByb3RvdHlwZS5vbj1pdy5wcm90b3R5cGUuSTtpdy5wcm90b3R5cGUub25jZT1pdy5wcm90b3R5cGUub25jZTtpdy5wcm90b3R5cGUudW49aXcucHJvdG90eXBlLko7bHcucHJvdG90eXBlLnR5cGU9bHcucHJvdG90eXBlLnR5cGU7bHcucHJvdG90eXBlLnRhcmdldD1sdy5wcm90b3R5cGUudGFyZ2V0O1xubHcucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PWx3LnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdDtsdy5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uPWx3LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb247ZmgucHJvdG90eXBlLmdldEFjdGl2ZT1maC5wcm90b3R5cGUuYztmaC5wcm90b3R5cGUuZ2V0TWFwPWZoLnByb3RvdHlwZS5pO2ZoLnByb3RvdHlwZS5zZXRBY3RpdmU9ZmgucHJvdG90eXBlLkhhO2ZoLnByb3RvdHlwZS5nZXQ9ZmgucHJvdG90eXBlLmdldDtmaC5wcm90b3R5cGUuZ2V0S2V5cz1maC5wcm90b3R5cGUuUDtmaC5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1maC5wcm90b3R5cGUuTDtmaC5wcm90b3R5cGUuc2V0PWZoLnByb3RvdHlwZS5zZXQ7ZmgucHJvdG90eXBlLnNldFByb3BlcnRpZXM9ZmgucHJvdG90eXBlLkg7ZmgucHJvdG90eXBlLnVuc2V0PWZoLnByb3RvdHlwZS5SO2ZoLnByb3RvdHlwZS5jaGFuZ2VkPWZoLnByb3RvdHlwZS51O1xuZmgucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9ZmgucHJvdG90eXBlLmI7ZmgucHJvdG90eXBlLmdldFJldmlzaW9uPWZoLnByb3RvdHlwZS5LO2ZoLnByb3RvdHlwZS5vbj1maC5wcm90b3R5cGUuSTtmaC5wcm90b3R5cGUub25jZT1maC5wcm90b3R5cGUub25jZTtmaC5wcm90b3R5cGUudW49ZmgucHJvdG90eXBlLko7dGgucHJvdG90eXBlLmdldEFjdGl2ZT10aC5wcm90b3R5cGUuYzt0aC5wcm90b3R5cGUuZ2V0TWFwPXRoLnByb3RvdHlwZS5pO3RoLnByb3RvdHlwZS5zZXRBY3RpdmU9dGgucHJvdG90eXBlLkhhO3RoLnByb3RvdHlwZS5nZXQ9dGgucHJvdG90eXBlLmdldDt0aC5wcm90b3R5cGUuZ2V0S2V5cz10aC5wcm90b3R5cGUuUDt0aC5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz10aC5wcm90b3R5cGUuTDt0aC5wcm90b3R5cGUuc2V0PXRoLnByb3RvdHlwZS5zZXQ7dGgucHJvdG90eXBlLnNldFByb3BlcnRpZXM9dGgucHJvdG90eXBlLkg7dGgucHJvdG90eXBlLnVuc2V0PXRoLnByb3RvdHlwZS5SO1xudGgucHJvdG90eXBlLmNoYW5nZWQ9dGgucHJvdG90eXBlLnU7dGgucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9dGgucHJvdG90eXBlLmI7dGgucHJvdG90eXBlLmdldFJldmlzaW9uPXRoLnByb3RvdHlwZS5LO3RoLnByb3RvdHlwZS5vbj10aC5wcm90b3R5cGUuSTt0aC5wcm90b3R5cGUub25jZT10aC5wcm90b3R5cGUub25jZTt0aC5wcm90b3R5cGUudW49dGgucHJvdG90eXBlLko7eWgucHJvdG90eXBlLnR5cGU9eWgucHJvdG90eXBlLnR5cGU7eWgucHJvdG90eXBlLnRhcmdldD15aC5wcm90b3R5cGUudGFyZ2V0O3loLnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdD15aC5wcm90b3R5cGUucHJldmVudERlZmF1bHQ7eWgucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbj15aC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uO2loLnByb3RvdHlwZS5nZXRBY3RpdmU9aWgucHJvdG90eXBlLmM7aWgucHJvdG90eXBlLmdldE1hcD1paC5wcm90b3R5cGUuaTtcbmloLnByb3RvdHlwZS5zZXRBY3RpdmU9aWgucHJvdG90eXBlLkhhO2loLnByb3RvdHlwZS5nZXQ9aWgucHJvdG90eXBlLmdldDtpaC5wcm90b3R5cGUuZ2V0S2V5cz1paC5wcm90b3R5cGUuUDtpaC5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1paC5wcm90b3R5cGUuTDtpaC5wcm90b3R5cGUuc2V0PWloLnByb3RvdHlwZS5zZXQ7aWgucHJvdG90eXBlLnNldFByb3BlcnRpZXM9aWgucHJvdG90eXBlLkg7aWgucHJvdG90eXBlLnVuc2V0PWloLnByb3RvdHlwZS5SO2loLnByb3RvdHlwZS5jaGFuZ2VkPWloLnByb3RvdHlwZS51O2loLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PWloLnByb3RvdHlwZS5iO2loLnByb3RvdHlwZS5nZXRSZXZpc2lvbj1paC5wcm90b3R5cGUuSztpaC5wcm90b3R5cGUub249aWgucHJvdG90eXBlLkk7aWgucHJvdG90eXBlLm9uY2U9aWgucHJvdG90eXBlLm9uY2U7aWgucHJvdG90eXBlLnVuPWloLnByb3RvdHlwZS5KO21oLnByb3RvdHlwZS5nZXRBY3RpdmU9bWgucHJvdG90eXBlLmM7XG5taC5wcm90b3R5cGUuZ2V0TWFwPW1oLnByb3RvdHlwZS5pO21oLnByb3RvdHlwZS5zZXRBY3RpdmU9bWgucHJvdG90eXBlLkhhO21oLnByb3RvdHlwZS5nZXQ9bWgucHJvdG90eXBlLmdldDttaC5wcm90b3R5cGUuZ2V0S2V5cz1taC5wcm90b3R5cGUuUDttaC5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1taC5wcm90b3R5cGUuTDttaC5wcm90b3R5cGUuc2V0PW1oLnByb3RvdHlwZS5zZXQ7bWgucHJvdG90eXBlLnNldFByb3BlcnRpZXM9bWgucHJvdG90eXBlLkg7bWgucHJvdG90eXBlLnVuc2V0PW1oLnByb3RvdHlwZS5SO21oLnByb3RvdHlwZS5jaGFuZ2VkPW1oLnByb3RvdHlwZS51O21oLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PW1oLnByb3RvdHlwZS5iO21oLnByb3RvdHlwZS5nZXRSZXZpc2lvbj1taC5wcm90b3R5cGUuSzttaC5wcm90b3R5cGUub249bWgucHJvdG90eXBlLkk7bWgucHJvdG90eXBlLm9uY2U9bWgucHJvdG90eXBlLm9uY2U7bWgucHJvdG90eXBlLnVuPW1oLnByb3RvdHlwZS5KO1xucHcucHJvdG90eXBlLmdldEFjdGl2ZT1wdy5wcm90b3R5cGUuYztwdy5wcm90b3R5cGUuZ2V0TWFwPXB3LnByb3RvdHlwZS5pO3B3LnByb3RvdHlwZS5zZXRBY3RpdmU9cHcucHJvdG90eXBlLkhhO3B3LnByb3RvdHlwZS5nZXQ9cHcucHJvdG90eXBlLmdldDtwdy5wcm90b3R5cGUuZ2V0S2V5cz1wdy5wcm90b3R5cGUuUDtwdy5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1wdy5wcm90b3R5cGUuTDtwdy5wcm90b3R5cGUuc2V0PXB3LnByb3RvdHlwZS5zZXQ7cHcucHJvdG90eXBlLnNldFByb3BlcnRpZXM9cHcucHJvdG90eXBlLkg7cHcucHJvdG90eXBlLnVuc2V0PXB3LnByb3RvdHlwZS5SO3B3LnByb3RvdHlwZS5jaGFuZ2VkPXB3LnByb3RvdHlwZS51O3B3LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PXB3LnByb3RvdHlwZS5iO3B3LnByb3RvdHlwZS5nZXRSZXZpc2lvbj1wdy5wcm90b3R5cGUuSztwdy5wcm90b3R5cGUub249cHcucHJvdG90eXBlLkk7XG5wdy5wcm90b3R5cGUub25jZT1wdy5wcm90b3R5cGUub25jZTtwdy5wcm90b3R5cGUudW49cHcucHJvdG90eXBlLko7Q2gucHJvdG90eXBlLmdldEdlb21ldHJ5PUNoLnByb3RvdHlwZS5VO0NoLnByb3RvdHlwZS5nZXRBY3RpdmU9Q2gucHJvdG90eXBlLmM7Q2gucHJvdG90eXBlLmdldE1hcD1DaC5wcm90b3R5cGUuaTtDaC5wcm90b3R5cGUuc2V0QWN0aXZlPUNoLnByb3RvdHlwZS5IYTtDaC5wcm90b3R5cGUuZ2V0PUNoLnByb3RvdHlwZS5nZXQ7Q2gucHJvdG90eXBlLmdldEtleXM9Q2gucHJvdG90eXBlLlA7Q2gucHJvdG90eXBlLmdldFByb3BlcnRpZXM9Q2gucHJvdG90eXBlLkw7Q2gucHJvdG90eXBlLnNldD1DaC5wcm90b3R5cGUuc2V0O0NoLnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPUNoLnByb3RvdHlwZS5IO0NoLnByb3RvdHlwZS51bnNldD1DaC5wcm90b3R5cGUuUjtDaC5wcm90b3R5cGUuY2hhbmdlZD1DaC5wcm90b3R5cGUudTtcbkNoLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PUNoLnByb3RvdHlwZS5iO0NoLnByb3RvdHlwZS5nZXRSZXZpc2lvbj1DaC5wcm90b3R5cGUuSztDaC5wcm90b3R5cGUub249Q2gucHJvdG90eXBlLkk7Q2gucHJvdG90eXBlLm9uY2U9Q2gucHJvdG90eXBlLm9uY2U7Q2gucHJvdG90eXBlLnVuPUNoLnByb3RvdHlwZS5KO0V3LnByb3RvdHlwZS5nZXRBY3RpdmU9RXcucHJvdG90eXBlLmM7RXcucHJvdG90eXBlLmdldE1hcD1Fdy5wcm90b3R5cGUuaTtFdy5wcm90b3R5cGUuc2V0QWN0aXZlPUV3LnByb3RvdHlwZS5IYTtFdy5wcm90b3R5cGUuZ2V0PUV3LnByb3RvdHlwZS5nZXQ7RXcucHJvdG90eXBlLmdldEtleXM9RXcucHJvdG90eXBlLlA7RXcucHJvdG90eXBlLmdldFByb3BlcnRpZXM9RXcucHJvdG90eXBlLkw7RXcucHJvdG90eXBlLnNldD1Fdy5wcm90b3R5cGUuc2V0O0V3LnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPUV3LnByb3RvdHlwZS5IO0V3LnByb3RvdHlwZS51bnNldD1Fdy5wcm90b3R5cGUuUjtcbkV3LnByb3RvdHlwZS5jaGFuZ2VkPUV3LnByb3RvdHlwZS51O0V3LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PUV3LnByb3RvdHlwZS5iO0V3LnByb3RvdHlwZS5nZXRSZXZpc2lvbj1Fdy5wcm90b3R5cGUuSztFdy5wcm90b3R5cGUub249RXcucHJvdG90eXBlLkk7RXcucHJvdG90eXBlLm9uY2U9RXcucHJvdG90eXBlLm9uY2U7RXcucHJvdG90eXBlLnVuPUV3LnByb3RvdHlwZS5KO1V3LnByb3RvdHlwZS50eXBlPVV3LnByb3RvdHlwZS50eXBlO1V3LnByb3RvdHlwZS50YXJnZXQ9VXcucHJvdG90eXBlLnRhcmdldDtVdy5wcm90b3R5cGUucHJldmVudERlZmF1bHQ9VXcucHJvdG90eXBlLnByZXZlbnREZWZhdWx0O1V3LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb249VXcucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbjtWdy5wcm90b3R5cGUuZ2V0QWN0aXZlPVZ3LnByb3RvdHlwZS5jO1Z3LnByb3RvdHlwZS5nZXRNYXA9VncucHJvdG90eXBlLmk7XG5Wdy5wcm90b3R5cGUuc2V0QWN0aXZlPVZ3LnByb3RvdHlwZS5IYTtWdy5wcm90b3R5cGUuZ2V0PVZ3LnByb3RvdHlwZS5nZXQ7VncucHJvdG90eXBlLmdldEtleXM9VncucHJvdG90eXBlLlA7VncucHJvdG90eXBlLmdldFByb3BlcnRpZXM9VncucHJvdG90eXBlLkw7VncucHJvdG90eXBlLnNldD1Wdy5wcm90b3R5cGUuc2V0O1Z3LnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPVZ3LnByb3RvdHlwZS5IO1Z3LnByb3RvdHlwZS51bnNldD1Wdy5wcm90b3R5cGUuUjtWdy5wcm90b3R5cGUuY2hhbmdlZD1Wdy5wcm90b3R5cGUudTtWdy5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1Wdy5wcm90b3R5cGUuYjtWdy5wcm90b3R5cGUuZ2V0UmV2aXNpb249VncucHJvdG90eXBlLks7VncucHJvdG90eXBlLm9uPVZ3LnByb3RvdHlwZS5JO1Z3LnByb3RvdHlwZS5vbmNlPVZ3LnByb3RvdHlwZS5vbmNlO1Z3LnByb3RvdHlwZS51bj1Wdy5wcm90b3R5cGUuSjtmeC5wcm90b3R5cGUudHlwZT1meC5wcm90b3R5cGUudHlwZTtcbmZ4LnByb3RvdHlwZS50YXJnZXQ9ZngucHJvdG90eXBlLnRhcmdldDtmeC5wcm90b3R5cGUucHJldmVudERlZmF1bHQ9ZngucHJvdG90eXBlLnByZXZlbnREZWZhdWx0O2Z4LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb249ZngucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbjtEaC5wcm90b3R5cGUuZ2V0QWN0aXZlPURoLnByb3RvdHlwZS5jO0RoLnByb3RvdHlwZS5nZXRNYXA9RGgucHJvdG90eXBlLmk7RGgucHJvdG90eXBlLnNldEFjdGl2ZT1EaC5wcm90b3R5cGUuSGE7RGgucHJvdG90eXBlLmdldD1EaC5wcm90b3R5cGUuZ2V0O0RoLnByb3RvdHlwZS5nZXRLZXlzPURoLnByb3RvdHlwZS5QO0RoLnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPURoLnByb3RvdHlwZS5MO0RoLnByb3RvdHlwZS5zZXQ9RGgucHJvdG90eXBlLnNldDtEaC5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1EaC5wcm90b3R5cGUuSDtEaC5wcm90b3R5cGUudW5zZXQ9RGgucHJvdG90eXBlLlI7XG5EaC5wcm90b3R5cGUuY2hhbmdlZD1EaC5wcm90b3R5cGUudTtEaC5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1EaC5wcm90b3R5cGUuYjtEaC5wcm90b3R5cGUuZ2V0UmV2aXNpb249RGgucHJvdG90eXBlLks7RGgucHJvdG90eXBlLm9uPURoLnByb3RvdHlwZS5JO0RoLnByb3RvdHlwZS5vbmNlPURoLnByb3RvdHlwZS5vbmNlO0RoLnByb3RvdHlwZS51bj1EaC5wcm90b3R5cGUuSjtGaC5wcm90b3R5cGUuZ2V0QWN0aXZlPUZoLnByb3RvdHlwZS5jO0ZoLnByb3RvdHlwZS5nZXRNYXA9RmgucHJvdG90eXBlLmk7RmgucHJvdG90eXBlLnNldEFjdGl2ZT1GaC5wcm90b3R5cGUuSGE7RmgucHJvdG90eXBlLmdldD1GaC5wcm90b3R5cGUuZ2V0O0ZoLnByb3RvdHlwZS5nZXRLZXlzPUZoLnByb3RvdHlwZS5QO0ZoLnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPUZoLnByb3RvdHlwZS5MO0ZoLnByb3RvdHlwZS5zZXQ9RmgucHJvdG90eXBlLnNldDtcbkZoLnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPUZoLnByb3RvdHlwZS5IO0ZoLnByb3RvdHlwZS51bnNldD1GaC5wcm90b3R5cGUuUjtGaC5wcm90b3R5cGUuY2hhbmdlZD1GaC5wcm90b3R5cGUudTtGaC5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1GaC5wcm90b3R5cGUuYjtGaC5wcm90b3R5cGUuZ2V0UmV2aXNpb249RmgucHJvdG90eXBlLks7RmgucHJvdG90eXBlLm9uPUZoLnByb3RvdHlwZS5JO0ZoLnByb3RvdHlwZS5vbmNlPUZoLnByb3RvdHlwZS5vbmNlO0ZoLnByb3RvdHlwZS51bj1GaC5wcm90b3R5cGUuSjtneC5wcm90b3R5cGUuZ2V0QWN0aXZlPWd4LnByb3RvdHlwZS5jO2d4LnByb3RvdHlwZS5nZXRNYXA9Z3gucHJvdG90eXBlLmk7Z3gucHJvdG90eXBlLnNldEFjdGl2ZT1neC5wcm90b3R5cGUuSGE7Z3gucHJvdG90eXBlLmdldD1neC5wcm90b3R5cGUuZ2V0O2d4LnByb3RvdHlwZS5nZXRLZXlzPWd4LnByb3RvdHlwZS5QO1xuZ3gucHJvdG90eXBlLmdldFByb3BlcnRpZXM9Z3gucHJvdG90eXBlLkw7Z3gucHJvdG90eXBlLnNldD1neC5wcm90b3R5cGUuc2V0O2d4LnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPWd4LnByb3RvdHlwZS5IO2d4LnByb3RvdHlwZS51bnNldD1neC5wcm90b3R5cGUuUjtneC5wcm90b3R5cGUuY2hhbmdlZD1neC5wcm90b3R5cGUudTtneC5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1neC5wcm90b3R5cGUuYjtneC5wcm90b3R5cGUuZ2V0UmV2aXNpb249Z3gucHJvdG90eXBlLks7Z3gucHJvdG90eXBlLm9uPWd4LnByb3RvdHlwZS5JO2d4LnByb3RvdHlwZS5vbmNlPWd4LnByb3RvdHlwZS5vbmNlO2d4LnByb3RvdHlwZS51bj1neC5wcm90b3R5cGUuSjtveC5wcm90b3R5cGUudHlwZT1veC5wcm90b3R5cGUudHlwZTtveC5wcm90b3R5cGUudGFyZ2V0PW94LnByb3RvdHlwZS50YXJnZXQ7b3gucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PW94LnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdDtcbm94LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb249b3gucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbjtIaC5wcm90b3R5cGUuZ2V0QWN0aXZlPUhoLnByb3RvdHlwZS5jO0hoLnByb3RvdHlwZS5nZXRNYXA9SGgucHJvdG90eXBlLmk7SGgucHJvdG90eXBlLnNldEFjdGl2ZT1IaC5wcm90b3R5cGUuSGE7SGgucHJvdG90eXBlLmdldD1IaC5wcm90b3R5cGUuZ2V0O0hoLnByb3RvdHlwZS5nZXRLZXlzPUhoLnByb3RvdHlwZS5QO0hoLnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPUhoLnByb3RvdHlwZS5MO0hoLnByb3RvdHlwZS5zZXQ9SGgucHJvdG90eXBlLnNldDtIaC5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1IaC5wcm90b3R5cGUuSDtIaC5wcm90b3R5cGUudW5zZXQ9SGgucHJvdG90eXBlLlI7SGgucHJvdG90eXBlLmNoYW5nZWQ9SGgucHJvdG90eXBlLnU7SGgucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9SGgucHJvdG90eXBlLmI7SGgucHJvdG90eXBlLmdldFJldmlzaW9uPUhoLnByb3RvdHlwZS5LO1xuSGgucHJvdG90eXBlLm9uPUhoLnByb3RvdHlwZS5JO0hoLnByb3RvdHlwZS5vbmNlPUhoLnByb3RvdHlwZS5vbmNlO0hoLnByb3RvdHlwZS51bj1IaC5wcm90b3R5cGUuSjtSaC5wcm90b3R5cGUuZ2V0QWN0aXZlPVJoLnByb3RvdHlwZS5jO1JoLnByb3RvdHlwZS5nZXRNYXA9UmgucHJvdG90eXBlLmk7UmgucHJvdG90eXBlLnNldEFjdGl2ZT1SaC5wcm90b3R5cGUuSGE7UmgucHJvdG90eXBlLmdldD1SaC5wcm90b3R5cGUuZ2V0O1JoLnByb3RvdHlwZS5nZXRLZXlzPVJoLnByb3RvdHlwZS5QO1JoLnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPVJoLnByb3RvdHlwZS5MO1JoLnByb3RvdHlwZS5zZXQ9UmgucHJvdG90eXBlLnNldDtSaC5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1SaC5wcm90b3R5cGUuSDtSaC5wcm90b3R5cGUudW5zZXQ9UmgucHJvdG90eXBlLlI7UmgucHJvdG90eXBlLmNoYW5nZWQ9UmgucHJvdG90eXBlLnU7UmgucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9UmgucHJvdG90eXBlLmI7XG5SaC5wcm90b3R5cGUuZ2V0UmV2aXNpb249UmgucHJvdG90eXBlLks7UmgucHJvdG90eXBlLm9uPVJoLnByb3RvdHlwZS5JO1JoLnByb3RvdHlwZS5vbmNlPVJoLnByb3RvdHlwZS5vbmNlO1JoLnByb3RvdHlwZS51bj1SaC5wcm90b3R5cGUuSjtWaC5wcm90b3R5cGUuZ2V0QWN0aXZlPVZoLnByb3RvdHlwZS5jO1ZoLnByb3RvdHlwZS5nZXRNYXA9VmgucHJvdG90eXBlLmk7VmgucHJvdG90eXBlLnNldEFjdGl2ZT1WaC5wcm90b3R5cGUuSGE7VmgucHJvdG90eXBlLmdldD1WaC5wcm90b3R5cGUuZ2V0O1ZoLnByb3RvdHlwZS5nZXRLZXlzPVZoLnByb3RvdHlwZS5QO1ZoLnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPVZoLnByb3RvdHlwZS5MO1ZoLnByb3RvdHlwZS5zZXQ9VmgucHJvdG90eXBlLnNldDtWaC5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1WaC5wcm90b3R5cGUuSDtWaC5wcm90b3R5cGUudW5zZXQ9VmgucHJvdG90eXBlLlI7VmgucHJvdG90eXBlLmNoYW5nZWQ9VmgucHJvdG90eXBlLnU7XG5WaC5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1WaC5wcm90b3R5cGUuYjtWaC5wcm90b3R5cGUuZ2V0UmV2aXNpb249VmgucHJvdG90eXBlLks7VmgucHJvdG90eXBlLm9uPVZoLnByb3RvdHlwZS5JO1ZoLnByb3RvdHlwZS5vbmNlPVZoLnByb3RvdHlwZS5vbmNlO1ZoLnByb3RvdHlwZS51bj1WaC5wcm90b3R5cGUuSjt3eC5wcm90b3R5cGUuZ2V0QWN0aXZlPXd4LnByb3RvdHlwZS5jO3d4LnByb3RvdHlwZS5nZXRNYXA9d3gucHJvdG90eXBlLmk7d3gucHJvdG90eXBlLnNldEFjdGl2ZT13eC5wcm90b3R5cGUuSGE7d3gucHJvdG90eXBlLmdldD13eC5wcm90b3R5cGUuZ2V0O3d4LnByb3RvdHlwZS5nZXRLZXlzPXd4LnByb3RvdHlwZS5QO3d4LnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPXd4LnByb3RvdHlwZS5MO3d4LnByb3RvdHlwZS5zZXQ9d3gucHJvdG90eXBlLnNldDt3eC5wcm90b3R5cGUuc2V0UHJvcGVydGllcz13eC5wcm90b3R5cGUuSDt3eC5wcm90b3R5cGUudW5zZXQ9d3gucHJvdG90eXBlLlI7XG53eC5wcm90b3R5cGUuY2hhbmdlZD13eC5wcm90b3R5cGUudTt3eC5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD13eC5wcm90b3R5cGUuYjt3eC5wcm90b3R5cGUuZ2V0UmV2aXNpb249d3gucHJvdG90eXBlLks7d3gucHJvdG90eXBlLm9uPXd4LnByb3RvdHlwZS5JO3d4LnByb3RvdHlwZS5vbmNlPXd4LnByb3RvdHlwZS5vbmNlO3d4LnByb3RvdHlwZS51bj13eC5wcm90b3R5cGUuSjt6eC5wcm90b3R5cGUudHlwZT16eC5wcm90b3R5cGUudHlwZTt6eC5wcm90b3R5cGUudGFyZ2V0PXp4LnByb3RvdHlwZS50YXJnZXQ7engucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PXp4LnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdDt6eC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uPXp4LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb247QngucHJvdG90eXBlLmdldEFjdGl2ZT1CeC5wcm90b3R5cGUuYztCeC5wcm90b3R5cGUuZ2V0TWFwPUJ4LnByb3RvdHlwZS5pO1xuQngucHJvdG90eXBlLnNldEFjdGl2ZT1CeC5wcm90b3R5cGUuSGE7QngucHJvdG90eXBlLmdldD1CeC5wcm90b3R5cGUuZ2V0O0J4LnByb3RvdHlwZS5nZXRLZXlzPUJ4LnByb3RvdHlwZS5QO0J4LnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPUJ4LnByb3RvdHlwZS5MO0J4LnByb3RvdHlwZS5zZXQ9QngucHJvdG90eXBlLnNldDtCeC5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1CeC5wcm90b3R5cGUuSDtCeC5wcm90b3R5cGUudW5zZXQ9QngucHJvdG90eXBlLlI7QngucHJvdG90eXBlLmNoYW5nZWQ9QngucHJvdG90eXBlLnU7QngucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9QngucHJvdG90eXBlLmI7QngucHJvdG90eXBlLmdldFJldmlzaW9uPUJ4LnByb3RvdHlwZS5LO0J4LnByb3RvdHlwZS5vbj1CeC5wcm90b3R5cGUuSTtCeC5wcm90b3R5cGUub25jZT1CeC5wcm90b3R5cGUub25jZTtCeC5wcm90b3R5cGUudW49QngucHJvdG90eXBlLko7R3gucHJvdG90eXBlLmdldEFjdGl2ZT1HeC5wcm90b3R5cGUuYztcbkd4LnByb3RvdHlwZS5nZXRNYXA9R3gucHJvdG90eXBlLmk7R3gucHJvdG90eXBlLnNldEFjdGl2ZT1HeC5wcm90b3R5cGUuSGE7R3gucHJvdG90eXBlLmdldD1HeC5wcm90b3R5cGUuZ2V0O0d4LnByb3RvdHlwZS5nZXRLZXlzPUd4LnByb3RvdHlwZS5QO0d4LnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPUd4LnByb3RvdHlwZS5MO0d4LnByb3RvdHlwZS5zZXQ9R3gucHJvdG90eXBlLnNldDtHeC5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1HeC5wcm90b3R5cGUuSDtHeC5wcm90b3R5cGUudW5zZXQ9R3gucHJvdG90eXBlLlI7R3gucHJvdG90eXBlLmNoYW5nZWQ9R3gucHJvdG90eXBlLnU7R3gucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9R3gucHJvdG90eXBlLmI7R3gucHJvdG90eXBlLmdldFJldmlzaW9uPUd4LnByb3RvdHlwZS5LO0d4LnByb3RvdHlwZS5vbj1HeC5wcm90b3R5cGUuSTtHeC5wcm90b3R5cGUub25jZT1HeC5wcm90b3R5cGUub25jZTtHeC5wcm90b3R5cGUudW49R3gucHJvdG90eXBlLko7XG5NeC5wcm90b3R5cGUudHlwZT1NeC5wcm90b3R5cGUudHlwZTtNeC5wcm90b3R5cGUudGFyZ2V0PU14LnByb3RvdHlwZS50YXJnZXQ7TXgucHJvdG90eXBlLnByZXZlbnREZWZhdWx0PU14LnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdDtNeC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uPU14LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb247Z2YucHJvdG90eXBlLmdldD1nZi5wcm90b3R5cGUuZ2V0O2dmLnByb3RvdHlwZS5nZXRLZXlzPWdmLnByb3RvdHlwZS5QO2dmLnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPWdmLnByb3RvdHlwZS5MO2dmLnByb3RvdHlwZS5zZXQ9Z2YucHJvdG90eXBlLnNldDtnZi5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1nZi5wcm90b3R5cGUuSDtnZi5wcm90b3R5cGUudW5zZXQ9Z2YucHJvdG90eXBlLlI7Z2YucHJvdG90eXBlLmNoYW5nZWQ9Z2YucHJvdG90eXBlLnU7Z2YucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9Z2YucHJvdG90eXBlLmI7XG5nZi5wcm90b3R5cGUuZ2V0UmV2aXNpb249Z2YucHJvdG90eXBlLks7Z2YucHJvdG90eXBlLm9uPWdmLnByb3RvdHlwZS5JO2dmLnByb3RvdHlwZS5vbmNlPWdmLnByb3RvdHlwZS5vbmNlO2dmLnByb3RvdHlwZS51bj1nZi5wcm90b3R5cGUuSjtoZi5wcm90b3R5cGUuZ2V0Q2xvc2VzdFBvaW50PWhmLnByb3RvdHlwZS5JYjtoZi5wcm90b3R5cGUuaW50ZXJzZWN0c0Nvb3JkaW5hdGU9aGYucHJvdG90eXBlLkJiO2hmLnByb3RvdHlwZS5nZXRFeHRlbnQ9aGYucHJvdG90eXBlLkc7aGYucHJvdG90eXBlLnJvdGF0ZT1oZi5wcm90b3R5cGUucm90YXRlO2hmLnByb3RvdHlwZS5zY2FsZT1oZi5wcm90b3R5cGUuc2NhbGU7aGYucHJvdG90eXBlLnNpbXBsaWZ5PWhmLnByb3RvdHlwZS5TYjtoZi5wcm90b3R5cGUudHJhbnNmb3JtPWhmLnByb3RvdHlwZS5tYjtoZi5wcm90b3R5cGUuZ2V0PWhmLnByb3RvdHlwZS5nZXQ7aGYucHJvdG90eXBlLmdldEtleXM9aGYucHJvdG90eXBlLlA7XG5oZi5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1oZi5wcm90b3R5cGUuTDtoZi5wcm90b3R5cGUuc2V0PWhmLnByb3RvdHlwZS5zZXQ7aGYucHJvdG90eXBlLnNldFByb3BlcnRpZXM9aGYucHJvdG90eXBlLkg7aGYucHJvdG90eXBlLnVuc2V0PWhmLnByb3RvdHlwZS5SO2hmLnByb3RvdHlwZS5jaGFuZ2VkPWhmLnByb3RvdHlwZS51O2hmLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PWhmLnByb3RvdHlwZS5iO2hmLnByb3RvdHlwZS5nZXRSZXZpc2lvbj1oZi5wcm90b3R5cGUuSztoZi5wcm90b3R5cGUub249aGYucHJvdG90eXBlLkk7aGYucHJvdG90eXBlLm9uY2U9aGYucHJvdG90eXBlLm9uY2U7aGYucHJvdG90eXBlLnVuPWhmLnByb3RvdHlwZS5KO2d3LnByb3RvdHlwZS5nZXRGaXJzdENvb3JkaW5hdGU9Z3cucHJvdG90eXBlLmZjO2d3LnByb3RvdHlwZS5nZXRMYXN0Q29vcmRpbmF0ZT1ndy5wcm90b3R5cGUuZ2M7Z3cucHJvdG90eXBlLmdldExheW91dD1ndy5wcm90b3R5cGUuaWM7XG5ndy5wcm90b3R5cGUucm90YXRlPWd3LnByb3RvdHlwZS5yb3RhdGU7Z3cucHJvdG90eXBlLnNjYWxlPWd3LnByb3RvdHlwZS5zY2FsZTtndy5wcm90b3R5cGUuZ2V0Q2xvc2VzdFBvaW50PWd3LnByb3RvdHlwZS5JYjtndy5wcm90b3R5cGUuaW50ZXJzZWN0c0Nvb3JkaW5hdGU9Z3cucHJvdG90eXBlLkJiO2d3LnByb3RvdHlwZS5nZXRFeHRlbnQ9Z3cucHJvdG90eXBlLkc7Z3cucHJvdG90eXBlLnNpbXBsaWZ5PWd3LnByb3RvdHlwZS5TYjtndy5wcm90b3R5cGUuZ2V0PWd3LnByb3RvdHlwZS5nZXQ7Z3cucHJvdG90eXBlLmdldEtleXM9Z3cucHJvdG90eXBlLlA7Z3cucHJvdG90eXBlLmdldFByb3BlcnRpZXM9Z3cucHJvdG90eXBlLkw7Z3cucHJvdG90eXBlLnNldD1ndy5wcm90b3R5cGUuc2V0O2d3LnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPWd3LnByb3RvdHlwZS5IO2d3LnByb3RvdHlwZS51bnNldD1ndy5wcm90b3R5cGUuUjtndy5wcm90b3R5cGUuY2hhbmdlZD1ndy5wcm90b3R5cGUudTtcbmd3LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PWd3LnByb3RvdHlwZS5iO2d3LnByb3RvdHlwZS5nZXRSZXZpc2lvbj1ndy5wcm90b3R5cGUuSztndy5wcm90b3R5cGUub249Z3cucHJvdG90eXBlLkk7Z3cucHJvdG90eXBlLm9uY2U9Z3cucHJvdG90eXBlLm9uY2U7Z3cucHJvdG90eXBlLnVuPWd3LnByb3RvdHlwZS5KO01xLnByb3RvdHlwZS5nZXRDbG9zZXN0UG9pbnQ9TXEucHJvdG90eXBlLkliO01xLnByb3RvdHlwZS5pbnRlcnNlY3RzQ29vcmRpbmF0ZT1NcS5wcm90b3R5cGUuQmI7TXEucHJvdG90eXBlLmdldEV4dGVudD1NcS5wcm90b3R5cGUuRztNcS5wcm90b3R5cGUucm90YXRlPU1xLnByb3RvdHlwZS5yb3RhdGU7TXEucHJvdG90eXBlLnNjYWxlPU1xLnByb3RvdHlwZS5zY2FsZTtNcS5wcm90b3R5cGUuc2ltcGxpZnk9TXEucHJvdG90eXBlLlNiO01xLnByb3RvdHlwZS50cmFuc2Zvcm09TXEucHJvdG90eXBlLm1iO01xLnByb3RvdHlwZS5nZXQ9TXEucHJvdG90eXBlLmdldDtcbk1xLnByb3RvdHlwZS5nZXRLZXlzPU1xLnByb3RvdHlwZS5QO01xLnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPU1xLnByb3RvdHlwZS5MO01xLnByb3RvdHlwZS5zZXQ9TXEucHJvdG90eXBlLnNldDtNcS5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1NcS5wcm90b3R5cGUuSDtNcS5wcm90b3R5cGUudW5zZXQ9TXEucHJvdG90eXBlLlI7TXEucHJvdG90eXBlLmNoYW5nZWQ9TXEucHJvdG90eXBlLnU7TXEucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9TXEucHJvdG90eXBlLmI7TXEucHJvdG90eXBlLmdldFJldmlzaW9uPU1xLnByb3RvdHlwZS5LO01xLnByb3RvdHlwZS5vbj1NcS5wcm90b3R5cGUuSTtNcS5wcm90b3R5cGUub25jZT1NcS5wcm90b3R5cGUub25jZTtNcS5wcm90b3R5cGUudW49TXEucHJvdG90eXBlLko7RGYucHJvdG90eXBlLmdldEZpcnN0Q29vcmRpbmF0ZT1EZi5wcm90b3R5cGUuZmM7RGYucHJvdG90eXBlLmdldExhc3RDb29yZGluYXRlPURmLnByb3RvdHlwZS5nYztcbkRmLnByb3RvdHlwZS5nZXRMYXlvdXQ9RGYucHJvdG90eXBlLmljO0RmLnByb3RvdHlwZS5yb3RhdGU9RGYucHJvdG90eXBlLnJvdGF0ZTtEZi5wcm90b3R5cGUuc2NhbGU9RGYucHJvdG90eXBlLnNjYWxlO0RmLnByb3RvdHlwZS5nZXRDbG9zZXN0UG9pbnQ9RGYucHJvdG90eXBlLkliO0RmLnByb3RvdHlwZS5pbnRlcnNlY3RzQ29vcmRpbmF0ZT1EZi5wcm90b3R5cGUuQmI7RGYucHJvdG90eXBlLmdldEV4dGVudD1EZi5wcm90b3R5cGUuRztEZi5wcm90b3R5cGUuc2ltcGxpZnk9RGYucHJvdG90eXBlLlNiO0RmLnByb3RvdHlwZS50cmFuc2Zvcm09RGYucHJvdG90eXBlLm1iO0RmLnByb3RvdHlwZS5nZXQ9RGYucHJvdG90eXBlLmdldDtEZi5wcm90b3R5cGUuZ2V0S2V5cz1EZi5wcm90b3R5cGUuUDtEZi5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1EZi5wcm90b3R5cGUuTDtEZi5wcm90b3R5cGUuc2V0PURmLnByb3RvdHlwZS5zZXQ7RGYucHJvdG90eXBlLnNldFByb3BlcnRpZXM9RGYucHJvdG90eXBlLkg7XG5EZi5wcm90b3R5cGUudW5zZXQ9RGYucHJvdG90eXBlLlI7RGYucHJvdG90eXBlLmNoYW5nZWQ9RGYucHJvdG90eXBlLnU7RGYucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9RGYucHJvdG90eXBlLmI7RGYucHJvdG90eXBlLmdldFJldmlzaW9uPURmLnByb3RvdHlwZS5LO0RmLnByb3RvdHlwZS5vbj1EZi5wcm90b3R5cGUuSTtEZi5wcm90b3R5cGUub25jZT1EZi5wcm90b3R5cGUub25jZTtEZi5wcm90b3R5cGUudW49RGYucHJvdG90eXBlLko7SS5wcm90b3R5cGUuZ2V0Rmlyc3RDb29yZGluYXRlPUkucHJvdG90eXBlLmZjO0kucHJvdG90eXBlLmdldExhc3RDb29yZGluYXRlPUkucHJvdG90eXBlLmdjO0kucHJvdG90eXBlLmdldExheW91dD1JLnByb3RvdHlwZS5pYztJLnByb3RvdHlwZS5yb3RhdGU9SS5wcm90b3R5cGUucm90YXRlO0kucHJvdG90eXBlLnNjYWxlPUkucHJvdG90eXBlLnNjYWxlO0kucHJvdG90eXBlLmdldENsb3Nlc3RQb2ludD1JLnByb3RvdHlwZS5JYjtcbkkucHJvdG90eXBlLmludGVyc2VjdHNDb29yZGluYXRlPUkucHJvdG90eXBlLkJiO0kucHJvdG90eXBlLmdldEV4dGVudD1JLnByb3RvdHlwZS5HO0kucHJvdG90eXBlLnNpbXBsaWZ5PUkucHJvdG90eXBlLlNiO0kucHJvdG90eXBlLnRyYW5zZm9ybT1JLnByb3RvdHlwZS5tYjtJLnByb3RvdHlwZS5nZXQ9SS5wcm90b3R5cGUuZ2V0O0kucHJvdG90eXBlLmdldEtleXM9SS5wcm90b3R5cGUuUDtJLnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPUkucHJvdG90eXBlLkw7SS5wcm90b3R5cGUuc2V0PUkucHJvdG90eXBlLnNldDtJLnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPUkucHJvdG90eXBlLkg7SS5wcm90b3R5cGUudW5zZXQ9SS5wcm90b3R5cGUuUjtJLnByb3RvdHlwZS5jaGFuZ2VkPUkucHJvdG90eXBlLnU7SS5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1JLnByb3RvdHlwZS5iO0kucHJvdG90eXBlLmdldFJldmlzaW9uPUkucHJvdG90eXBlLks7SS5wcm90b3R5cGUub249SS5wcm90b3R5cGUuSTtcbkkucHJvdG90eXBlLm9uY2U9SS5wcm90b3R5cGUub25jZTtJLnByb3RvdHlwZS51bj1JLnByb3RvdHlwZS5KO1AucHJvdG90eXBlLmdldEZpcnN0Q29vcmRpbmF0ZT1QLnByb3RvdHlwZS5mYztQLnByb3RvdHlwZS5nZXRMYXN0Q29vcmRpbmF0ZT1QLnByb3RvdHlwZS5nYztQLnByb3RvdHlwZS5nZXRMYXlvdXQ9UC5wcm90b3R5cGUuaWM7UC5wcm90b3R5cGUucm90YXRlPVAucHJvdG90eXBlLnJvdGF0ZTtQLnByb3RvdHlwZS5zY2FsZT1QLnByb3RvdHlwZS5zY2FsZTtQLnByb3RvdHlwZS5nZXRDbG9zZXN0UG9pbnQ9UC5wcm90b3R5cGUuSWI7UC5wcm90b3R5cGUuaW50ZXJzZWN0c0Nvb3JkaW5hdGU9UC5wcm90b3R5cGUuQmI7UC5wcm90b3R5cGUuZ2V0RXh0ZW50PVAucHJvdG90eXBlLkc7UC5wcm90b3R5cGUuc2ltcGxpZnk9UC5wcm90b3R5cGUuU2I7UC5wcm90b3R5cGUudHJhbnNmb3JtPVAucHJvdG90eXBlLm1iO1AucHJvdG90eXBlLmdldD1QLnByb3RvdHlwZS5nZXQ7XG5QLnByb3RvdHlwZS5nZXRLZXlzPVAucHJvdG90eXBlLlA7UC5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1QLnByb3RvdHlwZS5MO1AucHJvdG90eXBlLnNldD1QLnByb3RvdHlwZS5zZXQ7UC5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1QLnByb3RvdHlwZS5IO1AucHJvdG90eXBlLnVuc2V0PVAucHJvdG90eXBlLlI7UC5wcm90b3R5cGUuY2hhbmdlZD1QLnByb3RvdHlwZS51O1AucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9UC5wcm90b3R5cGUuYjtQLnByb3RvdHlwZS5nZXRSZXZpc2lvbj1QLnByb3RvdHlwZS5LO1AucHJvdG90eXBlLm9uPVAucHJvdG90eXBlLkk7UC5wcm90b3R5cGUub25jZT1QLnByb3RvdHlwZS5vbmNlO1AucHJvdG90eXBlLnVuPVAucHJvdG90eXBlLko7Tm8ucHJvdG90eXBlLmdldEZpcnN0Q29vcmRpbmF0ZT1Oby5wcm90b3R5cGUuZmM7Tm8ucHJvdG90eXBlLmdldExhc3RDb29yZGluYXRlPU5vLnByb3RvdHlwZS5nYztOby5wcm90b3R5cGUuZ2V0TGF5b3V0PU5vLnByb3RvdHlwZS5pYztcbk5vLnByb3RvdHlwZS5yb3RhdGU9Tm8ucHJvdG90eXBlLnJvdGF0ZTtOby5wcm90b3R5cGUuc2NhbGU9Tm8ucHJvdG90eXBlLnNjYWxlO05vLnByb3RvdHlwZS5nZXRDbG9zZXN0UG9pbnQ9Tm8ucHJvdG90eXBlLkliO05vLnByb3RvdHlwZS5pbnRlcnNlY3RzQ29vcmRpbmF0ZT1Oby5wcm90b3R5cGUuQmI7Tm8ucHJvdG90eXBlLmdldEV4dGVudD1Oby5wcm90b3R5cGUuRztOby5wcm90b3R5cGUuc2ltcGxpZnk9Tm8ucHJvdG90eXBlLlNiO05vLnByb3RvdHlwZS50cmFuc2Zvcm09Tm8ucHJvdG90eXBlLm1iO05vLnByb3RvdHlwZS5nZXQ9Tm8ucHJvdG90eXBlLmdldDtOby5wcm90b3R5cGUuZ2V0S2V5cz1Oby5wcm90b3R5cGUuUDtOby5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1Oby5wcm90b3R5cGUuTDtOby5wcm90b3R5cGUuc2V0PU5vLnByb3RvdHlwZS5zZXQ7Tm8ucHJvdG90eXBlLnNldFByb3BlcnRpZXM9Tm8ucHJvdG90eXBlLkg7Tm8ucHJvdG90eXBlLnVuc2V0PU5vLnByb3RvdHlwZS5SO1xuTm8ucHJvdG90eXBlLmNoYW5nZWQ9Tm8ucHJvdG90eXBlLnU7Tm8ucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9Tm8ucHJvdG90eXBlLmI7Tm8ucHJvdG90eXBlLmdldFJldmlzaW9uPU5vLnByb3RvdHlwZS5LO05vLnByb3RvdHlwZS5vbj1Oby5wcm90b3R5cGUuSTtOby5wcm90b3R5cGUub25jZT1Oby5wcm90b3R5cGUub25jZTtOby5wcm90b3R5cGUudW49Tm8ucHJvdG90eXBlLko7US5wcm90b3R5cGUuZ2V0Rmlyc3RDb29yZGluYXRlPVEucHJvdG90eXBlLmZjO1EucHJvdG90eXBlLmdldExhc3RDb29yZGluYXRlPVEucHJvdG90eXBlLmdjO1EucHJvdG90eXBlLmdldExheW91dD1RLnByb3RvdHlwZS5pYztRLnByb3RvdHlwZS5yb3RhdGU9US5wcm90b3R5cGUucm90YXRlO1EucHJvdG90eXBlLnNjYWxlPVEucHJvdG90eXBlLnNjYWxlO1EucHJvdG90eXBlLmdldENsb3Nlc3RQb2ludD1RLnByb3RvdHlwZS5JYjtRLnByb3RvdHlwZS5pbnRlcnNlY3RzQ29vcmRpbmF0ZT1RLnByb3RvdHlwZS5CYjtcblEucHJvdG90eXBlLmdldEV4dGVudD1RLnByb3RvdHlwZS5HO1EucHJvdG90eXBlLnNpbXBsaWZ5PVEucHJvdG90eXBlLlNiO1EucHJvdG90eXBlLnRyYW5zZm9ybT1RLnByb3RvdHlwZS5tYjtRLnByb3RvdHlwZS5nZXQ9US5wcm90b3R5cGUuZ2V0O1EucHJvdG90eXBlLmdldEtleXM9US5wcm90b3R5cGUuUDtRLnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPVEucHJvdG90eXBlLkw7US5wcm90b3R5cGUuc2V0PVEucHJvdG90eXBlLnNldDtRLnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPVEucHJvdG90eXBlLkg7US5wcm90b3R5cGUudW5zZXQ9US5wcm90b3R5cGUuUjtRLnByb3RvdHlwZS5jaGFuZ2VkPVEucHJvdG90eXBlLnU7US5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1RLnByb3RvdHlwZS5iO1EucHJvdG90eXBlLmdldFJldmlzaW9uPVEucHJvdG90eXBlLks7US5wcm90b3R5cGUub249US5wcm90b3R5cGUuSTtRLnByb3RvdHlwZS5vbmNlPVEucHJvdG90eXBlLm9uY2U7XG5RLnByb3RvdHlwZS51bj1RLnByb3RvdHlwZS5KO0MucHJvdG90eXBlLmdldEZpcnN0Q29vcmRpbmF0ZT1DLnByb3RvdHlwZS5mYztDLnByb3RvdHlwZS5nZXRMYXN0Q29vcmRpbmF0ZT1DLnByb3RvdHlwZS5nYztDLnByb3RvdHlwZS5nZXRMYXlvdXQ9Qy5wcm90b3R5cGUuaWM7Qy5wcm90b3R5cGUucm90YXRlPUMucHJvdG90eXBlLnJvdGF0ZTtDLnByb3RvdHlwZS5zY2FsZT1DLnByb3RvdHlwZS5zY2FsZTtDLnByb3RvdHlwZS5nZXRDbG9zZXN0UG9pbnQ9Qy5wcm90b3R5cGUuSWI7Qy5wcm90b3R5cGUuaW50ZXJzZWN0c0Nvb3JkaW5hdGU9Qy5wcm90b3R5cGUuQmI7Qy5wcm90b3R5cGUuZ2V0RXh0ZW50PUMucHJvdG90eXBlLkc7Qy5wcm90b3R5cGUuc2ltcGxpZnk9Qy5wcm90b3R5cGUuU2I7Qy5wcm90b3R5cGUudHJhbnNmb3JtPUMucHJvdG90eXBlLm1iO0MucHJvdG90eXBlLmdldD1DLnByb3RvdHlwZS5nZXQ7Qy5wcm90b3R5cGUuZ2V0S2V5cz1DLnByb3RvdHlwZS5QO1xuQy5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1DLnByb3RvdHlwZS5MO0MucHJvdG90eXBlLnNldD1DLnByb3RvdHlwZS5zZXQ7Qy5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1DLnByb3RvdHlwZS5IO0MucHJvdG90eXBlLnVuc2V0PUMucHJvdG90eXBlLlI7Qy5wcm90b3R5cGUuY2hhbmdlZD1DLnByb3RvdHlwZS51O0MucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9Qy5wcm90b3R5cGUuYjtDLnByb3RvdHlwZS5nZXRSZXZpc2lvbj1DLnByb3RvdHlwZS5LO0MucHJvdG90eXBlLm9uPUMucHJvdG90eXBlLkk7Qy5wcm90b3R5cGUub25jZT1DLnByb3RvdHlwZS5vbmNlO0MucHJvdG90eXBlLnVuPUMucHJvdG90eXBlLko7RC5wcm90b3R5cGUuZ2V0Rmlyc3RDb29yZGluYXRlPUQucHJvdG90eXBlLmZjO0QucHJvdG90eXBlLmdldExhc3RDb29yZGluYXRlPUQucHJvdG90eXBlLmdjO0QucHJvdG90eXBlLmdldExheW91dD1ELnByb3RvdHlwZS5pYztELnByb3RvdHlwZS5yb3RhdGU9RC5wcm90b3R5cGUucm90YXRlO1xuRC5wcm90b3R5cGUuc2NhbGU9RC5wcm90b3R5cGUuc2NhbGU7RC5wcm90b3R5cGUuZ2V0Q2xvc2VzdFBvaW50PUQucHJvdG90eXBlLkliO0QucHJvdG90eXBlLmludGVyc2VjdHNDb29yZGluYXRlPUQucHJvdG90eXBlLkJiO0QucHJvdG90eXBlLmdldEV4dGVudD1ELnByb3RvdHlwZS5HO0QucHJvdG90eXBlLnNpbXBsaWZ5PUQucHJvdG90eXBlLlNiO0QucHJvdG90eXBlLnRyYW5zZm9ybT1ELnByb3RvdHlwZS5tYjtELnByb3RvdHlwZS5nZXQ9RC5wcm90b3R5cGUuZ2V0O0QucHJvdG90eXBlLmdldEtleXM9RC5wcm90b3R5cGUuUDtELnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPUQucHJvdG90eXBlLkw7RC5wcm90b3R5cGUuc2V0PUQucHJvdG90eXBlLnNldDtELnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPUQucHJvdG90eXBlLkg7RC5wcm90b3R5cGUudW5zZXQ9RC5wcm90b3R5cGUuUjtELnByb3RvdHlwZS5jaGFuZ2VkPUQucHJvdG90eXBlLnU7XG5ELnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PUQucHJvdG90eXBlLmI7RC5wcm90b3R5cGUuZ2V0UmV2aXNpb249RC5wcm90b3R5cGUuSztELnByb3RvdHlwZS5vbj1ELnByb3RvdHlwZS5JO0QucHJvdG90eXBlLm9uY2U9RC5wcm90b3R5cGUub25jZTtELnByb3RvdHlwZS51bj1ELnByb3RvdHlwZS5KO0twLnByb3RvdHlwZS5yZWFkRmVhdHVyZXM9S3AucHJvdG90eXBlLlFhO1RwLnByb3RvdHlwZS5yZWFkRmVhdHVyZXM9VHAucHJvdG90eXBlLlFhO0twLnByb3RvdHlwZS5yZWFkRmVhdHVyZXM9S3AucHJvdG90eXBlLlFhO3ZnLnByb3RvdHlwZS5nZXQ9dmcucHJvdG90eXBlLmdldDt2Zy5wcm90b3R5cGUuZ2V0S2V5cz12Zy5wcm90b3R5cGUuUDt2Zy5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz12Zy5wcm90b3R5cGUuTDt2Zy5wcm90b3R5cGUuc2V0PXZnLnByb3RvdHlwZS5zZXQ7dmcucHJvdG90eXBlLnNldFByb3BlcnRpZXM9dmcucHJvdG90eXBlLkg7XG52Zy5wcm90b3R5cGUudW5zZXQ9dmcucHJvdG90eXBlLlI7dmcucHJvdG90eXBlLmNoYW5nZWQ9dmcucHJvdG90eXBlLnU7dmcucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9dmcucHJvdG90eXBlLmI7dmcucHJvdG90eXBlLmdldFJldmlzaW9uPXZnLnByb3RvdHlwZS5LO3ZnLnByb3RvdHlwZS5vbj12Zy5wcm90b3R5cGUuSTt2Zy5wcm90b3R5cGUub25jZT12Zy5wcm90b3R5cGUub25jZTt2Zy5wcm90b3R5cGUudW49dmcucHJvdG90eXBlLko7emcucHJvdG90eXBlLmdldE1hcD16Zy5wcm90b3R5cGUuZjt6Zy5wcm90b3R5cGUuc2V0TWFwPXpnLnByb3RvdHlwZS5zZXRNYXA7emcucHJvdG90eXBlLnNldFRhcmdldD16Zy5wcm90b3R5cGUuaTt6Zy5wcm90b3R5cGUuZ2V0PXpnLnByb3RvdHlwZS5nZXQ7emcucHJvdG90eXBlLmdldEtleXM9emcucHJvdG90eXBlLlA7emcucHJvdG90eXBlLmdldFByb3BlcnRpZXM9emcucHJvdG90eXBlLkw7emcucHJvdG90eXBlLnNldD16Zy5wcm90b3R5cGUuc2V0O1xuemcucHJvdG90eXBlLnNldFByb3BlcnRpZXM9emcucHJvdG90eXBlLkg7emcucHJvdG90eXBlLnVuc2V0PXpnLnByb3RvdHlwZS5SO3pnLnByb3RvdHlwZS5jaGFuZ2VkPXpnLnByb3RvdHlwZS51O3pnLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PXpnLnByb3RvdHlwZS5iO3pnLnByb3RvdHlwZS5nZXRSZXZpc2lvbj16Zy5wcm90b3R5cGUuSzt6Zy5wcm90b3R5cGUub249emcucHJvdG90eXBlLkk7emcucHJvdG90eXBlLm9uY2U9emcucHJvdG90eXBlLm9uY2U7emcucHJvdG90eXBlLnVuPXpnLnByb3RvdHlwZS5KO01uLnByb3RvdHlwZS5nZXRNYXA9TW4ucHJvdG90eXBlLmY7TW4ucHJvdG90eXBlLnNldE1hcD1Nbi5wcm90b3R5cGUuc2V0TWFwO01uLnByb3RvdHlwZS5zZXRUYXJnZXQ9TW4ucHJvdG90eXBlLmk7TW4ucHJvdG90eXBlLmdldD1Nbi5wcm90b3R5cGUuZ2V0O01uLnByb3RvdHlwZS5nZXRLZXlzPU1uLnByb3RvdHlwZS5QO1xuTW4ucHJvdG90eXBlLmdldFByb3BlcnRpZXM9TW4ucHJvdG90eXBlLkw7TW4ucHJvdG90eXBlLnNldD1Nbi5wcm90b3R5cGUuc2V0O01uLnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPU1uLnByb3RvdHlwZS5IO01uLnByb3RvdHlwZS51bnNldD1Nbi5wcm90b3R5cGUuUjtNbi5wcm90b3R5cGUuY2hhbmdlZD1Nbi5wcm90b3R5cGUudTtNbi5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1Nbi5wcm90b3R5cGUuYjtNbi5wcm90b3R5cGUuZ2V0UmV2aXNpb249TW4ucHJvdG90eXBlLks7TW4ucHJvdG90eXBlLm9uPU1uLnByb3RvdHlwZS5JO01uLnByb3RvdHlwZS5vbmNlPU1uLnByb3RvdHlwZS5vbmNlO01uLnByb3RvdHlwZS51bj1Nbi5wcm90b3R5cGUuSjtSbi5wcm90b3R5cGUuZ2V0TWFwPVJuLnByb3RvdHlwZS5mO1JuLnByb3RvdHlwZS5zZXRNYXA9Um4ucHJvdG90eXBlLnNldE1hcDtSbi5wcm90b3R5cGUuc2V0VGFyZ2V0PVJuLnByb3RvdHlwZS5pO1JuLnByb3RvdHlwZS5nZXQ9Um4ucHJvdG90eXBlLmdldDtcblJuLnByb3RvdHlwZS5nZXRLZXlzPVJuLnByb3RvdHlwZS5QO1JuLnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPVJuLnByb3RvdHlwZS5MO1JuLnByb3RvdHlwZS5zZXQ9Um4ucHJvdG90eXBlLnNldDtSbi5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1Sbi5wcm90b3R5cGUuSDtSbi5wcm90b3R5cGUudW5zZXQ9Um4ucHJvdG90eXBlLlI7Um4ucHJvdG90eXBlLmNoYW5nZWQ9Um4ucHJvdG90eXBlLnU7Um4ucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9Um4ucHJvdG90eXBlLmI7Um4ucHJvdG90eXBlLmdldFJldmlzaW9uPVJuLnByb3RvdHlwZS5LO1JuLnByb3RvdHlwZS5vbj1Sbi5wcm90b3R5cGUuSTtSbi5wcm90b3R5cGUub25jZT1Sbi5wcm90b3R5cGUub25jZTtSbi5wcm90b3R5cGUudW49Um4ucHJvdG90eXBlLko7V24ucHJvdG90eXBlLmdldE1hcD1Xbi5wcm90b3R5cGUuZjtXbi5wcm90b3R5cGUuc2V0TWFwPVduLnByb3RvdHlwZS5zZXRNYXA7XG5Xbi5wcm90b3R5cGUuc2V0VGFyZ2V0PVduLnByb3RvdHlwZS5pO1duLnByb3RvdHlwZS5nZXQ9V24ucHJvdG90eXBlLmdldDtXbi5wcm90b3R5cGUuZ2V0S2V5cz1Xbi5wcm90b3R5cGUuUDtXbi5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1Xbi5wcm90b3R5cGUuTDtXbi5wcm90b3R5cGUuc2V0PVduLnByb3RvdHlwZS5zZXQ7V24ucHJvdG90eXBlLnNldFByb3BlcnRpZXM9V24ucHJvdG90eXBlLkg7V24ucHJvdG90eXBlLnVuc2V0PVduLnByb3RvdHlwZS5SO1duLnByb3RvdHlwZS5jaGFuZ2VkPVduLnByb3RvdHlwZS51O1duLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PVduLnByb3RvdHlwZS5iO1duLnByb3RvdHlwZS5nZXRSZXZpc2lvbj1Xbi5wcm90b3R5cGUuSztXbi5wcm90b3R5cGUub249V24ucHJvdG90eXBlLkk7V24ucHJvdG90eXBlLm9uY2U9V24ucHJvdG90eXBlLm9uY2U7V24ucHJvdG90eXBlLnVuPVduLnByb3RvdHlwZS5KO0NnLnByb3RvdHlwZS5nZXRNYXA9Q2cucHJvdG90eXBlLmY7XG5DZy5wcm90b3R5cGUuc2V0TWFwPUNnLnByb3RvdHlwZS5zZXRNYXA7Q2cucHJvdG90eXBlLnNldFRhcmdldD1DZy5wcm90b3R5cGUuaTtDZy5wcm90b3R5cGUuZ2V0PUNnLnByb3RvdHlwZS5nZXQ7Q2cucHJvdG90eXBlLmdldEtleXM9Q2cucHJvdG90eXBlLlA7Q2cucHJvdG90eXBlLmdldFByb3BlcnRpZXM9Q2cucHJvdG90eXBlLkw7Q2cucHJvdG90eXBlLnNldD1DZy5wcm90b3R5cGUuc2V0O0NnLnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPUNnLnByb3RvdHlwZS5IO0NnLnByb3RvdHlwZS51bnNldD1DZy5wcm90b3R5cGUuUjtDZy5wcm90b3R5cGUuY2hhbmdlZD1DZy5wcm90b3R5cGUudTtDZy5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1DZy5wcm90b3R5cGUuYjtDZy5wcm90b3R5cGUuZ2V0UmV2aXNpb249Q2cucHJvdG90eXBlLks7Q2cucHJvdG90eXBlLm9uPUNnLnByb3RvdHlwZS5JO0NnLnByb3RvdHlwZS5vbmNlPUNnLnByb3RvdHlwZS5vbmNlO1xuQ2cucHJvdG90eXBlLnVuPUNnLnByb3RvdHlwZS5KO2FvLnByb3RvdHlwZS5nZXRNYXA9YW8ucHJvdG90eXBlLmY7YW8ucHJvdG90eXBlLnNldE1hcD1hby5wcm90b3R5cGUuc2V0TWFwO2FvLnByb3RvdHlwZS5zZXRUYXJnZXQ9YW8ucHJvdG90eXBlLmk7YW8ucHJvdG90eXBlLmdldD1hby5wcm90b3R5cGUuZ2V0O2FvLnByb3RvdHlwZS5nZXRLZXlzPWFvLnByb3RvdHlwZS5QO2FvLnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPWFvLnByb3RvdHlwZS5MO2FvLnByb3RvdHlwZS5zZXQ9YW8ucHJvdG90eXBlLnNldDthby5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1hby5wcm90b3R5cGUuSDthby5wcm90b3R5cGUudW5zZXQ9YW8ucHJvdG90eXBlLlI7YW8ucHJvdG90eXBlLmNoYW5nZWQ9YW8ucHJvdG90eXBlLnU7YW8ucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQ9YW8ucHJvdG90eXBlLmI7YW8ucHJvdG90eXBlLmdldFJldmlzaW9uPWFvLnByb3RvdHlwZS5LO2FvLnByb3RvdHlwZS5vbj1hby5wcm90b3R5cGUuSTtcbmFvLnByb3RvdHlwZS5vbmNlPWFvLnByb3RvdHlwZS5vbmNlO2FvLnByb3RvdHlwZS51bj1hby5wcm90b3R5cGUuSjtFZy5wcm90b3R5cGUuZ2V0TWFwPUVnLnByb3RvdHlwZS5mO0VnLnByb3RvdHlwZS5zZXRNYXA9RWcucHJvdG90eXBlLnNldE1hcDtFZy5wcm90b3R5cGUuc2V0VGFyZ2V0PUVnLnByb3RvdHlwZS5pO0VnLnByb3RvdHlwZS5nZXQ9RWcucHJvdG90eXBlLmdldDtFZy5wcm90b3R5cGUuZ2V0S2V5cz1FZy5wcm90b3R5cGUuUDtFZy5wcm90b3R5cGUuZ2V0UHJvcGVydGllcz1FZy5wcm90b3R5cGUuTDtFZy5wcm90b3R5cGUuc2V0PUVnLnByb3RvdHlwZS5zZXQ7RWcucHJvdG90eXBlLnNldFByb3BlcnRpZXM9RWcucHJvdG90eXBlLkg7RWcucHJvdG90eXBlLnVuc2V0PUVnLnByb3RvdHlwZS5SO0VnLnByb3RvdHlwZS5jaGFuZ2VkPUVnLnByb3RvdHlwZS51O0VnLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PUVnLnByb3RvdHlwZS5iO1xuRWcucHJvdG90eXBlLmdldFJldmlzaW9uPUVnLnByb3RvdHlwZS5LO0VnLnByb3RvdHlwZS5vbj1FZy5wcm90b3R5cGUuSTtFZy5wcm90b3R5cGUub25jZT1FZy5wcm90b3R5cGUub25jZTtFZy5wcm90b3R5cGUudW49RWcucHJvdG90eXBlLko7Z28ucHJvdG90eXBlLmdldE1hcD1nby5wcm90b3R5cGUuZjtnby5wcm90b3R5cGUuc2V0TWFwPWdvLnByb3RvdHlwZS5zZXRNYXA7Z28ucHJvdG90eXBlLnNldFRhcmdldD1nby5wcm90b3R5cGUuaTtnby5wcm90b3R5cGUuZ2V0PWdvLnByb3RvdHlwZS5nZXQ7Z28ucHJvdG90eXBlLmdldEtleXM9Z28ucHJvdG90eXBlLlA7Z28ucHJvdG90eXBlLmdldFByb3BlcnRpZXM9Z28ucHJvdG90eXBlLkw7Z28ucHJvdG90eXBlLnNldD1nby5wcm90b3R5cGUuc2V0O2dvLnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzPWdvLnByb3RvdHlwZS5IO2dvLnByb3RvdHlwZS51bnNldD1nby5wcm90b3R5cGUuUjtnby5wcm90b3R5cGUuY2hhbmdlZD1nby5wcm90b3R5cGUudTtcbmdvLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PWdvLnByb3RvdHlwZS5iO2dvLnByb3RvdHlwZS5nZXRSZXZpc2lvbj1nby5wcm90b3R5cGUuSztnby5wcm90b3R5cGUub249Z28ucHJvdG90eXBlLkk7Z28ucHJvdG90eXBlLm9uY2U9Z28ucHJvdG90eXBlLm9uY2U7Z28ucHJvdG90eXBlLnVuPWdvLnByb3RvdHlwZS5KO2xvLnByb3RvdHlwZS5nZXRNYXA9bG8ucHJvdG90eXBlLmY7bG8ucHJvdG90eXBlLnNldE1hcD1sby5wcm90b3R5cGUuc2V0TWFwO2xvLnByb3RvdHlwZS5zZXRUYXJnZXQ9bG8ucHJvdG90eXBlLmk7bG8ucHJvdG90eXBlLmdldD1sby5wcm90b3R5cGUuZ2V0O2xvLnByb3RvdHlwZS5nZXRLZXlzPWxvLnByb3RvdHlwZS5QO2xvLnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzPWxvLnByb3RvdHlwZS5MO2xvLnByb3RvdHlwZS5zZXQ9bG8ucHJvdG90eXBlLnNldDtsby5wcm90b3R5cGUuc2V0UHJvcGVydGllcz1sby5wcm90b3R5cGUuSDtsby5wcm90b3R5cGUudW5zZXQ9bG8ucHJvdG90eXBlLlI7XG5sby5wcm90b3R5cGUuY2hhbmdlZD1sby5wcm90b3R5cGUudTtsby5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudD1sby5wcm90b3R5cGUuYjtsby5wcm90b3R5cGUuZ2V0UmV2aXNpb249bG8ucHJvdG90eXBlLks7bG8ucHJvdG90eXBlLm9uPWxvLnByb3RvdHlwZS5JO2xvLnByb3RvdHlwZS5vbmNlPWxvLnByb3RvdHlwZS5vbmNlO2xvLnByb3RvdHlwZS51bj1sby5wcm90b3R5cGUuSjtcbiAgcmV0dXJuIE9QRU5MQVlFUlMub2w7XG59KSk7XG5cbiIsInZhciBtZ3JzID0gcmVxdWlyZSgnbWdycycpO1xuXG5mdW5jdGlvbiBQb2ludCh4LCB5LCB6KSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQb2ludCkpIHtcbiAgICByZXR1cm4gbmV3IFBvaW50KHgsIHksIHopO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHgpKSB7XG4gICAgdGhpcy54ID0geFswXTtcbiAgICB0aGlzLnkgPSB4WzFdO1xuICAgIHRoaXMueiA9IHhbMl0gfHwgMC4wO1xuICB9ZWxzZSBpZih0eXBlb2YgeCA9PT0gJ29iamVjdCcpe1xuICAgIHRoaXMueCA9IHgueDtcbiAgICB0aGlzLnkgPSB4Lnk7XG4gICAgdGhpcy56ID0geC56IHx8IDAuMDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgeCA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIHkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIGNvb3JkcyA9IHguc3BsaXQoJywnKTtcbiAgICB0aGlzLnggPSBwYXJzZUZsb2F0KGNvb3Jkc1swXSwgMTApO1xuICAgIHRoaXMueSA9IHBhcnNlRmxvYXQoY29vcmRzWzFdLCAxMCk7XG4gICAgdGhpcy56ID0gcGFyc2VGbG9hdChjb29yZHNbMl0sIDEwKSB8fCAwLjA7XG4gIH1cbiAgZWxzZSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICAgIHRoaXMueiA9IHogfHwgMC4wO1xuICB9XG4gIGNvbnNvbGUud2FybigncHJvajQuUG9pbnQgd2lsbCBiZSByZW1vdmVkIGluIHZlcnNpb24gMywgdXNlIHByb2o0LnRvUG9pbnQnKTtcbn1cblxuUG9pbnQuZnJvbU1HUlMgPSBmdW5jdGlvbihtZ3JzU3RyKSB7XG4gIHJldHVybiBuZXcgUG9pbnQobWdycy50b1BvaW50KG1ncnNTdHIpKTtcbn07XG5Qb2ludC5wcm90b3R5cGUudG9NR1JTID0gZnVuY3Rpb24oYWNjdXJhY3kpIHtcbiAgcmV0dXJuIG1ncnMuZm9yd2FyZChbdGhpcy54LCB0aGlzLnldLCBhY2N1cmFjeSk7XG59O1xubW9kdWxlLmV4cG9ydHMgPSBQb2ludDsiLCJ2YXIgcGFyc2VDb2RlID0gcmVxdWlyZShcIi4vcGFyc2VDb2RlXCIpO1xudmFyIGV4dGVuZCA9IHJlcXVpcmUoJy4vZXh0ZW5kJyk7XG52YXIgcHJvamVjdGlvbnMgPSByZXF1aXJlKCcuL3Byb2plY3Rpb25zJyk7XG52YXIgZGVyaXZlQ29uc3RhbnRzID0gcmVxdWlyZSgnLi9kZXJpdmVDb25zdGFudHMnKTtcblxuZnVuY3Rpb24gUHJvamVjdGlvbihzcnNDb2RlLGNhbGxiYWNrKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQcm9qZWN0aW9uKSkge1xuICAgIHJldHVybiBuZXcgUHJvamVjdGlvbihzcnNDb2RlKTtcbiAgfVxuICBjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVycm9yKXtcbiAgICBpZihlcnJvcil7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH07XG4gIHZhciBqc29uID0gcGFyc2VDb2RlKHNyc0NvZGUpO1xuICBpZih0eXBlb2YganNvbiAhPT0gJ29iamVjdCcpe1xuICAgIGNhbGxiYWNrKHNyc0NvZGUpO1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbW9kaWZpZWRKU09OID0gZGVyaXZlQ29uc3RhbnRzKGpzb24pO1xuICB2YXIgb3VyUHJvaiA9IFByb2plY3Rpb24ucHJvamVjdGlvbnMuZ2V0KG1vZGlmaWVkSlNPTi5wcm9qTmFtZSk7XG4gIGlmKG91clByb2ope1xuICAgIGV4dGVuZCh0aGlzLCBtb2RpZmllZEpTT04pO1xuICAgIGV4dGVuZCh0aGlzLCBvdXJQcm9qKTtcbiAgICB0aGlzLmluaXQoKTtcbiAgICBjYWxsYmFjayhudWxsLCB0aGlzKTtcbiAgfWVsc2V7XG4gICAgY2FsbGJhY2soc3JzQ29kZSk7XG4gIH1cbn1cblByb2plY3Rpb24ucHJvamVjdGlvbnMgPSBwcm9qZWN0aW9ucztcblByb2plY3Rpb24ucHJvamVjdGlvbnMuc3RhcnQoKTtcbm1vZHVsZS5leHBvcnRzID0gUHJvamVjdGlvbjtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oY3JzLCBkZW5vcm0sIHBvaW50KSB7XG4gIHZhciB4aW4gPSBwb2ludC54LFxuICAgIHlpbiA9IHBvaW50LnksXG4gICAgemluID0gcG9pbnQueiB8fCAwLjA7XG4gIHZhciB2LCB0LCBpO1xuICBmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgaWYgKGRlbm9ybSAmJiBpID09PSAyICYmIHBvaW50LnogPT09IHVuZGVmaW5lZCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChpID09PSAwKSB7XG4gICAgICB2ID0geGluO1xuICAgICAgdCA9ICd4JztcbiAgICB9XG4gICAgZWxzZSBpZiAoaSA9PT0gMSkge1xuICAgICAgdiA9IHlpbjtcbiAgICAgIHQgPSAneSc7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdiA9IHppbjtcbiAgICAgIHQgPSAneic7XG4gICAgfVxuICAgIHN3aXRjaCAoY3JzLmF4aXNbaV0pIHtcbiAgICBjYXNlICdlJzpcbiAgICAgIHBvaW50W3RdID0gdjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3cnOlxuICAgICAgcG9pbnRbdF0gPSAtdjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ24nOlxuICAgICAgcG9pbnRbdF0gPSB2O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAncyc6XG4gICAgICBwb2ludFt0XSA9IC12O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndSc6XG4gICAgICBpZiAocG9pbnRbdF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwb2ludC56ID0gdjtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2QnOlxuICAgICAgaWYgKHBvaW50W3RdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcG9pbnQueiA9IC12O1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIC8vY29uc29sZS5sb2coXCJFUlJPUjogdW5rbm93IGF4aXMgKFwiK2Nycy5heGlzW2ldK1wiKSAtIGNoZWNrIGRlZmluaXRpb24gb2YgXCIrY3JzLnByb2pOYW1lKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcG9pbnQ7XG59O1xuIiwidmFyIEhBTEZfUEkgPSBNYXRoLlBJLzI7XG52YXIgc2lnbiA9IHJlcXVpcmUoJy4vc2lnbicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIChNYXRoLmFicyh4KSA8IEhBTEZfUEkpID8geCA6ICh4IC0gKHNpZ24oeCkgKiBNYXRoLlBJKSk7XG59OyIsInZhciBUV09fUEkgPSBNYXRoLlBJICogMjtcbi8vIFNQSSBpcyBzbGlnaHRseSBncmVhdGVyIHRoYW4gTWF0aC5QSSwgc28gdmFsdWVzIHRoYXQgZXhjZWVkIHRoZSAtMTgwLi4xODBcbi8vIGRlZ3JlZSByYW5nZSBieSBhIHRpbnkgYW1vdW50IGRvbid0IGdldCB3cmFwcGVkLiBUaGlzIHByZXZlbnRzIHBvaW50cyB0aGF0XG4vLyBoYXZlIGRyaWZ0ZWQgZnJvbSB0aGVpciBvcmlnaW5hbCBsb2NhdGlvbiBhbG9uZyB0aGUgMTgwdGggbWVyaWRpYW4gKGR1ZSB0b1xuLy8gZmxvYXRpbmcgcG9pbnQgZXJyb3IpIGZyb20gY2hhbmdpbmcgdGhlaXIgc2lnbi5cbnZhciBTUEkgPSAzLjE0MTU5MjY1MzU5O1xudmFyIHNpZ24gPSByZXF1aXJlKCcuL3NpZ24nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih4KSB7XG4gIHJldHVybiAoTWF0aC5hYnMoeCkgPD0gU1BJKSA/IHggOiAoeCAtIChzaWduKHgpICogVFdPX1BJKSk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oeCkge1xuICBpZiAoTWF0aC5hYnMoeCkgPiAxKSB7XG4gICAgeCA9ICh4ID4gMSkgPyAxIDogLTE7XG4gIH1cbiAgcmV0dXJuIE1hdGguYXNpbih4KTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih4KSB7XG4gIHJldHVybiAoMSAtIDAuMjUgKiB4ICogKDEgKyB4IC8gMTYgKiAoMyArIDEuMjUgKiB4KSkpO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHgpIHtcbiAgcmV0dXJuICgwLjM3NSAqIHggKiAoMSArIDAuMjUgKiB4ICogKDEgKyAwLjQ2ODc1ICogeCkpKTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih4KSB7XG4gIHJldHVybiAoMC4wNTg1OTM3NSAqIHggKiB4ICogKDEgKyAwLjc1ICogeCkpO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHgpIHtcbiAgcmV0dXJuICh4ICogeCAqIHggKiAoMzUgLyAzMDcyKSk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oYSwgZSwgc2lucGhpKSB7XG4gIHZhciB0ZW1wID0gZSAqIHNpbnBoaTtcbiAgcmV0dXJuIGEgLyBNYXRoLnNxcnQoMSAtIHRlbXAgKiB0ZW1wKTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtbCwgZTAsIGUxLCBlMiwgZTMpIHtcbiAgdmFyIHBoaTtcbiAgdmFyIGRwaGk7XG5cbiAgcGhpID0gbWwgLyBlMDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNTsgaSsrKSB7XG4gICAgZHBoaSA9IChtbCAtIChlMCAqIHBoaSAtIGUxICogTWF0aC5zaW4oMiAqIHBoaSkgKyBlMiAqIE1hdGguc2luKDQgKiBwaGkpIC0gZTMgKiBNYXRoLnNpbig2ICogcGhpKSkpIC8gKGUwIC0gMiAqIGUxICogTWF0aC5jb3MoMiAqIHBoaSkgKyA0ICogZTIgKiBNYXRoLmNvcyg0ICogcGhpKSAtIDYgKiBlMyAqIE1hdGguY29zKDYgKiBwaGkpKTtcbiAgICBwaGkgKz0gZHBoaTtcbiAgICBpZiAoTWF0aC5hYnMoZHBoaSkgPD0gMC4wMDAwMDAwMDAxKSB7XG4gICAgICByZXR1cm4gcGhpO1xuICAgIH1cbiAgfVxuXG4gIC8vLi5yZXBvcnRFcnJvcihcIklNTEZOLUNPTlY6TGF0aXR1ZGUgZmFpbGVkIHRvIGNvbnZlcmdlIGFmdGVyIDE1IGl0ZXJhdGlvbnNcIik7XG4gIHJldHVybiBOYU47XG59OyIsInZhciBIQUxGX1BJID0gTWF0aC5QSS8yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGVjY2VudCwgcSkge1xuICB2YXIgdGVtcCA9IDEgLSAoMSAtIGVjY2VudCAqIGVjY2VudCkgLyAoMiAqIGVjY2VudCkgKiBNYXRoLmxvZygoMSAtIGVjY2VudCkgLyAoMSArIGVjY2VudCkpO1xuICBpZiAoTWF0aC5hYnMoTWF0aC5hYnMocSkgLSB0ZW1wKSA8IDEuMEUtNikge1xuICAgIGlmIChxIDwgMCkge1xuICAgICAgcmV0dXJuICgtMSAqIEhBTEZfUEkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiBIQUxGX1BJO1xuICAgIH1cbiAgfVxuICAvL3ZhciBwaGkgPSAwLjUqIHEvKDEtZWNjZW50KmVjY2VudCk7XG4gIHZhciBwaGkgPSBNYXRoLmFzaW4oMC41ICogcSk7XG4gIHZhciBkcGhpO1xuICB2YXIgc2luX3BoaTtcbiAgdmFyIGNvc19waGk7XG4gIHZhciBjb247XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgMzA7IGkrKykge1xuICAgIHNpbl9waGkgPSBNYXRoLnNpbihwaGkpO1xuICAgIGNvc19waGkgPSBNYXRoLmNvcyhwaGkpO1xuICAgIGNvbiA9IGVjY2VudCAqIHNpbl9waGk7XG4gICAgZHBoaSA9IE1hdGgucG93KDEgLSBjb24gKiBjb24sIDIpIC8gKDIgKiBjb3NfcGhpKSAqIChxIC8gKDEgLSBlY2NlbnQgKiBlY2NlbnQpIC0gc2luX3BoaSAvICgxIC0gY29uICogY29uKSArIDAuNSAvIGVjY2VudCAqIE1hdGgubG9nKCgxIC0gY29uKSAvICgxICsgY29uKSkpO1xuICAgIHBoaSArPSBkcGhpO1xuICAgIGlmIChNYXRoLmFicyhkcGhpKSA8PSAwLjAwMDAwMDAwMDEpIHtcbiAgICAgIHJldHVybiBwaGk7XG4gICAgfVxuICB9XG5cbiAgLy9jb25zb2xlLmxvZyhcIklRU0ZOLUNPTlY6TGF0aXR1ZGUgZmFpbGVkIHRvIGNvbnZlcmdlIGFmdGVyIDMwIGl0ZXJhdGlvbnNcIik7XG4gIHJldHVybiBOYU47XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZTAsIGUxLCBlMiwgZTMsIHBoaSkge1xuICByZXR1cm4gKGUwICogcGhpIC0gZTEgKiBNYXRoLnNpbigyICogcGhpKSArIGUyICogTWF0aC5zaW4oNCAqIHBoaSkgLSBlMyAqIE1hdGguc2luKDYgKiBwaGkpKTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihlY2NlbnQsIHNpbnBoaSwgY29zcGhpKSB7XG4gIHZhciBjb24gPSBlY2NlbnQgKiBzaW5waGk7XG4gIHJldHVybiBjb3NwaGkgLyAoTWF0aC5zcXJ0KDEgLSBjb24gKiBjb24pKTtcbn07IiwidmFyIEhBTEZfUEkgPSBNYXRoLlBJLzI7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGVjY2VudCwgdHMpIHtcbiAgdmFyIGVjY250aCA9IDAuNSAqIGVjY2VudDtcbiAgdmFyIGNvbiwgZHBoaTtcbiAgdmFyIHBoaSA9IEhBTEZfUEkgLSAyICogTWF0aC5hdGFuKHRzKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPD0gMTU7IGkrKykge1xuICAgIGNvbiA9IGVjY2VudCAqIE1hdGguc2luKHBoaSk7XG4gICAgZHBoaSA9IEhBTEZfUEkgLSAyICogTWF0aC5hdGFuKHRzICogKE1hdGgucG93KCgoMSAtIGNvbikgLyAoMSArIGNvbikpLCBlY2NudGgpKSkgLSBwaGk7XG4gICAgcGhpICs9IGRwaGk7XG4gICAgaWYgKE1hdGguYWJzKGRwaGkpIDw9IDAuMDAwMDAwMDAwMSkge1xuICAgICAgcmV0dXJuIHBoaTtcbiAgICB9XG4gIH1cbiAgLy9jb25zb2xlLmxvZyhcInBoaTJ6IGhhcyBOb0NvbnZlcmdlbmNlXCIpO1xuICByZXR1cm4gLTk5OTk7XG59OyIsInZhciBDMDAgPSAxO1xudmFyIEMwMiA9IDAuMjU7XG52YXIgQzA0ID0gMC4wNDY4NzU7XG52YXIgQzA2ID0gMC4wMTk1MzEyNTtcbnZhciBDMDggPSAwLjAxMDY4MTE1MjM0Mzc1O1xudmFyIEMyMiA9IDAuNzU7XG52YXIgQzQ0ID0gMC40Njg3NTtcbnZhciBDNDYgPSAwLjAxMzAyMDgzMzMzMzMzMzMzMzMzO1xudmFyIEM0OCA9IDAuMDA3MTIwNzY4MjI5MTY2NjY2NjY7XG52YXIgQzY2ID0gMC4zNjQ1ODMzMzMzMzMzMzMzMzMzMztcbnZhciBDNjggPSAwLjAwNTY5NjYxNDU4MzMzMzMzMzMzO1xudmFyIEM4OCA9IDAuMzA3NjE3MTg3NTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihlcykge1xuICB2YXIgZW4gPSBbXTtcbiAgZW5bMF0gPSBDMDAgLSBlcyAqIChDMDIgKyBlcyAqIChDMDQgKyBlcyAqIChDMDYgKyBlcyAqIEMwOCkpKTtcbiAgZW5bMV0gPSBlcyAqIChDMjIgLSBlcyAqIChDMDQgKyBlcyAqIChDMDYgKyBlcyAqIEMwOCkpKTtcbiAgdmFyIHQgPSBlcyAqIGVzO1xuICBlblsyXSA9IHQgKiAoQzQ0IC0gZXMgKiAoQzQ2ICsgZXMgKiBDNDgpKTtcbiAgdCAqPSBlcztcbiAgZW5bM10gPSB0ICogKEM2NiAtIGVzICogQzY4KTtcbiAgZW5bNF0gPSB0ICogZXMgKiBDODg7XG4gIHJldHVybiBlbjtcbn07IiwidmFyIHBqX21sZm4gPSByZXF1aXJlKFwiLi9wal9tbGZuXCIpO1xudmFyIEVQU0xOID0gMS4wZS0xMDtcbnZhciBNQVhfSVRFUiA9IDIwO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihhcmcsIGVzLCBlbikge1xuICB2YXIgayA9IDEgLyAoMSAtIGVzKTtcbiAgdmFyIHBoaSA9IGFyZztcbiAgZm9yICh2YXIgaSA9IE1BWF9JVEVSOyBpOyAtLWkpIHsgLyogcmFyZWx5IGdvZXMgb3ZlciAyIGl0ZXJhdGlvbnMgKi9cbiAgICB2YXIgcyA9IE1hdGguc2luKHBoaSk7XG4gICAgdmFyIHQgPSAxIC0gZXMgKiBzICogcztcbiAgICAvL3QgPSB0aGlzLnBqX21sZm4ocGhpLCBzLCBNYXRoLmNvcyhwaGkpLCBlbikgLSBhcmc7XG4gICAgLy9waGkgLT0gdCAqICh0ICogTWF0aC5zcXJ0KHQpKSAqIGs7XG4gICAgdCA9IChwal9tbGZuKHBoaSwgcywgTWF0aC5jb3MocGhpKSwgZW4pIC0gYXJnKSAqICh0ICogTWF0aC5zcXJ0KHQpKSAqIGs7XG4gICAgcGhpIC09IHQ7XG4gICAgaWYgKE1hdGguYWJzKHQpIDwgRVBTTE4pIHtcbiAgICAgIHJldHVybiBwaGk7XG4gICAgfVxuICB9XG4gIC8vLi5yZXBvcnRFcnJvcihcImNhc3M6cGpfaW52X21sZm46IENvbnZlcmdlbmNlIGVycm9yXCIpO1xuICByZXR1cm4gcGhpO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHBoaSwgc3BoaSwgY3BoaSwgZW4pIHtcbiAgY3BoaSAqPSBzcGhpO1xuICBzcGhpICo9IHNwaGk7XG4gIHJldHVybiAoZW5bMF0gKiBwaGkgLSBjcGhpICogKGVuWzFdICsgc3BoaSAqIChlblsyXSArIHNwaGkgKiAoZW5bM10gKyBzcGhpICogZW5bNF0pKSkpO1xufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGVjY2VudCwgc2lucGhpKSB7XG4gIHZhciBjb247XG4gIGlmIChlY2NlbnQgPiAxLjBlLTcpIHtcbiAgICBjb24gPSBlY2NlbnQgKiBzaW5waGk7XG4gICAgcmV0dXJuICgoMSAtIGVjY2VudCAqIGVjY2VudCkgKiAoc2lucGhpIC8gKDEgLSBjb24gKiBjb24pIC0gKDAuNSAvIGVjY2VudCkgKiBNYXRoLmxvZygoMSAtIGNvbikgLyAoMSArIGNvbikpKSk7XG4gIH1cbiAgZWxzZSB7XG4gICAgcmV0dXJuICgyICogc2lucGhpKTtcbiAgfVxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIHg8MCA/IC0xIDogMTtcbn07IiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihlc2lucCwgZXhwKSB7XG4gIHJldHVybiAoTWF0aC5wb3coKDEgLSBlc2lucCkgLyAoMSArIGVzaW5wKSwgZXhwKSk7XG59OyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFycmF5KXtcbiAgdmFyIG91dCA9IHtcbiAgICB4OiBhcnJheVswXSxcbiAgICB5OiBhcnJheVsxXVxuICB9O1xuICBpZiAoYXJyYXkubGVuZ3RoPjIpIHtcbiAgICBvdXQueiA9IGFycmF5WzJdO1xuICB9XG4gIGlmIChhcnJheS5sZW5ndGg+Mykge1xuICAgIG91dC5tID0gYXJyYXlbM107XG4gIH1cbiAgcmV0dXJuIG91dDtcbn07IiwidmFyIEhBTEZfUEkgPSBNYXRoLlBJLzI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZWNjZW50LCBwaGksIHNpbnBoaSkge1xuICB2YXIgY29uID0gZWNjZW50ICogc2lucGhpO1xuICB2YXIgY29tID0gMC41ICogZWNjZW50O1xuICBjb24gPSBNYXRoLnBvdygoKDEgLSBjb24pIC8gKDEgKyBjb24pKSwgY29tKTtcbiAgcmV0dXJuIChNYXRoLnRhbigwLjUgKiAoSEFMRl9QSSAtIHBoaSkpIC8gY29uKTtcbn07IiwiZXhwb3J0cy53Z3M4NCA9IHtcbiAgdG93Z3M4NDogXCIwLDAsMFwiLFxuICBlbGxpcHNlOiBcIldHUzg0XCIsXG4gIGRhdHVtTmFtZTogXCJXR1M4NFwiXG59O1xuZXhwb3J0cy5jaDE5MDMgPSB7XG4gIHRvd2dzODQ6IFwiNjc0LjM3NCwxNS4wNTYsNDA1LjM0NlwiLFxuICBlbGxpcHNlOiBcImJlc3NlbFwiLFxuICBkYXR1bU5hbWU6IFwic3dpc3NcIlxufTtcbmV4cG9ydHMuZ2dyczg3ID0ge1xuICB0b3dnczg0OiBcIi0xOTkuODcsNzQuNzksMjQ2LjYyXCIsXG4gIGVsbGlwc2U6IFwiR1JTODBcIixcbiAgZGF0dW1OYW1lOiBcIkdyZWVrX0dlb2RldGljX1JlZmVyZW5jZV9TeXN0ZW1fMTk4N1wiXG59O1xuZXhwb3J0cy5uYWQ4MyA9IHtcbiAgdG93Z3M4NDogXCIwLDAsMFwiLFxuICBlbGxpcHNlOiBcIkdSUzgwXCIsXG4gIGRhdHVtTmFtZTogXCJOb3J0aF9BbWVyaWNhbl9EYXR1bV8xOTgzXCJcbn07XG5leHBvcnRzLm5hZDI3ID0ge1xuICBuYWRncmlkczogXCJAY29udXMsQGFsYXNrYSxAbnR2Ml8wLmdzYixAbnR2MV9jYW4uZGF0XCIsXG4gIGVsbGlwc2U6IFwiY2xyazY2XCIsXG4gIGRhdHVtTmFtZTogXCJOb3J0aF9BbWVyaWNhbl9EYXR1bV8xOTI3XCJcbn07XG5leHBvcnRzLnBvdHNkYW0gPSB7XG4gIHRvd2dzODQ6IFwiNjA2LjAsMjMuMCw0MTMuMFwiLFxuICBlbGxpcHNlOiBcImJlc3NlbFwiLFxuICBkYXR1bU5hbWU6IFwiUG90c2RhbSBSYXVlbmJlcmcgMTk1MCBESEROXCJcbn07XG5leHBvcnRzLmNhcnRoYWdlID0ge1xuICB0b3dnczg0OiBcIi0yNjMuMCw2LjAsNDMxLjBcIixcbiAgZWxsaXBzZTogXCJjbGFyazgwXCIsXG4gIGRhdHVtTmFtZTogXCJDYXJ0aGFnZSAxOTM0IFR1bmlzaWFcIlxufTtcbmV4cG9ydHMuaGVybWFubnNrb2dlbCA9IHtcbiAgdG93Z3M4NDogXCI2NTMuMCwtMjEyLjAsNDQ5LjBcIixcbiAgZWxsaXBzZTogXCJiZXNzZWxcIixcbiAgZGF0dW1OYW1lOiBcIkhlcm1hbm5za29nZWxcIlxufTtcbmV4cG9ydHMuaXJlNjUgPSB7XG4gIHRvd2dzODQ6IFwiNDgyLjUzMCwtMTMwLjU5Niw1NjQuNTU3LC0xLjA0MiwtMC4yMTQsLTAuNjMxLDguMTVcIixcbiAgZWxsaXBzZTogXCJtb2RfYWlyeVwiLFxuICBkYXR1bU5hbWU6IFwiSXJlbGFuZCAxOTY1XCJcbn07XG5leHBvcnRzLnJhc3NhZGlyYW4gPSB7XG4gIHRvd2dzODQ6IFwiLTEzMy42MywtMTU3LjUsLTE1OC42MlwiLFxuICBlbGxpcHNlOiBcImludGxcIixcbiAgZGF0dW1OYW1lOiBcIlJhc3NhZGlyYW5cIlxufTtcbmV4cG9ydHMubnpnZDQ5ID0ge1xuICB0b3dnczg0OiBcIjU5LjQ3LC01LjA0LDE4Ny40NCwwLjQ3LC0wLjEsMS4wMjQsLTQuNTk5M1wiLFxuICBlbGxpcHNlOiBcImludGxcIixcbiAgZGF0dW1OYW1lOiBcIk5ldyBaZWFsYW5kIEdlb2RldGljIERhdHVtIDE5NDlcIlxufTtcbmV4cG9ydHMub3NnYjM2ID0ge1xuICB0b3dnczg0OiBcIjQ0Ni40NDgsLTEyNS4xNTcsNTQyLjA2MCwwLjE1MDIsMC4yNDcwLDAuODQyMSwtMjAuNDg5NFwiLFxuICBlbGxpcHNlOiBcImFpcnlcIixcbiAgZGF0dW1OYW1lOiBcIkFpcnkgMTgzMFwiXG59O1xuZXhwb3J0cy5zX2p0c2sgPSB7XG4gIHRvd2dzODQ6IFwiNTg5LDc2LDQ4MFwiLFxuICBlbGxpcHNlOiAnYmVzc2VsJyxcbiAgZGF0dW1OYW1lOiAnUy1KVFNLIChGZXJybyknXG59O1xuZXhwb3J0cy5iZWR1YXJhbSA9IHtcbiAgdG93Z3M4NDogJy0xMDYsLTg3LDE4OCcsXG4gIGVsbGlwc2U6ICdjbHJrODAnLFxuICBkYXR1bU5hbWU6ICdCZWR1YXJhbSdcbn07XG5leHBvcnRzLmd1bnVuZ19zZWdhcmEgPSB7XG4gIHRvd2dzODQ6ICctNDAzLDY4NCw0MScsXG4gIGVsbGlwc2U6ICdiZXNzZWwnLFxuICBkYXR1bU5hbWU6ICdHdW51bmcgU2VnYXJhIEpha2FydGEnXG59O1xuZXhwb3J0cy5ybmI3MiA9IHtcbiAgdG93Z3M4NDogXCIxMDYuODY5LC01Mi4yOTc4LDEwMy43MjQsLTAuMzM2NTcsMC40NTY5NTUsLTEuODQyMTgsMVwiLFxuICBlbGxpcHNlOiBcImludGxcIixcbiAgZGF0dW1OYW1lOiBcIlJlc2VhdSBOYXRpb25hbCBCZWxnZSAxOTcyXCJcbn07IiwiZXhwb3J0cy5NRVJJVCA9IHtcbiAgYTogNjM3ODEzNy4wLFxuICByZjogMjk4LjI1NyxcbiAgZWxsaXBzZU5hbWU6IFwiTUVSSVQgMTk4M1wiXG59O1xuZXhwb3J0cy5TR1M4NSA9IHtcbiAgYTogNjM3ODEzNi4wLFxuICByZjogMjk4LjI1NyxcbiAgZWxsaXBzZU5hbWU6IFwiU292aWV0IEdlb2RldGljIFN5c3RlbSA4NVwiXG59O1xuZXhwb3J0cy5HUlM4MCA9IHtcbiAgYTogNjM3ODEzNy4wLFxuICByZjogMjk4LjI1NzIyMjEwMSxcbiAgZWxsaXBzZU5hbWU6IFwiR1JTIDE5ODAoSVVHRywgMTk4MClcIlxufTtcbmV4cG9ydHMuSUFVNzYgPSB7XG4gIGE6IDYzNzgxNDAuMCxcbiAgcmY6IDI5OC4yNTcsXG4gIGVsbGlwc2VOYW1lOiBcIklBVSAxOTc2XCJcbn07XG5leHBvcnRzLmFpcnkgPSB7XG4gIGE6IDYzNzc1NjMuMzk2LFxuICBiOiA2MzU2MjU2LjkxMCxcbiAgZWxsaXBzZU5hbWU6IFwiQWlyeSAxODMwXCJcbn07XG5leHBvcnRzLkFQTDQgPSB7XG4gIGE6IDYzNzgxMzcsXG4gIHJmOiAyOTguMjUsXG4gIGVsbGlwc2VOYW1lOiBcIkFwcGwuIFBoeXNpY3MuIDE5NjVcIlxufTtcbmV4cG9ydHMuTldMOUQgPSB7XG4gIGE6IDYzNzgxNDUuMCxcbiAgcmY6IDI5OC4yNSxcbiAgZWxsaXBzZU5hbWU6IFwiTmF2YWwgV2VhcG9ucyBMYWIuLCAxOTY1XCJcbn07XG5leHBvcnRzLm1vZF9haXJ5ID0ge1xuICBhOiA2Mzc3MzQwLjE4OSxcbiAgYjogNjM1NjAzNC40NDYsXG4gIGVsbGlwc2VOYW1lOiBcIk1vZGlmaWVkIEFpcnlcIlxufTtcbmV4cG9ydHMuYW5kcmFlID0ge1xuICBhOiA2Mzc3MTA0LjQzLFxuICByZjogMzAwLjAsXG4gIGVsbGlwc2VOYW1lOiBcIkFuZHJhZSAxODc2IChEZW4uLCBJY2xuZC4pXCJcbn07XG5leHBvcnRzLmF1c3RfU0EgPSB7XG4gIGE6IDYzNzgxNjAuMCxcbiAgcmY6IDI5OC4yNSxcbiAgZWxsaXBzZU5hbWU6IFwiQXVzdHJhbGlhbiBOYXRsICYgUy4gQW1lci4gMTk2OVwiXG59O1xuZXhwb3J0cy5HUlM2NyA9IHtcbiAgYTogNjM3ODE2MC4wLFxuICByZjogMjk4LjI0NzE2NzQyNzAsXG4gIGVsbGlwc2VOYW1lOiBcIkdSUyA2NyhJVUdHIDE5NjcpXCJcbn07XG5leHBvcnRzLmJlc3NlbCA9IHtcbiAgYTogNjM3NzM5Ny4xNTUsXG4gIHJmOiAyOTkuMTUyODEyOCxcbiAgZWxsaXBzZU5hbWU6IFwiQmVzc2VsIDE4NDFcIlxufTtcbmV4cG9ydHMuYmVzc19uYW0gPSB7XG4gIGE6IDYzNzc0ODMuODY1LFxuICByZjogMjk5LjE1MjgxMjgsXG4gIGVsbGlwc2VOYW1lOiBcIkJlc3NlbCAxODQxIChOYW1pYmlhKVwiXG59O1xuZXhwb3J0cy5jbHJrNjYgPSB7XG4gIGE6IDYzNzgyMDYuNCxcbiAgYjogNjM1NjU4My44LFxuICBlbGxpcHNlTmFtZTogXCJDbGFya2UgMTg2NlwiXG59O1xuZXhwb3J0cy5jbHJrODAgPSB7XG4gIGE6IDYzNzgyNDkuMTQ1LFxuICByZjogMjkzLjQ2NjMsXG4gIGVsbGlwc2VOYW1lOiBcIkNsYXJrZSAxODgwIG1vZC5cIlxufTtcbmV4cG9ydHMuY2xyazU4ID0ge1xuICBhOiA2Mzc4MjkzLjY0NTIwODc1OSxcbiAgcmY6IDI5NC4yNjA2NzYzNjkyNjU0LFxuICBlbGxpcHNlTmFtZTogXCJDbGFya2UgMTg1OFwiXG59O1xuZXhwb3J0cy5DUE0gPSB7XG4gIGE6IDYzNzU3MzguNyxcbiAgcmY6IDMzNC4yOSxcbiAgZWxsaXBzZU5hbWU6IFwiQ29tbS4gZGVzIFBvaWRzIGV0IE1lc3VyZXMgMTc5OVwiXG59O1xuZXhwb3J0cy5kZWxtYnIgPSB7XG4gIGE6IDYzNzY0MjguMCxcbiAgcmY6IDMxMS41LFxuICBlbGxpcHNlTmFtZTogXCJEZWxhbWJyZSAxODEwIChCZWxnaXVtKVwiXG59O1xuZXhwb3J0cy5lbmdlbGlzID0ge1xuICBhOiA2Mzc4MTM2LjA1LFxuICByZjogMjk4LjI1NjYsXG4gIGVsbGlwc2VOYW1lOiBcIkVuZ2VsaXMgMTk4NVwiXG59O1xuZXhwb3J0cy5ldnJzdDMwID0ge1xuICBhOiA2Mzc3Mjc2LjM0NSxcbiAgcmY6IDMwMC44MDE3LFxuICBlbGxpcHNlTmFtZTogXCJFdmVyZXN0IDE4MzBcIlxufTtcbmV4cG9ydHMuZXZyc3Q0OCA9IHtcbiAgYTogNjM3NzMwNC4wNjMsXG4gIHJmOiAzMDAuODAxNyxcbiAgZWxsaXBzZU5hbWU6IFwiRXZlcmVzdCAxOTQ4XCJcbn07XG5leHBvcnRzLmV2cnN0NTYgPSB7XG4gIGE6IDYzNzczMDEuMjQzLFxuICByZjogMzAwLjgwMTcsXG4gIGVsbGlwc2VOYW1lOiBcIkV2ZXJlc3QgMTk1NlwiXG59O1xuZXhwb3J0cy5ldnJzdDY5ID0ge1xuICBhOiA2Mzc3Mjk1LjY2NCxcbiAgcmY6IDMwMC44MDE3LFxuICBlbGxpcHNlTmFtZTogXCJFdmVyZXN0IDE5NjlcIlxufTtcbmV4cG9ydHMuZXZyc3RTUyA9IHtcbiAgYTogNjM3NzI5OC41NTYsXG4gIHJmOiAzMDAuODAxNyxcbiAgZWxsaXBzZU5hbWU6IFwiRXZlcmVzdCAoU2FiYWggJiBTYXJhd2FrKVwiXG59O1xuZXhwb3J0cy5mc2NocjYwID0ge1xuICBhOiA2Mzc4MTY2LjAsXG4gIHJmOiAyOTguMyxcbiAgZWxsaXBzZU5hbWU6IFwiRmlzY2hlciAoTWVyY3VyeSBEYXR1bSkgMTk2MFwiXG59O1xuZXhwb3J0cy5mc2NocjYwbSA9IHtcbiAgYTogNjM3ODE1NS4wLFxuICByZjogMjk4LjMsXG4gIGVsbGlwc2VOYW1lOiBcIkZpc2NoZXIgMTk2MFwiXG59O1xuZXhwb3J0cy5mc2NocjY4ID0ge1xuICBhOiA2Mzc4MTUwLjAsXG4gIHJmOiAyOTguMyxcbiAgZWxsaXBzZU5hbWU6IFwiRmlzY2hlciAxOTY4XCJcbn07XG5leHBvcnRzLmhlbG1lcnQgPSB7XG4gIGE6IDYzNzgyMDAuMCxcbiAgcmY6IDI5OC4zLFxuICBlbGxpcHNlTmFtZTogXCJIZWxtZXJ0IDE5MDZcIlxufTtcbmV4cG9ydHMuaG91Z2ggPSB7XG4gIGE6IDYzNzgyNzAuMCxcbiAgcmY6IDI5Ny4wLFxuICBlbGxpcHNlTmFtZTogXCJIb3VnaFwiXG59O1xuZXhwb3J0cy5pbnRsID0ge1xuICBhOiA2Mzc4Mzg4LjAsXG4gIHJmOiAyOTcuMCxcbiAgZWxsaXBzZU5hbWU6IFwiSW50ZXJuYXRpb25hbCAxOTA5IChIYXlmb3JkKVwiXG59O1xuZXhwb3J0cy5rYXVsYSA9IHtcbiAgYTogNjM3ODE2My4wLFxuICByZjogMjk4LjI0LFxuICBlbGxpcHNlTmFtZTogXCJLYXVsYSAxOTYxXCJcbn07XG5leHBvcnRzLmxlcmNoID0ge1xuICBhOiA2Mzc4MTM5LjAsXG4gIHJmOiAyOTguMjU3LFxuICBlbGxpcHNlTmFtZTogXCJMZXJjaCAxOTc5XCJcbn07XG5leHBvcnRzLm1wcnRzID0ge1xuICBhOiA2Mzk3MzAwLjAsXG4gIHJmOiAxOTEuMCxcbiAgZWxsaXBzZU5hbWU6IFwiTWF1cGVydGl1cyAxNzM4XCJcbn07XG5leHBvcnRzLm5ld19pbnRsID0ge1xuICBhOiA2Mzc4MTU3LjUsXG4gIGI6IDYzNTY3NzIuMixcbiAgZWxsaXBzZU5hbWU6IFwiTmV3IEludGVybmF0aW9uYWwgMTk2N1wiXG59O1xuZXhwb3J0cy5wbGVzc2lzID0ge1xuICBhOiA2Mzc2NTIzLjAsXG4gIHJmOiA2MzU1ODYzLjAsXG4gIGVsbGlwc2VOYW1lOiBcIlBsZXNzaXMgMTgxNyAoRnJhbmNlKVwiXG59O1xuZXhwb3J0cy5rcmFzcyA9IHtcbiAgYTogNjM3ODI0NS4wLFxuICByZjogMjk4LjMsXG4gIGVsbGlwc2VOYW1lOiBcIktyYXNzb3Zza3ksIDE5NDJcIlxufTtcbmV4cG9ydHMuU0Vhc2lhID0ge1xuICBhOiA2Mzc4MTU1LjAsXG4gIGI6IDYzNTY3NzMuMzIwNSxcbiAgZWxsaXBzZU5hbWU6IFwiU291dGhlYXN0IEFzaWFcIlxufTtcbmV4cG9ydHMud2FsYmVjayA9IHtcbiAgYTogNjM3Njg5Ni4wLFxuICBiOiA2MzU1ODM0Ljg0NjcsXG4gIGVsbGlwc2VOYW1lOiBcIldhbGJlY2tcIlxufTtcbmV4cG9ydHMuV0dTNjAgPSB7XG4gIGE6IDYzNzgxNjUuMCxcbiAgcmY6IDI5OC4zLFxuICBlbGxpcHNlTmFtZTogXCJXR1MgNjBcIlxufTtcbmV4cG9ydHMuV0dTNjYgPSB7XG4gIGE6IDYzNzgxNDUuMCxcbiAgcmY6IDI5OC4yNSxcbiAgZWxsaXBzZU5hbWU6IFwiV0dTIDY2XCJcbn07XG5leHBvcnRzLldHUzcgPSB7XG4gIGE6IDYzNzgxMzUuMCxcbiAgcmY6IDI5OC4yNixcbiAgZWxsaXBzZU5hbWU6IFwiV0dTIDcyXCJcbn07XG5leHBvcnRzLldHUzg0ID0ge1xuICBhOiA2Mzc4MTM3LjAsXG4gIHJmOiAyOTguMjU3MjIzNTYzLFxuICBlbGxpcHNlTmFtZTogXCJXR1MgODRcIlxufTtcbmV4cG9ydHMuc3BoZXJlID0ge1xuICBhOiA2MzcwOTk3LjAsXG4gIGI6IDYzNzA5OTcuMCxcbiAgZWxsaXBzZU5hbWU6IFwiTm9ybWFsIFNwaGVyZSAocj02MzcwOTk3KVwiXG59OyIsImV4cG9ydHMuZ3JlZW53aWNoID0gMC4wOyAvL1wiMGRFXCIsXG5leHBvcnRzLmxpc2JvbiA9IC05LjEzMTkwNjExMTExMTsgLy9cIjlkMDcnNTQuODYyXFxcIldcIixcbmV4cG9ydHMucGFyaXMgPSAyLjMzNzIyOTE2NjY2NzsgLy9cIjJkMjAnMTQuMDI1XFxcIkVcIixcbmV4cG9ydHMuYm9nb3RhID0gLTc0LjA4MDkxNjY2NjY2NzsgLy9cIjc0ZDA0JzUxLjNcXFwiV1wiLFxuZXhwb3J0cy5tYWRyaWQgPSAtMy42ODc5Mzg4ODg4ODk7IC8vXCIzZDQxJzE2LjU4XFxcIldcIixcbmV4cG9ydHMucm9tZSA9IDEyLjQ1MjMzMzMzMzMzMzsgLy9cIjEyZDI3JzguNFxcXCJFXCIsXG5leHBvcnRzLmJlcm4gPSA3LjQzOTU4MzMzMzMzMzsgLy9cIjdkMjYnMjIuNVxcXCJFXCIsXG5leHBvcnRzLmpha2FydGEgPSAxMDYuODA3NzE5NDQ0NDQ0OyAvL1wiMTA2ZDQ4JzI3Ljc5XFxcIkVcIixcbmV4cG9ydHMuZmVycm8gPSAtMTcuNjY2NjY2NjY2NjY3OyAvL1wiMTdkNDAnV1wiLFxuZXhwb3J0cy5icnVzc2VscyA9IDQuMzY3OTc1OyAvL1wiNGQyMic0LjcxXFxcIkVcIixcbmV4cG9ydHMuc3RvY2tob2xtID0gMTguMDU4Mjc3Nzc3Nzc4OyAvL1wiMThkMycyOS44XFxcIkVcIixcbmV4cG9ydHMuYXRoZW5zID0gMjMuNzE2MzM3NTsgLy9cIjIzZDQyJzU4LjgxNVxcXCJFXCIsXG5leHBvcnRzLm9zbG8gPSAxMC43MjI5MTY2NjY2Njc7IC8vXCIxMGQ0MycyMi41XFxcIkVcIiIsImV4cG9ydHMuZnQgPSB7dG9fbWV0ZXI6IDAuMzA0OH07XG5leHBvcnRzWyd1cy1mdCddID0ge3RvX21ldGVyOiAxMjAwIC8gMzkzN307XG4iLCJ2YXIgcHJvaiA9IHJlcXVpcmUoJy4vUHJvaicpO1xudmFyIHRyYW5zZm9ybSA9IHJlcXVpcmUoJy4vdHJhbnNmb3JtJyk7XG52YXIgd2dzODQgPSBwcm9qKCdXR1M4NCcpO1xuXG5mdW5jdGlvbiB0cmFuc2Zvcm1lcihmcm9tLCB0bywgY29vcmRzKSB7XG4gIHZhciB0cmFuc2Zvcm1lZEFycmF5O1xuICBpZiAoQXJyYXkuaXNBcnJheShjb29yZHMpKSB7XG4gICAgdHJhbnNmb3JtZWRBcnJheSA9IHRyYW5zZm9ybShmcm9tLCB0bywgY29vcmRzKTtcbiAgICBpZiAoY29vcmRzLmxlbmd0aCA9PT0gMykge1xuICAgICAgcmV0dXJuIFt0cmFuc2Zvcm1lZEFycmF5LngsIHRyYW5zZm9ybWVkQXJyYXkueSwgdHJhbnNmb3JtZWRBcnJheS56XTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm4gW3RyYW5zZm9ybWVkQXJyYXkueCwgdHJhbnNmb3JtZWRBcnJheS55XTtcbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybShmcm9tLCB0bywgY29vcmRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja1Byb2ooaXRlbSkge1xuICBpZiAoaXRlbSBpbnN0YW5jZW9mIHByb2opIHtcbiAgICByZXR1cm4gaXRlbTtcbiAgfVxuICBpZiAoaXRlbS5vUHJvaikge1xuICAgIHJldHVybiBpdGVtLm9Qcm9qO1xuICB9XG4gIHJldHVybiBwcm9qKGl0ZW0pO1xufVxuZnVuY3Rpb24gcHJvajQoZnJvbVByb2osIHRvUHJvaiwgY29vcmQpIHtcbiAgZnJvbVByb2ogPSBjaGVja1Byb2ooZnJvbVByb2opO1xuICB2YXIgc2luZ2xlID0gZmFsc2U7XG4gIHZhciBvYmo7XG4gIGlmICh0eXBlb2YgdG9Qcm9qID09PSAndW5kZWZpbmVkJykge1xuICAgIHRvUHJvaiA9IGZyb21Qcm9qO1xuICAgIGZyb21Qcm9qID0gd2dzODQ7XG4gICAgc2luZ2xlID0gdHJ1ZTtcbiAgfVxuICBlbHNlIGlmICh0eXBlb2YgdG9Qcm9qLnggIT09ICd1bmRlZmluZWQnIHx8IEFycmF5LmlzQXJyYXkodG9Qcm9qKSkge1xuICAgIGNvb3JkID0gdG9Qcm9qO1xuICAgIHRvUHJvaiA9IGZyb21Qcm9qO1xuICAgIGZyb21Qcm9qID0gd2dzODQ7XG4gICAgc2luZ2xlID0gdHJ1ZTtcbiAgfVxuICB0b1Byb2ogPSBjaGVja1Byb2oodG9Qcm9qKTtcbiAgaWYgKGNvb3JkKSB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybWVyKGZyb21Qcm9qLCB0b1Byb2osIGNvb3JkKTtcbiAgfVxuICBlbHNlIHtcbiAgICBvYmogPSB7XG4gICAgICBmb3J3YXJkOiBmdW5jdGlvbihjb29yZHMpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybWVyKGZyb21Qcm9qLCB0b1Byb2osIGNvb3Jkcyk7XG4gICAgICB9LFxuICAgICAgaW52ZXJzZTogZnVuY3Rpb24oY29vcmRzKSB7XG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1lcih0b1Byb2osIGZyb21Qcm9qLCBjb29yZHMpO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKHNpbmdsZSkge1xuICAgICAgb2JqLm9Qcm9qID0gdG9Qcm9qO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHByb2o0OyIsInZhciBIQUxGX1BJID0gTWF0aC5QSS8yO1xudmFyIFBKRF8zUEFSQU0gPSAxO1xudmFyIFBKRF83UEFSQU0gPSAyO1xudmFyIFBKRF9HUklEU0hJRlQgPSAzO1xudmFyIFBKRF9XR1M4NCA9IDQ7IC8vIFdHUzg0IG9yIGVxdWl2YWxlbnRcbnZhciBQSkRfTk9EQVRVTSA9IDU7IC8vIFdHUzg0IG9yIGVxdWl2YWxlbnRcbnZhciBTRUNfVE9fUkFEID0gNC44NDgxMzY4MTEwOTUzNTk5MzU4OTkxNDEwMjM1N2UtNjtcbnZhciBBRF9DID0gMS4wMDI2MDAwO1xudmFyIENPU182N1A1ID0gMC4zODI2ODM0MzIzNjUwODk3NztcbnZhciBkYXR1bSA9IGZ1bmN0aW9uKHByb2opIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGRhdHVtKSkge1xuICAgIHJldHVybiBuZXcgZGF0dW0ocHJvaik7XG4gIH1cbiAgdGhpcy5kYXR1bV90eXBlID0gUEpEX1dHUzg0OyAvL2RlZmF1bHQgc2V0dGluZ1xuICBpZiAoIXByb2opIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHByb2ouZGF0dW1Db2RlICYmIHByb2ouZGF0dW1Db2RlID09PSAnbm9uZScpIHtcbiAgICB0aGlzLmRhdHVtX3R5cGUgPSBQSkRfTk9EQVRVTTtcbiAgfVxuICBpZiAocHJvai5kYXR1bV9wYXJhbXMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb2ouZGF0dW1fcGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwcm9qLmRhdHVtX3BhcmFtc1tpXSA9IHBhcnNlRmxvYXQocHJvai5kYXR1bV9wYXJhbXNbaV0pO1xuICAgIH1cbiAgICBpZiAocHJvai5kYXR1bV9wYXJhbXNbMF0gIT09IDAgfHwgcHJvai5kYXR1bV9wYXJhbXNbMV0gIT09IDAgfHwgcHJvai5kYXR1bV9wYXJhbXNbMl0gIT09IDApIHtcbiAgICAgIHRoaXMuZGF0dW1fdHlwZSA9IFBKRF8zUEFSQU07XG4gICAgfVxuICAgIGlmIChwcm9qLmRhdHVtX3BhcmFtcy5sZW5ndGggPiAzKSB7XG4gICAgICBpZiAocHJvai5kYXR1bV9wYXJhbXNbM10gIT09IDAgfHwgcHJvai5kYXR1bV9wYXJhbXNbNF0gIT09IDAgfHwgcHJvai5kYXR1bV9wYXJhbXNbNV0gIT09IDAgfHwgcHJvai5kYXR1bV9wYXJhbXNbNl0gIT09IDApIHtcbiAgICAgICAgdGhpcy5kYXR1bV90eXBlID0gUEpEXzdQQVJBTTtcbiAgICAgICAgcHJvai5kYXR1bV9wYXJhbXNbM10gKj0gU0VDX1RPX1JBRDtcbiAgICAgICAgcHJvai5kYXR1bV9wYXJhbXNbNF0gKj0gU0VDX1RPX1JBRDtcbiAgICAgICAgcHJvai5kYXR1bV9wYXJhbXNbNV0gKj0gU0VDX1RPX1JBRDtcbiAgICAgICAgcHJvai5kYXR1bV9wYXJhbXNbNl0gPSAocHJvai5kYXR1bV9wYXJhbXNbNl0gLyAxMDAwMDAwLjApICsgMS4wO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBER1IgMjAxMS0wMy0yMSA6IG5hZGdyaWRzIHN1cHBvcnRcbiAgdGhpcy5kYXR1bV90eXBlID0gcHJvai5ncmlkcyA/IFBKRF9HUklEU0hJRlQgOiB0aGlzLmRhdHVtX3R5cGU7XG5cbiAgdGhpcy5hID0gcHJvai5hOyAvL2RhdHVtIG9iamVjdCBhbHNvIHVzZXMgdGhlc2UgdmFsdWVzXG4gIHRoaXMuYiA9IHByb2ouYjtcbiAgdGhpcy5lcyA9IHByb2ouZXM7XG4gIHRoaXMuZXAyID0gcHJvai5lcDI7XG4gIHRoaXMuZGF0dW1fcGFyYW1zID0gcHJvai5kYXR1bV9wYXJhbXM7XG4gIGlmICh0aGlzLmRhdHVtX3R5cGUgPT09IFBKRF9HUklEU0hJRlQpIHtcbiAgICB0aGlzLmdyaWRzID0gcHJvai5ncmlkcztcbiAgfVxufTtcbmRhdHVtLnByb3RvdHlwZSA9IHtcblxuXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAvLyBjc19jb21wYXJlX2RhdHVtcygpXG4gIC8vICAgUmV0dXJucyBUUlVFIGlmIHRoZSB0d28gZGF0dW1zIG1hdGNoLCBvdGhlcndpc2UgRkFMU0UuXG4gIGNvbXBhcmVfZGF0dW1zOiBmdW5jdGlvbihkZXN0KSB7XG4gICAgaWYgKHRoaXMuZGF0dW1fdHlwZSAhPT0gZGVzdC5kYXR1bV90eXBlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7IC8vIGZhbHNlLCBkYXR1bXMgYXJlIG5vdCBlcXVhbFxuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLmEgIT09IGRlc3QuYSB8fCBNYXRoLmFicyh0aGlzLmVzIC0gZGVzdC5lcykgPiAwLjAwMDAwMDAwMDA1MCkge1xuICAgICAgLy8gdGhlIHRvbGVyZW5jZSBmb3IgZXMgaXMgdG8gZW5zdXJlIHRoYXQgR1JTODAgYW5kIFdHUzg0XG4gICAgICAvLyBhcmUgY29uc2lkZXJlZCBpZGVudGljYWxcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5kYXR1bV90eXBlID09PSBQSkRfM1BBUkFNKSB7XG4gICAgICByZXR1cm4gKHRoaXMuZGF0dW1fcGFyYW1zWzBdID09PSBkZXN0LmRhdHVtX3BhcmFtc1swXSAmJiB0aGlzLmRhdHVtX3BhcmFtc1sxXSA9PT0gZGVzdC5kYXR1bV9wYXJhbXNbMV0gJiYgdGhpcy5kYXR1bV9wYXJhbXNbMl0gPT09IGRlc3QuZGF0dW1fcGFyYW1zWzJdKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5kYXR1bV90eXBlID09PSBQSkRfN1BBUkFNKSB7XG4gICAgICByZXR1cm4gKHRoaXMuZGF0dW1fcGFyYW1zWzBdID09PSBkZXN0LmRhdHVtX3BhcmFtc1swXSAmJiB0aGlzLmRhdHVtX3BhcmFtc1sxXSA9PT0gZGVzdC5kYXR1bV9wYXJhbXNbMV0gJiYgdGhpcy5kYXR1bV9wYXJhbXNbMl0gPT09IGRlc3QuZGF0dW1fcGFyYW1zWzJdICYmIHRoaXMuZGF0dW1fcGFyYW1zWzNdID09PSBkZXN0LmRhdHVtX3BhcmFtc1szXSAmJiB0aGlzLmRhdHVtX3BhcmFtc1s0XSA9PT0gZGVzdC5kYXR1bV9wYXJhbXNbNF0gJiYgdGhpcy5kYXR1bV9wYXJhbXNbNV0gPT09IGRlc3QuZGF0dW1fcGFyYW1zWzVdICYmIHRoaXMuZGF0dW1fcGFyYW1zWzZdID09PSBkZXN0LmRhdHVtX3BhcmFtc1s2XSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMuZGF0dW1fdHlwZSA9PT0gUEpEX0dSSURTSElGVCB8fCBkZXN0LmRhdHVtX3R5cGUgPT09IFBKRF9HUklEU0hJRlQpIHtcbiAgICAgIC8vYWxlcnQoXCJFUlJPUjogR3JpZCBzaGlmdCB0cmFuc2Zvcm1hdGlvbnMgYXJlIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgICAvL3JldHVybiBmYWxzZVxuICAgICAgLy9ER1IgMjAxMi0wNy0yOSBsYXp5IC4uLlxuICAgICAgcmV0dXJuIHRoaXMubmFkZ3JpZHMgPT09IGRlc3QubmFkZ3JpZHM7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7IC8vIGRhdHVtcyBhcmUgZXF1YWxcbiAgICB9XG4gIH0sIC8vIGNzX2NvbXBhcmVfZGF0dW1zKClcblxuICAvKlxuICAgKiBUaGUgZnVuY3Rpb24gQ29udmVydF9HZW9kZXRpY19Ub19HZW9jZW50cmljIGNvbnZlcnRzIGdlb2RldGljIGNvb3JkaW5hdGVzXG4gICAqIChsYXRpdHVkZSwgbG9uZ2l0dWRlLCBhbmQgaGVpZ2h0KSB0byBnZW9jZW50cmljIGNvb3JkaW5hdGVzIChYLCBZLCBaKSxcbiAgICogYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IGVsbGlwc29pZCBwYXJhbWV0ZXJzLlxuICAgKlxuICAgKiAgICBMYXRpdHVkZSAgOiBHZW9kZXRpYyBsYXRpdHVkZSBpbiByYWRpYW5zICAgICAgICAgICAgICAgICAgICAgKGlucHV0KVxuICAgKiAgICBMb25naXR1ZGUgOiBHZW9kZXRpYyBsb25naXR1ZGUgaW4gcmFkaWFucyAgICAgICAgICAgICAgICAgICAgKGlucHV0KVxuICAgKiAgICBIZWlnaHQgICAgOiBHZW9kZXRpYyBoZWlnaHQsIGluIG1ldGVycyAgICAgICAgICAgICAgICAgICAgICAgKGlucHV0KVxuICAgKiAgICBYICAgICAgICAgOiBDYWxjdWxhdGVkIEdlb2NlbnRyaWMgWCBjb29yZGluYXRlLCBpbiBtZXRlcnMgICAgKG91dHB1dClcbiAgICogICAgWSAgICAgICAgIDogQ2FsY3VsYXRlZCBHZW9jZW50cmljIFkgY29vcmRpbmF0ZSwgaW4gbWV0ZXJzICAgIChvdXRwdXQpXG4gICAqICAgIFogICAgICAgICA6IENhbGN1bGF0ZWQgR2VvY2VudHJpYyBaIGNvb3JkaW5hdGUsIGluIG1ldGVycyAgICAob3V0cHV0KVxuICAgKlxuICAgKi9cbiAgZ2VvZGV0aWNfdG9fZ2VvY2VudHJpYzogZnVuY3Rpb24ocCkge1xuICAgIHZhciBMb25naXR1ZGUgPSBwLng7XG4gICAgdmFyIExhdGl0dWRlID0gcC55O1xuICAgIHZhciBIZWlnaHQgPSBwLnogPyBwLnogOiAwOyAvL1ogdmFsdWUgbm90IGFsd2F5cyBzdXBwbGllZFxuICAgIHZhciBYOyAvLyBvdXRwdXRcbiAgICB2YXIgWTtcbiAgICB2YXIgWjtcblxuICAgIHZhciBFcnJvcl9Db2RlID0gMDsgLy8gIEdFT0NFTlRfTk9fRVJST1I7XG4gICAgdmFyIFJuOyAvKiAgRWFydGggcmFkaXVzIGF0IGxvY2F0aW9uICAqL1xuICAgIHZhciBTaW5fTGF0OyAvKiAgTWF0aC5zaW4oTGF0aXR1ZGUpICAqL1xuICAgIHZhciBTaW4yX0xhdDsgLyogIFNxdWFyZSBvZiBNYXRoLnNpbihMYXRpdHVkZSkgICovXG4gICAgdmFyIENvc19MYXQ7IC8qICBNYXRoLmNvcyhMYXRpdHVkZSkgICovXG5cbiAgICAvKlxuICAgICAqKiBEb24ndCBibG93IHVwIGlmIExhdGl0dWRlIGlzIGp1c3QgYSBsaXR0bGUgb3V0IG9mIHRoZSB2YWx1ZVxuICAgICAqKiByYW5nZSBhcyBpdCBtYXkganVzdCBiZSBhIHJvdW5kaW5nIGlzc3VlLiAgQWxzbyByZW1vdmVkIGxvbmdpdHVkZVxuICAgICAqKiB0ZXN0LCBpdCBzaG91bGQgYmUgd3JhcHBlZCBieSBNYXRoLmNvcygpIGFuZCBNYXRoLnNpbigpLiAgTkZXIGZvciBQUk9KLjQsIFNlcC8yMDAxLlxuICAgICAqL1xuICAgIGlmIChMYXRpdHVkZSA8IC1IQUxGX1BJICYmIExhdGl0dWRlID4gLTEuMDAxICogSEFMRl9QSSkge1xuICAgICAgTGF0aXR1ZGUgPSAtSEFMRl9QSTtcbiAgICB9XG4gICAgZWxzZSBpZiAoTGF0aXR1ZGUgPiBIQUxGX1BJICYmIExhdGl0dWRlIDwgMS4wMDEgKiBIQUxGX1BJKSB7XG4gICAgICBMYXRpdHVkZSA9IEhBTEZfUEk7XG4gICAgfVxuICAgIGVsc2UgaWYgKChMYXRpdHVkZSA8IC1IQUxGX1BJKSB8fCAoTGF0aXR1ZGUgPiBIQUxGX1BJKSkge1xuICAgICAgLyogTGF0aXR1ZGUgb3V0IG9mIHJhbmdlICovXG4gICAgICAvLy4ucmVwb3J0RXJyb3IoJ2dlb2NlbnQ6bGF0IG91dCBvZiByYW5nZTonICsgTGF0aXR1ZGUpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaWYgKExvbmdpdHVkZSA+IE1hdGguUEkpIHtcbiAgICAgIExvbmdpdHVkZSAtPSAoMiAqIE1hdGguUEkpO1xuICAgIH1cbiAgICBTaW5fTGF0ID0gTWF0aC5zaW4oTGF0aXR1ZGUpO1xuICAgIENvc19MYXQgPSBNYXRoLmNvcyhMYXRpdHVkZSk7XG4gICAgU2luMl9MYXQgPSBTaW5fTGF0ICogU2luX0xhdDtcbiAgICBSbiA9IHRoaXMuYSAvIChNYXRoLnNxcnQoMS4wZTAgLSB0aGlzLmVzICogU2luMl9MYXQpKTtcbiAgICBYID0gKFJuICsgSGVpZ2h0KSAqIENvc19MYXQgKiBNYXRoLmNvcyhMb25naXR1ZGUpO1xuICAgIFkgPSAoUm4gKyBIZWlnaHQpICogQ29zX0xhdCAqIE1hdGguc2luKExvbmdpdHVkZSk7XG4gICAgWiA9ICgoUm4gKiAoMSAtIHRoaXMuZXMpKSArIEhlaWdodCkgKiBTaW5fTGF0O1xuXG4gICAgcC54ID0gWDtcbiAgICBwLnkgPSBZO1xuICAgIHAueiA9IFo7XG4gICAgcmV0dXJuIEVycm9yX0NvZGU7XG4gIH0sIC8vIGNzX2dlb2RldGljX3RvX2dlb2NlbnRyaWMoKVxuXG5cbiAgZ2VvY2VudHJpY190b19nZW9kZXRpYzogZnVuY3Rpb24ocCkge1xuICAgIC8qIGxvY2FsIGRlZmludGlvbnMgYW5kIHZhcmlhYmxlcyAqL1xuICAgIC8qIGVuZC1jcml0ZXJpdW0gb2YgbG9vcCwgYWNjdXJhY3kgb2Ygc2luKExhdGl0dWRlKSAqL1xuICAgIHZhciBnZW5hdSA9IDFlLTEyO1xuICAgIHZhciBnZW5hdTIgPSAoZ2VuYXUgKiBnZW5hdSk7XG4gICAgdmFyIG1heGl0ZXIgPSAzMDtcblxuICAgIHZhciBQOyAvKiBkaXN0YW5jZSBiZXR3ZWVuIHNlbWktbWlub3IgYXhpcyBhbmQgbG9jYXRpb24gKi9cbiAgICB2YXIgUlI7IC8qIGRpc3RhbmNlIGJldHdlZW4gY2VudGVyIGFuZCBsb2NhdGlvbiAqL1xuICAgIHZhciBDVDsgLyogc2luIG9mIGdlb2NlbnRyaWMgbGF0aXR1ZGUgKi9cbiAgICB2YXIgU1Q7IC8qIGNvcyBvZiBnZW9jZW50cmljIGxhdGl0dWRlICovXG4gICAgdmFyIFJYO1xuICAgIHZhciBSSztcbiAgICB2YXIgUk47IC8qIEVhcnRoIHJhZGl1cyBhdCBsb2NhdGlvbiAqL1xuICAgIHZhciBDUEhJMDsgLyogY29zIG9mIHN0YXJ0IG9yIG9sZCBnZW9kZXRpYyBsYXRpdHVkZSBpbiBpdGVyYXRpb25zICovXG4gICAgdmFyIFNQSEkwOyAvKiBzaW4gb2Ygc3RhcnQgb3Igb2xkIGdlb2RldGljIGxhdGl0dWRlIGluIGl0ZXJhdGlvbnMgKi9cbiAgICB2YXIgQ1BISTsgLyogY29zIG9mIHNlYXJjaGVkIGdlb2RldGljIGxhdGl0dWRlICovXG4gICAgdmFyIFNQSEk7IC8qIHNpbiBvZiBzZWFyY2hlZCBnZW9kZXRpYyBsYXRpdHVkZSAqL1xuICAgIHZhciBTRFBISTsgLyogZW5kLWNyaXRlcml1bTogYWRkaXRpb24tdGhlb3JlbSBvZiBzaW4oTGF0aXR1ZGUoaXRlciktTGF0aXR1ZGUoaXRlci0xKSkgKi9cbiAgICB2YXIgQXRfUG9sZTsgLyogaW5kaWNhdGVzIGxvY2F0aW9uIGlzIGluIHBvbGFyIHJlZ2lvbiAqL1xuICAgIHZhciBpdGVyOyAvKiAjIG9mIGNvbnRpbm91cyBpdGVyYXRpb24sIG1heC4gMzAgaXMgYWx3YXlzIGVub3VnaCAocy5hLikgKi9cblxuICAgIHZhciBYID0gcC54O1xuICAgIHZhciBZID0gcC55O1xuICAgIHZhciBaID0gcC56ID8gcC56IDogMC4wOyAvL1ogdmFsdWUgbm90IGFsd2F5cyBzdXBwbGllZFxuICAgIHZhciBMb25naXR1ZGU7XG4gICAgdmFyIExhdGl0dWRlO1xuICAgIHZhciBIZWlnaHQ7XG5cbiAgICBBdF9Qb2xlID0gZmFsc2U7XG4gICAgUCA9IE1hdGguc3FydChYICogWCArIFkgKiBZKTtcbiAgICBSUiA9IE1hdGguc3FydChYICogWCArIFkgKiBZICsgWiAqIFopO1xuXG4gICAgLyogICAgICBzcGVjaWFsIGNhc2VzIGZvciBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlICovXG4gICAgaWYgKFAgLyB0aGlzLmEgPCBnZW5hdSkge1xuXG4gICAgICAvKiAgc3BlY2lhbCBjYXNlLCBpZiBQPTAuIChYPTAuLCBZPTAuKSAqL1xuICAgICAgQXRfUG9sZSA9IHRydWU7XG4gICAgICBMb25naXR1ZGUgPSAwLjA7XG5cbiAgICAgIC8qICBpZiAoWCxZLFopPSgwLiwwLiwwLikgdGhlbiBIZWlnaHQgYmVjb21lcyBzZW1pLW1pbm9yIGF4aXNcbiAgICAgICAqICBvZiBlbGxpcHNvaWQgKD1jZW50ZXIgb2YgbWFzcyksIExhdGl0dWRlIGJlY29tZXMgUEkvMiAqL1xuICAgICAgaWYgKFJSIC8gdGhpcy5hIDwgZ2VuYXUpIHtcbiAgICAgICAgTGF0aXR1ZGUgPSBIQUxGX1BJO1xuICAgICAgICBIZWlnaHQgPSAtdGhpcy5iO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLyogIGVsbGlwc29pZGFsIChnZW9kZXRpYykgbG9uZ2l0dWRlXG4gICAgICAgKiAgaW50ZXJ2YWw6IC1QSSA8IExvbmdpdHVkZSA8PSArUEkgKi9cbiAgICAgIExvbmdpdHVkZSA9IE1hdGguYXRhbjIoWSwgWCk7XG4gICAgfVxuXG4gICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgKiBGb2xsb3dpbmcgaXRlcmF0aXZlIGFsZ29yaXRobSB3YXMgZGV2ZWxvcHBlZCBieVxuICAgICAqIFwiSW5zdGl0dXQgZm9yIEVyZG1lc3N1bmdcIiwgVW5pdmVyc2l0eSBvZiBIYW5ub3ZlciwgSnVseSAxOTg4LlxuICAgICAqIEludGVybmV0OiB3d3cuaWZlLnVuaS1oYW5ub3Zlci5kZVxuICAgICAqIEl0ZXJhdGl2ZSBjb21wdXRhdGlvbiBvZiBDUEhJLFNQSEkgYW5kIEhlaWdodC5cbiAgICAgKiBJdGVyYXRpb24gb2YgQ1BISSBhbmQgU1BISSB0byAxMCoqLTEyIHJhZGlhbiByZXNwLlxuICAgICAqIDIqMTAqKi03IGFyY3NlYy5cbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAqL1xuICAgIENUID0gWiAvIFJSO1xuICAgIFNUID0gUCAvIFJSO1xuICAgIFJYID0gMS4wIC8gTWF0aC5zcXJ0KDEuMCAtIHRoaXMuZXMgKiAoMi4wIC0gdGhpcy5lcykgKiBTVCAqIFNUKTtcbiAgICBDUEhJMCA9IFNUICogKDEuMCAtIHRoaXMuZXMpICogUlg7XG4gICAgU1BISTAgPSBDVCAqIFJYO1xuICAgIGl0ZXIgPSAwO1xuXG4gICAgLyogbG9vcCB0byBmaW5kIHNpbihMYXRpdHVkZSkgcmVzcC4gTGF0aXR1ZGVcbiAgICAgKiB1bnRpbCB8c2luKExhdGl0dWRlKGl0ZXIpLUxhdGl0dWRlKGl0ZXItMSkpfCA8IGdlbmF1ICovXG4gICAgZG8ge1xuICAgICAgaXRlcisrO1xuICAgICAgUk4gPSB0aGlzLmEgLyBNYXRoLnNxcnQoMS4wIC0gdGhpcy5lcyAqIFNQSEkwICogU1BISTApO1xuXG4gICAgICAvKiAgZWxsaXBzb2lkYWwgKGdlb2RldGljKSBoZWlnaHQgKi9cbiAgICAgIEhlaWdodCA9IFAgKiBDUEhJMCArIFogKiBTUEhJMCAtIFJOICogKDEuMCAtIHRoaXMuZXMgKiBTUEhJMCAqIFNQSEkwKTtcblxuICAgICAgUksgPSB0aGlzLmVzICogUk4gLyAoUk4gKyBIZWlnaHQpO1xuICAgICAgUlggPSAxLjAgLyBNYXRoLnNxcnQoMS4wIC0gUksgKiAoMi4wIC0gUkspICogU1QgKiBTVCk7XG4gICAgICBDUEhJID0gU1QgKiAoMS4wIC0gUkspICogUlg7XG4gICAgICBTUEhJID0gQ1QgKiBSWDtcbiAgICAgIFNEUEhJID0gU1BISSAqIENQSEkwIC0gQ1BISSAqIFNQSEkwO1xuICAgICAgQ1BISTAgPSBDUEhJO1xuICAgICAgU1BISTAgPSBTUEhJO1xuICAgIH1cbiAgICB3aGlsZSAoU0RQSEkgKiBTRFBISSA+IGdlbmF1MiAmJiBpdGVyIDwgbWF4aXRlcik7XG5cbiAgICAvKiAgICAgIGVsbGlwc29pZGFsIChnZW9kZXRpYykgbGF0aXR1ZGUgKi9cbiAgICBMYXRpdHVkZSA9IE1hdGguYXRhbihTUEhJIC8gTWF0aC5hYnMoQ1BISSkpO1xuXG4gICAgcC54ID0gTG9uZ2l0dWRlO1xuICAgIHAueSA9IExhdGl0dWRlO1xuICAgIHAueiA9IEhlaWdodDtcbiAgICByZXR1cm4gcDtcbiAgfSwgLy8gY3NfZ2VvY2VudHJpY190b19nZW9kZXRpYygpXG5cbiAgLyoqIENvbnZlcnRfR2VvY2VudHJpY19Ub19HZW9kZXRpY1xuICAgKiBUaGUgbWV0aG9kIHVzZWQgaGVyZSBpcyBkZXJpdmVkIGZyb20gJ0FuIEltcHJvdmVkIEFsZ29yaXRobSBmb3JcbiAgICogR2VvY2VudHJpYyB0byBHZW9kZXRpYyBDb29yZGluYXRlIENvbnZlcnNpb24nLCBieSBSYWxwaCBUb21zLCBGZWIgMTk5NlxuICAgKi9cbiAgZ2VvY2VudHJpY190b19nZW9kZXRpY19ub25pdGVyOiBmdW5jdGlvbihwKSB7XG4gICAgdmFyIFggPSBwLng7XG4gICAgdmFyIFkgPSBwLnk7XG4gICAgdmFyIFogPSBwLnogPyBwLnogOiAwOyAvL1ogdmFsdWUgbm90IGFsd2F5cyBzdXBwbGllZFxuICAgIHZhciBMb25naXR1ZGU7XG4gICAgdmFyIExhdGl0dWRlO1xuICAgIHZhciBIZWlnaHQ7XG5cbiAgICB2YXIgVzsgLyogZGlzdGFuY2UgZnJvbSBaIGF4aXMgKi9cbiAgICB2YXIgVzI7IC8qIHNxdWFyZSBvZiBkaXN0YW5jZSBmcm9tIFogYXhpcyAqL1xuICAgIHZhciBUMDsgLyogaW5pdGlhbCBlc3RpbWF0ZSBvZiB2ZXJ0aWNhbCBjb21wb25lbnQgKi9cbiAgICB2YXIgVDE7IC8qIGNvcnJlY3RlZCBlc3RpbWF0ZSBvZiB2ZXJ0aWNhbCBjb21wb25lbnQgKi9cbiAgICB2YXIgUzA7IC8qIGluaXRpYWwgZXN0aW1hdGUgb2YgaG9yaXpvbnRhbCBjb21wb25lbnQgKi9cbiAgICB2YXIgUzE7IC8qIGNvcnJlY3RlZCBlc3RpbWF0ZSBvZiBob3Jpem9udGFsIGNvbXBvbmVudCAqL1xuICAgIHZhciBTaW5fQjA7IC8qIE1hdGguc2luKEIwKSwgQjAgaXMgZXN0aW1hdGUgb2YgQm93cmluZyBhdXggdmFyaWFibGUgKi9cbiAgICB2YXIgU2luM19CMDsgLyogY3ViZSBvZiBNYXRoLnNpbihCMCkgKi9cbiAgICB2YXIgQ29zX0IwOyAvKiBNYXRoLmNvcyhCMCkgKi9cbiAgICB2YXIgU2luX3AxOyAvKiBNYXRoLnNpbihwaGkxKSwgcGhpMSBpcyBlc3RpbWF0ZWQgbGF0aXR1ZGUgKi9cbiAgICB2YXIgQ29zX3AxOyAvKiBNYXRoLmNvcyhwaGkxKSAqL1xuICAgIHZhciBSbjsgLyogRWFydGggcmFkaXVzIGF0IGxvY2F0aW9uICovXG4gICAgdmFyIFN1bTsgLyogbnVtZXJhdG9yIG9mIE1hdGguY29zKHBoaTEpICovXG4gICAgdmFyIEF0X1BvbGU7IC8qIGluZGljYXRlcyBsb2NhdGlvbiBpcyBpbiBwb2xhciByZWdpb24gKi9cblxuICAgIFggPSBwYXJzZUZsb2F0KFgpOyAvLyBjYXN0IGZyb20gc3RyaW5nIHRvIGZsb2F0XG4gICAgWSA9IHBhcnNlRmxvYXQoWSk7XG4gICAgWiA9IHBhcnNlRmxvYXQoWik7XG5cbiAgICBBdF9Qb2xlID0gZmFsc2U7XG4gICAgaWYgKFggIT09IDAuMCkge1xuICAgICAgTG9uZ2l0dWRlID0gTWF0aC5hdGFuMihZLCBYKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAoWSA+IDApIHtcbiAgICAgICAgTG9uZ2l0dWRlID0gSEFMRl9QSTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKFkgPCAwKSB7XG4gICAgICAgIExvbmdpdHVkZSA9IC1IQUxGX1BJO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIEF0X1BvbGUgPSB0cnVlO1xuICAgICAgICBMb25naXR1ZGUgPSAwLjA7XG4gICAgICAgIGlmIChaID4gMC4wKSB7IC8qIG5vcnRoIHBvbGUgKi9cbiAgICAgICAgICBMYXRpdHVkZSA9IEhBTEZfUEk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoWiA8IDAuMCkgeyAvKiBzb3V0aCBwb2xlICovXG4gICAgICAgICAgTGF0aXR1ZGUgPSAtSEFMRl9QSTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHsgLyogY2VudGVyIG9mIGVhcnRoICovXG4gICAgICAgICAgTGF0aXR1ZGUgPSBIQUxGX1BJO1xuICAgICAgICAgIEhlaWdodCA9IC10aGlzLmI7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFcyID0gWCAqIFggKyBZICogWTtcbiAgICBXID0gTWF0aC5zcXJ0KFcyKTtcbiAgICBUMCA9IFogKiBBRF9DO1xuICAgIFMwID0gTWF0aC5zcXJ0KFQwICogVDAgKyBXMik7XG4gICAgU2luX0IwID0gVDAgLyBTMDtcbiAgICBDb3NfQjAgPSBXIC8gUzA7XG4gICAgU2luM19CMCA9IFNpbl9CMCAqIFNpbl9CMCAqIFNpbl9CMDtcbiAgICBUMSA9IFogKyB0aGlzLmIgKiB0aGlzLmVwMiAqIFNpbjNfQjA7XG4gICAgU3VtID0gVyAtIHRoaXMuYSAqIHRoaXMuZXMgKiBDb3NfQjAgKiBDb3NfQjAgKiBDb3NfQjA7XG4gICAgUzEgPSBNYXRoLnNxcnQoVDEgKiBUMSArIFN1bSAqIFN1bSk7XG4gICAgU2luX3AxID0gVDEgLyBTMTtcbiAgICBDb3NfcDEgPSBTdW0gLyBTMTtcbiAgICBSbiA9IHRoaXMuYSAvIE1hdGguc3FydCgxLjAgLSB0aGlzLmVzICogU2luX3AxICogU2luX3AxKTtcbiAgICBpZiAoQ29zX3AxID49IENPU182N1A1KSB7XG4gICAgICBIZWlnaHQgPSBXIC8gQ29zX3AxIC0gUm47XG4gICAgfVxuICAgIGVsc2UgaWYgKENvc19wMSA8PSAtQ09TXzY3UDUpIHtcbiAgICAgIEhlaWdodCA9IFcgLyAtQ29zX3AxIC0gUm47XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgSGVpZ2h0ID0gWiAvIFNpbl9wMSArIFJuICogKHRoaXMuZXMgLSAxLjApO1xuICAgIH1cbiAgICBpZiAoQXRfUG9sZSA9PT0gZmFsc2UpIHtcbiAgICAgIExhdGl0dWRlID0gTWF0aC5hdGFuKFNpbl9wMSAvIENvc19wMSk7XG4gICAgfVxuXG4gICAgcC54ID0gTG9uZ2l0dWRlO1xuICAgIHAueSA9IExhdGl0dWRlO1xuICAgIHAueiA9IEhlaWdodDtcbiAgICByZXR1cm4gcDtcbiAgfSwgLy8gZ2VvY2VudHJpY190b19nZW9kZXRpY19ub25pdGVyKClcblxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgLy8gcGpfZ2VvY2VudGljX3RvX3dnczg0KCBwIClcbiAgLy8gIHAgPSBwb2ludCB0byB0cmFuc2Zvcm0gaW4gZ2VvY2VudHJpYyBjb29yZGluYXRlcyAoeCx5LHopXG4gIGdlb2NlbnRyaWNfdG9fd2dzODQ6IGZ1bmN0aW9uKHApIHtcblxuICAgIGlmICh0aGlzLmRhdHVtX3R5cGUgPT09IFBKRF8zUEFSQU0pIHtcbiAgICAgIC8vIGlmKCB4W2lvXSA9PT0gSFVHRV9WQUwgKVxuICAgICAgLy8gICAgY29udGludWU7XG4gICAgICBwLnggKz0gdGhpcy5kYXR1bV9wYXJhbXNbMF07XG4gICAgICBwLnkgKz0gdGhpcy5kYXR1bV9wYXJhbXNbMV07XG4gICAgICBwLnogKz0gdGhpcy5kYXR1bV9wYXJhbXNbMl07XG5cbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5kYXR1bV90eXBlID09PSBQSkRfN1BBUkFNKSB7XG4gICAgICB2YXIgRHhfQkYgPSB0aGlzLmRhdHVtX3BhcmFtc1swXTtcbiAgICAgIHZhciBEeV9CRiA9IHRoaXMuZGF0dW1fcGFyYW1zWzFdO1xuICAgICAgdmFyIER6X0JGID0gdGhpcy5kYXR1bV9wYXJhbXNbMl07XG4gICAgICB2YXIgUnhfQkYgPSB0aGlzLmRhdHVtX3BhcmFtc1szXTtcbiAgICAgIHZhciBSeV9CRiA9IHRoaXMuZGF0dW1fcGFyYW1zWzRdO1xuICAgICAgdmFyIFJ6X0JGID0gdGhpcy5kYXR1bV9wYXJhbXNbNV07XG4gICAgICB2YXIgTV9CRiA9IHRoaXMuZGF0dW1fcGFyYW1zWzZdO1xuICAgICAgLy8gaWYoIHhbaW9dID09PSBIVUdFX1ZBTCApXG4gICAgICAvLyAgICBjb250aW51ZTtcbiAgICAgIHZhciB4X291dCA9IE1fQkYgKiAocC54IC0gUnpfQkYgKiBwLnkgKyBSeV9CRiAqIHAueikgKyBEeF9CRjtcbiAgICAgIHZhciB5X291dCA9IE1fQkYgKiAoUnpfQkYgKiBwLnggKyBwLnkgLSBSeF9CRiAqIHAueikgKyBEeV9CRjtcbiAgICAgIHZhciB6X291dCA9IE1fQkYgKiAoLVJ5X0JGICogcC54ICsgUnhfQkYgKiBwLnkgKyBwLnopICsgRHpfQkY7XG4gICAgICBwLnggPSB4X291dDtcbiAgICAgIHAueSA9IHlfb3V0O1xuICAgICAgcC56ID0gel9vdXQ7XG4gICAgfVxuICB9LCAvLyBjc19nZW9jZW50cmljX3RvX3dnczg0XG5cbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIC8vIHBqX2dlb2NlbnRpY19mcm9tX3dnczg0KClcbiAgLy8gIGNvb3JkaW5hdGUgc3lzdGVtIGRlZmluaXRpb24sXG4gIC8vICBwb2ludCB0byB0cmFuc2Zvcm0gaW4gZ2VvY2VudHJpYyBjb29yZGluYXRlcyAoeCx5LHopXG4gIGdlb2NlbnRyaWNfZnJvbV93Z3M4NDogZnVuY3Rpb24ocCkge1xuXG4gICAgaWYgKHRoaXMuZGF0dW1fdHlwZSA9PT0gUEpEXzNQQVJBTSkge1xuICAgICAgLy9pZiggeFtpb10gPT09IEhVR0VfVkFMIClcbiAgICAgIC8vICAgIGNvbnRpbnVlO1xuICAgICAgcC54IC09IHRoaXMuZGF0dW1fcGFyYW1zWzBdO1xuICAgICAgcC55IC09IHRoaXMuZGF0dW1fcGFyYW1zWzFdO1xuICAgICAgcC56IC09IHRoaXMuZGF0dW1fcGFyYW1zWzJdO1xuXG4gICAgfVxuICAgIGVsc2UgaWYgKHRoaXMuZGF0dW1fdHlwZSA9PT0gUEpEXzdQQVJBTSkge1xuICAgICAgdmFyIER4X0JGID0gdGhpcy5kYXR1bV9wYXJhbXNbMF07XG4gICAgICB2YXIgRHlfQkYgPSB0aGlzLmRhdHVtX3BhcmFtc1sxXTtcbiAgICAgIHZhciBEel9CRiA9IHRoaXMuZGF0dW1fcGFyYW1zWzJdO1xuICAgICAgdmFyIFJ4X0JGID0gdGhpcy5kYXR1bV9wYXJhbXNbM107XG4gICAgICB2YXIgUnlfQkYgPSB0aGlzLmRhdHVtX3BhcmFtc1s0XTtcbiAgICAgIHZhciBSel9CRiA9IHRoaXMuZGF0dW1fcGFyYW1zWzVdO1xuICAgICAgdmFyIE1fQkYgPSB0aGlzLmRhdHVtX3BhcmFtc1s2XTtcbiAgICAgIHZhciB4X3RtcCA9IChwLnggLSBEeF9CRikgLyBNX0JGO1xuICAgICAgdmFyIHlfdG1wID0gKHAueSAtIER5X0JGKSAvIE1fQkY7XG4gICAgICB2YXIgel90bXAgPSAocC56IC0gRHpfQkYpIC8gTV9CRjtcbiAgICAgIC8vaWYoIHhbaW9dID09PSBIVUdFX1ZBTCApXG4gICAgICAvLyAgICBjb250aW51ZTtcblxuICAgICAgcC54ID0geF90bXAgKyBSel9CRiAqIHlfdG1wIC0gUnlfQkYgKiB6X3RtcDtcbiAgICAgIHAueSA9IC1Sel9CRiAqIHhfdG1wICsgeV90bXAgKyBSeF9CRiAqIHpfdG1wO1xuICAgICAgcC56ID0gUnlfQkYgKiB4X3RtcCAtIFJ4X0JGICogeV90bXAgKyB6X3RtcDtcbiAgICB9IC8vY3NfZ2VvY2VudHJpY19mcm9tX3dnczg0KClcbiAgfVxufTtcblxuLyoqIHBvaW50IG9iamVjdCwgbm90aGluZyBmYW5jeSwganVzdCBhbGxvd3MgdmFsdWVzIHRvIGJlXG4gICAgcGFzc2VkIGJhY2sgYW5kIGZvcnRoIGJ5IHJlZmVyZW5jZSByYXRoZXIgdGhhbiBieSB2YWx1ZS5cbiAgICBPdGhlciBwb2ludCBjbGFzc2VzIG1heSBiZSB1c2VkIGFzIGxvbmcgYXMgdGhleSBoYXZlXG4gICAgeCBhbmQgeSBwcm9wZXJ0aWVzLCB3aGljaCB3aWxsIGdldCBtb2RpZmllZCBpbiB0aGUgdHJhbnNmb3JtIG1ldGhvZC5cbiovXG5tb2R1bGUuZXhwb3J0cyA9IGRhdHVtO1xuIiwidmFyIFBKRF8zUEFSQU0gPSAxO1xudmFyIFBKRF83UEFSQU0gPSAyO1xudmFyIFBKRF9HUklEU0hJRlQgPSAzO1xudmFyIFBKRF9OT0RBVFVNID0gNTsgLy8gV0dTODQgb3IgZXF1aXZhbGVudFxudmFyIFNSU19XR1M4NF9TRU1JTUFKT1IgPSA2Mzc4MTM3OyAvLyBvbmx5IHVzZWQgaW4gZ3JpZCBzaGlmdCB0cmFuc2Zvcm1zXG52YXIgU1JTX1dHUzg0X0VTUVVBUkVEID0gMC4wMDY2OTQzNzk5OTAxNDEzMTY7IC8vREdSOiAyMDEyLTA3LTI5XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHNvdXJjZSwgZGVzdCwgcG9pbnQpIHtcbiAgdmFyIHdwLCBpLCBsO1xuXG4gIGZ1bmN0aW9uIGNoZWNrUGFyYW1zKGZhbGxiYWNrKSB7XG4gICAgcmV0dXJuIChmYWxsYmFjayA9PT0gUEpEXzNQQVJBTSB8fCBmYWxsYmFjayA9PT0gUEpEXzdQQVJBTSk7XG4gIH1cbiAgLy8gU2hvcnQgY3V0IGlmIHRoZSBkYXR1bXMgYXJlIGlkZW50aWNhbC5cbiAgaWYgKHNvdXJjZS5jb21wYXJlX2RhdHVtcyhkZXN0KSkge1xuICAgIHJldHVybiBwb2ludDsgLy8gaW4gdGhpcyBjYXNlLCB6ZXJvIGlzIHN1Y2VzcyxcbiAgICAvLyB3aGVyZWFzIGNzX2NvbXBhcmVfZGF0dW1zIHJldHVybnMgMSB0byBpbmRpY2F0ZSBUUlVFXG4gICAgLy8gY29uZnVzaW5nLCBzaG91bGQgZml4IHRoaXNcbiAgfVxuXG4gIC8vIEV4cGxpY2l0bHkgc2tpcCBkYXR1bSB0cmFuc2Zvcm0gYnkgc2V0dGluZyAnZGF0dW09bm9uZScgYXMgcGFyYW1ldGVyIGZvciBlaXRoZXIgc291cmNlIG9yIGRlc3RcbiAgaWYgKHNvdXJjZS5kYXR1bV90eXBlID09PSBQSkRfTk9EQVRVTSB8fCBkZXN0LmRhdHVtX3R5cGUgPT09IFBKRF9OT0RBVFVNKSB7XG4gICAgcmV0dXJuIHBvaW50O1xuICB9XG5cbiAgLy9ER1I6IDIwMTItMDctMjkgOiBhZGQgbmFkZ3JpZHMgc3VwcG9ydCAoYmVnaW4pXG4gIHZhciBzcmNfYSA9IHNvdXJjZS5hO1xuICB2YXIgc3JjX2VzID0gc291cmNlLmVzO1xuXG4gIHZhciBkc3RfYSA9IGRlc3QuYTtcbiAgdmFyIGRzdF9lcyA9IGRlc3QuZXM7XG5cbiAgdmFyIGZhbGxiYWNrID0gc291cmNlLmRhdHVtX3R5cGU7XG4gIC8vIElmIHRoaXMgZGF0dW0gcmVxdWlyZXMgZ3JpZCBzaGlmdHMsIHRoZW4gYXBwbHkgaXQgdG8gZ2VvZGV0aWMgY29vcmRpbmF0ZXMuXG4gIGlmIChmYWxsYmFjayA9PT0gUEpEX0dSSURTSElGVCkge1xuICAgIGlmICh0aGlzLmFwcGx5X2dyaWRzaGlmdChzb3VyY2UsIDAsIHBvaW50KSA9PT0gMCkge1xuICAgICAgc291cmNlLmEgPSBTUlNfV0dTODRfU0VNSU1BSk9SO1xuICAgICAgc291cmNlLmVzID0gU1JTX1dHUzg0X0VTUVVBUkVEO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIHRyeSAzIG9yIDcgcGFyYW1zIHRyYW5zZm9ybWF0aW9uIG9yIG5vdGhpbmcgP1xuICAgICAgaWYgKCFzb3VyY2UuZGF0dW1fcGFyYW1zKSB7XG4gICAgICAgIHNvdXJjZS5hID0gc3JjX2E7XG4gICAgICAgIHNvdXJjZS5lcyA9IHNvdXJjZS5lcztcbiAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgICAgfVxuICAgICAgd3AgPSAxO1xuICAgICAgZm9yIChpID0gMCwgbCA9IHNvdXJjZS5kYXR1bV9wYXJhbXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHdwICo9IHNvdXJjZS5kYXR1bV9wYXJhbXNbaV07XG4gICAgICB9XG4gICAgICBpZiAod3AgPT09IDApIHtcbiAgICAgICAgc291cmNlLmEgPSBzcmNfYTtcbiAgICAgICAgc291cmNlLmVzID0gc291cmNlLmVzO1xuICAgICAgICByZXR1cm4gcG9pbnQ7XG4gICAgICB9XG4gICAgICBpZiAoc291cmNlLmRhdHVtX3BhcmFtcy5sZW5ndGggPiAzKSB7XG4gICAgICAgIGZhbGxiYWNrID0gUEpEXzdQQVJBTTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBmYWxsYmFjayA9IFBKRF8zUEFSQU07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChkZXN0LmRhdHVtX3R5cGUgPT09IFBKRF9HUklEU0hJRlQpIHtcbiAgICBkZXN0LmEgPSBTUlNfV0dTODRfU0VNSU1BSk9SO1xuICAgIGRlc3QuZXMgPSBTUlNfV0dTODRfRVNRVUFSRUQ7XG4gIH1cbiAgLy8gRG8gd2UgbmVlZCB0byBnbyB0aHJvdWdoIGdlb2NlbnRyaWMgY29vcmRpbmF0ZXM/XG4gIGlmIChzb3VyY2UuZXMgIT09IGRlc3QuZXMgfHwgc291cmNlLmEgIT09IGRlc3QuYSB8fCBjaGVja1BhcmFtcyhmYWxsYmFjaykgfHwgY2hlY2tQYXJhbXMoZGVzdC5kYXR1bV90eXBlKSkge1xuICAgIC8vREdSOiAyMDEyLTA3LTI5IDogYWRkIG5hZGdyaWRzIHN1cHBvcnQgKGVuZClcbiAgICAvLyBDb252ZXJ0IHRvIGdlb2NlbnRyaWMgY29vcmRpbmF0ZXMuXG4gICAgc291cmNlLmdlb2RldGljX3RvX2dlb2NlbnRyaWMocG9pbnQpO1xuICAgIC8vIENIRUNLX1JFVFVSTjtcbiAgICAvLyBDb252ZXJ0IGJldHdlZW4gZGF0dW1zXG4gICAgaWYgKGNoZWNrUGFyYW1zKHNvdXJjZS5kYXR1bV90eXBlKSkge1xuICAgICAgc291cmNlLmdlb2NlbnRyaWNfdG9fd2dzODQocG9pbnQpO1xuICAgICAgLy8gQ0hFQ0tfUkVUVVJOO1xuICAgIH1cbiAgICBpZiAoY2hlY2tQYXJhbXMoZGVzdC5kYXR1bV90eXBlKSkge1xuICAgICAgZGVzdC5nZW9jZW50cmljX2Zyb21fd2dzODQocG9pbnQpO1xuICAgICAgLy8gQ0hFQ0tfUkVUVVJOO1xuICAgIH1cbiAgICAvLyBDb252ZXJ0IGJhY2sgdG8gZ2VvZGV0aWMgY29vcmRpbmF0ZXNcbiAgICBkZXN0Lmdlb2NlbnRyaWNfdG9fZ2VvZGV0aWMocG9pbnQpO1xuICAgIC8vIENIRUNLX1JFVFVSTjtcbiAgfVxuICAvLyBBcHBseSBncmlkIHNoaWZ0IHRvIGRlc3RpbmF0aW9uIGlmIHJlcXVpcmVkXG4gIGlmIChkZXN0LmRhdHVtX3R5cGUgPT09IFBKRF9HUklEU0hJRlQpIHtcbiAgICB0aGlzLmFwcGx5X2dyaWRzaGlmdChkZXN0LCAxLCBwb2ludCk7XG4gICAgLy8gQ0hFQ0tfUkVUVVJOO1xuICB9XG5cbiAgc291cmNlLmEgPSBzcmNfYTtcbiAgc291cmNlLmVzID0gc3JjX2VzO1xuICBkZXN0LmEgPSBkc3RfYTtcbiAgZGVzdC5lcyA9IGRzdF9lcztcblxuICByZXR1cm4gcG9pbnQ7XG59O1xuXG4iLCJ2YXIgZ2xvYmFscyA9IHJlcXVpcmUoJy4vZ2xvYmFsJyk7XG52YXIgcGFyc2VQcm9qID0gcmVxdWlyZSgnLi9wcm9qU3RyaW5nJyk7XG52YXIgd2t0ID0gcmVxdWlyZSgnLi93a3QnKTtcblxuZnVuY3Rpb24gZGVmcyhuYW1lKSB7XG4gIC8qZ2xvYmFsIGNvbnNvbGUqL1xuICB2YXIgdGhhdCA9IHRoaXM7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgdmFyIGRlZiA9IGFyZ3VtZW50c1sxXTtcbiAgICBpZiAodHlwZW9mIGRlZiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmIChkZWYuY2hhckF0KDApID09PSAnKycpIHtcbiAgICAgICAgZGVmc1tuYW1lXSA9IHBhcnNlUHJvaihhcmd1bWVudHNbMV0pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGRlZnNbbmFtZV0gPSB3a3QoYXJndW1lbnRzWzFdKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGVmc1tuYW1lXSA9IGRlZjtcbiAgICB9XG4gIH1cbiAgZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWUpKSB7XG4gICAgICByZXR1cm4gbmFtZS5tYXAoZnVuY3Rpb24odikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2KSkge1xuICAgICAgICAgIGRlZnMuYXBwbHkodGhhdCwgdik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVmcyh2KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykge1xuICAgICAgaWYgKG5hbWUgaW4gZGVmcykge1xuICAgICAgICByZXR1cm4gZGVmc1tuYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoJ0VQU0cnIGluIG5hbWUpIHtcbiAgICAgIGRlZnNbJ0VQU0c6JyArIG5hbWUuRVBTR10gPSBuYW1lO1xuICAgIH1cbiAgICBlbHNlIGlmICgnRVNSSScgaW4gbmFtZSkge1xuICAgICAgZGVmc1snRVNSSTonICsgbmFtZS5FU1JJXSA9IG5hbWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKCdJQVUyMDAwJyBpbiBuYW1lKSB7XG4gICAgICBkZWZzWydJQVUyMDAwOicgKyBuYW1lLklBVTIwMDBdID0gbmFtZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhuYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cblxufVxuZ2xvYmFscyhkZWZzKTtcbm1vZHVsZS5leHBvcnRzID0gZGVmcztcbiIsInZhciBEYXR1bSA9IHJlcXVpcmUoJy4vY29uc3RhbnRzL0RhdHVtJyk7XG52YXIgRWxsaXBzb2lkID0gcmVxdWlyZSgnLi9jb25zdGFudHMvRWxsaXBzb2lkJyk7XG52YXIgZXh0ZW5kID0gcmVxdWlyZSgnLi9leHRlbmQnKTtcbnZhciBkYXR1bSA9IHJlcXVpcmUoJy4vZGF0dW0nKTtcbnZhciBFUFNMTiA9IDEuMGUtMTA7XG4vLyBlbGxpcG9pZCBwal9zZXRfZWxsLmNcbnZhciBTSVhUSCA9IDAuMTY2NjY2NjY2NjY2NjY2NjY2Nztcbi8qIDEvNiAqL1xudmFyIFJBNCA9IDAuMDQ3MjIyMjIyMjIyMjIyMjIyMjI7XG4vKiAxNy8zNjAgKi9cbnZhciBSQTYgPSAwLjAyMjE1NjA4NDY1NjA4NDY1NjA4O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihqc29uKSB7XG4gIC8vIERHUiAyMDExLTAzLTIwIDogbmFncmlkcyAtPiBuYWRncmlkc1xuICBpZiAoanNvbi5kYXR1bUNvZGUgJiYganNvbi5kYXR1bUNvZGUgIT09ICdub25lJykge1xuICAgIHZhciBkYXR1bURlZiA9IERhdHVtW2pzb24uZGF0dW1Db2RlXTtcbiAgICBpZiAoZGF0dW1EZWYpIHtcbiAgICAgIGpzb24uZGF0dW1fcGFyYW1zID0gZGF0dW1EZWYudG93Z3M4NCA/IGRhdHVtRGVmLnRvd2dzODQuc3BsaXQoJywnKSA6IG51bGw7XG4gICAgICBqc29uLmVsbHBzID0gZGF0dW1EZWYuZWxsaXBzZTtcbiAgICAgIGpzb24uZGF0dW1OYW1lID0gZGF0dW1EZWYuZGF0dW1OYW1lID8gZGF0dW1EZWYuZGF0dW1OYW1lIDoganNvbi5kYXR1bUNvZGU7XG4gICAgfVxuICB9XG4gIGlmICghanNvbi5hKSB7IC8vIGRvIHdlIGhhdmUgYW4gZWxsaXBzb2lkP1xuICAgIHZhciBlbGxpcHNlID0gRWxsaXBzb2lkW2pzb24uZWxscHNdID8gRWxsaXBzb2lkW2pzb24uZWxscHNdIDogRWxsaXBzb2lkLldHUzg0O1xuICAgIGV4dGVuZChqc29uLCBlbGxpcHNlKTtcbiAgfVxuICBpZiAoanNvbi5yZiAmJiAhanNvbi5iKSB7XG4gICAganNvbi5iID0gKDEuMCAtIDEuMCAvIGpzb24ucmYpICoganNvbi5hO1xuICB9XG4gIGlmIChqc29uLnJmID09PSAwIHx8IE1hdGguYWJzKGpzb24uYSAtIGpzb24uYikgPCBFUFNMTikge1xuICAgIGpzb24uc3BoZXJlID0gdHJ1ZTtcbiAgICBqc29uLmIgPSBqc29uLmE7XG4gIH1cbiAganNvbi5hMiA9IGpzb24uYSAqIGpzb24uYTsgLy8gdXNlZCBpbiBnZW9jZW50cmljXG4gIGpzb24uYjIgPSBqc29uLmIgKiBqc29uLmI7IC8vIHVzZWQgaW4gZ2VvY2VudHJpY1xuICBqc29uLmVzID0gKGpzb24uYTIgLSBqc29uLmIyKSAvIGpzb24uYTI7IC8vIGUgXiAyXG4gIGpzb24uZSA9IE1hdGguc3FydChqc29uLmVzKTsgLy8gZWNjZW50cmljaXR5XG4gIGlmIChqc29uLlJfQSkge1xuICAgIGpzb24uYSAqPSAxIC0ganNvbi5lcyAqIChTSVhUSCArIGpzb24uZXMgKiAoUkE0ICsganNvbi5lcyAqIFJBNikpO1xuICAgIGpzb24uYTIgPSBqc29uLmEgKiBqc29uLmE7XG4gICAganNvbi5iMiA9IGpzb24uYiAqIGpzb24uYjtcbiAgICBqc29uLmVzID0gMDtcbiAgfVxuICBqc29uLmVwMiA9IChqc29uLmEyIC0ganNvbi5iMikgLyBqc29uLmIyOyAvLyB1c2VkIGluIGdlb2NlbnRyaWNcbiAgaWYgKCFqc29uLmswKSB7XG4gICAganNvbi5rMCA9IDEuMDsgLy9kZWZhdWx0IHZhbHVlXG4gIH1cbiAgLy9ER1IgMjAxMC0xMS0xMjogYXhpc1xuICBpZiAoIWpzb24uYXhpcykge1xuICAgIGpzb24uYXhpcyA9IFwiZW51XCI7XG4gIH1cblxuICBpZiAoIWpzb24uZGF0dW0pIHtcbiAgICBqc29uLmRhdHVtID0gZGF0dW0oanNvbik7XG4gIH1cbiAgcmV0dXJuIGpzb247XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihkZXN0aW5hdGlvbiwgc291cmNlKSB7XG4gIGRlc3RpbmF0aW9uID0gZGVzdGluYXRpb24gfHwge307XG4gIHZhciB2YWx1ZSwgcHJvcGVydHk7XG4gIGlmICghc291cmNlKSB7XG4gICAgcmV0dXJuIGRlc3RpbmF0aW9uO1xuICB9XG4gIGZvciAocHJvcGVydHkgaW4gc291cmNlKSB7XG4gICAgdmFsdWUgPSBzb3VyY2VbcHJvcGVydHldO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBkZXN0aW5hdGlvbltwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlc3RpbmF0aW9uO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZGVmcykge1xuICBkZWZzKCdFUFNHOjQzMjYnLCBcIit0aXRsZT1XR1MgODQgKGxvbmcvbGF0KSArcHJvaj1sb25nbGF0ICtlbGxwcz1XR1M4NCArZGF0dW09V0dTODQgK3VuaXRzPWRlZ3JlZXNcIik7XG4gIGRlZnMoJ0VQU0c6NDI2OScsIFwiK3RpdGxlPU5BRDgzIChsb25nL2xhdCkgK3Byb2o9bG9uZ2xhdCArYT02Mzc4MTM3LjAgK2I9NjM1Njc1Mi4zMTQxNDAzNiArZWxscHM9R1JTODAgK2RhdHVtPU5BRDgzICt1bml0cz1kZWdyZWVzXCIpO1xuICBkZWZzKCdFUFNHOjM4NTcnLCBcIit0aXRsZT1XR1MgODQgLyBQc2V1ZG8tTWVyY2F0b3IgK3Byb2o9bWVyYyArYT02Mzc4MTM3ICtiPTYzNzgxMzcgK2xhdF90cz0wLjAgK2xvbl8wPTAuMCAreF8wPTAuMCAreV8wPTAgK2s9MS4wICt1bml0cz1tICtuYWRncmlkcz1AbnVsbCArbm9fZGVmc1wiKTtcblxuICBkZWZzLldHUzg0ID0gZGVmc1snRVBTRzo0MzI2J107XG4gIGRlZnNbJ0VQU0c6Mzc4NSddID0gZGVmc1snRVBTRzozODU3J107IC8vIG1haW50YWluIGJhY2t3YXJkIGNvbXBhdCwgb2ZmaWNpYWwgY29kZSBpcyAzODU3XG4gIGRlZnMuR09PR0xFID0gZGVmc1snRVBTRzozODU3J107XG4gIGRlZnNbJ0VQU0c6OTAwOTEzJ10gPSBkZWZzWydFUFNHOjM4NTcnXTtcbiAgZGVmc1snRVBTRzoxMDIxMTMnXSA9IGRlZnNbJ0VQU0c6Mzg1NyddO1xufTtcbiIsInZhciBwcm9qcyA9IFtcbiAgcmVxdWlyZSgnLi9wcm9qZWN0aW9ucy90bWVyYycpLFxuICByZXF1aXJlKCcuL3Byb2plY3Rpb25zL3V0bScpLFxuICByZXF1aXJlKCcuL3Byb2plY3Rpb25zL3N0ZXJlYScpLFxuICByZXF1aXJlKCcuL3Byb2plY3Rpb25zL3N0ZXJlJyksXG4gIHJlcXVpcmUoJy4vcHJvamVjdGlvbnMvc29tZXJjJyksXG4gIHJlcXVpcmUoJy4vcHJvamVjdGlvbnMvb21lcmMnKSxcbiAgcmVxdWlyZSgnLi9wcm9qZWN0aW9ucy9sY2MnKSxcbiAgcmVxdWlyZSgnLi9wcm9qZWN0aW9ucy9rcm92YWsnKSxcbiAgcmVxdWlyZSgnLi9wcm9qZWN0aW9ucy9jYXNzJyksXG4gIHJlcXVpcmUoJy4vcHJvamVjdGlvbnMvbGFlYScpLFxuICByZXF1aXJlKCcuL3Byb2plY3Rpb25zL2FlYScpLFxuICByZXF1aXJlKCcuL3Byb2plY3Rpb25zL2dub20nKSxcbiAgcmVxdWlyZSgnLi9wcm9qZWN0aW9ucy9jZWEnKSxcbiAgcmVxdWlyZSgnLi9wcm9qZWN0aW9ucy9lcWMnKSxcbiAgcmVxdWlyZSgnLi9wcm9qZWN0aW9ucy9wb2x5JyksXG4gIHJlcXVpcmUoJy4vcHJvamVjdGlvbnMvbnptZycpLFxuICByZXF1aXJlKCcuL3Byb2plY3Rpb25zL21pbGwnKSxcbiAgcmVxdWlyZSgnLi9wcm9qZWN0aW9ucy9zaW51JyksXG4gIHJlcXVpcmUoJy4vcHJvamVjdGlvbnMvbW9sbCcpLFxuICByZXF1aXJlKCcuL3Byb2plY3Rpb25zL2VxZGMnKSxcbiAgcmVxdWlyZSgnLi9wcm9qZWN0aW9ucy92YW5kZycpLFxuICByZXF1aXJlKCcuL3Byb2plY3Rpb25zL2FlcWQnKVxuXTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ocHJvajQpe1xuICBwcm9qcy5mb3JFYWNoKGZ1bmN0aW9uKHByb2ope1xuICAgIHByb2o0LlByb2oucHJvamVjdGlvbnMuYWRkKHByb2opO1xuICB9KTtcbn07IiwidmFyIHByb2o0ID0gcmVxdWlyZSgnLi9jb3JlJyk7XG5wcm9qNC5kZWZhdWx0RGF0dW0gPSAnV0dTODQnOyAvL2RlZmF1bHQgZGF0dW1cbnByb2o0LlByb2ogPSByZXF1aXJlKCcuL1Byb2onKTtcbnByb2o0LldHUzg0ID0gbmV3IHByb2o0LlByb2ooJ1dHUzg0Jyk7XG5wcm9qNC5Qb2ludCA9IHJlcXVpcmUoJy4vUG9pbnQnKTtcbnByb2o0LnRvUG9pbnQgPSByZXF1aXJlKFwiLi9jb21tb24vdG9Qb2ludFwiKTtcbnByb2o0LmRlZnMgPSByZXF1aXJlKCcuL2RlZnMnKTtcbnByb2o0LnRyYW5zZm9ybSA9IHJlcXVpcmUoJy4vdHJhbnNmb3JtJyk7XG5wcm9qNC5tZ3JzID0gcmVxdWlyZSgnbWdycycpO1xucHJvajQudmVyc2lvbiA9IHJlcXVpcmUoJy4uL3BhY2thZ2UuanNvbicpLnZlcnNpb247XG5yZXF1aXJlKCcuL2luY2x1ZGVkUHJvamVjdGlvbnMnKShwcm9qNCk7XG5tb2R1bGUuZXhwb3J0cyA9IHByb2o0OyIsInZhciBkZWZzID0gcmVxdWlyZSgnLi9kZWZzJyk7XG52YXIgd2t0ID0gcmVxdWlyZSgnLi93a3QnKTtcbnZhciBwcm9qU3RyID0gcmVxdWlyZSgnLi9wcm9qU3RyaW5nJyk7XG5mdW5jdGlvbiB0ZXN0T2JqKGNvZGUpe1xuICByZXR1cm4gdHlwZW9mIGNvZGUgPT09ICdzdHJpbmcnO1xufVxuZnVuY3Rpb24gdGVzdERlZihjb2RlKXtcbiAgcmV0dXJuIGNvZGUgaW4gZGVmcztcbn1cbmZ1bmN0aW9uIHRlc3RXS1QoY29kZSl7XG4gIHZhciBjb2RlV29yZHMgPSBbJ0dFT0dDUycsJ0dFT0NDUycsJ1BST0pDUycsJ0xPQ0FMX0NTJ107XG4gIHJldHVybiBjb2RlV29yZHMucmVkdWNlKGZ1bmN0aW9uKGEsYil7XG4gICAgcmV0dXJuIGErMStjb2RlLmluZGV4T2YoYik7XG4gIH0sMCk7XG59XG5mdW5jdGlvbiB0ZXN0UHJvaihjb2RlKXtcbiAgcmV0dXJuIGNvZGVbMF0gPT09ICcrJztcbn1cbmZ1bmN0aW9uIHBhcnNlKGNvZGUpe1xuICBpZiAodGVzdE9iaihjb2RlKSkge1xuICAgIC8vY2hlY2sgdG8gc2VlIGlmIHRoaXMgaXMgYSBXS1Qgc3RyaW5nXG4gICAgaWYgKHRlc3REZWYoY29kZSkpIHtcbiAgICAgIHJldHVybiBkZWZzW2NvZGVdO1xuICAgIH1cbiAgICBlbHNlIGlmICh0ZXN0V0tUKGNvZGUpKSB7XG4gICAgICByZXR1cm4gd2t0KGNvZGUpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0ZXN0UHJvaihjb2RlKSkge1xuICAgICAgcmV0dXJuIHByb2pTdHIoY29kZSk7XG4gICAgfVxuICB9ZWxzZXtcbiAgICByZXR1cm4gY29kZTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHBhcnNlOyIsInZhciBEMlIgPSAwLjAxNzQ1MzI5MjUxOTk0MzI5NTc3O1xudmFyIFByaW1lTWVyaWRpYW4gPSByZXF1aXJlKCcuL2NvbnN0YW50cy9QcmltZU1lcmlkaWFuJyk7XG52YXIgdW5pdHMgPSByZXF1aXJlKCcuL2NvbnN0YW50cy91bml0cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRlZkRhdGEpIHtcbiAgdmFyIHNlbGYgPSB7fTtcbiAgdmFyIHBhcmFtT2JqID0ge307XG4gIGRlZkRhdGEuc3BsaXQoXCIrXCIpLm1hcChmdW5jdGlvbih2KSB7XG4gICAgcmV0dXJuIHYudHJpbSgpO1xuICB9KS5maWx0ZXIoZnVuY3Rpb24oYSkge1xuICAgIHJldHVybiBhO1xuICB9KS5mb3JFYWNoKGZ1bmN0aW9uKGEpIHtcbiAgICB2YXIgc3BsaXQgPSBhLnNwbGl0KFwiPVwiKTtcbiAgICBzcGxpdC5wdXNoKHRydWUpO1xuICAgIHBhcmFtT2JqW3NwbGl0WzBdLnRvTG93ZXJDYXNlKCldID0gc3BsaXRbMV07XG4gIH0pO1xuICB2YXIgcGFyYW1OYW1lLCBwYXJhbVZhbCwgcGFyYW1PdXRuYW1lO1xuICB2YXIgcGFyYW1zID0ge1xuICAgIHByb2o6ICdwcm9qTmFtZScsXG4gICAgZGF0dW06ICdkYXR1bUNvZGUnLFxuICAgIHJmOiBmdW5jdGlvbih2KSB7XG4gICAgICBzZWxmLnJmID0gcGFyc2VGbG9hdCh2KTtcbiAgICB9LFxuICAgIGxhdF8wOiBmdW5jdGlvbih2KSB7XG4gICAgICBzZWxmLmxhdDAgPSB2ICogRDJSO1xuICAgIH0sXG4gICAgbGF0XzE6IGZ1bmN0aW9uKHYpIHtcbiAgICAgIHNlbGYubGF0MSA9IHYgKiBEMlI7XG4gICAgfSxcbiAgICBsYXRfMjogZnVuY3Rpb24odikge1xuICAgICAgc2VsZi5sYXQyID0gdiAqIEQyUjtcbiAgICB9LFxuICAgIGxhdF90czogZnVuY3Rpb24odikge1xuICAgICAgc2VsZi5sYXRfdHMgPSB2ICogRDJSO1xuICAgIH0sXG4gICAgbG9uXzA6IGZ1bmN0aW9uKHYpIHtcbiAgICAgIHNlbGYubG9uZzAgPSB2ICogRDJSO1xuICAgIH0sXG4gICAgbG9uXzE6IGZ1bmN0aW9uKHYpIHtcbiAgICAgIHNlbGYubG9uZzEgPSB2ICogRDJSO1xuICAgIH0sXG4gICAgbG9uXzI6IGZ1bmN0aW9uKHYpIHtcbiAgICAgIHNlbGYubG9uZzIgPSB2ICogRDJSO1xuICAgIH0sXG4gICAgYWxwaGE6IGZ1bmN0aW9uKHYpIHtcbiAgICAgIHNlbGYuYWxwaGEgPSBwYXJzZUZsb2F0KHYpICogRDJSO1xuICAgIH0sXG4gICAgbG9uYzogZnVuY3Rpb24odikge1xuICAgICAgc2VsZi5sb25nYyA9IHYgKiBEMlI7XG4gICAgfSxcbiAgICB4XzA6IGZ1bmN0aW9uKHYpIHtcbiAgICAgIHNlbGYueDAgPSBwYXJzZUZsb2F0KHYpO1xuICAgIH0sXG4gICAgeV8wOiBmdW5jdGlvbih2KSB7XG4gICAgICBzZWxmLnkwID0gcGFyc2VGbG9hdCh2KTtcbiAgICB9LFxuICAgIGtfMDogZnVuY3Rpb24odikge1xuICAgICAgc2VsZi5rMCA9IHBhcnNlRmxvYXQodik7XG4gICAgfSxcbiAgICBrOiBmdW5jdGlvbih2KSB7XG4gICAgICBzZWxmLmswID0gcGFyc2VGbG9hdCh2KTtcbiAgICB9LFxuICAgIGE6IGZ1bmN0aW9uKHYpIHtcbiAgICAgIHNlbGYuYSA9IHBhcnNlRmxvYXQodik7XG4gICAgfSxcbiAgICBiOiBmdW5jdGlvbih2KSB7XG4gICAgICBzZWxmLmIgPSBwYXJzZUZsb2F0KHYpO1xuICAgIH0sXG4gICAgcl9hOiBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYuUl9BID0gdHJ1ZTtcbiAgICB9LFxuICAgIHpvbmU6IGZ1bmN0aW9uKHYpIHtcbiAgICAgIHNlbGYuem9uZSA9IHBhcnNlSW50KHYsIDEwKTtcbiAgICB9LFxuICAgIHNvdXRoOiBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYudXRtU291dGggPSB0cnVlO1xuICAgIH0sXG4gICAgdG93Z3M4NDogZnVuY3Rpb24odikge1xuICAgICAgc2VsZi5kYXR1bV9wYXJhbXMgPSB2LnNwbGl0KFwiLFwiKS5tYXAoZnVuY3Rpb24oYSkge1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChhKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdG9fbWV0ZXI6IGZ1bmN0aW9uKHYpIHtcbiAgICAgIHNlbGYudG9fbWV0ZXIgPSBwYXJzZUZsb2F0KHYpO1xuICAgIH0sXG4gICAgdW5pdHM6IGZ1bmN0aW9uKHYpIHtcbiAgICAgIHNlbGYudW5pdHMgPSB2O1xuICAgICAgaWYgKHVuaXRzW3ZdKSB7XG4gICAgICAgIHNlbGYudG9fbWV0ZXIgPSB1bml0c1t2XS50b19tZXRlcjtcbiAgICAgIH1cbiAgICB9LFxuICAgIGZyb21fZ3JlZW53aWNoOiBmdW5jdGlvbih2KSB7XG4gICAgICBzZWxmLmZyb21fZ3JlZW53aWNoID0gdiAqIEQyUjtcbiAgICB9LFxuICAgIHBtOiBmdW5jdGlvbih2KSB7XG4gICAgICBzZWxmLmZyb21fZ3JlZW53aWNoID0gKFByaW1lTWVyaWRpYW5bdl0gPyBQcmltZU1lcmlkaWFuW3ZdIDogcGFyc2VGbG9hdCh2KSkgKiBEMlI7XG4gICAgfSxcbiAgICBuYWRncmlkczogZnVuY3Rpb24odikge1xuICAgICAgaWYgKHYgPT09ICdAbnVsbCcpIHtcbiAgICAgICAgc2VsZi5kYXR1bUNvZGUgPSAnbm9uZSc7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc2VsZi5uYWRncmlkcyA9IHY7XG4gICAgICB9XG4gICAgfSxcbiAgICBheGlzOiBmdW5jdGlvbih2KSB7XG4gICAgICB2YXIgbGVnYWxBeGlzID0gXCJld25zdWRcIjtcbiAgICAgIGlmICh2Lmxlbmd0aCA9PT0gMyAmJiBsZWdhbEF4aXMuaW5kZXhPZih2LnN1YnN0cigwLCAxKSkgIT09IC0xICYmIGxlZ2FsQXhpcy5pbmRleE9mKHYuc3Vic3RyKDEsIDEpKSAhPT0gLTEgJiYgbGVnYWxBeGlzLmluZGV4T2Yodi5zdWJzdHIoMiwgMSkpICE9PSAtMSkge1xuICAgICAgICBzZWxmLmF4aXMgPSB2O1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgZm9yIChwYXJhbU5hbWUgaW4gcGFyYW1PYmopIHtcbiAgICBwYXJhbVZhbCA9IHBhcmFtT2JqW3BhcmFtTmFtZV07XG4gICAgaWYgKHBhcmFtTmFtZSBpbiBwYXJhbXMpIHtcbiAgICAgIHBhcmFtT3V0bmFtZSA9IHBhcmFtc1twYXJhbU5hbWVdO1xuICAgICAgaWYgKHR5cGVvZiBwYXJhbU91dG5hbWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcGFyYW1PdXRuYW1lKHBhcmFtVmFsKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzZWxmW3BhcmFtT3V0bmFtZV0gPSBwYXJhbVZhbDtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzZWxmW3BhcmFtTmFtZV0gPSBwYXJhbVZhbDtcbiAgICB9XG4gIH1cbiAgaWYodHlwZW9mIHNlbGYuZGF0dW1Db2RlID09PSAnc3RyaW5nJyAmJiBzZWxmLmRhdHVtQ29kZSAhPT0gXCJXR1M4NFwiKXtcbiAgICBzZWxmLmRhdHVtQ29kZSA9IHNlbGYuZGF0dW1Db2RlLnRvTG93ZXJDYXNlKCk7XG4gIH1cbiAgcmV0dXJuIHNlbGY7XG59O1xuIiwidmFyIHByb2pzID0gW1xuICByZXF1aXJlKCcuL3Byb2plY3Rpb25zL21lcmMnKSxcbiAgcmVxdWlyZSgnLi9wcm9qZWN0aW9ucy9sb25nbGF0Jylcbl07XG52YXIgbmFtZXMgPSB7fTtcbnZhciBwcm9qU3RvcmUgPSBbXTtcblxuZnVuY3Rpb24gYWRkKHByb2osIGkpIHtcbiAgdmFyIGxlbiA9IHByb2pTdG9yZS5sZW5ndGg7XG4gIGlmICghcHJvai5uYW1lcykge1xuICAgIGNvbnNvbGUubG9nKGkpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHByb2pTdG9yZVtsZW5dID0gcHJvajtcbiAgcHJvai5uYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKG4pIHtcbiAgICBuYW1lc1tuLnRvTG93ZXJDYXNlKCldID0gbGVuO1xuICB9KTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbmV4cG9ydHMuYWRkID0gYWRkO1xuXG5leHBvcnRzLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgaWYgKCFuYW1lKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBuID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICBpZiAodHlwZW9mIG5hbWVzW25dICE9PSAndW5kZWZpbmVkJyAmJiBwcm9qU3RvcmVbbmFtZXNbbl1dKSB7XG4gICAgcmV0dXJuIHByb2pTdG9yZVtuYW1lc1tuXV07XG4gIH1cbn07XG5leHBvcnRzLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gIHByb2pzLmZvckVhY2goYWRkKTtcbn07XG4iLCJ2YXIgRVBTTE4gPSAxLjBlLTEwO1xudmFyIG1zZm56ID0gcmVxdWlyZSgnLi4vY29tbW9uL21zZm56Jyk7XG52YXIgcXNmbnogPSByZXF1aXJlKCcuLi9jb21tb24vcXNmbnonKTtcbnZhciBhZGp1c3RfbG9uID0gcmVxdWlyZSgnLi4vY29tbW9uL2FkanVzdF9sb24nKTtcbnZhciBhc2lueiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9hc2lueicpO1xuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKE1hdGguYWJzKHRoaXMubGF0MSArIHRoaXMubGF0MikgPCBFUFNMTikge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLnRlbXAgPSB0aGlzLmIgLyB0aGlzLmE7XG4gIHRoaXMuZXMgPSAxIC0gTWF0aC5wb3codGhpcy50ZW1wLCAyKTtcbiAgdGhpcy5lMyA9IE1hdGguc3FydCh0aGlzLmVzKTtcblxuICB0aGlzLnNpbl9wbyA9IE1hdGguc2luKHRoaXMubGF0MSk7XG4gIHRoaXMuY29zX3BvID0gTWF0aC5jb3ModGhpcy5sYXQxKTtcbiAgdGhpcy50MSA9IHRoaXMuc2luX3BvO1xuICB0aGlzLmNvbiA9IHRoaXMuc2luX3BvO1xuICB0aGlzLm1zMSA9IG1zZm56KHRoaXMuZTMsIHRoaXMuc2luX3BvLCB0aGlzLmNvc19wbyk7XG4gIHRoaXMucXMxID0gcXNmbnoodGhpcy5lMywgdGhpcy5zaW5fcG8sIHRoaXMuY29zX3BvKTtcblxuICB0aGlzLnNpbl9wbyA9IE1hdGguc2luKHRoaXMubGF0Mik7XG4gIHRoaXMuY29zX3BvID0gTWF0aC5jb3ModGhpcy5sYXQyKTtcbiAgdGhpcy50MiA9IHRoaXMuc2luX3BvO1xuICB0aGlzLm1zMiA9IG1zZm56KHRoaXMuZTMsIHRoaXMuc2luX3BvLCB0aGlzLmNvc19wbyk7XG4gIHRoaXMucXMyID0gcXNmbnoodGhpcy5lMywgdGhpcy5zaW5fcG8sIHRoaXMuY29zX3BvKTtcblxuICB0aGlzLnNpbl9wbyA9IE1hdGguc2luKHRoaXMubGF0MCk7XG4gIHRoaXMuY29zX3BvID0gTWF0aC5jb3ModGhpcy5sYXQwKTtcbiAgdGhpcy50MyA9IHRoaXMuc2luX3BvO1xuICB0aGlzLnFzMCA9IHFzZm56KHRoaXMuZTMsIHRoaXMuc2luX3BvLCB0aGlzLmNvc19wbyk7XG5cbiAgaWYgKE1hdGguYWJzKHRoaXMubGF0MSAtIHRoaXMubGF0MikgPiBFUFNMTikge1xuICAgIHRoaXMubnMwID0gKHRoaXMubXMxICogdGhpcy5tczEgLSB0aGlzLm1zMiAqIHRoaXMubXMyKSAvICh0aGlzLnFzMiAtIHRoaXMucXMxKTtcbiAgfVxuICBlbHNlIHtcbiAgICB0aGlzLm5zMCA9IHRoaXMuY29uO1xuICB9XG4gIHRoaXMuYyA9IHRoaXMubXMxICogdGhpcy5tczEgKyB0aGlzLm5zMCAqIHRoaXMucXMxO1xuICB0aGlzLnJoID0gdGhpcy5hICogTWF0aC5zcXJ0KHRoaXMuYyAtIHRoaXMubnMwICogdGhpcy5xczApIC8gdGhpcy5uczA7XG59O1xuXG4vKiBBbGJlcnMgQ29uaWNhbCBFcXVhbCBBcmVhIGZvcndhcmQgZXF1YXRpb25zLS1tYXBwaW5nIGxhdCxsb25nIHRvIHgseVxuICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmV4cG9ydHMuZm9yd2FyZCA9IGZ1bmN0aW9uKHApIHtcblxuICB2YXIgbG9uID0gcC54O1xuICB2YXIgbGF0ID0gcC55O1xuXG4gIHRoaXMuc2luX3BoaSA9IE1hdGguc2luKGxhdCk7XG4gIHRoaXMuY29zX3BoaSA9IE1hdGguY29zKGxhdCk7XG5cbiAgdmFyIHFzID0gcXNmbnoodGhpcy5lMywgdGhpcy5zaW5fcGhpLCB0aGlzLmNvc19waGkpO1xuICB2YXIgcmgxID0gdGhpcy5hICogTWF0aC5zcXJ0KHRoaXMuYyAtIHRoaXMubnMwICogcXMpIC8gdGhpcy5uczA7XG4gIHZhciB0aGV0YSA9IHRoaXMubnMwICogYWRqdXN0X2xvbihsb24gLSB0aGlzLmxvbmcwKTtcbiAgdmFyIHggPSByaDEgKiBNYXRoLnNpbih0aGV0YSkgKyB0aGlzLngwO1xuICB2YXIgeSA9IHRoaXMucmggLSByaDEgKiBNYXRoLmNvcyh0aGV0YSkgKyB0aGlzLnkwO1xuXG4gIHAueCA9IHg7XG4gIHAueSA9IHk7XG4gIHJldHVybiBwO1xufTtcblxuXG5leHBvcnRzLmludmVyc2UgPSBmdW5jdGlvbihwKSB7XG4gIHZhciByaDEsIHFzLCBjb24sIHRoZXRhLCBsb24sIGxhdDtcblxuICBwLnggLT0gdGhpcy54MDtcbiAgcC55ID0gdGhpcy5yaCAtIHAueSArIHRoaXMueTA7XG4gIGlmICh0aGlzLm5zMCA+PSAwKSB7XG4gICAgcmgxID0gTWF0aC5zcXJ0KHAueCAqIHAueCArIHAueSAqIHAueSk7XG4gICAgY29uID0gMTtcbiAgfVxuICBlbHNlIHtcbiAgICByaDEgPSAtTWF0aC5zcXJ0KHAueCAqIHAueCArIHAueSAqIHAueSk7XG4gICAgY29uID0gLTE7XG4gIH1cbiAgdGhldGEgPSAwO1xuICBpZiAocmgxICE9PSAwKSB7XG4gICAgdGhldGEgPSBNYXRoLmF0YW4yKGNvbiAqIHAueCwgY29uICogcC55KTtcbiAgfVxuICBjb24gPSByaDEgKiB0aGlzLm5zMCAvIHRoaXMuYTtcbiAgaWYgKHRoaXMuc3BoZXJlKSB7XG4gICAgbGF0ID0gTWF0aC5hc2luKCh0aGlzLmMgLSBjb24gKiBjb24pIC8gKDIgKiB0aGlzLm5zMCkpO1xuICB9XG4gIGVsc2Uge1xuICAgIHFzID0gKHRoaXMuYyAtIGNvbiAqIGNvbikgLyB0aGlzLm5zMDtcbiAgICBsYXQgPSB0aGlzLnBoaTF6KHRoaXMuZTMsIHFzKTtcbiAgfVxuXG4gIGxvbiA9IGFkanVzdF9sb24odGhldGEgLyB0aGlzLm5zMCArIHRoaXMubG9uZzApO1xuICBwLnggPSBsb247XG4gIHAueSA9IGxhdDtcbiAgcmV0dXJuIHA7XG59O1xuXG4vKiBGdW5jdGlvbiB0byBjb21wdXRlIHBoaTEsIHRoZSBsYXRpdHVkZSBmb3IgdGhlIGludmVyc2Ugb2YgdGhlXG4gICBBbGJlcnMgQ29uaWNhbCBFcXVhbC1BcmVhIHByb2plY3Rpb24uXG4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmV4cG9ydHMucGhpMXogPSBmdW5jdGlvbihlY2NlbnQsIHFzKSB7XG4gIHZhciBzaW5waGksIGNvc3BoaSwgY29uLCBjb20sIGRwaGk7XG4gIHZhciBwaGkgPSBhc2lueigwLjUgKiBxcyk7XG4gIGlmIChlY2NlbnQgPCBFUFNMTikge1xuICAgIHJldHVybiBwaGk7XG4gIH1cblxuICB2YXIgZWNjbnRzID0gZWNjZW50ICogZWNjZW50O1xuICBmb3IgKHZhciBpID0gMTsgaSA8PSAyNTsgaSsrKSB7XG4gICAgc2lucGhpID0gTWF0aC5zaW4ocGhpKTtcbiAgICBjb3NwaGkgPSBNYXRoLmNvcyhwaGkpO1xuICAgIGNvbiA9IGVjY2VudCAqIHNpbnBoaTtcbiAgICBjb20gPSAxIC0gY29uICogY29uO1xuICAgIGRwaGkgPSAwLjUgKiBjb20gKiBjb20gLyBjb3NwaGkgKiAocXMgLyAoMSAtIGVjY250cykgLSBzaW5waGkgLyBjb20gKyAwLjUgLyBlY2NlbnQgKiBNYXRoLmxvZygoMSAtIGNvbikgLyAoMSArIGNvbikpKTtcbiAgICBwaGkgPSBwaGkgKyBkcGhpO1xuICAgIGlmIChNYXRoLmFicyhkcGhpKSA8PSAxZS03KSB7XG4gICAgICByZXR1cm4gcGhpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5leHBvcnRzLm5hbWVzID0gW1wiQWxiZXJzX0NvbmljX0VxdWFsX0FyZWFcIiwgXCJBbGJlcnNcIiwgXCJhZWFcIl07XG4iLCJ2YXIgYWRqdXN0X2xvbiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9hZGp1c3RfbG9uJyk7XG52YXIgSEFMRl9QSSA9IE1hdGguUEkvMjtcbnZhciBFUFNMTiA9IDEuMGUtMTA7XG52YXIgbWxmbiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9tbGZuJyk7XG52YXIgZTBmbiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9lMGZuJyk7XG52YXIgZTFmbiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9lMWZuJyk7XG52YXIgZTJmbiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9lMmZuJyk7XG52YXIgZTNmbiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9lM2ZuJyk7XG52YXIgZ04gPSByZXF1aXJlKCcuLi9jb21tb24vZ04nKTtcbnZhciBhc2lueiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9hc2lueicpO1xudmFyIGltbGZuID0gcmVxdWlyZSgnLi4vY29tbW9uL2ltbGZuJyk7XG5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5zaW5fcDEyID0gTWF0aC5zaW4odGhpcy5sYXQwKTtcbiAgdGhpcy5jb3NfcDEyID0gTWF0aC5jb3ModGhpcy5sYXQwKTtcbn07XG5cbmV4cG9ydHMuZm9yd2FyZCA9IGZ1bmN0aW9uKHApIHtcbiAgdmFyIGxvbiA9IHAueDtcbiAgdmFyIGxhdCA9IHAueTtcbiAgdmFyIHNpbnBoaSA9IE1hdGguc2luKHAueSk7XG4gIHZhciBjb3NwaGkgPSBNYXRoLmNvcyhwLnkpO1xuICB2YXIgZGxvbiA9IGFkanVzdF9sb24obG9uIC0gdGhpcy5sb25nMCk7XG4gIHZhciBlMCwgZTEsIGUyLCBlMywgTWxwLCBNbCwgdGFucGhpLCBObDEsIE5sLCBwc2ksIEF6LCBHLCBILCBHSCwgSHMsIGMsIGtwLCBjb3NfYywgcywgczIsIHMzLCBzNCwgczU7XG4gIGlmICh0aGlzLnNwaGVyZSkge1xuICAgIGlmIChNYXRoLmFicyh0aGlzLnNpbl9wMTIgLSAxKSA8PSBFUFNMTikge1xuICAgICAgLy9Ob3J0aCBQb2xlIGNhc2VcbiAgICAgIHAueCA9IHRoaXMueDAgKyB0aGlzLmEgKiAoSEFMRl9QSSAtIGxhdCkgKiBNYXRoLnNpbihkbG9uKTtcbiAgICAgIHAueSA9IHRoaXMueTAgLSB0aGlzLmEgKiAoSEFMRl9QSSAtIGxhdCkgKiBNYXRoLmNvcyhkbG9uKTtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cbiAgICBlbHNlIGlmIChNYXRoLmFicyh0aGlzLnNpbl9wMTIgKyAxKSA8PSBFUFNMTikge1xuICAgICAgLy9Tb3V0aCBQb2xlIGNhc2VcbiAgICAgIHAueCA9IHRoaXMueDAgKyB0aGlzLmEgKiAoSEFMRl9QSSArIGxhdCkgKiBNYXRoLnNpbihkbG9uKTtcbiAgICAgIHAueSA9IHRoaXMueTAgKyB0aGlzLmEgKiAoSEFMRl9QSSArIGxhdCkgKiBNYXRoLmNvcyhkbG9uKTtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vZGVmYXVsdCBjYXNlXG4gICAgICBjb3NfYyA9IHRoaXMuc2luX3AxMiAqIHNpbnBoaSArIHRoaXMuY29zX3AxMiAqIGNvc3BoaSAqIE1hdGguY29zKGRsb24pO1xuICAgICAgYyA9IE1hdGguYWNvcyhjb3NfYyk7XG4gICAgICBrcCA9IGMgLyBNYXRoLnNpbihjKTtcbiAgICAgIHAueCA9IHRoaXMueDAgKyB0aGlzLmEgKiBrcCAqIGNvc3BoaSAqIE1hdGguc2luKGRsb24pO1xuICAgICAgcC55ID0gdGhpcy55MCArIHRoaXMuYSAqIGtwICogKHRoaXMuY29zX3AxMiAqIHNpbnBoaSAtIHRoaXMuc2luX3AxMiAqIGNvc3BoaSAqIE1hdGguY29zKGRsb24pKTtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICBlMCA9IGUwZm4odGhpcy5lcyk7XG4gICAgZTEgPSBlMWZuKHRoaXMuZXMpO1xuICAgIGUyID0gZTJmbih0aGlzLmVzKTtcbiAgICBlMyA9IGUzZm4odGhpcy5lcyk7XG4gICAgaWYgKE1hdGguYWJzKHRoaXMuc2luX3AxMiAtIDEpIDw9IEVQU0xOKSB7XG4gICAgICAvL05vcnRoIFBvbGUgY2FzZVxuICAgICAgTWxwID0gdGhpcy5hICogbWxmbihlMCwgZTEsIGUyLCBlMywgSEFMRl9QSSk7XG4gICAgICBNbCA9IHRoaXMuYSAqIG1sZm4oZTAsIGUxLCBlMiwgZTMsIGxhdCk7XG4gICAgICBwLnggPSB0aGlzLngwICsgKE1scCAtIE1sKSAqIE1hdGguc2luKGRsb24pO1xuICAgICAgcC55ID0gdGhpcy55MCAtIChNbHAgLSBNbCkgKiBNYXRoLmNvcyhkbG9uKTtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cbiAgICBlbHNlIGlmIChNYXRoLmFicyh0aGlzLnNpbl9wMTIgKyAxKSA8PSBFUFNMTikge1xuICAgICAgLy9Tb3V0aCBQb2xlIGNhc2VcbiAgICAgIE1scCA9IHRoaXMuYSAqIG1sZm4oZTAsIGUxLCBlMiwgZTMsIEhBTEZfUEkpO1xuICAgICAgTWwgPSB0aGlzLmEgKiBtbGZuKGUwLCBlMSwgZTIsIGUzLCBsYXQpO1xuICAgICAgcC54ID0gdGhpcy54MCArIChNbHAgKyBNbCkgKiBNYXRoLnNpbihkbG9uKTtcbiAgICAgIHAueSA9IHRoaXMueTAgKyAoTWxwICsgTWwpICogTWF0aC5jb3MoZGxvbik7XG4gICAgICByZXR1cm4gcDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvL0RlZmF1bHQgY2FzZVxuICAgICAgdGFucGhpID0gc2lucGhpIC8gY29zcGhpO1xuICAgICAgTmwxID0gZ04odGhpcy5hLCB0aGlzLmUsIHRoaXMuc2luX3AxMik7XG4gICAgICBObCA9IGdOKHRoaXMuYSwgdGhpcy5lLCBzaW5waGkpO1xuICAgICAgcHNpID0gTWF0aC5hdGFuKCgxIC0gdGhpcy5lcykgKiB0YW5waGkgKyB0aGlzLmVzICogTmwxICogdGhpcy5zaW5fcDEyIC8gKE5sICogY29zcGhpKSk7XG4gICAgICBBeiA9IE1hdGguYXRhbjIoTWF0aC5zaW4oZGxvbiksIHRoaXMuY29zX3AxMiAqIE1hdGgudGFuKHBzaSkgLSB0aGlzLnNpbl9wMTIgKiBNYXRoLmNvcyhkbG9uKSk7XG4gICAgICBpZiAoQXogPT09IDApIHtcbiAgICAgICAgcyA9IE1hdGguYXNpbih0aGlzLmNvc19wMTIgKiBNYXRoLnNpbihwc2kpIC0gdGhpcy5zaW5fcDEyICogTWF0aC5jb3MocHNpKSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChNYXRoLmFicyhNYXRoLmFicyhBeikgLSBNYXRoLlBJKSA8PSBFUFNMTikge1xuICAgICAgICBzID0gLU1hdGguYXNpbih0aGlzLmNvc19wMTIgKiBNYXRoLnNpbihwc2kpIC0gdGhpcy5zaW5fcDEyICogTWF0aC5jb3MocHNpKSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcyA9IE1hdGguYXNpbihNYXRoLnNpbihkbG9uKSAqIE1hdGguY29zKHBzaSkgLyBNYXRoLnNpbihBeikpO1xuICAgICAgfVxuICAgICAgRyA9IHRoaXMuZSAqIHRoaXMuc2luX3AxMiAvIE1hdGguc3FydCgxIC0gdGhpcy5lcyk7XG4gICAgICBIID0gdGhpcy5lICogdGhpcy5jb3NfcDEyICogTWF0aC5jb3MoQXopIC8gTWF0aC5zcXJ0KDEgLSB0aGlzLmVzKTtcbiAgICAgIEdIID0gRyAqIEg7XG4gICAgICBIcyA9IEggKiBIO1xuICAgICAgczIgPSBzICogcztcbiAgICAgIHMzID0gczIgKiBzO1xuICAgICAgczQgPSBzMyAqIHM7XG4gICAgICBzNSA9IHM0ICogcztcbiAgICAgIGMgPSBObDEgKiBzICogKDEgLSBzMiAqIEhzICogKDEgLSBIcykgLyA2ICsgczMgLyA4ICogR0ggKiAoMSAtIDIgKiBIcykgKyBzNCAvIDEyMCAqIChIcyAqICg0IC0gNyAqIEhzKSAtIDMgKiBHICogRyAqICgxIC0gNyAqIEhzKSkgLSBzNSAvIDQ4ICogR0gpO1xuICAgICAgcC54ID0gdGhpcy54MCArIGMgKiBNYXRoLnNpbihBeik7XG4gICAgICBwLnkgPSB0aGlzLnkwICsgYyAqIE1hdGguY29zKEF6KTtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cbiAgfVxuXG5cbn07XG5cbmV4cG9ydHMuaW52ZXJzZSA9IGZ1bmN0aW9uKHApIHtcbiAgcC54IC09IHRoaXMueDA7XG4gIHAueSAtPSB0aGlzLnkwO1xuICB2YXIgcmgsIHosIHNpbnosIGNvc3osIGxvbiwgbGF0LCBjb24sIGUwLCBlMSwgZTIsIGUzLCBNbHAsIE0sIE4xLCBwc2ksIEF6LCBjb3NBeiwgdG1wLCBBLCBCLCBELCBFZSwgRjtcbiAgaWYgKHRoaXMuc3BoZXJlKSB7XG4gICAgcmggPSBNYXRoLnNxcnQocC54ICogcC54ICsgcC55ICogcC55KTtcbiAgICBpZiAocmggPiAoMiAqIEhBTEZfUEkgKiB0aGlzLmEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHogPSByaCAvIHRoaXMuYTtcblxuICAgIHNpbnogPSBNYXRoLnNpbih6KTtcbiAgICBjb3N6ID0gTWF0aC5jb3Moeik7XG5cbiAgICBsb24gPSB0aGlzLmxvbmcwO1xuICAgIGlmIChNYXRoLmFicyhyaCkgPD0gRVBTTE4pIHtcbiAgICAgIGxhdCA9IHRoaXMubGF0MDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBsYXQgPSBhc2lueihjb3N6ICogdGhpcy5zaW5fcDEyICsgKHAueSAqIHNpbnogKiB0aGlzLmNvc19wMTIpIC8gcmgpO1xuICAgICAgY29uID0gTWF0aC5hYnModGhpcy5sYXQwKSAtIEhBTEZfUEk7XG4gICAgICBpZiAoTWF0aC5hYnMoY29uKSA8PSBFUFNMTikge1xuICAgICAgICBpZiAodGhpcy5sYXQwID49IDApIHtcbiAgICAgICAgICBsb24gPSBhZGp1c3RfbG9uKHRoaXMubG9uZzAgKyBNYXRoLmF0YW4yKHAueCwgLSBwLnkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBsb24gPSBhZGp1c3RfbG9uKHRoaXMubG9uZzAgLSBNYXRoLmF0YW4yKC1wLngsIHAueSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLypjb24gPSBjb3N6IC0gdGhpcy5zaW5fcDEyICogTWF0aC5zaW4obGF0KTtcbiAgICAgICAgaWYgKChNYXRoLmFicyhjb24pIDwgRVBTTE4pICYmIChNYXRoLmFicyhwLngpIDwgRVBTTE4pKSB7XG4gICAgICAgICAgLy9uby1vcCwganVzdCBrZWVwIHRoZSBsb24gdmFsdWUgYXMgaXNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgdGVtcCA9IE1hdGguYXRhbjIoKHAueCAqIHNpbnogKiB0aGlzLmNvc19wMTIpLCAoY29uICogcmgpKTtcbiAgICAgICAgICBsb24gPSBhZGp1c3RfbG9uKHRoaXMubG9uZzAgKyBNYXRoLmF0YW4yKChwLnggKiBzaW56ICogdGhpcy5jb3NfcDEyKSwgKGNvbiAqIHJoKSkpO1xuICAgICAgICB9Ki9cbiAgICAgICAgbG9uID0gYWRqdXN0X2xvbih0aGlzLmxvbmcwICsgTWF0aC5hdGFuMihwLnggKiBzaW56LCByaCAqIHRoaXMuY29zX3AxMiAqIGNvc3ogLSBwLnkgKiB0aGlzLnNpbl9wMTIgKiBzaW56KSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcC54ID0gbG9uO1xuICAgIHAueSA9IGxhdDtcbiAgICByZXR1cm4gcDtcbiAgfVxuICBlbHNlIHtcbiAgICBlMCA9IGUwZm4odGhpcy5lcyk7XG4gICAgZTEgPSBlMWZuKHRoaXMuZXMpO1xuICAgIGUyID0gZTJmbih0aGlzLmVzKTtcbiAgICBlMyA9IGUzZm4odGhpcy5lcyk7XG4gICAgaWYgKE1hdGguYWJzKHRoaXMuc2luX3AxMiAtIDEpIDw9IEVQU0xOKSB7XG4gICAgICAvL05vcnRoIHBvbGUgY2FzZVxuICAgICAgTWxwID0gdGhpcy5hICogbWxmbihlMCwgZTEsIGUyLCBlMywgSEFMRl9QSSk7XG4gICAgICByaCA9IE1hdGguc3FydChwLnggKiBwLnggKyBwLnkgKiBwLnkpO1xuICAgICAgTSA9IE1scCAtIHJoO1xuICAgICAgbGF0ID0gaW1sZm4oTSAvIHRoaXMuYSwgZTAsIGUxLCBlMiwgZTMpO1xuICAgICAgbG9uID0gYWRqdXN0X2xvbih0aGlzLmxvbmcwICsgTWF0aC5hdGFuMihwLngsIC0gMSAqIHAueSkpO1xuICAgICAgcC54ID0gbG9uO1xuICAgICAgcC55ID0gbGF0O1xuICAgICAgcmV0dXJuIHA7XG4gICAgfVxuICAgIGVsc2UgaWYgKE1hdGguYWJzKHRoaXMuc2luX3AxMiArIDEpIDw9IEVQU0xOKSB7XG4gICAgICAvL1NvdXRoIHBvbGUgY2FzZVxuICAgICAgTWxwID0gdGhpcy5hICogbWxmbihlMCwgZTEsIGUyLCBlMywgSEFMRl9QSSk7XG4gICAgICByaCA9IE1hdGguc3FydChwLnggKiBwLnggKyBwLnkgKiBwLnkpO1xuICAgICAgTSA9IHJoIC0gTWxwO1xuXG4gICAgICBsYXQgPSBpbWxmbihNIC8gdGhpcy5hLCBlMCwgZTEsIGUyLCBlMyk7XG4gICAgICBsb24gPSBhZGp1c3RfbG9uKHRoaXMubG9uZzAgKyBNYXRoLmF0YW4yKHAueCwgcC55KSk7XG4gICAgICBwLnggPSBsb247XG4gICAgICBwLnkgPSBsYXQ7XG4gICAgICByZXR1cm4gcDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAvL2RlZmF1bHQgY2FzZVxuICAgICAgcmggPSBNYXRoLnNxcnQocC54ICogcC54ICsgcC55ICogcC55KTtcbiAgICAgIEF6ID0gTWF0aC5hdGFuMihwLngsIHAueSk7XG4gICAgICBOMSA9IGdOKHRoaXMuYSwgdGhpcy5lLCB0aGlzLnNpbl9wMTIpO1xuICAgICAgY29zQXogPSBNYXRoLmNvcyhBeik7XG4gICAgICB0bXAgPSB0aGlzLmUgKiB0aGlzLmNvc19wMTIgKiBjb3NBejtcbiAgICAgIEEgPSAtdG1wICogdG1wIC8gKDEgLSB0aGlzLmVzKTtcbiAgICAgIEIgPSAzICogdGhpcy5lcyAqICgxIC0gQSkgKiB0aGlzLnNpbl9wMTIgKiB0aGlzLmNvc19wMTIgKiBjb3NBeiAvICgxIC0gdGhpcy5lcyk7XG4gICAgICBEID0gcmggLyBOMTtcbiAgICAgIEVlID0gRCAtIEEgKiAoMSArIEEpICogTWF0aC5wb3coRCwgMykgLyA2IC0gQiAqICgxICsgMyAqIEEpICogTWF0aC5wb3coRCwgNCkgLyAyNDtcbiAgICAgIEYgPSAxIC0gQSAqIEVlICogRWUgLyAyIC0gRCAqIEVlICogRWUgKiBFZSAvIDY7XG4gICAgICBwc2kgPSBNYXRoLmFzaW4odGhpcy5zaW5fcDEyICogTWF0aC5jb3MoRWUpICsgdGhpcy5jb3NfcDEyICogTWF0aC5zaW4oRWUpICogY29zQXopO1xuICAgICAgbG9uID0gYWRqdXN0X2xvbih0aGlzLmxvbmcwICsgTWF0aC5hc2luKE1hdGguc2luKEF6KSAqIE1hdGguc2luKEVlKSAvIE1hdGguY29zKHBzaSkpKTtcbiAgICAgIGxhdCA9IE1hdGguYXRhbigoMSAtIHRoaXMuZXMgKiBGICogdGhpcy5zaW5fcDEyIC8gTWF0aC5zaW4ocHNpKSkgKiBNYXRoLnRhbihwc2kpIC8gKDEgLSB0aGlzLmVzKSk7XG4gICAgICBwLnggPSBsb247XG4gICAgICBwLnkgPSBsYXQ7XG4gICAgICByZXR1cm4gcDtcbiAgICB9XG4gIH1cblxufTtcbmV4cG9ydHMubmFtZXMgPSBbXCJBemltdXRoYWxfRXF1aWRpc3RhbnRcIiwgXCJhZXFkXCJdO1xuIiwidmFyIG1sZm4gPSByZXF1aXJlKCcuLi9jb21tb24vbWxmbicpO1xudmFyIGUwZm4gPSByZXF1aXJlKCcuLi9jb21tb24vZTBmbicpO1xudmFyIGUxZm4gPSByZXF1aXJlKCcuLi9jb21tb24vZTFmbicpO1xudmFyIGUyZm4gPSByZXF1aXJlKCcuLi9jb21tb24vZTJmbicpO1xudmFyIGUzZm4gPSByZXF1aXJlKCcuLi9jb21tb24vZTNmbicpO1xudmFyIGdOID0gcmVxdWlyZSgnLi4vY29tbW9uL2dOJyk7XG52YXIgYWRqdXN0X2xvbiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9hZGp1c3RfbG9uJyk7XG52YXIgYWRqdXN0X2xhdCA9IHJlcXVpcmUoJy4uL2NvbW1vbi9hZGp1c3RfbGF0Jyk7XG52YXIgaW1sZm4gPSByZXF1aXJlKCcuLi9jb21tb24vaW1sZm4nKTtcbnZhciBIQUxGX1BJID0gTWF0aC5QSS8yO1xudmFyIEVQU0xOID0gMS4wZS0xMDtcbmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIXRoaXMuc3BoZXJlKSB7XG4gICAgdGhpcy5lMCA9IGUwZm4odGhpcy5lcyk7XG4gICAgdGhpcy5lMSA9IGUxZm4odGhpcy5lcyk7XG4gICAgdGhpcy5lMiA9IGUyZm4odGhpcy5lcyk7XG4gICAgdGhpcy5lMyA9IGUzZm4odGhpcy5lcyk7XG4gICAgdGhpcy5tbDAgPSB0aGlzLmEgKiBtbGZuKHRoaXMuZTAsIHRoaXMuZTEsIHRoaXMuZTIsIHRoaXMuZTMsIHRoaXMubGF0MCk7XG4gIH1cbn07XG5cblxuXG4vKiBDYXNzaW5pIGZvcndhcmQgZXF1YXRpb25zLS1tYXBwaW5nIGxhdCxsb25nIHRvIHgseVxuICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5leHBvcnRzLmZvcndhcmQgPSBmdW5jdGlvbihwKSB7XG5cbiAgLyogRm9yd2FyZCBlcXVhdGlvbnNcbiAgICAgIC0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgdmFyIHgsIHk7XG4gIHZhciBsYW0gPSBwLng7XG4gIHZhciBwaGkgPSBwLnk7XG4gIGxhbSA9IGFkanVzdF9sb24obGFtIC0gdGhpcy5sb25nMCk7XG5cbiAgaWYgKHRoaXMuc3BoZXJlKSB7XG4gICAgeCA9IHRoaXMuYSAqIE1hdGguYXNpbihNYXRoLmNvcyhwaGkpICogTWF0aC5zaW4obGFtKSk7XG4gICAgeSA9IHRoaXMuYSAqIChNYXRoLmF0YW4yKE1hdGgudGFuKHBoaSksIE1hdGguY29zKGxhbSkpIC0gdGhpcy5sYXQwKTtcbiAgfVxuICBlbHNlIHtcbiAgICAvL2VsbGlwc29pZFxuICAgIHZhciBzaW5waGkgPSBNYXRoLnNpbihwaGkpO1xuICAgIHZhciBjb3NwaGkgPSBNYXRoLmNvcyhwaGkpO1xuICAgIHZhciBubCA9IGdOKHRoaXMuYSwgdGhpcy5lLCBzaW5waGkpO1xuICAgIHZhciB0bCA9IE1hdGgudGFuKHBoaSkgKiBNYXRoLnRhbihwaGkpO1xuICAgIHZhciBhbCA9IGxhbSAqIE1hdGguY29zKHBoaSk7XG4gICAgdmFyIGFzcSA9IGFsICogYWw7XG4gICAgdmFyIGNsID0gdGhpcy5lcyAqIGNvc3BoaSAqIGNvc3BoaSAvICgxIC0gdGhpcy5lcyk7XG4gICAgdmFyIG1sID0gdGhpcy5hICogbWxmbih0aGlzLmUwLCB0aGlzLmUxLCB0aGlzLmUyLCB0aGlzLmUzLCBwaGkpO1xuXG4gICAgeCA9IG5sICogYWwgKiAoMSAtIGFzcSAqIHRsICogKDEgLyA2IC0gKDggLSB0bCArIDggKiBjbCkgKiBhc3EgLyAxMjApKTtcbiAgICB5ID0gbWwgLSB0aGlzLm1sMCArIG5sICogc2lucGhpIC8gY29zcGhpICogYXNxICogKDAuNSArICg1IC0gdGwgKyA2ICogY2wpICogYXNxIC8gMjQpO1xuXG5cbiAgfVxuXG4gIHAueCA9IHggKyB0aGlzLngwO1xuICBwLnkgPSB5ICsgdGhpcy55MDtcbiAgcmV0dXJuIHA7XG59O1xuXG4vKiBJbnZlcnNlIGVxdWF0aW9uc1xuICAtLS0tLS0tLS0tLS0tLS0tLSovXG5leHBvcnRzLmludmVyc2UgPSBmdW5jdGlvbihwKSB7XG4gIHAueCAtPSB0aGlzLngwO1xuICBwLnkgLT0gdGhpcy55MDtcbiAgdmFyIHggPSBwLnggLyB0aGlzLmE7XG4gIHZhciB5ID0gcC55IC8gdGhpcy5hO1xuICB2YXIgcGhpLCBsYW07XG5cbiAgaWYgKHRoaXMuc3BoZXJlKSB7XG4gICAgdmFyIGRkID0geSArIHRoaXMubGF0MDtcbiAgICBwaGkgPSBNYXRoLmFzaW4oTWF0aC5zaW4oZGQpICogTWF0aC5jb3MoeCkpO1xuICAgIGxhbSA9IE1hdGguYXRhbjIoTWF0aC50YW4oeCksIE1hdGguY29zKGRkKSk7XG4gIH1cbiAgZWxzZSB7XG4gICAgLyogZWxsaXBzb2lkICovXG4gICAgdmFyIG1sMSA9IHRoaXMubWwwIC8gdGhpcy5hICsgeTtcbiAgICB2YXIgcGhpMSA9IGltbGZuKG1sMSwgdGhpcy5lMCwgdGhpcy5lMSwgdGhpcy5lMiwgdGhpcy5lMyk7XG4gICAgaWYgKE1hdGguYWJzKE1hdGguYWJzKHBoaTEpIC0gSEFMRl9QSSkgPD0gRVBTTE4pIHtcbiAgICAgIHAueCA9IHRoaXMubG9uZzA7XG4gICAgICBwLnkgPSBIQUxGX1BJO1xuICAgICAgaWYgKHkgPCAwKSB7XG4gICAgICAgIHAueSAqPSAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwO1xuICAgIH1cbiAgICB2YXIgbmwxID0gZ04odGhpcy5hLCB0aGlzLmUsIE1hdGguc2luKHBoaTEpKTtcblxuICAgIHZhciBybDEgPSBubDEgKiBubDEgKiBubDEgLyB0aGlzLmEgLyB0aGlzLmEgKiAoMSAtIHRoaXMuZXMpO1xuICAgIHZhciB0bDEgPSBNYXRoLnBvdyhNYXRoLnRhbihwaGkxKSwgMik7XG4gICAgdmFyIGRsID0geCAqIHRoaXMuYSAvIG5sMTtcbiAgICB2YXIgZHNxID0gZGwgKiBkbDtcbiAgICBwaGkgPSBwaGkxIC0gbmwxICogTWF0aC50YW4ocGhpMSkgLyBybDEgKiBkbCAqIGRsICogKDAuNSAtICgxICsgMyAqIHRsMSkgKiBkbCAqIGRsIC8gMjQpO1xuICAgIGxhbSA9IGRsICogKDEgLSBkc3EgKiAodGwxIC8gMyArICgxICsgMyAqIHRsMSkgKiB0bDEgKiBkc3EgLyAxNSkpIC8gTWF0aC5jb3MocGhpMSk7XG5cbiAgfVxuXG4gIHAueCA9IGFkanVzdF9sb24obGFtICsgdGhpcy5sb25nMCk7XG4gIHAueSA9IGFkanVzdF9sYXQocGhpKTtcbiAgcmV0dXJuIHA7XG5cbn07XG5leHBvcnRzLm5hbWVzID0gW1wiQ2Fzc2luaVwiLCBcIkNhc3NpbmlfU29sZG5lclwiLCBcImNhc3NcIl07IiwidmFyIGFkanVzdF9sb24gPSByZXF1aXJlKCcuLi9jb21tb24vYWRqdXN0X2xvbicpO1xudmFyIHFzZm56ID0gcmVxdWlyZSgnLi4vY29tbW9uL3FzZm56Jyk7XG52YXIgbXNmbnogPSByZXF1aXJlKCcuLi9jb21tb24vbXNmbnonKTtcbnZhciBpcXNmbnogPSByZXF1aXJlKCcuLi9jb21tb24vaXFzZm56Jyk7XG4vKlxuICByZWZlcmVuY2U6ICBcbiAgICBcIkNhcnRvZ3JhcGhpYyBQcm9qZWN0aW9uIFByb2NlZHVyZXMgZm9yIHRoZSBVTklYIEVudmlyb25tZW50LVxuICAgIEEgVXNlcidzIE1hbnVhbFwiIGJ5IEdlcmFsZCBJLiBFdmVuZGVuLFxuICAgIFVTR1MgT3BlbiBGaWxlIFJlcG9ydCA5MC0yODRhbmQgUmVsZWFzZSA0IEludGVyaW0gUmVwb3J0cyAoMjAwMylcbiovXG5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgLy9uby1vcFxuICBpZiAoIXRoaXMuc3BoZXJlKSB7XG4gICAgdGhpcy5rMCA9IG1zZm56KHRoaXMuZSwgTWF0aC5zaW4odGhpcy5sYXRfdHMpLCBNYXRoLmNvcyh0aGlzLmxhdF90cykpO1xuICB9XG59O1xuXG5cbi8qIEN5bGluZHJpY2FsIEVxdWFsIEFyZWEgZm9yd2FyZCBlcXVhdGlvbnMtLW1hcHBpbmcgbGF0LGxvbmcgdG8geCx5XG4gICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmV4cG9ydHMuZm9yd2FyZCA9IGZ1bmN0aW9uKHApIHtcbiAgdmFyIGxvbiA9IHAueDtcbiAgdmFyIGxhdCA9IHAueTtcbiAgdmFyIHgsIHk7XG4gIC8qIEZvcndhcmQgZXF1YXRpb25zXG4gICAgICAtLS0tLS0tLS0tLS0tLS0tLSovXG4gIHZhciBkbG9uID0gYWRqdXN0X2xvbihsb24gLSB0aGlzLmxvbmcwKTtcbiAgaWYgKHRoaXMuc3BoZXJlKSB7XG4gICAgeCA9IHRoaXMueDAgKyB0aGlzLmEgKiBkbG9uICogTWF0aC5jb3ModGhpcy5sYXRfdHMpO1xuICAgIHkgPSB0aGlzLnkwICsgdGhpcy5hICogTWF0aC5zaW4obGF0KSAvIE1hdGguY29zKHRoaXMubGF0X3RzKTtcbiAgfVxuICBlbHNlIHtcbiAgICB2YXIgcXMgPSBxc2Zueih0aGlzLmUsIE1hdGguc2luKGxhdCkpO1xuICAgIHggPSB0aGlzLngwICsgdGhpcy5hICogdGhpcy5rMCAqIGRsb247XG4gICAgeSA9IHRoaXMueTAgKyB0aGlzLmEgKiBxcyAqIDAuNSAvIHRoaXMuazA7XG4gIH1cblxuICBwLnggPSB4O1xuICBwLnkgPSB5O1xuICByZXR1cm4gcDtcbn07XG5cbi8qIEN5bGluZHJpY2FsIEVxdWFsIEFyZWEgaW52ZXJzZSBlcXVhdGlvbnMtLW1hcHBpbmcgeCx5IHRvIGxhdC9sb25nXG4gICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmV4cG9ydHMuaW52ZXJzZSA9IGZ1bmN0aW9uKHApIHtcbiAgcC54IC09IHRoaXMueDA7XG4gIHAueSAtPSB0aGlzLnkwO1xuICB2YXIgbG9uLCBsYXQ7XG5cbiAgaWYgKHRoaXMuc3BoZXJlKSB7XG4gICAgbG9uID0gYWRqdXN0X2xvbih0aGlzLmxvbmcwICsgKHAueCAvIHRoaXMuYSkgLyBNYXRoLmNvcyh0aGlzLmxhdF90cykpO1xuICAgIGxhdCA9IE1hdGguYXNpbigocC55IC8gdGhpcy5hKSAqIE1hdGguY29zKHRoaXMubGF0X3RzKSk7XG4gIH1cbiAgZWxzZSB7XG4gICAgbGF0ID0gaXFzZm56KHRoaXMuZSwgMiAqIHAueSAqIHRoaXMuazAgLyB0aGlzLmEpO1xuICAgIGxvbiA9IGFkanVzdF9sb24odGhpcy5sb25nMCArIHAueCAvICh0aGlzLmEgKiB0aGlzLmswKSk7XG4gIH1cblxuICBwLnggPSBsb247XG4gIHAueSA9IGxhdDtcbiAgcmV0dXJuIHA7XG59O1xuZXhwb3J0cy5uYW1lcyA9IFtcImNlYVwiXTtcbiIsInZhciBhZGp1c3RfbG9uID0gcmVxdWlyZSgnLi4vY29tbW9uL2FkanVzdF9sb24nKTtcbnZhciBhZGp1c3RfbGF0ID0gcmVxdWlyZSgnLi4vY29tbW9uL2FkanVzdF9sYXQnKTtcbmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG4gIHRoaXMueDAgPSB0aGlzLngwIHx8IDA7XG4gIHRoaXMueTAgPSB0aGlzLnkwIHx8IDA7XG4gIHRoaXMubGF0MCA9IHRoaXMubGF0MCB8fCAwO1xuICB0aGlzLmxvbmcwID0gdGhpcy5sb25nMCB8fCAwO1xuICB0aGlzLmxhdF90cyA9IHRoaXMubGF0X3RzIHx8IDA7XG4gIHRoaXMudGl0bGUgPSB0aGlzLnRpdGxlIHx8IFwiRXF1aWRpc3RhbnQgQ3lsaW5kcmljYWwgKFBsYXRlIENhcnJlKVwiO1xuXG4gIHRoaXMucmMgPSBNYXRoLmNvcyh0aGlzLmxhdF90cyk7XG59O1xuXG5cbi8vIGZvcndhcmQgZXF1YXRpb25zLS1tYXBwaW5nIGxhdCxsb25nIHRvIHgseVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydHMuZm9yd2FyZCA9IGZ1bmN0aW9uKHApIHtcblxuICB2YXIgbG9uID0gcC54O1xuICB2YXIgbGF0ID0gcC55O1xuXG4gIHZhciBkbG9uID0gYWRqdXN0X2xvbihsb24gLSB0aGlzLmxvbmcwKTtcbiAgdmFyIGRsYXQgPSBhZGp1c3RfbGF0KGxhdCAtIHRoaXMubGF0MCk7XG4gIHAueCA9IHRoaXMueDAgKyAodGhpcy5hICogZGxvbiAqIHRoaXMucmMpO1xuICBwLnkgPSB0aGlzLnkwICsgKHRoaXMuYSAqIGRsYXQpO1xuICByZXR1cm4gcDtcbn07XG5cbi8vIGludmVyc2UgZXF1YXRpb25zLS1tYXBwaW5nIHgseSB0byBsYXQvbG9uZ1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydHMuaW52ZXJzZSA9IGZ1bmN0aW9uKHApIHtcblxuICB2YXIgeCA9IHAueDtcbiAgdmFyIHkgPSBwLnk7XG5cbiAgcC54ID0gYWRqdXN0X2xvbih0aGlzLmxvbmcwICsgKCh4IC0gdGhpcy54MCkgLyAodGhpcy5hICogdGhpcy5yYykpKTtcbiAgcC55ID0gYWRqdXN0X2xhdCh0aGlzLmxhdDAgKyAoKHkgLSB0aGlzLnkwKSAvICh0aGlzLmEpKSk7XG4gIHJldHVybiBwO1xufTtcbmV4cG9ydHMubmFtZXMgPSBbXCJFcXVpcmVjdGFuZ3VsYXJcIiwgXCJFcXVpZGlzdGFudF9DeWxpbmRyaWNhbFwiLCBcImVxY1wiXTtcbiIsInZhciBlMGZuID0gcmVxdWlyZSgnLi4vY29tbW9uL2UwZm4nKTtcbnZhciBlMWZuID0gcmVxdWlyZSgnLi4vY29tbW9uL2UxZm4nKTtcbnZhciBlMmZuID0gcmVxdWlyZSgnLi4vY29tbW9uL2UyZm4nKTtcbnZhciBlM2ZuID0gcmVxdWlyZSgnLi4vY29tbW9uL2UzZm4nKTtcbnZhciBtc2ZueiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9tc2ZueicpO1xudmFyIG1sZm4gPSByZXF1aXJlKCcuLi9jb21tb24vbWxmbicpO1xudmFyIGFkanVzdF9sb24gPSByZXF1aXJlKCcuLi9jb21tb24vYWRqdXN0X2xvbicpO1xudmFyIGFkanVzdF9sYXQgPSByZXF1aXJlKCcuLi9jb21tb24vYWRqdXN0X2xhdCcpO1xudmFyIGltbGZuID0gcmVxdWlyZSgnLi4vY29tbW9uL2ltbGZuJyk7XG52YXIgRVBTTE4gPSAxLjBlLTEwO1xuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgLyogUGxhY2UgcGFyYW1ldGVycyBpbiBzdGF0aWMgc3RvcmFnZSBmb3IgY29tbW9uIHVzZVxuICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gIC8vIFN0YW5kYXJkIFBhcmFsbGVscyBjYW5ub3QgYmUgZXF1YWwgYW5kIG9uIG9wcG9zaXRlIHNpZGVzIG9mIHRoZSBlcXVhdG9yXG4gIGlmIChNYXRoLmFicyh0aGlzLmxhdDEgKyB0aGlzLmxhdDIpIDwgRVBTTE4pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5sYXQyID0gdGhpcy5sYXQyIHx8IHRoaXMubGF0MTtcbiAgdGhpcy50ZW1wID0gdGhpcy5iIC8gdGhpcy5hO1xuICB0aGlzLmVzID0gMSAtIE1hdGgucG93KHRoaXMudGVtcCwgMik7XG4gIHRoaXMuZSA9IE1hdGguc3FydCh0aGlzLmVzKTtcbiAgdGhpcy5lMCA9IGUwZm4odGhpcy5lcyk7XG4gIHRoaXMuZTEgPSBlMWZuKHRoaXMuZXMpO1xuICB0aGlzLmUyID0gZTJmbih0aGlzLmVzKTtcbiAgdGhpcy5lMyA9IGUzZm4odGhpcy5lcyk7XG5cbiAgdGhpcy5zaW5waGkgPSBNYXRoLnNpbih0aGlzLmxhdDEpO1xuICB0aGlzLmNvc3BoaSA9IE1hdGguY29zKHRoaXMubGF0MSk7XG5cbiAgdGhpcy5tczEgPSBtc2Zueih0aGlzLmUsIHRoaXMuc2lucGhpLCB0aGlzLmNvc3BoaSk7XG4gIHRoaXMubWwxID0gbWxmbih0aGlzLmUwLCB0aGlzLmUxLCB0aGlzLmUyLCB0aGlzLmUzLCB0aGlzLmxhdDEpO1xuXG4gIGlmIChNYXRoLmFicyh0aGlzLmxhdDEgLSB0aGlzLmxhdDIpIDwgRVBTTE4pIHtcbiAgICB0aGlzLm5zID0gdGhpcy5zaW5waGk7XG4gIH1cbiAgZWxzZSB7XG4gICAgdGhpcy5zaW5waGkgPSBNYXRoLnNpbih0aGlzLmxhdDIpO1xuICAgIHRoaXMuY29zcGhpID0gTWF0aC5jb3ModGhpcy5sYXQyKTtcbiAgICB0aGlzLm1zMiA9IG1zZm56KHRoaXMuZSwgdGhpcy5zaW5waGksIHRoaXMuY29zcGhpKTtcbiAgICB0aGlzLm1sMiA9IG1sZm4odGhpcy5lMCwgdGhpcy5lMSwgdGhpcy5lMiwgdGhpcy5lMywgdGhpcy5sYXQyKTtcbiAgICB0aGlzLm5zID0gKHRoaXMubXMxIC0gdGhpcy5tczIpIC8gKHRoaXMubWwyIC0gdGhpcy5tbDEpO1xuICB9XG4gIHRoaXMuZyA9IHRoaXMubWwxICsgdGhpcy5tczEgLyB0aGlzLm5zO1xuICB0aGlzLm1sMCA9IG1sZm4odGhpcy5lMCwgdGhpcy5lMSwgdGhpcy5lMiwgdGhpcy5lMywgdGhpcy5sYXQwKTtcbiAgdGhpcy5yaCA9IHRoaXMuYSAqICh0aGlzLmcgLSB0aGlzLm1sMCk7XG59O1xuXG5cbi8qIEVxdWlkaXN0YW50IENvbmljIGZvcndhcmQgZXF1YXRpb25zLS1tYXBwaW5nIGxhdCxsb25nIHRvIHgseVxuICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5leHBvcnRzLmZvcndhcmQgPSBmdW5jdGlvbihwKSB7XG4gIHZhciBsb24gPSBwLng7XG4gIHZhciBsYXQgPSBwLnk7XG4gIHZhciByaDE7XG5cbiAgLyogRm9yd2FyZCBlcXVhdGlvbnNcbiAgICAgIC0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgaWYgKHRoaXMuc3BoZXJlKSB7XG4gICAgcmgxID0gdGhpcy5hICogKHRoaXMuZyAtIGxhdCk7XG4gIH1cbiAgZWxzZSB7XG4gICAgdmFyIG1sID0gbWxmbih0aGlzLmUwLCB0aGlzLmUxLCB0aGlzLmUyLCB0aGlzLmUzLCBsYXQpO1xuICAgIHJoMSA9IHRoaXMuYSAqICh0aGlzLmcgLSBtbCk7XG4gIH1cbiAgdmFyIHRoZXRhID0gdGhpcy5ucyAqIGFkanVzdF9sb24obG9uIC0gdGhpcy5sb25nMCk7XG4gIHZhciB4ID0gdGhpcy54MCArIHJoMSAqIE1hdGguc2luKHRoZXRhKTtcbiAgdmFyIHkgPSB0aGlzLnkwICsgdGhpcy5yaCAtIHJoMSAqIE1hdGguY29zKHRoZXRhKTtcbiAgcC54ID0geDtcbiAgcC55ID0geTtcbiAgcmV0dXJuIHA7XG59O1xuXG4vKiBJbnZlcnNlIGVxdWF0aW9uc1xuICAtLS0tLS0tLS0tLS0tLS0tLSovXG5leHBvcnRzLmludmVyc2UgPSBmdW5jdGlvbihwKSB7XG4gIHAueCAtPSB0aGlzLngwO1xuICBwLnkgPSB0aGlzLnJoIC0gcC55ICsgdGhpcy55MDtcbiAgdmFyIGNvbiwgcmgxLCBsYXQsIGxvbjtcbiAgaWYgKHRoaXMubnMgPj0gMCkge1xuICAgIHJoMSA9IE1hdGguc3FydChwLnggKiBwLnggKyBwLnkgKiBwLnkpO1xuICAgIGNvbiA9IDE7XG4gIH1cbiAgZWxzZSB7XG4gICAgcmgxID0gLU1hdGguc3FydChwLnggKiBwLnggKyBwLnkgKiBwLnkpO1xuICAgIGNvbiA9IC0xO1xuICB9XG4gIHZhciB0aGV0YSA9IDA7XG4gIGlmIChyaDEgIT09IDApIHtcbiAgICB0aGV0YSA9IE1hdGguYXRhbjIoY29uICogcC54LCBjb24gKiBwLnkpO1xuICB9XG5cbiAgaWYgKHRoaXMuc3BoZXJlKSB7XG4gICAgbG9uID0gYWRqdXN0X2xvbih0aGlzLmxvbmcwICsgdGhldGEgLyB0aGlzLm5zKTtcbiAgICBsYXQgPSBhZGp1c3RfbGF0KHRoaXMuZyAtIHJoMSAvIHRoaXMuYSk7XG4gICAgcC54ID0gbG9uO1xuICAgIHAueSA9IGxhdDtcbiAgICByZXR1cm4gcDtcbiAgfVxuICBlbHNlIHtcbiAgICB2YXIgbWwgPSB0aGlzLmcgLSByaDEgLyB0aGlzLmE7XG4gICAgbGF0ID0gaW1sZm4obWwsIHRoaXMuZTAsIHRoaXMuZTEsIHRoaXMuZTIsIHRoaXMuZTMpO1xuICAgIGxvbiA9IGFkanVzdF9sb24odGhpcy5sb25nMCArIHRoZXRhIC8gdGhpcy5ucyk7XG4gICAgcC54ID0gbG9uO1xuICAgIHAueSA9IGxhdDtcbiAgICByZXR1cm4gcDtcbiAgfVxuXG59O1xuZXhwb3J0cy5uYW1lcyA9IFtcIkVxdWlkaXN0YW50X0NvbmljXCIsIFwiZXFkY1wiXTtcbiIsInZhciBGT1JUUEkgPSBNYXRoLlBJLzQ7XG52YXIgc3JhdCA9IHJlcXVpcmUoJy4uL2NvbW1vbi9zcmF0Jyk7XG52YXIgSEFMRl9QSSA9IE1hdGguUEkvMjtcbnZhciBNQVhfSVRFUiA9IDIwO1xuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzcGhpID0gTWF0aC5zaW4odGhpcy5sYXQwKTtcbiAgdmFyIGNwaGkgPSBNYXRoLmNvcyh0aGlzLmxhdDApO1xuICBjcGhpICo9IGNwaGk7XG4gIHRoaXMucmMgPSBNYXRoLnNxcnQoMSAtIHRoaXMuZXMpIC8gKDEgLSB0aGlzLmVzICogc3BoaSAqIHNwaGkpO1xuICB0aGlzLkMgPSBNYXRoLnNxcnQoMSArIHRoaXMuZXMgKiBjcGhpICogY3BoaSAvICgxIC0gdGhpcy5lcykpO1xuICB0aGlzLnBoaWMwID0gTWF0aC5hc2luKHNwaGkgLyB0aGlzLkMpO1xuICB0aGlzLnJhdGV4cCA9IDAuNSAqIHRoaXMuQyAqIHRoaXMuZTtcbiAgdGhpcy5LID0gTWF0aC50YW4oMC41ICogdGhpcy5waGljMCArIEZPUlRQSSkgLyAoTWF0aC5wb3coTWF0aC50YW4oMC41ICogdGhpcy5sYXQwICsgRk9SVFBJKSwgdGhpcy5DKSAqIHNyYXQodGhpcy5lICogc3BoaSwgdGhpcy5yYXRleHApKTtcbn07XG5cbmV4cG9ydHMuZm9yd2FyZCA9IGZ1bmN0aW9uKHApIHtcbiAgdmFyIGxvbiA9IHAueDtcbiAgdmFyIGxhdCA9IHAueTtcblxuICBwLnkgPSAyICogTWF0aC5hdGFuKHRoaXMuSyAqIE1hdGgucG93KE1hdGgudGFuKDAuNSAqIGxhdCArIEZPUlRQSSksIHRoaXMuQykgKiBzcmF0KHRoaXMuZSAqIE1hdGguc2luKGxhdCksIHRoaXMucmF0ZXhwKSkgLSBIQUxGX1BJO1xuICBwLnggPSB0aGlzLkMgKiBsb247XG4gIHJldHVybiBwO1xufTtcblxuZXhwb3J0cy5pbnZlcnNlID0gZnVuY3Rpb24ocCkge1xuICB2YXIgREVMX1RPTCA9IDFlLTE0O1xuICB2YXIgbG9uID0gcC54IC8gdGhpcy5DO1xuICB2YXIgbGF0ID0gcC55O1xuICB2YXIgbnVtID0gTWF0aC5wb3coTWF0aC50YW4oMC41ICogbGF0ICsgRk9SVFBJKSAvIHRoaXMuSywgMSAvIHRoaXMuQyk7XG4gIGZvciAodmFyIGkgPSBNQVhfSVRFUjsgaSA+IDA7IC0taSkge1xuICAgIGxhdCA9IDIgKiBNYXRoLmF0YW4obnVtICogc3JhdCh0aGlzLmUgKiBNYXRoLnNpbihwLnkpLCAtIDAuNSAqIHRoaXMuZSkpIC0gSEFMRl9QSTtcbiAgICBpZiAoTWF0aC5hYnMobGF0IC0gcC55KSA8IERFTF9UT0wpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBwLnkgPSBsYXQ7XG4gIH1cbiAgLyogY29udmVyZ2VuY2UgZmFpbGVkICovXG4gIGlmICghaSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHAueCA9IGxvbjtcbiAgcC55ID0gbGF0O1xuICByZXR1cm4gcDtcbn07XG5leHBvcnRzLm5hbWVzID0gW1wiZ2F1c3NcIl07XG4iLCJ2YXIgYWRqdXN0X2xvbiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9hZGp1c3RfbG9uJyk7XG52YXIgRVBTTE4gPSAxLjBlLTEwO1xudmFyIGFzaW56ID0gcmVxdWlyZSgnLi4vY29tbW9uL2FzaW56Jyk7XG5cbi8qXG4gIHJlZmVyZW5jZTpcbiAgICBXb2xmcmFtIE1hdGh3b3JsZCBcIkdub21vbmljIFByb2plY3Rpb25cIlxuICAgIGh0dHA6Ly9tYXRod29ybGQud29sZnJhbS5jb20vR25vbW9uaWNQcm9qZWN0aW9uLmh0bWxcbiAgICBBY2Nlc3NlZDogMTJ0aCBOb3ZlbWJlciAyMDA5XG4gICovXG5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHtcblxuICAvKiBQbGFjZSBwYXJhbWV0ZXJzIGluIHN0YXRpYyBzdG9yYWdlIGZvciBjb21tb24gdXNlXG4gICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgdGhpcy5zaW5fcDE0ID0gTWF0aC5zaW4odGhpcy5sYXQwKTtcbiAgdGhpcy5jb3NfcDE0ID0gTWF0aC5jb3ModGhpcy5sYXQwKTtcbiAgLy8gQXBwcm94aW1hdGlvbiBmb3IgcHJvamVjdGluZyBwb2ludHMgdG8gdGhlIGhvcml6b24gKGluZmluaXR5KVxuICB0aGlzLmluZmluaXR5X2Rpc3QgPSAxMDAwICogdGhpcy5hO1xuICB0aGlzLnJjID0gMTtcbn07XG5cblxuLyogR25vbW9uaWMgZm9yd2FyZCBlcXVhdGlvbnMtLW1hcHBpbmcgbGF0LGxvbmcgdG8geCx5XG4gICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmV4cG9ydHMuZm9yd2FyZCA9IGZ1bmN0aW9uKHApIHtcbiAgdmFyIHNpbnBoaSwgY29zcGhpOyAvKiBzaW4gYW5kIGNvcyB2YWx1ZSAgICAgICAgKi9cbiAgdmFyIGRsb247IC8qIGRlbHRhIGxvbmdpdHVkZSB2YWx1ZSAgICAgICovXG4gIHZhciBjb3Nsb247IC8qIGNvcyBvZiBsb25naXR1ZGUgICAgICAgICovXG4gIHZhciBrc3A7IC8qIHNjYWxlIGZhY3RvciAgICAgICAgICAqL1xuICB2YXIgZztcbiAgdmFyIHgsIHk7XG4gIHZhciBsb24gPSBwLng7XG4gIHZhciBsYXQgPSBwLnk7XG4gIC8qIEZvcndhcmQgZXF1YXRpb25zXG4gICAgICAtLS0tLS0tLS0tLS0tLS0tLSovXG4gIGRsb24gPSBhZGp1c3RfbG9uKGxvbiAtIHRoaXMubG9uZzApO1xuXG4gIHNpbnBoaSA9IE1hdGguc2luKGxhdCk7XG4gIGNvc3BoaSA9IE1hdGguY29zKGxhdCk7XG5cbiAgY29zbG9uID0gTWF0aC5jb3MoZGxvbik7XG4gIGcgPSB0aGlzLnNpbl9wMTQgKiBzaW5waGkgKyB0aGlzLmNvc19wMTQgKiBjb3NwaGkgKiBjb3Nsb247XG4gIGtzcCA9IDE7XG4gIGlmICgoZyA+IDApIHx8IChNYXRoLmFicyhnKSA8PSBFUFNMTikpIHtcbiAgICB4ID0gdGhpcy54MCArIHRoaXMuYSAqIGtzcCAqIGNvc3BoaSAqIE1hdGguc2luKGRsb24pIC8gZztcbiAgICB5ID0gdGhpcy55MCArIHRoaXMuYSAqIGtzcCAqICh0aGlzLmNvc19wMTQgKiBzaW5waGkgLSB0aGlzLnNpbl9wMTQgKiBjb3NwaGkgKiBjb3Nsb24pIC8gZztcbiAgfVxuICBlbHNlIHtcblxuICAgIC8vIFBvaW50IGlzIGluIHRoZSBvcHBvc2luZyBoZW1pc3BoZXJlIGFuZCBpcyB1bnByb2plY3RhYmxlXG4gICAgLy8gV2Ugc3RpbGwgbmVlZCB0byByZXR1cm4gYSByZWFzb25hYmxlIHBvaW50LCBzbyB3ZSBwcm9qZWN0IFxuICAgIC8vIHRvIGluZmluaXR5LCBvbiBhIGJlYXJpbmcgXG4gICAgLy8gZXF1aXZhbGVudCB0byB0aGUgbm9ydGhlcm4gaGVtaXNwaGVyZSBlcXVpdmFsZW50XG4gICAgLy8gVGhpcyBpcyBhIHJlYXNvbmFibGUgYXBwcm94aW1hdGlvbiBmb3Igc2hvcnQgc2hhcGVzIGFuZCBsaW5lcyB0aGF0IFxuICAgIC8vIHN0cmFkZGxlIHRoZSBob3Jpem9uLlxuXG4gICAgeCA9IHRoaXMueDAgKyB0aGlzLmluZmluaXR5X2Rpc3QgKiBjb3NwaGkgKiBNYXRoLnNpbihkbG9uKTtcbiAgICB5ID0gdGhpcy55MCArIHRoaXMuaW5maW5pdHlfZGlzdCAqICh0aGlzLmNvc19wMTQgKiBzaW5waGkgLSB0aGlzLnNpbl9wMTQgKiBjb3NwaGkgKiBjb3Nsb24pO1xuXG4gIH1cbiAgcC54ID0geDtcbiAgcC55ID0geTtcbiAgcmV0dXJuIHA7XG59O1xuXG5cbmV4cG9ydHMuaW52ZXJzZSA9IGZ1bmN0aW9uKHApIHtcbiAgdmFyIHJoOyAvKiBSaG8gKi9cbiAgdmFyIHNpbmMsIGNvc2M7XG4gIHZhciBjO1xuICB2YXIgbG9uLCBsYXQ7XG5cbiAgLyogSW52ZXJzZSBlcXVhdGlvbnNcbiAgICAgIC0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgcC54ID0gKHAueCAtIHRoaXMueDApIC8gdGhpcy5hO1xuICBwLnkgPSAocC55IC0gdGhpcy55MCkgLyB0aGlzLmE7XG5cbiAgcC54IC89IHRoaXMuazA7XG4gIHAueSAvPSB0aGlzLmswO1xuXG4gIGlmICgocmggPSBNYXRoLnNxcnQocC54ICogcC54ICsgcC55ICogcC55KSkpIHtcbiAgICBjID0gTWF0aC5hdGFuMihyaCwgdGhpcy5yYyk7XG4gICAgc2luYyA9IE1hdGguc2luKGMpO1xuICAgIGNvc2MgPSBNYXRoLmNvcyhjKTtcblxuICAgIGxhdCA9IGFzaW56KGNvc2MgKiB0aGlzLnNpbl9wMTQgKyAocC55ICogc2luYyAqIHRoaXMuY29zX3AxNCkgLyByaCk7XG4gICAgbG9uID0gTWF0aC5hdGFuMihwLnggKiBzaW5jLCByaCAqIHRoaXMuY29zX3AxNCAqIGNvc2MgLSBwLnkgKiB0aGlzLnNpbl9wMTQgKiBzaW5jKTtcbiAgICBsb24gPSBhZGp1c3RfbG9uKHRoaXMubG9uZzAgKyBsb24pO1xuICB9XG4gIGVsc2Uge1xuICAgIGxhdCA9IHRoaXMucGhpYzA7XG4gICAgbG9uID0gMDtcbiAgfVxuXG4gIHAueCA9IGxvbjtcbiAgcC55ID0gbGF0O1xuICByZXR1cm4gcDtcbn07XG5leHBvcnRzLm5hbWVzID0gW1wiZ25vbVwiXTtcbiIsInZhciBhZGp1c3RfbG9uID0gcmVxdWlyZSgnLi4vY29tbW9uL2FkanVzdF9sb24nKTtcbmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmEgPSA2Mzc3Mzk3LjE1NTtcbiAgdGhpcy5lcyA9IDAuMDA2Njc0MzcyMjMwNjE0O1xuICB0aGlzLmUgPSBNYXRoLnNxcnQodGhpcy5lcyk7XG4gIGlmICghdGhpcy5sYXQwKSB7XG4gICAgdGhpcy5sYXQwID0gMC44NjM5Mzc5Nzk3MzcxOTM7XG4gIH1cbiAgaWYgKCF0aGlzLmxvbmcwKSB7XG4gICAgdGhpcy5sb25nMCA9IDAuNzQxNzY0OTMyMDk3NTkwMSAtIDAuMzA4MzQxNTAxMTg1NjY1O1xuICB9XG4gIC8qIGlmIHNjYWxlIG5vdCBzZXQgZGVmYXVsdCB0byAwLjk5OTkgKi9cbiAgaWYgKCF0aGlzLmswKSB7XG4gICAgdGhpcy5rMCA9IDAuOTk5OTtcbiAgfVxuICB0aGlzLnM0NSA9IDAuNzg1Mzk4MTYzMzk3NDQ4OyAvKiA0NSAqL1xuICB0aGlzLnM5MCA9IDIgKiB0aGlzLnM0NTtcbiAgdGhpcy5maTAgPSB0aGlzLmxhdDA7XG4gIHRoaXMuZTIgPSB0aGlzLmVzO1xuICB0aGlzLmUgPSBNYXRoLnNxcnQodGhpcy5lMik7XG4gIHRoaXMuYWxmYSA9IE1hdGguc3FydCgxICsgKHRoaXMuZTIgKiBNYXRoLnBvdyhNYXRoLmNvcyh0aGlzLmZpMCksIDQpKSAvICgxIC0gdGhpcy5lMikpO1xuICB0aGlzLnVxID0gMS4wNDIxNjg1NjM4MDQ3NDtcbiAgdGhpcy51MCA9IE1hdGguYXNpbihNYXRoLnNpbih0aGlzLmZpMCkgLyB0aGlzLmFsZmEpO1xuICB0aGlzLmcgPSBNYXRoLnBvdygoMSArIHRoaXMuZSAqIE1hdGguc2luKHRoaXMuZmkwKSkgLyAoMSAtIHRoaXMuZSAqIE1hdGguc2luKHRoaXMuZmkwKSksIHRoaXMuYWxmYSAqIHRoaXMuZSAvIDIpO1xuICB0aGlzLmsgPSBNYXRoLnRhbih0aGlzLnUwIC8gMiArIHRoaXMuczQ1KSAvIE1hdGgucG93KE1hdGgudGFuKHRoaXMuZmkwIC8gMiArIHRoaXMuczQ1KSwgdGhpcy5hbGZhKSAqIHRoaXMuZztcbiAgdGhpcy5rMSA9IHRoaXMuazA7XG4gIHRoaXMubjAgPSB0aGlzLmEgKiBNYXRoLnNxcnQoMSAtIHRoaXMuZTIpIC8gKDEgLSB0aGlzLmUyICogTWF0aC5wb3coTWF0aC5zaW4odGhpcy5maTApLCAyKSk7XG4gIHRoaXMuczAgPSAxLjM3MDA4MzQ2MjgxNTU1O1xuICB0aGlzLm4gPSBNYXRoLnNpbih0aGlzLnMwKTtcbiAgdGhpcy5ybzAgPSB0aGlzLmsxICogdGhpcy5uMCAvIE1hdGgudGFuKHRoaXMuczApO1xuICB0aGlzLmFkID0gdGhpcy5zOTAgLSB0aGlzLnVxO1xufTtcblxuLyogZWxsaXBzb2lkICovXG4vKiBjYWxjdWxhdGUgeHkgZnJvbSBsYXQvbG9uICovXG4vKiBDb25zdGFudHMsIGlkZW50aWNhbCB0byBpbnZlcnNlIHRyYW5zZm9ybSBmdW5jdGlvbiAqL1xuZXhwb3J0cy5mb3J3YXJkID0gZnVuY3Rpb24ocCkge1xuICB2YXIgZ2ZpLCB1LCBkZWx0YXYsIHMsIGQsIGVwcywgcm87XG4gIHZhciBsb24gPSBwLng7XG4gIHZhciBsYXQgPSBwLnk7XG4gIHZhciBkZWx0YV9sb24gPSBhZGp1c3RfbG9uKGxvbiAtIHRoaXMubG9uZzApO1xuICAvKiBUcmFuc2Zvcm1hdGlvbiAqL1xuICBnZmkgPSBNYXRoLnBvdygoKDEgKyB0aGlzLmUgKiBNYXRoLnNpbihsYXQpKSAvICgxIC0gdGhpcy5lICogTWF0aC5zaW4obGF0KSkpLCAodGhpcy5hbGZhICogdGhpcy5lIC8gMikpO1xuICB1ID0gMiAqIChNYXRoLmF0YW4odGhpcy5rICogTWF0aC5wb3coTWF0aC50YW4obGF0IC8gMiArIHRoaXMuczQ1KSwgdGhpcy5hbGZhKSAvIGdmaSkgLSB0aGlzLnM0NSk7XG4gIGRlbHRhdiA9IC1kZWx0YV9sb24gKiB0aGlzLmFsZmE7XG4gIHMgPSBNYXRoLmFzaW4oTWF0aC5jb3ModGhpcy5hZCkgKiBNYXRoLnNpbih1KSArIE1hdGguc2luKHRoaXMuYWQpICogTWF0aC5jb3ModSkgKiBNYXRoLmNvcyhkZWx0YXYpKTtcbiAgZCA9IE1hdGguYXNpbihNYXRoLmNvcyh1KSAqIE1hdGguc2luKGRlbHRhdikgLyBNYXRoLmNvcyhzKSk7XG4gIGVwcyA9IHRoaXMubiAqIGQ7XG4gIHJvID0gdGhpcy5ybzAgKiBNYXRoLnBvdyhNYXRoLnRhbih0aGlzLnMwIC8gMiArIHRoaXMuczQ1KSwgdGhpcy5uKSAvIE1hdGgucG93KE1hdGgudGFuKHMgLyAyICsgdGhpcy5zNDUpLCB0aGlzLm4pO1xuICBwLnkgPSBybyAqIE1hdGguY29zKGVwcykgLyAxO1xuICBwLnggPSBybyAqIE1hdGguc2luKGVwcykgLyAxO1xuXG4gIGlmICghdGhpcy5jemVjaCkge1xuICAgIHAueSAqPSAtMTtcbiAgICBwLnggKj0gLTE7XG4gIH1cbiAgcmV0dXJuIChwKTtcbn07XG5cbi8qIGNhbGN1bGF0ZSBsYXQvbG9uIGZyb20geHkgKi9cbmV4cG9ydHMuaW52ZXJzZSA9IGZ1bmN0aW9uKHApIHtcbiAgdmFyIHUsIGRlbHRhdiwgcywgZCwgZXBzLCBybywgZmkxO1xuICB2YXIgb2s7XG5cbiAgLyogVHJhbnNmb3JtYXRpb24gKi9cbiAgLyogcmV2ZXJ0IHksIHgqL1xuICB2YXIgdG1wID0gcC54O1xuICBwLnggPSBwLnk7XG4gIHAueSA9IHRtcDtcbiAgaWYgKCF0aGlzLmN6ZWNoKSB7XG4gICAgcC55ICo9IC0xO1xuICAgIHAueCAqPSAtMTtcbiAgfVxuICBybyA9IE1hdGguc3FydChwLnggKiBwLnggKyBwLnkgKiBwLnkpO1xuICBlcHMgPSBNYXRoLmF0YW4yKHAueSwgcC54KTtcbiAgZCA9IGVwcyAvIE1hdGguc2luKHRoaXMuczApO1xuICBzID0gMiAqIChNYXRoLmF0YW4oTWF0aC5wb3codGhpcy5ybzAgLyBybywgMSAvIHRoaXMubikgKiBNYXRoLnRhbih0aGlzLnMwIC8gMiArIHRoaXMuczQ1KSkgLSB0aGlzLnM0NSk7XG4gIHUgPSBNYXRoLmFzaW4oTWF0aC5jb3ModGhpcy5hZCkgKiBNYXRoLnNpbihzKSAtIE1hdGguc2luKHRoaXMuYWQpICogTWF0aC5jb3MocykgKiBNYXRoLmNvcyhkKSk7XG4gIGRlbHRhdiA9IE1hdGguYXNpbihNYXRoLmNvcyhzKSAqIE1hdGguc2luKGQpIC8gTWF0aC5jb3ModSkpO1xuICBwLnggPSB0aGlzLmxvbmcwIC0gZGVsdGF2IC8gdGhpcy5hbGZhO1xuICBmaTEgPSB1O1xuICBvayA9IDA7XG4gIHZhciBpdGVyID0gMDtcbiAgZG8ge1xuICAgIHAueSA9IDIgKiAoTWF0aC5hdGFuKE1hdGgucG93KHRoaXMuaywgLSAxIC8gdGhpcy5hbGZhKSAqIE1hdGgucG93KE1hdGgudGFuKHUgLyAyICsgdGhpcy5zNDUpLCAxIC8gdGhpcy5hbGZhKSAqIE1hdGgucG93KCgxICsgdGhpcy5lICogTWF0aC5zaW4oZmkxKSkgLyAoMSAtIHRoaXMuZSAqIE1hdGguc2luKGZpMSkpLCB0aGlzLmUgLyAyKSkgLSB0aGlzLnM0NSk7XG4gICAgaWYgKE1hdGguYWJzKGZpMSAtIHAueSkgPCAwLjAwMDAwMDAwMDEpIHtcbiAgICAgIG9rID0gMTtcbiAgICB9XG4gICAgZmkxID0gcC55O1xuICAgIGl0ZXIgKz0gMTtcbiAgfSB3aGlsZSAob2sgPT09IDAgJiYgaXRlciA8IDE1KTtcbiAgaWYgKGl0ZXIgPj0gMTUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAocCk7XG59O1xuZXhwb3J0cy5uYW1lcyA9IFtcIktyb3Zha1wiLCBcImtyb3Zha1wiXTtcbiIsInZhciBIQUxGX1BJID0gTWF0aC5QSS8yO1xudmFyIEZPUlRQSSA9IE1hdGguUEkvNDtcbnZhciBFUFNMTiA9IDEuMGUtMTA7XG52YXIgcXNmbnogPSByZXF1aXJlKCcuLi9jb21tb24vcXNmbnonKTtcbnZhciBhZGp1c3RfbG9uID0gcmVxdWlyZSgnLi4vY29tbW9uL2FkanVzdF9sb24nKTtcbi8qXG4gIHJlZmVyZW5jZVxuICAgIFwiTmV3IEVxdWFsLUFyZWEgTWFwIFByb2plY3Rpb25zIGZvciBOb25jaXJjdWxhciBSZWdpb25zXCIsIEpvaG4gUC4gU255ZGVyLFxuICAgIFRoZSBBbWVyaWNhbiBDYXJ0b2dyYXBoZXIsIFZvbCAxNSwgTm8uIDQsIE9jdG9iZXIgMTk4OCwgcHAuIDM0MS0zNTUuXG4gICovXG5cbmV4cG9ydHMuU19QT0xFID0gMTtcbmV4cG9ydHMuTl9QT0xFID0gMjtcbmV4cG9ydHMuRVFVSVQgPSAzO1xuZXhwb3J0cy5PQkxJUSA9IDQ7XG5cblxuLyogSW5pdGlhbGl6ZSB0aGUgTGFtYmVydCBBemltdXRoYWwgRXF1YWwgQXJlYSBwcm9qZWN0aW9uXG4gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHQgPSBNYXRoLmFicyh0aGlzLmxhdDApO1xuICBpZiAoTWF0aC5hYnModCAtIEhBTEZfUEkpIDwgRVBTTE4pIHtcbiAgICB0aGlzLm1vZGUgPSB0aGlzLmxhdDAgPCAwID8gdGhpcy5TX1BPTEUgOiB0aGlzLk5fUE9MRTtcbiAgfVxuICBlbHNlIGlmIChNYXRoLmFicyh0KSA8IEVQU0xOKSB7XG4gICAgdGhpcy5tb2RlID0gdGhpcy5FUVVJVDtcbiAgfVxuICBlbHNlIHtcbiAgICB0aGlzLm1vZGUgPSB0aGlzLk9CTElRO1xuICB9XG4gIGlmICh0aGlzLmVzID4gMCkge1xuICAgIHZhciBzaW5waGk7XG5cbiAgICB0aGlzLnFwID0gcXNmbnoodGhpcy5lLCAxKTtcbiAgICB0aGlzLm1tZiA9IDAuNSAvICgxIC0gdGhpcy5lcyk7XG4gICAgdGhpcy5hcGEgPSB0aGlzLmF1dGhzZXQodGhpcy5lcyk7XG4gICAgc3dpdGNoICh0aGlzLm1vZGUpIHtcbiAgICBjYXNlIHRoaXMuTl9QT0xFOlxuICAgICAgdGhpcy5kZCA9IDE7XG4gICAgICBicmVhaztcbiAgICBjYXNlIHRoaXMuU19QT0xFOlxuICAgICAgdGhpcy5kZCA9IDE7XG4gICAgICBicmVhaztcbiAgICBjYXNlIHRoaXMuRVFVSVQ6XG4gICAgICB0aGlzLnJxID0gTWF0aC5zcXJ0KDAuNSAqIHRoaXMucXApO1xuICAgICAgdGhpcy5kZCA9IDEgLyB0aGlzLnJxO1xuICAgICAgdGhpcy54bWYgPSAxO1xuICAgICAgdGhpcy55bWYgPSAwLjUgKiB0aGlzLnFwO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSB0aGlzLk9CTElROlxuICAgICAgdGhpcy5ycSA9IE1hdGguc3FydCgwLjUgKiB0aGlzLnFwKTtcbiAgICAgIHNpbnBoaSA9IE1hdGguc2luKHRoaXMubGF0MCk7XG4gICAgICB0aGlzLnNpbmIxID0gcXNmbnoodGhpcy5lLCBzaW5waGkpIC8gdGhpcy5xcDtcbiAgICAgIHRoaXMuY29zYjEgPSBNYXRoLnNxcnQoMSAtIHRoaXMuc2luYjEgKiB0aGlzLnNpbmIxKTtcbiAgICAgIHRoaXMuZGQgPSBNYXRoLmNvcyh0aGlzLmxhdDApIC8gKE1hdGguc3FydCgxIC0gdGhpcy5lcyAqIHNpbnBoaSAqIHNpbnBoaSkgKiB0aGlzLnJxICogdGhpcy5jb3NiMSk7XG4gICAgICB0aGlzLnltZiA9ICh0aGlzLnhtZiA9IHRoaXMucnEpIC8gdGhpcy5kZDtcbiAgICAgIHRoaXMueG1mICo9IHRoaXMuZGQ7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgaWYgKHRoaXMubW9kZSA9PT0gdGhpcy5PQkxJUSkge1xuICAgICAgdGhpcy5zaW5waDAgPSBNYXRoLnNpbih0aGlzLmxhdDApO1xuICAgICAgdGhpcy5jb3NwaDAgPSBNYXRoLmNvcyh0aGlzLmxhdDApO1xuICAgIH1cbiAgfVxufTtcblxuLyogTGFtYmVydCBBemltdXRoYWwgRXF1YWwgQXJlYSBmb3J3YXJkIGVxdWF0aW9ucy0tbWFwcGluZyBsYXQsbG9uZyB0byB4LHlcbiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuZXhwb3J0cy5mb3J3YXJkID0gZnVuY3Rpb24ocCkge1xuXG4gIC8qIEZvcndhcmQgZXF1YXRpb25zXG4gICAgICAtLS0tLS0tLS0tLS0tLS0tLSovXG4gIHZhciB4LCB5LCBjb3NsYW0sIHNpbmxhbSwgc2lucGhpLCBxLCBzaW5iLCBjb3NiLCBiLCBjb3NwaGk7XG4gIHZhciBsYW0gPSBwLng7XG4gIHZhciBwaGkgPSBwLnk7XG5cbiAgbGFtID0gYWRqdXN0X2xvbihsYW0gLSB0aGlzLmxvbmcwKTtcblxuICBpZiAodGhpcy5zcGhlcmUpIHtcbiAgICBzaW5waGkgPSBNYXRoLnNpbihwaGkpO1xuICAgIGNvc3BoaSA9IE1hdGguY29zKHBoaSk7XG4gICAgY29zbGFtID0gTWF0aC5jb3MobGFtKTtcbiAgICBpZiAodGhpcy5tb2RlID09PSB0aGlzLk9CTElRIHx8IHRoaXMubW9kZSA9PT0gdGhpcy5FUVVJVCkge1xuICAgICAgeSA9ICh0aGlzLm1vZGUgPT09IHRoaXMuRVFVSVQpID8gMSArIGNvc3BoaSAqIGNvc2xhbSA6IDEgKyB0aGlzLnNpbnBoMCAqIHNpbnBoaSArIHRoaXMuY29zcGgwICogY29zcGhpICogY29zbGFtO1xuICAgICAgaWYgKHkgPD0gRVBTTE4pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICB5ID0gTWF0aC5zcXJ0KDIgLyB5KTtcbiAgICAgIHggPSB5ICogY29zcGhpICogTWF0aC5zaW4obGFtKTtcbiAgICAgIHkgKj0gKHRoaXMubW9kZSA9PT0gdGhpcy5FUVVJVCkgPyBzaW5waGkgOiB0aGlzLmNvc3BoMCAqIHNpbnBoaSAtIHRoaXMuc2lucGgwICogY29zcGhpICogY29zbGFtO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLm1vZGUgPT09IHRoaXMuTl9QT0xFIHx8IHRoaXMubW9kZSA9PT0gdGhpcy5TX1BPTEUpIHtcbiAgICAgIGlmICh0aGlzLm1vZGUgPT09IHRoaXMuTl9QT0xFKSB7XG4gICAgICAgIGNvc2xhbSA9IC1jb3NsYW07XG4gICAgICB9XG4gICAgICBpZiAoTWF0aC5hYnMocGhpICsgdGhpcy5waGkwKSA8IEVQU0xOKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgeSA9IEZPUlRQSSAtIHBoaSAqIDAuNTtcbiAgICAgIHkgPSAyICogKCh0aGlzLm1vZGUgPT09IHRoaXMuU19QT0xFKSA/IE1hdGguY29zKHkpIDogTWF0aC5zaW4oeSkpO1xuICAgICAgeCA9IHkgKiBNYXRoLnNpbihsYW0pO1xuICAgICAgeSAqPSBjb3NsYW07XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIHNpbmIgPSAwO1xuICAgIGNvc2IgPSAwO1xuICAgIGIgPSAwO1xuICAgIGNvc2xhbSA9IE1hdGguY29zKGxhbSk7XG4gICAgc2lubGFtID0gTWF0aC5zaW4obGFtKTtcbiAgICBzaW5waGkgPSBNYXRoLnNpbihwaGkpO1xuICAgIHEgPSBxc2Zueih0aGlzLmUsIHNpbnBoaSk7XG4gICAgaWYgKHRoaXMubW9kZSA9PT0gdGhpcy5PQkxJUSB8fCB0aGlzLm1vZGUgPT09IHRoaXMuRVFVSVQpIHtcbiAgICAgIHNpbmIgPSBxIC8gdGhpcy5xcDtcbiAgICAgIGNvc2IgPSBNYXRoLnNxcnQoMSAtIHNpbmIgKiBzaW5iKTtcbiAgICB9XG4gICAgc3dpdGNoICh0aGlzLm1vZGUpIHtcbiAgICBjYXNlIHRoaXMuT0JMSVE6XG4gICAgICBiID0gMSArIHRoaXMuc2luYjEgKiBzaW5iICsgdGhpcy5jb3NiMSAqIGNvc2IgKiBjb3NsYW07XG4gICAgICBicmVhaztcbiAgICBjYXNlIHRoaXMuRVFVSVQ6XG4gICAgICBiID0gMSArIGNvc2IgKiBjb3NsYW07XG4gICAgICBicmVhaztcbiAgICBjYXNlIHRoaXMuTl9QT0xFOlxuICAgICAgYiA9IEhBTEZfUEkgKyBwaGk7XG4gICAgICBxID0gdGhpcy5xcCAtIHE7XG4gICAgICBicmVhaztcbiAgICBjYXNlIHRoaXMuU19QT0xFOlxuICAgICAgYiA9IHBoaSAtIEhBTEZfUEk7XG4gICAgICBxID0gdGhpcy5xcCArIHE7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKE1hdGguYWJzKGIpIDwgRVBTTE4pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xuICAgIGNhc2UgdGhpcy5PQkxJUTpcbiAgICBjYXNlIHRoaXMuRVFVSVQ6XG4gICAgICBiID0gTWF0aC5zcXJ0KDIgLyBiKTtcbiAgICAgIGlmICh0aGlzLm1vZGUgPT09IHRoaXMuT0JMSVEpIHtcbiAgICAgICAgeSA9IHRoaXMueW1mICogYiAqICh0aGlzLmNvc2IxICogc2luYiAtIHRoaXMuc2luYjEgKiBjb3NiICogY29zbGFtKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB5ID0gKGIgPSBNYXRoLnNxcnQoMiAvICgxICsgY29zYiAqIGNvc2xhbSkpKSAqIHNpbmIgKiB0aGlzLnltZjtcbiAgICAgIH1cbiAgICAgIHggPSB0aGlzLnhtZiAqIGIgKiBjb3NiICogc2lubGFtO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSB0aGlzLk5fUE9MRTpcbiAgICBjYXNlIHRoaXMuU19QT0xFOlxuICAgICAgaWYgKHEgPj0gMCkge1xuICAgICAgICB4ID0gKGIgPSBNYXRoLnNxcnQocSkpICogc2lubGFtO1xuICAgICAgICB5ID0gY29zbGFtICogKCh0aGlzLm1vZGUgPT09IHRoaXMuU19QT0xFKSA/IGIgOiAtYik7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgeCA9IHkgPSAwO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcC54ID0gdGhpcy5hICogeCArIHRoaXMueDA7XG4gIHAueSA9IHRoaXMuYSAqIHkgKyB0aGlzLnkwO1xuICByZXR1cm4gcDtcbn07XG5cbi8qIEludmVyc2UgZXF1YXRpb25zXG4gIC0tLS0tLS0tLS0tLS0tLS0tKi9cbmV4cG9ydHMuaW52ZXJzZSA9IGZ1bmN0aW9uKHApIHtcbiAgcC54IC09IHRoaXMueDA7XG4gIHAueSAtPSB0aGlzLnkwO1xuICB2YXIgeCA9IHAueCAvIHRoaXMuYTtcbiAgdmFyIHkgPSBwLnkgLyB0aGlzLmE7XG4gIHZhciBsYW0sIHBoaSwgY0NlLCBzQ2UsIHEsIHJobywgYWI7XG5cbiAgaWYgKHRoaXMuc3BoZXJlKSB7XG4gICAgdmFyIGNvc3ogPSAwLFxuICAgICAgcmgsIHNpbnogPSAwO1xuXG4gICAgcmggPSBNYXRoLnNxcnQoeCAqIHggKyB5ICogeSk7XG4gICAgcGhpID0gcmggKiAwLjU7XG4gICAgaWYgKHBoaSA+IDEpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBwaGkgPSAyICogTWF0aC5hc2luKHBoaSk7XG4gICAgaWYgKHRoaXMubW9kZSA9PT0gdGhpcy5PQkxJUSB8fCB0aGlzLm1vZGUgPT09IHRoaXMuRVFVSVQpIHtcbiAgICAgIHNpbnogPSBNYXRoLnNpbihwaGkpO1xuICAgICAgY29zeiA9IE1hdGguY29zKHBoaSk7XG4gICAgfVxuICAgIHN3aXRjaCAodGhpcy5tb2RlKSB7XG4gICAgY2FzZSB0aGlzLkVRVUlUOlxuICAgICAgcGhpID0gKE1hdGguYWJzKHJoKSA8PSBFUFNMTikgPyAwIDogTWF0aC5hc2luKHkgKiBzaW56IC8gcmgpO1xuICAgICAgeCAqPSBzaW56O1xuICAgICAgeSA9IGNvc3ogKiByaDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgdGhpcy5PQkxJUTpcbiAgICAgIHBoaSA9IChNYXRoLmFicyhyaCkgPD0gRVBTTE4pID8gdGhpcy5waGkwIDogTWF0aC5hc2luKGNvc3ogKiB0aGlzLnNpbnBoMCArIHkgKiBzaW56ICogdGhpcy5jb3NwaDAgLyByaCk7XG4gICAgICB4ICo9IHNpbnogKiB0aGlzLmNvc3BoMDtcbiAgICAgIHkgPSAoY29zeiAtIE1hdGguc2luKHBoaSkgKiB0aGlzLnNpbnBoMCkgKiByaDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgdGhpcy5OX1BPTEU6XG4gICAgICB5ID0gLXk7XG4gICAgICBwaGkgPSBIQUxGX1BJIC0gcGhpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSB0aGlzLlNfUE9MRTpcbiAgICAgIHBoaSAtPSBIQUxGX1BJO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGxhbSA9ICh5ID09PSAwICYmICh0aGlzLm1vZGUgPT09IHRoaXMuRVFVSVQgfHwgdGhpcy5tb2RlID09PSB0aGlzLk9CTElRKSkgPyAwIDogTWF0aC5hdGFuMih4LCB5KTtcbiAgfVxuICBlbHNlIHtcbiAgICBhYiA9IDA7XG4gICAgaWYgKHRoaXMubW9kZSA9PT0gdGhpcy5PQkxJUSB8fCB0aGlzLm1vZGUgPT09IHRoaXMuRVFVSVQpIHtcbiAgICAgIHggLz0gdGhpcy5kZDtcbiAgICAgIHkgKj0gdGhpcy5kZDtcbiAgICAgIHJobyA9IE1hdGguc3FydCh4ICogeCArIHkgKiB5KTtcbiAgICAgIGlmIChyaG8gPCBFUFNMTikge1xuICAgICAgICBwLnggPSAwO1xuICAgICAgICBwLnkgPSB0aGlzLnBoaTA7XG4gICAgICAgIHJldHVybiBwO1xuICAgICAgfVxuICAgICAgc0NlID0gMiAqIE1hdGguYXNpbigwLjUgKiByaG8gLyB0aGlzLnJxKTtcbiAgICAgIGNDZSA9IE1hdGguY29zKHNDZSk7XG4gICAgICB4ICo9IChzQ2UgPSBNYXRoLnNpbihzQ2UpKTtcbiAgICAgIGlmICh0aGlzLm1vZGUgPT09IHRoaXMuT0JMSVEpIHtcbiAgICAgICAgYWIgPSBjQ2UgKiB0aGlzLnNpbmIxICsgeSAqIHNDZSAqIHRoaXMuY29zYjEgLyByaG87XG4gICAgICAgIHEgPSB0aGlzLnFwICogYWI7XG4gICAgICAgIHkgPSByaG8gKiB0aGlzLmNvc2IxICogY0NlIC0geSAqIHRoaXMuc2luYjEgKiBzQ2U7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgYWIgPSB5ICogc0NlIC8gcmhvO1xuICAgICAgICBxID0gdGhpcy5xcCAqIGFiO1xuICAgICAgICB5ID0gcmhvICogY0NlO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLm1vZGUgPT09IHRoaXMuTl9QT0xFIHx8IHRoaXMubW9kZSA9PT0gdGhpcy5TX1BPTEUpIHtcbiAgICAgIGlmICh0aGlzLm1vZGUgPT09IHRoaXMuTl9QT0xFKSB7XG4gICAgICAgIHkgPSAteTtcbiAgICAgIH1cbiAgICAgIHEgPSAoeCAqIHggKyB5ICogeSk7XG4gICAgICBpZiAoIXEpIHtcbiAgICAgICAgcC54ID0gMDtcbiAgICAgICAgcC55ID0gdGhpcy5waGkwO1xuICAgICAgICByZXR1cm4gcDtcbiAgICAgIH1cbiAgICAgIGFiID0gMSAtIHEgLyB0aGlzLnFwO1xuICAgICAgaWYgKHRoaXMubW9kZSA9PT0gdGhpcy5TX1BPTEUpIHtcbiAgICAgICAgYWIgPSAtYWI7XG4gICAgICB9XG4gICAgfVxuICAgIGxhbSA9IE1hdGguYXRhbjIoeCwgeSk7XG4gICAgcGhpID0gdGhpcy5hdXRobGF0KE1hdGguYXNpbihhYiksIHRoaXMuYXBhKTtcbiAgfVxuXG5cbiAgcC54ID0gYWRqdXN0X2xvbih0aGlzLmxvbmcwICsgbGFtKTtcbiAgcC55ID0gcGhpO1xuICByZXR1cm4gcDtcbn07XG5cbi8qIGRldGVybWluZSBsYXRpdHVkZSBmcm9tIGF1dGhhbGljIGxhdGl0dWRlICovXG5leHBvcnRzLlAwMCA9IDAuMzMzMzMzMzMzMzMzMzMzMzMzMzM7XG5leHBvcnRzLlAwMSA9IDAuMTcyMjIyMjIyMjIyMjIyMjIyMjI7XG5leHBvcnRzLlAwMiA9IDAuMTAyNTc5MzY1MDc5MzY1MDc5MzY7XG5leHBvcnRzLlAxMCA9IDAuMDYzODg4ODg4ODg4ODg4ODg4ODg7XG5leHBvcnRzLlAxMSA9IDAuMDY2NDAyMTE2NDAyMTE2NDAyMTE7XG5leHBvcnRzLlAyMCA9IDAuMDE2NDE1MDEyOTQyMTkxNTQ0NDM7XG5cbmV4cG9ydHMuYXV0aHNldCA9IGZ1bmN0aW9uKGVzKSB7XG4gIHZhciB0O1xuICB2YXIgQVBBID0gW107XG4gIEFQQVswXSA9IGVzICogdGhpcy5QMDA7XG4gIHQgPSBlcyAqIGVzO1xuICBBUEFbMF0gKz0gdCAqIHRoaXMuUDAxO1xuICBBUEFbMV0gPSB0ICogdGhpcy5QMTA7XG4gIHQgKj0gZXM7XG4gIEFQQVswXSArPSB0ICogdGhpcy5QMDI7XG4gIEFQQVsxXSArPSB0ICogdGhpcy5QMTE7XG4gIEFQQVsyXSA9IHQgKiB0aGlzLlAyMDtcbiAgcmV0dXJuIEFQQTtcbn07XG5cbmV4cG9ydHMuYXV0aGxhdCA9IGZ1bmN0aW9uKGJldGEsIEFQQSkge1xuICB2YXIgdCA9IGJldGEgKyBiZXRhO1xuICByZXR1cm4gKGJldGEgKyBBUEFbMF0gKiBNYXRoLnNpbih0KSArIEFQQVsxXSAqIE1hdGguc2luKHQgKyB0KSArIEFQQVsyXSAqIE1hdGguc2luKHQgKyB0ICsgdCkpO1xufTtcbmV4cG9ydHMubmFtZXMgPSBbXCJMYW1iZXJ0IEF6aW11dGhhbCBFcXVhbCBBcmVhXCIsIFwiTGFtYmVydF9BemltdXRoYWxfRXF1YWxfQXJlYVwiLCBcImxhZWFcIl07XG4iLCJ2YXIgRVBTTE4gPSAxLjBlLTEwO1xudmFyIG1zZm56ID0gcmVxdWlyZSgnLi4vY29tbW9uL21zZm56Jyk7XG52YXIgdHNmbnogPSByZXF1aXJlKCcuLi9jb21tb24vdHNmbnonKTtcbnZhciBIQUxGX1BJID0gTWF0aC5QSS8yO1xudmFyIHNpZ24gPSByZXF1aXJlKCcuLi9jb21tb24vc2lnbicpO1xudmFyIGFkanVzdF9sb24gPSByZXF1aXJlKCcuLi9jb21tb24vYWRqdXN0X2xvbicpO1xudmFyIHBoaTJ6ID0gcmVxdWlyZSgnLi4vY29tbW9uL3BoaTJ6Jyk7XG5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHtcblxuICAvLyBhcnJheSBvZjogIHJfbWFqLHJfbWluLGxhdDEsbGF0MixjX2xvbixjX2xhdCxmYWxzZV9lYXN0LGZhbHNlX25vcnRoXG4gIC8vZG91YmxlIGNfbGF0OyAgICAgICAgICAgICAgICAgICAvKiBjZW50ZXIgbGF0aXR1ZGUgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgLy9kb3VibGUgY19sb247ICAgICAgICAgICAgICAgICAgIC8qIGNlbnRlciBsb25naXR1ZGUgICAgICAgICAgICAgICAgICAgICAqL1xuICAvL2RvdWJsZSBsYXQxOyAgICAgICAgICAgICAgICAgICAgLyogZmlyc3Qgc3RhbmRhcmQgcGFyYWxsZWwgICAgICAgICAgICAgICovXG4gIC8vZG91YmxlIGxhdDI7ICAgICAgICAgICAgICAgICAgICAvKiBzZWNvbmQgc3RhbmRhcmQgcGFyYWxsZWwgICAgICAgICAgICAgKi9cbiAgLy9kb3VibGUgcl9tYWo7ICAgICAgICAgICAgICAgICAgIC8qIG1ham9yIGF4aXMgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuICAvL2RvdWJsZSByX21pbjsgICAgICAgICAgICAgICAgICAgLyogbWlub3IgYXhpcyAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gIC8vZG91YmxlIGZhbHNlX2Vhc3Q7ICAgICAgICAgICAgICAvKiB4IG9mZnNldCBpbiBtZXRlcnMgICAgICAgICAgICAgICAgICAgKi9cbiAgLy9kb3VibGUgZmFsc2Vfbm9ydGg7ICAgICAgICAgICAgIC8qIHkgb2Zmc2V0IGluIG1ldGVycyAgICAgICAgICAgICAgICAgICAqL1xuXG4gIGlmICghdGhpcy5sYXQyKSB7XG4gICAgdGhpcy5sYXQyID0gdGhpcy5sYXQxO1xuICB9IC8vaWYgbGF0MiBpcyBub3QgZGVmaW5lZFxuICBpZiAoIXRoaXMuazApIHtcbiAgICB0aGlzLmswID0gMTtcbiAgfVxuICB0aGlzLngwID0gdGhpcy54MCB8fCAwO1xuICB0aGlzLnkwID0gdGhpcy55MCB8fCAwO1xuICAvLyBTdGFuZGFyZCBQYXJhbGxlbHMgY2Fubm90IGJlIGVxdWFsIGFuZCBvbiBvcHBvc2l0ZSBzaWRlcyBvZiB0aGUgZXF1YXRvclxuICBpZiAoTWF0aC5hYnModGhpcy5sYXQxICsgdGhpcy5sYXQyKSA8IEVQU0xOKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHRlbXAgPSB0aGlzLmIgLyB0aGlzLmE7XG4gIHRoaXMuZSA9IE1hdGguc3FydCgxIC0gdGVtcCAqIHRlbXApO1xuXG4gIHZhciBzaW4xID0gTWF0aC5zaW4odGhpcy5sYXQxKTtcbiAgdmFyIGNvczEgPSBNYXRoLmNvcyh0aGlzLmxhdDEpO1xuICB2YXIgbXMxID0gbXNmbnoodGhpcy5lLCBzaW4xLCBjb3MxKTtcbiAgdmFyIHRzMSA9IHRzZm56KHRoaXMuZSwgdGhpcy5sYXQxLCBzaW4xKTtcblxuICB2YXIgc2luMiA9IE1hdGguc2luKHRoaXMubGF0Mik7XG4gIHZhciBjb3MyID0gTWF0aC5jb3ModGhpcy5sYXQyKTtcbiAgdmFyIG1zMiA9IG1zZm56KHRoaXMuZSwgc2luMiwgY29zMik7XG4gIHZhciB0czIgPSB0c2Zueih0aGlzLmUsIHRoaXMubGF0Miwgc2luMik7XG5cbiAgdmFyIHRzMCA9IHRzZm56KHRoaXMuZSwgdGhpcy5sYXQwLCBNYXRoLnNpbih0aGlzLmxhdDApKTtcblxuICBpZiAoTWF0aC5hYnModGhpcy5sYXQxIC0gdGhpcy5sYXQyKSA+IEVQU0xOKSB7XG4gICAgdGhpcy5ucyA9IE1hdGgubG9nKG1zMSAvIG1zMikgLyBNYXRoLmxvZyh0czEgLyB0czIpO1xuICB9XG4gIGVsc2Uge1xuICAgIHRoaXMubnMgPSBzaW4xO1xuICB9XG4gIGlmIChpc05hTih0aGlzLm5zKSkge1xuICAgIHRoaXMubnMgPSBzaW4xO1xuICB9XG4gIHRoaXMuZjAgPSBtczEgLyAodGhpcy5ucyAqIE1hdGgucG93KHRzMSwgdGhpcy5ucykpO1xuICB0aGlzLnJoID0gdGhpcy5hICogdGhpcy5mMCAqIE1hdGgucG93KHRzMCwgdGhpcy5ucyk7XG4gIGlmICghdGhpcy50aXRsZSkge1xuICAgIHRoaXMudGl0bGUgPSBcIkxhbWJlcnQgQ29uZm9ybWFsIENvbmljXCI7XG4gIH1cbn07XG5cblxuLy8gTGFtYmVydCBDb25mb3JtYWwgY29uaWMgZm9yd2FyZCBlcXVhdGlvbnMtLW1hcHBpbmcgbGF0LGxvbmcgdG8geCx5XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZXhwb3J0cy5mb3J3YXJkID0gZnVuY3Rpb24ocCkge1xuXG4gIHZhciBsb24gPSBwLng7XG4gIHZhciBsYXQgPSBwLnk7XG5cbiAgLy8gc2luZ3VsYXIgY2FzZXMgOlxuICBpZiAoTWF0aC5hYnMoMiAqIE1hdGguYWJzKGxhdCkgLSBNYXRoLlBJKSA8PSBFUFNMTikge1xuICAgIGxhdCA9IHNpZ24obGF0KSAqIChIQUxGX1BJIC0gMiAqIEVQU0xOKTtcbiAgfVxuXG4gIHZhciBjb24gPSBNYXRoLmFicyhNYXRoLmFicyhsYXQpIC0gSEFMRl9QSSk7XG4gIHZhciB0cywgcmgxO1xuICBpZiAoY29uID4gRVBTTE4pIHtcbiAgICB0cyA9IHRzZm56KHRoaXMuZSwgbGF0LCBNYXRoLnNpbihsYXQpKTtcbiAgICByaDEgPSB0aGlzLmEgKiB0aGlzLmYwICogTWF0aC5wb3codHMsIHRoaXMubnMpO1xuICB9XG4gIGVsc2Uge1xuICAgIGNvbiA9IGxhdCAqIHRoaXMubnM7XG4gICAgaWYgKGNvbiA8PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmgxID0gMDtcbiAgfVxuICB2YXIgdGhldGEgPSB0aGlzLm5zICogYWRqdXN0X2xvbihsb24gLSB0aGlzLmxvbmcwKTtcbiAgcC54ID0gdGhpcy5rMCAqIChyaDEgKiBNYXRoLnNpbih0aGV0YSkpICsgdGhpcy54MDtcbiAgcC55ID0gdGhpcy5rMCAqICh0aGlzLnJoIC0gcmgxICogTWF0aC5jb3ModGhldGEpKSArIHRoaXMueTA7XG5cbiAgcmV0dXJuIHA7XG59O1xuXG4vLyBMYW1iZXJ0IENvbmZvcm1hbCBDb25pYyBpbnZlcnNlIGVxdWF0aW9ucy0tbWFwcGluZyB4LHkgdG8gbGF0L2xvbmdcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnRzLmludmVyc2UgPSBmdW5jdGlvbihwKSB7XG5cbiAgdmFyIHJoMSwgY29uLCB0cztcbiAgdmFyIGxhdCwgbG9uO1xuICB2YXIgeCA9IChwLnggLSB0aGlzLngwKSAvIHRoaXMuazA7XG4gIHZhciB5ID0gKHRoaXMucmggLSAocC55IC0gdGhpcy55MCkgLyB0aGlzLmswKTtcbiAgaWYgKHRoaXMubnMgPiAwKSB7XG4gICAgcmgxID0gTWF0aC5zcXJ0KHggKiB4ICsgeSAqIHkpO1xuICAgIGNvbiA9IDE7XG4gIH1cbiAgZWxzZSB7XG4gICAgcmgxID0gLU1hdGguc3FydCh4ICogeCArIHkgKiB5KTtcbiAgICBjb24gPSAtMTtcbiAgfVxuICB2YXIgdGhldGEgPSAwO1xuICBpZiAocmgxICE9PSAwKSB7XG4gICAgdGhldGEgPSBNYXRoLmF0YW4yKChjb24gKiB4KSwgKGNvbiAqIHkpKTtcbiAgfVxuICBpZiAoKHJoMSAhPT0gMCkgfHwgKHRoaXMubnMgPiAwKSkge1xuICAgIGNvbiA9IDEgLyB0aGlzLm5zO1xuICAgIHRzID0gTWF0aC5wb3coKHJoMSAvICh0aGlzLmEgKiB0aGlzLmYwKSksIGNvbik7XG4gICAgbGF0ID0gcGhpMnoodGhpcy5lLCB0cyk7XG4gICAgaWYgKGxhdCA9PT0gLTk5OTkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICBsYXQgPSAtSEFMRl9QSTtcbiAgfVxuICBsb24gPSBhZGp1c3RfbG9uKHRoZXRhIC8gdGhpcy5ucyArIHRoaXMubG9uZzApO1xuXG4gIHAueCA9IGxvbjtcbiAgcC55ID0gbGF0O1xuICByZXR1cm4gcDtcbn07XG5cbmV4cG9ydHMubmFtZXMgPSBbXCJMYW1iZXJ0IFRhbmdlbnRpYWwgQ29uZm9ybWFsIENvbmljIFByb2plY3Rpb25cIiwgXCJMYW1iZXJ0X0NvbmZvcm1hbF9Db25pY1wiLCBcIkxhbWJlcnRfQ29uZm9ybWFsX0NvbmljXzJTUFwiLCBcImxjY1wiXTtcbiIsImV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAvL25vLW9wIGZvciBsb25nbGF0XG59O1xuXG5mdW5jdGlvbiBpZGVudGl0eShwdCkge1xuICByZXR1cm4gcHQ7XG59XG5leHBvcnRzLmZvcndhcmQgPSBpZGVudGl0eTtcbmV4cG9ydHMuaW52ZXJzZSA9IGlkZW50aXR5O1xuZXhwb3J0cy5uYW1lcyA9IFtcImxvbmdsYXRcIiwgXCJpZGVudGl0eVwiXTtcbiIsInZhciBtc2ZueiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9tc2ZueicpO1xudmFyIEhBTEZfUEkgPSBNYXRoLlBJLzI7XG52YXIgRVBTTE4gPSAxLjBlLTEwO1xudmFyIFIyRCA9IDU3LjI5NTc3OTUxMzA4MjMyMDg4O1xudmFyIGFkanVzdF9sb24gPSByZXF1aXJlKCcuLi9jb21tb24vYWRqdXN0X2xvbicpO1xudmFyIEZPUlRQSSA9IE1hdGguUEkvNDtcbnZhciB0c2ZueiA9IHJlcXVpcmUoJy4uL2NvbW1vbi90c2ZueicpO1xudmFyIHBoaTJ6ID0gcmVxdWlyZSgnLi4vY29tbW9uL3BoaTJ6Jyk7XG5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGNvbiA9IHRoaXMuYiAvIHRoaXMuYTtcbiAgdGhpcy5lcyA9IDEgLSBjb24gKiBjb247XG4gIGlmKCEoJ3gwJyBpbiB0aGlzKSl7XG4gICAgdGhpcy54MCA9IDA7XG4gIH1cbiAgaWYoISgneTAnIGluIHRoaXMpKXtcbiAgICB0aGlzLnkwID0gMDtcbiAgfVxuICB0aGlzLmUgPSBNYXRoLnNxcnQodGhpcy5lcyk7XG4gIGlmICh0aGlzLmxhdF90cykge1xuICAgIGlmICh0aGlzLnNwaGVyZSkge1xuICAgICAgdGhpcy5rMCA9IE1hdGguY29zKHRoaXMubGF0X3RzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmswID0gbXNmbnoodGhpcy5lLCBNYXRoLnNpbih0aGlzLmxhdF90cyksIE1hdGguY29zKHRoaXMubGF0X3RzKSk7XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIGlmICghdGhpcy5rMCkge1xuICAgICAgaWYgKHRoaXMuaykge1xuICAgICAgICB0aGlzLmswID0gdGhpcy5rO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuazAgPSAxO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLyogTWVyY2F0b3IgZm9yd2FyZCBlcXVhdGlvbnMtLW1hcHBpbmcgbGF0LGxvbmcgdG8geCx5XG4gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuZXhwb3J0cy5mb3J3YXJkID0gZnVuY3Rpb24ocCkge1xuICB2YXIgbG9uID0gcC54O1xuICB2YXIgbGF0ID0gcC55O1xuICAvLyBjb252ZXJ0IHRvIHJhZGlhbnNcbiAgaWYgKGxhdCAqIFIyRCA+IDkwICYmIGxhdCAqIFIyRCA8IC05MCAmJiBsb24gKiBSMkQgPiAxODAgJiYgbG9uICogUjJEIDwgLTE4MCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIHgsIHk7XG4gIGlmIChNYXRoLmFicyhNYXRoLmFicyhsYXQpIC0gSEFMRl9QSSkgPD0gRVBTTE4pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBlbHNlIHtcbiAgICBpZiAodGhpcy5zcGhlcmUpIHtcbiAgICAgIHggPSB0aGlzLngwICsgdGhpcy5hICogdGhpcy5rMCAqIGFkanVzdF9sb24obG9uIC0gdGhpcy5sb25nMCk7XG4gICAgICB5ID0gdGhpcy55MCArIHRoaXMuYSAqIHRoaXMuazAgKiBNYXRoLmxvZyhNYXRoLnRhbihGT1JUUEkgKyAwLjUgKiBsYXQpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB2YXIgc2lucGhpID0gTWF0aC5zaW4obGF0KTtcbiAgICAgIHZhciB0cyA9IHRzZm56KHRoaXMuZSwgbGF0LCBzaW5waGkpO1xuICAgICAgeCA9IHRoaXMueDAgKyB0aGlzLmEgKiB0aGlzLmswICogYWRqdXN0X2xvbihsb24gLSB0aGlzLmxvbmcwKTtcbiAgICAgIHkgPSB0aGlzLnkwIC0gdGhpcy5hICogdGhpcy5rMCAqIE1hdGgubG9nKHRzKTtcbiAgICB9XG4gICAgcC54ID0geDtcbiAgICBwLnkgPSB5O1xuICAgIHJldHVybiBwO1xuICB9XG59O1xuXG5cbi8qIE1lcmNhdG9yIGludmVyc2UgZXF1YXRpb25zLS1tYXBwaW5nIHgseSB0byBsYXQvbG9uZ1xuICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5leHBvcnRzLmludmVyc2UgPSBmdW5jdGlvbihwKSB7XG5cbiAgdmFyIHggPSBwLnggLSB0aGlzLngwO1xuICB2YXIgeSA9IHAueSAtIHRoaXMueTA7XG4gIHZhciBsb24sIGxhdDtcblxuICBpZiAodGhpcy5zcGhlcmUpIHtcbiAgICBsYXQgPSBIQUxGX1BJIC0gMiAqIE1hdGguYXRhbihNYXRoLmV4cCgteSAvICh0aGlzLmEgKiB0aGlzLmswKSkpO1xuICB9XG4gIGVsc2Uge1xuICAgIHZhciB0cyA9IE1hdGguZXhwKC15IC8gKHRoaXMuYSAqIHRoaXMuazApKTtcbiAgICBsYXQgPSBwaGkyeih0aGlzLmUsIHRzKTtcbiAgICBpZiAobGF0ID09PSAtOTk5OSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIGxvbiA9IGFkanVzdF9sb24odGhpcy5sb25nMCArIHggLyAodGhpcy5hICogdGhpcy5rMCkpO1xuXG4gIHAueCA9IGxvbjtcbiAgcC55ID0gbGF0O1xuICByZXR1cm4gcDtcbn07XG5cbmV4cG9ydHMubmFtZXMgPSBbXCJNZXJjYXRvclwiLCBcIlBvcHVsYXIgVmlzdWFsaXNhdGlvbiBQc2V1ZG8gTWVyY2F0b3JcIiwgXCJNZXJjYXRvcl8xU1BcIiwgXCJNZXJjYXRvcl9BdXhpbGlhcnlfU3BoZXJlXCIsIFwibWVyY1wiXTtcbiIsInZhciBhZGp1c3RfbG9uID0gcmVxdWlyZSgnLi4vY29tbW9uL2FkanVzdF9sb24nKTtcbi8qXG4gIHJlZmVyZW5jZVxuICAgIFwiTmV3IEVxdWFsLUFyZWEgTWFwIFByb2plY3Rpb25zIGZvciBOb25jaXJjdWxhciBSZWdpb25zXCIsIEpvaG4gUC4gU255ZGVyLFxuICAgIFRoZSBBbWVyaWNhbiBDYXJ0b2dyYXBoZXIsIFZvbCAxNSwgTm8uIDQsIE9jdG9iZXIgMTk4OCwgcHAuIDM0MS0zNTUuXG4gICovXG5cblxuLyogSW5pdGlhbGl6ZSB0aGUgTWlsbGVyIEN5bGluZHJpY2FsIHByb2plY3Rpb25cbiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgLy9uby1vcFxufTtcblxuXG4vKiBNaWxsZXIgQ3lsaW5kcmljYWwgZm9yd2FyZCBlcXVhdGlvbnMtLW1hcHBpbmcgbGF0LGxvbmcgdG8geCx5XG4gICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmV4cG9ydHMuZm9yd2FyZCA9IGZ1bmN0aW9uKHApIHtcbiAgdmFyIGxvbiA9IHAueDtcbiAgdmFyIGxhdCA9IHAueTtcbiAgLyogRm9yd2FyZCBlcXVhdGlvbnNcbiAgICAgIC0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgdmFyIGRsb24gPSBhZGp1c3RfbG9uKGxvbiAtIHRoaXMubG9uZzApO1xuICB2YXIgeCA9IHRoaXMueDAgKyB0aGlzLmEgKiBkbG9uO1xuICB2YXIgeSA9IHRoaXMueTAgKyB0aGlzLmEgKiBNYXRoLmxvZyhNYXRoLnRhbigoTWF0aC5QSSAvIDQpICsgKGxhdCAvIDIuNSkpKSAqIDEuMjU7XG5cbiAgcC54ID0geDtcbiAgcC55ID0geTtcbiAgcmV0dXJuIHA7XG59O1xuXG4vKiBNaWxsZXIgQ3lsaW5kcmljYWwgaW52ZXJzZSBlcXVhdGlvbnMtLW1hcHBpbmcgeCx5IHRvIGxhdC9sb25nXG4gICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmV4cG9ydHMuaW52ZXJzZSA9IGZ1bmN0aW9uKHApIHtcbiAgcC54IC09IHRoaXMueDA7XG4gIHAueSAtPSB0aGlzLnkwO1xuXG4gIHZhciBsb24gPSBhZGp1c3RfbG9uKHRoaXMubG9uZzAgKyBwLnggLyB0aGlzLmEpO1xuICB2YXIgbGF0ID0gMi41ICogKE1hdGguYXRhbihNYXRoLmV4cCgwLjggKiBwLnkgLyB0aGlzLmEpKSAtIE1hdGguUEkgLyA0KTtcblxuICBwLnggPSBsb247XG4gIHAueSA9IGxhdDtcbiAgcmV0dXJuIHA7XG59O1xuZXhwb3J0cy5uYW1lcyA9IFtcIk1pbGxlcl9DeWxpbmRyaWNhbFwiLCBcIm1pbGxcIl07XG4iLCJ2YXIgYWRqdXN0X2xvbiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9hZGp1c3RfbG9uJyk7XG52YXIgRVBTTE4gPSAxLjBlLTEwO1xuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7fTtcblxuLyogTW9sbHdlaWRlIGZvcndhcmQgZXF1YXRpb25zLS1tYXBwaW5nIGxhdCxsb25nIHRvIHgseVxuICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuZXhwb3J0cy5mb3J3YXJkID0gZnVuY3Rpb24ocCkge1xuXG4gIC8qIEZvcndhcmQgZXF1YXRpb25zXG4gICAgICAtLS0tLS0tLS0tLS0tLS0tLSovXG4gIHZhciBsb24gPSBwLng7XG4gIHZhciBsYXQgPSBwLnk7XG5cbiAgdmFyIGRlbHRhX2xvbiA9IGFkanVzdF9sb24obG9uIC0gdGhpcy5sb25nMCk7XG4gIHZhciB0aGV0YSA9IGxhdDtcbiAgdmFyIGNvbiA9IE1hdGguUEkgKiBNYXRoLnNpbihsYXQpO1xuXG4gIC8qIEl0ZXJhdGUgdXNpbmcgdGhlIE5ld3Rvbi1SYXBoc29uIG1ldGhvZCB0byBmaW5kIHRoZXRhXG4gICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gIGZvciAodmFyIGkgPSAwOyB0cnVlOyBpKyspIHtcbiAgICB2YXIgZGVsdGFfdGhldGEgPSAtKHRoZXRhICsgTWF0aC5zaW4odGhldGEpIC0gY29uKSAvICgxICsgTWF0aC5jb3ModGhldGEpKTtcbiAgICB0aGV0YSArPSBkZWx0YV90aGV0YTtcbiAgICBpZiAoTWF0aC5hYnMoZGVsdGFfdGhldGEpIDwgRVBTTE4pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICB0aGV0YSAvPSAyO1xuXG4gIC8qIElmIHRoZSBsYXRpdHVkZSBpcyA5MCBkZWcsIGZvcmNlIHRoZSB4IGNvb3JkaW5hdGUgdG8gYmUgXCIwICsgZmFsc2UgZWFzdGluZ1wiXG4gICAgICAgdGhpcyBpcyBkb25lIGhlcmUgYmVjYXVzZSBvZiBwcmVjaXNpb24gcHJvYmxlbXMgd2l0aCBcImNvcyh0aGV0YSlcIlxuICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgaWYgKE1hdGguUEkgLyAyIC0gTWF0aC5hYnMobGF0KSA8IEVQU0xOKSB7XG4gICAgZGVsdGFfbG9uID0gMDtcbiAgfVxuICB2YXIgeCA9IDAuOTAwMzE2MzE2MTU4ICogdGhpcy5hICogZGVsdGFfbG9uICogTWF0aC5jb3ModGhldGEpICsgdGhpcy54MDtcbiAgdmFyIHkgPSAxLjQxNDIxMzU2MjM3MzEgKiB0aGlzLmEgKiBNYXRoLnNpbih0aGV0YSkgKyB0aGlzLnkwO1xuXG4gIHAueCA9IHg7XG4gIHAueSA9IHk7XG4gIHJldHVybiBwO1xufTtcblxuZXhwb3J0cy5pbnZlcnNlID0gZnVuY3Rpb24ocCkge1xuICB2YXIgdGhldGE7XG4gIHZhciBhcmc7XG5cbiAgLyogSW52ZXJzZSBlcXVhdGlvbnNcbiAgICAgIC0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgcC54IC09IHRoaXMueDA7XG4gIHAueSAtPSB0aGlzLnkwO1xuICBhcmcgPSBwLnkgLyAoMS40MTQyMTM1NjIzNzMxICogdGhpcy5hKTtcblxuICAvKiBCZWNhdXNlIG9mIGRpdmlzaW9uIGJ5IHplcm8gcHJvYmxlbXMsICdhcmcnIGNhbiBub3QgYmUgMS4gIFRoZXJlZm9yZVxuICAgICAgIGEgbnVtYmVyIHZlcnkgY2xvc2UgdG8gb25lIGlzIHVzZWQgaW5zdGVhZC5cbiAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgaWYgKE1hdGguYWJzKGFyZykgPiAwLjk5OTk5OTk5OTk5OSkge1xuICAgIGFyZyA9IDAuOTk5OTk5OTk5OTk5O1xuICB9XG4gIHRoZXRhID0gTWF0aC5hc2luKGFyZyk7XG4gIHZhciBsb24gPSBhZGp1c3RfbG9uKHRoaXMubG9uZzAgKyAocC54IC8gKDAuOTAwMzE2MzE2MTU4ICogdGhpcy5hICogTWF0aC5jb3ModGhldGEpKSkpO1xuICBpZiAobG9uIDwgKC1NYXRoLlBJKSkge1xuICAgIGxvbiA9IC1NYXRoLlBJO1xuICB9XG4gIGlmIChsb24gPiBNYXRoLlBJKSB7XG4gICAgbG9uID0gTWF0aC5QSTtcbiAgfVxuICBhcmcgPSAoMiAqIHRoZXRhICsgTWF0aC5zaW4oMiAqIHRoZXRhKSkgLyBNYXRoLlBJO1xuICBpZiAoTWF0aC5hYnMoYXJnKSA+IDEpIHtcbiAgICBhcmcgPSAxO1xuICB9XG4gIHZhciBsYXQgPSBNYXRoLmFzaW4oYXJnKTtcblxuICBwLnggPSBsb247XG4gIHAueSA9IGxhdDtcbiAgcmV0dXJuIHA7XG59O1xuZXhwb3J0cy5uYW1lcyA9IFtcIk1vbGx3ZWlkZVwiLCBcIm1vbGxcIl07XG4iLCJ2YXIgU0VDX1RPX1JBRCA9IDQuODQ4MTM2ODExMDk1MzU5OTM1ODk5MTQxMDIzNTdlLTY7XG4vKlxuICByZWZlcmVuY2VcbiAgICBEZXBhcnRtZW50IG9mIExhbmQgYW5kIFN1cnZleSBUZWNobmljYWwgQ2lyY3VsYXIgMTk3My8zMlxuICAgICAgaHR0cDovL3d3dy5saW56LmdvdnQubnovZG9jcy9taXNjZWxsYW5lb3VzL256LW1hcC1kZWZpbml0aW9uLnBkZlxuICAgIE9TRyBUZWNobmljYWwgUmVwb3J0IDQuMVxuICAgICAgaHR0cDovL3d3dy5saW56LmdvdnQubnovZG9jcy9taXNjZWxsYW5lb3VzL256bWcucGRmXG4gICovXG5cbi8qKlxuICogaXRlcmF0aW9uczogTnVtYmVyIG9mIGl0ZXJhdGlvbnMgdG8gcmVmaW5lIGludmVyc2UgdHJhbnNmb3JtLlxuICogICAgIDAgLT4ga20gYWNjdXJhY3lcbiAqICAgICAxIC0+IG0gYWNjdXJhY3kgLS0gc3VpdGFibGUgZm9yIG1vc3QgbWFwcGluZyBhcHBsaWNhdGlvbnNcbiAqICAgICAyIC0+IG1tIGFjY3VyYWN5XG4gKi9cbmV4cG9ydHMuaXRlcmF0aW9ucyA9IDE7XG5cbmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLkEgPSBbXTtcbiAgdGhpcy5BWzFdID0gMC42Mzk5MTc1MDczO1xuICB0aGlzLkFbMl0gPSAtMC4xMzU4Nzk3NjEzO1xuICB0aGlzLkFbM10gPSAwLjA2MzI5NDQwOTtcbiAgdGhpcy5BWzRdID0gLTAuMDI1MjY4NTM7XG4gIHRoaXMuQVs1XSA9IDAuMDExNzg3OTtcbiAgdGhpcy5BWzZdID0gLTAuMDA1NTE2MTtcbiAgdGhpcy5BWzddID0gMC4wMDI2OTA2O1xuICB0aGlzLkFbOF0gPSAtMC4wMDEzMzM7XG4gIHRoaXMuQVs5XSA9IDAuMDAwNjc7XG4gIHRoaXMuQVsxMF0gPSAtMC4wMDAzNDtcblxuICB0aGlzLkJfcmUgPSBbXTtcbiAgdGhpcy5CX2ltID0gW107XG4gIHRoaXMuQl9yZVsxXSA9IDAuNzU1Nzg1MzIyODtcbiAgdGhpcy5CX2ltWzFdID0gMDtcbiAgdGhpcy5CX3JlWzJdID0gMC4yNDkyMDQ2NDY7XG4gIHRoaXMuQl9pbVsyXSA9IDAuMDAzMzcxNTA3O1xuICB0aGlzLkJfcmVbM10gPSAtMC4wMDE1NDE3Mzk7XG4gIHRoaXMuQl9pbVszXSA9IDAuMDQxMDU4NTYwO1xuICB0aGlzLkJfcmVbNF0gPSAtMC4xMDE2MjkwNztcbiAgdGhpcy5CX2ltWzRdID0gMC4wMTcyNzYwOTtcbiAgdGhpcy5CX3JlWzVdID0gLTAuMjY2MjM0ODk7XG4gIHRoaXMuQl9pbVs1XSA9IC0wLjM2MjQ5MjE4O1xuICB0aGlzLkJfcmVbNl0gPSAtMC42ODcwOTgzO1xuICB0aGlzLkJfaW1bNl0gPSAtMS4xNjUxOTY3O1xuXG4gIHRoaXMuQ19yZSA9IFtdO1xuICB0aGlzLkNfaW0gPSBbXTtcbiAgdGhpcy5DX3JlWzFdID0gMS4zMjMxMjcwNDM5O1xuICB0aGlzLkNfaW1bMV0gPSAwO1xuICB0aGlzLkNfcmVbMl0gPSAtMC41NzcyNDU3ODk7XG4gIHRoaXMuQ19pbVsyXSA9IC0wLjAwNzgwOTU5ODtcbiAgdGhpcy5DX3JlWzNdID0gMC41MDgzMDc1MTM7XG4gIHRoaXMuQ19pbVszXSA9IC0wLjExMjIwODk1MjtcbiAgdGhpcy5DX3JlWzRdID0gLTAuMTUwOTQ3NjI7XG4gIHRoaXMuQ19pbVs0XSA9IDAuMTgyMDA2MDI7XG4gIHRoaXMuQ19yZVs1XSA9IDEuMDE0MTgxNzk7XG4gIHRoaXMuQ19pbVs1XSA9IDEuNjQ0OTc2OTY7XG4gIHRoaXMuQ19yZVs2XSA9IDEuOTY2MDU0OTtcbiAgdGhpcy5DX2ltWzZdID0gMi41MTI3NjQ1O1xuXG4gIHRoaXMuRCA9IFtdO1xuICB0aGlzLkRbMV0gPSAxLjU2MjcwMTQyNDM7XG4gIHRoaXMuRFsyXSA9IDAuNTE4NTQwNjM5ODtcbiAgdGhpcy5EWzNdID0gLTAuMDMzMzMwOTg7XG4gIHRoaXMuRFs0XSA9IC0wLjEwNTI5MDY7XG4gIHRoaXMuRFs1XSA9IC0wLjAzNjg1OTQ7XG4gIHRoaXMuRFs2XSA9IDAuMDA3MzE3O1xuICB0aGlzLkRbN10gPSAwLjAxMjIwO1xuICB0aGlzLkRbOF0gPSAwLjAwMzk0O1xuICB0aGlzLkRbOV0gPSAtMC4wMDEzO1xufTtcblxuLyoqXG4gICAgTmV3IFplYWxhbmQgTWFwIEdyaWQgRm9yd2FyZCAgLSBsb25nL2xhdCB0byB4L3lcbiAgICBsb25nL2xhdCBpbiByYWRpYW5zXG4gICovXG5leHBvcnRzLmZvcndhcmQgPSBmdW5jdGlvbihwKSB7XG4gIHZhciBuO1xuICB2YXIgbG9uID0gcC54O1xuICB2YXIgbGF0ID0gcC55O1xuXG4gIHZhciBkZWx0YV9sYXQgPSBsYXQgLSB0aGlzLmxhdDA7XG4gIHZhciBkZWx0YV9sb24gPSBsb24gLSB0aGlzLmxvbmcwO1xuXG4gIC8vIDEuIENhbGN1bGF0ZSBkX3BoaSBhbmQgZF9wc2kgICAgLi4uICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgZF9sYW1iZGFcbiAgLy8gRm9yIHRoaXMgYWxnb3JpdGhtLCBkZWx0YV9sYXRpdHVkZSBpcyBpbiBzZWNvbmRzIG9mIGFyYyB4IDEwLTUsIHNvIHdlIG5lZWQgdG8gc2NhbGUgdG8gdGhvc2UgdW5pdHMuIExvbmdpdHVkZSBpcyByYWRpYW5zLlxuICB2YXIgZF9waGkgPSBkZWx0YV9sYXQgLyBTRUNfVE9fUkFEICogMUUtNTtcbiAgdmFyIGRfbGFtYmRhID0gZGVsdGFfbG9uO1xuICB2YXIgZF9waGlfbiA9IDE7IC8vIGRfcGhpXjBcblxuICB2YXIgZF9wc2kgPSAwO1xuICBmb3IgKG4gPSAxOyBuIDw9IDEwOyBuKyspIHtcbiAgICBkX3BoaV9uID0gZF9waGlfbiAqIGRfcGhpO1xuICAgIGRfcHNpID0gZF9wc2kgKyB0aGlzLkFbbl0gKiBkX3BoaV9uO1xuICB9XG5cbiAgLy8gMi4gQ2FsY3VsYXRlIHRoZXRhXG4gIHZhciB0aF9yZSA9IGRfcHNpO1xuICB2YXIgdGhfaW0gPSBkX2xhbWJkYTtcblxuICAvLyAzLiBDYWxjdWxhdGUgelxuICB2YXIgdGhfbl9yZSA9IDE7XG4gIHZhciB0aF9uX2ltID0gMDsgLy8gdGhldGFeMFxuICB2YXIgdGhfbl9yZTE7XG4gIHZhciB0aF9uX2ltMTtcblxuICB2YXIgel9yZSA9IDA7XG4gIHZhciB6X2ltID0gMDtcbiAgZm9yIChuID0gMTsgbiA8PSA2OyBuKyspIHtcbiAgICB0aF9uX3JlMSA9IHRoX25fcmUgKiB0aF9yZSAtIHRoX25faW0gKiB0aF9pbTtcbiAgICB0aF9uX2ltMSA9IHRoX25faW0gKiB0aF9yZSArIHRoX25fcmUgKiB0aF9pbTtcbiAgICB0aF9uX3JlID0gdGhfbl9yZTE7XG4gICAgdGhfbl9pbSA9IHRoX25faW0xO1xuICAgIHpfcmUgPSB6X3JlICsgdGhpcy5CX3JlW25dICogdGhfbl9yZSAtIHRoaXMuQl9pbVtuXSAqIHRoX25faW07XG4gICAgel9pbSA9IHpfaW0gKyB0aGlzLkJfaW1bbl0gKiB0aF9uX3JlICsgdGhpcy5CX3JlW25dICogdGhfbl9pbTtcbiAgfVxuXG4gIC8vIDQuIENhbGN1bGF0ZSBlYXN0aW5nIGFuZCBub3J0aGluZ1xuICBwLnggPSAoel9pbSAqIHRoaXMuYSkgKyB0aGlzLngwO1xuICBwLnkgPSAoel9yZSAqIHRoaXMuYSkgKyB0aGlzLnkwO1xuXG4gIHJldHVybiBwO1xufTtcblxuXG4vKipcbiAgICBOZXcgWmVhbGFuZCBNYXAgR3JpZCBJbnZlcnNlICAtICB4L3kgdG8gbG9uZy9sYXRcbiAgKi9cbmV4cG9ydHMuaW52ZXJzZSA9IGZ1bmN0aW9uKHApIHtcbiAgdmFyIG47XG4gIHZhciB4ID0gcC54O1xuICB2YXIgeSA9IHAueTtcblxuICB2YXIgZGVsdGFfeCA9IHggLSB0aGlzLngwO1xuICB2YXIgZGVsdGFfeSA9IHkgLSB0aGlzLnkwO1xuXG4gIC8vIDEuIENhbGN1bGF0ZSB6XG4gIHZhciB6X3JlID0gZGVsdGFfeSAvIHRoaXMuYTtcbiAgdmFyIHpfaW0gPSBkZWx0YV94IC8gdGhpcy5hO1xuXG4gIC8vIDJhLiBDYWxjdWxhdGUgdGhldGEgLSBmaXJzdCBhcHByb3hpbWF0aW9uIGdpdmVzIGttIGFjY3VyYWN5XG4gIHZhciB6X25fcmUgPSAxO1xuICB2YXIgel9uX2ltID0gMDsgLy8gel4wXG4gIHZhciB6X25fcmUxO1xuICB2YXIgel9uX2ltMTtcblxuICB2YXIgdGhfcmUgPSAwO1xuICB2YXIgdGhfaW0gPSAwO1xuICBmb3IgKG4gPSAxOyBuIDw9IDY7IG4rKykge1xuICAgIHpfbl9yZTEgPSB6X25fcmUgKiB6X3JlIC0gel9uX2ltICogel9pbTtcbiAgICB6X25faW0xID0gel9uX2ltICogel9yZSArIHpfbl9yZSAqIHpfaW07XG4gICAgel9uX3JlID0gel9uX3JlMTtcbiAgICB6X25faW0gPSB6X25faW0xO1xuICAgIHRoX3JlID0gdGhfcmUgKyB0aGlzLkNfcmVbbl0gKiB6X25fcmUgLSB0aGlzLkNfaW1bbl0gKiB6X25faW07XG4gICAgdGhfaW0gPSB0aF9pbSArIHRoaXMuQ19pbVtuXSAqIHpfbl9yZSArIHRoaXMuQ19yZVtuXSAqIHpfbl9pbTtcbiAgfVxuXG4gIC8vIDJiLiBJdGVyYXRlIHRvIHJlZmluZSB0aGUgYWNjdXJhY3kgb2YgdGhlIGNhbGN1bGF0aW9uXG4gIC8vICAgICAgICAwIGl0ZXJhdGlvbnMgZ2l2ZXMga20gYWNjdXJhY3lcbiAgLy8gICAgICAgIDEgaXRlcmF0aW9uIGdpdmVzIG0gYWNjdXJhY3kgLS0gZ29vZCBlbm91Z2ggZm9yIG1vc3QgbWFwcGluZyBhcHBsaWNhdGlvbnNcbiAgLy8gICAgICAgIDIgaXRlcmF0aW9ucyBiaXZlcyBtbSBhY2N1cmFjeVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXRlcmF0aW9uczsgaSsrKSB7XG4gICAgdmFyIHRoX25fcmUgPSB0aF9yZTtcbiAgICB2YXIgdGhfbl9pbSA9IHRoX2ltO1xuICAgIHZhciB0aF9uX3JlMTtcbiAgICB2YXIgdGhfbl9pbTE7XG5cbiAgICB2YXIgbnVtX3JlID0gel9yZTtcbiAgICB2YXIgbnVtX2ltID0gel9pbTtcbiAgICBmb3IgKG4gPSAyOyBuIDw9IDY7IG4rKykge1xuICAgICAgdGhfbl9yZTEgPSB0aF9uX3JlICogdGhfcmUgLSB0aF9uX2ltICogdGhfaW07XG4gICAgICB0aF9uX2ltMSA9IHRoX25faW0gKiB0aF9yZSArIHRoX25fcmUgKiB0aF9pbTtcbiAgICAgIHRoX25fcmUgPSB0aF9uX3JlMTtcbiAgICAgIHRoX25faW0gPSB0aF9uX2ltMTtcbiAgICAgIG51bV9yZSA9IG51bV9yZSArIChuIC0gMSkgKiAodGhpcy5CX3JlW25dICogdGhfbl9yZSAtIHRoaXMuQl9pbVtuXSAqIHRoX25faW0pO1xuICAgICAgbnVtX2ltID0gbnVtX2ltICsgKG4gLSAxKSAqICh0aGlzLkJfaW1bbl0gKiB0aF9uX3JlICsgdGhpcy5CX3JlW25dICogdGhfbl9pbSk7XG4gICAgfVxuXG4gICAgdGhfbl9yZSA9IDE7XG4gICAgdGhfbl9pbSA9IDA7XG4gICAgdmFyIGRlbl9yZSA9IHRoaXMuQl9yZVsxXTtcbiAgICB2YXIgZGVuX2ltID0gdGhpcy5CX2ltWzFdO1xuICAgIGZvciAobiA9IDI7IG4gPD0gNjsgbisrKSB7XG4gICAgICB0aF9uX3JlMSA9IHRoX25fcmUgKiB0aF9yZSAtIHRoX25faW0gKiB0aF9pbTtcbiAgICAgIHRoX25faW0xID0gdGhfbl9pbSAqIHRoX3JlICsgdGhfbl9yZSAqIHRoX2ltO1xuICAgICAgdGhfbl9yZSA9IHRoX25fcmUxO1xuICAgICAgdGhfbl9pbSA9IHRoX25faW0xO1xuICAgICAgZGVuX3JlID0gZGVuX3JlICsgbiAqICh0aGlzLkJfcmVbbl0gKiB0aF9uX3JlIC0gdGhpcy5CX2ltW25dICogdGhfbl9pbSk7XG4gICAgICBkZW5faW0gPSBkZW5faW0gKyBuICogKHRoaXMuQl9pbVtuXSAqIHRoX25fcmUgKyB0aGlzLkJfcmVbbl0gKiB0aF9uX2ltKTtcbiAgICB9XG5cbiAgICAvLyBDb21wbGV4IGRpdmlzaW9uXG4gICAgdmFyIGRlbjIgPSBkZW5fcmUgKiBkZW5fcmUgKyBkZW5faW0gKiBkZW5faW07XG4gICAgdGhfcmUgPSAobnVtX3JlICogZGVuX3JlICsgbnVtX2ltICogZGVuX2ltKSAvIGRlbjI7XG4gICAgdGhfaW0gPSAobnVtX2ltICogZGVuX3JlIC0gbnVtX3JlICogZGVuX2ltKSAvIGRlbjI7XG4gIH1cblxuICAvLyAzLiBDYWxjdWxhdGUgZF9waGkgICAgICAgICAgICAgIC4uLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCBkX2xhbWJkYVxuICB2YXIgZF9wc2kgPSB0aF9yZTtcbiAgdmFyIGRfbGFtYmRhID0gdGhfaW07XG4gIHZhciBkX3BzaV9uID0gMTsgLy8gZF9wc2leMFxuXG4gIHZhciBkX3BoaSA9IDA7XG4gIGZvciAobiA9IDE7IG4gPD0gOTsgbisrKSB7XG4gICAgZF9wc2lfbiA9IGRfcHNpX24gKiBkX3BzaTtcbiAgICBkX3BoaSA9IGRfcGhpICsgdGhpcy5EW25dICogZF9wc2lfbjtcbiAgfVxuXG4gIC8vIDQuIENhbGN1bGF0ZSBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlXG4gIC8vIGRfcGhpIGlzIGNhbGN1YXRlZCBpbiBzZWNvbmQgb2YgYXJjICogMTBeLTUsIHNvIHdlIG5lZWQgdG8gc2NhbGUgYmFjayB0byByYWRpYW5zLiBkX2xhbWJkYSBpcyBpbiByYWRpYW5zLlxuICB2YXIgbGF0ID0gdGhpcy5sYXQwICsgKGRfcGhpICogU0VDX1RPX1JBRCAqIDFFNSk7XG4gIHZhciBsb24gPSB0aGlzLmxvbmcwICsgZF9sYW1iZGE7XG5cbiAgcC54ID0gbG9uO1xuICBwLnkgPSBsYXQ7XG5cbiAgcmV0dXJuIHA7XG59O1xuZXhwb3J0cy5uYW1lcyA9IFtcIk5ld19aZWFsYW5kX01hcF9HcmlkXCIsIFwibnptZ1wiXTsiLCJ2YXIgdHNmbnogPSByZXF1aXJlKCcuLi9jb21tb24vdHNmbnonKTtcbnZhciBhZGp1c3RfbG9uID0gcmVxdWlyZSgnLi4vY29tbW9uL2FkanVzdF9sb24nKTtcbnZhciBwaGkyeiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9waGkyeicpO1xudmFyIEhBTEZfUEkgPSBNYXRoLlBJLzI7XG52YXIgRk9SVFBJID0gTWF0aC5QSS80O1xudmFyIEVQU0xOID0gMS4wZS0xMDtcblxuLyogSW5pdGlhbGl6ZSB0aGUgT2JsaXF1ZSBNZXJjYXRvciAgcHJvamVjdGlvblxuICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5ub19vZmYgPSB0aGlzLm5vX29mZiB8fCBmYWxzZTtcbiAgdGhpcy5ub19yb3QgPSB0aGlzLm5vX3JvdCB8fCBmYWxzZTtcblxuICBpZiAoaXNOYU4odGhpcy5rMCkpIHtcbiAgICB0aGlzLmswID0gMTtcbiAgfVxuICB2YXIgc2lubGF0ID0gTWF0aC5zaW4odGhpcy5sYXQwKTtcbiAgdmFyIGNvc2xhdCA9IE1hdGguY29zKHRoaXMubGF0MCk7XG4gIHZhciBjb24gPSB0aGlzLmUgKiBzaW5sYXQ7XG5cbiAgdGhpcy5ibCA9IE1hdGguc3FydCgxICsgdGhpcy5lcyAvICgxIC0gdGhpcy5lcykgKiBNYXRoLnBvdyhjb3NsYXQsIDQpKTtcbiAgdGhpcy5hbCA9IHRoaXMuYSAqIHRoaXMuYmwgKiB0aGlzLmswICogTWF0aC5zcXJ0KDEgLSB0aGlzLmVzKSAvICgxIC0gY29uICogY29uKTtcbiAgdmFyIHQwID0gdHNmbnoodGhpcy5lLCB0aGlzLmxhdDAsIHNpbmxhdCk7XG4gIHZhciBkbCA9IHRoaXMuYmwgLyBjb3NsYXQgKiBNYXRoLnNxcnQoKDEgLSB0aGlzLmVzKSAvICgxIC0gY29uICogY29uKSk7XG4gIGlmIChkbCAqIGRsIDwgMSkge1xuICAgIGRsID0gMTtcbiAgfVxuICB2YXIgZmw7XG4gIHZhciBnbDtcbiAgaWYgKCFpc05hTih0aGlzLmxvbmdjKSkge1xuICAgIC8vQ2VudHJhbCBwb2ludCBhbmQgYXppbXV0aCBtZXRob2RcblxuICAgIGlmICh0aGlzLmxhdDAgPj0gMCkge1xuICAgICAgZmwgPSBkbCArIE1hdGguc3FydChkbCAqIGRsIC0gMSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZmwgPSBkbCAtIE1hdGguc3FydChkbCAqIGRsIC0gMSk7XG4gICAgfVxuICAgIHRoaXMuZWwgPSBmbCAqIE1hdGgucG93KHQwLCB0aGlzLmJsKTtcbiAgICBnbCA9IDAuNSAqIChmbCAtIDEgLyBmbCk7XG4gICAgdGhpcy5nYW1tYTAgPSBNYXRoLmFzaW4oTWF0aC5zaW4odGhpcy5hbHBoYSkgLyBkbCk7XG4gICAgdGhpcy5sb25nMCA9IHRoaXMubG9uZ2MgLSBNYXRoLmFzaW4oZ2wgKiBNYXRoLnRhbih0aGlzLmdhbW1hMCkpIC8gdGhpcy5ibDtcblxuICB9XG4gIGVsc2Uge1xuICAgIC8vMiBwb2ludHMgbWV0aG9kXG4gICAgdmFyIHQxID0gdHNmbnoodGhpcy5lLCB0aGlzLmxhdDEsIE1hdGguc2luKHRoaXMubGF0MSkpO1xuICAgIHZhciB0MiA9IHRzZm56KHRoaXMuZSwgdGhpcy5sYXQyLCBNYXRoLnNpbih0aGlzLmxhdDIpKTtcbiAgICBpZiAodGhpcy5sYXQwID49IDApIHtcbiAgICAgIHRoaXMuZWwgPSAoZGwgKyBNYXRoLnNxcnQoZGwgKiBkbCAtIDEpKSAqIE1hdGgucG93KHQwLCB0aGlzLmJsKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmVsID0gKGRsIC0gTWF0aC5zcXJ0KGRsICogZGwgLSAxKSkgKiBNYXRoLnBvdyh0MCwgdGhpcy5ibCk7XG4gICAgfVxuICAgIHZhciBobCA9IE1hdGgucG93KHQxLCB0aGlzLmJsKTtcbiAgICB2YXIgbGwgPSBNYXRoLnBvdyh0MiwgdGhpcy5ibCk7XG4gICAgZmwgPSB0aGlzLmVsIC8gaGw7XG4gICAgZ2wgPSAwLjUgKiAoZmwgLSAxIC8gZmwpO1xuICAgIHZhciBqbCA9ICh0aGlzLmVsICogdGhpcy5lbCAtIGxsICogaGwpIC8gKHRoaXMuZWwgKiB0aGlzLmVsICsgbGwgKiBobCk7XG4gICAgdmFyIHBsID0gKGxsIC0gaGwpIC8gKGxsICsgaGwpO1xuICAgIHZhciBkbG9uMTIgPSBhZGp1c3RfbG9uKHRoaXMubG9uZzEgLSB0aGlzLmxvbmcyKTtcbiAgICB0aGlzLmxvbmcwID0gMC41ICogKHRoaXMubG9uZzEgKyB0aGlzLmxvbmcyKSAtIE1hdGguYXRhbihqbCAqIE1hdGgudGFuKDAuNSAqIHRoaXMuYmwgKiAoZGxvbjEyKSkgLyBwbCkgLyB0aGlzLmJsO1xuICAgIHRoaXMubG9uZzAgPSBhZGp1c3RfbG9uKHRoaXMubG9uZzApO1xuICAgIHZhciBkbG9uMTAgPSBhZGp1c3RfbG9uKHRoaXMubG9uZzEgLSB0aGlzLmxvbmcwKTtcbiAgICB0aGlzLmdhbW1hMCA9IE1hdGguYXRhbihNYXRoLnNpbih0aGlzLmJsICogKGRsb24xMCkpIC8gZ2wpO1xuICAgIHRoaXMuYWxwaGEgPSBNYXRoLmFzaW4oZGwgKiBNYXRoLnNpbih0aGlzLmdhbW1hMCkpO1xuICB9XG5cbiAgaWYgKHRoaXMubm9fb2ZmKSB7XG4gICAgdGhpcy51YyA9IDA7XG4gIH1cbiAgZWxzZSB7XG4gICAgaWYgKHRoaXMubGF0MCA+PSAwKSB7XG4gICAgICB0aGlzLnVjID0gdGhpcy5hbCAvIHRoaXMuYmwgKiBNYXRoLmF0YW4yKE1hdGguc3FydChkbCAqIGRsIC0gMSksIE1hdGguY29zKHRoaXMuYWxwaGEpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnVjID0gLTEgKiB0aGlzLmFsIC8gdGhpcy5ibCAqIE1hdGguYXRhbjIoTWF0aC5zcXJ0KGRsICogZGwgLSAxKSwgTWF0aC5jb3ModGhpcy5hbHBoYSkpO1xuICAgIH1cbiAgfVxuXG59O1xuXG5cbi8qIE9ibGlxdWUgTWVyY2F0b3IgZm9yd2FyZCBlcXVhdGlvbnMtLW1hcHBpbmcgbGF0LGxvbmcgdG8geCx5XG4gICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5leHBvcnRzLmZvcndhcmQgPSBmdW5jdGlvbihwKSB7XG4gIHZhciBsb24gPSBwLng7XG4gIHZhciBsYXQgPSBwLnk7XG4gIHZhciBkbG9uID0gYWRqdXN0X2xvbihsb24gLSB0aGlzLmxvbmcwKTtcbiAgdmFyIHVzLCB2cztcbiAgdmFyIGNvbjtcbiAgaWYgKE1hdGguYWJzKE1hdGguYWJzKGxhdCkgLSBIQUxGX1BJKSA8PSBFUFNMTikge1xuICAgIGlmIChsYXQgPiAwKSB7XG4gICAgICBjb24gPSAtMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb24gPSAxO1xuICAgIH1cbiAgICB2cyA9IHRoaXMuYWwgLyB0aGlzLmJsICogTWF0aC5sb2coTWF0aC50YW4oRk9SVFBJICsgY29uICogdGhpcy5nYW1tYTAgKiAwLjUpKTtcbiAgICB1cyA9IC0xICogY29uICogSEFMRl9QSSAqIHRoaXMuYWwgLyB0aGlzLmJsO1xuICB9XG4gIGVsc2Uge1xuICAgIHZhciB0ID0gdHNmbnoodGhpcy5lLCBsYXQsIE1hdGguc2luKGxhdCkpO1xuICAgIHZhciBxbCA9IHRoaXMuZWwgLyBNYXRoLnBvdyh0LCB0aGlzLmJsKTtcbiAgICB2YXIgc2wgPSAwLjUgKiAocWwgLSAxIC8gcWwpO1xuICAgIHZhciB0bCA9IDAuNSAqIChxbCArIDEgLyBxbCk7XG4gICAgdmFyIHZsID0gTWF0aC5zaW4odGhpcy5ibCAqIChkbG9uKSk7XG4gICAgdmFyIHVsID0gKHNsICogTWF0aC5zaW4odGhpcy5nYW1tYTApIC0gdmwgKiBNYXRoLmNvcyh0aGlzLmdhbW1hMCkpIC8gdGw7XG4gICAgaWYgKE1hdGguYWJzKE1hdGguYWJzKHVsKSAtIDEpIDw9IEVQU0xOKSB7XG4gICAgICB2cyA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB2cyA9IDAuNSAqIHRoaXMuYWwgKiBNYXRoLmxvZygoMSAtIHVsKSAvICgxICsgdWwpKSAvIHRoaXMuYmw7XG4gICAgfVxuICAgIGlmIChNYXRoLmFicyhNYXRoLmNvcyh0aGlzLmJsICogKGRsb24pKSkgPD0gRVBTTE4pIHtcbiAgICAgIHVzID0gdGhpcy5hbCAqIHRoaXMuYmwgKiAoZGxvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdXMgPSB0aGlzLmFsICogTWF0aC5hdGFuMihzbCAqIE1hdGguY29zKHRoaXMuZ2FtbWEwKSArIHZsICogTWF0aC5zaW4odGhpcy5nYW1tYTApLCBNYXRoLmNvcyh0aGlzLmJsICogZGxvbikpIC8gdGhpcy5ibDtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5ub19yb3QpIHtcbiAgICBwLnggPSB0aGlzLngwICsgdXM7XG4gICAgcC55ID0gdGhpcy55MCArIHZzO1xuICB9XG4gIGVsc2Uge1xuXG4gICAgdXMgLT0gdGhpcy51YztcbiAgICBwLnggPSB0aGlzLngwICsgdnMgKiBNYXRoLmNvcyh0aGlzLmFscGhhKSArIHVzICogTWF0aC5zaW4odGhpcy5hbHBoYSk7XG4gICAgcC55ID0gdGhpcy55MCArIHVzICogTWF0aC5jb3ModGhpcy5hbHBoYSkgLSB2cyAqIE1hdGguc2luKHRoaXMuYWxwaGEpO1xuICB9XG4gIHJldHVybiBwO1xufTtcblxuZXhwb3J0cy5pbnZlcnNlID0gZnVuY3Rpb24ocCkge1xuICB2YXIgdXMsIHZzO1xuICBpZiAodGhpcy5ub19yb3QpIHtcbiAgICB2cyA9IHAueSAtIHRoaXMueTA7XG4gICAgdXMgPSBwLnggLSB0aGlzLngwO1xuICB9XG4gIGVsc2Uge1xuICAgIHZzID0gKHAueCAtIHRoaXMueDApICogTWF0aC5jb3ModGhpcy5hbHBoYSkgLSAocC55IC0gdGhpcy55MCkgKiBNYXRoLnNpbih0aGlzLmFscGhhKTtcbiAgICB1cyA9IChwLnkgLSB0aGlzLnkwKSAqIE1hdGguY29zKHRoaXMuYWxwaGEpICsgKHAueCAtIHRoaXMueDApICogTWF0aC5zaW4odGhpcy5hbHBoYSk7XG4gICAgdXMgKz0gdGhpcy51YztcbiAgfVxuICB2YXIgcXAgPSBNYXRoLmV4cCgtMSAqIHRoaXMuYmwgKiB2cyAvIHRoaXMuYWwpO1xuICB2YXIgc3AgPSAwLjUgKiAocXAgLSAxIC8gcXApO1xuICB2YXIgdHAgPSAwLjUgKiAocXAgKyAxIC8gcXApO1xuICB2YXIgdnAgPSBNYXRoLnNpbih0aGlzLmJsICogdXMgLyB0aGlzLmFsKTtcbiAgdmFyIHVwID0gKHZwICogTWF0aC5jb3ModGhpcy5nYW1tYTApICsgc3AgKiBNYXRoLnNpbih0aGlzLmdhbW1hMCkpIC8gdHA7XG4gIHZhciB0cyA9IE1hdGgucG93KHRoaXMuZWwgLyBNYXRoLnNxcnQoKDEgKyB1cCkgLyAoMSAtIHVwKSksIDEgLyB0aGlzLmJsKTtcbiAgaWYgKE1hdGguYWJzKHVwIC0gMSkgPCBFUFNMTikge1xuICAgIHAueCA9IHRoaXMubG9uZzA7XG4gICAgcC55ID0gSEFMRl9QSTtcbiAgfVxuICBlbHNlIGlmIChNYXRoLmFicyh1cCArIDEpIDwgRVBTTE4pIHtcbiAgICBwLnggPSB0aGlzLmxvbmcwO1xuICAgIHAueSA9IC0xICogSEFMRl9QSTtcbiAgfVxuICBlbHNlIHtcbiAgICBwLnkgPSBwaGkyeih0aGlzLmUsIHRzKTtcbiAgICBwLnggPSBhZGp1c3RfbG9uKHRoaXMubG9uZzAgLSBNYXRoLmF0YW4yKHNwICogTWF0aC5jb3ModGhpcy5nYW1tYTApIC0gdnAgKiBNYXRoLnNpbih0aGlzLmdhbW1hMCksIE1hdGguY29zKHRoaXMuYmwgKiB1cyAvIHRoaXMuYWwpKSAvIHRoaXMuYmwpO1xuICB9XG4gIHJldHVybiBwO1xufTtcblxuZXhwb3J0cy5uYW1lcyA9IFtcIkhvdGluZV9PYmxpcXVlX01lcmNhdG9yXCIsIFwiSG90aW5lIE9ibGlxdWUgTWVyY2F0b3JcIiwgXCJIb3RpbmVfT2JsaXF1ZV9NZXJjYXRvcl9BemltdXRoX05hdHVyYWxfT3JpZ2luXCIsIFwiSG90aW5lX09ibGlxdWVfTWVyY2F0b3JfQXppbXV0aF9DZW50ZXJcIiwgXCJvbWVyY1wiXTsiLCJ2YXIgZTBmbiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9lMGZuJyk7XG52YXIgZTFmbiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9lMWZuJyk7XG52YXIgZTJmbiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9lMmZuJyk7XG52YXIgZTNmbiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9lM2ZuJyk7XG52YXIgYWRqdXN0X2xvbiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9hZGp1c3RfbG9uJyk7XG52YXIgYWRqdXN0X2xhdCA9IHJlcXVpcmUoJy4uL2NvbW1vbi9hZGp1c3RfbGF0Jyk7XG52YXIgbWxmbiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9tbGZuJyk7XG52YXIgRVBTTE4gPSAxLjBlLTEwO1xudmFyIGdOID0gcmVxdWlyZSgnLi4vY29tbW9uL2dOJyk7XG52YXIgTUFYX0lURVIgPSAyMDtcbmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAvKiBQbGFjZSBwYXJhbWV0ZXJzIGluIHN0YXRpYyBzdG9yYWdlIGZvciBjb21tb24gdXNlXG4gICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgdGhpcy50ZW1wID0gdGhpcy5iIC8gdGhpcy5hO1xuICB0aGlzLmVzID0gMSAtIE1hdGgucG93KHRoaXMudGVtcCwgMik7IC8vIGRldmFpdCBldHJlIGRhbnMgdG1lcmMuanMgbWFpcyBuIHkgZXN0IHBhcyBkb25jIGplIGNvbW1lbnRlIHNpbm9uIHJldG91ciBkZSB2YWxldXJzIG51bGxlc1xuICB0aGlzLmUgPSBNYXRoLnNxcnQodGhpcy5lcyk7XG4gIHRoaXMuZTAgPSBlMGZuKHRoaXMuZXMpO1xuICB0aGlzLmUxID0gZTFmbih0aGlzLmVzKTtcbiAgdGhpcy5lMiA9IGUyZm4odGhpcy5lcyk7XG4gIHRoaXMuZTMgPSBlM2ZuKHRoaXMuZXMpO1xuICB0aGlzLm1sMCA9IHRoaXMuYSAqIG1sZm4odGhpcy5lMCwgdGhpcy5lMSwgdGhpcy5lMiwgdGhpcy5lMywgdGhpcy5sYXQwKTsgLy9zaSBxdWUgZGVzIHplcm9zIGxlIGNhbGN1bCBuZSBzZSBmYWl0IHBhc1xufTtcblxuXG4vKiBQb2x5Y29uaWMgZm9yd2FyZCBlcXVhdGlvbnMtLW1hcHBpbmcgbGF0LGxvbmcgdG8geCx5XG4gICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmV4cG9ydHMuZm9yd2FyZCA9IGZ1bmN0aW9uKHApIHtcbiAgdmFyIGxvbiA9IHAueDtcbiAgdmFyIGxhdCA9IHAueTtcbiAgdmFyIHgsIHksIGVsO1xuICB2YXIgZGxvbiA9IGFkanVzdF9sb24obG9uIC0gdGhpcy5sb25nMCk7XG4gIGVsID0gZGxvbiAqIE1hdGguc2luKGxhdCk7XG4gIGlmICh0aGlzLnNwaGVyZSkge1xuICAgIGlmIChNYXRoLmFicyhsYXQpIDw9IEVQU0xOKSB7XG4gICAgICB4ID0gdGhpcy5hICogZGxvbjtcbiAgICAgIHkgPSAtMSAqIHRoaXMuYSAqIHRoaXMubGF0MDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB4ID0gdGhpcy5hICogTWF0aC5zaW4oZWwpIC8gTWF0aC50YW4obGF0KTtcbiAgICAgIHkgPSB0aGlzLmEgKiAoYWRqdXN0X2xhdChsYXQgLSB0aGlzLmxhdDApICsgKDEgLSBNYXRoLmNvcyhlbCkpIC8gTWF0aC50YW4obGF0KSk7XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIGlmIChNYXRoLmFicyhsYXQpIDw9IEVQU0xOKSB7XG4gICAgICB4ID0gdGhpcy5hICogZGxvbjtcbiAgICAgIHkgPSAtMSAqIHRoaXMubWwwO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHZhciBubCA9IGdOKHRoaXMuYSwgdGhpcy5lLCBNYXRoLnNpbihsYXQpKSAvIE1hdGgudGFuKGxhdCk7XG4gICAgICB4ID0gbmwgKiBNYXRoLnNpbihlbCk7XG4gICAgICB5ID0gdGhpcy5hICogbWxmbih0aGlzLmUwLCB0aGlzLmUxLCB0aGlzLmUyLCB0aGlzLmUzLCBsYXQpIC0gdGhpcy5tbDAgKyBubCAqICgxIC0gTWF0aC5jb3MoZWwpKTtcbiAgICB9XG5cbiAgfVxuICBwLnggPSB4ICsgdGhpcy54MDtcbiAgcC55ID0geSArIHRoaXMueTA7XG4gIHJldHVybiBwO1xufTtcblxuXG4vKiBJbnZlcnNlIGVxdWF0aW9uc1xuICAtLS0tLS0tLS0tLS0tLS0tLSovXG5leHBvcnRzLmludmVyc2UgPSBmdW5jdGlvbihwKSB7XG4gIHZhciBsb24sIGxhdCwgeCwgeSwgaTtcbiAgdmFyIGFsLCBibDtcbiAgdmFyIHBoaSwgZHBoaTtcbiAgeCA9IHAueCAtIHRoaXMueDA7XG4gIHkgPSBwLnkgLSB0aGlzLnkwO1xuXG4gIGlmICh0aGlzLnNwaGVyZSkge1xuICAgIGlmIChNYXRoLmFicyh5ICsgdGhpcy5hICogdGhpcy5sYXQwKSA8PSBFUFNMTikge1xuICAgICAgbG9uID0gYWRqdXN0X2xvbih4IC8gdGhpcy5hICsgdGhpcy5sb25nMCk7XG4gICAgICBsYXQgPSAwO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGFsID0gdGhpcy5sYXQwICsgeSAvIHRoaXMuYTtcbiAgICAgIGJsID0geCAqIHggLyB0aGlzLmEgLyB0aGlzLmEgKyBhbCAqIGFsO1xuICAgICAgcGhpID0gYWw7XG4gICAgICB2YXIgdGFucGhpO1xuICAgICAgZm9yIChpID0gTUFYX0lURVI7IGk7IC0taSkge1xuICAgICAgICB0YW5waGkgPSBNYXRoLnRhbihwaGkpO1xuICAgICAgICBkcGhpID0gLTEgKiAoYWwgKiAocGhpICogdGFucGhpICsgMSkgLSBwaGkgLSAwLjUgKiAocGhpICogcGhpICsgYmwpICogdGFucGhpKSAvICgocGhpIC0gYWwpIC8gdGFucGhpIC0gMSk7XG4gICAgICAgIHBoaSArPSBkcGhpO1xuICAgICAgICBpZiAoTWF0aC5hYnMoZHBoaSkgPD0gRVBTTE4pIHtcbiAgICAgICAgICBsYXQgPSBwaGk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxvbiA9IGFkanVzdF9sb24odGhpcy5sb25nMCArIChNYXRoLmFzaW4oeCAqIE1hdGgudGFuKHBoaSkgLyB0aGlzLmEpKSAvIE1hdGguc2luKGxhdCkpO1xuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICBpZiAoTWF0aC5hYnMoeSArIHRoaXMubWwwKSA8PSBFUFNMTikge1xuICAgICAgbGF0ID0gMDtcbiAgICAgIGxvbiA9IGFkanVzdF9sb24odGhpcy5sb25nMCArIHggLyB0aGlzLmEpO1xuICAgIH1cbiAgICBlbHNlIHtcblxuICAgICAgYWwgPSAodGhpcy5tbDAgKyB5KSAvIHRoaXMuYTtcbiAgICAgIGJsID0geCAqIHggLyB0aGlzLmEgLyB0aGlzLmEgKyBhbCAqIGFsO1xuICAgICAgcGhpID0gYWw7XG4gICAgICB2YXIgY2wsIG1sbiwgbWxucCwgbWE7XG4gICAgICB2YXIgY29uO1xuICAgICAgZm9yIChpID0gTUFYX0lURVI7IGk7IC0taSkge1xuICAgICAgICBjb24gPSB0aGlzLmUgKiBNYXRoLnNpbihwaGkpO1xuICAgICAgICBjbCA9IE1hdGguc3FydCgxIC0gY29uICogY29uKSAqIE1hdGgudGFuKHBoaSk7XG4gICAgICAgIG1sbiA9IHRoaXMuYSAqIG1sZm4odGhpcy5lMCwgdGhpcy5lMSwgdGhpcy5lMiwgdGhpcy5lMywgcGhpKTtcbiAgICAgICAgbWxucCA9IHRoaXMuZTAgLSAyICogdGhpcy5lMSAqIE1hdGguY29zKDIgKiBwaGkpICsgNCAqIHRoaXMuZTIgKiBNYXRoLmNvcyg0ICogcGhpKSAtIDYgKiB0aGlzLmUzICogTWF0aC5jb3MoNiAqIHBoaSk7XG4gICAgICAgIG1hID0gbWxuIC8gdGhpcy5hO1xuICAgICAgICBkcGhpID0gKGFsICogKGNsICogbWEgKyAxKSAtIG1hIC0gMC41ICogY2wgKiAobWEgKiBtYSArIGJsKSkgLyAodGhpcy5lcyAqIE1hdGguc2luKDIgKiBwaGkpICogKG1hICogbWEgKyBibCAtIDIgKiBhbCAqIG1hKSAvICg0ICogY2wpICsgKGFsIC0gbWEpICogKGNsICogbWxucCAtIDIgLyBNYXRoLnNpbigyICogcGhpKSkgLSBtbG5wKTtcbiAgICAgICAgcGhpIC09IGRwaGk7XG4gICAgICAgIGlmIChNYXRoLmFicyhkcGhpKSA8PSBFUFNMTikge1xuICAgICAgICAgIGxhdCA9IHBoaTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvL2xhdD1waGk0eih0aGlzLmUsdGhpcy5lMCx0aGlzLmUxLHRoaXMuZTIsdGhpcy5lMyxhbCxibCwwLDApO1xuICAgICAgY2wgPSBNYXRoLnNxcnQoMSAtIHRoaXMuZXMgKiBNYXRoLnBvdyhNYXRoLnNpbihsYXQpLCAyKSkgKiBNYXRoLnRhbihsYXQpO1xuICAgICAgbG9uID0gYWRqdXN0X2xvbih0aGlzLmxvbmcwICsgTWF0aC5hc2luKHggKiBjbCAvIHRoaXMuYSkgLyBNYXRoLnNpbihsYXQpKTtcbiAgICB9XG4gIH1cblxuICBwLnggPSBsb247XG4gIHAueSA9IGxhdDtcbiAgcmV0dXJuIHA7XG59O1xuZXhwb3J0cy5uYW1lcyA9IFtcIlBvbHljb25pY1wiLCBcInBvbHlcIl07IiwidmFyIGFkanVzdF9sb24gPSByZXF1aXJlKCcuLi9jb21tb24vYWRqdXN0X2xvbicpO1xudmFyIGFkanVzdF9sYXQgPSByZXF1aXJlKCcuLi9jb21tb24vYWRqdXN0X2xhdCcpO1xudmFyIHBqX2VuZm4gPSByZXF1aXJlKCcuLi9jb21tb24vcGpfZW5mbicpO1xudmFyIE1BWF9JVEVSID0gMjA7XG52YXIgcGpfbWxmbiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9wal9tbGZuJyk7XG52YXIgcGpfaW52X21sZm4gPSByZXF1aXJlKCcuLi9jb21tb24vcGpfaW52X21sZm4nKTtcbnZhciBIQUxGX1BJID0gTWF0aC5QSS8yO1xudmFyIEVQU0xOID0gMS4wZS0xMDtcbnZhciBhc2lueiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9hc2lueicpO1xuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7XG4gIC8qIFBsYWNlIHBhcmFtZXRlcnMgaW4gc3RhdGljIHN0b3JhZ2UgZm9yIGNvbW1vbiB1c2VcbiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXG4gIGlmICghdGhpcy5zcGhlcmUpIHtcbiAgICB0aGlzLmVuID0gcGpfZW5mbih0aGlzLmVzKTtcbiAgfVxuICBlbHNlIHtcbiAgICB0aGlzLm4gPSAxO1xuICAgIHRoaXMubSA9IDA7XG4gICAgdGhpcy5lcyA9IDA7XG4gICAgdGhpcy5DX3kgPSBNYXRoLnNxcnQoKHRoaXMubSArIDEpIC8gdGhpcy5uKTtcbiAgICB0aGlzLkNfeCA9IHRoaXMuQ195IC8gKHRoaXMubSArIDEpO1xuICB9XG5cbn07XG5cbi8qIFNpbnVzb2lkYWwgZm9yd2FyZCBlcXVhdGlvbnMtLW1hcHBpbmcgbGF0LGxvbmcgdG8geCx5XG4gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmV4cG9ydHMuZm9yd2FyZCA9IGZ1bmN0aW9uKHApIHtcbiAgdmFyIHgsIHk7XG4gIHZhciBsb24gPSBwLng7XG4gIHZhciBsYXQgPSBwLnk7XG4gIC8qIEZvcndhcmQgZXF1YXRpb25zXG4gICAgLS0tLS0tLS0tLS0tLS0tLS0qL1xuICBsb24gPSBhZGp1c3RfbG9uKGxvbiAtIHRoaXMubG9uZzApO1xuXG4gIGlmICh0aGlzLnNwaGVyZSkge1xuICAgIGlmICghdGhpcy5tKSB7XG4gICAgICBsYXQgPSB0aGlzLm4gIT09IDEgPyBNYXRoLmFzaW4odGhpcy5uICogTWF0aC5zaW4obGF0KSkgOiBsYXQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdmFyIGsgPSB0aGlzLm4gKiBNYXRoLnNpbihsYXQpO1xuICAgICAgZm9yICh2YXIgaSA9IE1BWF9JVEVSOyBpOyAtLWkpIHtcbiAgICAgICAgdmFyIFYgPSAodGhpcy5tICogbGF0ICsgTWF0aC5zaW4obGF0KSAtIGspIC8gKHRoaXMubSArIE1hdGguY29zKGxhdCkpO1xuICAgICAgICBsYXQgLT0gVjtcbiAgICAgICAgaWYgKE1hdGguYWJzKFYpIDwgRVBTTE4pIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB4ID0gdGhpcy5hICogdGhpcy5DX3ggKiBsb24gKiAodGhpcy5tICsgTWF0aC5jb3MobGF0KSk7XG4gICAgeSA9IHRoaXMuYSAqIHRoaXMuQ195ICogbGF0O1xuXG4gIH1cbiAgZWxzZSB7XG5cbiAgICB2YXIgcyA9IE1hdGguc2luKGxhdCk7XG4gICAgdmFyIGMgPSBNYXRoLmNvcyhsYXQpO1xuICAgIHkgPSB0aGlzLmEgKiBwal9tbGZuKGxhdCwgcywgYywgdGhpcy5lbik7XG4gICAgeCA9IHRoaXMuYSAqIGxvbiAqIGMgLyBNYXRoLnNxcnQoMSAtIHRoaXMuZXMgKiBzICogcyk7XG4gIH1cblxuICBwLnggPSB4O1xuICBwLnkgPSB5O1xuICByZXR1cm4gcDtcbn07XG5cbmV4cG9ydHMuaW52ZXJzZSA9IGZ1bmN0aW9uKHApIHtcbiAgdmFyIGxhdCwgdGVtcCwgbG9uLCBzO1xuXG4gIHAueCAtPSB0aGlzLngwO1xuICBsb24gPSBwLnggLyB0aGlzLmE7XG4gIHAueSAtPSB0aGlzLnkwO1xuICBsYXQgPSBwLnkgLyB0aGlzLmE7XG5cbiAgaWYgKHRoaXMuc3BoZXJlKSB7XG4gICAgbGF0IC89IHRoaXMuQ195O1xuICAgIGxvbiA9IGxvbiAvICh0aGlzLkNfeCAqICh0aGlzLm0gKyBNYXRoLmNvcyhsYXQpKSk7XG4gICAgaWYgKHRoaXMubSkge1xuICAgICAgbGF0ID0gYXNpbnooKHRoaXMubSAqIGxhdCArIE1hdGguc2luKGxhdCkpIC8gdGhpcy5uKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodGhpcy5uICE9PSAxKSB7XG4gICAgICBsYXQgPSBhc2lueihNYXRoLnNpbihsYXQpIC8gdGhpcy5uKTtcbiAgICB9XG4gICAgbG9uID0gYWRqdXN0X2xvbihsb24gKyB0aGlzLmxvbmcwKTtcbiAgICBsYXQgPSBhZGp1c3RfbGF0KGxhdCk7XG4gIH1cbiAgZWxzZSB7XG4gICAgbGF0ID0gcGpfaW52X21sZm4ocC55IC8gdGhpcy5hLCB0aGlzLmVzLCB0aGlzLmVuKTtcbiAgICBzID0gTWF0aC5hYnMobGF0KTtcbiAgICBpZiAocyA8IEhBTEZfUEkpIHtcbiAgICAgIHMgPSBNYXRoLnNpbihsYXQpO1xuICAgICAgdGVtcCA9IHRoaXMubG9uZzAgKyBwLnggKiBNYXRoLnNxcnQoMSAtIHRoaXMuZXMgKiBzICogcykgLyAodGhpcy5hICogTWF0aC5jb3MobGF0KSk7XG4gICAgICAvL3RlbXAgPSB0aGlzLmxvbmcwICsgcC54IC8gKHRoaXMuYSAqIE1hdGguY29zKGxhdCkpO1xuICAgICAgbG9uID0gYWRqdXN0X2xvbih0ZW1wKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoKHMgLSBFUFNMTikgPCBIQUxGX1BJKSB7XG4gICAgICBsb24gPSB0aGlzLmxvbmcwO1xuICAgIH1cbiAgfVxuICBwLnggPSBsb247XG4gIHAueSA9IGxhdDtcbiAgcmV0dXJuIHA7XG59O1xuZXhwb3J0cy5uYW1lcyA9IFtcIlNpbnVzb2lkYWxcIiwgXCJzaW51XCJdOyIsIi8qXG4gIHJlZmVyZW5jZXM6XG4gICAgRm9ybXVsZXMgZXQgY29uc3RhbnRlcyBwb3VyIGxlIENhbGN1bCBwb3VyIGxhXG4gICAgcHJvamVjdGlvbiBjeWxpbmRyaXF1ZSBjb25mb3JtZSDDoCBheGUgb2JsaXF1ZSBldCBwb3VyIGxhIHRyYW5zZm9ybWF0aW9uIGVudHJlXG4gICAgZGVzIHN5c3TDqG1lcyBkZSByw6lmw6lyZW5jZS5cbiAgICBodHRwOi8vd3d3LnN3aXNzdG9wby5hZG1pbi5jaC9pbnRlcm5ldC9zd2lzc3RvcG8vZnIvaG9tZS90b3BpY3Mvc3VydmV5L3N5cy9yZWZzeXMvc3dpdHplcmxhbmQucGFyc3lzcmVsYXRlZDEuMzEyMTYuZG93bmxvYWRMaXN0Ljc3MDA0LkRvd25sb2FkRmlsZS50bXAvc3dpc3Nwcm9qZWN0aW9uZnIucGRmXG4gICovXG5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHBoeTAgPSB0aGlzLmxhdDA7XG4gIHRoaXMubGFtYmRhMCA9IHRoaXMubG9uZzA7XG4gIHZhciBzaW5QaHkwID0gTWF0aC5zaW4ocGh5MCk7XG4gIHZhciBzZW1pTWFqb3JBeGlzID0gdGhpcy5hO1xuICB2YXIgaW52RiA9IHRoaXMucmY7XG4gIHZhciBmbGF0dGVuaW5nID0gMSAvIGludkY7XG4gIHZhciBlMiA9IDIgKiBmbGF0dGVuaW5nIC0gTWF0aC5wb3coZmxhdHRlbmluZywgMik7XG4gIHZhciBlID0gdGhpcy5lID0gTWF0aC5zcXJ0KGUyKTtcbiAgdGhpcy5SID0gdGhpcy5rMCAqIHNlbWlNYWpvckF4aXMgKiBNYXRoLnNxcnQoMSAtIGUyKSAvICgxIC0gZTIgKiBNYXRoLnBvdyhzaW5QaHkwLCAyKSk7XG4gIHRoaXMuYWxwaGEgPSBNYXRoLnNxcnQoMSArIGUyIC8gKDEgLSBlMikgKiBNYXRoLnBvdyhNYXRoLmNvcyhwaHkwKSwgNCkpO1xuICB0aGlzLmIwID0gTWF0aC5hc2luKHNpblBoeTAgLyB0aGlzLmFscGhhKTtcbiAgdmFyIGsxID0gTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSSAvIDQgKyB0aGlzLmIwIC8gMikpO1xuICB2YXIgazIgPSBNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJIC8gNCArIHBoeTAgLyAyKSk7XG4gIHZhciBrMyA9IE1hdGgubG9nKCgxICsgZSAqIHNpblBoeTApIC8gKDEgLSBlICogc2luUGh5MCkpO1xuICB0aGlzLksgPSBrMSAtIHRoaXMuYWxwaGEgKiBrMiArIHRoaXMuYWxwaGEgKiBlIC8gMiAqIGszO1xufTtcblxuXG5leHBvcnRzLmZvcndhcmQgPSBmdW5jdGlvbihwKSB7XG4gIHZhciBTYTEgPSBNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJIC8gNCAtIHAueSAvIDIpKTtcbiAgdmFyIFNhMiA9IHRoaXMuZSAvIDIgKiBNYXRoLmxvZygoMSArIHRoaXMuZSAqIE1hdGguc2luKHAueSkpIC8gKDEgLSB0aGlzLmUgKiBNYXRoLnNpbihwLnkpKSk7XG4gIHZhciBTID0gLXRoaXMuYWxwaGEgKiAoU2ExICsgU2EyKSArIHRoaXMuSztcblxuICAvLyBzcGhlcmljIGxhdGl0dWRlXG4gIHZhciBiID0gMiAqIChNYXRoLmF0YW4oTWF0aC5leHAoUykpIC0gTWF0aC5QSSAvIDQpO1xuXG4gIC8vIHNwaGVyaWMgbG9uZ2l0dWRlXG4gIHZhciBJID0gdGhpcy5hbHBoYSAqIChwLnggLSB0aGlzLmxhbWJkYTApO1xuXG4gIC8vIHBzb2V1ZG8gZXF1YXRvcmlhbCByb3RhdGlvblxuICB2YXIgcm90SSA9IE1hdGguYXRhbihNYXRoLnNpbihJKSAvIChNYXRoLnNpbih0aGlzLmIwKSAqIE1hdGgudGFuKGIpICsgTWF0aC5jb3ModGhpcy5iMCkgKiBNYXRoLmNvcyhJKSkpO1xuXG4gIHZhciByb3RCID0gTWF0aC5hc2luKE1hdGguY29zKHRoaXMuYjApICogTWF0aC5zaW4oYikgLSBNYXRoLnNpbih0aGlzLmIwKSAqIE1hdGguY29zKGIpICogTWF0aC5jb3MoSSkpO1xuXG4gIHAueSA9IHRoaXMuUiAvIDIgKiBNYXRoLmxvZygoMSArIE1hdGguc2luKHJvdEIpKSAvICgxIC0gTWF0aC5zaW4ocm90QikpKSArIHRoaXMueTA7XG4gIHAueCA9IHRoaXMuUiAqIHJvdEkgKyB0aGlzLngwO1xuICByZXR1cm4gcDtcbn07XG5cbmV4cG9ydHMuaW52ZXJzZSA9IGZ1bmN0aW9uKHApIHtcbiAgdmFyIFkgPSBwLnggLSB0aGlzLngwO1xuICB2YXIgWCA9IHAueSAtIHRoaXMueTA7XG5cbiAgdmFyIHJvdEkgPSBZIC8gdGhpcy5SO1xuICB2YXIgcm90QiA9IDIgKiAoTWF0aC5hdGFuKE1hdGguZXhwKFggLyB0aGlzLlIpKSAtIE1hdGguUEkgLyA0KTtcblxuICB2YXIgYiA9IE1hdGguYXNpbihNYXRoLmNvcyh0aGlzLmIwKSAqIE1hdGguc2luKHJvdEIpICsgTWF0aC5zaW4odGhpcy5iMCkgKiBNYXRoLmNvcyhyb3RCKSAqIE1hdGguY29zKHJvdEkpKTtcbiAgdmFyIEkgPSBNYXRoLmF0YW4oTWF0aC5zaW4ocm90SSkgLyAoTWF0aC5jb3ModGhpcy5iMCkgKiBNYXRoLmNvcyhyb3RJKSAtIE1hdGguc2luKHRoaXMuYjApICogTWF0aC50YW4ocm90QikpKTtcblxuICB2YXIgbGFtYmRhID0gdGhpcy5sYW1iZGEwICsgSSAvIHRoaXMuYWxwaGE7XG5cbiAgdmFyIFMgPSAwO1xuICB2YXIgcGh5ID0gYjtcbiAgdmFyIHByZXZQaHkgPSAtMTAwMDtcbiAgdmFyIGl0ZXJhdGlvbiA9IDA7XG4gIHdoaWxlIChNYXRoLmFicyhwaHkgLSBwcmV2UGh5KSA+IDAuMDAwMDAwMSkge1xuICAgIGlmICgrK2l0ZXJhdGlvbiA+IDIwKSB7XG4gICAgICAvLy4uLnJlcG9ydEVycm9yKFwib21lcmNGd2RJbmZpbml0eVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy9TID0gTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSSAvIDQgKyBwaHkgLyAyKSk7XG4gICAgUyA9IDEgLyB0aGlzLmFscGhhICogKE1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkgLyA0ICsgYiAvIDIpKSAtIHRoaXMuSykgKyB0aGlzLmUgKiBNYXRoLmxvZyhNYXRoLnRhbihNYXRoLlBJIC8gNCArIE1hdGguYXNpbih0aGlzLmUgKiBNYXRoLnNpbihwaHkpKSAvIDIpKTtcbiAgICBwcmV2UGh5ID0gcGh5O1xuICAgIHBoeSA9IDIgKiBNYXRoLmF0YW4oTWF0aC5leHAoUykpIC0gTWF0aC5QSSAvIDI7XG4gIH1cblxuICBwLnggPSBsYW1iZGE7XG4gIHAueSA9IHBoeTtcbiAgcmV0dXJuIHA7XG59O1xuXG5leHBvcnRzLm5hbWVzID0gW1wic29tZXJjXCJdO1xuIiwidmFyIEhBTEZfUEkgPSBNYXRoLlBJLzI7XG52YXIgRVBTTE4gPSAxLjBlLTEwO1xudmFyIHNpZ24gPSByZXF1aXJlKCcuLi9jb21tb24vc2lnbicpO1xudmFyIG1zZm56ID0gcmVxdWlyZSgnLi4vY29tbW9uL21zZm56Jyk7XG52YXIgdHNmbnogPSByZXF1aXJlKCcuLi9jb21tb24vdHNmbnonKTtcbnZhciBwaGkyeiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9waGkyeicpO1xudmFyIGFkanVzdF9sb24gPSByZXF1aXJlKCcuLi9jb21tb24vYWRqdXN0X2xvbicpO1xuZXhwb3J0cy5zc2ZuXyA9IGZ1bmN0aW9uKHBoaXQsIHNpbnBoaSwgZWNjZW4pIHtcbiAgc2lucGhpICo9IGVjY2VuO1xuICByZXR1cm4gKE1hdGgudGFuKDAuNSAqIChIQUxGX1BJICsgcGhpdCkpICogTWF0aC5wb3coKDEgLSBzaW5waGkpIC8gKDEgKyBzaW5waGkpLCAwLjUgKiBlY2NlbikpO1xufTtcblxuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuY29zbGF0MCA9IE1hdGguY29zKHRoaXMubGF0MCk7XG4gIHRoaXMuc2lubGF0MCA9IE1hdGguc2luKHRoaXMubGF0MCk7XG4gIGlmICh0aGlzLnNwaGVyZSkge1xuICAgIGlmICh0aGlzLmswID09PSAxICYmICFpc05hTih0aGlzLmxhdF90cykgJiYgTWF0aC5hYnModGhpcy5jb3NsYXQwKSA8PSBFUFNMTikge1xuICAgICAgdGhpcy5rMCA9IDAuNSAqICgxICsgc2lnbih0aGlzLmxhdDApICogTWF0aC5zaW4odGhpcy5sYXRfdHMpKTtcbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgaWYgKE1hdGguYWJzKHRoaXMuY29zbGF0MCkgPD0gRVBTTE4pIHtcbiAgICAgIGlmICh0aGlzLmxhdDAgPiAwKSB7XG4gICAgICAgIC8vTm9ydGggcG9sZVxuICAgICAgICAvL3RyYWNlKCdzdGVyZTpub3J0aCBwb2xlJyk7XG4gICAgICAgIHRoaXMuY29uID0gMTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvL1NvdXRoIHBvbGVcbiAgICAgICAgLy90cmFjZSgnc3RlcmU6c291dGggcG9sZScpO1xuICAgICAgICB0aGlzLmNvbiA9IC0xO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmNvbnMgPSBNYXRoLnNxcnQoTWF0aC5wb3coMSArIHRoaXMuZSwgMSArIHRoaXMuZSkgKiBNYXRoLnBvdygxIC0gdGhpcy5lLCAxIC0gdGhpcy5lKSk7XG4gICAgaWYgKHRoaXMuazAgPT09IDEgJiYgIWlzTmFOKHRoaXMubGF0X3RzKSAmJiBNYXRoLmFicyh0aGlzLmNvc2xhdDApIDw9IEVQU0xOKSB7XG4gICAgICB0aGlzLmswID0gMC41ICogdGhpcy5jb25zICogbXNmbnoodGhpcy5lLCBNYXRoLnNpbih0aGlzLmxhdF90cyksIE1hdGguY29zKHRoaXMubGF0X3RzKSkgLyB0c2Zueih0aGlzLmUsIHRoaXMuY29uICogdGhpcy5sYXRfdHMsIHRoaXMuY29uICogTWF0aC5zaW4odGhpcy5sYXRfdHMpKTtcbiAgICB9XG4gICAgdGhpcy5tczEgPSBtc2Zueih0aGlzLmUsIHRoaXMuc2lubGF0MCwgdGhpcy5jb3NsYXQwKTtcbiAgICB0aGlzLlgwID0gMiAqIE1hdGguYXRhbih0aGlzLnNzZm5fKHRoaXMubGF0MCwgdGhpcy5zaW5sYXQwLCB0aGlzLmUpKSAtIEhBTEZfUEk7XG4gICAgdGhpcy5jb3NYMCA9IE1hdGguY29zKHRoaXMuWDApO1xuICAgIHRoaXMuc2luWDAgPSBNYXRoLnNpbih0aGlzLlgwKTtcbiAgfVxufTtcblxuLy8gU3RlcmVvZ3JhcGhpYyBmb3J3YXJkIGVxdWF0aW9ucy0tbWFwcGluZyBsYXQsbG9uZyB0byB4LHlcbmV4cG9ydHMuZm9yd2FyZCA9IGZ1bmN0aW9uKHApIHtcbiAgdmFyIGxvbiA9IHAueDtcbiAgdmFyIGxhdCA9IHAueTtcbiAgdmFyIHNpbmxhdCA9IE1hdGguc2luKGxhdCk7XG4gIHZhciBjb3NsYXQgPSBNYXRoLmNvcyhsYXQpO1xuICB2YXIgQSwgWCwgc2luWCwgY29zWCwgdHMsIHJoO1xuICB2YXIgZGxvbiA9IGFkanVzdF9sb24obG9uIC0gdGhpcy5sb25nMCk7XG5cbiAgaWYgKE1hdGguYWJzKE1hdGguYWJzKGxvbiAtIHRoaXMubG9uZzApIC0gTWF0aC5QSSkgPD0gRVBTTE4gJiYgTWF0aC5hYnMobGF0ICsgdGhpcy5sYXQwKSA8PSBFUFNMTikge1xuICAgIC8vY2FzZSBvZiB0aGUgb3JpZ2luZSBwb2ludFxuICAgIC8vdHJhY2UoJ3N0ZXJlOnRoaXMgaXMgdGhlIG9yaWdpbiBwb2ludCcpO1xuICAgIHAueCA9IE5hTjtcbiAgICBwLnkgPSBOYU47XG4gICAgcmV0dXJuIHA7XG4gIH1cbiAgaWYgKHRoaXMuc3BoZXJlKSB7XG4gICAgLy90cmFjZSgnc3RlcmU6c3BoZXJlIGNhc2UnKTtcbiAgICBBID0gMiAqIHRoaXMuazAgLyAoMSArIHRoaXMuc2lubGF0MCAqIHNpbmxhdCArIHRoaXMuY29zbGF0MCAqIGNvc2xhdCAqIE1hdGguY29zKGRsb24pKTtcbiAgICBwLnggPSB0aGlzLmEgKiBBICogY29zbGF0ICogTWF0aC5zaW4oZGxvbikgKyB0aGlzLngwO1xuICAgIHAueSA9IHRoaXMuYSAqIEEgKiAodGhpcy5jb3NsYXQwICogc2lubGF0IC0gdGhpcy5zaW5sYXQwICogY29zbGF0ICogTWF0aC5jb3MoZGxvbikpICsgdGhpcy55MDtcbiAgICByZXR1cm4gcDtcbiAgfVxuICBlbHNlIHtcbiAgICBYID0gMiAqIE1hdGguYXRhbih0aGlzLnNzZm5fKGxhdCwgc2lubGF0LCB0aGlzLmUpKSAtIEhBTEZfUEk7XG4gICAgY29zWCA9IE1hdGguY29zKFgpO1xuICAgIHNpblggPSBNYXRoLnNpbihYKTtcbiAgICBpZiAoTWF0aC5hYnModGhpcy5jb3NsYXQwKSA8PSBFUFNMTikge1xuICAgICAgdHMgPSB0c2Zueih0aGlzLmUsIGxhdCAqIHRoaXMuY29uLCB0aGlzLmNvbiAqIHNpbmxhdCk7XG4gICAgICByaCA9IDIgKiB0aGlzLmEgKiB0aGlzLmswICogdHMgLyB0aGlzLmNvbnM7XG4gICAgICBwLnggPSB0aGlzLngwICsgcmggKiBNYXRoLnNpbihsb24gLSB0aGlzLmxvbmcwKTtcbiAgICAgIHAueSA9IHRoaXMueTAgLSB0aGlzLmNvbiAqIHJoICogTWF0aC5jb3MobG9uIC0gdGhpcy5sb25nMCk7XG4gICAgICAvL3RyYWNlKHAudG9TdHJpbmcoKSk7XG4gICAgICByZXR1cm4gcDtcbiAgICB9XG4gICAgZWxzZSBpZiAoTWF0aC5hYnModGhpcy5zaW5sYXQwKSA8IEVQU0xOKSB7XG4gICAgICAvL0VxXG4gICAgICAvL3RyYWNlKCdzdGVyZTplcXVhdGV1cicpO1xuICAgICAgQSA9IDIgKiB0aGlzLmEgKiB0aGlzLmswIC8gKDEgKyBjb3NYICogTWF0aC5jb3MoZGxvbikpO1xuICAgICAgcC55ID0gQSAqIHNpblg7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy9vdGhlciBjYXNlXG4gICAgICAvL3RyYWNlKCdzdGVyZTpub3JtYWwgY2FzZScpO1xuICAgICAgQSA9IDIgKiB0aGlzLmEgKiB0aGlzLmswICogdGhpcy5tczEgLyAodGhpcy5jb3NYMCAqICgxICsgdGhpcy5zaW5YMCAqIHNpblggKyB0aGlzLmNvc1gwICogY29zWCAqIE1hdGguY29zKGRsb24pKSk7XG4gICAgICBwLnkgPSBBICogKHRoaXMuY29zWDAgKiBzaW5YIC0gdGhpcy5zaW5YMCAqIGNvc1ggKiBNYXRoLmNvcyhkbG9uKSkgKyB0aGlzLnkwO1xuICAgIH1cbiAgICBwLnggPSBBICogY29zWCAqIE1hdGguc2luKGRsb24pICsgdGhpcy54MDtcbiAgfVxuICAvL3RyYWNlKHAudG9TdHJpbmcoKSk7XG4gIHJldHVybiBwO1xufTtcblxuXG4vLyogU3RlcmVvZ3JhcGhpYyBpbnZlcnNlIGVxdWF0aW9ucy0tbWFwcGluZyB4LHkgdG8gbGF0L2xvbmdcbmV4cG9ydHMuaW52ZXJzZSA9IGZ1bmN0aW9uKHApIHtcbiAgcC54IC09IHRoaXMueDA7XG4gIHAueSAtPSB0aGlzLnkwO1xuICB2YXIgbG9uLCBsYXQsIHRzLCBjZSwgQ2hpO1xuICB2YXIgcmggPSBNYXRoLnNxcnQocC54ICogcC54ICsgcC55ICogcC55KTtcbiAgaWYgKHRoaXMuc3BoZXJlKSB7XG4gICAgdmFyIGMgPSAyICogTWF0aC5hdGFuKHJoIC8gKDAuNSAqIHRoaXMuYSAqIHRoaXMuazApKTtcbiAgICBsb24gPSB0aGlzLmxvbmcwO1xuICAgIGxhdCA9IHRoaXMubGF0MDtcbiAgICBpZiAocmggPD0gRVBTTE4pIHtcbiAgICAgIHAueCA9IGxvbjtcbiAgICAgIHAueSA9IGxhdDtcbiAgICAgIHJldHVybiBwO1xuICAgIH1cbiAgICBsYXQgPSBNYXRoLmFzaW4oTWF0aC5jb3MoYykgKiB0aGlzLnNpbmxhdDAgKyBwLnkgKiBNYXRoLnNpbihjKSAqIHRoaXMuY29zbGF0MCAvIHJoKTtcbiAgICBpZiAoTWF0aC5hYnModGhpcy5jb3NsYXQwKSA8IEVQU0xOKSB7XG4gICAgICBpZiAodGhpcy5sYXQwID4gMCkge1xuICAgICAgICBsb24gPSBhZGp1c3RfbG9uKHRoaXMubG9uZzAgKyBNYXRoLmF0YW4yKHAueCwgLSAxICogcC55KSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbG9uID0gYWRqdXN0X2xvbih0aGlzLmxvbmcwICsgTWF0aC5hdGFuMihwLngsIHAueSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGxvbiA9IGFkanVzdF9sb24odGhpcy5sb25nMCArIE1hdGguYXRhbjIocC54ICogTWF0aC5zaW4oYyksIHJoICogdGhpcy5jb3NsYXQwICogTWF0aC5jb3MoYykgLSBwLnkgKiB0aGlzLnNpbmxhdDAgKiBNYXRoLnNpbihjKSkpO1xuICAgIH1cbiAgICBwLnggPSBsb247XG4gICAgcC55ID0gbGF0O1xuICAgIHJldHVybiBwO1xuICB9XG4gIGVsc2Uge1xuICAgIGlmIChNYXRoLmFicyh0aGlzLmNvc2xhdDApIDw9IEVQU0xOKSB7XG4gICAgICBpZiAocmggPD0gRVBTTE4pIHtcbiAgICAgICAgbGF0ID0gdGhpcy5sYXQwO1xuICAgICAgICBsb24gPSB0aGlzLmxvbmcwO1xuICAgICAgICBwLnggPSBsb247XG4gICAgICAgIHAueSA9IGxhdDtcbiAgICAgICAgLy90cmFjZShwLnRvU3RyaW5nKCkpO1xuICAgICAgICByZXR1cm4gcDtcbiAgICAgIH1cbiAgICAgIHAueCAqPSB0aGlzLmNvbjtcbiAgICAgIHAueSAqPSB0aGlzLmNvbjtcbiAgICAgIHRzID0gcmggKiB0aGlzLmNvbnMgLyAoMiAqIHRoaXMuYSAqIHRoaXMuazApO1xuICAgICAgbGF0ID0gdGhpcy5jb24gKiBwaGkyeih0aGlzLmUsIHRzKTtcbiAgICAgIGxvbiA9IHRoaXMuY29uICogYWRqdXN0X2xvbih0aGlzLmNvbiAqIHRoaXMubG9uZzAgKyBNYXRoLmF0YW4yKHAueCwgLSAxICogcC55KSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY2UgPSAyICogTWF0aC5hdGFuKHJoICogdGhpcy5jb3NYMCAvICgyICogdGhpcy5hICogdGhpcy5rMCAqIHRoaXMubXMxKSk7XG4gICAgICBsb24gPSB0aGlzLmxvbmcwO1xuICAgICAgaWYgKHJoIDw9IEVQU0xOKSB7XG4gICAgICAgIENoaSA9IHRoaXMuWDA7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgQ2hpID0gTWF0aC5hc2luKE1hdGguY29zKGNlKSAqIHRoaXMuc2luWDAgKyBwLnkgKiBNYXRoLnNpbihjZSkgKiB0aGlzLmNvc1gwIC8gcmgpO1xuICAgICAgICBsb24gPSBhZGp1c3RfbG9uKHRoaXMubG9uZzAgKyBNYXRoLmF0YW4yKHAueCAqIE1hdGguc2luKGNlKSwgcmggKiB0aGlzLmNvc1gwICogTWF0aC5jb3MoY2UpIC0gcC55ICogdGhpcy5zaW5YMCAqIE1hdGguc2luKGNlKSkpO1xuICAgICAgfVxuICAgICAgbGF0ID0gLTEgKiBwaGkyeih0aGlzLmUsIE1hdGgudGFuKDAuNSAqIChIQUxGX1BJICsgQ2hpKSkpO1xuICAgIH1cbiAgfVxuICBwLnggPSBsb247XG4gIHAueSA9IGxhdDtcblxuICAvL3RyYWNlKHAudG9TdHJpbmcoKSk7XG4gIHJldHVybiBwO1xuXG59O1xuZXhwb3J0cy5uYW1lcyA9IFtcInN0ZXJlXCIsIFwiU3RlcmVvZ3JhcGhpY19Tb3V0aF9Qb2xlXCIsIFwiUG9sYXIgU3RlcmVvZ3JhcGhpYyAodmFyaWFudCBCKVwiXTtcbiIsInZhciBnYXVzcyA9IHJlcXVpcmUoJy4vZ2F1c3MnKTtcbnZhciBhZGp1c3RfbG9uID0gcmVxdWlyZSgnLi4vY29tbW9uL2FkanVzdF9sb24nKTtcbmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICBnYXVzcy5pbml0LmFwcGx5KHRoaXMpO1xuICBpZiAoIXRoaXMucmMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5zaW5jMCA9IE1hdGguc2luKHRoaXMucGhpYzApO1xuICB0aGlzLmNvc2MwID0gTWF0aC5jb3ModGhpcy5waGljMCk7XG4gIHRoaXMuUjIgPSAyICogdGhpcy5yYztcbiAgaWYgKCF0aGlzLnRpdGxlKSB7XG4gICAgdGhpcy50aXRsZSA9IFwiT2JsaXF1ZSBTdGVyZW9ncmFwaGljIEFsdGVybmF0aXZlXCI7XG4gIH1cbn07XG5cbmV4cG9ydHMuZm9yd2FyZCA9IGZ1bmN0aW9uKHApIHtcbiAgdmFyIHNpbmMsIGNvc2MsIGNvc2wsIGs7XG4gIHAueCA9IGFkanVzdF9sb24ocC54IC0gdGhpcy5sb25nMCk7XG4gIGdhdXNzLmZvcndhcmQuYXBwbHkodGhpcywgW3BdKTtcbiAgc2luYyA9IE1hdGguc2luKHAueSk7XG4gIGNvc2MgPSBNYXRoLmNvcyhwLnkpO1xuICBjb3NsID0gTWF0aC5jb3MocC54KTtcbiAgayA9IHRoaXMuazAgKiB0aGlzLlIyIC8gKDEgKyB0aGlzLnNpbmMwICogc2luYyArIHRoaXMuY29zYzAgKiBjb3NjICogY29zbCk7XG4gIHAueCA9IGsgKiBjb3NjICogTWF0aC5zaW4ocC54KTtcbiAgcC55ID0gayAqICh0aGlzLmNvc2MwICogc2luYyAtIHRoaXMuc2luYzAgKiBjb3NjICogY29zbCk7XG4gIHAueCA9IHRoaXMuYSAqIHAueCArIHRoaXMueDA7XG4gIHAueSA9IHRoaXMuYSAqIHAueSArIHRoaXMueTA7XG4gIHJldHVybiBwO1xufTtcblxuZXhwb3J0cy5pbnZlcnNlID0gZnVuY3Rpb24ocCkge1xuICB2YXIgc2luYywgY29zYywgbG9uLCBsYXQsIHJobztcbiAgcC54ID0gKHAueCAtIHRoaXMueDApIC8gdGhpcy5hO1xuICBwLnkgPSAocC55IC0gdGhpcy55MCkgLyB0aGlzLmE7XG5cbiAgcC54IC89IHRoaXMuazA7XG4gIHAueSAvPSB0aGlzLmswO1xuICBpZiAoKHJobyA9IE1hdGguc3FydChwLnggKiBwLnggKyBwLnkgKiBwLnkpKSkge1xuICAgIHZhciBjID0gMiAqIE1hdGguYXRhbjIocmhvLCB0aGlzLlIyKTtcbiAgICBzaW5jID0gTWF0aC5zaW4oYyk7XG4gICAgY29zYyA9IE1hdGguY29zKGMpO1xuICAgIGxhdCA9IE1hdGguYXNpbihjb3NjICogdGhpcy5zaW5jMCArIHAueSAqIHNpbmMgKiB0aGlzLmNvc2MwIC8gcmhvKTtcbiAgICBsb24gPSBNYXRoLmF0YW4yKHAueCAqIHNpbmMsIHJobyAqIHRoaXMuY29zYzAgKiBjb3NjIC0gcC55ICogdGhpcy5zaW5jMCAqIHNpbmMpO1xuICB9XG4gIGVsc2Uge1xuICAgIGxhdCA9IHRoaXMucGhpYzA7XG4gICAgbG9uID0gMDtcbiAgfVxuXG4gIHAueCA9IGxvbjtcbiAgcC55ID0gbGF0O1xuICBnYXVzcy5pbnZlcnNlLmFwcGx5KHRoaXMsIFtwXSk7XG4gIHAueCA9IGFkanVzdF9sb24ocC54ICsgdGhpcy5sb25nMCk7XG4gIHJldHVybiBwO1xufTtcblxuZXhwb3J0cy5uYW1lcyA9IFtcIlN0ZXJlb2dyYXBoaWNfTm9ydGhfUG9sZVwiLCBcIk9ibGlxdWVfU3RlcmVvZ3JhcGhpY1wiLCBcIlBvbGFyX1N0ZXJlb2dyYXBoaWNcIiwgXCJzdGVyZWFcIixcIk9ibGlxdWUgU3RlcmVvZ3JhcGhpYyBBbHRlcm5hdGl2ZVwiXTtcbiIsInZhciBlMGZuID0gcmVxdWlyZSgnLi4vY29tbW9uL2UwZm4nKTtcbnZhciBlMWZuID0gcmVxdWlyZSgnLi4vY29tbW9uL2UxZm4nKTtcbnZhciBlMmZuID0gcmVxdWlyZSgnLi4vY29tbW9uL2UyZm4nKTtcbnZhciBlM2ZuID0gcmVxdWlyZSgnLi4vY29tbW9uL2UzZm4nKTtcbnZhciBtbGZuID0gcmVxdWlyZSgnLi4vY29tbW9uL21sZm4nKTtcbnZhciBhZGp1c3RfbG9uID0gcmVxdWlyZSgnLi4vY29tbW9uL2FkanVzdF9sb24nKTtcbnZhciBIQUxGX1BJID0gTWF0aC5QSS8yO1xudmFyIEVQU0xOID0gMS4wZS0xMDtcbnZhciBzaWduID0gcmVxdWlyZSgnLi4vY29tbW9uL3NpZ24nKTtcbnZhciBhc2lueiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9hc2lueicpO1xuXG5leHBvcnRzLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lMCA9IGUwZm4odGhpcy5lcyk7XG4gIHRoaXMuZTEgPSBlMWZuKHRoaXMuZXMpO1xuICB0aGlzLmUyID0gZTJmbih0aGlzLmVzKTtcbiAgdGhpcy5lMyA9IGUzZm4odGhpcy5lcyk7XG4gIHRoaXMubWwwID0gdGhpcy5hICogbWxmbih0aGlzLmUwLCB0aGlzLmUxLCB0aGlzLmUyLCB0aGlzLmUzLCB0aGlzLmxhdDApO1xufTtcblxuLyoqXG4gICAgVHJhbnN2ZXJzZSBNZXJjYXRvciBGb3J3YXJkICAtIGxvbmcvbGF0IHRvIHgveVxuICAgIGxvbmcvbGF0IGluIHJhZGlhbnNcbiAgKi9cbmV4cG9ydHMuZm9yd2FyZCA9IGZ1bmN0aW9uKHApIHtcbiAgdmFyIGxvbiA9IHAueDtcbiAgdmFyIGxhdCA9IHAueTtcblxuICB2YXIgZGVsdGFfbG9uID0gYWRqdXN0X2xvbihsb24gLSB0aGlzLmxvbmcwKTtcbiAgdmFyIGNvbjtcbiAgdmFyIHgsIHk7XG4gIHZhciBzaW5fcGhpID0gTWF0aC5zaW4obGF0KTtcbiAgdmFyIGNvc19waGkgPSBNYXRoLmNvcyhsYXQpO1xuXG4gIGlmICh0aGlzLnNwaGVyZSkge1xuICAgIHZhciBiID0gY29zX3BoaSAqIE1hdGguc2luKGRlbHRhX2xvbik7XG4gICAgaWYgKChNYXRoLmFicyhNYXRoLmFicyhiKSAtIDEpKSA8IDAuMDAwMDAwMDAwMSkge1xuICAgICAgcmV0dXJuICg5Myk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgeCA9IDAuNSAqIHRoaXMuYSAqIHRoaXMuazAgKiBNYXRoLmxvZygoMSArIGIpIC8gKDEgLSBiKSk7XG4gICAgICBjb24gPSBNYXRoLmFjb3MoY29zX3BoaSAqIE1hdGguY29zKGRlbHRhX2xvbikgLyBNYXRoLnNxcnQoMSAtIGIgKiBiKSk7XG4gICAgICBpZiAobGF0IDwgMCkge1xuICAgICAgICBjb24gPSAtY29uO1xuICAgICAgfVxuICAgICAgeSA9IHRoaXMuYSAqIHRoaXMuazAgKiAoY29uIC0gdGhpcy5sYXQwKTtcbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgdmFyIGFsID0gY29zX3BoaSAqIGRlbHRhX2xvbjtcbiAgICB2YXIgYWxzID0gTWF0aC5wb3coYWwsIDIpO1xuICAgIHZhciBjID0gdGhpcy5lcDIgKiBNYXRoLnBvdyhjb3NfcGhpLCAyKTtcbiAgICB2YXIgdHEgPSBNYXRoLnRhbihsYXQpO1xuICAgIHZhciB0ID0gTWF0aC5wb3codHEsIDIpO1xuICAgIGNvbiA9IDEgLSB0aGlzLmVzICogTWF0aC5wb3coc2luX3BoaSwgMik7XG4gICAgdmFyIG4gPSB0aGlzLmEgLyBNYXRoLnNxcnQoY29uKTtcbiAgICB2YXIgbWwgPSB0aGlzLmEgKiBtbGZuKHRoaXMuZTAsIHRoaXMuZTEsIHRoaXMuZTIsIHRoaXMuZTMsIGxhdCk7XG5cbiAgICB4ID0gdGhpcy5rMCAqIG4gKiBhbCAqICgxICsgYWxzIC8gNiAqICgxIC0gdCArIGMgKyBhbHMgLyAyMCAqICg1IC0gMTggKiB0ICsgTWF0aC5wb3codCwgMikgKyA3MiAqIGMgLSA1OCAqIHRoaXMuZXAyKSkpICsgdGhpcy54MDtcbiAgICB5ID0gdGhpcy5rMCAqIChtbCAtIHRoaXMubWwwICsgbiAqIHRxICogKGFscyAqICgwLjUgKyBhbHMgLyAyNCAqICg1IC0gdCArIDkgKiBjICsgNCAqIE1hdGgucG93KGMsIDIpICsgYWxzIC8gMzAgKiAoNjEgLSA1OCAqIHQgKyBNYXRoLnBvdyh0LCAyKSArIDYwMCAqIGMgLSAzMzAgKiB0aGlzLmVwMikpKSkpICsgdGhpcy55MDtcblxuICB9XG4gIHAueCA9IHg7XG4gIHAueSA9IHk7XG4gIHJldHVybiBwO1xufTtcblxuLyoqXG4gICAgVHJhbnN2ZXJzZSBNZXJjYXRvciBJbnZlcnNlICAtICB4L3kgdG8gbG9uZy9sYXRcbiAgKi9cbmV4cG9ydHMuaW52ZXJzZSA9IGZ1bmN0aW9uKHApIHtcbiAgdmFyIGNvbiwgcGhpO1xuICB2YXIgZGVsdGFfcGhpO1xuICB2YXIgaTtcbiAgdmFyIG1heF9pdGVyID0gNjtcbiAgdmFyIGxhdCwgbG9uO1xuXG4gIGlmICh0aGlzLnNwaGVyZSkge1xuICAgIHZhciBmID0gTWF0aC5leHAocC54IC8gKHRoaXMuYSAqIHRoaXMuazApKTtcbiAgICB2YXIgZyA9IDAuNSAqIChmIC0gMSAvIGYpO1xuICAgIHZhciB0ZW1wID0gdGhpcy5sYXQwICsgcC55IC8gKHRoaXMuYSAqIHRoaXMuazApO1xuICAgIHZhciBoID0gTWF0aC5jb3ModGVtcCk7XG4gICAgY29uID0gTWF0aC5zcXJ0KCgxIC0gaCAqIGgpIC8gKDEgKyBnICogZykpO1xuICAgIGxhdCA9IGFzaW56KGNvbik7XG4gICAgaWYgKHRlbXAgPCAwKSB7XG4gICAgICBsYXQgPSAtbGF0O1xuICAgIH1cbiAgICBpZiAoKGcgPT09IDApICYmIChoID09PSAwKSkge1xuICAgICAgbG9uID0gdGhpcy5sb25nMDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBsb24gPSBhZGp1c3RfbG9uKE1hdGguYXRhbjIoZywgaCkgKyB0aGlzLmxvbmcwKTtcbiAgICB9XG4gIH1cbiAgZWxzZSB7IC8vIGVsbGlwc29pZGFsIGZvcm1cbiAgICB2YXIgeCA9IHAueCAtIHRoaXMueDA7XG4gICAgdmFyIHkgPSBwLnkgLSB0aGlzLnkwO1xuXG4gICAgY29uID0gKHRoaXMubWwwICsgeSAvIHRoaXMuazApIC8gdGhpcy5hO1xuICAgIHBoaSA9IGNvbjtcbiAgICBmb3IgKGkgPSAwOyB0cnVlOyBpKyspIHtcbiAgICAgIGRlbHRhX3BoaSA9ICgoY29uICsgdGhpcy5lMSAqIE1hdGguc2luKDIgKiBwaGkpIC0gdGhpcy5lMiAqIE1hdGguc2luKDQgKiBwaGkpICsgdGhpcy5lMyAqIE1hdGguc2luKDYgKiBwaGkpKSAvIHRoaXMuZTApIC0gcGhpO1xuICAgICAgcGhpICs9IGRlbHRhX3BoaTtcbiAgICAgIGlmIChNYXRoLmFicyhkZWx0YV9waGkpIDw9IEVQU0xOKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKGkgPj0gbWF4X2l0ZXIpIHtcbiAgICAgICAgcmV0dXJuICg5NSk7XG4gICAgICB9XG4gICAgfSAvLyBmb3IoKVxuICAgIGlmIChNYXRoLmFicyhwaGkpIDwgSEFMRl9QSSkge1xuICAgICAgdmFyIHNpbl9waGkgPSBNYXRoLnNpbihwaGkpO1xuICAgICAgdmFyIGNvc19waGkgPSBNYXRoLmNvcyhwaGkpO1xuICAgICAgdmFyIHRhbl9waGkgPSBNYXRoLnRhbihwaGkpO1xuICAgICAgdmFyIGMgPSB0aGlzLmVwMiAqIE1hdGgucG93KGNvc19waGksIDIpO1xuICAgICAgdmFyIGNzID0gTWF0aC5wb3coYywgMik7XG4gICAgICB2YXIgdCA9IE1hdGgucG93KHRhbl9waGksIDIpO1xuICAgICAgdmFyIHRzID0gTWF0aC5wb3codCwgMik7XG4gICAgICBjb24gPSAxIC0gdGhpcy5lcyAqIE1hdGgucG93KHNpbl9waGksIDIpO1xuICAgICAgdmFyIG4gPSB0aGlzLmEgLyBNYXRoLnNxcnQoY29uKTtcbiAgICAgIHZhciByID0gbiAqICgxIC0gdGhpcy5lcykgLyBjb247XG4gICAgICB2YXIgZCA9IHggLyAobiAqIHRoaXMuazApO1xuICAgICAgdmFyIGRzID0gTWF0aC5wb3coZCwgMik7XG4gICAgICBsYXQgPSBwaGkgLSAobiAqIHRhbl9waGkgKiBkcyAvIHIpICogKDAuNSAtIGRzIC8gMjQgKiAoNSArIDMgKiB0ICsgMTAgKiBjIC0gNCAqIGNzIC0gOSAqIHRoaXMuZXAyIC0gZHMgLyAzMCAqICg2MSArIDkwICogdCArIDI5OCAqIGMgKyA0NSAqIHRzIC0gMjUyICogdGhpcy5lcDIgLSAzICogY3MpKSk7XG4gICAgICBsb24gPSBhZGp1c3RfbG9uKHRoaXMubG9uZzAgKyAoZCAqICgxIC0gZHMgLyA2ICogKDEgKyAyICogdCArIGMgLSBkcyAvIDIwICogKDUgLSAyICogYyArIDI4ICogdCAtIDMgKiBjcyArIDggKiB0aGlzLmVwMiArIDI0ICogdHMpKSkgLyBjb3NfcGhpKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgbGF0ID0gSEFMRl9QSSAqIHNpZ24oeSk7XG4gICAgICBsb24gPSB0aGlzLmxvbmcwO1xuICAgIH1cbiAgfVxuICBwLnggPSBsb247XG4gIHAueSA9IGxhdDtcbiAgcmV0dXJuIHA7XG59O1xuZXhwb3J0cy5uYW1lcyA9IFtcIlRyYW5zdmVyc2VfTWVyY2F0b3JcIiwgXCJUcmFuc3ZlcnNlIE1lcmNhdG9yXCIsIFwidG1lcmNcIl07XG4iLCJ2YXIgRDJSID0gMC4wMTc0NTMyOTI1MTk5NDMyOTU3NztcbnZhciB0bWVyYyA9IHJlcXVpcmUoJy4vdG1lcmMnKTtcbmV4cG9ydHMuZGVwZW5kc09uID0gJ3RtZXJjJztcbmV4cG9ydHMuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIXRoaXMuem9uZSkge1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLmxhdDAgPSAwO1xuICB0aGlzLmxvbmcwID0gKCg2ICogTWF0aC5hYnModGhpcy56b25lKSkgLSAxODMpICogRDJSO1xuICB0aGlzLngwID0gNTAwMDAwO1xuICB0aGlzLnkwID0gdGhpcy51dG1Tb3V0aCA/IDEwMDAwMDAwIDogMDtcbiAgdGhpcy5rMCA9IDAuOTk5NjtcblxuICB0bWVyYy5pbml0LmFwcGx5KHRoaXMpO1xuICB0aGlzLmZvcndhcmQgPSB0bWVyYy5mb3J3YXJkO1xuICB0aGlzLmludmVyc2UgPSB0bWVyYy5pbnZlcnNlO1xufTtcbmV4cG9ydHMubmFtZXMgPSBbXCJVbml2ZXJzYWwgVHJhbnN2ZXJzZSBNZXJjYXRvciBTeXN0ZW1cIiwgXCJ1dG1cIl07XG4iLCJ2YXIgYWRqdXN0X2xvbiA9IHJlcXVpcmUoJy4uL2NvbW1vbi9hZGp1c3RfbG9uJyk7XG52YXIgSEFMRl9QSSA9IE1hdGguUEkvMjtcbnZhciBFUFNMTiA9IDEuMGUtMTA7XG52YXIgYXNpbnogPSByZXF1aXJlKCcuLi9jb21tb24vYXNpbnonKTtcbi8qIEluaXRpYWxpemUgdGhlIFZhbiBEZXIgR3JpbnRlbiBwcm9qZWN0aW9uXG4gIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuZXhwb3J0cy5pbml0ID0gZnVuY3Rpb24oKSB7XG4gIC8vdGhpcy5SID0gNjM3MDk5NzsgLy9SYWRpdXMgb2YgZWFydGhcbiAgdGhpcy5SID0gdGhpcy5hO1xufTtcblxuZXhwb3J0cy5mb3J3YXJkID0gZnVuY3Rpb24ocCkge1xuXG4gIHZhciBsb24gPSBwLng7XG4gIHZhciBsYXQgPSBwLnk7XG5cbiAgLyogRm9yd2FyZCBlcXVhdGlvbnNcbiAgICAtLS0tLS0tLS0tLS0tLS0tLSovXG4gIHZhciBkbG9uID0gYWRqdXN0X2xvbihsb24gLSB0aGlzLmxvbmcwKTtcbiAgdmFyIHgsIHk7XG5cbiAgaWYgKE1hdGguYWJzKGxhdCkgPD0gRVBTTE4pIHtcbiAgICB4ID0gdGhpcy54MCArIHRoaXMuUiAqIGRsb247XG4gICAgeSA9IHRoaXMueTA7XG4gIH1cbiAgdmFyIHRoZXRhID0gYXNpbnooMiAqIE1hdGguYWJzKGxhdCAvIE1hdGguUEkpKTtcbiAgaWYgKChNYXRoLmFicyhkbG9uKSA8PSBFUFNMTikgfHwgKE1hdGguYWJzKE1hdGguYWJzKGxhdCkgLSBIQUxGX1BJKSA8PSBFUFNMTikpIHtcbiAgICB4ID0gdGhpcy54MDtcbiAgICBpZiAobGF0ID49IDApIHtcbiAgICAgIHkgPSB0aGlzLnkwICsgTWF0aC5QSSAqIHRoaXMuUiAqIE1hdGgudGFuKDAuNSAqIHRoZXRhKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB5ID0gdGhpcy55MCArIE1hdGguUEkgKiB0aGlzLlIgKiAtTWF0aC50YW4oMC41ICogdGhldGEpO1xuICAgIH1cbiAgICAvLyAgcmV0dXJuKE9LKTtcbiAgfVxuICB2YXIgYWwgPSAwLjUgKiBNYXRoLmFicygoTWF0aC5QSSAvIGRsb24pIC0gKGRsb24gLyBNYXRoLlBJKSk7XG4gIHZhciBhc3EgPSBhbCAqIGFsO1xuICB2YXIgc2ludGggPSBNYXRoLnNpbih0aGV0YSk7XG4gIHZhciBjb3N0aCA9IE1hdGguY29zKHRoZXRhKTtcblxuICB2YXIgZyA9IGNvc3RoIC8gKHNpbnRoICsgY29zdGggLSAxKTtcbiAgdmFyIGdzcSA9IGcgKiBnO1xuICB2YXIgbSA9IGcgKiAoMiAvIHNpbnRoIC0gMSk7XG4gIHZhciBtc3EgPSBtICogbTtcbiAgdmFyIGNvbiA9IE1hdGguUEkgKiB0aGlzLlIgKiAoYWwgKiAoZyAtIG1zcSkgKyBNYXRoLnNxcnQoYXNxICogKGcgLSBtc3EpICogKGcgLSBtc3EpIC0gKG1zcSArIGFzcSkgKiAoZ3NxIC0gbXNxKSkpIC8gKG1zcSArIGFzcSk7XG4gIGlmIChkbG9uIDwgMCkge1xuICAgIGNvbiA9IC1jb247XG4gIH1cbiAgeCA9IHRoaXMueDAgKyBjb247XG4gIC8vY29uID0gTWF0aC5hYnMoY29uIC8gKE1hdGguUEkgKiB0aGlzLlIpKTtcbiAgdmFyIHEgPSBhc3EgKyBnO1xuICBjb24gPSBNYXRoLlBJICogdGhpcy5SICogKG0gKiBxIC0gYWwgKiBNYXRoLnNxcnQoKG1zcSArIGFzcSkgKiAoYXNxICsgMSkgLSBxICogcSkpIC8gKG1zcSArIGFzcSk7XG4gIGlmIChsYXQgPj0gMCkge1xuICAgIC8veSA9IHRoaXMueTAgKyBNYXRoLlBJICogdGhpcy5SICogTWF0aC5zcXJ0KDEgLSBjb24gKiBjb24gLSAyICogYWwgKiBjb24pO1xuICAgIHkgPSB0aGlzLnkwICsgY29uO1xuICB9XG4gIGVsc2Uge1xuICAgIC8veSA9IHRoaXMueTAgLSBNYXRoLlBJICogdGhpcy5SICogTWF0aC5zcXJ0KDEgLSBjb24gKiBjb24gLSAyICogYWwgKiBjb24pO1xuICAgIHkgPSB0aGlzLnkwIC0gY29uO1xuICB9XG4gIHAueCA9IHg7XG4gIHAueSA9IHk7XG4gIHJldHVybiBwO1xufTtcblxuLyogVmFuIERlciBHcmludGVuIGludmVyc2UgZXF1YXRpb25zLS1tYXBwaW5nIHgseSB0byBsYXQvbG9uZ1xuICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuZXhwb3J0cy5pbnZlcnNlID0gZnVuY3Rpb24ocCkge1xuICB2YXIgbG9uLCBsYXQ7XG4gIHZhciB4eCwgeXksIHh5cywgYzEsIGMyLCBjMztcbiAgdmFyIGExO1xuICB2YXIgbTE7XG4gIHZhciBjb247XG4gIHZhciB0aDE7XG4gIHZhciBkO1xuXG4gIC8qIGludmVyc2UgZXF1YXRpb25zXG4gICAgLS0tLS0tLS0tLS0tLS0tLS0qL1xuICBwLnggLT0gdGhpcy54MDtcbiAgcC55IC09IHRoaXMueTA7XG4gIGNvbiA9IE1hdGguUEkgKiB0aGlzLlI7XG4gIHh4ID0gcC54IC8gY29uO1xuICB5eSA9IHAueSAvIGNvbjtcbiAgeHlzID0geHggKiB4eCArIHl5ICogeXk7XG4gIGMxID0gLU1hdGguYWJzKHl5KSAqICgxICsgeHlzKTtcbiAgYzIgPSBjMSAtIDIgKiB5eSAqIHl5ICsgeHggKiB4eDtcbiAgYzMgPSAtMiAqIGMxICsgMSArIDIgKiB5eSAqIHl5ICsgeHlzICogeHlzO1xuICBkID0geXkgKiB5eSAvIGMzICsgKDIgKiBjMiAqIGMyICogYzIgLyBjMyAvIGMzIC8gYzMgLSA5ICogYzEgKiBjMiAvIGMzIC8gYzMpIC8gMjc7XG4gIGExID0gKGMxIC0gYzIgKiBjMiAvIDMgLyBjMykgLyBjMztcbiAgbTEgPSAyICogTWF0aC5zcXJ0KC1hMSAvIDMpO1xuICBjb24gPSAoKDMgKiBkKSAvIGExKSAvIG0xO1xuICBpZiAoTWF0aC5hYnMoY29uKSA+IDEpIHtcbiAgICBpZiAoY29uID49IDApIHtcbiAgICAgIGNvbiA9IDE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uID0gLTE7XG4gICAgfVxuICB9XG4gIHRoMSA9IE1hdGguYWNvcyhjb24pIC8gMztcbiAgaWYgKHAueSA+PSAwKSB7XG4gICAgbGF0ID0gKC1tMSAqIE1hdGguY29zKHRoMSArIE1hdGguUEkgLyAzKSAtIGMyIC8gMyAvIGMzKSAqIE1hdGguUEk7XG4gIH1cbiAgZWxzZSB7XG4gICAgbGF0ID0gLSgtbTEgKiBNYXRoLmNvcyh0aDEgKyBNYXRoLlBJIC8gMykgLSBjMiAvIDMgLyBjMykgKiBNYXRoLlBJO1xuICB9XG5cbiAgaWYgKE1hdGguYWJzKHh4KSA8IEVQU0xOKSB7XG4gICAgbG9uID0gdGhpcy5sb25nMDtcbiAgfVxuICBlbHNlIHtcbiAgICBsb24gPSBhZGp1c3RfbG9uKHRoaXMubG9uZzAgKyBNYXRoLlBJICogKHh5cyAtIDEgKyBNYXRoLnNxcnQoMSArIDIgKiAoeHggKiB4eCAtIHl5ICogeXkpICsgeHlzICogeHlzKSkgLyAyIC8geHgpO1xuICB9XG5cbiAgcC54ID0gbG9uO1xuICBwLnkgPSBsYXQ7XG4gIHJldHVybiBwO1xufTtcbmV4cG9ydHMubmFtZXMgPSBbXCJWYW5fZGVyX0dyaW50ZW5fSVwiLCBcIlZhbkRlckdyaW50ZW5cIiwgXCJ2YW5kZ1wiXTsiLCJ2YXIgRDJSID0gMC4wMTc0NTMyOTI1MTk5NDMyOTU3NztcbnZhciBSMkQgPSA1Ny4yOTU3Nzk1MTMwODIzMjA4ODtcbnZhciBQSkRfM1BBUkFNID0gMTtcbnZhciBQSkRfN1BBUkFNID0gMjtcbnZhciBkYXR1bV90cmFuc2Zvcm0gPSByZXF1aXJlKCcuL2RhdHVtX3RyYW5zZm9ybScpO1xudmFyIGFkanVzdF9heGlzID0gcmVxdWlyZSgnLi9hZGp1c3RfYXhpcycpO1xudmFyIHByb2ogPSByZXF1aXJlKCcuL1Byb2onKTtcbnZhciB0b1BvaW50ID0gcmVxdWlyZSgnLi9jb21tb24vdG9Qb2ludCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0cmFuc2Zvcm0oc291cmNlLCBkZXN0LCBwb2ludCkge1xuICB2YXIgd2dzODQ7XG4gIGlmIChBcnJheS5pc0FycmF5KHBvaW50KSkge1xuICAgIHBvaW50ID0gdG9Qb2ludChwb2ludCk7XG4gIH1cbiAgZnVuY3Rpb24gY2hlY2tOb3RXR1Moc291cmNlLCBkZXN0KSB7XG4gICAgcmV0dXJuICgoc291cmNlLmRhdHVtLmRhdHVtX3R5cGUgPT09IFBKRF8zUEFSQU0gfHwgc291cmNlLmRhdHVtLmRhdHVtX3R5cGUgPT09IFBKRF83UEFSQU0pICYmIGRlc3QuZGF0dW1Db2RlICE9PSBcIldHUzg0XCIpO1xuICB9XG5cbiAgLy8gV29ya2Fyb3VuZCBmb3IgZGF0dW0gc2hpZnRzIHRvd2dzODQsIGlmIGVpdGhlciBzb3VyY2Ugb3IgZGVzdGluYXRpb24gcHJvamVjdGlvbiBpcyBub3Qgd2dzODRcbiAgaWYgKHNvdXJjZS5kYXR1bSAmJiBkZXN0LmRhdHVtICYmIChjaGVja05vdFdHUyhzb3VyY2UsIGRlc3QpIHx8IGNoZWNrTm90V0dTKGRlc3QsIHNvdXJjZSkpKSB7XG4gICAgd2dzODQgPSBuZXcgcHJvaignV0dTODQnKTtcbiAgICB0cmFuc2Zvcm0oc291cmNlLCB3Z3M4NCwgcG9pbnQpO1xuICAgIHNvdXJjZSA9IHdnczg0O1xuICB9XG4gIC8vIERHUiwgMjAxMC8xMS8xMlxuICBpZiAoc291cmNlLmF4aXMgIT09IFwiZW51XCIpIHtcbiAgICBhZGp1c3RfYXhpcyhzb3VyY2UsIGZhbHNlLCBwb2ludCk7XG4gIH1cbiAgLy8gVHJhbnNmb3JtIHNvdXJjZSBwb2ludHMgdG8gbG9uZy9sYXQsIGlmIHRoZXkgYXJlbid0IGFscmVhZHkuXG4gIGlmIChzb3VyY2UucHJvak5hbWUgPT09IFwibG9uZ2xhdFwiKSB7XG4gICAgcG9pbnQueCAqPSBEMlI7IC8vIGNvbnZlcnQgZGVncmVlcyB0byByYWRpYW5zXG4gICAgcG9pbnQueSAqPSBEMlI7XG4gIH1cbiAgZWxzZSB7XG4gICAgaWYgKHNvdXJjZS50b19tZXRlcikge1xuICAgICAgcG9pbnQueCAqPSBzb3VyY2UudG9fbWV0ZXI7XG4gICAgICBwb2ludC55ICo9IHNvdXJjZS50b19tZXRlcjtcbiAgICB9XG4gICAgc291cmNlLmludmVyc2UocG9pbnQpOyAvLyBDb252ZXJ0IENhcnRlc2lhbiB0byBsb25nbGF0XG4gIH1cbiAgLy8gQWRqdXN0IGZvciB0aGUgcHJpbWUgbWVyaWRpYW4gaWYgbmVjZXNzYXJ5XG4gIGlmIChzb3VyY2UuZnJvbV9ncmVlbndpY2gpIHtcbiAgICBwb2ludC54ICs9IHNvdXJjZS5mcm9tX2dyZWVud2ljaDtcbiAgfVxuXG4gIC8vIENvbnZlcnQgZGF0dW1zIGlmIG5lZWRlZCwgYW5kIGlmIHBvc3NpYmxlLlxuICBwb2ludCA9IGRhdHVtX3RyYW5zZm9ybShzb3VyY2UuZGF0dW0sIGRlc3QuZGF0dW0sIHBvaW50KTtcblxuICAvLyBBZGp1c3QgZm9yIHRoZSBwcmltZSBtZXJpZGlhbiBpZiBuZWNlc3NhcnlcbiAgaWYgKGRlc3QuZnJvbV9ncmVlbndpY2gpIHtcbiAgICBwb2ludC54IC09IGRlc3QuZnJvbV9ncmVlbndpY2g7XG4gIH1cblxuICBpZiAoZGVzdC5wcm9qTmFtZSA9PT0gXCJsb25nbGF0XCIpIHtcbiAgICAvLyBjb252ZXJ0IHJhZGlhbnMgdG8gZGVjaW1hbCBkZWdyZWVzXG4gICAgcG9pbnQueCAqPSBSMkQ7XG4gICAgcG9pbnQueSAqPSBSMkQ7XG4gIH1cbiAgZWxzZSB7IC8vIGVsc2UgcHJvamVjdFxuICAgIGRlc3QuZm9yd2FyZChwb2ludCk7XG4gICAgaWYgKGRlc3QudG9fbWV0ZXIpIHtcbiAgICAgIHBvaW50LnggLz0gZGVzdC50b19tZXRlcjtcbiAgICAgIHBvaW50LnkgLz0gZGVzdC50b19tZXRlcjtcbiAgICB9XG4gIH1cblxuICAvLyBER1IsIDIwMTAvMTEvMTJcbiAgaWYgKGRlc3QuYXhpcyAhPT0gXCJlbnVcIikge1xuICAgIGFkanVzdF9heGlzKGRlc3QsIHRydWUsIHBvaW50KTtcbiAgfVxuXG4gIHJldHVybiBwb2ludDtcbn07IiwidmFyIEQyUiA9IDAuMDE3NDUzMjkyNTE5OTQzMjk1Nzc7XG52YXIgZXh0ZW5kID0gcmVxdWlyZSgnLi9leHRlbmQnKTtcblxuZnVuY3Rpb24gbWFwaXQob2JqLCBrZXksIHYpIHtcbiAgb2JqW2tleV0gPSB2Lm1hcChmdW5jdGlvbihhYSkge1xuICAgIHZhciBvID0ge307XG4gICAgc0V4cHIoYWEsIG8pO1xuICAgIHJldHVybiBvO1xuICB9KS5yZWR1Y2UoZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBleHRlbmQoYSwgYik7XG4gIH0sIHt9KTtcbn1cblxuZnVuY3Rpb24gc0V4cHIodiwgb2JqKSB7XG4gIHZhciBrZXk7XG4gIGlmICghQXJyYXkuaXNBcnJheSh2KSkge1xuICAgIG9ialt2XSA9IHRydWU7XG4gICAgcmV0dXJuO1xuICB9XG4gIGVsc2Uge1xuICAgIGtleSA9IHYuc2hpZnQoKTtcbiAgICBpZiAoa2V5ID09PSAnUEFSQU1FVEVSJykge1xuICAgICAga2V5ID0gdi5zaGlmdCgpO1xuICAgIH1cbiAgICBpZiAodi5sZW5ndGggPT09IDEpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZbMF0pKSB7XG4gICAgICAgIG9ialtrZXldID0ge307XG4gICAgICAgIHNFeHByKHZbMF0sIG9ialtrZXldKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBvYmpba2V5XSA9IHZbMF07XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKCF2Lmxlbmd0aCkge1xuICAgICAgb2JqW2tleV0gPSB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChrZXkgPT09ICdUT1dHUzg0Jykge1xuICAgICAgb2JqW2tleV0gPSB2O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIG9ialtrZXldID0ge307XG4gICAgICBpZiAoWydVTklUJywgJ1BSSU1FTScsICdWRVJUX0RBVFVNJ10uaW5kZXhPZihrZXkpID4gLTEpIHtcbiAgICAgICAgb2JqW2tleV0gPSB7XG4gICAgICAgICAgbmFtZTogdlswXS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgIGNvbnZlcnQ6IHZbMV1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHYubGVuZ3RoID09PSAzKSB7XG4gICAgICAgICAgb2JqW2tleV0uYXV0aCA9IHZbMl07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ1NQSEVST0lEJykge1xuICAgICAgICBvYmpba2V5XSA9IHtcbiAgICAgICAgICBuYW1lOiB2WzBdLFxuICAgICAgICAgIGE6IHZbMV0sXG4gICAgICAgICAgcmY6IHZbMl1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHYubGVuZ3RoID09PSA0KSB7XG4gICAgICAgICAgb2JqW2tleV0uYXV0aCA9IHZbM107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKFsnR0VPR0NTJywgJ0dFT0NDUycsICdEQVRVTScsICdWRVJUX0NTJywgJ0NPTVBEX0NTJywgJ0xPQ0FMX0NTJywgJ0ZJVFRFRF9DUycsICdMT0NBTF9EQVRVTSddLmluZGV4T2Yoa2V5KSA+IC0xKSB7XG4gICAgICAgIHZbMF0gPSBbJ25hbWUnLCB2WzBdXTtcbiAgICAgICAgbWFwaXQob2JqLCBrZXksIHYpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodi5ldmVyeShmdW5jdGlvbihhYSkge1xuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhYSk7XG4gICAgICB9KSkge1xuICAgICAgICBtYXBpdChvYmosIGtleSwgdik7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc0V4cHIodiwgb2JqW2tleV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZW5hbWUob2JqLCBwYXJhbXMpIHtcbiAgdmFyIG91dE5hbWUgPSBwYXJhbXNbMF07XG4gIHZhciBpbk5hbWUgPSBwYXJhbXNbMV07XG4gIGlmICghKG91dE5hbWUgaW4gb2JqKSAmJiAoaW5OYW1lIGluIG9iaikpIHtcbiAgICBvYmpbb3V0TmFtZV0gPSBvYmpbaW5OYW1lXTtcbiAgICBpZiAocGFyYW1zLmxlbmd0aCA9PT0gMykge1xuICAgICAgb2JqW291dE5hbWVdID0gcGFyYW1zWzJdKG9ialtvdXROYW1lXSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGQycihpbnB1dCkge1xuICByZXR1cm4gaW5wdXQgKiBEMlI7XG59XG5cbmZ1bmN0aW9uIGNsZWFuV0tUKHdrdCkge1xuICBpZiAod2t0LnR5cGUgPT09ICdHRU9HQ1MnKSB7XG4gICAgd2t0LnByb2pOYW1lID0gJ2xvbmdsYXQnO1xuICB9XG4gIGVsc2UgaWYgKHdrdC50eXBlID09PSAnTE9DQUxfQ1MnKSB7XG4gICAgd2t0LnByb2pOYW1lID0gJ2lkZW50aXR5JztcbiAgICB3a3QubG9jYWwgPSB0cnVlO1xuICB9XG4gIGVsc2Uge1xuICAgIGlmICh0eXBlb2Ygd2t0LlBST0pFQ1RJT04gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHdrdC5wcm9qTmFtZSA9IE9iamVjdC5rZXlzKHdrdC5QUk9KRUNUSU9OKVswXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB3a3QucHJvak5hbWUgPSB3a3QuUFJPSkVDVElPTjtcbiAgICB9XG4gIH1cbiAgaWYgKHdrdC5VTklUKSB7XG4gICAgd2t0LnVuaXRzID0gd2t0LlVOSVQubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICh3a3QudW5pdHMgPT09ICdtZXRyZScpIHtcbiAgICAgIHdrdC51bml0cyA9ICdtZXRlcic7XG4gICAgfVxuICAgIGlmICh3a3QuVU5JVC5jb252ZXJ0KSB7XG4gICAgICB3a3QudG9fbWV0ZXIgPSBwYXJzZUZsb2F0KHdrdC5VTklULmNvbnZlcnQsIDEwKTtcbiAgICB9XG4gIH1cblxuICBpZiAod2t0LkdFT0dDUykge1xuICAgIC8vaWYod2t0LkdFT0dDUy5QUklNRU0mJndrdC5HRU9HQ1MuUFJJTUVNLmNvbnZlcnQpe1xuICAgIC8vICB3a3QuZnJvbV9ncmVlbndpY2g9d2t0LkdFT0dDUy5QUklNRU0uY29udmVydCpEMlI7XG4gICAgLy99XG4gICAgaWYgKHdrdC5HRU9HQ1MuREFUVU0pIHtcbiAgICAgIHdrdC5kYXR1bUNvZGUgPSB3a3QuR0VPR0NTLkRBVFVNLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB3a3QuZGF0dW1Db2RlID0gd2t0LkdFT0dDUy5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIGlmICh3a3QuZGF0dW1Db2RlLnNsaWNlKDAsIDIpID09PSAnZF8nKSB7XG4gICAgICB3a3QuZGF0dW1Db2RlID0gd2t0LmRhdHVtQ29kZS5zbGljZSgyKTtcbiAgICB9XG4gICAgaWYgKHdrdC5kYXR1bUNvZGUgPT09ICduZXdfemVhbGFuZF9nZW9kZXRpY19kYXR1bV8xOTQ5JyB8fCB3a3QuZGF0dW1Db2RlID09PSAnbmV3X3plYWxhbmRfMTk0OScpIHtcbiAgICAgIHdrdC5kYXR1bUNvZGUgPSAnbnpnZDQ5JztcbiAgICB9XG4gICAgaWYgKHdrdC5kYXR1bUNvZGUgPT09IFwid2dzXzE5ODRcIikge1xuICAgICAgaWYgKHdrdC5QUk9KRUNUSU9OID09PSAnTWVyY2F0b3JfQXV4aWxpYXJ5X1NwaGVyZScpIHtcbiAgICAgICAgd2t0LnNwaGVyZSA9IHRydWU7XG4gICAgICB9XG4gICAgICB3a3QuZGF0dW1Db2RlID0gJ3dnczg0JztcbiAgICB9XG4gICAgaWYgKHdrdC5kYXR1bUNvZGUuc2xpY2UoLTYpID09PSAnX2ZlcnJvJykge1xuICAgICAgd2t0LmRhdHVtQ29kZSA9IHdrdC5kYXR1bUNvZGUuc2xpY2UoMCwgLSA2KTtcbiAgICB9XG4gICAgaWYgKHdrdC5kYXR1bUNvZGUuc2xpY2UoLTgpID09PSAnX2pha2FydGEnKSB7XG4gICAgICB3a3QuZGF0dW1Db2RlID0gd2t0LmRhdHVtQ29kZS5zbGljZSgwLCAtIDgpO1xuICAgIH1cbiAgICBpZiAofndrdC5kYXR1bUNvZGUuaW5kZXhPZignYmVsZ2UnKSkge1xuICAgICAgd2t0LmRhdHVtQ29kZSA9IFwicm5iNzJcIjtcbiAgICB9XG4gICAgaWYgKHdrdC5HRU9HQ1MuREFUVU0gJiYgd2t0LkdFT0dDUy5EQVRVTS5TUEhFUk9JRCkge1xuICAgICAgd2t0LmVsbHBzID0gd2t0LkdFT0dDUy5EQVRVTS5TUEhFUk9JRC5uYW1lLnJlcGxhY2UoJ18xOScsICcnKS5yZXBsYWNlKC9bQ2NdbGFya2VcXF8xOC8sICdjbHJrJyk7XG4gICAgICBpZiAod2t0LmVsbHBzLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCwgMTMpID09PSBcImludGVybmF0aW9uYWxcIikge1xuICAgICAgICB3a3QuZWxscHMgPSAnaW50bCc7XG4gICAgICB9XG5cbiAgICAgIHdrdC5hID0gd2t0LkdFT0dDUy5EQVRVTS5TUEhFUk9JRC5hO1xuICAgICAgd2t0LnJmID0gcGFyc2VGbG9hdCh3a3QuR0VPR0NTLkRBVFVNLlNQSEVST0lELnJmLCAxMCk7XG4gICAgfVxuICAgIGlmICh+d2t0LmRhdHVtQ29kZS5pbmRleE9mKCdvc2diXzE5MzYnKSkge1xuICAgICAgd2t0LmRhdHVtQ29kZSA9IFwib3NnYjM2XCI7XG4gICAgfVxuICB9XG4gIGlmICh3a3QuYiAmJiAhaXNGaW5pdGUod2t0LmIpKSB7XG4gICAgd2t0LmIgPSB3a3QuYTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvTWV0ZXIoaW5wdXQpIHtcbiAgICB2YXIgcmF0aW8gPSB3a3QudG9fbWV0ZXIgfHwgMTtcbiAgICByZXR1cm4gcGFyc2VGbG9hdChpbnB1dCwgMTApICogcmF0aW87XG4gIH1cbiAgdmFyIHJlbmFtZXIgPSBmdW5jdGlvbihhKSB7XG4gICAgcmV0dXJuIHJlbmFtZSh3a3QsIGEpO1xuICB9O1xuICB2YXIgbGlzdCA9IFtcbiAgICBbJ3N0YW5kYXJkX3BhcmFsbGVsXzEnLCAnU3RhbmRhcmRfUGFyYWxsZWxfMSddLFxuICAgIFsnc3RhbmRhcmRfcGFyYWxsZWxfMicsICdTdGFuZGFyZF9QYXJhbGxlbF8yJ10sXG4gICAgWydmYWxzZV9lYXN0aW5nJywgJ0ZhbHNlX0Vhc3RpbmcnXSxcbiAgICBbJ2ZhbHNlX25vcnRoaW5nJywgJ0ZhbHNlX05vcnRoaW5nJ10sXG4gICAgWydjZW50cmFsX21lcmlkaWFuJywgJ0NlbnRyYWxfTWVyaWRpYW4nXSxcbiAgICBbJ2xhdGl0dWRlX29mX29yaWdpbicsICdMYXRpdHVkZV9PZl9PcmlnaW4nXSxcbiAgICBbJ2xhdGl0dWRlX29mX29yaWdpbicsICdDZW50cmFsX1BhcmFsbGVsJ10sXG4gICAgWydzY2FsZV9mYWN0b3InLCAnU2NhbGVfRmFjdG9yJ10sXG4gICAgWydrMCcsICdzY2FsZV9mYWN0b3InXSxcbiAgICBbJ2xhdGl0dWRlX29mX2NlbnRlcicsICdMYXRpdHVkZV9vZl9jZW50ZXInXSxcbiAgICBbJ2xhdDAnLCAnbGF0aXR1ZGVfb2ZfY2VudGVyJywgZDJyXSxcbiAgICBbJ2xvbmdpdHVkZV9vZl9jZW50ZXInLCAnTG9uZ2l0dWRlX09mX0NlbnRlciddLFxuICAgIFsnbG9uZ2MnLCAnbG9uZ2l0dWRlX29mX2NlbnRlcicsIGQycl0sXG4gICAgWyd4MCcsICdmYWxzZV9lYXN0aW5nJywgdG9NZXRlcl0sXG4gICAgWyd5MCcsICdmYWxzZV9ub3J0aGluZycsIHRvTWV0ZXJdLFxuICAgIFsnbG9uZzAnLCAnY2VudHJhbF9tZXJpZGlhbicsIGQycl0sXG4gICAgWydsYXQwJywgJ2xhdGl0dWRlX29mX29yaWdpbicsIGQycl0sXG4gICAgWydsYXQwJywgJ3N0YW5kYXJkX3BhcmFsbGVsXzEnLCBkMnJdLFxuICAgIFsnbGF0MScsICdzdGFuZGFyZF9wYXJhbGxlbF8xJywgZDJyXSxcbiAgICBbJ2xhdDInLCAnc3RhbmRhcmRfcGFyYWxsZWxfMicsIGQycl0sXG4gICAgWydhbHBoYScsICdhemltdXRoJywgZDJyXSxcbiAgICBbJ3Nyc0NvZGUnLCAnbmFtZSddXG4gIF07XG4gIGxpc3QuZm9yRWFjaChyZW5hbWVyKTtcbiAgaWYgKCF3a3QubG9uZzAgJiYgd2t0LmxvbmdjICYmICh3a3QucHJvak5hbWUgPT09ICdBbGJlcnNfQ29uaWNfRXF1YWxfQXJlYScgfHwgd2t0LnByb2pOYW1lID09PSBcIkxhbWJlcnRfQXppbXV0aGFsX0VxdWFsX0FyZWFcIikpIHtcbiAgICB3a3QubG9uZzAgPSB3a3QubG9uZ2M7XG4gIH1cbiAgaWYgKCF3a3QubGF0X3RzICYmIHdrdC5sYXQxICYmICh3a3QucHJvak5hbWUgPT09ICdTdGVyZW9ncmFwaGljX1NvdXRoX1BvbGUnIHx8IHdrdC5wcm9qTmFtZSA9PT0gJ1BvbGFyIFN0ZXJlb2dyYXBoaWMgKHZhcmlhbnQgQiknKSkge1xuICAgIHdrdC5sYXQwID0gZDJyKHdrdC5sYXQxID4gMCA/IDkwIDogLTkwKTtcbiAgICB3a3QubGF0X3RzID0gd2t0LmxhdDE7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24od2t0LCBzZWxmKSB7XG4gIHZhciBsaXNwID0gSlNPTi5wYXJzZSgoXCIsXCIgKyB3a3QpLnJlcGxhY2UoL1xccypcXCxcXHMqKFtBLVpfMC05XSs/KShcXFspL2csICcsW1wiJDFcIiwnKS5zbGljZSgxKS5yZXBsYWNlKC9cXHMqXFwsXFxzKihbQS1aXzAtOV0rPylcXF0vZywgJyxcIiQxXCJdJykucmVwbGFjZSgvLFxcW1wiVkVSVENTXCIuKy8sJycpKTtcbiAgdmFyIHR5cGUgPSBsaXNwLnNoaWZ0KCk7XG4gIHZhciBuYW1lID0gbGlzcC5zaGlmdCgpO1xuICBsaXNwLnVuc2hpZnQoWyduYW1lJywgbmFtZV0pO1xuICBsaXNwLnVuc2hpZnQoWyd0eXBlJywgdHlwZV0pO1xuICBsaXNwLnVuc2hpZnQoJ291dHB1dCcpO1xuICB2YXIgb2JqID0ge307XG4gIHNFeHByKGxpc3AsIG9iaik7XG4gIGNsZWFuV0tUKG9iai5vdXRwdXQpO1xuICByZXR1cm4gZXh0ZW5kKHNlbGYsIG9iai5vdXRwdXQpO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzPXtcbiAgXCJfZnJvbVwiOiBcInByb2o0QDIuMy4xMFwiLFxuICBcIl9pZFwiOiBcInByb2o0QDIuMy4xMFwiLFxuICBcIl9pbkJ1bmRsZVwiOiBmYWxzZSxcbiAgXCJfaW50ZWdyaXR5XCI6IFwic2hhMS05dVpyM01vekxDV2w0OWp2Smx6OG5YdGcvUXc9XCIsXG4gIFwiX2xvY2F0aW9uXCI6IFwiL3Byb2o0XCIsXG4gIFwiX3BoYW50b21DaGlsZHJlblwiOiB7fSxcbiAgXCJfcmVxdWVzdGVkXCI6IHtcbiAgICBcInR5cGVcIjogXCJ2ZXJzaW9uXCIsXG4gICAgXCJyZWdpc3RyeVwiOiB0cnVlLFxuICAgIFwicmF3XCI6IFwicHJvajRAMi4zLjEwXCIsXG4gICAgXCJuYW1lXCI6IFwicHJvajRcIixcbiAgICBcImVzY2FwZWROYW1lXCI6IFwicHJvajRcIixcbiAgICBcInJhd1NwZWNcIjogXCIyLjMuMTBcIixcbiAgICBcInNhdmVTcGVjXCI6IG51bGwsXG4gICAgXCJmZXRjaFNwZWNcIjogXCIyLjMuMTBcIlxuICB9LFxuICBcIl9yZXF1aXJlZEJ5XCI6IFtcbiAgICBcIi9cIlxuICBdLFxuICBcIl9yZXNvbHZlZFwiOiBcImh0dHBzOi8vcmVnaXN0cnkubnBtanMub3JnL3Byb2o0Ly0vcHJvajQtMi4zLjEwLnRnelwiLFxuICBcIl9zaGFzdW1cIjogXCJmNmU2NmJkY2NhMzMyYzI1YTVlM2Q4ZWYyNjVjZmM5ZDdiNjBmZDBjXCIsXG4gIFwiX3NwZWNcIjogXCJwcm9qNEAyLjMuMTBcIixcbiAgXCJfd2hlcmVcIjogXCJDOlxcXFxVc2Vyc1xcXFxidjE3NlxcXFxnaXRodWJcXFxcb3JpZ29Gb3JrXCIsXG4gIFwiYXV0aG9yXCI6IFwiXCIsXG4gIFwiYnVnc1wiOiB7XG4gICAgXCJ1cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vcHJvajRqcy9wcm9qNGpzL2lzc3Vlc1wiXG4gIH0sXG4gIFwiYnVuZGxlRGVwZW5kZW5jaWVzXCI6IGZhbHNlLFxuICBcImNvbnRyaWJ1dG9yc1wiOiBbXG4gICAge1xuICAgICAgXCJuYW1lXCI6IFwiTWlrZSBBZGFpclwiLFxuICAgICAgXCJlbWFpbFwiOiBcIm1hZGFpckBkbXNvbHV0aW9ucy5jYVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcIm5hbWVcIjogXCJSaWNoYXJkIEdyZWVud29vZFwiLFxuICAgICAgXCJlbWFpbFwiOiBcInJpY2hAZ3JlZW53b29kbWFwLmNvbVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcIm5hbWVcIjogXCJDYWx2aW4gTWV0Y2FsZlwiLFxuICAgICAgXCJlbWFpbFwiOiBcImNhbHZpbi5tZXRjYWxmQGdtYWlsLmNvbVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcIm5hbWVcIjogXCJSaWNoYXJkIE1hcnNkZW5cIixcbiAgICAgIFwidXJsXCI6IFwiaHR0cDovL3d3dy53aW53YWVkLmNvbVwiXG4gICAgfSxcbiAgICB7XG4gICAgICBcIm5hbWVcIjogXCJULiBNaXR0YW5cIlxuICAgIH0sXG4gICAge1xuICAgICAgXCJuYW1lXCI6IFwiRC4gU3RlaW53YW5kXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIFwibmFtZVwiOiBcIlMuIE5lbHNvblwiXG4gICAgfVxuICBdLFxuICBcImRlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJtZ3JzXCI6IFwifjAuMC4yXCJcbiAgfSxcbiAgXCJkZXByZWNhdGVkXCI6IGZhbHNlLFxuICBcImRlc2NyaXB0aW9uXCI6IFwiUHJvajRqcyBpcyBhIEphdmFTY3JpcHQgbGlicmFyeSB0byB0cmFuc2Zvcm0gcG9pbnQgY29vcmRpbmF0ZXMgZnJvbSBvbmUgY29vcmRpbmF0ZSBzeXN0ZW0gdG8gYW5vdGhlciwgaW5jbHVkaW5nIGRhdHVtIHRyYW5zZm9ybWF0aW9ucy5cIixcbiAgXCJkZXZEZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiYnJvd3NlcmlmeVwiOiBcIn4zLjI0LjVcIixcbiAgICBcImNoYWlcIjogXCJ+MS44LjFcIixcbiAgICBcImN1cmxcIjogXCJnaXQ6Ly9naXRodWIuY29tL2N1am9qcy9jdXJsLmdpdFwiLFxuICAgIFwiZ3J1bnRcIjogXCJ+MC40LjJcIixcbiAgICBcImdydW50LWJyb3dzZXJpZnlcIjogXCJ+MS4zLjBcIixcbiAgICBcImdydW50LWNsaVwiOiBcIn4wLjEuMTNcIixcbiAgICBcImdydW50LWNvbnRyaWItY29ubmVjdFwiOiBcIn4wLjYuMFwiLFxuICAgIFwiZ3J1bnQtY29udHJpYi1qc2hpbnRcIjogXCJ+MC44LjBcIixcbiAgICBcImdydW50LWNvbnRyaWItdWdsaWZ5XCI6IFwifjAuMy4yXCIsXG4gICAgXCJncnVudC1tb2NoYS1waGFudG9tanNcIjogXCJ+MC40LjBcIixcbiAgICBcImlzdGFuYnVsXCI6IFwifjAuMi40XCIsXG4gICAgXCJtb2NoYVwiOiBcIn4xLjE3LjFcIixcbiAgICBcInRpblwiOiBcIn4wLjQuMFwiXG4gIH0sXG4gIFwiZGlyZWN0b3JpZXNcIjoge1xuICAgIFwidGVzdFwiOiBcInRlc3RcIixcbiAgICBcImRvY1wiOiBcImRvY3NcIlxuICB9LFxuICBcImhvbWVwYWdlXCI6IFwiaHR0cHM6Ly9naXRodWIuY29tL3Byb2o0anMvcHJvajRqcyNyZWFkbWVcIixcbiAgXCJqYW1cIjoge1xuICAgIFwibWFpblwiOiBcImRpc3QvcHJvajQuanNcIixcbiAgICBcImluY2x1ZGVcIjogW1xuICAgICAgXCJkaXN0L3Byb2o0LmpzXCIsXG4gICAgICBcIlJFQURNRS5tZFwiLFxuICAgICAgXCJBVVRIT1JTXCIsXG4gICAgICBcIkxJQ0VOU0UubWRcIlxuICAgIF1cbiAgfSxcbiAgXCJsaWNlbnNlXCI6IFwiTUlUXCIsXG4gIFwibWFpblwiOiBcImxpYi9pbmRleC5qc1wiLFxuICBcIm5hbWVcIjogXCJwcm9qNFwiLFxuICBcInJlcG9zaXRvcnlcIjoge1xuICAgIFwidHlwZVwiOiBcImdpdFwiLFxuICAgIFwidXJsXCI6IFwiZ2l0Oi8vZ2l0aHViLmNvbS9wcm9qNGpzL3Byb2o0anMuZ2l0XCJcbiAgfSxcbiAgXCJzY3JpcHRzXCI6IHtcbiAgICBcInRlc3RcIjogXCIuL25vZGVfbW9kdWxlcy9pc3RhbmJ1bC9saWIvY2xpLmpzIHRlc3QgLi9ub2RlX21vZHVsZXMvbW9jaGEvYmluL19tb2NoYSB0ZXN0L3Rlc3QuanNcIlxuICB9LFxuICBcInZlcnNpb25cIjogXCIyLjMuMTBcIlxufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG53aW5kb3cucHJvajQgPSByZXF1aXJlKCdwcm9qNCcpO1xyXG5nbG9iYWwualF1ZXJ5ID0gcmVxdWlyZShcImpxdWVyeVwiKTtcclxudmFyIGV2ZW50cyA9IHJlcXVpcmUoJ2V2ZW50cycpO1xyXG52YXIgZXZlbnRFbWl0dGVyID0gbmV3IGV2ZW50cy5FdmVudEVtaXR0ZXIoKTtcclxuXHJcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XHJcbnZhciBWaWV3ZXIgPSByZXF1aXJlKCcuL3NyYy92aWV3ZXInKTtcclxudmFyIG1hcExvYWRlciA9IHJlcXVpcmUoJy4vc3JjL21hcGxvYWRlcicpO1xyXG52YXIgY29udHJvbEluaXRpYWxpc2VyID0gcmVxdWlyZSgnLi9zcmMvY29udHJvbGluaXRpYWxpc2VyJyk7XHJcblxyXG52YXIgb3JpZ28gPSB7fTtcclxub3JpZ28ubWFwID0ge307XHJcbm9yaWdvLmNvbmZpZyA9IHJlcXVpcmUoJy4vY29uZi9vcmlnb0NvbmZpZycpO1xyXG5vcmlnby5jb250cm9scyA9IHJlcXVpcmUoJy4vY29uZi9vcmlnb0NvbnRyb2xzJyk7XHJcblxyXG5vcmlnby5tYXAuaW5pdCA9IGZ1bmN0aW9uKG9wdGlvbnMsIG9wdF9jb25maWcpIHtcclxuICB2YXIgY29uZmlnID0gb3B0X2NvbmZpZyA/ICQuZXh0ZW5kKG9yaWdvLmNvbmZpZywgb3B0X2NvbmZpZykgOiBvcmlnby5jb25maWc7XHJcblxyXG4gIHZhciBtYXAgPSBtYXBMb2FkZXIob3B0aW9ucywgY29uZmlnKTtcclxuXHJcbiAgaWYgKG1hcCkge1xyXG4gICAgbWFwLnRoZW4oZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgIGluaXQoY29uZmlnKTtcclxuICAgIH0pXHJcbiAgICBvcmlnby5tYXAudmlld2VyID0gVmlld2VyO1xyXG4gICAgcmV0dXJuIFZpZXdlcjtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXQoY29uZmlnKSB7XHJcbiAgVmlld2VyLmluaXQoY29uZmlnLmVsLCBjb25maWcub3B0aW9ucyk7XHJcblxyXG4gIC8vSW5pdCBjb250cm9sc1xyXG4gIGNvbnRyb2xJbml0aWFsaXNlcihjb25maWcub3B0aW9ucy5jb250cm9scyk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gb3JpZ287XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XG52YXIgVXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgTW9kYWwgPSByZXF1aXJlKCcuL21vZGFsJyk7XG5cbnZhciAkYWJvdXRCdXR0b247XG52YXIgYnV0dG9uVGV4dDtcbnZhciB0aXRsZTtcbnZhciBjb250ZW50O1xuXG5mdW5jdGlvbiBpbml0KG9wdF9vcHRpb25zKSB7XG4gIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG4gIGJ1dHRvblRleHQgPSBvcHRpb25zLmJ1dHRvblRleHQgfHwgJ09tIGthcnRhbic7XG4gIHRpdGxlID0gb3B0aW9ucy50aXRsZSB8fCAnT20ga2FydGFuJztcbiAgY29udGVudCA9IG9wdGlvbnMuY29udGVudCB8fCAnPHA+PC9wPic7XG5cbiAgcmVuZGVyKCk7XG4gIGJpbmRVSUFjdGlvbnMoKTtcbn1cblxuZnVuY3Rpb24gcmVuZGVyKCkge1xuICB2YXIgZWwgPSBVdGlscy5jcmVhdGVMaXN0QnV0dG9uKHtcbiAgICBpZDogJ28tYWJvdXQnLFxuICAgIGljb25DbHM6ICdvLWljb24tZmEtaW5mby1jaXJjbGUnLFxuICAgIHNyYzogJyNmYS1pbmZvLWNpcmNsZScsXG4gICAgdGV4dDogYnV0dG9uVGV4dFxuICB9KTtcbiAgJCgnI28tbWVudXRvb2xzJykuYXBwZW5kKGVsKTtcbiAgJGFib3V0QnV0dG9uID0gJCgnI28tYWJvdXQtYnV0dG9uJyk7XG59XG5cbmZ1bmN0aW9uIGJpbmRVSUFjdGlvbnMoKSB7XG4gICRhYm91dEJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgTW9kYWwuY3JlYXRlTW9kYWwoJyNvLW1hcCcsIHtcbiAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgIGNvbnRlbnQ6IGNvbnRlbnRcbiAgICB9KTtcblxuICAgIE1vZGFsLnNob3dNb2RhbCgpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzLmluaXQgPSBpbml0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgb2wgPSByZXF1aXJlKCdvcGVubGF5ZXJzJyk7XHJcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XHJcbnZhciBWaWV3ZXIgPSByZXF1aXJlKCcuL3ZpZXdlcicpO1xyXG5cclxudmFyIG1hcDtcclxuXHJcbmZ1bmN0aW9uIEluaXQob3B0X29wdGlvbnMpIHtcclxuICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xyXG4gIHZhciBicmVha1BvaW50ID0gb3B0aW9ucy5icmVha1BvaW50IHx8IFs3NjgsIDUwMF07XHJcbiAgdmFyIGF0dHJpYnV0aW9uO1xyXG4gIG1hcCA9IFZpZXdlci5nZXRNYXAoKTtcclxuXHJcbiAgYXR0cmlidXRpb24gPSBuZXcgb2wuY29udHJvbC5BdHRyaWJ1dGlvbih7XHJcbiAgICBjb2xsYXBzaWJsZTogZmFsc2VcclxuICB9KTtcclxuXHJcbiAgbWFwLmFkZENvbnRyb2woYXR0cmlidXRpb24pO1xyXG5cclxuICAkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGNoZWNrU2l6ZSk7XHJcbiAgY2hlY2tTaXplKCk7XHJcblxyXG4gIGZ1bmN0aW9uIGNoZWNrU2l6ZSgpIHtcclxuICAgIHZhciBtYXBTaXplID0gbWFwLmdldFNpemUoKTtcclxuICAgIHZhciBjb2xsYXBzZWQgPSAobWFwU2l6ZVswXSA8PSBicmVha1BvaW50WzBdIHx8IG1hcFNpemVbMV0gPD0gYnJlYWtQb2ludFsxXSk7XHJcbiAgICBhdHRyaWJ1dGlvbi5zZXRDb2xsYXBzaWJsZShjb2xsYXBzZWQpO1xyXG4gICAgYXR0cmlidXRpb24uc2V0Q29sbGFwc2VkKGNvbGxhcHNlZCk7XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5pbml0ID0gSW5pdDtcclxuIiwiLy8gaGJzZnkgY29tcGlsZWQgSGFuZGxlYmFycyB0ZW1wbGF0ZVxudmFyIEhhbmRsZWJhcnNDb21waWxlciA9IHJlcXVpcmUoJ2hic2Z5L3J1bnRpbWUnKTtcbm1vZHVsZS5leHBvcnRzID0gSGFuZGxlYmFyc0NvbXBpbGVyLnRlbXBsYXRlKHtcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHJldHVybiBcIjxzdmcgd2lkdGg9JzMycHgnIGhlaWdodD0nMzJweCcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMTAwIDEwMFxcXCIgcHJlc2VydmVBc3BlY3RSYXRpbz1cXFwieE1pZFlNaWRcXFwiIGNsYXNzPVxcXCJ1aWwtcmlwcGxlXFxcIj5cXHJcXG4gIDxyZWN0IHg9XFxcIjBcXFwiIHk9XFxcIjBcXFwiIHdpZHRoPVxcXCIxMDBcXFwiIGhlaWdodD1cXFwiMTAwXFxcIiBmaWxsPVxcXCJub25lXFxcIiBjbGFzcz1cXFwiYmtcXFwiPjwvcmVjdD5cXHJcXG4gIDxnPlxcclxcbiAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPVxcXCJvcGFjaXR5XFxcIiBkdXI9XFxcIjJzXFxcIiByZXBlYXRDb3VudD1cXFwiaW5kZWZpbml0ZVxcXCIgYmVnaW49XFxcIjBzXFxcIiBrZXlUaW1lcz1cXFwiMDswLjMzOzFcXFwiIHZhbHVlcz1cXFwiMTsxOzBcXFwiPjwvYW5pbWF0ZT5cXHJcXG4gICAgICA8Y2lyY2xlIGN4PVxcXCI1MFxcXCIgY3k9XFxcIjUwXFxcIiByPVxcXCI0MFxcXCIgc3Ryb2tlPVxcXCIjMDAwMDAwXFxcIiBmaWxsPVxcXCJub25lXFxcIiBzdHJva2Utd2lkdGg9XFxcIjZcXFwiIHN0cm9rZS1saW5lY2FwPVxcXCJyb3VuZFxcXCI+XFxyXFxuICAgICAgICA8YW5pbWF0ZSBhdHRyaWJ1dGVOYW1lPVxcXCJyXFxcIiBkdXI9XFxcIjJzXFxcIiByZXBlYXRDb3VudD1cXFwiaW5kZWZpbml0ZVxcXCIgYmVnaW49XFxcIjBzXFxcIiBrZXlUaW1lcz1cXFwiMDswLjMzOzFcXFwiIHZhbHVlcz1cXFwiMDsyMjs0NFxcXCI+PC9hbmltYXRlPlxcclxcbiAgICAgIDwvY2lyY2xlPlxcclxcbiAgPC9nPlxcclxcbiAgICAgIDxnPlxcclxcbiAgICAgICAgPGFuaW1hdGUgYXR0cmlidXRlTmFtZT1cXFwib3BhY2l0eVxcXCIgZHVyPVxcXCIyc1xcXCIgcmVwZWF0Q291bnQ9XFxcImluZGVmaW5pdGVcXFwiIGJlZ2luPVxcXCIxc1xcXCIga2V5VGltZXM9XFxcIjA7MC4zMzsxXFxcIiB2YWx1ZXM9XFxcIjE7MTswXFxcIj48L2FuaW1hdGU+XFxyXFxuICAgICAgICA8Y2lyY2xlIGN4PVxcXCI1MFxcXCIgY3k9XFxcIjUwXFxcIiByPVxcXCI0MFxcXCIgc3Ryb2tlPVxcXCIjMDAwXFxcIiBmaWxsPVxcXCJub25lXFxcIiBzdHJva2Utd2lkdGg9XFxcIjZcXFwiIHN0cm9rZS1saW5lY2FwPVxcXCJyb3VuZFxcXCI+XFxyXFxuICAgICAgICAgIDxhbmltYXRlIGF0dHJpYnV0ZU5hbWU9XFxcInJcXFwiIGR1cj1cXFwiMnNcXFwiIHJlcGVhdENvdW50PVxcXCJpbmRlZmluaXRlXFxcIiBiZWdpbj1cXFwiMXNcXFwiIGtleVRpbWVzPVxcXCIwOzAuMzM7MVxcXCIgdmFsdWVzPVxcXCIwOzIyOzQ0XFxcIj48L2FuaW1hdGU+XFxyXFxuICAgICAgICA8L2NpcmNsZT5cXHJcXG4gICAgICA8L2c+XFxyXFxuPC9zdmc+XFxyXFxuXCI7XG59LFwidXNlRGF0YVwiOnRydWV9KTtcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIGNvbnRyb2xJbml0aWFsaXNlciA9IGZ1bmN0aW9uKGNvbnRyb2xzKSB7XHJcbiAgICB2YXIgY29udHJvbE5hbWUsIGNvbnRyb2xPcHRpb25zO1xyXG4gICAgY29udHJvbHMuZm9yRWFjaChmdW5jdGlvbihjb250cm9sKSB7XHJcbiAgICAgICAgY29udHJvbE5hbWUgPSBjb250cm9sLm5hbWU7XHJcbiAgICAgICAgY29udHJvbE9wdGlvbnMgPSBjb250cm9sLm9wdGlvbnMgfHwgdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmIChvcmlnby5jb250cm9scy5oYXNPd25Qcm9wZXJ0eShjb250cm9sTmFtZSkpIHtcclxuICAgICAgICAgICAgY29udHJvbE9wdGlvbnMgPyBvcmlnby5jb250cm9sc1tjb250cm9sTmFtZV0uaW5pdChjb250cm9sT3B0aW9ucykgOiBvcmlnby5jb250cm9sc1tjb250cm9sTmFtZV0uaW5pdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBjb250cm9sSW5pdGlhbGlzZXI7XHJcbiIsIiBcInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XHJcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odGFyZ2V0LCBpdGVtcywgb3B0aW9ucykge1xyXG4gIHZhciBkYXRhQXR0cmlidXRlID0gJ2RhdGEtJyArIG9wdGlvbnMuZGF0YUF0dHJpYnV0ZSB8fCAnZGVmYXVsdCc7XHJcbiAgdmFyICR0YXJnZXQgPSAkKCcjJyArIHRhcmdldCk7XHJcbiAgdmFyIGFjdGl2ZUl0ZW0gPSBvcHRpb25zLmFjdGl2ZSB8fCB1bmRlZmluZWQ7XHJcbiAgdmFyIGFjdGl2ZUNscyA9ICdvLWFjdGl2ZSc7XHJcbiAgdmFyIHVsO1xyXG4gIHZhciBsaSA9IFtdO1xyXG4gIHZhciBjbHMgPSAnby1kcm9wZG93bi1saSc7XHJcbiAgdmFyIGljb24gPSB1dGlscy5jcmVhdGVTdmcoe1xyXG4gICAgaHJlZjogJyNpY19jaGVja18yNHB4JyxcclxuICAgIGNsczogJ28taWNvbi0yNCdcclxuICB9KTtcclxuICByZW5kZXIoKTtcclxuICBhZGRMaXN0ZW5lcigpO1xyXG5cclxuICBmdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAgICBpdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KSB7XHJcbiAgICAgIHZhciBvYmogPSB7XHJcbiAgICAgICAgY2xzOiBjbHNcclxuICAgICAgfTtcclxuICAgICAgdmFyIGFjdGl2ZSA9IHV0aWxzLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCBpY29uLCB7XHJcbiAgICAgICAgY2xzOiAnby1pY29uJ1xyXG4gICAgICB9KTtcclxuICAgICAgb2JqW2RhdGFBdHRyaWJ1dGVdID0gaXRlbS52YWx1ZTtcclxuICAgICAgaWYgKGl0ZW0udmFsdWUgPT09IGFjdGl2ZUl0ZW0pIHtcclxuICAgICAgICBvYmouY2xzID0gYWN0aXZlQ2xzO1xyXG4gICAgICB9XHJcbiAgICAgIGxpW2luZGV4XSA9IHV0aWxzLmNyZWF0ZUVsZW1lbnQoJ2xpJywgaXRlbS5uYW1lICsgYWN0aXZlLCBvYmopO1xyXG4gICAgfSk7XHJcbiAgICB1bCA9IHV0aWxzLmNyZWF0ZUVsZW1lbnQoJ3VsJywgbGkuam9pbignJyksIHtcclxuICAgICAgY2xzOiAnby1kcm9wZG93bidcclxuICAgIH0pO1xyXG4gICAgJHRhcmdldC5hcHBlbmQodWwpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYWRkTGlzdGVuZXIoKSB7XHJcbiAgICAkdGFyZ2V0Lm9uKCdjbGljaycsICd1bCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgdmFyICRhY3RpdmUgPSAkKGUudGFyZ2V0KTtcclxuICAgICAgJHRhcmdldC50cmlnZ2VyKHtcclxuICAgICAgICB0eXBlOiAnY2hhbmdlRHJvcGRvd24nLFxyXG4gICAgICAgIGRhdGFBdHRyaWJ1dGU6ICQoZS50YXJnZXQpLmRhdGEob3B0aW9ucy5kYXRhQXR0cmlidXRlKVxyXG4gICAgICB9KTtcclxuICAgICAgdG9nZ2xlQWN0aXZlKCRhY3RpdmUpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0b2dnbGVBY3RpdmUoJGFjdGl2ZSkge1xyXG4gICAgJHRhcmdldC5maW5kKCdsaScpLnJlbW92ZUNsYXNzKGFjdGl2ZUNscyk7XHJcbiAgICAkYWN0aXZlLmFkZENsYXNzKGFjdGl2ZUNscyk7XHJcbiAgfVxyXG59O1xyXG4iLCIgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG52YXIgdmlld2VyID0gcmVxdWlyZSgnLi92aWV3ZXInKTtcclxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xyXG52YXIgZWRpdG9yVG9vbGJhciA9IHJlcXVpcmUoJy4vZWRpdG9yL2VkaXRvcnRvb2xiYXInKTtcclxuXHJcbnZhciAkZWRpdG9yQnV0dG9uO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGluaXQ6IEluaXRcclxuICB9O1xyXG59KCk7XHJcblxyXG5mdW5jdGlvbiBJbml0KG9wdF9vcHRpb25zKSB7XHJcbiAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcclxuICB2YXIgZWRpdGFibGVMYXllcnMgPSB2aWV3ZXIuZ2V0TGF5ZXJzQnlQcm9wZXJ0eSgnZWRpdGFibGUnLCB0cnVlLCB0cnVlKTtcclxuICBpZiAoZWRpdGFibGVMYXllcnMubGVuZ3RoKSB7XHJcbiAgICBvcHRpb25zLmVkaXRhYmxlTGF5ZXJzID0gZWRpdGFibGVMYXllcnM7XHJcbiAgfSAgXHJcbiAgb3B0aW9ucy5hdXRvU2F2ZSA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2F1dG9TYXZlJykgPyBvcHRpb25zLmF1dG9TYXZlIDogdHJ1ZTtcclxuICBvcHRpb25zLmF1dG9Gb3JtID0gb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnYXV0b0Zvcm0nKSA/IG9wdGlvbnMuYXV0b0Zvcm0gOiBmYWxzZTtcclxuICBvcHRpb25zLmN1cnJlbnRMYXllciA9IG9wdGlvbnMuZGVmYXVsdExheWVyIHx8IG9wdGlvbnMuZWRpdGFibGVMYXllcnNbMF07XHJcbiAgZWRpdG9yVG9vbGJhci5pbml0KG9wdGlvbnMpO1xyXG4gIHJlbmRlcigpO1xyXG4gICRlZGl0b3JCdXR0b24gPSAkKCcjby1lZGl0b3ItYnV0dG9uJyk7XHJcbiAgYmluZFVJQWN0aW9ucygpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBiaW5kVUlBY3Rpb25zKCkge1xyXG4gICRlZGl0b3JCdXR0b24ub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgJCgnLm8tbWFwJykuZmlyc3QoKS50cmlnZ2VyKHtcclxuICAgICAgdHlwZTogJ2VuYWJsZUludGVyYWN0aW9uJyxcclxuICAgICAgaW50ZXJhY3Rpb246ICdlZGl0b3InXHJcbiAgICB9KTtcclxuICAgIHRoaXMuYmx1cigpO1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyKCkge1xyXG4gIHZhciBlbCA9IHV0aWxzLmNyZWF0ZUxpc3RCdXR0b24oe1xyXG4gICAgaWQ6ICdvLWVkaXRvcicsXHJcbiAgICBpY29uQ2xzOiAnby1pY29uLWZhLXBlbmNpbCcsXHJcbiAgICBzcmM6ICcjZmEtcGVuY2lsJyxcclxuICAgIHRleHQ6ICdSZWRpZ2VyYSdcclxuICB9KTtcclxuICAkKCcjby1tZW51dG9vbHMnKS5hcHBlbmQoZWwpO1xyXG59XHJcbiIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBDb3B5cmlnaHQgMjAxNiBPcmlnb1xyXG4gKiBMaWNlbnNlZCB1bmRlciBCU0QgMi1DbGF1c2UgKGh0dHBzOi8vZ2l0aHViLmNvbS9vcmlnby1tYXAvb3JpZ28vYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQpXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciBvbCA9IHJlcXVpcmUoJ29wZW5sYXllcnMnKTtcclxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxudmFyIHZpZXdlciA9IHJlcXVpcmUoJy4uL3ZpZXdlcicpO1xyXG52YXIgZWRpdHNTdG9yZSA9IHJlcXVpcmUoJy4vZWRpdHNzdG9yZScpKCk7XHJcbnZhciBkaXNwYXRjaGVyID0gcmVxdWlyZSgnLi9lZGl0RGlzcGF0Y2hlcicpO1xyXG5cclxudmFyIGZvcm1hdCA9IG5ldyBvbC5mb3JtYXQuRXNyaUpTT04oKTtcclxudmFyIHVybFN1ZmZpeCA9IHtcclxuICB1cGRhdGU6ICd1cGRhdGVGZWF0dXJlcycsXHJcbiAgaW5zZXJ0OiAnYWRkRmVhdHVyZXMnLFxyXG4gIGRlbGV0ZTogJ2RlbGV0ZUZlYXR1cmVzJ1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih0cmFuc09iaiwgbGF5ZXJOYW1lKSB7XHJcbiAgYWdzVHJhbnNhY3Rpb24odHJhbnNPYmosIGxheWVyTmFtZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHdyaXRlQWdzVHJhbnNhY3Rpb24oZmVhdHVyZXMsIG9wdGlvbnMpIHtcclxuICB2YXIgZGF0YSA9IHt9O1xyXG5cclxuICBpZiAob3B0aW9ucy50eXBlID09PSAnZGVsZXRlJykge1xyXG4gICAgdmFyIG9iamVjdElkcyA9IGZlYXR1cmVzLm1hcChmdW5jdGlvbihmZWF0dXJlKSB7XHJcbiAgICAgIHJldHVybiBmZWF0dXJlLmdldElkKCk7XHJcbiAgICB9KTtcclxuICAgIGRhdGEub2JqZWN0SWRzID0gb2JqZWN0SWRzLmpvaW4oJywnKTtcclxuICB9IGVsc2Uge1xyXG4gICAgdmFyIGFnc0ZlYXR1cmVzID0gZmVhdHVyZXMubWFwKGZ1bmN0aW9uKGZlYXR1cmUpIHtcclxuICAgICAgcmV0dXJuIGZvcm1hdC53cml0ZUZlYXR1cmUoZmVhdHVyZSwge1xyXG4gICAgICAgIGZlYXR1cmVQcm9qZWN0aW9uOiBvcHRpb25zLnByb2plY3Rpb25cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIGRhdGEuZmVhdHVyZXMgPSAnWycgKyBhZ3NGZWF0dXJlcyArICddJztcclxuICB9XHJcbiAgZGF0YS5mID0gJ2pzb24nO1xyXG4gIHJldHVybiBkYXRhO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZ3NUcmFuc2FjdGlvbih0cmFuc09iaiwgbGF5ZXJOYW1lKSB7XHJcbiAgdmFyIHByb2plY3Rpb24gPSB2aWV3ZXIuZ2V0UHJvamVjdGlvbigpO1xyXG4gIHZhciBsYXllciA9IHZpZXdlci5nZXRMYXllcihsYXllck5hbWUpO1xyXG4gIHZhciBpZCA9IGxheWVyLmdldCgnaWQnKTtcclxuICB2YXIgc291cmNlID0gdmlld2VyLmdldE1hcFNvdXJjZSgpW2xheWVyLmdldCgnc291cmNlTmFtZScpXTtcclxuICB2YXIgdHlwZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0cmFuc09iaik7XHJcbiAgdmFyIGNiID0ge1xyXG4gICAgdXBkYXRlOiB1cGRhdGVTdWNjZXNzLFxyXG4gICAgaW5zZXJ0OiBpbnNlcnRTdWNjZXNzLFxyXG4gICAgZGVsZXRlOiBkZWxldGVTdWNjZXNzXHJcbiAgfTtcclxuICB0eXBlcy5mb3JFYWNoKGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgIGlmICh0cmFuc09ialt0eXBlXSkge1xyXG4gICAgICB2YXIgdXJsID0gc291cmNlLnVybCAgKyAnLycgKyBpZCArICcvJyArIHVybFN1ZmZpeFt0eXBlXTtcclxuICAgICAgdmFyIGRhdGF0ID0gd3JpdGVBZ3NUcmFuc2FjdGlvbih0cmFuc09ialt0eXBlXSwge1xyXG4gICAgICAgIHByb2plY3Rpb246IHByb2plY3Rpb24sXHJcbiAgICAgICAgdHlwZTogdHlwZVxyXG4gICAgICB9KTtcclxuICAgICAgJC5hamF4KHtcclxuICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICBkYXRhOiBkYXRhdCxcclxuICAgICAgICBzdWNjZXNzOiBjYlt0eXBlXSxcclxuICAgICAgICBlcnJvcjogZXJyb3IsXHJcbiAgICAgICAgY29udGV4dDogdGhpc1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgZnVuY3Rpb24gdXBkYXRlU3VjY2VzcyhkYXRhKSB7XHJcbiAgICB2YXIgZmVhdHVyZSA9IHRyYW5zT2JqLnVwZGF0ZTtcclxuICAgIHZhciByZXN1bHQgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICBpZiAocmVzdWx0LnVwZGF0ZVJlc3VsdHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHJlc3VsdC51cGRhdGVSZXN1bHRzLmZvckVhY2goZnVuY3Rpb24odXBkYXRlLCBpbmRleCkge1xyXG4gICAgICAgICAgaWYgKHVwZGF0ZS5zdWNjZXNzICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHRocm93U2VydmVyRXJyb3IodXBkYXRlLmVycm9yKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRpc3BhdGNoZXIuZW1pdENoYW5nZUZlYXR1cmUoe1xyXG4gICAgICAgICAgICAgIGZlYXR1cmU6IFtmZWF0dXJlW2luZGV4XV0sXHJcbiAgICAgICAgICAgICAgbGF5ZXJOYW1lOiBsYXllck5hbWUsXHJcbiAgICAgICAgICAgICAgc3RhdHVzOiAnZmluaXNoZWQnLFxyXG4gICAgICAgICAgICAgIGFjdGlvbjogJ3VwZGF0ZSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGVycm9yKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpbnNlcnRTdWNjZXNzKGRhdGEpIHtcclxuICAgIHZhciBmZWF0dXJlID0gdHJhbnNPYmouaW5zZXJ0O1xyXG4gICAgdmFyIHJlc3VsdCA9IEpTT04ucGFyc2UoZGF0YSk7XHJcbiAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgIGlmIChyZXN1bHQuYWRkUmVzdWx0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgcmVzdWx0LmFkZFJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbihpbnNlcnQsIGluZGV4KSB7XHJcbiAgICAgICAgICBpZiAoaW5zZXJ0LnN1Y2Nlc3MgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgdGhyb3dTZXJ2ZXJFcnJvcihpbnNlcnQuZXJyb3IpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGlzcGF0Y2hlci5lbWl0Q2hhbmdlRmVhdHVyZSh7XHJcbiAgICAgICAgICAgICAgZmVhdHVyZTogW2ZlYXR1cmVbaW5kZXhdXSxcclxuICAgICAgICAgICAgICBsYXllck5hbWU6IGxheWVyTmFtZSxcclxuICAgICAgICAgICAgICBzdGF0dXM6ICdmaW5pc2hlZCcsXHJcbiAgICAgICAgICAgICAgYWN0aW9uOiAnaW5zZXJ0J1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZmVhdHVyZVtpbmRleF0uc2V0KCdvYmplY3RJZCcsaW5zZXJ0Lm9iamVjdElkKTtcclxuICAgICAgICAgICAgZmVhdHVyZVtpbmRleF0uc2V0SWQoaW5zZXJ0Lm9iamVjdElkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZXJyb3IoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGRlbGV0ZVN1Y2Nlc3MoZGF0YSkge1xyXG4gICAgdmFyIGZlYXR1cmUgPSB0cmFuc09iai5kZWxldGU7XHJcbiAgICB2YXIgcmVzdWx0ID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgaWYgKHJlc3VsdC5kZWxldGVSZXN1bHRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICByZXN1bHQuZGVsZXRlUmVzdWx0cy5mb3JFYWNoKGZ1bmN0aW9uKGRlbGV0ZWQsIGluZGV4KSB7XHJcbiAgICAgICAgICBpZiAoZGVsZXRlZC5zdWNjZXNzICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHRocm93U2VydmVyRXJyb3IoZGVsZXRlZC5lcnJvcik7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkaXNwYXRjaGVyLmVtaXRDaGFuZ2VGZWF0dXJlKHtcclxuICAgICAgICAgICAgICBmZWF0dXJlOiBbZmVhdHVyZVtpbmRleF1dLFxyXG4gICAgICAgICAgICAgIGxheWVyTmFtZTogbGF5ZXJOYW1lLFxyXG4gICAgICAgICAgICAgIHN0YXR1czogJ2ZpbmlzaGVkJyxcclxuICAgICAgICAgICAgICBhY3Rpb246ICdkZWxldGUnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBlcnJvcigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZXJyb3IoZSkge1xyXG4gICAgdmFyIGVycm9yTXNnID0gZSA/IChlLnN0YXR1cyArICcgJyArIGUuc3RhdHVzVGV4dCkgOiBcIlwiO1xyXG4gICAgYWxlcnQoJ0RldCBpbnRyw6RmZmFkZSBldHQgZmVsIG7DpHIgw6RuZHJpbmdhcm5hIHNrdWxsZSBzcGFyYXMgdGlsbCBzZXJ2ZXJuLi4uPGJyPjxicj4nICtcclxuICAgICAgZXJyb3JNc2cpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gdGhyb3dTZXJ2ZXJFcnJvcihlcnJvcikge1xyXG4gICAgYWxlcnQoZXJyb3IuZGVzY3JpcHRpb24gKyAnICgnICsgZXJyb3IuY29kZSArICcpJyk7XHJcbiAgfVxyXG59XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxudmFyIHZpZXdlciA9IHJlcXVpcmUoJy4uL3ZpZXdlcicpO1xyXG52YXIgZHJvcERvd24gPSByZXF1aXJlKCcuLi9kcm9wZG93bicpO1xyXG52YXIgZGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4vZWRpdGRpc3BhdGNoZXInKTtcclxudmFyIGNyZWF0ZUVsZW1lbnQgPSByZXF1aXJlKCcuLi91dGlscycpLmNyZWF0ZUVsZW1lbnQ7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRyYXdUb29scyh0b29scywgZGVmYXVsdExheWVyKSB7XHJcbiAgdmFyIHRvb2xOYW1lcyA9IHtcclxuICAgIFBvbHlnb246ICdQb2x5Z29uJyxcclxuICAgIFBvaW50OiAnUHVua3QnLFxyXG4gICAgTGluZTogJ0xpbmplJyxcclxuICAgIGJveDogJ1Jla3RhbmdlbCdcclxuICB9O1xyXG4gIHZhciBkZWZhdWx0VG9vbHMgPSB0b29scyB8fCB7fTtcclxuICB2YXIgZHJhd1Rvb2xzID0gdW5kZWZpbmVkO1xyXG4gIHZhciBjdXJyZW50TGF5ZXIgPSBkZWZhdWx0TGF5ZXI7XHJcbiAgdmFyIG1hcCA9IHZpZXdlci5nZXRNYXAoKTtcclxuICB2YXIgYWN0aXZlID0gZmFsc2U7XHJcbiAgdmFyIGFjdGl2ZUNscyA9ICdvLWFjdGl2ZSc7XHJcbiAgdmFyIHRhcmdldCA9ICdlZGl0b3ItdG9vbGJhci1kcmF3LWRyb3Bkb3duJztcclxuICByZW5kZXIoKTtcclxuICBhZGRMaXN0ZW5lcigpO1xyXG5cclxuICBmdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAgICB2YXIgcG9wb3ZlciA9IGNyZWF0ZUVsZW1lbnQoJ2RpdicsICcnLCB7XHJcbiAgICAgIGlkOiB0YXJnZXQsXHJcbiAgICAgIGNsczogJ28tcG9wb3ZlcidcclxuICAgIH0pO1xyXG4gICAgJCgnIycgKyAnby1lZGl0b3ItZHJhdycpLmFmdGVyKHBvcG92ZXIpO1xyXG4gICAgc2V0QWN0aXZlKGZhbHNlKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGFkZERyb3BEb3duKG9wdGlvbnMpIHtcclxuICAgIGRyb3BEb3duKG9wdGlvbnMudGFyZ2V0LCBvcHRpb25zLnNlbGVjdE9wdGlvbnMsIHtcclxuICAgICAgZGF0YUF0dHJpYnV0ZTogJ3NoYXBlJyxcclxuICAgICAgYWN0aXZlOiBvcHRpb25zLmFjdGl2ZVRvb2xcclxuICAgIH0pO1xyXG4gICAgJCgnIycgKyB0YXJnZXQpLm9uKCdjaGFuZ2VEcm9wZG93bicsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oZSk7XHJcbiAgICAgIGRpc3BhdGNoZXIuZW1pdENoYW5nZUVkaXRvclNoYXBlcyhlLmRhdGFBdHRyaWJ1dGUpO1xyXG4gICAgICBjbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBhZGRMaXN0ZW5lcigpIHtcclxuICAgICQoZG9jdW1lbnQpLm9uKCdjaGFuZ2VFZGl0Jywgb25DaGFuZ2VFZGl0KTtcclxuICAgICQoZG9jdW1lbnQpLm9uKCd0b2dnbGVFZGl0Jywgb25Ub2dnbGVFZGl0KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNldEFjdGl2ZShzdGF0ZSkge1xyXG4gICAgaWYgKHN0YXRlKSB7XHJcbiAgICAgIGlmIChkcmF3VG9vbHMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgIGFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgJCgnIycgKyB0YXJnZXQgKyAnIHVsJykucmVtb3ZlKCk7XHJcbiAgICAgICAgYWRkRHJvcERvd24oY3JlYXRlRHJvcERvd25PcHRpb25zKCkpO1xyXG4gICAgICAgICQoJyMnICsgdGFyZ2V0KS5hZGRDbGFzcyhhY3RpdmVDbHMpO1xyXG4gICAgICAgIG1hcC5vbmNlKCdjbGljaycsIGNsb3NlKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICQoJyMnICsgdGFyZ2V0KS5yZW1vdmVDbGFzcyhhY3RpdmVDbHMpO1xyXG4gICAgICBtYXAudW4oJ2NsaWNrJywgY2xvc2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2xvc2UoKSB7XHJcbiAgICBpZiAoYWN0aXZlKSB7XHJcbiAgICAgIHNldEFjdGl2ZShmYWxzZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBvbkNoYW5nZUVkaXQoZSkge1xyXG4gICAgaWYgKGUudG9vbCA9PT0gJ2RyYXcnICYmIGUuYWN0aXZlID09PSB0cnVlKSB7XHJcbiAgICAgIHNldERyYXdUb29scyhjdXJyZW50TGF5ZXIpO1xyXG4gICAgICBzZXRBY3RpdmUodHJ1ZSk7XHJcbiAgICB9IGVsc2UgaWYgKGUudG9vbCA9PT0gJ2RyYXcnICYmIGUuYWN0aXZlID09PSBmYWxzZSkge1xyXG4gICAgICBzZXRBY3RpdmUoZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIG9uVG9nZ2xlRWRpdChlKSB7XHJcbiAgICBpZiAoZS50b29sID09PSAnZWRpdCcgJiYgZS5jdXJyZW50TGF5ZXIpIHtcclxuICAgICAgY3VycmVudExheWVyID0gZS5jdXJyZW50TGF5ZXI7XHJcbiAgICB9XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2V0RHJhd1Rvb2xzKGxheWVyTmFtZSkge1xyXG4gICAgdmFyIGxheWVyID0gdmlld2VyLmdldExheWVyKGxheWVyTmFtZSk7XHJcbiAgICB2YXIgZ2VvbWV0cnlUeXBlO1xyXG4gICAgZHJhd1Rvb2xzID0gbGF5ZXIuZ2V0KCdkcmF3VG9vbHMnKSB8fCBbXTtcclxuICAgIGlmIChsYXllci5nZXQoJ2RyYXdUb29scycpKSB7XHJcbiAgICAgIGRyYXdUb29scyA9IGxheWVyLmdldCgnZHJhd1Rvb2xzJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBnZW9tZXRyeVR5cGUgPSBsYXllci5nZXQoJ2dlb21ldHJ5VHlwZScpO1xyXG4gICAgICBkcmF3VG9vbHMgPSBkZWZhdWx0VG9vbHNbZ2VvbWV0cnlUeXBlXSA/IGRlZmF1bHRUb29sc1tnZW9tZXRyeVR5cGVdLnNsaWNlKDApIDogW107XHJcbiAgICAgIGRyYXdUb29scy51bnNoaWZ0KGdlb21ldHJ5VHlwZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVEcm9wRG93bk9wdGlvbnMoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0YXJnZXQ6IHRhcmdldCxcclxuICAgICAgc2VsZWN0T3B0aW9uczogc2VsZWN0aW9uTW9kZWwoZHJhd1Rvb2xzKSxcclxuICAgICAgYWN0aXZlVG9vbDogZHJhd1Rvb2xzWzBdXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2VsZWN0aW9uTW9kZWwoZHJhd1Rvb2xzKSB7XHJcbiAgICB2YXIgc2VsZWN0T3B0aW9ucyA9IGRyYXdUb29scy5tYXAoZnVuY3Rpb24oZHJhd1Rvb2wpIHtcclxuICAgICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgICBvYmoubmFtZSA9IHRvb2xOYW1lc1tkcmF3VG9vbF07XHJcbiAgICAgIG9iai52YWx1ZSA9IGRyYXdUb29sO1xyXG4gICAgICByZXR1cm4gb2JqO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gc2VsZWN0T3B0aW9ucztcclxuICB9XHJcbn1cclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgZW1pdENoYW5nZUVkaXQ6IGVtaXRDaGFuZ2VFZGl0LFxyXG4gIGVtaXRDaGFuZ2VGZWF0dXJlOiBlbWl0Q2hhbmdlRmVhdHVyZSxcclxuICBlbWl0VG9nZ2xlRWRpdDogZW1pdFRvZ2dsZUVkaXQsXHJcbiAgZW1pdEVuYWJsZUludGVyYWN0aW9uOiBlbWl0RW5hYmxlSW50ZXJhY3Rpb24sXHJcbiAgZW1pdEVkaXRzQ2hhbmdlOiBlbWl0RWRpdHNDaGFuZ2UsXHJcbiAgZW1pdENoYW5nZUVkaXRvclNoYXBlczogZW1pdENoYW5nZUVkaXRvclNoYXBlcyxcclxuICBlbWl0Q2hhbmdlT2ZmbGluZUVkaXRzOiBlbWl0Q2hhbmdlT2ZmbGluZUVkaXRzXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVtaXRDaGFuZ2VFZGl0KHRvb2wsIHN0YXRlKSB7XHJcbiAgJC5ldmVudC50cmlnZ2VyKHtcclxuICAgIHR5cGU6ICdjaGFuZ2VFZGl0JyxcclxuICAgIHRvb2w6IHRvb2wsXHJcbiAgICBhY3RpdmU6IHN0YXRlXHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVtaXRDaGFuZ2VGZWF0dXJlKGNoYW5nZSkge1xyXG4gICQuZXZlbnQudHJpZ2dlcih7XHJcbiAgICB0eXBlOiAnY2hhbmdlRmVhdHVyZScsXHJcbiAgICBmZWF0dXJlOiBjaGFuZ2UuZmVhdHVyZSxcclxuICAgIGxheWVyTmFtZTogY2hhbmdlLmxheWVyTmFtZSxcclxuICAgIGFjdGlvbjogY2hhbmdlLmFjdGlvbixcclxuICAgIHN0YXR1czogY2hhbmdlLnN0YXR1cyB8fCAncGVuZGluZydcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZW1pdFRvZ2dsZUVkaXQodG9vbCwgb3B0X29wdGlvbnMpIHtcclxuICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xyXG4gIHZhciBlID0ge1xyXG4gICAgdHlwZTogJ3RvZ2dsZUVkaXQnLFxyXG4gICAgdG9vbDogdG9vbFxyXG4gIH07XHJcbiAgJC5leHRlbmQoZSwgb3B0aW9ucyk7XHJcbiAgJC5ldmVudC50cmlnZ2VyKGUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBlbWl0RW5hYmxlSW50ZXJhY3Rpb24oKSB7XHJcbiAgJC5ldmVudC50cmlnZ2VyKHtcclxuICAgIHR5cGU6ICdlbmFibGVJbnRlcmFjdGlvbicsXHJcbiAgICBpbnRlcmFjdGlvbjogJ2VkaXRvcidcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZW1pdEVkaXRzQ2hhbmdlKGVkaXRzKSB7XHJcbiAgJC5ldmVudC50cmlnZ2VyKHtcclxuICAgIHR5cGU6ICdlZGl0c0NoYW5nZScsXHJcbiAgICBlZGl0czogZWRpdHNcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZW1pdENoYW5nZUVkaXRvclNoYXBlcyhzaGFwZSkge1xyXG4gICQuZXZlbnQudHJpZ2dlcih7XHJcbiAgICB0eXBlOiAnZWRpdG9yU2hhcGVzJyxcclxuICAgIHNoYXBlOiBzaGFwZVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBlbWl0Q2hhbmdlT2ZmbGluZUVkaXRzKGVkaXRzLCBsYXllck5hbWUpIHtcclxuICAkLmV2ZW50LnRyaWdnZXIoe1xyXG4gICAgdHlwZTogJ2NoYW5nZU9mZmxpbmVFZGl0cycsXHJcbiAgICBlZGl0czogZWRpdHMsXHJcbiAgICBsYXllck5hbWU6IGxheWVyTmFtZVxyXG4gIH0pO1xyXG59XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVGb3JtKG9iaikge1xyXG4gIHZhciBpZCA9IG9iai5lbElkLnNsaWNlKDEpO1xyXG4gIHZhciBjbHMgPSBvYmouY2xzIHx8ICcnO1xyXG4gIGNscyArPSBpZDtcclxuICBjbHMgKz0gb2JqLmlzVmlzaWJsZSA/IFwiXCIgOiBcIiBvLWhpZGRlblwiO1xyXG4gIHZhciBsYWJlbCA9IG9iai50aXRsZTtcclxuICB2YXIgdmFsID0gb2JqLmlzVmlzaWJsZSA/IG9iai52YWwgOiAnJztcclxuICB2YXIgdHlwZSA9IG9iai50eXBlO1xyXG4gIHZhciBtYXhMZW5ndGggPSBvYmoubWF4TGVuZ3RoID8gJyBtYXhsZW5ndGg9XCInICsgb2JqLm1heExlbmd0aCArICdcIiAnIDogJyc7XHJcbiAgdmFyIGRyb3Bkb3duT3B0aW9ucyA9IG9iai5vcHRpb25zIHx8IFtdO1xyXG4gIHZhciBlbDtcclxuICB2YXIgY2hlY2tlZDtcclxuICB2YXIgZmlyc3RPcHRpb247XHJcbiAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICBjYXNlICd0ZXh0JzpcclxuICAgICAgZWwgPSAnPGRpdj48bGFiZWw+JyArIGxhYmVsICsgJzwvbGFiZWw+PGJyPjxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwiJyArIGlkICsgJ1wiIHZhbHVlPVwiJyArIHZhbCArICdcIicgKyBtYXhMZW5ndGggKyAnPjwvZGl2Pic7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAndGV4dGFyZWEnOlxyXG4gICAgICBlbCA9ICc8ZGl2PjxsYWJlbD4nICsgbGFiZWwgKyAnPC9sYWJlbD48YnI+PHRleHRhcmVhIGlkPVwiJyArIGlkICsgJ1wiJyArIG1heExlbmd0aCArICdyb3dzPVwiM1wiPicgKyB2YWwgKyAnPC90ZXh0YXJlYT48L2Rpdj4nO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ2NoZWNrYm94JzpcclxuICAgICAgY2hlY2tlZCA9IHZhbCA/ICcgY2hlY2tlZCcgOiAnJztcclxuICAgICAgZWwgPSAnPGRpdiBjbGFzcz1cIm8tZm9ybS1jaGVja2JveFwiPjxsYWJlbD4nICsgbGFiZWwgKyAnPC9sYWJlbD48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCInICsgaWQgKyAnXCIgdmFsdWU9XCInICsgdmFsICsgJ1wiJyArIGNoZWNrZWQgKyAnPjwvZGl2Pic7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnZHJvcGRvd24nOlxyXG4gICAgICBmaXJzdE9wdGlvbjtcclxuICAgICAgaWYgKHZhbCkge1xyXG4gICAgICAgIGZpcnN0T3B0aW9uID0gJzxvcHRpb24gdmFsdWU9XCInICsgdmFsICsgJ1wiIHNlbGVjdGVkPicgKyB2YWwgKyAnPC9vcHRpb24+JztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBmaXJzdE9wdGlvbiA9ICc8b3B0aW9uIHZhbHVlPVwiXCIgc2VsZWN0ZWQ+VsOkbGo8L29wdGlvbj4nO1xyXG4gICAgICB9XHJcbiAgICAgIGVsID0gJzxkaXYgY2xhc3M9XCInICsgY2xzICsgJ1wiPjxsYWJlbD4nICsgbGFiZWwgKyAnPC9sYWJlbD48YnI+PHNlbGVjdCBpZD0nICsgaWQgKyAnPicgKyBmaXJzdE9wdGlvbjtcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkcm9wZG93bk9wdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBlbCArPSAnPG9wdGlvbiB2YWx1ZT1cIicgKyBkcm9wZG93bk9wdGlvbnNbaV0gKyAnXCI+JyArIGRyb3Bkb3duT3B0aW9uc1tpXSArICc8L29wdGlvbj4nO1xyXG4gICAgICB9XHJcbiAgICAgIGVsICs9ICc8L3NlbGVjdD48L2Rpdj4nO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ2ltYWdlJzpcclxuICAgICAgdmFyIGltYWdlQ2xhc3MgPSB2YWwgPyAnJyA6ICdvLWhpZGRlbic7XHJcbiAgICAgIGVsID0gJzxkaXYgY2xhc3M9XCInICsgY2xzICsgJ1wiPjxsYWJlbD4nICsgbGFiZWwgKyAnPC9sYWJlbD48YnI+JztcclxuICAgICAgZWwgKz0gJzxpbWcgc3JjPVwiJyArIHZhbCArICdcIiBpZD1cImltYWdlLXVwbG9hZFwiIGNsYXNzPVwiJyArIGltYWdlQ2xhc3MgKyAnXCIvPic7XHJcbiAgICAgIGVsICs9ICc8aW5wdXQgdHlwZT1cImZpbGVcIiBpZD1cIicgKyBpZCArICdcIiB2YWx1ZT1cIicgKyB2YWwgKyAnXCIgYWNjZXB0PVwiaW1hZ2UvKlwiPic7XHJcbiAgICAgIGVsICs9ICc8aW5wdXQgaWQ9XCJvLWRlbGV0ZS1pbWFnZS1idXR0b25cIiBjbGFzcz1cIicgKyBpbWFnZUNsYXNzICsgJ1wiIHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cIlRhIGJvcnQgYmlsZFwiPic7XHJcbiAgICAgIGVsICs9ICc8L2Rpdj4nO1xyXG4gICAgICBicmVhaztcclxuICB9XHJcbiAgcmV0dXJuIGVsO1xyXG59XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIG9sID0gcmVxdWlyZSgnb3BlbmxheWVycycpO1xyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG52YXIgdmlld2VyID0gcmVxdWlyZSgnLi4vdmlld2VyJyk7XHJcbnZhciBtb2RhbCA9IHJlcXVpcmUoJy4uL21vZGFsJyk7XHJcbnZhciBmZWF0dXJlSW5mbyA9IHJlcXVpcmUoJy4uL2ZlYXR1cmVpbmZvJyk7XHJcbnZhciBlZGl0c1N0b3JlID0gcmVxdWlyZSgnLi9lZGl0c3N0b3JlJykoKTtcclxudmFyIGdlbmVyYXRlVVVJRCA9IHJlcXVpcmUoJy4uL3V0aWxzL2dlbmVyYXRldXVpZCcpO1xyXG52YXIgdHJhbnNhY3Rpb25IYW5kbGVyID0gcmVxdWlyZSgnLi90cmFuc2FjdGlvbmhhbmRsZXInKTtcclxudmFyIGRpc3BhdGNoZXIgPSByZXF1aXJlKCcuL2VkaXRkaXNwYXRjaGVyJyk7XHJcbnZhciBlZGl0Rm9ybSA9IHJlcXVpcmUoJy4vZWRpdGZvcm0nKTtcclxudmFyIGltYWdlcmVzaXplciA9IHJlcXVpcmUoJy4uL3V0aWxzL2ltYWdlcmVzaXplcicpO1xyXG52YXIgZ2V0SW1hZ2VPcmllbnRhdGlvbiA9IHJlcXVpcmUoJy4uL3V0aWxzL2dldGltYWdlb3JpZW50YXRpb24nKTtcclxudmFyIHNoYXBlcyA9IHJlcXVpcmUoJy4vc2hhcGVzJyk7XHJcblxyXG52YXIgZWRpdExheWVycyA9IHt9O1xyXG52YXIgYXV0b1NhdmUgPSB1bmRlZmluZWQ7XHJcbnZhciBhdXRvRm9ybSA9IHVuZGVmaW5lZDtcclxudmFyIGVkaXRTb3VyY2UgPSB1bmRlZmluZWQ7XHJcbnZhciBnZW9tZXRyeVR5cGUgPSB1bmRlZmluZWQ7XHJcbnZhciBnZW9tZXRyeU5hbWUgPSB1bmRlZmluZWQ7XHJcbnZhciBtYXAgPSB1bmRlZmluZWQ7XHJcbnZhciBjdXJyZW50TGF5ZXIgPSB1bmRlZmluZWQ7XHJcbnZhciBlZGl0YWJsZUxheWVycyA9IHVuZGVmaW5lZDtcclxudmFyIGF0dHJpYnV0ZXMgPSB1bmRlZmluZWQ7XHJcbnZhciB0aXRsZSA9IHVuZGVmaW5lZDtcclxudmFyIGRyYXcgPSB1bmRlZmluZWQ7XHJcbnZhciBoYXNEcmF3ID0gdW5kZWZpbmVkO1xyXG52YXIgaGFzQXR0cmlidXRlID0gdW5kZWZpbmVkO1xyXG52YXIgaGFzU25hcCA9IHVuZGVmaW5lZDtcclxudmFyIHNlbGVjdCA9IHVuZGVmaW5lZDtcclxudmFyIG1vZGlmeSA9IHVuZGVmaW5lZDtcclxudmFyIHNuYXAgPSB1bmRlZmluZWQ7XHJcbnZhciB0b29scyA9IHVuZGVmaW5lZDtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG4gIG1hcCA9IHZpZXdlci5nZXRNYXAoKTtcclxuICBjdXJyZW50TGF5ZXIgPSBvcHRpb25zLmN1cnJlbnRMYXllcjtcclxuICBlZGl0YWJsZUxheWVycyA9IG9wdGlvbnMuZWRpdGFibGVMYXllcnM7XHJcbiAgdG9vbHMgPSBvcHRpb25zLmRyYXdUb29scyB8fCBbXTtcclxuXHJcbiAgLy9zZXQgZWRpdCBwcm9wZXJ0aWVzIGZvciBlZGl0YWJsZSBsYXllcnNcclxuICBlZGl0TGF5ZXJzID0gc2V0RWRpdFByb3BzKG9wdGlvbnMpO1xyXG4gIGVkaXRhYmxlTGF5ZXJzLmZvckVhY2goZnVuY3Rpb24obGF5ZXJOYW1lKSB7XHJcbiAgICB2YXIgbGF5ZXIgPSB2aWV3ZXIuZ2V0TGF5ZXIobGF5ZXJOYW1lKTtcclxuICAgIHZlcmlmeUxheWVyKGxheWVyTmFtZSk7XHJcbiAgICBpZiAobGF5ZXJOYW1lID09PSBjdXJyZW50TGF5ZXIgJiYgb3B0aW9ucy5pc0FjdGl2ZSkge1xyXG4gICAgICBkaXNwYXRjaGVyLmVtaXRFbmFibGVJbnRlcmFjdGlvbigpO1xyXG4gICAgICBzZXRFZGl0TGF5ZXIobGF5ZXJOYW1lKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgYXV0b1NhdmUgPSBvcHRpb25zLmF1dG9TYXZlO1xyXG4gIGF1dG9Gb3JtID0gb3B0aW9ucy5hdXRvRm9ybTtcclxuICAkKGRvY3VtZW50KS5vbigndG9nZ2xlRWRpdCcsIG9uVG9nZ2xlRWRpdCk7XHJcbiAgJChkb2N1bWVudCkub24oJ2NoYW5nZUVkaXQnLCBvbkNoYW5nZUVkaXQpO1xyXG4gICQoZG9jdW1lbnQpLm9uKCdlZGl0b3JTaGFwZXMnLCBvbkNoYW5nZVNoYXBlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0RWRpdExheWVyKGxheWVyTmFtZSkge1xyXG4gIGN1cnJlbnRMYXllciA9IGxheWVyTmFtZTtcclxuICBzZXRJbnRlcmFjdGlvbnMoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0SW50ZXJhY3Rpb25zKGRyYXdUeXBlKSB7XHJcbiAgdmFyIGVkaXRMYXllciA9IGVkaXRMYXllcnNbY3VycmVudExheWVyXTtcclxuICB2YXIgZHJhd09wdGlvbnM7XHJcbiAgZWRpdFNvdXJjZSA9IGVkaXRMYXllci5nZXRTb3VyY2UoKTtcclxuICBhdHRyaWJ1dGVzID0gZWRpdExheWVyLmdldCgnYXR0cmlidXRlcycpO1xyXG4gIHRpdGxlID0gZWRpdExheWVyLmdldCgndGl0bGUnKSB8fCAnSW5mb3JtYXRpb24nO1xyXG4gIGRyYXdPcHRpb25zID0ge1xyXG4gICAgc291cmNlOiBlZGl0U291cmNlLFxyXG4gICAgdHlwZTogZWRpdExheWVyLmdldCgnZ2VvbWV0cnlUeXBlJyksXHJcbiAgICBnZW9tZXRyeU5hbWU6IGVkaXRMYXllci5nZXQoJ2dlb21ldHJ5TmFtZScpXHJcbiAgfTtcclxuICBpZiAoZHJhd1R5cGUpIHtcclxuICAgICQuZXh0ZW5kKGRyYXdPcHRpb25zLCBzaGFwZXMoZHJhd1R5cGUpKTtcclxuICB9XHJcbiAgcmVtb3ZlSW50ZXJhY3Rpb25zKCk7XHJcbiAgZHJhdyA9IG5ldyBvbC5pbnRlcmFjdGlvbi5EcmF3KGRyYXdPcHRpb25zKTtcclxuICBoYXNEcmF3ID0gZmFsc2U7XHJcbiAgaGFzQXR0cmlidXRlID0gZmFsc2U7XHJcbiAgc2VsZWN0ID0gbmV3IG9sLmludGVyYWN0aW9uLlNlbGVjdCh7XHJcbiAgICBsYXllcnM6IFtlZGl0TGF5ZXJdXHJcbiAgfSk7XHJcbiAgbW9kaWZ5ID0gbmV3IG9sLmludGVyYWN0aW9uLk1vZGlmeSh7XHJcbiAgICBmZWF0dXJlczogc2VsZWN0LmdldEZlYXR1cmVzKClcclxuICB9KTtcclxuICBtYXAuYWRkSW50ZXJhY3Rpb24oc2VsZWN0KTtcclxuICBtYXAuYWRkSW50ZXJhY3Rpb24obW9kaWZ5KTtcclxuICBtYXAuYWRkSW50ZXJhY3Rpb24oZHJhdyk7XHJcbiAgbW9kaWZ5Lm9uKCdtb2RpZnllbmQnLCBvbk1vZGlmeUVuZCwgdGhpcyk7XHJcbiAgZHJhdy5vbignZHJhd2VuZCcsIG9uRHJhd0VuZCwgdGhpcyk7XHJcbiAgc2V0QWN0aXZlKCk7XHJcblxyXG4gIC8vSWYgc25hcCBzaG91bGQgYmUgYWN0aXZlIHRoZW4gYWRkIHNuYXAgaW50ZXJuYWN0aW9ucyBmb3IgYWxsIHNuYXAgbGF5ZXJzXHJcbiAgaGFzU25hcCA9IGVkaXRMYXllci5nZXQoJ3NuYXAnKTtcclxuICBpZiAoaGFzU25hcCkge1xyXG4gICAgdmFyIHNlbGVjdGlvblNvdXJjZSA9IGZlYXR1cmVJbmZvLmdldFNlbGVjdGlvbkxheWVyKCkuZ2V0U291cmNlKCk7XHJcbiAgICB2YXIgc25hcFNvdXJjZXMgPSBlZGl0TGF5ZXIuZ2V0KCdzbmFwTGF5ZXJzJykgPyBnZXRTbmFwU291cmNlcyhlZGl0TGF5ZXIuZ2V0KCdzbmFwTGF5ZXJzJykpIDogW2VkaXRMYXllci5nZXQoJ3NvdXJjZScpXTtcclxuICAgIHNuYXBTb3VyY2VzLnB1c2goc2VsZWN0aW9uU291cmNlKTtcclxuICAgIHNuYXAgPSBhZGRTbmFwSW50ZXJhY3Rpb24oc25hcFNvdXJjZXMpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdmVyaWZ5TGF5ZXIobGF5ZXJOYW1lKSB7XHJcbiAgaWYgKCEoZWRpdExheWVyc1tsYXllck5hbWVdLmdldCgnZ2VvbWV0cnlUeXBlJykpKSB7XHJcbiAgICBhZGRGZWF0dXJlQWRkTGlzdGVuZXIobGF5ZXJOYW1lKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldEdlb21ldHJ5UHJvcHMobGF5ZXIpIHtcclxuICB2YXIgbGF5ZXJOYW1lID0gbGF5ZXIuZ2V0KCduYW1lJyk7XHJcbiAgZWRpdExheWVyc1tsYXllck5hbWVdLnNldCgnZ2VvbWV0cnlUeXBlJywgbGF5ZXIuZ2V0U291cmNlKCkuZ2V0RmVhdHVyZXMoKVswXS5nZXRHZW9tZXRyeSgpLmdldFR5cGUoKSk7XHJcbiAgaWYgKGxheWVyTmFtZSA9PT0gY3VycmVudExheWVyKSB7XHJcbiAgICBzZXRFZGl0TGF5ZXIobGF5ZXJOYW1lKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZEZlYXR1cmVBZGRMaXN0ZW5lcihsYXllck5hbWUpIHtcclxuICB2YXIgbGF5ZXIgPSB2aWV3ZXIuZ2V0TGF5ZXIobGF5ZXJOYW1lKTtcclxuICBsYXllci5nZXRTb3VyY2UoKS5vbmNlKCdhZGRmZWF0dXJlJywgZnVuY3Rpb24oZSkge1xyXG4gICAgc2V0R2VvbWV0cnlQcm9wcyhsYXllcik7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldEVkaXRQcm9wcyhvcHRpb25zKSB7XHJcbiAgdmFyIGluaXRpYWxWYWx1ZSA9IHt9O1xyXG4gIHZhciByZXN1bHQgPSBlZGl0YWJsZUxheWVycy5yZWR1Y2UoZnVuY3Rpb24obGF5ZXJQcm9wcywgbGF5ZXJOYW1lKSB7XHJcbiAgICB2YXIgbGF5ZXIgPSB2aWV3ZXIuZ2V0TGF5ZXIobGF5ZXJOYW1lKTtcclxuICAgIHZhciBzbmFwID0gb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnc25hcCcpID8gb3B0aW9ucy5zbmFwIDogdHJ1ZTtcclxuICAgIHZhciBzbmFwTGF5ZXJzID0gb3B0aW9ucy5zbmFwTGF5ZXJzIHx8IGVkaXRhYmxlTGF5ZXJzO1xyXG4gICAgbGF5ZXIuc2V0KCdzbmFwJywgc25hcCk7XHJcbiAgICBsYXllci5zZXQoJ3NuYXBMYXllcnMnLCBzbmFwTGF5ZXJzKTtcclxuICAgIGxheWVyUHJvcHNbbGF5ZXJOYW1lXSA9IGxheWVyO1xyXG4gICAgcmV0dXJuIGxheWVyUHJvcHM7XHJcbiAgfSwgaW5pdGlhbFZhbHVlKTtcclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0FjdGl2ZSgpIHtcclxuICBpZiAobW9kaWZ5ID09PSB1bmRlZmluZWQgfHwgc2VsZWN0ID09PSB1bmRlZmluZWQpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBvbkRlbGV0ZVNlbGVjdGVkKCkge1xyXG4gIHZhciBmZWF0dXJlcyA9IHNlbGVjdC5nZXRGZWF0dXJlcygpO1xyXG5cclxuICAvLyBNYWtlIHN1cmUgYWxsIGZlYXR1cmVzIGFyZSBsb2FkZWQgaW4gdGhlIHNvdXJjZVxyXG4gIGVkaXRTb3VyY2UgPSBlZGl0TGF5ZXJzW2N1cnJlbnRMYXllcl0uZ2V0U291cmNlKCk7XHJcbiAgaWYgKGZlYXR1cmVzLmdldExlbmd0aCgpID09PSAxKSB7XHJcbiAgICB2YXIgZmVhdHVyZSA9IGZlYXR1cmVzLml0ZW0oMCk7XHJcbiAgICB2YXIgciA9IGNvbmZpcm0oJ8OEciBkdSBzw6RrZXIgcMOlIGF0dCBkdSB2aWxsIHRhIGJvcnQgZGV0IGjDpHIgb2JqZWt0ZXQ/Jyk7XHJcbiAgICBpZiAociA9PT0gdHJ1ZSkge1xyXG4gICAgICBzYXZlRmVhdHVyZSh7XHJcbiAgICAgICAgZmVhdHVyZTogZmVhdHVyZSxcclxuICAgICAgICBsYXllck5hbWU6IGN1cnJlbnRMYXllcixcclxuICAgICAgICBhY3Rpb246ICdkZWxldGUnXHJcbiAgICAgIH0pO1xyXG4gICAgICBzZWxlY3QuZ2V0RmVhdHVyZXMoKS5jbGVhcigpO1xyXG4gICAgICBlZGl0U291cmNlLnJlbW92ZUZlYXR1cmUoZWRpdFNvdXJjZS5nZXRGZWF0dXJlQnlJZChmZWF0dXJlLmdldElkKCkpKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uTW9kaWZ5RW5kKGV2dCkge1xyXG4gIHZhciBmZWF0dXJlID0gZXZ0LmZlYXR1cmVzLml0ZW0oMCk7XHJcbiAgc2F2ZUZlYXR1cmUoe1xyXG4gICAgZmVhdHVyZTogZmVhdHVyZSxcclxuICAgIGxheWVyTmFtZTogY3VycmVudExheWVyLFxyXG4gICAgYWN0aW9uOiAndXBkYXRlJ1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvbkRyYXdFbmQoZXZ0KSB7XHJcbiAgdmFyIGZlYXR1cmUgPSBldnQuZmVhdHVyZTtcclxuICB2YXIgbGF5ZXIgPSB2aWV3ZXIuZ2V0TGF5ZXIoY3VycmVudExheWVyKTtcclxuICB2YXIgYXR0cmlidXRlcyA9IGdldERlZmF1bHRWYWx1ZXMobGF5ZXIuZ2V0KCdhdHRyaWJ1dGVzJykpO1xyXG4gIGZlYXR1cmUuc2V0UHJvcGVydGllcyhhdHRyaWJ1dGVzKTtcclxuICBmZWF0dXJlLnNldElkKGdlbmVyYXRlVVVJRCgpKTtcclxuICBlZGl0U291cmNlLmFkZEZlYXR1cmUoZmVhdHVyZSk7XHJcbiAgc2V0QWN0aXZlKCk7XHJcbiAgaGFzRHJhdyA9IGZhbHNlO1xyXG4gIHNhdmVGZWF0dXJlKHtcclxuICAgIGZlYXR1cmU6IGZlYXR1cmUsXHJcbiAgICBsYXllck5hbWU6IGN1cnJlbnRMYXllcixcclxuICAgIGFjdGlvbjogJ2luc2VydCdcclxuICB9KTtcclxuICBkaXNwYXRjaGVyLmVtaXRDaGFuZ2VFZGl0KCdkcmF3JywgZmFsc2UpO1xyXG4gIGlmIChhdXRvRm9ybSkge1xyXG4gICAgZWRpdEF0dHJpYnV0ZXMoZmVhdHVyZSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjYW5jZWxEcmF3KCkge1xyXG4gIHNldEFjdGl2ZSgpO1xyXG4gIGhhc0RyYXcgPSBmYWxzZTtcclxuICBkaXNwYXRjaGVyLmVtaXRDaGFuZ2VFZGl0KCdkcmF3JywgZmFsc2UpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvbkNoYW5nZVNoYXBlKGUpIHtcclxuICBzZXRJbnRlcmFjdGlvbnMoZS5zaGFwZSk7XHJcbiAgc3RhcnREcmF3KCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNhbmNlbEF0dHJpYnV0ZSgpIHtcclxuICBtb2RhbC5jbG9zZU1vZGFsKCk7XHJcbiAgZGlzcGF0Y2hlci5lbWl0Q2hhbmdlRWRpdCgnYXR0cmlidXRlJywgZmFsc2UpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvbkF0dHJpYnV0ZXNTYXZlKGZlYXR1cmUsIGF0dHJpYnV0ZXMpIHtcclxuICAkKCcjby1zYXZlLWJ1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgIHZhciBlZGl0RWwgPSB7fTtcclxuICAgIHZhciBmaWxlUmVhZGVyO1xyXG4gICAgdmFyIGltYWdlRGF0YTtcclxuICAgIHZhciBpbnB1dDtcclxuICAgIHZhciBmaWxlO1xyXG4gICAgdmFyIG9yaWVudGF0aW9uO1xyXG5cclxuICAgIC8vUmVhZCB2YWx1ZXMgZnJvbSBmb3JtXHJcbiAgICBhdHRyaWJ1dGVzLmZvckVhY2goZnVuY3Rpb24oYXR0cmlidXRlKSB7XHJcblxyXG4gICAgICAvL0dldCB0aGUgaW5wdXQgY29udGFpbmVyIGNsYXNzXHJcbiAgICAgIHZhciBjb250YWluZXJDbGFzcyA9ICcuJyArIGF0dHJpYnV0ZS5lbElkLnNsaWNlKDEpO1xyXG5cclxuICAgICAgLy8gSWYgaGlkZGVuIGVsZW1lbnQgaXQgc2hvdWxkIGJlIGV4Y2x1ZGVkXHJcbiAgICAgIGlmICgkKGNvbnRhaW5lckNsYXNzKS5oYXNDbGFzcygnby1oaWRkZW4nKSA9PT0gZmFsc2UpIHtcclxuXHJcbiAgICAgICAgLy9DaGVjayBpZiBjaGVja2JveC4gSWYgY2hlY2tib3ggcmVhZCBzdGF0ZS5cclxuICAgICAgICBpZiAoJChhdHRyaWJ1dGUuZWxJZCkuYXR0cigndHlwZScpID09PSAnY2hlY2tib3gnKSB7XHJcbiAgICAgICAgICBlZGl0RWxbYXR0cmlidXRlLm5hbWVdID0gJChhdHRyaWJ1dGUuZWxJZCkuaXMoJzpjaGVja2VkJykgPyAxIDogMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vUmVhZCB2YWx1ZSBmcm9tIGlucHV0IHRleHQsIHRleHRhcmVhIG9yIHNlbGVjdFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgZWRpdEVsW2F0dHJpYnV0ZS5uYW1lXSA9ICQoYXR0cmlidXRlLmVsSWQpLnZhbCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy9DaGVjayBpZiBmaWxlLiBJZiBmaWxlLCByZWFkIGFuZCB0cmlnZ2VyIHJlc2l6ZVxyXG4gICAgICBpZiAoJChhdHRyaWJ1dGUuZWxJZCkuYXR0cigndHlwZScpID09PSAnZmlsZScpIHtcclxuICAgICAgICBpbnB1dCA9ICQoYXR0cmlidXRlLmVsSWQpWzBdO1xyXG4gICAgICAgIGZpbGUgPSBpbnB1dC5maWxlc1swXTtcclxuXHJcbiAgICAgICAgaWYgKGZpbGUpIHtcclxuICAgICAgICAgIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZ2V0SW1hZ2VPcmllbnRhdGlvbihmaWxlLCBmdW5jdGlvbihvcmllbnRhdGlvbikge1xyXG4gICAgICAgICAgICAgIGltYWdlcmVzaXplcihmaWxlUmVhZGVyLnJlc3VsdCwgYXR0cmlidXRlLCBvcmllbnRhdGlvbiwgZnVuY3Rpb24ocmVzaXplZCkge1xyXG4gICAgICAgICAgICAgICAgZWRpdEVsW2F0dHJpYnV0ZS5uYW1lXSA9IHJlc2l6ZWQ7XHJcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS50cmlnZ2VyKCdpbWFnZXJlc2l6ZWQnKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBlZGl0RWxbYXR0cmlidXRlLm5hbWVdID0gJChhdHRyaWJ1dGUuZWxJZCkuYXR0cigndmFsdWUnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChmaWxlUmVhZGVyICYmIGZpbGVSZWFkZXIucmVhZHlTdGF0ZSA9PSAxKSB7XHJcbiAgICAgICQoZG9jdW1lbnQpLm9uKCdpbWFnZXJlc2l6ZWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBhdHRyaWJ1dGVzU2F2ZUhhbmRsZXIoZmVhdHVyZSwgZWRpdEVsKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhdHRyaWJ1dGVzU2F2ZUhhbmRsZXIoZmVhdHVyZSwgZWRpdEVsKTtcclxuICAgIH1cclxuXHJcbiAgICBtb2RhbC5jbG9zZU1vZGFsKCk7XHJcbiAgICAkKCcjby1zYXZlLWJ1dHRvbicpLmJsdXIoKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYXR0cmlidXRlc1NhdmVIYW5kbGVyKGZlYXR1cmUsIGZvcm1FbCkge1xyXG5cclxuICAvL2dldCBET00gdmFsdWVzIGFuZCBzZXQgYXR0cmlidXRlIHZhbHVlcyB0byBmZWF0dXJlXHJcbiAgYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGF0dHJpYnV0ZSkge1xyXG4gICAgaWYgKGZvcm1FbC5oYXNPd25Qcm9wZXJ0eShhdHRyaWJ1dGUubmFtZSkpIHtcclxuICAgICAgZmVhdHVyZS5zZXQoYXR0cmlidXRlLm5hbWUsIGZvcm1FbFthdHRyaWJ1dGUubmFtZV0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIHNhdmVGZWF0dXJlKHtcclxuICAgIGZlYXR1cmU6IGZlYXR1cmUsXHJcbiAgICBsYXllck5hbWU6IGN1cnJlbnRMYXllcixcclxuICAgIGFjdGlvbjogJ3VwZGF0ZSdcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlSW50ZXJhY3Rpb25zKCkge1xyXG4gIGlmIChpc0FjdGl2ZSgpKSB7XHJcbiAgICBtYXAucmVtb3ZlSW50ZXJhY3Rpb24obW9kaWZ5KTtcclxuICAgIG1hcC5yZW1vdmVJbnRlcmFjdGlvbihzZWxlY3QpO1xyXG4gICAgbWFwLnJlbW92ZUludGVyYWN0aW9uKGRyYXcpO1xyXG4gICAgaWYgKHNuYXApIHtcclxuICAgICAgc25hcC5mb3JFYWNoKGZ1bmN0aW9uKHNuYXBJbnRlcmFjdGlvbikge1xyXG4gICAgICAgIG1hcC5yZW1vdmVJbnRlcmFjdGlvbihzbmFwSW50ZXJhY3Rpb24pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBtb2RpZnkgPSB1bmRlZmluZWQ7XHJcbiAgICBzZWxlY3QgPSB1bmRlZmluZWQ7XHJcbiAgICBkcmF3ID0gdW5kZWZpbmVkO1xyXG4gICAgc25hcCA9IHVuZGVmaW5lZDtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0YXJ0RHJhdygpIHtcclxuICBpZiAoaGFzRHJhdyAhPT0gdHJ1ZSAmJiBpc0FjdGl2ZSgpKSB7XHJcbiAgICBzZXRBY3RpdmUoJ2RyYXcnKTtcclxuICAgIGhhc0RyYXcgPSB0cnVlO1xyXG4gICAgZGlzcGF0Y2hlci5lbWl0Q2hhbmdlRWRpdCgnZHJhdycsIHRydWUpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYWRkTGlzdGVuZXIoKSB7XHJcbiAgdmFyIGZuID0gZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAkKG9iai5lbERlcGVuZGVuY3lJZCkub24ob2JqLmV2ZW50VHlwZSwgZnVuY3Rpb24oZSkge1xyXG4gICAgICB2YXIgY29udGFpbmVyQ2xhc3MgPSAnLicgKyBvYmouZWxJZC5zbGljZSgxKTtcclxuICAgICAgaWYgKCQob2JqLmVsRGVwZW5kZW5jeUlkICsgKCcgb3B0aW9uOnNlbGVjdGVkJykpLnRleHQoKSA9PT0gb2JqLnJlcXVpcmVkVmFsKSB7XHJcbiAgICAgICAgJChjb250YWluZXJDbGFzcykucmVtb3ZlQ2xhc3MoJ28taGlkZGVuJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChjb250YWluZXJDbGFzcykuYWRkQ2xhc3MoJ28taGlkZGVuJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGZuO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRJbWFnZUxpc3RlbmVyKCkge1xyXG4gIHZhciBmbiA9IGZ1bmN0aW9uKG9iaikge1xyXG4gICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgdmFyIGNvbnRhaW5lckNsYXNzID0gJy4nICsgb2JqLmVsSWQuc2xpY2UoMSk7XHJcbiAgICAkKG9iai5lbElkKS5vbignY2hhbmdlJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAkKGNvbnRhaW5lckNsYXNzICsgJyBpbWcnKS5yZW1vdmVDbGFzcygnby1oaWRkZW4nKTtcclxuICAgICAgJChjb250YWluZXJDbGFzcyArICcgaW5wdXRbdHlwZT1idXR0b25dJykucmVtb3ZlQ2xhc3MoJ28taGlkZGVuJyk7XHJcblxyXG4gICAgICBpZiAodGhpcy5maWxlcyAmJiB0aGlzLmZpbGVzWzBdKSB7XHJcbiAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgJChjb250YWluZXJDbGFzcyArICcgaW1nJykuYXR0cignc3JjJywgZS50YXJnZXQucmVzdWx0KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBmaWxlUmVhZGVyLnJlYWRBc0RhdGFVUkwodGhpcy5maWxlc1swXSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICQoY29udGFpbmVyQ2xhc3MgKyAnIGlucHV0W3R5cGU9YnV0dG9uXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgJChvYmouZWxJZCkuYXR0cigndmFsdWUnLCAnJyk7XHJcbiAgICAgICQoY29udGFpbmVyQ2xhc3MgKyAnIGltZycpLmFkZENsYXNzKCdvLWhpZGRlbicpO1xyXG4gICAgICAkKHRoaXMpLmFkZENsYXNzKCdvLWhpZGRlbicpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZm47XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uVG9nZ2xlRWRpdChlKSB7XHJcbiAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICBpZiAoZS50b29sID09PSAnZHJhdycpIHtcclxuICAgIGlmIChoYXNEcmF3ID09PSBmYWxzZSkge1xyXG4gICAgICBzZXRJbnRlcmFjdGlvbnMoKTtcclxuICAgICAgc3RhcnREcmF3KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjYW5jZWxEcmF3KCk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChlLnRvb2wgPT09ICdhdHRyaWJ1dGUnKSB7XHJcbiAgICBpZiAoaGFzQXR0cmlidXRlID09PSBmYWxzZSkge1xyXG4gICAgICBlZGl0QXR0cmlidXRlcygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2FuY2VsQXR0cmlidXRlKCk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChlLnRvb2wgPT09ICdkZWxldGUnKSB7XHJcbiAgICAgIG9uRGVsZXRlU2VsZWN0ZWQoKTtcclxuICB9IGVsc2UgaWYgKGUudG9vbCA9PT0gJ2VkaXQnKSB7XHJcbiAgICAgIHNldEVkaXRMYXllcihlLmN1cnJlbnRMYXllcik7XHJcbiAgfSBlbHNlIGlmIChlLnRvb2wgPT09ICdjYW5jZWwnKSB7XHJcbiAgICAgIHJlbW92ZUludGVyYWN0aW9ucygpO1xyXG4gIH0gZWxzZSBpZiAoZS50b29sID09PSAnc2F2ZScpIHtcclxuICAgICAgc2F2ZUZlYXR1cmVzKCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBvbkNoYW5nZUVkaXQoZSkge1xyXG4gIGlmIChlLnRvb2whPT0gJ2RyYXcnICYmIGUuYWN0aXZlKSB7XHJcbiAgICBjYW5jZWxEcmF3KCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRTbmFwU291cmNlcyhsYXllcnMpIHtcclxuICB2YXIgc291cmNlcyA9IGxheWVycy5tYXAoZnVuY3Rpb24obGF5ZXIpIHtcclxuICAgIHJldHVybiB2aWV3ZXIuZ2V0TGF5ZXIobGF5ZXIpLmdldFNvdXJjZSgpO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gc291cmNlcztcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU25hcEludGVyYWN0aW9uKHNvdXJjZXMpIHtcclxuICB2YXIgc25hcEludGVyYWN0aW9ucyA9IFtdO1xyXG4gIHNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbihzb3VyY2UpIHtcclxuICAgIHZhciBpbnRlcmFjdGlvbiA9IG5ldyBvbC5pbnRlcmFjdGlvbi5TbmFwKHtcclxuICAgICAgc291cmNlOiBzb3VyY2VcclxuICAgIH0pO1xyXG4gICAgc25hcEludGVyYWN0aW9ucy5wdXNoKGludGVyYWN0aW9uKTtcclxuICAgIG1hcC5hZGRJbnRlcmFjdGlvbihpbnRlcmFjdGlvbik7XHJcbiAgfSk7XHJcbiAgcmV0dXJuIHNuYXBJbnRlcmFjdGlvbnM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldEFjdGl2ZShlZGl0VHlwZSkge1xyXG4gIHN3aXRjaCAoZWRpdFR5cGUpIHtcclxuICAgIGNhc2UgJ21vZGlmeSc6XHJcbiAgICAgIGRyYXcuc2V0QWN0aXZlKGZhbHNlKTtcclxuICAgICAgbW9kaWZ5LnNldEFjdGl2ZSh0cnVlKTtcclxuICAgICAgc2VsZWN0LnNldEFjdGl2ZSh0cnVlKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdkcmF3JzpcclxuICAgICAgZHJhdy5zZXRBY3RpdmUodHJ1ZSk7XHJcbiAgICAgIG1vZGlmeS5zZXRBY3RpdmUodHJ1ZSk7XHJcbiAgICAgIHNlbGVjdC5zZXRBY3RpdmUoZmFsc2UpO1xyXG4gICAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIGRyYXcuc2V0QWN0aXZlKGZhbHNlKTtcclxuICAgICAgaGFzRHJhdyA9IGZhbHNlO1xyXG4gICAgICBtb2RpZnkuc2V0QWN0aXZlKHRydWUpO1xyXG4gICAgICBzZWxlY3Quc2V0QWN0aXZlKHRydWUpO1xyXG4gICAgICBicmVhaztcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVkaXRBdHRyaWJ1dGVzKGZlYXR1cmUpIHtcclxuICB2YXIgYXR0cmlidXRlT2JqZWN0cztcclxuICB2YXIgZmVhdHVyZXM7XHJcblxyXG4gIC8vR2V0IGF0dHJpYnV0ZXMgZnJvbSB0aGUgY3JlYXRlZCwgb3IgdGhlIHNlbGVjdGVkLCBmZWF0dXJlIGFuZCBmaWxsIERPTSBlbGVtZW50cyB3aXRoIHRoZSB2YWx1ZXNcclxuICBpZiAoZmVhdHVyZSkge1xyXG4gICAgZmVhdHVyZXMgPSBuZXcgb2wuQ29sbGVjdGlvbigpO1xyXG4gICAgZmVhdHVyZXMucHVzaChmZWF0dXJlKTtcclxuICB9IGVsc2Uge1xyXG4gICAgZmVhdHVyZXMgPSBzZWxlY3QuZ2V0RmVhdHVyZXMoKTtcclxuICB9XHJcbiAgaWYgKGZlYXR1cmVzLmdldExlbmd0aCgpID09PSAxKSB7XHJcbiAgICBkaXNwYXRjaGVyLmVtaXRDaGFuZ2VFZGl0KCdhdHRyaWJ1dGUnLCB0cnVlKTtcclxuICAgIHZhciBmZWF0dXJlID0gZmVhdHVyZXMuaXRlbSgwKTtcclxuICAgIGlmIChhdHRyaWJ1dGVzLmxlbmd0aCA+IDApIHtcclxuXHJcbiAgICAgIC8vQ3JlYXRlIGFuIGFycmF5IG9mIGRlZmluZWQgYXR0cmlidXRlcyBhbmQgY29ycmVzcG9uZGluZyB2YWx1ZXMgZnJvbSBzZWxlY3RlZCBmZWF0dXJlXHJcbiAgICAgIGF0dHJpYnV0ZU9iamVjdHMgPSBhdHRyaWJ1dGVzLm1hcChmdW5jdGlvbihhdHRyaWJ1dGVPYmplY3QpIHtcclxuICAgICAgICB2YXIgb2JqID0ge307XHJcbiAgICAgICAgJC5leHRlbmQob2JqLCBhdHRyaWJ1dGVPYmplY3QpO1xyXG4gICAgICAgIG9iai52YWwgPSBmZWF0dXJlLmdldChvYmoubmFtZSkgfHwgJyc7XHJcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eSgnY29uc3RyYWludCcpKSB7XHJcbiAgICAgICAgICB2YXIgY29uc3RyYWludFByb3BzID0gb2JqLmNvbnN0cmFpbnQuc3BsaXQoJzonKTtcclxuICAgICAgICAgIGlmIChjb25zdHJhaW50UHJvcHMubGVuZ3RoID09PSAzKSB7XHJcbiAgICAgICAgICAgIG9iai5ldmVudFR5cGUgPSBjb25zdHJhaW50UHJvcHNbMF07XHJcbiAgICAgICAgICAgIG9iai5kZXBlbmRlbmN5VmFsID0gZmVhdHVyZS5nZXQoY29uc3RyYWludFByb3BzWzFdKTtcclxuICAgICAgICAgICAgb2JqLnJlcXVpcmVkVmFsID0gY29uc3RyYWludFByb3BzWzJdO1xyXG4gICAgICAgICAgICBvYmouZGVwZW5kZW5jeVZhbCA9PT0gb2JqLnJlcXVpcmVkVmFsID8gb2JqLmlzVmlzaWJsZSA9IHRydWUgOiBvYmouaXNWaXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG9iai5hZGRMaXN0ZW5lciA9IGFkZExpc3RlbmVyKCk7XHJcbiAgICAgICAgICAgIG9iai5lbElkID0gJyNpbnB1dC0nICsgb2JqLm5hbWUgKyAnLScgKyBvYmoucmVxdWlyZWRWYWw7XHJcbiAgICAgICAgICAgIG9iai5lbERlcGVuZGVuY3lJZCA9ICcjaW5wdXQtJyArIGNvbnN0cmFpbnRQcm9wc1sxXTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KCdWaWxsa29yIHZlcmthciBpbnRlIHZhcmEgcsOkdHQgZm9ybXVsZXJhdC4gVmlsbGtvciBmb3JtdWxlcmFzIGVubGlndCBwcmluY2lwZW4gY2hhbmdlOmF0dHJpYnV0ZTp2YWx1ZScpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAob2JqLnR5cGUgPT09ICdpbWFnZScpIHtcclxuICAgICAgICAgIG9iai5pc1Zpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgb2JqLmVsSWQgPSAnI2lucHV0LScgKyBvYmoubmFtZTtcclxuICAgICAgICAgIG9iai5hZGRMaXN0ZW5lciA9IGFkZEltYWdlTGlzdGVuZXIoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgb2JqLmlzVmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICBvYmouZWxJZCA9ICcjaW5wdXQtJyArIG9iai5uYW1lO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgb2JqLmZvcm1FbGVtZW50ID0gZWRpdEZvcm0ob2JqKTtcclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB9XHJcbiAgICB2YXIgZm9ybUVsZW1lbnQgPSBhdHRyaWJ1dGVPYmplY3RzLnJlZHVjZShmdW5jdGlvbihwcmV2LCBuZXh0KSB7XHJcbiAgICAgIHJldHVybiBwcmV2ICsgbmV4dC5mb3JtRWxlbWVudDtcclxuICAgIH0sICcnKTtcclxuICAgIHZhciBmb3JtID0gJzxmb3JtPicgKyBmb3JtRWxlbWVudCArICc8YnI+PGRpdiBjbGFzcz1cIm8tZm9ybS1zYXZlXCI+PGlucHV0IGlkPVwiby1zYXZlLWJ1dHRvblwiIHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cIk9rXCI+PC9pbnB1dD48L2Rpdj48L2Zvcm0+JztcclxuICAgIG1vZGFsLmNyZWF0ZU1vZGFsKCcjby1tYXAnLCB7XHJcbiAgICAgIHRpdGxlOiB0aXRsZSxcclxuICAgICAgY29udGVudDogZm9ybSxcclxuICAgICAgc3RhdGljOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIG1vZGFsLnNob3dNb2RhbCgpO1xyXG5cclxuICAgIGF0dHJpYnV0ZU9iamVjdHMuZm9yRWFjaChmdW5jdGlvbihvYmopIHtcclxuICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eSgnYWRkTGlzdGVuZXInKSkge1xyXG4gICAgICAgIG9iai5hZGRMaXN0ZW5lcihvYmopO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBvbkF0dHJpYnV0ZXNTYXZlKGZlYXR1cmUsIGF0dHJpYnV0ZU9iamVjdHMpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2F2ZUZlYXR1cmUoY2hhbmdlKSB7XHJcbiAgZGlzcGF0Y2hlci5lbWl0Q2hhbmdlRmVhdHVyZShjaGFuZ2UpO1xyXG4gIGlmIChhdXRvU2F2ZSkge1xyXG4gICAgc2F2ZUZlYXR1cmVzKGNoYW5nZSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzYXZlRmVhdHVyZXMoKSB7XHJcbiAgdmFyIGVkaXRzID0gZWRpdHNTdG9yZS5nZXRFZGl0cygpO1xyXG4gIHZhciBsYXllck5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZWRpdHMpO1xyXG4gIGxheWVyTmFtZXMuZm9yRWFjaChmdW5jdGlvbihsYXllck5hbWUpIHtcclxuICAgIHZhciB0cmFuc2FjdGlvbiA9IHtcclxuICAgICAgaW5zZXJ0OiBudWxsLFxyXG4gICAgICBkZWxldGU6IG51bGwsXHJcbiAgICAgIHVwZGF0ZTogbnVsbFxyXG4gICAgfTtcclxuICAgIHZhciBlZGl0VHlwZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlZGl0c1tsYXllck5hbWVdKTtcclxuICAgIGVkaXRUeXBlcy5mb3JFYWNoKGZ1bmN0aW9uKGVkaXRUeXBlKSB7XHJcbiAgICAgIHZhciBsYXllciA9IHZpZXdlci5nZXRMYXllcihsYXllck5hbWUpO1xyXG4gICAgICB2YXIgaWRzID0gZWRpdHNbbGF5ZXJOYW1lXVtlZGl0VHlwZV07XHJcbiAgICAgIHZhciBmZWF0dXJlcztcclxuICAgICAgZmVhdHVyZXMgPSBnZXRGZWF0dXJlc0J5SWRzKGVkaXRUeXBlLCBsYXllciwgaWRzKTtcclxuICAgICAgaWYgKGZlYXR1cmVzLmxlbmd0aCkge1xyXG4gICAgICAgIHRyYW5zYWN0aW9uW2VkaXRUeXBlXSA9IGZlYXR1cmVzO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICB0cmFuc2FjdGlvbkhhbmRsZXIodHJhbnNhY3Rpb24sIGxheWVyTmFtZSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEZlYXR1cmVzQnlJZHModHlwZSwgbGF5ZXIsIGlkcykge1xyXG4gIHZhciBzb3VyY2UgPSBsYXllci5nZXRTb3VyY2UoKTtcclxuICB2YXIgZmVhdHVyZXMgPSBbXTtcclxuICBpZiAodHlwZSA9PT0gJ2RlbGV0ZScpIHtcclxuICAgIGlkcy5mb3JFYWNoKGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgIHZhciBkdW1teSA9IG5ldyBvbC5GZWF0dXJlKCk7XHJcbiAgICAgIGR1bW15LnNldElkKGlkKTtcclxuICAgICAgZmVhdHVyZXMucHVzaChkdW1teSk7XHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgaWRzLmZvckVhY2goZnVuY3Rpb24oaWQpIHtcclxuICAgICAgdmFyIGZlYXR1cmU7XHJcbiAgICAgIGlmIChzb3VyY2UuZ2V0RmVhdHVyZUJ5SWQoaWQpKSB7XHJcbiAgICAgICAgIGZlYXR1cmUgPSBzb3VyY2UuZ2V0RmVhdHVyZUJ5SWQoaWQpO1xyXG4gICAgICAgICBmZWF0dXJlLnVuc2V0KCdiYm94Jyk7XHJcbiAgICAgICAgIGZlYXR1cmVzLnB1c2goZmVhdHVyZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGZlYXR1cmVzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXREZWZhdWx0VmFsdWVzKGF0dHJpYnV0ZXMpIHtcclxuICByZXR1cm4gYXR0cmlidXRlcy5maWx0ZXIoZnVuY3Rpb24oYXR0cmlidXRlKSB7XHJcbiAgICAgIGlmIChhdHRyaWJ1dGUubmFtZSAmJiBhdHRyaWJ1dGUuZGVmYXVsdFZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZTtcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIC5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgY3Vycikge1xyXG4gICAgICBwcmV2W2N1cnIubmFtZV0gPSBjdXJyLmRlZmF1bHRWYWx1ZVxyXG4gICAgICByZXR1cm4gcHJldjtcclxuICAgIH0se30pO1xyXG59XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxudmFyIHZpZXdlciA9IHJlcXVpcmUoJy4uL3ZpZXdlcicpO1xyXG52YXIgZHJvcERvd24gPSByZXF1aXJlKCcuLi9kcm9wZG93bicpO1xyXG52YXIgZGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4vZWRpdGRpc3BhdGNoZXInKTtcclxudmFyIGNyZWF0ZUVsZW1lbnQgPSByZXF1aXJlKCcuLi91dGlscycpLmNyZWF0ZUVsZW1lbnQ7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVkaXRvckxheWVycyhlZGl0YWJsZUxheWVycywgb3B0X29wdGlvbnMpIHtcclxuICB2YXIgYWN0aXZlID0gZmFsc2U7XHJcbiAgdmFyIGFjdGl2ZUNscyA9ICdvLWFjdGl2ZSc7XHJcbiAgdmFyIHRhcmdldCA9ICdlZGl0b3ItdG9vbGJhci1sYXllcnMtZHJvcGRvd24nO1xyXG4gIHZhciBkZWZhdWx0T3B0aW9ucyA9IHtcclxuICAgIHRhcmdldDogdGFyZ2V0LFxyXG4gICAgc2VsZWN0T3B0aW9uczogc2VsZWN0aW9uTW9kZWwoZWRpdGFibGVMYXllcnMpLFxyXG4gICAgYWN0aXZlTGF5ZXI6IGVkaXRhYmxlTGF5ZXJzWzBdXHJcbiAgfTtcclxuICB2YXIgcmVuZGVyT3B0aW9ucyA9ICQuZXh0ZW5kKGRlZmF1bHRPcHRpb25zLCBvcHRfb3B0aW9ucyk7XHJcblxyXG4gIHJlbmRlcihyZW5kZXJPcHRpb25zKTtcclxuICBhZGRMaXN0ZW5lcih0YXJnZXQpO1xyXG5cclxuICBmdW5jdGlvbiByZW5kZXIob3B0aW9ucykge1xyXG4gICAgdmFyIHBvcG92ZXIgPSBjcmVhdGVFbGVtZW50KCdkaXYnLCAnJywge1xyXG4gICAgICBpZDogb3B0aW9ucy50YXJnZXQsXHJcbiAgICAgIGNsczogJ28tcG9wb3ZlcidcclxuICAgIH0pO1xyXG4gICAgJCgnIycgKyAnby1lZGl0b3ItbGF5ZXJzJykuYWZ0ZXIocG9wb3Zlcik7XHJcbiAgICBkcm9wRG93bihvcHRpb25zLnRhcmdldCwgb3B0aW9ucy5zZWxlY3RPcHRpb25zLCB7XHJcbiAgICAgIGRhdGFBdHRyaWJ1dGU6ICdsYXllcicsXHJcbiAgICAgIGFjdGl2ZTogb3B0aW9ucy5hY3RpdmVMYXllclxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBhZGRMaXN0ZW5lcigpIHtcclxuICAgICQoJyMnICsgdGFyZ2V0KS5vbignY2hhbmdlRHJvcGRvd24nLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKGUpO1xyXG4gICAgICBzZXRBY3RpdmUoZmFsc2UpO1xyXG4gICAgICBkaXNwYXRjaGVyLmVtaXRUb2dnbGVFZGl0KCdlZGl0Jywge1xyXG4gICAgICAgIGN1cnJlbnRMYXllcjogZS5kYXRhQXR0cmlidXRlXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICAkKGRvY3VtZW50KS5vbigndG9nZ2xlRWRpdCcsIG9uVG9nZ2xlRWRpdCk7XHJcbiAgICAkKGRvY3VtZW50KS5vbignY2hhbmdlRWRpdCcsIG9uQ2hhbmdlRWRpdCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBvblRvZ2dsZUVkaXQoZSkge1xyXG4gICAgaWYgKGUudG9vbCA9PT0gJ2xheWVycycpIHtcclxuICAgICAgaWYgKGFjdGl2ZSkge1xyXG4gICAgICAgIHNldEFjdGl2ZShmYWxzZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2V0QWN0aXZlKHRydWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gb25DaGFuZ2VFZGl0KGUpIHtcclxuICAgIGlmIChlLnRvb2wgIT09ICdsYXllcnMnICYmIGUuYWN0aXZlID09PSB0cnVlKSB7XHJcbiAgICAgIHNldEFjdGl2ZShmYWxzZSk7XHJcbiAgICB9XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2V0QWN0aXZlKHN0YXRlKSB7XHJcbiAgICBpZiAoc3RhdGUpIHtcclxuICAgICAgYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgJCgnIycgKyB0YXJnZXQpLmFkZENsYXNzKGFjdGl2ZUNscyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhY3RpdmUgPSBmYWxzZTtcclxuICAgICAgJCgnIycgKyB0YXJnZXQpLnJlbW92ZUNsYXNzKGFjdGl2ZUNscyk7XHJcbiAgICB9XHJcbiAgICBkaXNwYXRjaGVyLmVtaXRDaGFuZ2VFZGl0KCdsYXllcnMnLCBhY3RpdmUpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2xvc2UoKSB7XHJcbiAgICBpZiAoYWN0aXZlKSB7XHJcbiAgICAgIHNldEFjdGl2ZShmYWxzZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzZWxlY3Rpb25Nb2RlbChsYXllck5hbWVzKSB7XHJcbiAgICB2YXIgc2VsZWN0T3B0aW9ucyA9IGxheWVyTmFtZXMubWFwKGZ1bmN0aW9uKGxheWVyTmFtZSkge1xyXG4gICAgICB2YXIgb2JqID0ge307XHJcbiAgICAgIG9iai5uYW1lID0gdmlld2VyLmdldExheWVyKGxheWVyTmFtZSkuZ2V0KCd0aXRsZScpO1xyXG4gICAgICBvYmoudmFsdWUgPSBsYXllck5hbWU7XHJcbiAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBzZWxlY3RPcHRpb25zO1xyXG4gIH1cclxufVxyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciBvbCA9IHJlcXVpcmUoJ29wZW5sYXllcnMnKTtcclxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxudmFyIHZpZXdlciA9IHJlcXVpcmUoJy4uL3ZpZXdlcicpO1xyXG52YXIgZWRpdG9ydGVtcGxhdGUgPSByZXF1aXJlKFwiLi4vdGVtcGxhdGVzL2VkaXRvcnRvb2xiYXIudGVtcGxhdGUuaGFuZGxlYmFyc1wiKTtcclxudmFyIGRpc3BhdGNoZXIgPSByZXF1aXJlKCcuL2VkaXRkaXNwYXRjaGVyJyk7XHJcbnZhciBlZGl0SGFuZGxlciA9IHJlcXVpcmUoJy4vZWRpdGhhbmRsZXInKTtcclxudmFyIGVkaXRvckxheWVycyA9IHJlcXVpcmUoJy4vZWRpdG9ybGF5ZXJzJyk7XHJcbnZhciBkcmF3VG9vbHMgPSByZXF1aXJlKCcuL2RyYXd0b29scycpO1xyXG5cclxudmFyIGFjdGl2ZUNsYXNzID0gJ28tY29udHJvbC1hY3RpdmUnO1xyXG52YXIgZGlzYWJsZUNsYXNzID0gJ28tZGlzYWJsZWQnO1xyXG52YXIgY3VycmVudExheWVyID0gdW5kZWZpbmVkO1xyXG52YXIgZWRpdGFibGVMYXllcnMgPSB1bmRlZmluZWQ7XHJcbnZhciAkZWRpdEF0dHJpYnV0ZSA9IHVuZGVmaW5lZDtcclxudmFyICRlZGl0RHJhdyA9IHVuZGVmaW5lZDtcclxudmFyICRlZGl0RGVsZXRlID0gdW5kZWZpbmVkO1xyXG52YXIgJGVkaXRMYXllcnMgPSB1bmRlZmluZWQ7XHJcbnZhciAkZWRpdFNhdmUgPSB1bmRlZmluZWQ7XHJcbnZhciAkZWRpdENsb3NlID0gdW5kZWZpbmVkO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGluaXQ6IEluaXRcclxuICB9O1xyXG59KClcclxuXHJcbmZ1bmN0aW9uIEluaXQob3B0aW9ucykge1xyXG4gIGN1cnJlbnRMYXllciA9IG9wdGlvbnMuY3VycmVudExheWVyO1xyXG4gIGVkaXRhYmxlTGF5ZXJzID0gb3B0aW9ucy5lZGl0YWJsZUxheWVycztcclxuXHJcbiAgZWRpdEhhbmRsZXIob3B0aW9ucyk7XHJcbiAgcmVuZGVyKCk7XHJcbiAgZWRpdG9yTGF5ZXJzKGVkaXRhYmxlTGF5ZXJzLCB7XHJcbiAgICBhY3RpdmVMYXllcjogY3VycmVudExheWVyXHJcbiAgfSk7XHJcbiAgZHJhd1Rvb2xzKG9wdGlvbnMuZHJhd1Rvb2xzLCBjdXJyZW50TGF5ZXIpO1xyXG5cclxuICAkKGRvY3VtZW50KS5vbignZW5hYmxlSW50ZXJhY3Rpb24nLCBvbkVuYWJsZUludGVyYWN0aW9uKTtcclxuICAkKGRvY3VtZW50KS5vbignY2hhbmdlRWRpdCcsIG9uQ2hhbmdlRWRpdCk7XHJcbiAgJChkb2N1bWVudCkub24oJ2VkaXRzQ2hhbmdlJywgdG9nZ2xlU2F2ZSk7XHJcblxyXG4gIGJpbmRVSUFjdGlvbnMoKTtcclxuXHJcbiAgaWYgKG9wdGlvbnMuaXNBY3RpdmUpIHtcclxuICAgIHNldEFjdGl2ZSh0cnVlKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlcigpIHtcclxuICAkKFwiI28tdG9vbHMtYm90dG9tXCIpLmFwcGVuZChlZGl0b3J0ZW1wbGF0ZSgpKTtcclxuICAkZWRpdEF0dHJpYnV0ZSA9ICQoJyNvLWVkaXRvci1hdHRyaWJ1dGUnKTtcclxuICAkZWRpdERyYXcgPSAkKCcjby1lZGl0b3ItZHJhdycpO1xyXG4gICRlZGl0RGVsZXRlID0gJCgnI28tZWRpdG9yLWRlbGV0ZScpO1xyXG4gICRlZGl0TGF5ZXJzID0gJCgnI28tZWRpdG9yLWxheWVycycpO1xyXG4gICRlZGl0U2F2ZSA9ICQoJyNvLWVkaXRvci1zYXZlJyk7XHJcbiAgJGVkaXRDbG9zZSA9ICQoJyNvLWVkaXRvci1jbG9zZScpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBiaW5kVUlBY3Rpb25zKCkge1xyXG4gIHZhciBzZWxmID0gdGhpcztcclxuICAkZWRpdERyYXcub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgZGlzcGF0Y2hlci5lbWl0VG9nZ2xlRWRpdCgnZHJhdycpO1xyXG4gICAgJGVkaXREcmF3LmJsdXIoKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9KTtcclxuICAkZWRpdEF0dHJpYnV0ZS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICBkaXNwYXRjaGVyLmVtaXRUb2dnbGVFZGl0KCdhdHRyaWJ1dGUnKTtcclxuICAgICRlZGl0QXR0cmlidXRlLmJsdXIoKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICB9KTtcclxuICAkZWRpdERlbGV0ZS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICBkaXNwYXRjaGVyLmVtaXRUb2dnbGVFZGl0KCdkZWxldGUnKTtcclxuICAgICRlZGl0RGVsZXRlLmJsdXIoKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICB9KTtcclxuICAkZWRpdExheWVycy5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICBkaXNwYXRjaGVyLmVtaXRUb2dnbGVFZGl0KCdsYXllcnMnKTtcclxuICAgICRlZGl0TGF5ZXJzLmJsdXIoKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICB9KTtcclxuICAkZWRpdFNhdmUub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgZGlzcGF0Y2hlci5lbWl0VG9nZ2xlRWRpdCgnc2F2ZScpO1xyXG4gICAgJGVkaXRTYXZlLmJsdXIoKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICB9KTtcclxuICAkZWRpdENsb3NlLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICQoJy5vLW1hcCcpLmZpcnN0KCkudHJpZ2dlcih7XHJcbiAgICAgIHR5cGU6ICdlbmFibGVJbnRlcmFjdGlvbicsXHJcbiAgICAgIGludGVyYWN0aW9uOiAnZmVhdHVyZUluZm8nXHJcbiAgICB9KTtcclxuICAgICRlZGl0Q2xvc2UuYmx1cigpO1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gb25FbmFibGVJbnRlcmFjdGlvbihlKSB7XHJcbiAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICBpZiAoZS5pbnRlcmFjdGlvbiA9PT0gJ2VkaXRvcicpIHtcclxuICAgIHNldEFjdGl2ZSh0cnVlKTtcclxuICAgIGRpc3BhdGNoZXIuZW1pdFRvZ2dsZUVkaXQoJ2VkaXQnLCB7XHJcbiAgICAgIGN1cnJlbnRMYXllcjogY3VycmVudExheWVyXHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgc2V0QWN0aXZlKGZhbHNlKTtcclxuICAgIGRpc3BhdGNoZXIuZW1pdFRvZ2dsZUVkaXQoJ2NhbmNlbCcpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2V0QWN0aXZlKHN0YXRlKSB7XHJcbiAgaWYgKHN0YXRlID09PSB0cnVlKSB7XHJcbiAgICAkKCcjby1lZGl0b3ItdG9vbGJhcicpLnJlbW92ZUNsYXNzKCdvLWhpZGRlbicpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAkKCcjby1lZGl0b3ItdG9vbGJhcicpLmFkZENsYXNzKCdvLWhpZGRlbicpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gb25DaGFuZ2VFZGl0KGUpIHtcclxuICBpZiAoZS50b29sID09PSAnZHJhdycpIHtcclxuICAgIGlmIChlLmFjdGl2ZSA9PT0gZmFsc2UpIHtcclxuICAgICAgJGVkaXREcmF3LnJlbW92ZUNsYXNzKGFjdGl2ZUNsYXNzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICRlZGl0RHJhdy5hZGRDbGFzcyhhY3RpdmVDbGFzcyk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGlmIChlLnRvb2wgPT09ICdsYXllcnMnKSB7XHJcbiAgICBpZiAoZS5hY3RpdmUgPT09IGZhbHNlKSB7XHJcbiAgICAgICRlZGl0TGF5ZXJzLnJlbW92ZUNsYXNzKGFjdGl2ZUNsYXNzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICRlZGl0TGF5ZXJzLmFkZENsYXNzKGFjdGl2ZUNsYXNzKTtcclxuICAgIH1cclxuICB9IGVsc2UgaWYgKGUuYWN0aXZlKSB7XHJcbiAgICAkZWRpdExheWVycy5yZW1vdmVDbGFzcyhhY3RpdmVDbGFzcyk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB0b2dnbGVTYXZlKGUpIHtcclxuICBpZiAoZS5lZGl0cykge1xyXG4gICAgaWYgKCRlZGl0U2F2ZS5oYXNDbGFzcyhkaXNhYmxlQ2xhc3MpKSB7XHJcbiAgICAgICRlZGl0U2F2ZS5yZW1vdmVDbGFzcyhkaXNhYmxlQ2xhc3MpO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICAkZWRpdFNhdmUuYWRkQ2xhc3MoZGlzYWJsZUNsYXNzKTtcclxuICB9XHJcbn1cclxuIiwidmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxudmFyIG9sID0gcmVxdWlyZSgnb3BlbmxheWVycycpO1xyXG52YXIgdmlld2VyID0gcmVxdWlyZSgnLi4vdmlld2VyJyk7XHJcbnZhciBkaXNwYXRjaGVyID0gcmVxdWlyZSgnLi9lZGl0ZGlzcGF0Y2hlcicpO1xyXG5cclxudmFyIGVkaXRzU3RvcmUgPSBmdW5jdGlvbiBmZWF0dXJlU3RvcmUoKSB7XHJcbiAgdmFyIGVkaXRzID0ge307XHJcblxyXG4gICQoZG9jdW1lbnQpLm9uKCdjaGFuZ2VGZWF0dXJlJywgZmVhdHVyZUNoYW5nZSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBnZXRFZGl0czogZ2V0RWRpdHMsXHJcbiAgICBoYXNGZWF0dXJlOiBoYXNGZWF0dXJlXHJcbiAgfTtcclxuXHJcbiAgZnVuY3Rpb24gYWRkRWRpdChlKSB7XHJcbiAgICBpZiAoZS5hY3Rpb24gPT09ICdpbnNlcnQnKSB7XHJcbiAgICAgIGFkZEZlYXR1cmUoJ2luc2VydCcsIGUuZmVhdHVyZSwgZS5sYXllck5hbWUpO1xyXG4gICAgfSBlbHNlIGlmIChlLmFjdGlvbiA9PT0gJ3VwZGF0ZScpIHtcclxuICAgICAgaWYgKGhhc0ZlYXR1cmUoJ2luc2VydCcsIGUuZmVhdHVyZSwgZS5sYXllck5hbWUpID09PSBmYWxzZSkge1xyXG4gICAgICAgIGFkZEZlYXR1cmUoJ3VwZGF0ZScsIGUuZmVhdHVyZSwgZS5sYXllck5hbWUpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGUuYWN0aW9uID09PSAnZGVsZXRlJykge1xyXG4gICAgICBpZiAocmVtb3ZlRmVhdHVyZSgnaW5zZXJ0JywgZS5mZWF0dXJlLCBlLmxheWVyTmFtZSkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgcmVtb3ZlRmVhdHVyZSgndXBkYXRlJywgZS5mZWF0dXJlLCBlLmxheWVyTmFtZSk7XHJcbiAgICAgICAgYWRkRmVhdHVyZSgnZGVsZXRlJywgZS5mZWF0dXJlLCBlLmxheWVyTmFtZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChoYXNFZGl0cygpID09PSB0cnVlKSB7XHJcbiAgICAgIGRpc3BhdGNoZXIuZW1pdEVkaXRzQ2hhbmdlKDEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZGlzcGF0Y2hlci5lbWl0RWRpdHNDaGFuZ2UoMCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZW1vdmVFZGl0KGUpIHtcclxuICAgIGlmIChlLmZlYXR1cmUubGVuZ3RoKSB7XHJcbiAgICAgIGUuZmVhdHVyZS5mb3JFYWNoKGZ1bmN0aW9uKGZlYXR1cmUpIHtcclxuICAgICAgICByZW1vdmVGZWF0dXJlKGUuYWN0aW9uLCBmZWF0dXJlLCBlLmxheWVyTmFtZSlcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoaGFzRWRpdHMoKSA9PT0gZmFsc2UpIHtcclxuICAgICAgZGlzcGF0Y2hlci5lbWl0RWRpdHNDaGFuZ2UoMCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRFZGl0cygpIHtcclxuICAgIHJldHVybiBlZGl0cztcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGZlYXR1cmVDaGFuZ2UoZSkge1xyXG4gICAgaWYgKGUuc3RhdHVzID09PSAncGVuZGluZycpIHtcclxuICAgICAgYWRkRWRpdChlKTtcclxuICAgIH0gZWxzZSBpZiAoZS5zdGF0dXMgPT09ICdmaW5pc2hlZCcpIHtcclxuICAgICAgcmVtb3ZlRWRpdChlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGhhc0ZlYXR1cmUodHlwZSwgZmVhdHVyZSwgbGF5ZXJOYW1lKSB7XHJcbiAgICBpZiAoZWRpdHMuaGFzT3duUHJvcGVydHkobGF5ZXJOYW1lKSkge1xyXG4gICAgICBpZiAoZWRpdHNbbGF5ZXJOYW1lXVt0eXBlXS5pbmRleE9mKGZlYXR1cmUuZ2V0SWQoKSkgPiAtMSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBhZGRGZWF0dXJlKHR5cGUsIGZlYXR1cmUsIGxheWVyTmFtZSkge1xyXG4gICAgaWYgKGVkaXRzLmhhc093blByb3BlcnR5KGxheWVyTmFtZSkgPT09IGZhbHNlKSB7XHJcbiAgICAgIGVkaXRzW2xheWVyTmFtZV0gPSBjcmVhdGVFZGl0c09iaigpO1xyXG4gICAgfVxyXG4gICAgaWYgKGhhc0ZlYXR1cmUodHlwZSwgZmVhdHVyZSwgbGF5ZXJOYW1lKSA9PT0gZmFsc2UpIHtcclxuICAgICAgZWRpdHNbbGF5ZXJOYW1lXVt0eXBlXS5wdXNoKGZlYXR1cmUuZ2V0SWQoKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZW1vdmVGZWF0dXJlKHR5cGUsIGZlYXR1cmUsIGxheWVyTmFtZSkge1xyXG4gICAgdmFyIGluZGV4ID0gMDtcclxuICAgIGlmIChlZGl0cy5oYXNPd25Qcm9wZXJ0eShsYXllck5hbWUpKSB7XHJcbiAgICAgIGluZGV4ID0gZWRpdHNbbGF5ZXJOYW1lXVt0eXBlXS5pbmRleE9mKGZlYXR1cmUuZ2V0SWQoKSk7XHJcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgICAgZWRpdHNbbGF5ZXJOYW1lXVt0eXBlXS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIGlzRmluaXNoZWQobGF5ZXJOYW1lKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaXNGaW5pc2hlZChsYXllck5hbWUpIHtcclxuICAgIHZhciBlZGl0VHlwZXM7XHJcbiAgICB2YXIgZmluaXNoZWQgPSB0cnVlO1xyXG4gICAgaWYgKGVkaXRzLmhhc093blByb3BlcnR5KGxheWVyTmFtZSkpIHtcclxuICAgICAgZWRpdFR5cGVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZWRpdHNbbGF5ZXJOYW1lXSk7XHJcbiAgICAgIGVkaXRUeXBlcy5mb3JFYWNoKGZ1bmN0aW9uKGVkaXRUeXBlKSB7XHJcbiAgICAgICAgaWYgKGVkaXRzW2xheWVyTmFtZV1bZWRpdFR5cGVdLmxlbmd0aCkge1xyXG4gICAgICAgICAgZmluaXNoZWQgPSBmYWxzZTtcclxuICAgICAgICAgIHJldHVybiBmaW5pc2hlZDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBpZiAoZmluaXNoZWQpIHtcclxuICAgICAgICBkZWxldGUgZWRpdHNbbGF5ZXJOYW1lXTtcclxuICAgICAgICByZXR1cm4gZmluaXNoZWQ7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBmaW5pc2hlZDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZUVkaXRzT2JqKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdXBkYXRlOiBbXSxcclxuICAgICAgaW5zZXJ0OiBbXSxcclxuICAgICAgZGVsZXRlOiBbXVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaGFzRWRpdHMoKSB7XHJcbiAgICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZWRpdHMpLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZWRpdHNTdG9yZTtcclxuIiwidmFyIGRpc3BhdGNoZXIgPSByZXF1aXJlKCcuL2VkaXRkaXNwYXRjaGVyJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHRyYW5zT2JqLCBsYXllck5hbWUpIHtcclxuICBkaXNwYXRjaGVyLmVtaXRDaGFuZ2VPZmZsaW5lRWRpdHModHJhbnNPYmosIGxheWVyTmFtZSk7XHJcbn1cclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgb2wgPSByZXF1aXJlKCdvcGVubGF5ZXJzJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRyYXdUeXBlKSB7XHJcbiAgdmFyIHR5cGVzID0ge1xyXG4gICAgYm94OiB7XHJcbiAgICAgIHR5cGU6ICdDaXJjbGUnLFxyXG4gICAgICBnZW9tZXRyeUZ1bmN0aW9uOiBvbC5pbnRlcmFjdGlvbi5EcmF3LmNyZWF0ZUJveCgpXHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgaWYgKHR5cGVzLmhhc093blByb3BlcnR5KGRyYXdUeXBlKSkge1xyXG4gICAgcmV0dXJuIHR5cGVzW2RyYXdUeXBlXTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIHt9O1xyXG4gIH1cclxufVxyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciB2aWV3ZXIgPSByZXF1aXJlKCcuLi92aWV3ZXInKTtcclxudmFyIHdmc1RyYW5zYWN0aW9uID0gcmVxdWlyZSgnLi93ZnN0cmFuc2FjdGlvbicpO1xyXG52YXIgYWdzVHJhbnNhY3Rpb24gPSByZXF1aXJlKCcuL2Fnc3RyYW5zYWN0aW9uJyk7XHJcbnZhciBpbmRleGVkRGIgPSByZXF1aXJlKCcuL2luZGV4ZWRkYicpO1xyXG52YXIgdHJhbnNhY3Rpb25zID0ge1xyXG4gIFdGUzogd2ZzVHJhbnNhY3Rpb24sXHJcbiAgQUdTX0ZFQVRVUkU6IGFnc1RyYW5zYWN0aW9uLFxyXG4gIE9GRkxJTkU6IGluZGV4ZWREYlxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih0cmFuc2FjdGlvbiwgbGF5ZXJOYW1lKSB7XHJcbiAgdmFyIHR5cGUgPSB2aWV3ZXIuZ2V0TGF5ZXIobGF5ZXJOYW1lKS5nZXQoJ3R5cGUnKTtcclxuICBpZiAodHJhbnNhY3Rpb25zLmhhc093blByb3BlcnR5KHR5cGUpKSB7XHJcbiAgICB0cmFuc2FjdGlvbnNbdHlwZV0odHJhbnNhY3Rpb24sIGxheWVyTmFtZSk7XHJcbiAgfVxyXG59XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIG9sID0gcmVxdWlyZSgnb3BlbmxheWVycycpO1xyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG52YXIgdmlld2VyID0gcmVxdWlyZSgnLi4vdmlld2VyJyk7XHJcbnZhciBlZGl0c1N0b3JlID0gcmVxdWlyZSgnLi9lZGl0c3N0b3JlJykoKTtcclxudmFyIGRpc3BhdGNoZXIgPSByZXF1aXJlKCcuL2VkaXRkaXNwYXRjaGVyJyk7XHJcblxyXG52YXIgZm9ybWF0ID0gbmV3IG9sLmZvcm1hdC5XRlMoKTtcclxudmFyIHNlcmlhbGl6ZXIgPSBuZXcgWE1MU2VyaWFsaXplcigpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih0cmFuc09iaiwgbGF5ZXJOYW1lKSB7XHJcbiAgcmV0dXJuIHdmc1RyYW5zYWN0aW9uKHRyYW5zT2JqLCBsYXllck5hbWUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB3cml0ZVdmc1RyYW5zYWN0aW9uKHRyYW5zT2JqLCBvcHRpb25zKSB7XHJcbiAgdmFyIG5vZGUgPSBmb3JtYXQud3JpdGVUcmFuc2FjdGlvbih0cmFuc09iai5pbnNlcnQsIHRyYW5zT2JqLnVwZGF0ZSwgdHJhbnNPYmouZGVsZXRlLCBvcHRpb25zKTtcclxuICByZXR1cm4gbm9kZTtcclxufVxyXG5cclxuZnVuY3Rpb24gd2ZzVHJhbnNhY3Rpb24odHJhbnNPYmosIGxheWVyTmFtZSkge1xyXG4gIHZhciBzcnNOYW1lID0gdmlld2VyLmdldFByb2plY3Rpb25Db2RlKCk7XHJcbiAgdmFyIGxheWVyID0gdmlld2VyLmdldExheWVyKGxheWVyTmFtZSk7XHJcbiAgdmFyIGZlYXR1cmVUeXBlID0gbGF5ZXIuZ2V0KCdmZWF0dXJlVHlwZScpO1xyXG4gIHZhciBzb3VyY2UgPSB2aWV3ZXIuZ2V0TWFwU291cmNlKClbbGF5ZXIuZ2V0KCdzb3VyY2VOYW1lJyldO1xyXG4gIHZhciBvcHRpb25zID0ge1xyXG4gICAgZ21sT3B0aW9uczoge1xyXG4gICAgICBzcnNOYW1lOiBzcnNOYW1lXHJcbiAgICB9LFxyXG4gICAgZmVhdHVyZU5TOiBzb3VyY2Uud29ya3NwYWNlLFxyXG4gICAgZmVhdHVyZVByZWZpeDogc291cmNlLnByZWZpeCB8fCBzb3VyY2Uud29ya3NwYWNlLFxyXG4gICAgZmVhdHVyZVR5cGU6IGZlYXR1cmVUeXBlXHJcbiAgfTtcclxuICB2YXIgbm9kZSA9IHdyaXRlV2ZzVHJhbnNhY3Rpb24odHJhbnNPYmosIG9wdGlvbnMpO1xyXG4gIHJldHVybiAkLmFqYXgoe1xyXG4gICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICB1cmw6IHNvdXJjZS51cmwsXHJcbiAgICBkYXRhOiBzZXJpYWxpemVyLnNlcmlhbGl6ZVRvU3RyaW5nKG5vZGUpLFxyXG4gICAgY29udGVudFR5cGU6ICd0ZXh0L3htbCcsXHJcbiAgICBzdWNjZXNzOiBzdWNjZXNzLFxyXG4gICAgZXJyb3I6IGVycm9yLFxyXG4gICAgY29udGV4dDogdGhpc1xyXG4gIH0pXHJcbiAgICAudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgIHZhciByZXN1bHQgPSByZWFkUmVzcG9uc2UoZGF0YSk7XHJcbiAgICAgIHZhciBuciA9IDA7XHJcbiAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICBuciArPSByZXN1bHQudHJhbnNhY3Rpb25TdW1tYXJ5LnRvdGFsVXBkYXRlZDtcclxuICAgICAgICBuciArPSByZXN1bHQudHJhbnNhY3Rpb25TdW1tYXJ5LnRvdGFsRGVsZXRlZDtcclxuICAgICAgICBuciArPSByZXN1bHQudHJhbnNhY3Rpb25TdW1tYXJ5LnRvdGFsSW5zZXJ0ZWQ7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG5yO1xyXG4gICAgfSk7XHJcblxyXG4gIGZ1bmN0aW9uIHN1Y2Nlc3MoZGF0YSkge1xyXG4gICAgdmFyIHJlc3VsdCA9IHJlYWRSZXNwb25zZShkYXRhKTtcclxuICAgIHZhciBmZWF0dXJlO1xyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICBpZiAocmVzdWx0LnRyYW5zYWN0aW9uU3VtbWFyeS50b3RhbFVwZGF0ZWQgPiAwKSB7XHJcbiAgICAgICAgZGlzcGF0Y2hlci5lbWl0Q2hhbmdlRmVhdHVyZSh7XHJcbiAgICAgICAgICBmZWF0dXJlOiB0cmFuc09iai51cGRhdGUsXHJcbiAgICAgICAgICBsYXllck5hbWU6IGxheWVyTmFtZSxcclxuICAgICAgICAgIHN0YXR1czogJ2ZpbmlzaGVkJyxcclxuICAgICAgICAgIGFjdGlvbjogJ3VwZGF0ZSdcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHJlc3VsdC50cmFuc2FjdGlvblN1bW1hcnkudG90YWxEZWxldGVkID4gMCkge1xyXG4gICAgICAgIGRpc3BhdGNoZXIuZW1pdENoYW5nZUZlYXR1cmUoe1xyXG4gICAgICAgICAgZmVhdHVyZTogdHJhbnNPYmouZGVsZXRlLFxyXG4gICAgICAgICAgbGF5ZXJOYW1lOiBsYXllck5hbWUsXHJcbiAgICAgICAgICBzdGF0dXM6ICdmaW5pc2hlZCcsXHJcbiAgICAgICAgICBhY3Rpb246ICdkZWxldGUnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChyZXN1bHQudHJhbnNhY3Rpb25TdW1tYXJ5LnRvdGFsSW5zZXJ0ZWQgPiAwKSB7XHJcbiAgICAgICAgZmVhdHVyZSA9IHRyYW5zT2JqLmluc2VydDtcclxuICAgICAgICBkaXNwYXRjaGVyLmVtaXRDaGFuZ2VGZWF0dXJlKHtcclxuICAgICAgICAgIGZlYXR1cmU6IHRyYW5zT2JqLmluc2VydCxcclxuICAgICAgICAgIGxheWVyTmFtZTogbGF5ZXJOYW1lLFxyXG4gICAgICAgICAgc3RhdHVzOiAnZmluaXNoZWQnLFxyXG4gICAgICAgICAgYWN0aW9uOiAnaW5zZXJ0J1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBpbnNlcnRJZHMgPSByZXN1bHQuaW5zZXJ0SWRzO1xyXG4gICAgICAgIGluc2VydElkcy5mb3JFYWNoKGZ1bmN0aW9uKGluc2VydElkLCBpbmRleCkge1xyXG4gICAgICAgICAgZmVhdHVyZVtpbmRleF0uc2V0SWQoaW5zZXJ0SWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBlcnJvcigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZXJyb3IoZSkge1xyXG4gICAgdmFyIGVycm9yTXNnID0gZSA/IChlLnN0YXR1cyArICcgJyArIGUuc3RhdHVzVGV4dCkgOiBcIlwiO1xyXG4gICAgYWxlcnQoJ0RldCBpbnRyw6RmZmFkZSBldHQgZmVsIG7DpHIgw6RuZHJpbmdhcm5hIHNrdWxsZSBzcGFyYXMgdGlsbCBzZXJ2ZXJuLi4uXFxuJyArXHJcbiAgICAgIGVycm9yTXNnKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlYWRSZXNwb25zZShkYXRhKSB7XHJcbiAgdmFyIHJlc3VsdDtcclxuICBpZiAod2luZG93LkRvY3VtZW50ICYmIGRhdGEgaW5zdGFuY2VvZiBEb2N1bWVudCAmJiBkYXRhLmRvY3VtZW50RWxlbWVudCAmJlxyXG4gICAgZGF0YS5kb2N1bWVudEVsZW1lbnQubG9jYWxOYW1lID09PSAnRXhjZXB0aW9uUmVwb3J0Jykge1xyXG4gICAgYWxlcnQoZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKFxyXG4gICAgICAnaHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9vd3MnLCAnRXhjZXB0aW9uVGV4dCcpLml0ZW0oMCkudGV4dENvbnRlbnQpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXN1bHQgPSBmb3JtYXQucmVhZFRyYW5zYWN0aW9uUmVzcG9uc2UoZGF0YSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIG9sID0gcmVxdWlyZSgnb3BlbmxheWVycycpO1xyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG52YXIgVmlld2VyID0gcmVxdWlyZSgnLi92aWV3ZXInKTtcclxudmFyIFBvcHVwID0gcmVxdWlyZSgnLi9wb3B1cCcpO1xyXG52YXIgc2lkZWJhciA9IHJlcXVpcmUoJy4vc2lkZWJhcicpO1xyXG52YXIgbWFwdXRpbHMgPSByZXF1aXJlKCcuL21hcHV0aWxzJyk7XHJcbnZhciBmZWF0dXJlbGF5ZXIgPSByZXF1aXJlKCcuL2ZlYXR1cmVsYXllcicpO1xyXG52YXIgc3R5bGUgPSByZXF1aXJlKCcuL3N0eWxlJykoKTtcclxudmFyIHN0eWxlVHlwZXMgPSByZXF1aXJlKCcuL3N0eWxlL3N0eWxldHlwZXMnKTtcclxudmFyIGdldEZlYXR1cmVJbmZvID0gcmVxdWlyZSgnLi9nZXRmZWF0dXJlaW5mbycpO1xyXG52YXIgb3dsQ2Fyb3VzZWwgPSByZXF1aXJlKCcuLi9leHRlcm5zL293bGNhcm91c2VsLWJyb3dzZXJpZnknKTtcclxub3dsQ2Fyb3VzZWwubG9hZGpRdWVyeVBsdWdpbigpO1xyXG5cclxudmFyIHNlbGVjdGlvbkxheWVyID0gdW5kZWZpbmVkO1xyXG52YXIgc2F2ZWRQaW4gPSB1bmRlZmluZWQ7XHJcbnZhciBvcHRpb25zO1xyXG52YXIgbWFwO1xyXG52YXIgcGlubmluZztcclxudmFyIHBpblN0eWxlO1xyXG52YXIgc2VsZWN0aW9uU3R5bGVzO1xyXG52YXIgc2hvd092ZXJsYXk7XHJcbnZhciBpZGVudGlmeVRhcmdldDtcclxudmFyIGNsdXN0ZXJGZWF0dXJlaW5mb0xldmVsO1xyXG52YXIgb3ZlcmxheTtcclxudmFyIGhpdFRvbGVyYW5jZTtcclxuXHJcbmZ1bmN0aW9uIGluaXQob3B0X29wdGlvbnMpIHtcclxuICBtYXAgPSBWaWV3ZXIuZ2V0TWFwKCk7XHJcblxyXG4gIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcclxuXHJcbiAgcGlubmluZyA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3Bpbm5pbmcnKSA/IG9wdGlvbnMucGlubmluZyA6IHRydWU7XHJcbiAgdmFyIHBpblN0eWxlT3B0aW9ucyA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3BpblN0eWxlJykgPyBvcHRpb25zLnBpblN0eWxlIDogc3R5bGVUeXBlcy5nZXRTdHlsZSgncGluJyk7XHJcbiAgcGluU3R5bGUgPSBzdHlsZS5jcmVhdGVTdHlsZVJ1bGUocGluU3R5bGVPcHRpb25zKVswXTtcclxuICBzYXZlZFBpbiA9IG9wdGlvbnMuc2F2ZWRQaW4gPyBtYXB1dGlscy5jcmVhdGVQb2ludEZlYXR1cmUob3B0X29wdGlvbnMuc2F2ZWRQaW4sIHBpblN0eWxlKSA6IHVuZGVmaW5lZDtcclxuXHJcbiAgc2VsZWN0aW9uU3R5bGVzID0gc3R5bGUuY3JlYXRlRWRpdFN0eWxlKCk7XHJcblxyXG4gIHZhciBzYXZlZFNlbGVjdGlvbiA9IG9wdGlvbnMuc2F2ZWRTZWxlY3Rpb24gfHwgdW5kZWZpbmVkO1xyXG4gIHZhciBzYXZlZEZlYXR1cmUgPSBzYXZlZFBpbiB8fCBzYXZlZFNlbGVjdGlvbiB8fCB1bmRlZmluZWQ7XHJcbiAgc2VsZWN0aW9uTGF5ZXIgPSBmZWF0dXJlbGF5ZXIoc2F2ZWRGZWF0dXJlLCBtYXApO1xyXG5cclxuICBzaG93T3ZlcmxheSA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ292ZXJsYXknKSA/IG9wdGlvbnMub3ZlcmxheSA6IHRydWU7XHJcblxyXG4gIGlmKHNob3dPdmVybGF5KSB7XHJcbiAgICBpZGVudGlmeVRhcmdldCA9ICdvdmVybGF5JztcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICBzaWRlYmFyLmluaXQoKTtcclxuICAgIGlkZW50aWZ5VGFyZ2V0ID0gJ3NpZGViYXInO1xyXG4gIH1cclxuXHJcbiAgY2x1c3RlckZlYXR1cmVpbmZvTGV2ZWwgPSBvcHRpb25zLmhhc093blByb3BlcnR5KCdjbHVzdGVyRmVhdHVyZWluZm9MZXZlbCcpID8gb3B0aW9ucy5jbHVzdGVyRmVhdHVyZWluZm9MZXZlbCA6IDE7XHJcblxyXG4gIGhpdFRvbGVyYW5jZSA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2hpdFRvbGVyYW5jZScpID8gb3B0aW9ucy5oaXRUb2xlcmFuY2UgOiAwO1xyXG5cclxuICBtYXAub24oJ2NsaWNrJywgb25DbGljayk7XHJcbiAgJChkb2N1bWVudCkub24oJ2VuYWJsZUludGVyYWN0aW9uJywgb25FbmFibGVJbnRlcmFjdGlvbik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFNlbGVjdGlvbkxheWVyKCkge1xyXG4gIHJldHVybiBzZWxlY3Rpb25MYXllci5nZXRGZWF0dXJlTGF5ZXIoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0U2VsZWN0aW9uKCkge1xyXG4gIHZhciBzZWxlY3Rpb24gPSB7fTtcclxuICBzZWxlY3Rpb24uZ2VvbWV0cnlUeXBlID0gc2VsZWN0aW9uTGF5ZXIuZ2V0RmVhdHVyZXMoKVswXS5nZXRHZW9tZXRyeSgpLmdldFR5cGUoKTtcclxuICBzZWxlY3Rpb24uY29vcmRpbmF0ZXMgPSBzZWxlY3Rpb25MYXllci5nZXRGZWF0dXJlcygpWzBdLmdldEdlb21ldHJ5KCkuZ2V0Q29vcmRpbmF0ZXMoKTtcclxuICByZXR1cm4gc2VsZWN0aW9uO1xyXG59XHJcbmZ1bmN0aW9uIGdldFBpbigpIHtcclxuICByZXR1cm4gc2F2ZWRQaW47XHJcbn1cclxuZnVuY3Rpb24gZ2V0SGl0VG9sZXJhbmNlKCkge1xyXG4gIHJldHVybiBoaXRUb2xlcmFuY2U7XHJcbn1cclxuZnVuY3Rpb24gaWRlbnRpZnkoaXRlbXMsIHRhcmdldCwgY29vcmRpbmF0ZSkge1xyXG4gIGNsZWFyKCk7XHJcbiAgdmFyIGNvbnRlbnQgPSBpdGVtcy5tYXAoZnVuY3Rpb24oaSl7XHJcbiAgICByZXR1cm4gaS5jb250ZW50O1xyXG4gIH0pLmpvaW4oJycpO1xyXG4gIGNvbnRlbnQgPSAnPGRpdiBpZD1cIm8taWRlbnRpZnlcIj48ZGl2IGlkPVwiby1pZGVudGlmeS1jYXJvdXNlbFwiIGNsYXNzPVwib3dsLWNhcm91c2VsIG93bC10aGVtZVwiPicgKyBjb250ZW50ICsgJzwvZGl2PjwvZGl2Pic7XHJcbiAgc3dpdGNoICh0YXJnZXQpIHtcclxuICAgIGNhc2UgJ292ZXJsYXknOlxyXG4gICAgICB2YXIgcG9wdXAgPSBQb3B1cCgnI28tbWFwJyk7XHJcbiAgICAgIG92ZXJsYXkgPSBuZXcgb2wuT3ZlcmxheSh7XHJcbiAgICAgICAgZWxlbWVudDogcG9wdXAuZ2V0RWwoKVxyXG4gICAgICB9KTtcclxuICAgICAgbWFwLmFkZE92ZXJsYXkob3ZlcmxheSk7XHJcbiAgICAgIHZhciBnZW9tZXRyeSA9IGl0ZW1zWzBdLmZlYXR1cmUuZ2V0R2VvbWV0cnkoKTtcclxuICAgICAgdmFyIGNvb3JkO1xyXG4gICAgICBnZW9tZXRyeS5nZXRUeXBlKCkgPT0gJ1BvaW50JyA/IGNvb3JkID0gZ2VvbWV0cnkuZ2V0Q29vcmRpbmF0ZXMoKSA6IGNvb3JkID0gY29vcmRpbmF0ZTtcclxuICAgICAgb3ZlcmxheS5zZXRQb3NpdGlvbihjb29yZCk7XHJcbiAgICAgIHBvcHVwLnNldENvbnRlbnQoe2NvbnRlbnQ6IGNvbnRlbnQsIHRpdGxlOiBpdGVtc1swXS50aXRsZX0pO1xyXG4gICAgICBwb3B1cC5zZXRWaXNpYmlsaXR5KHRydWUpO1xyXG4gICAgICB2YXIgb3dsID0gaW5pdENhcm91c2VsKCcjby1pZGVudGlmeS1jYXJvdXNlbCcsIHVuZGVmaW5lZCwgZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgY3VycmVudEl0ZW0gPSB0aGlzLm93bC5jdXJyZW50SXRlbTtcclxuICAgICAgICBzZWxlY3Rpb25MYXllci5jbGVhckFuZEFkZChpdGVtc1tjdXJyZW50SXRlbV0uZmVhdHVyZS5jbG9uZSgpLCBzZWxlY3Rpb25TdHlsZXNbaXRlbXNbY3VycmVudEl0ZW1dLmZlYXR1cmUuZ2V0R2VvbWV0cnkoKS5nZXRUeXBlKCldKTtcclxuICAgICAgICBwb3B1cC5zZXRUaXRsZShpdGVtc1tjdXJyZW50SXRlbV0udGl0bGUpO1xyXG4gICAgICB9KTtcclxuICAgICAgVmlld2VyLmF1dG9QYW4oKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdzaWRlYmFyJzpcclxuICAgICAgc2lkZWJhci5zZXRDb250ZW50KHtjb250ZW50OiBjb250ZW50LCB0aXRsZTogaXRlbXNbMF0udGl0bGV9KTtcclxuICAgICAgc2lkZWJhci5zZXRWaXNpYmlsaXR5KHRydWUpO1xyXG4gICAgICB2YXIgb3dsID0gaW5pdENhcm91c2VsKCcjby1pZGVudGlmeS1jYXJvdXNlbCcsIHVuZGVmaW5lZCwgZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgY3VycmVudEl0ZW0gPSB0aGlzLm93bC5jdXJyZW50SXRlbTtcclxuICAgICAgICBzZWxlY3Rpb25MYXllci5jbGVhckFuZEFkZChpdGVtc1tjdXJyZW50SXRlbV0uZmVhdHVyZS5jbG9uZSgpLCBzZWxlY3Rpb25TdHlsZXNbaXRlbXNbY3VycmVudEl0ZW1dLmZlYXR1cmUuZ2V0R2VvbWV0cnkoKS5nZXRUeXBlKCldKTtcclxuICAgICAgICBzaWRlYmFyLnNldFRpdGxlKGl0ZW1zW2N1cnJlbnRJdGVtXS50aXRsZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICBicmVhaztcclxuICB9XHJcbn1cclxuZnVuY3Rpb24gb25DbGljayhldnQpIHtcclxuICBzYXZlZFBpbiA9IHVuZGVmaW5lZDtcclxuICAvL0ZlYXR1cmluZm8gaW4gdHdvIHN0ZXBzLiBDb25jYXQgc2VydmVyc2lkZSBhbmQgY2xpZW50c2lkZSB3aGVuIHNlcnZlcnNpZGUgaXMgZmluaXNoZWRcclxuICB2YXIgY2xpZW50UmVzdWx0ID0gZ2V0RmVhdHVyZUluZm8uZ2V0RmVhdHVyZXNBdFBpeGVsKGV2dCwgY2x1c3RlckZlYXR1cmVpbmZvTGV2ZWwpO1xyXG4gIC8vQWJvcnQgaWYgY2xpZW50UmVzdWx0IGlzIGZhbHNlXHJcbiAgaWYoY2xpZW50UmVzdWx0ICE9PSBmYWxzZSkge1xyXG4gICAgZ2V0RmVhdHVyZUluZm8uZ2V0RmVhdHVyZXNGcm9tUmVtb3RlKGV2dClcclxuICAgICAgLmRvbmUoZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIHZhciBzZXJ2ZXJSZXN1bHQgPSBkYXRhIHx8IFtdO1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBzZXJ2ZXJSZXN1bHQuY29uY2F0KGNsaWVudFJlc3VsdCk7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBzZWxlY3Rpb25MYXllci5jbGVhcigpO1xyXG4gICAgICAgICAgaWRlbnRpZnkocmVzdWx0LCBpZGVudGlmeVRhcmdldCwgZXZ0LmNvb3JkaW5hdGUpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYoc2VsZWN0aW9uTGF5ZXIuZ2V0RmVhdHVyZXMoKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBjbGVhcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKHBpbm5pbmcpe1xyXG4gICAgICAgICAgc2lkZWJhci5zZXRWaXNpYmlsaXR5KGZhbHNlKTtcclxuICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gbWFwLmdldFZpZXcoKS5nZXRSZXNvbHV0aW9uKCk7XHJcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZighbWFwdXRpbHMuY2hlY2tab29tQ2hhbmdlKHJlc29sdXRpb24sIG1hcC5nZXRWaWV3KCkuZ2V0UmVzb2x1dGlvbigpKSkge1xyXG4gICAgICAgICAgICAgIHNhdmVkUGluID0gbWFwdXRpbHMuY3JlYXRlUG9pbnRGZWF0dXJlKGV2dC5jb29yZGluYXRlLCBwaW5TdHlsZSk7XHJcbiAgICAgICAgICAgICAgc2VsZWN0aW9uTGF5ZXIuYWRkRmVhdHVyZShzYXZlZFBpbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sIDI1MCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ05vIGZlYXR1cmVzIGlkZW50aWZpZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufVxyXG5mdW5jdGlvbiBzZXRBY3RpdmUoc3RhdGUpIHtcclxuICBpZihzdGF0ZSA9PT0gdHJ1ZSkge1xyXG4gICAgbWFwLm9uKCdjbGljaycsIG9uQ2xpY2spO1xyXG4gIH1cclxuICBlbHNlIHtcclxuICAgIGNsZWFyKCk7XHJcbiAgICBtYXAudW4oJ2NsaWNrJywgb25DbGljayk7XHJcbiAgfVxyXG59XHJcbmZ1bmN0aW9uIGNsZWFyKCkge1xyXG4gIHNlbGVjdGlvbkxheWVyLmNsZWFyKCk7XHJcbiAgc2lkZWJhci5zZXRWaXNpYmlsaXR5KGZhbHNlKTtcclxuICBpZiAob3ZlcmxheSkge1xyXG4gICAgVmlld2VyLnJlbW92ZU92ZXJsYXlzKG92ZXJsYXkpO1xyXG4gIH1cclxuICBjb25zb2xlLmxvZyhcIkNsZWFyaW5nIHNlbGVjdGlvblwiKTtcclxufVxyXG5mdW5jdGlvbiBvbkVuYWJsZUludGVyYWN0aW9uKGUpIHtcclxuICBpZihlLmludGVyYWN0aW9uID09PSAnZmVhdHVyZUluZm8nKSB7XHJcbiAgICBzZXRBY3RpdmUodHJ1ZSk7XHJcbiAgfVxyXG4gIGVsc2Uge1xyXG4gICAgc2V0QWN0aXZlKGZhbHNlKTtcclxuICB9XHJcbn1cclxuZnVuY3Rpb24gaW5pdENhcm91c2VsKGlkLCBvcHRpb25zLCBjYikge1xyXG4gIHZhciBjYXJvdXNlbE9wdGlvbnMgPSBvcHRpb25zIHx8IHtcclxuICAgIG5hdmlnYXRpb24gOiB0cnVlLCAvLyBTaG93IG5leHQgYW5kIHByZXYgYnV0dG9uc1xyXG4gICAgc2xpZGVTcGVlZCA6IDMwMCxcclxuICAgIHBhZ2luYXRpb25TcGVlZCA6IDQwMCxcclxuICAgIHNpbmdsZUl0ZW06dHJ1ZSxcclxuICAgIHJld2luZFNwZWVkOjIwMCxcclxuICAgIG5hdmlnYXRpb25UZXh0OiBbJzxzdmcgY2xhc3M9XCJvLWljb24tZmEtY2hldnJvbi1sZWZ0XCI+PHVzZSB4bGluazpocmVmPVwiI2ZhLWNoZXZyb24tbGVmdFwiPjwvdXNlPjwvc3ZnPicsICc8c3ZnIGNsYXNzPVwiby1pY29uLWZhLWNoZXZyb24tcmlnaHRcIj48dXNlIHhsaW5rOmhyZWY9XCIjZmEtY2hldnJvbi1yaWdodFwiPjwvdXNlPjwvc3ZnPiddLFxyXG4gICAgYWZ0ZXJBY3Rpb246IGNiXHJcbiAgfTtcclxuICByZXR1cm4gJChpZCkub3dsQ2Fyb3VzZWwoY2Fyb3VzZWxPcHRpb25zKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMuaW5pdCA9IGluaXQ7XHJcbm1vZHVsZS5leHBvcnRzLmNsZWFyID0gY2xlYXI7XHJcbm1vZHVsZS5leHBvcnRzLmdldFNlbGVjdGlvbkxheWVyID0gZ2V0U2VsZWN0aW9uTGF5ZXI7XHJcbm1vZHVsZS5leHBvcnRzLmdldFNlbGVjdGlvbiA9IGdldFNlbGVjdGlvbjtcclxubW9kdWxlLmV4cG9ydHMuZ2V0UGluID0gZ2V0UGluO1xyXG5tb2R1bGUuZXhwb3J0cy5nZXRIaXRUb2xlcmFuY2UgPSBnZXRIaXRUb2xlcmFuY2U7XHJcbm1vZHVsZS5leHBvcnRzLmlkZW50aWZ5ID0gaWRlbnRpZnk7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgdGVtcGxhdGVzID0ge307XHJcbnRlbXBsYXRlcy5kZWZhdWx0ID0gcmVxdWlyZShcIi4vdGVtcGxhdGVzL2ZlYXR1cmVpbmZvdGVtcGxhdGVzL2RlZmF1bHRcIik7XHJcblxyXG5mdW5jdGlvbiBmZWF0dXJlaW5mb3RlbXBsYXRlcyh0ZW1wbGF0ZSwgYXR0cmlidXRlcykge1xyXG4gICAgcmV0dXJuIHRlbXBsYXRlc1t0ZW1wbGF0ZV0oYXR0cmlidXRlcyk7XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSBmZWF0dXJlaW5mb3RlbXBsYXRlcztcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgb2wgPSByZXF1aXJlKCdvcGVubGF5ZXJzJyk7XHJcblxyXG4vL2NyZWF0ZSB1bm1hbmFnZWQgbGF5ZXJcclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmZWF0dXJlcywgbWFwKSB7XHJcbiAgdmFyIGNvbGxlY3Rpb24gPSBmZWF0dXJlcyA/IFtmZWF0dXJlc10gOiBbXTtcclxuICB2YXIgZmVhdHVyZUxheWVyU3RvcmUgPSBuZXcgb2wuc291cmNlLlZlY3Rvcih7XHJcbiAgICAgIGZlYXR1cmVzOiBjb2xsZWN0aW9uXHJcbiAgfSk7XHJcbiAgdmFyIGZlYXR1cmVMYXllciA9IG5ldyBvbC5sYXllci5WZWN0b3Ioe1xyXG4gICAgc291cmNlOiBmZWF0dXJlTGF5ZXJTdG9yZSxcclxuICAgIG1hcDogbWFwXHJcbiAgfSk7XHJcbiAgcmV0dXJuIHtcclxuICAgICAgYWRkRmVhdHVyZTogZnVuY3Rpb24gYWRkRmVhdHVyZShmZWF0dXJlKSB7XHJcbiAgICAgICAgICBmZWF0dXJlTGF5ZXJTdG9yZS5hZGRGZWF0dXJlKGZlYXR1cmUpO1xyXG4gICAgICB9LFxyXG4gICAgICBnZXRGZWF0dXJlczogZnVuY3Rpb24gZ2V0RmVhdHVyZXMoKSB7XHJcbiAgICAgICAgICByZXR1cm4gZmVhdHVyZUxheWVyU3RvcmUuZ2V0RmVhdHVyZXMoKTtcclxuICAgICAgfSxcclxuICAgICAgZ2V0RmVhdHVyZUxheWVyOiBmdW5jdGlvbiBnZXRGZWF0dXJlTGF5ZXIoKSB7XHJcbiAgICAgICAgICByZXR1cm4gZmVhdHVyZUxheWVyO1xyXG4gICAgICB9LFxyXG4gICAgICBnZXRGZWF0dXJlU3RvcmU6IGZ1bmN0aW9uIGdldEZlYXR1cmVTdG9yZSgpIHtcclxuICAgICAgICAgIHJldHVybiBmZWF0dXJlTGF5ZXJTdG9yZTtcclxuICAgICAgfSxcclxuICAgICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkge1xyXG4gICAgICAgICAgZmVhdHVyZUxheWVyU3RvcmUuY2xlYXIoKTtcclxuICAgICAgfSxcclxuICAgICAgY2xlYXJBbmRBZGQ6IGZ1bmN0aW9uIGNsZWFyQW5kQWRkKGZlYXR1cmUsIHN0eWxlKSB7XHJcbiAgICAgICAgICBmZWF0dXJlTGF5ZXJTdG9yZS5jbGVhcigpO1xyXG4gICAgICAgICAgZmVhdHVyZUxheWVyLnNldFN0eWxlKHN0eWxlKTtcclxuICAgICAgICAgIGZlYXR1cmVMYXllclN0b3JlLmFkZEZlYXR1cmUoZmVhdHVyZSk7XHJcbiAgICAgIH1cclxuICB9XHJcbn1cclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XHJcbnZhciBwZXJtYWxpbmsgPSByZXF1aXJlKCcuL3Blcm1hbGluay9wZXJtYWxpbmsnKTtcclxudmFyIGlzRW1iZWRkZWQgPSByZXF1aXJlKCcuL3V0aWxzL2lzZW1iZWRkZWQnKTtcclxudmFyIHZpZXdlciA9IHJlcXVpcmUoJy4vdmlld2VyJyk7XHJcblxyXG52YXIgdG9vbHRpcDtcclxudmFyIG1hcFRhcmdldDtcclxuXHJcbmZ1bmN0aW9uIEluaXQob3B0X29wdGlvbnMpIHtcclxuICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xyXG4gIHZhciB0YXJnZXQgPSBvcHRpb25zLnRhcmdldCB8fCAnI28tdG9vbGJhci1taXNjJztcclxuICBtYXBUYXJnZXQgPSB2aWV3ZXIuZ2V0VGFyZ2V0KCk7XHJcbiAgdG9vbHRpcCA9IG9wdGlvbnMudG9vbHRpcFRleHQgfHwgJ1Zpc2Egc3RvciBrYXJ0YSc7XHJcblxyXG4gIHJlbmRlcih0YXJnZXQpO1xyXG4gIGJpbmRVSUFjdGlvbnMoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyKHRhcmdldCkge1xyXG4gIHZhciBlbCA9IHV0aWxzLmNyZWF0ZUJ1dHRvbih7XHJcbiAgICBpZDogJ28tZnVsbHNjcmVlbi1idXR0b24nLFxyXG4gICAgY2xzOiAnby1mdWxsc2NyZWVuLWJ1dHRvbicsXHJcbiAgICBpY29uQ2xzOiAnby1pY29uLWZhLWV4cGFuZCcsXHJcbiAgICBzcmM6ICcjZmEtZXhwYW5kJyxcclxuICAgIHRvb2x0aXBUZXh0OiB0b29sdGlwLFxyXG4gICAgdG9vbHRpcFBsYWNlbWVudDogJ2Vhc3QnXHJcbiAgfSk7XHJcbiAgaWYgKGlzRW1iZWRkZWQobWFwVGFyZ2V0KSkge1xyXG4gICAgJCh0YXJnZXQpLmFwcGVuZChlbCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBiaW5kVUlBY3Rpb25zKCkge1xyXG4gICQoJyNvLWZ1bGxzY3JlZW4tYnV0dG9uIGJ1dHRvbicpLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuICAgIGdvRnVsbFNjcmVlbigpO1xyXG4gICAgJCgnI28tZnVsbHNjcmVlbi1idXR0b24gYnV0dG9uJykuYmx1cigpO1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdvRnVsbFNjcmVlbigpIHtcclxuICB2YXIgdXJsID0gcGVybWFsaW5rLmdldFBlcm1hbGluaygpO1xyXG4gIHdpbmRvdy5vcGVuKHVybCk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzLmluaXQgPSBJbml0O1xyXG4iLCJ2YXIgZ2V0Y2VudGVyID0gcmVxdWlyZSgnLi9nZW9tZXRyeS9nZXRjZW50ZXInKTtcclxudmFyIGdldGFyZWEgPSByZXF1aXJlKCcuL2dlb21ldHJ5L2dldGFyZWEnKTtcclxuXHJcbnZhciBnZW9tID0ge307XHJcbmdlb20uY2VudGVyID0gZ2V0Y2VudGVyO1xyXG5nZW9tLmFyZWEgPSBnZXRhcmVhO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnZW9tO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciByb3VuZCA9IHJlcXVpcmUoJy4uL3V0aWxzL3JvdW5kJyk7XHJcblxyXG52YXIgZ2V0QXJlYSA9IGZ1bmN0aW9uIGdldEFyZWEoZ2VvbWV0cnlfaW4sIGRlY2ltYWxzKSB7XHJcbiAgdmFyIGFyZWEgPSBnZW9tZXRyeV9pbi5nZXRBcmVhID8gZ2VvbWV0cnlfaW4uZ2V0QXJlYSgpIDogMDtcclxuICBpZiAoZGVjaW1hbHMpIHtcclxuICAgIGFyZWEgPSByb3VuZChhcmVhLCBkZWNpbWFscyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGFyZWEgPSByb3VuZChhcmVhLCAnMicpO1xyXG4gIH1cclxuICByZXR1cm4gYXJlYTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnZXRBcmVhO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciBvbCA9IHJlcXVpcmUoJ29wZW5sYXllcnMnKTtcclxudmFyIFZpZXdlciA9IHJlcXVpcmUoJy4uL3ZpZXdlcicpO1xyXG5cclxudmFyIGdldENlbnRlciA9IGZ1bmN0aW9uIGdldENlbnRlcihnZW9tZXRyeV9pbiwgZGVzdGluYXRpb24sIGF4aXNPcmllbnRhdGlvbikge1xyXG4gICAgdmFyIGdlb21ldHJ5ID0gZ2VvbWV0cnlfaW4uY2xvbmUoKTtcclxuXHJcbiAgICBpZiAoZGVzdGluYXRpb24pIHtcclxuICAgICAgZ2VvbWV0cnkudHJhbnNmb3JtKFZpZXdlci5nZXRNYXAoKS5nZXRWaWV3KCkuZ2V0UHJvamVjdGlvbigpLCBkZXN0aW5hdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHR5cGUgPSBnZW9tZXRyeS5nZXRUeXBlKCk7XHJcbiAgICB2YXIgY2VudGVyO1xyXG4gICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgY2FzZSBcIlBvbHlnb25cIjpcclxuICAgICAgICAgICAgY2VudGVyID0gZ2VvbWV0cnkuZ2V0SW50ZXJpb3JQb2ludCgpLmdldENvb3JkaW5hdGVzKCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJNdWx0aVBvbHlnb25cIjpcclxuICAgICAgICAgICAgY2VudGVyID0gZ2VvbWV0cnkuZ2V0SW50ZXJpb3JQb2ludHMoKS5nZXRDb29yZGluYXRlcygpWzBdO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiUG9pbnRcIjpcclxuICAgICAgICAgICAgY2VudGVyID0gZ2VvbWV0cnkuZ2V0Q29vcmRpbmF0ZXMoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcclxuICAgICAgICAgICAgY2VudGVyID0gZ2VvbWV0cnlbMF0uZ2V0Q29vcmRpbmF0ZXMoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcclxuICAgICAgICAgICAgY2VudGVyID0gZ2VvbWV0cnkuZ2V0Q29vcmRpbmF0ZUF0KDAuNSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcclxuICAgICAgICAgICAgY2VudGVyID0gZ2VvbWV0cnkuZ2V0TGluZVN0cmluZ3MoKVswXS5nZXRDb29yZGluYXRlQXQoMC41KTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcIkNpcmNsZVwiOlxyXG4gICAgICAgICAgICBjZW50ZXIgPSBnZW9tZXRyeS5nZXRDZW50ZXIoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGF4aXNPcmllbnRhdGlvbikge1xyXG4gICAgICBpZiAoYXhpc09yaWVudGF0aW9uID09PSAncmV2ZXJzZScpIHtcclxuICAgICAgICBjZW50ZXIucmV2ZXJzZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNlbnRlcjtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnZXRDZW50ZXI7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIG9sID0gcmVxdWlyZSgnb3BlbmxheWVycycpO1xyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG52YXIgdmlld2VyID0gcmVxdWlyZSgnLi92aWV3ZXInKTtcclxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xyXG5cclxudmFyICRnZW9sb2NhdGVCdXR0b25JZCA9IHVuZGVmaW5lZDtcclxudmFyICRnZW9sb2NhdGVCdXR0b24gPSB1bmRlZmluZWQ7XHJcbnZhciBlbmFibGVkID0gZmFsc2U7XHJcbnZhciBtYXAgPSB1bmRlZmluZWQ7XHJcbnZhciBnZW9sb2NhdGlvbiA9IHVuZGVmaW5lZDtcclxudmFyIG1hcmtlciA9IHVuZGVmaW5lZDtcclxudmFyIG1hcmtlckVsID0gdW5kZWZpbmVkO1xyXG52YXIgYmFzZVVybCA9IHVuZGVmaW5lZDtcclxudmFyIHpvb21MZXZlbDtcclxuXHJcbmZ1bmN0aW9uIGluaXQob3B0X29wdGlvbnMpIHtcclxuICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xyXG4gIHZhciB0YXJnZXQgPSBvcHRpb25zLnRhcmdldCB8fCAnI28tdG9vbGJhci1uYXZpZ2F0aW9uJztcclxuICBtYXAgPSB2aWV3ZXIuZ2V0TWFwKCk7XHJcbiAgYmFzZVVybCA9IHZpZXdlci5nZXRCYXNlVXJsKCk7XHJcbiAgem9vbUxldmVsID0gb3B0aW9ucy56b29tTGV2ZWwgfHwgdmlld2VyLmdldFJlc29sdXRpb25zKCkubGVuZ3RoIC0gMyB8fCAwO1xyXG5cclxuICByZW5kZXIodGFyZ2V0KTtcclxuXHJcbiAgJGdlb2xvY2F0ZUJ1dHRvbklkID0gJCgnI28tZ2VvbG9jYXRpb24tYnV0dG9uJyk7XHJcbiAgJGdlb2xvY2F0ZUJ1dHRvbiA9ICQoJyNvLWdlb2xvY2F0aW9uLWJ1dHRvbiBidXR0b24nKTtcclxuXHJcbiAgbWFya2VyRWwgPSAkKCcjby1nZW9sb2NhdGlvbl9tYXJrZXInKS5nZXQoMCk7XHJcbiAgbWFya2VyID0gbmV3IG9sLk92ZXJsYXkoe1xyXG4gICAgcG9zaXRpb25pbmc6ICdjZW50ZXItY2VudGVyJyxcclxuICAgIGVsZW1lbnQ6IG1hcmtlckVsLFxyXG4gICAgc3RvcEV2ZW50OiBmYWxzZVxyXG4gIH0pO1xyXG5cclxuICBnZW9sb2NhdGlvbiA9IG5ldyBvbC5HZW9sb2NhdGlvbigoe1xyXG4gICAgcHJvamVjdGlvbjogbWFwLmdldFZpZXcoKS5nZXRQcm9qZWN0aW9uKCksXHJcbiAgICB0cmFja2luZ09wdGlvbnM6IHtcclxuICAgICAgbWF4aW11bUFnZTogMTAwMDAsXHJcbiAgICAgIGVuYWJsZUhpZ2hBY2N1cmFjeTogdHJ1ZSxcclxuICAgICAgdGltZW91dDogNjAwMDAwXHJcbiAgICB9XHJcbiAgfSkpO1xyXG5cclxuICBiaW5kVUlBY3Rpb25zKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlcih0YXJnZXQpIHtcclxuICB2YXIgdG9vbHRpcFRleHQgPSAnVmlzYSBudXZhcmFuZGUgcG9zaXRpb24gaSBrYXJ0YW4nO1xyXG4gIHZhciBzcmMgPSBiYXNlVXJsICsgJ2ltZy9nZW9sb2NhdGlvbl9tYXJrZXIucG5nJztcclxuICB2YXIgbWFya2VySW1nID0gJzxpbWcgaWQ9XCJvLWdlb2xvY2F0aW9uX21hcmtlclwiIHNyYz1cIicgKyBzcmMgKyAnXCIvPic7XHJcblxyXG4gIC8vRWxlbWVudCBmb3IgY29udHJvbFxyXG4gIHZhciBlbCA9IHV0aWxzLmNyZWF0ZUJ1dHRvbih7XHJcbiAgICBpZDogJ28tZ2VvbG9jYXRpb24tYnV0dG9uJyxcclxuICAgIGNsczogJ28tZ2VvbG9jYXRpb24tYnV0dG9uJyxcclxuICAgIGljb25DbHM6ICdvLWljb24tZmEtbG9jYXRpb24tYXJyb3cnLFxyXG4gICAgc3JjOiAnI2ZhLWxvY2F0aW9uLWFycm93JyxcclxuICAgIHRvb2x0aXBUZXh0OiB0b29sdGlwVGV4dCxcclxuICAgIHRvb2x0aXBQbGFjZW1lbnQ6ICdlYXN0J1xyXG4gIH0pO1xyXG4gICQodGFyZ2V0KS5hcHBlbmQoZWwpO1xyXG4gICQoJyNvLW1hcCcpLnByZXBlbmQobWFya2VySW1nKTtcclxufVxyXG5cclxuZnVuY3Rpb24gYmluZFVJQWN0aW9ucygpIHtcclxuICAkZ2VvbG9jYXRlQnV0dG9uSWQub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgdG9nZ2xlKCk7XHJcbiAgICAkZ2VvbG9jYXRlQnV0dG9uLmJsdXIoKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlKCkge1xyXG4gIGlmICgkZ2VvbG9jYXRlQnV0dG9uLmhhc0NsYXNzKCdvLWdlb2xvY2F0aW9uLWJ1dHRvbi10cnVlJykpIHtcclxuICAgICRnZW9sb2NhdGVCdXR0b24ucmVtb3ZlQ2xhc3MoJ28tZ2VvbG9jYXRpb24tYnV0dG9uLXRydWUnKTtcclxuICAgIGdlb2xvY2F0aW9uLnNldFRyYWNraW5nKGZhbHNlKTtcclxuXHJcbiAgICBnZW9sb2NhdGlvbi51bignY2hhbmdlJywgdXBkYXRlUG9zaXRpb24pO1xyXG4gICAgbWFwLnJlbW92ZU92ZXJsYXkobWFya2VyKTtcclxuICB9IGVsc2Uge1xyXG4gICAgJGdlb2xvY2F0ZUJ1dHRvbi5hZGRDbGFzcygnby1nZW9sb2NhdGlvbi1idXR0b24tdHJ1ZScpO1xyXG4gICAgbWFwLmFkZE92ZXJsYXkobWFya2VyKTtcclxuXHJcbiAgICAvLyBMaXN0ZW4gdG8gcG9zaXRpb24gY2hhbmdlc1xyXG4gICAgZ2VvbG9jYXRpb24ub24oJ2NoYW5nZScsIHVwZGF0ZVBvc2l0aW9uKTtcclxuICAgIGdlb2xvY2F0aW9uLnNldFRyYWNraW5nKHRydWUpOyAvLyBTdGFydCBwb3NpdGlvbiB0cmFja2luZ1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlUG9zaXRpb24oKSB7XHJcbiAgYWRkUG9zaXRpb24oZ2V0UG9zaXRpb25WYWwoKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFBvc2l0aW9uVmFsKCkge1xyXG4gIHZhciBjdXJyZW50ID0ge307XHJcbiAgY3VycmVudC5wb3NpdGlvbiA9IGdlb2xvY2F0aW9uLmdldFBvc2l0aW9uKCk7XHJcbiAgY3VycmVudC5hY2N1cmFjeSA9IGdlb2xvY2F0aW9uLmdldEFjY3VyYWN5KCk7XHJcbiAgY3VycmVudC5oZWFkaW5nID0gZ2VvbG9jYXRpb24uZ2V0SGVhZGluZygpIHx8IDA7XHJcbiAgY3VycmVudC5zcGVlZCA9IGdlb2xvY2F0aW9uLmdldFNwZWVkKCkgfHwgMDtcclxuICBjdXJyZW50Lm0gPSBEYXRlLm5vdygpO1xyXG4gIHJldHVybiBjdXJyZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRQb3NpdGlvbihjdXJyZW50KSB7XHJcbiAgdmFyIHBvc2l0aW9uID0gY3VycmVudC5wb3NpdGlvbjtcclxuXHJcbiAgaWYgKGVuYWJsZWQgPT09IGZhbHNlICYmIGdlb2xvY2F0aW9uLmdldFRyYWNraW5nKCkpIHtcclxuICAgIG1hcmtlci5zZXRQb3NpdGlvbihwb3NpdGlvbik7XHJcbiAgICBtYXAuZ2V0VmlldygpLmFuaW1hdGUoe1xyXG4gICAgICBjZW50ZXI6IHBvc2l0aW9uLFxyXG4gICAgICB6b29tOiB6b29tTGV2ZWxcclxuICAgIH0pO1xyXG4gICAgZW5hYmxlZCA9IHRydWU7XHJcbiAgfSBlbHNlIGlmIChnZW9sb2NhdGlvbi5nZXRUcmFja2luZygpKSB7XHJcbiAgICBtYXJrZXIuc2V0UG9zaXRpb24ocG9zaXRpb24pO1xyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMuaW5pdCA9IGluaXQ7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgZmVhdHVyZWluZm90ZW1wbGF0ZXMgPSByZXF1aXJlKCcuL2ZlYXR1cmVpbmZvdGVtcGxhdGVzJyk7XHJcbnZhciByZXBsYWNlciA9IHJlcXVpcmUoJy4uL3NyYy91dGlscy9yZXBsYWNlcicpO1xyXG52YXIgZ2VvbSA9IHJlcXVpcmUoJy4vZ2VvbScpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmZWF0dXJlLCBsYXllcikge1xyXG4gICAgdmFyIGNvbnRlbnQgPSAnPGRpdj48dWw+JztcclxuICAgIHZhciBhdHRyaWJ1dGUsIGxpID0gJycsIHRpdGxlLCB2YWw7XHJcbiAgICAvL0lmIGxheWVyIGlzIGNvbmZpZ3VyZWQgd2l0aCBhdHRyaWJ1dGVzXHJcbiAgICBpZihsYXllci5nZXQoJ2F0dHJpYnV0ZXMnKSkge1xyXG4gICAgICAgICAgLy9JZiBhdHRyaWJ1dGVzIGlzIHN0cmluZyB0aGVuIHVzZSB0ZW1wbGF0ZSBuYW1lZCB3aXRoIHRoZSBzdHJpbmdcclxuICAgICAgICAgIGlmKHR5cGVvZiBsYXllci5nZXQoJ2F0dHJpYnV0ZXMnKSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAvL1VzZSBhdHRyaWJ1dGVzIHdpdGggdGhlIHRlbXBsYXRlXHJcbiAgICAgICAgICAgICAgbGkgPSBmZWF0dXJlaW5mb3RlbXBsYXRlcyhsYXllci5nZXQoJ2F0dHJpYnV0ZXMnKSxmZWF0dXJlLmdldFByb3BlcnRpZXMoKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICBmb3IodmFyIGk9MDsgaTxsYXllci5nZXQoJ2F0dHJpYnV0ZXMnKS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlID0gbGF5ZXIuZ2V0KCdhdHRyaWJ1dGVzJylbaV07XHJcbiAgICAgICAgICAgICAgICB0aXRsZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgdmFsID0gJyc7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlWyduYW1lJ10pIHtcclxuICAgICAgICAgICAgICAgICAgaWYoZmVhdHVyZS5nZXQoYXR0cmlidXRlWyduYW1lJ10pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBmZWF0dXJlLmdldChhdHRyaWJ1dGVbJ25hbWUnXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlWyd0aXRsZSddKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gJzxiPicgKyBhdHRyaWJ1dGVbJ3RpdGxlJ10gKyAnPC9iPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlWyd1cmwnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihmZWF0dXJlLmdldChhdHRyaWJ1dGVbJ3VybCddKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gY3JlYXRlVXJsKGF0dHJpYnV0ZVsndXJsUHJlZml4J10sIGF0dHJpYnV0ZVsndXJsU3VmZml4J10sIHJlcGxhY2VyLnJlcGxhY2UoZmVhdHVyZS5nZXQoYXR0cmlidXRlWyd1cmwnXSksIGZlYXR1cmUuZ2V0UHJvcGVydGllcygpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9ICc8YSBocmVmPVwiJyArIHVybCArICdcIiB0YXJnZXQ9XCJfYmxhbmtcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZS5nZXQoYXR0cmlidXRlWyduYW1lJ10pICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvYT4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGF0dHJpYnV0ZVsndXJsJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihmZWF0dXJlLmdldChhdHRyaWJ1dGVbJ3VybCddKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IGF0dHJpYnV0ZVsnaHRtbCddIHx8IGF0dHJpYnV0ZVsndXJsJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBjcmVhdGVVcmwoYXR0cmlidXRlWyd1cmxQcmVmaXgnXSwgYXR0cmlidXRlWyd1cmxTdWZmaXgnXSwgcmVwbGFjZXIucmVwbGFjZShmZWF0dXJlLmdldChhdHRyaWJ1dGVbJ3VybCddKSwgZmVhdHVyZS5nZXRQcm9wZXJ0aWVzKCkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gJzxhIGhyZWY9XCInICsgdXJsICsgJ1wiIHRhcmdldD1cIl9ibGFua1wiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvYT4nO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGF0dHJpYnV0ZVsnaW1nJ10pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihmZWF0dXJlLmdldChhdHRyaWJ1dGVbJ2ltZyddKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gY3JlYXRlVXJsKGF0dHJpYnV0ZVsndXJsUHJlZml4J10sIGF0dHJpYnV0ZVsndXJsU3VmZml4J10sIHJlcGxhY2VyLnJlcGxhY2UoZmVhdHVyZS5nZXQoYXR0cmlidXRlWydpbWcnXSksIGZlYXR1cmUuZ2V0UHJvcGVydGllcygpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGlvbiA9IGF0dHJpYnV0ZVsnYXR0cmlidXRpb24nXSA/ICc8ZGl2IGNsYXNzPVwiby1pbWFnZS1hdHRyaWJ1dGlvblwiPicgKyBhdHRyaWJ1dGVbJ2F0dHJpYnV0aW9uJ10gKyAnPC9kaXY+JyA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSAnPGRpdiBjbGFzcz1cIm8taW1hZ2UtY29udGFpbmVyXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGltZyBzcmM9XCInICsgdXJsICsgJ1wiPicgKyBhdHRyaWJ1dGlvbiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGF0dHJpYnV0ZVsnaHRtbCddKSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhbCA9IHJlcGxhY2VyLnJlcGxhY2UoYXR0cmlidXRlWydodG1sJ10sIGZlYXR1cmUuZ2V0UHJvcGVydGllcygpLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVscGVyOiBnZW9tLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlbHBlckFyZzogZmVhdHVyZS5nZXRHZW9tZXRyeSgpXHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBjbHMgPSAnIGNsYXNzPVwiJyArIGF0dHJpYnV0ZVsnY2xzJ10gKyAnXCIgJyB8fCAnJztcclxuXHJcbiAgICAgICAgICAgICAgICBsaSArPSAnPGxpJyArIGNscyArJz4nICsgdGl0bGUgKyB2YWwgKyAnPC9saT4nO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgLy9DbGVhbiBmZWF0dXJlIGF0dHJpYnV0ZXMgZnJvbSBub24td2FudGVkIHByb3BlcnRpZXNcclxuICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBmaWx0ZXJPYmplY3QoZmVhdHVyZS5nZXRQcm9wZXJ0aWVzKCksIFsnRklEXycsICdnZW9tZXRyeSddKTtcclxuICAgICAgLy9Vc2UgYXR0cmlidXRlcyB3aXRoIHRoZSB0ZW1wbGF0ZVxyXG4gICAgICBsaSA9IGZlYXR1cmVpbmZvdGVtcGxhdGVzKCdkZWZhdWx0JyxhdHRyaWJ1dGVzKTtcclxuICAgIH1cclxuICAgIGNvbnRlbnQgKz0gbGkgKyAnPC91bD48L2Rpdj4nO1xyXG4gICAgcmV0dXJuIGNvbnRlbnQ7XHJcbn1cclxuZnVuY3Rpb24gZmlsdGVyT2JqZWN0KG9iaiwgZXhjbHVkZWRLZXlzKSB7XHJcbiAgICB2YXIgcmVzdWx0ID0ge30sIGtleTtcclxuICAgIGZvciAoa2V5IGluIG9iaikge1xyXG4gICAgICAgIGlmKGV4Y2x1ZGVkS2V5cy5pbmRleE9mKGtleSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdFtrZXldID0gb2JqW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBjcmVhdGVVcmwocHJlZml4LCBzdWZmaXgsIHVybCkge1xyXG4gICAgdmFyIHAgPSBwcmVmaXggfHwgJyc7XHJcbiAgICB2YXIgcyA9IHN1ZmZpeCB8fCAnJztcclxuICAgIHJldHVybiBwICsgdXJsICsgcztcclxufVxyXG4iLCJ2YXIgb2wgPSByZXF1aXJlKCdvcGVubGF5ZXJzJyk7XHJcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XHJcbnZhciB2aWV3ZXIgPSByZXF1aXJlKCcuL3ZpZXdlcicpO1xyXG5cclxudmFyIHNvdXJjZVR5cGUgPSB7fTtcclxudmFyIHByb2plY3Rpb25Db2RlO1xyXG52YXIgc291cmNlO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpZCwgbGF5ZXIpIHtcclxuICAgIHByb2plY3Rpb25Db2RlID0gdmlld2VyLmdldFByb2plY3Rpb25Db2RlKCk7XHJcbiAgICBzb3VyY2UgPSB2aWV3ZXIuZ2V0TWFwU291cmNlKCk7XHJcbiAgICB2YXIgc2VydmVyVXJsID0gc291cmNlW2xheWVyLmdldCgnc291cmNlTmFtZScpXS51cmw7XHJcbiAgICB2YXIgdHlwZSA9IGxheWVyLmdldCgndHlwZScpO1xyXG4gICAgLy9yZXR1cm5zIGEgcHJvbWlzZSB3aXRoIGZlYXR1cmVzIGFzIHJlc3VsdFxyXG4gICAgcmV0dXJuIHNvdXJjZVR5cGVbdHlwZV0oaWQsIGxheWVyLCBzZXJ2ZXJVcmwpO1xyXG59XHJcblxyXG5zb3VyY2VUeXBlLkFHU19GRUFUVVJFID0gZnVuY3Rpb24gYWdzRmVhdHVyZShpZCwgbGF5ZXIsIHNlcnZlclVybCkge1xyXG4gIHZhciBlc3JpU3JzID0gcHJvamVjdGlvbkNvZGUuc3BsaXQoJzonKS5wb3AoKTtcclxuICB2YXIgbGF5ZXJJZCA9IGxheWVyLmdldCgnaWQnKTtcclxuICB2YXIgZXNyaWpzb25Gb3JtYXQgPSBuZXcgb2wuZm9ybWF0LkVzcmlKU09OKCk7XHJcblxyXG4gIHZhciB1cmwgPSBzZXJ2ZXJVcmwgKyAnLycgKyBsYXllcklkICtcclxuICAgICAgJy9xdWVyeT9mPWpzb24mJyArXHJcbiAgICAgICdyZXR1cm5HZW9tZXRyeT10cnVlJyArXHJcbiAgICAgICcmb2JqZWN0SWRzPScgKyBpZCArXHJcbiAgICAgICcmZ2VvbWV0cnlUeXBlPWVzcmlHZW9tZXRyeUVudmVsb3BlJytcclxuICAgICAgJyZpblNSPScgKyBlc3JpU3JzICtcclxuICAgICAgJyZvdXRGaWVsZHM9KicgK1xyXG4gICAgICAnJnJldHVybklkc09ubHk9ZmFsc2UnICtcclxuICAgICAgJyZyZXR1cm5Db3VudE9ubHk9ZmFsc2UnICtcclxuICAgICAgJyZnZW9tZXRyeVByZWNpc2lvbj0yJyArXHJcbiAgICAgICcmb3V0U1I9JyArIGVzcmlTcnM7XHJcblxyXG4gIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbnAnXHJcbiAgfSlcclxuICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgaWYocmVzcG9uc2UuZXJyb3IpIHtcclxuICAgICAgICAgICAgZmFpbChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBmZWF0dXJlcyA9IGVzcmlqc29uRm9ybWF0LnJlYWRGZWF0dXJlcyhyZXNwb25zZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGZlYXR1cmVQcm9qZWN0aW9uOiB2aWV3ZXIuZ2V0UHJvamVjdGlvbigpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gZmVhdHVyZXM7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgZmFpbFxyXG4gICAgKTtcclxufVxyXG5cclxuc291cmNlVHlwZS5XRlMgPSBmdW5jdGlvbihpZCwgbGF5ZXIsIHNlcnZlclVybCkge1xyXG4gIHZhciBnZW9tZXRyeU5hbWUgPSBsYXllci5nZXQoJ2dlb21ldHJ5TmFtZScpO1xyXG4gIHZhciBmb3JtYXQgPSBuZXcgb2wuZm9ybWF0Lkdlb0pTT04oe2dlb21ldHJ5TmFtZTogZ2VvbWV0cnlOYW1lfSk7XHJcbiAgdmFyIHVybCA9IHNlcnZlclVybCArJz8nO1xyXG4gIHZhciBkYXRhID0gJ3NlcnZpY2U9V0ZTJyArXHJcbiAgICAgICcmdmVyc2lvbj0xLjAuMCcgK1xyXG4gICAgICAnJnJlcXVlc3Q9R2V0RmVhdHVyZSZ0eXBlTmFtZT0nICsgbGF5ZXIuZ2V0KCduYW1lJykgK1xyXG4gICAgICAnJm91dHB1dEZvcm1hdD1qc29uJyArXHJcbiAgICAgICcmZmVhdHVyZUlkPScgKyBpZDtcclxuICByZXR1cm4gJC5hamF4KHtcclxuICAgIHVybDogdXJsLFxyXG4gICAgZGF0YTogZGF0YSxcclxuICAgIHR5cGU6ICdQT1NUJyxcclxuICAgIGRhdGFUeXBlOiAnanNvbidcclxuICB9KVxyXG4gICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICByZXR1cm4gZm9ybWF0LnJlYWRGZWF0dXJlcyhyZXNwb25zZSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZmFpbChyZXNwb25zZSkge1xyXG4gICAgaWYocmVzcG9uc2UuZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5lcnJvci5tZXNzYWdlICsgJ1xcbicgK1xyXG4gICAgICAgICAgICByZXNwb25zZS5lcnJvci5kZXRhaWxzLmpvaW4oJ1xcbicpKTtcclxuICAgIH1cclxufVxyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIG9sID0gcmVxdWlyZSgnb3BlbmxheWVycycpO1xyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG52YXIgVmlld2VyID0gcmVxdWlyZSgnLi92aWV3ZXInKTtcclxudmFyIG1hcHV0aWxzID0gcmVxdWlyZSgnLi9tYXB1dGlscycpO1xyXG52YXIgZ2V0QXR0cmlidXRlcyA9IHJlcXVpcmUoJy4vZ2V0YXR0cmlidXRlcycpO1xyXG52YXIgZmVhdHVyZUluZm8gPSByZXF1aXJlKCcuL2ZlYXR1cmVpbmZvJyk7XHJcblxyXG52YXIgbWFwO1xyXG5cclxuZnVuY3Rpb24gZ2V0RmVhdHVyZXNGcm9tUmVtb3RlKGV2dCkge1xyXG4gICAgICAgIG1hcCA9IFZpZXdlci5nZXRNYXAoKTtcclxuICAgICAgICB2YXIgcmVxdWVzdFJlc3VsdCA9IFtdO1xyXG4gICAgICAgIHZhciByZXF1ZXN0UHJvbWlzZXMgPSBnZXRGZWF0dXJlSW5mb1JlcXVlc3RzKGV2dCkubWFwKGZ1bmN0aW9uKHJlcXVlc3QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3QuZm4udGhlbihmdW5jdGlvbihmZWF0dXJlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXIgPSBWaWV3ZXIuZ2V0TGF5ZXIocmVxdWVzdC5sYXllcik7XHJcbiAgICAgICAgICAgICAgICBpZihmZWF0dXJlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdFJlc3VsdC5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGxheWVyLmdldCgndGl0bGUnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZTogZmVhdHVyZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogZ2V0QXR0cmlidXRlcyhmZWF0dXJlLCBsYXllcilcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdFJlc3VsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuICQud2hlbi5hcHBseSgkLCByZXF1ZXN0UHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdFJlc3VsdDtcclxuICAgICAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBnZXRGZWF0dXJlSW5mb1JlcXVlc3RzKGV2dCkge1xyXG4gICAgdmFyIHJlcXVlc3RzID0gW107XHJcbiAgICAvL0NoZWNrIGZvciBzdXBwb3J0IG9mIGNyb3NzT3JpZ2luIGluIGltYWdlLCBhYnNlbnQgaW4gSUUgOCBhbmQgOVxyXG4gICAgaWYoJ2Nyb3NzT3JpZ2luJyBpbiBuZXcoSW1hZ2UpKSB7XHJcbiAgICAgICAgbWFwLmZvckVhY2hMYXllckF0UGl4ZWwoZXZ0LnBpeGVsLCBmdW5jdGlvbihsYXllcikge1xyXG4gICAgICAgICAgICBpZiAobGF5ZXIuZ2V0KCdxdWVyeWFibGUnKSkge1xyXG4gICAgICAgICAgICAgIHZhciBpdGVtID0gZ2V0R2V0RmVhdHVyZUluZm9SZXF1ZXN0KGxheWVyLCBldnQuY29vcmRpbmF0ZSk7XHJcbiAgICAgICAgICAgICAgaWYoaXRlbSkge3JlcXVlc3RzLnB1c2goaXRlbSl9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvL0lmIGNhbnZhcyBpcyB0YWludGVkXHJcbiAgICBlbHNlIGlmKGlzVGFpbnRlZChldnQucGl4ZWwpKSB7XHJcbiAgICAgICAgdmFyIGxheWVycyA9IFZpZXdlci5nZXRRdWVyeWFibGVMYXllcnMoKTtcclxuICAgICAgICBsYXllcnMuZm9yRWFjaChmdW5jdGlvbihsYXllcikge1xyXG4gICAgICAgICAgICBpZiAobGF5ZXIuZ2V0KCdxdWVyeWFibGUnKSkge1xyXG5cclxuICAgICAgICAgICAgICAvL0lmIGxheWVyIGlzIHRhaW50ZWQsIHRoZW4gY3JlYXRlIHJlcXVlc3QgZm9yIGxheWVyXHJcbiAgICAgICAgICAgICAgaWYoaXNUYWludGVkKGV2dC5waXhlbCwgbGF5ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gZ2V0R2V0RmVhdHVyZUluZm9SZXF1ZXN0KGxheWVyLCBldnQuY29vcmRpbmF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgIGlmKGl0ZW0pIHtyZXF1ZXN0cy5wdXNoKGl0ZW0pfTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIC8vSWYgbGF5ZXIgaXMgbm90IHRhaW50ZWQsIHRlc3QgaWYgbGF5ZXIgaGl0IGF0IHBpeGVsXHJcbiAgICAgICAgICAgICAgZWxzZSBpZihsYXllckF0UGl4ZWwoZXZ0LnBpeGVsLCBsYXllcikpe1xyXG4gICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IGdldEdldEZlYXR1cmVJbmZvUmVxdWVzdChsYXllciwgZXZ0LmNvb3JkaW5hdGUpO1xyXG4gICAgICAgICAgICAgICAgICBpZihpdGVtKSB7cmVxdWVzdHMucHVzaChpdGVtKX07XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvL0lmIGNyb3NzT3JpZ2luIGlzIG5vdCBzdXBwb3J0ZWQgYW5kIGNhbnZhcyBub3QgdGFpbnRlZFxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgbWFwLmZvckVhY2hMYXllckF0UGl4ZWwoZXZ0LnBpeGVsLCBmdW5jdGlvbihsYXllcikge1xyXG4gICAgICAgICAgICBpZiAobGF5ZXIuZ2V0KCdxdWVyeWFibGUnKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgIHZhciBpdGVtID0gZ2V0R2V0RmVhdHVyZUluZm9SZXF1ZXN0KGxheWVyLCBldnQuY29vcmRpbmF0ZSk7XHJcbiAgICAgICAgICAgICAgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3RzLnB1c2goaXRlbSlcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVxdWVzdHM7XHJcbn1cclxuZnVuY3Rpb24gZ2V0R2V0RmVhdHVyZUluZm9SZXF1ZXN0KGxheWVyLCBjb29yZGluYXRlKSB7XHJcbiAgICB2YXIgbGF5ZXJUeXBlID0gbGF5ZXIuZ2V0KCd0eXBlJyksXHJcbiAgICBvYmogPSB7fTtcclxuICAgIG9iai5sYXllciA9IGxheWVyLmdldCgnbmFtZScpO1xyXG5cclxuICAgIHN3aXRjaCAobGF5ZXJUeXBlKSB7XHJcbiAgICAgIGNhc2UgJ1dNVFMnOlxyXG4gICAgICAgIGlmKGxheWVyLmdldCgnZmVhdHVyZWluZm9MYXllcicpKSB7XHJcbiAgICAgICAgICAgIHZhciBmZWF0dXJlaW5mb0xheWVyTmFtZSA9IGxheWVyLmdldCgnZmVhdHVyZWluZm9MYXllcicpLFxyXG4gICAgICAgICAgICBmZWF0dXJlaW5mb0xheWVyID0gVmlld2VyLmdldExheWVyKGZlYXR1cmVpbmZvTGF5ZXJOYW1lKTtcclxuICAgICAgICAgICAgcmV0dXJuIGdldEdldEZlYXR1cmVJbmZvUmVxdWVzdChmZWF0dXJlaW5mb0xheWVyLCBjb29yZGluYXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdXTVMnOlxyXG4gICAgICAgIGlmKGxheWVyLmdldCgnZmVhdHVyZWluZm9MYXllcicpKSB7XHJcbiAgICAgICAgICAgIHZhciBmZWF0dXJlaW5mb0xheWVyTmFtZSA9IGxheWVyLmdldCgnZmVhdHVyZWluZm9MYXllcicpLFxyXG4gICAgICAgICAgICBmZWF0dXJlaW5mb0xheWVyID0gVmlld2VyLmdldExheWVyKGZlYXR1cmVpbmZvTGF5ZXJOYW1lKTtcclxuICAgICAgICAgICAgcmV0dXJuIGdldEdldEZlYXR1cmVJbmZvUmVxdWVzdChmZWF0dXJlaW5mb0xheWVyLCBjb29yZGluYXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG9iai5jYiA9IFwiR0VPSlNPTlwiO1xyXG4gICAgICAgICAgICBvYmouZm4gPSBnZXRHZXRGZWF0dXJlSW5mb1VybChsYXllciwgY29vcmRpbmF0ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhc2UgJ0FHU19USUxFJzpcclxuICAgICAgICAgICAgaWYobGF5ZXIuZ2V0KCdmZWF0dXJlaW5mb0xheWVyJykpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmZWF0dXJlaW5mb0xheWVyTmFtZSA9IGxheWVyLmdldCgnZmVhdHVyZWluZm9MYXllcicpLFxyXG4gICAgICAgICAgICAgICAgZmVhdHVyZWluZm9MYXllciA9IFZpZXdlci5nZXRMYXllcihmZWF0dXJlaW5mb0xheWVyTmFtZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0R2V0RmVhdHVyZUluZm9SZXF1ZXN0KGZlYXR1cmVpbmZvTGF5ZXIsIGNvb3JkaW5hdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb2JqLmZuID0gZ2V0QUdTSWRlbnRpZnlVcmwobGF5ZXIsIGNvb3JkaW5hdGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iajtcclxuICAgICAgICAgICAgfVxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaXNUYWludGVkKHBpeGVsLCBsYXllckZpbHRlcikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBpZihsYXllckZpbHRlcikge1xyXG4gICAgICAgICAgICBtYXAuZm9yRWFjaExheWVyQXRQaXhlbChwaXhlbCwgZnVuY3Rpb24obGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsYXllckZpbHRlciA9PT0gbGF5ZXI7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgbWFwLmZvckVhY2hMYXllckF0UGl4ZWwocGl4ZWwsIGZ1bmN0aW9uKGxheWVyKSB7fSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGNhdGNoKGUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBsYXllckF0UGl4ZWwocGl4ZWwsIG1hdGNoTGF5ZXIpIHtcclxuICAgIG1hcC5mb3JFYWNoTGF5ZXJBdFBpeGVsKHBpeGVsLCBmdW5jdGlvbihsYXllcikge1xyXG4gICAgICAgIHJldHVybiBtYXRjaExheWVyID09PSBsYXllcjtcclxuICAgIH0pXHJcbn1cclxuZnVuY3Rpb24gZ2V0RmVhdHVyZXNBdFBpeGVsKGV2dCwgY2x1c3RlckZlYXR1cmVpbmZvTGV2ZWwpIHtcclxuICAgIG1hcCA9IFZpZXdlci5nZXRNYXAoKTtcclxuICAgIHZhciByZXN1bHQgPSBbXSxcclxuICAgIGNsdXN0ZXIgPSBmYWxzZTtcclxuICAgIG1hcC5mb3JFYWNoRmVhdHVyZUF0UGl4ZWwoZXZ0LnBpeGVsLFxyXG4gICAgICAgIGZ1bmN0aW9uKGZlYXR1cmUsIGxheWVyKSB7XHJcbiAgICAgICAgICB2YXIgbCA9IGxheWVyO1xyXG4gICAgICAgICAgdmFyIHF1ZXJ5YWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgaWYobGF5ZXIpIHtcclxuICAgICAgICAgICAgICBxdWVyeWFibGUgPSBsYXllci5nZXQoJ3F1ZXJ5YWJsZScpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYoZmVhdHVyZS5nZXQoJ2ZlYXR1cmVzJykpIHtcclxuICAgICAgICAgICAgICAvL0lmIGNsdXN0ZXJcclxuICAgICAgICAgICAgICB2YXIgY29sbGVjdGlvbiA9IGZlYXR1cmUuZ2V0KCdmZWF0dXJlcycpO1xyXG4gICAgICAgICAgICAgIGlmIChjb2xsZWN0aW9uLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHZhciB6b29tID0gbWFwLmdldFZpZXcoKS5nZXRab29tKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgem9vbUxpbWl0ID0gY2x1c3RlckZlYXR1cmVpbmZvTGV2ZWwgPT09IC0xID8gVmlld2VyLmdldFJlc29sdXRpb25zKCkubGVuZ3RoIDogem9vbSArIGNsdXN0ZXJGZWF0dXJlaW5mb0xldmVsO1xyXG4gICAgICAgICAgICAgICAgaWYoem9vbUxpbWl0IDwgVmlld2VyLmdldFJlc29sdXRpb25zKCkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLmdldFZpZXcoKS5zZXRDZW50ZXIoZXZ0LmNvb3JkaW5hdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcC5nZXRWaWV3KCkuc2V0Wm9vbSh6b29tICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2x1c3RlciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLmZvckVhY2goZnVuY3Rpb24oZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS50aXRsZSA9IGwuZ2V0KCd0aXRsZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZmVhdHVyZSA9IGY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jb250ZW50ID0gIGdldEF0dHJpYnV0ZXMoZixsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChpdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgZWxzZSBpZihjb2xsZWN0aW9uLmxlbmd0aCA9PSAxICYmIHF1ZXJ5YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICBpdGVtLnRpdGxlID0gbC5nZXQoJ3RpdGxlJyk7XHJcbiAgICAgICAgICAgICAgICAgIGl0ZW0uZmVhdHVyZSA9IGNvbGxlY3Rpb25bMF07XHJcbiAgICAgICAgICAgICAgICAgIGl0ZW0uY29udGVudCA9IGdldEF0dHJpYnV0ZXMoY29sbGVjdGlvblswXSxsKTtcclxuICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSBpZihxdWVyeWFibGUpIHtcclxuICAgICAgICAgICAgICB2YXIgaXRlbSA9IHt9O1xyXG4gICAgICAgICAgICAgIGl0ZW0udGl0bGUgPSBsLmdldCgndGl0bGUnKTtcclxuICAgICAgICAgICAgICBpdGVtLmZlYXR1cmUgPSBmZWF0dXJlO1xyXG4gICAgICAgICAgICAgIGl0ZW0uY29udGVudCA9IGdldEF0dHJpYnV0ZXMoZmVhdHVyZSxsKVxyXG4gICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaGl0VG9sZXJhbmNlOiBmZWF0dXJlSW5mby5nZXRIaXRUb2xlcmFuY2UoKVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIGlmKGNsdXN0ZXIpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGdldEdldEZlYXR1cmVJbmZvVXJsKGxheWVyLCBjb29yZGluYXRlKSB7XHJcbiAgICB2YXIgdXJsID0gbGF5ZXIuZ2V0U291cmNlKCkuZ2V0R2V0RmVhdHVyZUluZm9VcmwoXHJcbiAgICBjb29yZGluYXRlLCBtYXAuZ2V0VmlldygpLmdldFJlc29sdXRpb24oKSwgVmlld2VyLmdldFByb2plY3Rpb24oKSxcclxuICAgIHsnSU5GT19GT1JNQVQnOiAnYXBwbGljYXRpb24vanNvbid9KTtcclxuXHJcbiAgICByZXR1cm4gJC5hamF4KHVybCwge1xyXG4gICAgICB0eXBlOiAncG9zdCdcclxuICAgIH0pXHJcbiAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgIGlmKHJlc3BvbnNlLmVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXB1dGlscy5nZW9qc29uVG9GZWF0dXJlKHJlc3BvbnNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICApO1xyXG59XHJcbmZ1bmN0aW9uIGdldEFHU0lkZW50aWZ5VXJsKGxheWVyLCBjb29yZGluYXRlKSB7XHJcbiAgdmFyIHByb2plY3Rpb25Db2RlID0gVmlld2VyLmdldFByb2plY3Rpb25Db2RlKCk7XHJcbiAgdmFyIGVzcmlTcnMgPSBwcm9qZWN0aW9uQ29kZS5zcGxpdCgnOicpLnBvcCgpO1xyXG4gIHZhciBsYXllcklkID0gbGF5ZXIuZ2V0KCdpZCcpO1xyXG4gIHZhciBzb3VyY2UgPSBWaWV3ZXIuZ2V0TWFwU291cmNlKClbbGF5ZXIuZ2V0KCdzb3VyY2VOYW1lJyldO1xyXG4gIHZhciBzZXJ2ZXJVcmwgPSBzb3VyY2UudXJsO1xyXG4gIHZhciBlc3JpanNvbkZvcm1hdCA9IG5ldyBvbC5mb3JtYXQuRXNyaUpTT04oKTtcclxuICB2YXIgc2l6ZSA9IG1hcC5nZXRTaXplKCk7XHJcbiAgdmFyIHRvbGVyYW5jZSA9IHNvdXJjZS5oYXNPd25Qcm9wZXJ0eSgndG9sZXJhbmNlJykgPyBzb3VyY2UudG9sZXJhbmNlLnRvU3RyaW5nKCkgOiA1O1xyXG4gIHZhciBleHRlbnQgPSBtYXAuZ2V0VmlldygpLmNhbGN1bGF0ZUV4dGVudChzaXplKTtcclxuXHJcbiAgdmFyIHVybCA9IHNlcnZlclVybCArXHJcbiAgICAgICcvaWRlbnRpZnk/Zj1qc29uJicgK1xyXG4gICAgICAncmV0dXJuR2VvbWV0cnk9dHJ1ZScgK1xyXG4gICAgICAnJmdlb21ldHJ5VHlwZT1lc3JpR2VvbWV0cnlQb2ludCcrXHJcbiAgICAgICcmc3I9JyArIGVzcmlTcnMgK1xyXG4gICAgICAnJmdlb21ldHJ5PScgKyBjb29yZGluYXRlICtcclxuICAgICAgJyZvdXRGaWVsZHM9KicgK1xyXG4gICAgICAnJmdlb21ldHJ5UHJlY2lzaW9uPTInICtcclxuICAgICAgJyZ0b2xlcmFuY2U9JyArIHRvbGVyYW5jZSArXHJcbiAgICAgICcmbGF5ZXJzPWFsbDonICsgbGF5ZXJJZCArXHJcbiAgICAgICcmbWFwRXh0ZW50PScgKyBleHRlbnQgK1xyXG4gICAgICAnJmltYWdlRGlzcGxheT0nICsgc2l6ZSArICcsJyArICc5Nic7XHJcblxyXG4gIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbnAnXHJcbiAgfSlcclxuICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgaWYocmVzcG9uc2UuZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgICAgICAgICBvYmouZmVhdHVyZXMgPSByZXNwb25zZS5yZXN1bHRzO1xyXG4gICAgICAgICAgICB2YXIgZmVhdHVyZXMgPSBlc3JpanNvbkZvcm1hdC5yZWFkRmVhdHVyZXMob2JqLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZVByb2plY3Rpb246IFZpZXdlci5nZXRQcm9qZWN0aW9uKClcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmZWF0dXJlc1swXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICApO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5nZXRGZWF0dXJlc0Zyb21SZW1vdGUgPSBnZXRGZWF0dXJlc0Zyb21SZW1vdGU7XHJcbm1vZHVsZS5leHBvcnRzLmdldEZlYXR1cmVzQXRQaXhlbCA9IGdldEZlYXR1cmVzQXRQaXhlbDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgb2wgPSByZXF1aXJlKCdvcGVubGF5ZXJzJyk7XHJcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XHJcbnZhciBWaWV3ZXIgPSByZXF1aXJlKCcuL3ZpZXdlcicpO1xyXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XHJcblxyXG52YXIgbWFwO1xyXG52YXIgdG9vbHRpcDtcclxudmFyIGV4dGVudDtcclxuXHJcbmZ1bmN0aW9uIEluaXQob3B0X29wdGlvbnMpIHtcclxuICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xyXG4gIHZhciB0YXJnZXQgPSBvcHRpb25zLnRhcmdldCB8fCAnI28tdG9vbGJhci1uYXZpZ2F0aW9uJztcclxuICBtYXAgPSBWaWV3ZXIuZ2V0TWFwKCk7XHJcbiAgdG9vbHRpcCA9IG9wdGlvbnMudG9vbHRpcFRleHQgfHwgJ1pvb21hIHRpbGwgaGVsYSBrYXJ0YW4nO1xyXG4gIGV4dGVudCA9IG9wdGlvbnMuZXh0ZW50IHx8IG1hcC5nZXRWaWV3KCkuY2FsY3VsYXRlRXh0ZW50KG1hcC5nZXRTaXplKCkpO1xyXG4gIHJlbmRlcih0YXJnZXQpO1xyXG4gIGJpbmRVSUFjdGlvbnMoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyKHRhcmdldCkge1xyXG4gIHZhciBlbCA9IHV0aWxzLmNyZWF0ZUJ1dHRvbih7XHJcbiAgICBpZDogJ28taG9tZS1idXR0b24nLFxyXG4gICAgaWNvbkNsczogJ28taWNvbi1mYS1ob21lJyxcclxuICAgIHNyYzogJyNmYS1ob21lJyxcclxuICAgIHRvb2x0aXBUZXh0OiB0b29sdGlwXHJcbiAgfSk7XHJcbiAgJCh0YXJnZXQpLmFwcGVuZChlbCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJpbmRVSUFjdGlvbnMoKSB7XHJcbiAgJCgnI28taG9tZS1idXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICBtYXAuZ2V0VmlldygpLmZpdChleHRlbnQpO1xyXG4gICAgJCgnI28taG9tZS1idXR0b24gYnV0dG9uJykuYmx1cigpO1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5pbml0ID0gSW5pdDtcclxuIiwiLyoqXHJcbiAqIFN0YWJsZSBhcnJheSBpbmRpY2F0ZXMgbm9uc2hpZnRpbmcgcG9zaXRpb24gaSBkcmF3b3JkZXIuXHJcbiAqIFN0YXRpYyBvcmRlci5cclxuICogQHR5cGUge0FycmF5fVxyXG4gKi9cclxuZXhwb3J0cy5zdGFibGUgPSBbXTtcclxuLyoqXHJcbiAqIFNlbGVjdGVkIGxheWVycyBoYXMgYW4gaWQgYW5kIGlzIHN0b3JlZCBpbnNpZGUgYSBsaXN0LlxyXG4gKiBAdHlwZSB7QXJyYXl9XHJcbiAqL1xyXG5leHBvcnRzLmNvbGxlY3RlZCA9IFtdO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciBvbCA9IHJlcXVpcmUoJ29wZW5sYXllcnMnKTtcclxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxudmFyIHZpZXdlciA9IHJlcXVpcmUoJy4uL3ZpZXdlcicpO1xyXG52YXIgdmVjdG9yID0gcmVxdWlyZSgnLi92ZWN0b3InKTtcclxuXHJcbnZhciBhZ3NGZWF0dXJlID0gZnVuY3Rpb24gYWdzRmVhdHVyZShsYXllck9wdGlvbnMpIHtcclxuICB2YXIgYWdzRGVmYXVsdCA9IHtcclxuICAgIGxheWVyVHlwZTogJ3ZlY3RvcidcclxuICB9O1xyXG4gIHZhciBzb3VyY2VEZWZhdWx0ID0ge307XHJcbiAgdmFyIGFnc09wdGlvbnMgPSAkLmV4dGVuZChhZ3NEZWZhdWx0LCBsYXllck9wdGlvbnMpO1xyXG4gIHZhciBzb3VyY2VPcHRpb25zID0gJC5leHRlbmQoc291cmNlRGVmYXVsdCwgdmlld2VyLmdldE1hcFNvdXJjZSgpW2xheWVyT3B0aW9ucy5zb3VyY2VOYW1lXSk7XHJcbiAgc291cmNlT3B0aW9ucy5nZW9tZXRyeU5hbWUgPSBhZ3NPcHRpb25zLmdlb21ldHJ5TmFtZTtcclxuICBzb3VyY2VPcHRpb25zLmZpbHRlciA9IGFnc09wdGlvbnMuZmlsdGVyO1xyXG4gIHNvdXJjZU9wdGlvbnMuYXR0cmlidXRpb24gPSBhZ3NPcHRpb25zLmF0dHJpYnV0aW9uO1xyXG4gIHNvdXJjZU9wdGlvbnMucHJvamVjdGlvbkNvZGUgPSB2aWV3ZXIuZ2V0UHJvamVjdGlvbkNvZGUoKTtcclxuICBzb3VyY2VPcHRpb25zLmlkID0gYWdzT3B0aW9ucy5pZDtcclxuXHJcbiAgdmFyIGFnc1NvdXJjZSA9IGNyZWF0ZVNvdXJjZShzb3VyY2VPcHRpb25zKTtcclxuICByZXR1cm4gdmVjdG9yKGFnc09wdGlvbnMsIGFnc1NvdXJjZSk7XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZVNvdXJjZShvcHRpb25zKSB7XHJcbiAgICB2YXIgdmVjdG9yU291cmNlID0gbnVsbDtcclxuICAgIHZhciBlc3JpU3JzID0gb3B0aW9ucy5wcm9qZWN0aW9uQ29kZS5zcGxpdCgnOicpLnBvcCgpO1xyXG4gICAgdmFyIHF1ZXJ5RmlsdGVyID0gb3B0aW9ucy5maWx0ZXIgPyAnJndoZXJlPScgKyBvcHRpb25zLmZpbHRlciA6ICcnO1xyXG4gICAgdmFyIGVzcmlqc29uRm9ybWF0ID0gbmV3IG9sLmZvcm1hdC5Fc3JpSlNPTigpO1xyXG4gICAgdmVjdG9yU291cmNlID0gbmV3IG9sLnNvdXJjZS5WZWN0b3Ioe1xyXG4gICAgICBhdHRyaWJ1dGlvbnM6IG9wdGlvbnMuYXR0cmlidXRpb24sXHJcbiAgICAgIGxvYWRlcjogZnVuY3Rpb24oZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKSB7XHJcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG4gICAgICAgIHZhciB1cmwgPSBvcHRpb25zLnVybCArIG9wdGlvbnMuaWQgK1xyXG4gICAgICAgICAgZW5jb2RlVVJJKCcvcXVlcnk/Zj1qc29uJicgK1xyXG4gICAgICAgICAgICAncmV0dXJuR2VvbWV0cnk9dHJ1ZScgK1xyXG4gICAgICAgICAgICAnJnNwYXRpYWxSZWw9ZXNyaVNwYXRpYWxSZWxJbnRlcnNlY3RzJyArXHJcbiAgICAgICAgICAgICcmZ2VvbWV0cnk9JyArICd7XCJ4bWluXCI6JyArIGV4dGVudFswXSArICcsXCJ5bWluXCI6JyArXHJcbiAgICAgICAgICAgICAgZXh0ZW50WzFdICsgJyxcInhtYXhcIjonICsgZXh0ZW50WzJdICsgJyxcInltYXhcIjonICsgZXh0ZW50WzNdICtcclxuICAgICAgICAgICAgICAnLFwic3BhdGlhbFJlZmVyZW5jZVwiOntcIndraWRcIjonICsgZXNyaVNycyArICd9fScgK1xyXG4gICAgICAgICAgICAnJmdlb21ldHJ5VHlwZT1lc3JpR2VvbWV0cnlFbnZlbG9wZScgK1xyXG4gICAgICAgICAgICAnJmluU1I9JyArIGVzcmlTcnMgKyAnJm91dEZpZWxkcz0qJyArICcnICtcclxuICAgICAgICAgICAgJyZyZXR1cm5JZHNPbmx5PWZhbHNlJnJldHVybkNvdW50T25seT1mYWxzZScgK1xyXG4gICAgICAgICAgICAnJmdlb21ldHJ5UHJlY2lzaW9uPTInICtcclxuICAgICAgICAgICAgJyZvdXRTUj0nICsgZXNyaVNycyArIHF1ZXJ5RmlsdGVyKTtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgICBkYXRhVHlwZTogJ2pzb25wJyxcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvcikge1xyXG4gICAgICAgICAgICAgIGFsZXJ0KHJlc3BvbnNlLmVycm9yLm1lc3NhZ2UgKyAnXFxuJyArXHJcbiAgICAgICAgICAgICAgICByZXNwb25zZS5lcnJvci5kZXRhaWxzLmpvaW4oJ1xcbicpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gZGF0YVByb2plY3Rpb24gd2lsbCBiZSByZWFkIGZyb20gZG9jdW1lbnRcclxuICAgICAgICAgICAgICB2YXIgZmVhdHVyZXMgPSBlc3JpanNvbkZvcm1hdC5yZWFkRmVhdHVyZXMocmVzcG9uc2UsIHtcclxuICAgICAgICAgICAgICAgIGZlYXR1cmVQcm9qZWN0aW9uOiBwcm9qZWN0aW9uXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgaWYgKGZlYXR1cmVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoYXQuYWRkRmVhdHVyZXMoZmVhdHVyZXMpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgICBzdHJhdGVneTogb2wubG9hZGluZ3N0cmF0ZWd5LmJib3hcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHZlY3RvclNvdXJjZTtcclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gYWdzRmVhdHVyZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgb2wgPSByZXF1aXJlKCdvcGVubGF5ZXJzJyk7XHJcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XHJcbnZhciB2aWV3ZXIgPSByZXF1aXJlKCcuLi92aWV3ZXInKTtcclxudmFyIHRpbGUgPSByZXF1aXJlKCcuL3RpbGUnKTtcclxuXHJcbnZhciBhZ3NUaWxlID0gZnVuY3Rpb24gYWdzVGlsZShsYXllck9wdGlvbnMpIHtcclxuICB2YXIgYWdzRGVmYXVsdCA9IHtcclxuICAgIGxheWVyVHlwZTogJ3RpbGUnLFxyXG4gICAgZmVhdHVyZWluZm9MYXllcjogdW5kZWZpbmVkXHJcbiAgfTtcclxuICB2YXIgc291cmNlRGVmYXVsdCA9IHt9O1xyXG4gIHZhciBhZ3NPcHRpb25zID0gJC5leHRlbmQoYWdzRGVmYXVsdCwgbGF5ZXJPcHRpb25zKTtcclxuICB2YXIgc291cmNlT3B0aW9ucyA9ICQuZXh0ZW5kKHNvdXJjZURlZmF1bHQsIHZpZXdlci5nZXRNYXBTb3VyY2UoKVtsYXllck9wdGlvbnMuc291cmNlXSk7XHJcbiAgc291cmNlT3B0aW9ucy5hdHRyaWJ1dGlvbiA9IGFnc09wdGlvbnMuYXR0cmlidXRpb247XHJcbiAgc291cmNlT3B0aW9ucy5wcm9qZWN0aW9uID0gdmlld2VyLmdldFByb2plY3Rpb24oKTtcclxuICBzb3VyY2VPcHRpb25zLnBhcmFtcyA9IGFnc09wdGlvbnMucGFyYW1zIHx8IHt9O1xyXG4gIHNvdXJjZU9wdGlvbnMucGFyYW1zLmxheWVycyA9IFwic2hvdzpcIiArIGFnc09wdGlvbnMuaWQ7XHJcblxyXG4gIHZhciBhZ3NTb3VyY2UgPSBjcmVhdGVTb3VyY2Uoc291cmNlT3B0aW9ucyk7XHJcbiAgcmV0dXJuIHRpbGUoYWdzT3B0aW9ucywgYWdzU291cmNlKTtcclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlU291cmNlKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBuZXcgb2wuc291cmNlLlRpbGVBcmNHSVNSZXN0KHtcclxuICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9uLFxyXG4gICAgICBwcm9qZWN0aW9uOiBvcHRpb25zLnByb2plY3Rpb24sXHJcbiAgICAgIGNyb3NzT3JpZ2luOiAnYW5vbnltb3VzJyxcclxuICAgICAgcGFyYW1zOiBvcHRpb25zLnBhcmFtcyxcclxuICAgICAgdXJsOiBvcHRpb25zLnVybFxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGFnc1RpbGU7XHJcbiIsIi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBjcmVhdGVzIGEgZHluYW1pYyB0aWxlIHNvdXJjZSB0aGF0IHN1cHBvcnRzIEFyY0dJUyBSRVNUIHNlcnZpY2VzIHdpdGggZHluYW1pYyBsYXllcnMgZW5hYmxlZC5cclxuICogQHR5cGUge09iamVjdH0gRHluYW1pYyBBR1NfVElMRVxyXG4gKi9cclxuIFwidXNlIHN0cmljdFwiO1xyXG52YXIgb2wgICAgICAgICAgICAgICAgICAgPSByZXF1aXJlKCdvcGVubGF5ZXJzJyk7XHJcbnZhciAkICAgICAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG52YXIgdmlld2VyICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuLi92aWV3ZXInKTtcclxudmFyIHRpbGUgICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi90aWxlJyk7XHJcbi8qKlxyXG4gKiBbZHluQWdzVGlsZSBkZXNjcmlwdGlvbl1cclxuICogQHBhcmFtIHtPYmplY3R9IGxheWVyT3B0aW9ucyBhcmUgcGFzc2VkIGZyb20gdGhlIGNvbmZpZ3VyYXRpb24uXHJcbiAqIEByZXR1cm4ge09iamVjdH0gYSB0aWxlIGxheWVyIHdpdGggYSBjb25maWd1cmVkIGFncyB0aWxlIHNvdXJjZS4gVGhhdCBzdXBwb3J0IGR5bmFtaWMgbGF5ZXJzLlxyXG4gKi9cclxudmFyIGR5bkFnc1RpbGUgPSBmdW5jdGlvbiBkeW5BZ3NUaWxlKGxheWVyT3B0aW9ucykge1xyXG4gICAgdmFyIGFnc0RlZmF1bHQgICAgICAgICAgICA9IHsgbGF5ZXJUeXBlOiAndGlsZScsIGZlYXR1cmVpbmZvTGF5ZXI6IHVuZGVmaW5lZH07XHJcbiAgICB2YXIgc291cmNlRGVmYXVsdCAgICAgICAgID0ge307XHJcbiAgICB2YXIgYWdzT3B0aW9ucyAgICAgICAgICAgID0gJC5leHRlbmQoYWdzRGVmYXVsdCwgbGF5ZXJPcHRpb25zKTtcclxuICAgIHZhciBzb3VyY2VPcHRpb25zICAgICAgICAgPSAkLmV4dGVuZChzb3VyY2VEZWZhdWx0LCB2aWV3ZXIuZ2V0TWFwU291cmNlKClbbGF5ZXJPcHRpb25zLnNvdXJjZV0pO1xyXG5cclxuICAgIHNvdXJjZU9wdGlvbnMuYXR0cmlidXRpb24gPSBhZ3NPcHRpb25zLmF0dHJpYnV0aW9uO1xyXG4gICAgc291cmNlT3B0aW9ucy5wcm9qZWN0aW9uICA9IHZpZXdlci5nZXRQcm9qZWN0aW9uKCk7XHJcbiAgICBzb3VyY2VPcHRpb25zLnRpbGVTaXplICAgID0gYWdzT3B0aW9ucy50aWxlU2l6ZTtcclxuICAgIHZhciBlID0gdmlld2VyLmdldE1hcCgpLmdldFZpZXcoKS5jYWxjdWxhdGVFeHRlbnQodmlld2VyLmdldE1hcCgpLmdldFNpemUoKSk7XHJcbiAgICB2YXIgdyA9IG9sLmV4dGVudC5nZXRXaWR0aChlKTtcclxuICAgIHZhciBoID0gb2wuZXh0ZW50LmdldEhlaWdodChlKTtcclxuICAgIHNvdXJjZU9wdGlvbnMudGlsZVNpemVzICAgPSBbXHJcbiAgICAgIFt3LzAuNDggKiAoNTEyL3cpLCBoLzAuNDUgKiAoNTEyL2gpXSwgLy8gNCAwOTYgMDAwXHJcbiAgICAgIFt3LzAuNDggKiAoNTEyL3cpLCBoLzAuNDUgKiAoNTEyL2gpXSwgLy8gMiAwNDggMDAwXHJcbiAgICAgIFt3LzAuNDggKiAoNTEyL3cpLCBoLzAuNDUgKiAoNTEyL2gpXSwgLy8gMSAwMjQgMDAwXHJcbiAgICAgIFt3LzAuNDggKiAoNTEyL3cpLCBoLzAuNDUgKiAoNTEyL2gpXSwgLy8gNTEyIDAwMCBzdGFydFxyXG4gICAgICBbdy8wLjQ4ICogKDUxMi93KSwgaC8wLjQ1ICogKDUxMi9oKV0sIC8vIDI1NiAwMDBcclxuICAgICAgW3cvMC45OCAqICg1MTIvdyksIGgvMC45NSAqICg1MTIvaCldLCAvLyAxMjggMDAwXHJcbiAgICAgIFt3LzEuOTggKiAoNTEyL3cpLCBoLzEuOTUgKiAoNTEyL2gpXSwgLy8gNjQgMDAwXHJcbiAgICAgIFt3LzEuNDkgKiAoNTEyL3cpLCBoLzEuNDYgKiAoNTEyL2gpXSwgLy8gMzIgMDAwXHJcbiAgICAgIFt3LzEuNDkgKiAoNTEyL3cpLCBoLzEuNDYgKiAoNTEyL2gpXSwgLy8gMTYgMDAwXHJcbiAgICAgIFt3LzEuNDkgKiAoNTEyL3cpLCBoLzEuNDYgKiAoNTEyL2gpXSwgLy8gOCAwMDBcclxuICAgICAgW3cvMS40OSAqICg1MTIvdyksIGgvMS40NiAqICg1MTIvaCldLCAvLyA0IDAwMFxyXG4gICAgICBbdy8xLjQ5ICogKDUxMi93KSwgaC8xLjQ2ICogKDUxMi9oKV0sIC8vIDIgMDAwXHJcbiAgICAgIFt3LzEuNDkgKiAoNTEyL3cpLCBoLzEuNDYgKiAoNTEyL2gpXSwgLy8gMSAwMDBcclxuICAgICAgW3cvMS40OSAqICg1MTIvdyksIGgvMS40NiAqICg1MTIvaCldLCAvLyA1MDBcclxuICAgICAgW3cvMS40OSAqICg1MTIvdyksIGgvMS40NiAqICg1MTIvaCldICAvLyAyMDBcclxuICAgIF07XHJcbiAgICBzb3VyY2VPcHRpb25zLmV4dGVudCAgICAgICAgICA9IHZpZXdlci5nZXRFeHRlbnQoKTtcclxuICAgIHNvdXJjZU9wdGlvbnMuY2FsY3VsYXRlRXh0ZW50ID0gdmlld2VyLmdldE1hcCgpLmdldFZpZXcoKS5jYWxjdWxhdGVFeHRlbnQodmlld2VyLmdldE1hcCgpLmdldFNpemUoKSk7XHJcbiAgICBzb3VyY2VPcHRpb25zLnJlc29sdXRpb25zICAgICA9IHZpZXdlci5nZXRSZXNvbHV0aW9ucygpO1xyXG4gICAgc291cmNlT3B0aW9ucy5wYXJhbXMgICAgICAgICAgPSBjb2xsaWdhdGUoSlNPTi5wYXJzZShcIltcIiArIGFnc09wdGlvbnMuaWQgKyBcIl1cIikpO1xyXG4gICAgc291cmNlT3B0aW9ucy50aWxlR3JpZCAgICAgICAgPSBuZXcgb2wudGlsZWdyaWQuVGlsZUdyaWQoe1xyXG4gICAgICB0aWxlU2l6ZXM6IHNvdXJjZU9wdGlvbnMudGlsZVNpemVzLFxyXG4gICAgICBleHRlbnQ6IHNvdXJjZU9wdGlvbnMuY2FsY3VsYXRlRXh0ZW50LFxyXG4gICAgICByZXNvbHV0aW9uczogc291cmNlT3B0aW9ucy5yZXNvbHV0aW9uc1xyXG4gICAgfSk7XHJcbiAgICB2YXIgYWdzU291cmNlICAgICAgICAgICAgID0gY3JlYXRlU291cmNlKHNvdXJjZU9wdGlvbnMpO1xyXG4gIHJldHVybiB0aWxlKGFnc09wdGlvbnMsIGFnc1NvdXJjZSk7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBtZXRob2QgY3JlYXRlcyBhIGFyY2dpcyB0aWxlIHRoYXQgc3VwcG9ydHMgUkVTVCBhbmQgZHluYW1pYyBsYXllcnMuXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9ucyBmb3Igc291cmNlLlxyXG4gICAqIEByZXR1cm4ge09iamVjdH0gcmV0dXJuIGFuIHNvdXJjZSBUaWxlQXJjR0lTUmVzdCBvYmplY3RcclxuICAgKi9cclxuICBmdW5jdGlvbiBjcmVhdGVTb3VyY2Uob3B0aW9ucykge1xyXG4gICAgICB2YXIgc291cmNlID0gbmV3IG9sLnNvdXJjZS5UaWxlQXJjR0lTUmVzdCh7XHJcbiAgICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9uLFxyXG4gICAgICAgIHByb2plY3Rpb24gIDogb3B0aW9ucy5wcm9qZWN0aW9uLFxyXG4gICAgICAgIGNyb3NzT3JpZ2luIDogJ2Fub255bW91cycsXHJcbiAgICAgICAgcGFyYW1zICAgICAgOiBvcHRpb25zLnBhcmFtcyxcclxuICAgICAgICB1cmwgICAgICAgICA6IG9wdGlvbnMudXJsLFxyXG4gICAgICAgIHRpbGVHcmlkICAgIDogb3B0aW9ucy50aWxlR3JpZFxyXG4gICAgICB9KTtcclxuICAgIHJldHVybiBzb3VyY2U7XHJcbiAgfVxyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgSlNPTiBvYmplY3Qgd2l0aCBhIGR5bmFtaWMgbGF5ZXJzIGxpc3QuXHJcbiAqIEBwYXJhbSB7TnVtYmVyfSBpZHMgYSBsaXN0IG9mIGlkcy5cclxuICogQHJldHVybiB7T2JqZWN0fSBhbiBKU09OIG9iamVjdCB3aXRoIGR5bmFtaWNMYXllcnMgYXMgc3RyaW5nLlxyXG4gKi9cclxuZnVuY3Rpb24gY29sbGlnYXRlKGlkcyl7XHJcbiAgcmV0dXJuIHtcclxuICAgIFwiZHluYW1pY0xheWVyc1wiOiBwcm9kdWNlKGlkcyksXHJcbiAgICBcIkRQSVwiOiA5MFxyXG4gIH07XHJcbn07XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgbGlzdCBjb250YWluaW5nIGR5bmFtaWMgbGF5ZXJzLlxyXG4gKiBAcGFyYW0ge051bWJlcn0gaWRzIGEgbGlzdCBvZiBpZHMuXHJcbiAqIEByZXR1cm4ge1N0cmluZ30gYSBsaXN0IGFzIHN0cmluZyBvdmVyIGlkcy5cclxuICovXHJcbmZ1bmN0aW9uIHByb2R1Y2UoaWRzKXtcclxuICAgIHZhciByZXN1bHQgPSBcIlwiO1xyXG4gICAgZm9yKHZhciBkcmF3biBpbiBpZHMpe1xyXG4gICAgICByZXN1bHQgKz0gKGRyYXduID09IChpZHMubGVuZ3RoLTEpKSA/IHJlb3JkZXIoZHJhd24sIGlkc1tkcmF3bl0pIDogcmVvcmRlcihkcmF3biwgaWRzW2RyYXduXSkrJywnO1xyXG4gICAgfVxyXG4gIHJldHVybiBcIltcIityZXN1bHQrXCJdXCI7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBkeW5hbWljIGxheWVyIG9iamVjdC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IGRyYXduIHRoZSBuZXcgZHJhdyBwb3NpdGlvbi4gSW5kZXggMCBpcyB0aGUgdG9wIHBvc2l0aW9uLlxyXG4gKiBAcGFyYW0ge051bWJlcn0gaW5Vc2UgdGhlIGlkIG9mIHRoZSBsYXllciBpbiB0aGUgQXJjR0lTIFJFU1Qgc2VydmljZS5cclxuICogQHJldHVybiB7U3RyaW5nfSBhIGR5bmFtaWMgbGF5ZXIgb2JqZWN0LlxyXG4gKi9cclxuZnVuY3Rpb24gcmVvcmRlcihkcmF3biwgaW5Vc2Upe1xyXG4gIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XCJpZFwiOmRyYXduLCBzb3VyY2U6IHtcIm1hcExheWVySWRcIjogaW5Vc2V9fSk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZHluQWdzVGlsZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgb2wgPSByZXF1aXJlKCdvcGVubGF5ZXJzJyk7XHJcbnZhciB2ZWN0b3IgPSByZXF1aXJlKCcuL3ZlY3RvcicpO1xyXG5cclxudmFyIGZlYXR1cmVMYXllciA9IGZ1bmN0aW9uIGZlYXR1cmVMYXllcihsYXllck9wdGlvbnMpIHtcclxuICB2YXIgb3B0aW9ucyA9IGxheWVyT3B0aW9ucztcclxuICB2YXIgc291cmNlT3B0aW9ucyA9IHt9O1xyXG4gIHZhciB2ZWN0b3JTb3VyY2U7XHJcbiAgc291cmNlT3B0aW9ucy5hdHRyaWJ1dGlvbiA9IGxheWVyT3B0aW9ucy5hdHRyaWJ1dGlvbjtcclxuICBzb3VyY2VPcHRpb25zLmZlYXR1cmVzID0gbGF5ZXJPcHRpb25zLmZlYXR1cmVzO1xyXG5cclxuICB2ZWN0b3JTb3VyY2UgPSBjcmVhdGVTb3VyY2Uoc291cmNlT3B0aW9ucyk7XHJcbiAgcmV0dXJuIHZlY3RvcihvcHRpb25zLCB2ZWN0b3JTb3VyY2UpO1xyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVTb3VyY2Uob3B0aW9ucykge1xyXG4gICAgcmV0dXJuIG5ldyBvbC5zb3VyY2UuVmVjdG9yKHtcclxuICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9uLFxyXG4gICAgICBmZWF0dXJlczogb3B0aW9ucy5mZWF0dXJlc1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZlYXR1cmVMYXllcjtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgb2wgPSByZXF1aXJlKCdvcGVubGF5ZXJzJyk7XHJcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XHJcbnZhciB2aWV3ZXIgPSByZXF1aXJlKCcuLi92aWV3ZXInKTtcclxudmFyIHZlY3RvciA9IHJlcXVpcmUoJy4vdmVjdG9yJyk7XHJcbnZhciBpc1VybCA9IHJlcXVpcmUoJy4uL3V0aWxzL2lzdXJsJyk7XHJcblxyXG52YXIgZ2VvanNvbiA9IGZ1bmN0aW9uIGdlb2pzb24obGF5ZXJPcHRpb25zKSB7XHJcbiAgdmFyIGJhc2VVcmwgPSB2aWV3ZXIuZ2V0QmFzZVVybCgpO1xyXG4gIHZhciBnZW9qc29uRGVmYXVsdCA9IHtcclxuICAgIGxheWVyVHlwZTogJ3ZlY3RvcidcclxuICB9O1xyXG4gIHZhciBnZW9qc29uT3B0aW9ucyA9ICQuZXh0ZW5kKGdlb2pzb25EZWZhdWx0LCBsYXllck9wdGlvbnMpO1xyXG4gIHZhciBnZW9qc29uU291cmNlO1xyXG4gIHZhciBzb3VyY2VPcHRpb25zID0ge307XHJcbiAgc291cmNlT3B0aW9ucy5hdHRyaWJ1dGlvbiA9IGdlb2pzb25PcHRpb25zLmF0dHJpYnV0aW9uO1xyXG4gIHNvdXJjZU9wdGlvbnMucHJvamVjdGlvbkNvZGUgPSB2aWV3ZXIuZ2V0UHJvamVjdGlvbkNvZGUoKTtcclxuICBzb3VyY2VPcHRpb25zLnNvdXJjZU5hbWUgPSBsYXllck9wdGlvbnMuc291cmNlO1xyXG4gIGlmIChpc1VybChnZW9qc29uT3B0aW9ucy5zb3VyY2UpKSB7XHJcbiAgICBzb3VyY2VPcHRpb25zLnVybCA9IGdlb2pzb25PcHRpb25zLnNvdXJjZTtcclxuICB9IGVsc2Uge1xyXG4gICAgZ2VvanNvbk9wdGlvbnMuc291cmNlTmFtZSA9IGdlb2pzb25PcHRpb25zLnNvdXJjZTtcclxuICAgIHNvdXJjZU9wdGlvbnMudXJsID0gYmFzZVVybCArIGdlb2pzb25PcHRpb25zLnNvdXJjZTtcclxuICB9XHJcblxyXG4gIGdlb2pzb25Tb3VyY2UgPSBjcmVhdGVTb3VyY2Uoc291cmNlT3B0aW9ucyk7XHJcbiAgcmV0dXJuIHZlY3RvcihnZW9qc29uT3B0aW9ucywgZ2VvanNvblNvdXJjZSk7XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZVNvdXJjZShvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gbmV3IG9sLnNvdXJjZS5WZWN0b3Ioe1xyXG4gICAgICBhdHRyaWJ1dGlvbnM6IG9wdGlvbnMuYXR0cmlidXRpb24sXHJcbiAgICAgIHVybDogb3B0aW9ucy51cmwsXHJcbiAgICAgIGZvcm1hdDogbmV3IG9sLmZvcm1hdC5HZW9KU09OKClcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnZW9qc29uO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciBvbCA9IHJlcXVpcmUoJ29wZW5sYXllcnMnKTtcclxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxuXHJcbnZhciBncm91cCA9IGZ1bmN0aW9uIGdyb3VwKGxheWVyT3B0aW9ucykge1xyXG4gIHZhciBncm91cERlZmF1bHQgPSB7XHJcbiAgICBsYXllclR5cGU6ICdncm91cCcsXHJcbiAgICBzdHlsZU5hbWU6ICdkZWZhdWx0J1xyXG4gIH07XHJcbiAgdmFyIGdyb3VwT3B0aW9ucyA9ICQuZXh0ZW5kKGdyb3VwRGVmYXVsdCwgbGF5ZXJPcHRpb25zKTtcclxuICByZXR1cm4gbmV3IG9sLmxheWVyLkdyb3VwKGdyb3VwT3B0aW9ucyk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZ3JvdXA7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIG9sID0gcmVxdWlyZSgnb3BlbmxheWVycycpO1xyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG52YXIgdGlsZSA9IHJlcXVpcmUoJy4vdGlsZScpO1xyXG5cclxudmFyIG9zbSA9IGZ1bmN0aW9uIG9zbShsYXllck9wdGlvbnMpIHtcclxuICB2YXIgb3NtRGVmYXVsdCA9IHt9O1xyXG4gIHZhciBvc21PcHRpb25zID0gJC5leHRlbmQob3NtRGVmYXVsdCwgbGF5ZXJPcHRpb25zKTtcclxuXHJcbiAgdmFyIG9zbVNvdXJjZSA9IGNyZWF0ZVNvdXJjZSgpO1xyXG4gIHJldHVybiB0aWxlKG9zbU9wdGlvbnMsIG9zbVNvdXJjZSk7XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZVNvdXJjZSgpIHtcclxuICAgIHJldHVybiBuZXcgb2wuc291cmNlLk9TTSgpXHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG9zbTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgb2wgPSByZXF1aXJlKCdvcGVubGF5ZXJzJyk7XHJcbnZhciBwcm9ncmVzc0JhciA9IHJlcXVpcmUoJy4uL3Byb2dyZXNzQmFyJyk7XHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdGlsZShvcHRpb25zLCBzb3VyY2UpIHtcclxuICBvcHRpb25zLnNvdXJjZSA9IHNvdXJjZTtcclxuICB2YXIgcHJvZ3Jlc3MgPSBuZXcgcHJvZ3Jlc3NCYXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ28tcHJvZ3Jlc3MnKSk7XHJcblxyXG4gIHNvdXJjZS5vbigndGlsZWxvYWRzdGFydCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgcHJvZ3Jlc3MuYWRkTG9hZGluZygpO1xyXG4gIH0pO1xyXG4gIHNvdXJjZS5vbigndGlsZWxvYWRlbmQnLCBmdW5jdGlvbigpIHtcclxuICAgIHByb2dyZXNzLmFkZExvYWRlZCgpO1xyXG4gIH0pO1xyXG4gIHNvdXJjZS5vbigndGlsZWxvYWRlcnJvcicsIGZ1bmN0aW9uKCkge1xyXG4gICAgcHJvZ3Jlc3MuYWRkTG9hZGVkKCk7XHJcbiAgfSk7XHJcbiAgcmV0dXJuIG5ldyBvbC5sYXllci5UaWxlKG9wdGlvbnMpO1xyXG59XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIG9sID0gcmVxdWlyZSgnb3BlbmxheWVycycpO1xyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG52YXIgdmlld2VyID0gcmVxdWlyZSgnLi4vdmlld2VyJyk7XHJcbnZhciB2ZWN0b3IgPSByZXF1aXJlKCcuL3ZlY3RvcicpO1xyXG52YXIgaXNVcmwgPSByZXF1aXJlKCcuLi91dGlscy9pc3VybCcpO1xyXG5cclxudmFyIHRvcG9qc29uID0gZnVuY3Rpb24gdG9wb2pzb24obGF5ZXJPcHRpb25zKSB7XHJcbiAgdmFyIGJhc2VVcmwgPSB2aWV3ZXIuZ2V0QmFzZVVybCgpO1xyXG4gIHZhciB0b3BvanNvbkRlZmF1bHQgPSB7XHJcbiAgICBsYXllclR5cGU6ICd2ZWN0b3InXHJcbiAgfTtcclxuICB2YXIgdG9wb2pzb25PcHRpb25zID0gJC5leHRlbmQodG9wb2pzb25EZWZhdWx0LCBsYXllck9wdGlvbnMpO1xyXG4gIHZhciB0b3BvanNvblNvdXJjZTtcclxuICB2YXIgc291cmNlT3B0aW9ucyA9IHt9O1xyXG4gIHNvdXJjZU9wdGlvbnMuYXR0cmlidXRpb24gPSB0b3BvanNvbk9wdGlvbnMuYXR0cmlidXRpb247XHJcbiAgc291cmNlT3B0aW9ucy5wcm9qZWN0aW9uQ29kZSA9IHZpZXdlci5nZXRQcm9qZWN0aW9uQ29kZSgpO1xyXG4gIHNvdXJjZU9wdGlvbnMuc291cmNlTmFtZSA9IGxheWVyT3B0aW9ucy5zb3VyY2U7XHJcbiAgaWYgKGlzVXJsKHRvcG9qc29uT3B0aW9ucy5zb3VyY2UpKSB7XHJcbiAgICBzb3VyY2VPcHRpb25zLnVybCA9IHRvcG9qc29uT3B0aW9ucy5zb3VyY2U7XHJcbiAgfSBlbHNlIHtcclxuICAgIHRvcG9qc29uT3B0aW9ucy5zb3VyY2VOYW1lID0gdG9wb2pzb25PcHRpb25zLnNvdXJjZTtcclxuICAgIHNvdXJjZU9wdGlvbnMudXJsID0gYmFzZVVybCArIHRvcG9qc29uT3B0aW9ucy5zb3VyY2U7XHJcbiAgfVxyXG5cclxuICB0b3BvanNvblNvdXJjZSA9IGNyZWF0ZVNvdXJjZShzb3VyY2VPcHRpb25zKTtcclxuICByZXR1cm4gdmVjdG9yKHRvcG9qc29uT3B0aW9ucywgdG9wb2pzb25Tb3VyY2UpO1xyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVTb3VyY2Uob3B0aW9ucykge1xyXG4gICAgcmV0dXJuIG5ldyBvbC5zb3VyY2UuVmVjdG9yKHtcclxuICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9uLFxyXG4gICAgICB1cmw6IG9wdGlvbnMudXJsLFxyXG4gICAgICBmb3JtYXQ6IG5ldyBvbC5mb3JtYXQuVG9wb0pTT04oe1xyXG4gICAgICAgIGRlZmF1bHREYXRhUHJvamVjdGlvbjogb3B0aW9ucy5wcm9qZWN0aW9uQ29kZVxyXG4gICAgICB9KVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHRvcG9qc29uO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciBvbCA9IHJlcXVpcmUoJ29wZW5sYXllcnMnKTtcclxudmFyIHN0eWxlID0gcmVxdWlyZSgnLi4vc3R5bGUnKSgpO1xyXG52YXIgdmlld2VyID0gcmVxdWlyZSgnLi4vdmlld2VyJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHZlY3RvcihvcHRpb25zLCBzb3VyY2UpIHtcclxuICB2YXIgdmVjdG9yTGF5ZXI7XHJcbiAgc3dpdGNoIChvcHRpb25zLmxheWVyVHlwZSkge1xyXG4gICAgY2FzZSAndmVjdG9yJzpcclxuICAgICAgb3B0aW9ucy5zb3VyY2UgPSBzb3VyY2U7XHJcbiAgICAgIG9wdGlvbnMuc3R5bGUgPSBzdHlsZS5jcmVhdGVTdHlsZShvcHRpb25zLnN0eWxlKTtcclxuICAgICAgdmVjdG9yTGF5ZXIgPSBuZXcgb2wubGF5ZXIuVmVjdG9yKG9wdGlvbnMpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgJ2NsdXN0ZXInOlxyXG4gICAgICBvcHRpb25zLmNsdXN0ZXJPcHRpb25zID0gb3B0aW9ucy5jbHVzdGVyT3B0aW9ucyB8fCB7fTtcclxuICAgICAgaWYob3B0aW9ucy50eXBlID09PSAnV0ZTJyB8fCBvcHRpb25zLnR5cGUgPT09ICdBR1NfRkVBVFVSRScpe1xyXG4gICAgICAgIHNvdXJjZS5jbHVzdGVyT3B0aW9ucyA9IHZpZXdlci5nZXRNYXBTb3VyY2UoKVtvcHRpb25zLnNvdXJjZU5hbWVdLmNsdXN0ZXJPcHRpb25zIHx8IHt9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNvdXJjZS5jbHVzdGVyT3B0aW9ucyA9IHt9O1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBkaXN0YW5jZSA9IDYwO1xyXG4gICAgICB2YXIgY2x1c3RlckRpc3RhbmNlID0gb3B0aW9ucy5jbHVzdGVyT3B0aW9ucy5jbHVzdGVyRGlzdGFuY2UgfHwgc291cmNlLmNsdXN0ZXJPcHRpb25zLmNsdXN0ZXJEaXN0YW5jZSB8fCB2aWV3ZXIuZ2V0Q2x1c3Rlck9wdGlvbnMoKS5jbHVzdGVyRGlzdGFuY2UgfHwgZGlzdGFuY2U7XHJcbiAgICAgIHZhciBjbHVzdGVyTWF4Wm9vbSA9IG9wdGlvbnMuY2x1c3Rlck9wdGlvbnMuY2x1c3Rlck1heFpvb20gfHwgc291cmNlLmNsdXN0ZXJPcHRpb25zLmNsdXN0ZXJNYXhab29tIHx8IHZpZXdlci5nZXRDbHVzdGVyT3B0aW9ucygpLmNsdXN0ZXJNYXhab29tIHx8IHZpZXdlci5nZXRSZXNvbHV0aW9ucygpLmxlbmd0aC0xO1xyXG4gICAgICB2YXIgY2x1c3RlckluaXRpYWxEaXN0YW5jZSA9IHZpZXdlci5nZXRTZXR0aW5ncygpLnpvb20gPiBjbHVzdGVyTWF4Wm9vbSA/IDAgOiBjbHVzdGVyRGlzdGFuY2U7XHJcbiAgICAgIHZhciBtYXAgPSB2aWV3ZXIuZ2V0TWFwKCk7XHJcbiAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcclxuICAgICAgdmFyIG1heFpvb20gPSB2aWV3LmdldFJlc29sdXRpb25zKCkubGVuZ3RoLTE7XHJcbiAgICAgIG9wdGlvbnMuc291cmNlID0gbmV3IG9sLnNvdXJjZS5DbHVzdGVyKHtcclxuICAgICAgICBhdHRyaWJ1dGlvbnM6IG9wdGlvbnMuYXR0cmlidXRpb24sXHJcbiAgICAgICAgc291cmNlOiBzb3VyY2UsXHJcbiAgICAgICAgZGlzdGFuY2U6IGNsdXN0ZXJJbml0aWFsRGlzdGFuY2VcclxuICAgICAgfSk7XHJcbiAgICAgIG9wdGlvbnMuc291cmNlLnNldFByb3BlcnRpZXMoe1xyXG4gICAgICAgIGNsdXN0ZXJEaXN0YW5jZSA6IGNsdXN0ZXJEaXN0YW5jZSxcclxuICAgICAgICBjbHVzdGVyTWF4Wm9vbSA6IGNsdXN0ZXJNYXhab29tXHJcbiAgICAgIH0pO1xyXG4gICAgICBvcHRpb25zLnN0eWxlID0gc3R5bGUuY3JlYXRlU3R5bGUob3B0aW9ucy5zdHlsZSwgb3B0aW9ucy5jbHVzdGVyU3R5bGUpO1xyXG4gICAgICB2ZWN0b3JMYXllciA9IG5ldyBvbC5sYXllci5WZWN0b3Iob3B0aW9ucyk7XHJcbiAgICAgIG1hcC5vbignbW92ZXN0YXJ0Jywgb25Nb3ZlU3RhcnQpO1xyXG5cclxuICAgICAgZnVuY3Rpb24gb25Nb3ZlU3RhcnQoZXZ0KSB7XHJcbiAgICAgICAgdmFyIG1hcFpvb20gPSB2aWV3LmdldFpvb21Gb3JSZXNvbHV0aW9uKGV2dC5mcmFtZVN0YXRlLnZpZXdTdGF0ZS5yZXNvbHV0aW9uKTtcclxuICAgICAgICB2YXIgY2x1c3RlckRpc3RhbmNlID0gb3B0aW9ucy5zb3VyY2UuZ2V0UHJvcGVydGllcygpLmNsdXN0ZXJEaXN0YW5jZSB8fCBkaXN0YW5jZTtcclxuICAgICAgICB2YXIgY2x1c3Rlck1heFpvb20gPSBvcHRpb25zLnNvdXJjZS5nZXRQcm9wZXJ0aWVzKCkuY2x1c3Rlck1heFpvb20gfHwgbWF4Wm9vbTtcclxuICAgICAgICBtYXAub25jZSgnbW92ZWVuZCcsIGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgICAgdmFyIGN1cnJlbnRab29tID0gcGFyc2VJbnQodmlldy5nZXRab29tKCksIDEwKTtcclxuICAgICAgICAgIGlmIChjdXJyZW50Wm9vbSAhPT0gbWFwWm9vbSkge1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudFpvb20gPj0gY2x1c3Rlck1heFpvb20pIHtcclxuICAgICAgICAgICAgICBvcHRpb25zLnNvdXJjZS5zZXREaXN0YW5jZSgwKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50Wm9vbSA8IGNsdXN0ZXJNYXhab29tKSB7XHJcbiAgICAgICAgICAgICAgb3B0aW9ucy5zb3VyY2Uuc2V0RGlzdGFuY2UoY2x1c3RlckRpc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdpbWFnZSc6XHJcbiAgICAgIG9wdGlvbnMuc291cmNlID0gbmV3IG9sLnNvdXJjZS5JbWFnZVZlY3Rvcih7XHJcbiAgICAgICAgc291cmNlOiBzb3VyY2UsXHJcbiAgICAgICAgc3R5bGU6IHN0eWxlLmNyZWF0ZVN0eWxlKG9wdGlvbnMuc3R5bGUpXHJcbiAgICAgIH0pO1xyXG4gICAgICB2ZWN0b3JMYXllciA9IG5ldyBvbC5sYXllci5JbWFnZShvcHRpb25zKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICd2ZWN0b3J0aWxlJzpcclxuICAgICAgb3B0aW9ucy5zb3VyY2UgPSBzb3VyY2U7XHJcbiAgICAgIG9wdGlvbnMuc3R5bGUgPSBzdHlsZS5jcmVhdGVTdHlsZShvcHRpb25zLnN0eWxlKTtcclxuICAgICAgdmVjdG9yTGF5ZXIgPSBuZXcgb2wubGF5ZXIuVmVjdG9yVGlsZShvcHRpb25zKTtcclxuICAgICAgYnJlYWs7XHJcbiAgfVxyXG4gIHJldHVybiB2ZWN0b3JMYXllcjtcclxufVxyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciBvbCA9IHJlcXVpcmUoJ29wZW5sYXllcnMnKTtcclxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxudmFyIHZpZXdlciA9IHJlcXVpcmUoJy4uL3ZpZXdlcicpO1xyXG52YXIgdmVjdG9yID0gcmVxdWlyZSgnLi92ZWN0b3InKTtcclxudmFyIG1hcHV0aWxzID0gcmVxdWlyZSgnLi4vbWFwdXRpbHMnKTtcclxuXHJcbnZhciB2ZWN0b3J0aWxlID0gZnVuY3Rpb24gdmVjdG9ydGlsZShsYXllck9wdGlvbnMpIHtcclxuICB2YXIgdmVjdG9ydGlsZURlZmF1bHQgPSB7XHJcbiAgICBsYXllclR5cGU6ICd2ZWN0b3J0aWxlJyxcclxuICAgIGZlYXR1cmVpbmZvTGF5ZXI6IHVuZGVmaW5lZFxyXG4gIH07XHJcbiAgdmFyIHNvdXJjZURlZmF1bHQgPSB7fTtcclxuICB2YXIgdmVjdG9ydGlsZU9wdGlvbnMgPSAkLmV4dGVuZCh2ZWN0b3J0aWxlRGVmYXVsdCwgbGF5ZXJPcHRpb25zKTtcclxuICB2ZWN0b3J0aWxlT3B0aW9ucy5zb3VyY2VOYW1lID0gdmVjdG9ydGlsZU9wdGlvbnMubmFtZTtcclxuICB2YXIgc291cmNlT3B0aW9ucyA9ICQuZXh0ZW5kKHNvdXJjZURlZmF1bHQsIHZpZXdlci5nZXRNYXBTb3VyY2UoKVtsYXllck9wdGlvbnMuc291cmNlXSk7XHJcbiAgc291cmNlT3B0aW9ucy5hdHRyaWJ1dGlvbnMgPSB2ZWN0b3J0aWxlT3B0aW9ucy5hdHRyaWJ1dGlvbjtcclxuICBzb3VyY2VPcHRpb25zLnByb2plY3Rpb24gPSB2aWV3ZXIuZ2V0UHJvamVjdGlvbkNvZGUoKSB8fCAnRVBTRzozODU3JztcclxuICBpZihzb3VyY2VPcHRpb25zLnRpbGVHcmlkKXtcclxuICAgIHNvdXJjZU9wdGlvbnMudGlsZUdyaWQgPSBtYXB1dGlscy50aWxlR3JpZChzb3VyY2VPcHRpb25zLnRpbGVHcmlkKTtcclxuICB9IGVsc2Uge1xyXG4gICAgc291cmNlT3B0aW9ucy50aWxlR3JpZCA9IHZpZXdlci5nZXRUaWxlR3JpZCgpO1xyXG4gIH1cclxuICBcclxuICB2YXIgdmVjdG9ydGlsZVNvdXJjZSA9IGNyZWF0ZVNvdXJjZShzb3VyY2VPcHRpb25zLCB2ZWN0b3J0aWxlT3B0aW9ucyk7XHJcbiAgcmV0dXJuIHZlY3Rvcih2ZWN0b3J0aWxlT3B0aW9ucywgdmVjdG9ydGlsZVNvdXJjZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVNvdXJjZShvcHRpb25zLCB2ZWN0b3J0aWxlT3B0aW9ucykge1xyXG4gIHZhciBmb3JtYXQ7XHJcbiAgc3dpdGNoKHZlY3RvcnRpbGVPcHRpb25zLmZvcm1hdCkge1xyXG4gICAgY2FzZSAndG9wb2pzb24nOlxyXG4gICAgZm9ybWF0ID0gbmV3IG9sLmZvcm1hdC5Ub3BvSlNPTigpO1xyXG4gICAgYnJlYWs7XHJcbiAgICBjYXNlICdnZW9qc29uJzpcclxuICAgIGZvcm1hdCA9IG5ldyBvbC5mb3JtYXQuR2VvSlNPTigpO1xyXG4gICAgYnJlYWs7XHJcbiAgICBjYXNlICdwYmYnOlxyXG4gICAgZm9ybWF0ID0gbmV3IG9sLmZvcm1hdC5NVlQoKTtcclxuICAgIGJyZWFrO1xyXG4gIH1cclxuICBpZih2ZWN0b3J0aWxlT3B0aW9ucy5sYXllclVSTCl7XHJcbiAgICBvcHRpb25zLnVybCArPSB2ZWN0b3J0aWxlT3B0aW9ucy5sYXllclVSTDtcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICBvcHRpb25zLnVybCArPSB2ZWN0b3J0aWxlT3B0aW9ucy5sYXllck5hbWUgKyAnQCcgICsgdmVjdG9ydGlsZU9wdGlvbnMuZ3JpZHNldCArICdAJyArIHZlY3RvcnRpbGVPcHRpb25zLmZvcm1hdCArICcve3p9L3t4fS97LXl9LicrIHZlY3RvcnRpbGVPcHRpb25zLmZvcm1hdDtcclxuICB9XHJcbiAgb3B0aW9ucy5mb3JtYXQgPSBmb3JtYXQ7XHJcbiAgcmV0dXJuIG5ldyBvbC5zb3VyY2UuVmVjdG9yVGlsZShvcHRpb25zKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB2ZWN0b3J0aWxlOyIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgb2wgPSByZXF1aXJlKCdvcGVubGF5ZXJzJyk7XHJcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XHJcbnZhciB2aWV3ZXIgPSByZXF1aXJlKCcuLi92aWV3ZXInKTtcclxudmFyIHZlY3RvciA9IHJlcXVpcmUoJy4vdmVjdG9yJyk7XHJcblxyXG52YXIgd2ZzID0gZnVuY3Rpb24gd2ZzKGxheWVyT3B0aW9ucykge1xyXG4gIHZhciB3ZnNEZWZhdWx0ID0ge1xyXG4gICAgbGF5ZXJUeXBlOiAndmVjdG9yJ1xyXG4gIH07XHJcbiAgdmFyIHNvdXJjZURlZmF1bHQgPSB7fTtcclxuICB2YXIgd2ZzT3B0aW9ucyA9ICQuZXh0ZW5kKHdmc0RlZmF1bHQsIGxheWVyT3B0aW9ucyk7XHJcbiAgdmFyIHNvdXJjZU9wdGlvbnMgPSAkLmV4dGVuZChzb3VyY2VEZWZhdWx0LCB2aWV3ZXIuZ2V0TWFwU291cmNlKClbbGF5ZXJPcHRpb25zLnNvdXJjZU5hbWVdKTtcclxuICB3ZnNPcHRpb25zLmZlYXR1cmVUeXBlID0gc291cmNlT3B0aW9ucy5mZWF0dXJlVHlwZSA9IHdmc09wdGlvbnMuaWQ7XHJcbiAgc291cmNlT3B0aW9ucy5nZW9tZXRyeU5hbWUgPSB3ZnNPcHRpb25zLmdlb21ldHJ5TmFtZTtcclxuICBzb3VyY2VPcHRpb25zLmZpbHRlciA9IHdmc09wdGlvbnMuZmlsdGVyO1xyXG4gIHNvdXJjZU9wdGlvbnMuYXR0cmlidXRpb24gPSB3ZnNPcHRpb25zLmF0dHJpYnV0aW9uO1xyXG4gIHNvdXJjZU9wdGlvbnMucmVzb2x1dGlvbnMgPSB2aWV3ZXIuZ2V0UmVzb2x1dGlvbnMoKTtcclxuICBzb3VyY2VPcHRpb25zLnByb2plY3Rpb25Db2RlID0gdmlld2VyLmdldFByb2plY3Rpb25Db2RlKCk7XHJcblxyXG4gIHNvdXJjZU9wdGlvbnMuc3RyYXRlZ3kgPSBsYXllck9wdGlvbnMuc3RyYXRlZ3kgPyBsYXllck9wdGlvbnMuc3RyYXRlZ3kgOiBzb3VyY2VPcHRpb25zLnN0cmF0ZWd5O1xyXG4gIHN3aXRjaCAoc291cmNlT3B0aW9ucy5zdHJhdGVneSkge1xyXG4gICAgY2FzZSAnYWxsJzpcclxuICAgICAgc291cmNlT3B0aW9ucy5sb2FkaW5nc3RyYXRlZ3kgPSBvbC5sb2FkaW5nc3RyYXRlZ3kuYWxsO1xyXG4gICAgYnJlYWs7XHJcbiAgICBjYXNlICd0aWxlJzpcclxuICAgIHNvdXJjZU9wdGlvbnMubG9hZGluZ3N0cmF0ZWd5ID0gb2wubG9hZGluZ3N0cmF0ZWd5LnRpbGUob2wudGlsZWdyaWQuY3JlYXRlWFlaKHtcclxuICAgICAgICBtYXhab29tOiBzb3VyY2VPcHRpb25zLnJlc29sdXRpb25zLmxlbmd0aFxyXG4gICAgICB9KSk7XHJcbiAgICBicmVhaztcclxuICAgIGRlZmF1bHQ6XHJcbiAgICBzb3VyY2VPcHRpb25zLmxvYWRpbmdzdHJhdGVneSA9IG9sLmxvYWRpbmdzdHJhdGVneS5iYm94O1xyXG4gICAgYnJlYWs7XHJcbiAgfVxyXG4gIHZhciB3ZnNTb3VyY2UgPSBjcmVhdGVTb3VyY2Uoc291cmNlT3B0aW9ucyk7XHJcbiAgcmV0dXJuIHZlY3Rvcih3ZnNPcHRpb25zLCB3ZnNTb3VyY2UpO1xyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVTb3VyY2Uob3B0aW9ucykge1xyXG4gICAgdmFyIHZlY3RvclNvdXJjZSA9IG51bGw7XHJcbiAgICB2YXIgc2VydmVyVXJsID0gb3B0aW9ucy51cmw7XHJcbiAgICB2YXIgcXVlcnlGaWx0ZXI7XHJcblxyXG4gICAgLy9JZiBjcWwgZmlsdGVyIHRoZW4gYmJveCBtdXN0IGJlIHVzZWQgaW4gdGhlIGZpbHRlci5cclxuICAgIGlmKG9wdGlvbnMuc3RyYXRlZ3kgPT09ICdhbGwnKXtcclxuICAgICAgcXVlcnlGaWx0ZXIgPSBvcHRpb25zLmZpbHRlciA/ICcmQ1FMX0ZJTFRFUj0nICsgb3B0aW9ucy5maWx0ZXIgOiAnJztcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgIHF1ZXJ5RmlsdGVyID0gb3B0aW9ucy5maWx0ZXIgPyAnJkNRTF9GSUxURVI9JyArIG9wdGlvbnMuZmlsdGVyICsgJyBBTkQgQkJPWCgnICsgb3B0aW9ucy5nZW9tZXRyeU5hbWUgKyAnLCcgOiAnJkJCT1g9JztcclxuICAgIH1cclxuICAgIHZhciBiYm94UHJvamVjdGlvbkNvZGUgPSBvcHRpb25zLmZpbHRlciA/IFwiJ1wiICsgb3B0aW9ucy5wcm9qZWN0aW9uQ29kZSArIFwiJylcIiA6IG9wdGlvbnMucHJvamVjdGlvbkNvZGU7XHJcbiAgICB2ZWN0b3JTb3VyY2UgPSBuZXcgb2wuc291cmNlLlZlY3Rvcih7XHJcbiAgICAgIGF0dHJpYnV0aW9uczogb3B0aW9ucy5hdHRyaWJ1dGlvbixcclxuICAgICAgZm9ybWF0OiBuZXcgb2wuZm9ybWF0Lkdlb0pTT04oe1xyXG4gICAgICAgIGdlb21ldHJ5TmFtZTogb3B0aW9ucy5nZW9tZXRyeU5hbWVcclxuICAgICAgfSksXHJcbiAgICAgIGxvYWRlcjogZnVuY3Rpb24oZXh0ZW50LCByZXNvbHV0aW9uLCBwcm9qZWN0aW9uKSB7XHJcbiAgICAgICAgdmFyIHVybCA9IHNlcnZlclVybCArXHJcbiAgICAgICAgICAnP3NlcnZpY2U9V0ZTJicgK1xyXG4gICAgICAgICAgJ3ZlcnNpb249MS4xLjAmcmVxdWVzdD1HZXRGZWF0dXJlJnR5cGVOYW1lPScgKyBvcHRpb25zLmZlYXR1cmVUeXBlICtcclxuICAgICAgICAgICcmb3V0cHV0Rm9ybWF0PWFwcGxpY2F0aW9uL2pzb24nICtcclxuICAgICAgICAgICcmc3JzbmFtZT0nICsgb3B0aW9ucy5wcm9qZWN0aW9uQ29kZTtcclxuICAgICAgICB1cmwgKz0gb3B0aW9ucy5zdHJhdGVneSA9PT0gJ2FsbCcgPyBxdWVyeUZpbHRlciA6IHF1ZXJ5RmlsdGVyICsgZXh0ZW50LmpvaW4oJywnKSArICcsJyArIGJib3hQcm9qZWN0aW9uQ29kZTtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgICAgY2FjaGU6IGZhbHNlXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmRvbmUoZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgdmVjdG9yU291cmNlLmFkZEZlYXR1cmVzKHZlY3RvclNvdXJjZS5nZXRGb3JtYXQoKS5yZWFkRmVhdHVyZXMocmVzcG9uc2UpKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgICBzdHJhdGVneTogb3B0aW9ucy5sb2FkaW5nc3RyYXRlZ3lcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHZlY3RvclNvdXJjZTtcclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gd2ZzO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciBvbCA9IHJlcXVpcmUoJ29wZW5sYXllcnMnKTtcclxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxudmFyIHZpZXdlciA9IHJlcXVpcmUoJy4uL3ZpZXdlcicpO1xyXG52YXIgdGlsZSA9IHJlcXVpcmUoJy4vdGlsZScpO1xyXG5cclxudmFyIHdtcyA9IGZ1bmN0aW9uIHdtcyhsYXllck9wdGlvbnMpIHtcclxuICB2YXIgd21zRGVmYXVsdCA9IHtcclxuICAgIGxheWVyVHlwZTogJ3RpbGUnLFxyXG4gICAgZmVhdHVyZWluZm9MYXllcjogdW5kZWZpbmVkXHJcbiAgfTtcclxuICB2YXIgc291cmNlRGVmYXVsdCA9IHtcclxuICAgIHZlcnNpb246ICcxLjEuMScsXHJcbiAgICBndXR0ZXI6IDAsXHJcbiAgICBmb3JtYXQ6ICdpbWFnZS9wbmcnXHJcbiAgfTtcclxuICB2YXIgd21zT3B0aW9ucyA9ICQuZXh0ZW5kKHdtc0RlZmF1bHQsIGxheWVyT3B0aW9ucyk7XHJcbiAgd21zT3B0aW9ucy5uYW1lLnNwbGl0KCc6JykucG9wKCk7XHJcbiAgdmFyIHNvdXJjZU9wdGlvbnMgPSAkLmV4dGVuZChzb3VyY2VEZWZhdWx0LCB2aWV3ZXIuZ2V0TWFwU291cmNlKClbbGF5ZXJPcHRpb25zLnNvdXJjZV0pO1xyXG4gIHNvdXJjZU9wdGlvbnMuYXR0cmlidXRpb24gPSB3bXNPcHRpb25zLmF0dHJpYnV0aW9uO1xyXG4gIHNvdXJjZU9wdGlvbnMucHJvamVjdGlvbkNvZGUgPSB2aWV3ZXIuZ2V0UHJvamVjdGlvbkNvZGUoKTtcclxuICBzb3VyY2VPcHRpb25zLmlkID0gd21zT3B0aW9ucy5pZDtcclxuICBzb3VyY2VPcHRpb25zLnRpbGVHcmlkID0gdmlld2VyLmdldFRpbGVHcmlkKCk7XHJcbiAgc291cmNlT3B0aW9ucy5mb3JtYXQgPSB3bXNPcHRpb25zLmZvcm1hdCA/IHdtc09wdGlvbnMuZm9ybWF0IDogc291cmNlT3B0aW9ucy5mb3JtYXQ7XHJcblxyXG4gIHZhciB3bXNTb3VyY2UgPSBjcmVhdGVTb3VyY2Uoc291cmNlT3B0aW9ucyk7XHJcbiAgcmV0dXJuIHRpbGUod21zT3B0aW9ucywgd21zU291cmNlKTtcclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlU291cmNlKG9wdGlvbnMpIHtcclxuICAgIHJldHVybiBuZXcgb2wuc291cmNlLlRpbGVXTVMoKHtcclxuICAgICAgYXR0cmlidXRpb25zOiBvcHRpb25zLmF0dHJpYnV0aW9uLFxyXG4gICAgICB1cmw6IG9wdGlvbnMudXJsLFxyXG4gICAgICBndXR0ZXI6IG9wdGlvbnMuZ3V0dGVyLFxyXG4gICAgICBjcm9zc09yaWdpbjogJ2Fub255bW91cycsXHJcbiAgICAgIHByb2plY3Rpb246IG9wdGlvbnMucHJvamVjdGlvbkNvZGUsXHJcbiAgICAgIHRpbGVHcmlkOiBvcHRpb25zLnRpbGVHcmlkLFxyXG4gICAgICBwYXJhbXM6IHtcclxuICAgICAgICAnTEFZRVJTJzogb3B0aW9ucy5pZCxcclxuICAgICAgICAnVElMRUQnOiB0cnVlLFxyXG4gICAgICAgICdWRVJTSU9OJzogb3B0aW9ucy52ZXJzaW9uLFxyXG4gICAgICAgICdGT1JNQVQnOiBvcHRpb25zLmZvcm1hdFxyXG4gICAgICB9XHJcbiAgICB9KSlcclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gd21zO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciBvbCA9IHJlcXVpcmUoJ29wZW5sYXllcnMnKTtcclxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxudmFyIHZpZXdlciA9IHJlcXVpcmUoJy4uL3ZpZXdlcicpO1xyXG52YXIgdGlsZSA9IHJlcXVpcmUoJy4vdGlsZScpO1xyXG5cclxudmFyIHdtdHMgPSBmdW5jdGlvbiB3bXRzKGxheWVyT3B0aW9ucykge1xyXG4gIHZhciB3bXRzRGVmYXVsdCA9IHtcclxuICAgIGxheWVyVHlwZTogJ3RpbGUnLFxyXG4gICAgZmVhdHVyZWluZm9MYXllcjogdW5kZWZpbmVkXHJcbiAgfTtcclxuICB2YXIgc291cmNlRGVmYXVsdCA9IHtcclxuICAgIG1hdHJpeFNldDogdmlld2VyLmdldFByb2plY3Rpb25Db2RlKCksXHJcbiAgICBtYXRyaXhJZHNQcmVmaXg6IHZpZXdlci5nZXRQcm9qZWN0aW9uQ29kZSgpICsgJzonLFxyXG4gICAgZm9ybWF0OiAnaW1hZ2UvcG5nJyxcclxuICAgIHJlc29sdXRpb25zOiB2aWV3ZXIuZ2V0UmVzb2x1dGlvbnMoKSxcclxuICAgIHRpbGVTaXplOiBbMjU2LCAyNTZdXHJcbiAgfTtcclxuICB2YXIgd210c09wdGlvbnMgPSAkLmV4dGVuZCh3bXRzRGVmYXVsdCwgbGF5ZXJPcHRpb25zKTtcclxuICB3bXRzT3B0aW9ucy5uYW1lLnNwbGl0KCc6JykucG9wKCk7XHJcbiAgd210c09wdGlvbnMuc291cmNlTmFtZSA9IHdtdHNPcHRpb25zLm5hbWU7XHJcbiAgdmFyIHNvdXJjZU9wdGlvbnMgPSAkLmV4dGVuZChzb3VyY2VEZWZhdWx0LCB2aWV3ZXIuZ2V0TWFwU291cmNlKClbbGF5ZXJPcHRpb25zLnNvdXJjZV0pO1xyXG4gIGlmICh3bXRzT3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnZm9ybWF0JykpIHtcclxuICAgIHNvdXJjZU9wdGlvbnMuZm9ybWF0ID0gd210c09wdGlvbnMuZm9ybWF0O1xyXG4gIH1cclxuICBzb3VyY2VPcHRpb25zLmF0dHJpYnV0aW9uID0gd210c09wdGlvbnMuYXR0cmlidXRpb247XHJcbiAgc291cmNlT3B0aW9ucy5wcm9qZWN0aW9uQ29kZSA9IHZpZXdlci5nZXRQcm9qZWN0aW9uQ29kZSgpO1xyXG4gIHNvdXJjZU9wdGlvbnMubWF0cml4SWRzID0gW107XHJcbiAgc291cmNlT3B0aW9ucy5yZXNvbHV0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKHJlc29sdXRpb24sIGkpIHtcclxuICAgIHNvdXJjZU9wdGlvbnMubWF0cml4SWRzW2ldID0gc291cmNlT3B0aW9ucy5tYXRyaXhJZHNQcmVmaXggKyBpO1xyXG4gIH0pO1xyXG4gIHNvdXJjZU9wdGlvbnMucHJvamVjdGlvbkV4dGVudCA9IHZpZXdlci5nZXRQcm9qZWN0aW9uKCkuZ2V0RXh0ZW50KCk7XHJcbiAgc291cmNlT3B0aW9ucy5pZCA9IHdtdHNPcHRpb25zLmlkO1xyXG5cclxuICB2YXIgd210c1NvdXJjZSA9IGNyZWF0ZVNvdXJjZShzb3VyY2VPcHRpb25zKTtcclxuICByZXR1cm4gdGlsZSh3bXRzT3B0aW9ucywgd210c1NvdXJjZSk7XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZVNvdXJjZShvcHRpb25zKSB7XHJcbiAgICByZXR1cm4gbmV3IG9sLnNvdXJjZS5XTVRTKHtcclxuICAgICAgY3Jvc3NPcmlnaW46ICdhbm9ueW1vdXMnLFxyXG4gICAgICBhdHRyaWJ1dGlvbnM6IG9wdGlvbnMuYXR0cmlidXRpb24sXHJcbiAgICAgIHVybDogb3B0aW9ucy51cmwsXHJcbiAgICAgIHByb2plY3Rpb246IG9wdGlvbnMucHJvamVjdGlvbkNvZGUsXHJcbiAgICAgIGxheWVyOiBvcHRpb25zLmlkLFxyXG4gICAgICBtYXRyaXhTZXQ6IG9wdGlvbnMubWF0cml4U2V0LFxyXG4gICAgICBmb3JtYXQ6IG9wdGlvbnMuZm9ybWF0LFxyXG4gICAgICB0aWxlR3JpZDogbmV3IG9sLnRpbGVncmlkLldNVFMoe1xyXG4gICAgICAgIG9yaWdpbjogb3B0aW9ucy5vcmlnaW4gfHwgb2wuZXh0ZW50LmdldFRvcExlZnQob3B0aW9ucy5wcm9qZWN0aW9uRXh0ZW50KSxcclxuICAgICAgICByZXNvbHV0aW9uczogb3B0aW9ucy5yZXNvbHV0aW9ucyxcclxuICAgICAgICBtYXRyaXhJZHM6IG9wdGlvbnMubWF0cml4SWRzLFxyXG4gICAgICAgIHRpbGVTaXplOiBvcHRpb25zLnRpbGVTaXplXHJcbiAgICAgIH0pLFxyXG4gICAgICBzdHlsZTogJ2RlZmF1bHQnXHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB3bXRzO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciBvbCA9IHJlcXVpcmUoJ29wZW5sYXllcnMnKTtcclxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxudmFyIHZpZXdlciA9IHJlcXVpcmUoJy4uL3ZpZXdlcicpO1xyXG52YXIgdGlsZSA9IHJlcXVpcmUoJy4vdGlsZScpO1xyXG5cclxudmFyIHh5eiA9IGZ1bmN0aW9uIHh5eihsYXllck9wdGlvbnMpIHtcclxuICB2YXIgeHl6RGVmYXVsdCA9IHtcclxuICAgIGxheWVyVHlwZTogJ3RpbGUnLFxyXG4gICAgZmVhdHVyZWluZm9MYXllcjogdW5kZWZpbmVkXHJcbiAgfTtcclxuICB2YXIgc291cmNlRGVmYXVsdCA9IHt9O1xyXG4gIHZhciB4eXpPcHRpb25zID0gJC5leHRlbmQoeHl6RGVmYXVsdCwgbGF5ZXJPcHRpb25zKTtcclxuICB4eXpPcHRpb25zLnNvdXJjZU5hbWUgPSB4eXpPcHRpb25zLmlkO1xyXG4gIHZhciBzb3VyY2VPcHRpb25zID0gJC5leHRlbmQoc291cmNlRGVmYXVsdCwgdmlld2VyLmdldE1hcFNvdXJjZSgpW2xheWVyT3B0aW9ucy5zb3VyY2VdKTtcclxuICBzb3VyY2VPcHRpb25zLmF0dHJpYnV0aW9ucyA9IHh5ek9wdGlvbnMuYXR0cmlidXRpb247XHJcbiAgc291cmNlT3B0aW9ucy5wcm9qZWN0aW9uID0gdmlld2VyLmdldFByb2plY3Rpb25Db2RlKCkgfHwgJ0VQU0c6Mzg1Nyc7XHJcbiAgc291cmNlT3B0aW9ucy50aWxlR3JpZCA9IHZpZXdlci5nZXRUaWxlR3JpZCgpO1xyXG4gIGlmKHh5ek9wdGlvbnMubGF5ZXJVUkwpe1xyXG4gICAgc291cmNlT3B0aW9ucy51cmwgKz0geHl6T3B0aW9ucy5sYXllclVSTDtcclxuICB9XHJcbiAgZWxzZSB7XHJcbiAgICB2YXIgZm9ybWF0ID0gc291cmNlT3B0aW9ucy5zb3VyY2VOYW1lLnNwbGl0KCcuJylbMV0sXHJcbiAgICAgIHVybCA9IHNvdXJjZU9wdGlvbnMuc291cmNlTmFtZS5zcGxpdCgnLicpWzBdICsgJy97en0ve3h9L3t5fS4nO1xyXG4gICAgdXJsICs9IGZvcm1hdDtcclxuICAgIHNvdXJjZU9wdGlvbnMudXJsID0gdXJsO1xyXG4gIH1cclxuICB2YXIgeHl6U291cmNlID0gY3JlYXRlU291cmNlKHNvdXJjZU9wdGlvbnMpO1xyXG4gIHJldHVybiB0aWxlKHh5ek9wdGlvbnMsIHh5elNvdXJjZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVNvdXJjZShvcHRpb25zKSB7XHJcbiAgb3B0aW9ucy5jcm9zc09yaWdpbiA9ICdhbm9ueW1vdXMnO1xyXG4gIHJldHVybiBuZXcgb2wuc291cmNlLlhZWihvcHRpb25zKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB4eXo7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyICQgICAgICAgICAgICAgPSByZXF1aXJlKCdqcXVlcnknKTtcclxudmFyIHZpZXdlciAgICAgICAgPSByZXF1aXJlKCcuL3ZpZXdlcicpO1xyXG52YXIgbWFwVXRpbHMgICAgICA9IHJlcXVpcmUoJy4vbWFwdXRpbHMnKTtcclxudmFyIGdyb3VwICAgICAgICAgPSByZXF1aXJlKCcuL2xheWVyL2dyb3VwJyk7XHJcbnZhciB0eXBlICAgICAgICAgID0ge307XHJcbnZhciBsYXllckNyZWF0b3I7XHJcbnR5cGUuV0ZTICAgICAgICAgID0gcmVxdWlyZSgnLi9sYXllci93ZnMnKTtcclxudHlwZS5BR1NfRkVBVFVSRSAgPSByZXF1aXJlKCcuL2xheWVyL2Fnc2ZlYXR1cmUnKTtcclxudHlwZS5UT1BPSlNPTiAgICAgPSByZXF1aXJlKCcuL2xheWVyL3RvcG9qc29uJyk7XHJcbnR5cGUuR0VPSlNPTiAgICAgID0gcmVxdWlyZSgnLi9sYXllci9nZW9qc29uJyk7XHJcbnR5cGUuV01TICAgICAgICAgID0gcmVxdWlyZSgnLi9sYXllci93bXMnKTtcclxudHlwZS5XTVRTICAgICAgICAgPSByZXF1aXJlKCcuL2xheWVyL3dtdHMnKTtcclxudHlwZS5BR1NfVElMRSAgICAgPSByZXF1aXJlKCcuL2xheWVyL2Fnc3RpbGUnKTtcclxudHlwZS5EWU5fQUdTX1RJTEUgPSByZXF1aXJlKCcuL2xheWVyL2R5bmFnc3RpbGUnKTtcclxudHlwZS5YWVogICAgICAgICAgPSByZXF1aXJlKCcuL2xheWVyL3h5eicpO1xyXG50eXBlLk9TTSAgICAgICAgICA9IHJlcXVpcmUoJy4vbGF5ZXIvb3NtJyk7XHJcbnR5cGUuVkVDVE9SVElMRSAgID0gcmVxdWlyZSgnLi9sYXllci92ZWN0b3J0aWxlJyk7XHJcbnR5cGUuRkVBVFVSRSAgICAgID0gcmVxdWlyZSgnLi9sYXllci9mZWF0dXJlbGF5ZXInKTtcclxudHlwZS5HUk9VUCAgICAgICAgPSBncm91cExheWVyO1xyXG5cclxubGF5ZXJDcmVhdG9yID0gZnVuY3Rpb24gbGF5ZXJDcmVhdG9yKG9wdF9vcHRpb25zKSB7XHJcbiAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xyXG4gICAgbmFtZTogdW5kZWZpbmVkLFxyXG4gICAgaWQ6IHVuZGVmaW5lZCxcclxuICAgIHRpdGxlOiB1bmRlZmluZWQsXHJcbiAgICBncm91cDogJ25vbmUnLFxyXG4gICAgb3BhY2l0eTogMSxcclxuICAgIGdlb21ldHJ5TmFtZTogJ2dlb20nLFxyXG4gICAgZ2VvbWV0cnlUeXBlOiB1bmRlZmluZWQsXHJcbiAgICBmaWx0ZXI6IHVuZGVmaW5lZCxcclxuICAgIGxheWVyVHlwZTogdW5kZWZpbmVkLFxyXG4gICAgbGVnZW5kOiBmYWxzZSxcclxuICAgIHNvdXJjZU5hbWU6IHVuZGVmaW5lZCxcclxuICAgIGF0dHJpYnV0aW9uOiB1bmRlZmluZWQsXHJcbiAgICBzdHlsZTogJ2RlZmF1bHQnLFxyXG4gICAgc3R5bGVOYW1lOiB1bmRlZmluZWQsXHJcbiAgICBxdWVyeWFibGU6IHRydWUsXHJcbiAgICBtaW5SZXNvbHV0aW9uOiB1bmRlZmluZWQsXHJcbiAgICBtYXhSZXNvbHV0aW9uOiB1bmRlZmluZWQsXHJcbiAgICB2aXNpYmxlOiBmYWxzZSxcclxuICAgIHR5cGU6IHVuZGVmaW5lZCxcclxuICAgIGV4dGVudDogdW5kZWZpbmVkLFxyXG4gICAgYXR0cmlidXRlczogdW5kZWZpbmVkLFxyXG4gICAgdGlsZVNpemU6IHZpZXdlci5nZXRUaWxlU2l6ZSgpXHJcbiAgfTtcclxuICB2YXIgcHJvamVjdGlvbiA9IHZpZXdlci5nZXRQcm9qZWN0aW9uKCk7XHJcbiAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcclxuICB2YXIgbGF5ZXJPcHRpb25zID0gJC5leHRlbmQoZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xyXG4gIHZhciBuYW1lID0gbGF5ZXJPcHRpb25zLm5hbWU7XHJcbiAgbGF5ZXJPcHRpb25zLm1pblJlc29sdXRpb24gPSBsYXllck9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ21pblNjYWxlJykgPyBtYXBVdGlscy5zY2FsZVRvUmVzb2x1dGlvbihsYXllck9wdGlvbnMubWluU2NhbGUsIHByb2plY3Rpb24pOiB1bmRlZmluZWQ7XHJcbiAgbGF5ZXJPcHRpb25zLm1heFJlc29sdXRpb24gPSBsYXllck9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ21heFNjYWxlJykgPyBtYXBVdGlscy5zY2FsZVRvUmVzb2x1dGlvbihsYXllck9wdGlvbnMubWF4U2NhbGUsIHByb2plY3Rpb24pOiB1bmRlZmluZWQ7XHJcbiAgbGF5ZXJPcHRpb25zLmV4dGVudCA9IGxheWVyT3B0aW9ucy5leHRlbnQgfHwgdmlld2VyLmdldEV4dGVudCgpO1xyXG4gIGxheWVyT3B0aW9ucy5zb3VyY2VOYW1lID0gbGF5ZXJPcHRpb25zLnNvdXJjZTtcclxuICBsYXllck9wdGlvbnMuc3R5bGVOYW1lID0gbGF5ZXJPcHRpb25zLnN0eWxlO1xyXG4gIGlmIChsYXllck9wdGlvbnMuaWQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgbGF5ZXJPcHRpb25zLmlkID0gbmFtZS5zcGxpdCgnX18nKS5zaGlmdCgpO1xyXG4gIH1cclxuXHJcbiAgbGF5ZXJPcHRpb25zLm5hbWUgPSBuYW1lLnNwbGl0KCc6JykucG9wKCk7XHJcblxyXG4gIGlmICh0eXBlLmhhc093blByb3BlcnR5KGxheWVyT3B0aW9ucy50eXBlKSkge1xyXG4gICAgdmFyIGxheWVyID0gdHlwZVtsYXllck9wdGlvbnMudHlwZV0obGF5ZXJPcHRpb25zLCBsYXllckNyZWF0b3IpO1xyXG4gICAgYWdzVGlsZUV2ZW50cyhsYXllcik7XHJcbiAgICByZXR1cm4gbGF5ZXI7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnNvbGUubG9nKCdMYXllciB0eXBlIGlzIG1pc3Npbmcgb3IgbGF5ZXIgdHlwZSBpcyBub3QgY29ycmVjdC4gQ2hlY2sgeW91ciBsYXllciBkZWZpbml0aW9uOiAnKTtcclxuICB9XHJcbn1cclxuLyoqXHJcbiAqIHRtcCBsYXllcnMgc3RvcmVzIHRtcCBzZXR0aW5ncyBmb3IgZHJhd24gbGF5ZXJzLlxyXG4gKiBAdHlwZSB7QXJyYXl9XHJcbiAqL1xyXG52YXIgdG1wID0gW107XHJcbi8qKlxyXG4gKiBIYW5kbGVyIHRoYXQgYW5kbGVzIHNwZWljaWYgdHlwZSBpbiB0aGlzIGNhc2UgZ2VuZXJpYyBBcmNHSVMgVGlsZXMuXHJcbiAqIEBwYXJhbSB7W09iamVjdF19IGxheWVyIEdlbmVyaWMgbGF5ZXJcclxuICogQHJldHVybiB7W0FycmF5XX0gU2VsZWN0ZWQgaWRzIGFuZCBkcmF3b3JkZXIgaW4gY2xvYWtlZCBsYXllcnMgb2Ygb3B0aW1hbCBwZXJmb3JtYW5jZS5cclxuICovXHJcbmZ1bmN0aW9uIGFnc1RpbGVFdmVudHMobGF5ZXIpe1xyXG4gIGlmKGxheWVyLmdldCgndHlwZScpID09PSAnRFlOX0FHU19USUxFJykge1xyXG4gICAgbGF5ZXIub24oJ2NoYW5nZTp2aXNpYmxlJywgZnVuY3Rpb24oKXtcclxuICAgICAgaWYodGhpcy5nZXQoJ3Zpc2libGUnKSl7XHJcbiAgICAgICAgYWRkQ29sbGVjdGVkKGxheWVyKTtcclxuICAgICAgICBraWNrT2ZmKHZpZXdlcik7XHJcbiAgICAgICAgbGF5ZXIuc2V0U291cmNlKG51bGwpO1xyXG4gICAgICAgIHRtcC5wdXNoKGxheWVyKTtcclxuICAgICAgfSBlbHNlIGlmKCF0aGlzLmdldCgndmlzaWJsZScpKSB7XHJcbiAgICAgICAgcmVtb3ZlQ29sbGVjdGVkKGxheWVyKTtcclxuICAgICAgICBraWNrT2ZmKHZpZXdlcik7XHJcbiAgICAgICAgdG1wID0gcmVzdG9yZSh0bXAsIGxheWVyKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG4vKipcclxuICogUmVzdG9yZXMgdGhlIHNvdXJjZSB0byBvcmlnaW5hbCBzb3VyY2UuXHJcbiAqIEBwYXJhbSB7W0FycmF5XX0gbGlzdCAgQSBsaXN0IHRoYXQgY29udGFpbnMgYSBudW1iZXIgb2YgbGF5ZXJzLlxyXG4gKiBAcGFyYW0ge1tPYmplY3RdfSBsYXllciBUYXJnZXQgbGF5ZXIgdG8gcmVzdG9yZS5cclxuICogQHJldHVybiB7W0FycmF5XX0gQSBsaXN0IG9mIGxheWVyc1xyXG4gKi9cclxuZnVuY3Rpb24gcmVzdG9yZShsaXN0LCBsYXllcil7XHJcbiAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGwpe1xyXG4gICAgaWYobGF5ZXIuZ2V0KCduYW1lJykgPT09IGwuZ2V0KCduYW1lJykpe1xyXG4gICAgICBsYXllci5zZXRTb3VyY2UobC5nZXRTb3VyY2UoKSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgcmV0dXJuIGxpc3Q7XHJcbn1cclxuLyoqXHJcbiAqIFRoaXMgbWV0aG9kIGRpc3RyaWJ1dGVzIGFuZCBraWNrcyBvZmYgZGlmZmVyZW50IGNsb2FrZWQgbGF5ZXJzLlxyXG4gKiBUaGlzIG1ldGhvZCBpcyByZXF1aXJlZCBmb3Igb3B0aW1hbCBwZXJmb21hbmNlLiBJZiB5b3Ugd25hdCB0byBjYWxsXHJcbiAqIG1heGltdW0gb2YgMjAgbGF5ZXJzIGkgb25lIEdFVCByZXF1ZXN0LiBVc2Uga2lja29mZiB0byBkaXN0cmlidXRlXHJcbiAqIHRoZSBudW1iZXIgb2YgbGF5ZXJzIGFuZCBoYW4gaGFuZGxlIG1heGltdW0gb2YgMTAwIGxheWVycywgaGVuY2UgNVxyXG4gKiBzaW5nbGUgcmVxdWVzdHMuXHJcbiAqIEBwYXJhbSB7W09iamVjdF19IHZpZXdlciBbZGVzY3JpcHRpb25dXHJcbiAqIEByZXR1cm4ge1tPYmplY3RzXX0gQ2xvYWtlZCBvYmplY3RzXHJcbiAqL1xyXG5mdW5jdGlvbiBraWNrT2ZmKHZpZXdlcil7XHJcbiAgdmlld2VyLmdldExheWVycygpLmZvckVhY2goZnVuY3Rpb24obGF5ZXIpe1xyXG4gICAgdmFyIHN0YWJsZSA9IHJlcXVpcmUoJy4vaWRzJykuc3RhYmxlO1xyXG4gICAgdmFyIGNvbGxlY3RlZCA9IHJlcXVpcmUoJy4vaWRzJykuY29sbGVjdGVkO1xyXG4gICAgY29sbGVjdGVkID0gc3RydWN0dXJlKHN0YWJsZSwgY29sbGVjdGVkKTtcclxuICAgIHZhciBpbmRpY2VzID0gaGFuZChzdGFibGUsIGNvbGxlY3RlZCk7XHJcbiAgICB2YXIgbXBsID0gMjA7XHJcbiAgICBzd2l0Y2goY2FyZGluYWwoY29sbGVjdGVkLmxlbmd0aCwgbXBsKSl7XHJcbiAgICAgIGNhc2UgMTpcclxuICAgICAgICB0b2dnbGUodmlld2VyLCBsYXllciwgaW5kaWNlcywgY29sbGVjdGVkLCAnY2xvYWtlZDAnLCAobXBsLW1wbCksIG1wbCk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDI6XHJcbiAgICAgICAgdG9nZ2xlKHZpZXdlciwgbGF5ZXIsIGluZGljZXMsIGNvbGxlY3RlZCwgJ2Nsb2FrZWQwJywgbXBsLCBtcGwqMik7XHJcbiAgICAgICAgdG9nZ2xlKHZpZXdlciwgbGF5ZXIsIGluZGljZXMsIGNvbGxlY3RlZCwgJ2Nsb2FrZWQxJywgKG1wbC1tcGwpLCBtcGwpO1xyXG4gICAgICBicmVhaztcclxuICAgICAgY2FzZSAzOlxyXG4gICAgICAgIHRvZ2dsZSh2aWV3ZXIsIGxheWVyLCBpbmRpY2VzLCBjb2xsZWN0ZWQsICdjbG9ha2VkMCcsIG1wbCoyLCBtcGwqMyk7XHJcbiAgICAgICAgdG9nZ2xlKHZpZXdlciwgbGF5ZXIsIGluZGljZXMsIGNvbGxlY3RlZCwgJ2Nsb2FrZWQxJywgbXBsLCBtcGwqMik7XHJcbiAgICAgICAgdG9nZ2xlKHZpZXdlciwgbGF5ZXIsIGluZGljZXMsIGNvbGxlY3RlZCwgJ2Nsb2FrZWQyJywgKG1wbC1tcGwpLCBtcGwpO1xyXG4gICAgICBicmVhaztcclxuICAgICAgY2FzZSA0OlxyXG4gICAgICAgIHRvZ2dsZSh2aWV3ZXIsIGxheWVyLCBpbmRpY2VzLCBjb2xsZWN0ZWQsICdjbG9ha2VkMCcsIG1wbCozLCBtcGwqNCk7XHJcbiAgICAgICAgdG9nZ2xlKHZpZXdlciwgbGF5ZXIsIGluZGljZXMsIGNvbGxlY3RlZCwgJ2Nsb2FrZWQxJywgbXBsKjIsIG1wbCozKTtcclxuICAgICAgICB0b2dnbGUodmlld2VyLCBsYXllciwgaW5kaWNlcywgY29sbGVjdGVkLCAnY2xvYWtlZDInLCBtcGwsIG1wbCoyKTtcclxuICAgICAgICB0b2dnbGUodmlld2VyLCBsYXllciwgaW5kaWNlcywgY29sbGVjdGVkLCAnY2xvYWtlZDMnLCAobXBsLW1wbCksIG1wbCk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDU6XHJcbiAgICAgICAgdG9nZ2xlKHZpZXdlciwgbGF5ZXIsIGluZGljZXMsIGNvbGxlY3RlZCwgJ2Nsb2FrZWQwJywgbXBsKjQsIG1wbCo1KTtcclxuICAgICAgICB0b2dnbGUodmlld2VyLCBsYXllciwgaW5kaWNlcywgY29sbGVjdGVkLCAnY2xvYWtlZDEnLCBtcGwqMywgbXBsKjQpO1xyXG4gICAgICAgIHRvZ2dsZSh2aWV3ZXIsIGxheWVyLCBpbmRpY2VzLCBjb2xsZWN0ZWQsICdjbG9ha2VkMicsIG1wbCoyLCBtcGwqMyk7XHJcbiAgICAgICAgdG9nZ2xlKHZpZXdlciwgbGF5ZXIsIGluZGljZXMsIGNvbGxlY3RlZCwgJ2Nsb2FrZWQzJywgbXBsLCBtcGwqMik7XHJcbiAgICAgICAgdG9nZ2xlKHZpZXdlciwgbGF5ZXIsIGluZGljZXMsIGNvbGxlY3RlZCwgJ2Nsb2FrZWQ0JywgKG1wbC1tcGwpLCBtcGwpO1xyXG4gICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBpZihcclxuICAgICAgICAgIGxheWVyLmdldCgnbmFtZScpID09PSAnY2xvYWtlZDAnIHx8XHJcbiAgICAgICAgICBsYXllci5nZXQoJ25hbWUnKSA9PT0gJ2Nsb2FrZWQxJyB8fFxyXG4gICAgICAgICAgbGF5ZXIuZ2V0KCduYW1lJykgPT09ICdjbG9ha2VkMicgfHxcclxuICAgICAgICAgIGxheWVyLmdldCgnbmFtZScpID09PSAnY2xvYWtlZDMnIHx8XHJcbiAgICAgICAgICBsYXllci5nZXQoJ25hbWUnKSA9PT0gJ2Nsb2FrZWQ0J1xyXG4gICAgICAgICApIHtcclxuICAgICAgICAgIGxheWVyLmdldFNvdXJjZSgpLnVwZGF0ZVBhcmFtcyhjb2xsaWdhdGUodmlld2VyLCBjb2xsZWN0ZWQpKTtcclxuICAgICAgICB9XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59O1xyXG4vKipcclxuICogVG9nZ2VscyBvciBvbi9vZmYgYSBsYXllciBzb3VyY2UuXHJcbiAqIEBwYXJhbSB7W09iamVjdF19IHZpZXdlciAgICBDdXJyZW50IHZpZXdlclxyXG4gKiBAcGFyYW0ge1tPYmplY3RdfSBsYXllciAgICAgVGFyZ2V0IGxheWVyXHJcbiAqIEBwYXJhbSB7W0FycmF5XX0gaW5kaWNlcyAgIExpc3Qgb2YgbWFpbnRhaW5lZCBpbmRleGlzIGZvciBkcmF3b3JkZXIuXHJcbiAqIEBwYXJhbSB7W0FycmF5XX0gY29sbGVjdGVkIExpc3Qgb2YgaWRzIG9mIHRoZSBzZWxlY3RlZCBsYXllcnMuXHJcbiAqIEBwYXJhbSB7W1N0cmluZ119IG5hbWUgICAgICBOYW1lIG9mIHRhcmdldCBsYXllcnMgZXguIGNsb2FrZWQwXHJcbiAqIEBwYXJhbSB7W0ludGVnZXJdfSBtaW4gICAgICAgTG93ZXN0IGFycmF5IGxlbmd0aCAwLCAyMCwgNDAgZXRjLi5cclxuICogQHBhcmFtIHtbSW50ZWdlcl19IG1heCAgICAgICBNYXhpbXVtIGFycmF5IGxlbmd0aCAyMCwgNDAsIDYwIGV0Yy4uLlxyXG4gKiBAcmV0dXJuIHtbT2JqZWN0XX0gdmlld2VyICAgIHVwZGF0ZWQgdml3ZXIgYW5kIGl0cyBjb21wb25lbnRzIGZvciBkcmF3b3JkZXIuXHJcbiAqL1xyXG5mdW5jdGlvbiB0b2dnbGUodmlld2VyLCBsYXllciwgaW5kaWNlcywgY29sbGVjdGVkLCBuYW1lLCBtaW4sIG1heCl7XHJcbiAgaWYobGF5ZXIuZ2V0KCduYW1lJykgPT09IG5hbWUpe1xyXG4gICAgdmFyIHNvdXJjZSA9IGxheWVyLmdldFNvdXJjZSgpO1xyXG4gICAgcmV2aXNlKHZpZXdlciwgaW5kaWNlcywgc291cmNlLCBjb2xsZWN0ZWQuc2xpY2UobWluLCBtYXgpKTtcclxuICB9O1xyXG59O1xyXG4vKipcclxuICogTXVsdGlwbGljYXRpb24gZnVuY3Rpb25zXHJcbiAqIEBwYXJhbSB7W0ludGVnZXJdfSBidWxrICBWYWx1ZVxyXG4gKiBAcGFyYW0ge1tJbnRlZ2VyXX0gY3Jlc3QgVmFsdWVcclxuICogQHJldHVybiB7SUludGVnZXJdfSBSZXN1bHRcclxuICovXHJcbmZ1bmN0aW9uIHJvb2YoYnVsaywgY3Jlc3Qpe1xyXG4gIHJldHVybiBidWxrICogY3Jlc3Q7XHJcbn07XHJcbi8qKlxyXG4gKiBMb3dlciB2YWx1ZVxyXG4gKiBAcGFyYW0ge1tJbnRlZ2VyXX0gYnVsayAgVmFsdWVcclxuICogQHBhcmFtIHtbSW50ZWdlcl19IGNyZXN0IFZhbHVlXHJcbiAqIEByZXR1cm4ge1tJbnRlZ2VyXX0gUmVzdWx0XHJcbiAqL1xyXG5mdW5jdGlvbiB0aW4oYnVsaywgY3Jlc3Qpe1xyXG4gIHJldHVybiByb29mKGJ1bGssIGNyZXN0KSAtIHJvb2YoYnVsaywgY3Jlc3QpO1xyXG59XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBjYXJkaW5hbCB2YWx1ZS5cclxuICogQHBhcmFtIHtbSW50ZWdlcl19IGJ1bGsgIFZhbHVlXHJcbiAqIEBwYXJhbSB7W0ludGVnZXJdfSBjcmVzdCBWYWx1ZVxyXG4gKiBAcmV0dXJuIHtbSW50ZWdlcl19IFJlc3VsdFxyXG4gKi9cclxuZnVuY3Rpb24gY2FyZGluYWwoYnVsaywgY3Jlc3Qpe1xyXG4gIHJldHVybiBNYXRoLmNlaWwoYnVsayAvIGNyZXN0KSA+PSAwID8gTWF0aC5jZWlsKGJ1bGsgLyBjcmVzdCkgOiAwO1xyXG59O1xyXG4vKipcclxuICogRHJhd29yZGVyIHJldmlzaW9uIGNvcnJlY3RzIHRoZSBkcmF3IG9yZGVyIG9mIGxheWVycy5cclxuICogQHBhcmFtIHtbT2JqZWN0XX0gdmlld2VyICAgIEN1cnJlbnQgdmlld2VyIGluIG1hcC5cclxuICogQHBhcmFtIHtbQXJyYXldfSBpbmRpY2VzICAgQXJyYXkgb2YgaW5kZXggdmFsdWVzLlxyXG4gKiBAcGFyYW0ge1tPYmplY3RdfSBzb3VyY2UgICAgVGFyZ2V0IHNvdXJjZSB2YWx1ZS5cclxuICogQHBhcmFtIHtbSW50ZWdlcl19IGNvbGxlY3RlZCBUYXJnZXQgc2VsZWN0ZWQgdmFsdWVzXHJcbiAqIEByZXR1cm4ge1tPYmplY3RdfSBVcGRhdGVzIHZpd2VyLlxyXG4gKi9cclxuZnVuY3Rpb24gcmV2aXNlKHZpZXdlciwgaW5kaWNlcywgc291cmNlLCBjb2xsZWN0ZWQpe1xyXG4gIGlmKGluZGljZXNbMF0gPiAwKXtcclxuICAgIHNvdXJjZS51cGRhdGVQYXJhbXMoY29sbGlnYXRlKHZpZXdlciwgY29sbGVjdGVkKSk7XHJcbiAgfSBlbHNlIGlmKGluZGljZXNbMF0gIT09IHVuZGVmaW5lZCl7XHJcbiAgICBzb3VyY2UudXBkYXRlUGFyYW1zKGNvbGxpZ2F0ZSh2aWV3ZXIsIGNvbGxlY3RlZC5yZXZlcnNlKCkpKTtcclxuICB9IGVsc2Uge1xyXG4gICAgc291cmNlLnVwZGF0ZVBhcmFtcyhjb2xsaWdhdGUodmlld2VyLCBbXSkpO1xyXG4gIH1cclxufTtcclxuLyoqXHJcbiAqIERyYXdvZGVyIGhhbmRzIHdoYXQgb3JkZXIgdGhlIGNvbGxlY3RlZCBpZHMgc2hvdWxkIGJlIGFycmFuZ2VkIGJhc2VkIG9uIHRoZSBzdGFibGUgc3RhdGljIHZhbHVlcy5cclxuICogQHBhcmFtIHtbQXJyYXldfSBzdGFibGUgICAgSW50ZWdlcnMgdmFsdWVzIGlkIHZhbHVlcyBmb3Igc3RhdGljIGxheWVycy5cclxuICogQHBhcmFtIHtbQXJyYXldfSBjb2xsZWN0ZWQgSW50ZWdlcnMgdmFsdWVzIGlkIHZhbHVlcyBmb3Igc2VsZWN0ZWQgbGF5ZXJzLlxyXG4gKiBAcmV0dXJuIHtbQXJyYXldfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBoYW5kKHN0YWJsZSwgY29sbGVjdGVkKXtcclxuICB2YXIgaW5kaWNlcyA9IG5ldyBBcnJheShjb2xsZWN0ZWQubGVuZ3RoKTtcclxuICBmb3IgKHZhciBpbmRleCBpbiBjb2xsZWN0ZWQpIGluZGljZXNbaW5kZXhdID0gaW5kZXg7XHJcbiAgcmV0dXJuIGluZGljZXMuc29ydChmdW5jdGlvbiAoeCwgeSkge1xyXG4gICAgcmV0dXJuIHN0YWJsZS5pbmRleE9mKGNvbGxlY3RlZFt4XSkgPCBzdGFibGUuaW5kZXhPZihjb2xsZWN0ZWRbeV0pID8gLTEgOiBzdGFibGUuaW5kZXhPZihjb2xsZWN0ZWRbeF0pID4gc3RhYmxlLmluZGV4T2YoY29sbGVjdGVkW3ldKSA/IDEgOiAwOyB9KTtcclxufTtcclxuLyoqXHJcbiAqIFJldHVybnMgYSBKU09OIG9iamVjdCB3aXRoIGEgZHluYW1pYyBsYXllcnMgbGlzdC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IGlkcyBhIGxpc3Qgb2YgaWRzLlxyXG4gKiBAcmV0dXJuIHtPYmplY3R9IGFuIEpTT04gb2JqZWN0IHdpdGggZHluYW1pY0xheWVycyBhcyBzdHJpbmcuXHJcbiAqL1xyXG5mdW5jdGlvbiBjb2xsaWdhdGUodmlld2VyLCBpZHMpIHtcclxuICB2YXIgY3VycmVudEV4dGVudCA9IHZpZXdlci5nZXRNYXAoKS5nZXRWaWV3KCkuY2FsY3VsYXRlRXh0ZW50KHZpZXdlci5nZXRNYXAoKS5nZXRTaXplKCkpO1xyXG4gIHZhciByZXN1bHQgPSB7XHJcbiAgICBcImR5bmFtaWNMYXllcnNcIjogcHJvZHVjZShpZHMpLFxyXG4gICAgXCJiYm94XCI6IGN1cnJlbnRFeHRlbnQuam9pbignLCcpXHJcbiAgfTtcclxuICByZXR1cm4gcmVzdWx0O1xyXG59O1xyXG4vKipcclxuICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhIGxpc3QgY29udGFpbmluZyBkeW5hbWljIGxheWVycy5cclxuICogQHBhcmFtIHtOdW1iZXJ9IGlkcyBhIGxpc3Qgb2YgaWRzLlxyXG4gKiBAcmV0dXJuIHtTdHJpbmd9IGEgbGlzdCBhcyBzdHJpbmcgb3ZlciBpZHMuXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gcHJvZHVjZShpZHMpe1xyXG4gICAgdmFyIHJlc3VsdCA9IFwiXCI7XHJcbiAgICBmb3IodmFyIGRyYXduIGluIGlkcyl7XHJcbiAgICAgIHJlc3VsdCArPSAoZHJhd24gPT0gKGlkcy5sZW5ndGgtMSkpID8gcmVvcmRlcihkcmF3biwgaWRzW2RyYXduXSkgOiByZW9yZGVyKGRyYXduLCBpZHNbZHJhd25dKSsnLCc7XHJcbiAgICB9XHJcbiAgcmV0dXJuIFwiW1wiK3Jlc3VsdCtcIl1cIjtcclxufTtcclxuLyoqXHJcbiAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBkeW5hbWljIGxheWVyIG9iamVjdC5cclxuICogQHBhcmFtIHtOdW1iZXJ9IGRyYXduIHRoZSBuZXcgZHJhdyBwb3NpdGlvbi4gSW5kZXggMCBpcyB0aGUgdG9wIHBvc2l0aW9uLlxyXG4gKiBAcGFyYW0ge051bWJlcn0gaW5Vc2UgdGhlIGlkIG9mIHRoZSBsYXllciBpbiB0aGUgQXJjR0lTIFJFU1Qgc2VydmljZS5cclxuICogQHJldHVybiB7U3RyaW5nfSBhIGR5bmFtaWMgbGF5ZXIgb2JqZWN0LlxyXG4gKi9cclxuZnVuY3Rpb24gcmVvcmRlcihkcmF3biwgaW5Vc2Upe1xyXG4gIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XCJpZFwiOmRyYXduLCBzb3VyY2U6IHtcIm1hcExheWVySWRcIjogaW5Vc2V9fSk7XHJcbn07XHJcbi8qKlxyXG4gKiBBZGRzIHRhcmdldCBsYXllciB0byBhbGwgbGlzdHMuXHJcbiAqIEBwYXJhbSB7W09iamVjdF19IGxheWVyIFRhcmdldCBMYXllclxyXG4gKiBAcmV0dXJuIHtbQXJyYXldfSBMaXN0IG9mIGNvbGxlY3RlZCBsYXllcnNcclxuICovXHJcbmZ1bmN0aW9uIGFkZENvbGxlY3RlZChsYXllcil7XHJcbiAgdmFyIHN0YWJsZSA9IHJlcXVpcmUoJy4vaWRzJykuc3RhYmxlO1xyXG4gIHZhciBjb2xsZWN0ZWQgPSByZXF1aXJlKCcuL2lkcycpLmNvbGxlY3RlZDtcclxuICB2YXIgaWQgPSBsYXllci5nZXQoJ2lkJyk7XHJcbiAgY29sbGVjdGVkLnB1c2goaWQpO1xyXG4gIGNvbGxlY3RlZCA9IHN0cnVjdHVyZShzdGFibGUsIGNvbGxlY3RlZCk7XHJcbn07XHJcbi8qKlxyXG4gKiBSZW1vdmVzIGNvbGxlY3RlZFxyXG4gKiBAcGFyYW0ge1tPYmplY3RdfSBsYXllciBUYXJnZXQgbGF5ZXJcclxuICogQHJldHVybiB7W0FycmF5XX0gTGlzdCBvZiBjb2xsZWN0ZWQgbGF5ZXJzXHJcbiAqL1xyXG5mdW5jdGlvbiByZW1vdmVDb2xsZWN0ZWQobGF5ZXIpe1xyXG4gIHZhciBzdGFibGUgPSByZXF1aXJlKCcuL2lkcycpLnN0YWJsZTtcclxuICB2YXIgY29sbGVjdGVkID0gcmVxdWlyZSgnLi9pZHMnKS5jb2xsZWN0ZWQ7XHJcbiAgdmFyIGlkID0gbGF5ZXIuZ2V0KCdpZCcpO1xyXG4gIGNvbGxlY3RlZC5zcGxpY2UoY29sbGVjdGVkLmluZGV4T2YoaWQpLCAxKTtcclxuICBjb2xsZWN0ZWQgPSBzdHJ1Y3R1cmUoc3RhYmxlLCBjb2xsZWN0ZWQpO1xyXG59O1xyXG4vKipcclxuICogU3RydXR1cmUgZnVuY3Rpb24gdGhhdCBmaWx0ZXJzIG91dCB1bmhhbmRsZWQgdW5kZWZpbmVkIG9jaCBudWxsIHZhbHVlcy5cclxuICogQHBhcmFtIHtbQXJyYXldfSBzdGFibGUgICAgU3RhdGljIGlkcyBpbiBhcnJheS5cclxuICogQHBhcmFtIHtbQXJyYXldfSBjb2xsZWN0ZWQgU2VsZWN0ZWQgaWRzIGluIGFycmF5LlxyXG4gKiBAcmV0dXJuIHtbQXJyYXldfSBbZGVzY3JpcHRpb25dXHJcbiAqL1xyXG5mdW5jdGlvbiBzdHJ1Y3R1cmUoc3RhYmxlLCBjb2xsZWN0ZWQpe1xyXG4gIHZhciB0aWR5ID0gW107XHJcbiAgZm9yKHZhciB4IGluIHN0YWJsZSl7XHJcbiAgICBmb3IodmFyIHkgaW4gY29sbGVjdGVkKXtcclxuICAgICAgaWYoc3RhYmxlW3hdID09PSBjb2xsZWN0ZWRbeV0pe1xyXG4gICAgICAgIHRpZHlbeF0gPSBjb2xsZWN0ZWRbeV07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHRpZHkuZmlsdGVyKGZ1bmN0aW9uKHgpe1xyXG4gICAgcmV0dXJuICh4ICE9PSAodW5kZWZpbmVkIHx8IG51bGwgfHwgJycpKTtcclxuICB9KTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGdyb3VwTGF5ZXIob3B0aW9ucykge1xyXG4gIHZhciBsYXllcnM7XHJcbiAgdmFyIGxheWVyT3B0aW9ucztcclxuICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnbGF5ZXJzJykpIHtcclxuICAgIGxheWVycyA9IG9wdGlvbnMubGF5ZXJzLm1hcChmdW5jdGlvbihsYXllcikge1xyXG4gICAgICByZXR1cm4gbGF5ZXJDcmVhdG9yKGxheWVyKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGxheWVyT3B0aW9ucyA9IHt9O1xyXG4gICAgbGF5ZXJPcHRpb25zLmxheWVycyA9IGxheWVycztcclxuICAgIHJldHVybiBncm91cCgkLmV4dGVuZChvcHRpb25zLCBsYXllck9wdGlvbnMpKTtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc29sZS5sb2coJ0dyb3VwIGxheWVyIGhhcyBubyBsYXllcnMnKTtcclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbGF5ZXJDcmVhdG9yO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XHJcbnZhciB2aWV3ZXIgPSByZXF1aXJlKCcuL3ZpZXdlcicpO1xyXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XHJcbnZhciBtb2RhbCA9IHJlcXVpcmUoJy4vbW9kYWwnKTtcclxudmFyIHZhbGlkYXRlVXJsID0gcmVxdWlyZSgnLi91dGlscy92YWxpZGF0ZXVybCcpO1xyXG5cclxudmFyIHN5bWJvbFNpemUgPSAyMDtcclxudmFyIHN0eWxlU2V0dGluZ3M7XHJcbnZhciBiYXNlVXJsO1xyXG52YXIgaGFzTWFwTGVnZW5kO1xyXG5cclxuZnVuY3Rpb24gaW5pdChvcHRfb3B0aW9ucykge1xyXG4gIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XHJcblxyXG4gIGJhc2VVcmwgPSB2aWV3ZXIuZ2V0QmFzZVVybCgpO1xyXG4gIGhhc01hcExlZ2VuZCA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2hhc01hcExlZ2VuZCcpID8gb3B0aW9ucy5oYXNNYXBMZWdlbmQgOiB0cnVlO1xyXG4gIHN0eWxlU2V0dGluZ3MgPSB2aWV3ZXIuZ2V0U3R5bGVTZXR0aW5ncygpO1xyXG5cclxuICByZW5kZXIoKTtcclxuICBhZGRMZWdlbmQodmlld2VyLmdldEdyb3VwcygndG9wJykpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAgJCgnI28tbWVudXRvb2xzJykuYXBwZW5kKCc8bGkgY2xhc3M9XCJvLW1lbnUtaXRlbVwiPjxkaXYgY2xhc3M9XCJvLW1lbnUtaXRlbS1kaXZpZGVyXCI+PC9kaXY+PGxpPicpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRTeW1ib2woc3R5bGUpIHtcclxuICB2YXIgc3ltYm9sPScnO1xyXG4gIHZhciBzID0gc3R5bGVbMF07XHJcbiAgaWYgKHNbMF0uaGFzT3duUHJvcGVydHkoJ2ljb24nKSkge1xyXG4gICAgdmFyIHNyYyA9IHZhbGlkYXRlVXJsKHNbMF0uaWNvbi5zcmMsIGJhc2VVcmwpO1xyXG4gICAgLy8gdmFyIHNjYWxlID0gc3R5bGUuaWNvbi5zY2FsZSB8fCB1bmRlZmluZWQ7XHJcbiAgICB2YXIgZm9ybWF0ID0gc1swXS5mb3JtYXQgfHwgJ3BuZyc7XHJcbiAgICBpZiAoZm9ybWF0ID09ICdwbmcnKSB7XHJcbiAgICAgIHN5bWJvbCA9ICc8ZGl2IGNsYXNzPVwiby1sZWdlbmQtaXRlbS1pbWdcIj48aW1nIHN0eWxlPVwid2lkdGg6IGF1dG87IGhlaWdodDogMjBweDtcIiBzcmM9XCInICsgc3JjICsgJ1wiPjwvZGl2PidcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZvcm1hdCA9PSAnc3ZnJykge1xyXG4gICAgICB2YXIgbyA9ICc8b2JqZWN0IHR5cGU9XCJpbWFnZS9zdmcreG1sXCIgZGF0YT1cIicgKyBzcmMgKyAnXCIgc3R5bGU9XCJ3aWR0aDogMjBweDtcIj48L29iamVjdD4nO1xyXG4gICAgICB2YXIgaW5saW5lU3R5bGUgPSAnYmFja2dyb3VuZDogdXJsKCcgKyBzcmMgKyAnKSBuby1yZXBlYXQ7d2lkdGg6IDIwcHg7IGhlaWdodDogMjBweDtiYWNrZ3JvdW5kLXNpemU6IDIwcHg7JztcclxuICAgICAgc3ltYm9sID0gJzxkaXYgY2xhc3M9XCJvLWxlZ2VuZC1pdGVtLWltZ1wiPicgKyBvICsgJzwvZGl2Pic7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGVsc2UgaWYgKHNbMF0uaGFzT3duUHJvcGVydHkoJ2ZpbGwnKSkge1xyXG4gICAgdmFyIGZpbGwgPSAnJztcclxuICAgIGZvcih2YXIgaT0wOyBpPHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgZmlsbCArPSBjcmVhdGVGaWxsKHNbaV0pO1xyXG4gICAgfVxyXG4gICAgc3ltYm9sICs9ICc8ZGl2IGNsYXNzPVwiby1sZWdlbmQtaXRlbS1pbWdcIj48c3ZnIGhlaWdodD1cIicgKyBzeW1ib2xTaXplICsgJ1wiIHdpZHRoPVwiJyArIHN5bWJvbFNpemUgKyAnXCI+JztcclxuICAgIHN5bWJvbCArPSBmaWxsO1xyXG4gICAgc3ltYm9sICs9ICc8L3N2Zz48L2Rpdj4nO1xyXG4gIH1cclxuICBlbHNlIGlmIChzWzBdLmhhc093blByb3BlcnR5KCdzdHJva2UnKSkge1xyXG4gICAgdmFyIHN0cm9rZSA9ICcnO1xyXG4gICAgZm9yKHZhciBpPTA7IGk8cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBzdHJva2UgKz0gY3JlYXRlU3Ryb2tlKHNbaV0pO1xyXG4gICAgfVxyXG4gICAgc3ltYm9sICs9ICc8ZGl2IGNsYXNzPVwiby1sZWdlbmQtaXRlbS1pbWdcIj48c3ZnIGhlaWdodD1cIicgKyBzeW1ib2xTaXplICsgJ1wiIHdpZHRoPVwiJyArIHN5bWJvbFNpemUgKyAnXCI+JztcclxuICAgIHN5bWJvbCArPSBzdHJva2U7XHJcbiAgICBzeW1ib2wgKz0gJzwvc3ZnPjwvZGl2Pic7XHJcbiAgfVxyXG4gIGVsc2UgaWYgKHNbMF0uaGFzT3duUHJvcGVydHkoJ2NpcmNsZScpKSB7XHJcbiAgICB2YXIgY2lyY2xlID0gJyc7XHJcbiAgICBmb3IodmFyIGk9MDsgaTxzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNpcmNsZSArPSBjcmVhdGVDaXJjbGUoc1tpXSk7XHJcbiAgICB9XHJcbiAgICBzeW1ib2wgKz0gJzxkaXYgY2xhc3M9XCJvLWxlZ2VuZC1pdGVtLWltZ1wiPjxzdmcgaGVpZ2h0PVwiJyArIHN5bWJvbFNpemUgKyAnXCIgd2lkdGg9XCInICsgc3ltYm9sU2l6ZSArICdcIj4nO1xyXG4gICAgc3ltYm9sICs9IGNpcmNsZTtcclxuICAgIHN5bWJvbCArPSAnPC9zdmc+PC9kaXY+JztcclxuICB9XHJcbiAgZWxzZSBpZiAoc1swXS5oYXNPd25Qcm9wZXJ0eSgnaW1hZ2UnKSkge1xyXG4gICAgdmFyIHNyYyA9IHZhbGlkYXRlVXJsKHNbMF0uaW1hZ2Uuc3JjLCBiYXNlVXJsKTtcclxuICAgIHZhciBpbmxpbmVTdHlsZSA9ICdiYWNrZ3JvdW5kOiB1cmwoJyArIHNyYyArICcpIG5vLXJlcGVhdDt3aWR0aDogMzBweDsgaGVpZ2h0OiAzMHB4O2JhY2tncm91bmQtc2l6ZTogMzBweDsnO1xyXG4gICAgc3ltYm9sID0gJzxkaXYgY2xhc3M9XCJvLWxlZ2VuZC1pdGVtLWltZ1wiIHN0eWxlPVwiJyArIGlubGluZVN0eWxlICsnXCI+PC9kaXY+JztcclxuICB9XHJcblxyXG4gIHJldHVybiBzeW1ib2w7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUZpbGwoZmlsbFByb3BlcnRpZXMpIHtcclxuICB2YXIgZiA9IGZpbGxQcm9wZXJ0aWVzO1xyXG4gIHZhciBzdHJva2VXaWR0aCA9IDA7XHJcblxyXG4gIGlmKGYuaGFzT3duUHJvcGVydHkoJ3N0cm9rZScpKSB7XHJcbiAgICBzdHJva2VXaWR0aCA9IGYuc3Ryb2tlLndpZHRoID49MyA/IDMgOiBmLnN0cm9rZS53aWR0aDtcclxuICAgIHZhciBzdHJva2UgPSAnc3Ryb2tlOicgKyBmLnN0cm9rZS5jb2xvciArICc7JyB8fCAnc3Ryb2tlOm5vbmU7JztcclxuICAgIHN0cm9rZSArPSAnc3Ryb2tlLXdpZHRoOicgKyBzdHJva2VXaWR0aCArICc7JyB8fCAnJztcclxuICAgIHN0cm9rZSArPSAnc3Ryb2tlLWRhc2hhcnJheTonICsgZi5zdHJva2UubGluZURhc2ggKyAnOycgfHwgJyc7XHJcbiAgfVxyXG5cclxuICB2YXIgZmlsbFNpemUgPSBzeW1ib2xTaXplIC0gNDsgLy8tMi0yXHJcbiAgdmFyIGZpbGwgPSAnPHJlY3QgeD1cIjJcIiB5PVwiMlwiIHJ4PVwiMlwiIHJ5PVwiMlwiIHdpZHRoPVwiJyArIGZpbGxTaXplICsgJ1wiIGhlaWdodD1cIicgKyBmaWxsU2l6ZSArICdcIiAnO1xyXG4gIGZpbGwgKz0gZi5oYXNPd25Qcm9wZXJ0eSgnZmlsbCcpID8gJ3N0eWxlPVwiZmlsbDonICsgZi5maWxsLmNvbG9yICsgJzsnIDogJ3N0eWxlPVwiZmlsbDpub25lOyc7XHJcbiAgZmlsbCArPSBzdHJva2U7XHJcbiAgZmlsbCArPSAnXCI+PC9yZWN0Pic7XHJcblxyXG4gIHJldHVybiBmaWxsO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDaXJjbGUoY2lyY2xlUHJvcGVydGllcykge1xyXG4gIHZhciBjID0gY2lyY2xlUHJvcGVydGllcy5jaXJjbGU7XHJcbiAgdmFyIHN0cm9rZVdpZHRoID0gMDtcclxuXHJcbiAgaWYoYy5oYXNPd25Qcm9wZXJ0eSgnc3Ryb2tlJykpIHtcclxuICAgIHN0cm9rZVdpZHRoID0gYy5zdHJva2Uud2lkdGggPj0zID8gMyA6IGMuc3Ryb2tlLndpZHRoO1xyXG4gICAgdmFyIHN0cm9rZSA9ICdzdHJva2U6JyArIGMuc3Ryb2tlLmNvbG9yICsgJzsnIHx8ICdzdHJva2U6bm9uZTsnO1xyXG4gICAgc3Ryb2tlICs9ICdzdHJva2Utd2lkdGg6JyArIHN0cm9rZVdpZHRoICsgJzsnIHx8ICcnO1xyXG4gIH1cclxuXHJcbiAgdmFyIHNpemUgPSBzeW1ib2xTaXplLzI7XHJcbiAgdmFyIGZpbGwgPSAnPGNpcmNsZSBjeD1cIicgKyBzaXplICsgJ1wiIGN5PVwiJyArIHNpemUgKyAnXCIgcj1cIicgKyBjLnJhZGl1cyArICdcIiAnO1xyXG4gIGZpbGwgKz0gYy5oYXNPd25Qcm9wZXJ0eSgnZmlsbCcpID8gJ3N0eWxlPVwiZmlsbDonICsgYy5maWxsLmNvbG9yICsgJzsnIDogJ3N0eWxlPVwiZmlsbDpub25lOyc7XHJcbiAgZmlsbCArPSBzdHJva2U7XHJcbiAgZmlsbCArPSAnXCI+PC9jaXJjbGU+JztcclxuXHJcbiAgcmV0dXJuIGZpbGw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVN0cm9rZShzdHJva2VQcm9wZXJ0aWVzKSB7XHJcbiAgdmFyIHMgPSBzdHJva2VQcm9wZXJ0aWVzO1xyXG4gIHZhciBzdHJva2VXaWR0aCA9IHMuc3Ryb2tlLndpZHRoID4gNCA/IDQgOiBzLnN0cm9rZS53aWR0aDtcclxuICBzdHJva2VXaWR0aCA9IHMuc3Ryb2tlLndpZHRoIDwgMiA/IDIgOiBzdHJva2VXaWR0aDtcclxuICB2YXIgc3Ryb2tlID0gJzxsaW5lIHgxID0gXCIyXCIgeTE9IFwiJyArIChzeW1ib2xTaXplLTQpLnRvU3RyaW5nKCkgKyAnXCIgeDI9XCInICsgKHN5bWJvbFNpemUtNCkudG9TdHJpbmcoKSArICdcIiB5Mj1cIjJcIiAnO1xyXG4gIHN0cm9rZSArPSAnc3R5bGU9XCInO1xyXG4gIHN0cm9rZSArPSAnc3Ryb2tlOicgKyBzLnN0cm9rZS5jb2xvciArICc7JyB8fCAnc3Ryb2tlOm5vbmU7JztcclxuICBzdHJva2UgKz0gJ3N0cm9rZS13aWR0aDonICsgc3Ryb2tlV2lkdGggKyAnOycgfHwgJyc7XHJcbiAgc3Ryb2tlICs9ICdzdHJva2UtZGFzaGFycmF5OicgKyBzLnN0cm9rZS5saW5lRGFzaCArICc7JyB8fCAnJztcclxuICBzdHJva2UgKz0gJ1wiLz4nO1xyXG5cclxuICByZXR1cm4gc3Ryb2tlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRBYnN0cmFjdEJ1dHRvbihpdGVtKSB7XHJcbiAgdmFyIGluZm9UZXh0QnV0dG9uID0gICc8ZGl2IGNsYXNzPVwiby1sZWdlbmQtaXRlbS1pbmZvIG8tYWJzdHJhY3RcIiBpZD1cIm8tbGVnZW5kLWl0ZW0taW5mby0nICsgaXRlbSArICdcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAnPHN2ZyBjbGFzcz1cIm8taWNvbi1mYS1pbmZvLWNpcmNsZVwiPjx1c2UgeGxpbms6aHJlZj1cIiNmYS1pbmZvLWNpcmNsZVwiPjwvdXNlPjwvc3ZnPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcclxuICByZXR1cm4gaW5mb1RleHRCdXR0b247XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUxlZ2VuZEl0ZW0obGF5ZXJpZCwgbGF5ZXJTdHlsZSwgaW5TdWJncm91cCkge1xyXG4gIHZhciBsYXllcm5hbWUgPSBsYXllcmlkLnNwbGl0KCdvLWxlZ2VuZC0nKS5wb3AoKTtcclxuICB2YXIgbGF5ZXIgPSB2aWV3ZXIuZ2V0TGF5ZXIobGF5ZXJuYW1lKTtcclxuICB2YXIgc3ViQ2xhc3MgPSBpblN1Ymdyb3VwID8gJyBvLWxlZ2VuZC1zdWJpdGVtJyA6ICcnO1xyXG4gIHZhciBsZWdlbmRJdGVtID0gJyc7XHJcblxyXG4gIGlmIChsYXllclN0eWxlICYmIGxheWVyU3R5bGVbMF1bMF0uaGFzT3duUHJvcGVydHkoJ2ZpbHRlcicpKSB7XHJcblxyXG4gICAgaWYgKGxheWVyU3R5bGVbMF1bMF0uaGFzT3duUHJvcGVydHkoJ2xlZ2VuZCcpKSB7XHJcbiAgICAgIGxlZ2VuZEl0ZW0gKz0gJzxsaSBjbGFzcz1cIm8tbGVnZW5kICcgKyBsYXllcm5hbWUgKyAnXCI+JztcclxuICAgICAgbGVnZW5kSXRlbSArPSAnPHVsIGlkPVwiby1ncm91cC0nICsgbGF5ZXJuYW1lICsgJ1wiIGNsYXNzPVwiby1sZWdlbmQtZ3JvdXAgby11bC1leHBhbmQtZmFsc2VcIj48bGkgY2xhc3M9XCInICsgbGF5ZXJuYW1lICsgJ1wiIGlkPVwiJyArIGxheWVyaWQgKyAnXCI+JztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxlZ2VuZEl0ZW0gKz0gJzxsaSBjbGFzcz1cIm8tbGVnZW5kICcgKyBsYXllcm5hbWUgKyAnXCIgaWQ9XCInICsgbGF5ZXJpZCArICdcIj4nO1xyXG4gICAgfVxyXG5cclxuICAgIGxlZ2VuZEl0ZW0gKz0gJzxkaXYgY2xhc3MgPVwiby1sZWdlbmQtaXRlbScgKyBzdWJDbGFzcyArICdcIj48ZGl2IGNsYXNzPVwiby1jaGVja2JveFwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8c3ZnIGNsYXNzPVwiby1pY29uLWZhLXNxdWFyZS1vXCI+PHVzZSB4bGluazpocmVmPVwiI2ZhLXNxdWFyZS1vXCI+PC91c2U+PC9zdmc+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxzdmcgY2xhc3M9XCJvLWljb24tZmEtY2hlY2stc3F1YXJlLW9cIj48dXNlIHhsaW5rOmhyZWY9XCIjZmEtY2hlY2stc3F1YXJlLW9cIj48L3VzZT48L3N2Zz4nICtcclxuICAgICAgICAgICAgICAgICAgJzwvZGl2Pic7XHJcbiAgICBsZWdlbmRJdGVtICs9ICc8ZGl2IGNsYXNzPVwiby1sZWdlbmQtaXRlbS10aXRsZSBvLXRydW5jYXRlXCI+JyArIGxheWVyLmdldCgndGl0bGUnKSArICc8L2Rpdj4nO1xyXG5cclxuICAgIGlmKGxheWVyLmdldCgnYWJzdHJhY3QnKSl7XHJcbiAgICAgIGxlZ2VuZEl0ZW0gKz0gYWRkQWJzdHJhY3RCdXR0b24obGF5ZXJuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAobGF5ZXJTdHlsZVswXVswXS5oYXNPd25Qcm9wZXJ0eSgnbGVnZW5kJykpIHtcclxuICAgICAgbGVnZW5kSXRlbSArPSAnPGRpdiBjbGFzcz1cIm8taWNvbi1leHBhbmQgby1pY29uLWV4cGFuZC1mYWxzZVwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgJzxzdmcgY2xhc3M9XCJvLWljb24tZmEtY2hldnJvbi1yaWdodFwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHVzZSB4bGluazpocmVmPVwiI2ZhLWFuZ2xlLWRvdWJsZS1yaWdodFwiPjwvdXNlPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgJzwvc3ZnPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgJzxzdmcgY2xhc3M9XCJvLWljb24tZmEtY2hldnJvbi1kb3duXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8dXNlIHhsaW5rOmhyZWY9XCIjZmEtYW5nbGUtZG91YmxlLWRvd25cIj48L3VzZT4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICc8L3N2Zz4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JztcclxuICAgICAgbGVnZW5kSXRlbSArPSAnPC9kaXY+PC9saT4nO1xyXG5cclxuICAgICAgbGF5ZXJTdHlsZS5mb3JFYWNoKGZ1bmN0aW9uIChzdHlsZUFycmF5KSB7XHJcbiAgICAgICAgbGVnZW5kSXRlbSArPSAnPGxpIGNsYXNzPVwiby1sZWdlbmQgJyArIGxheWVybmFtZSArICdcIiBpZD1cIicgKyBsYXllcm5hbWUgKyAnXCI+PGRpdiBjbGFzcyA9XCJvLWxlZ2VuZC1zdWJpdGVtXCI+JztcclxuICAgICAgICBsZWdlbmRJdGVtICs9ICc8ZGl2IGNsYXNzPVwiby1jaGVja2JveCBvLWNoZWNrYm94LWZhbHNlXCI+PC9kaXY+JztcclxuICAgICAgICBsZWdlbmRJdGVtICs9IGxheWVyLmdldCgnc3R5bGVOYW1lJykgPyBnZXRTeW1ib2woW3N0eWxlQXJyYXldKSA6ICcnO1xyXG4gICAgICAgIGxlZ2VuZEl0ZW0gKz0gJzxkaXYgY2xhc3M9XCJvLWxlZ2VuZC1zdWJpdGVtLXRpdGxlXCI+JyArIHN0eWxlQXJyYXlbMF0ubGVnZW5kICsgJzwvZGl2PjwvZGl2PjwvbGk+JztcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBsZWdlbmRJdGVtICs9ICc8L3VsPjwvbGk+J1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBsZWdlbmRJdGVtICs9ICc8bGkgY2xhc3M9XCJvLWxlZ2VuZCAnICsgbGF5ZXJuYW1lICsgJ1wiIGlkPVwiJyArIGxheWVyaWQgKyAnXCI+PGRpdiBjbGFzcyA9XCJvLWxlZ2VuZC1pdGVtJyArIHN1YkNsYXNzICsgJ1wiPjxkaXYgY2xhc3M9XCJvLWNoZWNrYm94XCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxzdmcgY2xhc3M9XCJvLWljb24tZmEtc3F1YXJlLW9cIj48dXNlIHhsaW5rOmhyZWY9XCIjZmEtc3F1YXJlLW9cIj48L3VzZT48L3N2Zz4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPHN2ZyBjbGFzcz1cIm8taWNvbi1mYS1jaGVjay1zcXVhcmUtb1wiPjx1c2UgeGxpbms6aHJlZj1cIiNmYS1jaGVjay1zcXVhcmUtb1wiPjwvdXNlPjwvc3ZnPicgK1xyXG4gICAgICAgICAgICAgICAgICAnPC9kaXY+JztcclxuICAgIGxlZ2VuZEl0ZW0gKz0gIGxheWVyLmdldCgnc3R5bGVOYW1lJykgPyBnZXRTeW1ib2woc3R5bGVTZXR0aW5nc1tsYXllci5nZXQoJ3N0eWxlTmFtZScpXSkgOiAnJztcclxuICAgIGxlZ2VuZEl0ZW0gKz0gJzxkaXYgY2xhc3M9XCJvLWxlZ2VuZC1pdGVtLXRpdGxlIG8tdHJ1bmNhdGVcIj4nICsgbGF5ZXIuZ2V0KCd0aXRsZScpICsgJzwvZGl2Pic7XHJcblxyXG4gICAgaWYobGF5ZXIuZ2V0KCdhYnN0cmFjdCcpKXtcclxuICAgICAgbGVnZW5kSXRlbSArPSBhZGRBYnN0cmFjdEJ1dHRvbihsYXllcm5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGxlZ2VuZEl0ZW0gKz0gJzwvZGl2PjwvbGk+JztcclxuICB9XHJcblxyXG4gIHJldHVybiBsZWdlbmRJdGVtO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVHcm91cChncm91cCwgcGFyZW50R3JvdXApIHtcclxuICB2YXIgbGVnZW5kR3JvdXA7XHJcbiAgdmFyIG92ZXJsYXlHcm91cDtcclxuICB2YXIgYWJzdHJhY3QgPSAnJztcclxuXHJcbiAgaWYgKGdyb3VwLmhhc093blByb3BlcnR5KCdvdmVybGF5R3JvdXAnKSkge1xyXG4gICAgb3ZlcmxheUdyb3VwID0gZ3JvdXAubmFtZTtcclxuICB9XHJcblxyXG4gIGlmIChncm91cC5hYnN0cmFjdCkge1xyXG4gICAgYWJzdHJhY3QgKz0gYWRkQWJzdHJhY3RCdXR0b24oZ3JvdXAubmFtZSk7XHJcbiAgfVxyXG5cclxuICBpZiAocGFyZW50R3JvdXApIHtcclxuICAgIHZhciBpbmRlbnQgPSAkKHBhcmVudEdyb3VwKS5wYXJlbnQoKS5jbG9zZXN0KCd1bCcpLmhhc0NsYXNzKCdvLWxlZ2VuZC1ncm91cCcpID8gJ28tbGVnZW5kLWluZGVudCcgOiAnJztcclxuXHJcbiAgICBsZWdlbmRHcm91cCA9ICc8bGkgY2xhc3M9XCJvLWxlZ2VuZCAnICsgZ3JvdXAubmFtZSArICcgby10b3AtaXRlbVwiIGlkPVwiJyArIGdyb3VwLm5hbWUgKyAnXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzx1bCBpZD1cIm8tZ3JvdXAtJyArIGdyb3VwLm5hbWUgKyAnXCIgY2xhc3M9XCJvLWxlZ2VuZC1ncm91cCBvLWxlZ2VuZC1zdWJncm91cCAnICsgaW5kZW50ICsnXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAnPGxpIGNsYXNzPVwiby1sZWdlbmQtaGVhZGVyIG8tbGVnZW5kLXN1YmhlYWRlciAnICsgZ3JvdXAubmFtZSArICdcIiBpZD1cIicgKyBncm91cC5uYW1lICsgJ1wiPjxkaXYgY2xhc3M9XCJvLWxlZ2VuZC1pdGVtXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiby1jaGVja2JveFwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICc8c3ZnIGNsYXNzPVwiby1pY29uLWZhLXNxdWFyZS1vXCI+PHVzZSB4bGluazpocmVmPVwiI2ZhLXNxdWFyZS1vXCI+PC91c2U+PC9zdmc+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzdmcgY2xhc3M9XCJvLWljb24tZmEtY2hlY2stc3F1YXJlLW9cIj48dXNlIHhsaW5rOmhyZWY9XCIjZmEtY2hlY2stc3F1YXJlLW9cIj48L3VzZT48L3N2Zz4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm8tbGVnZW5kLXN1Ymdyb3VwLXRpdGxlIG8tdHJ1bmNhdGVcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cC50aXRsZSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJvLWljb24tZXhwYW5kXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzdmcgY2xhc3M9XCJvLWljb24tZmEtY2hldnJvbi1yaWdodFwiPjx1c2UgeGxpbms6aHJlZj1cIiNmYS1hbmdsZS1kb3VibGUtcmlnaHRcIj48L3VzZT48L3N2Zz4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAnPHN2ZyBjbGFzcz1cIm8taWNvbi1mYS1jaGV2cm9uLWRvd25cIj48dXNlIHhsaW5rOmhyZWY9XCIjZmEtYW5nbGUtZG91YmxlLWRvd25cIj48L3VzZT48L3N2Zz4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgKyBhYnN0cmFjdCArXHJcbiAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+PC9saT4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPC91bD4nICtcclxuICAgICAgICAgICAgICAgICAgJzwvbGk+JztcclxuICAgIHBhcmVudEdyb3VwLmFwcGVuZChsZWdlbmRHcm91cCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGxlZ2VuZEdyb3VwID0gJzxsaT4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPHVsIGlkPVwiby1ncm91cC0nICsgZ3JvdXAubmFtZSArICdcIiBjbGFzcz1cIm8tbGVnZW5kLWdyb3VwXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAnPGxpIGNsYXNzPVwiby1sZWdlbmQtaGVhZGVyXCI+PGRpdiBjbGFzcz1cIm8tbGVnZW5kLWl0ZW1cIj4nICsgZ3JvdXAudGl0bGUgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm8taWNvbi1leHBhbmRcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAnPHN2ZyBjbGFzcz1cIm8taWNvbi1mYS1jaGV2cm9uLXJpZ2h0XCI+PHVzZSB4bGluazpocmVmPVwiI2ZhLWNoZXZyb24tcmlnaHRcIj48L3VzZT48L3N2Zz4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAnPHN2ZyBjbGFzcz1cIm8taWNvbi1mYS1jaGV2cm9uLWRvd25cIj48dXNlIHhsaW5rOmhyZWY9XCIjZmEtY2hldnJvbi1kb3duXCI+PC91c2U+PC9zdmc+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICsgYWJzdHJhY3QgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PjwvbGk+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzwvdWw+JyArXHJcbiAgICAgICAgICAgICAgICAgICc8L2xpPic7XHJcbiAgICAkKCcjby1sZWdlbmRsaXN0IC5vLWxlZ2VuZGxpc3QnKS5hcHBlbmQobGVnZW5kR3JvdXApO1xyXG4gIH1cclxuXHJcbiAgaWYgKGdyb3VwLmV4cGFuZGVkID09IHRydWUpIHtcclxuICAgICQoJyNvLWdyb3VwLScgKyBncm91cC5uYW1lICsnIC5vLWljb24tZXhwYW5kJykuYWRkQ2xhc3MoJ28taWNvbi1leHBhbmQtdHJ1ZScpO1xyXG4gICAgJCgnI28tZ3JvdXAtJyArIGdyb3VwLm5hbWUgKycgLm8tY2hlY2tib3gnKS5hZGRDbGFzcygnby1jaGVja2JveC1mYWxzZScpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAkKCcjby1ncm91cC0nICsgZ3JvdXAubmFtZSArJyAuby1pY29uLWV4cGFuZCcpLmFkZENsYXNzKCdvLWljb24tZXhwYW5kLWZhbHNlJyk7XHJcbiAgICAkKCcjby1ncm91cC0nICsgZ3JvdXAubmFtZSArJyAuby1jaGVja2JveCcpLmFkZENsYXNzKCdvLWNoZWNrYm94LWZhbHNlJyk7XHJcbiAgICAkKCcjby1ncm91cC0nICsgZ3JvdXAubmFtZSkuYWRkQ2xhc3MoJ28tdWwtZXhwYW5kLWZhbHNlJyk7XHJcbiAgfVxyXG5cclxuICAkKCcjby1ncm91cC0nICsgZ3JvdXAubmFtZSArICcgLm8tbGVnZW5kLWhlYWRlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2dCkge1xyXG5cclxuICAgIGlmICgkKGV2dC50YXJnZXQpLmNsb3Nlc3QoJ2RpdicpLmhhc0NsYXNzKCdvLWNoZWNrYm94JykpIHtcclxuICAgICAgdG9nZ2xlU3ViR3JvdXBDaGVjaygkKHRoaXMpLnBhcmVudCgpLCB0cnVlKTtcclxuICAgIH0gZWxzZSBpZiAoJChldnQudGFyZ2V0KS5jbG9zZXN0KCdkaXYnKS5oYXNDbGFzcygnby1hYnN0cmFjdCcpKSB7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdG9nZ2xlR3JvdXAoJCh0aGlzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgfSk7XHJcblxyXG4gIGlmIChncm91cC5oYXNPd25Qcm9wZXJ0eSgnZ3JvdXBzJykpIHtcclxuICAgIGdyb3VwLmdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uKHN1Ymdyb3VwKSB7XHJcbiAgICAgIGNyZWF0ZUdyb3VwKHN1Ymdyb3VwLCAkKCcjby1ncm91cC0nICsgZ3JvdXAubmFtZSkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRMZWdlbmQoZ3JvdXBzKSB7XHJcbiAgdmFyIGxheWVycyA9IHZpZXdlci5nZXRNYXAoKS5nZXRMYXllcnMoKS5nZXRBcnJheSgpO1xyXG4gIHZhciBvdmVybGF5R3JvdXA7XHJcbiAgdmFyIGl0ZW0gPSAnJztcclxuXHJcbiAgLy9BZGQgbGVnZW5kIGdyb3Vwc1xyXG4gIHZhciBsZWdlbmQgPSAnPGRpdiBpZD1cIm8tbGVnZW5kbGlzdFwiPjx1bCBjbGFzcz1cIm8tbGVnZW5kbGlzdFwiPjwvdWw+PC9kaXY+JztcclxuICAkKCcjby1tYXBtZW51JykuYXBwZW5kKGxlZ2VuZCk7XHJcblxyXG4gIGdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uKGdyb3VwKSB7XHJcbiAgICBjcmVhdGVHcm91cChncm91cCk7XHJcbiAgfSk7XHJcblxyXG4gIC8vQWRkIG1hcCBsZWdlbmQgdW5sZXNzIHNldCB0byBmYWxzZVxyXG4gIGlmKGhhc01hcExlZ2VuZCkge1xyXG4gICAgdmFyIG1hcExlZ2VuZCA9ICc8ZGl2IGlkPVwiby1tYXAtbGVnZW5kXCI+PHVsIGlkPVwiby1sZWdlbmQtb3ZlcmxheVwiPjxsaSBjbGFzcz1cIm8tbGVnZW5kIG8taGlkZGVuXCI+PGRpdiBjbGFzcyA9XCJvLXRvZ2dsZS1idXR0b24gby10b2dnbGUtYnV0dG9uLW1heFwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHN2ZyBjbGFzcz1cIm8taWNvbi1mYS1hbmdsZS1kb3VibGUtZG93blwiPjx1c2UgeGxpbms6aHJlZj1cIiNmYS1hbmdsZS1kb3VibGUtZG93blwiPjwvdXNlPjwvc3ZnPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHN2ZyBjbGFzcz1cIm8taWNvbi1mYS1hbmdsZS1kb3VibGUtdXBcIj48dXNlIHhsaW5rOmhyZWY9XCIjZmEtYW5nbGUtZG91YmxlLXVwXCI+PC91c2U+PC9zdmc+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzwvZGl2PjwvbGk+PGxpPjx1bCBpZD1cIm8tb3ZlcmxheS1saXN0XCI+PC9saT48L3VsPjwvdWw+PHVsIGlkPVwiby1tYXAtbGVnZW5kLWJhY2tncm91bmRcIj48L3VsPjwvZGl2Pic7XHJcbiAgICAkKCcjby1tYXAnKS5hcHBlbmQobWFwTGVnZW5kKTtcclxuXHJcbiAgICAvL0FkZCBkaXZpZGVyIHRvIG1hcCBsZWdlbmQgaWYgbm90IG9ubHkgYmFja2dyb3VuZFxyXG4gICAgaWYob3ZlcmxheUdyb3VwKSB7XHJcbiAgICAgICQoJyNvLW1hcC1sZWdlbmQtYmFja2dyb3VuZCcpLnByZXBlbmQoJzxkaXYgY2xhc3M9XCJvLWxlZ2VuZC1pdGVtLWRpdmlkZXJcIj48L2Rpdj4nKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvL0FkZCBsYXllcnMgdG8gbGVnZW5kXHJcbiAgbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24obGF5ZXIpIHtcclxuXHJcbiAgICB2YXIgbmFtZSA9IChsYXllci5nZXQoJ25hbWUnKSk7XHJcbiAgICB2YXIgbGF5ZXJTdHlsZSA9IHN0eWxlU2V0dGluZ3NbbGF5ZXIuZ2V0KCdzdHlsZU5hbWUnKV07XHJcbiAgICAvL0NoZWNrIGlmIGxheWVyIGJlbG9uZ3MgdG8gc3ViZ3JvdXBcclxuICAgIHZhciBpblN1Ymdyb3VwID0gJCgnI28tZ3JvdXAtJyArIGxheWVyLmdldCgnZ3JvdXAnKSkuY2xvc2VzdCgndWwnKS5wYXJlbnQoKS5jbG9zZXN0KCd1bCcpLmhhc0NsYXNzKCdvLWxlZ2VuZC1ncm91cCcpO1xyXG4gICAgdmFyIHRpdGxlID0gJzxkaXYgY2xhc3M9XCJvLWxlZ2VuZC1pdGVtLXRpdGxlIG8tdHJ1bmNhdGVcIj4nICsgbGF5ZXIuZ2V0KCd0aXRsZScpICsgJzwvZGl2Pic7XHJcbiAgICB2YXIgcm9vdEdyb3VwO1xyXG5cclxuICAgIC8vQWRkIGFic3RyYWN0IGJ1dHRvblxyXG4gICAgaWYobGF5ZXIuZ2V0KCdhYnN0cmFjdCcpKXtcclxuICAgICAgdGl0bGUgKz0gYWRkQWJzdHJhY3RCdXR0b24obmFtZSk7XHJcbiAgICB9XHJcbiAgICB0aXRsZSArPSAnPC9kaXY+PC9saT4nO1xyXG5cclxuICAgIC8vQXBwZW5kIGxheWVyIHRvIGdyb3VwIGluIGxlZ2VuZC4gQWRkIHRvIGRlZmF1bHQgZ3JvdXAgaWYgbm90IGRlZmluZWQuXHJcbiAgICBpZihsYXllci5nZXQoJ2dyb3VwJykgPT0gJ2JhY2tncm91bmQnKSB7XHJcblxyXG4gICAgICAvL0FwcGVuZCBiYWNrZ3JvdW5kIGxheWVycyB0byBtZW51XHJcbiAgICAgIGl0ZW0gPSAnPGxpIGNsYXNzPVwiby1sZWdlbmQgJyArIG5hbWUgKyAnXCIgaWQ9XCInICsgbmFtZSArICdcIj48ZGl2IGNsYXNzID1cIm8tbGVnZW5kLWl0ZW1cIj48ZGl2IGNsYXNzPVwiby1jaGVja2JveFwiPjxzdmcgY2xhc3M9XCJvLWljb24tZmEtY2hlY2tcIj48dXNlIHhsaW5rOmhyZWY9XCIjZmEtY2hlY2tcIj48L3VzZT48L3N2Zz48L2Rpdj4nO1xyXG4gICAgICBpdGVtICs9IHRpdGxlO1xyXG4gICAgICAkKCcjby1ncm91cC1iYWNrZ3JvdW5kIC5vLWxlZ2VuZC1oZWFkZXInKS5hZnRlcihpdGVtKTtcclxuXHJcbiAgICAgIC8vQXBwZW5kIGJhY2tncm91bmQgbGF5ZXJzIHRvIG1hcCBsZWdlbmRcclxuICAgICAgaXRlbSA9ICc8bGkgY2xhc3M9XCJvLWxlZ2VuZCAnICsgbmFtZSArICdcIiBpZD1cIm8tbGVnZW5kLScgKyBuYW1lICsgJ1wiPjxkaXYgY2xhc3MgPVwiby1sZWdlbmQtaXRlbVwiPidcclxuICAgICAgaXRlbSArPSBsYXllci5nZXQoJ3N0eWxlTmFtZScpID8gZ2V0U3ltYm9sKHN0eWxlU2V0dGluZ3NbbGF5ZXIuZ2V0KCdzdHlsZU5hbWUnKV0pIDogJyc7XHJcbiAgICAgIGl0ZW0gKz0gJzwvZGl2Pic7XHJcbiAgICAgICQoJyNvLW1hcC1sZWdlbmQtYmFja2dyb3VuZCcpLnByZXBlbmQoaXRlbSk7XHJcblxyXG4gICAgfSBlbHNlIGlmKGxheWVyLmdldCgnZ3JvdXAnKSAmJiAoKGxheWVyLmdldCgnZ3JvdXAnKSAhPSAnbm9uZScpKSkge1xyXG5cclxuICAgICAgLy9BcHBlbmQgbGF5ZXIgdG8gZ3JvdXBcclxuICAgICAgaXRlbSA9IGNyZWF0ZUxlZ2VuZEl0ZW0obmFtZSwgbGF5ZXJTdHlsZSwgaW5TdWJncm91cCk7XHJcbiAgICAgIGlmICgkKCcjby1ncm91cC0nICsgbGF5ZXIuZ2V0KCdncm91cCcpKS5jaGlsZHJlbignbGkuby10b3AtaXRlbTpsYXN0JykubGVuZ3RoKSB7XHJcbiAgICAgICAgJCgnI28tZ3JvdXAtJyArIGxheWVyLmdldCgnZ3JvdXAnKSkuY2hpbGRyZW4oJ2xpLm8tdG9wLWl0ZW06bGFzdCcpLmFmdGVyKGl0ZW0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoJyNvLWdyb3VwLScgKyBsYXllci5nZXQoJ2dyb3VwJykgKyAnIC5vLWxlZ2VuZC1oZWFkZXInKS5hZnRlcihpdGVtKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYobGF5ZXIuZ2V0KCdsZWdlbmQnKSA9PSB0cnVlIHx8IGxheWVyLmdldFZpc2libGUodHJ1ZSkpIHtcclxuICAgICAgICAvL0FwcGVuZCB0byBtYXAgbGVnZW5kXHJcbiAgICAgICAgaXRlbSA9ICc8bGkgY2xhc3M9XCJvLWxlZ2VuZCAnICsgbmFtZSArICdcIiBpZD1cIm8tbGVnZW5kLScgKyBuYW1lICsgJ1wiPjxkaXYgY2xhc3MgPVwiby1sZWdlbmQtaXRlbVwiPjxkaXYgY2xhc3M9XCJvLWNoZWNrYm94XCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICc8c3ZnIGNsYXNzPVwiby1pY29uLWZhLXNxdWFyZS1vXCI+PHVzZSB4bGluazpocmVmPVwiI2ZhLXNxdWFyZS1vXCI+PC91c2U+PC9zdmc+JyArXHJcbiAgICAgICAgICAgICAgICAgICc8c3ZnIGNsYXNzPVwiby1pY29uLWZhLWNoZWNrLXNxdWFyZS1vXCI+PHVzZSB4bGluazpocmVmPVwiI2ZhLWNoZWNrLXNxdWFyZS1vXCI+PC91c2U+PC9zdmc+JyArXHJcbiAgICAgICAgICAgICAgICAnPC9kaXY+JztcclxuICAgICAgICBpdGVtICs9IGxheWVyLmdldCgnc3R5bGVOYW1lJykgPyBnZXRTeW1ib2woc3R5bGVTZXR0aW5nc1tsYXllci5nZXQoJ3N0eWxlTmFtZScpXSkgOiAnJztcclxuICAgICAgICBpdGVtICs9IHRpdGxlO1xyXG4gICAgICAgICQoJyNvLW92ZXJsYXktbGlzdCcpLnByZXBlbmQoaXRlbSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL0NoZWNrIG1hcCBsZWdlbmQgdG8gbWFrZSBzdXJlIG1pbmltaXplIGJ1dHRvbiBhcHBlYXJzXHJcbiAgICBjaGVja1RvZ2dsZU92ZXJsYXkoKTtcclxuXHJcbiAgICAvL0FwcGVuZCBjbGFzcyBhY2NvcmRpbmcgdG8gdmlzaWJsaXR5IGFuZCBpZiBncm91cCBpcyBiYWNrZ3JvdW5kXHJcbiAgICBpZiAobGF5ZXIuZ2V0KCdncm91cCcpID09ICdiYWNrZ3JvdW5kJykge1xyXG4gICAgICBpZiAobGF5ZXIuZ2V0VmlzaWJsZSgpPT10cnVlKSB7XHJcbiAgICAgICAgJCgnIycgKyBuYW1lICsgJyAuby1jaGVja2JveCcpLmFkZENsYXNzKCdvLWNoZWNrLXRydWUnKTtcclxuICAgICAgICAkKCcjby1sZWdlbmQtJyArIG5hbWUpLmFkZENsYXNzKCdvLWNoZWNrLXRydWUtaW1nJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJCgnIycgKyBuYW1lICsgJyAuby1jaGVja2JveCcpLmFkZENsYXNzKCdvLWNoZWNrLWZhbHNlJyk7XHJcbiAgICAgICAgJCgnI28tbGVnZW5kLScgKyBuYW1lKS5hZGRDbGFzcygnby1jaGVjay1mYWxzZS1pbWcnKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGxheWVyLmdldFZpc2libGUoKT09dHJ1ZSkge1xyXG4gICAgICAgICQoJy4nICsgbmFtZSArICcgLm8tY2hlY2tib3gnKS5hZGRDbGFzcygnby1jaGVja2JveC10cnVlJyk7XHJcblxyXG4gICAgICAgIGlmIChpblN1Ymdyb3VwKSB7XHJcbiAgICAgICAgICByb290R3JvdXAgPSAkKCcjJyArIG5hbWUpLnBhcmVudHMoJ3VsIFtpZF49by1ncm91cC1dOmxhc3QnKTtcclxuICAgICAgICAgIGlmICghJChyb290R3JvdXApLmZpbmQoJy5vLWljb24tZXhwYW5kOmZpcnN0JykuaGFzQ2xhc3MoJ28taWNvbi1leHBhbmQtdHJ1ZScpKSB7XHJcbiAgICAgICAgICAgIHRvZ2dsZUdyb3VwKCQocm9vdEdyb3VwKS5maW5kKCdsaS5vLWxlZ2VuZC1oZWFkZXI6Zmlyc3QnKSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdG9nZ2xlU3ViR3JvdXBDaGVjaygkKCcjJyArIG5hbWUpLnBhcmVudHMoJ3VsJykuaGFzKCcuby1sZWdlbmQtaGVhZGVyJykuZmlyc3QoKSwgZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkKCcjby1ncm91cC0nICsgbGF5ZXIuZ2V0KCdncm91cCcpICsgJyAuby1pY29uLWV4cGFuZDpmaXJzdCcpLnJlbW92ZUNsYXNzKCdvLWljb24tZXhwYW5kLWZhbHNlJyk7XHJcbiAgICAgICAgICAkKCcjby1ncm91cC0nICsgbGF5ZXIuZ2V0KCdncm91cCcpICsgJyAuby1pY29uLWV4cGFuZDpmaXJzdCcpLmFkZENsYXNzKCdvLWljb24tZXhwYW5kLXRydWUnKTtcclxuICAgICAgICAgICQoJyNvLWdyb3VwLScgKyBsYXllci5nZXQoJ2dyb3VwJykpLnJlbW92ZUNsYXNzKCdvLXVsLWV4cGFuZC1mYWxzZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJCgnLicgKyBuYW1lICsgJyAuby1jaGVja2JveCcpLmFkZENsYXNzKCdvLWNoZWNrYm94LWZhbHNlJyk7XHJcblxyXG4gICAgICAgIGlmIChpblN1Ymdyb3VwKSB7XHJcbiAgICAgICAgICB0b2dnbGVTdWJHcm91cENoZWNrKCQoJyMnICsgbmFtZSkucGFyZW50cygndWwnKS5oYXMoJy5vLWxlZ2VuZC1oZWFkZXInKS5maXJzdCgpLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9FdmVudCBsaXN0ZW5lciBmb3IgdGljayBsYXllclxyXG4gICAgJCgnIycgKyBuYW1lKS5vbignY2xpY2snLCBmdW5jdGlvbihldnQpIHtcclxuICAgICAgaWYgKCQoZXZ0LnRhcmdldCkuY2xvc2VzdCgnZGl2JykuaGFzQ2xhc3MoJ28taWNvbi1leHBhbmQnKSkge1xyXG4gICAgICAgIHRvZ2dsZUdyb3VwKCQodGhpcykpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQodGhpcykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgICAgICAgIHRvZ2dsZUNoZWNrKCQodGhhdCkuYXR0cihcImlkXCIpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICQoJyNvLWxlZ2VuZC0nICsgbmFtZSkub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICQodGhpcykuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgdG9nZ2xlQ2hlY2soJCh0aGF0KS5hdHRyKFwiaWRcIikpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gICQoJy5vLWFic3RyYWN0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAkKHRoaXMpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgICAgc2hvd0Fic3RyYWN0KCQodGhhdCkpO1xyXG4gICAgfSk7XHJcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICB9KTtcclxuXHJcbiAgLy9Ub2dnbGUgbWFwIGxlZ2VuZFxyXG4gICQoJyNvLWxlZ2VuZC1vdmVybGF5IC5vLXRvZ2dsZS1idXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbihldnQpIHtcclxuICAgIHRvZ2dsZU92ZXJsYXkoKTtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIH0pO1xyXG5cclxuICAkKCcjby1tYXAtbGVnZW5kLWJhY2tncm91bmQgbGknKS5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICB2YXIgbGVnZW5kSWQgPSAkKGV2dC50YXJnZXQpLmNsb3Nlc3QoJ2xpJykuYXR0cignaWQnKTtcclxuICAgIHZhciBsYXllciA9IHZpZXdlci5nZXRMYXllcihsZWdlbmRJZC5zcGxpdChcIm8tbGVnZW5kLVwiKVsxXSk7XHJcbiAgICAkKHRoaXMpLmF0dHIoJ3RpdGxlJywgbGF5ZXIuZ2V0KCd0aXRsZScpKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gb25Ub2dnbGVDaGVjayhsYXllcm5hbWUpIHtcclxuICAvL0V2ZW50IGxpc3RlbmVyIGZvciB0aWNrIGxheWVyXHJcbiAgJCgnIycgKyBsYXllcm5hbWUpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgJCh0aGlzKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcbiAgICAgIHRvZ2dsZUNoZWNrKCQodGhhdCkuYXR0cihcImlkXCIpKTtcclxuICAgIH0pO1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9mZlRvZ2dsZUNoZWNrKGxheWVybmFtZSkge1xyXG4gIC8vRXZlbnQgbGlzdGVuZXIgZm9yIHRpY2sgbGF5ZXJcclxuICAkKCcjJyArIGxheWVybmFtZSkub2ZmKCdjbGljaycsIGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgJCh0aGlzKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcbiAgICAgIHRvZ2dsZUNoZWNrKCQodGhhdCkuYXR0cihcImlkXCIpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vL0V4cGFuZCBhbmQgbWluaW1pemUgZ3JvdXBcclxuZnVuY3Rpb24gdG9nZ2xlR3JvdXAoZ3JvdXBoZWFkZXIpIHtcclxuICB2YXIgZ3JvdXAgPSBncm91cGhlYWRlci5wYXJlbnQoJy5vLWxlZ2VuZC1ncm91cCcpO1xyXG4gIHZhciBncm91cGljb24gPSAkKCcjJyArIGdyb3VwLmF0dHIoJ2lkJykgKyAnIC5vLWljb24tZXhwYW5kOmZpcnN0Jyk7XHJcblxyXG4gIGlmIChncm91cGljb24uaGFzQ2xhc3MoJ28taWNvbi1leHBhbmQtZmFsc2UnKSkge1xyXG4gICAgZ3JvdXBpY29uLnJlbW92ZUNsYXNzKCdvLWljb24tZXhwYW5kLWZhbHNlJyk7XHJcbiAgICBncm91cGljb24uYWRkQ2xhc3MoJ28taWNvbi1leHBhbmQtdHJ1ZScpO1xyXG4gICAgZ3JvdXAucmVtb3ZlQ2xhc3MoJ28tdWwtZXhwYW5kLWZhbHNlJyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGdyb3VwaWNvbi5yZW1vdmVDbGFzcygnby1pY29uLWV4cGFuZC10cnVlJyk7XHJcbiAgICBncm91cGljb24uYWRkQ2xhc3MoJ28taWNvbi1leHBhbmQtZmFsc2UnKTtcclxuICAgIGdyb3VwLmFkZENsYXNzKCdvLXVsLWV4cGFuZC1mYWxzZScpO1xyXG4gIH1cclxufVxyXG5cclxuLy9Ub2dnbGUgc3ViZ3JvdXBzXHJcbmZ1bmN0aW9uIHRvZ2dsZVN1Ykdyb3VwQ2hlY2soc3ViZ3JvdXAsIHRvZ2dsZUFsbCkge1xyXG4gIHZhciBzdWJHcm91cCA9ICQoc3ViZ3JvdXApO1xyXG4gIHZhciBzdWJMYXllcnMgPSBzdWJHcm91cC5maW5kKCcuby1sZWdlbmQtaXRlbS5vLWxlZ2VuZC1zdWJpdGVtJyk7XHJcbiAgdmFyIGdyb3VwTGlzdCA9ICQoJy5vLWxlZ2VuZC1zdWJncm91cCcpO1xyXG5cclxuICBpZiAodG9nZ2xlQWxsKSB7XHJcblxyXG4gICAgc3ViTGF5ZXJzLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBsYXllcm5hbWUgPSAkKHRoaXMpLnBhcmVudCgpLmF0dHIoJ2lkJyk7XHJcbiAgICAgIHZhciBsYXllciA9IHZpZXdlci5nZXRMYXllcihsYXllcm5hbWUpO1xyXG4gICAgICB2YXIgbGF5ZXJpZCA9ICQodGhpcykucGFyZW50KCkuYXR0cignY2xhc3MnKTtcclxuICAgICAgdmFyIGluTWFwTGVnZW5kID0gbGF5ZXJpZC5zcGxpdCgnby1sZWdlbmQtJykubGVuZ3RoID4gMSA/IHRydWUgOiBmYWxzZTtcclxuXHJcbiAgICAgIGlmIChzdWJHcm91cC5jaGlsZHJlbigpLmZpcnN0KCkuZmluZCgnLm8tY2hlY2tib3gnKS5oYXNDbGFzcygnby1jaGVja2JveC10cnVlJykpIHtcclxuICAgICAgICAkKCcuJyArIGxheWVybmFtZSArICcgLm8tY2hlY2tib3gnKS5yZW1vdmVDbGFzcygnby1jaGVja2JveC10cnVlJyk7XHJcbiAgICAgICAgJCgnLicgKyBsYXllcm5hbWUgKyAnIC5vLWNoZWNrYm94JykuYWRkQ2xhc3MoJ28tY2hlY2tib3gtZmFsc2UnKTtcclxuXHJcbiAgICAgICAgaWYgKGluTWFwTGVnZW5kID09IGZhbHNlKSB7XHJcbiAgICAgICAgICBvZmZUb2dnbGVDaGVjaygnby1sZWdlbmQtJyArIGxheWVybmFtZSk7XHJcbiAgICAgICAgICAkKCcjby1sZWdlbmQtJyArIGxheWVybmFtZSkucmVtb3ZlKCk7XHJcbiAgICAgICAgICBsYXllci5zZXQoJ2xlZ2VuZCcsIGZhbHNlKTtcclxuICAgICAgICAgIGNoZWNrVG9nZ2xlT3ZlcmxheSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGF5ZXIuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIGlmIChpbk1hcExlZ2VuZCA9PSBmYWxzZSAmJiAkKCcjby1sZWdlbmQtJyArIGxheWVybmFtZSkubGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICQoJyNvLW92ZXJsYXktbGlzdCcpLnByZXBlbmQoY3JlYXRlTGVnZW5kSXRlbSgnby1sZWdlbmQtJyArIGxheWVybmFtZSkpO1xyXG4gICAgICAgICAgb25Ub2dnbGVDaGVjaygnby1sZWdlbmQtJyArIGxheWVybmFtZSk7XHJcbiAgICAgICAgICBjaGVja1RvZ2dsZU92ZXJsYXkoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQoJy4nICsgbGF5ZXJuYW1lICsgJyAuby1jaGVja2JveCcpLnJlbW92ZUNsYXNzKCdvLWNoZWNrYm94LWZhbHNlJyk7XHJcbiAgICAgICAgJCgnLicgKyBsYXllcm5hbWUgKyAnIC5vLWNoZWNrYm94JykuYWRkQ2xhc3MoJ28tY2hlY2tib3gtdHJ1ZScpO1xyXG4gICAgICAgIGxheWVyLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgbGF5ZXIuc2V0KCdsZWdlbmQnLCB0cnVlKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBncm91cExpc3QuZWFjaChmdW5jdGlvbigpIHtcclxuICAgIHZhciBzdWJMaXN0ID0gJCh0aGlzKS5maW5kKCcuby1sZWdlbmQtaXRlbS5vLWxlZ2VuZC1zdWJpdGVtJykuaGFzKCcuby1jaGVja2JveCcpO1xyXG4gICAgdmFyIHN1Ykxpc3RDaGVja2VkID0gJCh0aGlzKS5maW5kKCcuby1sZWdlbmQtaXRlbS5vLWxlZ2VuZC1zdWJpdGVtJykuaGFzKCcuby1jaGVja2JveC5vLWNoZWNrYm94LXRydWUnKTtcclxuXHJcbiAgICBpZiAoc3ViTGlzdENoZWNrZWQubGVuZ3RoKSB7XHJcbiAgICAgICQodGhpcykuY2hpbGRyZW4oKS5maXJzdCgpLmZpbmQoJy5vLWNoZWNrYm94JykucmVtb3ZlQ2xhc3MoJ28tY2hlY2tib3gtZmFsc2UnKTtcclxuICAgICAgJCh0aGlzKS5jaGlsZHJlbigpLmZpcnN0KCkuZmluZCgnLm8tY2hlY2tib3gnKS5hZGRDbGFzcygnby1jaGVja2JveC10cnVlJyk7XHJcblxyXG4gICAgICBpZiAoc3ViTGlzdC5sZW5ndGggIT0gc3ViTGlzdENoZWNrZWQubGVuZ3RoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5jaGlsZHJlbigpLmZpcnN0KCkuZmluZCgnLm8tY2hlY2tib3gnKS5hZGRDbGFzcygnby1jaGVja2JveC1zZW1pJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJCh0aGlzKS5jaGlsZHJlbigpLmZpcnN0KCkuZmluZCgnLm8tY2hlY2tib3gnKS5yZW1vdmVDbGFzcygnby1jaGVja2JveC1zZW1pJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAkKHRoaXMpLmNoaWxkcmVuKCkuZmlyc3QoKS5maW5kKCcuby1jaGVja2JveCcpLnJlbW92ZUNsYXNzKCdvLWNoZWNrYm94LXRydWUnKTtcclxuICAgICAgJCh0aGlzKS5jaGlsZHJlbigpLmZpcnN0KCkuZmluZCgnLm8tY2hlY2tib3gnKS5yZW1vdmVDbGFzcygnby1jaGVja2JveC1zZW1pJyk7XHJcbiAgICAgICQodGhpcykuY2hpbGRyZW4oKS5maXJzdCgpLmZpbmQoJy5vLWNoZWNrYm94JykuYWRkQ2xhc3MoJ28tY2hlY2tib3gtZmFsc2UnKTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuLy9Ub2dnbGUgbGF5ZXJzXHJcbmZ1bmN0aW9uIHRvZ2dsZUNoZWNrKGxheWVyaWQpIHtcclxuICB2YXIgbGF5ZXJuYW1lID0gbGF5ZXJpZC5zcGxpdCgnby1sZWdlbmQtJykucG9wKCk7XHJcbiAgdmFyIGluTWFwTGVnZW5kID0gbGF5ZXJpZC5zcGxpdCgnby1sZWdlbmQtJykubGVuZ3RoID4gMSA/IHRydWUgOiBmYWxzZTtcclxuICB2YXIgbGF5ZXIgPSB2aWV3ZXIuZ2V0TGF5ZXIobGF5ZXJuYW1lKTtcclxuXHJcbiAgLy9SYWRpbyB0b2dnbGUgZm9yIGJhY2tncm91bmRcclxuICBpZiAobGF5ZXIuZ2V0KCdncm91cCcpID09ICdiYWNrZ3JvdW5kJykge1xyXG4gICAgdmFyIGdyb3VwcyA9IHZpZXdlci5nZXRHcm91cCgnYmFja2dyb3VuZCcpO1xyXG5cclxuICAgIGdyb3Vwcy5mb3JFYWNoKGZ1bmN0aW9uKGdyb3VwKSB7XHJcbiAgICAgIGdyb3VwLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAkKCcjJyArIGdyb3VwLmdldCgnbmFtZScpICsgJyAuby1jaGVja2JveCcpLnJlbW92ZUNsYXNzKCdvLWNoZWNrLXRydWUnKTtcclxuICAgICAgJCgnIycgKyBncm91cC5nZXQoJ25hbWUnKSArICcgLm8tY2hlY2tib3gnKS5hZGRDbGFzcygnby1jaGVjay1mYWxzZScpO1xyXG4gICAgICAvL21hcCBsZWdlbmRcclxuICAgICAgJCgnI28tbGVnZW5kLScgKyBncm91cC5nZXQoJ25hbWUnKSkucmVtb3ZlQ2xhc3MoJ28tY2hlY2stdHJ1ZS1pbWcnKTtcclxuICAgICAgJCgnI28tbGVnZW5kLScgKyBncm91cC5nZXQoJ25hbWUnKSkuYWRkQ2xhc3MoJ28tY2hlY2stZmFsc2UtaW1nJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBsYXllci5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgJCgnIycgKyBsYXllcm5hbWUgKyAnIC5vLWNoZWNrYm94JykucmVtb3ZlQ2xhc3MoJ28tY2hlY2stZmFsc2UnKTtcclxuICAgICQoJyMnICsgbGF5ZXJuYW1lICsgJyAuby1jaGVja2JveCcpLmFkZENsYXNzKCdvLWNoZWNrLXRydWUnKTtcclxuICAgIC8vbWFwIGxlZ2VuZFxyXG4gICAgJCgnI28tbGVnZW5kLScgKyBsYXllcm5hbWUpLnJlbW92ZUNsYXNzKCdvLWNoZWNrLWZhbHNlLWltZycpO1xyXG4gICAgJCgnI28tbGVnZW5kLScgKyBsYXllcm5hbWUpLmFkZENsYXNzKCdvLWNoZWNrLXRydWUtaW1nJyk7XHJcbiAgfSBlbHNlIHsgLy9Ub2dnbGUgY2hlY2sgZm9yIGFsbCBncm91cHMgZXhjZXB0IGJhY2tncm91bmRcclxuXHJcbiAgICBpZiAoJCgnLicgKyBsYXllcm5hbWUgKyAnIC5vLWNoZWNrYm94JykuaGFzQ2xhc3MoJ28tY2hlY2tib3gtdHJ1ZScpKSB7XHJcbiAgICAgICQoJy4nICsgbGF5ZXJuYW1lICsgJyAuby1jaGVja2JveCcpLnJlbW92ZUNsYXNzKCdvLWNoZWNrYm94LXRydWUnKTtcclxuICAgICAgJCgnLicgKyBsYXllcm5hbWUgKyAnIC5vLWNoZWNrYm94JykuYWRkQ2xhc3MoJ28tY2hlY2tib3gtZmFsc2UnKTtcclxuXHJcbiAgICAgIGlmIChpbk1hcExlZ2VuZCA9PSBmYWxzZSkge1xyXG4gICAgICAgIG9mZlRvZ2dsZUNoZWNrKCdvLWxlZ2VuZC0nICsgbGF5ZXJuYW1lKTtcclxuICAgICAgICAkKCcjby1sZWdlbmQtJyArIGxheWVybmFtZSkucmVtb3ZlKCk7XHJcbiAgICAgICAgbGF5ZXIuc2V0KCdsZWdlbmQnLCBmYWxzZSk7XHJcbiAgICAgICAgY2hlY2tUb2dnbGVPdmVybGF5KCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxheWVyLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgIGlmIChpbk1hcExlZ2VuZCA9PSBmYWxzZSAmJiAkKCcjby1sZWdlbmQtJyArIGxheWVybmFtZSkubGVuZ3RoID09IDApIHtcclxuICAgICAgICAkKCcjby1vdmVybGF5LWxpc3QnKS5wcmVwZW5kKGNyZWF0ZUxlZ2VuZEl0ZW0oJ28tbGVnZW5kLScgKyBsYXllcm5hbWUpKTtcclxuICAgICAgICBvblRvZ2dsZUNoZWNrKCdvLWxlZ2VuZC0nICsgbGF5ZXJuYW1lKTtcclxuICAgICAgICBjaGVja1RvZ2dsZU92ZXJsYXkoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgJCgnLicgKyBsYXllcm5hbWUgKyAnIC5vLWNoZWNrYm94JykucmVtb3ZlQ2xhc3MoJ28tY2hlY2tib3gtZmFsc2UnKTtcclxuICAgICAgJCgnLicgKyBsYXllcm5hbWUgKyAnIC5vLWNoZWNrYm94JykuYWRkQ2xhc3MoJ28tY2hlY2tib3gtdHJ1ZScpO1xyXG4gICAgICBsYXllci5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICBsYXllci5zZXQoJ2xlZ2VuZCcsIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICgkKCcjJyArIGxheWVybmFtZSkuZmluZCgnLm8tbGVnZW5kLXN1Yml0ZW0nKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHRvZ2dsZVN1Ykdyb3VwQ2hlY2soJCgnIycgKyBsYXllcm5hbWUpLnBhcmVudHMoJ3VsJykuaGFzKCcuby1sZWdlbmQtaGVhZGVyJykuZmlyc3QoKSwgZmFsc2UpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tUb2dnbGVPdmVybGF5KCkge1xyXG4gIGlmKCQoJyNvLW92ZXJsYXktbGlzdCBsaScpLmxlbmd0aCA+IDEgJiYgJCgnI28tbGVnZW5kLW92ZXJsYXkgPmxpOmZpcnN0LWNoaWxkJykuaGFzQ2xhc3MoJ28taGlkZGVuJykpIHtcclxuICAgICQoJyNvLWxlZ2VuZC1vdmVybGF5ID4gbGk6Zmlyc3QtY2hpbGQnKS5yZW1vdmVDbGFzcygnby1oaWRkZW4nKTtcclxuICB9IGVsc2UgaWYoJCgnI28tb3ZlcmxheS1saXN0IGxpJykubGVuZ3RoIDwgMikge1xyXG4gICAgJCgnI28tbGVnZW5kLW92ZXJsYXkgPiBsaTpmaXJzdC1jaGlsZCcpLmFkZENsYXNzKCdvLWhpZGRlbicpO1xyXG5cclxuICAgIGlmKCQoJyNvLW92ZXJsYXktbGlzdCcpLmxlbmd0aCA9PSAxICYmICQoJyNvLW92ZXJsYXktbGlzdCcpLmhhc0NsYXNzKCdvLWhpZGRlbicpKSB7XHJcbiAgICAgICQoJyNvLW92ZXJsYXktbGlzdCcpLnJlbW92ZUNsYXNzKCdvLWhpZGRlbicpO1xyXG4gICAgICB0b2dnbGVPdmVybGF5KCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB0b2dnbGVPdmVybGF5KCkge1xyXG4gIGlmKCQoJyNvLWxlZ2VuZC1vdmVybGF5IC5vLXRvZ2dsZS1idXR0b24nKS5oYXNDbGFzcygnby10b2dnbGUtYnV0dG9uLW1heCcpKSB7XHJcbiAgICAkKCcjby1sZWdlbmQtb3ZlcmxheSAuby10b2dnbGUtYnV0dG9uJykucmVtb3ZlQ2xhc3MoJ28tdG9nZ2xlLWJ1dHRvbi1tYXgnKTtcclxuICAgICQoJyNvLWxlZ2VuZC1vdmVybGF5IC5vLXRvZ2dsZS1idXR0b24nKS5hZGRDbGFzcygnby10b2dnbGUtYnV0dG9uLW1pbicpO1xyXG4gICAgJCgnI28tb3ZlcmxheS1saXN0JykuYWRkQ2xhc3MoJ28taGlkZGVuJyk7XHJcbiAgfSBlbHNlIHtcclxuICAgICQoJyNvLWxlZ2VuZC1vdmVybGF5IC5vLXRvZ2dsZS1idXR0b24nKS5yZW1vdmVDbGFzcygnby10b2dnbGUtYnV0dG9uLW1pbicpO1xyXG4gICAgJCgnI28tbGVnZW5kLW92ZXJsYXkgLm8tdG9nZ2xlLWJ1dHRvbicpLmFkZENsYXNzKCdvLXRvZ2dsZS1idXR0b24tbWF4Jyk7XHJcbiAgICAkKCcjby1vdmVybGF5LWxpc3QnKS5yZW1vdmVDbGFzcygnby1oaWRkZW4nKTtcclxuICB9XHJcbn1cclxuXHJcbi8vU2V0IGNvbnRlbnQgZm9yIGluZm8gYnV0dG9uIHBvcHVwXHJcbmZ1bmN0aW9uIHNob3dBYnN0cmFjdCgkYWJzdHJhY3RCdXR0b24pIHtcclxuICB2YXIgbGF5ZXI7XHJcbiAgdmFyICRpdGVtID0gJGFic3RyYWN0QnV0dG9uLmNsb3Nlc3QoJ2xpJyk7XHJcbiAgdmFyIGxheWVybmFtZSA9ICRhYnN0cmFjdEJ1dHRvbi5hdHRyKCdpZCcpLnNwbGl0KCdvLWxlZ2VuZC1pdGVtLWluZm8tJykucG9wKCk7XHJcbiAgdmFyIGFic3RyYWN0ID0ge1xyXG4gICAgdGl0bGU6ICcnLFxyXG4gICAgY29udGVudDogJydcclxuICB9O1xyXG5cclxuICAvL0lmIGluZm8gYnV0dG9uIGlzIGNvbm5lY3RlZCBncm91cFxyXG4gIGlmICgkaXRlbS5oYXNDbGFzcygnby1sZWdlbmQtaGVhZGVyJykpIHtcclxuICAgIHZhciBncm91cHMgPSB2aWV3ZXIuZ2V0R3JvdXBzKCk7XHJcblxyXG4gICAgdmFyIGdyb3VwID0gJC5ncmVwKGdyb3VwcywgZnVuY3Rpb24ob2JqKSB7XHJcbiAgICAgIHJldHVybiAob2JqLm5hbWUgPT0gbGF5ZXJuYW1lKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGFic3RyYWN0LnRpdGxlID0gZ3JvdXBbMF0udGl0bGU7XHJcbiAgICBhYnN0cmFjdC5jb250ZW50ID0gZ3JvdXBbMF0uYWJzdHJhY3RcclxuICB9IGVsc2UgeyAvLyBJZiBpbmZvIGJ1dHRvbiBpcyBjb25uZWN0ZWQgdG8gbGF5ZXJcclxuICAgIGxheWVyID0gdmlld2VyLmdldExheWVyKGxheWVybmFtZSk7XHJcbiAgICBhYnN0cmFjdC50aXRsZSA9IGxheWVyLmdldCgndGl0bGUnKTtcclxuICAgIGFic3RyYWN0LmNvbnRlbnQgPSBsYXllci5nZXQoJ2Fic3RyYWN0Jyk7XHJcbiAgfVxyXG5cclxuICBtb2RhbC5jcmVhdGVNb2RhbCgnI28tbWFwJywge3RpdGxlOiBhYnN0cmFjdC50aXRsZSwgY29udGVudDogYWJzdHJhY3QuY29udGVudH0pO1xyXG4gIG1vZGFsLnNob3dNb2RhbCgpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5pbml0ID0gaW5pdDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XHJcblxyXG52YXIgdXJsO1xyXG52YXIgdGl0bGU7XHJcbnZhciAkbGlua0J1dHRvbjtcclxuXHJcbmZ1bmN0aW9uIGluaXQob3B0X29wdGlvbnMpIHtcclxuICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xyXG4gIHVybCA9IG9wdGlvbnMudXJsO1xyXG4gIHRpdGxlID0gb3B0aW9ucy50aXRsZTtcclxuXHJcbiAgcmVuZGVyKCk7XHJcbiAgYmluZFVJQWN0aW9ucygpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAgdmFyIGVsID0gdXRpbHMuY3JlYXRlTGlzdEJ1dHRvbih7XHJcbiAgICBpZDogJ28tbGluaycsXHJcbiAgICBpY29uQ2xzOiAnby1pY29uLWZhLWV4dGVybmFsLWxpbmsnLFxyXG4gICAgc3JjOiAnI2ZhLWV4dGVybmFsLWxpbmsnLFxyXG4gICAgdGV4dDogdGl0bGVcclxuXHJcbiAgfSk7XHJcbiAgJCgnI28tbWVudXRvb2xzJykuYXBwZW5kKGVsKTtcclxuICAkbGlua0J1dHRvbiA9ICQoJyNvLWxpbmstYnV0dG9uJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJpbmRVSUFjdGlvbnMoKSB7XHJcbiAgJGxpbmtCdXR0b24ub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICB3aW5kb3cub3Blbih1cmwpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5pbml0ID0gaW5pdDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XHJcbnZhciBzdXBwb3J0cyA9IHJlcXVpcmUoJy4vdXRpbHMvc3VwcG9ydHMnKTtcclxudmFyIHBlcm1hbGluayA9IHJlcXVpcmUoJy4vcGVybWFsaW5rL3Blcm1hbGluaycpO1xyXG52YXIgZ2V0VXJsID0gcmVxdWlyZSgnLi91dGlscy9nZXR1cmwnKTtcclxudmFyIGlzVXJsID0gcmVxdWlyZSgnLi91dGlscy9pc3VybCcpO1xyXG52YXIgdHJpbVVybCA9IHJlcXVpcmUoJy4vdXRpbHMvdHJpbXVybCcpO1xyXG5cclxudmFyIG1hcExvYWRlciA9IGZ1bmN0aW9uKG1hcE9wdGlvbnMsIGNvbmZpZykge1xyXG5cclxuICB2YXIgbWFwID0ge307XHJcbiAgdmFyIG1hcEVsID0gY29uZmlnLnRhcmdldDtcclxuICB2YXIgZm9ybWF0ID0gJ2pzb24nO1xyXG4gIHZhciBjb3JzID0gY29uZmlnLmNyb3NzT3JpZ2luO1xyXG5cclxuICB2YXIgdXJsUGFyYW1zID0gdW5kZWZpbmVkO1xyXG5cclxuICBpZiAobWFwRWwuc3Vic3RyaW5nKDAsIDEpICE9PSAnIycpIHtcclxuICAgIG1hcEVsID0gJyMnICsgbWFwRWw7XHJcbiAgfVxyXG4gIG1hcC5lbCA9IG1hcEVsO1xyXG5cclxuICAvLyBDaGVjayBicm93c2VyIHN1cHBvcnRcclxuICBpZiAoc3VwcG9ydHMoJ2Jyb3dzZXInLCBtYXBFbCkgPT09IGZhbHNlKSB7XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2hlY2sgaWYgYXV0aG9yaXphdGlvbiBpcyByZXF1aXJlZCBiZWZvcmUgbWFwIG9wdGlvbnMgaXMgbG9hZGVkXHJcbiAgaWYgKGNvbmZpZy5hdXRob3JpemF0aW9uVXJsKSB7XHJcbiAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICB1cmw6IGNvbmZpZy5hdXRob3JpemF0aW9uVXJsXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICByZXR1cm4gbG9hZE1hcE9wdGlvbnMoKTtcclxuICAgICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBsb2FkTWFwT3B0aW9ucygpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gbG9hZE1hcE9wdGlvbnMoKSB7XHJcbiAgICBpZiAodHlwZW9mKG1hcE9wdGlvbnMpID09PSAnb2JqZWN0Jykge1xyXG4gICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2gpIHtcclxuICAgICAgICB1cmxQYXJhbXMgPSBwZXJtYWxpbmsucGFyc2VQZXJtYWxpbmsod2luZG93LmxvY2F0aW9uLmhyZWYpO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBiYXNlVXJsID0gY29uZmlnLmJhc2VVcmwgfHwgJyc7XHJcbiAgICAgIG1hcC5vcHRpb25zID0gJC5leHRlbmQoY29uZmlnLCBtYXBPcHRpb25zKTtcclxuICAgICAgaWYgKG1hcE9wdGlvbnMuY29udHJvbHMpIHtcclxuICAgICAgICBtYXAub3B0aW9ucy5jb250cm9scyA9IGNvbmZpZy5kZWZhdWx0Q29udHJvbHMuY29uY2F0KG1hcE9wdGlvbnMuY29udHJvbHMpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG1hcC5vcHRpb25zLmNvbnRyb2xzID0gY29uZmlnLmRlZmF1bHRDb250cm9scztcclxuICAgICAgfVxyXG4gICAgICBtYXAub3B0aW9ucy51cmwgPSBnZXRVcmwoKTtcclxuICAgICAgbWFwLm9wdGlvbnMubWFwID0gdW5kZWZpbmVkO1xyXG4gICAgICBtYXAub3B0aW9ucy5wYXJhbXMgPSB1cmxQYXJhbXM7XHJcbiAgICAgIG1hcC5vcHRpb25zLmJhc2VVcmwgPSBiYXNlVXJsO1xyXG5cclxuICAgICAgcmV0dXJuICQud2hlbi5hcHBseSgkLCBsb2FkU3ZnU3ByaXRlcyhiYXNlVXJsLCBjb25maWcpKVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHNwcml0ZXMpIHtcclxuICAgICAgICAgIHJldHVybiBtYXA7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YobWFwT3B0aW9ucykgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIGlmIChpc1VybChtYXBPcHRpb25zKSkge1xyXG4gICAgICAgIHVybFBhcmFtcyA9IHBlcm1hbGluay5wYXJzZVBlcm1hbGluayhtYXBPcHRpb25zKTtcclxuICAgICAgICB2YXIgdXJsID0gbWFwT3B0aW9ucy5zcGxpdCgnIycpWzBdO1xyXG4gICAgICAgIHZhciBtYXBVcmwgPSB1cmw7XHJcblxyXG4gICAgICAgIC8vcmVtb3YgZmlsZSBuYW1lIGlmIGluY2x1ZGVkIGluXHJcbiAgICAgICAgdXJsID0gdHJpbVVybCh1cmwpO1xyXG5cclxuICAgICAgICB2YXIgYmFzZVVybCA9IGNvbmZpZy5iYXNlVXJsIHx8IHVybDtcclxuICAgICAgICB2YXIganNvbiA9IHVybFBhcmFtcy5tYXAgKyAnLmpzb24nO1xyXG4gICAgICAgIHVybCArPSBqc29uO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBqc29uID0gbWFwT3B0aW9ucztcclxuICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2gpIHtcclxuICAgICAgICAgIHVybFBhcmFtcyA9IHBlcm1hbGluay5wYXJzZVBlcm1hbGluayh3aW5kb3cubG9jYXRpb24uaHJlZik7XHJcbiAgICAgICAgICBpZiAodXJsUGFyYW1zLm1hcCkge1xyXG4gICAgICAgICAgICBqc29uID0gdXJsUGFyYW1zLm1hcCArICcuanNvbic7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBiYXNlVXJsID0gY29uZmlnLmJhc2VVcmwgfHwgJyc7XHJcbiAgICAgICAgdmFyIHVybCA9IGJhc2VVcmwgKyBqc29uO1xyXG4gICAgICAgIHZhciBtYXBVcmwgPSBnZXRVcmwoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuICQud2hlbi5hcHBseSgkLCBsb2FkU3ZnU3ByaXRlcyhiYXNlVXJsLCBjb25maWcpKVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHNwcml0ZXMpIHtcclxuICAgICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgICAgICAgIGRhdGFUeXBlOiBmb3JtYXRcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgIG1hcC5vcHRpb25zID0gJC5leHRlbmQoY29uZmlnLCBkYXRhKTtcclxuICAgICAgICAgICAgICBpZiAoZGF0YS5jb250cm9scykge1xyXG4gICAgICAgICAgICAgICAgbWFwLm9wdGlvbnMuY29udHJvbHMgPSBjb25maWcuZGVmYXVsdENvbnRyb2xzLmNvbmNhdChkYXRhLmNvbnRyb2xzKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbWFwLm9wdGlvbnMuY29udHJvbHMgPSBjb25maWcuZGVmYXVsdENvbnRyb2xzO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBtYXAub3B0aW9ucy51cmwgPSBtYXBVcmw7XHJcbiAgICAgICAgICAgICAgbWFwLm9wdGlvbnMubWFwID0ganNvbjtcclxuICAgICAgICAgICAgICBtYXAub3B0aW9ucy5wYXJhbXMgPSB1cmxQYXJhbXM7XHJcbiAgICAgICAgICAgICAgbWFwLm9wdGlvbnMuYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIG1hcDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBsb2FkU3ZnU3ByaXRlcyhiYXNlVXJsLCBjb25maWcpIHtcclxuICB2YXIgc3ZnU3ByaXRlcyA9IGNvbmZpZy5zdmdTcHJpdGVzO1xyXG4gIHZhciBzdmdQYXRoID0gY29uZmlnLnN2Z1Nwcml0ZVBhdGg7XHJcbiAgdmFyIHN2Z1Byb21pc2VzID0gW107XHJcbiAgc3ZnU3ByaXRlcy5mb3JFYWNoKGZ1bmN0aW9uKHNwcml0ZSkge1xyXG4gICAgdmFyIHByb21pc2UgPSAkLmdldChiYXNlVXJsICsgc3ZnUGF0aCArIHNwcml0ZSwgZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGRpdi5pbm5lckhUTUwgPSBuZXcgWE1MU2VyaWFsaXplcigpLnNlcmlhbGl6ZVRvU3RyaW5nKGRhdGEuZG9jdW1lbnRFbGVtZW50KTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShkaXYsIGRvY3VtZW50LmJvZHkuY2hpbGROb2Rlc1swXSk7XHJcbiAgICAgIH0pO1xyXG4gICAgc3ZnUHJvbWlzZXMucHVzaChwcm9taXNlKTtcclxuICAgIHJldHVybiBzdmdQcm9taXNlcztcclxuICB9KTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBtYXBMb2FkZXI7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxudmFyIHZpZXdlciA9IHJlcXVpcmUoJy4vdmlld2VyJyk7XHJcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcclxuXHJcbnZhciAkbWVudUJ1dHRvbiwgJGNsb3NlQnV0dG9uLCAkbWFwTWVudTtcclxuXHJcbnZhciBzeW1ib2xTaXplID0gMjA7XHJcbnZhciBzdHlsZVNldHRpbmdzO1xyXG52YXIgb3B0aW9ucztcclxudmFyIGlzQWN0aXZlO1xyXG5cclxuZnVuY3Rpb24gaW5pdChvcHRfb3B0aW9ucykge1xyXG4gICAgdmFyIGJyZWFrUG9pbnRTaXplO1xyXG4gICAgdmFyIGJyZWFrUG9pbnQ7XHJcblxyXG4gICAgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xyXG4gICAgaXNBY3RpdmUgPSBvcHRpb25zLmlzQWN0aXZlIHx8IGZhbHNlO1xyXG4gICAgYnJlYWtQb2ludFNpemUgPSBvcHRpb25zLmJyZWFrUG9pbnRTaXplIHx8ICdsJztcclxuICAgIGJyZWFrUG9pbnQgID0gdmlld2VyLmdldEJyZWFrUG9pbnRzKGJyZWFrUG9pbnRTaXplKTtcclxuICAgIHN0eWxlU2V0dGluZ3MgPSB2aWV3ZXIuZ2V0U3R5bGVTZXR0aW5ncygpO1xyXG5cclxuICAgIHZhciBlbCA9IHV0aWxzLmNyZWF0ZUJ1dHRvbih7XHJcbiAgICAgICAgdGV4dDogJ01lbnknLFxyXG4gICAgICAgIGlkOiAnby1tYXBtZW51LWJ1dHRvbicsXHJcbiAgICAgICAgY2xzOiAnby1tYXBtZW51LWJ1dHRvbi10cnVlJyxcclxuICAgICAgICBpY29uQ2xzOiAnby1pY29uLWZhLWJhcnMnLFxyXG4gICAgICAgIHNyYzogJyNmYS1iYXJzJyxcclxuICAgICAgICB0b29sdGlwVGV4dDogJ01lbnknLFxyXG4gICAgICAgIHRvb2x0aXBQbGFjZW1lbnQ6ICd3ZXN0J1xyXG4gICAgfSk7XHJcbiAgICAkKCcjby1tYXAnKS5hcHBlbmQoZWwpO1xyXG4gICAgJG1lbnVCdXR0b24gPSAkKCcjby1tYXBtZW51LWJ1dHRvbiBidXR0b24nKTtcclxuXHJcbiAgICB2YXIgbWVudUVsID0gJzxkaXYgaWQ9XCJvLW1hcG1lbnVcIiBjbGFzcz1cIm8tbWFwbWVudVwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiby1ibG9ja1wiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgJzx1bCBpZD1cIm8tbWVudXRvb2xzXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8bGk+PC9saT4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICc8L3VsPidcclxuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICc8L2Rpdj4nO1xyXG4gICAgJCgnI28tbWFwJykuYXBwZW5kKG1lbnVFbCk7XHJcbiAgICAkbWFwTWVudSA9ICQoJyNvLW1hcG1lbnUnKTtcclxuXHJcbiAgICB2YXIgY2xvc2VCdXR0b24gPSB1dGlscy5jcmVhdGVCdXR0b24oe1xyXG4gICAgICAgIGlkOiAnby1tYXBtZW51LWJ1dHRvbi1jbG9zZScsXHJcbiAgICAgICAgY2xzOiAnby1uby1ib3hzaGFkb3cnLFxyXG4gICAgICAgIGljb25DbHM6ICdvLWljb24tbWVudS1mYS10aW1lcycsXHJcbiAgICAgICAgc3JjOiAnI2ZhLXRpbWVzJyxcclxuICAgICAgICB0b29sdGlwVGV4dDogJ1N0w6RuZyBtZW55JyxcclxuICAgICAgICB0b29sdGlwUGxhY2VtZW50OiAnd2VzdCdcclxuICAgIH0pO1xyXG4gICAgJCgnI28tbWVudXRvb2xzJykuYXBwZW5kKGNsb3NlQnV0dG9uKTtcclxuICAgICRjbG9zZUJ1dHRvbiA9ICQoJyNvLW1hcG1lbnUtYnV0dG9uLWNsb3NlJyk7XHJcblxyXG4gICAgYmluZFVJQWN0aW9ucygpO1xyXG5cclxuICAgIGlmKGlzQWN0aXZlICYmICQoJyNvLW1hcCcpLndpZHRoKCkgPj0gYnJlYWtQb2ludFswXSkge1xyXG4gICAgICB0b2dnbGVNZW51KCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gYmluZFVJQWN0aW9ucygpIHtcclxuICAgICRtZW51QnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgXHR0b2dnbGVNZW51KCk7XHJcbiAgICAgICAgJG1lbnVCdXR0b24uYmx1cigpO1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgJGNsb3NlQnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgXHR0b2dnbGVNZW51KCk7XHJcbiAgICAgICAgJGNsb3NlQnV0dG9uLmJsdXIoKTtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiB0b2dnbGVNZW51KCkge1xyXG4gICAgaWYoJG1hcE1lbnUuaGFzQ2xhc3MoJ28tbWFwbWVudS1zaG93Jykpe1xyXG4gICAgICAkbWFwTWVudS5yZW1vdmVDbGFzcygnby1tYXBtZW51LXNob3cnKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAkbWFwTWVudS5hZGRDbGFzcygnby1tYXBtZW51LXNob3cnKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBnZXRUYXJnZXQoKSB7XHJcbiAgICByZXR1cm4gJG1hcE1lbnU7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzLmluaXQgPSBpbml0O1xyXG5tb2R1bGUuZXhwb3J0cy50b2dnbGVNZW51ID0gdG9nZ2xlTWVudTtcclxubW9kdWxlLmV4cG9ydHMuZ2V0VGFyZ2V0ID0gZ2V0VGFyZ2V0O1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciBvbCA9IHJlcXVpcmUoJ29wZW5sYXllcnMnKTtcclxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxudmFyIHZpZXdlciA9IHJlcXVpcmUoJy4vdmlld2VyJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBjdXN0b21Qcm9qZWN0aW9uOiBmdW5jdGlvbihwcm9qZWN0aW9uQ29kZSwgZXh0ZW50KSB7XHJcbiAgICAgIHJldHVybiBuZXcgb2wucHJvai5Qcm9qZWN0aW9uKHtcclxuICAgICAgICAgIGNvZGU6IHByb2plY3Rpb25Db2RlLFxyXG4gICAgICAgICAgZXh0ZW50OiBleHRlbnRcclxuICAgICAgfSk7XHJcbiAgfSxcclxuICB0aWxlR3JpZDogZnVuY3Rpb24oc2V0dGluZ3MpIHtcclxuICAgIHZhciBleHRlbnQgPSBzZXR0aW5ncy5leHRlbnQgfHwgdmlld2VyLmdldEV4dGVudCgpO1xyXG4gICAgdmFyIG9yaWdpbiA9IHNldHRpbmdzLmFsaWduQm90dG9tTGVmdCA9PT0gZmFsc2UgPyBvbC5leHRlbnQuZ2V0VG9wTGVmdChleHRlbnQpIDogb2wuZXh0ZW50LmdldEJvdHRvbUxlZnQoZXh0ZW50KTtcclxuICAgIHZhciByZXNvbHV0aW9ucyA9IHNldHRpbmdzLnJlc29sdXRpb25zIHx8IHZpZXdlci5nZXRSZXNvbHV0aW9ucygpO1xyXG4gICAgdmFyIHRpbGVTaXplID0gc2V0dGluZ3MudGlsZVNpemUgfHwgdmlld2VyLmdldFRpbGVTaXplKCk7XHJcbiAgICByZXR1cm4gbmV3IG9sLnRpbGVncmlkLlRpbGVHcmlkKHtcclxuICAgICAgICBleHRlbnQ6IGV4dGVudCxcclxuICAgICAgICBvcmlnaW46IG9yaWdpbixcclxuICAgICAgICByZXNvbHV0aW9uczogcmVzb2x1dGlvbnMsXHJcbiAgICAgICAgdGlsZVNpemU6IHRpbGVTaXplXHJcbiAgICB9KTtcclxuICB9LFxyXG4gIGNoZWNrWm9vbUNoYW5nZTogZnVuY3Rpb24gY2hlY2tab29tQ2hhbmdlKHJlc29sdXRpb24sIGN1cnJlbnRSZXNvbHV0aW9uKSB7XHJcbiAgICAgIGlmKHJlc29sdXRpb24gIT09IGN1cnJlbnRSZXNvbHV0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgfSxcclxuICBjcmVhdGVQb2ludEZlYXR1cmU6IGZ1bmN0aW9uIGNyZWF0ZVBvaW50RmVhdHVyZShjb29yZGluYXRlLCBzdHlsZSkge1xyXG4gICAgICB2YXIgZmVhdHVyZSA9IG5ldyBvbC5GZWF0dXJlKHtcclxuICAgICAgICAgIGdlb21ldHJ5OiBuZXcgb2wuZ2VvbS5Qb2ludChjb29yZGluYXRlKVxyXG4gICAgICB9KTtcclxuICAgICAgZmVhdHVyZS5zZXRTdHlsZShzdHlsZSk7XHJcbiAgICAgIHJldHVybiBmZWF0dXJlO1xyXG4gIH0sXHJcbiAgZ2VvanNvblRvRmVhdHVyZTogZnVuY3Rpb24gZ2VvanNvblRvRmVhdHVyZShvYmopIHtcclxuICAgICAgdmFyIHZlY3RvclNvdXJjZSA9IG5ldyBvbC5zb3VyY2UuVmVjdG9yKHtcclxuICAgICAgICBmZWF0dXJlczogKG5ldyBvbC5mb3JtYXQuR2VvSlNPTigpKS5yZWFkRmVhdHVyZXMob2JqKVxyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuIHZlY3RvclNvdXJjZS5nZXRGZWF0dXJlcygpWzBdO1xyXG4gIH0sXHJcbiAgd2t0VG9GZWF0dXJlOiBmdW5jdGlvbiB3a3RUb0ZlYXR1cmUod2t0LCBzcnNOYW1lKSB7XHJcbiAgICAgIHZhciBmb3JtYXQgPSBuZXcgb2wuZm9ybWF0LldLVCgpO1xyXG4gICAgICB2YXIgZmVhdHVyZSA9IGZvcm1hdC5yZWFkRmVhdHVyZSh3a3QsIHtcclxuICAgICAgICBkYXRhUHJvamVjdGlvbjogc3JzTmFtZSxcclxuICAgICAgICBmZWF0dXJlUHJvamVjdGlvbjogc3JzTmFtZVxyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuIGZlYXR1cmU7XHJcbiAgfSxcclxuICB6b29tVG9FeGVudDogZnVuY3Rpb24gem9vbVRvRXhlbnQoZ2VvbWV0cnksIGxldmVsKSB7XHJcbiAgICAgIHZhciBtYXAgPSB2aWV3ZXIuZ2V0TWFwKCk7XHJcbiAgICAgIHZhciB2aWV3ID0gbWFwLmdldFZpZXcoKTtcclxuICAgICAgdmFyIG1heFpvb20gPSBsZXZlbDtcclxuICAgICAgdmFyIGV4dGVudCA9IGdlb21ldHJ5LmdldEV4dGVudCgpO1xyXG4gICAgICBpZihleHRlbnQpIHtcclxuICAgICAgICAgIHZpZXcuZml0KGV4dGVudCwge21heFpvb206IG1heFpvb219KTtcclxuICAgICAgICAgIHJldHVybiBleHRlbnQ7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgfVxyXG4gIH0sXHJcbiAgZ2V0Q2VudGVyOiBmdW5jdGlvbiBnZXRDZW50ZXIoZ2VvbWV0cnkpIHtcclxuICAgICAgdmFyIHR5cGUgPSBnZW9tZXRyeS5nZXRUeXBlKCk7XHJcbiAgICAgIHZhciBjZW50ZXI7XHJcbiAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgY2FzZSBcIlBvbHlnb25cIjpcclxuICAgICAgICAgICAgICBjZW50ZXIgPSBnZW9tZXRyeS5nZXRJbnRlcmlvclBvaW50KCkuZ2V0Q29vcmRpbmF0ZXMoKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgXCJNdWx0aVBvbHlnb25cIjpcclxuICAgICAgICAgICAgICBjZW50ZXIgPSBnZW9tZXRyeS5nZXRJbnRlcmlvclBvaW50cygpWzBdLmdldENvb3JkaW5hdGVzKCk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlIFwiUG9pbnRcIjpcclxuICAgICAgICAgICAgICBjZW50ZXIgPSBnZW9tZXRyeS5nZXRDb29yZGluYXRlcygpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcclxuICAgICAgICAgICAgICBjZW50ZXIgPSBnZW9tZXRyeVswXS5nZXRDb29yZGluYXRlcygpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBcIkxpbmVTdHJpbmdcIjpcclxuICAgICAgICAgICAgICBjZW50ZXIgPSBnZW9tZXRyeS5nZXRDb29yZGluYXRlQXQoMC41KTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcclxuICAgICAgICAgICAgICBjZW50ZXIgPSBnZW9tZXRyeS5nZXRMaW5lU3RyaW5ncygpWzBdLmdldENvb3JkaW5hdGVBdCgwLjUpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBcIkNpcmNsZVwiOlxyXG4gICAgICAgICAgICAgIGNlbnRlciA9IGdlb21ldHJ5LmdldENlbnRlcigpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBjZW50ZXI7XHJcbiAgfSxcclxuICBzY2FsZVRvUmVzb2x1dGlvbjogZnVuY3Rpb24gc2NhbGVUb1Jlc29sdXRpb24oc2NhbGUsIHByb2plY3Rpb24pIHtcclxuICAgIHZhciBkcGkgPSAyNS40IC8gMC4yODtcclxuICAgIHZhciBtcHUgPSBwcm9qZWN0aW9uLmdldE1ldGVyc1BlclVuaXQoKTtcclxuICAgIHZhciByZXNvbHV0aW9uID0gc2NhbGUgLyAobXB1ICogMzkuMzcgKiBkcGkpO1xyXG4gICAgcmV0dXJuIHJlc29sdXRpb247XHJcbiAgfVxyXG59XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIG9sID0gcmVxdWlyZSgnb3BlbmxheWVycycpO1xyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG52YXIgVmlld2VyID0gcmVxdWlyZSgnLi92aWV3ZXInKTtcclxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xyXG52YXIgc3R5bGUgPSByZXF1aXJlKCcuL3N0eWxlJykoKTtcclxudmFyIHN0eWxlVHlwZXMgPSByZXF1aXJlKCcuL3N0eWxlL3N0eWxldHlwZXMnKTtcclxuXHJcbnZhciBtYXA7XHJcbnZhciBvcHRpb25zO1xyXG52YXIgYWN0aXZlQnV0dG9uO1xyXG52YXIgZGVmYXVsdEJ1dHRvbjtcclxudmFyIG1lYXN1cmU7XHJcbnZhciB0eXBlO1xyXG52YXIgc2tldGNoO1xyXG52YXIgbWVhc3VyZVRvb2x0aXA7XHJcbnZhciBtZWFzdXJlVG9vbHRpcEVsZW1lbnQ7XHJcbnZhciBtZWFzdXJlU3R5bGVPcHRpb25zO1xyXG52YXIgaGVscFRvb2x0aXA7XHJcbnZhciBoZWxwVG9vbHRpcEVsZW1lbnQ7XHJcbnZhciB2ZWN0b3I7XHJcbnZhciBzb3VyY2U7XHJcbnZhciBsYWJlbDtcclxudmFyIG92ZXJsYXlBcnJheSA9IFtdO1xyXG52YXIgZHJhd1N0YXJ0ID0gZmFsc2U7XHJcbnZhciBpc0FjdGl2ZSA9IGZhbHNlO1xyXG52YXIgd2dzODRTcGhlcmUgPSBuZXcgb2wuU3BoZXJlKDYzNzgxMzcpO1xyXG52YXIgbGVuZ3RoVG9vbDtcclxudmFyIGFyZWFUb29sO1xyXG5cclxuZnVuY3Rpb24gaW5pdChvcHRfb3B0aW9ucykge1xyXG4gIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcclxuICBvcHRpb25zLm1lYXN1cmVUb29scyA9IG9wdGlvbnMubWVhc3VyZVRvb2xzIHx8IFtcImxlbmd0aFwiLCBcImFyZWFcIl07XHJcbiAgbGVuZ3RoVG9vbCA9IG9wdGlvbnMubWVhc3VyZVRvb2xzLmluZGV4T2YoJ2xlbmd0aCcpID49IDAgPyB0cnVlIDogZmFsc2U7XHJcbiAgYXJlYVRvb2wgPSBvcHRpb25zLm1lYXN1cmVUb29scy5pbmRleE9mKCdhcmVhJykgPj0gMCA/IHRydWUgOiBmYWxzZTtcclxuICBvcHRpb25zLmRlZmF1bHQgPSBvcHRpb25zLmRlZmF1bHQgPyBvcHRpb25zLmRlZmF1bHQgOiBsZW5ndGhUb29sID8gXCJsZW5ndGhcIiA6IFwiYXJlYVwiO1xyXG4gIGlmKGxlbmd0aFRvb2wgfHwgYXJlYVRvb2wpe1xyXG4gICAgdmFyIHRhcmdldCA9IG9wdGlvbnMudGFyZ2V0IHx8ICcjby10b29sYmFyLW1hcHRvb2xzJztcclxuICAgIG1hcCA9IFZpZXdlci5nZXRNYXAoKTtcclxuICAgIHNvdXJjZSA9IG5ldyBvbC5zb3VyY2UuVmVjdG9yKCk7XHJcbiAgICBtZWFzdXJlU3R5bGVPcHRpb25zID0gc3R5bGVUeXBlcy5nZXRTdHlsZSgnbWVhc3VyZScpO1xyXG5cclxuICAgIC8vRHJhd24gZmVhdHVyZXNcclxuICAgIHZlY3RvciA9IG5ldyBvbC5sYXllci5WZWN0b3Ioe1xyXG4gICAgICBzb3VyY2U6IHNvdXJjZSxcclxuICAgICAgbmFtZTogJ21lYXN1cmUnLFxyXG4gICAgICB2aXNpYmxlOiBmYWxzZSxcclxuICAgICAgekluZGV4OiA2XHJcbiAgICB9KTtcclxuXHJcbiAgICBtYXAuYWRkTGF5ZXIodmVjdG9yKTtcclxuXHJcbiAgICAkKCcuby1tYXAnKS5vbignZW5hYmxlSW50ZXJhY3Rpb24nLCBvbkVuYWJsZUludGVyYWN0aW9uKTtcclxuXHJcbiAgICByZW5kZXIodGFyZ2V0KTtcclxuICAgIGJpbmRVSUFjdGlvbnMoKTtcclxuICAgIGlmKG9wdGlvbnMuZGVmYXVsdCA9PT0gJ2FyZWEnKSB7XHJcbiAgICAgIGRlZmF1bHRCdXR0b24gPSAkKCcjby1tZWFzdXJlLXBvbHlnb24tYnV0dG9uIGJ1dHRvbicpO1xyXG4gICAgfSBlbHNlIGlmKG9wdGlvbnMuZGVmYXVsdCA9PT0gJ2xlbmd0aCcpIHtcclxuICAgICAgZGVmYXVsdEJ1dHRvbiA9ICQoJyNvLW1lYXN1cmUtbGluZS1idXR0b24gYnV0dG9uJyk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBvbkVuYWJsZUludGVyYWN0aW9uKGUpIHtcclxuICBpZihlLmludGVyYWN0aW9uID09PSAnbWVhc3VyZScpIHtcclxuICAgICQoJyNvLW1lYXN1cmUtYnV0dG9uIGJ1dHRvbicpLmFkZENsYXNzKCdvLW1lYXN1cmUtYnV0dG9uLXRydWUnKTtcclxuICAgIGlmKGxlbmd0aFRvb2wpeyQoJyNvLW1lYXN1cmUtbGluZS1idXR0b24nKS5yZW1vdmVDbGFzcygnby1oaWRkZW4nKTt9XHJcbiAgICBpZihhcmVhVG9vbCl7JCgnI28tbWVhc3VyZS1wb2x5Z29uLWJ1dHRvbicpLnJlbW92ZUNsYXNzKCdvLWhpZGRlbicpO31cclxuICAgICQoJyNvLW1lYXN1cmUtYnV0dG9uJykucmVtb3ZlQ2xhc3MoJ3Rvb2x0aXAnKTtcclxuICAgIHNldEFjdGl2ZSh0cnVlKTtcclxuICAgIGRlZmF1bHRCdXR0b24udHJpZ2dlcignY2xpY2snKTtcclxuICB9IGVsc2Uge1xyXG4gICAgaWYgKGFjdGl2ZUJ1dHRvbikge1xyXG4gICAgICBhY3RpdmVCdXR0b24ucmVtb3ZlQ2xhc3MoJ28tbWVhc3VyZS1idXR0b24tdHJ1ZScpO1xyXG4gICAgfTtcclxuXHJcbiAgICAkKCcjby1tZWFzdXJlLWJ1dHRvbiBidXR0b24nKS5yZW1vdmVDbGFzcygnby1tZWFzdXJlLWJ1dHRvbi10cnVlJyk7XHJcbiAgICBpZihsZW5ndGhUb29sKXskKCcjby1tZWFzdXJlLWxpbmUtYnV0dG9uJykuYWRkQ2xhc3MoJ28taGlkZGVuJyk7fVxyXG4gICAgaWYoYXJlYVRvb2wpeyQoJyNvLW1lYXN1cmUtcG9seWdvbi1idXR0b24nKS5hZGRDbGFzcygnby1oaWRkZW4nKTt9XHJcbiAgICAkKCcjby1tZWFzdXJlLWJ1dHRvbicpLmFkZENsYXNzKCd0b29sdGlwJyk7XHJcblxyXG4gICAgbWFwLnVuKCdwb2ludGVybW92ZScsIHBvaW50ZXJNb3ZlSGFuZGxlcik7XHJcbiAgICBtYXAudW4oJ2NsaWNrJywgcG9pbnRlck1vdmVIYW5kbGVyKTtcclxuICAgIG1hcC5yZW1vdmVJbnRlcmFjdGlvbihtZWFzdXJlKTtcclxuICAgIHZlY3Rvci5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIFZpZXdlci5yZW1vdmVPdmVybGF5cyhvdmVybGF5QXJyYXkpO1xyXG4gICAgdmVjdG9yLmdldFNvdXJjZSgpLmNsZWFyKCk7XHJcbiAgICBzZXRBY3RpdmUoZmFsc2UpO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldEFjdGl2ZShzdGF0ZSkge1xyXG4gIGlmKHN0YXRlID09PSB0cnVlKSB7XHJcbiAgICBpc0FjdGl2ZSA9IHRydWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIGlzQWN0aXZlID0gZmFsc2U7XHJcbiAgfVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyKHRhcmdldCkge1xyXG4gIFxyXG4gIGlmKGxlbmd0aFRvb2wgfHwgYXJlYVRvb2wpe1xyXG4gICAgdmFyIHRvb2xiYXIgPSB1dGlscy5jcmVhdGVFbGVtZW50KCdkaXYnLCAnJywge1xyXG4gICAgICBpZDogJ28tbWVhc3VyZS10b29sYmFyJyxcclxuICAgICAgY2xzOiAnby10b29sYmFyLWhvcml6b250YWwnXHJcbiAgICB9KTtcclxuXHJcbiAgICAkKHRhcmdldCkuYXBwZW5kKHRvb2xiYXIpO1xyXG5cclxuICAgIHZhciBtYiA9IHV0aWxzLmNyZWF0ZUJ1dHRvbih7XHJcbiAgICAgIGlkOiAnby1tZWFzdXJlLWJ1dHRvbicsXHJcbiAgICAgIGNsczogJ28tbWVhc3VyZS1idXR0b24nLFxyXG4gICAgICBpY29uQ2xzOiAnby1pY29uLXN0ZWFkeS1tZWFzdXJlJyxcclxuICAgICAgc3JjOiAnI3N0ZWFkeS1tZWFzdXJlJyxcclxuICAgICAgdG9vbHRpcFRleHQ6ICdNw6R0IGkga2FydGFuJ1xyXG4gICAgfSk7XHJcbiAgICAkKCcjJyArICdvLW1lYXN1cmUtdG9vbGJhcicpLmFwcGVuZChtYik7XHJcbiAgfVxyXG4gIFxyXG4gIGlmKGxlbmd0aFRvb2wpe1xyXG4gICAgdmFyIGxiID0gdXRpbHMuY3JlYXRlQnV0dG9uKHtcclxuICAgICAgaWQ6ICdvLW1lYXN1cmUtbGluZS1idXR0b24nLFxyXG4gICAgICBjbHM6ICdvLW1lYXN1cmUtdHlwZS1idXR0b24nLFxyXG4gICAgICBpY29uQ2xzOiAnby1pY29uLW1pbmljb25zLWxpbmUtdmVjdG9yJyxcclxuICAgICAgc3JjOiAnI21pbmljb25zLWxpbmUtdmVjdG9yJyxcclxuICAgICAgdG9vbHRpcFRleHQ6ICdMaW5qZScsXHJcbiAgICAgIHRvb2x0aXBQbGFjZW1lbnQ6ICdub3J0aCdcclxuICAgIH0pO1xyXG4gICAgJCgnIycgKyAnby1tZWFzdXJlLXRvb2xiYXInKS5hcHBlbmQobGIpO1xyXG4gICAgJCgnI28tbWVhc3VyZS1saW5lLWJ1dHRvbicpLmFkZENsYXNzKCdvLWhpZGRlbicpO1xyXG4gIH1cclxuXHJcbiAgaWYoYXJlYVRvb2wpe1xyXG4gICAgdmFyIHBiID0gdXRpbHMuY3JlYXRlQnV0dG9uKHtcclxuICAgICAgaWQ6ICdvLW1lYXN1cmUtcG9seWdvbi1idXR0b24nLFxyXG4gICAgICBjbHM6ICdvLW1lYXN1cmUtdHlwZS1idXR0b24nLFxyXG4gICAgICBpY29uQ2xzOiAnby1pY29uLW1pbmljb25zLXNxdWFyZS12ZWN0b3InLFxyXG4gICAgICBzcmM6ICcjbWluaWNvbnMtc3F1YXJlLXZlY3RvcicsXHJcbiAgICAgIHRvb2x0aXBUZXh0OiAnWXRhJyxcclxuICAgICAgdG9vbHRpcFBsYWNlbWVudDogJ25vcnRoJ1xyXG4gICAgfSk7XHJcbiAgICAkKCcjJyArICdvLW1lYXN1cmUtdG9vbGJhcicpLmFwcGVuZChwYik7XHJcbiAgICAkKCcjby1tZWFzdXJlLXBvbHlnb24tYnV0dG9uJykuYWRkQ2xhc3MoJ28taGlkZGVuJyk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBiaW5kVUlBY3Rpb25zKCkge1xyXG4gIGlmKGxlbmd0aFRvb2wgfHwgYXJlYVRvb2wpe1xyXG4gICAgJCgnI28tbWVhc3VyZS1idXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgIHRvZ2dsZU1lYXN1cmUoKTtcclxuICAgICAgJCgnI28tbWVhc3VyZS1idXR0b24gYnV0dG9uJykuYmx1cigpO1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGlmKGxlbmd0aFRvb2wpe1xyXG4gICAgJCgnI28tbWVhc3VyZS1saW5lLWJ1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgdHlwZSA9ICdMaW5lU3RyaW5nJztcclxuICAgICAgdG9nZ2xlVHlwZSgkKCcjby1tZWFzdXJlLWxpbmUtYnV0dG9uIGJ1dHRvbicpKTtcclxuICAgICAgJCgnI28tbWVhc3VyZS1saW5lLWJ1dHRvbiBidXR0b24nKS5ibHVyKCk7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaWYoYXJlYVRvb2wpe1xyXG4gICAgJCgnI28tbWVhc3VyZS1wb2x5Z29uLWJ1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgdHlwZSA9ICdQb2x5Z29uJztcclxuICAgICAgdG9nZ2xlVHlwZSgkKCcjby1tZWFzdXJlLXBvbHlnb24tYnV0dG9uIGJ1dHRvbicpKTtcclxuICAgICAgJCgnI28tbWVhc3VyZS1wb2x5Z29uLWJ1dHRvbiBidXR0b24nKS5ibHVyKCk7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlKGZlYXR1cmUsIGxhYmVsVGV4dCkge1xyXG4gIHZhciBmZWF0dXJlVHlwZSA9IGZlYXR1cmUuZ2V0R2VvbWV0cnkoKS5nZXRUeXBlKCk7XHJcbiAgdmFyIG1lYXN1cmVTdHlsZSA9IGZlYXR1cmVUeXBlID09ICdMaW5lU3RyaW5nJyA/IHN0eWxlLmNyZWF0ZVN0eWxlUnVsZShtZWFzdXJlU3R5bGVPcHRpb25zLmxpbmVzdHJpbmcpIDogc3R5bGUuY3JlYXRlU3R5bGVSdWxlKG1lYXN1cmVTdHlsZU9wdGlvbnMucG9seWdvbik7XHJcblxyXG4gIHJldHVybiBtZWFzdXJlU3R5bGU7XHJcbn1cclxuXHJcbi8vRGlzcGxheSBhbmQgbW92ZSB0b29sdGlwcyB3aXRoIHBvaW50ZXJcclxuZnVuY3Rpb24gcG9pbnRlck1vdmVIYW5kbGVyKGV2dCkge1xyXG4gIGlmIChldnQuZHJhZ2dpbmcpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIHZhciBoZWxwTXNnID0gJ0tsaWNrYSBmw7ZyIGF0dCBiw7ZyamEgbcOkdGEnO1xyXG4gIHZhciB0b29sdGlwQ29vcmQgPSBldnQuY29vcmRpbmF0ZTtcclxuXHJcbiAgaWYgKHNrZXRjaCkge1xyXG4gICAgdmFyIG91dHB1dDtcclxuICAgIHZhciBnZW9tID0gKHNrZXRjaC5nZXRHZW9tZXRyeSgpKTtcclxuXHJcbiAgICBpZiAoZ2VvbSBpbnN0YW5jZW9mIG9sLmdlb20uUG9seWdvbikge1xyXG4gICAgICBvdXRwdXQgPSBmb3JtYXRBcmVhKC8qKiBAdHlwZSB7b2wuZ2VvbS5Qb2x5Z29ufSAqLyAoZ2VvbSkpO1xyXG4gICAgICB0b29sdGlwQ29vcmQgPSBnZW9tLmdldEludGVyaW9yUG9pbnQoKS5nZXRDb29yZGluYXRlcygpO1xyXG4gICAgfSBlbHNlIGlmIChnZW9tIGluc3RhbmNlb2Ygb2wuZ2VvbS5MaW5lU3RyaW5nKSB7XHJcbiAgICAgIG91dHB1dCA9IGZvcm1hdExlbmd0aCggLyoqIEB0eXBlIHtvbC5nZW9tLkxpbmVTdHJpbmd9ICovIChnZW9tKSk7XHJcbiAgICAgIHRvb2x0aXBDb29yZCA9IGdlb20uZ2V0TGFzdENvb3JkaW5hdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBtZWFzdXJlVG9vbHRpcEVsZW1lbnQuaW5uZXJIVE1MID0gb3V0cHV0O1xyXG4gICAgbGFiZWwgPSBvdXRwdXQ7XHJcbiAgICBtZWFzdXJlVG9vbHRpcC5zZXRQb3NpdGlvbih0b29sdGlwQ29vcmQpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGV2dC50eXBlID09ICdwb2ludGVybW92ZScpIHtcclxuICAgIGhlbHBUb29sdGlwRWxlbWVudC5pbm5lckhUTUwgPSBoZWxwTXNnO1xyXG4gICAgaGVscFRvb2x0aXAuc2V0UG9zaXRpb24oZXZ0LmNvb3JkaW5hdGUpO1xyXG4gIH1cclxuXHJcbn07XHJcblxyXG5mdW5jdGlvbiBhZGRJbnRlcmFjdGlvbigpIHtcclxuICB2ZWN0b3Iuc2V0VmlzaWJsZSh0cnVlKTtcclxuXHJcbiAgbWVhc3VyZSA9IG5ldyBvbC5pbnRlcmFjdGlvbi5EcmF3KHtcclxuICAgIHNvdXJjZTogc291cmNlLFxyXG4gICAgdHlwZTogdHlwZSxcclxuICAgIHN0eWxlOiBzdHlsZS5jcmVhdGVTdHlsZVJ1bGUobWVhc3VyZVN0eWxlT3B0aW9ucy5pbnRlcmFjdGlvbilcclxuICB9KTtcclxuXHJcbiAgbWFwLmFkZEludGVyYWN0aW9uKG1lYXN1cmUpO1xyXG5cclxuICBjcmVhdGVNZWFzdXJlVG9vbHRpcCgpO1xyXG4gIGNyZWF0ZUhlbHBUb29sdGlwKCk7XHJcblxyXG4gIG1hcC5vbigncG9pbnRlcm1vdmUnLCBwb2ludGVyTW92ZUhhbmRsZXIpO1xyXG4gIG1hcC5vbignY2xpY2snLCBwb2ludGVyTW92ZUhhbmRsZXIpO1xyXG5cclxuICBtZWFzdXJlLm9uKCdkcmF3c3RhcnQnLCBmdW5jdGlvbihldnQpIHtcclxuICAgIC8vIHNldCBza2V0Y2hcclxuICAgIGRyYXdTdGFydCA9IHRydWU7XHJcbiAgICBza2V0Y2ggPSBldnQuZmVhdHVyZTtcclxuICAgICQoaGVscFRvb2x0aXBFbGVtZW50KS5hZGRDbGFzcygnby1oaWRkZW4nKTtcclxuICB9LCB0aGlzKTtcclxuXHJcbiAgbWVhc3VyZS5vbignZHJhd2VuZCcsIGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgdmFyIGZlYXR1cmUgPSBldnQuZmVhdHVyZTtcclxuICAgIGZlYXR1cmUuc2V0U3R5bGUoY3JlYXRlU3R5bGUoZmVhdHVyZSkpO1xyXG4gICAgZmVhdHVyZS5nZXRTdHlsZSgpWzBdLmdldFRleHQoKS5zZXRUZXh0KGxhYmVsKTtcclxuICAgICQobWVhc3VyZVRvb2x0aXBFbGVtZW50KS5yZW1vdmUoKTtcclxuICAgIC8vIHVuc2V0IHNrZXRjaFxyXG4gICAgc2tldGNoID0gbnVsbDtcclxuICAgIC8vIHVuc2V0IHRvb2x0aXAgc28gdGhhdCBhIG5ldyBvbmUgY2FuIGJlIGNyZWF0ZWRcclxuICAgIG1lYXN1cmVUb29sdGlwRWxlbWVudCA9IG51bGw7XHJcbiAgICBjcmVhdGVNZWFzdXJlVG9vbHRpcCgpO1xyXG4gICAgJChoZWxwVG9vbHRpcEVsZW1lbnQpLnJlbW92ZUNsYXNzKCdvLWhpZGRlbicpO1xyXG4gIH0sIHRoaXMpO1xyXG5cclxufTtcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUhlbHBUb29sdGlwKCkge1xyXG4gIGlmIChoZWxwVG9vbHRpcEVsZW1lbnQpIHtcclxuICAgIGhlbHBUb29sdGlwRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGhlbHBUb29sdGlwRWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBoZWxwVG9vbHRpcEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICBoZWxwVG9vbHRpcEVsZW1lbnQuY2xhc3NOYW1lID0gJ28tdG9vbHRpcCBvLXRvb2x0aXAtbWVhc3VyZSc7XHJcblxyXG4gIGhlbHBUb29sdGlwID0gbmV3IG9sLk92ZXJsYXkoe1xyXG4gICAgZWxlbWVudDogaGVscFRvb2x0aXBFbGVtZW50LFxyXG4gICAgb2Zmc2V0OiBbMTUsIDBdLFxyXG4gICAgcG9zaXRpb25pbmc6ICdjZW50ZXItbGVmdCcsXHJcbiAgfSk7XHJcblxyXG4gIG92ZXJsYXlBcnJheS5wdXNoKGhlbHBUb29sdGlwKTtcclxuICBtYXAuYWRkT3ZlcmxheShoZWxwVG9vbHRpcCk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVNZWFzdXJlVG9vbHRpcCgpIHtcclxuICBpZiAobWVhc3VyZVRvb2x0aXBFbGVtZW50KSB7XHJcbiAgICBtZWFzdXJlVG9vbHRpcEVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtZWFzdXJlVG9vbHRpcEVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgbWVhc3VyZVRvb2x0aXBFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgbWVhc3VyZVRvb2x0aXBFbGVtZW50LmNsYXNzTmFtZSA9ICdvLXRvb2x0aXAgby10b29sdGlwLW1lYXN1cmUnO1xyXG5cclxuICBtZWFzdXJlVG9vbHRpcCA9IG5ldyBvbC5PdmVybGF5KHtcclxuICAgIGVsZW1lbnQ6IG1lYXN1cmVUb29sdGlwRWxlbWVudCxcclxuICAgIG9mZnNldDogWzAsIC0xNV0sXHJcbiAgICBwb3NpdGlvbmluZzogJ2JvdHRvbS1jZW50ZXInLFxyXG4gICAgc3RvcEV2ZW50OiBmYWxzZVxyXG4gIH0pO1xyXG5cclxuICBvdmVybGF5QXJyYXkucHVzaChtZWFzdXJlVG9vbHRpcCk7XHJcbiAgbWFwLmFkZE92ZXJsYXkobWVhc3VyZVRvb2x0aXApO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gZm9ybWF0TGVuZ3RoKGxpbmUpIHtcclxuICB2YXIgcHJvamVjdGlvbiwgbGVuZ3RoLCBvdXRwdXQ7XHJcbiAgcHJvamVjdGlvbiA9IG1hcC5nZXRWaWV3KCkuZ2V0UHJvamVjdGlvbigpO1xyXG4gIGxlbmd0aCA9IG9sLlNwaGVyZS5nZXRMZW5ndGgobGluZSwge3Byb2plY3Rpb246IHByb2plY3Rpb259KTtcclxuICBpZiAobGVuZ3RoID4gMTAwKSB7XHJcbiAgICBvdXRwdXQgPSAoTWF0aC5yb3VuZChsZW5ndGggLyAxMDAwICogMTAwKSAvIDEwMCkgK1xyXG4gICAgICAnICcgKyAna20nO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBvdXRwdXQgPSAoTWF0aC5yb3VuZChsZW5ndGggKiAxMDApIC8gMTAwKSArXHJcbiAgICAgICcgJyArICdtJztcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIG91dHB1dDtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGZvcm1hdEFyZWEocG9seWdvbikge1xyXG4gIHZhciBwcm9qZWN0aW9uLCBhcmVhLCBvdXRwdXQ7XHJcbiAgcHJvamVjdGlvbiA9IG1hcC5nZXRWaWV3KCkuZ2V0UHJvamVjdGlvbigpO1xyXG4gIGFyZWEgPSBvbC5TcGhlcmUuZ2V0QXJlYShwb2x5Z29uLCB7cHJvamVjdGlvbjogcHJvamVjdGlvbn0pO1xyXG4gIGlmIChhcmVhID4gMTAwMDAwMDApIHtcclxuICAgIG91dHB1dCA9IChNYXRoLnJvdW5kKGFyZWEgLyAxMDAwMDAwICogMTAwKSAvIDEwMCkgK1xyXG4gICAgICAnICcgKyAna208c3VwPjI8L3N1cD4nO1xyXG4gIH0gZWxzZSBpZiAoYXJlYSA+IDEwMDAwKSB7XHJcbiAgICBvdXRwdXQgPSAoTWF0aC5yb3VuZChhcmVhIC8gMTAwMDAgKiAxMDApIC8gMTAwKSArXHJcbiAgICAgICcgJyArICdoYSc7XHJcbiAgfSBlbHNlIHtcclxuICAgIG91dHB1dCA9IChNYXRoLnJvdW5kKGFyZWEgKiAxMDApIC8gMTAwKSArXHJcbiAgICAgICcgJyArICdtPHN1cD4yPC9zdXA+JztcclxuICB9XHJcblxyXG4gIHZhciBodG1sRWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcclxuICBodG1sRWxlbS5pbm5lckhUTUwgPSBvdXRwdXQ7XHJcblxyXG4gIFtdLmZvckVhY2guY2FsbChodG1sRWxlbS5jaGlsZHJlbiwgZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PT0gJ1NVUCcpIHtcclxuICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZWxlbWVudC50ZXh0Q29udGVudC5jaGFyQ29kZUF0KDApICsgMTI4KTtcclxuICAgIH1cclxuICB9KVxyXG5cclxuICByZXR1cm4gaHRtbEVsZW0udGV4dENvbnRlbnQ7XHJcbn07XHJcblxyXG5mdW5jdGlvbiB0b2dnbGVNZWFzdXJlICgpIHtcclxuICBpZiAoaXNBY3RpdmUpIHtcclxuICAgICQoJy5vLW1hcCcpLnRyaWdnZXIoe1xyXG4gICAgICB0eXBlOiAnZW5hYmxlSW50ZXJhY3Rpb24nLFxyXG4gICAgICBpbnRlcmFjdGlvbjogJ2ZlYXR1cmVJbmZvJ1xyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgICQoJy5vLW1hcCcpLnRyaWdnZXIoe1xyXG4gICAgICB0eXBlOiAnZW5hYmxlSW50ZXJhY3Rpb24nLFxyXG4gICAgICBpbnRlcmFjdGlvbjogJ21lYXN1cmUnXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59O1xyXG5cclxuZnVuY3Rpb24gdG9nZ2xlVHlwZShidXR0b24pIHtcclxuICBpZiAoYWN0aXZlQnV0dG9uKSB7XHJcbiAgICBhY3RpdmVCdXR0b24ucmVtb3ZlQ2xhc3MoJ28tbWVhc3VyZS1idXR0b24tdHJ1ZScpO1xyXG4gIH1cclxuXHJcbiAgYnV0dG9uLmFkZENsYXNzKCdvLW1lYXN1cmUtYnV0dG9uLXRydWUnKTtcclxuICBhY3RpdmVCdXR0b24gPSBidXR0b247XHJcbiAgbWFwLnJlbW92ZUludGVyYWN0aW9uKG1lYXN1cmUpO1xyXG4gIGFkZEludGVyYWN0aW9uKCk7XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5pbml0ID0gaW5pdDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XHJcblxyXG52YXIgbW9kYWwgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgdmFyIGlzU3RhdGljID0gdW5kZWZpbmVkO1xyXG4gIHZhciAkdGFyZ2V0ID0gdW5kZWZpbmVkO1xyXG4gIHZhciBtb2RhbEVsID0gdW5kZWZpbmVkO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgY3JlYXRlTW9kYWw6IGNyZWF0ZU1vZGFsLFxyXG4gICAgc2hvd01vZGFsOiBzaG93TW9kYWwsXHJcbiAgICBjbG9zZU1vZGFsOiBjbG9zZU1vZGFsXHJcbiAgfTtcclxuXHJcbiAgZnVuY3Rpb24gcmVuZGVyKHRpdGxlLCBjb250ZW50LCBjbHMpIHtcclxuICAgIG1vZGFsRWwgPSAnPGRpdiBpZD1cIm8tbW9kYWxcIiAnICsgJ2NsYXNzPVwiJyArIGNscyArICdcIj4nICtcclxuICAgICAgJzxkaXYgY2xhc3M9XCJvLW1vZGFsLXNjcmVlblwiPjwvZGl2PicgK1xyXG4gICAgICAnPGRpdiBjbGFzcz1cIm8tbW9kYWxcIj4nICtcclxuICAgICAgJzxkaXYgY2xhc3M9XCJvLWNsb3NlLWJ1dHRvblwiPjxzdmcgY2xhc3M9XCJvLWljb24tZmEtdGltZXNcIj48dXNlIHhsaW5rOmhyZWY9XCIjZmEtdGltZXNcIj48L3VzZT48L3N2Zz48L2Rpdj4nICtcclxuICAgICAgJzxkaXYgY2xhc3M9XCJvLW1vZGFsLXRpdGxlXCI+JyArIHRpdGxlICsgJzwvZGl2PicgK1xyXG4gICAgICAnPGRpdiBjbGFzcz1cIm8tbW9kYWwtY29udGVudFwiPicgKyBjb250ZW50ICsgJzwvZGl2PicgK1xyXG4gICAgICAnPC9kaXY+JyArXHJcbiAgICAgICc8L2Rpdj4nO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYmluZFVJQWN0aW9ucygpIHtcclxuICAgIGlmIChpc1N0YXRpYyA9PT0gZmFsc2UpIHtcclxuICAgICAgJCgnLm8tbW9kYWwtc2NyZWVuLCAuby1jbG9zZS1idXR0b24nKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICBjbG9zZU1vZGFsKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJCgnLm8tY2xvc2UtYnV0dG9uJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY2xvc2VNb2RhbCgpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZU1vZGFsKG1vZGFsVGFyZ2V0LCBvcHRpb25zKSB7XHJcbiAgICB2YXIgdGl0bGUgPSBvcHRpb25zLnRpdGxlIHx8ICcnO1xyXG4gICAgdmFyIGNvbnRlbnQgPSBvcHRpb25zLmNvbnRlbnQgfHwgJyc7XHJcbiAgICB2YXIgY2xzID0gb3B0aW9ucy5jbHMgfHwgJyc7XHJcbiAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnc3RhdGljJykpIHtcclxuICAgICAgaXNTdGF0aWMgPSBvcHRpb25zLnN0YXRpYztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlzU3RhdGljID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZW5kZXIodGl0bGUsIGNvbnRlbnQsIGNscyk7XHJcbiAgICAkdGFyZ2V0ID0gJChtb2RhbFRhcmdldCk7XHJcblxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2hvd01vZGFsKCkge1xyXG4gICAgJHRhcmdldC5wcmVwZW5kKG1vZGFsRWwpO1xyXG4gICAgYmluZFVJQWN0aW9ucygpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2xvc2VNb2RhbCgpIHtcclxuICAgICQoJyNvLW1vZGFsJykucmVtb3ZlKCk7XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG1vZGFsKCk7XHJcbiIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKiBDb3B5cmlnaHQgMjAxNiBPcmlnb1xyXG4gKiBMaWNlbnNlZCB1bmRlciBCU0QgMi1DbGF1c2UgKGh0dHBzOi8vZ2l0aHViLmNvbS9vcmlnby1tYXAvb3JpZ28vYmxvYi9tYXN0ZXIvTElDRU5TRS50eHQpXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xyXG5cInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XHJcbnZhciBWaWV3ZXIgPSByZXF1aXJlKCcuL3ZpZXdlcicpO1xyXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XHJcbnZhciBkb3dubG9hZGVyID0gcmVxdWlyZSgnLi9vZmZsaW5lL2Rvd25sb2FkZXInKTtcclxudmFyIGRvd25sb2FkSGFuZGxlciA9IHJlcXVpcmUoJy4vb2ZmbGluZS9kb3dubG9hZGhhbmRsZXInKTtcclxudmFyIG9mZmxpbmVTdG9yZSA9IHJlcXVpcmUoJy4vb2ZmbGluZS9vZmZsaW5lc3RvcmUnKSgpO1xyXG5cclxudmFyIG1hcCA9IHVuZGVmaW5lZDtcclxudmFyIGJhc2VVcmwgPSB1bmRlZmluZWQ7XHJcbnZhciAkb2ZmbGluZUJ1dHRvbiA9IHVuZGVmaW5lZDtcclxuXHJcbmZ1bmN0aW9uIEluaXQob3B0X29wdGlvbnMpIHtcclxuICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xyXG4gIG1hcCA9IFZpZXdlci5nZXRNYXAoKTtcclxuICBiYXNlVXJsID0gVmlld2VyLmdldEJhc2VVcmwoKTtcclxuXHJcbiAgZG93bmxvYWRIYW5kbGVyKCk7XHJcblxyXG4gIHJlbmRlcigpO1xyXG4gIGJpbmRVSUFjdGlvbnMoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyKCkge1xyXG4gIHZhciBlbCA9IHV0aWxzLmNyZWF0ZUxpc3RCdXR0b24oe1xyXG4gICAgaWQ6ICdvLW9mZmxpbmUnLFxyXG4gICAgaWNvbkNsczogJ28taWNvbi1mYS1kb3dubG9hZCcsXHJcbiAgICBzcmM6ICcjZmEtZG93bmxvYWQnLFxyXG4gICAgdGV4dDogJ05lZGxhZGRuaW5nYXInXHJcbiAgfSk7XHJcbiAgJCgnI28tbWVudXRvb2xzJykuYXBwZW5kKGVsKTtcclxuICAkb2ZmbGluZUJ1dHRvbiA9ICQoJyNvLW9mZmxpbmUtYnV0dG9uJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJpbmRVSUFjdGlvbnMoKSB7XHJcbiAgJG9mZmxpbmVCdXR0b24ub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgZG93bmxvYWRlcihvZmZsaW5lU3RvcmUuZ2V0T2ZmbGluZUxheWVycygpKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICB9KTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMuaW5pdCA9IEluaXQ7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxudmFyIFZpZXdlciA9IHJlcXVpcmUoJy4uL3ZpZXdlcicpO1xyXG52YXIgdGVtcGxhdGUgPSByZXF1aXJlKFwiLi9kb3dubG9hZGVyLnRlbXBsYXRlLmhhbmRsZWJhcnNcIik7XHJcbnZhciBzcGlubmVyID0gcmVxdWlyZShcIi4uL2NvbXBvbmVudHMvc3Bpbm5lci5oYW5kbGViYXJzXCIpO1xyXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xyXG52YXIgZGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4vb2ZmbGluZWRpc3BhdGNoZXInKTtcclxuXHJcbnZhciB0b29sYmFyUHJlZml4ID0gJ28tZG93bmxvYWRlci10ZC10b29sYmFyLSc7XHJcblxyXG52YXIgRG93bmxvYWRlciA9IGZ1bmN0aW9uIERvd25sb2FkZXIobGF5ZXJzT2JqKSB7XHJcbiAgcmVuZGVyKGxheWVyc09iaik7XHJcbiAgYWRkTGlzdGVuZXJzKCk7XHJcblxyXG4gIGZ1bmN0aW9uIHJlbmRlcihsYXllcnNPYmopIHtcclxuICAgICQoJyNvLW1hcCcpLnByZXBlbmQodGVtcGxhdGUpO1xyXG4gICAgcmVuZGVyUm93cyhsYXllcnNPYmopO1xyXG5cclxuICAgIGJpbmRVSUFjdGlvbnMoKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGFkZExpc3RlbmVycygpIHtcclxuICAgICQoZG9jdW1lbnQpLm9uKCdjaGFuZ2VPZmZsaW5lU3RhcnQnLCBvbkNoYW5nZU9mZmxpbmVTdGFydCk7XHJcbiAgICAkKGRvY3VtZW50KS5vbignY2hhbmdlT2ZmbGluZUVuZCcsIG9uQ2hhbmdlT2ZmbGluZUVuZCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBvbkNoYW5nZU9mZmxpbmVTdGFydChlKSB7XHJcbiAgICByZW5kZXJCdXR0b25zKCcjJyArIHRvb2xiYXJQcmVmaXggKyBlLmxheWVyTmFtZSwgJ3BlbmRpbmcnLCBlLmxheWVyTmFtZSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBvbkNoYW5nZU9mZmxpbmVFbmQoZSkge1xyXG4gICAgcmVuZGVyQnV0dG9ucygnIycgKyB0b29sYmFyUHJlZml4ICsgZS5sYXllck5hbWUsIGUuc3RhdGUsIGUubGF5ZXJOYW1lKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGJpbmRVSUFjdGlvbnMoKSB7XHJcbiAgICAkKCcuby1kb3dubG9hZGVyIC5vLWNsb3NlLWJ1dHRvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgIGNsb3NlRG93bmxvYWRlcigpO1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZW5kZXJSb3dzKGxheWVyc09iaikge1xyXG4gICAgdmFyIGxheWVyTmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhsYXllcnNPYmopO1xyXG4gICAgbGF5ZXJOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGxheWVyTmFtZSkge1xyXG4gICAgICByZW5kZXJSb3cobGF5ZXJOYW1lLCBsYXllcnNPYmopO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZW5kZXJSb3cobGF5ZXJOYW1lLCBsYXllcnNPYmopIHtcclxuICAgIHZhciBsYXllciA9IFZpZXdlci5nZXRMYXllcihsYXllck5hbWUpO1xyXG4gICAgdmFyIHRkVGl0bGUgPSB1dGlscy5jcmVhdGVFbGVtZW50KCd0ZCcsIGxheWVyLmdldCgndGl0bGUnKSx7fSk7XHJcbiAgICB2YXIgdG9vbGJhcklkID0gdG9vbGJhclByZWZpeCArIGxheWVyTmFtZTtcclxuICAgIHZhciB0b29sYmFyID0gdXRpbHMuY3JlYXRlRWxlbWVudCgnZGl2JywgJycsIHtcclxuICAgICAgY2xzOiAnby10b29sYmFyLWhvcml6b250YWwnLFxyXG4gICAgICBzdHlsZTogJ3RleHQtYWxpZ246IHJpZ2h0OyBmbG9hdDogcmlnaHQ7JyxcclxuICAgICAgaWQ6IHRvb2xiYXJJZFxyXG4gICAgfSk7XHJcbiAgICB2YXIgdGRUb29sYmFyID0gdXRpbHMuY3JlYXRlRWxlbWVudCgndGQnLCB0b29sYmFyLCB7fSk7XHJcbiAgICB2YXIgcm93ID0gdGRUaXRsZSArIHRkVG9vbGJhcjtcclxuICAgIHZhciBjbHMgPSAnby1kb3dubG9hZGVyLXRyLScgKyBsYXllck5hbWU7XHJcbiAgICB2YXIgdHIgPSB1dGlscy5jcmVhdGVFbGVtZW50KCd0cicsIHJvdywge1xyXG4gICAgICBjbHM6IGNsc1xyXG4gICAgfSk7XHJcbiAgICB2YXIgc3RhdGU7XHJcbiAgICAkKCcuby1kb3dubG9hZGVyIC5vLXRhYmxlJykuYXBwZW5kKHRyKTtcclxuICAgIHN0YXRlID0gIGxheWVyc09ialtsYXllck5hbWVdLmRvd25sb2FkZWQgPT09IHRydWUgPyAnb2ZmbGluZScgOiAnZG93bmxvYWQnO1xyXG4gICAgcmVuZGVyQnV0dG9ucygnIycgKyB0b29sYmFySWQsIHN0YXRlLCBsYXllck5hbWUpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVuZGVyQnV0dG9ucyh0YXJnZXQsIHN0YXRlLCBsYXllck5hbWUpIHtcclxuICAgICQodGFyZ2V0KS5lbXB0eSgpO1xyXG4gICAgaWYgKHN0YXRlID09PSAnb2ZmbGluZScpIHtcclxuICAgICAgcmVuZGVyU3luYyh0YXJnZXQsIGxheWVyTmFtZSk7XHJcbiAgICAgIHJlbmRlclJlbW92ZSh0YXJnZXQsIGxheWVyTmFtZSk7XHJcbiAgICB9IGVsc2UgaWYgKHN0YXRlID09PSAnZG93bmxvYWQnKSB7XHJcbiAgICAgIHJlbmRlckRvd25sb2FkKHRhcmdldCwgbGF5ZXJOYW1lKTtcclxuICAgIH0gZWxzZSBpZiAoc3RhdGUgPT09ICdwZW5kaW5nJykge1xyXG4gICAgICByZW5kZXJQZW5kaW5nKHRhcmdldCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZW5kZXJTeW5jKHRhcmdldCwgbGF5ZXJOYW1lKSB7XHJcbiAgICB2YXIgaWQgPSAnby1kb3dubG9hZGVyLXJlZnJlc2gtJyArIGxheWVyTmFtZTtcclxuICAgIHZhciByZWZyZXNoID0gY3JlYXRlQnV0dG9uKHtcclxuICAgICAgaHJlZjogJyNmYS1yZWZyZXNoJyxcclxuICAgICAgY2xzOiAnby1pY29uLWZhLXJlZnJlc2gnLFxyXG4gICAgICBpZDogaWRcclxuICAgIH0pO1xyXG4gICAgJCh0YXJnZXQpLmFwcGVuZChyZWZyZXNoKTtcclxuICAgIGJpbmRBY3Rpb24oJyMnICsgaWQsIGxheWVyTmFtZSwgJ3N5bmMnKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlbmRlclJlbW92ZSh0YXJnZXQsIGxheWVyTmFtZSkge1xyXG4gICAgdmFyIGlkID0gJ28tZG93bmxvYWRlci10cmFzaC0nICsgbGF5ZXJOYW1lO1xyXG4gICAgdmFyIHRyYXNoID0gY3JlYXRlQnV0dG9uKHtcclxuICAgICAgaHJlZjogJyNmYS10cmFzaCcsXHJcbiAgICAgIGNsczogJ28taWNvbi1mYS10cmFzaCcsXHJcbiAgICAgIGlkOiBpZFxyXG4gICAgfSk7XHJcbiAgICAkKHRhcmdldCkuYXBwZW5kKHRyYXNoKTtcclxuICAgIGJpbmRBY3Rpb24oJyMnICsgaWQsIGxheWVyTmFtZSwgJ3JlbW92ZScpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVuZGVyRG93bmxvYWQodGFyZ2V0LCBsYXllck5hbWUpIHtcclxuICAgIHZhciBpZCA9ICdvLWRvd25sb2FkZXItZG93bmxvYWQtJyArIGxheWVyTmFtZTtcclxuICAgIHZhciBkb3dubG9hZCA9IGNyZWF0ZUJ1dHRvbih7XHJcbiAgICAgIGhyZWY6ICcjZmEtZG93bmxvYWQnLFxyXG4gICAgICBjbHM6ICdvLWljb24tZmEtZG93bmxvYWQnLFxyXG4gICAgICBpZDogaWRcclxuICAgIH0pO1xyXG4gICAgJCh0YXJnZXQpLmFwcGVuZChkb3dubG9hZCk7XHJcbiAgICBiaW5kQWN0aW9uKCcjJyArIGlkLCBsYXllck5hbWUsICdkb3dubG9hZCcpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVuZGVyUGVuZGluZyh0YXJnZXQpIHtcclxuICAgIHZhciBzcGlubmVyQnV0dG9uID0gdXRpbHMuY3JlYXRlRWxlbWVudCgnYnV0dG9uJywgJycsIHtcclxuICAgICAgY2xzOiAnby1zcGlubmVyJ1xyXG4gICAgfSk7XHJcbiAgICAkKHRhcmdldCkuYXBwZW5kKHNwaW5uZXJCdXR0b24pO1xyXG4gICAgJCgnLm8tc3Bpbm5lcicpLmFwcGVuZChzcGlubmVyKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZUJ1dHRvbihvYmopIHtcclxuICAgIHZhciBpY29uID0gdXRpbHMuY3JlYXRlU3ZnKHtcclxuICAgICAgaHJlZjogb2JqLmhyZWYsXHJcbiAgICAgIGNsczogb2JqLmNsc1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdXRpbHMuY3JlYXRlRWxlbWVudCgnYnV0dG9uJywgaWNvbiwge1xyXG4gICAgICBpZDogb2JqLmlkXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNsb3NlRG93bmxvYWRlcigpIHtcclxuICAgICQoJy5vLWRvd25sb2FkZXInKS5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGJpbmRBY3Rpb24odGFyZ2V0LCBsYXllck5hbWUsIHR5cGUpIHtcclxuICAgICQodGFyZ2V0KS5vbignY2xpY2snLCBmdW5jdGlvbihldnQpIHtcclxuICAgICAgZGlzcGF0Y2hlci5lbWl0Q2hhbmdlRG93bmxvYWQobGF5ZXJOYW1lLCB0eXBlKTtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gRG93bmxvYWRlcjtcclxuIiwiLy8gaGJzZnkgY29tcGlsZWQgSGFuZGxlYmFycyB0ZW1wbGF0ZVxudmFyIEhhbmRsZWJhcnNDb21waWxlciA9IHJlcXVpcmUoJ2hic2Z5L3J1bnRpbWUnKTtcbm1vZHVsZS5leHBvcnRzID0gSGFuZGxlYmFyc0NvbXBpbGVyLnRlbXBsYXRlKHtcImNvbXBpbGVyXCI6WzcsXCI+PSA0LjAuMFwiXSxcIm1haW5cIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcIm8tY29udGFpbmVyLWZsdWlkIG8tZG93bmxvYWRlclxcXCI+XFxyXFxuICA8ZGl2IGNsYXNzPVxcXCJvLWNhcmRcXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJvLWNhcmQtaGVhZGVyIG8tdGV4dC1jZW50ZXJcXFwiPlxcclxcbiAgICAgIDxoNiBjbGFzcz1cXFwiby1jYXJkLWhlYWRpbmdcXFwiPk5lZGxhZGRuaW5nYXI8L2g2PlxcclxcbiAgICAgIDxkaXYgY2xhc3M9XFxcIm8tY2xvc2UtYnV0dG9uXFxcIj5cXHJcXG4gICAgICAgIDxzdmcgY2xhc3M9XFxcIm8taWNvbi1mYS10aW1lc1xcXCI+PHVzZSB4bGluazpocmVmPVxcXCIjZmEtdGltZXNcXFwiPjwvdXNlPjwvc3ZnPlxcclxcbiAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiby1jYXJkLWNvbnRlbnRcXFwiPlxcclxcbiAgICAgIDx0YWJsZSBjbGFzcyA9XFxcIm8tdGFibGVcXFwiPlxcclxcblxcclxcbiAgICAgIDwvdGFibGU+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgPC9kaXY+XFxyXFxuPC9kaXY+XFxyXFxuXCI7XG59LFwidXNlRGF0YVwiOnRydWV9KTtcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIG9sID0gcmVxdWlyZSgnb3BlbmxheWVycycpO1xyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG52YXIgdmlld2VyID0gcmVxdWlyZSgnLi4vdmlld2VyJyk7XHJcbnZhciBsYXllckNyZWF0b3IgPSByZXF1aXJlKCcuLi9sYXllcmNyZWF0b3InKTtcclxudmFyIG9mZmxpbmVMYXllciA9IHJlcXVpcmUoJy4vb2ZmbGluZWxheWVyJykoKTtcclxudmFyIGRvd25sb2FkU291cmNlcyA9IHJlcXVpcmUoJy4vZG93bmxvYWRzb3VyY2VzJyk7XHJcbnZhciBkaXNwYXRjaGVyID0gcmVxdWlyZSgnLi9vZmZsaW5lZGlzcGF0Y2hlcicpO1xyXG52YXIgb2ZmbGluZVN0b3JlID0gcmVxdWlyZSgnLi9vZmZsaW5lc3RvcmUnKSgpO1xyXG5cclxudmFyIGRvd25sb2FkRXJyb3JNc2cgPSAnRGV0IGludHLDpGZmYWRlIGV0dCBmZWwgbsOkciBsYWdyZXQgc2t1bGxlIGjDpG10YXMuIMOEciBkdSBhbnNsdXRlbiB0aWxsIGludGVybmV0PydcclxudmFyIHNhdmVFcnJvck1zZyA9ICdEZXQgaW50csOkZmZhZGUgZXR0IGZlbCBuw6RyIGbDtnLDpG5kcmluZ2FybmEgc2t1bGxlIHNwYXJhcy4gRsO2cnPDtmsgaWdlbiBzZW5hcmUuJztcclxudmFyIGludmFsaWRGb3JtYXRNc2cgPSAnSW52YWxpZCBmb3JtYXQ6ICc7XHJcblxyXG52YXIgZG93bmxvYWRIYW5kbGVyID0gZnVuY3Rpb24gZG93bmxvYWRIYW5kbGVyKCkge1xyXG4gICQoZG9jdW1lbnQpLm9uKCdjaGFuZ2VEb3dubG9hZCcsIG9uQ2hhbmdlRG93bmxvYWQpO1xyXG4gIG9mZmxpbmVTdG9yZS5pbml0KCk7XHJcblxyXG4gIGZ1bmN0aW9uIG9uQ2hhbmdlRG93bmxvYWQoZSkge1xyXG4gICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxuICAgIGlmIChlLmFjdGlvbiA9PT0gJ2Rvd25sb2FkJykge1xyXG4gICAgICBkb3dubG9hZChlLmxheWVyTmFtZSk7XHJcbiAgICB9IGVsc2UgaWYgKGUuYWN0aW9uID09PSAnc3luYycpIHtcclxuICAgICAgc3luYyhlLmxheWVyTmFtZSk7XHJcbiAgICB9IGVsc2UgaWYgKGUuYWN0aW9uID09PSAncmVtb3ZlJykge1xyXG4gICAgICByZW1vdmVEb3dubG9hZGVkKGUubGF5ZXJOYW1lKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlbW92ZURvd25sb2FkZWQobGF5ZXJOYW1lKSB7XHJcbiAgICB2YXIgbGF5ZXIgPSB2aWV3ZXIuZ2V0TGF5ZXIobGF5ZXJOYW1lKTtcclxuICAgIHZhciBwcm9wcyA9IGxheWVyLmdldFByb3BlcnRpZXMoKTtcclxuICAgIHZhciBzb3VyY2U7XHJcbiAgICBkaXNwYXRjaGVyLmVtaXRDaGFuZ2VPZmZsaW5lU3RhcnQobGF5ZXJOYW1lKTtcclxuICAgIHByb3BzLnN0eWxlID0gcHJvcHMuc3R5bGVOYW1lO1xyXG4gICAgcHJvcHMuc291cmNlID0gcHJvcHMuc291cmNlTmFtZTtcclxuICAgIHByb3BzLnR5cGUgPSBwcm9wcy5vbmxpbmVUeXBlO1xyXG4gICAgc291cmNlID0gbGF5ZXJDcmVhdG9yKHByb3BzKS5nZXRTb3VyY2UoKTtcclxuICAgIGxheWVyLnNldFNvdXJjZShzb3VyY2UpO1xyXG4gICAgZGlzcGF0Y2hlci5lbWl0Q2hhbmdlT2ZmbGluZShsYXllci5nZXQoJ25hbWUnKSwgJ3JlbW92ZScpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc3luYyhsYXllck5hbWUpIHtcclxuICAgIHZhciBvZmZsaW5lRWRpdHMgPSBvZmZsaW5lU3RvcmUuZ2V0T2ZmbGluZUVkaXRzKGxheWVyTmFtZSk7XHJcbiAgICBkaXNwYXRjaGVyLmVtaXRDaGFuZ2VPZmZsaW5lU3RhcnQobGF5ZXJOYW1lKTtcclxuICAgIGlmIChvZmZsaW5lRWRpdHMpIHtcclxuICAgICAgb2ZmbGluZUVkaXRzXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oZWRpdEl0ZW1zKSB7XHJcbiAgICAgICAgICBzYXZlVG9SZW1vdGUoZWRpdEl0ZW1zLCBsYXllck5hbWUpXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIGRvd25sb2FkKGxheWVyTmFtZSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5mYWlsKGZ1bmN0aW9uKGVycikge1xyXG4gICAgICAgICAgICAgIGFib3J0KGxheWVyTmFtZSwgc2F2ZUVycm9yTXNnLCAnYWxlcnQnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkb3dubG9hZChsYXllck5hbWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2F2ZVRvUmVtb3RlKGVkaXRJdGVtcywgbGF5ZXJOYW1lKSB7XHJcbiAgICB2YXIgbGF5ZXIgPSB2aWV3ZXIuZ2V0TGF5ZXIobGF5ZXJOYW1lKTtcclxuICAgIHZhciB0cmFuc09iaiA9IHtcclxuICAgICAgZGVsZXRlOiBbXSxcclxuICAgICAgaW5zZXJ0OiBbXSxcclxuICAgICAgdXBkYXRlOiBbXVxyXG4gICAgfTtcclxuICAgIHZhciBpZHMgPSBbXTtcclxuICAgIGVkaXRJdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgICAgdmFyIGlkID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaXRlbSlbMF07XHJcbiAgICAgIHZhciBmZWF0dXJlID0gbGF5ZXIuZ2V0U291cmNlKCkuZ2V0RmVhdHVyZUJ5SWQoaWQpO1xyXG4gICAgICB2YXIgZHVtbXk7XHJcbiAgICAgIGlmIChmZWF0dXJlKSB7XHJcbiAgICAgICAgdHJhbnNPYmpbaXRlbVtpZF1dLnB1c2goZmVhdHVyZSk7XHJcbiAgICAgICAgaWRzLnB1c2goaWQpO1xyXG4gICAgICB9IGVsc2UgaWYgKGl0ZW1baWRdID09PSAnZGVsZXRlJykge1xyXG4gICAgICAgIGR1bW15ID0gbmV3IG9sLkZlYXR1cmUoKTtcclxuICAgICAgICBkdW1teS5zZXRJZChpZCk7XHJcbiAgICAgICAgdHJhbnNPYmpbaXRlbVtpZF1dLnB1c2goZHVtbXkpO1xyXG4gICAgICAgIGlkcy5wdXNoKGlkKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGRvd25sb2FkU291cmNlc1tsYXllci5nZXQoJ29ubGluZVR5cGUnKV0udHJhbnNhY3Rpb24odHJhbnNPYmosIGxheWVyTmFtZSlcclxuICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiAgICAgICAgaWYgKHJlc3VsdCA+IDApIHtcclxuICAgICAgICAgIGRpc3BhdGNoZXIuZW1pdENoYW5nZU9mZmxpbmUobGF5ZXIuZ2V0KCduYW1lJyksICdlZGl0cycsIGlkcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGRvd25sb2FkKGxheWVyTmFtZSkge1xyXG4gICAgdmFyIGxheWVyID0gdmlld2VyLmdldExheWVyKGxheWVyTmFtZSk7XHJcbiAgICB2YXIgdHlwZSA9IGxheWVyLmdldCgnb25saW5lVHlwZScpO1xyXG4gICAgZGlzcGF0Y2hlci5lbWl0Q2hhbmdlT2ZmbGluZVN0YXJ0KGxheWVyTmFtZSk7XHJcbiAgICBpZiAoZG93bmxvYWRTb3VyY2VzLmhhc093blByb3BlcnR5KHR5cGUpKSB7XHJcbiAgICAgIGRvd25sb2FkU291cmNlc1t0eXBlXS5yZXF1ZXN0KGxheWVyKVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xyXG4gICAgICAgICAgb2ZmbGluZUxheWVyLnNldE9mZmxpbmVTb3VyY2UobGF5ZXJOYW1lLCByZXN1bHQpO1xyXG4gICAgICAgICAgZGlzcGF0Y2hlci5lbWl0Q2hhbmdlT2ZmbGluZShsYXllci5nZXQoJ25hbWUnKSwgJ2Rvd25sb2FkJyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZmFpbChmdW5jdGlvbihlcnJvcikge1xyXG4gICAgICAgICAgYWJvcnQobGF5ZXJOYW1lLCBkb3dubG9hZEVycm9yTXNnLCAnYWxlcnQnKTtcclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGVycm9yID0gJ1NvcnJ5LCAnICsgdHlwZSArICcgaXMgbm90IGF2YWlsYWJsZSBhcyBvbiBvZmZsaW5lIGZvcm1hdCc7XHJcbiAgICAgIGFib3J0KGxheWVyTmFtZSwgaW52YWxpZEZvcm1hdE1zZyArIHR5cGUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYWJvcnQobGF5ZXJOYW1lLCBlcnJvciwgaXNBbGVydCkge1xyXG4gICAgdmFyIGFjdGlvbjtcclxuICAgIGlmIChvZmZsaW5lU3RvcmUuZ2V0T2ZmbGluZUxheWVyKGxheWVyTmFtZSkuZG93bmxvYWRlZCkge1xyXG4gICAgICBhY3Rpb24gPSAnb2ZmbGluZSc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhY3Rpb24gPSAnZG93bmxvYWQnO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc0FsZXJ0KSB7XHJcbiAgICAgIGFsZXJ0KGVycm9yKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBkaXNwYXRjaGVyLmVtaXRDaGFuZ2VPZmZsaW5lRW5kKGxheWVyTmFtZSwgYWN0aW9uKTtcclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZG93bmxvYWRIYW5kbGVyO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciBzb3VyY2VzID0ge307XHJcbnNvdXJjZXMuV0ZTID0gcmVxdWlyZSgnLi93ZnMnKTtcclxuc291cmNlcy5HRU9KU09OID0gcmVxdWlyZSgnLi9nZW9qc29uJyk7XHJcbnNvdXJjZXMuVE9QT0pTT04gPSByZXF1aXJlKCcuL3RvcG9qc29uJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHNvdXJjZXM7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgb2wgPSByZXF1aXJlKCdvcGVubGF5ZXJzJyk7XHJcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XHJcbnZhciB2ZXJpZnlGZWF0dXJlSWRzID0gcmVxdWlyZSgnLi92ZXJpZnlmZWF0dXJlaWRzJyk7XHJcblxyXG52YXIgZ2VvanNvbiA9IHt9O1xyXG5nZW9qc29uLnJlcXVlc3QgPSBmdW5jdGlvbiByZXF1ZXN0KGxheWVyKSB7XHJcbiAgdmFyIHNvdXJjZSA9IGxheWVyLmdldCgnc291cmNlTmFtZScpO1xyXG4gIHZhciByZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdChzb3VyY2UpO1xyXG4gIHJldHVybiByZXF1ZXN0O1xyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVSZXF1ZXN0KHNvdXJjZSkge1xyXG4gICAgdmFyIGZvcm1hdCA9IG5ldyBvbC5mb3JtYXQuR2VvSlNPTigpO1xyXG4gICAgdmFyIHVybCA9IHNvdXJjZTtcclxuXHJcbiAgICByZXR1cm4gJC5hamF4KHtcclxuICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICBjYWNoZTogZmFsc2VcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICB2YXIgZmVhdHVyZXMgPSBmb3JtYXQucmVhZEZlYXR1cmVzKHJlc3BvbnNlKTtcclxuICAgICAgICBmZWF0dXJlcyA9IHZlcmlmeUZlYXR1cmVJZHMoZmVhdHVyZXMpO1xyXG4gICAgICAgIHJldHVybiBmZWF0dXJlcztcclxuICAgICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGdlb2pzb247XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGVtaXRDaGFuZ2VPZmZsaW5lOiBlbWl0Q2hhbmdlT2ZmbGluZSxcclxuICBlbWl0Q2hhbmdlRG93bmxvYWQ6IGVtaXRDaGFuZ2VEb3dubG9hZCxcclxuICBlbWl0Q2hhbmdlT2ZmbGluZVN0YXJ0OiBlbWl0Q2hhbmdlT2ZmbGluZVN0YXJ0LFxyXG4gIGVtaXRDaGFuZ2VPZmZsaW5lRW5kOiBlbWl0Q2hhbmdlT2ZmbGluZUVuZFxyXG59XHJcblxyXG5mdW5jdGlvbiBlbWl0Q2hhbmdlT2ZmbGluZShsYXllck5hbWUsIGFjdGlvbiwgaWRzKSB7XHJcbiAgJC5ldmVudC50cmlnZ2VyKHtcclxuICAgIHR5cGU6ICdjaGFuZ2VPZmZsaW5lJyxcclxuICAgIGxheWVyTmFtZTogbGF5ZXJOYW1lLFxyXG4gICAgYWN0aW9uOiBhY3Rpb24sXHJcbiAgICBpZHM6IGlkcyB8fCB1bmRlZmluZWRcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZW1pdENoYW5nZURvd25sb2FkKGxheWVyTmFtZSwgYWN0aW9uKSB7XHJcbiAgJC5ldmVudC50cmlnZ2VyKHtcclxuICAgIHR5cGU6ICdjaGFuZ2VEb3dubG9hZCcsXHJcbiAgICBsYXllck5hbWU6IGxheWVyTmFtZSxcclxuICAgIGFjdGlvbjogYWN0aW9uXHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVtaXRDaGFuZ2VPZmZsaW5lU3RhcnQobGF5ZXJOYW1lKSB7XHJcbiAgJC5ldmVudC50cmlnZ2VyKHtcclxuICAgIHR5cGU6ICdjaGFuZ2VPZmZsaW5lU3RhcnQnLFxyXG4gICAgbGF5ZXJOYW1lOiBsYXllck5hbWVcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZW1pdENoYW5nZU9mZmxpbmVFbmQobGF5ZXJOYW1lLCBzdGF0ZSkge1xyXG4gICQuZXZlbnQudHJpZ2dlcih7XHJcbiAgICB0eXBlOiAnY2hhbmdlT2ZmbGluZUVuZCcsXHJcbiAgICBsYXllck5hbWU6IGxheWVyTmFtZSxcclxuICAgIHN0YXRlOiBzdGF0ZVxyXG4gIH0pO1xyXG59XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxudmFyIHZpZXdlciA9IHJlcXVpcmUoJy4uL3ZpZXdlcicpO1xyXG52YXIgbGF5ZXJDcmVhdG9yID0gcmVxdWlyZSgnLi4vbGF5ZXJjcmVhdG9yJyk7XHJcblxyXG52YXIgb2ZmbGluZUxheWVyID0gZnVuY3Rpb24gb2ZmbGluZUxheWVyKCkge1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgc2V0T2ZmbGluZVNvdXJjZTogc2V0T2ZmbGluZVNvdXJjZSxcclxuICAgIHNldE9ubGluZVNvdXJjZTogc2V0T25saW5lU291cmNlXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzZXRPZmZsaW5lU291cmNlKGxheWVyTmFtZSwgZmVhdHVyZXMpIHtcclxuICAgIHZhciBsYXllciA9IHZpZXdlci5nZXRMYXllcihsYXllck5hbWUpO1xyXG4gICAgdmFyIHNvdXJjZTtcclxuICAgIHZhciBvcHRpb25zO1xyXG4gICAgbGF5ZXIuc2V0KCd0eXBlJywgJ09GRkxJTkUnKTtcclxuXHJcbiAgICAvLyBDcmVhdGUgYSBmZWF0dXJlIGxheWVyIGFuZCBnZXQgdGhlIHNvdXJjZVxyXG4gICAgb3B0aW9ucyA9IGxheWVyLmdldFByb3BlcnRpZXMoKTtcclxuICAgIG9wdGlvbnMudHlwZSA9ICdGRUFUVVJFJztcclxuICAgIG9wdGlvbnMuZmVhdHVyZXMgPSBmZWF0dXJlcztcclxuICAgIG9wdGlvbnMuc3R5bGUgPSBvcHRpb25zLnN0eWxlTmFtZTtcclxuICAgIHNvdXJjZSA9IGxheWVyQ3JlYXRvcihvcHRpb25zKS5nZXRTb3VyY2UoKTtcclxuICAgIGxheWVyLnNldFNvdXJjZShzb3VyY2UpO1xyXG4gICAgcmV0dXJuIGxheWVyO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2V0T25saW5lU291cmNlKGxheWVyTmFtZSkge1xyXG4gICAgdmFyIGxheWVyID0gdmlld2VyLmdldExheWVyKGxheWVyTmFtZSk7XHJcbiAgICB2YXIgc291cmNlO1xyXG4gICAgdmFyIG9wdGlvbnM7XHJcblxyXG4gICAgLy8gQ3JlYXRlIGEgbGF5ZXIgd2l0aCB0aGUgb25saW5lIHNvdXJjZSBhbmQgZ2V0IHRoZSBzb3VyY2VcclxuICAgIGxheWVyLnNldCgndHlwZScsIGxheWVyLmdldCgnb25saW5lVHlwZScpKTtcclxuICAgIG9wdGlvbnMgPSBsYXllci5nZXRQcm9wZXJ0aWVzKCk7XHJcbiAgICBvcHRpb25zLnNvdXJjZSA9IG9wdGlvbnMuc291cmNlTmFtZTtcclxuICAgIG9wdGlvbnMuc3R5bGUgPSBvcHRpb25zLnN0eWxlTmFtZTtcclxuICAgIHNvdXJjZSA9IGxheWVyQ3JlYXRvcihvcHRpb25zKS5nZXRTb3VyY2UoKTtcclxuICAgIGxheWVyLnNldFNvdXJjZShzb3VyY2UpO1xyXG4gICAgcmV0dXJuIGxheWVyO1xyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBvZmZsaW5lTGF5ZXI7XHJcbiIsInZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XHJcbnZhciBvbCA9IHJlcXVpcmUoJ29wZW5sYXllcnMnKTtcclxudmFyIHZpZXdlciA9IHJlcXVpcmUoJy4uL3ZpZXdlcicpO1xyXG52YXIgbG9jYWxmb3JhZ2UgPSByZXF1aXJlKCdsb2NhbGZvcmFnZScpO1xyXG52YXIgb2ZmbGluZUxheWVyID0gcmVxdWlyZSgnLi9vZmZsaW5lbGF5ZXInKSgpO1xyXG52YXIgZGlzcGF0Y2hlciA9IHJlcXVpcmUoJy4vb2ZmbGluZWRpc3BhdGNoZXInKTtcclxudmFyIGVkaXRvckRpc3BhdGNoZXIgPSByZXF1aXJlKCcuLi9lZGl0b3IvZWRpdGRpc3BhdGNoZXInKTtcclxudmFyIGZvcm1hdCA9IG5ldyBvbC5mb3JtYXQuR2VvSlNPTigpO1xyXG52YXIgc3RvcmFnZSA9IHt9O1xyXG52YXIgZWRpdHNTdG9yYWdlID0ge307XHJcbnZhciBvZmZsaW5lTGF5ZXJzID0ge307XHJcbnZhciBzdG9yYWdlTmFtZTtcclxudmFyIGVkaXRzU3RvcmFnZU5hbWU7XHJcbnZhciBtYXA7XHJcblxyXG5mdW5jdGlvbiBvZmZsaW5lU3RvcmUoKSB7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBnZXRPZmZsaW5lTGF5ZXJzOiBnZXRPZmZsaW5lTGF5ZXJzLFxyXG4gICAgZ2V0T2ZmbGluZUxheWVyOiBnZXRPZmZsaW5lTGF5ZXIsXHJcbiAgICBnZXRPZmZsaW5lRWRpdHM6IGdldE9mZmxpbmVFZGl0cyxcclxuICAgIGdldEVkaXRzSXRlbXM6IGdldEVkaXRzSXRlbXMsXHJcbiAgICBpbml0OiBJbml0XHJcbiAgfTtcclxuXHJcbiAgZnVuY3Rpb24gSW5pdChvcHRfb3B0aW9ucykge1xyXG4gICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcclxuICAgIHZhciBsYXllck5hbWVzO1xyXG4gICAgbWFwID0gdmlld2VyLmdldE1hcCgpO1xyXG4gICAgc3RvcmFnZU5hbWUgPSBvcHRpb25zLm5hbWUgfHwgJ29yaWdvLWxheWVycyc7XHJcbiAgICBlZGl0c1N0b3JhZ2VOYW1lID0gb3B0aW9ucy5lZGl0c05hbWUgfHwgJ29yaWdvLWxheWVycy1lZGl0cyc7XHJcbiAgICBsYXllck5hbWVzID0gdmlld2VyLmdldExheWVyc0J5UHJvcGVydHkoJ29mZmxpbmUnLCB0cnVlLCB0cnVlKTtcclxuICAgIHNldE9mZmxpbmVMYXllcnMobGF5ZXJOYW1lcyk7XHJcbiAgICBzdG9yYWdlID0gY3JlYXRlSW5zdGFuY2VzKGxheWVyTmFtZXMsIHN0b3JhZ2VOYW1lKTtcclxuICAgIGVkaXRzU3RvcmFnZSA9IGNyZWF0ZUluc3RhbmNlcyhsYXllck5hbWVzLCBlZGl0c1N0b3JhZ2VOYW1lKTtcclxuICAgIGluaXRMYXllcnMoKTtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5vbignY2hhbmdlT2ZmbGluZScsIG9uQ2hhbmdlT2ZmbGluZSk7XHJcbiAgICAkKGRvY3VtZW50KS5vbignY2hhbmdlT2ZmbGluZUVkaXRzJywgb25DaGFuZ2VPZmZsaW5lRWRpdHMpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2VzKGxheWVyTmFtZXMsIG5hbWUpIHtcclxuICAgIHZhciBpbnN0YW5jZXMgPSB7fTtcclxuICAgIGxheWVyTmFtZXMuZm9yRWFjaChmdW5jdGlvbihsYXllck5hbWUpIHtcclxuICAgICAgaW5zdGFuY2VzW2xheWVyTmFtZV0gPSBsb2NhbGZvcmFnZS5jcmVhdGVJbnN0YW5jZSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBzdG9yZU5hbWU6IGxheWVyTmFtZVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBpbnN0YW5jZXM7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRPZmZsaW5lTGF5ZXJzKCkge1xyXG4gICAgcmV0dXJuIG9mZmxpbmVMYXllcnM7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRPZmZsaW5lTGF5ZXIobGF5ZXJOYW1lKSB7XHJcbiAgICByZXR1cm4gb2ZmbGluZUxheWVyc1tsYXllck5hbWVdO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0T2ZmbGluZUVkaXRzKGxheWVyTmFtZSkge1xyXG4gICAgaWYgKG9mZmxpbmVMYXllcnNbbGF5ZXJOYW1lXS5lZGl0cykge1xyXG4gICAgICByZXR1cm4gZ2V0RWRpdHNJdGVtcyhsYXllck5hbWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNldE9mZmxpbmVMYXllcnMobGF5ZXJOYW1lcykge1xyXG4gICAgbGF5ZXJOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uKGxheWVyTmFtZSkge1xyXG4gICAgICB2YXIgbGF5ZXIgPSB2aWV3ZXIuZ2V0TGF5ZXIobGF5ZXJOYW1lKTtcclxuICAgICAgbGF5ZXIuc2V0KCdvbmxpbmVUeXBlJywgbGF5ZXIuZ2V0KCd0eXBlJykpO1xyXG4gICAgICBvZmZsaW5lTGF5ZXJzW2xheWVyTmFtZV0gPSBjcmVhdGVPZmZsaW5lT2JqKCk7XHJcbiAgICAgIG9mZmxpbmVMYXllci5zZXRPZmZsaW5lU291cmNlKGxheWVyTmFtZSwgW10pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBvbkNoYW5nZU9mZmxpbmUoZSkge1xyXG4gICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxuICAgIGlmIChlLmFjdGlvbiA9PT0gJ2Rvd25sb2FkJykge1xyXG4gICAgICBvbkRvd25sb2FkKGUubGF5ZXJOYW1lKVxyXG4gICAgfSBlbHNlIGlmIChlLmFjdGlvbiA9PT0gJ2VkaXRzJykge1xyXG4gICAgICBvbmRFZGl0cyhlLmxheWVyTmFtZSwgZS5pZHMpO1xyXG4gICAgfSBlbHNlIGlmIChlLmFjdGlvbiA9PT0gJ3JlbW92ZScpIHtcclxuICAgICAgb25SZW1vdmUoZS5sYXllck5hbWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gb25DaGFuZ2VPZmZsaW5lRWRpdHMoZSkge1xyXG4gICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcclxuICAgIGlmIChlZGl0c1N0b3JhZ2VbZS5sYXllck5hbWVdKSB7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZWRpdHNTdG9yYWdlW2UubGF5ZXJOYW1lXSA9IGxvY2FsZm9yYWdlLmNyZWF0ZUluc3RhbmNlKHtcclxuICAgICAgICBuYW1lOiBlZGl0c1N0b3JhZ2VOYW1lLFxyXG4gICAgICAgIHN0b3JlTmFtZTogZS5sYXllck5hbWVcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoZS5lZGl0cy51cGRhdGUpIHtcclxuICAgICAgc2F2ZVVwZGF0ZShlLmVkaXRzLnVwZGF0ZSwgZS5sYXllck5hbWUpO1xyXG4gICAgfVxyXG4gICAgaWYgKGUuZWRpdHMuaW5zZXJ0KSB7XHJcbiAgICAgIHNhdmVJbnNlcnQoZS5lZGl0cy5pbnNlcnQsIGUubGF5ZXJOYW1lKTtcclxuICAgIH1cclxuICAgIGlmIChlLmVkaXRzLmRlbGV0ZSkge1xyXG4gICAgICBzYXZlRGVsZXRlKGUuZWRpdHMuZGVsZXRlLCBlLmxheWVyTmFtZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBvbkRvd25sb2FkKGxheWVyTmFtZSkge1xyXG4gICAgaWYgKG9mZmxpbmVMYXllcnNbbGF5ZXJOYW1lXS5kb3dubG9hZGVkKSB7XHJcbiAgICAgIHN0b3JhZ2VbbGF5ZXJOYW1lXS5jbGVhcigpXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzYXZlRmVhdHVyZXNUb1N0b3JhZ2UobGF5ZXJOYW1lKTtcclxuICAgICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNhdmVGZWF0dXJlc1RvU3RvcmFnZShsYXllck5hbWUpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gb25kRWRpdHMobGF5ZXJOYW1lLCBpZHMpIHtcclxuICAgIHZhciBwcm9taXNlcyA9IGlkcy5tYXAoZnVuY3Rpb24oaWQpIHtcclxuICAgICAgcmV0dXJuIHJlbW92ZUZyb21FZGl0c1N0b3JhZ2UoaWQsIGxheWVyTmFtZSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIG9uUmVtb3ZlKGxheWVyTmFtZSkge1xyXG4gICAgaWYgKG9mZmxpbmVMYXllcnNbbGF5ZXJOYW1lXS5lZGl0cykge1xyXG4gICAgICB2YXIgcHJvY2VlZCA9IGNvbmZpcm0oJ0R1IGhhciBmb3J0ZmFyYW5kZSBvZmZsaW5lLcOkbmRyaW5nYXIgc29tIGludGUgw6RyIHNwYXJhZGUuIE9tIGR1IGZvcnRzw6R0dGVyIGtvbW1lciBkZXNzYSBhdHQgZsO2cnN2aW5uYS4nKTtcclxuICAgICAgaWYgKHByb2NlZWQpIHtcclxuICAgICAgICByZW1vdmVEb3dubG9hZGVkKGxheWVyTmFtZSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlbW92ZURvd25sb2FkZWQobGF5ZXJOYW1lKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlbW92ZURvd25sb2FkZWQobGF5ZXJOYW1lKSB7XHJcbiAgICBpZiAob2ZmbGluZUxheWVyc1tsYXllck5hbWVdKSB7XHJcbiAgICAgIHJldHVybiBzdG9yYWdlW2xheWVyTmFtZV0uY2xlYXIoKVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2V0TGF5ZXJPbmxpbmUobGF5ZXJOYW1lKTtcclxuICAgICAgICAgIGRpc3BhdGNoZXIuZW1pdENoYW5nZU9mZmxpbmVFbmQobGF5ZXJOYW1lLCAnZG93bmxvYWQnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZU9mZmxpbmVPYmooKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkb3dubG9hZGVkOiBmYWxzZSxcclxuICAgICAgZWRpdHM6IGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzZXREb3dubG9hZGVkKGxheWVyTmFtZSwgZG93bmxvYWRlZCkge1xyXG4gICAgaWYgKGRvd25sb2FkZWQpIHtcclxuICAgICAgb2ZmbGluZUxheWVyc1tsYXllck5hbWVdLmRvd25sb2FkZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb2ZmbGluZUxheWVyc1tsYXllck5hbWVdLmRvd25sb2FkZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNldEVkaXRzKGxheWVyTmFtZSwgZWRpdHMpIHtcclxuICAgIGlmIChlZGl0cykge1xyXG4gICAgICBvZmZsaW5lTGF5ZXJzW2xheWVyTmFtZV0uZWRpdHMgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb2ZmbGluZUxheWVyc1tsYXllck5hbWVdLmVkaXRzID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzYXZlRmVhdHVyZXNUb1N0b3JhZ2UobGF5ZXJOYW1lKSB7XHJcbiAgICB2YXIgZmVhdHVyZXM7XHJcbiAgICBpZiAoc3RvcmFnZVtsYXllck5hbWVdKSB7XHJcbiAgICAgIGZlYXR1cmVzID0gdmlld2VyLmdldExheWVyKGxheWVyTmFtZSkuZ2V0U291cmNlKCkuZ2V0RmVhdHVyZXMoKTtcclxuICAgICAgc2V0SXRlbXMobGF5ZXJOYW1lLCBmZWF0dXJlcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZyhsYXllck5hbWUgKyAnIGlzIG1pc3NpbmcgaW4gc3RvcmFnZScpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2V0SXRlbXMobGF5ZXJOYW1lLCBmZWF0dXJlcykge1xyXG4gICAgdmFyIHByb21pc2VzID0gZmVhdHVyZXMubWFwKGZ1bmN0aW9uKGZlYXR1cmUpIHtcclxuICAgICAgdmFyIGlkID0gZmVhdHVyZS5nZXRJZCgpO1xyXG4gICAgICB2YXIgb2JqID0gZm9ybWF0LndyaXRlRmVhdHVyZU9iamVjdChmZWF0dXJlKTtcclxuICAgICAgcmV0dXJuIHN0b3JhZ2VbbGF5ZXJOYW1lXS5zZXRJdGVtKGlkLCBvYmopO1xyXG4gICAgfSk7XHJcbiAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbihyZXN1bHRzKSB7XHJcbiAgICAgIHNldExheWVyT2ZmbGluZShsYXllck5hbWUsIGZlYXR1cmVzKTtcclxuICAgICAgZGlzcGF0Y2hlci5lbWl0Q2hhbmdlT2ZmbGluZUVuZChsYXllck5hbWUsICdvZmZsaW5lJyk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldEl0ZW1zKGxheWVyTmFtZSkge1xyXG4gICAgdmFyIGxheWVyID0gdmlld2VyLmdldExheWVyKGxheWVyTmFtZSk7XHJcbiAgICB2YXIgZ2VvbWV0cnlOYW1lID0gbGF5ZXIuZ2V0KCdnZW9tZXRyeU5hbWUnKTtcclxuICAgIHZhciBmZWF0dXJlcyA9IFtdO1xyXG4gICAgcmV0dXJuIHN0b3JhZ2VbbGF5ZXJOYW1lXS5pdGVyYXRlKGZ1bmN0aW9uKHZhbHVlLCBrZXksIGluZGV4KSB7XHJcbiAgICAgICAgdmFyIHN0b3JlZEZlYXR1cmUgPSBmb3JtYXQucmVhZEZlYXR1cmUodmFsdWUpO1xyXG4gICAgICAgIHZhciBmZWF0dXJlID0gcmVzdG9yZUdlb21ldHJ5TmFtZShzdG9yZWRGZWF0dXJlLCBnZW9tZXRyeU5hbWUpO1xyXG4gICAgICAgIGZlYXR1cmVzLnB1c2goZmVhdHVyZSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBmZWF0dXJlcztcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRFZGl0c0l0ZW1zKGxheWVyTmFtZSkge1xyXG4gICAgdmFyIGxheWVyID0gdmlld2VyLmdldExheWVyKGxheWVyTmFtZSk7XHJcbiAgICB2YXIgaXRlbXMgPSBbXTtcclxuICAgIHJldHVybiBlZGl0c1N0b3JhZ2VbbGF5ZXJOYW1lXS5pdGVyYXRlKGZ1bmN0aW9uKHZhbHVlLCBrZXksIGluZGV4KSB7XHJcbiAgICAgICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgICAgIG9ialtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgaXRlbXMucHVzaChvYmopO1xyXG4gICAgICB9KVxyXG4gICAgICAudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gaXRlbXM7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaW5pdExheWVycygpIHtcclxuICAgIHZhciBsYXllck5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc3RvcmFnZSk7XHJcbiAgICBsYXllck5hbWVzLmZvckVhY2goZnVuY3Rpb24obGF5ZXJOYW1lKSB7XHJcbiAgICAgIGdldEl0ZW1zKGxheWVyTmFtZSkudGhlbihmdW5jdGlvbihmZWF0dXJlcykge1xyXG4gICAgICAgIHZhciBsYXllcjtcclxuICAgICAgICBpZiAoZmVhdHVyZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICBzZXRMYXllck9mZmxpbmUobGF5ZXJOYW1lLCBmZWF0dXJlcyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNldExheWVyT25saW5lKGxheWVyTmFtZSwgZmVhdHVyZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGdldEVkaXRzSXRlbXMobGF5ZXJOYW1lKS50aGVuKGZ1bmN0aW9uKGl0ZW1zKSB7XHJcbiAgICAgICAgdmFyIGxheWVyO1xyXG4gICAgICAgIGlmIChpdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgIHNldEVkaXRzKGxheWVyTmFtZSwgdHJ1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNldEVkaXRzKGxheWVyTmFtZSwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNldExheWVyT2ZmbGluZShsYXllck5hbWUsIGZlYXR1cmVzKSB7XHJcbiAgICBvZmZsaW5lTGF5ZXIuc2V0T2ZmbGluZVNvdXJjZShsYXllck5hbWUsIGZlYXR1cmVzKTtcclxuICAgIHNldERvd25sb2FkZWQobGF5ZXJOYW1lLCB0cnVlKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNldExheWVyT25saW5lKGxheWVyTmFtZSkge1xyXG4gICAgb2ZmbGluZUxheWVyLnNldE9ubGluZVNvdXJjZShsYXllck5hbWUpO1xyXG4gICAgc2V0RG93bmxvYWRlZChsYXllck5hbWUsIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNhdmVVcGRhdGUodXBkYXRlcywgbGF5ZXJOYW1lKSB7XHJcbiAgICB1cGRhdGVzLmZvckVhY2goZnVuY3Rpb24oZmVhdHVyZSkge1xyXG4gICAgICB2YXIgaWQgPSBmZWF0dXJlLmdldElkKCk7XHJcbiAgICAgIHZhciBhY3Rpb24gPSAndXBkYXRlJztcclxuICAgICAgZWRpdHNTdG9yYWdlW2xheWVyTmFtZV0uZ2V0SXRlbShpZClcclxuICAgICAgICAudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcclxuICAgICAgICAgIGlmIChyZXN1bHQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgc2F2ZVRvRWRpdHNTdG9yYWdlKGZlYXR1cmUsIGxheWVyTmFtZSwgYWN0aW9uKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNhdmVGZWF0dXJlVG9TdG9yYWdlKGZlYXR1cmUsIGxheWVyTmFtZSwgYWN0aW9uKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2F2ZUluc2VydChpbnNlcnRzLCBsYXllck5hbWUpIHtcclxuICAgIGluc2VydHMuZm9yRWFjaChmdW5jdGlvbihmZWF0dXJlKSB7XHJcbiAgICAgIHZhciBhY3Rpb24gPSAnaW5zZXJ0JztcclxuICAgICAgc2F2ZVRvRWRpdHNTdG9yYWdlKGZlYXR1cmUsIGxheWVyTmFtZSwgYWN0aW9uKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2F2ZURlbGV0ZShkZWxldGVzLCBsYXllck5hbWUpIHtcclxuICAgIGRlbGV0ZXMuZm9yRWFjaChmdW5jdGlvbihmZWF0dXJlKSB7XHJcbiAgICAgIHZhciBpZCA9IGZlYXR1cmUuZ2V0SWQoKTtcclxuICAgICAgdmFyIGFjdGlvbiA9ICdkZWxldGUnO1xyXG4gICAgICBlZGl0c1N0b3JhZ2VbbGF5ZXJOYW1lXS5nZXRJdGVtKGlkKVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xyXG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBzYXZlVG9FZGl0c1N0b3JhZ2UoZmVhdHVyZSwgbGF5ZXJOYW1lLCBhY3Rpb24pO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQgPT09ICdpbnNlcnQnKSB7XHJcbiAgICAgICAgICAgIHJlbW92ZUZyb21FZGl0c1N0b3JhZ2UoZmVhdHVyZS5nZXRJZCgpLCBsYXllck5hbWUpXHJcbiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBlbWl0Q2hhbmdlRmVhdHVyZShmZWF0dXJlLCBsYXllck5hbWUsIGFjdGlvbik7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzYXZlRmVhdHVyZVRvU3RvcmFnZShmZWF0dXJlLCBsYXllck5hbWUsIGFjdGlvbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNhdmVUb0VkaXRzU3RvcmFnZShmZWF0dXJlLCBsYXllck5hbWUsIGFjdGlvbikge1xyXG4gICAgdmFyIGlkID0gZmVhdHVyZS5nZXRJZCgpO1xyXG4gICAgZWRpdHNTdG9yYWdlW2xheWVyTmFtZV0uc2V0SXRlbShpZCwgYWN0aW9uKVxyXG4gICAgICAudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICBzZXRFZGl0cyhsYXllck5hbWUsIHRydWUpO1xyXG4gICAgICAgIHNhdmVGZWF0dXJlVG9TdG9yYWdlKGZlYXR1cmUsIGxheWVyTmFtZSwgYWN0aW9uKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZW1vdmVGcm9tRWRpdHNTdG9yYWdlKGlkLCBsYXllck5hbWUpIHtcclxuICAgIHJldHVybiBlZGl0c1N0b3JhZ2VbbGF5ZXJOYW1lXS5yZW1vdmVJdGVtKGlkKVxyXG4gICAgICAudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICBlZGl0c1N0b3JhZ2VbbGF5ZXJOYW1lXS5sZW5ndGgoKVxyXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24obnIpIHtcclxuICAgICAgICAgICAgaWYgKG5yID4gMCkge1xyXG4gICAgICAgICAgICAgIHNldEVkaXRzKGxheWVyTmFtZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgc2V0RWRpdHMobGF5ZXJOYW1lLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNhdmVGZWF0dXJlVG9TdG9yYWdlKGZlYXR1cmUsIGxheWVyTmFtZSwgYWN0aW9uKSB7XHJcbiAgICB2YXIgaWQgPSBmZWF0dXJlLmdldElkKCk7XHJcbiAgICBzdG9yYWdlW2xheWVyTmFtZV0uc2V0SXRlbShpZCwgZm9ybWF0LndyaXRlRmVhdHVyZU9iamVjdChmZWF0dXJlKSlcclxuICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZW1pdENoYW5nZUZlYXR1cmUoZmVhdHVyZSwgbGF5ZXJOYW1lLCBhY3Rpb24pO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGVtaXRDaGFuZ2VGZWF0dXJlKGZlYXR1cmUsIGxheWVyTmFtZSwgYWN0aW9uKSB7XHJcbiAgICBlZGl0b3JEaXNwYXRjaGVyLmVtaXRDaGFuZ2VGZWF0dXJlKHtcclxuICAgICAgZmVhdHVyZTogW2ZlYXR1cmVdLFxyXG4gICAgICBsYXllck5hbWU6IGxheWVyTmFtZSxcclxuICAgICAgc3RhdHVzOiAnZmluaXNoZWQnLFxyXG4gICAgICBhY3Rpb246IGFjdGlvblxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByZXN0b3JlR2VvbWV0cnlOYW1lKGZlYXR1cmUsIGdlb21ldHJ5TmFtZSkge1xyXG4gICAgdmFyIGdlb21ldHJ5ID0gZmVhdHVyZS5nZXRHZW9tZXRyeSgpO1xyXG4gICAgZmVhdHVyZS51bnNldChmZWF0dXJlLmdldEdlb21ldHJ5TmFtZSgpKTtcclxuICAgIGZlYXR1cmUuc2V0R2VvbWV0cnlOYW1lKGdlb21ldHJ5TmFtZSk7XHJcbiAgICBmZWF0dXJlLnNldEdlb21ldHJ5KGdlb21ldHJ5KTtcclxuICAgIHJldHVybiBmZWF0dXJlO1xyXG4gIH1cclxuXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gb2ZmbGluZVN0b3JlO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIG9sID0gcmVxdWlyZSgnb3BlbmxheWVycycpO1xyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG52YXIgdmVyaWZ5RmVhdHVyZUlkcyA9IHJlcXVpcmUoJy4vdmVyaWZ5ZmVhdHVyZWlkcycpO1xyXG5cclxudmFyIHRvcG9Kc29uID0ge307XHJcbnRvcG9Kc29uLnJlcXVlc3QgPSBmdW5jdGlvbiByZXF1ZXN0KGxheWVyKSB7XHJcbiAgdmFyIHNvdXJjZSA9IGxheWVyLmdldCgnc291cmNlTmFtZScpO1xyXG4gIHZhciByZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdChzb3VyY2UpO1xyXG4gIHJldHVybiByZXF1ZXN0O1xyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVSZXF1ZXN0KHNvdXJjZSkge1xyXG4gICAgdmFyIGZvcm1hdCA9IG5ldyBvbC5mb3JtYXQuVG9wb0pTT04oKTtcclxuICAgIHZhciB1cmwgPSBzb3VyY2U7XHJcblxyXG4gICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgY2FjaGU6IGZhbHNlXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgdmFyIGZlYXR1cmVzID0gZm9ybWF0LnJlYWRGZWF0dXJlcyhyZXNwb25zZSk7XHJcbiAgICAgICAgZmVhdHVyZXMgPSB2ZXJpZnlGZWF0dXJlSWRzKGZlYXR1cmVzKTtcclxuICAgICAgICByZXR1cm4gZmVhdHVyZXM7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB0b3BvSnNvbjtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBnZW5lcmF0ZVVVSUQgPSByZXF1aXJlKCcuLi91dGlscy9nZW5lcmF0ZXV1aWQnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gdmVyaWZ5RmVhdHVyZUlkcyhmZWF0dXJlcykge1xyXG4gIGlmIChmZWF0dXJlc1swXSkge1xyXG4gICAgaWYgKGZlYXR1cmVzWzBdLmdldElkKCkgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICBmZWF0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uKGZlYXR1cmUpIHtcclxuICAgICAgICBmZWF0dXJlLnNldElkKGdlbmVyYXRlVVVJRCgpKTtcclxuICAgICAgfSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBmZWF0dXJlcztcclxufVxyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxudmFyIG9sID0gcmVxdWlyZSgnb3BlbmxheWVycycpO1xyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG52YXIgdmlld2VyID0gcmVxdWlyZSgnLi4vdmlld2VyJyk7XHJcbnZhciB3ZnNUcmFuc2FjdGlvbiA9IHJlcXVpcmUoJy4uL2VkaXRvci93ZnN0cmFuc2FjdGlvbicpO1xyXG5cclxudmFyIHdmcyA9IHt9O1xyXG53ZnMucmVxdWVzdCA9IGZ1bmN0aW9uIHJlcXVlc3QobGF5ZXIpIHtcclxuICB2YXIgc291cmNlT3B0aW9ucyA9IHZpZXdlci5nZXRNYXBTb3VyY2UoKVtsYXllci5nZXQoJ3NvdXJjZU5hbWUnKV07XHJcbiAgc291cmNlT3B0aW9ucy5mZWF0dXJlVHlwZSA9IGxheWVyLmdldCgnbmFtZScpLnNwbGl0KCdfXycpLnNoaWZ0KCk7XHJcbiAgc291cmNlT3B0aW9ucy5nZW9tZXRyeU5hbWUgPSBsYXllci5nZXQoJ2dlb21ldHJ5TmFtZScpO1xyXG4gIHNvdXJjZU9wdGlvbnMuZmlsdGVyID0gbGF5ZXIuZ2V0KCdmaWx0ZXInKTtcclxuICBzb3VyY2VPcHRpb25zLnByb2plY3Rpb25Db2RlID0gdmlld2VyLmdldFByb2plY3Rpb25Db2RlKCk7XHJcbiAgc291cmNlT3B0aW9ucy5leHRlbnQgPSBsYXllci5nZXQoJ2V4dGVudCcpO1xyXG4gIHNvdXJjZU9wdGlvbnMucHJvamVjdGlvbkNvZGUgPSB2aWV3ZXIuZ2V0UHJvamVjdGlvbkNvZGUoKTtcclxuXHJcbiAgdmFyIHJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0KHNvdXJjZU9wdGlvbnMpO1xyXG4gIHJldHVybiByZXF1ZXN0O1xyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVSZXF1ZXN0KG9wdGlvbnMpIHtcclxuICAgIHZhciBmb3JtYXQgPSBuZXcgb2wuZm9ybWF0Lkdlb0pTT04oe1xyXG4gICAgICBnZW9tZXRyeU5hbWU6IG9wdGlvbnMuZ2VvbWV0cnlOYW1lXHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgc2VydmVyVXJsID0gb3B0aW9ucy51cmw7XHJcbiAgICB2YXIgcXVlcnlGaWx0ZXI7XHJcbiAgICB2YXIgdXJsO1xyXG5cclxuICAgIC8vSWYgY3FsIGZpbHRlciB0aGVuIGJib3ggbXVzdCBiZSB1c2VkIGluIHRoZSBmaWx0ZXIuXHJcbiAgICBpZiAob3B0aW9ucy5maWx0ZXIpIHtcclxuICAgICAgcXVlcnlGaWx0ZXIgPSAnJkNRTF9GSUxURVI9JyArIG9wdGlvbnMuZmlsdGVyICtcclxuICAgICAgICAnIEFORCBCQk9YKCcgKyBvcHRpb25zLmdlb21ldHJ5TmFtZSArICcsJyArXHJcbiAgICAgICAgb3B0aW9ucy5leHRlbnQuam9pbignLCcpICsgJywnICtcclxuICAgICAgICBcIidcIiArIG9wdGlvbnMucHJvamVjdGlvbkNvZGUgKyBcIicpXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBxdWVyeUZpbHRlciA9ICcmQkJPWD0nICtcclxuICAgICAgICBvcHRpb25zLmV4dGVudC5qb2luKCcsJykgKyAnLCcgKyBvcHRpb25zLnByb2plY3Rpb25Db2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHVybCA9IHNlcnZlclVybCArXHJcbiAgICAgICc/c2VydmljZT1XRlMmJyArXHJcbiAgICAgICd2ZXJzaW9uPTEuMS4wJnJlcXVlc3Q9R2V0RmVhdHVyZSZ0eXBlTmFtZT0nICsgb3B0aW9ucy5mZWF0dXJlVHlwZSArXHJcbiAgICAgICcmb3V0cHV0Rm9ybWF0PWFwcGxpY2F0aW9uL2pzb24nICtcclxuICAgICAgJyZzcnNuYW1lPScgKyBvcHRpb25zLnByb2plY3Rpb25Db2RlICtcclxuICAgICAgcXVlcnlGaWx0ZXI7XHJcblxyXG4gICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgY2FjaGU6IGZhbHNlXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgcmV0dXJuIGZvcm1hdC5yZWFkRmVhdHVyZXMocmVzcG9uc2UpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbndmcy50cmFuc2FjdGlvbiA9IGZ1bmN0aW9uKHRyYW5zT2JqLCBsYXllck5hbWUpIHtcclxuICByZXR1cm4gd2ZzVHJhbnNhY3Rpb24odHJhbnNPYmosIGxheWVyTmFtZSk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gd2ZzO1xyXG4iLCIvKnJlcXVpcmVzIE1vZGFsLmpzKi9cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgcGVybWFsaW5rUGFyc2VyID0gcmVxdWlyZSgnLi9wZXJtYWxpbmtwYXJzZXInKTtcclxudmFyIHBlcm1hbGlua1N0b3JlID0gcmVxdWlyZSgnLi9wZXJtYWxpbmtzdG9yZScpO1xyXG52YXIgdXJscGFyc2VyID1yZXF1aXJlKCcuLi91dGlscy91cmxwYXJzZXInKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XHJcblxyXG5yZXR1cm4ge1xyXG4gICAgZ2V0UGVybWFsaW5rOiBmdW5jdGlvbiBnZXRQZXJtYWxpbmsob3B0aW9ucykge1xyXG4gICAgICAgIHZhciBoYXNoID0gdXJscGFyc2VyLmZvcm1hdFVybChwZXJtYWxpbmtTdG9yZS5nZXRTdGF0ZSgpKTtcclxuICAgICAgICB2YXIgdXJsID0gcGVybWFsaW5rU3RvcmUuZ2V0VXJsKCkgKyBcIiNcIiArIGhhc2g7XHJcbiAgICAgICAgcmV0dXJuKHVybCk7XHJcbiAgICB9LFxyXG4gICAgcGFyc2VQZXJtYWxpbms6IGZ1bmN0aW9uIHBhcnNlUGVybWFsaW5rKHVybCkge1xyXG4gICAgICAgIGlmKHVybC5pbmRleE9mKCcjJykgPiAtMSkge1xyXG4gICAgICAgICAgICB2YXIgdXJsU2VhcmNoID0gdXJsLnNwbGl0KCcjJylbMV07XHJcbiAgICAgICAgICAgIHZhciB1cmxQYXJ0cyA9IHVybFNlYXJjaC5zcGxpdCgnJicpO1xyXG4gICAgICAgICAgICB2YXIgdXJsQXNPYmogPSB7fTtcclxuICAgICAgICAgICAgdXJsUGFydHMuZm9yRWFjaChmdW5jdGlvbihwYXJ0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gcGFydC5zcGxpdCgnPScpWzBdO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IHBhcnQuc3BsaXQoJz0nKVsxXTtcclxuICAgICAgICAgICAgICAgIGlmKHBlcm1hbGlua1BhcnNlci5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsQXNPYmpba2V5XSA9IHBlcm1hbGlua1BhcnNlcltrZXldKHZhbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gdXJsQXNPYmo7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG59KCk7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgdXJscGFyc2VyID0gcmVxdWlyZSgnLi4vdXRpbHMvdXJscGFyc2VyJyk7XHJcblxyXG52YXIgbGF5ZXJNb2RlbCA9IHtcclxuICAgIHY6IHtcclxuICAgICAgbmFtZTogXCJ2aXNpYmxlXCIsXHJcbiAgICAgIGRhdGFUeXBlOiBcImJvb2xlYW5cIlxyXG4gICAgfSxcclxuICAgIHM6IHtcclxuICAgICAgbmFtZTogXCJsZWdlbmRcIixcclxuICAgICAgZGF0YVR5cGU6IFwiYm9vbGVhblwiXHJcbiAgICB9LFxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBsYXllcnM6IGZ1bmN0aW9uKGxheWVyc1N0cikge1xyXG4gICAgICB2YXIgbGF5ZXJzID0gbGF5ZXJzU3RyLnNwbGl0KCcsJyk7XHJcbiAgICAgIHZhciBsYXllck9iamVjdHMgPSB7fTtcclxuICAgICAgbGF5ZXJzLmZvckVhY2goZnVuY3Rpb24obGF5ZXIpIHtcclxuICAgICAgICAgIHZhciBvYmogPSB7fTtcclxuICAgICAgICAgIHZhciBsYXllck9iamVjdCA9IHVybHBhcnNlci5vYmplY3RpZnkobGF5ZXIse3RvcG1vc3Q6IFwibmFtZVwifSk7XHJcbiAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhsYXllck9iamVjdCkuZm9yRWFjaChmdW5jdGlvbihwcm9wKSB7XHJcbiAgICAgICAgICAgICAgdmFyIHZhbCA9IGxheWVyT2JqZWN0W3Byb3BdO1xyXG4gICAgICAgICAgICAgIGlmKGxheWVyTW9kZWwuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGxheWVyTW9kZWxbcHJvcF07XHJcbiAgICAgICAgICAgICAgICAgIG9ialthdHRyaWJ1dGUubmFtZV0gPSB1cmxwYXJzZXIuc3RyQm9vbGVhbih2YWwpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgb2JqW3Byb3BdID0gdmFsO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgbGF5ZXJPYmplY3RzW29iai5uYW1lXSA9IG9iajtcclxuXHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gbGF5ZXJPYmplY3RzO1xyXG4gIH0sXHJcbiAgem9vbTogZnVuY3Rpb24oem9vbVN0cikge1xyXG4gICAgICByZXR1cm4gcGFyc2VJbnQoem9vbVN0cik7XHJcbiAgfSxcclxuICBjZW50ZXI6IGZ1bmN0aW9uKGNlbnRlclN0cikge1xyXG4gICAgICB2YXIgY2VudGVyID0gY2VudGVyU3RyLnNwbGl0KFwiLFwiKS5tYXAoZnVuY3Rpb24oY29vcmQpIHtcclxuICAgICAgICAgIHJldHVybiBwYXJzZUludChjb29yZCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gY2VudGVyO1xyXG4gIH0sXHJcbiAgc2VsZWN0aW9uOiBmdW5jdGlvbihzZWxlY3Rpb25TdHIpIHtcclxuICAgICAgcmV0dXJuIHVybHBhcnNlci5zdHJBcnJheWlmeShzZWxlY3Rpb25TdHIsIHtcclxuICAgICAgICB0b3Btb3N0TmFtZTogXCJnZW9tZXRyeVR5cGVcIixcclxuICAgICAgICBhcnJOYW1lOiBcImNvb3JkaW5hdGVzXCJ9XHJcbiAgICAgICk7XHJcbiAgfSxcclxuICBwaW46IGZ1bmN0aW9uKHBpblN0cikge1xyXG4gICAgICByZXR1cm4gdXJscGFyc2VyLnN0ckludGlmeShwaW5TdHIpO1xyXG4gIH0sXHJcbiAgbWFwOiBmdW5jdGlvbihtYXBTdHIpIHtcclxuICAgICAgcmV0dXJuIG1hcFN0cjtcclxuICB9XHJcbn1cclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgdmlld2VyID0gcmVxdWlyZSgnLi4vdmlld2VyJyk7XHJcbnZhciBzZWxlY3Rpb24gPSByZXF1aXJlKCcuLi9mZWF0dXJlaW5mbycpWydnZXRTZWxlY3Rpb24nXTtcclxudmFyIGdldFBpbiA9IHJlcXVpcmUoJy4uL2ZlYXR1cmVpbmZvJylbJ2dldFBpbiddO1xyXG52YXIgdXJscGFyc2VyID1yZXF1aXJlKCcuLi91dGlscy91cmxwYXJzZXInKTtcclxuXHJcbnZhciBwZXJtYWxpbmtTdG9yZSA9IHt9O1xyXG52YXIgc3RhdGU7XHJcbnZhciB1cmw7XHJcblxyXG5wZXJtYWxpbmtTdG9yZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uIGdldFN0YXRlKCkge1xyXG4gICAgc3RhdGUgPSB7fTtcclxuICAgIHZhciB2aWV3ID0gdmlld2VyLmdldE1hcCgpLmdldFZpZXcoKTtcclxuICAgIHZhciBsYXllcnMgPSB2aWV3ZXIuZ2V0TGF5ZXJzKCk7XHJcbiAgICBzdGF0ZS5sYXllcnMgPSBnZXRTYXZlTGF5ZXJzKGxheWVycyk7XHJcbiAgICBzdGF0ZS5jZW50ZXIgPSB2aWV3LmdldENlbnRlcigpLm1hcChmdW5jdGlvbihjb29yZCkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKGNvb3JkKTtcclxuICAgIH0pLmpvaW4oKTtcclxuICAgIHN0YXRlLnpvb20gPSB2aWV3LmdldFpvb20oKS50b1N0cmluZygpO1xyXG4gICAgLy8gc3RhdGUuc2VsZWN0aW9uID0gZ2V0U2F2ZVNlbGVjdGlvbihzZWxlY3Rpb24oKSk7XHJcbiAgICBpZiAoZ2V0UGluKCkpIHtcclxuICAgICAgICBzdGF0ZS5waW4gPSBnZXRQaW4oKS5nZXRHZW9tZXRyeSgpLmdldENvb3JkaW5hdGVzKCkubWFwKGZ1bmN0aW9uKGNvb3JkKSB7XHJcbiAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChjb29yZCk7XHJcbiAgICAgICAgfSkuam9pbigpO1xyXG4gICAgfVxyXG4gICAgaWYgKHZpZXdlci5nZXRNYXBOYW1lKCkpIHtcclxuICAgICAgICBzdGF0ZS5tYXAgPSB2aWV3ZXIuZ2V0TWFwTmFtZSgpLnNwbGl0KCcuJylbMF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RhdGU7XHJcbn1cclxucGVybWFsaW5rU3RvcmUuZ2V0VXJsID0gZnVuY3Rpb24oKSB7XHJcbiAgICB1cmwgPSB2aWV3ZXIuZ2V0VXJsKCk7XHJcbiAgICByZXR1cm4gdXJsO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRTYXZlTGF5ZXJzKGxheWVycykge1xyXG4gICAgdmFyIHNhdmVMYXllcnMgPSBbXTtcclxuICAgIGxheWVycy5mb3JFYWNoKGZ1bmN0aW9uKGxheWVyKSB7XHJcbiAgICAgICAgdmFyIHNhdmVMYXllciA9IHt9O1xyXG4gICAgICAgIHNhdmVMYXllci52ID0gbGF5ZXIuZ2V0VmlzaWJsZSgpID09PSB0cnVlID8gMSA6IDA7XHJcbiAgICAgICAgc2F2ZUxheWVyLnMgPSBsYXllci5nZXQoJ2xlZ2VuZCcpID09PSB0cnVlID8gMSA6IDA7XHJcbiAgICAgICAgaWYgKHNhdmVMYXllci5zIHx8IHNhdmVMYXllci52KSB7XHJcbiAgICAgICAgICAgIHNhdmVMYXllci5uYW1lID0gbGF5ZXIuZ2V0KCduYW1lJyk7XHJcbiAgICAgICAgICAgIHNhdmVMYXllcnMucHVzaCh1cmxwYXJzZXIuc3RyaW5naWZ5KHNhdmVMYXllciwge3RvcG1vc3Q6ICduYW1lJ30pKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBzYXZlTGF5ZXJzO1xyXG59XHJcbmZ1bmN0aW9uIGdldFNhdmVTZWxlY3Rpb24oc2VsZWN0aW9uKSB7XHJcbiAgICByZXR1cm4gdXJscGFyc2VyLmFyclN0cmluZ2lmeShzZWxlY3Rpb24uY29vcmRpbmF0ZXMsIHt0b3Btb3N0OiBzZWxlY3Rpb24uZ2VvbWV0cnlUeXBlfSk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gcGVybWFsaW5rU3RvcmU7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih0YXJnZXQpIHtcclxuICAgIHJlbmRlcih0YXJnZXQpO1xyXG4gICAgYmluZFVJQWN0aW9ucygpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBnZXRFbDogZ2V0RWwsXHJcbiAgICAgICAgc2V0VmlzaWJpbGl0eTogc2V0VmlzaWJpbGl0eSxcclxuICAgICAgICBzZXRUaXRsZTogc2V0VGl0bGUsXHJcbiAgICAgICAgc2V0Q29udGVudDogc2V0Q29udGVudCxcclxuICAgICAgICBjbG9zZVBvcHVwOiBjbG9zZVBvcHVwXHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcmVuZGVyKHRhcmdldCkge1xyXG4gIHZhciBwb3AgPSAnPGRpdiBpZD1cIm8tcG9wdXBcIj4nICtcclxuICAgICAgJzxkaXYgY2xhc3M9XCJvLXBvcHVwIG8tY2FyZFwiPicgK1xyXG4gICAgICAgICc8ZGl2IGNsYXNzPVwiby1jbG9zZS1idXR0b25cIj48c3ZnIGNsYXNzPVwiby1pY29uLWZhLXRpbWVzXCI+PHVzZSB4bGluazpocmVmPVwiI2ZhLXRpbWVzXCI+PC91c2U+PC9zdmc+PC9kaXY+JyArXHJcbiAgICAgICAgJzxkaXYgY2xhc3M9XCJvLWNhcmQtdGl0bGVcIj48L2Rpdj4nICtcclxuICAgICAgICAnPGRpdiBjbGFzcz1cIm8tY2FyZC1jb250ZW50XCI+PC9kaXY+JyArXHJcbiAgICAgICc8L2Rpdj4nICtcclxuICAgICc8L2Rpdj4nO1xyXG4gICQodGFyZ2V0KS5hcHBlbmQocG9wKTtcclxufVxyXG5mdW5jdGlvbiBiaW5kVUlBY3Rpb25zKCkge1xyXG4gICAgJCgnI28tcG9wdXAgLm8tcG9wdXAgLm8tY2xvc2UtYnV0dG9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgY2xvc2VQb3B1cCgpO1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gZ2V0RWwoKSB7XHJcbiAgICByZXR1cm4gJChcIiNvLXBvcHVwXCIpLmdldCgwKTtcclxufVxyXG5mdW5jdGlvbiBzZXRWaXNpYmlsaXR5KHZpc2libGUpIHtcclxuICAgIHZpc2libGUgPT0gdHJ1ZSA/ICQoJyNvLXBvcHVwIC5vLXBvcHVwJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJykgOiAkKCcjby1wb3B1cCAuby1wb3B1cCcpLmNzcygnZGlzcGxheScsICdub25lJyk7XHJcbn1cclxuZnVuY3Rpb24gc2V0VGl0bGUodGl0bGUpIHtcclxuICAgICQoJyNvLXBvcHVwIC5vLWNhcmQtdGl0bGUnKS5odG1sKHRpdGxlKTtcclxufVxyXG5mdW5jdGlvbiBzZXRDb250ZW50KGNvbmZpZykge1xyXG4gICAgY29uZmlnLnRpdGxlID8gJCgnI28tcG9wdXAgLm8tcG9wdXAgLm8tY2FyZC10aXRsZScpLmh0bWwoY29uZmlnLnRpdGxlKTogJCgnI28tcG9wdXAgLm8tcG9wdXAgLm8tY2FyZC10aXRsZScpLmh0bWwoJycpO1xyXG4gICAgY29uZmlnLmNvbnRlbnQgPyAkKCcjby1wb3B1cCAuby1wb3B1cCAuby1jYXJkLWNvbnRlbnQnKS5odG1sKGNvbmZpZy5jb250ZW50KTogJCgnI28tcG9wdXAgLm8tcG9wdXAgLm8tY2FyZC1jb250ZW50JykuaHRtbCgnJyk7XHJcbn1cclxuZnVuY3Rpb24gY2xvc2VQb3B1cCgpIHtcclxuICAgIHNldFZpc2liaWxpdHkoZmFsc2UpO1xyXG59XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIG9sID0gcmVxdWlyZSgnb3BlbmxheWVycycpO1xyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG52YXIgdmlld2VyID0gcmVxdWlyZSgnLi92aWV3ZXInKTtcclxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xyXG5cclxudmFyIGNvbnRyb2xJZCA9ICdvLXBvc2l0aW9uJztcclxudmFyIG1hcmtlcklkID0gJ28tcG9zaXRpb24tbWFya2VyJztcclxudmFyIHRvZ2dsZVByb2pJZCA9ICdvLXBvc2l0aW9uLXRvZ2dsZS1wcm9qJztcclxudmFyIGNvb3Jkc0lkID0gJ28tcG9zaXRpb24tY29vcmRzJztcclxudmFyIGNvb3Jkc0ZpbmRJZCA9ICdvLXBvc2l0aW9uLWZpbmQnO1xyXG52YXIgdG9nZ2xlUG9zaXRpb25JZCA9ICdvLXRvZ2dsZS1wb3NpdGlvbic7XHJcbnZhciBjaGFyYWN0ZXJFcnJvciA9ICdPZ2lsdGlndCB0ZWNrZW4gZsO2ciBrb29yZGluYXQsIHbDpG5saWdlbiBmw7Zyc8O2ayBpZ2VuLic7XHJcbnZhciBleHRlbnRFcnJvciA9ICdBbmdpdm5hIGtvb3JkaW5hdGVyIGxpZ2dlciBpbnRlIGlub20ga2FydGFucyB1dHN0csOkY2tuaW5nLCB2w6RubGlnZW4gZsO2cnPDtmsgaWdlbi4nO1xyXG52YXIgbWFwID0gdW5kZWZpbmVkO1xyXG52YXIgdmlldyA9IHVuZGVmaW5lZDtcclxudmFyIGNvbnNvbGVJZCA9IHVuZGVmaW5lZDtcclxudmFyIHN1ZmZpeCA9IHVuZGVmaW5lZDtcclxudmFyIGN1cnJlbnRQcm9qZWN0aW9uID0gdW5kZWZpbmVkO1xyXG52YXIgcHJvamVjdGlvbnMgPSB1bmRlZmluZWQ7XHJcbnZhciBwcm9qZWN0aW9uQ29kZXMgPSB1bmRlZmluZWQ7XHJcbnZhciBwcm9qZWN0aW9uID0gdW5kZWZpbmVkO1xyXG52YXIgbWFwUHJvamVjdGlvbiA9IHVuZGVmaW5lZDtcclxudmFyIHByZWNpc2lvbiA9IHVuZGVmaW5lZDtcclxudmFyIG1vdXNlUG9zaXRpb25BY3RpdmUgPSBmYWxzZTtcclxudmFyIG1vdXNlUG9zaXRpb25Db250cm9sO1xyXG5cclxuZnVuY3Rpb24gSW5pdChvcHRfb3B0aW9ucykge1xyXG4gIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XHJcbiAgdmFyIHRpdGxlID0gb3B0aW9ucy50aXRsZSB8fCB1bmRlZmluZWQ7XHJcbiAgc3VmZml4ID0gb3B0aW9ucy5zdWZmaXggfHwgJyc7XHJcbiAgbWFwID0gdmlld2VyLmdldE1hcCgpO1xyXG4gIHZpZXcgPSBtYXAuZ2V0VmlldygpO1xyXG4gIHByb2plY3Rpb24gPSB2aWV3LmdldFByb2plY3Rpb24oKTtcclxuICBtYXBQcm9qZWN0aW9uID0gdmlld2VyLmdldFByb2plY3Rpb25Db2RlKCk7XHJcbiAgY29uc29sZUlkID0gdmlld2VyLmdldENvbnNvbGVJZCgpO1xyXG4gIHByb2plY3Rpb25zID0gb3B0aW9ucy5wcm9qZWN0aW9ucyB8fCB7fTtcclxuICBwcm9qZWN0aW9uQ29kZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm9qZWN0aW9ucyk7XHJcbiAgaWYgKHRpdGxlKSB7XHJcbiAgICBjdXJyZW50UHJvamVjdGlvbiA9IG1hcFByb2plY3Rpb247XHJcbiAgICBwcm9qZWN0aW9uc1tjdXJyZW50UHJvamVjdGlvbl0gPSB0aXRsZTtcclxuICAgIHByb2plY3Rpb25Db2Rlcy51bnNoaWZ0KG1hcFByb2plY3Rpb24pO1xyXG4gIH0gZWxzZSBpZiAocHJvamVjdGlvbkNvZGVzLmxlbmd0aCkge1xyXG4gICAgY3VycmVudFByb2plY3Rpb24gPSBwcm9qZWN0aW9uQ29kZXNbMF07XHJcbiAgfSBlbHNlIHtcclxuICAgIGFsZXJ0KCdObyB0aXRsZSBvciBwcm9qZWN0aW9uIGlzIHNldCBmb3IgcG9zaXRpb24nKTtcclxuICB9XHJcbiAgc2V0UHJlY2lzaW9uKCk7XHJcblxyXG4gIHJlbmRlcigpO1xyXG4gIGJpbmRVSUFjdGlvbnMoKTtcclxuXHJcbiAgYWRkTW91c2VQb3NpdGlvbigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXIoKSB7XHJcbiAgdmFyIGljb24gPSB1dGlscy5jcmVhdGVTdmcoe1xyXG4gICAgaHJlZjogJyNvX2NlbnRlcnBvc2l0aW9uXzI0cHgnLFxyXG4gICAgY2xzOiAnby1pY29uLXBvc2l0aW9uJ1xyXG4gIH0pO1xyXG4gIHZhciB0b2dnbGVCdXR0b25zID0gdXRpbHMuY3JlYXRlRWxlbWVudCgnYnV0dG9uJywgaWNvbiwge1xyXG4gICAgY2xzOiAnby1wb3NpdGlvbi1jZW50ZXItYnV0dG9uJyxcclxuICAgIGlkOiB0b2dnbGVQb3NpdGlvbklkXHJcbiAgfSk7XHJcbiAgdG9nZ2xlQnV0dG9ucyArPSB1dGlscy5jcmVhdGVFbGVtZW50KCdidXR0b24nLCBwcm9qZWN0aW9uc1tjdXJyZW50UHJvamVjdGlvbl0sIHtcclxuICAgIGlkOiB0b2dnbGVQcm9qSWQsXHJcbiAgICBjbHM6ICdvLXBvc2l0aW9uLWJ1dHRvbicsXHJcbiAgICB2YWx1ZTogY3VycmVudFByb2plY3Rpb25cclxuICB9KTtcclxuICB2YXIgY29vcmRzRGl2ID0gdXRpbHMuY3JlYXRlRWxlbWVudCgnZGl2JywgJycsIHtcclxuICAgIGlkOiBjb29yZHNJZCxcclxuICAgIGNsczogY29vcmRzSWQsXHJcbiAgICBzdHlsZTogJ3BhZGRpbmctbGVmdDogNXB4OydcclxuICB9KTtcclxuICB2YXIgY29vcmRzRmluZCA9IHV0aWxzLmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgJycsIHtcclxuICAgIGlkOiBjb29yZHNGaW5kSWQsXHJcbiAgICBjbHM6IGNvb3Jkc0ZpbmRJZCxcclxuICAgIHR5cGU6ICd0ZXh0JyxcclxuICAgIG5hbWU6IGNvb3Jkc0ZpbmRJZCxcclxuICAgIHN0eWxlOiAncGFkZGluZy1sZWZ0OiA1cHg7J1xyXG4gIH0pO1xyXG4gIHZhciBjb250cm9sQ29udGFpbmVyID0gdXRpbHMuY3JlYXRlRWxlbWVudCgnZGl2JywgdG9nZ2xlQnV0dG9ucyArIGNvb3Jkc0RpdiArIGNvb3Jkc0ZpbmQsIHtcclxuICAgIGlkOiBjb250cm9sSWQsXHJcbiAgICBjbHM6IGNvbnRyb2xJZCxcclxuICAgIHN0eWxlOiAnZGlzcGxheTogaW5saW5lLWJsb2NrOydcclxuICB9KTtcclxuICAkKCcjJyArIGNvbnNvbGVJZCkuYXBwZW5kKGNvbnRyb2xDb250YWluZXIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBiaW5kVUlBY3Rpb25zKCkge1xyXG4gICQoJyMnICsgdG9nZ2xlUHJvaklkKS5vbignY2xpY2snLCBvblRvZ2dsZVByb2plY3Rpb24pO1xyXG4gICQoJyMnICsgdG9nZ2xlUG9zaXRpb25JZCkub24oJ2NsaWNrJywgb25Ub2dnbGVQb3NpdGlvbik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZE1vdXNlUG9zaXRpb24oKSB7XHJcbiAgbW91c2VQb3NpdGlvbkNvbnRyb2wgPSBuZXcgb2wuY29udHJvbC5Nb3VzZVBvc2l0aW9uKHtcclxuICAgIGNvb3JkaW5hdGVGb3JtYXQ6IG9sLmNvb3JkaW5hdGUuY3JlYXRlU3RyaW5nWFkocHJlY2lzaW9uKSxcclxuICAgIHByb2plY3Rpb246IGN1cnJlbnRQcm9qZWN0aW9uLFxyXG4gICAgdGFyZ2V0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb29yZHNJZCksXHJcbiAgICB1bmRlZmluZWRIVE1MOiAnJm5ic3A7J1xyXG4gIH0pO1xyXG4gIG1hcC5hZGRDb250cm9sKG1vdXNlUG9zaXRpb25Db250cm9sKTtcclxuICBtb3VzZVBvc2l0aW9uQWN0aXZlID0gdHJ1ZTtcclxuICAkKCcjJyArIGNvb3Jkc0lkKS5hZGRDbGFzcygnby1hY3RpdmUnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlTW91c2VQb3NpdGlvbigpIHtcclxuICBtYXAucmVtb3ZlQ29udHJvbChtb3VzZVBvc2l0aW9uQ29udHJvbCk7XHJcbiAgJCgnIycgKyBjb29yZHNJZCkucmVtb3ZlQ2xhc3MoJ28tYWN0aXZlJyk7XHJcbiAgbW91c2VQb3NpdGlvbkFjdGl2ZSA9IGZhbHNlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRDZW50ZXJQb3NpdGlvbigpIHtcclxuICByZW5kZXJNYXJrZXIoKTtcclxuICAkKCcjJyArIHRvZ2dsZVBvc2l0aW9uSWQpLmFkZENsYXNzKCdvLWFjdGl2ZScpO1xyXG4gICQoJyMnICsgY29vcmRzRmluZElkKS5hZGRDbGFzcygnby1hY3RpdmUnKTtcclxuICB1cGRhdGVDb29yZHModmlldy5nZXRDZW50ZXIoKSk7XHJcbiAgdmlldy5vbignY2hhbmdlOmNlbnRlcicsIG9uQ2hhbmdlQ2VudGVyKTtcclxuICAkKCcjJyArIGNvb3Jkc0ZpbmRJZCkub24oJ2tleXByZXNzJywgb25GaW5kKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlQ2VudGVyUG9zaXRpb24oKSB7XHJcbiAgdmlldy51bignY2hhbmdlOmNlbnRlcicsIG9uQ2hhbmdlQ2VudGVyKTtcclxuICBjbGVhcigpO1xyXG4gICQoJyMnICsgY29vcmRzRmluZElkKS5vZmYoJ2tleXByZXNzJywgb25GaW5kKTtcclxuICAkKCcjJyArIG1hcmtlcklkKS5yZW1vdmUoKTtcclxuICAkKCcjJyArIHRvZ2dsZVBvc2l0aW9uSWQpLnJlbW92ZUNsYXNzKCdvLWFjdGl2ZScpO1xyXG4gICQoJyMnICsgY29vcmRzRmluZElkKS5yZW1vdmVDbGFzcygnby1hY3RpdmUnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyTWFya2VyKCkge1xyXG4gIHZhciBpY29uID0gdXRpbHMuY3JlYXRlU3ZnKHtcclxuICAgIGhyZWY6ICcjb19jZW50ZXJwb3NpdGlvbl8yNHB4JyxcclxuICAgIGNsczogJ28taWNvbi1wb3NpdGlvbi1tYXJrZXInXHJcbiAgfSk7XHJcbiAgdmFyIG1hcmtlciA9IHV0aWxzLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIGljb24sIHtcclxuICAgIGlkOiBtYXJrZXJJZCxcclxuICAgIGNsczogbWFya2VySWRcclxuICB9KTtcclxuICAkKCcjby1tYXAnKS5hcHBlbmQobWFya2VyKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZmluZENvb3JkaW5hdGUoKSB7XHJcbiAgdmFyIGNvb3JkcyA9ICQoJyMnICsgY29vcmRzRmluZElkKS52YWwoKTtcclxuICB2YXIgdmFsaWRhdGVkID0gdmFsaWRhdGVDb29yZGluYXRlKGNvb3Jkcyk7XHJcbiAgaWYgKHZhbGlkYXRlZC5sZW5ndGggPT09IDIpIHtcclxuICAgIG1hcC5nZXRWaWV3KCkuYW5pbWF0ZSh7XHJcbiAgICAgIGNlbnRlcjogdmFsaWRhdGVkLFxyXG4gICAgICB6b29tOiAodmlld2VyLmdldFJlc29sdXRpb25zKCkubGVuZ3RoIC0gMylcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdmFsaWRhdGVDb29yZGluYXRlKHN0ckNvb3Jkcykge1xyXG4gIHZhciBleHRlbnQgPSB2aWV3ZXIuZ2V0RXh0ZW50KCkgfHwgdmlldy5nZXRQcm9qZWN0aW9uKCkuZ2V0RXh0ZW50KCk7XHJcbiAgdmFyIGluRXh0ZW50O1xyXG5cclxuICAvL3ZhbGlkYXRlIG51bWJlcnNcclxuICB2YXIgY29vcmRzID0gc3RyQ29vcmRzLnNwbGl0KCcsJykubWFwKGZ1bmN0aW9uKGNvb3JkKSB7XHJcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KGNvb3JkKTtcclxuICAgIH0pXHJcbiAgICAuZmlsdGVyKGZ1bmN0aW9uKGNvb3JkKSB7XHJcbiAgICAgIGlmIChjb29yZCAhPT0gTmFOKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvb3JkO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICBpZiAoY29vcmRzLmxlbmd0aCAhPT0gMikge1xyXG4gICAgYWxlcnQoY2hhcmFjdGVyRXJyb3IpO1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxuXHJcbiAgLy8gdHJhbnNmb3JtXHJcbiAgaWYgKGN1cnJlbnRQcm9qZWN0aW9uICE9PSBtYXBQcm9qZWN0aW9uKSB7XHJcbiAgICBjb29yZHMgPSB0cmFuc2Zvcm1Db29yZHMoY29vcmRzLCBjdXJyZW50UHJvamVjdGlvbiwgbWFwUHJvamVjdGlvbik7XHJcbiAgfVxyXG5cclxuICAvLyB2YWxpZGF0ZSBjb29yZHMgd2l0aGluIGV4dGVudFxyXG4gIGluRXh0ZW50ID0gY29vcmRzWzBdID49IGV4dGVudFswXSAmJiBjb29yZHNbMV0gPj0gZXh0ZW50WzFdO1xyXG4gIGluRXh0ZW50ID0gaW5FeHRlbnQgJiYgKGNvb3Jkc1swXSA8PSBleHRlbnRbMl0pICYmIChjb29yZHNbMV0gPD0gZXh0ZW50WzNdKTtcclxuICBpZiAoaW5FeHRlbnQpIHtcclxuICAgIHJldHVybiBjb29yZHM7XHJcbiAgfSBlbHNlIHtcclxuICAgIGFsZXJ0KGV4dGVudEVycm9yKTtcclxuICAgIHJldHVybiBbXTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRvZ2dsZVByb2plY3Rpb25WYWwodmFsKSB7XHJcbiAgdmFyIGluZGV4O1xyXG4gIHZhciBwcm9qID0gdW5kZWZpbmVkO1xyXG4gIGluZGV4ID0gcHJvamVjdGlvbkNvZGVzLmluZGV4T2YodmFsKTtcclxuICBpZiAoaW5kZXggPT09IHByb2plY3Rpb25Db2Rlcy5sZW5ndGggLSAxKSB7XHJcbiAgICBwcm9qID0gcHJvamVjdGlvbkNvZGVzWzBdO1xyXG4gIH0gZWxzZSBpZiAoaW5kZXggPCBwcm9qZWN0aW9uQ29kZXMubGVuZ3RoIC0gMSkge1xyXG4gICAgcHJvaiA9IHByb2plY3Rpb25Db2Rlc1tpbmRleCArIDFdO1xyXG4gIH1cclxuICByZXR1cm4gcHJvajtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xlYXIoKSB7XHJcbiAgd3JpdGVDb29yZHMoJycpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvblRvZ2dsZVBvc2l0aW9uKCkge1xyXG4gIGlmIChtb3VzZVBvc2l0aW9uQWN0aXZlKSB7XHJcbiAgICByZW1vdmVNb3VzZVBvc2l0aW9uKCk7XHJcbiAgICBhZGRDZW50ZXJQb3NpdGlvbigpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhZGRNb3VzZVBvc2l0aW9uKCk7ICAgIFxyXG4gICAgcmVtb3ZlQ2VudGVyUG9zaXRpb24oKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uVG9nZ2xlUHJvamVjdGlvbihlKSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICBjdXJyZW50UHJvamVjdGlvbiA9IHRvZ2dsZVByb2plY3Rpb25WYWwodGhpcy52YWx1ZSk7XHJcbiAgICBzZXRQcmVjaXNpb24oKTtcclxuICAgIHdyaXRlUHJvamVjdGlvbihjdXJyZW50UHJvamVjdGlvbik7XHJcbiAgICBpZiAobW91c2VQb3NpdGlvbkFjdGl2ZSkge1xyXG4gICAgICByZW1vdmVNb3VzZVBvc2l0aW9uKCk7XHJcbiAgICAgIGFkZE1vdXNlUG9zaXRpb24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHVwZGF0ZUNvb3Jkcyh2aWV3LmdldENlbnRlcigpKTtcclxuICAgIH1cclxuICAgIHRoaXMuYmx1cigpO1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICB9LmJpbmQodGhpcykoZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uQ2hhbmdlQ2VudGVyKCkge1xyXG4gIHVwZGF0ZUNvb3Jkcyh2aWV3LmdldENlbnRlcigpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gb25GaW5kKGUpIHtcclxuICBpZiAoZS53aGljaCA9PT0gMTMpIHtcclxuICAgIGZpbmRDb29yZGluYXRlKCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiByb3VuZChjb29yZHMpIHtcclxuICBpZiAocHJlY2lzaW9uKSB7XHJcbiAgICByZXR1cm4gY29vcmRzLm1hcChmdW5jdGlvbihjb29yZCkge1xyXG4gICAgICByZXR1cm4gY29vcmQudG9GaXhlZChwcmVjaXNpb24pO1xyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBjb29yZHMubWFwKGZ1bmN0aW9uKGNvb3JkKSB7XHJcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKGNvb3JkKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2V0UHJlY2lzaW9uKCkge1xyXG4gIGlmIChjdXJyZW50UHJvamVjdGlvbiA9PT0gJ0VQU0c6NDMyNicpIHtcclxuICAgIHByZWNpc2lvbiA9IDU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHByZWNpc2lvbiA9IDA7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB3cml0ZVByb2plY3Rpb24oKSB7XHJcbiAgJCgnIycgKyB0b2dnbGVQcm9qSWQpLnZhbChjdXJyZW50UHJvamVjdGlvbik7XHJcbiAgJCgnIycgKyB0b2dnbGVQcm9qSWQpLnRleHQocHJvamVjdGlvbnNbY3VycmVudFByb2plY3Rpb25dKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdHJhbnNmb3JtQ29vcmRzKGNvb3Jkcywgc291cmNlLCBkZXN0aW5hdGlvbikge1xyXG4gIHZhciBnZW9tZXRyeSA9IG5ldyBvbC5GZWF0dXJlKHtcclxuICAgIGdlb21ldHJ5OiBuZXcgb2wuZ2VvbS5Qb2ludChjb29yZHMpXHJcbiAgfSkuZ2V0R2VvbWV0cnkoKTtcclxuICByZXR1cm4gZ2VvbWV0cnkudHJhbnNmb3JtKHNvdXJjZSwgZGVzdGluYXRpb24pLmdldENvb3JkaW5hdGVzKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUNvb3Jkcyhzb3VyY2VDb29yZHMpIHtcclxuICB2YXIgY29vcmRzID0gc291cmNlQ29vcmRzO1xyXG4gIHZhciBjZW50ZXI7XHJcbiAgaWYgKGN1cnJlbnRQcm9qZWN0aW9uICE9PSBtYXBQcm9qZWN0aW9uKSB7XHJcbiAgICBjb29yZHMgPSB0cmFuc2Zvcm1Db29yZHMoY29vcmRzLCBwcm9qZWN0aW9uLCBjdXJyZW50UHJvamVjdGlvbik7XHJcbiAgfVxyXG4gIGNvb3JkcyA9IHJvdW5kKGNvb3Jkcyk7XHJcbiAgY2VudGVyID0gY29vcmRzLmpvaW4oJywgJykgKyBzdWZmaXg7XHJcbiAgd3JpdGVDb29yZHMoY2VudGVyKTtcclxufVxyXG5cclxuZnVuY3Rpb24gd3JpdGVDb29yZHMoY29vcmRzKSB7XHJcbiAgJCgnIycgKyBjb29yZHNGaW5kSWQpLnZhbChjb29yZHMpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5pbml0ID0gSW5pdDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG52YXIgVmlld2VyID0gcmVxdWlyZSgnLi92aWV3ZXInKTtcclxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xyXG52YXIgdGVtcGxhdGUgPSByZXF1aXJlKFwiLi90ZW1wbGF0ZXMvcHJpbnQuaGFuZGxlYmFyc1wiKTtcclxuXHJcbnZhciBwcmludFdpdGggPSA4MDA7XHJcbnZhciAkcHJpbnRCdXR0b247XHJcbnZhciBhdHRyaWJ1dGlvbjtcclxudmFyIG1hcDtcclxudmFyIGJhc2VVcmw7XHJcblxyXG5mdW5jdGlvbiBJbml0KG9wdF9vcHRpb25zKSB7XHJcbiAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcclxuICBhdHRyaWJ1dGlvbiA9IG9wdGlvbnMuYXR0cmlidXRpb24gfHwgJ8KpIExhbnRtw6R0ZXJpZXQgR2VvZGF0YXNhbXZlcmthbic7XHJcbiAgbWFwID0gVmlld2VyLmdldE1hcCgpO1xyXG4gIGJhc2VVcmwgPSBWaWV3ZXIuZ2V0QmFzZVVybCgpO1xyXG5cclxuICByZW5kZXIoKTtcclxuICBiaW5kVUlBY3Rpb25zKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlcigpIHtcclxuICB2YXIgZWwgPSB1dGlscy5jcmVhdGVMaXN0QnV0dG9uKHtcclxuICAgIGlkOiAnby1wcmludCcsXHJcbiAgICBpY29uQ2xzOiAnby1pY29uLWZhLXByaW50JyxcclxuICAgIHNyYzogJyNmYS1wcmludCcsXHJcbiAgICB0ZXh0OiAnU2tyaXYgdXQnXHJcbiAgfSk7XHJcbiAgJCgnI28tbWVudXRvb2xzJykuYXBwZW5kKGVsKTtcclxuICAkcHJpbnRCdXR0b24gPSAkKCcjby1wcmludC1idXR0b24nKTtcclxufVxyXG5cclxuZnVuY3Rpb24gYmluZFVJQWN0aW9ucygpIHtcclxuICAkcHJpbnRCdXR0b24ub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgJCgnI2FwcC13cmFwcGVyJykuYXBwZW5kKCc8Y2FudmFzIGlkPVwiby1wcmludFwiIHN0eWxlPVwiZGlzcGxheTogbm9uZVwiPjwvY2FudmFzPicpO1xyXG4gICAgY3JlYXRlSW1hZ2UoKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW1hZ2VUb1ByaW50KCRwcmludENhbnZhcykge1xyXG4gIHZhciBpbWFnZUNyb3AgPSBuZXcgSW1hZ2UoKTtcclxuICB0cnkge1xyXG4gICAgaW1hZ2VDcm9wLnNyYyA9ICRwcmludENhbnZhcy5nZXQoMCkudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gIH0gZmluYWxseSB7XHJcbiAgICB2YXIgdGVtcGxhdGVPcHRpb25zID0ge307XHJcbiAgICB0ZW1wbGF0ZU9wdGlvbnMuc3JjID0gaW1hZ2VDcm9wLnNyYztcclxuICAgIHRlbXBsYXRlT3B0aW9ucy5hdHRyaWJ1dGlvbiA9IGF0dHJpYnV0aW9uO1xyXG4gICAgdGVtcGxhdGVPcHRpb25zLmxvZ29TcmMgPSBiYXNlVXJsICsgJ2Nzcy9wbmcvbG9nb19wcmludC5wbmcnO1xyXG4gICAgdmFyIHB3ID0gdGVtcGxhdGUodGVtcGxhdGVPcHRpb25zKTtcclxuICAgIHZhciBwcmludFdpbmRvdyA9IHdpbmRvdy5vcGVuKCcnLCAnJywgJ3dpZHRoPTgwMCxoZWlnaHQ9ODIwJyk7XHJcbiAgICBwcmludFdpbmRvdy5kb2N1bWVudC53cml0ZShwdyk7XHJcbiAgICBwcmludFdpbmRvdy5kb2N1bWVudC5jbG9zZSgpO1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgcHJpbnRXaW5kb3cucHJpbnQoKTtcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICBwcmludFdpbmRvdy5jbG9zZSgpO1xyXG4gICAgICAgICQoJyNvLXByaW50JykucmVtb3ZlKCk7XHJcbiAgICAgIH0sIDEwKTtcclxuICAgIH0sIDIwMCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVJbWFnZSgpIHtcclxuICB2YXIgJGNhbnZhcyA9ICQoJ2NhbnZhcycpO1xyXG4gIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG5cclxuICB0cnkge1xyXG4gICAgdmFyIGltYWdlVXJsID0gJGNhbnZhcy5nZXQoMCkudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gIH0gZmluYWxseSB7XHJcblxyXG4gICAgLy8gJHByaW50Q2FudmFzID0gY29weSBvZiBvcmlnaW5hbCBtYXAgY2FudmFzXHJcbiAgICB2YXIgJHByaW50Q2FudmFzID0gJCgnI28tcHJpbnQnKTtcclxuICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgY3R4Q2FudmFzID0gJHByaW50Q2FudmFzWzBdLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG4gICAgICAgLy93aWR0aCBvZiBtYXAgY2FudmFzXHJcbiAgICAgIHZhciBzb3VyY2VXaWR0aCA9ICRjYW52YXNbMF0ud2lkdGg7XHJcblxyXG4gICAgICAvL2hlaWdodCBvZiBtYXAgY2FudmFzXHJcbiAgICAgIHZhciBzb3VyY2VIZWlnaHQgPSAkY2FudmFzWzBdLmhlaWdodDtcclxuXHJcbiAgICAgIC8vc2V0IHRoZSB3aWR0aCBvZiBwcmludCBjYW52YXNcclxuICAgICAgaWYgKHNvdXJjZVdpZHRoIDwgcHJpbnRXaXRoKSB7XHJcbiAgICAgICAgJHByaW50Q2FudmFzWzBdLndpZHRoID0gc291cmNlV2lkdGg7XHJcbiAgICAgIH0gZWxzZSBpZiAoc291cmNlV2lkdGggPj0gcHJpbnRXaXRoKSB7XHJcbiAgICAgICAgJHByaW50Q2FudmFzWzBdLndpZHRoID0gcHJpbnRXaXRoO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvL3NldCB0aGUgaGVpZ2h0IG9mIHByaW50IGNhbnZhc1xyXG4gICAgICBpZiAoc291cmNlSGVpZ2h0IDwgcHJpbnRXaXRoKSB7XHJcbiAgICAgICAgJHByaW50Q2FudmFzWzBdLmhlaWdodCA9IHNvdXJjZUhlaWdodDtcclxuICAgICAgfSBlbHNlIGlmIChzb3VyY2VXaWR0aCA+PSBwcmludFdpdGgpIHtcclxuICAgICAgICAkcHJpbnRDYW52YXNbMF0uaGVpZ2h0ID0gcHJpbnRXaXRoO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjdHhDYW52YXMuZHJhd0ltYWdlKGltYWdlLCAoc291cmNlV2lkdGggLyAyIC0gJHByaW50Q2FudmFzWzBdLndpZHRoIC8gMiksIDAsICRwcmludENhbnZhc1swXS53aWR0aCwgJHByaW50Q2FudmFzWzBdLmhlaWdodCwgMCwgMCwgJHByaW50Q2FudmFzWzBdLndpZHRoLCAkcHJpbnRDYW52YXNbMF0uaGVpZ2h0KTtcclxuICAgICAgaW1hZ2VUb1ByaW50KCRwcmludENhbnZhcyk7XHJcbiAgICB9O1xyXG4gICAgaW1hZ2Uuc3JjID0gaW1hZ2VVcmw7XHJcbiAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5pbml0ID0gSW5pdDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8qKiBSZW5kZXJzIGEgcHJvZ3Jlc3MgYmFyLiAqKi9cclxuZnVuY3Rpb24gUHJvZ3Jlc3MoZWwpIHtcclxuICAgdGhpcy5lbCA9IGVsO1xyXG4gICB0aGlzLmxvYWRpbmcgPSAwO1xyXG4gICB0aGlzLmxvYWRlZCA9IDA7XHJcbn07XHJcbi8qKiBJbmNyZW1lbnQgdGhlIGNvdW50IG9mIGxvYWRpbmcgdGlsZXMuICoqL1xyXG5Qcm9ncmVzcy5wcm90b3R5cGUuYWRkTG9hZGluZyA9IGZ1bmN0aW9uKCkge1xyXG4gIGlmICh0aGlzLmxvYWRpbmcgPT09IDApIHtcclxuICAgIHRoaXMuc2hvdygpO1xyXG4gIH1cclxuICArK3RoaXMubG9hZGluZztcclxuICB0aGlzLnVwZGF0ZSgpO1xyXG59O1xyXG4vKiogSW5jcmVtZW50IHRoZSBjb3VudCBvZiBsb2FkZWQgdGlsZXMuICoqL1xyXG5Qcm9ncmVzcy5wcm90b3R5cGUuYWRkTG9hZGVkID0gZnVuY3Rpb24oKSB7XHJcbiAgdmFyIHRoaXNfID0gdGhpcztcclxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgKyt0aGlzXy5sb2FkZWQ7XHJcbiAgICB0aGlzXy51cGRhdGUoKTtcclxuICB9LCAxMDApO1xyXG59O1xyXG4vKiogVXBkYXRlIHRoZSBwcm9ncmVzcyBiYXIuICoqL1xyXG5Qcm9ncmVzcy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgdmFyIHdpZHRoID0gKHRoaXMubG9hZGVkIC8gdGhpcy5sb2FkaW5nICogMTAwKS50b0ZpeGVkKDEpICsgJyUnO1xyXG4gIHRoaXMuZWwuc3R5bGUud2lkdGggPSB3aWR0aDtcclxuICBpZiAodGhpcy5sb2FkaW5nID09PSB0aGlzLmxvYWRlZCkge1xyXG4gICAgdGhpcy5sb2FkaW5nID0gMDtcclxuICAgIHRoaXMubG9hZGVkID0gMDtcclxuICAgIHZhciB0aGlzXyA9IHRoaXM7XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICB0aGlzXy5oaWRlKCk7XHJcbiAgICB9LCA2MDApO1xyXG4gIH1cclxufTtcclxuLyoqICBTaG93IHRoZSBwcm9ncmVzcyBiYXIuICoqL1xyXG5Qcm9ncmVzcy5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uKCkge1xyXG4gIHRoaXMuZWwuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcclxufTtcclxuLyoqIEhpZGUgdGhlIHByb2dyZXNzIGJhci4qKi9cclxuUHJvZ3Jlc3MucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbigpIHtcclxuICBpZiAodGhpcy5sb2FkaW5nID09PSB0aGlzLmxvYWRlZCkge1xyXG4gICAgdGhpcy5lbC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XHJcbiAgICB0aGlzLmVsLnN0eWxlLndpZHRoID0gMDtcclxuICB9XHJcbn07XHJcbm1vZHVsZS5leHBvcnRzID0gUHJvZ3Jlc3M7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIG9sID0gcmVxdWlyZSgnb3BlbmxheWVycycpO1xyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG52YXIgVmlld2VyID0gcmVxdWlyZSgnLi92aWV3ZXInKTtcclxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xyXG5cclxudmFyIG1hcDtcclxuXHJcbmZ1bmN0aW9uIEluaXQob3B0X29wdGlvbnMpIHtcclxuICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xyXG4gIHZhciByb3RhdGVDb250cm9sO1xyXG4gIHZhciBpY29uID0gdXRpbHMuY3JlYXRlU3ZnKHtcclxuICAgIGhyZWY6ICcjb3JpZ28tY29tcGFzcycsXHJcbiAgICBjbHM6ICdvLWljb24tY29tcGFzcydcclxuICB9KTtcclxuICBtYXAgPSBWaWV3ZXIuZ2V0TWFwKCk7XHJcblxyXG4gIHJvdGF0ZUNvbnRyb2wgPSBuZXcgb2wuY29udHJvbC5Sb3RhdGUoe1xyXG4gICAgbGFiZWw6ICQucGFyc2VIVE1MKCc8c3Bhbj4nICsgaWNvbiArICc8L3NwYW4+JylbMF0sXHJcbiAgICB0aXBMYWJlbDogJyAnLFxyXG4gICAgdGFyZ2V0OiAnby10b29sYmFyLW1pc2MnXHJcbiAgfSk7XHJcbiAgbWFwLmFkZENvbnRyb2wocm90YXRlQ29udHJvbCk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzLmluaXQgPSBJbml0O1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XHJcbnZhciBWaWV3ZXIgPSByZXF1aXJlKCcuL3ZpZXdlcicpO1xyXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XHJcbnZhciBudW1iZXJGb3JtYXR0ZXIgPSByZXF1aXJlKCcuL3V0aWxzL251bWJlcmZvcm1hdHRlcicpO1xyXG5cclxudmFyIGNvbnRyb2xJZCA9ICdvLXNjYWxlJztcclxudmFyIGNvbnNvbGVJZDtcclxudmFyIG1hcDtcclxudmFyICRjb25zb2xlO1xyXG52YXIgaXNBY3RpdmU7XHJcbnZhciBzY2FsZVRleHQ7XHJcblxyXG5mdW5jdGlvbiBJbml0KG9wdF9vcHRpb25zKSB7XHJcbiAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcclxuICBtYXAgPSBWaWV3ZXIuZ2V0TWFwKCk7XHJcbiAgY29uc29sZUlkID0gVmlld2VyLmdldENvbnNvbGVJZCgpO1xyXG4gIHNjYWxlVGV4dCA9IG9wdGlvbnMuc2NhbGVUZXh0IHx8ICdTa2FsYSAxOic7XHJcbiAgdmFyIGluaXRpYWxTdGF0ZSA9IG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2lzQWN0aXZlJykgPyBvcHRpb25zLmlzQWN0aXZlIDogdHJ1ZTtcclxuXHJcbiAgc2V0QWN0aXZlKGluaXRpYWxTdGF0ZSk7XHJcbiAgcmVuZGVyKCk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBzZXRBY3RpdmU6IHNldEFjdGl2ZVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyKCkge1xyXG4gIHZhciBjb250YWluZXIgPSB1dGlscy5jcmVhdGVFbGVtZW50KCdkaXYnLCAnJywge1xyXG4gICAgaWQ6IGNvbnRyb2xJZCxcclxuICAgIHN0eWxlOiAnZGlzcGxheTogaW5saW5lLWJsb2NrOydcclxuICB9KTtcclxuICAkKCcjJyArIGNvbnNvbGVJZCkuYXBwZW5kKGNvbnRhaW5lcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldEFjdGl2ZShzdGF0ZSkge1xyXG4gIGlmIChzdGF0ZSA9PT0gdHJ1ZSkge1xyXG4gICAgbWFwLm9uKCdtb3Zlc3RhcnQnLCBvblpvb21DaGFuZ2UpO1xyXG4gICAgb25ab29tQ2hhbmdlKCk7XHJcbiAgICBpc0FjdGl2ZSA9IHRydWU7XHJcbiAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gZmFsc2UpIHtcclxuICAgIG1hcC51bignbW92ZXN0YXJ0Jywgb25ab29tQ2hhbmdlKTtcclxuICAgIGlzQWN0aXZlID0gZmFsc2U7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBvblpvb21DaGFuZ2UoZXZ0KSB7XHJcbiAgbWFwLm9uY2UoJ21vdmVlbmQnLCBmdW5jdGlvbihlKSB7XHJcbiAgICB2YXIgdmlldyA9IG1hcC5nZXRWaWV3KCk7XHJcbiAgICB2YXIgcmVzb2x1dGlvbiA9IGV2dCA/IGV2dC5mcmFtZVN0YXRlLnZpZXdTdGF0ZS5yZXNvbHV0aW9uIDogdmlldy5nZXRSZXNvbHV0aW9uKCk7XHJcbiAgICB2YXIgbWFwWm9vbSA9IHZpZXcuZ2V0Wm9vbUZvclJlc29sdXRpb24ocmVzb2x1dGlvbik7XHJcbiAgICB2YXIgY3VycmVudFpvb20gPSBwYXJzZUludCh2aWV3LmdldFpvb20oKSwgMTApO1xyXG4gICAgdmFyIGN1cnJlbnRSZXNvbHV0aW9uID0gdmlldy5nZXRSZXNvbHV0aW9uKCk7XHJcbiAgICBpZiAoY3VycmVudFpvb20gIT09IG1hcFpvb20pIHtcclxuICAgICAgdmFyIHNjYWxlID0gVmlld2VyLmdldFNjYWxlKGN1cnJlbnRSZXNvbHV0aW9uKTtcclxuICAgICAgJCgnIycgKyBjb250cm9sSWQpLnRleHQoc2NhbGVUZXh0ICsgbnVtYmVyRm9ybWF0dGVyKHNjYWxlKSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzLmluaXQgPSBJbml0O1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciBvbCA9IHJlcXVpcmUoJ29wZW5sYXllcnMnKTtcclxudmFyIFZpZXdlciA9IHJlcXVpcmUoJy4vdmlld2VyJyk7XHJcblxyXG52YXIgbWFwO1xyXG5cclxuZnVuY3Rpb24gSW5pdChvcHRfb3B0aW9ucykge1xyXG4gIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XHJcbiAgdmFyIHRhcmdldCA9IG9wdGlvbnMudGFyZ2V0IHx8ICdvLXRvb2xzLWJvdHRvbSc7XHJcbiAgbWFwID0gVmlld2VyLmdldE1hcCgpO1xyXG5cclxuICB2YXIgc2NhbGVMaW5lID0gbmV3IG9sLmNvbnRyb2wuU2NhbGVMaW5lKHtcclxuICAgIHRhcmdldDogdGFyZ2V0XHJcbiAgfSk7XHJcbiAgbWFwLmFkZENvbnRyb2woc2NhbGVMaW5lKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMuaW5pdCA9IEluaXQ7XHJcbiIsIid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBvbCA9IHJlcXVpcmUoJ29wZW5sYXllcnMnKTtcclxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxudmFyIFZpZXdlciA9IHJlcXVpcmUoJy4vdmlld2VyJyk7XHJcbnZhciB3a3RUb0ZlYXR1cmUgPSByZXF1aXJlKCcuL21hcHV0aWxzJykud2t0VG9GZWF0dXJlO1xyXG52YXIgUG9wdXAgPSByZXF1aXJlKCcuL3BvcHVwJyk7XHJcbnZhciBBd2Vzb21wbGV0ZSA9IHJlcXVpcmUoJ2F3ZXNvbXBsZXRlJyk7XHJcbnZhciBnZXRGZWF0dXJlID0gcmVxdWlyZSgnLi9nZXRmZWF0dXJlJyk7XHJcbnZhciBnZXRBdHRyaWJ1dGVzID0gcmVxdWlyZSgnLi9nZXRhdHRyaWJ1dGVzJyk7XHJcbnZhciBmZWF0dXJlSW5mbyA9IHJlcXVpcmUoJy4vZmVhdHVyZWluZm8nKTtcclxudmFyIG1hcFV0aWxzID0gcmVxdWlyZSgnLi9tYXB1dGlscycpO1xyXG52YXIgZ2V0Q2VudGVyID0gcmVxdWlyZSgnLi9nZW9tZXRyeS9nZXRjZW50ZXInKTtcclxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xyXG52YXIgZ2VuZXJhdGVVVUlEID0gcmVxdWlyZSgnLi91dGlscy9nZW5lcmF0ZXV1aWQnKTtcclxudmFyIGtleUNvZGVzID0ge1xyXG4gIDk6ICd0YWInLFxyXG4gIDI3OiAnZXNjJyxcclxuICAzNzogJ2xlZnQnLFxyXG4gIDM5OiAncmlnaHQnLFxyXG4gIDEzOiAnZW50ZXInLFxyXG4gIDM4OiAndXAnLFxyXG4gIDQwOiAnZG93bidcclxufTtcclxudmFyIHNlYXJjaERiID0ge307XHJcbnZhciBtYXA7XHJcbnZhciBuYW1lO1xyXG52YXIgbm9ydGhpbmc7XHJcbnZhciBlYXN0aW5nO1xyXG52YXIgZ2VvbWV0cnlBdHRyaWJ1dGU7XHJcbnZhciBpZEF0dHJpYnV0ZTtcclxudmFyIGxheWVyTmFtZUF0dHJpYnV0ZTtcclxudmFyIGxheWVyTmFtZTtcclxudmFyIHRpdGxlQXR0cmlidXRlO1xyXG52YXIgY29udGVudEF0dHJpYnV0ZTtcclxudmFyIG1heFpvb21MZXZlbDtcclxudmFyIHVybDtcclxudmFyIHRpdGxlO1xyXG52YXIgaGludFRleHQ7XHJcbnZhciBwcm9qZWN0aW9uQ29kZTtcclxudmFyIG92ZXJsYXk7XHJcbnZhciBsaW1pdDtcclxudmFyIG1pbkxlbmd0aDtcclxudmFyIGF3ZXNvbXBsZXRlO1xyXG5cclxuZnVuY3Rpb24gaW5pdChvcHRpb25zKSB7XHJcbiAgbmFtZSA9IG9wdGlvbnMuc2VhcmNoQXR0cmlidXRlO1xyXG4gIG5vcnRoaW5nID0gb3B0aW9ucy5ub3J0aGluZyB8fCB1bmRlZmluZWQ7XHJcbiAgZWFzdGluZyA9IG9wdGlvbnMuZWFzdGluZyB8fCB1bmRlZmluZWQ7XHJcbiAgZ2VvbWV0cnlBdHRyaWJ1dGUgPSBvcHRpb25zLmdlb21ldHJ5QXR0cmlidXRlO1xyXG5cclxuICAvKiogaWRBdHRyaWJ1dGUgaW4gY29tYmluYXRpb24gd2l0aCBsYXllck5hbWVBdHRyaWJ1dGVcclxuICBtdXN0IGJlIGRlZmluZWQgaWYgc2VhcmNoIHJlc3VsdCBzaG91bGQgYmUgc2VsZWN0ZWQgKi9cclxuICBpZEF0dHJpYnV0ZSA9IG9wdGlvbnMuaWRBdHRyaWJ1dGU7XHJcbiAgbGF5ZXJOYW1lQXR0cmlidXRlID0gb3B0aW9ucy5sYXllck5hbWVBdHRyaWJ1dGUgfHwgdW5kZWZpbmVkO1xyXG4gIGxheWVyTmFtZSA9IG9wdGlvbnMubGF5ZXJOYW1lIHx8IHVuZGVmaW5lZDtcclxuICB1cmwgPSBvcHRpb25zLnVybDtcclxuICB0aXRsZSA9IG9wdGlvbnMudGl0bGUgfHwgJyc7XHJcbiAgdGl0bGVBdHRyaWJ1dGUgPSBvcHRpb25zLnRpdGxlQXR0cmlidXRlIHx8IHVuZGVmaW5lZDtcclxuICBjb250ZW50QXR0cmlidXRlID0gb3B0aW9ucy5jb250ZW50QXR0cmlidXRlIHx8IHVuZGVmaW5lZDtcclxuICBtYXhab29tTGV2ZWwgPSBvcHRpb25zLm1heFpvb21MZXZlbCB8fCBWaWV3ZXIuZ2V0UmVzb2x1dGlvbnMoKS5sZW5ndGggLSAyIHx8IFZpZXdlci5nZXRSZXNvbHV0aW9ucygpO1xyXG4gIGxpbWl0ID0gb3B0aW9ucy5saW1pdCB8fCA5O1xyXG4gIGhpbnRUZXh0ID0gb3B0aW9ucy5oaW50VGV4dCB8fCAnU8O2ay4uLic7XHJcbiAgbWluTGVuZ3RoID0gb3B0aW9ucy5taW5MZW5ndGggfHwgNDtcclxuICBwcm9qZWN0aW9uQ29kZSA9IFZpZXdlci5nZXRQcm9qZWN0aW9uQ29kZSgpO1xyXG5cclxuICBtYXAgPSBWaWV3ZXIuZ2V0TWFwKCk7XHJcblxyXG4gIHJlbmRlcigpO1xyXG4gIGluaXRBdXRvY29tcGxldGUoKTtcclxuICBiaW5kVUlBY3Rpb25zKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlcigpIHtcclxuICB2YXIgZWwgPSAnPGRpdiBpZD1cIm8tc2VhcmNoLXdyYXBwZXJcIiBjbGFzcz1cIm8tc2VhcmNoLXdyYXBwZXJcIj4nICtcclxuICAgICc8ZGl2IGlkPVwiby1zZWFyY2hcIiBjbGFzcz1cIm8tc2VhcmNoIG8tc2VhcmNoLWZhbHNlXCI+JyArXHJcbiAgICAnPGlucHV0IGlkPVwiaGpsXCIgY2xhc3M9XCJvLXNlYXJjaC1maWVsZCBmb3JtLWNvbnRyb2xcIiB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiJyArIGhpbnRUZXh0ICsgJ1wiPicgK1xyXG4gICAgJzxidXR0b24gaWQ9XCJvLXNlYXJjaC1idXR0b25cIj4nICtcclxuICAgICc8c3ZnIGNsYXNzPVwiby1pY29uLWZhLXNlYXJjaFwiPicgK1xyXG4gICAgJzx1c2UgeGxpbms6aHJlZj1cIiNmYS1zZWFyY2hcIj48L3VzZT4nICtcclxuICAgICc8L3N2Zz4nICtcclxuICAgICc8L2J1dHRvbj4nICtcclxuICAgICc8YnV0dG9uIGlkPVwiby1zZWFyY2gtYnV0dG9uLWNsb3NlXCI+JyArXHJcbiAgICAnPHN2ZyBjbGFzcz1cIm8taWNvbi1zZWFyY2gtZmEtdGltZXNcIj4nICtcclxuICAgICc8dXNlIHhsaW5rOmhyZWY9XCIjZmEtdGltZXNcIj48L3VzZT4nICtcclxuICAgICc8L3N2Zz4nICtcclxuICAgICc8L2J1dHRvbj4nICtcclxuICAgICc8L2Rpdj4nICtcclxuICAgICc8L2Rpdj4nO1xyXG4gICQoJyNvLW1hcCcpLmFwcGVuZChlbCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJpbmRVSUFjdGlvbnMoKSB7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hqbCcpLmFkZEV2ZW50TGlzdGVuZXIoXCJhd2Vzb21wbGV0ZS1zZWxlY3Rjb21wbGV0ZVwiLCBzZWxlY3RIYW5kbGVyKTtcclxuXHJcbiAgJCgnI28tc2VhcmNoIC5vLXNlYXJjaC1maWVsZCcpLm9uKCdpbnB1dCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKCQoJyNvLXNlYXJjaCAuby1zZWFyY2gtZmllbGQnKS52YWwoKSAmJiAkKCcjby1zZWFyY2gnKS5oYXNDbGFzcygnby1zZWFyY2gtZmFsc2UnKSkge1xyXG4gICAgICAkKCcjby1zZWFyY2gnKS5yZW1vdmVDbGFzcygnby1zZWFyY2gtZmFsc2UnKTtcclxuICAgICAgJCgnI28tc2VhcmNoJykuYWRkQ2xhc3MoJ28tc2VhcmNoLXRydWUnKTtcclxuICAgICAgb25DbGVhclNlYXJjaCgpO1xyXG4gICAgfSBlbHNlIGlmICghKCQoJyNvLXNlYXJjaCAuby1zZWFyY2gtZmllbGQnKS52YWwoKSkgJiYgJCgnI28tc2VhcmNoJykuaGFzQ2xhc3MoJ28tc2VhcmNoLXRydWUnKSkge1xyXG4gICAgICAkKCcjby1zZWFyY2gnKS5yZW1vdmVDbGFzcygnby1zZWFyY2gtdHJ1ZScpO1xyXG4gICAgICAkKCcjby1zZWFyY2gnKS5hZGRDbGFzcygnby1zZWFyY2gtZmFsc2UnKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgJCgnLm8tc2VhcmNoLWZpZWxkJykub24oJ2JsdXInLCBmdW5jdGlvbihlKSB7XHJcbiAgICAkKCcuby1zZWFyY2gtd3JhcHBlcicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgncmVzaXplJykpO1xyXG4gIH0pO1xyXG4gICQoJy5vLXNlYXJjaC1maWVsZCcpLm9uKCdmb2N1cycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICQoJy5vLXNlYXJjaC13cmFwcGVyJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdyZXNpemUnKSk7XHJcbiAgfSk7XHJcblxyXG59XHJcblxyXG4vKlxyXG5UaGUgbGFiZWwgcHJvcGVydHkgaW4gQXdlc29tcGxldGUgaXMgdXNlZCB0byBzdG9yZSB0aGUgZmVhdHVyZSBpZC4gVGhpcyB3YXkgdGhlIHByb3BlcnRpZXNcclxub2YgZWFjaCBmZWF0dXJlIGluIHRoZSBzZWFyY2ggcmVzcG9uc2Ugd2lsbCBiZSBhdmFpbGFibGUgaW4gZXZlbnQgaGFuZGxpbmcuXHJcblRoZSBjb21wbGV0ZSBwcm9wZXJ0aWVzIGFyZSBzdG9yZWQgaW4gYSB0ZW1wb3J5IGRiIGNhbGxlZCBzZWFyY2hEYi4gVGhpcyBpcyBhIHdvcmthcm91bmRcclxuZm9yIGEgbGltaXQgaW4gQXdlc29tcGxldGUgdGhhdCBjYW4gb25seSBzdG9yZSBkYXRhIGluIHRoZSBmaWVsZHMgbGFiZWwgYW5kIHRleHQuXHJcblRoZSBkYXRhLWNhdG9ncnkgYXR0cmlidXRlIGlzIHVzZWQgdG8gbWFrZSBhIGxheWVyIGRpdmlzaW9uIGluIHRoZSBzdWdndWVzdGlvbiBsaXN0LlxyXG4qL1xyXG5mdW5jdGlvbiBpbml0QXV0b2NvbXBsZXRlKCkge1xyXG4gIHZhciBsaXN0O1xyXG5cclxuICAkLnN1cHBvcnQuY29ycyA9IHRydWU7XHJcblxyXG4gIHZhciBpbnB1dCA9ICQoXCIjby1zZWFyY2ggLm8tc2VhcmNoLWZpZWxkXCIpO1xyXG4gIGF3ZXNvbXBsZXRlID0gbmV3IEF3ZXNvbXBsZXRlKCcjby1zZWFyY2ggLm8tc2VhcmNoLWZpZWxkJywge1xyXG4gICAgbWluQ2hhcnM6IG1pbkxlbmd0aCxcclxuICAgIGF1dG9GaXJzdDogZmFsc2UsXHJcbiAgICBzb3J0OiBmYWxzZSxcclxuICAgIGl0ZW06IHJlbmRlckxpc3QsXHJcbiAgICBmaWx0ZXI6IGZ1bmN0aW9uKHN1Z2dlc3Rpb24sIGlucHV0KSB7XHJcbiAgICAgIHJldHVybiBzdWdnZXN0aW9uLnZhbHVlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgIGxpc3QgPSBbXTtcclxuICAgIHNlYXJjaERiID0ge307XHJcbiAgICBpZiAoZGF0YS5sZW5ndGgpIHtcclxuICAgICAgc2V0U2VhcmNoRGIoZGF0YSk7XHJcbiAgICAgIGlmIChuYW1lICYmIGxheWVyTmFtZUF0dHJpYnV0ZSkge1xyXG4gICAgICAgIGxpc3QgPSBncm91cFRvTGlzdChncm91cERiKHNlYXJjaERiKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGlzdCA9IGRiVG9MaXN0KGRhdGEpO1xyXG4gICAgICB9XHJcbiAgICAgIGF3ZXNvbXBsZXRlLmxpc3QgPSBsaXN0O1xyXG4gICAgICBhd2Vzb21wbGV0ZS5ldmFsdWF0ZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gICQoaW5wdXQpLm9uKFwia2V5dXBcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgdmFyIGtleUNvZGUgPSBlLmtleUNvZGU7XHJcbiAgICBpZiAodGhpcy52YWx1ZS5sZW5ndGggPj0gbWluTGVuZ3RoKSB7XHJcbiAgICAgIGlmIChrZXlDb2RlIGluIGtleUNvZGVzKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG1ha2VSZXF1ZXN0KGhhbmRsZXIsIHRoaXMpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRiVG9MaXN0KCkge1xyXG4gIHZhciBpdGVtcyA9IE9iamVjdC5rZXlzKHNlYXJjaERiKTtcclxuICByZXR1cm4gaXRlbXMubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgIHJldHVybiBzZWFyY2hEYltpdGVtXTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ3JvdXBEYihkYXRhKSB7XHJcbiAgdmFyIGdyb3VwID0ge307XHJcbiAgdmFyIGlkcyA9IE9iamVjdC5rZXlzKGRhdGEpO1xyXG4gIGlkcy5mb3JFYWNoKGZ1bmN0aW9uKGlkKSB7XHJcbiAgICB2YXIgaXRlbSA9IGRhdGFbaWRdO1xyXG4gICAgdmFyIHR5cGUgPSBpdGVtW2xheWVyTmFtZUF0dHJpYnV0ZV07XHJcbiAgICB2YXIgaGVhZGVyID0gZmFsc2U7XHJcbiAgICBpZiAodHlwZSBpbiBncm91cCA9PT0gZmFsc2UpIHtcclxuICAgICAgZ3JvdXBbdHlwZV0gPSBbXTtcclxuICAgICAgaXRlbS5oZWFkZXIgPSBWaWV3ZXIuZ2V0TGF5ZXIodHlwZSkuZ2V0KCd0aXRsZScpO1xyXG4gICAgfVxyXG4gICAgZ3JvdXBbdHlwZV0ucHVzaChpdGVtKTtcclxuICB9KTtcclxuICByZXR1cm4gZ3JvdXA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdyb3VwVG9MaXN0KGdyb3VwKSB7XHJcbiAgdmFyIHR5cGVzID0gT2JqZWN0LmtleXMoZ3JvdXApO1xyXG4gIHZhciBsaXN0ID0gW107XHJcbiAgdmFyIHNlbGVjdGlvbiA9IHt9O1xyXG4gIHZhciBuciA9IDA7XHJcbiAgdmFyIHR1cm4gPSAwO1xyXG4gIHdoaWxlIChuciA8IGxpbWl0ICYmIHR5cGVzLmxlbmd0aCkge1xyXG4gICAgdHlwZXMuc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgICAgaWYgKG5yIDwgbGltaXQpIHtcclxuICAgICAgICB2YXIgaXRlbSA9IGdyb3VwW3R5cGVdW3R1cm5dO1xyXG4gICAgICAgIGlmICh0eXBlIGluIHNlbGVjdGlvbiA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgIHNlbGVjdGlvblt0eXBlXSA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxlY3Rpb25bdHlwZV1bdHVybl0gPSBpdGVtO1xyXG4gICAgICAgIGlmICghZ3JvdXBbdHlwZV1bdHVybiArIDFdKSB7XHJcbiAgICAgICAgICB0eXBlcy5zcGxpY2UodHlwZXMuaW5kZXhPZih0eXBlKSwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIG5yKys7XHJcbiAgICB9KTtcclxuICAgIHR1cm4rKztcclxuICB9XHJcbiAgbGlzdCA9IE9iamVjdC5rZXlzKHNlbGVjdGlvbikucmVkdWNlKGZ1bmN0aW9uKHByZXZpb3VzLCBncm91cCkge1xyXG4gICAgcmV0dXJuIHByZXZpb3VzLmNvbmNhdChzZWxlY3Rpb25bZ3JvdXBdKTtcclxuICB9LCBbXSk7XHJcbiAgcmV0dXJuIGxpc3Q7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFNlYXJjaERiKGRhdGEpIHtcclxuICBkYXRhLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgdmFyIGlkID0gZ2VuZXJhdGVVVUlEKCk7XHJcbiAgICBpdGVtLmxhYmVsID0gaWQ7XHJcbiAgICBpdGVtLnZhbHVlID0gaXRlbVtuYW1lXTtcclxuICAgIHNlYXJjaERiW2lkXSA9IGl0ZW07XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlckxpc3Qoc3VnZ2VzdGlvbiwgaW5wdXQpIHtcclxuICB2YXIgaXRlbSA9IHNlYXJjaERiW3N1Z2dlc3Rpb24ubGFiZWxdIHx8IHt9O1xyXG4gIHZhciBoZWFkZXIgPSAnaGVhZGVyJyBpbiBpdGVtID8gJzxkaXYgY2xhc3M9XCJoZWFkaW5nXCI+JyArIGl0ZW0uaGVhZGVyICsgJzwvZGl2PicgOiAnJztcclxuICB2YXIgb3B0aW9ucyA9IHt9O1xyXG4gIHZhciBodG1sID0gaW5wdXQgPT09ICcnID8gc3VnZ2VzdGlvbi52YWx1ZSA6IHN1Z2dlc3Rpb24udmFsdWUucmVwbGFjZShSZWdFeHAoQXdlc29tcGxldGUuJC5yZWdFeHBFc2NhcGUoaW5wdXQpLCBcImdpXCIpLCBcIjxtYXJrPiQmPC9tYXJrPlwiKTtcclxuICBodG1sID0gaGVhZGVyICsgJzxkaXYgY2xhc3M9XCJzdWdnZXN0aW9uXCI+JyArIGh0bWwgKyAnPC9kaXY+JztcclxuICBvcHRpb25zID0ge1xyXG4gICAgaW5uZXJIVE1MOiBodG1sLFxyXG4gICAgJ2FyaWEtc2VsZWN0ZWQnOiAnZmFsc2UnXHJcbiAgfTtcclxuICBpZiAoJ2hlYWRlcicgaW4gaXRlbSkge1xyXG4gICAgb3B0aW9ucy5jbGFzc05hbWUgPSAnaGVhZGVyJztcclxuICB9XHJcblxyXG4gIHJldHVybiBBd2Vzb21wbGV0ZS4kLmNyZWF0ZShcImxpXCIsIG9wdGlvbnMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtYWtlUmVxdWVzdChoYW5kbGVyLCBvYmopIHtcclxuICAkLmFqYXgoe1xyXG4gICAgdXJsOiB1cmwgKyAnP3E9JyArIGVuY29kZVVSSShvYmoudmFsdWUpLFxyXG4gICAgdHlwZTogJ0dFVCcsXHJcbiAgICBkYXRhVHlwZTogJ2pzb24nXHJcbiAgfSkudGhlbihoYW5kbGVyKTtcclxufVxyXG5cclxuZnVuY3Rpb24gb25DbGVhclNlYXJjaCgpIHtcclxuICAkKCcjby1zZWFyY2gtYnV0dG9uLWNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgY2xlYXJTZWFyY2hSZXN1bHRzKCk7XHJcbiAgICBjbGVhcigpO1xyXG4gICAgJCgnI28tc2VhcmNoJykucmVtb3ZlQ2xhc3MoJ28tc2VhcmNoLXRydWUnKTtcclxuICAgICQoJyNvLXNlYXJjaCcpLmFkZENsYXNzKCdvLXNlYXJjaC1mYWxzZScpO1xyXG4gICAgJCgnI28tc2VhcmNoIC5vLXNlYXJjaC1maWVsZCcpLnZhbCgnJyk7XHJcbiAgICAkKCcjby1zZWFyY2gtYnV0dG9uJykuYmx1cigpO1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93T3ZlcmxheShkYXRhLCBjb29yZCkge1xyXG4gIHZhciBwb3B1cDtcclxuICB2YXIgY29udGVudDtcclxuICBjbGVhcigpO1xyXG4gIHBvcHVwID0gUG9wdXAoJyNvLW1hcCcpO1xyXG4gIG92ZXJsYXkgPSBuZXcgb2wuT3ZlcmxheSh7XHJcbiAgICBlbGVtZW50OiBwb3B1cC5nZXRFbCgpXHJcbiAgfSk7XHJcblxyXG4gIG1hcC5hZGRPdmVybGF5KG92ZXJsYXkpO1xyXG5cclxuICBvdmVybGF5LnNldFBvc2l0aW9uKGNvb3JkKTtcclxuICBjb250ZW50ID0gZGF0YVtuYW1lXTtcclxuICBwb3B1cC5zZXRDb250ZW50KHtcclxuICAgIGNvbnRlbnQ6IGNvbnRlbnQsXHJcbiAgICB0aXRsZTogdGl0bGVcclxuICB9KTtcclxuICBwb3B1cC5zZXRWaXNpYmlsaXR5KHRydWUpO1xyXG4gIG1hcFV0aWxzLnpvb21Ub0V4ZW50KG5ldyBvbC5nZW9tLlBvaW50KGNvb3JkKSwgbWF4Wm9vbUxldmVsKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2hvd0ZlYXR1cmVJbmZvKGZlYXR1cmVzLCB0aXRsZSwgY29udGVudCkge1xyXG4gIHZhciBvYmogPSB7fTtcclxuICBvYmouZmVhdHVyZSA9IGZlYXR1cmVzWzBdO1xyXG4gIG9iai50aXRsZSA9IHRpdGxlO1xyXG4gIG9iai5jb250ZW50ID0gY29udGVudDtcclxuICBjbGVhcigpO1xyXG4gIGZlYXR1cmVJbmZvLmlkZW50aWZ5KFtvYmpdLCAnb3ZlcmxheScsIGdldENlbnRlcihmZWF0dXJlc1swXS5nZXRHZW9tZXRyeSgpKSk7XHJcbiAgbWFwVXRpbHMuem9vbVRvRXhlbnQoZmVhdHVyZXNbMF0uZ2V0R2VvbWV0cnkoKSwgbWF4Wm9vbUxldmVsKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xlYXIoKSB7XHJcbiAgZmVhdHVyZUluZm8uY2xlYXIoKTtcclxuICBpZiAob3ZlcmxheSkge1xyXG4gICAgVmlld2VyLnJlbW92ZU92ZXJsYXlzKG92ZXJsYXkpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2xlYXJTZWFyY2hSZXN1bHRzKCkge1xyXG4gIGF3ZXNvbXBsZXRlLmxpc3QgPSBbXTtcclxuICBzZXRTZWFyY2hEYihbXSk7XHJcbn1cclxuXHJcbi8qKiBUaGVyZSBhcmUgc2V2ZXJhbCBkaWZmZXJlbnQgd2F5cyB0byBoYW5kbGUgc2VsZWN0ZWQgc2VhcmNoIHJlc3VsdC5cclxuICogT3B0aW9uIDEuIEZlYXR1cmUgaW5mbyBpcyByZXF1ZXN0ZWQgZnJvbSBhIG1hcCBzZXJ2aWNlLlxyXG4gKiBJbiB0aGlzIGNhc2UgaWRBdHRyaWJ1dGUgYW5kIGxheWVyTmFtZUF0dHJpYnV0ZSBtdXN0IGJlIHByb3ZpZGVkLlxyXG4gKiBBIG1hcCBzZXJ2aWNlIGlzIHVzZWQgdG8gZ2V0IHRoZSBnZW9tZXRyeSBhbmQgYXR0cmlidXRlcy4gVGhlIGxheWVyIGlzIGRlZmluZWRcclxuICogYXMgYW4gb3JkaW5hcnkgbGF5ZXIgaW4gdGhlIGxheWVyIGNvbmZpZyBzZWN0aW9uLlxyXG4gKiBPcHRpb24gMi4gU2FtZSBhcyBvcHRpb24gMSBidXQgZm9yIHNpbmdsZSBsYXllciBzZWFyY2guIGxheWVyTmFtZSBpcyBkZWZpbmVkXHJcbiAqIGFzIGFuIG9wdGlvbiBhbmQgaXMgbm90IGluY2x1ZGVkIGluIHRoZSBzZWFyY2ggcmVzcG9uc2UuXHJcbiAqIEluIHRoaXMgY2FzZSBnZW9tZXRyeUF0dHJpYnV0ZSBhbmQgbGF5ZXJOYW1lIG11c3QgYmUgcHJvdmlkZWQuXHJcbiAqIE9wdGlvbiAzLiBDb21wbGV0ZSBmZWF0dXJlIGluZm8gaXMgaW5jbHVkZWQgaW4gdGhlIHNlYXJjaCByZXN1bHQuXHJcbiAqIEluIHRoaXMgY2FzZSB0aXRsZUF0dHJpYnV0ZSwgY29udGVudEF0dHJpYnV0ZSBhbmQgZ2VvbWV0cnlBdHRyaWJ1dGUgbXVzdCBiZSBwcm92aWRlZC5cclxuICogT3B0aW9uIDQuIFRoaXMgaXMgYSBzaW5nbGUgdGFibGUgc2VhcmNoLiBObyBsYXllciBpcyBkZWZpbmVkLlxyXG4gKiBJbiB0aGlzIGNhc2UgZ2VvbWV0cnlBdHRyaWJ1dGUgYW5kIHRpdGxlIG11c3QgYmUgZGVmaW5lZC5cclxuICogT3B0aW9uIDUuIEZlYXR1cmUgaW5mbyBpcyBzaG93biB3aXRob3V0IHNlbGVjdGlvbiBpbiB0aGUgbWFwLlxyXG4gKiBUaGlzIGlzIGEgc2ltcGxlIHNpbmdsZSB0YWJsZSBzZWFyY2guIEluIHRoaXMgY2FzZSB0aXRsZSwgbm9ydGhpbmcgYW5kIGVhc3RpbmdcclxuICogbXVzdCBiZSBkZWZpbmVkLiAqL1xyXG5cclxuZnVuY3Rpb24gc2VsZWN0SGFuZGxlcihldnQpIHtcclxuICB2YXIgaWQgPSBldnQudGV4dC5sYWJlbDtcclxuICB2YXIgZGF0YSA9IHNlYXJjaERiW2lkXTtcclxuICB2YXIgbGF5ZXI7XHJcbiAgdmFyIGlkO1xyXG4gIHZhciBmZWF0dXJlO1xyXG4gIHZhciBjb250ZW50O1xyXG4gIHZhciBjb29yZDtcclxuICBpZiAobGF5ZXJOYW1lQXR0cmlidXRlICYmIGlkQXR0cmlidXRlKSB7XHJcbiAgICBsYXllciA9IFZpZXdlci5nZXRMYXllcihkYXRhW2xheWVyTmFtZUF0dHJpYnV0ZV0pO1xyXG4gICAgaWQgPSBkYXRhW2lkQXR0cmlidXRlXTtcclxuICAgIGdldEZlYXR1cmUoaWQsIGxheWVyKVxyXG4gICAgICAuZG9uZShmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICB2YXIgZmVhdHVyZVdrdDtcclxuICAgICAgICB2YXIgY29vcmRXa3Q7XHJcbiAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBzaG93RmVhdHVyZUluZm8ocmVzLCBsYXllci5nZXQoJ3RpdGxlJyksIGdldEF0dHJpYnV0ZXMocmVzWzBdLCBsYXllcikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRmFsbGJhY2sgaWYgbm8gZ2VvbWV0cnkgaW4gcmVzcG9uc2VcclxuICAgICAgICBlbHNlIGlmIChnZW9tZXRyeUF0dHJpYnV0ZSkge1xyXG4gICAgICAgICAgZmVhdHVyZVdrdCA9IHdrdFRvRmVhdHVyZShkYXRhW2dlb21ldHJ5QXR0cmlidXRlXSwgcHJvamVjdGlvbkNvZGUpO1xyXG4gICAgICAgICAgY29vcmRXa3QgPSBmZWF0dXJlV2t0LmdldEdlb21ldHJ5KCkuZ2V0Q29vcmRpbmF0ZXMoKTtcclxuICAgICAgICAgIHNob3dPdmVybGF5KGRhdGEsIGNvb3JkV2t0KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH0gZWxzZSBpZiAoZ2VvbWV0cnlBdHRyaWJ1dGUgJiYgbGF5ZXJOYW1lKSB7XHJcbiAgICBmZWF0dXJlID0gd2t0VG9GZWF0dXJlKGRhdGFbZ2VvbWV0cnlBdHRyaWJ1dGVdLCBwcm9qZWN0aW9uQ29kZSk7XHJcbiAgICBsYXllciA9IFZpZXdlci5nZXRMYXllcihkYXRhW2xheWVyTmFtZV0pO1xyXG4gICAgc2hvd0ZlYXR1cmVJbmZvKFtmZWF0dXJlXSwgbGF5ZXIuZ2V0KCd0aXRsZScpLCBnZXRBdHRyaWJ1dGVzKGZlYXR1cmUsIGxheWVyKSk7XHJcbiAgfSBlbHNlIGlmICh0aXRsZUF0dHJpYnV0ZSAmJiBjb250ZW50QXR0cmlidXRlICYmIGdlb21ldHJ5QXR0cmlidXRlKSB7XHJcbiAgICBmZWF0dXJlID0gd2t0VG9GZWF0dXJlKGRhdGFbZ2VvbWV0cnlBdHRyaWJ1dGVdLCBwcm9qZWN0aW9uQ29kZSk7XHJcblxyXG4gICAgLy8gTWFrZSBzdXJlIHRoZSByZXNwb25zZSBpcyB3cmFwcGVkIGluIGEgaHRtbCBlbGVtZW50XHJcbiAgICBjb250ZW50ID0gdXRpbHMuY3JlYXRlRWxlbWVudCgnZGl2JywgZGF0YVtjb250ZW50QXR0cmlidXRlXSk7XHJcbiAgICBzaG93RmVhdHVyZUluZm8oW2ZlYXR1cmVdLCBkYXRhW3RpdGxlQXR0cmlidXRlXSwgY29udGVudCk7XHJcbiAgfSBlbHNlIGlmIChnZW9tZXRyeUF0dHJpYnV0ZSAmJiB0aXRsZSkge1xyXG4gICAgZmVhdHVyZSA9IHdrdFRvRmVhdHVyZShkYXRhW2dlb21ldHJ5QXR0cmlidXRlXSwgcHJvamVjdGlvbkNvZGUpO1xyXG4gICAgY29udGVudCA9IHV0aWxzLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIGRhdGFbbmFtZV0pO1xyXG4gICAgc2hvd0ZlYXR1cmVJbmZvKFtmZWF0dXJlXSwgdGl0bGUsIGNvbnRlbnQpO1xyXG4gIH0gZWxzZSBpZiAoZWFzdGluZyAmJiBub3J0aGluZyAmJiB0aXRsZSkge1xyXG4gICAgY29vcmQgPSBbZGF0YVtlYXN0aW5nXSwgZGF0YVtub3J0aGluZ11dO1xyXG4gICAgc2hvd092ZXJsYXkoZGF0YSwgY29vcmQpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zb2xlLmxvZygnU2VhcmNoIG9wdGlvbnMgYXJlIG1pc3NpbmcnKTtcclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzLmluaXQgPSBpbml0O1xyXG4iLCIvKnJlcXVpcmVzIE1vZGFsLmpzKi9cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG52YXIgdmlld2VyID0gcmVxdWlyZSgnLi92aWV3ZXInKTtcclxudmFyIG1vZGFsID0gcmVxdWlyZSgnLi9tb2RhbCcpO1xyXG52YXIgbWFwbWVudSA9IHJlcXVpcmUoJy4vbWFwbWVudScpO1xyXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XHJcbnZhciBwZXJtYWxpbmsgPSByZXF1aXJlKCcuL3Blcm1hbGluay9wZXJtYWxpbmsnKTtcclxuXHJcbnZhciBzaGFyZUJ1dHRvbjtcclxuXHJcbmZ1bmN0aW9uIGluaXQoKXtcclxuICAgIHZhciBlbCA9IHV0aWxzLmNyZWF0ZUxpc3RCdXR0b24oe1xyXG4gICAgICAgIGlkOiAnby1zaGFyZScsXHJcbiAgICAgICAgaWNvbkNsczogJ28taWNvbi1mYS1zaGFyZS1zcXVhcmUtbycsXHJcbiAgICAgICAgc3JjOiAnI2ZhLXNoYXJlLXNxdWFyZS1vJyxcclxuICAgICAgICB0ZXh0OiAnRGVsYSBrYXJ0YSdcclxuICAgIH0pO1xyXG4gICAgJCgnI28tbWVudXRvb2xzJykuYXBwZW5kKGVsKTtcclxuICAgIHNoYXJlQnV0dG9uID0gJCgnI28tc2hhcmUtYnV0dG9uJyk7XHJcbiAgICBiaW5kVUlBY3Rpb25zKCk7XHJcbn1cclxuZnVuY3Rpb24gYmluZFVJQWN0aW9ucygpIHtcclxuICAgIHNoYXJlQnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBtb2RhbC5jcmVhdGVNb2RhbCgnI28tbWFwJywge3RpdGxlOiAnTMOkbmsgdGlsbCBrYXJ0YScsIGNvbnRlbnQ6IGNyZWF0ZUNvbnRlbnQoKX0pO1xyXG4gICAgICAgIG1vZGFsLnNob3dNb2RhbCgpO1xyXG4gICAgICAgIGNyZWF0ZUxpbmsoKTsgLy9BZGQgbGluayB0byBpbnB1dFxyXG4gICAgICAgIG1hcG1lbnUudG9nZ2xlTWVudSgpO1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUNvbnRlbnQoKSB7XHJcbiAgICByZXR1cm4gJzxkaXYgY2xhc3M9XCJvLXNoYXJlLWxpbmtcIj48aW5wdXQgdHlwZT1cInRleHRcIj48L2Rpdj4nICtcclxuICAgICAgICAgICAnPGk+S29waWVyYSBvY2gga2xpc3RyYSBpbiBsw6Rua2VuIGbDtnIgYXR0IGRlbGEga2FydGFuLjwvaT4nO1xyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUxpbmsoKSB7XHJcbiAgICB2YXIgdXJsID0gcGVybWFsaW5rLmdldFBlcm1hbGluaygpO1xyXG4gICAgJCgnLm8tc2hhcmUtbGluayBpbnB1dCcpLnZhbCh1cmwpLnNlbGVjdCgpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5pbml0ID0gaW5pdDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG52YXIgdmlld2VyID0gcmVxdWlyZSgnLi92aWV3ZXInKTtcclxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xyXG5cclxudmFyIHNpZGViYXI7XHJcblxyXG5mdW5jdGlvbiBpbml0KCkge1xyXG4gICAgdmFyIGVsID0gJzxkaXYgaWQ9XCJvLXNpZGViYXJcIj4nICtcclxuICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiby1zaWRlYmFyIG8tY2FyZFwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm8tY2xvc2UtYnV0dG9uXCI+PHN2ZyBjbGFzcz1cIm8taWNvbi1mYS10aW1lc1wiPjx1c2UgeGxpbms6aHJlZj1cIiNmYS10aW1lc1wiPjwvdXNlPjwvc3ZnPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm8tY2FyZC10aXRsZVwiPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm8tY2FyZC1jb250ZW50XCI+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgJzwvZGl2Pic7XHJcbiAgICAkKCcjby1tYXAnKS5hcHBlbmQoZWwpO1xyXG4gICAgc2lkZWJhciA9ICQoJyNvLXNpZGViYXInKTtcclxuXHJcbiAgICBiaW5kVUlBY3Rpb25zKCk7XHJcbn1cclxuZnVuY3Rpb24gYmluZFVJQWN0aW9ucygpIHtcclxuICAgICQoJyNvLXNpZGViYXIgLm8tc2lkZWJhciAuby1jbG9zZS1idXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICBjbG9zZVNpZGViYXIoKTtcclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHNldFZpc2liaWxpdHkodmlzaWJsZSkge1xyXG4gICAgdmlzaWJsZSA9PSB0cnVlID8gJCgnI28tc2lkZWJhcicpLmFkZENsYXNzKCdvLXNpZGViYXItc2hvdycpIDogJCgnI28tc2lkZWJhcicpLnJlbW92ZUNsYXNzKCdvLXNpZGViYXItc2hvdycpO1xyXG59XHJcbmZ1bmN0aW9uIHNldFRpdGxlKHRpdGxlKSB7XHJcbiAgICAkKCcjby1zaWRlYmFyIC5vLWNhcmQtdGl0bGUnKS5odG1sKHRpdGxlKTtcclxufVxyXG5mdW5jdGlvbiBzZXRDb250ZW50KGNvbmZpZykge1xyXG4gICAgY29uZmlnLnRpdGxlID8gJCgnI28tc2lkZWJhciAuby1zaWRlYmFyIC5vLWNhcmQtdGl0bGUnKS5odG1sKGNvbmZpZy50aXRsZSk6ICQoJyNvLXNpZGViYXIgLm8tc2lkZWJhciAuby1jYXJkLXRpdGxlJykuaHRtbCgnJyk7XHJcbiAgICBjb25maWcuY29udGVudCA/ICQoJyNvLXNpZGViYXIgLm8tc2lkZWJhciAuby1jYXJkLWNvbnRlbnQnKS5odG1sKGNvbmZpZy5jb250ZW50KTogJCgnI28tc2lkZWJhciAuby1zaWRlYmFyIC5vLWNhcmQtY29udGVudCcpLmh0bWwoJycpO1xyXG59XHJcbmZ1bmN0aW9uIGNsb3NlU2lkZWJhcigpIHtcclxuICAgIHNldFZpc2liaWxpdHkoZmFsc2UpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5pbml0ID0gaW5pdDtcclxubW9kdWxlLmV4cG9ydHMuc2V0VmlzaWJpbGl0eSA9IHNldFZpc2liaWxpdHk7XHJcbm1vZHVsZS5leHBvcnRzLnNldFRpdGxlID0gc2V0VGl0bGU7XHJcbm1vZHVsZS5leHBvcnRzLnNldENvbnRlbnQgPSBzZXRDb250ZW50O1xyXG5tb2R1bGUuZXhwb3J0cy5jbG9zZVNpZGViYXIgPSBjbG9zZVNpZGViYXI7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxudmFyIE1vZGFsID0gcmVxdWlyZSgnLi9tb2RhbCcpO1xyXG52YXIgdmlld2VyID0gcmVxdWlyZSgnLi92aWV3ZXInKTtcclxuXHJcbnZhciBkZWZhdWx0VGl0bGUgPSAnT20ga2FydGFuJztcclxudmFyIGRlZmF1bHRDb250ZW50ID0gJzxwPjwvcD4nO1xyXG52YXIgY2xzID0gJ28tc3BsYXNoJztcclxudmFyIHRpdGxlO1xyXG52YXIgY29udGVudDtcclxuXHJcbmZ1bmN0aW9uIGluaXQob3B0X29wdGlvbnMpIHtcclxuICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xyXG4gIHZhciB1cmw7XHJcbiAgdGl0bGUgPSBvcHRpb25zLnRpdGxlIHx8IGRlZmF1bHRUaXRsZTtcclxuICBpZiAob3B0aW9ucy51cmwpIHtcclxuICAgIHVybCA9IHZpZXdlci5nZXRCYXNlVXJsKCkgKyBvcHRpb25zLnVybDtcclxuICAgIGdldENvbnRlbnQodXJsKVxyXG4gICAgICAuZG9uZShmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgY29udGVudCA9IGRhdGE7XHJcbiAgICAgICAgb3Blbk1vZGFsKCk7XHJcbiAgICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb250ZW50ID0gb3B0aW9ucy5jb250ZW50IHx8IGRlZmF1bHRDb250ZW50O1xyXG4gICAgb3Blbk1vZGFsKCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDb250ZW50KHVybCkge1xyXG4gIHJldHVybiAkLmdldCh1cmwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvcGVuTW9kYWwoKSB7XHJcbiAgTW9kYWwuY3JlYXRlTW9kYWwoJyNvLW1hcCcsIHtcclxuICAgIHRpdGxlOiB0aXRsZSxcclxuICAgIGNvbnRlbnQ6IGNvbnRlbnQsXHJcbiAgICBjbHM6IGNsc1xyXG4gIH0pO1xyXG4gIE1vZGFsLnNob3dNb2RhbCgpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cy5pbml0ID0gaW5pdDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgb2wgPSByZXF1aXJlKCdvcGVubGF5ZXJzJyk7XHJcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XHJcbnZhciBWaWV3ZXIgPSByZXF1aXJlKCcuL3ZpZXdlcicpO1xyXG52YXIgdmFsaWRhdGVVcmwgPSByZXF1aXJlKCcuL3V0aWxzL3ZhbGlkYXRldXJsJyk7XHJcbnZhciBzdHlsZUZ1bmN0aW9ucyA9IHJlcXVpcmUoJy4vc3R5bGUvc3R5bGVmdW5jdGlvbnMnKTtcclxudmFyIHJlcGxhY2VyID0gcmVxdWlyZSgnLi4vc3JjL3V0aWxzL3JlcGxhY2VyJyk7XHJcblxyXG52YXIgYmFzZVVybDtcclxuXHJcbnZhciB3aGl0ZSA9IFsyNTUsIDI1NSwgMjU1LCAxXTtcclxudmFyIGJsdWUgPSBbMCwgMTUzLCAyNTUsIDFdO1xyXG52YXIgd2lkdGggPSAzO1xyXG5cclxuLy9kZWZhdWx0IGVkaXQgc3R5bGUgb3B0aW9uc1xyXG52YXIgZWRpdFN0eWxlT3B0aW9ucyA9IHtcclxuICAnUG9pbnQnOiBbe1xyXG4gICAgXCJjaXJjbGVcIjoge1xyXG4gICAgICBcInJhZGl1c1wiOiAxLFxyXG4gICAgICBcInN0cm9rZVwiOiB7XHJcbiAgICAgICAgXCJjb2xvclwiOiBibHVlLFxyXG4gICAgICAgIFwid2lkdGhcIjogMFxyXG4gICAgICB9LFxyXG4gICAgICBcImZpbGxcIjoge1xyXG4gICAgICAgIFwiY29sb3JcIjogYmx1ZVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfV0sXHJcbiAgJ0xpbmVTdHJpbmcnOiBbe1xyXG4gICAgICAnc3Ryb2tlJzoge1xyXG4gICAgICAgIGNvbG9yOiB3aGl0ZSxcclxuICAgICAgICB3aWR0aDogd2lkdGggKyAyXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICdzdHJva2UnOiB7XHJcbiAgICAgICAgY29sb3I6IGJsdWUsXHJcbiAgICAgICAgd2lkdGg6IHdpZHRoXHJcbiAgICAgIH1cclxuICAgIH1cclxuICBdLFxyXG4gICdQb2x5Z29uJzogW3tcclxuICAgICAgJ3N0cm9rZSc6IHtcclxuICAgICAgICBjb2xvcjogd2hpdGUsXHJcbiAgICAgICAgd2lkdGg6IHdpZHRoICsgMlxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAnc3Ryb2tlJzoge1xyXG4gICAgICAgIGNvbG9yOiBibHVlLFxyXG4gICAgICAgIHdpZHRoOiB3aWR0aFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgXVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGluaXQ6IEluaXQsXHJcbiAgICBjcmVhdGVTdHlsZU9wdGlvbnM6IGNyZWF0ZVN0eWxlT3B0aW9ucyxcclxuICAgIGNyZWF0ZVN0eWxlTGlzdDogY3JlYXRlU3R5bGVMaXN0LFxyXG4gICAgY3JlYXRlU3R5bGVSdWxlOiBjcmVhdGVTdHlsZVJ1bGUsXHJcbiAgICBjcmVhdGVTdHlsZTogY3JlYXRlU3R5bGUsXHJcbiAgICBzdHlsZUZ1bmN0aW9uOiBzdHlsZUZ1bmN0aW9uLFxyXG4gICAgY3JlYXRlRWRpdFN0eWxlOiBjcmVhdGVFZGl0U3R5bGVcclxuICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBJbml0KCkge1xyXG4gIGJhc2VVcmwgPSBWaWV3ZXIuZ2V0QmFzZVVybCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVTdHlsZU9wdGlvbnMoc3R5bGVQYXJhbXMpIHtcclxuICB2YXIgc3R5bGVPcHRpb25zID0ge307XHJcbiAgaWYgKHN0eWxlUGFyYW1zLmhhc093blByb3BlcnR5KCdnZW9tZXRyeScpKSB7XHJcbiAgICBzd2l0Y2ggKHN0eWxlUGFyYW1zLmdlb21ldHJ5KSB7XHJcbiAgICAgIGNhc2UgJ2NlbnRlclBvaW50JzpcclxuICAgICAgICBzdHlsZU9wdGlvbnMuZ2VvbWV0cnkgPSBmdW5jdGlvbihmZWF0dXJlKSB7XHJcbiAgICAgICAgICB2YXIgY29vcmRpbmF0ZXMgPSBmZWF0dXJlLmdldEdlb21ldHJ5KCkuZ2V0SW50ZXJpb3JQb2ludHMoKS5nZXRGaXJzdENvb3JkaW5hdGUoKTtcclxuICAgICAgICAgIHJldHVybiBuZXcgb2wuZ2VvbS5Qb2ludChjb29yZGluYXRlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdlbmRQb2ludCc6XHJcbiAgICAgICAgc3R5bGVPcHRpb25zLmdlb21ldHJ5ID0gZnVuY3Rpb24oZmVhdHVyZSkge1xyXG4gICAgICAgICAgdmFyIGNvb3JkaW5hdGVzID0gZmVhdHVyZS5nZXRHZW9tZXRyeSgpLmdldExhc3RDb29yZGluYXRlKCk7XHJcbiAgICAgICAgICByZXR1cm4gbmV3IG9sLmdlb20uUG9pbnQoY29vcmRpbmF0ZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcbiAgaWYgKHN0eWxlUGFyYW1zLmhhc093blByb3BlcnR5KCd6SW5kZXgnKSkge1xyXG4gICAgc3R5bGVPcHRpb25zLnpJbmRleCA9IHN0eWxlUGFyYW1zLnpJbmRleDtcclxuICB9XHJcbiAgaWYgKHN0eWxlUGFyYW1zLmhhc093blByb3BlcnR5KCdmaWxsJykpIHtcclxuICAgIHN0eWxlT3B0aW9ucy5maWxsID0gbmV3IG9sLnN0eWxlLkZpbGwoc3R5bGVQYXJhbXMuZmlsbCk7XHJcbiAgfVxyXG4gIGlmIChzdHlsZVBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgnc3Ryb2tlJykpIHtcclxuICAgIHN0eWxlT3B0aW9ucy5zdHJva2UgPSBuZXcgb2wuc3R5bGUuU3Ryb2tlKHN0eWxlUGFyYW1zLnN0cm9rZSk7XHJcbiAgfVxyXG4gIGlmIChzdHlsZVBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgndGV4dCcpKSB7XHJcbiAgICBzdHlsZU9wdGlvbnMudGV4dCA9IG5ldyBvbC5zdHlsZS5UZXh0KHN0eWxlUGFyYW1zLnRleHQpO1xyXG4gICAgaWYgKHN0eWxlUGFyYW1zLnRleHQuaGFzT3duUHJvcGVydHkoJ2ZpbGwnKSkge1xyXG4gICAgICBzdHlsZU9wdGlvbnMudGV4dC5zZXRGaWxsKG5ldyBvbC5zdHlsZS5GaWxsKHN0eWxlUGFyYW1zLnRleHQuZmlsbCkpO1xyXG4gICAgfVxyXG4gICAgaWYgKHN0eWxlUGFyYW1zLnRleHQuaGFzT3duUHJvcGVydHkoJ3N0cm9rZScpKSB7XHJcbiAgICAgIHN0eWxlT3B0aW9ucy50ZXh0LnNldFN0cm9rZShuZXcgb2wuc3R5bGUuU3Ryb2tlKHN0eWxlUGFyYW1zLnRleHQuc3Ryb2tlKSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGlmIChzdHlsZVBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgnaWNvbicpKSB7XHJcbiAgICBpZiAoc3R5bGVQYXJhbXMuaWNvbi5oYXNPd25Qcm9wZXJ0eSgnc3JjJykpIHtcclxuICAgICAgc3R5bGVQYXJhbXMuaWNvbi5zcmMgPSB2YWxpZGF0ZVVybChzdHlsZVBhcmFtcy5pY29uLnNyYywgYmFzZVVybCk7XHJcbiAgICB9XHJcbiAgICBzdHlsZU9wdGlvbnMuaW1hZ2UgPSBuZXcgb2wuc3R5bGUuSWNvbihzdHlsZVBhcmFtcy5pY29uKTtcclxuICB9XHJcbiAgaWYgKHN0eWxlUGFyYW1zLmhhc093blByb3BlcnR5KCdjaXJjbGUnKSkge1xyXG4gICAgc3R5bGVPcHRpb25zLmltYWdlID0gbmV3IG9sLnN0eWxlLkNpcmNsZSh7XHJcbiAgICAgIHJhZGl1czogc3R5bGVQYXJhbXMuY2lyY2xlLnJhZGl1cyxcclxuICAgICAgZmlsbDogbmV3IG9sLnN0eWxlLkZpbGwoc3R5bGVQYXJhbXMuY2lyY2xlLmZpbGwpIHx8IHVuZGVmaW5lZCxcclxuICAgICAgc3Ryb2tlOiBuZXcgb2wuc3R5bGUuU3Ryb2tlKHN0eWxlUGFyYW1zLmNpcmNsZS5zdHJva2UpIHx8IHVuZGVmaW5lZFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHJldHVybiBzdHlsZU9wdGlvbnM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlTGlzdChzdHlsZU9wdGlvbnMpIHtcclxuICB2YXIgc3R5bGVMaXN0ID0gW107XHJcbiAgLy9DcmVhdGUgc3R5bGUgZm9yIGVhY2ggcnVsZVxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVPcHRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICB2YXIgc3R5bGVSdWxlID0gW107XHJcbiAgICB2YXIgc3R5bGVPcHRpb247XHJcbiAgICAvL0NoZWNrIGlmIHJ1bGUgaXMgYXJyYXksIGllIG11bHRpcGxlIHN0eWxlcyBmb3IgdGhlIHJ1bGVcclxuICAgIGlmIChzdHlsZU9wdGlvbnNbaV0uY29uc3RydWN0b3IgPT09IEFycmF5KSB7XHJcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc3R5bGVPcHRpb25zW2ldLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgc3R5bGVPcHRpb24gPSBjcmVhdGVTdHlsZU9wdGlvbnMoc3R5bGVPcHRpb25zW2ldW2pdKTtcclxuICAgICAgICBzdHlsZVJ1bGUucHVzaChuZXcgb2wuc3R5bGUuU3R5bGUoc3R5bGVPcHRpb24pKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy9JZiBzaW5nbGUgc3R5bGUgZm9yIHJ1bGVcclxuICAgIGVsc2Uge1xyXG4gICAgICBzdHlsZU9wdGlvbiA9IGNyZWF0ZVN0eWxlT3B0aW9ucyhzdHlsZU9wdGlvbnNbaV0pO1xyXG4gICAgICBzdHlsZVJ1bGUgPSBbbmV3IG9sLnN0eWxlLlN0eWxlKHN0eWxlT3B0aW9uKV07XHJcbiAgICB9XHJcblxyXG4gICAgc3R5bGVMaXN0LnB1c2goc3R5bGVSdWxlKTtcclxuICB9XHJcbiAgcmV0dXJuIHN0eWxlTGlzdDtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlU3R5bGUoc3R5bGVOYW1lLCBjbHVzdGVyU3R5bGVOYW1lKSB7XHJcbiAgdmFyIHN0eWxlU2V0dGluZ3MgPSBWaWV3ZXIuZ2V0U3R5bGVTZXR0aW5ncygpW3N0eWxlTmFtZV07XHJcbiAgaWYgKCQuaXNFbXB0eU9iamVjdChzdHlsZVNldHRpbmdzKSkge1xyXG4gICAgYWxlcnQoJ1N0eWxlICcgKyBzdHlsZU5hbWUgKyAnIGlzIG5vdCBkZWZpbmVkJyk7XHJcbiAgfVxyXG4gIGlmIChzdHlsZVNldHRpbmdzWzBdWzBdLmhhc093blByb3BlcnR5KFwiY3VzdG9tXCIpKSB7XHJcbiAgICB2YXIgc3R5bGUgPSBzdHlsZUZ1bmN0aW9ucyhzdHlsZVNldHRpbmdzWzBdWzBdLmN1c3RvbSwgc3R5bGVTZXR0aW5nc1swXVswXS5wYXJhbXMpO1xyXG4gICAgcmV0dXJuIHN0eWxlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB2YXIgY2x1c3RlclN0eWxlU2V0dGluZ3MgPSBWaWV3ZXIuZ2V0U3R5bGVTZXR0aW5ncygpW2NsdXN0ZXJTdHlsZU5hbWVdO1xyXG4gICAgdmFyIHN0eWxlID0gKGZ1bmN0aW9uKCkge1xyXG4gICAgICAvL0NyZWF0ZSBzdHlsZSBmb3IgZWFjaCBydWxlXHJcbiAgICAgIHZhciBzdHlsZUxpc3QgPSBjcmVhdGVTdHlsZUxpc3Qoc3R5bGVTZXR0aW5ncyk7XHJcbiAgICAgIGlmIChjbHVzdGVyU3R5bGVTZXR0aW5ncykge1xyXG4gICAgICAgIHZhciBjbHVzdGVyU3R5bGVMaXN0ID0gY3JlYXRlU3R5bGVMaXN0KGNsdXN0ZXJTdHlsZVNldHRpbmdzKTtcclxuICAgICAgICByZXR1cm4gc3R5bGVGdW5jdGlvbihzdHlsZVNldHRpbmdzLCBzdHlsZUxpc3QsIGNsdXN0ZXJTdHlsZVNldHRpbmdzLCBjbHVzdGVyU3R5bGVMaXN0KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gc3R5bGVGdW5jdGlvbihzdHlsZVNldHRpbmdzLCBzdHlsZUxpc3QpO1xyXG4gICAgICB9XHJcblxyXG4gICAgfSkoKVxyXG4gICAgcmV0dXJuIHN0eWxlO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlU3R5bGVSdWxlKG9wdGlvbnMpIHtcclxuICB2YXIgc3R5bGVSdWxlID0gW10sXHJcbiAgICBzdHlsZU9wdGlvbjtcclxuICBpZiAob3B0aW9ucy5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICB2YXIgc3R5bGVPcHRpb24gPSBjcmVhdGVTdHlsZU9wdGlvbnMob3B0aW9uc1tpXSk7XHJcbiAgICAgIHN0eWxlUnVsZS5wdXNoKG5ldyBvbC5zdHlsZS5TdHlsZShzdHlsZU9wdGlvbikpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvL0lmIHNpbmdsZSBzdHlsZSBmb3IgcnVsZVxyXG4gIGVsc2Uge1xyXG4gICAgc3R5bGVPcHRpb24gPSBjcmVhdGVTdHlsZU9wdGlvbnMob3B0aW9ucyk7XHJcbiAgICBzdHlsZVJ1bGUgPSBbbmV3IG9sLnN0eWxlLlN0eWxlKHN0eWxlT3B0aW9uKV07XHJcbiAgfVxyXG4gIHJldHVybiBzdHlsZVJ1bGU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0eWxlRnVuY3Rpb24oc3R5bGVTZXR0aW5ncywgc3R5bGVMaXN0LCBjbHVzdGVyU3R5bGVTZXR0aW5ncywgY2x1c3RlclN0eWxlTGlzdCkge1xyXG4gIHZhciBzID0gc3R5bGVTZXR0aW5ncztcclxuICB2YXIgcmVzb2x1dGlvbnMgPSBWaWV3ZXIuZ2V0UmVzb2x1dGlvbnMoKTtcclxuICB2YXIgZm4gPSBmdW5jdGlvbihmZWF0dXJlLCByZXNvbHV0aW9uKSB7XHJcbiAgICB2YXIgc2NhbGUgPSBWaWV3ZXIuZ2V0U2NhbGUocmVzb2x1dGlvbik7XHJcbiAgICB2YXIgc3R5bGVMO1xyXG4gICAgLy9JZiBzaXplIGlzIGxhcmdlciB0aGFuLCBpdCBpcyBhIGNsdXN0ZXJcclxuICAgIHZhciBzaXplID0gY2x1c3RlclN0eWxlTGlzdCA/IGZlYXR1cmUuZ2V0KCdmZWF0dXJlcycpLmxlbmd0aCA6IDE7XHJcbiAgICBpZiAoc2l6ZSA+IDEgJiYgcmVzb2x1dGlvbiAhPSByZXNvbHV0aW9uc1tyZXNvbHV0aW9ucy5sZW5ndGggKyAxXSkge1xyXG4gICAgICBzdHlsZUwgPSBjaGVja09wdGlvbnMoZmVhdHVyZSwgc2NhbGUsIGNsdXN0ZXJTdHlsZVNldHRpbmdzLCBjbHVzdGVyU3R5bGVMaXN0LCBzaXplLnRvU3RyaW5nKCkpO1xyXG4gICAgICAvLyBjbHVzdGVyU3R5bGVMaXN0WzBdLnNldFRleHQoc2l6ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzdHlsZUwgPSBjaGVja09wdGlvbnMoZmVhdHVyZSwgc2NhbGUsIHN0eWxlU2V0dGluZ3MsIHN0eWxlTGlzdCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3R5bGVMO1xyXG4gIH1cclxuICByZXR1cm4gZm47XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUVkaXRTdHlsZSgpIHtcclxuICByZXR1cm4ge1xyXG4gICAgJ1BvaW50JzogY3JlYXRlU3R5bGVSdWxlKGVkaXRTdHlsZU9wdGlvbnNbJ1BvaW50J10pLFxyXG4gICAgJ011bHRpUG9pbnQnOiBjcmVhdGVTdHlsZVJ1bGUoZWRpdFN0eWxlT3B0aW9uc1snUG9pbnQnXSksXHJcbiAgICAnTGluZVN0cmluZyc6IGNyZWF0ZVN0eWxlUnVsZShlZGl0U3R5bGVPcHRpb25zWydMaW5lU3RyaW5nJ10pLFxyXG4gICAgJ011bHRpTGluZVN0cmluZyc6IGNyZWF0ZVN0eWxlUnVsZShlZGl0U3R5bGVPcHRpb25zWydMaW5lU3RyaW5nJ10pLFxyXG4gICAgJ1BvbHlnb24nOiBjcmVhdGVTdHlsZVJ1bGUoZWRpdFN0eWxlT3B0aW9uc1snUG9seWdvbiddKSxcclxuICAgICdNdWx0aVBvbHlnb24nOiBjcmVhdGVTdHlsZVJ1bGUoZWRpdFN0eWxlT3B0aW9uc1snUG9seWdvbiddKVxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrT3B0aW9ucyhmZWF0dXJlLCBzY2FsZSwgc3R5bGVTZXR0aW5ncywgc3R5bGVMaXN0LCBzaXplKSB7XHJcbiAgdmFyIHMgPSBzdHlsZVNldHRpbmdzO1xyXG4gIGZvciAodmFyIGogPSAwOyBqIDwgcy5sZW5ndGg7IGorKykge1xyXG4gICAgdmFyIHN0eWxlTDtcclxuICAgIGlmIChWaWV3ZXIuY2hlY2tTY2FsZShzY2FsZSwgc1tqXVswXS5tYXhTY2FsZSwgc1tqXVswXS5taW5TY2FsZSkpIHtcclxuICAgICAgc1tqXS5zb21lKGZ1bmN0aW9uKGVsZW1lbnQsIGluZGV4LCBhcnJheSkge1xyXG4gICAgICAgIGlmIChlbGVtZW50Lmhhc093blByb3BlcnR5KCd0ZXh0JykgJiYgc2l6ZSkge1xyXG4gICAgICAgICAgc3R5bGVMaXN0W2pdW2luZGV4XS5nZXRUZXh0KCkuc2V0VGV4dChzaXplKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuaGFzT3duUHJvcGVydHkoJ3RleHQnKSkge1xyXG4gICAgICAgICAgc3R5bGVMaXN0W2pdW2luZGV4XS5nZXRUZXh0KCkuc2V0VGV4dChyZXBsYWNlci5yZXBsYWNlKGVsZW1lbnQudGV4dC50ZXh0LCBmZWF0dXJlLmdldFByb3BlcnRpZXMoKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGlmIChzW2pdWzBdLmhhc093blByb3BlcnR5KCdmaWx0ZXInKSkge1xyXG4gICAgICAgIC8vZmluZCBhdHRyaWJ1dGUgdmFsZSBiZXR3ZWVuIFtdIGRlZmluZWQgaW4gc3R5bGVzXHJcbiAgICAgICAgdmFyIGZlYXRBdHRyLCBleHByLCBmZWF0TWF0Y2g7XHJcbiAgICAgICAgdmFyIG1hdGNoZXMgPSBzW2pdWzBdLmZpbHRlci5tYXRjaCgvXFxbKC4qPylcXF0vKTtcclxuICAgICAgICBpZiAobWF0Y2hlcykge1xyXG4gICAgICAgICAgaWYgKGZlYXR1cmUuZ2V0KCdmZWF0dXJlcycpKSB7XHJcbiAgICAgICAgICAgIGZlYXR1cmUgPSBmZWF0dXJlLmdldCgnZmVhdHVyZXMnKVswXTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGZlYXRBdHRyID0gbWF0Y2hlc1sxXTtcclxuICAgICAgICAgIGV4cHIgPSBzW2pdWzBdLmZpbHRlci5zcGxpdCgnXScpWzFdO1xyXG4gICAgICAgICAgZmVhdE1hdGNoID0gZmVhdHVyZS5nZXQoZmVhdEF0dHIpO1xyXG4gICAgICAgICAgZXhwciA9IHR5cGVvZiBmZWF0TWF0Y2ggPT0gJ251bWJlcicgPyBmZWF0TWF0Y2ggKyBleHByIDogJ1wiJyArIGZlYXRNYXRjaCArICdcIicgKyBleHByO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZXZhbChleHByKSkge1xyXG4gICAgICAgICAgc3R5bGVMID0gc3R5bGVMaXN0W2pdO1xyXG4gICAgICAgICAgcmV0dXJuIHN0eWxlTDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3R5bGVMID0gc3R5bGVMaXN0W2pdO1xyXG4gICAgICAgIHJldHVybiBzdHlsZUw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwidmFyIGNvbG9ycyA9IHtcclxuICAnYmxhY2snOiBbMCwwLDBdLFxyXG4gICdyZWQnOiBbMjU1LDU5LDQ4XSxcclxuICAneWVsbG93JzogWzI1NSwyMDQsMF0sXHJcbiAgJ2dyZWVuJzogWzAsMjU1LDBdLFxyXG4gICdjeWFuJzogWzAsMjU1LDI1NV0sXHJcbiAgJ2JsdWUnOiBbMCwxMjIsMjU1XSxcclxuICAnbWFnZW50YSc6IFsyNTUsMCwyNTVdLFxyXG4gICdkZWZhdWx0JzogWzI1NSwyNTUsMjU1XVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZXRDb2xvcihjb2xvck5hbWUsIGFscGhhKSB7XHJcbiAgdmFyIGNvbG9yO1xyXG4gIGlmIChjb2xvck5hbWUgaW4gY29sb3JzKSB7XHJcbiAgICBjb2xvciA9IGNvbG9yc1tjb2xvck5hbWVdO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb2xvciA9IGNvbG9ycy5kZWZhdWx0O1xyXG4gIH1cclxuICBpZiAoYWxwaGEpIHtcclxuICAgIHJldHVybiBjb2xvci5jb25jYXQoYWxwaGEpO1xyXG4gIH1cclxuICByZXR1cm4gY29sb3I7XHJcbn07XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIG1lYXN1cmUgPSB7XHJcbiAgbGluZXN0cmluZzogW1xyXG4gICAge1xyXG4gICAgICAnZ2VvbWV0cnknOiAnZW5kUG9pbnQnLFxyXG4gICAgICAnY2lyY2xlJzoge1xyXG4gICAgICAgIGZpbGw6IHtcclxuICAgICAgICAgIGNvbG9yOiBbMCwgMTUzLCAyNTUsIDFdXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdHJva2U6IHtcclxuICAgICAgICAgIGNvbG9yOiBbMCwgMTUzLCAyNTUsIDFdLFxyXG4gICAgICAgICAgd2lkdGg6IDFcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJhZGl1czogM1xyXG4gICAgICB9LFxyXG4gICAgICAndGV4dCc6IHtcclxuICAgICAgICBmb250OiAnYm9sZCAxM3B4IFwiSGVsdmV0aWNhIE5ldWVcIiwgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZicsXHJcbiAgICAgICAgdGV4dEJhc2VsaW5lOiAnYm90dG9tJyxcclxuICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxyXG4gICAgICAgIG9mZnNldFk6IC00LFxyXG4gICAgICAgIGZpbGw6IHtjb2xvcjogWzAsIDE1MywgMjU1LCAxXX0sXHJcbiAgICAgICAgc3Ryb2tlOiB7Y29sb3I6IFsyNTUsIDI1NSwgMjU1LCAwLjhdLCB3aWR0aDogNH1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgJ3N0cm9rZSc6IHtcclxuICAgICAgICBjb2xvcjogWzAsIDE1MywgMjU1LCAxXSxcclxuICAgICAgICB3aWR0aDogMlxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgXSxcclxuICBwb2x5Z29uOiBbXHJcbiAgICB7XHJcbiAgICAgICdmaWxsJzoge1xyXG4gICAgICAgIGNvbG9yOiBbMjU1LCAyNTUsIDI1NSwgMC40XVxyXG4gICAgICB9LFxyXG4gICAgICAnc3Ryb2tlJzoge1xyXG4gICAgICAgIGNvbG9yOiBbMCwgMTUzLCAyNTUsIDFdLFxyXG4gICAgICAgIHdpZHRoOiAyXHJcbiAgICAgIH0sXHJcbiAgICAgICd0ZXh0Jzoge1xyXG4gICAgICAgIGZvbnQ6ICdib2xkIDEzcHggXCJIZWx2ZXRpY2EgTmV1ZVwiLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmJyxcclxuICAgICAgICB0ZXh0QmFzZWxpbmU6ICdtaWRkbGUnLFxyXG4gICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicsXHJcbiAgICAgICAgZmlsbDoge2NvbG9yOiBbMCwgMTUzLCAyNTUsIDFdfSxcclxuICAgICAgICBzdHJva2U6IHtjb2xvcjogWzI1NSwgMjU1LCAyNTUsIDAuOF0sIHdpZHRoOiA0fVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgXSxcclxuICBpbnRlcmFjdGlvbjogW1xyXG4gICAge1xyXG4gICAgICAnZmlsbCc6IHtcclxuICAgICAgICBjb2xvcjogWzI1NSwgMjU1LCAyNTUsIDAuMl1cclxuICAgICAgfSxcclxuICAgICAgJ3N0cm9rZSc6IHtcclxuICAgICAgICAnY29sb3InOiBbMCwgMCwgMCwgMC41XSxcclxuICAgICAgICAnbGluZURhc2gnOiBbMTAsIDEwXSxcclxuICAgICAgICAnd2lkdGgnOiAyXHJcbiAgICAgIH0sXHJcbiAgICAgICdjaXJjbGUnOiB7XHJcbiAgICAgICAgJ3JhZGl1cyc6IDUsXHJcbiAgICAgICAgJ3N0cm9rZSc6IHtcclxuICAgICAgICAgICdjb2xvcic6IFswLCAwLCAwLCAwLjddXHJcbiAgICAgICAgfSxcclxuICAgICAgICAnZmlsbCc6IHtcclxuICAgICAgICAgIGNvbG9yOiBbMjU1LCAyNTUsIDI1NSwgMC4yXVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIF1cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbWVhc3VyZTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgcGluID0gW1xyXG4gICAge1xyXG4gICAgICAnaWNvbic6IHtcclxuICAgICAgICAgIGFuY2hvcjogWzAuNSwgMzJdLFxyXG4gICAgICAgICAgYW5jaG9yWFVuaXRzOiAnZnJhY3Rpb24nLFxyXG4gICAgICAgICAgYW5jaG9yWVVuaXRzOiAncGl4ZWxzJyxcclxuICAgICAgICAgIHNyYzogJ2ltZy9wbmcvZHJvcF9ibHVlLnBuZydcclxuICAgICAgfVxyXG4gICAgfVxyXG5dO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBwaW47XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIGRlZmF1bHRTdHlsZSA9IHJlcXVpcmUoJy4vc3R5bGVmdW5jdGlvbnMvZGVmYXVsdCcpO1xyXG5cclxudmFyIGN1c3RvbVN0eWxlcyA9IHtcclxuICBkZWZhdWx0OiBkZWZhdWx0U3R5bGVcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3R5bGVGdW5jdGlvbnMoY3VzdG9tU3R5bGUsIHBhcmFtcykge1xyXG4gIGlmIChjdXN0b21TdHlsZSBpbiBjdXN0b21TdHlsZXMpIHtcclxuICAgIHJldHVybiBjdXN0b21TdHlsZXNbY3VzdG9tU3R5bGVdKHBhcmFtcyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBjdXN0b21TdHlsZXMuZGVmYXVsdChwYXJhbXMpO1xyXG4gIH1cclxufTtcclxuIiwidmFyIG9sID0gcmVxdWlyZSgnb3BlbmxheWVycycpO1xyXG52YXIgZ2V0Q29sb3IgPSByZXF1aXJlKCcuLi9nZXRjb2xvcicpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZhdWx0U3R5bGUocGFyYW1zKSB7XHJcbiAgdmFyIGZpbGwgPSBuZXcgb2wuc3R5bGUuRmlsbCh7XHJcbiAgICBjb2xvcjogJydcclxuICB9KTtcclxuICB2YXIgc3Ryb2tlID0gbmV3IG9sLnN0eWxlLlN0cm9rZSh7XHJcbiAgICBjb2xvcjogJycsXHJcbiAgICB3aWR0aDogMC4xLFxyXG4gICAgbGluZUNhcDogJ3NxdWFyZScsXHJcbiAgICBsaW5lSm9pbjogJ3JvdW5kJ1xyXG4gIH0pO1xyXG4gIHZhciBub1N0cm9rZSA9IG5ldyBvbC5zdHlsZS5TdHJva2Uoe1xyXG4gICAgY29sb3I6ICcnLFxyXG4gICAgd2lkdGg6IDAuMFxyXG4gIH0pO1xyXG4gIHZhciBvdmVybGF5ZWRTdHJva2UgPSBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtcclxuICAgIGNvbG9yOiAnJyxcclxuICAgIHdpZHRoOiAwLjEsXHJcbiAgICBsaW5lQ2FwOiAnc3F1YXJlJyxcclxuICAgIGxpbmVKb2luOiAncm91bmQnXHJcbiAgfSk7XHJcbiAgdmFyIGRhc2hlZFN0cm9rZSA9IG5ldyBvbC5zdHlsZS5TdHJva2Uoe1xyXG4gICAgY29sb3I6ICcnLFxyXG4gICAgd2lkdGg6IDEsXHJcbiAgICBsaW5lRGFzaDogWzEsIDJdXHJcbiAgfSk7XHJcbiAgdmFyIHBvbHlnb24gPSBuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgZmlsbDogZmlsbCxcclxuICAgIHpJbmRleDogMVxyXG4gIH0pO1xyXG4gIHZhciBzdHJva2VkUG9seWdvbiA9IG5ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICBmaWxsOiBmaWxsLFxyXG4gICAgc3Ryb2tlOiBzdHJva2UsXHJcbiAgICB6SW5kZXg6IDJcclxuICB9KTtcclxuICB2YXIgZGFzaGVkUG9seWdvbiA9IG5ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICBmaWxsOiBmaWxsLFxyXG4gICAgc3Ryb2tlOiBkYXNoZWRTdHJva2UsXHJcbiAgICB6SW5kZXg6IDJcclxuICB9KTtcclxuICB2YXIgbGluZSA9IG5ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICBzdHJva2U6IHN0cm9rZSxcclxuICAgIHpJbmRleDogMTBcclxuICB9KTtcclxuICB2YXIgb3ZlcmxheWVkTGluZSA9IG5ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICBzdHJva2U6IG92ZXJsYXllZFN0cm9rZSxcclxuICAgIHpJbmRleDogMTFcclxuICB9KTtcclxuICB2YXIgZGFzaGVkTGluZSA9IG5ldyBvbC5zdHlsZS5TdHlsZSh7XHJcbiAgICBzdHJva2U6IGRhc2hlZFN0cm9rZSxcclxuICAgIHpJbmRleDogMTJcclxuICB9KTtcclxuICB2YXIgcG9pbnQgPSBuZXcgb2wuc3R5bGUuU3R5bGUoe1xyXG4gICAgaW1hZ2U6IG5ldyBvbC5zdHlsZS5DaXJjbGUoe1xyXG4gICAgICByYWRpdXM6IDUsXHJcbiAgICAgIGZpbGw6IGZpbGwsXHJcbiAgICAgIHN0cm9rZTogc3Ryb2tlXHJcbiAgICB9KSxcclxuICAgIHpJbmRleDogNTBcclxuICB9KTtcclxuICB2YXIgc3R5bGVzID0gW107XHJcblxyXG4gIHJldHVybiBmdW5jdGlvbihmZWF0dXJlLCByZXNvbHV0aW9uKSB7XHJcbiAgICBwb2x5Z29uLnNldFpJbmRleCgxKTtcclxuICAgIGxpbmUuc2V0WkluZGV4KDEwKTtcclxuICAgIHZhciBsZW5ndGggPSAwO1xyXG4gICAgdmFyIGdlb20gPSBmZWF0dXJlLmdldEdlb21ldHJ5KCkuZ2V0VHlwZSgpO1xyXG4gICAgc3dpdGNoIChnZW9tKSB7XHJcbiAgICAgIGNhc2UgJ1BvbHlnb24nOlxyXG4gICAgICAgIHN0cm9rZS5zZXRDb2xvcihnZXRDb2xvcignYmx1ZScpKTtcclxuICAgICAgICBzdHJva2Uuc2V0V2lkdGgoMSk7XHJcbiAgICAgICAgZmlsbC5zZXRDb2xvcihnZXRDb2xvcignYmx1ZScsIDAuOCkpO1xyXG4gICAgICAgIHN0eWxlc1tsZW5ndGgrK10gPSBzdHJva2VkUG9seWdvbjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnTXVsdGlQb2x5Z29uJzpcclxuICAgICAgICBzdHJva2Uuc2V0Q29sb3IoZ2V0Q29sb3IoJ2JsdWUnKSk7XHJcbiAgICAgICAgc3Ryb2tlLnNldFdpZHRoKDEpO1xyXG4gICAgICAgIGZpbGwuc2V0Q29sb3IoZ2V0Q29sb3IoJ2JsdWUnLCAwLjgpKTtcclxuICAgICAgICBzdHlsZXNbbGVuZ3RoKytdID0gc3Ryb2tlZFBvbHlnb247XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ0xpbmVTdHJpbmcnOlxyXG4gICAgICAgIHN0cm9rZS5zZXRDb2xvcihnZXRDb2xvcigncmVkJykpO1xyXG4gICAgICAgIHN0cm9rZS5zZXRXaWR0aCgxKTtcclxuICAgICAgICBzdHlsZXNbbGVuZ3RoKytdID0gbGluZTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnTXVsdGlMaW5lU3RyaW5nJzpcclxuICAgICAgICBzdHJva2Uuc2V0Q29sb3IoZ2V0Q29sb3IoJ3JlZCcpKTtcclxuICAgICAgICBzdHJva2Uuc2V0V2lkdGgoMSk7XHJcbiAgICAgICAgc3R5bGVzW2xlbmd0aCsrXSA9IGxpbmU7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ1BvaW50JzpcclxuICAgICAgICBzdHJva2Uuc2V0Q29sb3IoZ2V0Q29sb3IoJ3llbGxvdycpKTtcclxuICAgICAgICBzdHJva2Uuc2V0V2lkdGgoMSk7XHJcbiAgICAgICAgZmlsbC5zZXRDb2xvcihnZXRDb2xvcigneWVsbG93JywgMC44KSk7XHJcbiAgICAgICAgc3R5bGVzW2xlbmd0aCsrXSA9IHBvaW50O1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdNdWx0aVBvaW50JzpcclxuICAgICAgICBzdHJva2Uuc2V0Q29sb3IoZ2V0Q29sb3IoJ3llbGxvdycpKTtcclxuICAgICAgICBzdHJva2Uuc2V0V2lkdGgoMSk7XHJcbiAgICAgICAgZmlsbC5zZXRDb2xvcihnZXRDb2xvcigneWVsbG93JywgMC44KSk7XHJcbiAgICAgICAgc3R5bGVzW2xlbmd0aCsrXSA9IHBvaW50O1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHN0cm9rZS5zZXRDb2xvcihnZXRDb2xvcignYmx1ZScpKTtcclxuICAgICAgICBzdHJva2Uuc2V0V2lkdGgoMSk7XHJcbiAgICAgICAgZmlsbC5zZXRDb2xvcihnZXRDb2xvcignYmx1ZScsIDAuOCkpO1xyXG4gICAgICAgIHN0eWxlc1tsZW5ndGgrK10gPSBzdHJva2VkUG9seWdvbjtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIHN0eWxlcy5sZW5ndGggPSBsZW5ndGg7XHJcbiAgICByZXR1cm4gc3R5bGVzO1xyXG4gIH07XHJcbn07XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIHBpbiA9IHJlcXVpcmUoJy4vcGluJyk7XHJcbnZhciBtZWFzdXJlID0gcmVxdWlyZSgnLi9tZWFzdXJlJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICB2YXIgc3R5bGVUeXBlcyA9IHt9O1xyXG5cclxuICBzdHlsZVR5cGVzLnBpbiA9IHBpbjtcclxuICBzdHlsZVR5cGVzLm1lYXN1cmUgPSBtZWFzdXJlO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgZ2V0U3R5bGU6IGZ1bmN0aW9uIGdldFN0eWxlKHR5cGUpIHtcclxuICAgICAgaWYodHlwZSkge1xyXG4gICAgICAgIHJldHVybiBzdHlsZVR5cGVzW3R5cGVdO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHR5cGUgKyAnIGlzIG5vdCBhIGRlZmF1bHQgc3R5bGUnKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufSgpO1xyXG4iLCIvLyBoYnNmeSBjb21waWxlZCBIYW5kbGViYXJzIHRlbXBsYXRlXG52YXIgSGFuZGxlYmFyc0NvbXBpbGVyID0gcmVxdWlyZSgnaGJzZnkvcnVudGltZScpO1xubW9kdWxlLmV4cG9ydHMgPSBIYW5kbGViYXJzQ29tcGlsZXIudGVtcGxhdGUoe1wiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgcmV0dXJuIFwiPGRpdiBpZD1cXFwiby1lZGl0b3ItdG9vbGJhclxcXCIgY2xhc3M9XFxcIm8tZWRpdG9yLXRvb2xiYXIgby10b29sYmFyIG8tdG9vbGJhci1ob3Jpem9udGFsIG8tcGFkZGluZy1ob3Jpem9udGFsLTggby1yb3VuZGVkLXRvcCBvLWhpZGRlblxcXCI+XFxyXFxuICAgIDxkaXYgaWQ9XFxcIm8tZWRpdG9yLXRvb2xiYXItZHJhd3Rvb2xzXFxcIiBjbGFzcz1cXFwiby10b29sYmFyLWhvcml6b250YWxcXFwiPlxcclxcbiAgICAgIDxkaXYgY2xhc3M9XFxcIm8tcG9wb3Zlci1jb250YWluZXJcXFwiPlxcclxcbiAgICAgICAgPGJ1dHRvbiBpZD1cXFwiby1lZGl0b3ItZHJhd1xcXCIgY2xhc3M9XFxcIm8tYnV0dG9uLWxnXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIG5hbWU9XFxcImJ1dHRvblxcXCI+XFxyXFxuICAgICAgICAgIDxzdmcgY2xhc3M9XFxcIm8taWNvbi0yNFxcXCI+XFxyXFxuICAgICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9XFxcIiNpY19tb2RlX2VkaXRfMjRweFxcXCI+PC91c2U+XFxyXFxuICAgICAgICAgIDwvc3ZnPlxcclxcbiAgICAgICAgPC9idXR0b24+XFxyXFxuICAgICAgPC9kaXY+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8YnV0dG9uIGlkPVxcXCJvLWVkaXRvci1hdHRyaWJ1dGVcXFwiIGNsYXNzPVxcXCJvLWJ1dHRvbi1sZ1xcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBuYW1lPVxcXCJidXR0b25cXFwiPlxcclxcbiAgICAgIDxzdmcgY2xhc3M9XFxcIm8taWNvbi0yNFxcXCI+XFxyXFxuICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj1cXFwiI2ljX3RpdGxlXzI0cHhcXFwiPjwvdXNlPlxcclxcbiAgICAgIDwvc3ZnPlxcclxcbiAgICA8L2J1dHRvbj5cXHJcXG4gICAgPGJ1dHRvbiBpZD1cXFwiby1lZGl0b3ItZGVsZXRlXFxcIiBjbGFzcz1cXFwiby1idXR0b24tbGdcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgbmFtZT1cXFwiYnV0dG9uXFxcIj5cXHJcXG4gICAgICA8c3ZnIGNsYXNzPVxcXCJvLWljb24tMjRcXFwiPlxcclxcbiAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9XFxcIiNpY19kZWxldGVfMjRweFxcXCI+PC91c2U+XFxyXFxuICAgICAgPC9zdmc+XFxyXFxuICAgIDwvYnV0dG9uPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJvLXBvcG92ZXItY29udGFpbmVyXFxcIj5cXHJcXG4gICAgICA8YnV0dG9uIGlkPVxcXCJvLWVkaXRvci1sYXllcnNcXFwiIGNsYXNzPVxcXCJvLWJ1dHRvbi1sZ1xcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBuYW1lPVxcXCJidXR0b25cXFwiPlxcclxcbiAgICAgICAgPHN2ZyBjbGFzcz1cXFwiby1pY29uLTI0XFxcIj5cXHJcXG4gICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9XFxcIiNpY19sYXllcnNfMjRweFxcXCI+PC91c2U+XFxyXFxuICAgICAgICA8L3N2Zz5cXHJcXG4gICAgICA8L2J1dHRvbj5cXHJcXG4gICAgPC9kaXY+XFxyXFxuICAgIDxidXR0b24gaWQ9XFxcIm8tZWRpdG9yLXNhdmVcXFwiIGNsYXNzPVxcXCJvLWJ1dHRvbi1sZyBvLWRpc2FibGVkXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIG5hbWU9XFxcImJ1dHRvblxcXCI+XFxyXFxuICAgICAgPHN2ZyBjbGFzcz1cXFwiby1pY29uLTI0XFxcIj5cXHJcXG4gICAgICAgICAgPHVzZSB4bGluazpocmVmPVxcXCIjaWNfc2F2ZV8yNHB4XFxcIj48L3VzZT5cXHJcXG4gICAgICA8L3N2Zz5cXHJcXG4gICAgPC9idXR0b24+XFxyXFxuICAgIDxidXR0b24gaWQ9XFxcIm8tZWRpdG9yLWNsb3NlXFxcIiBjbGFzcz1cXFwiby1idXR0b24tbGdcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgbmFtZT1cXFwiYnV0dG9uXFxcIj5cXHJcXG4gICAgICAgIDxzdmcgY2xhc3M9XFxcIm8taWNvbi0yNFxcXCI+XFxyXFxuICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPVxcXCIjaWNfY2xvc2VfMjRweFxcXCI+PC91c2U+XFxyXFxuICAgICAgICA8L3N2Zz5cXHJcXG4gICAgPC9idXR0b24+XFxyXFxuPC9kaXY+XFxyXFxuXCI7XG59LFwidXNlRGF0YVwiOnRydWV9KTtcbiIsIi8vIGhic2Z5IGNvbXBpbGVkIEhhbmRsZWJhcnMgdGVtcGxhdGVcbnZhciBIYW5kbGViYXJzQ29tcGlsZXIgPSByZXF1aXJlKCdoYnNmeS9ydW50aW1lJyk7XG5tb2R1bGUuZXhwb3J0cyA9IEhhbmRsZWJhcnNDb21waWxlci50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgaGVscGVyLCBhbGlhczE9Y29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgcmV0dXJuIFwiICAgICAgPGxpPjxiPlwiXG4gICAgKyBhbGlhczEoKChoZWxwZXIgPSAoaGVscGVyID0gaGVscGVycy5rZXkgfHwgKGRhdGEgJiYgZGF0YS5rZXkpKSAhPSBudWxsID8gaGVscGVyIDogaGVscGVycy5oZWxwZXJNaXNzaW5nKSwodHlwZW9mIGhlbHBlciA9PT0gXCJmdW5jdGlvblwiID8gaGVscGVyLmNhbGwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAgOiB7fSx7XCJuYW1lXCI6XCJrZXlcIixcImhhc2hcIjp7fSxcImRhdGFcIjpkYXRhfSkgOiBoZWxwZXIpKSlcbiAgICArIFwiPC9iPiA6IFwiXG4gICAgKyBhbGlhczEoY29udGFpbmVyLmxhbWJkYShkZXB0aDAsIGRlcHRoMCkpXG4gICAgKyBcIjwvbGk+XFxyXFxuXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMTtcblxuICByZXR1cm4gKChzdGFjazEgPSBoZWxwZXJzLmVhY2guY2FsbChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMCA6IHt9LGRlcHRoMCx7XCJuYW1lXCI6XCJlYWNoXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpO1xufSxcInVzZURhdGFcIjp0cnVlfSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciBkZWZhdWx0VGVtcGxhdGUgPSByZXF1aXJlKFwiLi9kZWZhdWx0LmhhbmRsZWJhcnNcIik7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGF0dHJpYnV0ZXMpIHtcclxuICByZXR1cm4gZGVmYXVsdFRlbXBsYXRlKGF0dHJpYnV0ZXMpO1xyXG59XHJcbiIsIi8vIGhic2Z5IGNvbXBpbGVkIEhhbmRsZWJhcnMgdGVtcGxhdGVcbnZhciBIYW5kbGViYXJzQ29tcGlsZXIgPSByZXF1aXJlKCdoYnNmeS9ydW50aW1lJyk7XG5tb2R1bGUuZXhwb3J0cyA9IEhhbmRsZWJhcnNDb21waWxlci50ZW1wbGF0ZSh7XCJjb21waWxlclwiOls3LFwiPj0gNC4wLjBcIl0sXCJtYWluXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgYWxpYXMxPWNvbnRhaW5lci5sYW1iZGEsIGFsaWFzMj1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbjtcblxuICByZXR1cm4gXCI8aHRtbD5cXHJcXG4gIDxoZWFkPlxcclxcbiAgICA8bGluayBocmVmPVxcXCJjc3MvcHJpbnQuY3NzXFxcIiByZWw9XFxcInN0eWxlc2hlZXRcXFwiPlxcclxcbiAgPC9oZWFkPlxcclxcbiAgPGJvZHk+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcIm8tcHJpbnQtbG9nb1xcXCI+PGltZyBzcmM9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5sb2dvU3JjIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj48L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiby1tYXAtY2FudmFzXFxcIj48aW1nIHNyYz1cXFwiXCJcbiAgICArIGFsaWFzMihhbGlhczEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnNyYyA6IGRlcHRoMCksIGRlcHRoMCkpXG4gICAgKyBcIlxcXCIvPjwvZGl2PlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJvLXByaW50LWF0dHJpYnV0aW9uXFxcIj5cIlxuICAgICsgYWxpYXMyKGFsaWFzMSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuYXR0cmlidXRpb24gOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCI8L2Rpdj5cXHJcXG4gIDwvYm9keT5cXHJcXG48L2h0bWw+XFxyXFxuXCI7XG59LFwidXNlRGF0YVwiOnRydWV9KTtcbiIsIi8vIGhic2Z5IGNvbXBpbGVkIEhhbmRsZWJhcnMgdGVtcGxhdGVcbnZhciBIYW5kbGViYXJzQ29tcGlsZXIgPSByZXF1aXJlKCdoYnNmeS9ydW50aW1lJyk7XG5tb2R1bGUuZXhwb3J0cyA9IEhhbmRsZWJhcnNDb21waWxlci50ZW1wbGF0ZSh7XCIxXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICByZXR1cm4gXCIgICAgICAgIDxpbWcgc3JjPVxcXCJcIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oY29udGFpbmVyLmxhbWJkYSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAuaW1nIDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiXFxcIj5cXHJcXG5cIjtcbn0sXCIzXCI6ZnVuY3Rpb24oY29udGFpbmVyLGRlcHRoMCxoZWxwZXJzLHBhcnRpYWxzLGRhdGEpIHtcbiAgICB2YXIgYWxpYXMxPWNvbnRhaW5lci5sYW1iZGEsIGFsaWFzMj1jb250YWluZXIuZXNjYXBlRXhwcmVzc2lvbjtcblxuICByZXR1cm4gXCIgICAgICAgIDxhIGhyZWY9XFxcIlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC51cmwgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiPlwiXG4gICAgKyBhbGlhczIoYWxpYXMxKChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC51cmxUZXh0IDogZGVwdGgwKSwgZGVwdGgwKSlcbiAgICArIFwiPC9hPlxcclxcblwiO1xufSxcIjVcIjpmdW5jdGlvbihjb250YWluZXIsZGVwdGgwLGhlbHBlcnMscGFydGlhbHMsZGF0YSkge1xuICAgIHJldHVybiBcIiAgICAgICAgPHA+XCJcbiAgICArIGNvbnRhaW5lci5lc2NhcGVFeHByZXNzaW9uKGNvbnRhaW5lci5sYW1iZGEoKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnRleHQgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCI8L3A+XFxyXFxuXCI7XG59LFwiY29tcGlsZXJcIjpbNyxcIj49IDQuMC4wXCJdLFwibWFpblwiOmZ1bmN0aW9uKGNvbnRhaW5lcixkZXB0aDAsaGVscGVycyxwYXJ0aWFscyxkYXRhKSB7XG4gICAgdmFyIHN0YWNrMSwgYWxpYXMxPWRlcHRoMCAhPSBudWxsID8gZGVwdGgwIDoge307XG5cbiAgcmV0dXJuIFwiPGRpdiBpZD1cXFwiby1tYXBcXFwiIGNsYXNzPVxcXCJcIlxuICAgICsgY29udGFpbmVyLmVzY2FwZUV4cHJlc3Npb24oY29udGFpbmVyLmxhbWJkYSgoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAubWFwQ2xhc3MgOiBkZXB0aDApLCBkZXB0aDApKVxuICAgICsgXCJcXFwiPlxcclxcbiAgPGRpdiBpZD1cXFwiby10b29scy1sZWZ0XFxcIiBjbGFzcz1cXFwiby1jb250YWluZXItYWJzb2x1dGUgby10b29scy1sZWZ0XFxcIj5cXHJcXG4gICAgPGRpdiBpZD1cXFwiby10b29sYmFyLW5hdmlnYXRpb25cXFwiIGNsYXNzPVxcXCJvLXRvb2xiYXItdmVydGljYWwgby10b29sYmFyLW5hdmlnYXRpb25cXFwiPjwvZGl2PlxcclxcbiAgICA8ZGl2IGlkPVxcXCJvLXRvb2xiYXItbWFwdG9vbHNcXFwiIGNsYXNzPVxcXCJvLXRvb2xiYXItdmVydGljYWwgby10b29sYmFyLW1hcHRvb2xzXFxcIj48L2Rpdj5cXHJcXG4gICAgPGRpdiBpZD1cXFwiby10b29sYmFyLW1pc2NcXFwiIGNsYXNzPVxcXCJvLXRvb2xiYXItdmVydGljYWwgby10b29sYmFyLW1pc2NcXFwiPjwvZGl2PlxcclxcbiAgPC9kaXY+XFxyXFxuICA8ZGl2IGlkPVxcXCJvLXRvb2xzLWJvdHRvbVxcXCIgY2xhc3M9XFxcIm8tdG9vbHMtYm90dG9tXFxcIj5cXHJcXG4gICAgPGRpdiBpZD1cXFwiby1wcm9ncmVzc1xcXCI+PC9kaXY+XFxyXFxuICA8L2Rpdj5cXHJcXG4gIDxkaXYgaWQ9XFxcIm8tZm9vdGVyXFxcIiBjbGFzcz1cXFwiby1mb290ZXJcXFwiPlxcclxcbiAgICA8ZGl2IGlkPVxcXCJvLWNvbnNvbGVcXFwiIGNsYXNzPVxcXCJvLWZvb3Rlci1sZWZ0XFxcIj4mbmJzcDs8L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiby1mb290ZXItbWlkZGxlXFxcIj5cXHJcXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJvLWZvb3Rlci1taWRkbGUtY29udGVudFxcXCI+XFxyXFxuXCJcbiAgICArICgoc3RhY2sxID0gaGVscGVyc1tcImlmXCJdLmNhbGwoYWxpYXMxLChkZXB0aDAgIT0gbnVsbCA/IGRlcHRoMC5pbWcgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDEsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyAoKHN0YWNrMSA9IGhlbHBlcnNbXCJpZlwiXS5jYWxsKGFsaWFzMSwoZGVwdGgwICE9IG51bGwgPyBkZXB0aDAudXJsIDogZGVwdGgwKSx7XCJuYW1lXCI6XCJpZlwiLFwiaGFzaFwiOnt9LFwiZm5cIjpjb250YWluZXIucHJvZ3JhbSgzLCBkYXRhLCAwKSxcImludmVyc2VcIjpjb250YWluZXIubm9vcCxcImRhdGFcIjpkYXRhfSkpICE9IG51bGwgPyBzdGFjazEgOiBcIlwiKVxuICAgICsgKChzdGFjazEgPSBoZWxwZXJzW1wiaWZcIl0uY2FsbChhbGlhczEsKGRlcHRoMCAhPSBudWxsID8gZGVwdGgwLnRleHQgOiBkZXB0aDApLHtcIm5hbWVcIjpcImlmXCIsXCJoYXNoXCI6e30sXCJmblwiOmNvbnRhaW5lci5wcm9ncmFtKDUsIGRhdGEsIDApLFwiaW52ZXJzZVwiOmNvbnRhaW5lci5ub29wLFwiZGF0YVwiOmRhdGF9KSkgIT0gbnVsbCA/IHN0YWNrMSA6IFwiXCIpXG4gICAgKyBcIiAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiby1mb290ZXItcmlnaHRcXFwiPlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2Rpdj5cXHJcXG5cIjtcbn0sXCJ1c2VEYXRhXCI6dHJ1ZX0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBjcmVhdGVCdXR0b246IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICAgICAgICB2YXIgdG9vbHRpcCA9Jyc7XHJcbiAgICAgICAgdmFyIHRleHQgPScnO1xyXG4gICAgICAgIHZhciBjbHMgPSBvcHRpb25zLmNscyB8fCAnJztcclxuICAgICAgICB2YXIgaWNvbkNscyA9IG9wdGlvbnMuaWNvbkNscyB8fCAnJztcclxuICAgICAgICB2YXIgcGxhY2VtZW50ID0gb3B0aW9ucy50b29sdGlwUGxhY2VtZW50IHx8ICdlYXN0JztcclxuICAgICAgICBpZihvcHRpb25zLnRleHQpIHtcclxuICAgICAgICAgICAgdGV4dCA9ICc8c3BhbiBjbGFzcz1cIm8tYnV0dG9uLXRleHRcIj4nICsgb3B0aW9ucy50ZXh0ICsgJzwvc3Bhbj4nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihvcHRpb25zLnRvb2x0aXBUZXh0KSB7XHJcbiAgICAgICAgICAgIHRvb2x0aXAgPSAnPHNwYW4gZGF0YS10b29sdGlwPVwiJyArIG9wdGlvbnMudG9vbHRpcFRleHQgKyAnXCIgZGF0YS1wbGFjZW1lbnQ9XCInICsgcGxhY2VtZW50ICsgJ1wiPjwvc3Bhbj4nO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZWwgPSAnPGRpdiBpZD1cIicgKyBvcHRpb25zLmlkICsgJ1wiIGNsYXNzPVwiby1idXR0b24tY29udGFpbmVyIG8tdG9vbHRpcFwiPicgK1xyXG4gICAgICAgICAgICAgICAgICc8YnV0dG9uIGNsYXNzPVwiby1idXR0b24gJyArIGNscyArICdcIj4nICsgdGV4dCArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxzdmcgY2xhc3M9XCInICsgaWNvbkNscyArICdcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzx1c2UgeGxpbms6aHJlZj1cIicgKyBvcHRpb25zLnNyYyArICdcIj48L3VzZT4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPC9zdmc+JyArXHJcbiAgICAgICAgICAgICAgICAgJzwvYnV0dG9uPicgK1xyXG4gICAgICAgICAgICAgICAgIHRvb2x0aXAgK1xyXG4gICAgICAgICAgICAgICAgICc8L2Rpdj4nO1xyXG4gICAgICAgIHJldHVybiBlbDtcclxuICAgIH0sXHJcbiAgICBjcmVhdGVMaXN0QnV0dG9uOiBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIGVsID0gJzxsaT4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBpZD1cIicgKyBvcHRpb25zLmlkICsgJy1idXR0b25cIiBjbGFzcz1cIm8tbWVudS1idXR0b25cIicgKyAnPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm8tYnV0dG9uLWljb25cIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAnPHN2ZyBjbGFzcz1cIicgKyBvcHRpb25zLmljb25DbHMgKyAnXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8dXNlIHhsaW5rOmhyZWY9XCInICsgb3B0aW9ucy5zcmMgKyAnXCI+PC91c2U+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvc3ZnPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnRleHQgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAnPC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAnPC9saT4nO1xyXG4gICAgICAgIHJldHVybiBlbDtcclxuICAgIH0sXHJcbiAgICBjcmVhdGVFbGVtZW50OiBmdW5jdGlvbihlbCwgdmFsLCBhdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgdmFyIHByZWZpeCA9ICc8JyArIGVsO1xyXG4gICAgICAgIHZhciBzdWZmaXggPSAnPC8nICsgZWwgICsgJz4nO1xyXG4gICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lcyA9IGF0dHJpYnV0ZXMgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhdHRyaWJ1dGVzKSA6IFtdO1xyXG4gICAgICAgIHZhciBhdHRyaWJ1dGVMaXN0ID0gYXR0cmlidXRlTmFtZXMubWFwKGZ1bmN0aW9uKG5hbWUpIHtcclxuICAgICAgICAgICAgdmFyIHJlcyA9ICcnO1xyXG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gXCJjbHNcIikge1xyXG4gICAgICAgICAgICAgICAgcmVzID0gJyAnICsgJ2NsYXNzJy5jb25jYXQoJz0nLCAnXCInLCBhdHRyaWJ1dGVzW25hbWVdLCAnXCInKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlcyA9ICcgJyArIG5hbWUuY29uY2F0KCc9JywgJ1wiJywgYXR0cmlidXRlc1tuYW1lXSwnXCInKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBlbGVtZW50ID0gcHJlZml4LmNvbmNhdChhdHRyaWJ1dGVMaXN0LmpvaW4oJyAnKSwgJz4nLCB2YWwsIHN1ZmZpeCk7XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICB9LFxyXG4gICAgY3JlYXRlU3ZnOiBmdW5jdGlvbihwcm9wcykge1xyXG4gICAgICAgIHZhciB1c2UgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoJ3VzZScsICcnLCB7XHJcbiAgICAgICAgICAgICd4bGluazpocmVmJzogcHJvcHMuaHJlZlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUVsZW1lbnQoJ3N2ZycsIHVzZSwge1xyXG4gICAgICAgICAgICBjbHM6IHByb3BzLmNsc1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZWxRdWVyeSh0YXJnZXRPYmosIG9wdGlvbnMpIHtcclxuICB2YXIgdGFyZ2V0ID0gJy5vLW1hcCc7XHJcbiAgdmFyIHByZWZpeCA9IG9wdGlvbnMuYnJlYWtQb2ludHNQcmVmaXg7XHJcbiAgdmFyIGJyZWFrUG9pbnRzID0gb3B0aW9ucy5icmVha1BvaW50cztcclxuICB2YXIgYnJlYWtOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGJyZWFrUG9pbnRzKTtcclxuICB2YXIgYnJlYWtDbHMgPSBhcnJUb09iaihicmVha05hbWVzLCBwcmVmaXgpO1xyXG4gIHZhciBicmVha0Nsc05hbWVzID0gYnJlYWtOYW1lcy5tYXAoZnVuY3Rpb24oYnJlYWtTaXplKSB7XHJcbiAgICByZXR1cm4gYnJlYWtDbHNbYnJlYWtTaXplXTtcclxuICB9KTtcclxuXHJcbiAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCBvblNpemVDaGFuZ2UpO1xyXG4gIG9uU2l6ZUNoYW5nZSgpO1xyXG5cclxuICBmdW5jdGlvbiBvblNpemVDaGFuZ2UoKSB7XHJcbiAgICB2YXIgbWFwU2l6ZSA9IHRhcmdldE9iai5nZXRTaXplKCk7XHJcbiAgICB2YXIgdmFsID0gYnJlYWtOYW1lcy5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgY3Vycikge1xyXG4gICAgICB2YXIgaGVpZ2h0ID0gYnJlYWtQb2ludHNbY3Vycl1bMV07XHJcbiAgICAgIHZhciB3aWR0aCA9IGJyZWFrUG9pbnRzW2N1cnJdWzBdO1xyXG4gICAgICBpZiAobWFwU2l6ZVswXSA8PSB3aWR0aCB8fCBtYXBTaXplWzFdIDw9IGhlaWdodCkge1xyXG4gICAgICAgIGlmICghcHJldikge1xyXG4gICAgICAgICAgcmV0dXJuIGN1cnI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gcHJldjtcclxuICAgICAgfVxyXG4gICAgfSwgdW5kZWZpbmVkKTtcclxuICAgICQodGFyZ2V0KS5yZW1vdmVDbGFzcyhicmVha0Nsc05hbWVzLmpvaW4oJyAnKSk7XHJcbiAgICBpZiAodmFsKSB7XHJcbiAgICAgICQodGFyZ2V0KS5hZGRDbGFzcyhicmVha0Nsc1t2YWxdKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGFyclRvT2JqKGFyciwgc3RhcnQpIHtcclxuICAgIHZhciBvYmogPSB7fTtcclxuICAgIHZhciB2YWwgPSBzdGFydDtcclxuICAgIGFyci5zbGljZSgpLnJldmVyc2UoKS5mb3JFYWNoKGZ1bmN0aW9uKGN1cnIpIHtcclxuICAgICAgdmFsICs9ICctJyArIGN1cnI7XHJcbiAgICAgIG9ialtjdXJyXSA9IHZhbDtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIG9iajtcclxuICB9XHJcbn1cclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5cclxuLyoqXHJcbkZ1bmN0aW9uIHRvIGdlbmVyYXRlIGEgdW5pcXVlIGlkLlxyXG5Gcm9tIEJyaWd1eTM3IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTA1MDM0L2NyZWF0ZS1ndWlkLXV1aWQtaW4tamF2YXNjcmlwdFxyXG4qL1xyXG52YXIgZ2VuZXJhdGVVVUlEID0gZnVuY3Rpb24gZ2VuZXJhdGVVVUlEKCkge1xyXG4gIHZhciBkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgaWYgKHdpbmRvdy5wZXJmb3JtYW5jZSAmJiB0eXBlb2Ygd2luZG93LnBlcmZvcm1hbmNlLm5vdyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICBkICs9IHBlcmZvcm1hbmNlLm5vdygpOyAvL3VzZSBoaWdoLXByZWNpc2lvbiB0aW1lciBpZiBhdmFpbGFibGVcclxuICB9XHJcbiAgdmFyIHV1aWQgPSAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uKGMpIHtcclxuICAgIHZhciByID0gKGQgKyBNYXRoLnJhbmRvbSgpICogMTYpICUgMTYgfCAwO1xyXG4gICAgZCA9IE1hdGguZmxvb3IoZCAvIDE2KTtcclxuICAgIHJldHVybiAoYyA9PSAneCcgPyByIDogKHIgJiAweDMgfCAweDgpKS50b1N0cmluZygxNik7XHJcbiAgfSk7XHJcbiAgcmV0dXJuIHV1aWQ7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZ2VuZXJhdGVVVUlEO1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0aW1hZ2VvcmllbnRhdGlvbihmaWxlLCBjYWxsYmFjaykge1xyXG4gIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhlLnRhcmdldC5yZXN1bHQpO1xyXG4gICAgdmFyIGxlbmd0aDtcclxuICAgIHZhciBvZmZzZXQ7XHJcbiAgICB2YXIgbWFya2VyO1xyXG4gICAgdmFyIGxpdHRsZTtcclxuICAgIHZhciB0YWdzO1xyXG5cclxuICAgIGlmICh2aWV3LmdldFVpbnQxNigwLCBmYWxzZSkgIT0gMHhGRkQ4KSB7XHJcbiAgICAgIHJldHVybiBjYWxsYmFjaygtMik7XHJcbiAgICB9XHJcblxyXG4gICAgbGVuZ3RoID0gdmlldy5ieXRlTGVuZ3RoO1xyXG4gICAgb2Zmc2V0ID0gMjtcclxuICAgIHdoaWxlIChvZmZzZXQgPCBsZW5ndGgpIHtcclxuICAgICAgbWFya2VyID0gdmlldy5nZXRVaW50MTYob2Zmc2V0LCBmYWxzZSk7XHJcbiAgICAgIG9mZnNldCArPSAyO1xyXG4gICAgICBpZiAobWFya2VyID09IDB4RkZFMSkge1xyXG4gICAgICAgIGlmICh2aWV3LmdldFVpbnQzMihvZmZzZXQgKz0gMiwgZmFsc2UpICE9IDB4NDU3ODY5NjYpIHtcclxuICAgICAgICAgIHJldHVybiBjYWxsYmFjaygtMSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsaXR0bGUgPSB2aWV3LmdldFVpbnQxNihvZmZzZXQgKz0gNiwgZmFsc2UpID09IDB4NDk0OTtcclxuICAgICAgICBvZmZzZXQgKz0gdmlldy5nZXRVaW50MzIob2Zmc2V0ICsgNCwgbGl0dGxlKTtcclxuICAgICAgICB0YWdzID0gdmlldy5nZXRVaW50MTYob2Zmc2V0LCBsaXR0bGUpO1xyXG4gICAgICAgIG9mZnNldCArPSAyO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFnczsgaSsrKSB7XHJcbiAgICAgICAgICBpZiAodmlldy5nZXRVaW50MTYob2Zmc2V0ICsgKGkgKiAxMiksIGxpdHRsZSkgPT0gMHgwMTEyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayh2aWV3LmdldFVpbnQxNihvZmZzZXQgKyAoaSAqIDEyKSArIDgsIGxpdHRsZSkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH0gZWxzZSBpZiAoKG1hcmtlciAmIDB4RkYwMCkgIT0gMHhGRjAwKSB7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgb2Zmc2V0ICs9IHZpZXcuZ2V0VWludDE2KG9mZnNldCwgZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNhbGxiYWNrKC0xKTtcclxuICB9O1xyXG4gIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihmaWxlKTtcclxufVxyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0VXJsKCkge1xyXG4gICAgcmV0dXJuIGxvY2F0aW9uLnByb3RvY29sICsnLy8nK1xyXG4gICAgICAgICAgICBsb2NhdGlvbi5ob3N0bmFtZSArXHJcbiAgICAgICAgICAgIChsb2NhdGlvbi5wb3J0P1wiOlwiK2xvY2F0aW9uLnBvcnQ6XCJcIikgK1xyXG4gICAgICAgICAgICBsb2NhdGlvbi5wYXRobmFtZTtcclxufVxyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW1hZ2VyZXNpemVyKGltYWdlRGF0YSwgb3B0X29wdGlvbnMsIG9yaWVudGF0aW9uLCBjYWxsYmFjaykge1xyXG4gIHZhciBmaWxlVHlwZSA9IGltYWdlRGF0YS5zcGxpdCgnOycpWzBdLnNwbGl0KCcvJylbMV07XHJcbiAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucztcclxuICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuXHJcbiAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oaW1hZ2VFdmVudCkge1xyXG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgIHZhciBtYXhfc2l6ZSA9IG9wdGlvbnMubWF4U2l6ZSB8fCA2MDA7XHJcbiAgICB2YXIgd2lkdGggPSBpbWFnZS53aWR0aDtcclxuICAgIHZhciBoZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XHJcbiAgICB2YXIgdHJhbnNsYXRlV2lkdGg7XHJcbiAgICB2YXIgdHJhbnNsYXRlSGVpZ2h0O1xyXG4gICAgdmFyIHJvdGF0aW9uO1xyXG4gICAgdmFyIGRhdGFVcmw7XHJcblxyXG4gICAgaWYgKHdpZHRoID4gaGVpZ2h0KSB7XHJcbiAgICAgIGlmICh3aWR0aCA+IG1heF9zaXplKSB7XHJcbiAgICAgICAgaGVpZ2h0ICo9IG1heF9zaXplIC8gd2lkdGg7XHJcbiAgICAgICAgd2lkdGggPSBtYXhfc2l6ZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGhlaWdodCA+IG1heF9zaXplKSB7XHJcbiAgICAgICAgd2lkdGggKj0gbWF4X3NpemUgLyBoZWlnaHQ7XHJcbiAgICAgICAgaGVpZ2h0ID0gbWF4X3NpemU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcclxuICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XHJcblxyXG4gICAgaWYgKG9yaWVudGF0aW9uJTIgPT09IDApIHtcclxuICAgICAgY2FudmFzLndpZHRoID0gaGVpZ2h0O1xyXG4gICAgICBjYW52YXMuaGVpZ2h0ID0gd2lkdGg7XHJcbiAgICB9XHJcblxyXG4gICAgc3dpdGNoIChvcmllbnRhdGlvbikge1xyXG4gICAgICBjYXNlIDE6XHJcbiAgICAgICAgdHJhbnNsYXRlV2lkdGggPSAwO1xyXG4gICAgICAgIHRyYW5zbGF0ZUhlaWdodCA9IDA7XHJcbiAgICAgICAgcm90YXRpb24gPSAwO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDM6XHJcbiAgICAgICAgdHJhbnNsYXRlV2lkdGggPSBjYW52YXMud2lkdGg7XHJcbiAgICAgICAgdHJhbnNsYXRlSGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcclxuICAgICAgICByb3RhdGlvbiA9IDE4MDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSA2OlxyXG4gICAgICAgIHRyYW5zbGF0ZVdpZHRoID0gY2FudmFzLndpZHRoO1xyXG4gICAgICAgIHRyYW5zbGF0ZUhlaWdodCA9IDA7XHJcbiAgICAgICAgcm90YXRpb24gPSA5MDtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSA4OlxyXG4gICAgICAgIHRyYW5zbGF0ZVdpZHRoID0gMDtcclxuICAgICAgICB0cmFuc2xhdGVIZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xyXG4gICAgICAgIHJvdGF0aW9uID0gMjcwO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHRyYW5zbGF0ZVdpZHRoID0gMDtcclxuICAgICAgICB0cmFuc2xhdGVIZWlnaHQgPSAwO1xyXG4gICAgICAgIHJvdGF0aW9uID0gMDtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuXHJcbiAgICBjb250ZXh0LnRyYW5zbGF0ZSh0cmFuc2xhdGVXaWR0aCx0cmFuc2xhdGVIZWlnaHQpO1xyXG4gICAgY29udGV4dC5yb3RhdGUocm90YXRpb24qTWF0aC5QSS8xODApO1xyXG4gICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgZGF0YVVybCA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlLycgKyBmaWxlVHlwZSk7XHJcbiAgICBjYWxsYmFjayhkYXRhVXJsKTtcclxuICB9XHJcblxyXG4gIGltYWdlLnNyYyA9IGltYWdlRGF0YTtcclxufVxyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciAkID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzRW1iZWRkZWQodGFyZ2V0KSB7XHJcbiAgaWYgKHdpbmRvdy50b3AgIT09IHdpbmRvdy5zZWxmIHx8ICQodGFyZ2V0KS5wYXJlbnQoKS5pcygnQk9EWScpID09PSBmYWxzZSkge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzVXJsKHMpIHtcclxuICAgdmFyIHJlZ2V4cCA9IG5ldyBSZWdFeHAoJ14oPzpbYS16XSs6KT8vLycsICdpJyk7XHJcbiAgIHJldHVybiByZWdleHAudGVzdChzKTtcclxufVxyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbnVtYmVyRm9ybWF0dGVyKG51bWJlclRvRm9ybWF0KSB7XHJcbiAgdmFyIG5yID0gbnVtYmVyVG9Gb3JtYXQ7XHJcbiAgdmFyIGxlbmd0aCA9IG5yLnRvU3RyaW5nKCkubGVuZ3RoO1xyXG4gIGlmIChsZW5ndGggPiAzKSB7XHJcbiAgICB2YXIgZGVsaW1pdGVyID0gJyAnOyAvL3doaXRlIHNwYWNlIGFzIGRlbGltaXRlclxyXG5cclxuICAgIC8vUm91bmQgYnkgZmFjdG9yXHJcbiAgICBpZiAobnIgPj0gMTAwMCkge1xyXG4gICAgICB2YXIgZmFjdG9yID0gTWF0aC5wb3coMTAsIGxlbmd0aCkgLyAxMDAwMDtcclxuICAgICAgbnIgPSBNYXRoLnJvdW5kKG5yIC8gZmFjdG9yKSAqIGZhY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbnJTdHIgPSBuci50b1N0cmluZygpO1xyXG4gICAgdmFyIGEgPSBbXTtcclxuICAgIHdoaWxlIChuclN0ci5sZW5ndGggPiAzKSB7XHJcbiAgICAgIHZhciBuID0gbnJTdHIuc3Vic3RyKG5yU3RyLmxlbmd0aCAtIDMpO1xyXG4gICAgICBhLnVuc2hpZnQobik7XHJcbiAgICAgIG5yU3RyID0gbnJTdHIuc3Vic3RyKDAsIG5yU3RyLmxlbmd0aCAtIDMpO1xyXG4gICAgfVxyXG4gICAgaWYgKG5yU3RyLmxlbmd0aCA+IDApIHtcclxuICAgICAgYS51bnNoaWZ0KG5yU3RyKTtcclxuICAgIH1cclxuICAgIG5yU3RyID0gYS5qb2luKGRlbGltaXRlcik7XHJcbiAgICByZXR1cm4gbnJTdHI7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBuci50b1N0cmluZygpO1xyXG4gIH1cclxufVxyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxudmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcclxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmVuZGVyRXJyb3IodHlwZSwgZWwpIHtcclxuICBpZiAodHlwZSA9PT0gJ2Jyb3dzZXInKSB7XHJcbiAgICByZW5kZXJCcm93c2VyRXJyb3IoZWwpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVuZGVyQnJvd3NlckVycm9yKGVsKSB7XHJcbiAgICB2YXIgbWVzc2FnZSA9ICdEZXQgc2VyIHV0IHNvbSBhdHQgZHUgYW52w6RuZGVyIGVuIGbDtnLDpWxkcmFkIHdlYmJsw6RzYXJlLiBQcm92YSBhdHQgdXBwZ3JhZGVyYSBkaW4gd2ViYmzDpHNhcmUgZsO2ciBhdHQgdmlzYSBrYXJ0YW4uJ1xyXG4gICAgdmFyIGVsTWVzc2FnZSA9IHV0aWxzLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIG1lc3NhZ2UsIHtcclxuICAgICAgY2xzOiAnby1uby1tYXAtbWVzc2FnZSdcclxuICAgIH0pO1xyXG4gICAgdmFyIGNvbnRhaW5lciA9IHV0aWxzLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIGVsTWVzc2FnZSwge1xyXG4gICAgICBjbHM6ICdvLW5vLW1hcCdcclxuICAgIH0pO1xyXG4gICAgJChmdW5jdGlvbigpIHtcclxuICAgICAgJChlbCkuYXBwZW5kKGNvbnRhaW5lcik7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgUmVwbGFjZXIgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgdmFyIHN0YXJ0ID0gdW5kZWZpbmVkO1xyXG4gIHZhciBlbmQgPSB1bmRlZmluZWQ7XHJcbiAgdmFyIGhlbHBlciA9IHVuZGVmaW5lZDtcclxuICB2YXIgaGVscGVyTlMgPSB1bmRlZmluZWQ7XHJcbiAgdmFyIGhlbHBlckFyZyA9IHVuZGVmaW5lZDtcclxuXHJcbiAgZnVuY3Rpb24gcmVwbGFjZShuYW1lLCBvYmosIG9wdGlvbnMpIHtcclxuICAgICAgc3RhcnQgPSBvcHRpb25zLnN0YXJ0IHx8ICd7eyc7XHJcbiAgICAgIGVuZCA9IG9wdGlvbnMuZW5kIHx8ICd9fSc7XHJcbiAgICAgIGhlbHBlciA9IG9wdGlvbnMuaGVscGVyIHx8IHt9O1xyXG4gICAgICBoZWxwZXJOUyA9IG9wdGlvbnMuaGVscGVyTlMgfHwgJ0AnO1xyXG4gICAgICBoZWxwZXJBcmcgPSBbb3B0aW9ucy5oZWxwZXJBcmddIHx8IFtdO1xyXG5cclxuICAgICAgdmFyIHJlc3VsdCA9IHNlYXJjaEFuZFJlcGxhY2UobmFtZSwgb2JqKTtcclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNlYXJjaEFuZFJlcGxhY2UobmFtZSwgb2JqKSB7XHJcbiAgICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoc3RhcnQgKyAnKC4qPyknICsgIGVuZCwgXCJnXCIpO1xyXG4gICAgICB2YXIgbWF0Y2hlcyA9IHJlZ2V4LmV4ZWMobmFtZSk7XHJcbiAgICAgIGlmKG1hdGNoZXMpIHtcclxuICAgICAgICAgIHZhciB2YWwgPSBvYmouaGFzT3duUHJvcGVydHkobWF0Y2hlc1sxXSkgPyBvYmpbbWF0Y2hlc1sxXV0gOiAnJztcclxuICAgICAgICAgIGlmICghdmFsKSB7XHJcbiAgICAgICAgICAgIHZhciBuc0luZGV4ID0gbWF0Y2hlc1swXS5pbmRleE9mKGhlbHBlck5TKTtcclxuICAgICAgICAgICAgaWYgKG5zSW5kZXgpIHtcclxuICAgICAgICAgICAgICB2YXIgaGVscGVyUGFydHMgPSBnZXRBcmdzKG1hdGNoZXNbMV0pO1xyXG4gICAgICAgICAgICAgIHZhciBoZWxwZXJOYW1lID0gaGVscGVyUGFydHNbMV0uc3Vic3RyaW5nKG5zSW5kZXggLSAxKTtcclxuICAgICAgICAgICAgICB2YXIgYXJncyA9IGhlbHBlckFyZy5jb25jYXQoaGVscGVyUGFydHNbMF0pO1xyXG4gICAgICAgICAgICAgIHZhbCA9IGhlbHBlci5oYXNPd25Qcm9wZXJ0eShoZWxwZXJOYW1lKSA/IGhlbHBlcltoZWxwZXJOYW1lXS5hcHBseShudWxsLCBhcmdzKS50b1N0cmluZygpIDogJyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBzZWFyY2hBbmRSZXBsYWNlKG5hbWUucmVwbGFjZShtYXRjaGVzWzBdLCB2YWwpLCBvYmopO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIG5hbWU7XHJcbiAgICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldEFyZ3Moc3RyKSB7XHJcbiAgICB2YXIgYXJncyA9IHN0ci5tYXRjaCgvXFwoKC4qPylcXCkvKTtcclxuICAgIGlmIChhcmdzKSB7XHJcbiAgICAgIHJldHVybiBbYXJnc1sxXS5zcGxpdCgnLCcpLCBzdHIuc3Vic3RyaW5nKDAsIGFyZ3MuaW5kZXgpXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBbJycsc3RyXTtcclxuICAgIH1cclxuICB9XHJcblxyXG5cdHJldHVybiB7XHJcbiAgXHRcdHJlcGxhY2U6IGZ1bmN0aW9uKG5hbWUsIG9iaiwgb3B0aW9ucykge1xyXG4gICAgICAgICAgdmFyIG9wdCA9IG9wdGlvbnMgfHwge307XHJcbiAgICAgICAgICByZXR1cm4gKHJlcGxhY2UobmFtZSwgb2JqLCBvcHQpKTtcclxuICBcdFx0fVxyXG5cdH07XHJcblxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFJlcGxhY2VyKCk7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIHJvdW5kID0gZnVuY3Rpb24gcm91bmQodmFsdWUsIGRlY2ltYWxzKSB7XHJcbiAgcmV0dXJuIE51bWJlcihNYXRoLnJvdW5kKHZhbHVlICsgJ2UnICsgZGVjaW1hbHMpICsgJ2UtJyArIGRlY2ltYWxzKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByb3VuZDtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciByZW5kZXJFcnJvciA9IHJlcXVpcmUoJy4vcmVuZGVyZXJyb3InKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3VwcG9ydHModHlwZSwgZWwpIHtcclxuICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykuZ2V0Q29udGV4dDtcclxuICB2YXIgcmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTtcclxuICBpZiAoISFjYW52YXMgJiYgISFyZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZW5kZXJFcnJvcignYnJvd3NlcicsIGVsKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbn1cclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRyaW1VcmwodXJsKSB7XHJcbiAgdmFyIHRyaW1tZWQ7XHJcbiAgaWYgKHVybC5zdWJzdHJpbmcodXJsLmxhc3RJbmRleE9mKCcvJykpLmluZGV4T2YoJy5odG0nKSAhPT0gLTEpIHtcclxuICAgIHRyaW1tZWQgPSB1cmwuc3Vic3RyaW5nKDAsIHVybC5sYXN0SW5kZXhPZignLycpICsgMSk7XHJcbiAgfSBlbHNlIGlmICh1cmwuc3Vic3RyKHVybC5sZW5ndGggLSAxKSAhPT0gJy8nKSB7XHJcbiAgICB0cmltbWVkID0gdXJsICsgJy8nO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0cmltbWVkID0gdXJsO1xyXG4gIH1cclxuICByZXR1cm4gdHJpbW1lZDtcclxufVxyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciB1cmxwYXJzZXIgPSB7fTtcclxuXHJcbnVybHBhcnNlci5vYmplY3RpZnkgPSBmdW5jdGlvbihvYmpTdHJpbmcsIG9wdF9vcHRpb25zKSB7XHJcbiAgICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xyXG4gICAgdmFyIGRlbGltZXRlciA9IG9wdGlvbnMuZGVsaW1ldGVyIHx8ICcvJztcclxuICAgIHZhciB0b3Btb3N0ID0gb3B0aW9ucy50b3Btb3N0IHx8ICduYW1lJztcclxuICAgIHZhciBwYXJ0cyA9IG9ialN0cmluZy5zcGxpdChkZWxpbWV0ZXIpO1xyXG4gICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgaWYob3B0aW9ucy50b3Btb3N0KSB7XHJcbiAgICAgICAgaWYocGFydHNbMF0gID09PSAnJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVG9wbW9zdCB2YWx1ZSBpcyBtaXNzaW5nJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBvYmpbdG9wbW9zdF0gPSBwYXJ0c1swXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZihwYXJ0cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDEsIGlpID0gcGFydHMubGVuZ3RoOyBpIDwgaWk7IGkgKz0gMikge1xyXG4gICAgICAgICAgICBvYmpbcGFydHNbaV1dID0gcGFydHNbaSArIDFdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBvYmo7XHJcbn1cclxudXJscGFyc2VyLnN0cmluZ2lmeSA9IGZ1bmN0aW9uKG9iaiwgb3B0X29wdGlvbnMpIHtcclxuICAgIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XHJcbiAgICB2YXIgZGVsaW1ldGVyID0gb3B0aW9ucy5kZWxpbWV0ZXIgfHwgJy8nO1xyXG4gICAgdmFyIHRvcG1vc3QgPSBvcHRpb25zLnRvcG1vc3QgfHwgdW5kZWZpbmVkO1xyXG4gICAgdmFyIG9ialN0cmluZyA9IHRvcG1vc3QgPyBvYmpbdG9wbW9zdF0gOiAnJztcclxuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcclxuICAgICAgICBpZihrZXkgIT09IHRvcG1vc3QpXHJcbiAgICAgICAgb2JqU3RyaW5nICs9IGRlbGltZXRlciArIGtleSArIGRlbGltZXRlciArIG9ialtrZXldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG9ialN0cmluZztcclxufVxyXG51cmxwYXJzZXIuYXJyU3RyaW5naWZ5ID0gZnVuY3Rpb24oYXJyLCBvcHRfb3B0aW9ucykge1xyXG4gICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xyXG4gICB2YXIgZGVsaW1ldGVyID0gb3B0aW9ucy5kZWxpbWV0ZXIgfHwgJy8nO1xyXG4gICB2YXIgdG9wbW9zdCA9IG9wdGlvbnMudG9wbW9zdCB8fCAnJztcclxuICAgdmFyIGFyclN0cmluZyA9IHRvcG1vc3QgPyB0b3Btb3N0ICsgZGVsaW1ldGVyIDogJyc7XHJcbiAgIGlmKHR5cGVvZiBhcnJbMF1bMF0gPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIGFyclN0cmluZyArPSBhcnIuam9pbignLCcpO1xyXG4gICB9XHJcbiAgIGVsc2Uge1xyXG4gICAgICB2YXIgb3V0ZXIgPSBhcnIubWFwKGZ1bmN0aW9uKGlubmVyKSB7XHJcbiAgICAgICAgICB2YXIgcmVzID0gaW5uZXIubWFwKGZ1bmN0aW9uKGlubmVycGFydCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBpbm5lcnBhcnQuam9pbignIScpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIHJldHVybiByZXMuam9pbignLCcpO1xyXG4gICAgICB9KTtcclxuICAgICAgYXJyU3RyaW5nICs9IG91dGVyLmpvaW4ob3B0aW9ucy5kZWxpbWV0ZXIpO1xyXG4gICB9XHJcbiAgIHJldHVybiBhcnJTdHJpbmc7XHJcbn1cclxudXJscGFyc2VyLnN0ckFycmF5aWZ5ID0gZnVuY3Rpb24oc3RyLCBvcHRfb3B0aW9ucykge1xyXG4gICB2YXIgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9O1xyXG4gICB2YXIgZGVsaW1ldGVyID0gb3B0aW9ucy5kZWxpbWV0ZXIgfHwgJy8nO1xyXG4gICB2YXIgdG9wbW9zdE5hbWUgPSBvcHRfb3B0aW9ucy50b3Btb3N0TmFtZSB8fCAndG9wbW9zdCc7XHJcbiAgIHZhciBhcnJOYW1lID0gb3B0X29wdGlvbnMuYXJyTmFtZSB8fCAnYXJyJztcclxuICAgdmFyIHRvcG1vc3QgPSBzdHIuc3Vic3RyaW5nKDAsIHN0ci5pbmRleE9mKGRlbGltZXRlcikpO1xyXG4gICB2YXIgYXJyU3RyID0gc3RyLnN1YnN0cmluZyhzdHIuaW5kZXhPZihkZWxpbWV0ZXIpICsgMSk7XHJcbiAgIHZhciBhcnIgPSBhcnJTdHIuc3BsaXQoZGVsaW1ldGVyKS5tYXAoZnVuY3Rpb24oZWwpIHtcclxuICAgICAgICByZXR1cm4gZWwuc3BsaXQoJyEnKTtcclxuICAgfSk7XHJcbiAgIHZhciBvYmogPSB7fTtcclxuICAgb2JqW3RvcG1vc3ROYW1lXSA9IHRvcG1vc3Q7XHJcbiAgIG9ialthcnJOYW1lXSA9IGFycjtcclxuICAgcmV0dXJuIG9iajtcclxufVxyXG51cmxwYXJzZXIuc3RySW50aWZ5ID0gZnVuY3Rpb24oc3RyLCBvcHRfb3B0aW9ucykge1xyXG4gICAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcclxuICAgIHZhciBkZWxpbWl0ZXIgPSBvcHRpb25zLmRlbGltaXRlciB8fCAnLCc7XHJcbiAgICB2YXIgYXJyID0gc3RyLnNwbGl0KGRlbGltaXRlcik7XHJcbiAgICB2YXIgc3RyVG9JbnQgPSBhcnIubWFwKGZ1bmN0aW9uKGVsKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGVsKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHN0clRvSW50O1xyXG59XHJcbnVybHBhcnNlci5zdHJCb29sZWFuID0gZnVuY3Rpb24oc3RyKSB7XHJcbiAgICBpZihzdHIgPT09IFwiMVwiKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKHN0ciA9PT0gXCIwXCIpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlN0cmluZyBpcyBub3QgMSBvciAwXCIpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxyXG51cmxwYXJzZXIuZm9ybWF0VXJsID0gZnVuY3Rpb24ob2JqKSB7XHJcbiAgICB2YXIgdXJsID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKS5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgY3VycmVudCkge1xyXG4gICAgICAgIGN1cnJlbnQgPSBwcmV2ID8gXCImXCIgKyBjdXJyZW50ICsgXCI9XCIgKyBvYmpbY3VycmVudF0gOiBjdXJyZW50ICsgXCI9XCIgKyBvYmpbY3VycmVudF07XHJcbiAgICAgICAgcmV0dXJuIHByZXYgKyBjdXJyZW50O1xyXG4gICAgfSwgXCJcIik7XHJcbiAgICByZXR1cm4gdXJsO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHVybHBhcnNlcjtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBpc1VybCA9IHJlcXVpcmUoJy4vaXN1cmwnKTtcclxuXHJcbi8vQ2hlY2tzIGlmIHN0ciBpcyBhIHZhbGlkIHVybC4gSWYgbm90IGFwcGVuZCBzdHIgdG8gYmFzZVVybFxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHZhbGlkYXRlVXJsKHN0ciwgYmFzZVVybCkge1xyXG4gICB2YXIgdXJsID0gaXNVcmwoc3RyKSA/IHN0ciA6IGJhc2VVcmwgKyBzdHI7XHJcbiAgIHJldHVybiB1cmw7XHJcbn1cclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgb2wgICAgICAgICAgID0gcmVxdWlyZSgnb3BlbmxheWVycycpO1xyXG52YXIgJCAgICAgICAgICAgID0gcmVxdWlyZSgnanF1ZXJ5Jyk7XHJcbnZhciB0ZW1wbGF0ZSAgICAgPSByZXF1aXJlKFwiLi90ZW1wbGF0ZXMvdmlld2VyLmhhbmRsZWJhcnNcIik7XHJcbnZhciBNb2RhbCAgICAgICAgPSByZXF1aXJlKCcuL21vZGFsJyk7XHJcbnZhciB1dGlscyAgICAgICAgPSByZXF1aXJlKCcuL3V0aWxzJyk7XHJcbnZhciBpc1VybCAgICAgICAgPSByZXF1aXJlKCcuL3V0aWxzL2lzdXJsJyk7XHJcbnZhciBlbFF1ZXJ5ICAgICAgPSByZXF1aXJlKCcuL3V0aWxzL2VscXVlcnknKTtcclxudmFyIGZlYXR1cmVpbmZvICA9IHJlcXVpcmUoJy4vZmVhdHVyZWluZm8nKTtcclxudmFyIG1hcHV0aWxzICAgICA9IHJlcXVpcmUoJy4vbWFwdXRpbHMnKTtcclxudmFyIHN0eWxlICAgICAgICA9IHJlcXVpcmUoJy4vc3R5bGUnKSgpO1xyXG52YXIgbGF5ZXJDcmVhdG9yID0gcmVxdWlyZSgnLi9sYXllcmNyZWF0b3InKTtcclxuXHJcbnZhciBtYXA7XHJcbnZhciB0ZW1wbGF0ZTtcclxudmFyIHNldHRpbmdzID0ge1xyXG4gIHByb2plY3Rpb246ICcnLFxyXG4gIHByb2plY3Rpb25Db2RlOiAnJyxcclxuICBwcm9qZWN0aW9uRXh0ZW50OiAnJyxcclxuICBleHRlbnQ6IFtdLFxyXG4gIGNlbnRlcjogWzAsIDBdLFxyXG4gIHpvb206IDAsXHJcbiAgcmVzb2x1dGlvbnM6IG51bGwsXHJcbiAgc291cmNlOiB7fSxcclxuICBncm91cDogW10sXHJcbiAgbGF5ZXJzOiBbXSxcclxuICBzdHlsZXM6IHt9LFxyXG4gIGNvbnRyb2xzOiBbXSxcclxuICBmZWF0dXJlSW5mb092ZXJsYXk6IHVuZGVmaW5lZCxcclxuICBlZGl0TGF5ZXI6IG51bGxcclxufTtcclxudmFyIHVybFBhcmFtcztcclxudmFyIHBhZ2VTZXR0aW5ncztcclxudmFyIHBhZ2VUZW1wbGF0ZSA9IHt9O1xyXG5cclxuZnVuY3Rpb24gaW5pdChlbCwgbWFwT3B0aW9ucykge1xyXG4gIHJlbmRlcihlbCwgbWFwT3B0aW9ucyk7XHJcblxyXG4gIC8vIFJlYWQgYW5kIHNldCBwcm9qZWN0aW9uXHJcbiAgaWYgKG1hcE9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ3Byb2o0RGVmcycpICYmIHdpbmRvdy5wcm9qNCkge1xyXG4gICAgdmFyIHByb2ogPSBtYXBPcHRpb25zWydwcm9qNERlZnMnXTtcclxuXHJcbiAgICAvL1JlZ2lzdGVyIHByb2o0IHByb2plY3Rpb24gZGVmaW5pdGlvbnNcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvai5sZW5ndGg7IGkrKykge1xyXG4gICAgICBwcm9qNC5kZWZzKHByb2pbaV0uY29kZSwgcHJvaltpXS5wcm9qZWN0aW9uKTtcclxuICAgICAgaWYgKHByb2pbaV0uaGFzT3duUHJvcGVydHkoJ2FsaWFzJykpIHtcclxuICAgICAgICBwcm9qNC5kZWZzKHByb2pbaV0uYWxpYXMsIHByb2o0LmRlZnMocHJvaltpXS5jb2RlKSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldHRpbmdzLnBhcmFtcyA9IHVybFBhcmFtcyA9IG1hcE9wdGlvbnMucGFyYW1zIHx8IHt9O1xyXG4gIHNldHRpbmdzLm1hcCA9IG1hcE9wdGlvbnMubWFwO1xyXG4gIHNldHRpbmdzLnVybCA9IG1hcE9wdGlvbnMudXJsO1xyXG4gIHNldHRpbmdzLnRhcmdldCA9IG1hcE9wdGlvbnMudGFyZ2V0O1xyXG4gIHNldHRpbmdzLmJhc2VVcmwgPSBtYXBPcHRpb25zLmJhc2VVcmw7XHJcbiAgc2V0dGluZ3MuYnJlYWtQb2ludHMgPSBtYXBPcHRpb25zLmJyZWFrUG9pbnRzO1xyXG4gIHNldHRpbmdzLmV4dGVudCA9IG1hcE9wdGlvbnMuZXh0ZW50IHx8IHVuZGVmaW5lZDtcclxuICBzZXR0aW5ncy5jZW50ZXIgPSB1cmxQYXJhbXMuY2VudGVyIHx8IG1hcE9wdGlvbnMuY2VudGVyO1xyXG4gIHNldHRpbmdzLnpvb20gPSB1cmxQYXJhbXMuem9vbSB8fCBtYXBPcHRpb25zLnpvb207XHJcbiAgbWFwT3B0aW9ucy50aWxlR3JpZCA9IG1hcE9wdGlvbnMudGlsZUdyaWQgfHwge307XHJcblxyXG4gIC8vc2V0dGluZ3MudGlsZVNpemUgPSBtYXBPcHRpb25zLnRpbGVHcmlkLnRpbGVTaXplID8gW21hcE9wdGlvbnMudGlsZUdyaWQudGlsZVNpemUsbWFwT3B0aW9ucy50aWxlR3JpZC50aWxlU2l6ZV0gOiBbMjU2LDI1Nl07XHJcblxyXG4gIHNldHRpbmdzLmFsaWduQm90dG9tTGVmdCA9IG1hcE9wdGlvbnMudGlsZUdyaWQuYWxpZ25Cb3R0b21MZWZ0O1xyXG5cclxuICBpZiAobWFwT3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgncHJvajREZWZzJykgfHwgbWFwT3B0aW9ucy5wcm9qZWN0aW9uQ29kZT09XCJFUFNHOjM4NTdcIiB8fCBtYXBPcHRpb25zLnByb2plY3Rpb25Db2RlPT1cIkVQU0c6NDMyNlwiKSB7XHJcbiAgICAvLyBQcm9qZWN0aW9uIHRvIGJlIHVzZWQgaW4gbWFwXHJcbiAgICBzZXR0aW5ncy5wcm9qZWN0aW9uQ29kZSA9IG1hcE9wdGlvbnMucHJvamVjdGlvbkNvZGUgfHwgdW5kZWZpbmVkO1xyXG4gICAgc2V0dGluZ3MucHJvamVjdGlvbkV4dGVudCA9IG1hcE9wdGlvbnMucHJvamVjdGlvbkV4dGVudDtcclxuICAgIHNldHRpbmdzLnByb2plY3Rpb24gPSBuZXcgb2wucHJvai5Qcm9qZWN0aW9uKHtcclxuICAgICAgY29kZTogc2V0dGluZ3MucHJvamVjdGlvbkNvZGUsXHJcbiAgICAgIGV4dGVudDogc2V0dGluZ3MucHJvamVjdGlvbkV4dGVudCxcclxuICAgICAgdW5pdHM6IGdldFVuaXRzKHNldHRpbmdzLnByb2plY3Rpb25Db2RlKVxyXG4gICAgfSk7XHJcbiAgICAvL3NldHRpbmdzLnJlc29sdXRpb25zID0gbWFwT3B0aW9ucy5yZXNvbHV0aW9ucyB8fCB1bmRlZmluZWQ7XHJcbiAgICBzZXR0aW5ncy5yZXNvbHV0aW9ucyA9IGdldExldmVscyhtYXBPcHRpb25zLnJlc29sdXRpb25zLmxldmVsKSB8fCB1bmRlZmluZWQ7XHJcblxyXG4gICAgc2V0dGluZ3MudGlsZUdyaWQgPSBtYXB1dGlscy50aWxlR3JpZChzZXR0aW5ncyk7XHJcbiAgfVxyXG5cclxuICBzZXR0aW5ncy5zb3VyY2UgPSBtYXBPcHRpb25zLnNvdXJjZTtcclxuICBzZXR0aW5ncy5ncm91cHMgPSBtYXBPcHRpb25zLmdyb3VwcztcclxuICBzZXR0aW5ncy5lZGl0TGF5ZXIgPSBtYXBPcHRpb25zLmVkaXRMYXllcjtcclxuICBzZXR0aW5ncy5zdHlsZXMgPSBtYXBPcHRpb25zLnN0eWxlcztcclxuICBzZXR0aW5ncy5jbHVzdGVyT3B0aW9ucyA9IG1hcE9wdGlvbnMuY2x1c3Rlck9wdGlvbnMgfHwge307XHJcbiAgc3R5bGUuaW5pdCgpO1xyXG4gIHNldHRpbmdzLmNvbnRyb2xzID0gbWFwT3B0aW9ucy5jb250cm9scztcclxuICBzZXR0aW5ncy5jb25zb2xlSWQgPSBtYXBPcHRpb25zLmNvbnNvbGVJZCB8fCAnby1jb25zb2xlJztcclxuICBzZXR0aW5ncy5mZWF0dXJlaW5mb09wdGlvbnMgPSBtYXBPcHRpb25zLmZlYXR1cmVpbmZvT3B0aW9ucyB8fCB7fTtcclxuICBzZXR0aW5ncy5lbmFibGVSb3RhdGlvbiA9IG1hcE9wdGlvbnMuZW5hYmxlUm90YXRpb24gPT09IGZhbHNlID8gZmFsc2UgOiB0cnVlO1xyXG5cclxuICAvL0lmIHVybCBhcmd1bWVudHMsIHBhcnNlIHRoaXMgc2V0dGluZ3NcclxuICBpZiAod2luZG93LmxvY2F0aW9uLnNlYXJjaCkge1xyXG4gICAgcGFyc2VBcmcoKTtcclxuICB9XHJcblxyXG4gIGxvYWRNYXAoKTtcclxuXHJcbiAgc2V0dGluZ3MubGF5ZXJzID0gY3JlYXRlTGF5ZXJzKG1hcE9wdGlvbnMubGF5ZXJzLCB1cmxQYXJhbXMubGF5ZXJzKTtcclxuICBhZGRMYXllcnMoc2V0dGluZ3MubGF5ZXJzKTtcclxuXHJcbiAgZWxRdWVyeShtYXAsIHtcclxuICAgIGJyZWFrUG9pbnRzOiBtYXBPcHRpb25zLmJyZWFrUG9pbnRzLFxyXG4gICAgYnJlYWtQb2ludHNQcmVmaXg6IG1hcE9wdGlvbnMuYnJlYWtQb2ludHNQcmVmaXgsXHJcbiAgfSk7XHJcblxyXG4gIGlmICh1cmxQYXJhbXMucGluKSB7XHJcbiAgICBzZXR0aW5ncy5mZWF0dXJlaW5mb09wdGlvbnMuc2F2ZWRQaW4gPSB1cmxQYXJhbXMucGluO1xyXG4gIH1cclxuXHJcbiAgLy9UaGlzIG5lZWRzIGZ1cnRoZXIgZGV2ZWxvcG1lbnQgZm9yIHByb3BlciBoYW5kbGluZyBpbiBwZXJtYWxpbmtcclxuICBlbHNlIGlmICh1cmxQYXJhbXMuc2VsZWN0aW9uKSB7XHJcbiAgICBzZXR0aW5ncy5mZWF0dXJlaW5mb09wdGlvbnMuc2F2ZWRTZWxlY3Rpb24gPSBuZXcgb2wuRmVhdHVyZSh7XHJcbiAgICAgIGdlb21ldHJ5OiBuZXcgb2wuZ2VvbVt1cmxQYXJhbXMuc2VsZWN0aW9uLmdlb21ldHJ5VHlwZV0odXJsUGFyYW1zLnNlbGVjdGlvbi5jb29yZGluYXRlcylcclxuICAgIH0pO1xyXG4gIH1cclxuICBmZWF0dXJlaW5mby5pbml0KHNldHRpbmdzLmZlYXR1cmVpbmZvT3B0aW9ucyk7XHJcbiAgLyoqXHJcbiAgICogSGFuZGxlcyBhIHBvc3RyZW5kZXIgZXZlbnQgYnkgdXBkYXRpbmcgdGhlIGdsb2JhbCB2YXJpYWJsZSBzdGFibGVcclxuICAgKiB0aGF0IGNvbnRhaW5zIHRoZSBpZHMgb2YgdGhlIG1hcCBsYXllcnMuXHJcbiAgICogQHJldHVybiB7W0FycmF5XX0gRWFjaCBlbGVtZW50IGluIGxpc3QgaXMgYSBzdG9yZWQgc3RhdGljIHZhbHVlIG9mIGxheWVyIGlkLlxyXG4gICAqL1xyXG4gIG1hcC5vbmNlKCdwb3N0cmVuZGVyJywgZnVuY3Rpb24oKXtcclxuICAgIHZhciBzdGFibGUgPSBbXTtcclxuICAgIHZhciBsYXllcnMgPSBtYXAuZ2V0TGF5ZXJzKCk7XHJcbiAgICBsYXllcnMuZm9yRWFjaChmdW5jdGlvbihsKSB7XHJcbiAgICAgIGlmKGwuZ2V0KCd0eXBlJykgPT09ICdEWU5fQUdTX1RJTEUnKXtcclxuICAgICAgICBpZlxyXG4gICAgICAgICAgKFxyXG4gICAgICAgICAgbC5nZXQoJ25hbWUnKSAhPT0gJ2Nsb2FrZWQwJyAmJlxyXG4gICAgICAgICAgbC5nZXQoJ25hbWUnKSAhPT0gJ2Nsb2FrZWQxJyAmJlxyXG4gICAgICAgICAgbC5nZXQoJ25hbWUnKSAhPT0gJ2Nsb2FrZWQyJyAmJlxyXG4gICAgICAgICAgbC5nZXQoJ25hbWUnKSAhPT0gJ2Nsb2FrZWQzJyAmJlxyXG4gICAgICAgICAgbC5nZXQoJ25hbWUnKSAhPT0gJ2Nsb2FrZWQ0J1xyXG4gICAgICAgICAgKXtcclxuICAgICAgICAgIHN0YWJsZS5wdXNoKGwuZ2V0KCdpZCcpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmVxdWlyZSgnLi9pZHMnKS5zdGFibGUgPSBzdGFibGU7XHJcbiAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIFRoaXMgbW9ldGhvZCByZXR1cm5zIGEgbGlzdCBvZiByZXNvbHV0aW9ucywgYmFzZWQgb24gdGhlIGNvbmZpZ3VyYXRpb25zLlxyXG4gKiBAcGFyYW0ge1tJbnRlZ2VyXX0gbGV2ZWwgMCAtIDE5XHJcbiAqIEByZXR1cm4ge1tBcnJheV19IEEgbGlzdCBvZiByZXNvbHV0aW9ucy5cclxuICovXHJcbmZ1bmN0aW9uIGdldExldmVscyhsZXZlbCl7XHJcbiAgdmFyIHRtcCA9IFtdO1xyXG4gIHZhciByZXMgPSBbXHJcbiAgICAxMTQ2Ljg3OTk5OTk5OTk5OTksXHJcbiAgICA1NzMuNDM5OTk5OTk5OTk5OSxcclxuICAgIDI4Ni43MTk5OTk5OTk5OTk5NyxcclxuICAgIDE0My4zNTk5OTk5OTk5OTk5OSxcclxuICAgIDcxLjY3OTk5OTk5OTk5OTk5LFxyXG4gICAgMzUuODM5OTk5OTk5OTk5OTk2LFxyXG4gICAgMTcuOTE5OTk5OTk5OTk5OTk4LFxyXG4gICAgOC45NTk5OTk5OTk5OTk5OTksXHJcbiAgICA0LjQ3OTk5OTk5OTk5OTk5OTUsXHJcbiAgICAyLjIzOTk5OTk5OTk5OTk5OTgsXHJcbiAgICAxLjExOTk5OTk5OTk5OTk5OTksXHJcbiAgICAwLjU1OTk5OTk5OTk5OTk5OTksXHJcbiAgICAwLjI4LFxyXG4gICAgMC4xNCxcclxuICAgIDAuMDU2LFxyXG4gICAgMC4wMjgsXHJcbiAgICAwLjAxNCxcclxuICAgIDAuMDA3LFxyXG4gICAgMC4wMDM1LFxyXG4gICAgMC4wMDE3NSxcclxuICAgIDAuMDAwODc1XHJcbiAgXTtcclxuICBmb3IodmFyIGluZGV4IGluIHJlcyl7XHJcbiAgICBpZihpbmRleCA8PSBsZXZlbCl7XHJcbiAgICAgIHRtcC5wdXNoKHJlc1tpbmRleF0pO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgcmV0dXJuIHRtcDtcclxufVxyXG4vKipcclxuICogVGhpcyBtZXRob2QgcmV0ZXJucyBhIGdlbmVyaWMgY2FsY3VsYXRpb24gYmFzZWQgb24gYSBleHBvbmVudGlhbCBmaXRcclxuICogb2YgcHJlc2V0dGVkIHJlc29sdXRpb25zLlxyXG4gKiBAcGFyYW0ge1tJbnRlZ2VyXX0gaW50ZXJ2YWwgMCAuIDIwXHJcbiAqIEByZXR1cm4ge1tOdW1iZXJdfSBHZW5lcmljIHJlc29sdXRpb24gdmFsdWUuXHJcbiAqL1xyXG5mdW5jdGlvbiBhaW0oaW50ZXJ2YWwpe1xyXG4gIHJldHVybiAyMjkzLjc2Kk1hdGguZXhwKCgtMC42OTMxNDcpKmludGVydmFsKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGFkZExheWVycyhsYXllcnMpIHtcclxuICBsYXllcnMuZm9yRWFjaChmdW5jdGlvbihsYXllcikge1xyXG4gICAgbWFwLmFkZExheWVyKGxheWVyKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlTGF5ZXJzKGxheWVybGlzdCwgc2F2ZWRMYXllcnMpIHtcclxuICB2YXIgbGF5ZXJzID0gW107XHJcbiAgZm9yICh2YXIgaSA9IGxheWVybGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgdmFyIHNhdmVkTGF5ZXIgPSB7fTtcclxuICAgIGlmIChzYXZlZExheWVycykge1xyXG4gICAgICBzYXZlZExheWVyID0gc2F2ZWRMYXllcnNbbGF5ZXJsaXN0W2ldLm5hbWUuc3BsaXQoJzonKS5wb3AoKV0gfHwge1xyXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxyXG4gICAgICAgIGxlZ2VuZDogZmFsc2VcclxuICAgICAgfTtcclxuICAgICAgc2F2ZWRMYXllci5uYW1lID0gbGF5ZXJsaXN0W2ldLm5hbWU7XHJcbiAgICB9XHJcbiAgICB2YXIgbGF5ZXIgPSAkLmV4dGVuZChsYXllcmxpc3RbaV0sIHNhdmVkTGF5ZXIpO1xyXG4gICAgbGF5ZXJzLnB1c2gobGF5ZXJDcmVhdG9yKGxheWVyKSk7XHJcbiAgfVxyXG4gIHJldHVybiBsYXllcnM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxvYWRNYXAoKSB7XHJcbiAgbWFwID0gbmV3IG9sLk1hcCh7XHJcbiAgICB0YXJnZXQ6ICdvLW1hcCcsXHJcbiAgICBjb250cm9sczogW10sXHJcbiAgICB2aWV3OiBuZXcgb2wuVmlldyh7XHJcbiAgICAgIGV4dGVudDogc2V0dGluZ3MuZXh0ZW50IHx8IHVuZGVmaW5lZCxcclxuICAgICAgcHJvamVjdGlvbjogc2V0dGluZ3MucHJvamVjdGlvbiB8fCB1bmRlZmluZWQsXHJcbiAgICAgIGNlbnRlcjogc2V0dGluZ3MuY2VudGVyLFxyXG4gICAgICByZXNvbHV0aW9uczogc2V0dGluZ3MucmVzb2x1dGlvbnMgfHwgdW5kZWZpbmVkLFxyXG4gICAgICB6b29tOiBzZXR0aW5ncy56b29tLFxyXG4gICAgICBlbmFibGVSb3RhdGlvbjogc2V0dGluZ3MuZW5hYmxlUm90YXRpb25cclxuICAgIH0pXHJcbiAgfSk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZUFyZygpIHtcclxuICB2YXIgc3RyID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSk7XHJcbiAgdmFyIGVsZW1lbnRzID0gc3RyLnNwbGl0KFwiJlwiKTtcclxuXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgLy9jZW50ZXIgY29vcmRpbmF0ZXNcclxuICAgIGlmIChpID09IDApIHtcclxuICAgICAgdmFyIHogPSBlbGVtZW50c1tpXS5zcGxpdChcIixcIik7XHJcbiAgICAgIHNldHRpbmdzLmNlbnRlclswXSA9IHBhcnNlSW50KHpbMF0pO1xyXG4gICAgICBzZXR0aW5ncy5jZW50ZXJbMV0gPSBwYXJzZUludCh6WzFdKTtcclxuICAgIH0gZWxzZSBpZiAoaSA9PSAxKSB7XHJcbiAgICAgIHNldHRpbmdzLnpvb20gPSBwYXJzZUludChlbGVtZW50c1tpXSk7XHJcbiAgICB9IGVsc2UgaWYgKGkgPT0gMikge1xyXG4gICAgICB2YXIgbCA9IGVsZW1lbnRzW2ldLnNwbGl0KFwiO1wiKTtcclxuICAgICAgdmFyIGxheWVycyA9IHNldHRpbmdzLmxheWVycztcclxuICAgICAgdmFyIGxhLCBtYXRjaDtcclxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsYXllcnMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBtYXRjaCA9IDA7XHJcbiAgICAgICAgJC5lYWNoKGwsIGZ1bmN0aW9uKGluZGV4LCBlbCkge1xyXG4gICAgICAgICAgbGEgPSBlbC5zcGxpdChcIixcIik7XHJcbiAgICAgICAgICBpZiAobGF5ZXJzW2pdLmdldCgnZ3JvdXAnKSkge1xyXG4gICAgICAgICAgICBpZiAoKGxheWVyc1tqXS5nZXQoJ2dyb3VwJykgPT0gJ2JhY2tncm91bmQnKSAmJiAobGFbMF0gPT0gbGF5ZXJzW2pdLmdldCgnbmFtZScpKSkge1xyXG4gICAgICAgICAgICAgIGxheWVyc1tqXS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAgIG1hdGNoID0gMTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICgobGF5ZXJzW2pdLmdldCgnZ3JvdXAnKSA9PSAnYmFja2dyb3VuZCcpICYmIChtYXRjaCA9PSAwKSkge1xyXG4gICAgICAgICAgICAgIGxheWVyc1tqXS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChsYVswXSA9PSBsYXllcnNbal0uZ2V0KCduYW1lJykpIHtcclxuICAgICAgICAgICAgICBpZiAobGFbMV0gPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgbGF5ZXJzW2pdLnNldCgnbGVnZW5kJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBsYXllcnNbal0uc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxheWVyc1tqXS5zZXQoJ2xlZ2VuZCcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgbGF5ZXJzW2pdLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFNldHRpbmdzKCkge1xyXG4gIHJldHVybiBzZXR0aW5ncztcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RXh0ZW50KCkge1xyXG4gIHJldHVybiBzZXR0aW5ncy5leHRlbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEJhc2VVcmwoKSB7XHJcbiAgcmV0dXJuIHNldHRpbmdzLmJhc2VVcmw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEJyZWFrUG9pbnRzKHNpemUpIHtcclxuICByZXR1cm4gc2l6ZSAmJiBzZXR0aW5ncy5icmVha1BvaW50cy5oYXNPd25Qcm9wZXJ0eShzaXplKSA/IHNldHRpbmdzLmJyZWFrUG9pbnRzW3NpemVdIDogc2V0dGluZ3MuYnJlYWtQb2ludHM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE1hcE5hbWUoKSB7XHJcbiAgcmV0dXJuIHNldHRpbmdzLm1hcDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0VGlsZUdyaWQoKSB7XHJcbiAgcmV0dXJuIHNldHRpbmdzLnRpbGVHcmlkO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRUaWxlU2l6ZSgpIHtcclxuICByZXR1cm4gc2V0dGluZ3MudGlsZVNpemU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFVybCgpIHtcclxuICByZXR1cm4gc2V0dGluZ3MudXJsO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRTdHlsZVNldHRpbmdzKCkge1xyXG4gIHJldHVybiBzZXR0aW5ncy5zdHlsZXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFJlc29sdXRpb25zKCkge1xyXG4gIHJldHVybiBzZXR0aW5ncy5yZXNvbHV0aW9ucztcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0TWFwVXJsKCkge1xyXG4gIHZhciBsYXllck5hbWVzID0gJyc7XHJcbiAgdmFyIHVybDtcclxuXHJcbiAgLy9kZWxldGUgc2VhcmNoIGFyZ3VtZW50cyBpZiBwcmVzZW50XHJcbiAgaWYgKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpIHtcclxuICAgIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnJlcGxhY2Uod2luZG93LmxvY2F0aW9uLnNlYXJjaCwgJz8nKTtcclxuICB9IGVsc2Uge1xyXG4gICAgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWYgKyAnPyc7XHJcbiAgfVxyXG4gIHZhciBtYXBWaWV3ID0gbWFwLmdldFZpZXcoKTtcclxuICB2YXIgY2VudGVyID0gbWFwVmlldy5nZXRDZW50ZXIoKTtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IDI7IGkrKykge1xyXG4gICAgY2VudGVyW2ldID0gcGFyc2VJbnQoY2VudGVyW2ldKTsgLy9jb29yZGluYXRlcyBpbiBpbnRlZ2Vyc1xyXG4gIH1cclxuICB2YXIgem9vbSA9IG1hcFZpZXcuZ2V0Wm9vbSgpO1xyXG4gIHZhciBsYXllcnMgPSBtYXAuZ2V0TGF5ZXJzKCk7XHJcblxyXG4gIC8vYWRkIGxheWVyIGlmIHZpc2libGVcclxuICBsYXllcnMuZm9yRWFjaChmdW5jdGlvbihlbCkge1xyXG4gICAgaWYgKGVsLmdldFZpc2libGUoKSA9PSB0cnVlKSB7XHJcbiAgICAgIGxheWVyTmFtZXMgKz0gZWwuZ2V0KCduYW1lJykgKyAnOyc7XHJcbiAgICB9IGVsc2UgaWYgKGVsLmdldCgnbGVnZW5kJykgPT0gdHJ1ZSkge1xyXG4gICAgICBsYXllck5hbWVzICs9IGVsLmdldCgnbmFtZScpICsgJywxOyc7XHJcbiAgICB9XHJcbiAgfSlcclxuICByZXR1cm4gdXJsICsgY2VudGVyICsgJyYnICsgem9vbSArICcmJyArIGxheWVyTmFtZXMuc2xpY2UoMCwgbGF5ZXJOYW1lcy5sYXN0SW5kZXhPZihcIjtcIikpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRNYXAoKSB7XHJcbiAgcmV0dXJuIG1hcDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0TGF5ZXJzKCkge1xyXG4gIHJldHVybiBzZXR0aW5ncy5sYXllcnM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldExheWVyc0J5UHJvcGVydHkoa2V5LCB2YWwsIGJ5TmFtZSkge1xyXG4gIHZhciBsYXllcnMgPSBtYXAuZ2V0TGF5ZXJzKCkuZ2V0QXJyYXkoKS5maWx0ZXIoZnVuY3Rpb24obGF5ZXIpIHtcclxuICAgIGlmIChsYXllci5nZXQoa2V5KSkge1xyXG4gICAgICBpZiAobGF5ZXIuZ2V0KGtleSkgPT09IHZhbCkge1xyXG4gICAgICAgIHJldHVybiBsYXllcjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBpZiAoYnlOYW1lKSB7XHJcbiAgICByZXR1cm4gbGF5ZXJzLm1hcChmdW5jdGlvbihsYXllcikge1xyXG4gICAgICByZXR1cm4gbGF5ZXIuZ2V0KCduYW1lJyk7XHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGxheWVycztcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldExheWVyKGxheWVybmFtZSkge1xyXG4gIHZhciBsYXllciA9ICQuZ3JlcChzZXR0aW5ncy5sYXllcnMsIGZ1bmN0aW9uKG9iaikge1xyXG4gICAgcmV0dXJuIChvYmouZ2V0KCduYW1lJykgPT0gbGF5ZXJuYW1lKTtcclxuICB9KTtcclxuICByZXR1cm4gbGF5ZXJbMF07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFF1ZXJ5YWJsZUxheWVycygpIHtcclxuICB2YXIgcXVlcnlhYmxlTGF5ZXJzID0gc2V0dGluZ3MubGF5ZXJzLmZpbHRlcihmdW5jdGlvbihsYXllcikge1xyXG4gICAgaWYgKGxheWVyLmdldCgncXVlcnlhYmxlJykgJiYgbGF5ZXIuZ2V0VmlzaWJsZSgpKSB7XHJcbiAgICAgIHJldHVybiBsYXllcjtcclxuICAgIH1cclxuICB9KTtcclxuICByZXR1cm4gcXVlcnlhYmxlTGF5ZXJzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRHcm91cChncm91cCkge1xyXG4gIHZhciBncm91cCA9ICQuZ3JlcChzZXR0aW5ncy5sYXllcnMsIGZ1bmN0aW9uKG9iaikge1xyXG4gICAgcmV0dXJuIChvYmouZ2V0KCdncm91cCcpID09IGdyb3VwKTtcclxuICB9KTtcclxuICByZXR1cm4gZ3JvdXA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEdyb3VwcyhvcHQpIHtcclxuICBpZihvcHQgPT0gJ3RvcCcpIHtcclxuICAgIHJldHVybiBzZXR0aW5ncy5ncm91cHM7XHJcbiAgfSBlbHNlIGlmIChvcHQgPT0gJ3N1YicpIHtcclxuICAgIHJldHVybiBnZXRTdWJncm91cHMoKTtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIHNldHRpbmdzLmdyb3Vwcy5jb25jYXQoZ2V0U3ViZ3JvdXBzKCkpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0U3ViZ3JvdXBzKCkge1xyXG4gIHZhciBzdWJncm91cHMgPSBbXTtcclxuXHJcbiAgZnVuY3Rpb24gZmluZFN1Ymdyb3Vwcyhncm91cHMsIG4pIHtcclxuICAgIGlmIChuID49IGdyb3Vwcy5sZW5ndGgpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChncm91cHNbbl0uZ3JvdXBzKSB7XHJcbiAgICAgIGdyb3Vwc1tuXS5ncm91cHMuZm9yRWFjaChmdW5jdGlvbihzdWJncm91cCkge1xyXG4gICAgICAgIHN1Ymdyb3Vwcy5wdXNoKHN1Ymdyb3VwKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBmaW5kU3ViZ3JvdXBzKGdyb3Vwc1tuXS5ncm91cHMsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbmRTdWJncm91cHMoZ3JvdXBzLCBuKzEpO1xyXG4gIH1cclxuXHJcbiAgZmluZFN1Ymdyb3VwcyhzZXR0aW5ncy5ncm91cHMsIDApO1xyXG4gIHJldHVybiBzdWJncm91cHM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFByb2plY3Rpb25Db2RlKCkge1xyXG4gIHJldHVybiBzZXR0aW5ncy5wcm9qZWN0aW9uQ29kZTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0UHJvamVjdGlvbigpIHtcclxuICByZXR1cm4gc2V0dGluZ3MucHJvamVjdGlvbjtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0TWFwU291cmNlKCkge1xyXG4gIHJldHVybiBzZXR0aW5ncy5zb3VyY2U7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENvbnRyb2xOYW1lcygpIHtcclxuICB2YXIgY29udHJvbE5hbWVzID0gc2V0dGluZ3MuY29udHJvbHMubWFwKGZ1bmN0aW9uKG9iaikge1xyXG4gICAgcmV0dXJuIG9iai5uYW1lO1xyXG4gIH0pO1xyXG4gIHJldHVybiBjb250cm9sTmFtZXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFRhcmdldCgpIHtcclxuICByZXR1cm4gc2V0dGluZ3MudGFyZ2V0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDbHVzdGVyT3B0aW9ucygpe1xyXG4gIHJldHVybiBzZXR0aW5ncy5jbHVzdGVyT3B0aW9ucztcclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tTY2FsZShzY2FsZSwgbWF4U2NhbGUsIG1pblNjYWxlKSB7XHJcbiAgaWYgKG1heFNjYWxlIHx8IG1pblNjYWxlKSB7XHJcblxyXG4gICAgLy8gQWx0ZXIgMTogbWF4c2NhbGUgYW5kIG1pbnNjYWxlXHJcbiAgICBpZiAobWF4U2NhbGUgJiYgbWluU2NhbGUpIHtcclxuICAgICAgaWYgKChzY2FsZSA+IG1heFNjYWxlKSAmJiAoc2NhbGUgPCBtaW5TY2FsZSkpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFsdGVyIDI6IG9ubHkgbWF4c2NhbGVcclxuICAgIGVsc2UgaWYgKG1heFNjYWxlKSB7XHJcbiAgICAgIGlmIChzY2FsZSA+IG1heFNjYWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBBbHRlciAzOiBvbmx5IG1pbnNjYWxlXHJcbiAgICBlbHNlIGlmIChtaW5TY2FsZSkge1xyXG4gICAgICBpZiAoc2NhbGUgPCBtaW5TY2FsZSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBBbHRlciA0OiBubyBzY2FsZSBsaW1pdFxyXG4gIGVsc2Uge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDb25zb2xlSWQoKSB7XHJcbiAgcmV0dXJuIHNldHRpbmdzLmNvbnNvbGVJZDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0U2NhbGUocmVzb2x1dGlvbikge1xyXG4gIHZhciBkcGkgPSAyNS40IC8gMC4yODtcclxuICB2YXIgbXB1ID0gc2V0dGluZ3MucHJvamVjdGlvbi5nZXRNZXRlcnNQZXJVbml0KCk7XHJcbiAgdmFyIHNjYWxlID0gcmVzb2x1dGlvbiAqIG1wdSAqIDM5LjM3ICogZHBpO1xyXG4gIHNjYWxlID0gTWF0aC5yb3VuZChzY2FsZSk7XHJcbiAgcmV0dXJuIHNjYWxlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRVbml0cyhwcm9qKSB7XHJcbiAgdmFyIHVuaXRzO1xyXG4gIHN3aXRjaChwcm9qKSB7XHJcbiAgICBjYXNlICdFUFNHOjM4NTcnOlxyXG4gICAgICB1bml0cyA9ICdtJztcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdFUFNHOjQzMjYnOlxyXG4gICAgICB1bml0cyA9ICdkZWdyZWVzJztcclxuICAgICAgYnJlYWs7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICB1bml0cyA9IHByb2o0LmRlZnMocHJvaikgPyBwcm9qNC5kZWZzKHByb2opLnVuaXRzIDogdW5kZWZpbmVkO1xyXG4gIH1cclxuICByZXR1cm4gdW5pdHM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGF1dG9QYW4oKSB7XHJcbiAgLypXb3JrYXJvdW5kIHRvIHJlbW92ZSB3aGVuIGF1dG9wYW4gaW1wbGVtZW50ZWQgZm9yIG92ZXJsYXlzICovXHJcbiAgdmFyIGVsID0gJCgnLm8tcG9wdXAnKTtcclxuICB2YXIgY2VudGVyID0gbWFwLmdldFZpZXcoKS5nZXRDZW50ZXIoKTtcclxuICB2YXIgcG9wdXBPZmZzZXQgPSAkKGVsKS5vZmZzZXQoKTtcclxuICB2YXIgbWFwT2Zmc2V0ID0gJCgnIycgKyBtYXAuZ2V0VGFyZ2V0KCkpLm9mZnNldCgpO1xyXG4gIHZhciBvZmZzZXRZID0gcG9wdXBPZmZzZXQudG9wIC0gbWFwT2Zmc2V0LnRvcDtcclxuICB2YXIgbWFwU2l6ZSA9IG1hcC5nZXRTaXplKCk7XHJcbiAgdmFyIG9mZnNldFggPSAobWFwT2Zmc2V0LmxlZnQgKyBtYXBTaXplWzBdKSAtIChwb3B1cE9mZnNldC5sZWZ0ICsgJChlbCkub3V0ZXJXaWR0aCh0cnVlKSk7XHJcblxyXG4gIC8vIENoZWNrIGlmIG1hcG1lbnUgd2lkZ2V0IGlzIHVzZWQgYW5kIG9wZW5lZFxyXG4gIHZhciBtZW51U2l6ZSA9IDA7XHJcbiAgaWYgKHNldHRpbmdzLmNvbnRyb2xzLmhhc093blByb3BlcnR5KCdtYXBtZW51JykpIHtcclxuICAgIG1lbnVTaXplID0gc2V0dGluZ3MuY29udHJvbHMubWFwbWVudS5nZXRUYXJnZXQoKS5vZmZzZXQoKS5sZWZ0ID4gMCA/IG1hcFNpemVbMF0gLSBzZXR0aW5ncy5jb250cm9scy5tYXBtZW51LmdldFRhcmdldCgpLm9mZnNldCgpLmxlZnQgOiBtZW51U2l6ZSA9IDA7XHJcbiAgfVxyXG4gIGlmIChvZmZzZXRZIDwgMCB8fCBvZmZzZXRYIDwgMCArIG1lbnVTaXplIHx8IG9mZnNldFggPiAobWFwU2l6ZVswXSAtICQoZWwpLm91dGVyV2lkdGgodHJ1ZSkpKSB7XHJcbiAgICB2YXIgZHggPSAwLFxyXG4gICAgICBkeSA9IDA7XHJcbiAgICBpZiAob2Zmc2V0WCA8IDAgKyBtZW51U2l6ZSkge1xyXG4gICAgICBkeCA9ICgtb2Zmc2V0WCArIG1lbnVTaXplKSAqIG1hcC5nZXRWaWV3KCkuZ2V0UmVzb2x1dGlvbigpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9mZnNldFggPiAobWFwU2l6ZVswXSAtICQoZWwpLm91dGVyV2lkdGgodHJ1ZSkpKSB7XHJcbiAgICAgIGR4ID0gLSgkKGVsKS5vdXRlcldpZHRoKHRydWUpIC0gKG1hcFNpemVbMF0gLSBvZmZzZXRYKSkgKiBtYXAuZ2V0VmlldygpLmdldFJlc29sdXRpb24oKTtcclxuICAgIH1cclxuICAgIGlmIChvZmZzZXRZIDwgMCkge1xyXG4gICAgICBkeSA9ICgtb2Zmc2V0WSkgKiBtYXAuZ2V0VmlldygpLmdldFJlc29sdXRpb24oKTtcclxuICAgIH1cclxuICAgIG1hcC5nZXRWaWV3KCkuYW5pbWF0ZSh7XHJcbiAgICAgIGNlbnRlcjogKFtjZW50ZXJbMF0gKyBkeCwgY2VudGVyWzFdICsgZHldKSxcclxuXHQgIGR1cmF0aW9uOjMwMFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8qRW5kIHdvcmthcm91bmQqL1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVPdmVybGF5cyhvdmVybGF5cykge1xyXG4gIGlmIChvdmVybGF5cykge1xyXG4gICAgaWYgKG92ZXJsYXlzLmNvbnN0cnVjdG9yID09PSBBcnJheSB8fCBvdmVybGF5cyBpbnN0YW5jZW9mIG9sLkNvbGxlY3Rpb24pIHtcclxuICAgICAgb3ZlcmxheXMuZm9yRWFjaChmdW5jdGlvbihvdmVybGF5KSB7XHJcbiAgICAgICAgbWFwLnJlbW92ZU92ZXJsYXkob3ZlcmxheSk7XHJcbiAgICAgIH0pXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBtYXAucmVtb3ZlT3ZlcmxheShvdmVybGF5cyk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIG1hcC5nZXRPdmVybGF5cygpLmNsZWFyKCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXIoZWwsIG1hcE9wdGlvbnMpIHtcclxuICBwYWdlU2V0dGluZ3MgPSBtYXBPcHRpb25zLnBhZ2VTZXR0aW5ncztcclxuICBwYWdlVGVtcGxhdGUubWFwQ2xhc3MgPSBcIm8tbWFwXCI7XHJcblxyXG4gIGlmIChwYWdlU2V0dGluZ3MpIHtcclxuICAgIGlmIChwYWdlU2V0dGluZ3MuZm9vdGVyKSB7XHJcbiAgICAgIGlmIChwYWdlU2V0dGluZ3MuZm9vdGVyLmhhc093blByb3BlcnR5KCdpbWcnKSkge1xyXG4gICAgICAgIHBhZ2VUZW1wbGF0ZS5pbWcgPSBwYWdlU2V0dGluZ3MuZm9vdGVyLmltZztcclxuICAgICAgfVxyXG4gICAgICBpZiAocGFnZVNldHRpbmdzLmZvb3Rlci5oYXNPd25Qcm9wZXJ0eSgndGV4dCcpKSB7XHJcbiAgICAgICAgcGFnZVRlbXBsYXRlLnRleHQgPSBwYWdlU2V0dGluZ3MuZm9vdGVyLnRleHQ7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHBhZ2VTZXR0aW5ncy5mb290ZXIuaGFzT3duUHJvcGVydHkoJ3VybCcpKSB7XHJcbiAgICAgICAgcGFnZVRlbXBsYXRlLnVybCA9IHBhZ2VTZXR0aW5ncy5mb290ZXIudXJsO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChwYWdlU2V0dGluZ3MuZm9vdGVyLmhhc093blByb3BlcnR5KCd1cmxUZXh0JykpIHtcclxuICAgICAgICBwYWdlVGVtcGxhdGUudXJsVGV4dCA9IHBhZ2VTZXR0aW5ncy5mb290ZXIudXJsVGV4dDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHBhZ2VTZXR0aW5ncy5tYXBHcmlkKSB7XHJcbiAgICAgIGlmIChwYWdlU2V0dGluZ3MubWFwR3JpZC5oYXNPd25Qcm9wZXJ0eSgndmlzaWJsZScpICYmIHBhZ2VTZXR0aW5ncy5tYXBHcmlkLnZpc2libGUgPT09IHRydWUpIHtcclxuICAgICAgICBwYWdlVGVtcGxhdGUubWFwQ2xhc3MgPSBcIm8tbWFwIG8tbWFwLWdyaWRcIjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgJChlbCkuaHRtbCh0ZW1wbGF0ZShwYWdlVGVtcGxhdGUpKTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMuaW5pdCA9IGluaXQ7XHJcbm1vZHVsZS5leHBvcnRzLmNyZWF0ZUxheWVycyA9IGNyZWF0ZUxheWVycztcclxubW9kdWxlLmV4cG9ydHMuZ2V0QmFzZVVybCA9IGdldEJhc2VVcmw7XHJcbm1vZHVsZS5leHBvcnRzLmdldEJyZWFrUG9pbnRzID0gZ2V0QnJlYWtQb2ludHM7XHJcbm1vZHVsZS5leHBvcnRzLmdldEV4dGVudCA9IGdldEV4dGVudDtcclxubW9kdWxlLmV4cG9ydHMuZ2V0U2V0dGluZ3MgPSBnZXRTZXR0aW5ncztcclxubW9kdWxlLmV4cG9ydHMuZ2V0U3R5bGVTZXR0aW5ncyA9IGdldFN0eWxlU2V0dGluZ3M7XHJcbm1vZHVsZS5leHBvcnRzLmdldE1hcFVybCA9IGdldE1hcFVybDtcclxubW9kdWxlLmV4cG9ydHMuZ2V0TWFwID0gZ2V0TWFwO1xyXG5tb2R1bGUuZXhwb3J0cy5nZXRMYXllcnMgPSBnZXRMYXllcnM7XHJcbm1vZHVsZS5leHBvcnRzLmdldExheWVyc0J5UHJvcGVydHkgPSBnZXRMYXllcnNCeVByb3BlcnR5O1xyXG5tb2R1bGUuZXhwb3J0cy5nZXRMYXllciA9IGdldExheWVyO1xyXG5tb2R1bGUuZXhwb3J0cy5nZXRDb250cm9sTmFtZXMgPSBnZXRDb250cm9sTmFtZXM7XHJcbm1vZHVsZS5leHBvcnRzLmdldFF1ZXJ5YWJsZUxheWVycyA9IGdldFF1ZXJ5YWJsZUxheWVycztcclxubW9kdWxlLmV4cG9ydHMuZ2V0R3JvdXAgPSBnZXRHcm91cDtcclxubW9kdWxlLmV4cG9ydHMuZ2V0R3JvdXBzID0gZ2V0R3JvdXBzO1xyXG5tb2R1bGUuZXhwb3J0cy5nZXRQcm9qZWN0aW9uQ29kZSA9IGdldFByb2plY3Rpb25Db2RlO1xyXG5tb2R1bGUuZXhwb3J0cy5nZXRQcm9qZWN0aW9uID0gZ2V0UHJvamVjdGlvbjtcclxubW9kdWxlLmV4cG9ydHMuZ2V0TWFwU291cmNlID0gZ2V0TWFwU291cmNlO1xyXG5tb2R1bGUuZXhwb3J0cy5nZXRSZXNvbHV0aW9ucyA9IGdldFJlc29sdXRpb25zO1xyXG5tb2R1bGUuZXhwb3J0cy5nZXRTY2FsZSA9IGdldFNjYWxlO1xyXG5tb2R1bGUuZXhwb3J0cy5nZXRUYXJnZXQgPSBnZXRUYXJnZXQ7XHJcbm1vZHVsZS5leHBvcnRzLmdldENsdXN0ZXJPcHRpb25zID0gZ2V0Q2x1c3Rlck9wdGlvbnM7XHJcbm1vZHVsZS5leHBvcnRzLmdldFRpbGVHcmlkID0gZ2V0VGlsZUdyaWQ7XHJcbm1vZHVsZS5leHBvcnRzLmdldFRpbGVTaXplID0gZ2V0VGlsZVNpemU7XHJcbm1vZHVsZS5leHBvcnRzLmF1dG9QYW4gPSBhdXRvUGFuO1xyXG5tb2R1bGUuZXhwb3J0cy5yZW1vdmVPdmVybGF5cyA9IHJlbW92ZU92ZXJsYXlzO1xyXG5tb2R1bGUuZXhwb3J0cy5jaGVja1NjYWxlPSBjaGVja1NjYWxlO1xyXG5tb2R1bGUuZXhwb3J0cy5nZXRNYXBOYW1lID0gZ2V0TWFwTmFtZTtcclxubW9kdWxlLmV4cG9ydHMuZ2V0Q29uc29sZUlkID0gZ2V0Q29uc29sZUlkO1xyXG5tb2R1bGUuZXhwb3J0cy5nZXRVcmwgPSBnZXRVcmw7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIG9sID0gcmVxdWlyZSgnb3BlbmxheWVycycpO1xyXG52YXIgJCA9IHJlcXVpcmUoJ2pxdWVyeScpO1xyXG52YXIgVmlld2VyID0gcmVxdWlyZSgnLi92aWV3ZXInKTtcclxuXHJcbnZhciBtYXA7XHJcblxyXG5mdW5jdGlvbiBJbml0KG9wdF9vcHRpb25zKSB7XHJcbiAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fTtcclxuICB2YXIgem9vbUNvbnRyb2w7XHJcbiAgdmFyIHRhcmdldCA9IG9wdGlvbnMudGFyZ2V0IHx8ICdvLXRvb2xiYXItbmF2aWdhdGlvbic7XHJcbiAgbWFwID0gVmlld2VyLmdldE1hcCgpO1xyXG5cclxuICB6b29tQ29udHJvbCA9IG5ldyBvbC5jb250cm9sLlpvb20oe1xyXG4gICAgem9vbUluVGlwTGFiZWw6ICcgJyxcclxuICAgIHpvb21PdXRUaXBMYWJlbDogJyAnLFxyXG4gICAgem9vbUluTGFiZWw6ICQucGFyc2VIVE1MKCc8c3ZnIGNsYXNzPVwiby1pY29uLWZhLXBsdXNcIj48dXNlIHhsaW5rOmhyZWY9XCIjZmEtcGx1c1wiPjwvdXNlPjwvc3ZnPicpWzBdLFxyXG4gICAgem9vbU91dExhYmVsOiAkLnBhcnNlSFRNTCgnPHN2ZyBjbGFzcz1cIm8taWNvbi1mYS1taW51c1wiPjx1c2UgeGxpbms6aHJlZj1cIiNmYS1taW51c1wiPjwvdXNlPjwvc3ZnPicpWzBdLFxyXG4gICAgdGFyZ2V0OiB0YXJnZXRcclxuICB9KTtcclxuICBtYXAuYWRkQ29udHJvbCh6b29tQ29udHJvbCk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzLmluaXQgPSBJbml0O1xyXG4iXX0=
